var Mse=Object.defineProperty;var Fse=(e,t,r)=>t in e?Mse(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var hr=(e,t,r)=>Fse(e,typeof t!="symbol"?t+"":t,r);function Lse(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var z_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function oa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function jse(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var VA={exports:{}},Cn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RM;function $se(){if(RM)return Cn;RM=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;function h(Q){return Q===null||typeof Q!="object"?null:(Q=f&&Q[f]||Q["@@iterator"],typeof Q=="function"?Q:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,g={};function y(Q,R,H){this.props=Q,this.context=R,this.refs=g,this.updater=H||m}y.prototype.isReactComponent={},y.prototype.setState=function(Q,R){if(typeof Q!="object"&&typeof Q!="function"&&Q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Q,R,"setState")},y.prototype.forceUpdate=function(Q){this.updater.enqueueForceUpdate(this,Q,"forceUpdate")};function _(){}_.prototype=y.prototype;function b(Q,R,H){this.props=Q,this.context=R,this.refs=g,this.updater=H||m}var S=b.prototype=new _;S.constructor=b,x(S,y.prototype),S.isPureReactComponent=!0;var C=Array.isArray,E=Object.prototype.hasOwnProperty,D={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function I(Q,R,H){var X,Z={},ie=null,le=null;if(R!=null)for(X in R.ref!==void 0&&(le=R.ref),R.key!==void 0&&(ie=""+R.key),R)E.call(R,X)&&!T.hasOwnProperty(X)&&(Z[X]=R[X]);var pe=arguments.length-2;if(pe===1)Z.children=H;else if(1<pe){for(var J=Array(pe),me=0;me<pe;me++)J[me]=arguments[me+2];Z.children=J}if(Q&&Q.defaultProps)for(X in pe=Q.defaultProps,pe)Z[X]===void 0&&(Z[X]=pe[X]);return{$$typeof:e,type:Q,key:ie,ref:le,props:Z,_owner:D.current}}function L(Q,R){return{$$typeof:e,type:Q.type,key:R,ref:Q.ref,props:Q.props,_owner:Q._owner}}function B(Q){return typeof Q=="object"&&Q!==null&&Q.$$typeof===e}function P(Q){var R={"=":"=0",":":"=2"};return"$"+Q.replace(/[=:]/g,function(H){return R[H]})}var O=/\/+/g;function j(Q,R){return typeof Q=="object"&&Q!==null&&Q.key!=null?P(""+Q.key):R.toString(36)}function G(Q,R,H,X,Z){var ie=typeof Q;(ie==="undefined"||ie==="boolean")&&(Q=null);var le=!1;if(Q===null)le=!0;else switch(ie){case"string":case"number":le=!0;break;case"object":switch(Q.$$typeof){case e:case t:le=!0}}if(le)return le=Q,Z=Z(le),Q=X===""?"."+j(le,0):X,C(Z)?(H="",Q!=null&&(H=Q.replace(O,"$&/")+"/"),G(Z,R,H,"",function(me){return me})):Z!=null&&(B(Z)&&(Z=L(Z,H+(!Z.key||le&&le.key===Z.key?"":(""+Z.key).replace(O,"$&/")+"/")+Q)),R.push(Z)),1;if(le=0,X=X===""?".":X+":",C(Q))for(var pe=0;pe<Q.length;pe++){ie=Q[pe];var J=X+j(ie,pe);le+=G(ie,R,H,J,Z)}else if(J=h(Q),typeof J=="function")for(Q=J.call(Q),pe=0;!(ie=Q.next()).done;)ie=ie.value,J=X+j(ie,pe++),le+=G(ie,R,H,J,Z);else if(ie==="object")throw R=String(Q),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(Q).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.");return le}function Y(Q,R,H){if(Q==null)return Q;var X=[],Z=0;return G(Q,X,"","",function(ie){return R.call(H,ie,Z++)}),X}function re(Q){if(Q._status===-1){var R=Q._result;R=R(),R.then(function(H){(Q._status===0||Q._status===-1)&&(Q._status=1,Q._result=H)},function(H){(Q._status===0||Q._status===-1)&&(Q._status=2,Q._result=H)}),Q._status===-1&&(Q._status=0,Q._result=R)}if(Q._status===1)return Q._result.default;throw Q._result}var q={current:null},K={transition:null},z={ReactCurrentDispatcher:q,ReactCurrentBatchConfig:K,ReactCurrentOwner:D};function te(){throw Error("act(...) is not supported in production builds of React.")}return Cn.Children={map:Y,forEach:function(Q,R,H){Y(Q,function(){R.apply(this,arguments)},H)},count:function(Q){var R=0;return Y(Q,function(){R++}),R},toArray:function(Q){return Y(Q,function(R){return R})||[]},only:function(Q){if(!B(Q))throw Error("React.Children.only expected to receive a single React element child.");return Q}},Cn.Component=y,Cn.Fragment=r,Cn.Profiler=a,Cn.PureComponent=b,Cn.StrictMode=n,Cn.Suspense=l,Cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,Cn.act=te,Cn.cloneElement=function(Q,R,H){if(Q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Q+".");var X=x({},Q.props),Z=Q.key,ie=Q.ref,le=Q._owner;if(R!=null){if(R.ref!==void 0&&(ie=R.ref,le=D.current),R.key!==void 0&&(Z=""+R.key),Q.type&&Q.type.defaultProps)var pe=Q.type.defaultProps;for(J in R)E.call(R,J)&&!T.hasOwnProperty(J)&&(X[J]=R[J]===void 0&&pe!==void 0?pe[J]:R[J])}var J=arguments.length-2;if(J===1)X.children=H;else if(1<J){pe=Array(J);for(var me=0;me<J;me++)pe[me]=arguments[me+2];X.children=pe}return{$$typeof:e,type:Q.type,key:Z,ref:ie,props:X,_owner:le}},Cn.createContext=function(Q){return Q={$$typeof:o,_currentValue:Q,_currentValue2:Q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Q.Provider={$$typeof:i,_context:Q},Q.Consumer=Q},Cn.createElement=I,Cn.createFactory=function(Q){var R=I.bind(null,Q);return R.type=Q,R},Cn.createRef=function(){return{current:null}},Cn.forwardRef=function(Q){return{$$typeof:s,render:Q}},Cn.isValidElement=B,Cn.lazy=function(Q){return{$$typeof:d,_payload:{_status:-1,_result:Q},_init:re}},Cn.memo=function(Q,R){return{$$typeof:u,type:Q,compare:R===void 0?null:R}},Cn.startTransition=function(Q){var R=K.transition;K.transition={};try{Q()}finally{K.transition=R}},Cn.unstable_act=te,Cn.useCallback=function(Q,R){return q.current.useCallback(Q,R)},Cn.useContext=function(Q){return q.current.useContext(Q)},Cn.useDebugValue=function(){},Cn.useDeferredValue=function(Q){return q.current.useDeferredValue(Q)},Cn.useEffect=function(Q,R){return q.current.useEffect(Q,R)},Cn.useId=function(){return q.current.useId()},Cn.useImperativeHandle=function(Q,R,H){return q.current.useImperativeHandle(Q,R,H)},Cn.useInsertionEffect=function(Q,R){return q.current.useInsertionEffect(Q,R)},Cn.useLayoutEffect=function(Q,R){return q.current.useLayoutEffect(Q,R)},Cn.useMemo=function(Q,R){return q.current.useMemo(Q,R)},Cn.useReducer=function(Q,R,H){return q.current.useReducer(Q,R,H)},Cn.useRef=function(Q){return q.current.useRef(Q)},Cn.useState=function(Q){return q.current.useState(Q)},Cn.useSyncExternalStore=function(Q,R,H){return q.current.useSyncExternalStore(Q,R,H)},Cn.useTransition=function(){return q.current.useTransition()},Cn.version="18.3.1",Cn}var MM;function c4(){return MM||(MM=1,VA.exports=$se()),VA.exports}var A=c4();const Je=oa(A),Z2=Lse({__proto__:null,default:Je},[A]);var W_={},GA={exports:{}},Al={},KA={exports:{}},YA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FM;function Bse(){return FM||(FM=1,function(e){function t(K,z){var te=K.length;K.push(z);e:for(;0<te;){var Q=te-1>>>1,R=K[Q];if(0<a(R,z))K[Q]=z,K[te]=R,te=Q;else break e}}function r(K){return K.length===0?null:K[0]}function n(K){if(K.length===0)return null;var z=K[0],te=K.pop();if(te!==z){K[0]=te;e:for(var Q=0,R=K.length,H=R>>>1;Q<H;){var X=2*(Q+1)-1,Z=K[X],ie=X+1,le=K[ie];if(0>a(Z,te))ie<R&&0>a(le,Z)?(K[Q]=le,K[ie]=te,Q=ie):(K[Q]=Z,K[X]=te,Q=X);else if(ie<R&&0>a(le,te))K[Q]=le,K[ie]=te,Q=ie;else break e}}return z}function a(K,z){var te=K.sortIndex-z.sortIndex;return te!==0?te:K.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],u=[],d=1,f=null,h=3,m=!1,x=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(K){for(var z=r(u);z!==null;){if(z.callback===null)n(u);else if(z.startTime<=K)n(u),z.sortIndex=z.expirationTime,t(l,z);else break;z=r(u)}}function C(K){if(g=!1,S(K),!x)if(r(l)!==null)x=!0,re(E);else{var z=r(u);z!==null&&q(C,z.startTime-K)}}function E(K,z){x=!1,g&&(g=!1,_(I),I=-1),m=!0;var te=h;try{for(S(z),f=r(l);f!==null&&(!(f.expirationTime>z)||K&&!P());){var Q=f.callback;if(typeof Q=="function"){f.callback=null,h=f.priorityLevel;var R=Q(f.expirationTime<=z);z=e.unstable_now(),typeof R=="function"?f.callback=R:f===r(l)&&n(l),S(z)}else n(l);f=r(l)}if(f!==null)var H=!0;else{var X=r(u);X!==null&&q(C,X.startTime-z),H=!1}return H}finally{f=null,h=te,m=!1}}var D=!1,T=null,I=-1,L=5,B=-1;function P(){return!(e.unstable_now()-B<L)}function O(){if(T!==null){var K=e.unstable_now();B=K;var z=!0;try{z=T(!0,K)}finally{z?j():(D=!1,T=null)}}else D=!1}var j;if(typeof b=="function")j=function(){b(O)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,Y=G.port2;G.port1.onmessage=O,j=function(){Y.postMessage(null)}}else j=function(){y(O,0)};function re(K){T=K,D||(D=!0,j())}function q(K,z){I=y(function(){K(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(K){K.callback=null},e.unstable_continueExecution=function(){x||m||(x=!0,re(E))},e.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<K?Math.floor(1e3/K):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(K){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var te=h;h=z;try{return K()}finally{h=te}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(K,z){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var te=h;h=K;try{return z()}finally{h=te}},e.unstable_scheduleCallback=function(K,z,te){var Q=e.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?Q+te:Q):te=Q,K){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=te+R,K={id:d++,callback:z,priorityLevel:K,startTime:te,expirationTime:R,sortIndex:-1},te>Q?(K.sortIndex=te,t(u,K),r(l)===null&&K===r(u)&&(g?(_(I),I=-1):g=!0,q(C,te-Q))):(K.sortIndex=R,t(l,K),x||m||(x=!0,re(E))),K},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(K){var z=h;return function(){var te=h;h=z;try{return K.apply(this,arguments)}finally{h=te}}}}(YA)),YA}var LM;function Use(){return LM||(LM=1,KA.exports=Bse()),KA.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jM;function qse(){if(jM)return Al;jM=1;var e=c4(),t=Use();function r(p){for(var v="https://reactjs.org/docs/error-decoder.html?invariant="+p,k=1;k<arguments.length;k++)v+="&args[]="+encodeURIComponent(arguments[k]);return"Minified React error #"+p+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,a={};function i(p,v){o(p,v),o(p+"Capture",v)}function o(p,v){for(a[p]=v,p=0;p<v.length;p++)n.add(v[p])}var s=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},f={};function h(p){return l.call(f,p)?!0:l.call(d,p)?!1:u.test(p)?f[p]=!0:(d[p]=!0,!1)}function m(p,v,k,M){if(k!==null&&k.type===0)return!1;switch(typeof v){case"function":case"symbol":return!0;case"boolean":return M?!1:k!==null?!k.acceptsBooleans:(p=p.toLowerCase().slice(0,5),p!=="data-"&&p!=="aria-");default:return!1}}function x(p,v,k,M){if(v===null||typeof v>"u"||m(p,v,k,M))return!0;if(M)return!1;if(k!==null)switch(k.type){case 3:return!v;case 4:return v===!1;case 5:return isNaN(v);case 6:return isNaN(v)||1>v}return!1}function g(p,v,k,M,W,ee,ue){this.acceptsBooleans=v===2||v===3||v===4,this.attributeName=M,this.attributeNamespace=W,this.mustUseProperty=k,this.propertyName=p,this.type=v,this.sanitizeURL=ee,this.removeEmptyString=ue}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(p){y[p]=new g(p,0,!1,p,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(p){var v=p[0];y[v]=new g(v,1,!1,p[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(p){y[p]=new g(p,2,!1,p.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(p){y[p]=new g(p,2,!1,p,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(p){y[p]=new g(p,3,!1,p.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(p){y[p]=new g(p,3,!0,p,null,!1,!1)}),["capture","download"].forEach(function(p){y[p]=new g(p,4,!1,p,null,!1,!1)}),["cols","rows","size","span"].forEach(function(p){y[p]=new g(p,6,!1,p,null,!1,!1)}),["rowSpan","start"].forEach(function(p){y[p]=new g(p,5,!1,p.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function b(p){return p[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(p){var v=p.replace(_,b);y[v]=new g(v,1,!1,p,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(p){var v=p.replace(_,b);y[v]=new g(v,1,!1,p,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(p){var v=p.replace(_,b);y[v]=new g(v,1,!1,p,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(p){y[p]=new g(p,1,!1,p.toLowerCase(),null,!1,!1)}),y.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(p){y[p]=new g(p,1,!1,p.toLowerCase(),null,!0,!0)});function S(p,v,k,M){var W=y.hasOwnProperty(v)?y[v]:null;(W!==null?W.type!==0:M||!(2<v.length)||v[0]!=="o"&&v[0]!=="O"||v[1]!=="n"&&v[1]!=="N")&&(x(v,k,W,M)&&(k=null),M||W===null?h(v)&&(k===null?p.removeAttribute(v):p.setAttribute(v,""+k)):W.mustUseProperty?p[W.propertyName]=k===null?W.type===3?!1:"":k:(v=W.attributeName,M=W.attributeNamespace,k===null?p.removeAttribute(v):(W=W.type,k=W===3||W===4&&k===!0?"":""+k,M?p.setAttributeNS(M,v,k):p.setAttribute(v,k))))}var C=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),D=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),P=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),q=Symbol.for("react.offscreen"),K=Symbol.iterator;function z(p){return p===null||typeof p!="object"?null:(p=K&&p[K]||p["@@iterator"],typeof p=="function"?p:null)}var te=Object.assign,Q;function R(p){if(Q===void 0)try{throw Error()}catch(k){var v=k.stack.trim().match(/\n( *(at )?)/);Q=v&&v[1]||""}return`
`+Q+p}var H=!1;function X(p,v){if(!p||H)return"";H=!0;var k=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(v)if(v=function(){throw Error()},Object.defineProperty(v.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(v,[])}catch(dt){var M=dt}Reflect.construct(p,[],v)}else{try{v.call()}catch(dt){M=dt}p.call(v.prototype)}else{try{throw Error()}catch(dt){M=dt}p()}}catch(dt){if(dt&&M&&typeof dt.stack=="string"){for(var W=dt.stack.split(`
`),ee=M.stack.split(`
`),ue=W.length-1,Ce=ee.length-1;1<=ue&&0<=Ce&&W[ue]!==ee[Ce];)Ce--;for(;1<=ue&&0<=Ce;ue--,Ce--)if(W[ue]!==ee[Ce]){if(ue!==1||Ce!==1)do if(ue--,Ce--,0>Ce||W[ue]!==ee[Ce]){var Be=`
`+W[ue].replace(" at new "," at ");return p.displayName&&Be.includes("<anonymous>")&&(Be=Be.replace("<anonymous>",p.displayName)),Be}while(1<=ue&&0<=Ce);break}}}finally{H=!1,Error.prepareStackTrace=k}return(p=p?p.displayName||p.name:"")?R(p):""}function Z(p){switch(p.tag){case 5:return R(p.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 2:case 15:return p=X(p.type,!1),p;case 11:return p=X(p.type.render,!1),p;case 1:return p=X(p.type,!0),p;default:return""}}function ie(p){if(p==null)return null;if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p;switch(p){case T:return"Fragment";case D:return"Portal";case L:return"Profiler";case I:return"StrictMode";case j:return"Suspense";case G:return"SuspenseList"}if(typeof p=="object")switch(p.$$typeof){case P:return(p.displayName||"Context")+".Consumer";case B:return(p._context.displayName||"Context")+".Provider";case O:var v=p.render;return p=p.displayName,p||(p=v.displayName||v.name||"",p=p!==""?"ForwardRef("+p+")":"ForwardRef"),p;case Y:return v=p.displayName||null,v!==null?v:ie(p.type)||"Memo";case re:v=p._payload,p=p._init;try{return ie(p(v))}catch{}}return null}function le(p){var v=p.type;switch(p.tag){case 24:return"Cache";case 9:return(v.displayName||"Context")+".Consumer";case 10:return(v._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return p=v.render,p=p.displayName||p.name||"",v.displayName||(p!==""?"ForwardRef("+p+")":"ForwardRef");case 7:return"Fragment";case 5:return v;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ie(v);case 8:return v===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof v=="function")return v.displayName||v.name||null;if(typeof v=="string")return v}return null}function pe(p){switch(typeof p){case"boolean":case"number":case"string":case"undefined":return p;case"object":return p;default:return""}}function J(p){var v=p.type;return(p=p.nodeName)&&p.toLowerCase()==="input"&&(v==="checkbox"||v==="radio")}function me(p){var v=J(p)?"checked":"value",k=Object.getOwnPropertyDescriptor(p.constructor.prototype,v),M=""+p[v];if(!p.hasOwnProperty(v)&&typeof k<"u"&&typeof k.get=="function"&&typeof k.set=="function"){var W=k.get,ee=k.set;return Object.defineProperty(p,v,{configurable:!0,get:function(){return W.call(this)},set:function(ue){M=""+ue,ee.call(this,ue)}}),Object.defineProperty(p,v,{enumerable:k.enumerable}),{getValue:function(){return M},setValue:function(ue){M=""+ue},stopTracking:function(){p._valueTracker=null,delete p[v]}}}}function ve(p){p._valueTracker||(p._valueTracker=me(p))}function ae(p){if(!p)return!1;var v=p._valueTracker;if(!v)return!0;var k=v.getValue(),M="";return p&&(M=J(p)?p.checked?"true":"false":p.value),p=M,p!==k?(v.setValue(p),!0):!1}function Ue(p){if(p=p||(typeof document<"u"?document:void 0),typeof p>"u")return null;try{return p.activeElement||p.body}catch{return p.body}}function He(p,v){var k=v.checked;return te({},v,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:k??p._wrapperState.initialChecked})}function Ie(p,v){var k=v.defaultValue==null?"":v.defaultValue,M=v.checked!=null?v.checked:v.defaultChecked;k=pe(v.value!=null?v.value:k),p._wrapperState={initialChecked:M,initialValue:k,controlled:v.type==="checkbox"||v.type==="radio"?v.checked!=null:v.value!=null}}function he(p,v){v=v.checked,v!=null&&S(p,"checked",v,!1)}function Ze(p,v){he(p,v);var k=pe(v.value),M=v.type;if(k!=null)M==="number"?(k===0&&p.value===""||p.value!=k)&&(p.value=""+k):p.value!==""+k&&(p.value=""+k);else if(M==="submit"||M==="reset"){p.removeAttribute("value");return}v.hasOwnProperty("value")?ht(p,v.type,k):v.hasOwnProperty("defaultValue")&&ht(p,v.type,pe(v.defaultValue)),v.checked==null&&v.defaultChecked!=null&&(p.defaultChecked=!!v.defaultChecked)}function pt(p,v,k){if(v.hasOwnProperty("value")||v.hasOwnProperty("defaultValue")){var M=v.type;if(!(M!=="submit"&&M!=="reset"||v.value!==void 0&&v.value!==null))return;v=""+p._wrapperState.initialValue,k||v===p.value||(p.value=v),p.defaultValue=v}k=p.name,k!==""&&(p.name=""),p.defaultChecked=!!p._wrapperState.initialChecked,k!==""&&(p.name=k)}function ht(p,v,k){(v!=="number"||Ue(p.ownerDocument)!==p)&&(k==null?p.defaultValue=""+p._wrapperState.initialValue:p.defaultValue!==""+k&&(p.defaultValue=""+k))}var Pt=Array.isArray;function st(p,v,k,M){if(p=p.options,v){v={};for(var W=0;W<k.length;W++)v["$"+k[W]]=!0;for(k=0;k<p.length;k++)W=v.hasOwnProperty("$"+p[k].value),p[k].selected!==W&&(p[k].selected=W),W&&M&&(p[k].defaultSelected=!0)}else{for(k=""+pe(k),v=null,W=0;W<p.length;W++){if(p[W].value===k){p[W].selected=!0,M&&(p[W].defaultSelected=!0);return}v!==null||p[W].disabled||(v=p[W])}v!==null&&(v.selected=!0)}}function xe(p,v){if(v.dangerouslySetInnerHTML!=null)throw Error(r(91));return te({},v,{value:void 0,defaultValue:void 0,children:""+p._wrapperState.initialValue})}function Ee(p,v){var k=v.value;if(k==null){if(k=v.children,v=v.defaultValue,k!=null){if(v!=null)throw Error(r(92));if(Pt(k)){if(1<k.length)throw Error(r(93));k=k[0]}v=k}v==null&&(v=""),k=v}p._wrapperState={initialValue:pe(k)}}function We(p,v){var k=pe(v.value),M=pe(v.defaultValue);k!=null&&(k=""+k,k!==p.value&&(p.value=k),v.defaultValue==null&&p.defaultValue!==k&&(p.defaultValue=k)),M!=null&&(p.defaultValue=""+M)}function ft(p){var v=p.textContent;v===p._wrapperState.initialValue&&v!==""&&v!==null&&(p.value=v)}function mt(p){switch(p){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function De(p,v){return p==null||p==="http://www.w3.org/1999/xhtml"?mt(v):p==="http://www.w3.org/2000/svg"&&v==="foreignObject"?"http://www.w3.org/1999/xhtml":p}var Ve,_t=function(p){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(v,k,M,W){MSApp.execUnsafeLocalFunction(function(){return p(v,k,M,W)})}:p}(function(p,v){if(p.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in p)p.innerHTML=v;else{for(Ve=Ve||document.createElement("div"),Ve.innerHTML="<svg>"+v.valueOf().toString()+"</svg>",v=Ve.firstChild;p.firstChild;)p.removeChild(p.firstChild);for(;v.firstChild;)p.appendChild(v.firstChild)}});function At(p,v){if(v){var k=p.firstChild;if(k&&k===p.lastChild&&k.nodeType===3){k.nodeValue=v;return}}p.textContent=v}var ct={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},br=["Webkit","ms","Moz","O"];Object.keys(ct).forEach(function(p){br.forEach(function(v){v=v+p.charAt(0).toUpperCase()+p.substring(1),ct[v]=ct[p]})});function er(p,v,k){return v==null||typeof v=="boolean"||v===""?"":k||typeof v!="number"||v===0||ct.hasOwnProperty(p)&&ct[p]?(""+v).trim():v+"px"}function en(p,v){p=p.style;for(var k in v)if(v.hasOwnProperty(k)){var M=k.indexOf("--")===0,W=er(k,v[k],M);k==="float"&&(k="cssFloat"),M?p.setProperty(k,W):p[k]=W}}var mn=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function An(p,v){if(v){if(mn[p]&&(v.children!=null||v.dangerouslySetInnerHTML!=null))throw Error(r(137,p));if(v.dangerouslySetInnerHTML!=null){if(v.children!=null)throw Error(r(60));if(typeof v.dangerouslySetInnerHTML!="object"||!("__html"in v.dangerouslySetInnerHTML))throw Error(r(61))}if(v.style!=null&&typeof v.style!="object")throw Error(r(62))}}function mi(p,v){if(p.indexOf("-")===-1)return typeof v.is=="string";switch(p){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var un=null;function yt(p){return p=p.target||p.srcElement||window,p.correspondingUseElement&&(p=p.correspondingUseElement),p.nodeType===3?p.parentNode:p}var Tt=null,Sr=null,Fr=null;function Jt(p){if(p=up(p)){if(typeof Tt!="function")throw Error(r(280));var v=p.stateNode;v&&(v=rm(v),Tt(p.stateNode,p.type,v))}}function Re(p){Sr?Fr?Fr.push(p):Fr=[p]:Sr=p}function xt(){if(Sr){var p=Sr,v=Fr;if(Fr=Sr=null,Jt(p),v)for(p=0;p<v.length;p++)Jt(v[p])}}function mr(p,v){return p(v)}function cr(){}var ln=!1;function ga(p,v,k){if(ln)return p(v,k);ln=!0;try{return mr(p,v,k)}finally{ln=!1,(Sr!==null||Fr!==null)&&(cr(),xt())}}function gr(p,v){var k=p.stateNode;if(k===null)return null;var M=rm(k);if(M===null)return null;k=M[v];e:switch(v){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(M=!M.disabled)||(p=p.type,M=!(p==="button"||p==="input"||p==="select"||p==="textarea")),p=!M;break e;default:p=!1}if(p)return null;if(k&&typeof k!="function")throw Error(r(231,v,typeof k));return k}var gi=!1;if(s)try{var kn={};Object.defineProperty(kn,"passive",{get:function(){gi=!0}}),window.addEventListener("test",kn,kn),window.removeEventListener("test",kn,kn)}catch{gi=!1}function Di(p,v,k,M,W,ee,ue,Ce,Be){var dt=Array.prototype.slice.call(arguments,3);try{v.apply(k,dt)}catch(Lt){this.onError(Lt)}}var la=!1,ca=null,de=!1,Se=null,we={onError:function(p){la=!0,ca=p}};function _e(p,v,k,M,W,ee,ue,Ce,Be){la=!1,ca=null,Di.apply(we,arguments)}function Ae(p,v,k,M,W,ee,ue,Ce,Be){if(_e.apply(this,arguments),la){if(la){var dt=ca;la=!1,ca=null}else throw Error(r(198));de||(de=!0,Se=dt)}}function ke(p){var v=p,k=p;if(p.alternate)for(;v.return;)v=v.return;else{p=v;do v=p,(v.flags&4098)!==0&&(k=v.return),p=v.return;while(p)}return v.tag===3?k:null}function nt(p){if(p.tag===13){var v=p.memoizedState;if(v===null&&(p=p.alternate,p!==null&&(v=p.memoizedState)),v!==null)return v.dehydrated}return null}function vt(p){if(ke(p)!==p)throw Error(r(188))}function rt(p){var v=p.alternate;if(!v){if(v=ke(p),v===null)throw Error(r(188));return v!==p?null:p}for(var k=p,M=v;;){var W=k.return;if(W===null)break;var ee=W.alternate;if(ee===null){if(M=W.return,M!==null){k=M;continue}break}if(W.child===ee.child){for(ee=W.child;ee;){if(ee===k)return vt(W),p;if(ee===M)return vt(W),v;ee=ee.sibling}throw Error(r(188))}if(k.return!==M.return)k=W,M=ee;else{for(var ue=!1,Ce=W.child;Ce;){if(Ce===k){ue=!0,k=W,M=ee;break}if(Ce===M){ue=!0,M=W,k=ee;break}Ce=Ce.sibling}if(!ue){for(Ce=ee.child;Ce;){if(Ce===k){ue=!0,k=ee,M=W;break}if(Ce===M){ue=!0,M=ee,k=W;break}Ce=Ce.sibling}if(!ue)throw Error(r(189))}}if(k.alternate!==M)throw Error(r(190))}if(k.tag!==3)throw Error(r(188));return k.stateNode.current===k?p:v}function it(p){return p=rt(p),p!==null?ut(p):null}function ut(p){if(p.tag===5||p.tag===6)return p;for(p=p.child;p!==null;){var v=ut(p);if(v!==null)return v;p=p.sibling}return null}var Rt=t.unstable_scheduleCallback,Gt=t.unstable_cancelCallback,or=t.unstable_shouldYield,zt=t.unstable_requestPaint,$t=t.unstable_now,Xr=t.unstable_getCurrentPriorityLevel,Ln=t.unstable_ImmediatePriority,ea=t.unstable_UserBlockingPriority,$a=t.unstable_NormalPriority,$l=t.unstable_LowPriority,xc=t.unstable_IdlePriority,Us=null,vi=null;function wc(p){if(vi&&typeof vi.onCommitFiberRoot=="function")try{vi.onCommitFiberRoot(Us,p,void 0,(p.current.flags&128)===128)}catch{}}var Ba=Math.clz32?Math.clz32:Mg,si=Math.log,Rg=Math.LN2;function Mg(p){return p>>>=0,p===0?32:31-(si(p)/Rg|0)|0}var wf=64,dd=4194304;function _f(p){switch(p&-p){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return p&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return p}}function os(p,v){var k=p.pendingLanes;if(k===0)return 0;var M=0,W=p.suspendedLanes,ee=p.pingedLanes,ue=k&268435455;if(ue!==0){var Ce=ue&~W;Ce!==0?M=_f(Ce):(ee&=ue,ee!==0&&(M=_f(ee)))}else ue=k&~W,ue!==0?M=_f(ue):ee!==0&&(M=_f(ee));if(M===0)return 0;if(v!==0&&v!==M&&(v&W)===0&&(W=M&-M,ee=v&-v,W>=ee||W===16&&(ee&4194240)!==0))return v;if((M&4)!==0&&(M|=k&16),v=p.entangledLanes,v!==0)for(p=p.entanglements,v&=M;0<v;)k=31-Ba(v),W=1<<k,M|=p[k],v&=~W;return M}function Lh(p,v){switch(p){case 1:case 2:case 4:return v+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return v+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ss(p,v){for(var k=p.suspendedLanes,M=p.pingedLanes,W=p.expirationTimes,ee=p.pendingLanes;0<ee;){var ue=31-Ba(ee),Ce=1<<ue,Be=W[ue];Be===-1?((Ce&k)===0||(Ce&M)!==0)&&(W[ue]=Lh(Ce,v)):Be<=v&&(p.expiredLanes|=Ce),ee&=~Ce}}function bf(p){return p=p.pendingLanes&-1073741825,p!==0?p:p&1073741824?1073741824:0}function L0(){var p=wf;return wf<<=1,(wf&4194240)===0&&(wf=64),p}function j0(p){for(var v=[],k=0;31>k;k++)v.push(p);return v}function fd(p,v,k){p.pendingLanes|=v,v!==536870912&&(p.suspendedLanes=0,p.pingedLanes=0),p=p.eventTimes,v=31-Ba(v),p[v]=k}function by(p,v){var k=p.pendingLanes&~v;p.pendingLanes=v,p.suspendedLanes=0,p.pingedLanes=0,p.expiredLanes&=v,p.mutableReadLanes&=v,p.entangledLanes&=v,v=p.entanglements;var M=p.eventTimes;for(p=p.expirationTimes;0<k;){var W=31-Ba(k),ee=1<<W;v[W]=0,M[W]=-1,p[W]=-1,k&=~ee}}function jh(p,v){var k=p.entangledLanes|=v;for(p=p.entanglements;k;){var M=31-Ba(k),W=1<<M;W&v|p[M]&v&&(p[M]|=v),k&=~W}}var qn=0;function $h(p){return p&=-p,1<p?4<p?(p&268435455)!==0?16:536870912:4:1}var Fg,$0,Lg,_c,Sf,hd=!1,Af=[],Ua=null,bc=null,Bl=null,qr=new Map,kf=new Map,Sc=[],Ac="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function B0(p,v){switch(p){case"focusin":case"focusout":Ua=null;break;case"dragenter":case"dragleave":bc=null;break;case"mouseover":case"mouseout":Bl=null;break;case"pointerover":case"pointerout":qr.delete(v.pointerId);break;case"gotpointercapture":case"lostpointercapture":kf.delete(v.pointerId)}}function pd(p,v,k,M,W,ee){return p===null||p.nativeEvent!==ee?(p={blockedOn:v,domEventName:k,eventSystemFlags:M,nativeEvent:ee,targetContainers:[W]},v!==null&&(v=up(v),v!==null&&$0(v)),p):(p.eventSystemFlags|=M,v=p.targetContainers,W!==null&&v.indexOf(W)===-1&&v.push(W),p)}function Bh(p,v,k,M,W){switch(v){case"focusin":return Ua=pd(Ua,p,v,k,M,W),!0;case"dragenter":return bc=pd(bc,p,v,k,M,W),!0;case"mouseover":return Bl=pd(Bl,p,v,k,M,W),!0;case"pointerover":var ee=W.pointerId;return qr.set(ee,pd(qr.get(ee)||null,p,v,k,M,W)),!0;case"gotpointercapture":return ee=W.pointerId,kf.set(ee,pd(kf.get(ee)||null,p,v,k,M,W)),!0}return!1}function Uh(p){var v=kd(p.target);if(v!==null){var k=ke(v);if(k!==null){if(v=k.tag,v===13){if(v=nt(k),v!==null){p.blockedOn=v,Sf(p.priority,function(){Lg(k)});return}}else if(v===3&&k.stateNode.current.memoizedState.isDehydrated){p.blockedOn=k.tag===3?k.stateNode.containerInfo:null;return}}}p.blockedOn=null}function qh(p){if(p.blockedOn!==null)return!1;for(var v=p.targetContainers;0<v.length;){var k=Wh(p.domEventName,p.eventSystemFlags,v[0],p.nativeEvent);if(k===null){k=p.nativeEvent;var M=new k.constructor(k.type,k);un=M,k.target.dispatchEvent(M),un=null}else return v=up(k),v!==null&&$0(v),p.blockedOn=k,!1;v.shift()}return!0}function jg(p,v,k){qh(p)&&k.delete(v)}function Sy(){hd=!1,Ua!==null&&qh(Ua)&&(Ua=null),bc!==null&&qh(bc)&&(bc=null),Bl!==null&&qh(Bl)&&(Bl=null),qr.forEach(jg),kf.forEach(jg)}function iu(p,v){p.blockedOn===v&&(p.blockedOn=null,hd||(hd=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Sy)))}function Ul(p){function v(W){return iu(W,p)}if(0<Af.length){iu(Af[0],p);for(var k=1;k<Af.length;k++){var M=Af[k];M.blockedOn===p&&(M.blockedOn=null)}}for(Ua!==null&&iu(Ua,p),bc!==null&&iu(bc,p),Bl!==null&&iu(Bl,p),qr.forEach(v),kf.forEach(v),k=0;k<Sc.length;k++)M=Sc[k],M.blockedOn===p&&(M.blockedOn=null);for(;0<Sc.length&&(k=Sc[0],k.blockedOn===null);)Uh(k),k.blockedOn===null&&Sc.shift()}var qs=C.ReactCurrentBatchConfig,zh=!0;function Nf(p,v,k,M){var W=qn,ee=qs.transition;qs.transition=null;try{qn=1,md(p,v,k,M)}finally{qn=W,qs.transition=ee}}function U0(p,v,k,M){var W=qn,ee=qs.transition;qs.transition=null;try{qn=4,md(p,v,k,M)}finally{qn=W,qs.transition=ee}}function md(p,v,k,M){if(zh){var W=Wh(p,v,k,M);if(W===null)Q0(p,v,M,Ef,k),B0(p,M);else if(Bh(W,p,v,k,M))M.stopPropagation();else if(B0(p,M),v&4&&-1<Ac.indexOf(p)){for(;W!==null;){var ee=up(W);if(ee!==null&&Fg(ee),ee=Wh(p,v,k,M),ee===null&&Q0(p,v,M,Ef,k),ee===W)break;W=ee}W!==null&&M.stopPropagation()}else Q0(p,v,M,null,k)}}var Ef=null;function Wh(p,v,k,M){if(Ef=null,p=yt(M),p=kd(p),p!==null)if(v=ke(p),v===null)p=null;else if(k=v.tag,k===13){if(p=nt(v),p!==null)return p;p=null}else if(k===3){if(v.stateNode.current.memoizedState.isDehydrated)return v.tag===3?v.stateNode.containerInfo:null;p=null}else v!==p&&(p=null);return Ef=p,null}function q0(p){switch(p){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xr()){case Ln:return 1;case ea:return 4;case $a:case $l:return 16;case xc:return 536870912;default:return 16}default:return 16}}var ql=null,fl=null,hl=null;function $g(){if(hl)return hl;var p,v=fl,k=v.length,M,W="value"in ql?ql.value:ql.textContent,ee=W.length;for(p=0;p<k&&v[p]===W[p];p++);var ue=k-p;for(M=1;M<=ue&&v[k-M]===W[ee-M];M++);return hl=W.slice(p,1<M?1-M:void 0)}function zl(p){var v=p.keyCode;return"charCode"in p?(p=p.charCode,p===0&&v===13&&(p=13)):p=v,p===10&&(p=13),32<=p||p===13?p:0}function ls(){return!0}function Hh(){return!1}function Ii(p){function v(k,M,W,ee,ue){this._reactName=k,this._targetInst=W,this.type=M,this.nativeEvent=ee,this.target=ue,this.currentTarget=null;for(var Ce in p)p.hasOwnProperty(Ce)&&(k=p[Ce],this[Ce]=k?k(ee):ee[Ce]);return this.isDefaultPrevented=(ee.defaultPrevented!=null?ee.defaultPrevented:ee.returnValue===!1)?ls:Hh,this.isPropagationStopped=Hh,this}return te(v.prototype,{preventDefault:function(){this.defaultPrevented=!0;var k=this.nativeEvent;k&&(k.preventDefault?k.preventDefault():typeof k.returnValue!="unknown"&&(k.returnValue=!1),this.isDefaultPrevented=ls)},stopPropagation:function(){var k=this.nativeEvent;k&&(k.stopPropagation?k.stopPropagation():typeof k.cancelBubble!="unknown"&&(k.cancelBubble=!0),this.isPropagationStopped=ls)},persist:function(){},isPersistent:ls}),v}var gd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(p){return p.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vd=Ii(gd),Cf=te({},gd,{view:0,detail:0}),z0=Ii(Cf),Tf,Vh,kc,yd=te({},Cf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sr,button:0,buttons:0,relatedTarget:function(p){return p.relatedTarget===void 0?p.fromElement===p.srcElement?p.toElement:p.fromElement:p.relatedTarget},movementX:function(p){return"movementX"in p?p.movementX:(p!==kc&&(kc&&p.type==="mousemove"?(Tf=p.screenX-kc.screenX,Vh=p.screenY-kc.screenY):Vh=Tf=0,kc=p),Tf)},movementY:function(p){return"movementY"in p?p.movementY:Vh}}),Gh=Ii(yd),Bg=te({},yd,{dataTransfer:0}),Ay=Ii(Bg),Kh=te({},Cf,{relatedTarget:0}),ou=Ii(Kh),W0=te({},gd,{animationName:0,elapsedTime:0,pseudoElement:0}),xd=Ii(W0),H0=te({},gd,{clipboardData:function(p){return"clipboardData"in p?p.clipboardData:window.clipboardData}}),U=Ii(H0),se=te({},gd,{data:0}),Ne=Ii(se),je={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mt(p){var v=this.nativeEvent;return v.getModifierState?v.getModifierState(p):(p=bt[p])?!!v[p]:!1}function sr(){return Mt}var Ir=te({},Cf,{key:function(p){if(p.key){var v=je[p.key]||p.key;if(v!=="Unidentified")return v}return p.type==="keypress"?(p=zl(p),p===13?"Enter":String.fromCharCode(p)):p.type==="keydown"||p.type==="keyup"?Qe[p.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sr,charCode:function(p){return p.type==="keypress"?zl(p):0},keyCode:function(p){return p.type==="keydown"||p.type==="keyup"?p.keyCode:0},which:function(p){return p.type==="keypress"?zl(p):p.type==="keydown"||p.type==="keyup"?p.keyCode:0}}),dn=Ii(Ir),cn=te({},yd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),On=Ii(cn),qa=te({},Cf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sr}),ti=Ii(qa),yi=te({},gd,{propertyName:0,elapsedTime:0,pseudoElement:0}),bo=Ii(yi),Ji=te({},yd,{deltaX:function(p){return"deltaX"in p?p.deltaX:"wheelDeltaX"in p?-p.wheelDeltaX:0},deltaY:function(p){return"deltaY"in p?p.deltaY:"wheelDeltaY"in p?-p.wheelDeltaY:"wheelDelta"in p?-p.wheelDelta:0},deltaZ:0,deltaMode:0}),Wl=Ii(Ji),zs=[9,13,27,32],pl=s&&"CompositionEvent"in window,wd=null;s&&"documentMode"in document&&(wd=document.documentMode);var V0=s&&"TextEvent"in window&&!wd,Yh=s&&(!pl||wd&&8<wd&&11>=wd),Pf=" ",Xh=!1;function Zh(p,v){switch(p){case"keyup":return zs.indexOf(v.keyCode)!==-1;case"keydown":return v.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Of(p){return p=p.detail,typeof p=="object"&&"data"in p?p.data:null}var ri=!1;function Jh(p,v){switch(p){case"compositionend":return Of(v);case"keypress":return v.which!==32?null:(Xh=!0,Pf);case"textInput":return p=v.data,p===Pf&&Xh?null:p;default:return null}}function Qh(p,v){if(ri)return p==="compositionend"||!pl&&Zh(p,v)?(p=$g(),hl=fl=ql=null,ri=!1,p):null;switch(p){case"paste":return null;case"keypress":if(!(v.ctrlKey||v.altKey||v.metaKey)||v.ctrlKey&&v.altKey){if(v.char&&1<v.char.length)return v.char;if(v.which)return String.fromCharCode(v.which)}return null;case"compositionend":return Yh&&v.locale!=="ko"?null:v.data;default:return null}}var ep={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tp(p){var v=p&&p.nodeName&&p.nodeName.toLowerCase();return v==="input"?!!ep[p.type]:v==="textarea"}function qo(p,v,k,M){Re(M),v=Wg(v,"onChange"),0<v.length&&(k=new vd("onChange","change",null,k,M),p.push({event:k,listeners:v}))}var Df=null,su=null;function Ug(p){Z0(p,0)}function zo(p){var v=Uf(p);if(ae(v))return p}function rp(p,v){if(p==="change")return v}var G0=!1;if(s){var np;if(s){var Nc="oninput"in document;if(!Nc){var _d=document.createElement("div");_d.setAttribute("oninput","return;"),Nc=typeof _d.oninput=="function"}np=Nc}else np=!1;G0=np&&(!document.documentMode||9<document.documentMode)}function Wo(){Df&&(Df.detachEvent("onpropertychange",So),su=Df=null)}function So(p){if(p.propertyName==="value"&&zo(su)){var v=[];qo(v,su,p,yt(p)),ga(Ug,v)}}function bd(p,v,k){p==="focusin"?(Wo(),Df=v,su=k,Df.attachEvent("onpropertychange",So)):p==="focusout"&&Wo()}function lu(p){if(p==="selectionchange"||p==="keyup"||p==="keydown")return zo(su)}function cu(p,v){if(p==="click")return zo(v)}function ap(p,v){if(p==="input"||p==="change")return zo(v)}function uu(p,v){return p===v&&(p!==0||1/p===1/v)||p!==p&&v!==v}var zn=typeof Object.is=="function"?Object.is:uu;function du(p,v){if(zn(p,v))return!0;if(typeof p!="object"||p===null||typeof v!="object"||v===null)return!1;var k=Object.keys(p),M=Object.keys(v);if(k.length!==M.length)return!1;for(M=0;M<k.length;M++){var W=k[M];if(!l.call(v,W)||!zn(p[W],v[W]))return!1}return!0}function Ao(p){for(;p&&p.firstChild;)p=p.firstChild;return p}function Ws(p,v){var k=Ao(p);p=0;for(var M;k;){if(k.nodeType===3){if(M=p+k.textContent.length,p<=v&&M>=v)return{node:k,offset:v-p};p=M}e:{for(;k;){if(k.nextSibling){k=k.nextSibling;break e}k=k.parentNode}k=void 0}k=Ao(k)}}function If(p,v){return p&&v?p===v?!0:p&&p.nodeType===3?!1:v&&v.nodeType===3?If(p,v.parentNode):"contains"in p?p.contains(v):p.compareDocumentPosition?!!(p.compareDocumentPosition(v)&16):!1:!1}function K0(){for(var p=window,v=Ue();v instanceof p.HTMLIFrameElement;){try{var k=typeof v.contentWindow.location.href=="string"}catch{k=!1}if(k)p=v.contentWindow;else break;v=Ue(p.document)}return v}function Rf(p){var v=p&&p.nodeName&&p.nodeName.toLowerCase();return v&&(v==="input"&&(p.type==="text"||p.type==="search"||p.type==="tel"||p.type==="url"||p.type==="password")||v==="textarea"||p.contentEditable==="true")}function Mf(p){var v=K0(),k=p.focusedElem,M=p.selectionRange;if(v!==k&&k&&k.ownerDocument&&If(k.ownerDocument.documentElement,k)){if(M!==null&&Rf(k)){if(v=M.start,p=M.end,p===void 0&&(p=v),"selectionStart"in k)k.selectionStart=v,k.selectionEnd=Math.min(p,k.value.length);else if(p=(v=k.ownerDocument||document)&&v.defaultView||window,p.getSelection){p=p.getSelection();var W=k.textContent.length,ee=Math.min(M.start,W);M=M.end===void 0?ee:Math.min(M.end,W),!p.extend&&ee>M&&(W=M,M=ee,ee=W),W=Ws(k,ee);var ue=Ws(k,M);W&&ue&&(p.rangeCount!==1||p.anchorNode!==W.node||p.anchorOffset!==W.offset||p.focusNode!==ue.node||p.focusOffset!==ue.offset)&&(v=v.createRange(),v.setStart(W.node,W.offset),p.removeAllRanges(),ee>M?(p.addRange(v),p.extend(ue.node,ue.offset)):(v.setEnd(ue.node,ue.offset),p.addRange(v)))}}for(v=[],p=k;p=p.parentNode;)p.nodeType===1&&v.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<v.length;k++)p=v[k],p.element.scrollLeft=p.left,p.element.scrollTop=p.top}}var Ff=s&&"documentMode"in document&&11>=document.documentMode,Hs=null,fu=null,Ec=null,hu=!1;function pu(p,v,k){var M=k.window===k?k.document:k.nodeType===9?k:k.ownerDocument;hu||Hs==null||Hs!==Ue(M)||(M=Hs,"selectionStart"in M&&Rf(M)?M={start:M.selectionStart,end:M.selectionEnd}:(M=(M.ownerDocument&&M.ownerDocument.defaultView||window).getSelection(),M={anchorNode:M.anchorNode,anchorOffset:M.anchorOffset,focusNode:M.focusNode,focusOffset:M.focusOffset}),Ec&&du(Ec,M)||(Ec=M,M=Wg(fu,"onSelect"),0<M.length&&(v=new vd("onSelect","select",null,v,k),p.push({event:v,listeners:M}),v.target=Hs)))}function Sd(p,v){var k={};return k[p.toLowerCase()]=v.toLowerCase(),k["Webkit"+p]="webkit"+v,k["Moz"+p]="moz"+v,k}var co={animationend:Sd("Animation","AnimationEnd"),animationiteration:Sd("Animation","AnimationIteration"),animationstart:Sd("Animation","AnimationStart"),transitionend:Sd("Transition","TransitionEnd")},cs={},va={};s&&(va=document.createElement("div").style,"AnimationEvent"in window||(delete co.animationend.animation,delete co.animationiteration.animation,delete co.animationstart.animation),"TransitionEvent"in window||delete co.transitionend.transition);function ta(p){if(cs[p])return cs[p];if(!co[p])return p;var v=co[p],k;for(k in v)if(v.hasOwnProperty(k)&&k in va)return cs[p]=v[k];return p}var ni=ta("animationend"),xi=ta("animationiteration"),Cc=ta("animationstart"),ip=ta("transitionend"),Lf=new Map,Y0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tc(p,v){Lf.set(p,v),i(v,[p])}for(var op=0;op<Y0.length;op++){var Ho=Y0[op],ml=Ho.toLowerCase(),qg=Ho[0].toUpperCase()+Ho.slice(1);Tc(ml,"on"+qg)}Tc(ni,"onAnimationEnd"),Tc(xi,"onAnimationIteration"),Tc(Cc,"onAnimationStart"),Tc("dblclick","onDoubleClick"),Tc("focusin","onFocus"),Tc("focusout","onBlur"),Tc(ip,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ad="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),c_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ad));function X0(p,v,k){var M=p.type||"unknown-event";p.currentTarget=k,Ae(M,v,void 0,p),p.currentTarget=null}function Z0(p,v){v=(v&4)!==0;for(var k=0;k<p.length;k++){var M=p[k],W=M.event;M=M.listeners;e:{var ee=void 0;if(v)for(var ue=M.length-1;0<=ue;ue--){var Ce=M[ue],Be=Ce.instance,dt=Ce.currentTarget;if(Ce=Ce.listener,Be!==ee&&W.isPropagationStopped())break e;X0(W,Ce,dt),ee=Be}else for(ue=0;ue<M.length;ue++){if(Ce=M[ue],Be=Ce.instance,dt=Ce.currentTarget,Ce=Ce.listener,Be!==ee&&W.isPropagationStopped())break e;X0(W,Ce,dt),ee=Be}}}if(de)throw p=Se,de=!1,Se=null,p}function ya(p,v){var k=v[ds];k===void 0&&(k=v[ds]=new Set);var M=p+"__bubble";k.has(M)||(J0(v,p,2,!1),k.add(M))}function zg(p,v,k){var M=0;v&&(M|=4),J0(k,p,M,v)}var sp="_reactListening"+Math.random().toString(36).slice(2);function jf(p){if(!p[sp]){p[sp]=!0,n.forEach(function(k){k!=="selectionchange"&&(c_.has(k)||zg(k,!1,p),zg(k,!0,p))});var v=p.nodeType===9?p:p.ownerDocument;v===null||v[sp]||(v[sp]=!0,zg("selectionchange",!1,v))}}function J0(p,v,k,M){switch(q0(v)){case 1:var W=Nf;break;case 4:W=U0;break;default:W=md}k=W.bind(null,v,k,p),W=void 0,!gi||v!=="touchstart"&&v!=="touchmove"&&v!=="wheel"||(W=!0),M?W!==void 0?p.addEventListener(v,k,{capture:!0,passive:W}):p.addEventListener(v,k,!0):W!==void 0?p.addEventListener(v,k,{passive:W}):p.addEventListener(v,k,!1)}function Q0(p,v,k,M,W){var ee=M;if((v&1)===0&&(v&2)===0&&M!==null)e:for(;;){if(M===null)return;var ue=M.tag;if(ue===3||ue===4){var Ce=M.stateNode.containerInfo;if(Ce===W||Ce.nodeType===8&&Ce.parentNode===W)break;if(ue===4)for(ue=M.return;ue!==null;){var Be=ue.tag;if((Be===3||Be===4)&&(Be=ue.stateNode.containerInfo,Be===W||Be.nodeType===8&&Be.parentNode===W))return;ue=ue.return}for(;Ce!==null;){if(ue=kd(Ce),ue===null)return;if(Be=ue.tag,Be===5||Be===6){M=ee=ue;continue e}Ce=Ce.parentNode}}M=M.return}ga(function(){var dt=ee,Lt=yt(k),Bt=[];e:{var Ft=Lf.get(p);if(Ft!==void 0){var vr=vd,Nr=p;switch(p){case"keypress":if(zl(k)===0)break e;case"keydown":case"keyup":vr=dn;break;case"focusin":Nr="focus",vr=ou;break;case"focusout":Nr="blur",vr=ou;break;case"beforeblur":case"afterblur":vr=ou;break;case"click":if(k.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":vr=Gh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":vr=Ay;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":vr=ti;break;case ni:case xi:case Cc:vr=xd;break;case ip:vr=bo;break;case"scroll":vr=z0;break;case"wheel":vr=Wl;break;case"copy":case"cut":case"paste":vr=U;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":vr=On}var Cr=(v&4)!==0,Li=!Cr&&p==="scroll",at=Cr?Ft!==null?Ft+"Capture":null:Ft;Cr=[];for(var Ke=dt,lt;Ke!==null;){lt=Ke;var Vt=lt.stateNode;if(lt.tag===5&&Vt!==null&&(lt=Vt,at!==null&&(Vt=gr(Ke,at),Vt!=null&&Cr.push(em(Ke,Vt,lt)))),Li)break;Ke=Ke.return}0<Cr.length&&(Ft=new vr(Ft,Nr,null,k,Lt),Bt.push({event:Ft,listeners:Cr}))}}if((v&7)===0){e:{if(Ft=p==="mouseover"||p==="pointerover",vr=p==="mouseout"||p==="pointerout",Ft&&k!==un&&(Nr=k.relatedTarget||k.fromElement)&&(kd(Nr)||Nr[ko]))break e;if((vr||Ft)&&(Ft=Lt.window===Lt?Lt:(Ft=Lt.ownerDocument)?Ft.defaultView||Ft.parentWindow:window,vr?(Nr=k.relatedTarget||k.toElement,vr=dt,Nr=Nr?kd(Nr):null,Nr!==null&&(Li=ke(Nr),Nr!==Li||Nr.tag!==5&&Nr.tag!==6)&&(Nr=null)):(vr=null,Nr=dt),vr!==Nr)){if(Cr=Gh,Vt="onMouseLeave",at="onMouseEnter",Ke="mouse",(p==="pointerout"||p==="pointerover")&&(Cr=On,Vt="onPointerLeave",at="onPointerEnter",Ke="pointer"),Li=vr==null?Ft:Uf(vr),lt=Nr==null?Ft:Uf(Nr),Ft=new Cr(Vt,Ke+"leave",vr,k,Lt),Ft.target=Li,Ft.relatedTarget=lt,Vt=null,kd(Lt)===dt&&(Cr=new Cr(at,Ke+"enter",Nr,k,Lt),Cr.target=lt,Cr.relatedTarget=Li,Vt=Cr),Li=Vt,vr&&Nr)t:{for(Cr=vr,at=Nr,Ke=0,lt=Cr;lt;lt=$f(lt))Ke++;for(lt=0,Vt=at;Vt;Vt=$f(Vt))lt++;for(;0<Ke-lt;)Cr=$f(Cr),Ke--;for(;0<lt-Ke;)at=$f(at),lt--;for(;Ke--;){if(Cr===at||at!==null&&Cr===at.alternate)break t;Cr=$f(Cr),at=$f(at)}Cr=null}else Cr=null;vr!==null&&u_(Bt,Ft,vr,Cr,!1),Nr!==null&&Li!==null&&u_(Bt,Li,Nr,Cr,!0)}}e:{if(Ft=dt?Uf(dt):window,vr=Ft.nodeName&&Ft.nodeName.toLowerCase(),vr==="select"||vr==="input"&&Ft.type==="file")var Tr=rp;else if(tp(Ft))if(G0)Tr=ap;else{Tr=lu;var Lr=bd}else(vr=Ft.nodeName)&&vr.toLowerCase()==="input"&&(Ft.type==="checkbox"||Ft.type==="radio")&&(Tr=cu);if(Tr&&(Tr=Tr(p,dt))){qo(Bt,Tr,k,Lt);break e}Lr&&Lr(p,Ft,dt),p==="focusout"&&(Lr=Ft._wrapperState)&&Lr.controlled&&Ft.type==="number"&&ht(Ft,"number",Ft.value)}switch(Lr=dt?Uf(dt):window,p){case"focusin":(tp(Lr)||Lr.contentEditable==="true")&&(Hs=Lr,fu=dt,Ec=null);break;case"focusout":Ec=fu=Hs=null;break;case"mousedown":hu=!0;break;case"contextmenu":case"mouseup":case"dragend":hu=!1,pu(Bt,k,Lt);break;case"selectionchange":if(Ff)break;case"keydown":case"keyup":pu(Bt,k,Lt)}var jr;if(pl)e:{switch(p){case"compositionstart":var sn="onCompositionStart";break e;case"compositionend":sn="onCompositionEnd";break e;case"compositionupdate":sn="onCompositionUpdate";break e}sn=void 0}else ri?Zh(p,k)&&(sn="onCompositionEnd"):p==="keydown"&&k.keyCode===229&&(sn="onCompositionStart");sn&&(Yh&&k.locale!=="ko"&&(ri||sn!=="onCompositionStart"?sn==="onCompositionEnd"&&ri&&(jr=$g()):(ql=Lt,fl="value"in ql?ql.value:ql.textContent,ri=!0)),Lr=Wg(dt,sn),0<Lr.length&&(sn=new Ne(sn,p,null,k,Lt),Bt.push({event:sn,listeners:Lr}),jr?sn.data=jr:(jr=Of(k),jr!==null&&(sn.data=jr)))),(jr=V0?Jh(p,k):Qh(p,k))&&(dt=Wg(dt,"onBeforeInput"),0<dt.length&&(Lt=new Ne("onBeforeInput","beforeinput",null,k,Lt),Bt.push({event:Lt,listeners:dt}),Lt.data=jr))}Z0(Bt,v)})}function em(p,v,k){return{instance:p,listener:v,currentTarget:k}}function Wg(p,v){for(var k=v+"Capture",M=[];p!==null;){var W=p,ee=W.stateNode;W.tag===5&&ee!==null&&(W=ee,ee=gr(p,k),ee!=null&&M.unshift(em(p,ee,W)),ee=gr(p,v),ee!=null&&M.push(em(p,ee,W))),p=p.return}return M}function $f(p){if(p===null)return null;do p=p.return;while(p&&p.tag!==5);return p||null}function u_(p,v,k,M,W){for(var ee=v._reactName,ue=[];k!==null&&k!==M;){var Ce=k,Be=Ce.alternate,dt=Ce.stateNode;if(Be!==null&&Be===M)break;Ce.tag===5&&dt!==null&&(Ce=dt,W?(Be=gr(k,ee),Be!=null&&ue.unshift(em(k,Be,Ce))):W||(Be=gr(k,ee),Be!=null&&ue.push(em(k,Be,Ce)))),k=k.return}ue.length!==0&&p.push({event:v,listeners:ue})}var oA=/\r\n?/g,sA=/\u0000|\uFFFD/g;function d_(p){return(typeof p=="string"?p:""+p).replace(oA,`
`).replace(sA,"")}function Hg(p,v,k){if(v=d_(v),d_(p)!==v&&k)throw Error(r(425))}function lp(){}var tm=null,Bf=null;function ky(p,v){return p==="textarea"||p==="noscript"||typeof v.children=="string"||typeof v.children=="number"||typeof v.dangerouslySetInnerHTML=="object"&&v.dangerouslySetInnerHTML!==null&&v.dangerouslySetInnerHTML.__html!=null}var Ny=typeof setTimeout=="function"?setTimeout:void 0,f_=typeof clearTimeout=="function"?clearTimeout:void 0,h_=typeof Promise=="function"?Promise:void 0,lA=typeof queueMicrotask=="function"?queueMicrotask:typeof h_<"u"?function(p){return h_.resolve(null).then(p).catch(cA)}:Ny;function cA(p){setTimeout(function(){throw p})}function Ey(p,v){var k=v,M=0;do{var W=k.nextSibling;if(p.removeChild(k),W&&W.nodeType===8)if(k=W.data,k==="/$"){if(M===0){p.removeChild(W),Ul(v);return}M--}else k!=="$"&&k!=="$?"&&k!=="$!"||M++;k=W}while(k);Ul(v)}function Vo(p){for(;p!=null;p=p.nextSibling){var v=p.nodeType;if(v===1||v===3)break;if(v===8){if(v=p.data,v==="$"||v==="$!"||v==="$?")break;if(v==="/$")return null}}return p}function gl(p){p=p.previousSibling;for(var v=0;p;){if(p.nodeType===8){var k=p.data;if(k==="$"||k==="$!"||k==="$?"){if(v===0)return p;v--}else k==="/$"&&v++}p=p.previousSibling}return null}var us=Math.random().toString(36).slice(2),Pc="__reactFiber$"+us,cp="__reactProps$"+us,ko="__reactContainer$"+us,ds="__reactEvents$"+us,uA="__reactListeners$"+us,dA="__reactHandles$"+us;function kd(p){var v=p[Pc];if(v)return v;for(var k=p.parentNode;k;){if(v=k[ko]||k[Pc]){if(k=v.alternate,v.child!==null||k!==null&&k.child!==null)for(p=gl(p);p!==null;){if(k=p[Pc])return k;p=gl(p)}return v}p=k,k=p.parentNode}return null}function up(p){return p=p[Pc]||p[ko],!p||p.tag!==5&&p.tag!==6&&p.tag!==13&&p.tag!==3?null:p}function Uf(p){if(p.tag===5||p.tag===6)return p.stateNode;throw Error(r(33))}function rm(p){return p[cp]||null}var Cy=[],mu=-1;function Hl(p){return{current:p}}function ra(p){0>mu||(p.current=Cy[mu],Cy[mu]=null,mu--)}function ua(p,v){mu++,Cy[mu]=p.current,p.current=v}var Nd={},uo=Hl(Nd),fs=Hl(!1),qf=Nd;function dp(p,v){var k=p.type.contextTypes;if(!k)return Nd;var M=p.stateNode;if(M&&M.__reactInternalMemoizedUnmaskedChildContext===v)return M.__reactInternalMemoizedMaskedChildContext;var W={},ee;for(ee in k)W[ee]=v[ee];return M&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=v,p.__reactInternalMemoizedMaskedChildContext=W),W}function hs(p){return p=p.childContextTypes,p!=null}function Vg(){ra(fs),ra(uo)}function p_(p,v,k){if(uo.current!==Nd)throw Error(r(168));ua(uo,v),ua(fs,k)}function Ty(p,v,k){var M=p.stateNode;if(v=v.childContextTypes,typeof M.getChildContext!="function")return k;M=M.getChildContext();for(var W in M)if(!(W in v))throw Error(r(108,le(p)||"Unknown",W));return te({},k,M)}function zf(p){return p=(p=p.stateNode)&&p.__reactInternalMemoizedMergedChildContext||Nd,qf=uo.current,ua(uo,p),ua(fs,fs.current),!0}function m_(p,v,k){var M=p.stateNode;if(!M)throw Error(r(169));k?(p=Ty(p,v,qf),M.__reactInternalMemoizedMergedChildContext=p,ra(fs),ra(uo),ua(uo,p)):ra(fs),ua(fs,k)}var gu=null,nm=!1,N=!1;function F(p){gu===null?gu=[p]:gu.push(p)}function V(p){nm=!0,F(p)}function ne(){if(!N&&gu!==null){N=!0;var p=0,v=qn;try{var k=gu;for(qn=1;p<k.length;p++){var M=k[p];do M=M(!0);while(M!==null)}gu=null,nm=!1}catch(W){throw gu!==null&&(gu=gu.slice(p+1)),Rt(Ln,ne),W}finally{qn=v,N=!1}}return null}var oe=[],ce=0,fe=null,ge=0,ye=[],be=0,$e=null,et=1,tt="";function Ye(p,v){oe[ce++]=ge,oe[ce++]=fe,fe=p,ge=v}function Ot(p,v,k){ye[be++]=et,ye[be++]=tt,ye[be++]=$e,$e=p;var M=et;p=tt;var W=32-Ba(M)-1;M&=~(1<<W),k+=1;var ee=32-Ba(v)+W;if(30<ee){var ue=W-W%5;ee=(M&(1<<ue)-1).toString(32),M>>=ue,W-=ue,et=1<<32-Ba(v)+W|k<<W|M,tt=ee+p}else et=1<<ee|k<<W|M,tt=p}function gt(p){p.return!==null&&(Ye(p,1),Ot(p,1,0))}function qe(p){for(;p===fe;)fe=oe[--ce],oe[ce]=null,ge=oe[--ce],oe[ce]=null;for(;p===$e;)$e=ye[--be],ye[be]=null,tt=ye[--be],ye[be]=null,et=ye[--be],ye[be]=null}var ze=null,kt=null,St=!1,Et=null;function fr(p,v){var k=Fc(5,null,null,0);k.elementType="DELETED",k.stateNode=v,k.return=p,v=p.deletions,v===null?(p.deletions=[k],p.flags|=16):v.push(k)}function tr(p,v){switch(p.tag){case 5:var k=p.type;return v=v.nodeType!==1||k.toLowerCase()!==v.nodeName.toLowerCase()?null:v,v!==null?(p.stateNode=v,ze=p,kt=Vo(v.firstChild),!0):!1;case 6:return v=p.pendingProps===""||v.nodeType!==3?null:v,v!==null?(p.stateNode=v,ze=p,kt=null,!0):!1;case 13:return v=v.nodeType!==8?null:v,v!==null?(k=$e!==null?{id:et,overflow:tt}:null,p.memoizedState={dehydrated:v,treeContext:k,retryLane:1073741824},k=Fc(18,null,null,0),k.stateNode=v,k.return=p,p.child=k,ze=p,kt=null,!0):!1;default:return!1}}function Rr(p){return(p.mode&1)!==0&&(p.flags&128)===0}function ar(p){if(St){var v=kt;if(v){var k=v;if(!tr(p,v)){if(Rr(p))throw Error(r(418));v=Vo(k.nextSibling);var M=ze;v&&tr(p,v)?fr(M,k):(p.flags=p.flags&-4097|2,St=!1,ze=p)}}else{if(Rr(p))throw Error(r(418));p.flags=p.flags&-4097|2,St=!1,ze=p}}}function jn(p){for(p=p.return;p!==null&&p.tag!==5&&p.tag!==3&&p.tag!==13;)p=p.return;ze=p}function $n(p){if(p!==ze)return!1;if(!St)return jn(p),St=!0,!1;var v;if((v=p.tag!==3)&&!(v=p.tag!==5)&&(v=p.type,v=v!=="head"&&v!=="body"&&!ky(p.type,p.memoizedProps)),v&&(v=kt)){if(Rr(p))throw Mn(),Error(r(418));for(;v;)fr(p,v),v=Vo(v.nextSibling)}if(jn(p),p.tag===13){if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));e:{for(p=p.nextSibling,v=0;p;){if(p.nodeType===8){var k=p.data;if(k==="/$"){if(v===0){kt=Vo(p.nextSibling);break e}v--}else k!=="$"&&k!=="$!"&&k!=="$?"||v++}p=p.nextSibling}kt=null}}else kt=ze?Vo(p.stateNode.nextSibling):null;return!0}function Mn(){for(var p=kt;p;)p=Vo(p.nextSibling)}function gn(){kt=ze=null,St=!1}function na(p){Et===null?Et=[p]:Et.push(p)}var da=C.ReactCurrentBatchConfig;function tn(p,v,k){if(p=k.ref,p!==null&&typeof p!="function"&&typeof p!="object"){if(k._owner){if(k=k._owner,k){if(k.tag!==1)throw Error(r(309));var M=k.stateNode}if(!M)throw Error(r(147,p));var W=M,ee=""+p;return v!==null&&v.ref!==null&&typeof v.ref=="function"&&v.ref._stringRef===ee?v.ref:(v=function(ue){var Ce=W.refs;ue===null?delete Ce[ee]:Ce[ee]=ue},v._stringRef=ee,v)}if(typeof p!="string")throw Error(r(284));if(!k._owner)throw Error(r(290,p))}return p}function za(p,v){throw p=Object.prototype.toString.call(v),Error(r(31,p==="[object Object]"?"object with keys {"+Object.keys(v).join(", ")+"}":p))}function Go(p){var v=p._init;return v(p._payload)}function li(p){function v(at,Ke){if(p){var lt=at.deletions;lt===null?(at.deletions=[Ke],at.flags|=16):lt.push(Ke)}}function k(at,Ke){if(!p)return null;for(;Ke!==null;)v(at,Ke),Ke=Ke.sibling;return null}function M(at,Ke){for(at=new Map;Ke!==null;)Ke.key!==null?at.set(Ke.key,Ke):at.set(Ke.index,Ke),Ke=Ke.sibling;return at}function W(at,Ke){return at=Sp(at,Ke),at.index=0,at.sibling=null,at}function ee(at,Ke,lt){return at.index=lt,p?(lt=at.alternate,lt!==null?(lt=lt.index,lt<Ke?(at.flags|=2,Ke):lt):(at.flags|=2,Ke)):(at.flags|=1048576,Ke)}function ue(at){return p&&at.alternate===null&&(at.flags|=2),at}function Ce(at,Ke,lt,Vt){return Ke===null||Ke.tag!==6?(Ke=BA(lt,at.mode,Vt),Ke.return=at,Ke):(Ke=W(Ke,lt),Ke.return=at,Ke)}function Be(at,Ke,lt,Vt){var Tr=lt.type;return Tr===T?Lt(at,Ke,lt.props.children,Vt,lt.key):Ke!==null&&(Ke.elementType===Tr||typeof Tr=="object"&&Tr!==null&&Tr.$$typeof===re&&Go(Tr)===Ke.type)?(Vt=W(Ke,lt.props),Vt.ref=tn(at,Ke,lt),Vt.return=at,Vt):(Vt=M_(lt.type,lt.key,lt.props,null,at.mode,Vt),Vt.ref=tn(at,Ke,lt),Vt.return=at,Vt)}function dt(at,Ke,lt,Vt){return Ke===null||Ke.tag!==4||Ke.stateNode.containerInfo!==lt.containerInfo||Ke.stateNode.implementation!==lt.implementation?(Ke=UA(lt,at.mode,Vt),Ke.return=at,Ke):(Ke=W(Ke,lt.children||[]),Ke.return=at,Ke)}function Lt(at,Ke,lt,Vt,Tr){return Ke===null||Ke.tag!==7?(Ke=dm(lt,at.mode,Vt,Tr),Ke.return=at,Ke):(Ke=W(Ke,lt),Ke.return=at,Ke)}function Bt(at,Ke,lt){if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number")return Ke=BA(""+Ke,at.mode,lt),Ke.return=at,Ke;if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case E:return lt=M_(Ke.type,Ke.key,Ke.props,null,at.mode,lt),lt.ref=tn(at,null,Ke),lt.return=at,lt;case D:return Ke=UA(Ke,at.mode,lt),Ke.return=at,Ke;case re:var Vt=Ke._init;return Bt(at,Vt(Ke._payload),lt)}if(Pt(Ke)||z(Ke))return Ke=dm(Ke,at.mode,lt,null),Ke.return=at,Ke;za(at,Ke)}return null}function Ft(at,Ke,lt,Vt){var Tr=Ke!==null?Ke.key:null;if(typeof lt=="string"&&lt!==""||typeof lt=="number")return Tr!==null?null:Ce(at,Ke,""+lt,Vt);if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case E:return lt.key===Tr?Be(at,Ke,lt,Vt):null;case D:return lt.key===Tr?dt(at,Ke,lt,Vt):null;case re:return Tr=lt._init,Ft(at,Ke,Tr(lt._payload),Vt)}if(Pt(lt)||z(lt))return Tr!==null?null:Lt(at,Ke,lt,Vt,null);za(at,lt)}return null}function vr(at,Ke,lt,Vt,Tr){if(typeof Vt=="string"&&Vt!==""||typeof Vt=="number")return at=at.get(lt)||null,Ce(Ke,at,""+Vt,Tr);if(typeof Vt=="object"&&Vt!==null){switch(Vt.$$typeof){case E:return at=at.get(Vt.key===null?lt:Vt.key)||null,Be(Ke,at,Vt,Tr);case D:return at=at.get(Vt.key===null?lt:Vt.key)||null,dt(Ke,at,Vt,Tr);case re:var Lr=Vt._init;return vr(at,Ke,lt,Lr(Vt._payload),Tr)}if(Pt(Vt)||z(Vt))return at=at.get(lt)||null,Lt(Ke,at,Vt,Tr,null);za(Ke,Vt)}return null}function Nr(at,Ke,lt,Vt){for(var Tr=null,Lr=null,jr=Ke,sn=Ke=0,To=null;jr!==null&&sn<lt.length;sn++){jr.index>sn?(To=jr,jr=null):To=jr.sibling;var Xn=Ft(at,jr,lt[sn],Vt);if(Xn===null){jr===null&&(jr=To);break}p&&jr&&Xn.alternate===null&&v(at,jr),Ke=ee(Xn,Ke,sn),Lr===null?Tr=Xn:Lr.sibling=Xn,Lr=Xn,jr=To}if(sn===lt.length)return k(at,jr),St&&Ye(at,sn),Tr;if(jr===null){for(;sn<lt.length;sn++)jr=Bt(at,lt[sn],Vt),jr!==null&&(Ke=ee(jr,Ke,sn),Lr===null?Tr=jr:Lr.sibling=jr,Lr=jr);return St&&Ye(at,sn),Tr}for(jr=M(at,jr);sn<lt.length;sn++)To=vr(jr,at,sn,lt[sn],Vt),To!==null&&(p&&To.alternate!==null&&jr.delete(To.key===null?sn:To.key),Ke=ee(To,Ke,sn),Lr===null?Tr=To:Lr.sibling=To,Lr=To);return p&&jr.forEach(function(Ap){return v(at,Ap)}),St&&Ye(at,sn),Tr}function Cr(at,Ke,lt,Vt){var Tr=z(lt);if(typeof Tr!="function")throw Error(r(150));if(lt=Tr.call(lt),lt==null)throw Error(r(151));for(var Lr=Tr=null,jr=Ke,sn=Ke=0,To=null,Xn=lt.next();jr!==null&&!Xn.done;sn++,Xn=lt.next()){jr.index>sn?(To=jr,jr=null):To=jr.sibling;var Ap=Ft(at,jr,Xn.value,Vt);if(Ap===null){jr===null&&(jr=To);break}p&&jr&&Ap.alternate===null&&v(at,jr),Ke=ee(Ap,Ke,sn),Lr===null?Tr=Ap:Lr.sibling=Ap,Lr=Ap,jr=To}if(Xn.done)return k(at,jr),St&&Ye(at,sn),Tr;if(jr===null){for(;!Xn.done;sn++,Xn=lt.next())Xn=Bt(at,Xn.value,Vt),Xn!==null&&(Ke=ee(Xn,Ke,sn),Lr===null?Tr=Xn:Lr.sibling=Xn,Lr=Xn);return St&&Ye(at,sn),Tr}for(jr=M(at,jr);!Xn.done;sn++,Xn=lt.next())Xn=vr(jr,at,sn,Xn.value,Vt),Xn!==null&&(p&&Xn.alternate!==null&&jr.delete(Xn.key===null?sn:Xn.key),Ke=ee(Xn,Ke,sn),Lr===null?Tr=Xn:Lr.sibling=Xn,Lr=Xn);return p&&jr.forEach(function(Rse){return v(at,Rse)}),St&&Ye(at,sn),Tr}function Li(at,Ke,lt,Vt){if(typeof lt=="object"&&lt!==null&&lt.type===T&&lt.key===null&&(lt=lt.props.children),typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case E:e:{for(var Tr=lt.key,Lr=Ke;Lr!==null;){if(Lr.key===Tr){if(Tr=lt.type,Tr===T){if(Lr.tag===7){k(at,Lr.sibling),Ke=W(Lr,lt.props.children),Ke.return=at,at=Ke;break e}}else if(Lr.elementType===Tr||typeof Tr=="object"&&Tr!==null&&Tr.$$typeof===re&&Go(Tr)===Lr.type){k(at,Lr.sibling),Ke=W(Lr,lt.props),Ke.ref=tn(at,Lr,lt),Ke.return=at,at=Ke;break e}k(at,Lr);break}else v(at,Lr);Lr=Lr.sibling}lt.type===T?(Ke=dm(lt.props.children,at.mode,Vt,lt.key),Ke.return=at,at=Ke):(Vt=M_(lt.type,lt.key,lt.props,null,at.mode,Vt),Vt.ref=tn(at,Ke,lt),Vt.return=at,at=Vt)}return ue(at);case D:e:{for(Lr=lt.key;Ke!==null;){if(Ke.key===Lr)if(Ke.tag===4&&Ke.stateNode.containerInfo===lt.containerInfo&&Ke.stateNode.implementation===lt.implementation){k(at,Ke.sibling),Ke=W(Ke,lt.children||[]),Ke.return=at,at=Ke;break e}else{k(at,Ke);break}else v(at,Ke);Ke=Ke.sibling}Ke=UA(lt,at.mode,Vt),Ke.return=at,at=Ke}return ue(at);case re:return Lr=lt._init,Li(at,Ke,Lr(lt._payload),Vt)}if(Pt(lt))return Nr(at,Ke,lt,Vt);if(z(lt))return Cr(at,Ke,lt,Vt);za(at,lt)}return typeof lt=="string"&&lt!==""||typeof lt=="number"?(lt=""+lt,Ke!==null&&Ke.tag===6?(k(at,Ke.sibling),Ke=W(Ke,lt),Ke.return=at,at=Ke):(k(at,Ke),Ke=BA(lt,at.mode,Vt),Ke.return=at,at=Ke),ue(at)):k(at,Ke)}return Li}var Ri=li(!0),Kn=li(!1),No=Hl(null),Eo=null,Wa=null,Mi=null;function fo(){Mi=Wa=Eo=null}function ps(p){var v=No.current;ra(No),p._currentValue=v}function vl(p,v,k){for(;p!==null;){var M=p.alternate;if((p.childLanes&v)!==v?(p.childLanes|=v,M!==null&&(M.childLanes|=v)):M!==null&&(M.childLanes&v)!==v&&(M.childLanes|=v),p===k)break;p=p.return}}function Ha(p,v){Eo=p,Mi=Wa=null,p=p.dependencies,p!==null&&p.firstContext!==null&&((p.lanes&v)!==0&&(_l=!0),p.firstContext=null)}function wi(p){var v=p._currentValue;if(Mi!==p)if(p={context:p,memoizedValue:v,next:null},Wa===null){if(Eo===null)throw Error(r(308));Wa=p,Eo.dependencies={lanes:0,firstContext:p}}else Wa=Wa.next=p;return v}var Vs=null;function Ed(p){Vs===null?Vs=[p]:Vs.push(p)}function vu(p,v,k,M){var W=v.interleaved;return W===null?(k.next=k,Ed(v)):(k.next=W.next,W.next=k),v.interleaved=k,Yn(p,M)}function Yn(p,v){p.lanes|=v;var k=p.alternate;for(k!==null&&(k.lanes|=v),k=p,p=p.return;p!==null;)p.childLanes|=v,k=p.alternate,k!==null&&(k.childLanes|=v),k=p,p=p.return;return k.tag===3?k.stateNode:null}var Oc=!1;function Gg(p){p.updateQueue={baseState:p.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Py(p,v){p=p.updateQueue,v.updateQueue===p&&(v.updateQueue={baseState:p.baseState,firstBaseUpdate:p.firstBaseUpdate,lastBaseUpdate:p.lastBaseUpdate,shared:p.shared,effects:p.effects})}function yl(p,v){return{eventTime:p,lane:v,tag:0,payload:null,callback:null,next:null}}function xl(p,v,k){var M=p.updateQueue;if(M===null)return null;if(M=M.shared,(Wn&2)!==0){var W=M.pending;return W===null?v.next=v:(v.next=W.next,W.next=v),M.pending=v,Yn(p,k)}return W=M.interleaved,W===null?(v.next=v,Ed(M)):(v.next=W.next,W.next=v),M.interleaved=v,Yn(p,k)}function Wf(p,v,k){if(v=v.updateQueue,v!==null&&(v=v.shared,(k&4194240)!==0)){var M=v.lanes;M&=p.pendingLanes,k|=M,v.lanes=k,jh(p,k)}}function wl(p,v){var k=p.updateQueue,M=p.alternate;if(M!==null&&(M=M.updateQueue,k===M)){var W=null,ee=null;if(k=k.firstBaseUpdate,k!==null){do{var ue={eventTime:k.eventTime,lane:k.lane,tag:k.tag,payload:k.payload,callback:k.callback,next:null};ee===null?W=ee=ue:ee=ee.next=ue,k=k.next}while(k!==null);ee===null?W=ee=v:ee=ee.next=v}else W=ee=v;k={baseState:M.baseState,firstBaseUpdate:W,lastBaseUpdate:ee,shared:M.shared,effects:M.effects},p.updateQueue=k;return}p=k.lastBaseUpdate,p===null?k.firstBaseUpdate=v:p.next=v,k.lastBaseUpdate=v}function yu(p,v,k,M){var W=p.updateQueue;Oc=!1;var ee=W.firstBaseUpdate,ue=W.lastBaseUpdate,Ce=W.shared.pending;if(Ce!==null){W.shared.pending=null;var Be=Ce,dt=Be.next;Be.next=null,ue===null?ee=dt:ue.next=dt,ue=Be;var Lt=p.alternate;Lt!==null&&(Lt=Lt.updateQueue,Ce=Lt.lastBaseUpdate,Ce!==ue&&(Ce===null?Lt.firstBaseUpdate=dt:Ce.next=dt,Lt.lastBaseUpdate=Be))}if(ee!==null){var Bt=W.baseState;ue=0,Lt=dt=Be=null,Ce=ee;do{var Ft=Ce.lane,vr=Ce.eventTime;if((M&Ft)===Ft){Lt!==null&&(Lt=Lt.next={eventTime:vr,lane:0,tag:Ce.tag,payload:Ce.payload,callback:Ce.callback,next:null});e:{var Nr=p,Cr=Ce;switch(Ft=v,vr=k,Cr.tag){case 1:if(Nr=Cr.payload,typeof Nr=="function"){Bt=Nr.call(vr,Bt,Ft);break e}Bt=Nr;break e;case 3:Nr.flags=Nr.flags&-65537|128;case 0:if(Nr=Cr.payload,Ft=typeof Nr=="function"?Nr.call(vr,Bt,Ft):Nr,Ft==null)break e;Bt=te({},Bt,Ft);break e;case 2:Oc=!0}}Ce.callback!==null&&Ce.lane!==0&&(p.flags|=64,Ft=W.effects,Ft===null?W.effects=[Ce]:Ft.push(Ce))}else vr={eventTime:vr,lane:Ft,tag:Ce.tag,payload:Ce.payload,callback:Ce.callback,next:null},Lt===null?(dt=Lt=vr,Be=Bt):Lt=Lt.next=vr,ue|=Ft;if(Ce=Ce.next,Ce===null){if(Ce=W.shared.pending,Ce===null)break;Ft=Ce,Ce=Ft.next,Ft.next=null,W.lastBaseUpdate=Ft,W.shared.pending=null}}while(!0);if(Lt===null&&(Be=Bt),W.baseState=Be,W.firstBaseUpdate=dt,W.lastBaseUpdate=Lt,v=W.shared.interleaved,v!==null){W=v;do ue|=W.lane,W=W.next;while(W!==v)}else ee===null&&(W.shared.lanes=0);sm|=ue,p.lanes=ue,p.memoizedState=Bt}}function Hf(p,v,k){if(p=v.effects,v.effects=null,p!==null)for(v=0;v<p.length;v++){var M=p[v],W=M.callback;if(W!==null){if(M.callback=null,M=k,typeof W!="function")throw Error(r(191,W));W.call(M)}}}var fp={},Gs=Hl(fp),hp=Hl(fp),Cd=Hl(fp);function xu(p){if(p===fp)throw Error(r(174));return p}function pp(p,v){switch(ua(Cd,v),ua(hp,p),ua(Gs,fp),p=v.nodeType,p){case 9:case 11:v=(v=v.documentElement)?v.namespaceURI:De(null,"");break;default:p=p===8?v.parentNode:v,v=p.namespaceURI||null,p=p.tagName,v=De(v,p)}ra(Gs),ua(Gs,v)}function Dc(){ra(Gs),ra(hp),ra(Cd)}function g_(p){xu(Cd.current);var v=xu(Gs.current),k=De(v,p.type);v!==k&&(ua(hp,p),ua(Gs,k))}function Oy(p){hp.current===p&&(ra(Gs),ra(hp))}var ka=Hl(0);function Vl(p){for(var v=p;v!==null;){if(v.tag===13){var k=v.memoizedState;if(k!==null&&(k=k.dehydrated,k===null||k.data==="$?"||k.data==="$!"))return v}else if(v.tag===19&&v.memoizedProps.revealOrder!==void 0){if((v.flags&128)!==0)return v}else if(v.child!==null){v.child.return=v,v=v.child;continue}if(v===p)break;for(;v.sibling===null;){if(v.return===null||v.return===p)return null;v=v.return}v.sibling.return=v.return,v=v.sibling}return null}var Dy=[];function Iy(){for(var p=0;p<Dy.length;p++)Dy[p]._workInProgressVersionPrimary=null;Dy.length=0}var Kg=C.ReactCurrentDispatcher,Yg=C.ReactCurrentBatchConfig,Ic=0,Ta=null,_i=null,ci=null,mp=!1,wu=!1,gp=0,fA=0;function Fi(){throw Error(r(321))}function Xg(p,v){if(v===null)return!1;for(var k=0;k<v.length&&k<p.length;k++)if(!zn(p[k],v[k]))return!1;return!0}function am(p,v,k,M,W,ee){if(Ic=ee,Ta=v,v.memoizedState=null,v.updateQueue=null,v.lanes=0,Kg.current=p===null||p.memoizedState===null?ose:sse,p=k(M,W),wu){ee=0;do{if(wu=!1,gp=0,25<=ee)throw Error(r(301));ee+=1,ci=_i=null,v.updateQueue=null,Kg.current=lse,p=k(M,W)}while(wu)}if(Kg.current=__,v=_i!==null&&_i.next!==null,Ic=0,ci=_i=Ta=null,mp=!1,v)throw Error(r(300));return p}function Rc(){var p=gp!==0;return gp=0,p}function Gl(){var p={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ci===null?Ta.memoizedState=ci=p:ci=ci.next=p,ci}function Ks(){if(_i===null){var p=Ta.alternate;p=p!==null?p.memoizedState:null}else p=_i.next;var v=ci===null?Ta.memoizedState:ci.next;if(v!==null)ci=v,_i=p;else{if(p===null)throw Error(r(310));_i=p,p={memoizedState:_i.memoizedState,baseState:_i.baseState,baseQueue:_i.baseQueue,queue:_i.queue,next:null},ci===null?Ta.memoizedState=ci=p:ci=ci.next=p}return ci}function im(p,v){return typeof v=="function"?v(p):v}function Zg(p){var v=Ks(),k=v.queue;if(k===null)throw Error(r(311));k.lastRenderedReducer=p;var M=_i,W=M.baseQueue,ee=k.pending;if(ee!==null){if(W!==null){var ue=W.next;W.next=ee.next,ee.next=ue}M.baseQueue=W=ee,k.pending=null}if(W!==null){ee=W.next,M=M.baseState;var Ce=ue=null,Be=null,dt=ee;do{var Lt=dt.lane;if((Ic&Lt)===Lt)Be!==null&&(Be=Be.next={lane:0,action:dt.action,hasEagerState:dt.hasEagerState,eagerState:dt.eagerState,next:null}),M=dt.hasEagerState?dt.eagerState:p(M,dt.action);else{var Bt={lane:Lt,action:dt.action,hasEagerState:dt.hasEagerState,eagerState:dt.eagerState,next:null};Be===null?(Ce=Be=Bt,ue=M):Be=Be.next=Bt,Ta.lanes|=Lt,sm|=Lt}dt=dt.next}while(dt!==null&&dt!==ee);Be===null?ue=M:Be.next=Ce,zn(M,v.memoizedState)||(_l=!0),v.memoizedState=M,v.baseState=ue,v.baseQueue=Be,k.lastRenderedState=M}if(p=k.interleaved,p!==null){W=p;do ee=W.lane,Ta.lanes|=ee,sm|=ee,W=W.next;while(W!==p)}else W===null&&(k.lanes=0);return[v.memoizedState,k.dispatch]}function Td(p){var v=Ks(),k=v.queue;if(k===null)throw Error(r(311));k.lastRenderedReducer=p;var M=k.dispatch,W=k.pending,ee=v.memoizedState;if(W!==null){k.pending=null;var ue=W=W.next;do ee=p(ee,ue.action),ue=ue.next;while(ue!==W);zn(ee,v.memoizedState)||(_l=!0),v.memoizedState=ee,v.baseQueue===null&&(v.baseState=ee),k.lastRenderedState=ee}return[ee,M]}function v_(){}function Ry(p,v){var k=Ta,M=Ks(),W=v(),ee=!zn(M.memoizedState,W);if(ee&&(M.memoizedState=W,_l=!0),M=M.queue,ev(x_.bind(null,k,M,p),[p]),M.getSnapshot!==v||ee||ci!==null&&ci.memoizedState.tag&1){if(k.flags|=2048,Ys(9,My.bind(null,k,M,W,v),void 0,null),Co===null)throw Error(r(349));(Ic&30)!==0||y_(k,v,W)}return W}function y_(p,v,k){p.flags|=16384,p={getSnapshot:v,value:k},v=Ta.updateQueue,v===null?(v={lastEffect:null,stores:null},Ta.updateQueue=v,v.stores=[p]):(k=v.stores,k===null?v.stores=[p]:k.push(p))}function My(p,v,k,M){v.value=k,v.getSnapshot=M,vp(v)&&Jg(p)}function x_(p,v,k){return k(function(){vp(v)&&Jg(p)})}function vp(p){var v=p.getSnapshot;p=p.value;try{var k=v();return!zn(p,k)}catch{return!0}}function Jg(p){var v=Yn(p,1);v!==null&&ku(v,p,1,-1)}function om(p){var v=Gl();return typeof p=="function"&&(p=p()),v.memoizedState=v.baseState=p,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:im,lastRenderedState:p},v.queue=p,p=p.dispatch=ise.bind(null,Ta,p),[v.memoizedState,p]}function Ys(p,v,k,M){return p={tag:p,create:v,destroy:k,deps:M,next:null},v=Ta.updateQueue,v===null?(v={lastEffect:null,stores:null},Ta.updateQueue=v,v.lastEffect=p.next=p):(k=v.lastEffect,k===null?v.lastEffect=p.next=p:(M=k.next,k.next=p,p.next=M,v.lastEffect=p)),p}function _u(){return Ks().memoizedState}function Kl(p,v,k,M){var W=Gl();Ta.flags|=p,W.memoizedState=Ys(1|v,k,void 0,M===void 0?null:M)}function Vf(p,v,k,M){var W=Ks();M=M===void 0?null:M;var ee=void 0;if(_i!==null){var ue=_i.memoizedState;if(ee=ue.destroy,M!==null&&Xg(M,ue.deps)){W.memoizedState=Ys(v,k,ee,M);return}}Ta.flags|=p,W.memoizedState=Ys(1|v,k,ee,M)}function Qg(p,v){return Kl(8390656,8,p,v)}function ev(p,v){return Vf(2048,8,p,v)}function w_(p,v){return Vf(4,2,p,v)}function tv(p,v){return Vf(4,4,p,v)}function rv(p,v){if(typeof v=="function")return p=p(),v(p),function(){v(null)};if(v!=null)return p=p(),v.current=p,function(){v.current=null}}function D7(p,v,k){return k=k!=null?k.concat([p]):null,Vf(4,4,rv.bind(null,v,p),k)}function hA(){}function I7(p,v){var k=Ks();v=v===void 0?null:v;var M=k.memoizedState;return M!==null&&v!==null&&Xg(v,M[1])?M[0]:(k.memoizedState=[p,v],p)}function R7(p,v){var k=Ks();v=v===void 0?null:v;var M=k.memoizedState;return M!==null&&v!==null&&Xg(v,M[1])?M[0]:(p=p(),k.memoizedState=[p,v],p)}function M7(p,v,k){return(Ic&21)===0?(p.baseState&&(p.baseState=!1,_l=!0),p.memoizedState=k):(zn(k,v)||(k=L0(),Ta.lanes|=k,sm|=k,p.baseState=!0),v)}function nse(p,v){var k=qn;qn=k!==0&&4>k?k:4,p(!0);var M=Yg.transition;Yg.transition={};try{p(!1),v()}finally{qn=k,Yg.transition=M}}function F7(){return Ks().memoizedState}function ase(p,v,k){var M=_p(p);if(k={lane:M,action:k,hasEagerState:!1,eagerState:null,next:null},L7(p))j7(v,k);else if(k=vu(p,v,k,M),k!==null){var W=Zs();ku(k,p,M,W),$7(k,v,M)}}function ise(p,v,k){var M=_p(p),W={lane:M,action:k,hasEagerState:!1,eagerState:null,next:null};if(L7(p))j7(v,W);else{var ee=p.alternate;if(p.lanes===0&&(ee===null||ee.lanes===0)&&(ee=v.lastRenderedReducer,ee!==null))try{var ue=v.lastRenderedState,Ce=ee(ue,k);if(W.hasEagerState=!0,W.eagerState=Ce,zn(Ce,ue)){var Be=v.interleaved;Be===null?(W.next=W,Ed(v)):(W.next=Be.next,Be.next=W),v.interleaved=W;return}}catch{}finally{}k=vu(p,v,W,M),k!==null&&(W=Zs(),ku(k,p,M,W),$7(k,v,M))}}function L7(p){var v=p.alternate;return p===Ta||v!==null&&v===Ta}function j7(p,v){wu=mp=!0;var k=p.pending;k===null?v.next=v:(v.next=k.next,k.next=v),p.pending=v}function $7(p,v,k){if((k&4194240)!==0){var M=v.lanes;M&=p.pendingLanes,k|=M,v.lanes=k,jh(p,k)}}var __={readContext:wi,useCallback:Fi,useContext:Fi,useEffect:Fi,useImperativeHandle:Fi,useInsertionEffect:Fi,useLayoutEffect:Fi,useMemo:Fi,useReducer:Fi,useRef:Fi,useState:Fi,useDebugValue:Fi,useDeferredValue:Fi,useTransition:Fi,useMutableSource:Fi,useSyncExternalStore:Fi,useId:Fi,unstable_isNewReconciler:!1},ose={readContext:wi,useCallback:function(p,v){return Gl().memoizedState=[p,v===void 0?null:v],p},useContext:wi,useEffect:Qg,useImperativeHandle:function(p,v,k){return k=k!=null?k.concat([p]):null,Kl(4194308,4,rv.bind(null,v,p),k)},useLayoutEffect:function(p,v){return Kl(4194308,4,p,v)},useInsertionEffect:function(p,v){return Kl(4,2,p,v)},useMemo:function(p,v){var k=Gl();return v=v===void 0?null:v,p=p(),k.memoizedState=[p,v],p},useReducer:function(p,v,k){var M=Gl();return v=k!==void 0?k(v):v,M.memoizedState=M.baseState=v,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:p,lastRenderedState:v},M.queue=p,p=p.dispatch=ase.bind(null,Ta,p),[M.memoizedState,p]},useRef:function(p){var v=Gl();return p={current:p},v.memoizedState=p},useState:om,useDebugValue:hA,useDeferredValue:function(p){return Gl().memoizedState=p},useTransition:function(){var p=om(!1),v=p[0];return p=nse.bind(null,p[1]),Gl().memoizedState=p,[v,p]},useMutableSource:function(){},useSyncExternalStore:function(p,v,k){var M=Ta,W=Gl();if(St){if(k===void 0)throw Error(r(407));k=k()}else{if(k=v(),Co===null)throw Error(r(349));(Ic&30)!==0||y_(M,v,k)}W.memoizedState=k;var ee={value:k,getSnapshot:v};return W.queue=ee,Qg(x_.bind(null,M,ee,p),[p]),M.flags|=2048,Ys(9,My.bind(null,M,ee,k,v),void 0,null),k},useId:function(){var p=Gl(),v=Co.identifierPrefix;if(St){var k=tt,M=et;k=(M&~(1<<32-Ba(M)-1)).toString(32)+k,v=":"+v+"R"+k,k=gp++,0<k&&(v+="H"+k.toString(32)),v+=":"}else k=fA++,v=":"+v+"r"+k.toString(32)+":";return p.memoizedState=v},unstable_isNewReconciler:!1},sse={readContext:wi,useCallback:I7,useContext:wi,useEffect:ev,useImperativeHandle:D7,useInsertionEffect:w_,useLayoutEffect:tv,useMemo:R7,useReducer:Zg,useRef:_u,useState:function(){return Zg(im)},useDebugValue:hA,useDeferredValue:function(p){var v=Ks();return M7(v,_i.memoizedState,p)},useTransition:function(){var p=Zg(im)[0],v=Ks().memoizedState;return[p,v]},useMutableSource:v_,useSyncExternalStore:Ry,useId:F7,unstable_isNewReconciler:!1},lse={readContext:wi,useCallback:I7,useContext:wi,useEffect:ev,useImperativeHandle:D7,useInsertionEffect:w_,useLayoutEffect:tv,useMemo:R7,useReducer:Td,useRef:_u,useState:function(){return Td(im)},useDebugValue:hA,useDeferredValue:function(p){var v=Ks();return _i===null?v.memoizedState=p:M7(v,_i.memoizedState,p)},useTransition:function(){var p=Td(im)[0],v=Ks().memoizedState;return[p,v]},useMutableSource:v_,useSyncExternalStore:Ry,useId:F7,unstable_isNewReconciler:!1};function bu(p,v){if(p&&p.defaultProps){v=te({},v),p=p.defaultProps;for(var k in p)v[k]===void 0&&(v[k]=p[k]);return v}return v}function pA(p,v,k,M){v=p.memoizedState,k=k(M,v),k=k==null?v:te({},v,k),p.memoizedState=k,p.lanes===0&&(p.updateQueue.baseState=k)}var b_={isMounted:function(p){return(p=p._reactInternals)?ke(p)===p:!1},enqueueSetState:function(p,v,k){p=p._reactInternals;var M=Zs(),W=_p(p),ee=yl(M,W);ee.payload=v,k!=null&&(ee.callback=k),v=xl(p,ee,W),v!==null&&(ku(v,p,W,M),Wf(v,p,W))},enqueueReplaceState:function(p,v,k){p=p._reactInternals;var M=Zs(),W=_p(p),ee=yl(M,W);ee.tag=1,ee.payload=v,k!=null&&(ee.callback=k),v=xl(p,ee,W),v!==null&&(ku(v,p,W,M),Wf(v,p,W))},enqueueForceUpdate:function(p,v){p=p._reactInternals;var k=Zs(),M=_p(p),W=yl(k,M);W.tag=2,v!=null&&(W.callback=v),v=xl(p,W,M),v!==null&&(ku(v,p,M,k),Wf(v,p,M))}};function B7(p,v,k,M,W,ee,ue){return p=p.stateNode,typeof p.shouldComponentUpdate=="function"?p.shouldComponentUpdate(M,ee,ue):v.prototype&&v.prototype.isPureReactComponent?!du(k,M)||!du(W,ee):!0}function U7(p,v,k){var M=!1,W=Nd,ee=v.contextType;return typeof ee=="object"&&ee!==null?ee=wi(ee):(W=hs(v)?qf:uo.current,M=v.contextTypes,ee=(M=M!=null)?dp(p,W):Nd),v=new v(k,ee),p.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=b_,p.stateNode=v,v._reactInternals=p,M&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=W,p.__reactInternalMemoizedMaskedChildContext=ee),v}function q7(p,v,k,M){p=v.state,typeof v.componentWillReceiveProps=="function"&&v.componentWillReceiveProps(k,M),typeof v.UNSAFE_componentWillReceiveProps=="function"&&v.UNSAFE_componentWillReceiveProps(k,M),v.state!==p&&b_.enqueueReplaceState(v,v.state,null)}function mA(p,v,k,M){var W=p.stateNode;W.props=k,W.state=p.memoizedState,W.refs={},Gg(p);var ee=v.contextType;typeof ee=="object"&&ee!==null?W.context=wi(ee):(ee=hs(v)?qf:uo.current,W.context=dp(p,ee)),W.state=p.memoizedState,ee=v.getDerivedStateFromProps,typeof ee=="function"&&(pA(p,v,ee,k),W.state=p.memoizedState),typeof v.getDerivedStateFromProps=="function"||typeof W.getSnapshotBeforeUpdate=="function"||typeof W.UNSAFE_componentWillMount!="function"&&typeof W.componentWillMount!="function"||(v=W.state,typeof W.componentWillMount=="function"&&W.componentWillMount(),typeof W.UNSAFE_componentWillMount=="function"&&W.UNSAFE_componentWillMount(),v!==W.state&&b_.enqueueReplaceState(W,W.state,null),yu(p,k,W,M),W.state=p.memoizedState),typeof W.componentDidMount=="function"&&(p.flags|=4194308)}function nv(p,v){try{var k="",M=v;do k+=Z(M),M=M.return;while(M);var W=k}catch(ee){W=`
Error generating stack: `+ee.message+`
`+ee.stack}return{value:p,source:v,stack:W,digest:null}}function gA(p,v,k){return{value:p,source:null,stack:k??null,digest:v??null}}function vA(p,v){try{console.error(v.value)}catch(k){setTimeout(function(){throw k})}}var cse=typeof WeakMap=="function"?WeakMap:Map;function z7(p,v,k){k=yl(-1,k),k.tag=3,k.payload={element:null};var M=v.value;return k.callback=function(){T_||(T_=!0,DA=M),vA(p,v)},k}function W7(p,v,k){k=yl(-1,k),k.tag=3;var M=p.type.getDerivedStateFromError;if(typeof M=="function"){var W=v.value;k.payload=function(){return M(W)},k.callback=function(){vA(p,v)}}var ee=p.stateNode;return ee!==null&&typeof ee.componentDidCatch=="function"&&(k.callback=function(){vA(p,v),typeof M!="function"&&(xp===null?xp=new Set([this]):xp.add(this));var ue=v.stack;this.componentDidCatch(v.value,{componentStack:ue!==null?ue:""})}),k}function H7(p,v,k){var M=p.pingCache;if(M===null){M=p.pingCache=new cse;var W=new Set;M.set(v,W)}else W=M.get(v),W===void 0&&(W=new Set,M.set(v,W));W.has(k)||(W.add(k),p=Sse.bind(null,p,v,k),v.then(p,p))}function V7(p){do{var v;if((v=p.tag===13)&&(v=p.memoizedState,v=v!==null?v.dehydrated!==null:!0),v)return p;p=p.return}while(p!==null);return null}function G7(p,v,k,M,W){return(p.mode&1)===0?(p===v?p.flags|=65536:(p.flags|=128,k.flags|=131072,k.flags&=-52805,k.tag===1&&(k.alternate===null?k.tag=17:(v=yl(-1,1),v.tag=2,xl(k,v,1))),k.lanes|=1),p):(p.flags|=65536,p.lanes=W,p)}var use=C.ReactCurrentOwner,_l=!1;function Xs(p,v,k,M){v.child=p===null?Kn(v,null,k,M):Ri(v,p.child,k,M)}function K7(p,v,k,M,W){k=k.render;var ee=v.ref;return Ha(v,W),M=am(p,v,k,M,ee,W),k=Rc(),p!==null&&!_l?(v.updateQueue=p.updateQueue,v.flags&=-2053,p.lanes&=~W,Gf(p,v,W)):(St&&k&&gt(v),v.flags|=1,Xs(p,v,M,W),v.child)}function Y7(p,v,k,M,W){if(p===null){var ee=k.type;return typeof ee=="function"&&!$A(ee)&&ee.defaultProps===void 0&&k.compare===null&&k.defaultProps===void 0?(v.tag=15,v.type=ee,X7(p,v,ee,M,W)):(p=M_(k.type,null,M,v,v.mode,W),p.ref=v.ref,p.return=v,v.child=p)}if(ee=p.child,(p.lanes&W)===0){var ue=ee.memoizedProps;if(k=k.compare,k=k!==null?k:du,k(ue,M)&&p.ref===v.ref)return Gf(p,v,W)}return v.flags|=1,p=Sp(ee,M),p.ref=v.ref,p.return=v,v.child=p}function X7(p,v,k,M,W){if(p!==null){var ee=p.memoizedProps;if(du(ee,M)&&p.ref===v.ref)if(_l=!1,v.pendingProps=M=ee,(p.lanes&W)!==0)(p.flags&131072)!==0&&(_l=!0);else return v.lanes=p.lanes,Gf(p,v,W)}return yA(p,v,k,M,W)}function Z7(p,v,k){var M=v.pendingProps,W=M.children,ee=p!==null?p.memoizedState:null;if(M.mode==="hidden")if((v.mode&1)===0)v.memoizedState={baseLanes:0,cachePool:null,transitions:null},ua(iv,Yl),Yl|=k;else{if((k&1073741824)===0)return p=ee!==null?ee.baseLanes|k:k,v.lanes=v.childLanes=1073741824,v.memoizedState={baseLanes:p,cachePool:null,transitions:null},v.updateQueue=null,ua(iv,Yl),Yl|=p,null;v.memoizedState={baseLanes:0,cachePool:null,transitions:null},M=ee!==null?ee.baseLanes:k,ua(iv,Yl),Yl|=M}else ee!==null?(M=ee.baseLanes|k,v.memoizedState=null):M=k,ua(iv,Yl),Yl|=M;return Xs(p,v,W,k),v.child}function J7(p,v){var k=v.ref;(p===null&&k!==null||p!==null&&p.ref!==k)&&(v.flags|=512,v.flags|=2097152)}function yA(p,v,k,M,W){var ee=hs(k)?qf:uo.current;return ee=dp(v,ee),Ha(v,W),k=am(p,v,k,M,ee,W),M=Rc(),p!==null&&!_l?(v.updateQueue=p.updateQueue,v.flags&=-2053,p.lanes&=~W,Gf(p,v,W)):(St&&M&&gt(v),v.flags|=1,Xs(p,v,k,W),v.child)}function Q7(p,v,k,M,W){if(hs(k)){var ee=!0;zf(v)}else ee=!1;if(Ha(v,W),v.stateNode===null)A_(p,v),U7(v,k,M),mA(v,k,M,W),M=!0;else if(p===null){var ue=v.stateNode,Ce=v.memoizedProps;ue.props=Ce;var Be=ue.context,dt=k.contextType;typeof dt=="object"&&dt!==null?dt=wi(dt):(dt=hs(k)?qf:uo.current,dt=dp(v,dt));var Lt=k.getDerivedStateFromProps,Bt=typeof Lt=="function"||typeof ue.getSnapshotBeforeUpdate=="function";Bt||typeof ue.UNSAFE_componentWillReceiveProps!="function"&&typeof ue.componentWillReceiveProps!="function"||(Ce!==M||Be!==dt)&&q7(v,ue,M,dt),Oc=!1;var Ft=v.memoizedState;ue.state=Ft,yu(v,M,ue,W),Be=v.memoizedState,Ce!==M||Ft!==Be||fs.current||Oc?(typeof Lt=="function"&&(pA(v,k,Lt,M),Be=v.memoizedState),(Ce=Oc||B7(v,k,Ce,M,Ft,Be,dt))?(Bt||typeof ue.UNSAFE_componentWillMount!="function"&&typeof ue.componentWillMount!="function"||(typeof ue.componentWillMount=="function"&&ue.componentWillMount(),typeof ue.UNSAFE_componentWillMount=="function"&&ue.UNSAFE_componentWillMount()),typeof ue.componentDidMount=="function"&&(v.flags|=4194308)):(typeof ue.componentDidMount=="function"&&(v.flags|=4194308),v.memoizedProps=M,v.memoizedState=Be),ue.props=M,ue.state=Be,ue.context=dt,M=Ce):(typeof ue.componentDidMount=="function"&&(v.flags|=4194308),M=!1)}else{ue=v.stateNode,Py(p,v),Ce=v.memoizedProps,dt=v.type===v.elementType?Ce:bu(v.type,Ce),ue.props=dt,Bt=v.pendingProps,Ft=ue.context,Be=k.contextType,typeof Be=="object"&&Be!==null?Be=wi(Be):(Be=hs(k)?qf:uo.current,Be=dp(v,Be));var vr=k.getDerivedStateFromProps;(Lt=typeof vr=="function"||typeof ue.getSnapshotBeforeUpdate=="function")||typeof ue.UNSAFE_componentWillReceiveProps!="function"&&typeof ue.componentWillReceiveProps!="function"||(Ce!==Bt||Ft!==Be)&&q7(v,ue,M,Be),Oc=!1,Ft=v.memoizedState,ue.state=Ft,yu(v,M,ue,W);var Nr=v.memoizedState;Ce!==Bt||Ft!==Nr||fs.current||Oc?(typeof vr=="function"&&(pA(v,k,vr,M),Nr=v.memoizedState),(dt=Oc||B7(v,k,dt,M,Ft,Nr,Be)||!1)?(Lt||typeof ue.UNSAFE_componentWillUpdate!="function"&&typeof ue.componentWillUpdate!="function"||(typeof ue.componentWillUpdate=="function"&&ue.componentWillUpdate(M,Nr,Be),typeof ue.UNSAFE_componentWillUpdate=="function"&&ue.UNSAFE_componentWillUpdate(M,Nr,Be)),typeof ue.componentDidUpdate=="function"&&(v.flags|=4),typeof ue.getSnapshotBeforeUpdate=="function"&&(v.flags|=1024)):(typeof ue.componentDidUpdate!="function"||Ce===p.memoizedProps&&Ft===p.memoizedState||(v.flags|=4),typeof ue.getSnapshotBeforeUpdate!="function"||Ce===p.memoizedProps&&Ft===p.memoizedState||(v.flags|=1024),v.memoizedProps=M,v.memoizedState=Nr),ue.props=M,ue.state=Nr,ue.context=Be,M=dt):(typeof ue.componentDidUpdate!="function"||Ce===p.memoizedProps&&Ft===p.memoizedState||(v.flags|=4),typeof ue.getSnapshotBeforeUpdate!="function"||Ce===p.memoizedProps&&Ft===p.memoizedState||(v.flags|=1024),M=!1)}return xA(p,v,k,M,ee,W)}function xA(p,v,k,M,W,ee){J7(p,v);var ue=(v.flags&128)!==0;if(!M&&!ue)return W&&m_(v,k,!1),Gf(p,v,ee);M=v.stateNode,use.current=v;var Ce=ue&&typeof k.getDerivedStateFromError!="function"?null:M.render();return v.flags|=1,p!==null&&ue?(v.child=Ri(v,p.child,null,ee),v.child=Ri(v,null,Ce,ee)):Xs(p,v,Ce,ee),v.memoizedState=M.state,W&&m_(v,k,!0),v.child}function eM(p){var v=p.stateNode;v.pendingContext?p_(p,v.pendingContext,v.pendingContext!==v.context):v.context&&p_(p,v.context,!1),pp(p,v.containerInfo)}function tM(p,v,k,M,W){return gn(),na(W),v.flags|=256,Xs(p,v,k,M),v.child}var wA={dehydrated:null,treeContext:null,retryLane:0};function _A(p){return{baseLanes:p,cachePool:null,transitions:null}}function rM(p,v,k){var M=v.pendingProps,W=ka.current,ee=!1,ue=(v.flags&128)!==0,Ce;if((Ce=ue)||(Ce=p!==null&&p.memoizedState===null?!1:(W&2)!==0),Ce?(ee=!0,v.flags&=-129):(p===null||p.memoizedState!==null)&&(W|=1),ua(ka,W&1),p===null)return ar(v),p=v.memoizedState,p!==null&&(p=p.dehydrated,p!==null)?((v.mode&1)===0?v.lanes=1:p.data==="$!"?v.lanes=8:v.lanes=1073741824,null):(ue=M.children,p=M.fallback,ee?(M=v.mode,ee=v.child,ue={mode:"hidden",children:ue},(M&1)===0&&ee!==null?(ee.childLanes=0,ee.pendingProps=ue):ee=F_(ue,M,0,null),p=dm(p,M,k,null),ee.return=v,p.return=v,ee.sibling=p,v.child=ee,v.child.memoizedState=_A(k),v.memoizedState=wA,p):bA(v,ue));if(W=p.memoizedState,W!==null&&(Ce=W.dehydrated,Ce!==null))return dse(p,v,ue,M,Ce,W,k);if(ee){ee=M.fallback,ue=v.mode,W=p.child,Ce=W.sibling;var Be={mode:"hidden",children:M.children};return(ue&1)===0&&v.child!==W?(M=v.child,M.childLanes=0,M.pendingProps=Be,v.deletions=null):(M=Sp(W,Be),M.subtreeFlags=W.subtreeFlags&14680064),Ce!==null?ee=Sp(Ce,ee):(ee=dm(ee,ue,k,null),ee.flags|=2),ee.return=v,M.return=v,M.sibling=ee,v.child=M,M=ee,ee=v.child,ue=p.child.memoizedState,ue=ue===null?_A(k):{baseLanes:ue.baseLanes|k,cachePool:null,transitions:ue.transitions},ee.memoizedState=ue,ee.childLanes=p.childLanes&~k,v.memoizedState=wA,M}return ee=p.child,p=ee.sibling,M=Sp(ee,{mode:"visible",children:M.children}),(v.mode&1)===0&&(M.lanes=k),M.return=v,M.sibling=null,p!==null&&(k=v.deletions,k===null?(v.deletions=[p],v.flags|=16):k.push(p)),v.child=M,v.memoizedState=null,M}function bA(p,v){return v=F_({mode:"visible",children:v},p.mode,0,null),v.return=p,p.child=v}function S_(p,v,k,M){return M!==null&&na(M),Ri(v,p.child,null,k),p=bA(v,v.pendingProps.children),p.flags|=2,v.memoizedState=null,p}function dse(p,v,k,M,W,ee,ue){if(k)return v.flags&256?(v.flags&=-257,M=gA(Error(r(422))),S_(p,v,ue,M)):v.memoizedState!==null?(v.child=p.child,v.flags|=128,null):(ee=M.fallback,W=v.mode,M=F_({mode:"visible",children:M.children},W,0,null),ee=dm(ee,W,ue,null),ee.flags|=2,M.return=v,ee.return=v,M.sibling=ee,v.child=M,(v.mode&1)!==0&&Ri(v,p.child,null,ue),v.child.memoizedState=_A(ue),v.memoizedState=wA,ee);if((v.mode&1)===0)return S_(p,v,ue,null);if(W.data==="$!"){if(M=W.nextSibling&&W.nextSibling.dataset,M)var Ce=M.dgst;return M=Ce,ee=Error(r(419)),M=gA(ee,M,void 0),S_(p,v,ue,M)}if(Ce=(ue&p.childLanes)!==0,_l||Ce){if(M=Co,M!==null){switch(ue&-ue){case 4:W=2;break;case 16:W=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:W=32;break;case 536870912:W=268435456;break;default:W=0}W=(W&(M.suspendedLanes|ue))!==0?0:W,W!==0&&W!==ee.retryLane&&(ee.retryLane=W,Yn(p,W),ku(M,p,W,-1))}return jA(),M=gA(Error(r(421))),S_(p,v,ue,M)}return W.data==="$?"?(v.flags|=128,v.child=p.child,v=Ase.bind(null,p),W._reactRetry=v,null):(p=ee.treeContext,kt=Vo(W.nextSibling),ze=v,St=!0,Et=null,p!==null&&(ye[be++]=et,ye[be++]=tt,ye[be++]=$e,et=p.id,tt=p.overflow,$e=v),v=bA(v,M.children),v.flags|=4096,v)}function nM(p,v,k){p.lanes|=v;var M=p.alternate;M!==null&&(M.lanes|=v),vl(p.return,v,k)}function SA(p,v,k,M,W){var ee=p.memoizedState;ee===null?p.memoizedState={isBackwards:v,rendering:null,renderingStartTime:0,last:M,tail:k,tailMode:W}:(ee.isBackwards=v,ee.rendering=null,ee.renderingStartTime=0,ee.last=M,ee.tail=k,ee.tailMode=W)}function aM(p,v,k){var M=v.pendingProps,W=M.revealOrder,ee=M.tail;if(Xs(p,v,M.children,k),M=ka.current,(M&2)!==0)M=M&1|2,v.flags|=128;else{if(p!==null&&(p.flags&128)!==0)e:for(p=v.child;p!==null;){if(p.tag===13)p.memoizedState!==null&&nM(p,k,v);else if(p.tag===19)nM(p,k,v);else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===v)break e;for(;p.sibling===null;){if(p.return===null||p.return===v)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}M&=1}if(ua(ka,M),(v.mode&1)===0)v.memoizedState=null;else switch(W){case"forwards":for(k=v.child,W=null;k!==null;)p=k.alternate,p!==null&&Vl(p)===null&&(W=k),k=k.sibling;k=W,k===null?(W=v.child,v.child=null):(W=k.sibling,k.sibling=null),SA(v,!1,W,k,ee);break;case"backwards":for(k=null,W=v.child,v.child=null;W!==null;){if(p=W.alternate,p!==null&&Vl(p)===null){v.child=W;break}p=W.sibling,W.sibling=k,k=W,W=p}SA(v,!0,k,null,ee);break;case"together":SA(v,!1,null,null,void 0);break;default:v.memoizedState=null}return v.child}function A_(p,v){(v.mode&1)===0&&p!==null&&(p.alternate=null,v.alternate=null,v.flags|=2)}function Gf(p,v,k){if(p!==null&&(v.dependencies=p.dependencies),sm|=v.lanes,(k&v.childLanes)===0)return null;if(p!==null&&v.child!==p.child)throw Error(r(153));if(v.child!==null){for(p=v.child,k=Sp(p,p.pendingProps),v.child=k,k.return=v;p.sibling!==null;)p=p.sibling,k=k.sibling=Sp(p,p.pendingProps),k.return=v;k.sibling=null}return v.child}function fse(p,v,k){switch(v.tag){case 3:eM(v),gn();break;case 5:g_(v);break;case 1:hs(v.type)&&zf(v);break;case 4:pp(v,v.stateNode.containerInfo);break;case 10:var M=v.type._context,W=v.memoizedProps.value;ua(No,M._currentValue),M._currentValue=W;break;case 13:if(M=v.memoizedState,M!==null)return M.dehydrated!==null?(ua(ka,ka.current&1),v.flags|=128,null):(k&v.child.childLanes)!==0?rM(p,v,k):(ua(ka,ka.current&1),p=Gf(p,v,k),p!==null?p.sibling:null);ua(ka,ka.current&1);break;case 19:if(M=(k&v.childLanes)!==0,(p.flags&128)!==0){if(M)return aM(p,v,k);v.flags|=128}if(W=v.memoizedState,W!==null&&(W.rendering=null,W.tail=null,W.lastEffect=null),ua(ka,ka.current),M)break;return null;case 22:case 23:return v.lanes=0,Z7(p,v,k)}return Gf(p,v,k)}var iM,AA,oM,sM;iM=function(p,v){for(var k=v.child;k!==null;){if(k.tag===5||k.tag===6)p.appendChild(k.stateNode);else if(k.tag!==4&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===v)break;for(;k.sibling===null;){if(k.return===null||k.return===v)return;k=k.return}k.sibling.return=k.return,k=k.sibling}},AA=function(){},oM=function(p,v,k,M){var W=p.memoizedProps;if(W!==M){p=v.stateNode,xu(Gs.current);var ee=null;switch(k){case"input":W=He(p,W),M=He(p,M),ee=[];break;case"select":W=te({},W,{value:void 0}),M=te({},M,{value:void 0}),ee=[];break;case"textarea":W=xe(p,W),M=xe(p,M),ee=[];break;default:typeof W.onClick!="function"&&typeof M.onClick=="function"&&(p.onclick=lp)}An(k,M);var ue;k=null;for(dt in W)if(!M.hasOwnProperty(dt)&&W.hasOwnProperty(dt)&&W[dt]!=null)if(dt==="style"){var Ce=W[dt];for(ue in Ce)Ce.hasOwnProperty(ue)&&(k||(k={}),k[ue]="")}else dt!=="dangerouslySetInnerHTML"&&dt!=="children"&&dt!=="suppressContentEditableWarning"&&dt!=="suppressHydrationWarning"&&dt!=="autoFocus"&&(a.hasOwnProperty(dt)?ee||(ee=[]):(ee=ee||[]).push(dt,null));for(dt in M){var Be=M[dt];if(Ce=W!=null?W[dt]:void 0,M.hasOwnProperty(dt)&&Be!==Ce&&(Be!=null||Ce!=null))if(dt==="style")if(Ce){for(ue in Ce)!Ce.hasOwnProperty(ue)||Be&&Be.hasOwnProperty(ue)||(k||(k={}),k[ue]="");for(ue in Be)Be.hasOwnProperty(ue)&&Ce[ue]!==Be[ue]&&(k||(k={}),k[ue]=Be[ue])}else k||(ee||(ee=[]),ee.push(dt,k)),k=Be;else dt==="dangerouslySetInnerHTML"?(Be=Be?Be.__html:void 0,Ce=Ce?Ce.__html:void 0,Be!=null&&Ce!==Be&&(ee=ee||[]).push(dt,Be)):dt==="children"?typeof Be!="string"&&typeof Be!="number"||(ee=ee||[]).push(dt,""+Be):dt!=="suppressContentEditableWarning"&&dt!=="suppressHydrationWarning"&&(a.hasOwnProperty(dt)?(Be!=null&&dt==="onScroll"&&ya("scroll",p),ee||Ce===Be||(ee=[])):(ee=ee||[]).push(dt,Be))}k&&(ee=ee||[]).push("style",k);var dt=ee;(v.updateQueue=dt)&&(v.flags|=4)}},sM=function(p,v,k,M){k!==M&&(v.flags|=4)};function Fy(p,v){if(!St)switch(p.tailMode){case"hidden":v=p.tail;for(var k=null;v!==null;)v.alternate!==null&&(k=v),v=v.sibling;k===null?p.tail=null:k.sibling=null;break;case"collapsed":k=p.tail;for(var M=null;k!==null;)k.alternate!==null&&(M=k),k=k.sibling;M===null?v||p.tail===null?p.tail=null:p.tail.sibling=null:M.sibling=null}}function ms(p){var v=p.alternate!==null&&p.alternate.child===p.child,k=0,M=0;if(v)for(var W=p.child;W!==null;)k|=W.lanes|W.childLanes,M|=W.subtreeFlags&14680064,M|=W.flags&14680064,W.return=p,W=W.sibling;else for(W=p.child;W!==null;)k|=W.lanes|W.childLanes,M|=W.subtreeFlags,M|=W.flags,W.return=p,W=W.sibling;return p.subtreeFlags|=M,p.childLanes=k,v}function hse(p,v,k){var M=v.pendingProps;switch(qe(v),v.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ms(v),null;case 1:return hs(v.type)&&Vg(),ms(v),null;case 3:return M=v.stateNode,Dc(),ra(fs),ra(uo),Iy(),M.pendingContext&&(M.context=M.pendingContext,M.pendingContext=null),(p===null||p.child===null)&&($n(v)?v.flags|=4:p===null||p.memoizedState.isDehydrated&&(v.flags&256)===0||(v.flags|=1024,Et!==null&&(MA(Et),Et=null))),AA(p,v),ms(v),null;case 5:Oy(v);var W=xu(Cd.current);if(k=v.type,p!==null&&v.stateNode!=null)oM(p,v,k,M,W),p.ref!==v.ref&&(v.flags|=512,v.flags|=2097152);else{if(!M){if(v.stateNode===null)throw Error(r(166));return ms(v),null}if(p=xu(Gs.current),$n(v)){M=v.stateNode,k=v.type;var ee=v.memoizedProps;switch(M[Pc]=v,M[cp]=ee,p=(v.mode&1)!==0,k){case"dialog":ya("cancel",M),ya("close",M);break;case"iframe":case"object":case"embed":ya("load",M);break;case"video":case"audio":for(W=0;W<Ad.length;W++)ya(Ad[W],M);break;case"source":ya("error",M);break;case"img":case"image":case"link":ya("error",M),ya("load",M);break;case"details":ya("toggle",M);break;case"input":Ie(M,ee),ya("invalid",M);break;case"select":M._wrapperState={wasMultiple:!!ee.multiple},ya("invalid",M);break;case"textarea":Ee(M,ee),ya("invalid",M)}An(k,ee),W=null;for(var ue in ee)if(ee.hasOwnProperty(ue)){var Ce=ee[ue];ue==="children"?typeof Ce=="string"?M.textContent!==Ce&&(ee.suppressHydrationWarning!==!0&&Hg(M.textContent,Ce,p),W=["children",Ce]):typeof Ce=="number"&&M.textContent!==""+Ce&&(ee.suppressHydrationWarning!==!0&&Hg(M.textContent,Ce,p),W=["children",""+Ce]):a.hasOwnProperty(ue)&&Ce!=null&&ue==="onScroll"&&ya("scroll",M)}switch(k){case"input":ve(M),pt(M,ee,!0);break;case"textarea":ve(M),ft(M);break;case"select":case"option":break;default:typeof ee.onClick=="function"&&(M.onclick=lp)}M=W,v.updateQueue=M,M!==null&&(v.flags|=4)}else{ue=W.nodeType===9?W:W.ownerDocument,p==="http://www.w3.org/1999/xhtml"&&(p=mt(k)),p==="http://www.w3.org/1999/xhtml"?k==="script"?(p=ue.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild)):typeof M.is=="string"?p=ue.createElement(k,{is:M.is}):(p=ue.createElement(k),k==="select"&&(ue=p,M.multiple?ue.multiple=!0:M.size&&(ue.size=M.size))):p=ue.createElementNS(p,k),p[Pc]=v,p[cp]=M,iM(p,v,!1,!1),v.stateNode=p;e:{switch(ue=mi(k,M),k){case"dialog":ya("cancel",p),ya("close",p),W=M;break;case"iframe":case"object":case"embed":ya("load",p),W=M;break;case"video":case"audio":for(W=0;W<Ad.length;W++)ya(Ad[W],p);W=M;break;case"source":ya("error",p),W=M;break;case"img":case"image":case"link":ya("error",p),ya("load",p),W=M;break;case"details":ya("toggle",p),W=M;break;case"input":Ie(p,M),W=He(p,M),ya("invalid",p);break;case"option":W=M;break;case"select":p._wrapperState={wasMultiple:!!M.multiple},W=te({},M,{value:void 0}),ya("invalid",p);break;case"textarea":Ee(p,M),W=xe(p,M),ya("invalid",p);break;default:W=M}An(k,W),Ce=W;for(ee in Ce)if(Ce.hasOwnProperty(ee)){var Be=Ce[ee];ee==="style"?en(p,Be):ee==="dangerouslySetInnerHTML"?(Be=Be?Be.__html:void 0,Be!=null&&_t(p,Be)):ee==="children"?typeof Be=="string"?(k!=="textarea"||Be!=="")&&At(p,Be):typeof Be=="number"&&At(p,""+Be):ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&ee!=="autoFocus"&&(a.hasOwnProperty(ee)?Be!=null&&ee==="onScroll"&&ya("scroll",p):Be!=null&&S(p,ee,Be,ue))}switch(k){case"input":ve(p),pt(p,M,!1);break;case"textarea":ve(p),ft(p);break;case"option":M.value!=null&&p.setAttribute("value",""+pe(M.value));break;case"select":p.multiple=!!M.multiple,ee=M.value,ee!=null?st(p,!!M.multiple,ee,!1):M.defaultValue!=null&&st(p,!!M.multiple,M.defaultValue,!0);break;default:typeof W.onClick=="function"&&(p.onclick=lp)}switch(k){case"button":case"input":case"select":case"textarea":M=!!M.autoFocus;break e;case"img":M=!0;break e;default:M=!1}}M&&(v.flags|=4)}v.ref!==null&&(v.flags|=512,v.flags|=2097152)}return ms(v),null;case 6:if(p&&v.stateNode!=null)sM(p,v,p.memoizedProps,M);else{if(typeof M!="string"&&v.stateNode===null)throw Error(r(166));if(k=xu(Cd.current),xu(Gs.current),$n(v)){if(M=v.stateNode,k=v.memoizedProps,M[Pc]=v,(ee=M.nodeValue!==k)&&(p=ze,p!==null))switch(p.tag){case 3:Hg(M.nodeValue,k,(p.mode&1)!==0);break;case 5:p.memoizedProps.suppressHydrationWarning!==!0&&Hg(M.nodeValue,k,(p.mode&1)!==0)}ee&&(v.flags|=4)}else M=(k.nodeType===9?k:k.ownerDocument).createTextNode(M),M[Pc]=v,v.stateNode=M}return ms(v),null;case 13:if(ra(ka),M=v.memoizedState,p===null||p.memoizedState!==null&&p.memoizedState.dehydrated!==null){if(St&&kt!==null&&(v.mode&1)!==0&&(v.flags&128)===0)Mn(),gn(),v.flags|=98560,ee=!1;else if(ee=$n(v),M!==null&&M.dehydrated!==null){if(p===null){if(!ee)throw Error(r(318));if(ee=v.memoizedState,ee=ee!==null?ee.dehydrated:null,!ee)throw Error(r(317));ee[Pc]=v}else gn(),(v.flags&128)===0&&(v.memoizedState=null),v.flags|=4;ms(v),ee=!1}else Et!==null&&(MA(Et),Et=null),ee=!0;if(!ee)return v.flags&65536?v:null}return(v.flags&128)!==0?(v.lanes=k,v):(M=M!==null,M!==(p!==null&&p.memoizedState!==null)&&M&&(v.child.flags|=8192,(v.mode&1)!==0&&(p===null||(ka.current&1)!==0?ho===0&&(ho=3):jA())),v.updateQueue!==null&&(v.flags|=4),ms(v),null);case 4:return Dc(),AA(p,v),p===null&&jf(v.stateNode.containerInfo),ms(v),null;case 10:return ps(v.type._context),ms(v),null;case 17:return hs(v.type)&&Vg(),ms(v),null;case 19:if(ra(ka),ee=v.memoizedState,ee===null)return ms(v),null;if(M=(v.flags&128)!==0,ue=ee.rendering,ue===null)if(M)Fy(ee,!1);else{if(ho!==0||p!==null&&(p.flags&128)!==0)for(p=v.child;p!==null;){if(ue=Vl(p),ue!==null){for(v.flags|=128,Fy(ee,!1),M=ue.updateQueue,M!==null&&(v.updateQueue=M,v.flags|=4),v.subtreeFlags=0,M=k,k=v.child;k!==null;)ee=k,p=M,ee.flags&=14680066,ue=ee.alternate,ue===null?(ee.childLanes=0,ee.lanes=p,ee.child=null,ee.subtreeFlags=0,ee.memoizedProps=null,ee.memoizedState=null,ee.updateQueue=null,ee.dependencies=null,ee.stateNode=null):(ee.childLanes=ue.childLanes,ee.lanes=ue.lanes,ee.child=ue.child,ee.subtreeFlags=0,ee.deletions=null,ee.memoizedProps=ue.memoizedProps,ee.memoizedState=ue.memoizedState,ee.updateQueue=ue.updateQueue,ee.type=ue.type,p=ue.dependencies,ee.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),k=k.sibling;return ua(ka,ka.current&1|2),v.child}p=p.sibling}ee.tail!==null&&$t()>ov&&(v.flags|=128,M=!0,Fy(ee,!1),v.lanes=4194304)}else{if(!M)if(p=Vl(ue),p!==null){if(v.flags|=128,M=!0,k=p.updateQueue,k!==null&&(v.updateQueue=k,v.flags|=4),Fy(ee,!0),ee.tail===null&&ee.tailMode==="hidden"&&!ue.alternate&&!St)return ms(v),null}else 2*$t()-ee.renderingStartTime>ov&&k!==1073741824&&(v.flags|=128,M=!0,Fy(ee,!1),v.lanes=4194304);ee.isBackwards?(ue.sibling=v.child,v.child=ue):(k=ee.last,k!==null?k.sibling=ue:v.child=ue,ee.last=ue)}return ee.tail!==null?(v=ee.tail,ee.rendering=v,ee.tail=v.sibling,ee.renderingStartTime=$t(),v.sibling=null,k=ka.current,ua(ka,M?k&1|2:k&1),v):(ms(v),null);case 22:case 23:return LA(),M=v.memoizedState!==null,p!==null&&p.memoizedState!==null!==M&&(v.flags|=8192),M&&(v.mode&1)!==0?(Yl&1073741824)!==0&&(ms(v),v.subtreeFlags&6&&(v.flags|=8192)):ms(v),null;case 24:return null;case 25:return null}throw Error(r(156,v.tag))}function pse(p,v){switch(qe(v),v.tag){case 1:return hs(v.type)&&Vg(),p=v.flags,p&65536?(v.flags=p&-65537|128,v):null;case 3:return Dc(),ra(fs),ra(uo),Iy(),p=v.flags,(p&65536)!==0&&(p&128)===0?(v.flags=p&-65537|128,v):null;case 5:return Oy(v),null;case 13:if(ra(ka),p=v.memoizedState,p!==null&&p.dehydrated!==null){if(v.alternate===null)throw Error(r(340));gn()}return p=v.flags,p&65536?(v.flags=p&-65537|128,v):null;case 19:return ra(ka),null;case 4:return Dc(),null;case 10:return ps(v.type._context),null;case 22:case 23:return LA(),null;case 24:return null;default:return null}}var k_=!1,gs=!1,mse=typeof WeakSet=="function"?WeakSet:Set,Ar=null;function av(p,v){var k=p.ref;if(k!==null)if(typeof k=="function")try{k(null)}catch(M){bi(p,v,M)}else k.current=null}function kA(p,v,k){try{k()}catch(M){bi(p,v,M)}}var lM=!1;function gse(p,v){if(tm=zh,p=K0(),Rf(p)){if("selectionStart"in p)var k={start:p.selectionStart,end:p.selectionEnd};else e:{k=(k=p.ownerDocument)&&k.defaultView||window;var M=k.getSelection&&k.getSelection();if(M&&M.rangeCount!==0){k=M.anchorNode;var W=M.anchorOffset,ee=M.focusNode;M=M.focusOffset;try{k.nodeType,ee.nodeType}catch{k=null;break e}var ue=0,Ce=-1,Be=-1,dt=0,Lt=0,Bt=p,Ft=null;t:for(;;){for(var vr;Bt!==k||W!==0&&Bt.nodeType!==3||(Ce=ue+W),Bt!==ee||M!==0&&Bt.nodeType!==3||(Be=ue+M),Bt.nodeType===3&&(ue+=Bt.nodeValue.length),(vr=Bt.firstChild)!==null;)Ft=Bt,Bt=vr;for(;;){if(Bt===p)break t;if(Ft===k&&++dt===W&&(Ce=ue),Ft===ee&&++Lt===M&&(Be=ue),(vr=Bt.nextSibling)!==null)break;Bt=Ft,Ft=Bt.parentNode}Bt=vr}k=Ce===-1||Be===-1?null:{start:Ce,end:Be}}else k=null}k=k||{start:0,end:0}}else k=null;for(Bf={focusedElem:p,selectionRange:k},zh=!1,Ar=v;Ar!==null;)if(v=Ar,p=v.child,(v.subtreeFlags&1028)!==0&&p!==null)p.return=v,Ar=p;else for(;Ar!==null;){v=Ar;try{var Nr=v.alternate;if((v.flags&1024)!==0)switch(v.tag){case 0:case 11:case 15:break;case 1:if(Nr!==null){var Cr=Nr.memoizedProps,Li=Nr.memoizedState,at=v.stateNode,Ke=at.getSnapshotBeforeUpdate(v.elementType===v.type?Cr:bu(v.type,Cr),Li);at.__reactInternalSnapshotBeforeUpdate=Ke}break;case 3:var lt=v.stateNode.containerInfo;lt.nodeType===1?lt.textContent="":lt.nodeType===9&&lt.documentElement&&lt.removeChild(lt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Vt){bi(v,v.return,Vt)}if(p=v.sibling,p!==null){p.return=v.return,Ar=p;break}Ar=v.return}return Nr=lM,lM=!1,Nr}function Ly(p,v,k){var M=v.updateQueue;if(M=M!==null?M.lastEffect:null,M!==null){var W=M=M.next;do{if((W.tag&p)===p){var ee=W.destroy;W.destroy=void 0,ee!==void 0&&kA(v,k,ee)}W=W.next}while(W!==M)}}function N_(p,v){if(v=v.updateQueue,v=v!==null?v.lastEffect:null,v!==null){var k=v=v.next;do{if((k.tag&p)===p){var M=k.create;k.destroy=M()}k=k.next}while(k!==v)}}function NA(p){var v=p.ref;if(v!==null){var k=p.stateNode;switch(p.tag){case 5:p=k;break;default:p=k}typeof v=="function"?v(p):v.current=p}}function cM(p){var v=p.alternate;v!==null&&(p.alternate=null,cM(v)),p.child=null,p.deletions=null,p.sibling=null,p.tag===5&&(v=p.stateNode,v!==null&&(delete v[Pc],delete v[cp],delete v[ds],delete v[uA],delete v[dA])),p.stateNode=null,p.return=null,p.dependencies=null,p.memoizedProps=null,p.memoizedState=null,p.pendingProps=null,p.stateNode=null,p.updateQueue=null}function uM(p){return p.tag===5||p.tag===3||p.tag===4}function dM(p){e:for(;;){for(;p.sibling===null;){if(p.return===null||uM(p.return))return null;p=p.return}for(p.sibling.return=p.return,p=p.sibling;p.tag!==5&&p.tag!==6&&p.tag!==18;){if(p.flags&2||p.child===null||p.tag===4)continue e;p.child.return=p,p=p.child}if(!(p.flags&2))return p.stateNode}}function EA(p,v,k){var M=p.tag;if(M===5||M===6)p=p.stateNode,v?k.nodeType===8?k.parentNode.insertBefore(p,v):k.insertBefore(p,v):(k.nodeType===8?(v=k.parentNode,v.insertBefore(p,k)):(v=k,v.appendChild(p)),k=k._reactRootContainer,k!=null||v.onclick!==null||(v.onclick=lp));else if(M!==4&&(p=p.child,p!==null))for(EA(p,v,k),p=p.sibling;p!==null;)EA(p,v,k),p=p.sibling}function CA(p,v,k){var M=p.tag;if(M===5||M===6)p=p.stateNode,v?k.insertBefore(p,v):k.appendChild(p);else if(M!==4&&(p=p.child,p!==null))for(CA(p,v,k),p=p.sibling;p!==null;)CA(p,v,k),p=p.sibling}var Ko=null,Su=!1;function yp(p,v,k){for(k=k.child;k!==null;)fM(p,v,k),k=k.sibling}function fM(p,v,k){if(vi&&typeof vi.onCommitFiberUnmount=="function")try{vi.onCommitFiberUnmount(Us,k)}catch{}switch(k.tag){case 5:gs||av(k,v);case 6:var M=Ko,W=Su;Ko=null,yp(p,v,k),Ko=M,Su=W,Ko!==null&&(Su?(p=Ko,k=k.stateNode,p.nodeType===8?p.parentNode.removeChild(k):p.removeChild(k)):Ko.removeChild(k.stateNode));break;case 18:Ko!==null&&(Su?(p=Ko,k=k.stateNode,p.nodeType===8?Ey(p.parentNode,k):p.nodeType===1&&Ey(p,k),Ul(p)):Ey(Ko,k.stateNode));break;case 4:M=Ko,W=Su,Ko=k.stateNode.containerInfo,Su=!0,yp(p,v,k),Ko=M,Su=W;break;case 0:case 11:case 14:case 15:if(!gs&&(M=k.updateQueue,M!==null&&(M=M.lastEffect,M!==null))){W=M=M.next;do{var ee=W,ue=ee.destroy;ee=ee.tag,ue!==void 0&&((ee&2)!==0||(ee&4)!==0)&&kA(k,v,ue),W=W.next}while(W!==M)}yp(p,v,k);break;case 1:if(!gs&&(av(k,v),M=k.stateNode,typeof M.componentWillUnmount=="function"))try{M.props=k.memoizedProps,M.state=k.memoizedState,M.componentWillUnmount()}catch(Ce){bi(k,v,Ce)}yp(p,v,k);break;case 21:yp(p,v,k);break;case 22:k.mode&1?(gs=(M=gs)||k.memoizedState!==null,yp(p,v,k),gs=M):yp(p,v,k);break;default:yp(p,v,k)}}function hM(p){var v=p.updateQueue;if(v!==null){p.updateQueue=null;var k=p.stateNode;k===null&&(k=p.stateNode=new mse),v.forEach(function(M){var W=kse.bind(null,p,M);k.has(M)||(k.add(M),M.then(W,W))})}}function Au(p,v){var k=v.deletions;if(k!==null)for(var M=0;M<k.length;M++){var W=k[M];try{var ee=p,ue=v,Ce=ue;e:for(;Ce!==null;){switch(Ce.tag){case 5:Ko=Ce.stateNode,Su=!1;break e;case 3:Ko=Ce.stateNode.containerInfo,Su=!0;break e;case 4:Ko=Ce.stateNode.containerInfo,Su=!0;break e}Ce=Ce.return}if(Ko===null)throw Error(r(160));fM(ee,ue,W),Ko=null,Su=!1;var Be=W.alternate;Be!==null&&(Be.return=null),W.return=null}catch(dt){bi(W,v,dt)}}if(v.subtreeFlags&12854)for(v=v.child;v!==null;)pM(v,p),v=v.sibling}function pM(p,v){var k=p.alternate,M=p.flags;switch(p.tag){case 0:case 11:case 14:case 15:if(Au(v,p),Pd(p),M&4){try{Ly(3,p,p.return),N_(3,p)}catch(Cr){bi(p,p.return,Cr)}try{Ly(5,p,p.return)}catch(Cr){bi(p,p.return,Cr)}}break;case 1:Au(v,p),Pd(p),M&512&&k!==null&&av(k,k.return);break;case 5:if(Au(v,p),Pd(p),M&512&&k!==null&&av(k,k.return),p.flags&32){var W=p.stateNode;try{At(W,"")}catch(Cr){bi(p,p.return,Cr)}}if(M&4&&(W=p.stateNode,W!=null)){var ee=p.memoizedProps,ue=k!==null?k.memoizedProps:ee,Ce=p.type,Be=p.updateQueue;if(p.updateQueue=null,Be!==null)try{Ce==="input"&&ee.type==="radio"&&ee.name!=null&&he(W,ee),mi(Ce,ue);var dt=mi(Ce,ee);for(ue=0;ue<Be.length;ue+=2){var Lt=Be[ue],Bt=Be[ue+1];Lt==="style"?en(W,Bt):Lt==="dangerouslySetInnerHTML"?_t(W,Bt):Lt==="children"?At(W,Bt):S(W,Lt,Bt,dt)}switch(Ce){case"input":Ze(W,ee);break;case"textarea":We(W,ee);break;case"select":var Ft=W._wrapperState.wasMultiple;W._wrapperState.wasMultiple=!!ee.multiple;var vr=ee.value;vr!=null?st(W,!!ee.multiple,vr,!1):Ft!==!!ee.multiple&&(ee.defaultValue!=null?st(W,!!ee.multiple,ee.defaultValue,!0):st(W,!!ee.multiple,ee.multiple?[]:"",!1))}W[cp]=ee}catch(Cr){bi(p,p.return,Cr)}}break;case 6:if(Au(v,p),Pd(p),M&4){if(p.stateNode===null)throw Error(r(162));W=p.stateNode,ee=p.memoizedProps;try{W.nodeValue=ee}catch(Cr){bi(p,p.return,Cr)}}break;case 3:if(Au(v,p),Pd(p),M&4&&k!==null&&k.memoizedState.isDehydrated)try{Ul(v.containerInfo)}catch(Cr){bi(p,p.return,Cr)}break;case 4:Au(v,p),Pd(p);break;case 13:Au(v,p),Pd(p),W=p.child,W.flags&8192&&(ee=W.memoizedState!==null,W.stateNode.isHidden=ee,!ee||W.alternate!==null&&W.alternate.memoizedState!==null||(OA=$t())),M&4&&hM(p);break;case 22:if(Lt=k!==null&&k.memoizedState!==null,p.mode&1?(gs=(dt=gs)||Lt,Au(v,p),gs=dt):Au(v,p),Pd(p),M&8192){if(dt=p.memoizedState!==null,(p.stateNode.isHidden=dt)&&!Lt&&(p.mode&1)!==0)for(Ar=p,Lt=p.child;Lt!==null;){for(Bt=Ar=Lt;Ar!==null;){switch(Ft=Ar,vr=Ft.child,Ft.tag){case 0:case 11:case 14:case 15:Ly(4,Ft,Ft.return);break;case 1:av(Ft,Ft.return);var Nr=Ft.stateNode;if(typeof Nr.componentWillUnmount=="function"){M=Ft,k=Ft.return;try{v=M,Nr.props=v.memoizedProps,Nr.state=v.memoizedState,Nr.componentWillUnmount()}catch(Cr){bi(M,k,Cr)}}break;case 5:av(Ft,Ft.return);break;case 22:if(Ft.memoizedState!==null){vM(Bt);continue}}vr!==null?(vr.return=Ft,Ar=vr):vM(Bt)}Lt=Lt.sibling}e:for(Lt=null,Bt=p;;){if(Bt.tag===5){if(Lt===null){Lt=Bt;try{W=Bt.stateNode,dt?(ee=W.style,typeof ee.setProperty=="function"?ee.setProperty("display","none","important"):ee.display="none"):(Ce=Bt.stateNode,Be=Bt.memoizedProps.style,ue=Be!=null&&Be.hasOwnProperty("display")?Be.display:null,Ce.style.display=er("display",ue))}catch(Cr){bi(p,p.return,Cr)}}}else if(Bt.tag===6){if(Lt===null)try{Bt.stateNode.nodeValue=dt?"":Bt.memoizedProps}catch(Cr){bi(p,p.return,Cr)}}else if((Bt.tag!==22&&Bt.tag!==23||Bt.memoizedState===null||Bt===p)&&Bt.child!==null){Bt.child.return=Bt,Bt=Bt.child;continue}if(Bt===p)break e;for(;Bt.sibling===null;){if(Bt.return===null||Bt.return===p)break e;Lt===Bt&&(Lt=null),Bt=Bt.return}Lt===Bt&&(Lt=null),Bt.sibling.return=Bt.return,Bt=Bt.sibling}}break;case 19:Au(v,p),Pd(p),M&4&&hM(p);break;case 21:break;default:Au(v,p),Pd(p)}}function Pd(p){var v=p.flags;if(v&2){try{e:{for(var k=p.return;k!==null;){if(uM(k)){var M=k;break e}k=k.return}throw Error(r(160))}switch(M.tag){case 5:var W=M.stateNode;M.flags&32&&(At(W,""),M.flags&=-33);var ee=dM(p);CA(p,ee,W);break;case 3:case 4:var ue=M.stateNode.containerInfo,Ce=dM(p);EA(p,Ce,ue);break;default:throw Error(r(161))}}catch(Be){bi(p,p.return,Be)}p.flags&=-3}v&4096&&(p.flags&=-4097)}function vse(p,v,k){Ar=p,mM(p)}function mM(p,v,k){for(var M=(p.mode&1)!==0;Ar!==null;){var W=Ar,ee=W.child;if(W.tag===22&&M){var ue=W.memoizedState!==null||k_;if(!ue){var Ce=W.alternate,Be=Ce!==null&&Ce.memoizedState!==null||gs;Ce=k_;var dt=gs;if(k_=ue,(gs=Be)&&!dt)for(Ar=W;Ar!==null;)ue=Ar,Be=ue.child,ue.tag===22&&ue.memoizedState!==null?yM(W):Be!==null?(Be.return=ue,Ar=Be):yM(W);for(;ee!==null;)Ar=ee,mM(ee),ee=ee.sibling;Ar=W,k_=Ce,gs=dt}gM(p)}else(W.subtreeFlags&8772)!==0&&ee!==null?(ee.return=W,Ar=ee):gM(p)}}function gM(p){for(;Ar!==null;){var v=Ar;if((v.flags&8772)!==0){var k=v.alternate;try{if((v.flags&8772)!==0)switch(v.tag){case 0:case 11:case 15:gs||N_(5,v);break;case 1:var M=v.stateNode;if(v.flags&4&&!gs)if(k===null)M.componentDidMount();else{var W=v.elementType===v.type?k.memoizedProps:bu(v.type,k.memoizedProps);M.componentDidUpdate(W,k.memoizedState,M.__reactInternalSnapshotBeforeUpdate)}var ee=v.updateQueue;ee!==null&&Hf(v,ee,M);break;case 3:var ue=v.updateQueue;if(ue!==null){if(k=null,v.child!==null)switch(v.child.tag){case 5:k=v.child.stateNode;break;case 1:k=v.child.stateNode}Hf(v,ue,k)}break;case 5:var Ce=v.stateNode;if(k===null&&v.flags&4){k=Ce;var Be=v.memoizedProps;switch(v.type){case"button":case"input":case"select":case"textarea":Be.autoFocus&&k.focus();break;case"img":Be.src&&(k.src=Be.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(v.memoizedState===null){var dt=v.alternate;if(dt!==null){var Lt=dt.memoizedState;if(Lt!==null){var Bt=Lt.dehydrated;Bt!==null&&Ul(Bt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}gs||v.flags&512&&NA(v)}catch(Ft){bi(v,v.return,Ft)}}if(v===p){Ar=null;break}if(k=v.sibling,k!==null){k.return=v.return,Ar=k;break}Ar=v.return}}function vM(p){for(;Ar!==null;){var v=Ar;if(v===p){Ar=null;break}var k=v.sibling;if(k!==null){k.return=v.return,Ar=k;break}Ar=v.return}}function yM(p){for(;Ar!==null;){var v=Ar;try{switch(v.tag){case 0:case 11:case 15:var k=v.return;try{N_(4,v)}catch(Be){bi(v,k,Be)}break;case 1:var M=v.stateNode;if(typeof M.componentDidMount=="function"){var W=v.return;try{M.componentDidMount()}catch(Be){bi(v,W,Be)}}var ee=v.return;try{NA(v)}catch(Be){bi(v,ee,Be)}break;case 5:var ue=v.return;try{NA(v)}catch(Be){bi(v,ue,Be)}}}catch(Be){bi(v,v.return,Be)}if(v===p){Ar=null;break}var Ce=v.sibling;if(Ce!==null){Ce.return=v.return,Ar=Ce;break}Ar=v.return}}var yse=Math.ceil,E_=C.ReactCurrentDispatcher,TA=C.ReactCurrentOwner,Mc=C.ReactCurrentBatchConfig,Wn=0,Co=null,Qi=null,Yo=0,Yl=0,iv=Hl(0),ho=0,jy=null,sm=0,C_=0,PA=0,$y=null,bl=null,OA=0,ov=1/0,Kf=null,T_=!1,DA=null,xp=null,P_=!1,wp=null,O_=0,By=0,IA=null,D_=-1,I_=0;function Zs(){return(Wn&6)!==0?$t():D_!==-1?D_:D_=$t()}function _p(p){return(p.mode&1)===0?1:(Wn&2)!==0&&Yo!==0?Yo&-Yo:da.transition!==null?(I_===0&&(I_=L0()),I_):(p=qn,p!==0||(p=window.event,p=p===void 0?16:q0(p.type)),p)}function ku(p,v,k,M){if(50<By)throw By=0,IA=null,Error(r(185));fd(p,k,M),((Wn&2)===0||p!==Co)&&(p===Co&&((Wn&2)===0&&(C_|=k),ho===4&&bp(p,Yo)),Sl(p,M),k===1&&Wn===0&&(v.mode&1)===0&&(ov=$t()+500,nm&&ne()))}function Sl(p,v){var k=p.callbackNode;ss(p,v);var M=os(p,p===Co?Yo:0);if(M===0)k!==null&&Gt(k),p.callbackNode=null,p.callbackPriority=0;else if(v=M&-M,p.callbackPriority!==v){if(k!=null&&Gt(k),v===1)p.tag===0?V(wM.bind(null,p)):F(wM.bind(null,p)),lA(function(){(Wn&6)===0&&ne()}),k=null;else{switch($h(M)){case 1:k=Ln;break;case 4:k=ea;break;case 16:k=$a;break;case 536870912:k=xc;break;default:k=$a}k=CM(k,xM.bind(null,p))}p.callbackPriority=v,p.callbackNode=k}}function xM(p,v){if(D_=-1,I_=0,(Wn&6)!==0)throw Error(r(327));var k=p.callbackNode;if(sv()&&p.callbackNode!==k)return null;var M=os(p,p===Co?Yo:0);if(M===0)return null;if((M&30)!==0||(M&p.expiredLanes)!==0||v)v=R_(p,M);else{v=M;var W=Wn;Wn|=2;var ee=bM();(Co!==p||Yo!==v)&&(Kf=null,ov=$t()+500,cm(p,v));do try{_se();break}catch(Ce){_M(p,Ce)}while(!0);fo(),E_.current=ee,Wn=W,Qi!==null?v=0:(Co=null,Yo=0,v=ho)}if(v!==0){if(v===2&&(W=bf(p),W!==0&&(M=W,v=RA(p,W))),v===1)throw k=jy,cm(p,0),bp(p,M),Sl(p,$t()),k;if(v===6)bp(p,M);else{if(W=p.current.alternate,(M&30)===0&&!xse(W)&&(v=R_(p,M),v===2&&(ee=bf(p),ee!==0&&(M=ee,v=RA(p,ee))),v===1))throw k=jy,cm(p,0),bp(p,M),Sl(p,$t()),k;switch(p.finishedWork=W,p.finishedLanes=M,v){case 0:case 1:throw Error(r(345));case 2:um(p,bl,Kf);break;case 3:if(bp(p,M),(M&130023424)===M&&(v=OA+500-$t(),10<v)){if(os(p,0)!==0)break;if(W=p.suspendedLanes,(W&M)!==M){Zs(),p.pingedLanes|=p.suspendedLanes&W;break}p.timeoutHandle=Ny(um.bind(null,p,bl,Kf),v);break}um(p,bl,Kf);break;case 4:if(bp(p,M),(M&4194240)===M)break;for(v=p.eventTimes,W=-1;0<M;){var ue=31-Ba(M);ee=1<<ue,ue=v[ue],ue>W&&(W=ue),M&=~ee}if(M=W,M=$t()-M,M=(120>M?120:480>M?480:1080>M?1080:1920>M?1920:3e3>M?3e3:4320>M?4320:1960*yse(M/1960))-M,10<M){p.timeoutHandle=Ny(um.bind(null,p,bl,Kf),M);break}um(p,bl,Kf);break;case 5:um(p,bl,Kf);break;default:throw Error(r(329))}}}return Sl(p,$t()),p.callbackNode===k?xM.bind(null,p):null}function RA(p,v){var k=$y;return p.current.memoizedState.isDehydrated&&(cm(p,v).flags|=256),p=R_(p,v),p!==2&&(v=bl,bl=k,v!==null&&MA(v)),p}function MA(p){bl===null?bl=p:bl.push.apply(bl,p)}function xse(p){for(var v=p;;){if(v.flags&16384){var k=v.updateQueue;if(k!==null&&(k=k.stores,k!==null))for(var M=0;M<k.length;M++){var W=k[M],ee=W.getSnapshot;W=W.value;try{if(!zn(ee(),W))return!1}catch{return!1}}}if(k=v.child,v.subtreeFlags&16384&&k!==null)k.return=v,v=k;else{if(v===p)break;for(;v.sibling===null;){if(v.return===null||v.return===p)return!0;v=v.return}v.sibling.return=v.return,v=v.sibling}}return!0}function bp(p,v){for(v&=~PA,v&=~C_,p.suspendedLanes|=v,p.pingedLanes&=~v,p=p.expirationTimes;0<v;){var k=31-Ba(v),M=1<<k;p[k]=-1,v&=~M}}function wM(p){if((Wn&6)!==0)throw Error(r(327));sv();var v=os(p,0);if((v&1)===0)return Sl(p,$t()),null;var k=R_(p,v);if(p.tag!==0&&k===2){var M=bf(p);M!==0&&(v=M,k=RA(p,M))}if(k===1)throw k=jy,cm(p,0),bp(p,v),Sl(p,$t()),k;if(k===6)throw Error(r(345));return p.finishedWork=p.current.alternate,p.finishedLanes=v,um(p,bl,Kf),Sl(p,$t()),null}function FA(p,v){var k=Wn;Wn|=1;try{return p(v)}finally{Wn=k,Wn===0&&(ov=$t()+500,nm&&ne())}}function lm(p){wp!==null&&wp.tag===0&&(Wn&6)===0&&sv();var v=Wn;Wn|=1;var k=Mc.transition,M=qn;try{if(Mc.transition=null,qn=1,p)return p()}finally{qn=M,Mc.transition=k,Wn=v,(Wn&6)===0&&ne()}}function LA(){Yl=iv.current,ra(iv)}function cm(p,v){p.finishedWork=null,p.finishedLanes=0;var k=p.timeoutHandle;if(k!==-1&&(p.timeoutHandle=-1,f_(k)),Qi!==null)for(k=Qi.return;k!==null;){var M=k;switch(qe(M),M.tag){case 1:M=M.type.childContextTypes,M!=null&&Vg();break;case 3:Dc(),ra(fs),ra(uo),Iy();break;case 5:Oy(M);break;case 4:Dc();break;case 13:ra(ka);break;case 19:ra(ka);break;case 10:ps(M.type._context);break;case 22:case 23:LA()}k=k.return}if(Co=p,Qi=p=Sp(p.current,null),Yo=Yl=v,ho=0,jy=null,PA=C_=sm=0,bl=$y=null,Vs!==null){for(v=0;v<Vs.length;v++)if(k=Vs[v],M=k.interleaved,M!==null){k.interleaved=null;var W=M.next,ee=k.pending;if(ee!==null){var ue=ee.next;ee.next=W,M.next=ue}k.pending=M}Vs=null}return p}function _M(p,v){do{var k=Qi;try{if(fo(),Kg.current=__,mp){for(var M=Ta.memoizedState;M!==null;){var W=M.queue;W!==null&&(W.pending=null),M=M.next}mp=!1}if(Ic=0,ci=_i=Ta=null,wu=!1,gp=0,TA.current=null,k===null||k.return===null){ho=1,jy=v,Qi=null;break}e:{var ee=p,ue=k.return,Ce=k,Be=v;if(v=Yo,Ce.flags|=32768,Be!==null&&typeof Be=="object"&&typeof Be.then=="function"){var dt=Be,Lt=Ce,Bt=Lt.tag;if((Lt.mode&1)===0&&(Bt===0||Bt===11||Bt===15)){var Ft=Lt.alternate;Ft?(Lt.updateQueue=Ft.updateQueue,Lt.memoizedState=Ft.memoizedState,Lt.lanes=Ft.lanes):(Lt.updateQueue=null,Lt.memoizedState=null)}var vr=V7(ue);if(vr!==null){vr.flags&=-257,G7(vr,ue,Ce,ee,v),vr.mode&1&&H7(ee,dt,v),v=vr,Be=dt;var Nr=v.updateQueue;if(Nr===null){var Cr=new Set;Cr.add(Be),v.updateQueue=Cr}else Nr.add(Be);break e}else{if((v&1)===0){H7(ee,dt,v),jA();break e}Be=Error(r(426))}}else if(St&&Ce.mode&1){var Li=V7(ue);if(Li!==null){(Li.flags&65536)===0&&(Li.flags|=256),G7(Li,ue,Ce,ee,v),na(nv(Be,Ce));break e}}ee=Be=nv(Be,Ce),ho!==4&&(ho=2),$y===null?$y=[ee]:$y.push(ee),ee=ue;do{switch(ee.tag){case 3:ee.flags|=65536,v&=-v,ee.lanes|=v;var at=z7(ee,Be,v);wl(ee,at);break e;case 1:Ce=Be;var Ke=ee.type,lt=ee.stateNode;if((ee.flags&128)===0&&(typeof Ke.getDerivedStateFromError=="function"||lt!==null&&typeof lt.componentDidCatch=="function"&&(xp===null||!xp.has(lt)))){ee.flags|=65536,v&=-v,ee.lanes|=v;var Vt=W7(ee,Ce,v);wl(ee,Vt);break e}}ee=ee.return}while(ee!==null)}AM(k)}catch(Tr){v=Tr,Qi===k&&k!==null&&(Qi=k=k.return);continue}break}while(!0)}function bM(){var p=E_.current;return E_.current=__,p===null?__:p}function jA(){(ho===0||ho===3||ho===2)&&(ho=4),Co===null||(sm&268435455)===0&&(C_&268435455)===0||bp(Co,Yo)}function R_(p,v){var k=Wn;Wn|=2;var M=bM();(Co!==p||Yo!==v)&&(Kf=null,cm(p,v));do try{wse();break}catch(W){_M(p,W)}while(!0);if(fo(),Wn=k,E_.current=M,Qi!==null)throw Error(r(261));return Co=null,Yo=0,ho}function wse(){for(;Qi!==null;)SM(Qi)}function _se(){for(;Qi!==null&&!or();)SM(Qi)}function SM(p){var v=EM(p.alternate,p,Yl);p.memoizedProps=p.pendingProps,v===null?AM(p):Qi=v,TA.current=null}function AM(p){var v=p;do{var k=v.alternate;if(p=v.return,(v.flags&32768)===0){if(k=hse(k,v,Yl),k!==null){Qi=k;return}}else{if(k=pse(k,v),k!==null){k.flags&=32767,Qi=k;return}if(p!==null)p.flags|=32768,p.subtreeFlags=0,p.deletions=null;else{ho=6,Qi=null;return}}if(v=v.sibling,v!==null){Qi=v;return}Qi=v=p}while(v!==null);ho===0&&(ho=5)}function um(p,v,k){var M=qn,W=Mc.transition;try{Mc.transition=null,qn=1,bse(p,v,k,M)}finally{Mc.transition=W,qn=M}return null}function bse(p,v,k,M){do sv();while(wp!==null);if((Wn&6)!==0)throw Error(r(327));k=p.finishedWork;var W=p.finishedLanes;if(k===null)return null;if(p.finishedWork=null,p.finishedLanes=0,k===p.current)throw Error(r(177));p.callbackNode=null,p.callbackPriority=0;var ee=k.lanes|k.childLanes;if(by(p,ee),p===Co&&(Qi=Co=null,Yo=0),(k.subtreeFlags&2064)===0&&(k.flags&2064)===0||P_||(P_=!0,CM($a,function(){return sv(),null})),ee=(k.flags&15990)!==0,(k.subtreeFlags&15990)!==0||ee){ee=Mc.transition,Mc.transition=null;var ue=qn;qn=1;var Ce=Wn;Wn|=4,TA.current=null,gse(p,k),pM(k,p),Mf(Bf),zh=!!tm,Bf=tm=null,p.current=k,vse(k),zt(),Wn=Ce,qn=ue,Mc.transition=ee}else p.current=k;if(P_&&(P_=!1,wp=p,O_=W),ee=p.pendingLanes,ee===0&&(xp=null),wc(k.stateNode),Sl(p,$t()),v!==null)for(M=p.onRecoverableError,k=0;k<v.length;k++)W=v[k],M(W.value,{componentStack:W.stack,digest:W.digest});if(T_)throw T_=!1,p=DA,DA=null,p;return(O_&1)!==0&&p.tag!==0&&sv(),ee=p.pendingLanes,(ee&1)!==0?p===IA?By++:(By=0,IA=p):By=0,ne(),null}function sv(){if(wp!==null){var p=$h(O_),v=Mc.transition,k=qn;try{if(Mc.transition=null,qn=16>p?16:p,wp===null)var M=!1;else{if(p=wp,wp=null,O_=0,(Wn&6)!==0)throw Error(r(331));var W=Wn;for(Wn|=4,Ar=p.current;Ar!==null;){var ee=Ar,ue=ee.child;if((Ar.flags&16)!==0){var Ce=ee.deletions;if(Ce!==null){for(var Be=0;Be<Ce.length;Be++){var dt=Ce[Be];for(Ar=dt;Ar!==null;){var Lt=Ar;switch(Lt.tag){case 0:case 11:case 15:Ly(8,Lt,ee)}var Bt=Lt.child;if(Bt!==null)Bt.return=Lt,Ar=Bt;else for(;Ar!==null;){Lt=Ar;var Ft=Lt.sibling,vr=Lt.return;if(cM(Lt),Lt===dt){Ar=null;break}if(Ft!==null){Ft.return=vr,Ar=Ft;break}Ar=vr}}}var Nr=ee.alternate;if(Nr!==null){var Cr=Nr.child;if(Cr!==null){Nr.child=null;do{var Li=Cr.sibling;Cr.sibling=null,Cr=Li}while(Cr!==null)}}Ar=ee}}if((ee.subtreeFlags&2064)!==0&&ue!==null)ue.return=ee,Ar=ue;else e:for(;Ar!==null;){if(ee=Ar,(ee.flags&2048)!==0)switch(ee.tag){case 0:case 11:case 15:Ly(9,ee,ee.return)}var at=ee.sibling;if(at!==null){at.return=ee.return,Ar=at;break e}Ar=ee.return}}var Ke=p.current;for(Ar=Ke;Ar!==null;){ue=Ar;var lt=ue.child;if((ue.subtreeFlags&2064)!==0&&lt!==null)lt.return=ue,Ar=lt;else e:for(ue=Ke;Ar!==null;){if(Ce=Ar,(Ce.flags&2048)!==0)try{switch(Ce.tag){case 0:case 11:case 15:N_(9,Ce)}}catch(Tr){bi(Ce,Ce.return,Tr)}if(Ce===ue){Ar=null;break e}var Vt=Ce.sibling;if(Vt!==null){Vt.return=Ce.return,Ar=Vt;break e}Ar=Ce.return}}if(Wn=W,ne(),vi&&typeof vi.onPostCommitFiberRoot=="function")try{vi.onPostCommitFiberRoot(Us,p)}catch{}M=!0}return M}finally{qn=k,Mc.transition=v}}return!1}function kM(p,v,k){v=nv(k,v),v=z7(p,v,1),p=xl(p,v,1),v=Zs(),p!==null&&(fd(p,1,v),Sl(p,v))}function bi(p,v,k){if(p.tag===3)kM(p,p,k);else for(;v!==null;){if(v.tag===3){kM(v,p,k);break}else if(v.tag===1){var M=v.stateNode;if(typeof v.type.getDerivedStateFromError=="function"||typeof M.componentDidCatch=="function"&&(xp===null||!xp.has(M))){p=nv(k,p),p=W7(v,p,1),v=xl(v,p,1),p=Zs(),v!==null&&(fd(v,1,p),Sl(v,p));break}}v=v.return}}function Sse(p,v,k){var M=p.pingCache;M!==null&&M.delete(v),v=Zs(),p.pingedLanes|=p.suspendedLanes&k,Co===p&&(Yo&k)===k&&(ho===4||ho===3&&(Yo&130023424)===Yo&&500>$t()-OA?cm(p,0):PA|=k),Sl(p,v)}function NM(p,v){v===0&&((p.mode&1)===0?v=1:(v=dd,dd<<=1,(dd&130023424)===0&&(dd=4194304)));var k=Zs();p=Yn(p,v),p!==null&&(fd(p,v,k),Sl(p,k))}function Ase(p){var v=p.memoizedState,k=0;v!==null&&(k=v.retryLane),NM(p,k)}function kse(p,v){var k=0;switch(p.tag){case 13:var M=p.stateNode,W=p.memoizedState;W!==null&&(k=W.retryLane);break;case 19:M=p.stateNode;break;default:throw Error(r(314))}M!==null&&M.delete(v),NM(p,k)}var EM;EM=function(p,v,k){if(p!==null)if(p.memoizedProps!==v.pendingProps||fs.current)_l=!0;else{if((p.lanes&k)===0&&(v.flags&128)===0)return _l=!1,fse(p,v,k);_l=(p.flags&131072)!==0}else _l=!1,St&&(v.flags&1048576)!==0&&Ot(v,ge,v.index);switch(v.lanes=0,v.tag){case 2:var M=v.type;A_(p,v),p=v.pendingProps;var W=dp(v,uo.current);Ha(v,k),W=am(null,v,M,p,W,k);var ee=Rc();return v.flags|=1,typeof W=="object"&&W!==null&&typeof W.render=="function"&&W.$$typeof===void 0?(v.tag=1,v.memoizedState=null,v.updateQueue=null,hs(M)?(ee=!0,zf(v)):ee=!1,v.memoizedState=W.state!==null&&W.state!==void 0?W.state:null,Gg(v),W.updater=b_,v.stateNode=W,W._reactInternals=v,mA(v,M,p,k),v=xA(null,v,M,!0,ee,k)):(v.tag=0,St&&ee&&gt(v),Xs(null,v,W,k),v=v.child),v;case 16:M=v.elementType;e:{switch(A_(p,v),p=v.pendingProps,W=M._init,M=W(M._payload),v.type=M,W=v.tag=Ese(M),p=bu(M,p),W){case 0:v=yA(null,v,M,p,k);break e;case 1:v=Q7(null,v,M,p,k);break e;case 11:v=K7(null,v,M,p,k);break e;case 14:v=Y7(null,v,M,bu(M.type,p),k);break e}throw Error(r(306,M,""))}return v;case 0:return M=v.type,W=v.pendingProps,W=v.elementType===M?W:bu(M,W),yA(p,v,M,W,k);case 1:return M=v.type,W=v.pendingProps,W=v.elementType===M?W:bu(M,W),Q7(p,v,M,W,k);case 3:e:{if(eM(v),p===null)throw Error(r(387));M=v.pendingProps,ee=v.memoizedState,W=ee.element,Py(p,v),yu(v,M,null,k);var ue=v.memoizedState;if(M=ue.element,ee.isDehydrated)if(ee={element:M,isDehydrated:!1,cache:ue.cache,pendingSuspenseBoundaries:ue.pendingSuspenseBoundaries,transitions:ue.transitions},v.updateQueue.baseState=ee,v.memoizedState=ee,v.flags&256){W=nv(Error(r(423)),v),v=tM(p,v,M,k,W);break e}else if(M!==W){W=nv(Error(r(424)),v),v=tM(p,v,M,k,W);break e}else for(kt=Vo(v.stateNode.containerInfo.firstChild),ze=v,St=!0,Et=null,k=Kn(v,null,M,k),v.child=k;k;)k.flags=k.flags&-3|4096,k=k.sibling;else{if(gn(),M===W){v=Gf(p,v,k);break e}Xs(p,v,M,k)}v=v.child}return v;case 5:return g_(v),p===null&&ar(v),M=v.type,W=v.pendingProps,ee=p!==null?p.memoizedProps:null,ue=W.children,ky(M,W)?ue=null:ee!==null&&ky(M,ee)&&(v.flags|=32),J7(p,v),Xs(p,v,ue,k),v.child;case 6:return p===null&&ar(v),null;case 13:return rM(p,v,k);case 4:return pp(v,v.stateNode.containerInfo),M=v.pendingProps,p===null?v.child=Ri(v,null,M,k):Xs(p,v,M,k),v.child;case 11:return M=v.type,W=v.pendingProps,W=v.elementType===M?W:bu(M,W),K7(p,v,M,W,k);case 7:return Xs(p,v,v.pendingProps,k),v.child;case 8:return Xs(p,v,v.pendingProps.children,k),v.child;case 12:return Xs(p,v,v.pendingProps.children,k),v.child;case 10:e:{if(M=v.type._context,W=v.pendingProps,ee=v.memoizedProps,ue=W.value,ua(No,M._currentValue),M._currentValue=ue,ee!==null)if(zn(ee.value,ue)){if(ee.children===W.children&&!fs.current){v=Gf(p,v,k);break e}}else for(ee=v.child,ee!==null&&(ee.return=v);ee!==null;){var Ce=ee.dependencies;if(Ce!==null){ue=ee.child;for(var Be=Ce.firstContext;Be!==null;){if(Be.context===M){if(ee.tag===1){Be=yl(-1,k&-k),Be.tag=2;var dt=ee.updateQueue;if(dt!==null){dt=dt.shared;var Lt=dt.pending;Lt===null?Be.next=Be:(Be.next=Lt.next,Lt.next=Be),dt.pending=Be}}ee.lanes|=k,Be=ee.alternate,Be!==null&&(Be.lanes|=k),vl(ee.return,k,v),Ce.lanes|=k;break}Be=Be.next}}else if(ee.tag===10)ue=ee.type===v.type?null:ee.child;else if(ee.tag===18){if(ue=ee.return,ue===null)throw Error(r(341));ue.lanes|=k,Ce=ue.alternate,Ce!==null&&(Ce.lanes|=k),vl(ue,k,v),ue=ee.sibling}else ue=ee.child;if(ue!==null)ue.return=ee;else for(ue=ee;ue!==null;){if(ue===v){ue=null;break}if(ee=ue.sibling,ee!==null){ee.return=ue.return,ue=ee;break}ue=ue.return}ee=ue}Xs(p,v,W.children,k),v=v.child}return v;case 9:return W=v.type,M=v.pendingProps.children,Ha(v,k),W=wi(W),M=M(W),v.flags|=1,Xs(p,v,M,k),v.child;case 14:return M=v.type,W=bu(M,v.pendingProps),W=bu(M.type,W),Y7(p,v,M,W,k);case 15:return X7(p,v,v.type,v.pendingProps,k);case 17:return M=v.type,W=v.pendingProps,W=v.elementType===M?W:bu(M,W),A_(p,v),v.tag=1,hs(M)?(p=!0,zf(v)):p=!1,Ha(v,k),U7(v,M,W),mA(v,M,W,k),xA(null,v,M,!0,p,k);case 19:return aM(p,v,k);case 22:return Z7(p,v,k)}throw Error(r(156,v.tag))};function CM(p,v){return Rt(p,v)}function Nse(p,v,k,M){this.tag=p,this.key=k,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=v,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=M,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fc(p,v,k,M){return new Nse(p,v,k,M)}function $A(p){return p=p.prototype,!(!p||!p.isReactComponent)}function Ese(p){if(typeof p=="function")return $A(p)?1:0;if(p!=null){if(p=p.$$typeof,p===O)return 11;if(p===Y)return 14}return 2}function Sp(p,v){var k=p.alternate;return k===null?(k=Fc(p.tag,v,p.key,p.mode),k.elementType=p.elementType,k.type=p.type,k.stateNode=p.stateNode,k.alternate=p,p.alternate=k):(k.pendingProps=v,k.type=p.type,k.flags=0,k.subtreeFlags=0,k.deletions=null),k.flags=p.flags&14680064,k.childLanes=p.childLanes,k.lanes=p.lanes,k.child=p.child,k.memoizedProps=p.memoizedProps,k.memoizedState=p.memoizedState,k.updateQueue=p.updateQueue,v=p.dependencies,k.dependencies=v===null?null:{lanes:v.lanes,firstContext:v.firstContext},k.sibling=p.sibling,k.index=p.index,k.ref=p.ref,k}function M_(p,v,k,M,W,ee){var ue=2;if(M=p,typeof p=="function")$A(p)&&(ue=1);else if(typeof p=="string")ue=5;else e:switch(p){case T:return dm(k.children,W,ee,v);case I:ue=8,W|=8;break;case L:return p=Fc(12,k,v,W|2),p.elementType=L,p.lanes=ee,p;case j:return p=Fc(13,k,v,W),p.elementType=j,p.lanes=ee,p;case G:return p=Fc(19,k,v,W),p.elementType=G,p.lanes=ee,p;case q:return F_(k,W,ee,v);default:if(typeof p=="object"&&p!==null)switch(p.$$typeof){case B:ue=10;break e;case P:ue=9;break e;case O:ue=11;break e;case Y:ue=14;break e;case re:ue=16,M=null;break e}throw Error(r(130,p==null?p:typeof p,""))}return v=Fc(ue,k,v,W),v.elementType=p,v.type=M,v.lanes=ee,v}function dm(p,v,k,M){return p=Fc(7,p,M,v),p.lanes=k,p}function F_(p,v,k,M){return p=Fc(22,p,M,v),p.elementType=q,p.lanes=k,p.stateNode={isHidden:!1},p}function BA(p,v,k){return p=Fc(6,p,null,v),p.lanes=k,p}function UA(p,v,k){return v=Fc(4,p.children!==null?p.children:[],p.key,v),v.lanes=k,v.stateNode={containerInfo:p.containerInfo,pendingChildren:null,implementation:p.implementation},v}function Cse(p,v,k,M,W){this.tag=v,this.containerInfo=p,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=j0(0),this.expirationTimes=j0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=j0(0),this.identifierPrefix=M,this.onRecoverableError=W,this.mutableSourceEagerHydrationData=null}function qA(p,v,k,M,W,ee,ue,Ce,Be){return p=new Cse(p,v,k,Ce,Be),v===1?(v=1,ee===!0&&(v|=8)):v=0,ee=Fc(3,null,null,v),p.current=ee,ee.stateNode=p,ee.memoizedState={element:M,isDehydrated:k,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gg(ee),p}function Tse(p,v,k){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:D,key:M==null?null:""+M,children:p,containerInfo:v,implementation:k}}function TM(p){if(!p)return Nd;p=p._reactInternals;e:{if(ke(p)!==p||p.tag!==1)throw Error(r(170));var v=p;do{switch(v.tag){case 3:v=v.stateNode.context;break e;case 1:if(hs(v.type)){v=v.stateNode.__reactInternalMemoizedMergedChildContext;break e}}v=v.return}while(v!==null);throw Error(r(171))}if(p.tag===1){var k=p.type;if(hs(k))return Ty(p,k,v)}return v}function PM(p,v,k,M,W,ee,ue,Ce,Be){return p=qA(k,M,!0,p,W,ee,ue,Ce,Be),p.context=TM(null),k=p.current,M=Zs(),W=_p(k),ee=yl(M,W),ee.callback=v??null,xl(k,ee,W),p.current.lanes=W,fd(p,W,M),Sl(p,M),p}function L_(p,v,k,M){var W=v.current,ee=Zs(),ue=_p(W);return k=TM(k),v.context===null?v.context=k:v.pendingContext=k,v=yl(ee,ue),v.payload={element:p},M=M===void 0?null:M,M!==null&&(v.callback=M),p=xl(W,v,ue),p!==null&&(ku(p,W,ue,ee),Wf(p,W,ue)),ue}function j_(p){if(p=p.current,!p.child)return null;switch(p.child.tag){case 5:return p.child.stateNode;default:return p.child.stateNode}}function OM(p,v){if(p=p.memoizedState,p!==null&&p.dehydrated!==null){var k=p.retryLane;p.retryLane=k!==0&&k<v?k:v}}function zA(p,v){OM(p,v),(p=p.alternate)&&OM(p,v)}function Pse(){return null}var DM=typeof reportError=="function"?reportError:function(p){console.error(p)};function WA(p){this._internalRoot=p}$_.prototype.render=WA.prototype.render=function(p){var v=this._internalRoot;if(v===null)throw Error(r(409));L_(p,v,null,null)},$_.prototype.unmount=WA.prototype.unmount=function(){var p=this._internalRoot;if(p!==null){this._internalRoot=null;var v=p.containerInfo;lm(function(){L_(null,p,null,null)}),v[ko]=null}};function $_(p){this._internalRoot=p}$_.prototype.unstable_scheduleHydration=function(p){if(p){var v=_c();p={blockedOn:null,target:p,priority:v};for(var k=0;k<Sc.length&&v!==0&&v<Sc[k].priority;k++);Sc.splice(k,0,p),k===0&&Uh(p)}};function HA(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)}function B_(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11&&(p.nodeType!==8||p.nodeValue!==" react-mount-point-unstable "))}function IM(){}function Ose(p,v,k,M,W){if(W){if(typeof M=="function"){var ee=M;M=function(){var dt=j_(ue);ee.call(dt)}}var ue=PM(v,M,p,0,null,!1,!1,"",IM);return p._reactRootContainer=ue,p[ko]=ue.current,jf(p.nodeType===8?p.parentNode:p),lm(),ue}for(;W=p.lastChild;)p.removeChild(W);if(typeof M=="function"){var Ce=M;M=function(){var dt=j_(Be);Ce.call(dt)}}var Be=qA(p,0,!1,null,null,!1,!1,"",IM);return p._reactRootContainer=Be,p[ko]=Be.current,jf(p.nodeType===8?p.parentNode:p),lm(function(){L_(v,Be,k,M)}),Be}function U_(p,v,k,M,W){var ee=k._reactRootContainer;if(ee){var ue=ee;if(typeof W=="function"){var Ce=W;W=function(){var Be=j_(ue);Ce.call(Be)}}L_(v,ue,p,W)}else ue=Ose(k,v,p,W,M);return j_(ue)}Fg=function(p){switch(p.tag){case 3:var v=p.stateNode;if(v.current.memoizedState.isDehydrated){var k=_f(v.pendingLanes);k!==0&&(jh(v,k|1),Sl(v,$t()),(Wn&6)===0&&(ov=$t()+500,ne()))}break;case 13:lm(function(){var M=Yn(p,1);if(M!==null){var W=Zs();ku(M,p,1,W)}}),zA(p,1)}},$0=function(p){if(p.tag===13){var v=Yn(p,134217728);if(v!==null){var k=Zs();ku(v,p,134217728,k)}zA(p,134217728)}},Lg=function(p){if(p.tag===13){var v=_p(p),k=Yn(p,v);if(k!==null){var M=Zs();ku(k,p,v,M)}zA(p,v)}},_c=function(){return qn},Sf=function(p,v){var k=qn;try{return qn=p,v()}finally{qn=k}},Tt=function(p,v,k){switch(v){case"input":if(Ze(p,k),v=k.name,k.type==="radio"&&v!=null){for(k=p;k.parentNode;)k=k.parentNode;for(k=k.querySelectorAll("input[name="+JSON.stringify(""+v)+'][type="radio"]'),v=0;v<k.length;v++){var M=k[v];if(M!==p&&M.form===p.form){var W=rm(M);if(!W)throw Error(r(90));ae(M),Ze(M,W)}}}break;case"textarea":We(p,k);break;case"select":v=k.value,v!=null&&st(p,!!k.multiple,v,!1)}},mr=FA,cr=lm;var Dse={usingClientEntryPoint:!1,Events:[up,Uf,rm,Re,xt,FA]},Uy={findFiberByHostInstance:kd,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ise={bundleType:Uy.bundleType,version:Uy.version,rendererPackageName:Uy.rendererPackageName,rendererConfig:Uy.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(p){return p=it(p),p===null?null:p.stateNode},findFiberByHostInstance:Uy.findFiberByHostInstance||Pse,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var q_=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!q_.isDisabled&&q_.supportsFiber)try{Us=q_.inject(Ise),vi=q_}catch{}}return Al.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dse,Al.createPortal=function(p,v){var k=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!HA(v))throw Error(r(200));return Tse(p,v,null,k)},Al.createRoot=function(p,v){if(!HA(p))throw Error(r(299));var k=!1,M="",W=DM;return v!=null&&(v.unstable_strictMode===!0&&(k=!0),v.identifierPrefix!==void 0&&(M=v.identifierPrefix),v.onRecoverableError!==void 0&&(W=v.onRecoverableError)),v=qA(p,1,!1,null,null,k,!1,M,W),p[ko]=v.current,jf(p.nodeType===8?p.parentNode:p),new WA(v)},Al.findDOMNode=function(p){if(p==null)return null;if(p.nodeType===1)return p;var v=p._reactInternals;if(v===void 0)throw typeof p.render=="function"?Error(r(188)):(p=Object.keys(p).join(","),Error(r(268,p)));return p=it(v),p=p===null?null:p.stateNode,p},Al.flushSync=function(p){return lm(p)},Al.hydrate=function(p,v,k){if(!B_(v))throw Error(r(200));return U_(null,p,v,!0,k)},Al.hydrateRoot=function(p,v,k){if(!HA(p))throw Error(r(405));var M=k!=null&&k.hydratedSources||null,W=!1,ee="",ue=DM;if(k!=null&&(k.unstable_strictMode===!0&&(W=!0),k.identifierPrefix!==void 0&&(ee=k.identifierPrefix),k.onRecoverableError!==void 0&&(ue=k.onRecoverableError)),v=PM(v,null,p,1,k??null,W,!1,ee,ue),p[ko]=v.current,jf(p),M)for(p=0;p<M.length;p++)k=M[p],W=k._getVersion,W=W(k._source),v.mutableSourceEagerHydrationData==null?v.mutableSourceEagerHydrationData=[k,W]:v.mutableSourceEagerHydrationData.push(k,W);return new $_(v)},Al.render=function(p,v,k){if(!B_(v))throw Error(r(200));return U_(null,p,v,!1,k)},Al.unmountComponentAtNode=function(p){if(!B_(p))throw Error(r(40));return p._reactRootContainer?(lm(function(){U_(null,null,p,!1,function(){p._reactRootContainer=null,p[ko]=null})}),!0):!1},Al.unstable_batchedUpdates=FA,Al.unstable_renderSubtreeIntoContainer=function(p,v,k,M){if(!B_(k))throw Error(r(200));if(p==null||p._reactInternals===void 0)throw Error(r(38));return U_(p,v,k,!1,M)},Al.version="18.3.1-next-f1338f8080-20240426",Al}var $M;function kV(){if($M)return GA.exports;$M=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),GA.exports=qse(),GA.exports}var BM;function zse(){if(BM)return W_;BM=1;var e=kV();return W_.createRoot=e.createRoot,W_.hydrateRoot=e.hydrateRoot,W_}var Wse=zse(),J1=kV();const Hse=oa(J1);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function J2(){return J2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},J2.apply(this,arguments)}var Hp;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Hp||(Hp={}));const UM="popstate";function Vse(e){e===void 0&&(e={});function t(a,i){let{pathname:o="/",search:s="",hash:l=""}=pg(a.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),WP("",{pathname:o,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(a,i){let o=a.document.querySelector("base"),s="";if(o&&o.getAttribute("href")){let l=a.location.href,u=l.indexOf("#");s=u===-1?l:l.slice(0,u)}return s+"#"+(typeof i=="string"?i:s5(i))}function n(a,i){U8(a.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return Kse(t,r,n,e)}function Gi(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function U8(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Gse(){return Math.random().toString(36).substr(2,8)}function qM(e,t){return{usr:e.state,key:e.key,idx:t}}function WP(e,t,r,n){return r===void 0&&(r=null),J2({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?pg(t):t,{state:r,key:t&&t.key||n||Gse()})}function s5(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function pg(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Kse(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,s=Hp.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(J2({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){s=Hp.Pop;let y=d(),_=y==null?null:y-u;u=y,l&&l({action:s,location:g.location,delta:_})}function h(y,_){s=Hp.Push;let b=WP(g.location,y,_);r&&r(b,y),u=d()+1;let S=qM(b,u),C=g.createHref(b);try{o.pushState(S,"",C)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;a.location.assign(C)}i&&l&&l({action:s,location:g.location,delta:1})}function m(y,_){s=Hp.Replace;let b=WP(g.location,y,_);r&&r(b,y),u=d();let S=qM(b,u),C=g.createHref(b);o.replaceState(S,"",C),i&&l&&l({action:s,location:g.location,delta:0})}function x(y){let _=a.location.origin!=="null"?a.location.origin:a.location.href,b=typeof y=="string"?y:s5(y);return b=b.replace(/ $/,"%20"),Gi(_,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,_)}let g={get action(){return s},get location(){return e(a,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(UM,f),l=y,()=>{a.removeEventListener(UM,f),l=null}},createHref(y){return t(a,y)},createURL:x,encodeLocation(y){let _=x(y);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:h,replace:m,go(y){return o.go(y)}};return g}var zM;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(zM||(zM={}));function Yse(e,t,r){return r===void 0&&(r="/"),Xse(e,t,r)}function Xse(e,t,r,n){let a=typeof t=="string"?pg(t):t,i=q8(a.pathname||"/",r);if(i==null)return null;let o=NV(e);Zse(o);let s=null;for(let l=0;s==null&&l<o.length;++l){let u=cle(i);s=ole(o[l],u)}return s}function NV(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,s)=>{let l={relativePath:s===void 0?i.path||"":s,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Gi(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Jp([n,l.relativePath]),d=r.concat(l);i.children&&i.children.length>0&&(Gi(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),NV(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:ale(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var s;if(i.path===""||!((s=i.path)!=null&&s.includes("?")))a(i,o);else for(let l of EV(i.path))a(i,o,l)}),t}function EV(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=EV(n.join("/")),s=[];return s.push(...o.map(l=>l===""?i:[i,l].join("/"))),a&&s.push(...o),s.map(l=>e.startsWith("/")&&l===""?"/":l)}function Zse(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:ile(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Jse=/^:[\w-]+$/,Qse=3,ele=2,tle=1,rle=10,nle=-2,WM=e=>e==="*";function ale(e,t){let r=e.split("/"),n=r.length;return r.some(WM)&&(n+=nle),t&&(n+=ele),r.filter(a=>!WM(a)).reduce((a,i)=>a+(Jse.test(i)?Qse:i===""?tle:rle),n)}function ile(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function ole(e,t,r){let{routesMeta:n}=e,a={},i="/",o=[];for(let s=0;s<n.length;++s){let l=n[s],u=s===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=sle({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),h=l.route;if(!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:Jp([i,f.pathname]),pathnameBase:hle(Jp([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=Jp([i,f.pathnameBase]))}return o}function sle(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=lle(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),s=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let g=s[f]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const x=s[f];return m&&!x?u[h]=void 0:u[h]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function lle(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),U8(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,l)=>(n.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function cle(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return U8(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function q8(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function ule(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?pg(e):e;return{pathname:r?r.startsWith("/")?r:dle(r,t):t,search:ple(n),hash:mle(a)}}function dle(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function XA(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function fle(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function z8(e,t){let r=fle(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function W8(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=pg(e):(a=J2({},e),Gi(!a.pathname||!a.pathname.includes("?"),XA("?","pathname","search",a)),Gi(!a.pathname||!a.pathname.includes("#"),XA("#","pathname","hash",a)),Gi(!a.search||!a.search.includes("#"),XA("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,s;if(o==null)s=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}s=f>=0?t[f]:"/"}let l=ule(a,s),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Jp=e=>e.join("/").replace(/\/\/+/g,"/"),hle=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ple=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,mle=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function gle(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const CV=["post","put","patch","delete"];new Set(CV);const vle=["get",...CV];new Set(vle);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Q2(){return Q2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Q2.apply(this,arguments)}const H8=A.createContext(null),yle=A.createContext(null),_0=A.createContext(null),u4=A.createContext(null),ff=A.createContext({outlet:null,matches:[],isDataRoute:!1}),TV=A.createContext(null);function xle(e,t){let{relative:r}=t===void 0?{}:t;Q1()||Gi(!1);let{basename:n,navigator:a}=A.useContext(_0),{hash:i,pathname:o,search:s}=OV(e,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:Jp([n,o])),a.createHref({pathname:l,search:s,hash:i})}function Q1(){return A.useContext(u4)!=null}function b0(){return Q1()||Gi(!1),A.useContext(u4).location}function PV(e){A.useContext(_0).static||A.useLayoutEffect(e)}function as(){let{isDataRoute:e}=A.useContext(ff);return e?Rle():wle()}function wle(){Q1()||Gi(!1);let e=A.useContext(H8),{basename:t,future:r,navigator:n}=A.useContext(_0),{matches:a}=A.useContext(ff),{pathname:i}=b0(),o=JSON.stringify(z8(a,r.v7_relativeSplatPath)),s=A.useRef(!1);return PV(()=>{s.current=!0}),A.useCallback(function(u,d){if(d===void 0&&(d={}),!s.current)return;if(typeof u=="number"){n.go(u);return}let f=W8(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Jp([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}const _le=A.createContext(null);function ble(e){let t=A.useContext(ff).outlet;return t&&A.createElement(_le.Provider,{value:e},t)}function ey(){let{matches:e}=A.useContext(ff),t=e[e.length-1];return t?t.params:{}}function OV(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=A.useContext(_0),{matches:a}=A.useContext(ff),{pathname:i}=b0(),o=JSON.stringify(z8(a,n.v7_relativeSplatPath));return A.useMemo(()=>W8(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function Sle(e,t){return Ale(e,t)}function Ale(e,t,r,n){Q1()||Gi(!1);let{navigator:a,static:i}=A.useContext(_0),{matches:o}=A.useContext(ff),s=o[o.length-1],l=s?s.params:{};s&&s.pathname;let u=s?s.pathnameBase:"/";s&&s.route;let d=b0(),f;if(t){var h;let _=typeof t=="string"?pg(t):t;u==="/"||(h=_.pathname)!=null&&h.startsWith(u)||Gi(!1),f=_}else f=d;let m=f.pathname||"/",x=m;if(u!=="/"){let _=u.replace(/^\//,"").split("/");x="/"+m.replace(/^\//,"").split("/").slice(_.length).join("/")}let g=Yse(e,{pathname:x}),y=Tle(g&&g.map(_=>Object.assign({},_,{params:Object.assign({},l,_.params),pathname:Jp([u,a.encodeLocation?a.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?u:Jp([u,a.encodeLocation?a.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),o,r,n);return t&&y?A.createElement(u4.Provider,{value:{location:Q2({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Hp.Pop}},y):y}function kle(){let e=Ile(),t=gle(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},t),r?A.createElement("pre",{style:a},r):null,null)}const Nle=A.createElement(kle,null);class Ele extends A.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?A.createElement(ff.Provider,{value:this.props.routeContext},A.createElement(TV.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Cle(e){let{routeContext:t,match:r,children:n}=e,a=A.useContext(H8);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),A.createElement(ff.Provider,{value:t},n)}function Tle(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,s=(a=r)==null?void 0:a.errors;if(s!=null){let d=o.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);d>=0||Gi(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,x=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||x){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,x=!1,g=null,y=null;r&&(m=s&&f.route.id?s[f.route.id]:void 0,g=f.route.errorElement||Nle,l&&(u<0&&h===0?(Mle("route-fallback"),x=!0,y=null):u===h&&(x=!0,y=f.route.hydrateFallbackElement||null)));let _=t.concat(o.slice(0,h+1)),b=()=>{let S;return m?S=g:x?S=y:f.route.Component?S=A.createElement(f.route.Component,null):f.route.element?S=f.route.element:S=d,A.createElement(Cle,{match:f,routeContext:{outlet:d,matches:_,isDataRoute:r!=null},children:S})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?A.createElement(Ele,{location:r.location,revalidation:r.revalidation,component:g,error:m,children:b(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):b()},null)}var DV=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(DV||{}),IV=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(IV||{});function Ple(e){let t=A.useContext(H8);return t||Gi(!1),t}function Ole(e){let t=A.useContext(yle);return t||Gi(!1),t}function Dle(e){let t=A.useContext(ff);return t||Gi(!1),t}function RV(e){let t=Dle(),r=t.matches[t.matches.length-1];return r.route.id||Gi(!1),r.route.id}function Ile(){var e;let t=A.useContext(TV),r=Ole(),n=RV();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Rle(){let{router:e}=Ple(DV.UseNavigateStable),t=RV(IV.UseNavigateStable),r=A.useRef(!1);return PV(()=>{r.current=!0}),A.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Q2({fromRouteId:t},i)))},[e,t])}const HM={};function Mle(e,t,r){HM[e]||(HM[e]=!0)}function Fle(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function HP(e){let{to:t,replace:r,state:n,relative:a}=e;Q1()||Gi(!1);let{future:i,static:o}=A.useContext(_0),{matches:s}=A.useContext(ff),{pathname:l}=b0(),u=as(),d=W8(t,z8(s,i.v7_relativeSplatPath),l,a==="path"),f=JSON.stringify(d);return A.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function MV(e){return ble(e.context)}function Bn(e){Gi(!1)}function Lle(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Hp.Pop,navigator:i,static:o=!1,future:s}=e;Q1()&&Gi(!1);let l=t.replace(/^\/*/,"/"),u=A.useMemo(()=>({basename:l,navigator:i,static:o,future:Q2({v7_relativeSplatPath:!1},s)}),[l,s,i,o]);typeof n=="string"&&(n=pg(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:x="default"}=n,g=A.useMemo(()=>{let y=q8(d,l);return y==null?null:{location:{pathname:y,search:f,hash:h,state:m,key:x},navigationType:a}},[l,d,f,h,m,x,a]);return g==null?null:A.createElement(_0.Provider,{value:u},A.createElement(u4.Provider,{children:r,value:g}))}function jle(e){let{children:t,location:r}=e;return Sle(VP(t),r)}new Promise(()=>{});function VP(e,t){t===void 0&&(t=[]);let r=[];return A.Children.forEach(e,(n,a)=>{if(!A.isValidElement(n))return;let i=[...t,a];if(n.type===A.Fragment){r.push.apply(r,VP(n.props.children,i));return}n.type!==Bn&&Gi(!1),!n.props.index||!n.props.children||Gi(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=VP(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function GP(){return GP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},GP.apply(this,arguments)}function $le(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Ble(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Ule(e,t){return e.button===0&&(!t||t==="_self")&&!Ble(e)}function KP(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function qle(e,t){let r=KP(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}const zle=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Wle="6";try{window.__reactRouterVersion=Wle}catch{}const Hle="startTransition",VM=Z2[Hle];function Vle(e){let{basename:t,children:r,future:n,window:a}=e,i=A.useRef();i.current==null&&(i.current=Vse({window:a,v5Compat:!0}));let o=i.current,[s,l]=A.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=A.useCallback(f=>{u&&VM?VM(()=>l(f)):l(f)},[l,u]);return A.useLayoutEffect(()=>o.listen(d),[o,d]),A.useEffect(()=>Fle(n),[n]),A.createElement(Lle,{basename:t,children:r,location:s.location,navigationType:s.action,navigator:o,future:n})}const Gle=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Kle=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wi=A.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:s,target:l,to:u,preventScrollReset:d,viewTransition:f}=t,h=$le(t,zle),{basename:m}=A.useContext(_0),x,g=!1;if(typeof u=="string"&&Kle.test(u)&&(x=u,Gle))try{let S=new URL(window.location.href),C=u.startsWith("//")?new URL(S.protocol+u):new URL(u),E=q8(C.pathname,m);C.origin===S.origin&&E!=null?u=E+C.search+C.hash:g=!0}catch{}let y=xle(u,{relative:a}),_=Yle(u,{replace:o,state:s,target:l,preventScrollReset:d,relative:a,viewTransition:f});function b(S){n&&n(S),S.defaultPrevented||_(S)}return A.createElement("a",GP({},h,{href:x||y,onClick:g||i?n:b,ref:r,target:l}))});var GM;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(GM||(GM={}));var KM;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(KM||(KM={}));function Yle(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:s}=t===void 0?{}:t,l=as(),u=b0(),d=OV(e,{relative:o});return A.useCallback(f=>{if(Ule(f,r)){f.preventDefault();let h=n!==void 0?n:s5(u)===s5(d);l(e,{replace:h,state:a,preventScrollReset:i,relative:o,viewTransition:s})}},[u,l,d,n,a,r,e,i,o,s])}function Xle(e){let t=A.useRef(KP(e)),r=A.useRef(!1),n=b0(),a=A.useMemo(()=>qle(n.search,r.current?null:t.current),[n.search]),i=as(),o=A.useCallback((s,l)=>{const u=KP(typeof s=="function"?s(a):s);r.current=!0,i("?"+u,l)},[i,a]);return[a,o]}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Zle={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jle=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Yt=(e,t)=>{const r=A.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:s="",children:l,...u},d)=>A.createElement("svg",{ref:d,...Zle,width:a,height:a,stroke:n,strokeWidth:o?Number(i)*24/Number(a):i,className:["lucide",`lucide-${Jle(e)}`,s].join(" "),...u},[...t.map(([f,h])=>A.createElement(f,h)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=Yt("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dc=Yt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qle=Yt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FV=Yt("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=Yt("Armchair",[["path",{d:"M19 9V6a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v3",key:"irtipd"}],["path",{d:"M3 16a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v2H7v-2a2 2 0 0 0-4 0Z",key:"1e01m0"}],["path",{d:"M5 18v2",key:"ppbyun"}],["path",{d:"M19 18v2",key:"gy7782"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=Yt("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l5=Yt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c5=Yt("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ece=Yt("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=Yt("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=Yt("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tce=Yt("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rce=Yt("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=Yt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LV=Yt("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jV=Yt("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u5=Yt("BrainCog",[["path",{d:"M12 5a3 3 0 1 0-5.997.142 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588 4 4 0 0 0 7.636 2.106 3.2 3.2 0 0 0 .164-.546c.028-.13.306-.13.335 0a3.2 3.2 0 0 0 .163.546 4 4 0 0 0 7.636-2.106 4 4 0 0 0 .556-6.588 4 4 0 0 0-2.526-5.77A3 3 0 1 0 12 5",key:"1kgmhc"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"m15.7 10.4-.9.4",key:"ayzo6p"}],["path",{d:"m9.2 13.2-.9.4",key:"1uzb3g"}],["path",{d:"m13.6 15.7-.4-.9",key:"11ifqf"}],["path",{d:"m10.8 9.2-.4-.9",key:"1pmk2v"}],["path",{d:"m15.7 13.5-.9-.4",key:"7ng02m"}],["path",{d:"m9.2 10.9-.9-.4",key:"1x66zd"}],["path",{d:"m10.5 15.7.4-.9",key:"3js94g"}],["path",{d:"m13.1 9.2.4-.9",key:"18n7mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nce=Yt("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ace=Yt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ice=Yt("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=Yt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oce=Yt("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=Yt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sce=Yt("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aw=Yt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V8=Yt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=Yt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0=Yt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lce=Yt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $V=Yt("Chrome",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BV=Yt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cce=Yt("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=Yt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uce=Yt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UV=Yt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dce=Yt("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kw=Yt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qV=Yt("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=Yt("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=Yt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fce=Yt("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hce=Yt("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=Yt("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pce=Yt("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zV=Yt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mce=Yt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gce=Yt("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WV=Yt("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=Yt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HV=Yt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=Yt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vce=Yt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yce=Yt("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xce=Yt("MoveVertical",[["polyline",{points:"8 18 12 22 16 18",key:"1uutw3"}],["polyline",{points:"8 6 12 2 16 6",key:"d60sxy"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wce=Yt("PackageCheck",[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VV=Yt("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ce=Yt("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d5=Yt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nh=Yt("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yc=Yt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bce=Yt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sce=Yt("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ace=Yt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=Yt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kce=Yt("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nce=Yt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ece=Yt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G8=Yt("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=Yt("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cce=Yt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GV=Yt("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=Yt("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=Yt("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JM=Yt("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22h0a3.13 3.13 0 0 1-3-3.88Z",key:"s6e0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QM=Yt("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ph=Yt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tce=Yt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=Yt("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pce=Yt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=Yt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=Yt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oce=Yt("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dce=Yt("Weight",[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ice=Yt("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rce=Yt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0=Yt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function eF(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function g4(...e){return t=>{let r=!1;const n=e.map(a=>{const i=eF(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():eF(e[a],null)}}}}function Hr(...e){return A.useCallback(g4(...e),e)}var tk={exports:{}},qy={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tF;function Mce(){if(tF)return qy;tF=1;var e=c4(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(s,l,u){var d,f={},h=null,m=null;u!==void 0&&(h=""+u),l.key!==void 0&&(h=""+l.key),l.ref!==void 0&&(m=l.ref);for(d in l)n.call(l,d)&&!i.hasOwnProperty(d)&&(f[d]=l[d]);if(s&&s.defaultProps)for(d in l=s.defaultProps,l)f[d]===void 0&&(f[d]=l[d]);return{$$typeof:t,type:s,key:h,ref:m,props:f,_owner:a.current}}return qy.Fragment=r,qy.jsx=o,qy.jsxs=o,qy}var rF;function Fce(){return rF||(rF=1,tk.exports=Mce()),tk.exports}var K8=Fce();const c=K8.jsx,w=K8.jsxs,Dr=K8.Fragment;function i0(e){const t=Lce(e),r=A.forwardRef((n,a)=>{const{children:i,...o}=n,s=A.Children.toArray(i),l=s.find(jce);if(l){const u=l.props.children,d=s.map(f=>f===l?A.Children.count(u)>1?A.Children.only(null):A.isValidElement(u)?u.props.children:null:f);return c(t,{...o,ref:a,children:A.isValidElement(u)?A.cloneElement(u,void 0,d):null})}return c(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var KV=i0("Slot");function Lce(e){const t=A.forwardRef((r,n)=>{const{children:a,...i}=r;if(A.isValidElement(a)){const o=Bce(a),s=$ce(i,a.props);return a.type!==A.Fragment&&(s.ref=n?g4(n,o):o),A.cloneElement(a,s)}return A.Children.count(a)>1?A.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var YV=Symbol("radix.slottable");function XV(e){const t=({children:r})=>c(Dr,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=YV,t}function jce(e){return A.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===YV}function $ce(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...s)=>{i(...s),a(...s)}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function Bce(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function ZV(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=ZV(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function hn(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=ZV(e))&&(n&&(n+=" "),n+=t);return n}const nF=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,aF=hn,Nw=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return aF(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const h=nF(d)||nF(f);return a[u][h]}),s=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),l=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(x=>{let[g,y]=x;return Array.isArray(y)?y.includes({...i,...s}[g]):{...i,...s}[g]===y})?[...u,f,h]:u},[]);return aF(e,o,l,r==null?void 0:r.class,r==null?void 0:r.className)},Y8="-",Uce=e=>{const t=zce(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const s=o.split(Y8);return s[0]===""&&s.length!==1&&s.shift(),JV(s,t)||qce(o)},getConflictingClassGroupIds:(o,s)=>{const l=r[o]||[];return s&&n[o]?[...l,...n[o]]:l}}},JV=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?JV(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(Y8);return(o=t.validators.find(({validator:s})=>s(i)))==null?void 0:o.classGroupId},iF=/^\[(.+)\]$/,qce=e=>{if(iF.test(e)){const t=iF.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},zce=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return Hce(Object.entries(e.classGroups),r).forEach(([i,o])=>{XP(o,n,i,t)}),n},XP=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:oF(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(Wce(a)){XP(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{XP(o,oF(t,i),r,n)})})},oF=(e,t)=>{let r=e;return t.split(Y8).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Wce=e=>e.isThemeGetter,Hce=(e,t)=>t?e.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,s])=>[t+o,s])):i);return[r,a]}):e,Vce=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},QV="!",Gce=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],i=t.length,o=s=>{const l=[];let u=0,d=0,f;for(let y=0;y<s.length;y++){let _=s[y];if(u===0){if(_===a&&(n||s.slice(y,y+i)===t)){l.push(s.slice(d,y)),d=y+i;continue}if(_==="/"){f=y;continue}}_==="["?u++:_==="]"&&u--}const h=l.length===0?s:s.substring(d),m=h.startsWith(QV),x=m?h.substring(1):h,g=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:x,maybePostfixModifierPosition:g}};return r?s=>r({className:s,parseClassName:o}):o},Kce=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},Yce=e=>({cache:Vce(e.cacheSize),parseClassName:Gce(e),...Uce(e)}),Xce=/\s+/,Zce=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(Xce);let s="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let x=!!m,g=n(x?h.substring(0,m):h);if(!g){if(!x){s=u+(s.length>0?" "+s:s);continue}if(g=n(h),!g){s=u+(s.length>0?" "+s:s);continue}x=!1}const y=Kce(d).join(":"),_=f?y+QV:y,b=_+g;if(i.includes(b))continue;i.push(b);const S=a(g,x);for(let C=0;C<S.length;++C){const E=S[C];i.push(_+E)}s=u+(s.length>0?" "+s:s)}return s};function Jce(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=eG(t))&&(n&&(n+=" "),n+=r);return n}const eG=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=eG(e[n]))&&(r&&(r+=" "),r+=t);return r};function Qce(e,...t){let r,n,a,i=o;function o(l){const u=t.reduce((d,f)=>f(d),e());return r=Yce(u),n=r.cache.get,a=r.cache.set,i=s,s(l)}function s(l){const u=n(l);if(u)return u;const d=Zce(l,r);return a(l,d),d}return function(){return i(Jce.apply(null,arguments))}}const Va=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},tG=/^\[(?:([a-z-]+):)?(.+)\]$/i,eue=/^\d+\/\d+$/,tue=new Set(["px","full","screen"]),rue=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,nue=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,aue=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,iue=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,oue=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Yf=e=>zv(e)||tue.has(e)||eue.test(e),kp=e=>ty(e,"length",pue),zv=e=>!!e&&!Number.isNaN(Number(e)),rk=e=>ty(e,"number",zv),zy=e=>!!e&&Number.isInteger(Number(e)),sue=e=>e.endsWith("%")&&zv(e.slice(0,-1)),wn=e=>tG.test(e),Np=e=>rue.test(e),lue=new Set(["length","size","percentage"]),cue=e=>ty(e,lue,rG),uue=e=>ty(e,"position",rG),due=new Set(["image","url"]),fue=e=>ty(e,due,gue),hue=e=>ty(e,"",mue),Wy=()=>!0,ty=(e,t,r)=>{const n=tG.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},pue=e=>nue.test(e)&&!aue.test(e),rG=()=>!1,mue=e=>iue.test(e),gue=e=>oue.test(e),vue=()=>{const e=Va("colors"),t=Va("spacing"),r=Va("blur"),n=Va("brightness"),a=Va("borderColor"),i=Va("borderRadius"),o=Va("borderSpacing"),s=Va("borderWidth"),l=Va("contrast"),u=Va("grayscale"),d=Va("hueRotate"),f=Va("invert"),h=Va("gap"),m=Va("gradientColorStops"),x=Va("gradientColorStopPositions"),g=Va("inset"),y=Va("margin"),_=Va("opacity"),b=Va("padding"),S=Va("saturate"),C=Va("scale"),E=Va("sepia"),D=Va("skew"),T=Va("space"),I=Va("translate"),L=()=>["auto","contain","none"],B=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",wn,t],O=()=>[wn,t],j=()=>["",Yf,kp],G=()=>["auto",zv,wn],Y=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],re=()=>["solid","dashed","dotted","double","none"],q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],K=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",wn],te=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>[zv,wn];return{cacheSize:500,separator:":",theme:{colors:[Wy],spacing:[Yf,kp],blur:["none","",Np,wn],brightness:Q(),borderColor:[e],borderRadius:["none","","full",Np,wn],borderSpacing:O(),borderWidth:j(),contrast:Q(),grayscale:z(),hueRotate:Q(),invert:z(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[sue,kp],inset:P(),margin:P(),opacity:Q(),padding:O(),saturate:Q(),scale:Q(),sepia:z(),skew:Q(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",wn]}],container:["container"],columns:[{columns:[Np]}],"break-after":[{"break-after":te()}],"break-before":[{"break-before":te()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Y(),wn]}],overflow:[{overflow:B()}],"overflow-x":[{"overflow-x":B()}],"overflow-y":[{"overflow-y":B()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",zy,wn]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",wn]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",zy,wn]}],"grid-cols":[{"grid-cols":[Wy]}],"col-start-end":[{col:["auto",{span:["full",zy,wn]},wn]}],"col-start":[{"col-start":G()}],"col-end":[{"col-end":G()}],"grid-rows":[{"grid-rows":[Wy]}],"row-start-end":[{row:["auto",{span:[zy,wn]},wn]}],"row-start":[{"row-start":G()}],"row-end":[{"row-end":G()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",wn]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",wn]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...K()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...K(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...K(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",wn,t]}],"min-w":[{"min-w":[wn,t,"min","max","fit"]}],"max-w":[{"max-w":[wn,t,"none","full","min","max","fit","prose",{screen:[Np]},Np]}],h:[{h:[wn,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[wn,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[wn,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[wn,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Np,kp]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",rk]}],"font-family":[{font:[Wy]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",wn]}],"line-clamp":[{"line-clamp":["none",zv,rk]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Yf,wn]}],"list-image":[{"list-image":["none",wn]}],"list-style-type":[{list:["none","disc","decimal",wn]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...re(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Yf,kp]}],"underline-offset":[{"underline-offset":["auto",Yf,wn]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",wn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",wn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Y(),uue]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",cue]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},fue]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...re(),"hidden"]}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:re()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...re()]}],"outline-offset":[{"outline-offset":[Yf,wn]}],"outline-w":[{outline:[Yf,kp]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:j()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[Yf,kp]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Np,hue]}],"shadow-color":[{shadow:[Wy]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":q()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Np,wn]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[S]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",wn]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",wn]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",wn]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[zy,wn]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[D]}],"skew-y":[{"skew-y":[D]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",wn]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",wn]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",wn]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Yf,kp,rk]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},yue=Qce(vue);function It(...e){return yue(hn(e))}const rx=Nw("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Fe=A.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>c(n?KV:"button",{className:It(rx({variant:t,size:r,className:e})),ref:i,...a}));Fe.displayName="Button";function Ut(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function xue(e,t){const r=A.createContext(t),n=i=>{const{children:o,...s}=i,l=A.useMemo(()=>s,Object.values(s));return c(r.Provider,{value:l,children:o})};n.displayName=e+"Provider";function a(i){const o=A.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function Xi(e,t=[]){let r=[];function n(i,o){const s=A.createContext(o),l=r.length;r=[...r,o];const u=f=>{var _;const{scope:h,children:m,...x}=f,g=((_=h==null?void 0:h[e])==null?void 0:_[l])||s,y=A.useMemo(()=>x,Object.values(x));return c(g.Provider,{value:y,children:m})};u.displayName=i+"Provider";function d(f,h){var g;const m=((g=h==null?void 0:h[e])==null?void 0:g[l])||s,x=A.useContext(m);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(o=>A.createContext(o));return function(s){const l=(s==null?void 0:s[e])||i;return A.useMemo(()=>({[`__scope${e}`]:{...s,[e]:l}}),[s,l])}};return a.scopeName=e,[n,wue(a,...t)]}function wue(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((s,{useScope:l,scopeName:u})=>{const f=l(i)[`__scope${u}`];return{...s,...f}},{});return A.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var ii=globalThis!=null&&globalThis.document?A.useLayoutEffect:()=>{},_ue=Z2[" useInsertionEffect ".trim().toString()]||ii;function ll({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,o]=bue({defaultProp:t,onChange:r}),s=e!==void 0,l=s?e:a;{const d=A.useRef(e!==void 0);A.useEffect(()=>{const f=d.current;f!==s&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${s?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=s},[s,n])}const u=A.useCallback(d=>{var f;if(s){const h=Sue(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else i(d)},[s,e,i,o]);return[l,u]}function bue({defaultProp:e,onChange:t}){const[r,n]=A.useState(e),a=A.useRef(r),i=A.useRef(t);return _ue(()=>{i.current=t},[t]),A.useEffect(()=>{var o;a.current!==r&&((o=i.current)==null||o.call(i,r),a.current=r)},[r,a]),[r,n,i]}function Sue(e){return typeof e=="function"}var Aue=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],pr=Aue.reduce((e,t)=>{const r=i0(`Primitive.${t}`),n=A.forwardRef((a,i)=>{const{asChild:o,...s}=a,l=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c(l,{...s,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function X8(e,t){e&&J1.flushSync(()=>e.dispatchEvent(t))}function Ew(e){const t=e+"CollectionProvider",[r,n]=Xi(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:y,children:_}=g,b=Je.useRef(null),S=Je.useRef(new Map).current;return c(a,{scope:y,itemMap:S,collectionRef:b,children:_})};o.displayName=t;const s=e+"CollectionSlot",l=i0(s),u=Je.forwardRef((g,y)=>{const{scope:_,children:b}=g,S=i(s,_),C=Hr(y,S.collectionRef);return c(l,{ref:C,children:b})});u.displayName=s;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=i0(d),m=Je.forwardRef((g,y)=>{const{scope:_,children:b,...S}=g,C=Je.useRef(null),E=Hr(y,C),D=i(d,_);return Je.useEffect(()=>(D.itemMap.set(C,{ref:C,...S}),()=>void D.itemMap.delete(C))),c(h,{[f]:"",ref:E,children:b})});m.displayName=d;function x(g){const y=i(e+"CollectionConsumer",g);return Je.useCallback(()=>{const b=y.collectionRef.current;if(!b)return[];const S=Array.from(b.querySelectorAll(`[${f}]`));return Array.from(y.itemMap.values()).sort((D,T)=>S.indexOf(D.ref.current)-S.indexOf(T.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},x,n]}var kue=A.createContext(void 0);function mg(e){const t=A.useContext(kue);return e||t||"ltr"}function Ci(e){const t=A.useRef(e);return A.useEffect(()=>{t.current=e}),A.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function Nue(e,t=globalThis==null?void 0:globalThis.document){const r=Ci(e);A.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var Eue="DismissableLayer",ZP="dismissableLayer.update",Cue="dismissableLayer.pointerDownOutside",Tue="dismissableLayer.focusOutside",sF,nG=A.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),gg=A.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:s,...l}=e,u=A.useContext(nG),[d,f]=A.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=A.useState({}),x=Hr(t,T=>f(T)),g=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),_=g.indexOf(y),b=d?g.indexOf(d):-1,S=u.layersWithOutsidePointerEventsDisabled.size>0,C=b>=_,E=Oue(T=>{const I=T.target,L=[...u.branches].some(B=>B.contains(I));!C||L||(a==null||a(T),o==null||o(T),T.defaultPrevented||s==null||s())},h),D=Due(T=>{const I=T.target;[...u.branches].some(B=>B.contains(I))||(i==null||i(T),o==null||o(T),T.defaultPrevented||s==null||s())},h);return Nue(T=>{b===u.layers.size-1&&(n==null||n(T),!T.defaultPrevented&&s&&(T.preventDefault(),s()))},h),A.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(sF=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),lF(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=sF)}},[d,h,r,u]),A.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),lF())},[d,u]),A.useEffect(()=>{const T=()=>m({});return document.addEventListener(ZP,T),()=>document.removeEventListener(ZP,T)},[]),c(pr.div,{...l,ref:x,style:{pointerEvents:S?C?"auto":"none":void 0,...e.style},onFocusCapture:Ut(e.onFocusCapture,D.onFocusCapture),onBlurCapture:Ut(e.onBlurCapture,D.onBlurCapture),onPointerDownCapture:Ut(e.onPointerDownCapture,E.onPointerDownCapture)})});gg.displayName=Eue;var Pue="DismissableLayerBranch",aG=A.forwardRef((e,t)=>{const r=A.useContext(nG),n=A.useRef(null),a=Hr(t,n);return A.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),c(pr.div,{...e,ref:a})});aG.displayName=Pue;function Oue(e,t=globalThis==null?void 0:globalThis.document){const r=Ci(e),n=A.useRef(!1),a=A.useRef(()=>{});return A.useEffect(()=>{const i=s=>{if(s.target&&!n.current){let l=function(){iG(Cue,r,u,{discrete:!0})};const u={originalEvent:s};s.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=l,t.addEventListener("click",a.current,{once:!0})):l()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Due(e,t=globalThis==null?void 0:globalThis.document){const r=Ci(e),n=A.useRef(!1);return A.useEffect(()=>{const a=i=>{i.target&&!n.current&&iG(Tue,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function lF(){const e=new CustomEvent(ZP);document.dispatchEvent(e)}function iG(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?X8(a,i):a.dispatchEvent(i)}var Iue=gg,Rue=aG,nk=0;function v4(){A.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??cF()),document.body.insertAdjacentElement("beforeend",e[1]??cF()),nk++,()=>{nk===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),nk--}},[])}function cF(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ak="focusScope.autoFocusOnMount",ik="focusScope.autoFocusOnUnmount",uF={bubbles:!1,cancelable:!0},Mue="FocusScope",Cw=A.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[s,l]=A.useState(null),u=Ci(a),d=Ci(i),f=A.useRef(null),h=Hr(t,g=>l(g)),m=A.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;A.useEffect(()=>{if(n){let g=function(S){if(m.paused||!s)return;const C=S.target;s.contains(C)?f.current=C:Rp(f.current,{select:!0})},y=function(S){if(m.paused||!s)return;const C=S.relatedTarget;C!==null&&(s.contains(C)||Rp(f.current,{select:!0}))},_=function(S){if(document.activeElement===document.body)for(const E of S)E.removedNodes.length>0&&Rp(s)};document.addEventListener("focusin",g),document.addEventListener("focusout",y);const b=new MutationObserver(_);return s&&b.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",y),b.disconnect()}}},[n,s,m.paused]),A.useEffect(()=>{if(s){fF.add(m);const g=document.activeElement;if(!s.contains(g)){const _=new CustomEvent(ak,uF);s.addEventListener(ak,u),s.dispatchEvent(_),_.defaultPrevented||(Fue(Uue(oG(s)),{select:!0}),document.activeElement===g&&Rp(s))}return()=>{s.removeEventListener(ak,u),setTimeout(()=>{const _=new CustomEvent(ik,uF);s.addEventListener(ik,d),s.dispatchEvent(_),_.defaultPrevented||Rp(g??document.body,{select:!0}),s.removeEventListener(ik,d),fF.remove(m)},0)}}},[s,u,d,m]);const x=A.useCallback(g=>{if(!r&&!n||m.paused)return;const y=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,_=document.activeElement;if(y&&_){const b=g.currentTarget,[S,C]=Lue(b);S&&C?!g.shiftKey&&_===C?(g.preventDefault(),r&&Rp(S,{select:!0})):g.shiftKey&&_===S&&(g.preventDefault(),r&&Rp(C,{select:!0})):_===b&&g.preventDefault()}},[r,n,m.paused]);return c(pr.div,{tabIndex:-1,...o,ref:h,onKeyDown:x})});Cw.displayName=Mue;function Fue(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Rp(n,{select:t}),document.activeElement!==r)return}function Lue(e){const t=oG(e),r=dF(t,e),n=dF(t.reverse(),e);return[r,n]}function oG(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function dF(e,t){for(const r of e)if(!jue(r,{upTo:t}))return r}function jue(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function $ue(e){return e instanceof HTMLInputElement&&"select"in e}function Rp(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&$ue(e)&&t&&e.select()}}var fF=Bue();function Bue(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=hF(e,t),e.unshift(t)},remove(t){var r;e=hF(e,t),(r=e[0])==null||r.resume()}}}function hF(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Uue(e){return e.filter(t=>t.tagName!=="A")}var que=Z2[" useId ".trim().toString()]||(()=>{}),zue=0;function Dl(e){const[t,r]=A.useState(que());return ii(()=>{r(n=>n??String(zue++))},[e]),t?`radix-${t}`:""}const Wue=["top","right","bottom","left"],o0=Math.min,nc=Math.max,f5=Math.round,G_=Math.floor,Zd=e=>({x:e,y:e}),Hue={left:"right",right:"left",bottom:"top",top:"bottom"},Vue={start:"end",end:"start"};function JP(e,t,r){return nc(e,o0(t,r))}function mh(e,t){return typeof e=="function"?e(t):e}function gh(e){return e.split("-")[0]}function ry(e){return e.split("-")[1]}function Z8(e){return e==="x"?"y":"x"}function J8(e){return e==="y"?"height":"width"}function s0(e){return["top","bottom"].includes(gh(e))?"y":"x"}function Q8(e){return Z8(s0(e))}function Gue(e,t,r){r===void 0&&(r=!1);const n=ry(e),a=Q8(e),i=J8(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=h5(o)),[o,h5(o)]}function Kue(e){const t=h5(e);return[QP(e),t,QP(t)]}function QP(e){return e.replace(/start|end/g,t=>Vue[t])}function Yue(e,t,r){const n=["left","right"],a=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?a:n:t?n:a;case"left":case"right":return t?i:o;default:return[]}}function Xue(e,t,r,n){const a=ry(e);let i=Yue(gh(e),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(QP)))),i}function h5(e){return e.replace(/left|right|bottom|top/g,t=>Hue[t])}function Zue(e){return{top:0,right:0,bottom:0,left:0,...e}}function sG(e){return typeof e!="number"?Zue(e):{top:e,right:e,bottom:e,left:e}}function p5(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function pF(e,t,r){let{reference:n,floating:a}=e;const i=s0(t),o=Q8(t),s=J8(o),l=gh(t),u=i==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[s]/2-a[s]/2;let m;switch(l){case"top":m={x:d,y:n.y-a.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-a.width,y:f};break;default:m={x:n.x,y:n.y}}switch(ry(t)){case"start":m[o]-=h*(r&&u?-1:1);break;case"end":m[o]+=h*(r&&u?-1:1);break}return m}const Jue=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,s=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=pF(u,n,l),h=n,m={},x=0;for(let g=0;g<s.length;g++){const{name:y,fn:_}=s[g],{x:b,y:S,data:C,reset:E}=await _({x:d,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});d=b??d,f=S??f,m={...m,[y]:{...m[y],...C}},E&&x<=50&&(x++,typeof E=="object"&&(E.placement&&(h=E.placement),E.rects&&(u=E.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):E.rects),{x:d,y:f}=pF(u,h,l)),g=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:m}};async function nx(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:s,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=mh(t,e),x=sG(m),y=s[h?f==="floating"?"reference":"floating":f],_=p5(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(y)))==null||r?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(s.floating)),boundary:u,rootBoundary:d,strategy:l})),b=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(s.floating)),C=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},E=p5(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:b,offsetParent:S,strategy:l}):b);return{top:(_.top-E.top+x.top)/C.y,bottom:(E.bottom-_.bottom+x.bottom)/C.y,left:(_.left-E.left+x.left)/C.x,right:(E.right-_.right+x.right)/C.x}}const Que=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:o,elements:s,middlewareData:l}=t,{element:u,padding:d=0}=mh(e,t)||{};if(u==null)return{};const f=sG(d),h={x:r,y:n},m=Q8(a),x=J8(m),g=await o.getDimensions(u),y=m==="y",_=y?"top":"left",b=y?"bottom":"right",S=y?"clientHeight":"clientWidth",C=i.reference[x]+i.reference[m]-h[m]-i.floating[x],E=h[m]-i.reference[m],D=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let T=D?D[S]:0;(!T||!await(o.isElement==null?void 0:o.isElement(D)))&&(T=s.floating[S]||i.floating[x]);const I=C/2-E/2,L=T/2-g[x]/2-1,B=o0(f[_],L),P=o0(f[b],L),O=B,j=T-g[x]-P,G=T/2-g[x]/2+I,Y=JP(O,G,j),re=!l.arrow&&ry(a)!=null&&G!==Y&&i.reference[x]/2-(G<O?B:P)-g[x]/2<0,q=re?G<O?G-O:G-j:0;return{[m]:h[m]+q,data:{[m]:Y,centerOffset:G-Y-q,...re&&{alignmentOffset:q}},reset:re}}}),ede=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:s,platform:l,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:g=!0,...y}=mh(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const _=gh(a),b=s0(s),S=gh(s)===s,C=await(l.isRTL==null?void 0:l.isRTL(u.floating)),E=h||(S||!g?[h5(s)]:Kue(s)),D=x!=="none";!h&&D&&E.push(...Xue(s,g,x,C));const T=[s,...E],I=await nx(t,y),L=[];let B=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&L.push(I[_]),f){const G=Gue(a,o,C);L.push(I[G[0]],I[G[1]])}if(B=[...B,{placement:a,overflows:L}],!L.every(G=>G<=0)){var P,O;const G=(((P=i.flip)==null?void 0:P.index)||0)+1,Y=T[G];if(Y)return{data:{index:G,overflows:B},reset:{placement:Y}};let re=(O=B.filter(q=>q.overflows[0]<=0).sort((q,K)=>q.overflows[1]-K.overflows[1])[0])==null?void 0:O.placement;if(!re)switch(m){case"bestFit":{var j;const q=(j=B.filter(K=>{if(D){const z=s0(K.placement);return z===b||z==="y"}return!0}).map(K=>[K.placement,K.overflows.filter(z=>z>0).reduce((z,te)=>z+te,0)]).sort((K,z)=>K[1]-z[1])[0])==null?void 0:j[0];q&&(re=q);break}case"initialPlacement":re=s;break}if(a!==re)return{reset:{placement:re}}}return{}}}};function mF(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function gF(e){return Wue.some(t=>e[t]>=0)}const tde=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=mh(e,t);switch(n){case"referenceHidden":{const i=await nx(t,{...a,elementContext:"reference"}),o=mF(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:gF(o)}}}case"escaped":{const i=await nx(t,{...a,altBoundary:!0}),o=mF(i,r.floating);return{data:{escapedOffsets:o,escaped:gF(o)}}}default:return{}}}}};async function rde(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=gh(r),s=ry(r),l=s0(r)==="y",u=["left","top"].includes(o)?-1:1,d=i&&l?-1:1,f=mh(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return s&&typeof x=="number"&&(m=s==="end"?x*-1:x),l?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const nde=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:o,middlewareData:s}=t,l=await rde(t,e);return o===((r=s.offset)==null?void 0:r.placement)&&(n=s.arrow)!=null&&n.alignmentOffset?{}:{x:a+l.x,y:i+l.y,data:{...l,placement:o}}}}},ade=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:s={fn:y=>{let{x:_,y:b}=y;return{x:_,y:b}}},...l}=mh(e,t),u={x:r,y:n},d=await nx(t,l),f=s0(gh(a)),h=Z8(f);let m=u[h],x=u[f];if(i){const y=h==="y"?"top":"left",_=h==="y"?"bottom":"right",b=m+d[y],S=m-d[_];m=JP(b,m,S)}if(o){const y=f==="y"?"top":"left",_=f==="y"?"bottom":"right",b=x+d[y],S=x-d[_];x=JP(b,x,S)}const g=s.fn({...t,[h]:m,[f]:x});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[h]:i,[f]:o}}}}}},ide=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:s=0,mainAxis:l=!0,crossAxis:u=!0}=mh(e,t),d={x:r,y:n},f=s0(a),h=Z8(f);let m=d[h],x=d[f];const g=mh(s,t),y=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const S=h==="y"?"height":"width",C=i.reference[h]-i.floating[S]+y.mainAxis,E=i.reference[h]+i.reference[S]-y.mainAxis;m<C?m=C:m>E&&(m=E)}if(u){var _,b;const S=h==="y"?"width":"height",C=["top","left"].includes(gh(a)),E=i.reference[f]-i.floating[S]+(C&&((_=o.offset)==null?void 0:_[f])||0)+(C?0:y.crossAxis),D=i.reference[f]+i.reference[S]+(C?0:((b=o.offset)==null?void 0:b[f])||0)-(C?y.crossAxis:0);x<E?x=E:x>D&&(x=D)}return{[h]:m,[f]:x}}}},ode=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:o,elements:s}=t,{apply:l=()=>{},...u}=mh(e,t),d=await nx(t,u),f=gh(a),h=ry(a),m=s0(a)==="y",{width:x,height:g}=i.floating;let y,_;f==="top"||f==="bottom"?(y=f,_=h===(await(o.isRTL==null?void 0:o.isRTL(s.floating))?"start":"end")?"left":"right"):(_=f,y=h==="end"?"top":"bottom");const b=g-d.top-d.bottom,S=x-d.left-d.right,C=o0(g-d[y],b),E=o0(x-d[_],S),D=!t.middlewareData.shift;let T=C,I=E;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(I=S),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(T=b),D&&!h){const B=nc(d.left,0),P=nc(d.right,0),O=nc(d.top,0),j=nc(d.bottom,0);m?I=x-2*(B!==0||P!==0?B+P:nc(d.left,d.right)):T=g-2*(O!==0||j!==0?O+j:nc(d.top,d.bottom))}await l({...t,availableWidth:I,availableHeight:T});const L=await o.getDimensions(s.floating);return x!==L.width||g!==L.height?{reset:{rects:!0}}:{}}}};function y4(){return typeof window<"u"}function ny(e){return lG(e)?(e.nodeName||"").toLowerCase():"#document"}function fc(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function hf(e){var t;return(t=(lG(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function lG(e){return y4()?e instanceof Node||e instanceof fc(e).Node:!1}function Yu(e){return y4()?e instanceof Element||e instanceof fc(e).Element:!1}function of(e){return y4()?e instanceof HTMLElement||e instanceof fc(e).HTMLElement:!1}function vF(e){return!y4()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof fc(e).ShadowRoot}function Tw(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Xu(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(a)}function sde(e){return["table","td","th"].includes(ny(e))}function x4(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function eD(e){const t=tD(),r=Yu(e)?Xu(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function lde(e){let t=l0(e);for(;of(t)&&!u1(t);){if(eD(t))return t;if(x4(t))return null;t=l0(t)}return null}function tD(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function u1(e){return["html","body","#document"].includes(ny(e))}function Xu(e){return fc(e).getComputedStyle(e)}function w4(e){return Yu(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function l0(e){if(ny(e)==="html")return e;const t=e.assignedSlot||e.parentNode||vF(e)&&e.host||hf(e);return vF(t)?t.host:t}function cG(e){const t=l0(e);return u1(t)?e.ownerDocument?e.ownerDocument.body:e.body:of(t)&&Tw(t)?t:cG(t)}function ax(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=cG(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=fc(a);if(i){const s=e6(o);return t.concat(o,o.visualViewport||[],Tw(a)?a:[],s&&r?ax(s):[])}return t.concat(a,ax(a,[],r))}function e6(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function uG(e){const t=Xu(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=of(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,s=f5(r)!==i||f5(n)!==o;return s&&(r=i,n=o),{width:r,height:n,$:s}}function rD(e){return Yu(e)?e:e.contextElement}function Wv(e){const t=rD(e);if(!of(t))return Zd(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=uG(t);let o=(i?f5(r.width):r.width)/n,s=(i?f5(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!s||!Number.isFinite(s))&&(s=1),{x:o,y:s}}const cde=Zd(0);function dG(e){const t=fc(e);return!tD()||!t.visualViewport?cde:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function ude(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==fc(e)?!1:t}function Hm(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=rD(e);let o=Zd(1);t&&(n?Yu(n)&&(o=Wv(n)):o=Wv(e));const s=ude(i,r,n)?dG(i):Zd(0);let l=(a.left+s.x)/o.x,u=(a.top+s.y)/o.y,d=a.width/o.x,f=a.height/o.y;if(i){const h=fc(i),m=n&&Yu(n)?fc(n):n;let x=h,g=e6(x);for(;g&&n&&m!==x;){const y=Wv(g),_=g.getBoundingClientRect(),b=Xu(g),S=_.left+(g.clientLeft+parseFloat(b.paddingLeft))*y.x,C=_.top+(g.clientTop+parseFloat(b.paddingTop))*y.y;l*=y.x,u*=y.y,d*=y.x,f*=y.y,l+=S,u+=C,x=fc(g),g=e6(x)}}return p5({width:d,height:f,x:l,y:u})}function nD(e,t){const r=w4(e).scrollLeft;return t?t.left+r:Hm(hf(e)).left+r}function fG(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:nD(e,n)),i=n.top+t.scrollTop;return{x:a,y:i}}function dde(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=hf(n),s=t?x4(t.floating):!1;if(n===o||s&&i)return r;let l={scrollLeft:0,scrollTop:0},u=Zd(1);const d=Zd(0),f=of(n);if((f||!f&&!i)&&((ny(n)!=="body"||Tw(o))&&(l=w4(n)),of(n))){const m=Hm(n);u=Wv(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const h=o&&!f&&!i?fG(o,l,!0):Zd(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-l.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-l.scrollTop*u.y+d.y+h.y}}function fde(e){return Array.from(e.getClientRects())}function hde(e){const t=hf(e),r=w4(e),n=e.ownerDocument.body,a=nc(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=nc(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+nD(e);const s=-r.scrollTop;return Xu(n).direction==="rtl"&&(o+=nc(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:s}}function pde(e,t){const r=fc(e),n=hf(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,s=0,l=0;if(a){i=a.width,o=a.height;const u=tD();(!u||u&&t==="fixed")&&(s=a.offsetLeft,l=a.offsetTop)}return{width:i,height:o,x:s,y:l}}function mde(e,t){const r=Hm(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=of(e)?Wv(e):Zd(1),o=e.clientWidth*i.x,s=e.clientHeight*i.y,l=a*i.x,u=n*i.y;return{width:o,height:s,x:l,y:u}}function yF(e,t,r){let n;if(t==="viewport")n=pde(e,r);else if(t==="document")n=hde(hf(e));else if(Yu(t))n=mde(t,r);else{const a=dG(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return p5(n)}function hG(e,t){const r=l0(e);return r===t||!Yu(r)||u1(r)?!1:Xu(r).position==="fixed"||hG(r,t)}function gde(e,t){const r=t.get(e);if(r)return r;let n=ax(e,[],!1).filter(s=>Yu(s)&&ny(s)!=="body"),a=null;const i=Xu(e).position==="fixed";let o=i?l0(e):e;for(;Yu(o)&&!u1(o);){const s=Xu(o),l=eD(o);!l&&s.position==="fixed"&&(a=null),(i?!l&&!a:!l&&s.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Tw(o)&&!l&&hG(e,o))?n=n.filter(d=>d!==o):a=s,o=l0(o)}return t.set(e,n),n}function vde(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?x4(t)?[]:gde(t,this._c):[].concat(r),n],s=o[0],l=o.reduce((u,d)=>{const f=yF(t,d,a);return u.top=nc(f.top,u.top),u.right=o0(f.right,u.right),u.bottom=o0(f.bottom,u.bottom),u.left=nc(f.left,u.left),u},yF(t,s,a));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function yde(e){const{width:t,height:r}=uG(e);return{width:t,height:r}}function xde(e,t,r){const n=of(t),a=hf(t),i=r==="fixed",o=Hm(e,!0,i,t);let s={scrollLeft:0,scrollTop:0};const l=Zd(0);if(n||!n&&!i)if((ny(t)!=="body"||Tw(a))&&(s=w4(t)),n){const h=Hm(t,!0,i,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else a&&(l.x=nD(a));const u=a&&!n&&!i?fG(a,s):Zd(0),d=o.left+s.scrollLeft-l.x-u.x,f=o.top+s.scrollTop-l.y-u.y;return{x:d,y:f,width:o.width,height:o.height}}function ok(e){return Xu(e).position==="static"}function xF(e,t){if(!of(e)||Xu(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return hf(e)===r&&(r=r.ownerDocument.body),r}function pG(e,t){const r=fc(e);if(x4(e))return r;if(!of(e)){let a=l0(e);for(;a&&!u1(a);){if(Yu(a)&&!ok(a))return a;a=l0(a)}return r}let n=xF(e,t);for(;n&&sde(n)&&ok(n);)n=xF(n,t);return n&&u1(n)&&ok(n)&&!eD(n)?r:n||lde(e)||r}const wde=async function(e){const t=this.getOffsetParent||pG,r=this.getDimensions,n=await r(e.floating);return{reference:xde(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function _de(e){return Xu(e).direction==="rtl"}const bde={convertOffsetParentRelativeRectToViewportRelativeRect:dde,getDocumentElement:hf,getClippingRect:vde,getOffsetParent:pG,getElementRects:wde,getClientRects:fde,getDimensions:yde,getScale:Wv,isElement:Yu,isRTL:_de};function mG(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Sde(e,t){let r=null,n;const a=hf(e);function i(){var s;clearTimeout(n),(s=r)==null||s.disconnect(),r=null}function o(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(s||t(),!h||!m)return;const x=G_(f),g=G_(a.clientWidth-(d+h)),y=G_(a.clientHeight-(f+m)),_=G_(d),S={rootMargin:-x+"px "+-g+"px "+-y+"px "+-_+"px",threshold:nc(0,o0(1,l))||1};let C=!0;function E(D){const T=D[0].intersectionRatio;if(T!==l){if(!C)return o();T?o(!1,T):n=setTimeout(()=>{o(!1,1e-7)},1e3)}T===1&&!mG(u,e.getBoundingClientRect())&&o(),C=!1}try{r=new IntersectionObserver(E,{...S,root:a.ownerDocument})}catch{r=new IntersectionObserver(E,S)}r.observe(e)}return o(!0),i}function Ade(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,u=rD(e),d=a||i?[...u?ax(u):[],...ax(t)]:[];d.forEach(_=>{a&&_.addEventListener("scroll",r,{passive:!0}),i&&_.addEventListener("resize",r)});const f=u&&s?Sde(u,r):null;let h=-1,m=null;o&&(m=new ResizeObserver(_=>{let[b]=_;b&&b.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var S;(S=m)==null||S.observe(t)})),r()}),u&&!l&&m.observe(u),m.observe(t));let x,g=l?Hm(e):null;l&&y();function y(){const _=Hm(e);g&&!mG(g,_)&&r(),g=_,x=requestAnimationFrame(y)}return r(),()=>{var _;d.forEach(b=>{a&&b.removeEventListener("scroll",r),i&&b.removeEventListener("resize",r)}),f==null||f(),(_=m)==null||_.disconnect(),m=null,l&&cancelAnimationFrame(x)}}const kde=nde,Nde=ade,Ede=ede,Cde=ode,Tde=tde,wF=Que,Pde=ide,Ode=(e,t,r)=>{const n=new Map,a={platform:bde,...r},i={...a.platform,_c:n};return Jue(e,t,{...a,platform:i})};var Ub=typeof document<"u"?A.useLayoutEffect:A.useEffect;function m5(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!m5(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!m5(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function gG(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function _F(e,t){const r=gG(e);return Math.round(t*r)/r}function sk(e){const t=A.useRef(e);return Ub(()=>{t.current=e}),t}function Dde(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:s=!0,whileElementsMounted:l,open:u}=e,[d,f]=A.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=A.useState(n);m5(h,n)||m(n);const[x,g]=A.useState(null),[y,_]=A.useState(null),b=A.useCallback(K=>{K!==D.current&&(D.current=K,g(K))},[]),S=A.useCallback(K=>{K!==T.current&&(T.current=K,_(K))},[]),C=i||x,E=o||y,D=A.useRef(null),T=A.useRef(null),I=A.useRef(d),L=l!=null,B=sk(l),P=sk(a),O=sk(u),j=A.useCallback(()=>{if(!D.current||!T.current)return;const K={placement:t,strategy:r,middleware:h};P.current&&(K.platform=P.current),Ode(D.current,T.current,K).then(z=>{const te={...z,isPositioned:O.current!==!1};G.current&&!m5(I.current,te)&&(I.current=te,J1.flushSync(()=>{f(te)}))})},[h,t,r,P,O]);Ub(()=>{u===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,f(K=>({...K,isPositioned:!1})))},[u]);const G=A.useRef(!1);Ub(()=>(G.current=!0,()=>{G.current=!1}),[]),Ub(()=>{if(C&&(D.current=C),E&&(T.current=E),C&&E){if(B.current)return B.current(C,E,j);j()}},[C,E,j,B,L]);const Y=A.useMemo(()=>({reference:D,floating:T,setReference:b,setFloating:S}),[b,S]),re=A.useMemo(()=>({reference:C,floating:E}),[C,E]),q=A.useMemo(()=>{const K={position:r,left:0,top:0};if(!re.floating)return K;const z=_F(re.floating,d.x),te=_F(re.floating,d.y);return s?{...K,transform:"translate("+z+"px, "+te+"px)",...gG(re.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:z,top:te}},[r,s,re.floating,d.x,d.y]);return A.useMemo(()=>({...d,update:j,refs:Y,elements:re,floatingStyles:q}),[d,j,Y,re,q])}const Ide=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?wF({element:n.current,padding:a}).fn(r):{}:n?wF({element:n,padding:a}).fn(r):{}}}},Rde=(e,t)=>({...kde(e),options:[e,t]}),Mde=(e,t)=>({...Nde(e),options:[e,t]}),Fde=(e,t)=>({...Pde(e),options:[e,t]}),Lde=(e,t)=>({...Ede(e),options:[e,t]}),jde=(e,t)=>({...Cde(e),options:[e,t]}),$de=(e,t)=>({...Tde(e),options:[e,t]}),Bde=(e,t)=>({...Ide(e),options:[e,t]});var Ude="Arrow",vG=A.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return c(pr.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:c("polygon",{points:"0,0 30,0 15,10"})})});vG.displayName=Ude;var qde=vG;function _4(e){const[t,r]=A.useState(void 0);return ii(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,s;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,s=u.blockSize}else o=e.offsetWidth,s=e.offsetHeight;r({width:o,height:s})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var aD="Popper",[yG,S0]=Xi(aD),[zde,xG]=yG(aD),wG=e=>{const{__scopePopper:t,children:r}=e,[n,a]=A.useState(null);return c(zde,{scope:t,anchor:n,onAnchorChange:a,children:r})};wG.displayName=aD;var _G="PopperAnchor",bG=A.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=xG(_G,r),o=A.useRef(null),s=Hr(t,o);return A.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:c(pr.div,{...a,ref:s})});bG.displayName=_G;var iD="PopperContent",[Wde,Hde]=yG(iD),SG=A.forwardRef((e,t)=>{var le,pe,J,me,ve,ae;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:s=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:x,...g}=e,y=xG(iD,r),[_,b]=A.useState(null),S=Hr(t,Ue=>b(Ue)),[C,E]=A.useState(null),D=_4(C),T=(D==null?void 0:D.width)??0,I=(D==null?void 0:D.height)??0,L=n+(i!=="center"?"-"+i:""),B=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},P=Array.isArray(u)?u:[u],O=P.length>0,j={padding:B,boundary:P.filter(Gde),altBoundary:O},{refs:G,floatingStyles:Y,placement:re,isPositioned:q,middlewareData:K}=Dde({strategy:"fixed",placement:L,whileElementsMounted:(...Ue)=>Ade(...Ue,{animationFrame:m==="always"}),elements:{reference:y.anchor},middleware:[Rde({mainAxis:a+I,alignmentAxis:o}),l&&Mde({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Fde():void 0,...j}),l&&Lde({...j}),jde({...j,apply:({elements:Ue,rects:He,availableWidth:Ie,availableHeight:he})=>{const{width:Ze,height:pt}=He.reference,ht=Ue.floating.style;ht.setProperty("--radix-popper-available-width",`${Ie}px`),ht.setProperty("--radix-popper-available-height",`${he}px`),ht.setProperty("--radix-popper-anchor-width",`${Ze}px`),ht.setProperty("--radix-popper-anchor-height",`${pt}px`)}}),C&&Bde({element:C,padding:s}),Kde({arrowWidth:T,arrowHeight:I}),h&&$de({strategy:"referenceHidden",...j})]}),[z,te]=NG(re),Q=Ci(x);ii(()=>{q&&(Q==null||Q())},[q,Q]);const R=(le=K.arrow)==null?void 0:le.x,H=(pe=K.arrow)==null?void 0:pe.y,X=((J=K.arrow)==null?void 0:J.centerOffset)!==0,[Z,ie]=A.useState();return ii(()=>{_&&ie(window.getComputedStyle(_).zIndex)},[_]),c("div",{ref:G.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:q?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Z,"--radix-popper-transform-origin":[(me=K.transformOrigin)==null?void 0:me.x,(ve=K.transformOrigin)==null?void 0:ve.y].join(" "),...((ae=K.hide)==null?void 0:ae.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:c(Wde,{scope:r,placedSide:z,onArrowChange:E,arrowX:R,arrowY:H,shouldHideArrow:X,children:c(pr.div,{"data-side":z,"data-align":te,...g,ref:S,style:{...g.style,animation:q?void 0:"none"}})})})});SG.displayName=iD;var AG="PopperArrow",Vde={top:"bottom",right:"left",bottom:"top",left:"right"},kG=A.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=Hde(AG,n),o=Vde[i.placedSide];return c("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:c(qde,{...a,ref:r,style:{...a.style,display:"block"}})})});kG.displayName=AG;function Gde(e){return e!==null}var Kde=e=>({name:"transformOrigin",options:e,fn(t){var y,_,b;const{placement:r,rects:n,middlewareData:a}=t,o=((y=a.arrow)==null?void 0:y.centerOffset)!==0,s=o?0:e.arrowWidth,l=o?0:e.arrowHeight,[u,d]=NG(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((_=a.arrow)==null?void 0:_.x)??0)+s/2,m=(((b=a.arrow)==null?void 0:b.y)??0)+l/2;let x="",g="";return u==="bottom"?(x=o?f:`${h}px`,g=`${-l}px`):u==="top"?(x=o?f:`${h}px`,g=`${n.floating.height+l}px`):u==="right"?(x=`${-l}px`,g=o?f:`${m}px`):u==="left"&&(x=`${n.floating.width+l}px`,g=o?f:`${m}px`),{data:{x,y:g}}}});function NG(e){const[t,r="center"]=e.split("-");return[t,r]}var b4=wG,Pw=bG,S4=SG,A4=kG,Yde="Portal",ay=A.forwardRef((e,t)=>{var s;const{container:r,...n}=e,[a,i]=A.useState(!1);ii(()=>i(!0),[]);const o=r||a&&((s=globalThis==null?void 0:globalThis.document)==null?void 0:s.body);return o?Hse.createPortal(c(pr.div,{...n,ref:t}),o):null});ay.displayName=Yde;function Xde(e,t){return A.useReducer((r,n)=>t[r][n]??r,e)}var is=e=>{const{present:t,children:r}=e,n=Zde(t),a=typeof r=="function"?r({present:n.isPresent}):A.Children.only(r),i=Hr(n.ref,Jde(a));return typeof r=="function"||n.isPresent?A.cloneElement(a,{ref:i}):null};is.displayName="Presence";function Zde(e){const[t,r]=A.useState(),n=A.useRef({}),a=A.useRef(e),i=A.useRef("none"),o=e?"mounted":"unmounted",[s,l]=Xde(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return A.useEffect(()=>{const u=K_(n.current);i.current=s==="mounted"?u:"none"},[s]),ii(()=>{const u=n.current,d=a.current;if(d!==e){const h=i.current,m=K_(u);e?l("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,l]),ii(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const g=K_(n.current).includes(m.animationName);if(m.target===t&&g&&(l("ANIMATION_END"),!a.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},h=m=>{m.target===t&&(i.current=K_(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:A.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function K_(e){return(e==null?void 0:e.animationName)||"none"}function Jde(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var lk="rovingFocusGroup.onEntryFocus",Qde={bubbles:!1,cancelable:!0},Ow="RovingFocusGroup",[t6,EG,efe]=Ew(Ow),[tfe,iy]=Xi(Ow,[efe]),[rfe,nfe]=tfe(Ow),CG=A.forwardRef((e,t)=>c(t6.Provider,{scope:e.__scopeRovingFocusGroup,children:c(t6.Slot,{scope:e.__scopeRovingFocusGroup,children:c(afe,{...e,ref:t})})}));CG.displayName=Ow;var afe=A.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=A.useRef(null),m=Hr(t,h),x=mg(i),[g,y]=ll({prop:o,defaultProp:s??null,onChange:l,caller:Ow}),[_,b]=A.useState(!1),S=Ci(u),C=EG(r),E=A.useRef(!1),[D,T]=A.useState(0);return A.useEffect(()=>{const I=h.current;if(I)return I.addEventListener(lk,S),()=>I.removeEventListener(lk,S)},[S]),c(rfe,{scope:r,orientation:n,dir:x,loop:a,currentTabStopId:g,onItemFocus:A.useCallback(I=>y(I),[y]),onItemShiftTab:A.useCallback(()=>b(!0),[]),onFocusableItemAdd:A.useCallback(()=>T(I=>I+1),[]),onFocusableItemRemove:A.useCallback(()=>T(I=>I-1),[]),children:c(pr.div,{tabIndex:_||D===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:Ut(e.onMouseDown,()=>{E.current=!0}),onFocus:Ut(e.onFocus,I=>{const L=!E.current;if(I.target===I.currentTarget&&L&&!_){const B=new CustomEvent(lk,Qde);if(I.currentTarget.dispatchEvent(B),!B.defaultPrevented){const P=C().filter(re=>re.focusable),O=P.find(re=>re.active),j=P.find(re=>re.id===g),Y=[O,j,...P].filter(Boolean).map(re=>re.ref.current);OG(Y,d)}}E.current=!1}),onBlur:Ut(e.onBlur,()=>b(!1))})})}),TG="RovingFocusGroupItem",PG=A.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:o,...s}=e,l=Dl(),u=i||l,d=nfe(TG,r),f=d.currentTabStopId===u,h=EG(r),{onFocusableItemAdd:m,onFocusableItemRemove:x,currentTabStopId:g}=d;return A.useEffect(()=>{if(n)return m(),()=>x()},[n,m,x]),c(t6.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:c(pr.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...s,ref:t,onMouseDown:Ut(e.onMouseDown,y=>{n?d.onItemFocus(u):y.preventDefault()}),onFocus:Ut(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:Ut(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){d.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const _=sfe(y,d.orientation,d.dir);if(_!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let S=h().filter(C=>C.focusable).map(C=>C.ref.current);if(_==="last")S.reverse();else if(_==="prev"||_==="next"){_==="prev"&&S.reverse();const C=S.indexOf(y.currentTarget);S=d.loop?lfe(S,C+1):S.slice(C+1)}setTimeout(()=>OG(S))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:g!=null}):o})})});PG.displayName=TG;var ife={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ofe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function sfe(e,t,r){const n=ofe(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return ife[n]}function OG(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function lfe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var oD=CG,sD=PG,cfe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},lv=new WeakMap,Y_=new WeakMap,X_={},ck=0,DG=function(e){return e&&(e.host||DG(e.parentNode))},ufe=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=DG(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},dfe=function(e,t,r,n){var a=ufe(t,Array.isArray(e)?e:[e]);X_[r]||(X_[r]=new WeakMap);var i=X_[r],o=[],s=new Set,l=new Set(a),u=function(f){!f||s.has(f)||(s.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(s.has(h))d(h);else try{var m=h.getAttribute(n),x=m!==null&&m!=="false",g=(lv.get(h)||0)+1,y=(i.get(h)||0)+1;lv.set(h,g),i.set(h,y),o.push(h),g===1&&x&&Y_.set(h,!0),y===1&&h.setAttribute(r,"true"),x||h.setAttribute(n,"true")}catch(_){console.error("aria-hidden: cannot operate on ",h,_)}})};return d(t),s.clear(),ck++,function(){o.forEach(function(f){var h=lv.get(f)-1,m=i.get(f)-1;lv.set(f,h),i.set(f,m),h||(Y_.has(f)||f.removeAttribute(n),Y_.delete(f)),m||f.removeAttribute(r)}),ck--,ck||(lv=new WeakMap,lv=new WeakMap,Y_=new WeakMap,X_={})}},k4=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=cfe(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),dfe(n,a,r,"aria-hidden")):function(){return null}},qd=function(){return qd=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},qd.apply(this,arguments)};function IG(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function ffe(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var qb="right-scroll-bar-position",zb="width-before-scroll-bar",hfe="with-scroll-bars-hidden",pfe="--removed-body-scroll-bar-size";function uk(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function mfe(e,t){var r=A.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var gfe=typeof window<"u"?A.useLayoutEffect:A.useEffect,bF=new WeakMap;function vfe(e,t){var r=mfe(null,function(n){return e.forEach(function(a){return uk(a,n)})});return gfe(function(){var n=bF.get(r);if(n){var a=new Set(n),i=new Set(e),o=r.current;a.forEach(function(s){i.has(s)||uk(s,null)}),i.forEach(function(s){a.has(s)||uk(s,o)})}bF.set(r,e)},[e]),r}function yfe(e){return e}function xfe(e,t){t===void 0&&(t=yfe);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(s){return s!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(s){return i(s)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var s=r;r=[],s.forEach(i),o=r}var l=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return a}function wfe(e){e===void 0&&(e={});var t=xfe(null);return t.options=qd({async:!0,ssr:!1},e),t}var RG=function(e){var t=e.sideCar,r=IG(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return A.createElement(n,qd({},r))};RG.isSideCarExport=!0;function _fe(e,t){return e.useMedium(t),RG}var MG=wfe(),dk=function(){},N4=A.forwardRef(function(e,t){var r=A.useRef(null),n=A.useState({onScrollCapture:dk,onWheelCapture:dk,onTouchMoveCapture:dk}),a=n[0],i=n[1],o=e.forwardProps,s=e.children,l=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noIsolation,x=e.inert,g=e.allowPinchZoom,y=e.as,_=y===void 0?"div":y,b=e.gapMode,S=IG(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=h,E=vfe([r,t]),D=qd(qd({},S),a);return A.createElement(A.Fragment,null,d&&A.createElement(C,{sideCar:MG,removeScrollBar:u,shards:f,noIsolation:m,inert:x,setCallbacks:i,allowPinchZoom:!!g,lockRef:r,gapMode:b}),o?A.cloneElement(A.Children.only(s),qd(qd({},D),{ref:E})):A.createElement(_,qd({},D,{className:l,ref:E}),s))});N4.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};N4.classNames={fullWidth:zb,zeroRight:qb};var bfe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Sfe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=bfe();return t&&e.setAttribute("nonce",t),e}function Afe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function kfe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Nfe=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Sfe())&&(Afe(t,r),kfe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Efe=function(){var e=Nfe();return function(t,r){A.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},FG=function(){var e=Efe(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},Cfe={left:0,top:0,right:0,gap:0},fk=function(e){return parseInt(e||"",10)||0},Tfe=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[fk(r),fk(n),fk(a)]},Pfe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Cfe;var t=Tfe(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},Ofe=FG(),Hv="data-scroll-locked",Dfe=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,s=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(hfe,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(s,"px ").concat(n,`;
  }
  body[`).concat(Hv,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(s,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(qb,` {
    right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(zb,` {
    margin-right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(qb," .").concat(qb,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(zb," .").concat(zb,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Hv,`] {
    `).concat(pfe,": ").concat(s,`px;
  }
`)},SF=function(){var e=parseInt(document.body.getAttribute(Hv)||"0",10);return isFinite(e)?e:0},Ife=function(){A.useEffect(function(){return document.body.setAttribute(Hv,(SF()+1).toString()),function(){var e=SF()-1;e<=0?document.body.removeAttribute(Hv):document.body.setAttribute(Hv,e.toString())}},[])},Rfe=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;Ife();var i=A.useMemo(function(){return Pfe(a)},[a]);return A.createElement(Ofe,{styles:Dfe(i,!t,a,r?"":"!important")})},r6=!1;if(typeof window<"u")try{var Z_=Object.defineProperty({},"passive",{get:function(){return r6=!0,!0}});window.addEventListener("test",Z_,Z_),window.removeEventListener("test",Z_,Z_)}catch{r6=!1}var cv=r6?{passive:!1}:!1,Mfe=function(e){return e.tagName==="TEXTAREA"},LG=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Mfe(e)&&r[t]==="visible")},Ffe=function(e){return LG(e,"overflowY")},Lfe=function(e){return LG(e,"overflowX")},AF=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=jG(e,n);if(a){var i=$G(e,n),o=i[1],s=i[2];if(o>s)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},jfe=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},$fe=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},jG=function(e,t){return e==="v"?Ffe(t):Lfe(t)},$G=function(e,t){return e==="v"?jfe(t):$fe(t)},Bfe=function(e,t){return e==="h"&&t==="rtl"?-1:1},Ufe=function(e,t,r,n,a){var i=Bfe(e,window.getComputedStyle(t).direction),o=i*n,s=r.target,l=t.contains(s),u=!1,d=o>0,f=0,h=0;do{var m=$G(e,s),x=m[0],g=m[1],y=m[2],_=g-y-i*x;(x||_)&&jG(e,s)&&(f+=_,h+=x),s instanceof ShadowRoot?s=s.host:s=s.parentNode}while(!l&&s!==document.body||l&&(t.contains(s)||t===s));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},J_=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},kF=function(e){return[e.deltaX,e.deltaY]},NF=function(e){return e&&"current"in e?e.current:e},qfe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},zfe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Wfe=0,uv=[];function Hfe(e){var t=A.useRef([]),r=A.useRef([0,0]),n=A.useRef(),a=A.useState(Wfe++)[0],i=A.useState(FG)[0],o=A.useRef(e);A.useEffect(function(){o.current=e},[e]),A.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var g=ffe([e.lockRef.current],(e.shards||[]).map(NF),!0).filter(Boolean);return g.forEach(function(y){return y.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),g.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var s=A.useCallback(function(g,y){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var _=J_(g),b=r.current,S="deltaX"in g?g.deltaX:b[0]-_[0],C="deltaY"in g?g.deltaY:b[1]-_[1],E,D=g.target,T=Math.abs(S)>Math.abs(C)?"h":"v";if("touches"in g&&T==="h"&&D.type==="range")return!1;var I=AF(T,D);if(!I)return!0;if(I?E=T:(E=T==="v"?"h":"v",I=AF(T,D)),!I)return!1;if(!n.current&&"changedTouches"in g&&(S||C)&&(n.current=E),!E)return!0;var L=n.current||E;return Ufe(L,y,g,L==="h"?S:C)},[]),l=A.useCallback(function(g){var y=g;if(!(!uv.length||uv[uv.length-1]!==i)){var _="deltaY"in y?kF(y):J_(y),b=t.current.filter(function(E){return E.name===y.type&&(E.target===y.target||y.target===E.shadowParent)&&qfe(E.delta,_)})[0];if(b&&b.should){y.cancelable&&y.preventDefault();return}if(!b){var S=(o.current.shards||[]).map(NF).filter(Boolean).filter(function(E){return E.contains(y.target)}),C=S.length>0?s(y,S[0]):!o.current.noIsolation;C&&y.cancelable&&y.preventDefault()}}},[]),u=A.useCallback(function(g,y,_,b){var S={name:g,delta:y,target:_,should:b,shadowParent:Vfe(_)};t.current.push(S),setTimeout(function(){t.current=t.current.filter(function(C){return C!==S})},1)},[]),d=A.useCallback(function(g){r.current=J_(g),n.current=void 0},[]),f=A.useCallback(function(g){u(g.type,kF(g),g.target,s(g,e.lockRef.current))},[]),h=A.useCallback(function(g){u(g.type,J_(g),g.target,s(g,e.lockRef.current))},[]);A.useEffect(function(){return uv.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,cv),document.addEventListener("touchmove",l,cv),document.addEventListener("touchstart",d,cv),function(){uv=uv.filter(function(g){return g!==i}),document.removeEventListener("wheel",l,cv),document.removeEventListener("touchmove",l,cv),document.removeEventListener("touchstart",d,cv)}},[]);var m=e.removeScrollBar,x=e.inert;return A.createElement(A.Fragment,null,x?A.createElement(i,{styles:zfe(a)}):null,m?A.createElement(Rfe,{gapMode:e.gapMode}):null)}function Vfe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Gfe=_fe(MG,Hfe);var Dw=A.forwardRef(function(e,t){return A.createElement(N4,qd({},e,{ref:t,sideCar:Gfe}))});Dw.classNames=N4.classNames;var n6=["Enter"," "],Kfe=["ArrowDown","PageUp","Home"],BG=["ArrowUp","PageDown","End"],Yfe=[...Kfe,...BG],Xfe={ltr:[...n6,"ArrowRight"],rtl:[...n6,"ArrowLeft"]},Zfe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Iw="Menu",[ix,Jfe,Qfe]=Ew(Iw),[vg,UG]=Xi(Iw,[Qfe,S0,iy]),E4=S0(),qG=iy(),[ehe,yg]=vg(Iw),[the,Rw]=vg(Iw),zG=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:i,modal:o=!0}=e,s=E4(t),[l,u]=A.useState(null),d=A.useRef(!1),f=Ci(i),h=mg(a);return A.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),c(b4,{...s,children:c(ehe,{scope:t,open:r,onOpenChange:f,content:l,onContentChange:u,children:c(the,{scope:t,onClose:A.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:n})})})};zG.displayName=Iw;var rhe="MenuAnchor",lD=A.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=E4(r);return c(Pw,{...a,...n,ref:t})});lD.displayName=rhe;var cD="MenuPortal",[nhe,WG]=vg(cD,{forceMount:void 0}),HG=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,i=yg(cD,t);return c(nhe,{scope:t,forceMount:r,children:c(is,{present:r||i.open,children:c(ay,{asChild:!0,container:a,children:n})})})};HG.displayName=cD;var Xc="MenuContent",[ahe,uD]=vg(Xc),VG=A.forwardRef((e,t)=>{const r=WG(Xc,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=yg(Xc,e.__scopeMenu),o=Rw(Xc,e.__scopeMenu);return c(ix.Provider,{scope:e.__scopeMenu,children:c(is,{present:n||i.open,children:c(ix.Slot,{scope:e.__scopeMenu,children:o.modal?c(ihe,{...a,ref:t}):c(ohe,{...a,ref:t})})})})}),ihe=A.forwardRef((e,t)=>{const r=yg(Xc,e.__scopeMenu),n=A.useRef(null),a=Hr(t,n);return A.useEffect(()=>{const i=n.current;if(i)return k4(i)},[]),c(dD,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Ut(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),ohe=A.forwardRef((e,t)=>{const r=yg(Xc,e.__scopeMenu);return c(dD,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),she=i0("MenuContent.ScrollLock"),dD=A.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:s,onEntryFocus:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:x,...g}=e,y=yg(Xc,r),_=Rw(Xc,r),b=E4(r),S=qG(r),C=Jfe(r),[E,D]=A.useState(null),T=A.useRef(null),I=Hr(t,T,y.onContentChange),L=A.useRef(0),B=A.useRef(""),P=A.useRef(0),O=A.useRef(null),j=A.useRef("right"),G=A.useRef(0),Y=x?Dw:A.Fragment,re=x?{as:she,allowPinchZoom:!0}:void 0,q=z=>{var le,pe;const te=B.current+z,Q=C().filter(J=>!J.disabled),R=document.activeElement,H=(le=Q.find(J=>J.ref.current===R))==null?void 0:le.textValue,X=Q.map(J=>J.textValue),Z=xhe(X,te,H),ie=(pe=Q.find(J=>J.textValue===Z))==null?void 0:pe.ref.current;(function J(me){B.current=me,window.clearTimeout(L.current),me!==""&&(L.current=window.setTimeout(()=>J(""),1e3))})(te),ie&&setTimeout(()=>ie.focus())};A.useEffect(()=>()=>window.clearTimeout(L.current),[]),v4();const K=A.useCallback(z=>{var Q,R;return j.current===((Q=O.current)==null?void 0:Q.side)&&_he(z,(R=O.current)==null?void 0:R.area)},[]);return c(ahe,{scope:r,searchRef:B,onItemEnter:A.useCallback(z=>{K(z)&&z.preventDefault()},[K]),onItemLeave:A.useCallback(z=>{var te;K(z)||((te=T.current)==null||te.focus(),D(null))},[K]),onTriggerLeave:A.useCallback(z=>{K(z)&&z.preventDefault()},[K]),pointerGraceTimerRef:P,onPointerGraceIntentChange:A.useCallback(z=>{O.current=z},[]),children:c(Y,{...re,children:c(Cw,{asChild:!0,trapped:a,onMountAutoFocus:Ut(i,z=>{var te;z.preventDefault(),(te=T.current)==null||te.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:c(gg,{asChild:!0,disableOutsidePointerEvents:s,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:c(oD,{asChild:!0,...S,dir:_.dir,orientation:"vertical",loop:n,currentTabStopId:E,onCurrentTabStopIdChange:D,onEntryFocus:Ut(l,z=>{_.isUsingKeyboardRef.current||z.preventDefault()}),preventScrollOnEntryFocus:!0,children:c(S4,{role:"menu","aria-orientation":"vertical","data-state":lK(y.open),"data-radix-menu-content":"",dir:_.dir,...b,...g,ref:I,style:{outline:"none",...g.style},onKeyDown:Ut(g.onKeyDown,z=>{const Q=z.target.closest("[data-radix-menu-content]")===z.currentTarget,R=z.ctrlKey||z.altKey||z.metaKey,H=z.key.length===1;Q&&(z.key==="Tab"&&z.preventDefault(),!R&&H&&q(z.key));const X=T.current;if(z.target!==X||!Yfe.includes(z.key))return;z.preventDefault();const ie=C().filter(le=>!le.disabled).map(le=>le.ref.current);BG.includes(z.key)&&ie.reverse(),vhe(ie)}),onBlur:Ut(e.onBlur,z=>{z.currentTarget.contains(z.target)||(window.clearTimeout(L.current),B.current="")}),onPointerMove:Ut(e.onPointerMove,ox(z=>{const te=z.target,Q=G.current!==z.clientX;if(z.currentTarget.contains(te)&&Q){const R=z.clientX>G.current?"right":"left";j.current=R,G.current=z.clientX}}))})})})})})})});VG.displayName=Xc;var lhe="MenuGroup",fD=A.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return c(pr.div,{role:"group",...n,ref:t})});fD.displayName=lhe;var che="MenuLabel",GG=A.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return c(pr.div,{...n,ref:t})});GG.displayName=che;var g5="MenuItem",EF="menu.itemSelect",C4=A.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,i=A.useRef(null),o=Rw(g5,e.__scopeMenu),s=uD(g5,e.__scopeMenu),l=Hr(t,i),u=A.useRef(!1),d=()=>{const f=i.current;if(!r&&f){const h=new CustomEvent(EF,{bubbles:!0,cancelable:!0});f.addEventListener(EF,m=>n==null?void 0:n(m),{once:!0}),X8(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return c(KG,{...a,ref:l,disabled:r,onClick:Ut(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:Ut(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:Ut(e.onKeyDown,f=>{const h=s.searchRef.current!=="";r||h&&f.key===" "||n6.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});C4.displayName=g5;var KG=A.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...i}=e,o=uD(g5,r),s=qG(r),l=A.useRef(null),u=Hr(t,l),[d,f]=A.useState(!1),[h,m]=A.useState("");return A.useEffect(()=>{const x=l.current;x&&m((x.textContent??"").trim())},[i.children]),c(ix.ItemSlot,{scope:r,disabled:n,textValue:a??h,children:c(sD,{asChild:!0,...s,focusable:!n,children:c(pr.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:Ut(e.onPointerMove,ox(x=>{n?o.onItemLeave(x):(o.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ut(e.onPointerLeave,ox(x=>o.onItemLeave(x))),onFocus:Ut(e.onFocus,()=>f(!0)),onBlur:Ut(e.onBlur,()=>f(!1))})})})}),uhe="MenuCheckboxItem",YG=A.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return c(eK,{scope:e.__scopeMenu,checked:r,children:c(C4,{role:"menuitemcheckbox","aria-checked":v5(r)?"mixed":r,...a,ref:t,"data-state":pD(r),onSelect:Ut(a.onSelect,()=>n==null?void 0:n(v5(r)?!0:!r),{checkForDefaultPrevented:!1})})})});YG.displayName=uhe;var XG="MenuRadioGroup",[dhe,fhe]=vg(XG,{value:void 0,onValueChange:()=>{}}),ZG=A.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,i=Ci(n);return c(dhe,{scope:e.__scopeMenu,value:r,onValueChange:i,children:c(fD,{...a,ref:t})})});ZG.displayName=XG;var JG="MenuRadioItem",QG=A.forwardRef((e,t)=>{const{value:r,...n}=e,a=fhe(JG,e.__scopeMenu),i=r===a.value;return c(eK,{scope:e.__scopeMenu,checked:i,children:c(C4,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":pD(i),onSelect:Ut(n.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,r)},{checkForDefaultPrevented:!1})})})});QG.displayName=JG;var hD="MenuItemIndicator",[eK,hhe]=vg(hD,{checked:!1}),tK=A.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,i=hhe(hD,r);return c(is,{present:n||v5(i.checked)||i.checked===!0,children:c(pr.span,{...a,ref:t,"data-state":pD(i.checked)})})});tK.displayName=hD;var phe="MenuSeparator",rK=A.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return c(pr.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});rK.displayName=phe;var mhe="MenuArrow",nK=A.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=E4(r);return c(A4,{...a,...n,ref:t})});nK.displayName=mhe;var ghe="MenuSub",[yJe,aK]=vg(ghe),h2="MenuSubTrigger",iK=A.forwardRef((e,t)=>{const r=yg(h2,e.__scopeMenu),n=Rw(h2,e.__scopeMenu),a=aK(h2,e.__scopeMenu),i=uD(h2,e.__scopeMenu),o=A.useRef(null),{pointerGraceTimerRef:s,onPointerGraceIntentChange:l}=i,u={__scopeMenu:e.__scopeMenu},d=A.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return A.useEffect(()=>d,[d]),A.useEffect(()=>{const f=s.current;return()=>{window.clearTimeout(f),l(null)}},[s,l]),c(lD,{asChild:!0,...u,children:c(KG,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":lK(r.open),...e,ref:g4(t,a.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Ut(e.onPointerMove,ox(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:Ut(e.onPointerLeave,ox(f=>{var m,x;d();const h=(m=r.content)==null?void 0:m.getBoundingClientRect();if(h){const g=(x=r.content)==null?void 0:x.dataset.side,y=g==="right",_=y?-5:5,b=h[y?"left":"right"],S=h[y?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+_,y:f.clientY},{x:b,y:h.top},{x:S,y:h.top},{x:S,y:h.bottom},{x:b,y:h.bottom}],side:g}),window.clearTimeout(s.current),s.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Ut(e.onKeyDown,f=>{var m;const h=i.searchRef.current!=="";e.disabled||h&&f.key===" "||Xfe[n.dir].includes(f.key)&&(r.onOpenChange(!0),(m=r.content)==null||m.focus(),f.preventDefault())})})})});iK.displayName=h2;var oK="MenuSubContent",sK=A.forwardRef((e,t)=>{const r=WG(Xc,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=yg(Xc,e.__scopeMenu),o=Rw(Xc,e.__scopeMenu),s=aK(oK,e.__scopeMenu),l=A.useRef(null),u=Hr(t,l);return c(ix.Provider,{scope:e.__scopeMenu,children:c(is,{present:n||i.open,children:c(ix.Slot,{scope:e.__scopeMenu,children:c(dD,{id:s.contentId,"aria-labelledby":s.triggerId,...a,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=l.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Ut(e.onFocusOutside,d=>{d.target!==s.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Ut(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:Ut(e.onKeyDown,d=>{var m;const f=d.currentTarget.contains(d.target),h=Zfe[o.dir].includes(d.key);f&&h&&(i.onOpenChange(!1),(m=s.trigger)==null||m.focus(),d.preventDefault())})})})})})});sK.displayName=oK;function lK(e){return e?"open":"closed"}function v5(e){return e==="indeterminate"}function pD(e){return v5(e)?"indeterminate":e?"checked":"unchecked"}function vhe(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function yhe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function xhe(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=yhe(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const l=o.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return l!==r?l:void 0}function whe(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const s=t[i],l=t[o],u=s.x,d=s.y,f=l.x,h=l.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(a=!a)}return a}function _he(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return whe(r,t)}function ox(e){return t=>t.pointerType==="mouse"?e(t):void 0}var bhe=zG,She=lD,Ahe=HG,khe=VG,Nhe=fD,Ehe=GG,Che=C4,The=YG,Phe=ZG,Ohe=QG,Dhe=tK,Ihe=rK,Rhe=nK,Mhe=iK,Fhe=sK,T4="DropdownMenu",[Lhe,xJe]=Xi(T4,[UG]),dl=UG(),[jhe,cK]=Lhe(T4),uK=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:i,onOpenChange:o,modal:s=!0}=e,l=dl(t),u=A.useRef(null),[d,f]=ll({prop:a,defaultProp:i??!1,onChange:o,caller:T4});return c(jhe,{scope:t,triggerId:Dl(),triggerRef:u,contentId:Dl(),open:d,onOpenChange:f,onOpenToggle:A.useCallback(()=>f(h=>!h),[f]),modal:s,children:c(bhe,{...l,open:d,onOpenChange:f,dir:n,modal:s,children:r})})};uK.displayName=T4;var dK="DropdownMenuTrigger",fK=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,i=cK(dK,r),o=dl(r);return c(She,{asChild:!0,...o,children:c(pr.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:g4(t,i.triggerRef),onPointerDown:Ut(e.onPointerDown,s=>{!n&&s.button===0&&s.ctrlKey===!1&&(i.onOpenToggle(),i.open||s.preventDefault())}),onKeyDown:Ut(e.onKeyDown,s=>{n||(["Enter"," "].includes(s.key)&&i.onOpenToggle(),s.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(s.key)&&s.preventDefault())})})})});fK.displayName=dK;var $he="DropdownMenuPortal",hK=e=>{const{__scopeDropdownMenu:t,...r}=e,n=dl(t);return c(Ahe,{...n,...r})};hK.displayName=$he;var pK="DropdownMenuContent",mK=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=cK(pK,r),i=dl(r),o=A.useRef(!1);return c(khe,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...n,ref:t,onCloseAutoFocus:Ut(e.onCloseAutoFocus,s=>{var l;o.current||(l=a.triggerRef.current)==null||l.focus(),o.current=!1,s.preventDefault()}),onInteractOutside:Ut(e.onInteractOutside,s=>{const l=s.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,d=l.button===2||u;(!a.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});mK.displayName=pK;var Bhe="DropdownMenuGroup",Uhe=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=dl(r);return c(Nhe,{...a,...n,ref:t})});Uhe.displayName=Bhe;var qhe="DropdownMenuLabel",gK=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=dl(r);return c(Ehe,{...a,...n,ref:t})});gK.displayName=qhe;var zhe="DropdownMenuItem",vK=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=dl(r);return c(Che,{...a,...n,ref:t})});vK.displayName=zhe;var Whe="DropdownMenuCheckboxItem",yK=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=dl(r);return c(The,{...a,...n,ref:t})});yK.displayName=Whe;var Hhe="DropdownMenuRadioGroup",Vhe=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=dl(r);return c(Phe,{...a,...n,ref:t})});Vhe.displayName=Hhe;var Ghe="DropdownMenuRadioItem",xK=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=dl(r);return c(Ohe,{...a,...n,ref:t})});xK.displayName=Ghe;var Khe="DropdownMenuItemIndicator",wK=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=dl(r);return c(Dhe,{...a,...n,ref:t})});wK.displayName=Khe;var Yhe="DropdownMenuSeparator",_K=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=dl(r);return c(Ihe,{...a,...n,ref:t})});_K.displayName=Yhe;var Xhe="DropdownMenuArrow",Zhe=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=dl(r);return c(Rhe,{...a,...n,ref:t})});Zhe.displayName=Xhe;var Jhe="DropdownMenuSubTrigger",bK=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=dl(r);return c(Mhe,{...a,...n,ref:t})});bK.displayName=Jhe;var Qhe="DropdownMenuSubContent",SK=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=dl(r);return c(Fhe,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});SK.displayName=Qhe;var epe=uK,tpe=fK,rpe=hK,AK=mK,kK=gK,NK=vK,EK=yK,CK=xK,TK=wK,PK=_K,OK=bK,DK=SK;const npe=epe,ape=tpe,ipe=A.forwardRef(({className:e,inset:t,children:r,...n},a)=>w(OK,{ref:a,className:It("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,c(n0,{className:"ml-auto h-4 w-4"})]}));ipe.displayName=OK.displayName;const ope=A.forwardRef(({className:e,...t},r)=>c(DK,{ref:r,className:It("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));ope.displayName=DK.displayName;const IK=A.forwardRef(({className:e,sideOffset:t=4,...r},n)=>c(rpe,{children:c(AK,{ref:n,sideOffset:t,className:It("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));IK.displayName=AK.displayName;const p2=A.forwardRef(({className:e,inset:t,...r},n)=>c(NK,{ref:n,className:It("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));p2.displayName=NK.displayName;const spe=A.forwardRef(({className:e,children:t,checked:r,...n},a)=>w(EK,{ref:a,className:It("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[c("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c(TK,{children:c(Aw,{className:"h-4 w-4"})})}),t]}));spe.displayName=EK.displayName;const lpe=A.forwardRef(({className:e,children:t,...r},n)=>w(CK,{ref:n,className:It("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[c("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c(TK,{children:c(BV,{className:"h-2 w-2 fill-current"})})}),t]}));lpe.displayName=CK.displayName;const RK=A.forwardRef(({className:e,inset:t,...r},n)=>c(kK,{ref:n,className:It("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));RK.displayName=kK.displayName;const a6=A.forwardRef(({className:e,...t},r)=>c(PK,{ref:r,className:It("-mx-1 my-1 h-px bg-muted",e),...t}));a6.displayName=PK.displayName;const ot=A.forwardRef(({className:e,type:t,...r},n)=>c("input",{type:t,className:It("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));ot.displayName="Input";var hk={exports:{}},pk={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CF;function cpe(){if(CF)return pk;CF=1;var e=c4();function t(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function s(f,h){var m=h(),x=n({inst:{value:m,getSnapshot:h}}),g=x[0].inst,y=x[1];return i(function(){g.value=m,g.getSnapshot=h,l(g)&&y({inst:g})},[f,m,h]),a(function(){return l(g)&&y({inst:g}),f(function(){l(g)&&y({inst:g})})},[f]),o(m),m}function l(f){var h=f.getSnapshot;f=f.value;try{var m=h();return!r(f,m)}catch{return!0}}function u(f,h){return h()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:s;return pk.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:d,pk}var TF;function upe(){return TF||(TF=1,hk.exports=cpe()),hk.exports}var dpe=upe();function fpe(){return dpe.useSyncExternalStore(hpe,()=>!0,()=>!1)}function hpe(){return()=>{}}var mD="Avatar",[ppe,wJe]=Xi(mD),[mpe,MK]=ppe(mD),FK=A.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,i]=A.useState("idle");return c(mpe,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:c(pr.span,{...n,ref:t})})});FK.displayName=mD;var LK="AvatarImage",jK=A.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=e,o=MK(LK,r),s=gpe(n,i),l=Ci(u=>{a(u),o.onImageLoadingStatusChange(u)});return ii(()=>{s!=="idle"&&l(s)},[s,l]),s==="loaded"?c(pr.img,{...i,ref:t,src:n}):null});jK.displayName=LK;var $K="AvatarFallback",BK=A.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,i=MK($K,r),[o,s]=A.useState(n===void 0);return A.useEffect(()=>{if(n!==void 0){const l=window.setTimeout(()=>s(!0),n);return()=>window.clearTimeout(l)}},[n]),o&&i.imageLoadingStatus!=="loaded"?c(pr.span,{...a,ref:t}):null});BK.displayName=$K;function PF(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function gpe(e,{referrerPolicy:t,crossOrigin:r}){const n=fpe(),a=A.useRef(null),i=n?(a.current||(a.current=new window.Image),a.current):null,[o,s]=A.useState(()=>PF(i,e));return ii(()=>{s(PF(i,e))},[i,e]),ii(()=>{const l=f=>()=>{s(f)};if(!i)return;const u=l("loaded"),d=l("error");return i.addEventListener("load",u),i.addEventListener("error",d),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,r,t]),o}var UK=FK,qK=jK,zK=BK;const gD=A.forwardRef(({className:e,...t},r)=>c(UK,{ref:r,className:It("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));gD.displayName=UK.displayName;const vD=A.forwardRef(({className:e,...t},r)=>c(qK,{ref:r,className:It("aspect-square h-full w-full",e),...t}));vD.displayName=qK.displayName;const yD=A.forwardRef(({className:e,...t},r)=>c(zK,{ref:r,className:It("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));yD.displayName=zK.displayName;const vpe="modulepreload",ype=function(e){return"/DentalCare-Pro/"+e},OF={},vh=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){let o=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));a=o(r.map(u=>{if(u=ype(u),u in OF)return;OF[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":vpe,d||(h.as="script"),h.crossOrigin="",h.href=u,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((m,x)=>{h.addEventListener("load",m),h.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return a.then(o=>{for(const s of o||[])s.status==="rejected"&&i(s.reason);return t().catch(i)})},xpe=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>vh(async()=>{const{default:n}=await Promise.resolve().then(()=>oy);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class xD extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class wpe extends xD{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class _pe extends xD{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class bpe extends xD{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var i6;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(i6||(i6={}));var Spe=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(s,l)}u((n=n.apply(e,t||[])).next())})};class Ape{constructor(t,{headers:r={},customFetch:n,region:a=i6.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=xpe(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return Spe(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:o}=r;let s={},{region:l}=r;l||(l=this.region),l&&l!=="any"&&(s["x-region"]=l);let u;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(s["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(s["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(s["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},s),this.headers),a),body:u}).catch(x=>{throw new wpe(x)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new _pe(d);if(!d.ok)throw new bpe(d);let h=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),m;return h==="application/json"?m=yield d.json():h==="application/octet-stream"?m=yield d.blob():h==="text/event-stream"?m=d:h==="multipart/form-data"?m=yield d.formData():m=yield d.text(),{data:m,error:null}}catch(a){return{data:null,error:a}}})}}var Po={},dv={},fv={},hv={},pv={},mv={},kpe=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},d1=kpe();const Npe=d1.fetch,WK=d1.fetch.bind(d1),HK=d1.Headers,Epe=d1.Request,Cpe=d1.Response,oy=Object.freeze(Object.defineProperty({__proto__:null,Headers:HK,Request:Epe,Response:Cpe,default:WK,fetch:Npe},Symbol.toStringTag,{value:"Module"})),Tpe=jse(oy);var Q_={},DF;function VK(){if(DF)return Q_;DF=1,Object.defineProperty(Q_,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Q_.default=e,Q_}var IF;function GK(){if(IF)return mv;IF=1;var e=mv&&mv.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(mv,"__esModule",{value:!0});const t=e(Tpe),r=e(VK());class n{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=Object.assign({},this.headers),this.headers[i]=o,this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const s=this.fetch;let l=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,f,h;let m=null,x=null,g=null,y=u.status,_=u.statusText;if(u.ok){if(this.method!=="HEAD"){const E=await u.text();E===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?x=E:x=JSON.parse(E))}const S=(d=this.headers.Prefer)===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),C=(f=u.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");S&&C&&C.length>1&&(g=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(m={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,g=null,y=406,_="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const S=await u.text();try{m=JSON.parse(S),Array.isArray(m)&&u.status===404&&(x=[],m=null,y=200,_="OK")}catch{u.status===404&&S===""?(y=204,_="No Content"):m={message:S}}if(m&&this.isMaybeSingle&&(!((h=m==null?void 0:m.details)===null||h===void 0)&&h.includes("0 rows"))&&(m=null,y=200,_="OK"),m&&this.shouldThrowOnError)throw new r.default(m)}return{error:m,data:x,count:g,status:y,statusText:_}});return this.shouldThrowOnError||(l=l.catch(u=>{var d,f,h;return{error:{message:`${(d=u==null?void 0:u.name)!==null&&d!==void 0?d:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(f=u==null?void 0:u.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(h=u==null?void 0:u.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,o)}returns(){return this}overrideTypes(){return this}}return mv.default=n,mv}var RF;function KK(){if(RF)return pv;RF=1;var e=pv&&pv.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(pv,"__esModule",{value:!0});const t=e(GK());class r extends t.default{select(a){let i=!1;const o=(a??"*").split("").map(s=>/\s/.test(s)&&!i?"":(s==='"'&&(i=!i),s)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(a,{ascending:i=!0,nullsFirst:o,foreignTable:s,referencedTable:l=s}={}){const u=l?`${l}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${a}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:o=i}={}){const s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(s,`${a}`),this}range(a,i,{foreignTable:o,referencedTable:s=o}={}){const l=typeof s>"u"?"offset":`${s}.offset`,u=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(l,`${a}`),this.url.searchParams.set(u,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:a=!1,verbose:i=!1,settings:o=!1,buffers:s=!1,wal:l=!1,format:u="text"}={}){var d;const f=[a?"analyze":null,i?"verbose":null,o?"settings":null,s?"buffers":null,l?"wal":null].filter(Boolean).join("|"),h=(d=this.headers.Accept)!==null&&d!==void 0?d:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${h}"; options=${f};`,u==="json"?this:this}rollback(){var a;return((a=this.headers.Prefer)!==null&&a!==void 0?a:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return pv.default=r,pv}var MF;function wD(){if(MF)return hv;MF=1;var e=hv&&hv.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(hv,"__esModule",{value:!0});const t=e(KK());class r extends t.default{eq(a,i){return this.url.searchParams.append(a,`eq.${i}`),this}neq(a,i){return this.url.searchParams.append(a,`neq.${i}`),this}gt(a,i){return this.url.searchParams.append(a,`gt.${i}`),this}gte(a,i){return this.url.searchParams.append(a,`gte.${i}`),this}lt(a,i){return this.url.searchParams.append(a,`lt.${i}`),this}lte(a,i){return this.url.searchParams.append(a,`lte.${i}`),this}like(a,i){return this.url.searchParams.append(a,`like.${i}`),this}likeAllOf(a,i){return this.url.searchParams.append(a,`like(all).{${i.join(",")}}`),this}likeAnyOf(a,i){return this.url.searchParams.append(a,`like(any).{${i.join(",")}}`),this}ilike(a,i){return this.url.searchParams.append(a,`ilike.${i}`),this}ilikeAllOf(a,i){return this.url.searchParams.append(a,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(a,i){return this.url.searchParams.append(a,`ilike(any).{${i.join(",")}}`),this}is(a,i){return this.url.searchParams.append(a,`is.${i}`),this}in(a,i){const o=Array.from(new Set(i)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(a,`in.(${o})`),this}contains(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cs.{${i.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(i)}`),this}containedBy(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cd.{${i.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(i)}`),this}rangeGt(a,i){return this.url.searchParams.append(a,`sr.${i}`),this}rangeGte(a,i){return this.url.searchParams.append(a,`nxl.${i}`),this}rangeLt(a,i){return this.url.searchParams.append(a,`sl.${i}`),this}rangeLte(a,i){return this.url.searchParams.append(a,`nxr.${i}`),this}rangeAdjacent(a,i){return this.url.searchParams.append(a,`adj.${i}`),this}overlaps(a,i){return typeof i=="string"?this.url.searchParams.append(a,`ov.${i}`):this.url.searchParams.append(a,`ov.{${i.join(",")}}`),this}textSearch(a,i,{config:o,type:s}={}){let l="";s==="plain"?l="pl":s==="phrase"?l="ph":s==="websearch"&&(l="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(a,`${l}fts${u}.${i}`),this}match(a){return Object.entries(a).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(a,i,o){return this.url.searchParams.append(a,`not.${i}.${o}`),this}or(a,{foreignTable:i,referencedTable:o=i}={}){const s=o?`${o}.or`:"or";return this.url.searchParams.append(s,`(${a})`),this}filter(a,i,o){return this.url.searchParams.append(a,`${i}.${o}`),this}}return hv.default=r,hv}var FF;function YK(){if(FF)return fv;FF=1;var e=fv&&fv.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(fv,"__esModule",{value:!0});const t=e(wD());class r{constructor(a,{headers:i={},schema:o,fetch:s}){this.url=a,this.headers=i,this.schema=o,this.fetch=s}select(a,{head:i=!1,count:o}={}){const s=i?"HEAD":"GET";let l=!1;const u=(a??"*").split("").map(d=>/\s/.test(d)&&!l?"":(d==='"'&&(l=!l),d)).join("");return this.url.searchParams.set("select",u),o&&(this.headers.Prefer=`count=${o}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(a,{count:i,defaultToNull:o=!0}={}){const s="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(a)){const u=a.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}upsert(a,{onConflict:i,ignoreDuplicates:o=!1,count:s,defaultToNull:l=!0}={}){const u="POST",d=[`resolution=${o?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&d.push(this.headers.Prefer),s&&d.push(`count=${s}`),l||d.push("missing=default"),this.headers.Prefer=d.join(","),Array.isArray(a)){const f=a.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(f.length>0){const h=[...new Set(f)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}update(a,{count:i}={}){const o="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),i&&s.push(`count=${i}`),this.headers.Prefer=s.join(","),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}delete({count:a}={}){const i="DELETE",o=[];return a&&o.push(`count=${a}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new t.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return fv.default=r,fv}var Hy={},Vy={},LF;function Ppe(){return LF||(LF=1,Object.defineProperty(Vy,"__esModule",{value:!0}),Vy.version=void 0,Vy.version="0.0.0-automated"),Vy}var jF;function Ope(){if(jF)return Hy;jF=1,Object.defineProperty(Hy,"__esModule",{value:!0}),Hy.DEFAULT_HEADERS=void 0;const e=Ppe();return Hy.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},Hy}var $F;function Dpe(){if($F)return dv;$F=1;var e=dv&&dv.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(dv,"__esModule",{value:!0});const t=e(YK()),r=e(wD()),n=Ope();class a{constructor(o,{headers:s={},schema:l,fetch:u}={}){this.url=o,this.headers=Object.assign(Object.assign({},n.DEFAULT_HEADERS),s),this.schemaName=l,this.fetch=u}from(o){const s=new URL(`${this.url}/${o}`);return new t.default(s,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new a(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,s={},{head:l=!1,get:u=!1,count:d}={}){let f;const h=new URL(`${this.url}/rpc/${o}`);let m;l||u?(f=l?"HEAD":"GET",Object.entries(s).filter(([g,y])=>y!==void 0).map(([g,y])=>[g,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([g,y])=>{h.searchParams.append(g,y)})):(f="POST",m=s);const x=Object.assign({},this.headers);return d&&(x.Prefer=`count=${d}`),new r.default({method:f,url:h,headers:x,schema:this.schemaName,body:m,fetch:this.fetch,allowEmpty:!1})}}return dv.default=a,dv}var BF;function Ipe(){if(BF)return Po;BF=1;var e=Po&&Po.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Po,"__esModule",{value:!0}),Po.PostgrestError=Po.PostgrestBuilder=Po.PostgrestTransformBuilder=Po.PostgrestFilterBuilder=Po.PostgrestQueryBuilder=Po.PostgrestClient=void 0;const t=e(Dpe());Po.PostgrestClient=t.default;const r=e(YK());Po.PostgrestQueryBuilder=r.default;const n=e(wD());Po.PostgrestFilterBuilder=n.default;const a=e(KK());Po.PostgrestTransformBuilder=a.default;const i=e(GK());Po.PostgrestBuilder=i.default;const o=e(VK());return Po.PostgrestError=o.default,Po.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:i.default,PostgrestError:o.default},Po}var Rpe=Ipe();const Mpe=oa(Rpe),{PostgrestClient:Fpe,PostgrestQueryBuilder:_Je,PostgrestFilterBuilder:bJe,PostgrestTransformBuilder:SJe,PostgrestBuilder:AJe,PostgrestError:kJe}=Mpe,Lpe="2.11.2",jpe={"X-Client-Info":`realtime-js/${Lpe}`},$pe="1.0.0",XK=1e4,Bpe=1e3;var Vv;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Vv||(Vv={}));var Jl;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Jl||(Jl={}));var Iu;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Iu||(Iu={}));var o6;(function(e){e.websocket="websocket"})(o6||(o6={}));var Am;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Am||(Am={}));class Upe{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const s=n.decode(t.slice(o,o+a));o=o+a;const l=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:s,event:l,payload:u}}}class ZK{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Pa;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Pa||(Pa={}));const UF=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=qpe(o,e,t,a),i),{})},qpe=(e,t,r,n)=>{const a=t.find(s=>s.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!n.includes(i)?JK(i,o):s6(o)},JK=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Vpe(t,r)}switch(e){case Pa.bool:return zpe(t);case Pa.float4:case Pa.float8:case Pa.int2:case Pa.int4:case Pa.int8:case Pa.numeric:case Pa.oid:return Wpe(t);case Pa.json:case Pa.jsonb:return Hpe(t);case Pa.timestamp:return Gpe(t);case Pa.abstime:case Pa.date:case Pa.daterange:case Pa.int4range:case Pa.int8range:case Pa.money:case Pa.reltime:case Pa.text:case Pa.time:case Pa.timestamptz:case Pa.timetz:case Pa.tsrange:case Pa.tstzrange:return s6(t);default:return s6(t)}},s6=e=>e,zpe=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Wpe=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Hpe=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Vpe=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(s=>JK(t,s))}return e},Gpe=e=>typeof e=="string"?e.replace(" ","T"):e,QK=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class mk{constructor(t,r,n={},a=XK){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var qF;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(qF||(qF={}));class E2{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=E2.syncState(this.state,a,i,o),this.pendingDiffs.forEach(l=>{this.state=E2.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],s()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=E2.syncDiff(this.state,a,i,o),s())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),s={},l={};return this.map(i,(u,d)=>{o[u]||(l[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(y=>y.presence_ref),m=f.map(y=>y.presence_ref),x=d.filter(y=>m.indexOf(y.presence_ref)<0),g=f.filter(y=>h.indexOf(y.presence_ref)<0);x.length>0&&(s[u]=x),g.length>0&&(l[u]=g)}else s[u]=d}),this.syncDiff(i,{joins:s,leaves:l},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(s,l)=>{var u;const d=(u=t[s])!==null&&u!==void 0?u:[];if(t[s]=this.cloneDeep(l),d.length>0){const f=t[s].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[s].unshift(...h)}n(s,d,l)}),this.map(o,(s,l)=>{let u=t[s];if(!u)return;const d=l.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[s]=u,a(s,u,l),u.length===0&&delete t[s]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var zF;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(zF||(zF={}));var WF;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(WF||(WF={}));var tc;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(tc||(tc={}));class _D{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Jl.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new mk(this,Iu.join,this.params,this.timeout),this.rejoinTimer=new ZK(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Jl.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Jl.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Jl.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Jl.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Iu.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new E2(this),this.broadcastEndpointURL=QK(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:s}}=this.params;this._onError(d=>t==null?void 0:t(tc.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(tc.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&a!==void 0?a:[],private:s};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(tc.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,m=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,x=[];for(let g=0;g<m;g++){const y=h[g],{filter:{event:_,schema:b,table:S,filter:C}}=y,E=d&&d[g];if(E&&E.event===_&&E.schema===b&&E.table===S&&E.filter===C)x.push(Object.assign(Object.assign({},y),{id:E.id}));else{this.unsubscribe(),t==null||t(tc.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(tc.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(tc.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(tc.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,s,l;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(s=(o=this.params)===null||o===void 0?void 0:o.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Jl.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Iu.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const a=new mk(this,Iu.leave,{},t);a.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new mk(this,t,r,n);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:s,error:l,leave:u,join:d}=Iu;if(n&&[s,l,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var x,g,y;return((x=m.filter)===null||x===void 0?void 0:x.event)==="*"||((y=(g=m.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(m=>m.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var x,g,y,_,b,S;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const C=m.id,E=(x=m.filter)===null||x===void 0?void 0:x.event;return C&&((g=r.ids)===null||g===void 0?void 0:g.includes(C))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const C=(b=(_=m==null?void 0:m.filter)===null||_===void 0?void 0:_.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return C==="*"||C===((S=r==null?void 0:r.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const x=h.data,{schema:g,table:y,commit_timestamp:_,type:b,errors:S}=x;h=Object.assign(Object.assign({},{schema:g,table:y,commit_timestamp:_,eventType:b,new:{},old:{},errors:S}),this._getPayloadRecords(x))}m.callback(h,n)})}_isClosed(){return this.state===Jl.closed}_isJoined(){return this.state===Jl.joined}_isJoining(){return this.state===Jl.joining}_isLeaving(){return this.state===Jl.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&_D.isEqual(a.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Iu.close,{},t)}_onError(t){this._on(Iu.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Jl.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=UF(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=UF(t.columns,t.old_record)),r}}const Kpe=()=>{},Ype=typeof WebSocket<"u",Xpe=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Zpe{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=jpe,this.params={},this.timeout=XK,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Kpe,this.conn=null,this.sendBuffer=[],this.serializer=new Upe,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...s)=>vh(async()=>{const{default:l}=await Promise.resolve().then(()=>oy);return{default:l}},void 0).then(({default:l})=>l(...s)):o=fetch,(...s)=>o(...s)},this.endPoint=`${t}/${o6.websocket}`,this.httpEndpoint=QK(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const a=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ZK(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Ype){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Jpe(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),vh(async()=>{const{default:t}=await import("./browser-CS3OyS5V.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:$pe}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Vv.connecting:return Am.Connecting;case Vv.open:return Am.Open;case Vv.closing:return Am.Closing;default:return Am.Closed}}isConnected(){return this.connectionState()===Am.Open}channel(t,r={config:{}}){const n=new _D(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(a=>{r&&a.updateJoinPayload({access_token:r}),a.joinedOnce&&a._isJoined()&&a._push(Iu.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Bpe,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:a,payload:i,ref:o}=r;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${a} ${o&&"("+o+")"||""}`,i),this.channels.filter(s=>s._isMember(n)).forEach(s=>s._trigger(a,i,o)),this.stateChangeCallbacks.message.forEach(s=>s(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Iu.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Xpe],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Jpe{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Vv.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class bD extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Oo(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Qpe extends bD{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class l6 extends bD{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var e0e=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(s,l)}u((n=n.apply(e,t||[])).next())})};const eY=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>vh(async()=>{const{default:n}=await Promise.resolve().then(()=>oy);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},t0e=()=>e0e(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield vh(()=>Promise.resolve().then(()=>oy),void 0)).Response:Response}),c6=e=>{if(Array.isArray(e))return e.map(r=>c6(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=c6(n)}),t};var xg=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(s,l)}u((n=n.apply(e,t||[])).next())})};const gk=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),r0e=(e,t,r)=>xg(void 0,void 0,void 0,function*(){const n=yield t0e();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{t(new Qpe(gk(a),e.status||500))}).catch(a=>{t(new l6(gk(a),a))}):t(new l6(gk(e),e))}),n0e=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(a.body=JSON.stringify(n)),Object.assign(Object.assign({},a),r))};function Mw(e,t,r,n,a,i){return xg(this,void 0,void 0,function*(){return new Promise((o,s)=>{e(r,n0e(t,n,a,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>r0e(l,s,n))})})}function y5(e,t,r,n){return xg(this,void 0,void 0,function*(){return Mw(e,"GET",t,r,n)})}function jp(e,t,r,n,a){return xg(this,void 0,void 0,function*(){return Mw(e,"POST",t,n,a,r)})}function a0e(e,t,r,n,a){return xg(this,void 0,void 0,function*(){return Mw(e,"PUT",t,n,a,r)})}function i0e(e,t,r,n){return xg(this,void 0,void 0,function*(){return Mw(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function tY(e,t,r,n,a){return xg(this,void 0,void 0,function*(){return Mw(e,"DELETE",t,n,a,r)})}var kl=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(s,l)}u((n=n.apply(e,t||[])).next())})};const o0e={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},HF={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class s0e{constructor(t,r={},n,a){this.url=t,this.headers=r,this.bucketId=n,this.fetch=eY(a)}uploadOrUpdate(t,r,n,a){return kl(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},HF),a);let s=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,s["cache-control"]=`max-age=${o.cacheControl}`,s["content-type"]=o.contentType,l&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),a!=null&&a.headers&&(s=Object.assign(Object.assign({},s),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:s},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(Oo(i))return{data:null,error:i};throw i}})}upload(t,r,n){return kl(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return kl(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),s=new URL(this.url+`/object/upload/sign/${o}`);s.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:HF.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(s.toString(),{method:"PUT",body:l,headers:d}),h=yield f.json();return f.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(Oo(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return kl(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield jp(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),s=o.searchParams.get("token");if(!s)throw new bD("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:s},error:null}}catch(n){if(Oo(n))return{data:null,error:n};throw n}})}update(t,r,n){return kl(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return kl(this,void 0,void 0,function*(){try{return{data:yield jp(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(Oo(a))return{data:null,error:a};throw a}})}copy(t,r,n){return kl(this,void 0,void 0,function*(){try{return{data:{path:(yield jp(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(Oo(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return kl(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield jp(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(Oo(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return kl(this,void 0,void 0,function*(){try{const a=yield jp(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(Oo(a))return{data:null,error:a};throw a}})}download(t,r){return kl(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const s=this._getFinalPath(t);return{data:yield(yield y5(this.fetch,`${this.url}/${a}/${s}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(s){if(Oo(s))return{data:null,error:s};throw s}})}info(t){return kl(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield y5(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:c6(n),error:null}}catch(n){if(Oo(n))return{data:null,error:n};throw n}})}exists(t){return kl(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield i0e(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Oo(n)&&n instanceof l6){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const s=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&a.push(l);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${n}${u}`)}}}remove(t){return kl(this,void 0,void 0,function*(){try{return{data:yield tY(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Oo(r))return{data:null,error:r};throw r}})}list(t,r,n){return kl(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},o0e),r),{prefix:t||""});return{data:yield jp(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(Oo(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const l0e="2.7.1",c0e={"X-Client-Info":`storage-js/${l0e}`};var gv=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(s,l)}u((n=n.apply(e,t||[])).next())})};class u0e{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},c0e),r),this.fetch=eY(n)}listBuckets(){return gv(this,void 0,void 0,function*(){try{return{data:yield y5(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Oo(t))return{data:null,error:t};throw t}})}getBucket(t){return gv(this,void 0,void 0,function*(){try{return{data:yield y5(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Oo(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return gv(this,void 0,void 0,function*(){try{return{data:yield jp(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Oo(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return gv(this,void 0,void 0,function*(){try{return{data:yield a0e(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Oo(n))return{data:null,error:n};throw n}})}emptyBucket(t){return gv(this,void 0,void 0,function*(){try{return{data:yield jp(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Oo(r))return{data:null,error:r};throw r}})}deleteBucket(t){return gv(this,void 0,void 0,function*(){try{return{data:yield tY(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Oo(r))return{data:null,error:r};throw r}})}}class d0e extends u0e{constructor(t,r={},n){super(t,r,n)}from(t){return new s0e(this.url,this.headers,t,this.fetch)}}const f0e="2.49.4";let m2="";typeof Deno<"u"?m2="deno":typeof document<"u"?m2="web":typeof navigator<"u"&&navigator.product==="ReactNative"?m2="react-native":m2="node";const h0e={"X-Client-Info":`supabase-js-${m2}/${f0e}`},p0e={headers:h0e},m0e={schema:"public"},g0e={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},v0e={};var y0e=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(s,l)}u((n=n.apply(e,t||[])).next())})};const x0e=e=>{let t;return e?t=e:typeof fetch>"u"?t=WK:t=fetch,(...r)=>t(...r)},w0e=()=>typeof Headers>"u"?HK:Headers,_0e=(e,t,r)=>{const n=x0e(r),a=w0e();return(i,o)=>y0e(void 0,void 0,void 0,function*(){var s;const l=(s=yield t())!==null&&s!==void 0?s:e;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var b0e=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(s,l)}u((n=n.apply(e,t||[])).next())})};function S0e(e){return e.replace(/\/$/,"")}function A0e(e,t){const{db:r,auth:n,realtime:a,global:i}=e,{db:o,auth:s,realtime:l,global:u}=t,d={db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},s),n),realtime:Object.assign(Object.assign({},l),a),global:Object.assign(Object.assign({},u),i),accessToken:()=>b0e(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const rY="2.69.1",Ov=30*1e3,u6=3,vk=u6*Ov,k0e="http://localhost:9999",N0e="supabase.auth.token",E0e={"X-Client-Info":`gotrue-js/${rY}`},d6="X-Supabase-Api-Version",nY={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},C0e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,T0e=6e5;class SD extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function _n(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class P0e extends SD{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function O0e(e){return _n(e)&&e.name==="AuthApiError"}class aY extends SD{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class A0 extends SD{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class Mp extends A0{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function D0e(e){return _n(e)&&e.name==="AuthSessionMissingError"}class yk extends A0{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class eb extends A0{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class tb extends A0{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function I0e(e){return _n(e)&&e.name==="AuthImplicitGrantRedirectError"}class VF extends A0{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class f6 extends A0{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function xk(e){return _n(e)&&e.name==="AuthRetryableFetchError"}class GF extends A0{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class C2 extends A0{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const KF="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),YF=` 	
\r=`.split(""),R0e=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<YF.length;t+=1)e[YF[t].charCodeAt(0)]=-2;for(let t=0;t<KF.length;t+=1)e[KF[t].charCodeAt(0)]=t;return e})();function iY(e,t,r){const n=R0e[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function XF(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{L0e(o,n,r)};for(let o=0;o<e.length;o+=1)iY(e.charCodeAt(o),a,i);return t.join("")}function M0e(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function F0e(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}M0e(n,t)}}function L0e(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function j0e(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)iY(e.charCodeAt(a),r,n);return new Uint8Array(t)}function $0e(e){const t=[];return F0e(e,r=>t.push(r)),new Uint8Array(t)}function B0e(e){return Math.round(Date.now()/1e3)+e}function U0e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Id=()=>typeof window<"u"&&typeof document<"u",fm={tested:!1,writable:!1},T2=()=>{if(!Id())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(fm.tested)return fm.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),fm.tested=!0,fm.writable=!0}catch{fm.tested=!0,fm.writable=!1}return fm.writable};function q0e(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const oY=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>vh(async()=>{const{default:n}=await Promise.resolve().then(()=>oy);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},z0e=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",sY=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},rb=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},nb=async(e,t)=>{await e.removeItem(t)};class P4{constructor(){this.promise=new P4.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}P4.promiseConstructor=Promise;function wk(e){const t=e.split(".");if(t.length!==3)throw new C2("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!C0e.test(t[n]))throw new C2("JWT not in base64url format");return{header:JSON.parse(XF(t[0])),payload:JSON.parse(XF(t[1])),signature:j0e(t[2]),raw:{header:t[0],payload:t[1]}}}async function W0e(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function H0e(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function V0e(e){return("0"+e.toString(16)).substr(-2)}function G0e(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,V0e).join("")}async function K0e(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function Y0e(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await K0e(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function vv(e,t,r=!1){const n=G0e();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await sY(e,`${t}-code-verifier`,a);const i=await Y0e(n);return[i,n===i?"plain":"s256"]}const X0e=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Z0e(e){const t=e.headers.get(d6);if(!t||!t.match(X0e))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function J0e(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Q0e(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var eme=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const ym=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),tme=[502,503,504];async function ZF(e){var t;if(!z0e(e))throw new f6(ym(e),0);if(tme.includes(e.status))throw new f6(ym(e),e.status);let r;try{r=await e.json()}catch(i){throw new aY(ym(i),i)}let n;const a=Z0e(e);if(a&&a.getTime()>=nY["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new GF(ym(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Mp}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new GF(ym(r),e.status,r.weak_password.reasons);throw new P0e(ym(r),e.status||500,n)}const rme=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Fn(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[d6]||(i[d6]=nY["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await nme(e,t,r+s,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function nme(e,t,r,n,a,i){const o=rme(t,n,a,i);let s;try{s=await e(r,Object.assign({},o))}catch(l){throw console.error(l),new f6(ym(l),0)}if(s.ok||await ZF(s),n!=null&&n.noResolveJson)return s;try{return await s.json()}catch(l){await ZF(l)}}function Fp(e){var t;let r=null;sme(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=B0e(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function JF(e){const t=Fp(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function zp(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function ame(e){return{data:e,error:null}}function ime(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=eme(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},l=Object.assign({},o);return{data:{properties:s,user:l},error:null}}function ome(e){return e}function sme(e){return e.access_token&&e.refresh_token&&e.expires_in}var lme=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class cme{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=oY(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await Fn(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(_n(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Fn(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:zp})}catch(n){if(_n(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=lme(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await Fn(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:ime,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(_n(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Fn(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:zp})}catch(r){if(_n(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,s,l;try{const u={nextPage:null,lastPage:0,total:0},d=await Fn(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:ome});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(x=>{const g=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(x.split(";")[1].split("=")[1]);u[`${y}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(_n(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await Fn(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:zp})}catch(r){if(_n(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await Fn(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:zp})}catch(n){if(_n(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await Fn(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:zp})}catch(n){if(_n(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await Fn(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(_n(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await Fn(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(_n(r))return{data:null,error:r};throw r}}}const ume={getItem:e=>T2()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{T2()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{T2()&&globalThis.localStorage.removeItem(e)}};function QF(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function dme(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const yv={debug:!!(globalThis&&T2()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class lY extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class fme extends lY{}async function hme(e,t,r){yv.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),yv.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){yv.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{yv.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw yv.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new fme(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(yv.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}dme();const pme={url:k0e,storageKey:N0e,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:E0e,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function eL(e,t,r){return await r()}class sx{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=sx.nextInstanceID,sx.nextInstanceID+=1,this.instanceID>0&&Id()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},pme),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new cme({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=oY(a.fetch),this.lock=a.lock||eL,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Id()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=hme:this.lock=eL,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:T2()?this.storage=ume:(this.memoryStorage={},this.storage=QF(this.memoryStorage)):(this.memoryStorage={},this.storage=QF(this.memoryStorage)),Id()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${rY}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=q0e(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Id()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),I0e(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:s}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return _n(r)?{error:r}:{error:new aY("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await Fn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Fp}),{data:o,error:s}=i;if(s||!o)return{data:{user:null,session:null},error:s};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(_n(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,x=null;this.flowType==="pkce"&&([m,x]=await vv(this.storage,this.storageKey)),i=await Fn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:x},xform:Fp})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await Fn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Fp})}else throw new eb("You must provide either an email or phone number and a password");const{data:o,error:s}=i;if(s||!o)return{data:{user:null,session:null},error:s};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(_n(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:s}=t;r=await Fn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:JF})}else if("phone"in t){const{phone:i,password:o,options:s}=t;r=await Fn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:JF})}else throw new eb("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new yk}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(_n(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await rb(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await Fn(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Fp});if(await nb(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new yk}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(_n(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,s=await Fn(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Fp}),{data:l,error:u}=s;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new yk}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(_n(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:s,options:l}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await vv(this.storage,this.storageKey));const{error:f}=await Fn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:s,options:l}=t,{data:u,error:d}=await Fn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(a=l==null?void 0:l.data)!==null&&a!==void 0?a:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new eb("You must provide either an email or phone number.")}catch(s){if(_n(s))return{data:{user:null,session:null},error:s};throw s}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:s}=await Fn(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Fp});if(s)throw s;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(a){if(_n(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await vv(this.storage,this.storageKey)),await Fn(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:ame})}catch(i){if(_n(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Mp;const{error:a}=await Fn(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(_n(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await Fn(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:s}=await Fn(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:s}}throw new eb("You must provide either an email or phone number and a type")}catch(r){if(_n(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await rb(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<vk:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:t},error:null}}const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Fn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:zp}):await this._useSession(async r=>{var n,a,i;const{data:o,error:s}=r;if(s)throw s;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Mp}:await Fn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:zp})})}catch(r){if(_n(r))return D0e(r)&&(await this._removeSession(),await nb(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new Mp;const o=a.session;let s=null,l=null;this.flowType==="pkce"&&t.email!=null&&([s,l]=await vv(this.storage,this.storageKey));const{data:u,error:d}=await Fn(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:s,code_challenge_method:l}),jwt:o.access_token,xform:zp});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(_n(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Mp;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=wk(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{session:s,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!s)return{data:{user:null,session:null},error:null};i=s}else{const{data:s,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:s.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(_n(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:s}=r;if(s)throw s;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Mp;const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(_n(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Id())throw new tb("No browser detected.");if(t.error||t.error_description||t.error_code)throw new tb(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new VF("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new tb("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new VF("No code detected.");const{data:b,error:S}=await this._exchangeCodeForSession(t.code);if(S)throw S;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:s,expires_at:l,token_type:u}=t;if(!i||!s||!o||!u)throw new tb("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(s);let h=d+f;l&&(h=parseInt(l));const m=h-d;m*1e3<=Ov&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const x=h-f;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,h,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,h,d);const{data:g,error:y}=await this._getUser(i);if(y)throw y;const _={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:_,redirectType:t.type},error:null}}catch(n){if(_n(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await rb(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:s}=await this.admin.signOut(o,t);if(s&&!(O0e(s)&&(s.status===404||s.status===401||s.status===403)))return{error:s}}return t!=="others"&&(await this._removeSession(),await nb(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=U0e(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await vv(this.storage,this.storageKey,!0));try{return await Fn(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(_n(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(_n(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,s,l,u,d;const{data:f,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Fn(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return Id()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(_n(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await Fn(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(_n(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await H0e(async a=>(a>0&&await W0e(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Fn(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Fp})),(a,i)=>{const o=200*Math.pow(2,a);return i&&xk(i)&&Date.now()+o-n<Ov})}catch(n){if(this._debug(r,"error",n),_n(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Id()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await rb(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const a=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<vk;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${vk}s`),a){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),xk(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Mp;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new P4;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Mp;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const s={session:i.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(i){if(this._debug(a,"error",i),_n(i)){const o={session:null,error:i};return xk(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let s=0;s<i.length;s+=1)console.error(i[s]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await sY(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await nb(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Id()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ov);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Ov);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Ov}ms, refresh threshold is ${u6} ticks`),a<=u6&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof lY)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Id()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await vv(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(s.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Fn(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(_n(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const s=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await Fn(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((a=l==null?void 0:l.totp)===null||a===void 0)&&a.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(_n(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:s}=await Fn(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return s?{data:null,error:s}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:s})})}catch(r){if(_n(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Fn(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(_n(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],a=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=wk(a.access_token);let s=null;o.aal&&(s=o.aal);let l=s;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:s,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n||(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+T0e>Date.now()))return n;const{data:a,error:i}=await Fn(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!a.keys||a.keys.length===0)throw new C2("JWKS is empty");if(this.jwks=a,this.jwks_cached_at=Date.now(),n=a.keys.find(o=>o.kid===t),!n)throw new C2("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:m,error:x}=await this.getSession();if(x||!m.session)return{data:null,error:x};n=m.session.access_token}const{header:a,payload:i,signature:o,raw:{header:s,payload:l}}=wk(n);if(J0e(i.exp),!a.kid||a.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:a,signature:o},error:null}}const u=Q0e(a.alg),d=await this.fetchJwk(a.kid,r),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,o,$0e(`${s}.${l}`)))throw new C2("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(_n(n))return{data:null,error:n};throw n}}}sx.nextInstanceID=0;const mme=sx;class gme extends mme{constructor(t){super(t)}}var vme=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(s,l)}u((n=n.apply(e,t||[])).next())})};class yme{constructor(t,r,n){var a,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const s=S0e(t);this.realtimeUrl=`${s}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${s}/auth/v1`,this.storageUrl=`${s}/storage/v1`,this.functionsUrl=`${s}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:m0e,realtime:v0e,auth:Object.assign(Object.assign({},g0e),{storageKey:l}),global:p0e},d=A0e(n??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=_0e(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Fpe(`${s}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new Ape(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new d0e(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return vme(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,storageKey:i,flowType:o,lock:s,debug:l},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new gme({url:this.authUrl,headers:Object.assign(Object.assign({},f),u),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,flowType:o,lock:s,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Zpe(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const xme=(e,t,r)=>new yme(e,t,r),wme="https://syevxwuraxjpvkcclmjj.supabase.co",_me="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InN5ZXZ4d3VyYXhqcHZrY2NsbWpqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDMwOTM0MjksImV4cCI6MjA1ODY2OTQyOX0.Uog7kEtPXYQJDZ3TqKanmteMRK0c_qEIBnmCxFgQTv0",Me=xme(wme,_me,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),cY=A.createContext(void 0);function bme({children:e}){const[t,r]=A.useState(null),[n,a]=A.useState(!0),i=A.useCallback(async(l,u)=>{let d=null,f=null;try{const h=await Me.from("profiles").select("*").eq("id",l).single();if(d=h.data,f=h.error,f)console.error("[fetchUserProfile] Error during profile fetch:",f.message),r(null);else if(d){const m=d,x=m.role??"doctor",g={...m,role:x,email:u};r(g)}else console.warn(`[fetchUserProfile] Profile query succeeded but returned no data for user: ${l}`),r(null)}catch(h){console.error("[fetchUserProfile] UNEXPECTED EXCEPTION caught:",h.message),r(null)}},[]),o=A.useRef(!1);A.useEffect(()=>{o.current=!1;let l=!0;const u=async(f,h)=>{l&&(f==="TOKEN_REFRESHED"?console.log("[AuthContext] Token refreshed successfully."):f==="SIGNED_OUT"?(console.log("[AuthContext] SIGNED_OUT event received. Setting user to null."),r(null)):h!=null&&h.user?(!t||t.id!==h.user.id)&&await i(h.user.id,h.user.email):f==="INITIAL_SESSION"&&!o.current&&r(null),o.current||(a(!1),o.current=!0))},{data:{subscription:d}}=Me.auth.onAuthStateChange((f,h)=>{u(f,h).catch(m=>{console.error(`[AuthContext] Error in handleAuthStateChange for Event: ${f}`,m),l&&(r(null),o.current||(a(!1),o.current=!0))})});return()=>{l=!1,d.unsubscribe()}},[i]);const s={user:t,loading:n,signIn:async(l,u)=>{const{error:d}=await Me.auth.signInWithPassword({email:l,password:u});if(d)throw d},signOut:async()=>{const{error:l}=await Me.auth.signOut();if(r(null),l)throw console.error("Error signing out:",l),l}};return c(cY.Provider,{value:s,children:e})}function oi(){const e=A.useContext(cY);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const Sme=1,Ame=1e6;let _k=0;function kme(){return _k=(_k+1)%Number.MAX_VALUE,_k.toString()}const bk=new Map,tL=e=>{if(bk.has(e))return;const t=setTimeout(()=>{bk.delete(e),P2({type:"REMOVE_TOAST",toastId:e})},Ame);bk.set(e,t)},Nme=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Sme)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?tL(r):e.toasts.forEach(n=>{tL(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Wb=[];let Hb={toasts:[]};function P2(e){Hb=Nme(Hb,e),Wb.forEach(t=>{t(Hb)})}function Do({...e}){const t=kme(),r=a=>P2({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>P2({type:"DISMISS_TOAST",toastId:t});return P2({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function xn(){const[e,t]=A.useState(Hb);return A.useEffect(()=>(Wb.push(t),()=>{const r=Wb.indexOf(t);r>-1&&Wb.splice(r,1)}),[e]),{...e,toast:Do,dismiss:r=>P2({type:"DISMISS_TOAST",toastId:r})}}const Eme=()=>{const{user:e}=oi(),[t,r]=A.useState([]),n=A.useRef(null);return A.useEffect(()=>{if(!e){r([]);return}if((async()=>{const{data:l,error:u}=await Me.from("notifications").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});u?(console.error("Error fetching notifications from `notifications` table:",u),Do({title:"Error",description:"Could not fetch notifications.",variant:"destructive"})):(console.log("Fetched notifications:",l),r(l||[]))})(),!n.current&&e){const l=`notifications-channel-${e.id}`;console.log(`Attempting to subscribe to channel: ${l}`),n.current=Me.channel(l),n.current.on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${e.id}`},u=>{if(console.log("[useNotifications] Realtime event received:",u),u.eventType==="INSERT"&&u.new){const d=u.new;console.log("[useNotifications] Realtime INSERT detected:",d),r(f=>{if(console.log("[useNotifications] Attempting state update via realtime. Prev length:",f.length),f.some(m=>m.id===d.id))return console.log(`[useNotifications] Duplicate notification ID ${d.id} detected in realtime update, skipping state update.`),f;const h=[d,...f];return console.log("[useNotifications] State update successful via realtime. New length:",h.length),h})}else console.log("[useNotifications] Received non-insert or unexpected payload via realtime:",u)}).subscribe((u,d)=>{console.log(`Channel ${l} subscription status: ${u}`),u===tc.SUBSCRIBED?console.log(`Successfully subscribed to notifications channel: ${l}`):u===tc.CHANNEL_ERROR?(console.error(`Notifications subscription error on channel ${l}:`,d),Do({title:"Realtime Error",description:`Connection error for notifications: ${(d==null?void 0:d.message)||"Unknown error"}`,variant:"destructive"})):u===tc.TIMED_OUT?(console.warn(`Notifications subscription timed out on channel ${l}.`),Do({title:"Realtime Warning",description:"Notification connection timed out.",variant:"default"})):u===tc.CLOSED&&console.log(`Notifications channel closed: ${l}.`)})}return()=>{if(n.current){const l=n.current,u=l.topic;console.log(`Attempting to unsubscribe from channel: ${u}`),Me.removeChannel(l).then(d=>{console.log(`Unsubscribed from notifications channel ${u}:`,d)}).catch(d=>{console.error(`Error removing notifications channel ${u}:`,d)}).finally(()=>{n.current===l&&(n.current=null)})}}},[e]),{notifications:t,markAsRead:async s=>{const{error:l}=await Me.from("notifications").update({is_read:!0}).eq("id",s);l?console.error("Error marking notification as read:",l):r(u=>u.map(d=>d.id===s?{...d,is_read:!0}:d))},createNotification:async(s,l,u)=>{try{const d=new Date;d.setHours(d.getHours()-2);const f=d.toISOString(),{count:h,error:m}=await Me.from("notifications").select("*",{count:"exact",head:!0}).eq("user_id",s).eq("message",l).gte("created_at",f);if(m&&console.error("Error checking for existing notifications:",m),h&&h>0){console.log(`Skipping notification creation: Identical notification found within the last 2 hours for message: "${l}"`);return}const x={user_id:s,message:l,link_url:u,is_read:!1},{data:g,error:y}=await Me.from("notifications").insert([x]).select();y?(console.error("Error creating notification:",y),Do({title:"Error",description:`Could not create notification: ${y.message}`,variant:"destructive"})):(console.log("Notification created:",g),"Notification"in window&&Notification.permission==="granted"?new Notification("New Notification",{body:l,icon:"/dentalcarelogo.png"}):"Notification"in window&&Notification.permission!=="denied"&&Notification.requestPermission().then(_=>{_==="granted"&&new Notification("New Notification",{body:l,icon:"/dentalcarelogo.png"})}))}catch(d){console.error("Error creating notification:",d)}},clearNotification:async s=>{r(u=>u.filter(d=>d.id!==s));const{error:l}=await Me.from("notifications").delete().eq("id",s);l?(console.error("Error deleting notification:",l),Do({title:"Error",description:"Could not clear notification. Please try again.",variant:"destructive"})):console.log("Notification cleared successfully:",s)}}},ur=A.forwardRef(({className:e,...t},r)=>c("div",{ref:r,className:It("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ur.displayName="Card";const wr=A.forwardRef(({className:e,...t},r)=>c("div",{ref:r,className:It("flex flex-col space-y-1.5 p-6",e),...t}));wr.displayName="CardHeader";const _r=A.forwardRef(({className:e,...t},r)=>c("h3",{ref:r,className:It("text-2xl font-semibold leading-none tracking-tight",e),...t}));_r.displayName="CardTitle";const vc=A.forwardRef(({className:e,...t},r)=>c("p",{ref:r,className:It("text-sm text-muted-foreground",e),...t}));vc.displayName="CardDescription";const xr=A.forwardRef(({className:e,...t},r)=>c("div",{ref:r,className:It("p-6 pt-0",e),...t}));xr.displayName="CardContent";const Vm=A.forwardRef(({className:e,...t},r)=>c("div",{ref:r,className:It("flex items-center p-6 pt-0",e),...t}));Vm.displayName="CardFooter";function dr(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function ma(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Ia(e,t){const r=dr(e);return isNaN(t)?ma(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function cl(e,t){const r=dr(e);if(isNaN(t))return ma(e,NaN);if(!t)return r;const n=r.getDate(),a=ma(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const i=a.getDate();return n>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}function Cme(e,t){const{years:r=0,months:n=0,weeks:a=0,days:i=0,hours:o=0,minutes:s=0,seconds:l=0}=t,u=dr(e),d=n||r?cl(u,n+r*12):u,f=i||a?Ia(d,i+a*7):d,h=s+o*60,x=(l+h*60)*1e3;return ma(e,f.getTime()+x)}function Tme(e,t){const r=+dr(e);return ma(e,r+t)}const AD=6048e5,Pme=864e5,lx=6e4,O4=36e5,Ome=1e3,rL=525600,Fv=43200,x5=1440;function uY(e,t){return Tme(e,t*O4)}let Dme={};function Eh(){return Dme}function ns(e,t){var s,l,u,d;const r=Eh(),n=(t==null?void 0:t.weekStartsOn)??((l=(s=t==null?void 0:t.locale)==null?void 0:s.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=dr(e),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function yh(e){return ns(e,{weekStartsOn:1})}function dY(e){const t=dr(e),r=t.getFullYear(),n=ma(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=yh(n),i=ma(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=yh(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function El(e){const t=dr(e);return t.setHours(0,0,0,0),t}function sf(e){const t=dr(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function $u(e,t){const r=El(e),n=El(t),a=+r-sf(r),i=+n-sf(n);return Math.round((a-i)/Pme)}function Ime(e){const t=dY(e),r=ma(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),yh(r)}function f1(e,t){const r=t*7;return Ia(e,r)}function Rme(e,t){return cl(e,t*12)}function Mme(e){let t;return e.forEach(function(r){const n=dr(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function Fme(e){let t;return e.forEach(r=>{const n=dr(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function O2(e,t){const r=dr(e),n=dr(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function fY(e){return ma(e,Date.now())}function rl(e,t){const r=El(e),n=El(t);return+r==+n}function kD(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function xm(e){if(!kD(e)&&typeof e!="number")return!1;const t=dr(e);return!isNaN(Number(t))}function h1(e,t){const r=dr(e),n=dr(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function Lme(e,t,r){const n=ns(e,r),a=ns(t,r),i=+n-sf(n),o=+a-sf(a);return Math.round((i-o)/AD)}function jme(e,t){const r=dr(e),n=dr(t),a=nL(r,n),i=Math.abs($u(r,n));r.setDate(r.getDate()-a*i);const o=+(nL(r,n)===-a),s=a*(i-o);return s===0?0:s}function nL(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function hY(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function Vb(e,t){return+dr(e)-+dr(t)}function Gv(e){const t=dr(e);return t.setHours(23,59,59,999),t}function c0(e){const t=dr(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function $me(e){const t=dr(e);return+Gv(t)==+c0(t)}function Bme(e,t){const r=dr(e),n=dr(t),a=O2(r,n),i=Math.abs(h1(r,n));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);let s=O2(r,n)===-a;$me(dr(e))&&i===1&&O2(e,n)===1&&(s=!1),o=a*(i-Number(s))}return o===0?0:o}function pY(e,t,r){const n=Vb(e,t)/1e3;return hY(r==null?void 0:r.roundingMethod)(n)}function D2(e,t){const r=dr(e.start),n=dr(e.end);let a=+r>+n;const i=a?+r:+n,o=a?n:r;o.setHours(0,0,0,0);let s=1;const l=[];for(;+o<=i;)l.push(dr(o)),o.setDate(o.getDate()+s),o.setHours(0,0,0,0);return a?l.reverse():l}function Ume(e,t){const r=dr(e.start),n=dr(e.end);let a=+r>+n;const i=a?+r:+n;let o=a?n:r;o.setMinutes(0,0,0);let s=1;const l=[];for(;+o<=i;)l.push(dr(o)),o=uY(o,s);return a?l.reverse():l}function Bo(e){const t=dr(e);return t.setDate(1),t.setHours(0,0,0,0),t}function mY(e){const t=dr(e),r=ma(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Tm(e,t){var s,l,u,d;const r=Eh(),n=(t==null?void 0:t.weekStartsOn)??((l=(s=t==null?void 0:t.locale)==null?void 0:s.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=dr(e),i=a.getDay(),o=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function gY(e){return Tm(e,{weekStartsOn:1})}const qme={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},zme=(e,t,r)=>{let n;const a=qme[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Sk(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Wme={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Hme={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Vme={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Gme={date:Sk({formats:Wme,defaultWidth:"full"}),time:Sk({formats:Hme,defaultWidth:"full"}),dateTime:Sk({formats:Vme,defaultWidth:"full"})},Kme={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Yme=(e,t,r,n)=>Kme[e];function Gy(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,s=r!=null&&r.width?String(r.width):o;a=e.formattingValues[s]||e.formattingValues[o]}else{const o=e.defaultWidth,s=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[s]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const Xme={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Zme={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Jme={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Qme={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ege={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},tge={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},rge=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},nge={ordinalNumber:rge,era:Gy({values:Xme,defaultWidth:"wide"}),quarter:Gy({values:Zme,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Gy({values:Jme,defaultWidth:"wide"}),day:Gy({values:Qme,defaultWidth:"wide"}),dayPeriod:Gy({values:ege,defaultWidth:"wide",formattingValues:tge,defaultFormattingWidth:"wide"})};function Ky(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],s=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(s)?ige(s,f=>f.test(o)):age(s,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(l):l,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function age(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function ige(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function oge(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const s=t.slice(a.length);return{value:o,rest:s}}}const sge=/^(\d+)(th|st|nd|rd)?/i,lge=/\d+/i,cge={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},uge={any:[/^b/i,/^(a|c)/i]},dge={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},fge={any:[/1/i,/2/i,/3/i,/4/i]},hge={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},pge={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},mge={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},gge={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},vge={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},yge={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},xge={ordinalNumber:oge({matchPattern:sge,parsePattern:lge,valueCallback:e=>parseInt(e,10)}),era:Ky({matchPatterns:cge,defaultMatchWidth:"wide",parsePatterns:uge,defaultParseWidth:"any"}),quarter:Ky({matchPatterns:dge,defaultMatchWidth:"wide",parsePatterns:fge,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ky({matchPatterns:hge,defaultMatchWidth:"wide",parsePatterns:pge,defaultParseWidth:"any"}),day:Ky({matchPatterns:mge,defaultMatchWidth:"wide",parsePatterns:gge,defaultParseWidth:"any"}),dayPeriod:Ky({matchPatterns:vge,defaultMatchWidth:"any",parsePatterns:yge,defaultParseWidth:"any"})},Fw={code:"en-US",formatDistance:zme,formatLong:Gme,formatRelative:Yme,localize:nge,match:xge,options:{weekStartsOn:0,firstWeekContainsDate:1}};function wge(e){const t=dr(e);return $u(t,mY(t))+1}function ND(e){const t=dr(e),r=+yh(t)-+Ime(t);return Math.round(r/AD)+1}function ED(e,t){var d,f,h,m;const r=dr(e),n=r.getFullYear(),a=Eh(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((m=(h=a.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=ma(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const s=ns(o,t),l=ma(e,0);l.setFullYear(n,0,i),l.setHours(0,0,0,0);const u=ns(l,t);return r.getTime()>=s.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function _ge(e,t){var s,l,u,d;const r=Eh(),n=(t==null?void 0:t.firstWeekContainsDate)??((l=(s=t==null?void 0:t.locale)==null?void 0:s.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=ED(e,t),i=ma(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),ns(i,t)}function CD(e,t){const r=dr(e),n=+ns(r,t)-+_ge(r,t);return Math.round(n/AD)+1}function Dn(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Ep={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Dn(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Dn(r+1,2)},d(e,t){return Dn(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Dn(e.getHours()%12||12,t.length)},H(e,t){return Dn(e.getHours(),t.length)},m(e,t){return Dn(e.getMinutes(),t.length)},s(e,t){return Dn(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Dn(a,t.length)}},xv={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},aL={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Ep.y(e,t)},Y:function(e,t,r,n){const a=ED(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return Dn(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Dn(i,t.length)},R:function(e,t){const r=dY(e);return Dn(r,t.length)},u:function(e,t){const r=e.getFullYear();return Dn(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Dn(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Dn(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Ep.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Dn(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=CD(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Dn(a,t.length)},I:function(e,t,r){const n=ND(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Dn(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Ep.d(e,t)},D:function(e,t,r){const n=wge(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Dn(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Dn(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Dn(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Dn(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=xv.noon:n===0?a=xv.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=xv.evening:n>=12?a=xv.afternoon:n>=4?a=xv.morning:a=xv.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Ep.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Ep.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Dn(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Dn(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ep.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Ep.s(e,t)},S:function(e,t){return Ep.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return oL(n);case"XXXX":case"XX":return wm(n);case"XXXXX":case"XXX":default:return wm(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return oL(n);case"xxxx":case"xx":return wm(n);case"xxxxx":case"xxx":default:return wm(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+iL(n,":");case"OOOO":default:return"GMT"+wm(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+iL(n,":");case"zzzz":default:return"GMT"+wm(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Dn(n,t.length)},T:function(e,t,r){const n=e.getTime();return Dn(n,t.length)}};function iL(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+Dn(i,2)}function oL(e,t){return e%60===0?(e>0?"-":"+")+Dn(Math.abs(e)/60,2):wm(e,t)}function wm(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Dn(Math.trunc(n/60),2),i=Dn(n%60,2);return r+a+t+i}const sL=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},vY=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},bge=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return sL(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",sL(n,t)).replace("{{time}}",vY(a,t))},h6={p:vY,P:bge},Sge=/^D+$/,Age=/^Y+$/,kge=["D","DD","YY","YYYY"];function yY(e){return Sge.test(e)}function xY(e){return Age.test(e)}function p6(e,t,r){const n=Nge(e,t,r);if(console.warn(n),kge.includes(e))throw new RangeError(n)}function Nge(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Ege=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Cge=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Tge=/^'([^]*?)'?$/,Pge=/''/g,Oge=/[a-zA-Z]/;function nr(e,t,r){var d,f,h,m,x,g,y,_;const n=Eh(),a=(r==null?void 0:r.locale)??n.locale??Fw,i=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((g=(x=r==null?void 0:r.locale)==null?void 0:x.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((_=(y=n.locale)==null?void 0:y.options)==null?void 0:_.weekStartsOn)??0,s=dr(e);if(!xm(s))throw new RangeError("Invalid time value");let l=t.match(Cge).map(b=>{const S=b[0];if(S==="p"||S==="P"){const C=h6[S];return C(b,a.formatLong)}return b}).join("").match(Ege).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const S=b[0];if(S==="'")return{isToken:!1,value:Dge(b)};if(aL[S])return{isToken:!0,value:b};if(S.match(Oge))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return{isToken:!1,value:b}});a.localize.preprocessor&&(l=a.localize.preprocessor(s,l));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return l.map(b=>{if(!b.isToken)return b.value;const S=b.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&xY(S)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&yY(S))&&p6(S,t,String(e));const C=aL[S[0]];return C(s,S,a.localize,u)}).join("")}function Dge(e){const t=e.match(Tge);return t?t[1].replace(Pge,"'"):e}function Ige(e,t,r){const n=Eh(),a=(r==null?void 0:r.locale)??n.locale??Fw,i=2520,o=O2(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const s=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let l,u;o>0?(l=dr(t),u=dr(e)):(l=dr(e),u=dr(t));const d=pY(u,l),f=(sf(u)-sf(l))/1e3,h=Math.round((d-f)/60);let m;if(h<2)return r!=null&&r.includeSeconds?d<5?a.formatDistance("lessThanXSeconds",5,s):d<10?a.formatDistance("lessThanXSeconds",10,s):d<20?a.formatDistance("lessThanXSeconds",20,s):d<40?a.formatDistance("halfAMinute",0,s):d<60?a.formatDistance("lessThanXMinutes",1,s):a.formatDistance("xMinutes",1,s):h===0?a.formatDistance("lessThanXMinutes",1,s):a.formatDistance("xMinutes",h,s);if(h<45)return a.formatDistance("xMinutes",h,s);if(h<90)return a.formatDistance("aboutXHours",1,s);if(h<x5){const x=Math.round(h/60);return a.formatDistance("aboutXHours",x,s)}else{if(h<i)return a.formatDistance("xDays",1,s);if(h<Fv){const x=Math.round(h/x5);return a.formatDistance("xDays",x,s)}else if(h<Fv*2)return m=Math.round(h/Fv),a.formatDistance("aboutXMonths",m,s)}if(m=Bme(u,l),m<12){const x=Math.round(h/Fv);return a.formatDistance("xMonths",x,s)}else{const x=m%12,g=Math.trunc(m/12);return x<3?a.formatDistance("aboutXYears",g,s):x<9?a.formatDistance("overXYears",g,s):a.formatDistance("almostXYears",g+1,s)}}function wY(e,t,r){const n=Eh(),a=(r==null?void 0:r.locale)??n.locale??Fw,i=O2(e,t);if(isNaN(i))throw new RangeError("Invalid time value");const o=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:i});let s,l;i>0?(s=dr(t),l=dr(e)):(s=dr(e),l=dr(t));const u=hY((r==null?void 0:r.roundingMethod)??"round"),d=l.getTime()-s.getTime(),f=d/lx,h=sf(l)-sf(s),m=(d-h)/lx,x=r==null?void 0:r.unit;let g;if(x?g=x:f<1?g="second":f<60?g="minute":f<x5?g="hour":m<Fv?g="day":m<rL?g="month":g="year",g==="second"){const y=u(d/1e3);return a.formatDistance("xSeconds",y,o)}else if(g==="minute"){const y=u(f);return a.formatDistance("xMinutes",y,o)}else if(g==="hour"){const y=u(f/60);return a.formatDistance("xHours",y,o)}else if(g==="day"){const y=u(m/x5);return a.formatDistance("xDays",y,o)}else if(g==="month"){const y=u(m/Fv);return y===12&&x!=="month"?a.formatDistance("xYears",1,o):a.formatDistance("xMonths",y,o)}else{const y=u(m/rL);return a.formatDistance("xYears",y,o)}}function Rge(e,t){return Ige(e,fY(e),t)}function lL(e,t){const r=dr(e);if(isNaN(r.getTime()))throw new RangeError("Invalid time value");let n="",a="";const i="-",o=":";{const s=Dn(r.getDate(),2),l=Dn(r.getMonth()+1,2);n=`${Dn(r.getFullYear(),4)}${i}${l}${i}${s}`}{const s=r.getTimezoneOffset();if(s!==0){const m=Math.abs(s),x=Dn(Math.trunc(m/60),2),g=Dn(m%60,2);a=`${s<0?"+":"-"}${x}:${g}`}else a="Z";const l=Dn(r.getHours(),2),u=Dn(r.getMinutes(),2),d=Dn(r.getSeconds(),2),f=n===""?"":"T",h=[l,u,d].join(o);n=`${n}${f}${h}${a}`}return n}function Mge(e){const t=dr(e),r=t.getFullYear(),n=t.getMonth(),a=ma(e,0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}function Fge(){return Object.assign({},Eh())}function Lge(e){let r=dr(e).getDay();return r===0&&(r=7),r}function jge(e){return Math.trunc(+dr(e)/1e3)}function $ge(e){const t=dr(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function Bge(e,t){return Lme($ge(e),Bo(e),t)+1}function m6(e,t){const r=dr(e),n=dr(t);return r.getTime()>n.getTime()}function $p(e,t){const r=dr(e),n=dr(t);return+r<+n}function Uge(e,t){const r=t instanceof Date?ma(t,0):new t(0);return r.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),r.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),r}const qge=10;class _Y{constructor(){hr(this,"subPriority",0)}validate(t,r){return!0}}class zge extends _Y{constructor(t,r,n,a,i){super(),this.value=t,this.validateValue=r,this.setValue=n,this.priority=a,i&&(this.subPriority=i)}validate(t,r){return this.validateValue(t,this.value,r)}set(t,r,n){return this.setValue(t,r,this.value,n)}}class Wge extends _Y{constructor(){super(...arguments);hr(this,"priority",qge);hr(this,"subPriority",-1)}set(r,n){return n.timestampIsSet?r:ma(r,Uge(r,Date))}}class sa{run(t,r,n,a){const i=this.parse(t,r,n,a);return i?{setter:new zge(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(t,r,n){return!0}}class Hge extends sa{constructor(){super(...arguments);hr(this,"priority",140);hr(this,"incompatibleTokens",["R","u","t","T"])}parse(r,n,a){switch(n){case"G":case"GG":case"GGG":return a.era(r,{width:"abbreviated"})||a.era(r,{width:"narrow"});case"GGGGG":return a.era(r,{width:"narrow"});case"GGGG":default:return a.era(r,{width:"wide"})||a.era(r,{width:"abbreviated"})||a.era(r,{width:"narrow"})}}set(r,n,a){return n.era=a,r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}}const Hi={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},zd={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Vi(e,t){return e&&{value:t(e.value),rest:e.rest}}function fi(e,t){const r=t.match(e);return r?{value:parseInt(r[0],10),rest:t.slice(r[0].length)}:null}function Wd(e,t){const r=t.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:t.slice(1)};const n=r[1]==="+"?1:-1,a=r[2]?parseInt(r[2],10):0,i=r[3]?parseInt(r[3],10):0,o=r[5]?parseInt(r[5],10):0;return{value:n*(a*O4+i*lx+o*Ome),rest:t.slice(r[0].length)}}function bY(e){return fi(Hi.anyDigitsSigned,e)}function Pi(e,t){switch(e){case 1:return fi(Hi.singleDigit,t);case 2:return fi(Hi.twoDigits,t);case 3:return fi(Hi.threeDigits,t);case 4:return fi(Hi.fourDigits,t);default:return fi(new RegExp("^\\d{1,"+e+"}"),t)}}function w5(e,t){switch(e){case 1:return fi(Hi.singleDigitSigned,t);case 2:return fi(Hi.twoDigitsSigned,t);case 3:return fi(Hi.threeDigitsSigned,t);case 4:return fi(Hi.fourDigitsSigned,t);default:return fi(new RegExp("^-?\\d{1,"+e+"}"),t)}}function TD(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function SY(e,t){const r=t>0,n=r?t:1-t;let a;if(n<=50)a=e||100;else{const i=n+50,o=Math.trunc(i/100)*100,s=e>=i%100;a=e+o-(s?100:0)}return r?a:1-a}function AY(e){return e%400===0||e%4===0&&e%100!==0}class Vge extends sa{constructor(){super(...arguments);hr(this,"priority",130);hr(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(r,n,a){const i=o=>({year:o,isTwoDigitYear:n==="yy"});switch(n){case"y":return Vi(Pi(4,r),i);case"yo":return Vi(a.ordinalNumber(r,{unit:"year"}),i);default:return Vi(Pi(n.length,r),i)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,a){const i=r.getFullYear();if(a.isTwoDigitYear){const s=SY(a.year,i);return r.setFullYear(s,0,1),r.setHours(0,0,0,0),r}const o=!("era"in n)||n.era===1?a.year:1-a.year;return r.setFullYear(o,0,1),r.setHours(0,0,0,0),r}}class Gge extends sa{constructor(){super(...arguments);hr(this,"priority",130);hr(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(r,n,a){const i=o=>({year:o,isTwoDigitYear:n==="YY"});switch(n){case"Y":return Vi(Pi(4,r),i);case"Yo":return Vi(a.ordinalNumber(r,{unit:"year"}),i);default:return Vi(Pi(n.length,r),i)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,a,i){const o=ED(r,i);if(a.isTwoDigitYear){const l=SY(a.year,o);return r.setFullYear(l,0,i.firstWeekContainsDate),r.setHours(0,0,0,0),ns(r,i)}const s=!("era"in n)||n.era===1?a.year:1-a.year;return r.setFullYear(s,0,i.firstWeekContainsDate),r.setHours(0,0,0,0),ns(r,i)}}class Kge extends sa{constructor(){super(...arguments);hr(this,"priority",130);hr(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(r,n){return w5(n==="R"?4:n.length,r)}set(r,n,a){const i=ma(r,0);return i.setFullYear(a,0,4),i.setHours(0,0,0,0),yh(i)}}class Yge extends sa{constructor(){super(...arguments);hr(this,"priority",130);hr(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(r,n){return w5(n==="u"?4:n.length,r)}set(r,n,a){return r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}}class Xge extends sa{constructor(){super(...arguments);hr(this,"priority",120);hr(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"Q":case"QQ":return Pi(n.length,r);case"Qo":return a.ordinalNumber(r,{unit:"quarter"});case"QQQ":return a.quarter(r,{width:"abbreviated",context:"formatting"})||a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(r,{width:"wide",context:"formatting"})||a.quarter(r,{width:"abbreviated",context:"formatting"})||a.quarter(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=1&&n<=4}set(r,n,a){return r.setMonth((a-1)*3,1),r.setHours(0,0,0,0),r}}class Zge extends sa{constructor(){super(...arguments);hr(this,"priority",120);hr(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"q":case"qq":return Pi(n.length,r);case"qo":return a.ordinalNumber(r,{unit:"quarter"});case"qqq":return a.quarter(r,{width:"abbreviated",context:"standalone"})||a.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(r,{width:"wide",context:"standalone"})||a.quarter(r,{width:"abbreviated",context:"standalone"})||a.quarter(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=1&&n<=4}set(r,n,a){return r.setMonth((a-1)*3,1),r.setHours(0,0,0,0),r}}class Jge extends sa{constructor(){super(...arguments);hr(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);hr(this,"priority",110)}parse(r,n,a){const i=o=>o-1;switch(n){case"M":return Vi(fi(Hi.month,r),i);case"MM":return Vi(Pi(2,r),i);case"Mo":return Vi(a.ordinalNumber(r,{unit:"month"}),i);case"MMM":return a.month(r,{width:"abbreviated",context:"formatting"})||a.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(r,{width:"wide",context:"formatting"})||a.month(r,{width:"abbreviated",context:"formatting"})||a.month(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.setMonth(a,1),r.setHours(0,0,0,0),r}}class Qge extends sa{constructor(){super(...arguments);hr(this,"priority",110);hr(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(r,n,a){const i=o=>o-1;switch(n){case"L":return Vi(fi(Hi.month,r),i);case"LL":return Vi(Pi(2,r),i);case"Lo":return Vi(a.ordinalNumber(r,{unit:"month"}),i);case"LLL":return a.month(r,{width:"abbreviated",context:"standalone"})||a.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(r,{width:"wide",context:"standalone"})||a.month(r,{width:"abbreviated",context:"standalone"})||a.month(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.setMonth(a,1),r.setHours(0,0,0,0),r}}function eve(e,t,r){const n=dr(e),a=CD(n,r)-t;return n.setDate(n.getDate()-a*7),n}class tve extends sa{constructor(){super(...arguments);hr(this,"priority",100);hr(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(r,n,a){switch(n){case"w":return fi(Hi.week,r);case"wo":return a.ordinalNumber(r,{unit:"week"});default:return Pi(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,a,i){return ns(eve(r,a,i),i)}}function rve(e,t){const r=dr(e),n=ND(r)-t;return r.setDate(r.getDate()-n*7),r}class nve extends sa{constructor(){super(...arguments);hr(this,"priority",100);hr(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(r,n,a){switch(n){case"I":return fi(Hi.week,r);case"Io":return a.ordinalNumber(r,{unit:"week"});default:return Pi(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,a){return yh(rve(r,a))}}const ave=[31,28,31,30,31,30,31,31,30,31,30,31],ive=[31,29,31,30,31,30,31,31,30,31,30,31];class ove extends sa{constructor(){super(...arguments);hr(this,"priority",90);hr(this,"subPriority",1);hr(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"d":return fi(Hi.date,r);case"do":return a.ordinalNumber(r,{unit:"date"});default:return Pi(n.length,r)}}validate(r,n){const a=r.getFullYear(),i=AY(a),o=r.getMonth();return i?n>=1&&n<=ive[o]:n>=1&&n<=ave[o]}set(r,n,a){return r.setDate(a),r.setHours(0,0,0,0),r}}class sve extends sa{constructor(){super(...arguments);hr(this,"priority",90);hr(this,"subpriority",1);hr(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(r,n,a){switch(n){case"D":case"DD":return fi(Hi.dayOfYear,r);case"Do":return a.ordinalNumber(r,{unit:"date"});default:return Pi(n.length,r)}}validate(r,n){const a=r.getFullYear();return AY(a)?n>=1&&n<=366:n>=1&&n<=365}set(r,n,a){return r.setMonth(0,a),r.setHours(0,0,0,0),r}}function PD(e,t,r){var f,h,m,x;const n=Eh(),a=(r==null?void 0:r.weekStartsOn)??((h=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:h.weekStartsOn)??n.weekStartsOn??((x=(m=n.locale)==null?void 0:m.options)==null?void 0:x.weekStartsOn)??0,i=dr(e),o=i.getDay(),l=(t%7+7)%7,u=7-a,d=t<0||t>6?t-(o+u)%7:(l+u)%7-(o+u)%7;return Ia(i,d)}class lve extends sa{constructor(){super(...arguments);hr(this,"priority",90);hr(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"E":case"EE":case"EEE":return a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,i){return r=PD(r,a,i),r.setHours(0,0,0,0),r}}class cve extends sa{constructor(){super(...arguments);hr(this,"priority",90);hr(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(r,n,a,i){const o=s=>{const l=Math.floor((s-1)/7)*7;return(s+i.weekStartsOn+6)%7+l};switch(n){case"e":case"ee":return Vi(Pi(n.length,r),o);case"eo":return Vi(a.ordinalNumber(r,{unit:"day"}),o);case"eee":return a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"eeeee":return a.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,i){return r=PD(r,a,i),r.setHours(0,0,0,0),r}}class uve extends sa{constructor(){super(...arguments);hr(this,"priority",90);hr(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(r,n,a,i){const o=s=>{const l=Math.floor((s-1)/7)*7;return(s+i.weekStartsOn+6)%7+l};switch(n){case"c":case"cc":return Vi(Pi(n.length,r),o);case"co":return Vi(a.ordinalNumber(r,{unit:"day"}),o);case"ccc":return a.day(r,{width:"abbreviated",context:"standalone"})||a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"});case"ccccc":return a.day(r,{width:"narrow",context:"standalone"});case"cccccc":return a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(r,{width:"wide",context:"standalone"})||a.day(r,{width:"abbreviated",context:"standalone"})||a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,i){return r=PD(r,a,i),r.setHours(0,0,0,0),r}}function dve(e,t){const r=dr(e),n=Lge(r),a=t-n;return Ia(r,a)}class fve extends sa{constructor(){super(...arguments);hr(this,"priority",90);hr(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(r,n,a){const i=o=>o===0?7:o;switch(n){case"i":case"ii":return Pi(n.length,r);case"io":return a.ordinalNumber(r,{unit:"day"});case"iii":return Vi(a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),i);case"iiiii":return Vi(a.day(r,{width:"narrow",context:"formatting"}),i);case"iiiiii":return Vi(a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),i);case"iiii":default:return Vi(a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),i)}}validate(r,n){return n>=1&&n<=7}set(r,n,a){return r=dve(r,a),r.setHours(0,0,0,0),r}}class hve extends sa{constructor(){super(...arguments);hr(this,"priority",80);hr(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(r,n,a){switch(n){case"a":case"aa":case"aaa":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(TD(a),0,0,0),r}}class pve extends sa{constructor(){super(...arguments);hr(this,"priority",80);hr(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(r,n,a){switch(n){case"b":case"bb":case"bbb":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(TD(a),0,0,0),r}}class mve extends sa{constructor(){super(...arguments);hr(this,"priority",80);hr(this,"incompatibleTokens",["a","b","t","T"])}parse(r,n,a){switch(n){case"B":case"BB":case"BBB":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(TD(a),0,0,0),r}}class gve extends sa{constructor(){super(...arguments);hr(this,"priority",70);hr(this,"incompatibleTokens",["H","K","k","t","T"])}parse(r,n,a){switch(n){case"h":return fi(Hi.hour12h,r);case"ho":return a.ordinalNumber(r,{unit:"hour"});default:return Pi(n.length,r)}}validate(r,n){return n>=1&&n<=12}set(r,n,a){const i=r.getHours()>=12;return i&&a<12?r.setHours(a+12,0,0,0):!i&&a===12?r.setHours(0,0,0,0):r.setHours(a,0,0,0),r}}class vve extends sa{constructor(){super(...arguments);hr(this,"priority",70);hr(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(r,n,a){switch(n){case"H":return fi(Hi.hour23h,r);case"Ho":return a.ordinalNumber(r,{unit:"hour"});default:return Pi(n.length,r)}}validate(r,n){return n>=0&&n<=23}set(r,n,a){return r.setHours(a,0,0,0),r}}class yve extends sa{constructor(){super(...arguments);hr(this,"priority",70);hr(this,"incompatibleTokens",["h","H","k","t","T"])}parse(r,n,a){switch(n){case"K":return fi(Hi.hour11h,r);case"Ko":return a.ordinalNumber(r,{unit:"hour"});default:return Pi(n.length,r)}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.getHours()>=12&&a<12?r.setHours(a+12,0,0,0):r.setHours(a,0,0,0),r}}class xve extends sa{constructor(){super(...arguments);hr(this,"priority",70);hr(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(r,n,a){switch(n){case"k":return fi(Hi.hour24h,r);case"ko":return a.ordinalNumber(r,{unit:"hour"});default:return Pi(n.length,r)}}validate(r,n){return n>=1&&n<=24}set(r,n,a){const i=a<=24?a%24:a;return r.setHours(i,0,0,0),r}}class wve extends sa{constructor(){super(...arguments);hr(this,"priority",60);hr(this,"incompatibleTokens",["t","T"])}parse(r,n,a){switch(n){case"m":return fi(Hi.minute,r);case"mo":return a.ordinalNumber(r,{unit:"minute"});default:return Pi(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,a){return r.setMinutes(a,0,0),r}}class _ve extends sa{constructor(){super(...arguments);hr(this,"priority",50);hr(this,"incompatibleTokens",["t","T"])}parse(r,n,a){switch(n){case"s":return fi(Hi.second,r);case"so":return a.ordinalNumber(r,{unit:"second"});default:return Pi(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,a){return r.setSeconds(a,0),r}}class bve extends sa{constructor(){super(...arguments);hr(this,"priority",30);hr(this,"incompatibleTokens",["t","T"])}parse(r,n){const a=i=>Math.trunc(i*Math.pow(10,-n.length+3));return Vi(Pi(n.length,r),a)}set(r,n,a){return r.setMilliseconds(a),r}}class Sve extends sa{constructor(){super(...arguments);hr(this,"priority",10);hr(this,"incompatibleTokens",["t","T","x"])}parse(r,n){switch(n){case"X":return Wd(zd.basicOptionalMinutes,r);case"XX":return Wd(zd.basic,r);case"XXXX":return Wd(zd.basicOptionalSeconds,r);case"XXXXX":return Wd(zd.extendedOptionalSeconds,r);case"XXX":default:return Wd(zd.extended,r)}}set(r,n,a){return n.timestampIsSet?r:ma(r,r.getTime()-sf(r)-a)}}class Ave extends sa{constructor(){super(...arguments);hr(this,"priority",10);hr(this,"incompatibleTokens",["t","T","X"])}parse(r,n){switch(n){case"x":return Wd(zd.basicOptionalMinutes,r);case"xx":return Wd(zd.basic,r);case"xxxx":return Wd(zd.basicOptionalSeconds,r);case"xxxxx":return Wd(zd.extendedOptionalSeconds,r);case"xxx":default:return Wd(zd.extended,r)}}set(r,n,a){return n.timestampIsSet?r:ma(r,r.getTime()-sf(r)-a)}}class kve extends sa{constructor(){super(...arguments);hr(this,"priority",40);hr(this,"incompatibleTokens","*")}parse(r){return bY(r)}set(r,n,a){return[ma(r,a*1e3),{timestampIsSet:!0}]}}class Nve extends sa{constructor(){super(...arguments);hr(this,"priority",20);hr(this,"incompatibleTokens","*")}parse(r){return bY(r)}set(r,n,a){return[ma(r,a),{timestampIsSet:!0}]}}const Eve={G:new Hge,y:new Vge,Y:new Gge,R:new Kge,u:new Yge,Q:new Xge,q:new Zge,M:new Jge,L:new Qge,w:new tve,I:new nve,d:new ove,D:new sve,E:new lve,e:new cve,c:new uve,i:new fve,a:new hve,b:new pve,B:new mve,h:new gve,H:new vve,K:new yve,k:new xve,m:new wve,s:new _ve,S:new bve,X:new Sve,x:new Ave,t:new kve,T:new Nve},Cve=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Tve=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Pve=/^'([^]*?)'?$/,Ove=/''/g,Dve=/\S/,Ive=/[a-zA-Z]/;function cL(e,t,r,n){var g,y,_,b;const a=Fge(),i=a.locale??Fw,o=a.firstWeekContainsDate??((y=(g=a.locale)==null?void 0:g.options)==null?void 0:y.firstWeekContainsDate)??1,s=a.weekStartsOn??((b=(_=a.locale)==null?void 0:_.options)==null?void 0:b.weekStartsOn)??0;if(t==="")return e===""?dr(r):ma(r,NaN);const l={firstWeekContainsDate:o,weekStartsOn:s,locale:i},u=[new Wge],d=t.match(Tve).map(S=>{const C=S[0];if(C in h6){const E=h6[C];return E(S,i.formatLong)}return S}).join("").match(Cve),f=[];for(let S of d){xY(S)&&p6(S,t,e),yY(S)&&p6(S,t,e);const C=S[0],E=Eve[C];if(E){const{incompatibleTokens:D}=E;if(Array.isArray(D)){const I=f.find(L=>D.includes(L.token)||L.token===C);if(I)throw new RangeError(`The format string mustn't contain \`${I.fullToken}\` and \`${S}\` at the same time`)}else if(E.incompatibleTokens==="*"&&f.length>0)throw new RangeError(`The format string mustn't contain \`${S}\` and any other token at the same time`);f.push({token:C,fullToken:S});const T=E.run(e,S,i.match,l);if(!T)return ma(r,NaN);u.push(T.setter),e=T.rest}else{if(C.match(Ive))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");if(S==="''"?S="'":C==="'"&&(S=Rve(S)),e.indexOf(S)===0)e=e.slice(S.length);else return ma(r,NaN)}}if(e.length>0&&Dve.test(e))return ma(r,NaN);const h=u.map(S=>S.priority).sort((S,C)=>C-S).filter((S,C,E)=>E.indexOf(S)===C).map(S=>u.filter(C=>C.priority===S).sort((C,E)=>E.subPriority-C.subPriority)).map(S=>S[0]);let m=dr(r);if(isNaN(m.getTime()))return ma(r,NaN);const x={};for(const S of h){if(!S.validate(m,l))return ma(r,NaN);const C=S.set(m,x,l);Array.isArray(C)?(m=C[0],Object.assign(x,C[1])):m=C}return ma(r,m)}function Rve(e){return e.match(Pve)[1].replace(Ove,"'")}function Mve(e){return+dr(e)<Date.now()}function D4(e,t){const r=dr(e),n=dr(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function Fve(e,t){const r=dr(e),n=dr(t);return r.getFullYear()===n.getFullYear()}function Cp(e){return rl(e,fY(e))}function hm(e,t){const r=+dr(e),[n,a]=[+dr(t.start),+dr(t.end)].sort((i,o)=>i-o);return r>=n&&r<=a}function Ak(e,t){return Ia(e,-t)}function bn(e,t){const n=Bve(e);let a;if(n.date){const l=Uve(n.date,2);a=qve(l.restDateString,l.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const i=a.getTime();let o=0,s;if(n.time&&(o=zve(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(s=Wve(n.timezone),isNaN(s))return new Date(NaN)}else{const l=new Date(i+o),u=new Date(0);return u.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),u.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),u}return new Date(i+o+s)}const ab={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Lve=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,jve=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,$ve=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Bve(e){const t={},r=e.split(ab.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],ab.timeZoneDelimiter.test(t.date)&&(t.date=e.split(ab.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const a=ab.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function Uve(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function qve(e,t){if(t===null)return new Date(NaN);const r=e.match(Lve);if(!r)return new Date(NaN);const n=!!r[4],a=Yy(r[1]),i=Yy(r[2])-1,o=Yy(r[3]),s=Yy(r[4]),l=Yy(r[5])-1;if(n)return Yve(t,s,l)?Hve(t,s,l):new Date(NaN);{const u=new Date(0);return!Gve(t,i,o)||!Kve(t,a)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(a,o)),u)}}function Yy(e){return e?parseInt(e):1}function zve(e){const t=e.match(jve);if(!t)return NaN;const r=kk(t[1]),n=kk(t[2]),a=kk(t[3]);return Xve(r,n,a)?r*O4+n*lx+a*1e3:NaN}function kk(e){return e&&parseFloat(e.replace(",","."))||0}function Wve(e){if(e==="Z")return 0;const t=e.match($ve);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return Zve(n,a)?r*(n*O4+a*lx):NaN}function Hve(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const a=n.getUTCDay()||7,i=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}const Vve=[31,null,31,30,31,30,31,31,30,31,30,31];function kY(e){return e%400===0||e%4===0&&e%100!==0}function Gve(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(Vve[t]||(kY(e)?29:28))}function Kve(e,t){return t>=1&&t<=(kY(e)?366:365)}function Yve(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function Xve(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function Zve(e,t){return t>=0&&t<=59}function Nk(e,t){const r=dr(e),n=r.getFullYear(),a=r.getDate(),i=ma(e,0);i.setFullYear(n,t,15),i.setHours(0,0,0,0);const o=Mge(i);return r.setMonth(t,Math.min(a,o)),r}function Jve(e,t){const r=dr(e);return r.setHours(t),r}function Qve(e,t){const r=dr(e);return r.setMinutes(t),r}function uL(e,t){const r=dr(e);return isNaN(+r)?ma(e,NaN):(r.setFullYear(t),r)}function g6(e,t){return cl(e,-t)}function cx(e,t){return uY(e,-t)}function e1e(e,t){return f1(e,-1)}function t1e({notifications:e,onClose:t,onMarkAsRead:r,onClearNotification:n}){const a=i=>{i.is_read||r(i.id)};return w(ur,{className:"fixed top-16 right-4 z-50 w-96 shadow-lg border bg-card text-card-foreground",children:[" ",w(wr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c(_r,{className:"text-lg font-medium",children:"Notifications"}),c(Fe,{variant:"ghost",size:"icon",onClick:t,"aria-label":"Close notifications",children:c(a0,{className:"h-4 w-4"})})]}),c(xr,{className:"p-0",children:w("div",{className:"max-h-[calc(100vh-10rem)] overflow-y-auto",children:[" ",e.length===0?c("p",{className:"text-sm text-muted-foreground text-center p-4",children:"No new notifications."}):e.map(i=>w("div",{className:It("flex flex-col border-b p-3 hover:bg-muted/50 cursor-pointer",i.is_read===!0?"opacity-70":"font-medium"),onClick:()=>a(i),role:"button",tabIndex:0,onKeyDown:o=>o.key==="Enter"&&a(i),children:[w("div",{className:"flex justify-between items-center w-full",children:[" ",c("span",{className:"text-sm flex-grow mr-2",children:i.message})," ",c(Fe,{variant:"ghost",size:"icon",className:"h-6 w-6 flex-shrink-0",onClick:o=>{o.stopPropagation(),n(i.id)},"aria-label":"Clear notification",children:c(a0,{className:"h-3 w-3"})})]}),w("div",{className:"flex justify-between items-center mt-1",children:[c("span",{className:"text-xs text-muted-foreground",children:i.created_at?Rge(new Date(i.created_at),{addSuffix:!0}):"Just now"}),i.is_read!==!0&&c("span",{title:"Mark as read",className:"text-primary"})]})]},i.id))]})})]})}const r1e=Nw("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Zu({className:e,variant:t,...r}){return c("div",{className:It(r1e({variant:t}),e),...r})}const n1e=(e,t)=>{if(e){const r=e.split(" ");if(r.length>1)return`${r[0][0]}${r[r.length-1][0]}`.toUpperCase();if(r.length===1&&r[0].length>0)return r[0].substring(0,2).toUpperCase()}return t?t.substring(0,2).toUpperCase():"U"};function a1e(){const{user:e,signOut:t}=oi(),{toast:r}=xn(),n=as(),[a,i]=A.useState(""),[o,s]=A.useState(!1),{notifications:l,markAsRead:u,clearNotification:d}=Eme();console.log("Notifications in Header:",l);const f=A.useMemo(()=>l.filter(C=>C.is_read!==!0).length,[l]),h=C=>{i(C.target.value)},m=C=>{if(C.key==="Enter"&&a.trim()){const E=a.trim();n(`/search?q=${encodeURIComponent(E)}`),i("")}},x=async()=>{try{await t(),r({title:"Logged out successfully"}),n("/login")}catch(C){console.error("Logout failed:",C),r({title:"Logout Failed",description:C.message||"An unexpected error occurred.",variant:"destructive"})}},g=()=>{s(C=>!C)},y=()=>{s(!1)};A.useEffect(()=>{const C=E=>{const D=document.getElementById("notification-panel"),T=document.getElementById("notification-trigger");D&&!D.contains(E.target)&&T&&!T.contains(E.target)&&y()};return o?document.addEventListener("mousedown",C):document.removeEventListener("mousedown",C),()=>{document.removeEventListener("mousedown",C)}},[o]);const _=e==null?void 0:e.full_name,b=e==null?void 0:e.avatar_url,S=e==null?void 0:e.email;return w(Dr,{children:[" ",c("header",{className:"sticky top-0 z-40 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:w("div",{className:"container flex h-14 items-center",children:[c("div",{className:"mr-4 hidden md:flex",children:c(Wi,{to:"/",className:"mr-6 flex items-center space-x-2",children:c("img",{src:"public/facetslogo.png",alt:"Facets Dental Logo",className:"h-8"})})}),w("div",{className:"flex flex-1 items-center justify-between space-x-2 md:justify-end",children:[c("div",{className:"w-full flex-1 md:w-auto md:flex-none",children:w("div",{className:"relative",children:[c(p4,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),c(ot,{placeholder:"Search...",className:"pl-8 md:w-[300px] lg:w-[400px]",value:a,onChange:h,onKeyDown:m})]})}),w("div",{className:"flex items-center gap-2",children:[w(Fe,{id:"notification-trigger",variant:"ghost",size:"icon",className:"relative","aria-label":"Notifications",onClick:g,children:[c(d4,{className:"h-4 w-4"}),f>0&&c(Zu,{variant:"destructive",className:"absolute -top-1 -right-1 h-4 w-4 justify-center rounded-full p-0 text-xs",children:f>9?"9+":f})]}),w(npe,{children:[c(ape,{asChild:!0,children:c(Fe,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:w(gD,{className:"h-8 w-8",children:[c(vD,{src:b||"https://syevxwuraxjpvkcclmjj.supabase.co/storage/v1/object/public/avatars/68f6a588-b802-4e33-8c6b-3de2d070d3bf-1744191950747.jpg",alt:_||S||"User"}),c(yD,{children:n1e(_,S)})]})})}),w(IK,{className:"w-56",align:"end",forceMount:!0,children:[c(RK,{className:"font-normal",children:w("div",{className:"flex flex-col space-y-1",children:[c("p",{className:"text-sm font-medium leading-none",children:_||"User Name"}),c("p",{className:"text-xs leading-none text-muted-foreground",children:S||"user@example.com"})]})}),c(a6,{}),c(p2,{asChild:!0,children:c(Wi,{to:"/profile",children:"Profile"})}),c(p2,{asChild:!0,children:c(Wi,{to:"/settings",children:"Settings"})}),c(p2,{asChild:!0,children:c(Wi,{to:"/payments-subscription",children:"Payments & Subscription"})}),c(a6,{}),c(p2,{onClick:x,className:"cursor-pointer",children:"Log out"})]})]})]})]})]})}),o&&w("div",{id:"notification-panel",className:"absolute top-0 right-0 z-50 mt-14 mr-4",children:[" ",c(t1e,{notifications:l,onClose:y,onMarkAsRead:u,onClearNotification:d})]})]})}var I4="Collapsible",[i1e,NY]=Xi(I4),[o1e,OD]=i1e(I4),EY=A.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:a,disabled:i,onOpenChange:o,...s}=e,[l,u]=ll({prop:n,defaultProp:a??!1,onChange:o,caller:I4});return c(o1e,{scope:r,disabled:i,contentId:Dl(),open:l,onOpenToggle:A.useCallback(()=>u(d=>!d),[u]),children:c(pr.div,{"data-state":ID(l),"data-disabled":i?"":void 0,...s,ref:t})})});EY.displayName=I4;var CY="CollapsibleTrigger",TY=A.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,a=OD(CY,r);return c(pr.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":ID(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...n,ref:t,onClick:Ut(e.onClick,a.onOpenToggle)})});TY.displayName=CY;var DD="CollapsibleContent",PY=A.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=OD(DD,e.__scopeCollapsible);return c(is,{present:r||a.open,children:({present:i})=>c(s1e,{...n,ref:t,present:i})})});PY.displayName=DD;var s1e=A.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:a,...i}=e,o=OD(DD,r),[s,l]=A.useState(n),u=A.useRef(null),d=Hr(t,u),f=A.useRef(0),h=f.current,m=A.useRef(0),x=m.current,g=o.open||s,y=A.useRef(g),_=A.useRef(void 0);return A.useEffect(()=>{const b=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(b)},[]),ii(()=>{const b=u.current;if(b){_.current=_.current||{transitionDuration:b.style.transitionDuration,animationName:b.style.animationName},b.style.transitionDuration="0s",b.style.animationName="none";const S=b.getBoundingClientRect();f.current=S.height,m.current=S.width,y.current||(b.style.transitionDuration=_.current.transitionDuration,b.style.animationName=_.current.animationName),l(n)}},[o.open,n]),c(pr.div,{"data-state":ID(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!g,...i,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":x?`${x}px`:void 0,...e.style},children:g&&a})});function ID(e){return e?"open":"closed"}var l1e=EY,c1e=TY,u1e=PY,ad="Accordion",d1e=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[RD,f1e,h1e]=Ew(ad),[R4,NJe]=Xi(ad,[h1e,NY]),MD=NY(),OY=Je.forwardRef((e,t)=>{const{type:r,...n}=e,a=n,i=n;return c(RD.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?c(v1e,{...i,ref:t}):c(g1e,{...a,ref:t})})});OY.displayName=ad;var[DY,p1e]=R4(ad),[IY,m1e]=R4(ad,{collapsible:!1}),g1e=Je.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},collapsible:i=!1,...o}=e,[s,l]=ll({prop:r,defaultProp:n??"",onChange:a,caller:ad});return c(DY,{scope:e.__scopeAccordion,value:Je.useMemo(()=>s?[s]:[],[s]),onItemOpen:l,onItemClose:Je.useCallback(()=>i&&l(""),[i,l]),children:c(IY,{scope:e.__scopeAccordion,collapsible:i,children:c(RY,{...o,ref:t})})})}),v1e=Je.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...i}=e,[o,s]=ll({prop:r,defaultProp:n??[],onChange:a,caller:ad}),l=Je.useCallback(d=>s((f=[])=>[...f,d]),[s]),u=Je.useCallback(d=>s((f=[])=>f.filter(h=>h!==d)),[s]);return c(DY,{scope:e.__scopeAccordion,value:o,onItemOpen:l,onItemClose:u,children:c(IY,{scope:e.__scopeAccordion,collapsible:!0,children:c(RY,{...i,ref:t})})})}),[y1e,M4]=R4(ad),RY=Je.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:a,orientation:i="vertical",...o}=e,s=Je.useRef(null),l=Hr(s,t),u=f1e(r),f=mg(a)==="ltr",h=Ut(e.onKeyDown,m=>{var I;if(!d1e.includes(m.key))return;const x=m.target,g=u().filter(L=>{var B;return!((B=L.ref.current)!=null&&B.disabled)}),y=g.findIndex(L=>L.ref.current===x),_=g.length;if(y===-1)return;m.preventDefault();let b=y;const S=0,C=_-1,E=()=>{b=y+1,b>C&&(b=S)},D=()=>{b=y-1,b<S&&(b=C)};switch(m.key){case"Home":b=S;break;case"End":b=C;break;case"ArrowRight":i==="horizontal"&&(f?E():D());break;case"ArrowDown":i==="vertical"&&E();break;case"ArrowLeft":i==="horizontal"&&(f?D():E());break;case"ArrowUp":i==="vertical"&&D();break}const T=b%_;(I=g[T].ref.current)==null||I.focus()});return c(y1e,{scope:r,disabled:n,direction:a,orientation:i,children:c(RD.Slot,{scope:r,children:c(pr.div,{...o,"data-orientation":i,ref:l,onKeyDown:n?void 0:h})})})}),_5="AccordionItem",[x1e,FD]=R4(_5),MY=Je.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...a}=e,i=M4(_5,r),o=p1e(_5,r),s=MD(r),l=Dl(),u=n&&o.value.includes(n)||!1,d=i.disabled||e.disabled;return c(x1e,{scope:r,open:u,disabled:d,triggerId:l,children:c(l1e,{"data-orientation":i.orientation,"data-state":UY(u),...s,...a,ref:t,disabled:d,open:u,onOpenChange:f=>{f?o.onItemOpen(n):o.onItemClose(n)}})})});MY.displayName=_5;var FY="AccordionHeader",LY=Je.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=M4(ad,r),i=FD(FY,r);return c(pr.h3,{"data-orientation":a.orientation,"data-state":UY(i.open),"data-disabled":i.disabled?"":void 0,...n,ref:t})});LY.displayName=FY;var v6="AccordionTrigger",jY=Je.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=M4(ad,r),i=FD(v6,r),o=m1e(v6,r),s=MD(r);return c(RD.ItemSlot,{scope:r,children:c(c1e,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":a.orientation,id:i.triggerId,...s,...n,ref:t})})});jY.displayName=v6;var $Y="AccordionContent",BY=Je.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=M4(ad,r),i=FD($Y,r),o=MD(r);return c(u1e,{role:"region","aria-labelledby":i.triggerId,"data-orientation":a.orientation,...o,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});BY.displayName=$Y;function UY(e){return e?"open":"closed"}var w1e=OY,_1e=MY,b1e=LY,qY=jY,zY=BY;const LD=w1e,Ld=A.forwardRef(({className:e,...t},r)=>c(_1e,{ref:r,className:It("border-b",e),...t}));Ld.displayName="AccordionItem";const jd=A.forwardRef(({className:e,children:t,...r},n)=>c(b1e,{className:"flex",children:w(qY,{ref:n,className:It("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,c(V8,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));jd.displayName=qY.displayName;const $d=A.forwardRef(({className:e,children:t,...r},n)=>c(zY,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:c("div",{className:It("pb-4 pt-0",e),children:t})}));$d.displayName=zY.displayName;const S1e=[{name:"Dashboard",href:"/",icon:mce},{name:"Appointments",href:"/appointments",icon:vo},{name:"Patients",href:"/patients",icon:m4},{name:"Treatment Plans",href:"/treatment-plans",icon:GV},{name:"Patient Medical Record",href:"/patient-medical-records",icon:cce},{name:"Inventory",href:"/inventory",icon:VV,children:[{name:"Purchases",href:"/purchases"},{name:"Urgent Purchase Entry",href:"/purchases/urgent"},{name:"Invoices",href:"/inventory/invoices"},{name:"Create Adjustment",href:"/inventory/create-adjustment"},{name:"Stock Take",href:"/inventory/stock-take"}]},{name:"Assets",href:"/assets",icon:FV},{name:"Reports",href:"/reports",icon:tce},{name:"Reminders",href:"/reminders",icon:d4},{name:"Settings",href:"/settings",icon:Nce},{name:"Inv. Approvals",href:"/inventory-approvals",icon:WV,roles:["admin","owner","doctor"]}],A1e=["Inventory","Assets","Reports","Reminders"];function k1e(){const e=b0(),{user:t}=oi(),r=S1e.filter(n=>!t||!t.role?!1:n.roles&&Array.isArray(n.roles)?n.roles.includes(t.role):t.role==="admin"||t.role==="owner"?!0:t.role==="doctor"?!A1e.includes(n.name):!1);return!t||r.length===0?null:c("div",{className:"hidden border-r bg-background md:block md:w-64",children:w("div",{className:"flex h-full flex-col gap-2",children:[c("div",{className:"flex h-14 items-center border-b px-4",children:w(Wi,{to:"/",className:"flex items-center gap-2 font-semibold",children:[c("img",{src:"https://i.postimg.cc/bwDhkb5H/dentalcare.png",alt:"Dental Care Logo",className:"h-12"})," "]})}),c("div",{className:"flex-1 overflow-auto py-2",children:c("nav",{className:"grid items-start px-2 text-sm font-medium",children:r.map(n=>{const a=n.icon,i=n.children&&n.children.some(o=>e.pathname.startsWith(o.href))||e.pathname.startsWith(n.href);if(n.children){const o=i?n.name:"";return c(LD,{type:"single",collapsible:!0,defaultValue:o,className:"w-full",children:w(Ld,{value:n.name,className:"border-b-0",children:[c(jd,{className:It("w-full justify-start gap-2 rounded-md px-3 py-2 text-sm font-medium hover:bg-accent hover:text-accent-foreground [&[data-state=open]>svg]:rotate-180",e.pathname===n.href?"bg-secondary text-secondary-foreground":"hover:bg-muted"),children:w(Wi,{to:n.href,className:"flex items-center flex-grow gap-2",onClick:s=>s.stopPropagation(),children:[" ",c(a,{className:"h-4 w-4"}),c("span",{children:n.name})]})}),w($d,{className:"pt-1 pb-0 pl-7",children:[" ",c("nav",{className:"grid gap-1",children:n.children.map(s=>{const l=e.pathname===s.href;return c(Wi,{to:s.href,children:c(Fe,{variant:l?"secondary":"ghost",size:"sm",className:It("w-full justify-start gap-2 pl-2",{"bg-secondary text-secondary-foreground":l}),children:s.name})},s.href)})})]})]})},n.name)}return c(Wi,{to:n.href,children:w(Fe,{variant:i?"secondary":"ghost",className:It("w-full justify-start gap-2 rounded-md px-3 py-2 text-sm font-medium",{"bg-secondary text-secondary-foreground":i}),children:[c(a,{className:"h-4 w-4"}),n.name]})},n.href)})})})]})})}const WY=async()=>{const{data:e,error:t}=await Me.from("reminders").select("*").order("reminder_datetime",{ascending:!0});if(t)throw console.error("Error fetching reminders:",t),new Error("Failed to fetch reminders.");return e.map(r=>({...r,recurrence_config:typeof r.recurrence_config=="string"?JSON.parse(r.recurrence_config):r.recurrence_config||{type:"none"}}))},N1e=async e=>{const{data:t,error:r}=await Me.from("reminders").insert(e).select().single();if(r)throw console.error("Error creating reminder:",r),new Error("Failed to create reminder.");return t},HY=async(e,t)=>{const{data:r,error:n}=await Me.from("reminders").update(t).eq("id",e).select().single();if(n)throw console.error("Error updating reminder:",n),new Error("Failed to update reminder.");return r},E1e=async e=>{const{error:t}=await Me.from("reminders").delete().eq("id",e);if(t)throw console.error("Error deleting reminder:",t),new Error("Failed to delete reminder.")},ib=60*1e3;function VY(){const{user:e}=oi(),{toast:t}=xn(),[r,n]=A.useState("Notification"in window?Notification.permission:"default"),a=A.useRef(new Map),[i,o]=A.useState(new Set),s=A.useRef(null);return A.useEffect(()=>{if(!("Notification"in window))return;const l=Notification.permission;n(l),l!=="granted"&&l!=="denied"&&Notification.requestPermission().then(u=>{n(u)})},[]),A.useEffect(()=>{if(!e)return;const l=setInterval(async()=>{try{const u=await WY(),d=new Date;u.forEach(f=>{var x;if(!f.is_active)return;let h=[];const m=new Date(f.reminder_datetime);if(((x=f.recurrence_config)==null?void 0:x.type)==="daily"){const g=C1e(f,d);g&&(h=T1e(f,g))}else(!f.recurrence_config||f.recurrence_config.type==="none")&&(m>=d&&Vb(d,m)<ib?h=[m]:Mve(m)&&Vb(d,m)<ib&&(h=[m]));h.forEach(g=>{const y=Vb(d,g),_=`${f.id}-${g.toISOString()}`,b=a.current.has(_);if(y>=0&&y<ib&&!b){"Notification"in window&&Notification.permission==="granted"&&new Notification("Dental Care Reminder",{body:f.message,icon:"/ransferent.svg",tag:_}),t({title:"Reminder Due",description:f.message,duration:1e4}),a.current.set(_,d.getTime()),o(C=>new Set(C).add(f.id)),s.current&&clearTimeout(s.current),s.current=setTimeout(()=>{o(new Set),s.current=null},6e4);const S=d.getTime()-24*60*60*1e3;for(const[C,E]of a.current.entries())E<S&&a.current.delete(C)}})})}catch(u){console.error("Error checking reminders for notifications:",u)}},ib);return()=>{clearInterval(l)}},[e,r,t]),A.useEffect(()=>()=>{s.current&&clearTimeout(s.current)},[]),{permission:r,activeReminderIds:i}}function C1e(e,t){if(!e.recurrence_config||e.recurrence_config.type!=="daily")return null;const r=new Date(e.reminder_datetime),n=e.recurrence_config.interval||1,a=new Date(r);if(a.setHours(0,0,0,0),a>t)return null;let i=a;for(;;){const o=Ia(i,n);if(o>t)break;i=o}return i}function T1e(e,t){var s;const r=new Date(e.reminder_datetime),n=((s=e.recurrence_config)==null?void 0:s.times_per_day)||1;if(n<=0)return[];const a=[],i=new Date(t);i.setHours(0,0,0,0);let o=new Date(i);if(o.setHours(r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()),o<r&&o.toDateString()===r.toDateString()&&(o=r),n===1)o>=r&&o.toDateString()===t.toDateString()&&a.push(o);else{const l=864e5/n;for(let u=0;u<n;u++){const d=new Date(o.getTime()+u*l);d.getDate()===t.getDate()&&d>=r&&a.push(d)}}return a}const dL=e=>new Promise(t=>setTimeout(t,e)),fL=e=>{const t=new Date;if(t.setHours(0,0,0,0),e.expiry_date){const r=new Date(e.expiry_date);if(r.setHours(0,0,0,0),r<t)return"Expired"}return(e.quantity??0)<=(e.low_stock_threshold??0)?"Low Stock":"In Stock"},P1e=30;function O1e(){const{toast:e}=xn(),{user:t}=oi(),r=A.useRef(new Set),n=A.useRef(new Set),a=A.useRef(null),i=A.useCallback((s,l)=>{if(!("Notification"in window)){console.warn("This browser does not support desktop notification");return}const u=()=>{Notification.requestPermission().then(d=>{d==="granted"?new Notification(s,l):console.warn("Desktop notification permission denied.")})};Notification.permission==="granted"?new Notification(s,l):Notification.permission!=="denied"&&u()},[]),o=A.useCallback(async s=>{if(!t)return;const l=new Date;l.setHours(0,0,0,0);const u=new Date(l);u.setDate(l.getDate()+P1e),console.log(`[InventoryAlerts] Check running. Today (normalized): ${l.toISOString()}, Threshold Date: ${u.toISOString()}`);const d=new Set,f=new Set,h=[];for(const m of s){const x=fL(m),g=m.id;if(x==="Low Stock"){const y="low_stock",_=cx(new Date,12),{count:b,error:S}=await Me.from("notifications").select("id",{count:"exact",head:!0}).eq("user_id",t.id).eq("item_id",g).eq("item_type","inventory").eq("notification_type",y).gte("created_at",_.toISOString());if(S&&console.error("Error checking recent low stock notifications:",S),!S&&b===0){console.log(`[InventoryAlerts] PASSED low stock check for item "${m.item_name}". Queueing notification.`),d.add(g);const C=`Item "${m.item_name}" is low on stock (${m.quantity??0} remaining).`,E=`/inventory?highlight=${g}`,D=`low-stock-${g}`;h.push({title:"Low Stock Alert",description:C,variant:"warning",tag:D}),i("Low Stock Alert",{body:C,tag:D});try{const{error:T}=await Me.from("notifications").insert({user_id:t.id,message:C,link_url:E,item_id:g,item_type:"inventory",notification_type:y});if(T)throw T}catch(T){console.error("Error inserting low stock notification:",T)}}else!S&&b&&b>0&&console.log(`[InventoryAlerts] Skipped low stock notification for item "${m.item_name}" (sent recently).`)}if(m.expiry_date){const y=new Date(m.expiry_date),_=new Date(y.getFullYear(),y.getMonth(),y.getDate());if(console.log(`[InventoryAlerts] Checking expiry for item "${m.item_name}" (ID: ${g}). Expiry Date (normalized): ${_.toISOString()}`),_>=l&&_<=u){const b="expiry_soon",S=cx(new Date,12),{count:C,error:E}=await Me.from("notifications").select("id",{count:"exact",head:!0}).eq("user_id",t.id).eq("item_id",g).eq("item_type","inventory").eq("notification_type",b).gte("created_at",S.toISOString());if(E&&console.error("Error checking recent expiry notifications:",E),!E&&C===0){console.log(`[InventoryAlerts] PASSED expiry check for item "${m.item_name}". Queueing notification.`),f.add(g);const D=`Item "${m.item_name}" is expiring on ${_.toLocaleDateString()}.`,T=`/inventory?highlight=${g}`,I=`expiry-soon-${g}`;h.push({title:"Expiry Soon Alert",description:D,variant:"default",tag:I}),i("Expiry Soon Alert",{body:D,tag:I});try{const{error:L}=await Me.from("notifications").insert({user_id:t.id,message:D,link_url:T,item_id:g,item_type:"inventory",notification_type:b});if(L)throw L}catch(L){console.error("Error inserting expiry soon notification:",L)}}else!E&&C&&C>0&&console.log(`[InventoryAlerts] Skipped expiry soon notification for item "${m.item_name}" (sent recently).`)}}}if(d.size>0&&(r.current=new Set([...r.current,...d])),f.size>0&&(n.current=new Set([...n.current,...f])),h.length>0){console.log(`[InventoryAlerts] Processing ${h.length} queued toasts...`),await dL(2e3);for(const m of h)console.log(`[InventoryAlerts] >>> Showing toast: ${m.title} - ${m.description}`),e({title:m.title,description:m.description,variant:m.variant,duration:1/0}),console.log(`[InventoryAlerts] <<< Shown toast: ${m.title}`),await dL(2e3);console.log("[InventoryAlerts] Finished processing queued toasts.")}},[e,t,i]);return A.useEffect(()=>{t&&(async()=>{try{const{data:l,error:u}=await Me.from("inventory_items").select("*");if(u)throw u;l&&o(l)}catch(l){console.error("Error fetching initial inventory for alerts:",l)}})()},[o,t]),A.useEffect(()=>{if(!Me)return;const s=l=>{const u=l.new;u&&(o([u]),fL(u)==="In Stock"&&r.current.has(u.id)&&r.current.delete(u.id))};return a.current=Me.channel("inventory_items_alerts").on("postgres_changes",{event:"*",schema:"public",table:"inventory_items"},s).subscribe((l,u)=>{l==="SUBSCRIBED"||(l==="CHANNEL_ERROR"||l==="TIMED_OUT"||l==="CLOSED"?console.error(`Inventory Alert Realtime subscription ${l}:`,u):l==="CHANNEL_ERROR"?console.error("Realtime channel error, attempting to resubscribe...",u):(l==="TIMED_OUT"||l==="CLOSED")&&console.warn(`Inventory Alert Realtime subscription ${l}.`,u))}),()=>{const l=a.current;l&&(Me.removeChannel(l).catch(u=>console.error("Error removing inventory alert channel:",u)),a.current=null)}},[Me,o,t]),null}const hL=e=>new Promise(t=>setTimeout(t,e)),D1e=30;function I1e(){console.log("[AssetAlerts] Hook initializing...");const{toast:e}=xn(),{user:t}=oi(),r=A.useRef(new Set),n=A.useRef(new Set),a=A.useRef(null),i=A.useCallback((s,l)=>{if(!("Notification"in window)){console.warn("This browser does not support desktop notification");return}const u=()=>{Notification.requestPermission().then(d=>{d==="granted"?new Notification(s,l):console.warn("Desktop notification permission denied.")})};Notification.permission==="granted"?new Notification(s,l):Notification.permission!=="denied"&&u()},[]),o=A.useCallback(async s=>{if(console.log("[AssetAlerts] checkAndNotifyAssets called with:",s),!t){console.log("[AssetAlerts] checkAndNotifyAssets skipped (no user).");return}const l=new Date;l.setHours(0,0,0,0);const u=new Date(l);u.setDate(l.getDate()+D1e),console.log(`[AssetAlerts] Check running. Today (normalized): ${l.toISOString()}, Threshold Date: ${u.toISOString()}`);const d=new Set,f=new Set,h=[];for(const m of s){const x=m.id;if(m.next_maintenance_due_date){const g=new Date(m.next_maintenance_due_date),y=new Date(g.getFullYear(),g.getMonth(),g.getDate());if(console.log(`[AssetAlerts] Checking maintenance for asset "${m.asset_name}" (ID: ${x}). Due Date (normalized): ${y.toISOString()}`),y>=l&&y<=u){const _="maintenance_due",b=cx(new Date,12),{count:S,error:C}=await Me.from("notifications").select("id",{count:"exact",head:!0}).eq("user_id",t.id).eq("item_id",x).eq("item_type","asset").eq("notification_type",_).gte("created_at",b.toISOString());if(C?console.error("Error checking recent maintenance notifications:",C):console.log(`[AssetAlerts] Maintenance Throttling Check Result for ${m.asset_name}: Count=${S}`),!C&&S===0){console.log(`[AssetAlerts] PASSED maintenance check for asset "${m.asset_name}". Triggering notification.`),d.add(x);const E=`Asset "${m.asset_name}" requires maintenance by ${y.toLocaleDateString()}.`,D=`/assets?highlight=${x}`,T=`maintenance-due-${x}`;h.push({title:"Maintenance Due Soon",description:E,variant:"default",tag:T}),i("Maintenance Due Soon",{body:E,tag:T});try{const{error:I}=await Me.from("notifications").insert({user_id:t.id,message:E,link_url:D,item_id:x,item_type:"asset",notification_type:_});if(I)throw I}catch(I){console.error("Error inserting maintenance notification:",I)}}else!C&&S&&S>0&&console.log(`[AssetAlerts] Skipped maintenance notification for asset "${m.asset_name}" (sent recently).`)}}if(m.warranty_expiry_date){const g=new Date(m.warranty_expiry_date),y=new Date(g.getFullYear(),g.getMonth(),g.getDate());if(console.log(`[AssetAlerts] Checking warranty for asset "${m.asset_name}" (ID: ${x}). Expiry Date (normalized): ${y.toISOString()}`),y>=l&&y<=u){const _="warranty_expiry",b=cx(new Date,12),{count:S,error:C}=await Me.from("notifications").select("id",{count:"exact",head:!0}).eq("user_id",t.id).eq("item_id",x).eq("item_type","asset").eq("notification_type",_).gte("created_at",b.toISOString());if(C?console.error("Error checking recent warranty notifications:",C):console.log(`[AssetAlerts] Warranty Throttling Check Result for ${m.asset_name}: Count=${S}`),!C&&S===0){console.log(`[AssetAlerts] PASSED warranty check for asset "${m.asset_name}". Triggering notification.`),f.add(x);const E=`Warranty for asset "${m.asset_name}" expires on ${y.toLocaleDateString()}.`,D=`/assets?highlight=${x}`,T=`warranty-expiry-${x}`;h.push({title:"Warranty Expiring Soon",description:E,variant:"default",tag:T}),i("Warranty Expiring Soon",{body:E,tag:T});try{const{error:I}=await Me.from("notifications").insert({user_id:t.id,message:E,link_url:D,item_id:x,item_type:"asset",notification_type:_});if(I)throw I}catch(I){console.error("Error inserting warranty notification:",I)}}else!C&&S&&S>0&&console.log(`[AssetAlerts] Skipped warranty notification for asset "${m.asset_name}" (sent recently).`)}}}if(d.size>0&&(r.current=new Set([...r.current,...d])),f.size>0&&(n.current=new Set([...n.current,...f])),h.length>0){console.log(`[AssetAlerts] Processing ${h.length} queued toasts...`),await hL(2e3);for(const m of h)console.log(`[AssetAlerts] >>> Showing toast: ${m.title} - ${m.description}`),e({title:m.title,description:m.description,variant:m.variant,duration:1/0}),console.log(`[AssetAlerts] <<< Shown toast: ${m.title}`),await hL(2e3);console.log("[AssetAlerts] Finished processing queued toasts.")}},[e,t,i]);return A.useEffect(()=>{const s=async()=>{console.log("[AssetAlerts] Starting initial fetch...");try{const{data:l,error:u}=await Me.from("assets").select("*");if(u)throw console.error("Error fetching initial assets for alerts:",u),u;l?(console.log("[AssetAlerts] Initial fetch successful, data:",l),o(l)):console.log("[AssetAlerts] Initial fetch returned no data.")}catch{}};t&&(console.log("[AssetAlerts] User found, calling fetchInitialData."),s())},[o,t]),A.useEffect(()=>{if(!Me||!t)return;const s=u=>{console.log("[AssetAlerts] Asset change detected:",u);const d=u.new;d&&o([d])},l=`asset-alerts-channel-${t.id}`;return console.log(`[AssetAlerts] Attempting to subscribe to channel: ${l}`),a.current=Me.channel(l).on("postgres_changes",{event:"*",schema:"public",table:"assets"},s).subscribe((u,d)=>{console.log(`[AssetAlerts] Channel ${l} subscription status: ${u}`),u==="SUBSCRIBED"||(u==="CHANNEL_ERROR"||u==="TIMED_OUT"||u==="CLOSED")&&console.error(`[AssetAlerts] Asset Alert Realtime subscription ${u} on ${l}:`,d)}),()=>{const u=a.current;if(u){const d=u.topic;console.log(`[AssetAlerts] Attempting to unsubscribe from channel: ${d}`),Me.removeChannel(u).catch(f=>console.error(`[AssetAlerts] Error removing asset alert channel ${d}:`,f)).finally(()=>{a.current===u&&(a.current=null)})}}},[Me,o,t]),null}function R1e(){return VY(),O1e(),I1e(),w("div",{className:"min-h-screen bg-background",children:[" ",w("div",{className:"flex h-screen",children:[c(k1e,{}),w("div",{className:"flex flex-col flex-1 overflow-hidden",children:[c(a1e,{}),c("main",{className:"flex-1 overflow-y-auto",children:c("div",{className:"container py-6",children:c(MV,{})})})]})]})]})}class Ek extends Error{constructor(r,n,a){super(`Transaction failed during ${r}: ${n.message}`);hr(this,"operation");hr(this,"partialData");hr(this,"originalError");this.name="TransactionError",this.operation=r,this.originalError=n,this.partialData=a}}async function pL(e,t){const r=[];let n=!0,a;try{await Me.rpc("begin_transaction");for(let i=0;i<e.length;i++)try{const o=await e[i]();r.push(o)}catch(o){throw n=!1,a=new Ek(`Operation ${i}`,o,r),t&&i>0,a}return await Me.rpc("commit_transaction"),{success:!0,data:r.length===1?r[0]:r}}catch(i){try{await Me.rpc("rollback_transaction")}catch(o){console.error("Transaction rollback failed:",o)}return{success:!1,error:i instanceof Ek?i:new Ek("Unknown",i)}}}class M1e{constructor(t=5*60*1e3){hr(this,"cache");hr(this,"defaultTTL");this.cache=new Map,this.defaultTTL=t}set(t,r,n){this.cache.set(t,{data:r,timestamp:Date.now()+(n??this.defaultTTL)})}get(t){const r=this.cache.get(t);if(r){if(r.timestamp<Date.now()){this.invalidate(t);return}return r.data}}invalidate(t){this.cache.delete(t)}invalidatePattern(t){this.cache.forEach((r,n)=>{t.test(n)&&this.invalidate(n)})}clear(){this.cache.clear()}}const rr=new M1e;function jD(e,t){return Me.channel(`public:${e}`).on("postgres_changes",{event:"*",schema:"public",table:e},r=>{rr.invalidatePattern(new RegExp(`^${e}`)),t(r)}).subscribe()}const ir={storage:{async uploadFile(e,t){try{const r=e.name.split(".").pop(),n=`${t}/${Date.now()}-${Math.random().toString(36).substring(2,15)}.${r}`,{data:a,error:i}=await Me.storage.from("medical-records").upload(n,e,{cacheControl:"3600",upsert:!1});if(i)throw i;const{data:{publicUrl:o}}=Me.storage.from("medical-records").getPublicUrl(a.path);return{path:a.path,url:o,name:e.name,size:e.size,type:e.type}}catch(r){throw console.error("Error uploading file:",r),r}},async deleteFile(e,t){try{const{error:r}=await Me.storage.from(t).remove([e]);if(r)throw r;return!0}catch(r){throw console.error(`Error deleting file from bucket ${t}:`,r),r}},async uploadInventoryPhoto(e,t){const r="inventory-photos";try{const n=e.name.split(".").pop(),a=`${t}/${Date.now()}-${Math.random().toString(36).substring(2,15)}.${n}`,{data:i,error:o}=await Me.storage.from(r).upload(a,e,{cacheControl:"3600",upsert:!1});if(o)throw o;const{data:{publicUrl:s}}=Me.storage.from(r).getPublicUrl(i.path);return{path:i.path,url:s,name:e.name,size:e.size,type:e.type}}catch(n){throw console.error(`Error uploading to ${r}:`,n),n}},async uploadAssetPhoto(e,t){const r="asset-photos";try{const n=e.name.split(".").pop(),a=`${t}/${Date.now()}-${Math.random().toString(36).substring(2,15)}.${n}`,{data:i,error:o}=await Me.storage.from(r).upload(a,e,{cacheControl:"3600",upsert:!1});if(o)throw o;const{data:{publicUrl:s}}=Me.storage.from(r).getPublicUrl(i.path);return{path:i.path,url:s,name:e.name,size:e.size,type:e.type}}catch(n){throw console.error(`Error uploading to ${r}:`,n),n}}},staff:{async getAll(){const e=rr.get("staff:all");if(e)return e;const{data:t,error:r}=await Me.from("staff").select("*").order("created_at",{ascending:!1});if(r)throw r;return rr.set("staff:all",t),t||[]},async getDoctors(){const e=rr.get("staff:doctors");if(e)return e;const{data:t,error:r}=await Me.from("staff").select("*").eq("role","doctor").order("created_at",{ascending:!1});if(r)throw r;return rr.set("staff:doctors",t),t||[]},async getAvailableDoctors(e,t){try{const r=new Date(e),n=new Date(t),a=r.toLocaleDateString("en-US",{weekday:"long"}).toLowerCase(),i=`${String(r.getHours()).padStart(2,"0")}:${String(r.getMinutes()).padStart(2,"0")}`,o=`${String(n.getHours()).padStart(2,"0")}:${String(n.getMinutes()).padStart(2,"0")}`,s=await ir.staff.getDoctors(),{data:l,error:u}=await Me.from("absences").select("staff_id").lt("start_time",t).gt("end_time",e);u&&console.error("Error fetching overlapping absences:",u);const d=new Set((l==null?void 0:l.map(h=>h.staff_id))||[]);return s.filter(h=>{if(d.has(h.id))return!1;try{let m=[];if(typeof h.working_hours=="string")m=JSON.parse(h.working_hours);else if(Array.isArray(h.working_hours))m=h.working_hours;else return!1;const x=m.find(y=>y.day.toLowerCase()===a);return!(!x||x.is_open===!1||!(i>=x.start&&o<=x.end))}catch(m){return console.error(`Error processing working hours for doctor ${h.id}:`,h.working_hours,m),!1}})}catch(r){return console.error("Error getting available doctors:",r),[]}},async create(e){typeof e.working_hours=="object"&&e.working_hours!==null&&(e.working_hours=JSON.stringify(e.working_hours));const{data:t,error:r}=await Me.from("staff").insert(e).select().single();if(r)throw r;return rr.invalidatePattern(/^staff/),t},async update(e,t){const{data:r,error:n}=await Me.from("staff").update(t).eq("id",e).select().single();if(n)throw n;return rr.invalidatePattern(/^staff/),r}},absences:{async getAll(){const e="absences:all",t=rr.get(e);if(t)return t;try{const{data:r,error:n}=await Me.from("absences").select("*").order("start_time",{ascending:!1});if(n)throw n;if(!r)return[];const a=await ir.staff.getAll(),i=new Map(a.map(s=>[s.id,s])),o=r.map(s=>{const l=s.staff_id?i.get(s.staff_id):null;return{...s,staff:l?{id:l.id,first_name:l.first_name,last_name:l.last_name}:null}});return rr.set(e,o),o}catch(r){throw console.error("Error in api.absences.getAll:",r),r}},async create(e){if(!e.staff_id||!e.start_time||!e.end_time)throw new Error("Missing required fields for absence creation.");if(new Date(e.end_time)<=new Date(e.start_time))throw new Error("End time must be after start time.");const{data:t,error:r}=await Me.from("absences").insert(e).select().single();if(r)throw r;if(!t)throw new Error("Absence creation returned no data");return rr.invalidate("absences:all"),t},async delete(e){const{error:t}=await Me.from("absences").delete().eq("id",e);if(t)throw t;rr.invalidate("absences:all")}},patients:{async schedulePatientCommunication(e){const{data:t,error:r}=await Me.from("patient_communications").insert(e).select().single();if(r)throw r;return rr.invalidate(`patient_communications:${e.patient_id}`),t},async getPatientCommunications(e){const t=`patient_communications:${e}`,r=rr.get(t);if(r)return r;const{data:n,error:a}=await Me.from("patient_communications").select("*").eq("patient_id",e).order("created_at",{ascending:!1});if(a)throw a;return rr.set(t,n),n||[]},async generateTreatmentPlan(e,t){var r,n;try{const[a,i]=await Promise.all([ir.patients.getMedicalRecords(e),ir.patients.getTreatmentPlans(e)]),o=[],s=[],l=await Me.auth.getSession(),u=(n=(r=l==null?void 0:l.data)==null?void 0:r.session)==null?void 0:n.access_token;if(!u)throw new Error("User not authenticated");const d=await fetch("/functions/v1/treatment-ai",{method:"POST",headers:{Authorization:`Bearer ${u}`,"Content-Type":"application/json"},body:JSON.stringify({patientId:e,currentIssue:t,medicalHistory:a,previousTreatments:i,assessments:o,diagnosticImages:s})});if(!d.ok)throw new Error("Failed to generate treatment plan");return await d.json()}catch(a){throw console.error("Error generating treatment plan:",a),a}},async getAll(){const e="patients:all",t=rr.get("patients:all");if(t)return t;const{data:r,error:n}=await Me.from("patients").select("*").order("created_at",{ascending:!1});if(n)throw n;return rr.set(e,r),r},async getById(e){const t=`patients:${e}`,r=rr.get(t);if(r)return r;const{data:n,error:a}=await Me.from("patients").select("*").eq("id",e).single();if(a&&a.code!=="PGRST116")throw a;return n&&rr.set(t,n),n},async search(e){const{data:t,error:r}=await Me.from("patients").select().or(`first_name.ilike.%${e}%,last_name.ilike.%${e}%,phone.ilike.%${e}%,registration_number.ilike.%${e}%`).order("created_at",{ascending:!1});if(r)throw r;return t},async create(e){const{data:t,error:r}=await Me.from("patients").insert(e).select().single();if(r)throw r;return rr.invalidatePattern(/^patients/),t},async update(e,t){const{data:r,error:n}=await Me.from("patients").update(t).eq("id",e).select().single();if(n)throw n;return rr.invalidate(`patients:${e}`),rr.invalidate("patients:all"),r},async getMedicalRecords(e){const t=e?`medical_records:${e}`:"medical_records:all",r=rr.get(t);if(r)return r;let n=Me.from("medical_records").select(`
          *,
          staff:created_by ( first_name, last_name ),
          medical_record_teeth (
            teeth ( id, description )
          )
        `).order("record_date",{ascending:!1});e&&(n=n.eq("patient_id",e));const{data:a,error:i}=await n;if(i)throw i;rr.set(t,a);const o=(a==null?void 0:a.map(s=>{const l=Array.isArray(s.medical_record_teeth)?s.medical_record_teeth.map(d=>d.teeth).filter(d=>d!==null):[],u={...s};return delete u.medical_record_teeth,u.teeth=l,u}))||[];return console.log("API getMedicalRecords processedData:",o),o},async getTreatmentPlans(e=null){let t=Me.from("treatment_plans").select(`
          *,
          treatments (*),
          metadata:treatment_plan_metadata(*),
          visits:treatment_visits(*),
          teeth:treatment_plan_teeth(
            tooth_id
          )
        `).order("created_at",{ascending:!1});e&&(t=t.eq("patient_id",e));const{data:r,error:n}=await t;if(n)throw console.error("Error fetching treatment plans:",n),n;return r},async createMedicalRecord(e,t){const n={...e,record_type:(s=>{switch(s){case"consultation":return"examination";case"diagnosis":return"examination";case"treatment":return"procedure";case"prescription":return"prescription";case"lab_result":return"lab_result";case"other":return"note";default:return"note"}})(e.record_type)};console.log("API inserting mapped record:",n);const{data:a,error:i}=await Me.from("medical_records").insert(n).select().single();if(i)throw console.error("Error creating medical record:",i),i;if(!a)throw new Error("Failed to create medical record: No data returned.");const o=a.id;if(t&&t.length>0){const s=t.map(u=>({medical_record_id:o,tooth_id:u})),{error:l}=await Me.from("medical_record_teeth").insert(s);if(l)throw console.error("Error linking teeth to medical record:",l),l}return e.patient_id&&rr.invalidate(`medical_records:${e.patient_id}`),rr.invalidate("medical_records:all"),a},async updateMedicalRecord(e,t){const{data:r,error:n}=await Me.from("medical_records").update(t).eq("id",e).select().single();if(n)throw n;return rr.invalidate(`medical_records:${t.patient_id}`),rr.invalidate("medical_records:all"),r},async deleteMedicalRecord(e){const{data:t}=await Me.from("medical_records").select("patient_id").eq("id",e).single(),{error:r}=await Me.from("medical_records").delete().eq("id",e);if(r)throw r;t&&rr.invalidate(`medical_records:${t.patient_id}`),rr.invalidate("medical_records:all")},async getPatientDentalHistoryTeeth(e){if(!e)return console.warn("getPatientDentalHistoryTeeth called without patientId"),[];const t=`patient_dental_history_teeth:${e}`,r=rr.get(t);if(r)return r;const{data:n,error:a}=await Me.from("patient_dental_history_teeth").select("tooth_id, conditions").eq("patient_id",e);if(a)throw console.error(`Error fetching dental history teeth for patient ${e}:`,a),a;const i=n||[];return rr.set(t,i,60*1e3),console.log(`Fetched dental history teeth list for patient ${e}:`,JSON.stringify(i)),i},async savePatientDentalHistoryTeethWithConditions(e,t){if(!e)throw new Error("Patient ID is required to save dental history teeth with conditions.");console.log(`Saving dental history teeth map (with conditions) for patient ${e}:`,JSON.stringify(t));const r=Object.keys(t).map(Number),n=Me.from("patient_dental_history_teeth").delete().eq("patient_id",e);r.length>0&&n.not("tooth_id","in",`(${r.join(",")})`);const{error:a}=await n;if(a)throw console.error(`Error deleting old dental history teeth (with conditions) for patient ${e}:`,a),a;if(console.log(`Deleted stale dental history teeth (with conditions) for patient ${e}.`),r.length>0){const i=r.map(s=>{var l;return{patient_id:e,tooth_id:s,conditions:(l=t[s])!=null&&l.conditions&&Array.isArray(t[s].conditions)?t[s].conditions:["healthy"]}}),{error:o}=await Me.from("patient_dental_history_teeth").upsert(i,{onConflict:"patient_id, tooth_id"});if(o)throw console.error(`Error upserting dental history teeth (with conditions) for patient ${e}:`,o),o;console.log(`Upserted dental history teeth (with conditions) for patient ${e}.`)}else console.log(`No dental history teeth in map for patient ${e}, only performed delete (with conditions).`);return rr.invalidate(`patient_dental_history_teeth:${e}`),{success:!0}},async getPatientDentalHistoryTeethMap(e){if(!e)return console.warn("getPatientDentalHistoryTeethMap called without patientId"),{};const{data:t,error:r}=await Me.from("patient_dental_history_teeth").select("tooth_id, conditions").eq("patient_id",e);if(r)throw console.error(`Error fetching dental history teeth map for patient ${e}:`,r),r;const n={};return t&&t.forEach(a=>{const i=Array.isArray(a.conditions)&&a.conditions.length>0?a.conditions:["healthy"];n[a.tooth_id]={conditions:i}}),console.log(`Fetched and formatted dental history teeth map for patient ${e}:`,JSON.stringify(n)),n},async getPatientToothConditions(e){if(!e)return console.warn("getPatientToothConditions called without patientId"),[];const t=`patient_tooth_conditions:${e}`,r=rr.get(t);if(r)return r;const{data:n,error:a}=await Me.from("patient_tooth_conditions").select("*").eq("patient_id",e);if(a)throw console.error(`Error fetching tooth conditions for patient ${e}:`,a),a;const i=n||[];return rr.set(t,i,60*1e3),i},async savePatientToothConditionsDetailed(e,t){if(!e)throw new Error("Patient ID is required for savePatientToothConditionsDetailed.");if(!Array.isArray(t))throw new Error("Invalid conditions input: must be an array.");console.log(`Executing savePatientToothConditionsDetailed for patient ${e} with conditions:`,t);const n=await pL([async()=>{console.log(`Transaction Step 1: Deleting existing conditions for patient ${e}`);const{error:a}=await Me.from("patient_tooth_conditions").delete().eq("patient_id",e);if(a)throw console.error(`Transaction Step 1 FAILED: Error deleting conditions for patient ${e}:`,a),a;return console.log(`Transaction Step 1 SUCCESS: Deleted existing conditions for patient ${e}`),!0},async()=>{if(t.length===0)return console.log(`Transaction Step 2: No new conditions to insert for patient ${e}. Skipping insert.`),[];const a=t.map(s=>({...s,patient_id:e}));console.log(`Transaction Step 2: Inserting ${a.length} new conditions for patient ${e}:`,a);const{data:i,error:o}=await Me.from("patient_tooth_conditions").insert(a).select();if(o)throw console.error(`Transaction Step 2 FAILED: Error inserting conditions for patient ${e}:`,o),o;return console.log(`Transaction Step 2 SUCCESS: Inserted conditions for patient ${e}. Result:`,i),i||[]}]);if(n.success)return console.log(`Transaction successful for patient ${e}.`),rr.invalidate(`patient_tooth_conditions:${e}`),{success:!0,data:n.data?n.data[1]:[]};throw console.error(`Transaction failed for patient ${e}:`,n.error),n.error||new Error("Unknown transaction error saving tooth conditions.")},async createTreatmentPlan(e,t){const{data:r,error:n}=await Me.from("treatment_plans").insert(e).select().single();if(n)return console.error("Error creating treatment plan:",n),{error:n};if(!r)return{error:new Error("Failed to create treatment plan: No data returned.")};if(t&&t.length>0){const a=t.map(o=>({treatment_plan_id:r.id,tooth_id:o})),{error:i}=await Me.from("treatment_plan_teeth").insert(a);if(i)return console.error("Error linking teeth to treatment plan:",i),{error:i}}return{data:r,error:null}},async createTreatmentPlanMetadata(e){const{data:t,error:r}=await Me.from("treatment_plan_metadata").insert(e).select().single();return{data:t,error:r}},async createTreatmentVisit(e){const t={...e,scheduled_date:e.scheduled_date?e.scheduled_date.toISOString().split("T")[0]:null},{data:r,error:n}=await Me.from("treatment_visits").insert([t]).select().single();if(n)throw n;return r},async createTreatmentVisitsBatch(e){const{data:t,error:r}=await Me.from("treatment_visits").insert(e).select();return r?(console.error("Error in createTreatmentVisitsBatch:",r),{data:null,error:r}):{data:t,error:null}},async getTreatmentPlanDetails(e){const{data:t,error:r}=await Me.from("treatment_plans").select(`
          *,
          metadata:treatment_plan_metadata(*),
          visits:treatment_visits(*),
          teeth:treatment_plan_teeth(
            tooth_id
          )
        `).eq("id",e).single();return r?(console.error("Error fetching treatment plan details:",r),{error:r}):{data:t,error:null}},async updateTreatmentPlan(e,t){const{data:r,error:n}=await Me.from("treatment_plans").update(t).eq("id",e).select().single();if(n)throw n;return rr.invalidatePattern(/^treatment_plans/),r},async deleteTreatmentPlan(e){const{data:t}=await Me.from("treatment_plans").select("patient_id").eq("id",e).single(),{error:r}=await Me.from("treatment_plans").delete().eq("id",e);if(r)throw r;t&&rr.invalidate(`treatment_plans:${t.patient_id}`),rr.invalidate("treatment_plans:all")},async createTreatmentPlanWithTreatments(e,t){const r=[async()=>{const{data:a,error:i}=await Me.from("treatment_plans").insert(e).select().single();if(i)throw i;if(!a)throw new Error("Treatment plan creation returned no data");return a},async a=>{if(!a||!a.id)throw new Error("Failed to get ID from created treatment plan");const i=t.map(l=>({...l,plan_id:a.id}));if(i.length===0)return[];const{data:o,error:s}=await Me.from("treatments").insert(i).select();if(s)throw s;if(!o)throw new Error("Treatment creation returned no data");return o}],n=await pL([()=>r[0](),()=>r[1]({})]);if(n.success&&n.data){const a=n.data[0];a&&a.patient_id&&(rr.invalidate(`treatment_plans:${a.patient_id}`),rr.invalidate("treatment_plans:all"))}return n},async createTreatment(e){const{data:t,error:r}=await Me.from("treatments").insert(e).select().single();if(r)throw r;return rr.invalidatePattern(/^treatment_plans/),t},async updateTreatment(e,t){const{data:r,error:n}=await Me.from("treatments").update(t).eq("id",e).select().single();if(n)throw n;return rr.invalidatePattern(/^treatment_plans/),r},async deleteTreatment(e){const{error:t}=await Me.from("treatments").delete().eq("id",e);if(t)throw t;rr.invalidatePattern(/^treatment_plans/)},async uploadProfilePhoto(e,t){try{const r=await ir.storage.uploadFile(e,t);return await ir.patients.update(t,{profile_photo_url:r.url}),r}catch(r){throw console.error("Error uploading profile photo:",r),r}},async uploadSignature(e,t){try{const r=await ir.storage.uploadFile(e,t);return await ir.patients.update(t,{signature_url:r.url}),r}catch(r){throw console.error("Error uploading signature:",r),r}},async addDocument(e,t,r,n=""){try{const a=await ir.storage.uploadFile(e,t),i=await ir.patients.getById(t);if(!i)throw new Error("Patient not found");const o=Array.isArray(i.documents)?i.documents:[];return o.push({...a,docType:r,notes:n,dateAdded:new Date().toISOString()}),await ir.patients.update(t,{documents:o}),a}catch(a){throw console.error("Error adding document:",a),a}},async removeDocument(e,t){try{const r=await ir.patients.getById(e);if(!r)throw new Error("Patient not found");const n=(Array.isArray(r.documents)?r.documents:[]).filter(a=>a.path!==t);return await ir.patients.update(e,{documents:n}),await ir.storage.deleteFile(t,"medical-records"),!0}catch(r){throw console.error("Error removing document:",r),r}}},inventory:{async getAll(){const e="inventory:all",t=rr.get(e);if(t)return t;const{data:r,error:n}=await Me.from("inventory_items").select("*").order("created_at",{ascending:!1});if(n)throw n;return rr.set(e,r||[]),r||[]},async getById(e){const t=`inventory:${e}`,r=rr.get(t);if(r)return r;const{data:n,error:a}=await Me.from("inventory_items").select("*").eq("id",e).single();if(a&&a.code!=="PGRST116")throw a;return n&&rr.set(t,n),n},async create(e){const{data:t,error:r}=await Me.from("inventory_items").insert(e).select().single();if(r)throw r;return rr.invalidatePattern(/^inventory/),t},async update(e,t){const{data:r,error:n}=await Me.from("inventory_items").update(t).eq("id",e).select().single();if(n)throw n;return rr.invalidate(`inventory:${e}`),rr.invalidate("inventory:all"),r},async delete(e){const t=await ir.inventory.getById(e);if(t!=null&&t.photo_url)try{const a=new URL(t.photo_url).pathname.split("/inventory-photos/")[1];a&&await ir.storage.deleteFile(a,"inventory-photos")}catch(n){console.error("Error parsing/deleting inventory photo URL:",n)}const{error:r}=await Me.from("inventory_items").delete().eq("id",e);if(r)throw r;rr.invalidate(`inventory:${e}`),rr.invalidate("inventory:all")},async uploadPhoto(e,t){const r=await ir.storage.uploadInventoryPhoto(e,t);return await ir.inventory.update(t,{photo_url:r.url}),r}},assets:{async getAll(){const e="assets:all",t=rr.get(e);if(t)return t;const{data:r,error:n}=await Me.from("assets").select("*").order("created_at",{ascending:!1});if(n)throw n;return rr.set(e,r||[]),r||[]},async getById(e){const t=`assets:${e}`,r=rr.get(t);if(r)return r;const{data:n,error:a}=await Me.from("assets").select("*").eq("id",e).single();if(a&&a.code!=="PGRST116")throw a;return n&&rr.set(t,n),n},async create(e){const{data:t,error:r}=await Me.from("assets").insert(e).select().single();if(r)throw r;return rr.invalidatePattern(/^assets/),t},async update(e,t){const{data:r,error:n}=await Me.from("assets").update(t).eq("id",e).select().single();if(n)throw n;return rr.invalidate(`assets:${e}`),rr.invalidate("assets:all"),r},async delete(e){const t=await ir.assets.getById(e);if(t!=null&&t.photo_url)try{const a=new URL(t.photo_url).pathname.split("/asset-photos/")[1];a&&await ir.storage.deleteFile(a,"asset-photos")}catch(n){console.error("Error parsing/deleting asset photo URL:",n)}const{error:r}=await Me.from("assets").delete().eq("id",e);if(r)throw r;rr.invalidate(`assets:${e}`),rr.invalidate("assets:all")},async uploadPhoto(e,t){const r=await ir.storage.uploadAssetPhoto(e,t);return await ir.assets.update(t,{photo_url:r.url}),r}},communications:{async schedule(e){var t,r;try{const n=await Me.auth.getSession(),a=(r=(t=n==null?void 0:n.data)==null?void 0:t.session)==null?void 0:r.access_token;a||console.warn("No access token found for scheduling communication.");const i=await fetch("/functions/v1/patient-communication",{method:"POST",headers:{"Content-Type":"application/json",...a?{Authorization:`Bearer ${a}`}:{}},body:JSON.stringify(e)});if(!i.ok){const s=await i.json();throw new Error(s.error||`Failed to schedule communication: ${i.statusText}`)}const o=await i.json();return console.log("Communication scheduled successfully:",o),o}catch(n){throw console.error("Error scheduling communication:",n),n}},async cancelByAppointment(e){var t,r;try{const n=await Me.auth.getSession(),a=(r=(t=n==null?void 0:n.data)==null?void 0:t.session)==null?void 0:r.access_token;a||console.warn("No access token found for cancelling communication.");const i=await fetch("/functions/v1/patient-communication/cancel-by-appointment",{method:"POST",headers:{"Content-Type":"application/json",...a?{Authorization:`Bearer ${a}`}:{}},body:JSON.stringify({appointmentId:e})});if(!i.ok){const s=await i.json();throw new Error(s.error||`Failed to cancel communications: ${i.statusText}`)}const o=await i.json();return console.log(`Communications cancellation requested for appointment ${e}:`,o),o}catch(n){throw console.error(`Error cancelling communications for appointment ${e}:`,n),n}}},appointments:{async getAll(){const e="appointments:all",t=rr.get("appointments:all");if(t)return t;const{data:r,error:n}=await Me.from("appointments").select(`
          *,
          patients (id, first_name, last_name, email, phone),
          staff (id, first_name, last_name, role) 
        `).order("start_time",{ascending:!0});if(n)throw n;return rr.set(e,r),r||[]},async getByDateRange(e,t){const r=`appointments:range:${e}:${t}`,n=rr.get("appointments:range");if(n)return n;const{data:a,error:i}=await Me.from("appointments").select(`
         *,
         patients (id, first_name, last_name, email, phone),
         staff (id, first_name, last_name, role, specialization)
       `).gte("start_time",e).lte("start_time",t).order("start_time",{ascending:!0});if(i)throw i;return rr.set(r,a,60*1e3),a||[]},async getByPatientId(e){const t=`appointments:patient:${e}`,r=rr.get(t);if(r)return r;const{data:n,error:a}=await Me.from("appointments").select(`
          *,
          patients (id, first_name, last_name),
          staff (id, first_name, last_name)
        `).eq("patient_id",e).order("start_time",{ascending:!1});if(a)throw a;return rr.set(t,n||[],60*1e3),n||[]},async create(e){const{data:t,error:r}=await Me.from("appointments").insert(e).select().single();if(r)throw r;return rr.invalidatePattern(/^appointments/),t},async update(e,t){const{data:r,error:n}=await Me.from("appointments").update(t).eq("id",e).select().single();if(n)throw n;return rr.invalidatePattern(/^appointments/),r},async cancel(e){const{data:t,error:r}=await Me.from("appointments").update({status:"cancelled"}).eq("id",e).select().single();if(r)throw r;return rr.invalidatePattern(/^appointments/),t}},settings:{async get(){const e="clinic_settings",t=rr.get(e);if(t)return t;const{data:r,error:n}=await Me.from("clinic_settings").select().order("created_at",{ascending:!1}).limit(1);if(n&&n.code!=="PGRST116")throw n;const a=(r==null?void 0:r[0])||{id:"",name:"DentalCare Pro",address:"123 Healthcare Avenue",phone:"+1234567890",email:"info@dentalcarepro.com",website:"https://dentalcarepro.com",working_hours:[{day:"monday",start:"09:00",end:"17:00",is_open:!0},{day:"tuesday",start:"09:00",end:"17:00",is_open:!0},{day:"wednesday",start:"09:00",end:"17:00",is_open:!0},{day:"thursday",start:"09:00",end:"17:00",is_open:!0},{day:"friday",start:"09:00",end:"17:00",is_open:!0},{day:"saturday",start:"10:00",end:"14:00",is_open:!1},{day:"sunday",start:"10:00",end:"14:00",is_open:!1}],notification_preferences:{reminder_time:"24h",system_updates:!0,sms_notifications:!0,email_notifications:!0,appointment_reminders:!0},created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return rr.set(e,a),a},async update(e){if(!e.id){const i={...e,name:e.name||"Default Clinic Name"},{data:o,error:s}=await Me.from("clinic_settings").insert(i).select().single();if(s)throw s;return rr.invalidate("clinic_settings"),o}const{id:t,...r}=e,{data:n,error:a}=await Me.from("clinic_settings").update(r).eq("id",t).select().single();if(a)throw a;return rr.invalidate("clinic_settings"),n}},async getTreatmentMatrixOptions(){const e="treatmentMatrixOptionsPairs",t=rr.get(e);if(t)return t;try{const{data:r,error:n}=await Me.from("ai_treatment_planning_matrix").select("domain, condition").not("domain","is",null).not("condition","is",null);if(n)throw n;const a=r?Array.from(new Map(r.map(o=>[`${o.domain}-${o.condition}`,o])).values()):[];a.sort((o,s)=>o.domain<s.domain?-1:o.domain>s.domain?1:o.condition<s.condition?-1:o.condition>s.condition?1:0);const i=a;return rr.set(e,i,60*60*1e3),i}catch(r){return console.error("Error fetching treatment matrix options pairs:",r),[]}},async getMatrixDetails(e,t){const r=`matrixDetails:${e}:${t}`,n=rr.get(r);if(n!==void 0)return n;try{const{data:a,error:i}=await Me.from("ai_treatment_planning_matrix").select("*").eq("domain",e).eq("condition",t).limit(1).maybeSingle();if(i&&i.code!=="PGRST116")throw i;return rr.set(r,a,5*60*1e3),a}catch(a){return console.error(`Error fetching matrix details for ${e}/${t}:`,a),null}}};function Ca({heading:e,text:t,children:r,className:n}){return w("div",{className:It("grid gap-1",n),children:[c("h1",{className:"text-2xl font-semibold tracking-tight",children:e}),t&&c("p",{className:"text-muted-foreground",children:t}),r]})}function y6(e,[t,r]){return Math.min(r,Math.max(t,e))}function F4(e){const t=A.useRef({value:e,previous:e});return A.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var GY=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),F1e="VisuallyHidden",L4=A.forwardRef((e,t)=>c(pr.span,{...e,ref:t,style:{...GY,...e.style}}));L4.displayName=F1e;var L1e=L4,j1e=[" ","Enter","ArrowUp","ArrowDown"],$1e=[" ","Enter"],Gm="Select",[j4,$4,B1e]=Ew(Gm),[sy,EJe]=Xi(Gm,[B1e,S0]),B4=S0(),[U1e,k0]=sy(Gm),[q1e,z1e]=sy(Gm),KY=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:s,onValueChange:l,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:x}=e,g=B4(t),[y,_]=A.useState(null),[b,S]=A.useState(null),[C,E]=A.useState(!1),D=mg(u),[T,I]=ll({prop:n,defaultProp:a??!1,onChange:i,caller:Gm}),[L,B]=ll({prop:o,defaultProp:s,onChange:l,caller:Gm}),P=A.useRef(null),O=y?x||!!y.closest("form"):!0,[j,G]=A.useState(new Set),Y=Array.from(j).map(re=>re.props.value).join(";");return c(b4,{...g,children:w(U1e,{required:m,scope:t,trigger:y,onTriggerChange:_,valueNode:b,onValueNodeChange:S,valueNodeHasChildren:C,onValueNodeHasChildrenChange:E,contentId:Dl(),value:L,onValueChange:B,open:T,onOpenChange:I,dir:D,triggerPointerDownPosRef:P,disabled:h,children:[c(j4.Provider,{scope:t,children:c(q1e,{scope:e.__scopeSelect,onNativeOptionAdd:A.useCallback(re=>{G(q=>new Set(q).add(re))},[]),onNativeOptionRemove:A.useCallback(re=>{G(q=>{const K=new Set(q);return K.delete(re),K})},[]),children:r})}),O?w(yX,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:L,onChange:re=>B(re.target.value),disabled:h,form:x,children:[L===void 0?c("option",{value:""}):null,Array.from(j)]},Y):null]})})};KY.displayName=Gm;var YY="SelectTrigger",XY=A.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=B4(r),o=k0(YY,r),s=o.disabled||n,l=Hr(t,o.onTriggerChange),u=$4(r),d=A.useRef("touch"),[f,h,m]=wX(g=>{const y=u().filter(S=>!S.disabled),_=y.find(S=>S.value===o.value),b=_X(y,g,_);b!==void 0&&o.onValueChange(b.value)}),x=g=>{s||(o.onOpenChange(!0),m()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return c(Pw,{asChild:!0,...i,children:c(pr.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":xX(o.value)?"":void 0,...a,ref:l,onClick:Ut(a.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&x(g)}),onPointerDown:Ut(a.onPointerDown,g=>{d.current=g.pointerType;const y=g.target;y.hasPointerCapture(g.pointerId)&&y.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(x(g),g.preventDefault())}),onKeyDown:Ut(a.onKeyDown,g=>{const y=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(y&&g.key===" ")&&j1e.includes(g.key)&&(x(),g.preventDefault())})})})});XY.displayName=YY;var ZY="SelectValue",JY=A.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...s}=e,l=k0(ZY,r),{onValueNodeHasChildrenChange:u}=l,d=i!==void 0,f=Hr(t,l.onValueNodeChange);return ii(()=>{u(d)},[u,d]),c(pr.span,{...s,ref:f,style:{pointerEvents:"none"},children:xX(l.value)?c(Dr,{children:o}):i})});JY.displayName=ZY;var W1e="SelectIcon",QY=A.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return c(pr.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});QY.displayName=W1e;var H1e="SelectPortal",eX=e=>c(ay,{asChild:!0,...e});eX.displayName=H1e;var Km="SelectContent",tX=A.forwardRef((e,t)=>{const r=k0(Km,e.__scopeSelect),[n,a]=A.useState();if(ii(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?J1.createPortal(c(rX,{scope:e.__scopeSelect,children:c(j4.Slot,{scope:e.__scopeSelect,children:c("div",{children:e.children})})}),i):null}return c(nX,{...e,ref:t})});tX.displayName=Km;var Ou=10,[rX,N0]=sy(Km),V1e="SelectContentImpl",G1e=i0("SelectContent.RemoveScroll"),nX=A.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:s,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:x,hideWhenDetached:g,avoidCollisions:y,..._}=e,b=k0(Km,r),[S,C]=A.useState(null),[E,D]=A.useState(null),T=Hr(t,le=>C(le)),[I,L]=A.useState(null),[B,P]=A.useState(null),O=$4(r),[j,G]=A.useState(!1),Y=A.useRef(!1);A.useEffect(()=>{if(S)return k4(S)},[S]),v4();const re=A.useCallback(le=>{const[pe,...J]=O().map(ae=>ae.ref.current),[me]=J.slice(-1),ve=document.activeElement;for(const ae of le)if(ae===ve||(ae==null||ae.scrollIntoView({block:"nearest"}),ae===pe&&E&&(E.scrollTop=0),ae===me&&E&&(E.scrollTop=E.scrollHeight),ae==null||ae.focus(),document.activeElement!==ve))return},[O,E]),q=A.useCallback(()=>re([I,S]),[re,I,S]);A.useEffect(()=>{j&&q()},[j,q]);const{onOpenChange:K,triggerPointerDownPosRef:z}=b;A.useEffect(()=>{if(S){let le={x:0,y:0};const pe=me=>{var ve,ae;le={x:Math.abs(Math.round(me.pageX)-(((ve=z.current)==null?void 0:ve.x)??0)),y:Math.abs(Math.round(me.pageY)-(((ae=z.current)==null?void 0:ae.y)??0))}},J=me=>{le.x<=10&&le.y<=10?me.preventDefault():S.contains(me.target)||K(!1),document.removeEventListener("pointermove",pe),z.current=null};return z.current!==null&&(document.addEventListener("pointermove",pe),document.addEventListener("pointerup",J,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",pe),document.removeEventListener("pointerup",J,{capture:!0})}}},[S,K,z]),A.useEffect(()=>{const le=()=>K(!1);return window.addEventListener("blur",le),window.addEventListener("resize",le),()=>{window.removeEventListener("blur",le),window.removeEventListener("resize",le)}},[K]);const[te,Q]=wX(le=>{const pe=O().filter(ve=>!ve.disabled),J=pe.find(ve=>ve.ref.current===document.activeElement),me=_X(pe,le,J);me&&setTimeout(()=>me.ref.current.focus())}),R=A.useCallback((le,pe,J)=>{const me=!Y.current&&!J;(b.value!==void 0&&b.value===pe||me)&&(L(le),me&&(Y.current=!0))},[b.value]),H=A.useCallback(()=>S==null?void 0:S.focus(),[S]),X=A.useCallback((le,pe,J)=>{const me=!Y.current&&!J;(b.value!==void 0&&b.value===pe||me)&&P(le)},[b.value]),Z=n==="popper"?x6:aX,ie=Z===x6?{side:s,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:x,hideWhenDetached:g,avoidCollisions:y}:{};return c(rX,{scope:r,content:S,viewport:E,onViewportChange:D,itemRefCallback:R,selectedItem:I,onItemLeave:H,itemTextRefCallback:X,focusSelectedItem:q,selectedItemText:B,position:n,isPositioned:j,searchRef:te,children:c(Dw,{as:G1e,allowPinchZoom:!0,children:c(Cw,{asChild:!0,trapped:b.open,onMountAutoFocus:le=>{le.preventDefault()},onUnmountAutoFocus:Ut(a,le=>{var pe;(pe=b.trigger)==null||pe.focus({preventScroll:!0}),le.preventDefault()}),children:c(gg,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:le=>le.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:c(Z,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:le=>le.preventDefault(),..._,...ie,onPlaced:()=>G(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:Ut(_.onKeyDown,le=>{const pe=le.ctrlKey||le.altKey||le.metaKey;if(le.key==="Tab"&&le.preventDefault(),!pe&&le.key.length===1&&Q(le.key),["ArrowUp","ArrowDown","Home","End"].includes(le.key)){let me=O().filter(ve=>!ve.disabled).map(ve=>ve.ref.current);if(["ArrowUp","End"].includes(le.key)&&(me=me.slice().reverse()),["ArrowUp","ArrowDown"].includes(le.key)){const ve=le.target,ae=me.indexOf(ve);me=me.slice(ae+1)}setTimeout(()=>re(me)),le.preventDefault()}})})})})})})});nX.displayName=V1e;var K1e="SelectItemAlignedPosition",aX=A.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=k0(Km,r),o=N0(Km,r),[s,l]=A.useState(null),[u,d]=A.useState(null),f=Hr(t,T=>d(T)),h=$4(r),m=A.useRef(!1),x=A.useRef(!0),{viewport:g,selectedItem:y,selectedItemText:_,focusSelectedItem:b}=o,S=A.useCallback(()=>{if(i.trigger&&i.valueNode&&s&&u&&g&&y&&_){const T=i.trigger.getBoundingClientRect(),I=u.getBoundingClientRect(),L=i.valueNode.getBoundingClientRect(),B=_.getBoundingClientRect();if(i.dir!=="rtl"){const ve=B.left-I.left,ae=L.left-ve,Ue=T.left-ae,He=T.width+Ue,Ie=Math.max(He,I.width),he=window.innerWidth-Ou,Ze=y6(ae,[Ou,Math.max(Ou,he-Ie)]);s.style.minWidth=He+"px",s.style.left=Ze+"px"}else{const ve=I.right-B.right,ae=window.innerWidth-L.right-ve,Ue=window.innerWidth-T.right-ae,He=T.width+Ue,Ie=Math.max(He,I.width),he=window.innerWidth-Ou,Ze=y6(ae,[Ou,Math.max(Ou,he-Ie)]);s.style.minWidth=He+"px",s.style.right=Ze+"px"}const P=h(),O=window.innerHeight-Ou*2,j=g.scrollHeight,G=window.getComputedStyle(u),Y=parseInt(G.borderTopWidth,10),re=parseInt(G.paddingTop,10),q=parseInt(G.borderBottomWidth,10),K=parseInt(G.paddingBottom,10),z=Y+re+j+K+q,te=Math.min(y.offsetHeight*5,z),Q=window.getComputedStyle(g),R=parseInt(Q.paddingTop,10),H=parseInt(Q.paddingBottom,10),X=T.top+T.height/2-Ou,Z=O-X,ie=y.offsetHeight/2,le=y.offsetTop+ie,pe=Y+re+le,J=z-pe;if(pe<=X){const ve=P.length>0&&y===P[P.length-1].ref.current;s.style.bottom="0px";const ae=u.clientHeight-g.offsetTop-g.offsetHeight,Ue=Math.max(Z,ie+(ve?H:0)+ae+q),He=pe+Ue;s.style.height=He+"px"}else{const ve=P.length>0&&y===P[0].ref.current;s.style.top="0px";const Ue=Math.max(X,Y+g.offsetTop+(ve?R:0)+ie)+J;s.style.height=Ue+"px",g.scrollTop=pe-X+g.offsetTop}s.style.margin=`${Ou}px 0`,s.style.minHeight=te+"px",s.style.maxHeight=O+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[h,i.trigger,i.valueNode,s,u,g,y,_,i.dir,n]);ii(()=>S(),[S]);const[C,E]=A.useState();ii(()=>{u&&E(window.getComputedStyle(u).zIndex)},[u]);const D=A.useCallback(T=>{T&&x.current===!0&&(S(),b==null||b(),x.current=!1)},[S,b]);return c(X1e,{scope:r,contentWrapper:s,shouldExpandOnScrollRef:m,onScrollButtonChange:D,children:c("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:c(pr.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});aX.displayName=K1e;var Y1e="SelectPopperPosition",x6=A.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Ou,...i}=e,o=B4(r);return c(S4,{...o,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});x6.displayName=Y1e;var[X1e,$D]=sy(Km,{}),w6="SelectViewport",iX=A.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=N0(w6,r),o=$D(w6,r),s=Hr(t,i.onViewportChange),l=A.useRef(0);return w(Dr,{children:[c("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),c(j4.Slot,{scope:r,children:c(pr.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:s,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Ut(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const m=Math.abs(l.current-d.scrollTop);if(m>0){const x=window.innerHeight-Ou*2,g=parseFloat(f.style.minHeight),y=parseFloat(f.style.height),_=Math.max(g,y);if(_<x){const b=_+m,S=Math.min(x,b),C=b-S;f.style.height=S+"px",f.style.bottom==="0px"&&(d.scrollTop=C>0?C:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});iX.displayName=w6;var oX="SelectGroup",[Z1e,J1e]=sy(oX),Q1e=A.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Dl();return c(Z1e,{scope:r,id:a,children:c(pr.div,{role:"group","aria-labelledby":a,...n,ref:t})})});Q1e.displayName=oX;var sX="SelectLabel",lX=A.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=J1e(sX,r);return c(pr.div,{id:a.id,...n,ref:t})});lX.displayName=sX;var b5="SelectItem",[eye,cX]=sy(b5),uX=A.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=e,s=k0(b5,r),l=N0(b5,r),u=s.value===n,[d,f]=A.useState(i??""),[h,m]=A.useState(!1),x=Hr(t,b=>{var S;return(S=l.itemRefCallback)==null?void 0:S.call(l,b,n,a)}),g=Dl(),y=A.useRef("touch"),_=()=>{a||(s.onValueChange(n),s.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c(eye,{scope:r,value:n,disabled:a,textId:g,isSelected:u,onItemTextChange:A.useCallback(b=>{f(S=>S||((b==null?void 0:b.textContent)??"").trim())},[]),children:c(j4.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:c(pr.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:x,onFocus:Ut(o.onFocus,()=>m(!0)),onBlur:Ut(o.onBlur,()=>m(!1)),onClick:Ut(o.onClick,()=>{y.current!=="mouse"&&_()}),onPointerUp:Ut(o.onPointerUp,()=>{y.current==="mouse"&&_()}),onPointerDown:Ut(o.onPointerDown,b=>{y.current=b.pointerType}),onPointerMove:Ut(o.onPointerMove,b=>{var S;y.current=b.pointerType,a?(S=l.onItemLeave)==null||S.call(l):y.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ut(o.onPointerLeave,b=>{var S;b.currentTarget===document.activeElement&&((S=l.onItemLeave)==null||S.call(l))}),onKeyDown:Ut(o.onKeyDown,b=>{var C;((C=l.searchRef)==null?void 0:C.current)!==""&&b.key===" "||($1e.includes(b.key)&&_(),b.key===" "&&b.preventDefault())})})})})});uX.displayName=b5;var g2="SelectItemText",dX=A.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,o=k0(g2,r),s=N0(g2,r),l=cX(g2,r),u=z1e(g2,r),[d,f]=A.useState(null),h=Hr(t,_=>f(_),l.onItemTextChange,_=>{var b;return(b=s.itemTextRefCallback)==null?void 0:b.call(s,_,l.value,l.disabled)}),m=d==null?void 0:d.textContent,x=A.useMemo(()=>c("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:y}=u;return ii(()=>(g(x),()=>y(x)),[g,y,x]),w(Dr,{children:[c(pr.span,{id:l.textId,...i,ref:h}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?J1.createPortal(i.children,o.valueNode):null]})});dX.displayName=g2;var fX="SelectItemIndicator",hX=A.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return cX(fX,r).isSelected?c(pr.span,{"aria-hidden":!0,...n,ref:t}):null});hX.displayName=fX;var _6="SelectScrollUpButton",pX=A.forwardRef((e,t)=>{const r=N0(_6,e.__scopeSelect),n=$D(_6,e.__scopeSelect),[a,i]=A.useState(!1),o=Hr(t,n.onScrollButtonChange);return ii(()=>{if(r.viewport&&r.isPositioned){let s=function(){const u=l.scrollTop>0;i(u)};const l=r.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[r.viewport,r.isPositioned]),a?c(gX,{...e,ref:o,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=r;s&&l&&(s.scrollTop=s.scrollTop-l.offsetHeight)}}):null});pX.displayName=_6;var b6="SelectScrollDownButton",mX=A.forwardRef((e,t)=>{const r=N0(b6,e.__scopeSelect),n=$D(b6,e.__scopeSelect),[a,i]=A.useState(!1),o=Hr(t,n.onScrollButtonChange);return ii(()=>{if(r.viewport&&r.isPositioned){let s=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;i(d)};const l=r.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[r.viewport,r.isPositioned]),a?c(gX,{...e,ref:o,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=r;s&&l&&(s.scrollTop=s.scrollTop+l.offsetHeight)}}):null});mX.displayName=b6;var gX=A.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=N0("SelectScrollButton",r),o=A.useRef(null),s=$4(r),l=A.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return A.useEffect(()=>()=>l(),[l]),ii(()=>{var d;const u=s().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[s]),c(pr.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:Ut(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Ut(a.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Ut(a.onPointerLeave,()=>{l()})})}),tye="SelectSeparator",vX=A.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return c(pr.div,{"aria-hidden":!0,...n,ref:t})});vX.displayName=tye;var S6="SelectArrow",rye=A.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=B4(r),i=k0(S6,r),o=N0(S6,r);return i.open&&o.position==="popper"?c(A4,{...a,...n,ref:t}):null});rye.displayName=S6;var nye="SelectBubbleInput",yX=A.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=A.useRef(null),i=Hr(n,a),o=F4(t);return A.useEffect(()=>{const s=a.current;if(!s)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(s,t),s.dispatchEvent(f)}},[o,t]),c(pr.select,{...r,style:{...GY,...r.style},ref:i,defaultValue:t})});yX.displayName=nye;function xX(e){return e===""||e===void 0}function wX(e){const t=Ci(e),r=A.useRef(""),n=A.useRef(0),a=A.useCallback(o=>{const s=r.current+o;t(s),function l(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>l(""),1e3))}(s)},[t]),i=A.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return A.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function _X(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=aye(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const l=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return l!==r?l:void 0}function aye(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var iye=KY,bX=XY,oye=JY,sye=QY,lye=eX,SX=tX,cye=iX,AX=lX,kX=uX,uye=dX,dye=hX,NX=pX,EX=mX,CX=vX;const zr=iye,Wr=oye,Br=A.forwardRef(({className:e,children:t,...r},n)=>w(bX,{ref:n,className:It("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,c(sye,{asChild:!0,children:c(V8,{className:"h-4 w-4 opacity-50"})})]}));Br.displayName=bX.displayName;const TX=A.forwardRef(({className:e,...t},r)=>c(NX,{ref:r,className:It("flex cursor-default items-center justify-center py-1",e),...t,children:c(lce,{className:"h-4 w-4"})}));TX.displayName=NX.displayName;const PX=A.forwardRef(({className:e,...t},r)=>c(EX,{ref:r,className:It("flex cursor-default items-center justify-center py-1",e),...t,children:c(V8,{className:"h-4 w-4"})}));PX.displayName=EX.displayName;const Ur=A.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>c(lye,{children:w(SX,{ref:a,className:It("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[c(TX,{}),c(cye,{className:It("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),c(PX,{})]})}));Ur.displayName=SX.displayName;const fye=A.forwardRef(({className:e,...t},r)=>c(AX,{ref:r,className:It("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));fye.displayName=AX.displayName;const wt=A.forwardRef(({className:e,children:t,...r},n)=>w(kX,{ref:n,className:It("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[c("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c(dye,{children:c(Aw,{className:"h-4 w-4"})})}),c(uye,{children:t})]}));wt.displayName=kX.displayName;const hye=A.forwardRef(({className:e,...t},r)=>c(CX,{ref:r,className:It("-mx-1 my-1 h-px bg-muted",e),...t}));hye.displayName=CX.displayName;var Ck,mL;function Ll(){if(mL)return Ck;mL=1;var e=Array.isArray;return Ck=e,Ck}var Tk,gL;function OX(){if(gL)return Tk;gL=1;var e=typeof z_=="object"&&z_&&z_.Object===Object&&z_;return Tk=e,Tk}var Pk,vL;function pf(){if(vL)return Pk;vL=1;var e=OX(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return Pk=r,Pk}var Ok,yL;function Lw(){if(yL)return Ok;yL=1;var e=pf(),t=e.Symbol;return Ok=t,Ok}var Dk,xL;function pye(){if(xL)return Dk;xL=1;var e=Lw(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,a=e?e.toStringTag:void 0;function i(o){var s=r.call(o,a),l=o[a];try{o[a]=void 0;var u=!0}catch{}var d=n.call(o);return u&&(s?o[a]=l:delete o[a]),d}return Dk=i,Dk}var Ik,wL;function mye(){if(wL)return Ik;wL=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return Ik=r,Ik}var Rk,_L;function Ch(){if(_L)return Rk;_L=1;var e=Lw(),t=pye(),r=mye(),n="[object Null]",a="[object Undefined]",i=e?e.toStringTag:void 0;function o(s){return s==null?s===void 0?a:n:i&&i in Object(s)?t(s):r(s)}return Rk=o,Rk}var Mk,bL;function Th(){if(bL)return Mk;bL=1;function e(t){return t!=null&&typeof t=="object"}return Mk=e,Mk}var Fk,SL;function ly(){if(SL)return Fk;SL=1;var e=Ch(),t=Th(),r="[object Symbol]";function n(a){return typeof a=="symbol"||t(a)&&e(a)==r}return Fk=n,Fk}var Lk,AL;function BD(){if(AL)return Lk;AL=1;var e=Ll(),t=ly(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,o){if(e(i))return!1;var s=typeof i;return s=="number"||s=="symbol"||s=="boolean"||i==null||t(i)?!0:n.test(i)||!r.test(i)||o!=null&&i in Object(o)}return Lk=a,Lk}var jk,kL;function E0(){if(kL)return jk;kL=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return jk=e,jk}var $k,NL;function UD(){if(NL)return $k;NL=1;var e=Ch(),t=E0(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function o(s){if(!t(s))return!1;var l=e(s);return l==n||l==a||l==r||l==i}return $k=o,$k}var Bk,EL;function gye(){if(EL)return Bk;EL=1;var e=pf(),t=e["__core-js_shared__"];return Bk=t,Bk}var Uk,CL;function vye(){if(CL)return Uk;CL=1;var e=gye(),t=function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!t&&t in n}return Uk=r,Uk}var qk,TL;function DX(){if(TL)return qk;TL=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return qk=r,qk}var zk,PL;function yye(){if(PL)return zk;PL=1;var e=UD(),t=vye(),r=E0(),n=DX(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,s=Object.prototype,l=o.toString,u=s.hasOwnProperty,d=RegExp("^"+l.call(u).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(h){if(!r(h)||t(h))return!1;var m=e(h)?d:i;return m.test(n(h))}return zk=f,zk}var Wk,OL;function xye(){if(OL)return Wk;OL=1;function e(t,r){return t==null?void 0:t[r]}return Wk=e,Wk}var Hk,DL;function wg(){if(DL)return Hk;DL=1;var e=yye(),t=xye();function r(n,a){var i=t(n,a);return e(i)?i:void 0}return Hk=r,Hk}var Vk,IL;function U4(){if(IL)return Vk;IL=1;var e=wg(),t=e(Object,"create");return Vk=t,Vk}var Gk,RL;function wye(){if(RL)return Gk;RL=1;var e=U4();function t(){this.__data__=e?e(null):{},this.size=0}return Gk=t,Gk}var Kk,ML;function _ye(){if(ML)return Kk;ML=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return Kk=e,Kk}var Yk,FL;function bye(){if(FL)return Yk;FL=1;var e=U4(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(i){var o=this.__data__;if(e){var s=o[i];return s===t?void 0:s}return n.call(o,i)?o[i]:void 0}return Yk=a,Yk}var Xk,LL;function Sye(){if(LL)return Xk;LL=1;var e=U4(),t=Object.prototype,r=t.hasOwnProperty;function n(a){var i=this.__data__;return e?i[a]!==void 0:r.call(i,a)}return Xk=n,Xk}var Zk,jL;function Aye(){if(jL)return Zk;jL=1;var e=U4(),t="__lodash_hash_undefined__";function r(n,a){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=e&&a===void 0?t:a,this}return Zk=r,Zk}var Jk,$L;function kye(){if($L)return Jk;$L=1;var e=wye(),t=_ye(),r=bye(),n=Sye(),a=Aye();function i(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var u=o[s];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,Jk=i,Jk}var Qk,BL;function Nye(){if(BL)return Qk;BL=1;function e(){this.__data__=[],this.size=0}return Qk=e,Qk}var eN,UL;function qD(){if(UL)return eN;UL=1;function e(t,r){return t===r||t!==t&&r!==r}return eN=e,eN}var tN,qL;function q4(){if(qL)return tN;qL=1;var e=qD();function t(r,n){for(var a=r.length;a--;)if(e(r[a][0],n))return a;return-1}return tN=t,tN}var rN,zL;function Eye(){if(zL)return rN;zL=1;var e=q4(),t=Array.prototype,r=t.splice;function n(a){var i=this.__data__,o=e(i,a);if(o<0)return!1;var s=i.length-1;return o==s?i.pop():r.call(i,o,1),--this.size,!0}return rN=n,rN}var nN,WL;function Cye(){if(WL)return nN;WL=1;var e=q4();function t(r){var n=this.__data__,a=e(n,r);return a<0?void 0:n[a][1]}return nN=t,nN}var aN,HL;function Tye(){if(HL)return aN;HL=1;var e=q4();function t(r){return e(this.__data__,r)>-1}return aN=t,aN}var iN,VL;function Pye(){if(VL)return iN;VL=1;var e=q4();function t(r,n){var a=this.__data__,i=e(a,r);return i<0?(++this.size,a.push([r,n])):a[i][1]=n,this}return iN=t,iN}var oN,GL;function z4(){if(GL)return oN;GL=1;var e=Nye(),t=Eye(),r=Cye(),n=Tye(),a=Pye();function i(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var u=o[s];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,oN=i,oN}var sN,KL;function zD(){if(KL)return sN;KL=1;var e=wg(),t=pf(),r=e(t,"Map");return sN=r,sN}var lN,YL;function Oye(){if(YL)return lN;YL=1;var e=kye(),t=z4(),r=zD();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return lN=n,lN}var cN,XL;function Dye(){if(XL)return cN;XL=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return cN=e,cN}var uN,ZL;function W4(){if(ZL)return uN;ZL=1;var e=Dye();function t(r,n){var a=r.__data__;return e(n)?a[typeof n=="string"?"string":"hash"]:a.map}return uN=t,uN}var dN,JL;function Iye(){if(JL)return dN;JL=1;var e=W4();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return dN=t,dN}var fN,QL;function Rye(){if(QL)return fN;QL=1;var e=W4();function t(r){return e(this,r).get(r)}return fN=t,fN}var hN,e9;function Mye(){if(e9)return hN;e9=1;var e=W4();function t(r){return e(this,r).has(r)}return hN=t,hN}var pN,t9;function Fye(){if(t9)return pN;t9=1;var e=W4();function t(r,n){var a=e(this,r),i=a.size;return a.set(r,n),this.size+=a.size==i?0:1,this}return pN=t,pN}var mN,r9;function WD(){if(r9)return mN;r9=1;var e=Oye(),t=Iye(),r=Rye(),n=Mye(),a=Fye();function i(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var u=o[s];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,mN=i,mN}var gN,n9;function IX(){if(n9)return gN;n9=1;var e=WD(),t="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(t);var i=function(){var o=arguments,s=a?a.apply(this,o):o[0],l=i.cache;if(l.has(s))return l.get(s);var u=n.apply(this,o);return i.cache=l.set(s,u)||l,u};return i.cache=new(r.Cache||e),i}return r.Cache=e,gN=r,gN}var vN,a9;function Lye(){if(a9)return vN;a9=1;var e=IX(),t=500;function r(n){var a=e(n,function(o){return i.size===t&&i.clear(),o}),i=a.cache;return a}return vN=r,vN}var yN,i9;function jye(){if(i9)return yN;i9=1;var e=Lye(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(t,function(o,s,l,u){i.push(l?u.replace(r,"$1"):s||o)}),i});return yN=n,yN}var xN,o9;function HD(){if(o9)return xN;o9=1;function e(t,r){for(var n=-1,a=t==null?0:t.length,i=Array(a);++n<a;)i[n]=r(t[n],n,t);return i}return xN=e,xN}var wN,s9;function $ye(){if(s9)return wN;s9=1;var e=Lw(),t=HD(),r=Ll(),n=ly(),a=e?e.prototype:void 0,i=a?a.toString:void 0;function o(s){if(typeof s=="string")return s;if(r(s))return t(s,o)+"";if(n(s))return i?i.call(s):"";var l=s+"";return l=="0"&&1/s==-1/0?"-0":l}return wN=o,wN}var _N,l9;function RX(){if(l9)return _N;l9=1;var e=$ye();function t(r){return r==null?"":e(r)}return _N=t,_N}var bN,c9;function MX(){if(c9)return bN;c9=1;var e=Ll(),t=BD(),r=jye(),n=RX();function a(i,o){return e(i)?i:t(i,o)?[i]:r(n(i))}return bN=a,bN}var SN,u9;function H4(){if(u9)return SN;u9=1;var e=ly();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return SN=t,SN}var AN,d9;function VD(){if(d9)return AN;d9=1;var e=MX(),t=H4();function r(n,a){a=e(a,n);for(var i=0,o=a.length;n!=null&&i<o;)n=n[t(a[i++])];return i&&i==o?n:void 0}return AN=r,AN}var kN,f9;function FX(){if(f9)return kN;f9=1;var e=VD();function t(r,n,a){var i=r==null?void 0:e(r,n);return i===void 0?a:i}return kN=t,kN}var Bye=FX();const hc=oa(Bye);var NN,h9;function Uye(){if(h9)return NN;h9=1;function e(t){return t==null}return NN=e,NN}var qye=Uye();const fn=oa(qye);var EN,p9;function zye(){if(p9)return EN;p9=1;var e=Ch(),t=Ll(),r=Th(),n="[object String]";function a(i){return typeof i=="string"||!t(i)&&r(i)&&e(i)==n}return EN=a,EN}var Wye=zye();const Ym=oa(Wye);var Hye=UD();const Kr=oa(Hye);var Vye=E0();const cy=oa(Vye);var CN={exports:{}},fa={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m9;function Gye(){if(m9)return fa;m9=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),s=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen"),x;x=Symbol.for("react.module.reference");function g(y){if(typeof y=="object"&&y!==null){var _=y.$$typeof;switch(_){case e:switch(y=y.type,y){case r:case a:case n:case u:case d:return y;default:switch(y=y&&y.$$typeof,y){case s:case o:case l:case h:case f:case i:return y;default:return _}}case t:return _}}}return fa.ContextConsumer=o,fa.ContextProvider=i,fa.Element=e,fa.ForwardRef=l,fa.Fragment=r,fa.Lazy=h,fa.Memo=f,fa.Portal=t,fa.Profiler=a,fa.StrictMode=n,fa.Suspense=u,fa.SuspenseList=d,fa.isAsyncMode=function(){return!1},fa.isConcurrentMode=function(){return!1},fa.isContextConsumer=function(y){return g(y)===o},fa.isContextProvider=function(y){return g(y)===i},fa.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===e},fa.isForwardRef=function(y){return g(y)===l},fa.isFragment=function(y){return g(y)===r},fa.isLazy=function(y){return g(y)===h},fa.isMemo=function(y){return g(y)===f},fa.isPortal=function(y){return g(y)===t},fa.isProfiler=function(y){return g(y)===a},fa.isStrictMode=function(y){return g(y)===n},fa.isSuspense=function(y){return g(y)===u},fa.isSuspenseList=function(y){return g(y)===d},fa.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===r||y===a||y===n||y===u||y===d||y===m||typeof y=="object"&&y!==null&&(y.$$typeof===h||y.$$typeof===f||y.$$typeof===i||y.$$typeof===o||y.$$typeof===l||y.$$typeof===x||y.getModuleId!==void 0)},fa.typeOf=g,fa}var g9;function Kye(){return g9||(g9=1,CN.exports=Gye()),CN.exports}var Yye=Kye(),TN,v9;function LX(){if(v9)return TN;v9=1;var e=Ch(),t=Th(),r="[object Number]";function n(a){return typeof a=="number"||t(a)&&e(a)==r}return TN=n,TN}var PN,y9;function Xye(){if(y9)return PN;y9=1;var e=LX();function t(r){return e(r)&&r!=+r}return PN=t,PN}var Zye=Xye();const uy=oa(Zye);var Jye=LX();const Qye=oa(Jye);var nl=function(t){return t===0?0:t>0?1:-1},Pm=function(t){return Ym(t)&&t.indexOf("%")===t.length-1},Ht=function(t){return Qye(t)&&!uy(t)},yo=function(t){return Ht(t)||Ym(t)},e2e=0,_g=function(t){var r=++e2e;return"".concat(t||"").concat(r)},al=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ht(t)&&!Ym(t))return n;var i;if(Pm(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return uy(i)&&(i=n),a&&i>r&&(i=r),i},Wp=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},t2e=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},mo=function(t,r){return Ht(t)&&Ht(r)?function(n){return t+n*(r-t)}:function(){return r}};function S5(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):hc(n,t))===r})}var r2e=function(t,r){return Ht(t)&&Ht(r)?t-r:Ym(t)&&Ym(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Kv(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function A6(e){"@babel/helpers - typeof";return A6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A6(e)}var n2e=["viewBox","children"],a2e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],x9=["points","pathLength"],ON={svg:n2e,polygon:x9,polyline:x9},GD=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],A5=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(A.isValidElement(t)&&(n=t.props),!cy(n))return null;var a={};return Object.keys(n).forEach(function(i){GD.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},i2e=function(t,r,n){return function(a){return t(r,n,a),null}},Xm=function(t,r,n){if(!cy(t)||A6(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];GD.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=i2e(o,r,n))}),a},o2e=["children"],s2e=["children"];function w9(e,t){if(e==null)return{};var r=l2e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function l2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function k6(e){"@babel/helpers - typeof";return k6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k6(e)}var _9={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ch=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},b9=null,DN=null,KD=function e(t){if(t===b9&&Array.isArray(DN))return DN;var r=[];return A.Children.forEach(t,function(n){fn(n)||(Yye.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),DN=r,b9=t,r};function pc(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return ch(a)}):n=[ch(t)],KD(e).forEach(function(a){var i=hc(a,"type.displayName")||hc(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function ec(e,t){var r=pc(e,t);return r&&r[0]}var S9=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!Ht(n)||n<=0||!Ht(a)||a<=0)},c2e=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],u2e=function(t){return t&&t.type&&Ym(t.type)&&c2e.indexOf(t.type)>=0},jX=function(t){return t&&k6(t)==="object"&&"clipDot"in t},d2e=function(t,r,n,a){var i,o=(i=ON==null?void 0:ON[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Kr(t)&&(a&&o.includes(r)||a2e.includes(r))||n&&GD.includes(r)},Or=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(A.isValidElement(t)&&(a=t.props),!cy(a))return null;var i={};return Object.keys(a).forEach(function(o){var s;d2e((s=a)===null||s===void 0?void 0:s[o],o,r,n)&&(i[o]=a[o])}),i},N6=function e(t,r){if(t===r)return!0;var n=A.Children.count(t);if(n!==A.Children.count(r))return!1;if(n===0)return!0;if(n===1)return A9(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!A9(i,o))return!1}return!0},A9=function(t,r){if(fn(t)&&fn(r))return!0;if(!fn(t)&&!fn(r)){var n=t.props||{},a=n.children,i=w9(n,o2e),o=r.props||{},s=o.children,l=w9(o,s2e);return a&&s?Kv(i,l)&&N6(a,s):!a&&!s?Kv(i,l):!1}return!1},k9=function(t,r){var n=[],a={};return KD(t).forEach(function(i,o){if(u2e(i))n.push(i);else if(i){var s=ch(i.type),l=r[s]||{},u=l.handler,d=l.once;if(u&&(!d||!a[s])){var f=u(i,s,o);n.push(f),a[s]=!0}}}),n},f2e=function(t){var r=t&&t.type;return r&&_9[r]?_9[r]:null},h2e=function(t,r){return KD(r).indexOf(t)},p2e=["children","width","height","viewBox","className","style","title","desc"];function E6(){return E6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E6.apply(this,arguments)}function m2e(e,t){if(e==null)return{};var r=g2e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function g2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function C6(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,o=e.style,s=e.title,l=e.desc,u=m2e(e,p2e),d=a||{width:r,height:n,x:0,y:0},f=hn("recharts-surface",i);return Je.createElement("svg",E6({},Or(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),Je.createElement("title",null,s),Je.createElement("desc",null,l),t)}var v2e=["children","className"];function T6(){return T6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T6.apply(this,arguments)}function y2e(e,t){if(e==null)return{};var r=x2e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function x2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Rn=Je.forwardRef(function(e,t){var r=e.children,n=e.className,a=y2e(e,v2e),i=hn("recharts-layer",n);return Je.createElement("g",T6({className:i},Or(a,!0),{ref:t}),r)}),Wu=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]},IN,N9;function w2e(){if(N9)return IN;N9=1;function e(t,r,n){var a=-1,i=t.length;r<0&&(r=-r>i?0:i+r),n=n>i?i:n,n<0&&(n+=i),i=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(i);++a<i;)o[a]=t[a+r];return o}return IN=e,IN}var RN,E9;function _2e(){if(E9)return RN;E9=1;var e=w2e();function t(r,n,a){var i=r.length;return a=a===void 0?i:a,!n&&a>=i?r:e(r,n,a)}return RN=t,RN}var MN,C9;function $X(){if(C9)return MN;C9=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=t+r+n,i="\\ufe0e\\ufe0f",o="\\u200d",s=RegExp("["+o+e+a+i+"]");function l(u){return s.test(u)}return MN=l,MN}var FN,T9;function b2e(){if(T9)return FN;T9=1;function e(t){return t.split("")}return FN=e,FN}var LN,P9;function S2e(){if(P9)return LN;P9=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=t+r+n,i="\\ufe0e\\ufe0f",o="["+e+"]",s="["+a+"]",l="\\ud83c[\\udffb-\\udfff]",u="(?:"+s+"|"+l+")",d="[^"+e+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",m="\\u200d",x=u+"?",g="["+i+"]?",y="(?:"+m+"(?:"+[d,f,h].join("|")+")"+g+x+")*",_=g+x+y,b="(?:"+[d+s+"?",s,f,h,o].join("|")+")",S=RegExp(l+"(?="+l+")|"+b+_,"g");function C(E){return E.match(S)||[]}return LN=C,LN}var jN,O9;function A2e(){if(O9)return jN;O9=1;var e=b2e(),t=$X(),r=S2e();function n(a){return t(a)?r(a):e(a)}return jN=n,jN}var $N,D9;function k2e(){if(D9)return $N;D9=1;var e=_2e(),t=$X(),r=A2e(),n=RX();function a(i){return function(o){o=n(o);var s=t(o)?r(o):void 0,l=s?s[0]:o.charAt(0),u=s?e(s,1).join(""):o.slice(1);return l[i]()+u}}return $N=a,$N}var BN,I9;function N2e(){if(I9)return BN;I9=1;var e=k2e(),t=e("toUpperCase");return BN=t,BN}var E2e=N2e();const V4=oa(E2e);function Da(e){return function(){return e}}const BX=Math.cos,k5=Math.sin,id=Math.sqrt,N5=Math.PI,G4=2*N5,P6=Math.PI,O6=2*P6,_m=1e-6,C2e=O6-_m;function UX(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function T2e(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return UX;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class P2e{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?UX:T2e(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,s=this._y1,l=n-t,u=a-r,d=o-t,f=s-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>_m)if(!(Math.abs(f*l-u*d)>_m)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,x=a-s,g=l*l+u*u,y=m*m+x*x,_=Math.sqrt(g),b=Math.sqrt(h),S=i*Math.tan((P6-Math.acos((g+h-y)/(2*_*b)))/2),C=S/b,E=S/_;Math.abs(C-1)>_m&&this._append`L${t+C*d},${r+C*f}`,this._append`A${i},${i},0,0,${+(f*m>d*x)},${this._x1=t+E*l},${this._y1=r+E*u}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(a),l=n*Math.sin(a),u=t+s,d=r+l,f=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>_m||Math.abs(this._y1-d)>_m)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%O6+O6),h>C2e?this._append`A${n},${n},0,1,${f},${t-s},${r-l}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>_m&&this._append`A${n},${n},0,${+(h>=P6)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function YD(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new P2e(t)}function XD(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function qX(e){this._context=e}qX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function K4(e){return new qX(e)}function zX(e){return e[0]}function WX(e){return e[1]}function HX(e,t){var r=Da(!0),n=null,a=K4,i=null,o=YD(s);e=typeof e=="function"?e:e===void 0?zX:Da(e),t=typeof t=="function"?t:t===void 0?WX:Da(t);function s(l){var u,d=(l=XD(l)).length,f,h=!1,m;for(n==null&&(i=a(m=o())),u=0;u<=d;++u)!(u<d&&r(f=l[u],u,l))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,l),+t(f,u,l));if(m)return i=null,m+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:Da(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:Da(+l),s):t},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Da(!!l),s):r},s.curve=function(l){return arguments.length?(a=l,n!=null&&(i=a(n)),s):a},s.context=function(l){return arguments.length?(l==null?n=i=null:i=a(n=l),s):n},s}function ob(e,t,r){var n=null,a=Da(!0),i=null,o=K4,s=null,l=YD(u);e=typeof e=="function"?e:e===void 0?zX:Da(+e),t=typeof t=="function"?t:Da(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?WX:Da(+r);function u(f){var h,m,x,g=(f=XD(f)).length,y,_=!1,b,S=new Array(g),C=new Array(g);for(i==null&&(s=o(b=l())),h=0;h<=g;++h){if(!(h<g&&a(y=f[h],h,f))===_)if(_=!_)m=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),x=h-1;x>=m;--x)s.point(S[x],C[x]);s.lineEnd(),s.areaEnd()}_&&(S[h]=+e(y,h,f),C[h]=+t(y,h,f),s.point(n?+n(y,h,f):S[h],r?+r(y,h,f):C[h]))}if(b)return s=null,b+""||null}function d(){return HX().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Da(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Da(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Da(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Da(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Da(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Da(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Da(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(s=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=s=null:s=o(i=f),u):i},u}class VX{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function O2e(e){return new VX(e,!0)}function D2e(e){return new VX(e,!1)}const ZD={draw(e,t){const r=id(t/N5);e.moveTo(r,0),e.arc(0,0,r,0,G4)}},I2e={draw(e,t){const r=id(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},GX=id(1/3),R2e=GX*2,M2e={draw(e,t){const r=id(t/R2e),n=r*GX;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},F2e={draw(e,t){const r=id(t),n=-r/2;e.rect(n,n,r,r)}},L2e=.8908130915292852,KX=k5(N5/10)/k5(7*N5/10),j2e=k5(G4/10)*KX,$2e=-BX(G4/10)*KX,B2e={draw(e,t){const r=id(t*L2e),n=j2e*r,a=$2e*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=G4*i/5,s=BX(o),l=k5(o);e.lineTo(l*r,-s*r),e.lineTo(s*n-l*a,l*n+s*a)}e.closePath()}},UN=id(3),U2e={draw(e,t){const r=-id(t/(UN*3));e.moveTo(0,r*2),e.lineTo(-UN*r,-r),e.lineTo(UN*r,-r),e.closePath()}},Lc=-.5,jc=id(3)/2,D6=1/id(12),q2e=(D6/2+1)*3,z2e={draw(e,t){const r=id(t/q2e),n=r/2,a=r*D6,i=n,o=r*D6+r,s=-i,l=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(s,l),e.lineTo(Lc*n-jc*a,jc*n+Lc*a),e.lineTo(Lc*i-jc*o,jc*i+Lc*o),e.lineTo(Lc*s-jc*l,jc*s+Lc*l),e.lineTo(Lc*n+jc*a,Lc*a-jc*n),e.lineTo(Lc*i+jc*o,Lc*o-jc*i),e.lineTo(Lc*s+jc*l,Lc*l-jc*s),e.closePath()}};function W2e(e,t){let r=null,n=YD(a);e=typeof e=="function"?e:Da(e||ZD),t=typeof t=="function"?t:Da(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Da(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Da(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function E5(){}function C5(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function YX(e){this._context=e}YX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:C5(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:C5(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function H2e(e){return new YX(e)}function XX(e){this._context=e}XX.prototype={areaStart:E5,areaEnd:E5,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:C5(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function V2e(e){return new XX(e)}function ZX(e){this._context=e}ZX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:C5(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function G2e(e){return new ZX(e)}function JX(e){this._context=e}JX.prototype={areaStart:E5,areaEnd:E5,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function K2e(e){return new JX(e)}function R9(e){return e<0?-1:1}function M9(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),s=(i*a+o*n)/(n+a);return(R9(i)+R9(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(s))||0}function F9(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function qN(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,s=(i-n)/3;e._context.bezierCurveTo(n+s,a+s*t,i-s,o-s*r,i,o)}function T5(e){this._context=e}T5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:qN(this,this._t0,F9(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,qN(this,F9(this,r=M9(this,e,t)),r);break;default:qN(this,this._t0,r=M9(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function QX(e){this._context=new eZ(e)}(QX.prototype=Object.create(T5.prototype)).point=function(e,t){T5.prototype.point.call(this,t,e)};function eZ(e){this._context=e}eZ.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function Y2e(e){return new T5(e)}function X2e(e){return new QX(e)}function tZ(e){this._context=e}tZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=L9(e),a=L9(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function L9(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function Z2e(e){return new tZ(e)}function Y4(e,t){this._context=e,this._t=t}Y4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function J2e(e){return new Y4(e,.5)}function Q2e(e){return new Y4(e,0)}function exe(e){return new Y4(e,1)}function p1(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,s=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<s;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function I6(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function txe(e,t){return e[t]}function rxe(e){const t=[];return t.key=e,t}function nxe(){var e=Da([]),t=I6,r=p1,n=txe;function a(i){var o=Array.from(e.apply(this,arguments),rxe),s,l=o.length,u=-1,d;for(const f of i)for(s=0,++u;s<l;++s)(o[s][u]=[0,+n(f,o[s].key,u,i)]).data=f;for(s=0,d=XD(t(o));s<l;++s)o[d[s]].index=s;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Da(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Da(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?I6:typeof i=="function"?i:Da(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??p1,a):r},a}function axe(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}p1(e,t)}}function ixe(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,s=0;o<a;++o)s+=e[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}p1(e,t)}}function oxe(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var s=0,l=0,u=0;s<o;++s){for(var d=e[t[s]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,x=0;x<s;++x){var g=e[t[x]],y=g[n][1]||0,_=g[n-1][1]||0;m+=y-_}l+=f,u+=m*f}a[n-1][1]+=a[n-1][0]=r,l&&(r-=u/l)}a[n-1][1]+=a[n-1][0]=r,p1(e,t)}}function ux(e){"@babel/helpers - typeof";return ux=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ux(e)}var sxe=["type","size","sizeType"];function R6(){return R6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},R6.apply(this,arguments)}function j9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j9(Object(r),!0).forEach(function(n){lxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j9(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lxe(e,t,r){return t=cxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cxe(e){var t=uxe(e,"string");return ux(t)=="symbol"?t:t+""}function uxe(e,t){if(ux(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ux(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dxe(e,t){if(e==null)return{};var r=fxe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fxe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var rZ={symbolCircle:ZD,symbolCross:I2e,symbolDiamond:M2e,symbolSquare:F2e,symbolStar:B2e,symbolTriangle:U2e,symbolWye:z2e},hxe=Math.PI/180,pxe=function(t){var r="symbol".concat(V4(t));return rZ[r]||ZD},mxe=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*hxe;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},gxe=function(t,r){rZ["symbol".concat(V4(t))]=r},JD=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,s=o===void 0?"area":o,l=dxe(t,sxe),u=$9($9({},l),{},{type:n,size:i,sizeType:s}),d=function(){var y=pxe(n),_=W2e().type(y).size(mxe(i,s,n));return _()},f=u.className,h=u.cx,m=u.cy,x=Or(u,!0);return h===+h&&m===+m&&i===+i?Je.createElement("path",R6({},x,{className:hn("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};JD.registerSymbol=gxe;function m1(e){"@babel/helpers - typeof";return m1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m1(e)}function B9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vxe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B9(Object(r),!0).forEach(function(n){dx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B9(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xxe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aZ(n.key),n)}}function wxe(e,t,r){return t&&xxe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _xe(e,t,r){return t=P5(t),bxe(e,nZ()?Reflect.construct(t,r||[],P5(e).constructor):t.apply(e,r))}function bxe(e,t){if(t&&(m1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sxe(e)}function Sxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nZ=function(){return!!e})()}function P5(e){return P5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},P5(e)}function Axe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M6(e,t)}function M6(e,t){return M6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},M6(e,t)}function dx(e,t,r){return t=aZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aZ(e){var t=kxe(e,"string");return m1(t)=="symbol"?t:t+""}function kxe(e,t){if(m1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(m1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Nu=32,QD=function(e){function t(){return yxe(this,t),_xe(this,t,arguments)}return Axe(t,e),wxe(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=Nu/2,o=Nu/6,s=Nu/3,l=n.inactive?a:n.color;if(n.type==="plainline")return c("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Nu,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return c("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(Nu,"M").concat(2*s,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return c("path",{stroke:"none",fill:l,d:"M0,".concat(Nu/8,"h").concat(Nu,"v").concat(Nu*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(Je.isValidElement(n.legendIcon)){var u=vxe({},n);return delete u.legendIcon,Je.cloneElement(n.legendIcon,u)}return c(JD,{fill:l,cx:i,cy:i,size:Nu,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,s=a.layout,l=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:Nu,height:Nu},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(m,x){var g=m.formatter||l,y=hn(dx(dx({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",m.inactive));if(m.type==="none")return null;var _=Kr(m.value)?null:m.value;Wu(!Kr(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=m.inactive?u:m.color;return w("li",{className:y,style:f,...Xm(n.props,m,x),children:[c(C6,{width:o,height:o,viewBox:d,style:h,children:n.renderIcon(m)}),c("span",{className:"recharts-legend-item-text",style:{color:b},children:g?g(_,m,x):_})]},"legend-item-".concat(x))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var s={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return c("ul",{className:"recharts-default-legend",style:s,children:this.renderItems()})}}])}(A.PureComponent);dx(QD,"displayName","Legend");dx(QD,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var zN,U9;function Nxe(){if(U9)return zN;U9=1;var e=z4();function t(){this.__data__=new e,this.size=0}return zN=t,zN}var WN,q9;function Exe(){if(q9)return WN;q9=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return WN=e,WN}var HN,z9;function Cxe(){if(z9)return HN;z9=1;function e(t){return this.__data__.get(t)}return HN=e,HN}var VN,W9;function Txe(){if(W9)return VN;W9=1;function e(t){return this.__data__.has(t)}return VN=e,VN}var GN,H9;function Pxe(){if(H9)return GN;H9=1;var e=z4(),t=zD(),r=WD(),n=200;function a(i,o){var s=this.__data__;if(s instanceof e){var l=s.__data__;if(!t||l.length<n-1)return l.push([i,o]),this.size=++s.size,this;s=this.__data__=new r(l)}return s.set(i,o),this.size=s.size,this}return GN=a,GN}var KN,V9;function iZ(){if(V9)return KN;V9=1;var e=z4(),t=Nxe(),r=Exe(),n=Cxe(),a=Txe(),i=Pxe();function o(s){var l=this.__data__=new e(s);this.size=l.size}return o.prototype.clear=t,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=a,o.prototype.set=i,KN=o,KN}var YN,G9;function Oxe(){if(G9)return YN;G9=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return YN=t,YN}var XN,K9;function Dxe(){if(K9)return XN;K9=1;function e(t){return this.__data__.has(t)}return XN=e,XN}var ZN,Y9;function oZ(){if(Y9)return ZN;Y9=1;var e=WD(),t=Oxe(),r=Dxe();function n(a){var i=-1,o=a==null?0:a.length;for(this.__data__=new e;++i<o;)this.add(a[i])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,ZN=n,ZN}var JN,X9;function sZ(){if(X9)return JN;X9=1;function e(t,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(r(t[n],n,t))return!0;return!1}return JN=e,JN}var QN,Z9;function lZ(){if(Z9)return QN;Z9=1;function e(t,r){return t.has(r)}return QN=e,QN}var eE,J9;function cZ(){if(J9)return eE;J9=1;var e=oZ(),t=sZ(),r=lZ(),n=1,a=2;function i(o,s,l,u,d,f){var h=l&n,m=o.length,x=s.length;if(m!=x&&!(h&&x>m))return!1;var g=f.get(o),y=f.get(s);if(g&&y)return g==s&&y==o;var _=-1,b=!0,S=l&a?new e:void 0;for(f.set(o,s),f.set(s,o);++_<m;){var C=o[_],E=s[_];if(u)var D=h?u(E,C,_,s,o,f):u(C,E,_,o,s,f);if(D!==void 0){if(D)continue;b=!1;break}if(S){if(!t(s,function(T,I){if(!r(S,I)&&(C===T||d(C,T,l,u,f)))return S.push(I)})){b=!1;break}}else if(!(C===E||d(C,E,l,u,f))){b=!1;break}}return f.delete(o),f.delete(s),b}return eE=i,eE}var tE,Q9;function Ixe(){if(Q9)return tE;Q9=1;var e=pf(),t=e.Uint8Array;return tE=t,tE}var rE,ej;function Rxe(){if(ej)return rE;ej=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(a,i){n[++r]=[i,a]}),n}return rE=e,rE}var nE,tj;function eI(){if(tj)return nE;tj=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(a){n[++r]=a}),n}return nE=e,nE}var aE,rj;function Mxe(){if(rj)return aE;rj=1;var e=Lw(),t=Ixe(),r=qD(),n=cZ(),a=Rxe(),i=eI(),o=1,s=2,l="[object Boolean]",u="[object Date]",d="[object Error]",f="[object Map]",h="[object Number]",m="[object RegExp]",x="[object Set]",g="[object String]",y="[object Symbol]",_="[object ArrayBuffer]",b="[object DataView]",S=e?e.prototype:void 0,C=S?S.valueOf:void 0;function E(D,T,I,L,B,P,O){switch(I){case b:if(D.byteLength!=T.byteLength||D.byteOffset!=T.byteOffset)return!1;D=D.buffer,T=T.buffer;case _:return!(D.byteLength!=T.byteLength||!P(new t(D),new t(T)));case l:case u:case h:return r(+D,+T);case d:return D.name==T.name&&D.message==T.message;case m:case g:return D==T+"";case f:var j=a;case x:var G=L&o;if(j||(j=i),D.size!=T.size&&!G)return!1;var Y=O.get(D);if(Y)return Y==T;L|=s,O.set(D,T);var re=n(j(D),j(T),L,B,P,O);return O.delete(D),re;case y:if(C)return C.call(D)==C.call(T)}return!1}return aE=E,aE}var iE,nj;function uZ(){if(nj)return iE;nj=1;function e(t,r){for(var n=-1,a=r.length,i=t.length;++n<a;)t[i+n]=r[n];return t}return iE=e,iE}var oE,aj;function Fxe(){if(aj)return oE;aj=1;var e=uZ(),t=Ll();function r(n,a,i){var o=a(n);return t(n)?o:e(o,i(n))}return oE=r,oE}var sE,ij;function Lxe(){if(ij)return sE;ij=1;function e(t,r){for(var n=-1,a=t==null?0:t.length,i=0,o=[];++n<a;){var s=t[n];r(s,n,t)&&(o[i++]=s)}return o}return sE=e,sE}var lE,oj;function jxe(){if(oj)return lE;oj=1;function e(){return[]}return lE=e,lE}var cE,sj;function $xe(){if(sj)return cE;sj=1;var e=Lxe(),t=jxe(),r=Object.prototype,n=r.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(o){return o==null?[]:(o=Object(o),e(a(o),function(s){return n.call(o,s)}))}:t;return cE=i,cE}var uE,lj;function Bxe(){if(lj)return uE;lj=1;function e(t,r){for(var n=-1,a=Array(t);++n<t;)a[n]=r(n);return a}return uE=e,uE}var dE,cj;function Uxe(){if(cj)return dE;cj=1;var e=Ch(),t=Th(),r="[object Arguments]";function n(a){return t(a)&&e(a)==r}return dE=n,dE}var fE,uj;function tI(){if(uj)return fE;uj=1;var e=Uxe(),t=Th(),r=Object.prototype,n=r.hasOwnProperty,a=r.propertyIsEnumerable,i=e(function(){return arguments}())?e:function(o){return t(o)&&n.call(o,"callee")&&!a.call(o,"callee")};return fE=i,fE}var v2={exports:{}},hE,dj;function qxe(){if(dj)return hE;dj=1;function e(){return!1}return hE=e,hE}v2.exports;var fj;function dZ(){return fj||(fj=1,function(e,t){var r=pf(),n=qxe(),a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,s=o?r.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||n;e.exports=u}(v2,v2.exports)),v2.exports}var pE,hj;function rI(){if(hj)return pE;hj=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,a){var i=typeof n;return a=a??e,!!a&&(i=="number"||i!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<a}return pE=r,pE}var mE,pj;function nI(){if(pj)return mE;pj=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return mE=t,mE}var gE,mj;function zxe(){if(mj)return gE;mj=1;var e=Ch(),t=nI(),r=Th(),n="[object Arguments]",a="[object Array]",i="[object Boolean]",o="[object Date]",s="[object Error]",l="[object Function]",u="[object Map]",d="[object Number]",f="[object Object]",h="[object RegExp]",m="[object Set]",x="[object String]",g="[object WeakMap]",y="[object ArrayBuffer]",_="[object DataView]",b="[object Float32Array]",S="[object Float64Array]",C="[object Int8Array]",E="[object Int16Array]",D="[object Int32Array]",T="[object Uint8Array]",I="[object Uint8ClampedArray]",L="[object Uint16Array]",B="[object Uint32Array]",P={};P[b]=P[S]=P[C]=P[E]=P[D]=P[T]=P[I]=P[L]=P[B]=!0,P[n]=P[a]=P[y]=P[i]=P[_]=P[o]=P[s]=P[l]=P[u]=P[d]=P[f]=P[h]=P[m]=P[x]=P[g]=!1;function O(j){return r(j)&&t(j.length)&&!!P[e(j)]}return gE=O,gE}var vE,gj;function fZ(){if(gj)return vE;gj=1;function e(t){return function(r){return t(r)}}return vE=e,vE}var y2={exports:{}};y2.exports;var vj;function Wxe(){return vj||(vj=1,function(e,t){var r=OX(),n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i&&r.process,s=function(){try{var l=a&&a.require&&a.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();e.exports=s}(y2,y2.exports)),y2.exports}var yE,yj;function hZ(){if(yj)return yE;yj=1;var e=zxe(),t=fZ(),r=Wxe(),n=r&&r.isTypedArray,a=n?t(n):e;return yE=a,yE}var xE,xj;function Hxe(){if(xj)return xE;xj=1;var e=Bxe(),t=tI(),r=Ll(),n=dZ(),a=rI(),i=hZ(),o=Object.prototype,s=o.hasOwnProperty;function l(u,d){var f=r(u),h=!f&&t(u),m=!f&&!h&&n(u),x=!f&&!h&&!m&&i(u),g=f||h||m||x,y=g?e(u.length,String):[],_=y.length;for(var b in u)(d||s.call(u,b))&&!(g&&(b=="length"||m&&(b=="offset"||b=="parent")||x&&(b=="buffer"||b=="byteLength"||b=="byteOffset")||a(b,_)))&&y.push(b);return y}return xE=l,xE}var wE,wj;function Vxe(){if(wj)return wE;wj=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,a=typeof n=="function"&&n.prototype||e;return r===a}return wE=t,wE}var _E,_j;function pZ(){if(_j)return _E;_j=1;function e(t,r){return function(n){return t(r(n))}}return _E=e,_E}var bE,bj;function Gxe(){if(bj)return bE;bj=1;var e=pZ(),t=e(Object.keys,Object);return bE=t,bE}var SE,Sj;function Kxe(){if(Sj)return SE;Sj=1;var e=Vxe(),t=Gxe(),r=Object.prototype,n=r.hasOwnProperty;function a(i){if(!e(i))return t(i);var o=[];for(var s in Object(i))n.call(i,s)&&s!="constructor"&&o.push(s);return o}return SE=a,SE}var AE,Aj;function jw(){if(Aj)return AE;Aj=1;var e=UD(),t=nI();function r(n){return n!=null&&t(n.length)&&!e(n)}return AE=r,AE}var kE,kj;function X4(){if(kj)return kE;kj=1;var e=Hxe(),t=Kxe(),r=jw();function n(a){return r(a)?e(a):t(a)}return kE=n,kE}var NE,Nj;function Yxe(){if(Nj)return NE;Nj=1;var e=Fxe(),t=$xe(),r=X4();function n(a){return e(a,r,t)}return NE=n,NE}var EE,Ej;function Xxe(){if(Ej)return EE;Ej=1;var e=Yxe(),t=1,r=Object.prototype,n=r.hasOwnProperty;function a(i,o,s,l,u,d){var f=s&t,h=e(i),m=h.length,x=e(o),g=x.length;if(m!=g&&!f)return!1;for(var y=m;y--;){var _=h[y];if(!(f?_ in o:n.call(o,_)))return!1}var b=d.get(i),S=d.get(o);if(b&&S)return b==o&&S==i;var C=!0;d.set(i,o),d.set(o,i);for(var E=f;++y<m;){_=h[y];var D=i[_],T=o[_];if(l)var I=f?l(T,D,_,o,i,d):l(D,T,_,i,o,d);if(!(I===void 0?D===T||u(D,T,s,l,d):I)){C=!1;break}E||(E=_=="constructor")}if(C&&!E){var L=i.constructor,B=o.constructor;L!=B&&"constructor"in i&&"constructor"in o&&!(typeof L=="function"&&L instanceof L&&typeof B=="function"&&B instanceof B)&&(C=!1)}return d.delete(i),d.delete(o),C}return EE=a,EE}var CE,Cj;function Zxe(){if(Cj)return CE;Cj=1;var e=wg(),t=pf(),r=e(t,"DataView");return CE=r,CE}var TE,Tj;function Jxe(){if(Tj)return TE;Tj=1;var e=wg(),t=pf(),r=e(t,"Promise");return TE=r,TE}var PE,Pj;function mZ(){if(Pj)return PE;Pj=1;var e=wg(),t=pf(),r=e(t,"Set");return PE=r,PE}var OE,Oj;function Qxe(){if(Oj)return OE;Oj=1;var e=wg(),t=pf(),r=e(t,"WeakMap");return OE=r,OE}var DE,Dj;function ewe(){if(Dj)return DE;Dj=1;var e=Zxe(),t=zD(),r=Jxe(),n=mZ(),a=Qxe(),i=Ch(),o=DX(),s="[object Map]",l="[object Object]",u="[object Promise]",d="[object Set]",f="[object WeakMap]",h="[object DataView]",m=o(e),x=o(t),g=o(r),y=o(n),_=o(a),b=i;return(e&&b(new e(new ArrayBuffer(1)))!=h||t&&b(new t)!=s||r&&b(r.resolve())!=u||n&&b(new n)!=d||a&&b(new a)!=f)&&(b=function(S){var C=i(S),E=C==l?S.constructor:void 0,D=E?o(E):"";if(D)switch(D){case m:return h;case x:return s;case g:return u;case y:return d;case _:return f}return C}),DE=b,DE}var IE,Ij;function twe(){if(Ij)return IE;Ij=1;var e=iZ(),t=cZ(),r=Mxe(),n=Xxe(),a=ewe(),i=Ll(),o=dZ(),s=hZ(),l=1,u="[object Arguments]",d="[object Array]",f="[object Object]",h=Object.prototype,m=h.hasOwnProperty;function x(g,y,_,b,S,C){var E=i(g),D=i(y),T=E?d:a(g),I=D?d:a(y);T=T==u?f:T,I=I==u?f:I;var L=T==f,B=I==f,P=T==I;if(P&&o(g)){if(!o(y))return!1;E=!0,L=!1}if(P&&!L)return C||(C=new e),E||s(g)?t(g,y,_,b,S,C):r(g,y,T,_,b,S,C);if(!(_&l)){var O=L&&m.call(g,"__wrapped__"),j=B&&m.call(y,"__wrapped__");if(O||j){var G=O?g.value():g,Y=j?y.value():y;return C||(C=new e),S(G,Y,_,b,C)}}return P?(C||(C=new e),n(g,y,_,b,S,C)):!1}return IE=x,IE}var RE,Rj;function aI(){if(Rj)return RE;Rj=1;var e=twe(),t=Th();function r(n,a,i,o,s){return n===a?!0:n==null||a==null||!t(n)&&!t(a)?n!==n&&a!==a:e(n,a,i,o,r,s)}return RE=r,RE}var ME,Mj;function rwe(){if(Mj)return ME;Mj=1;var e=iZ(),t=aI(),r=1,n=2;function a(i,o,s,l){var u=s.length,d=u,f=!l;if(i==null)return!d;for(i=Object(i);u--;){var h=s[u];if(f&&h[2]?h[1]!==i[h[0]]:!(h[0]in i))return!1}for(;++u<d;){h=s[u];var m=h[0],x=i[m],g=h[1];if(f&&h[2]){if(x===void 0&&!(m in i))return!1}else{var y=new e;if(l)var _=l(x,g,m,i,o,y);if(!(_===void 0?t(g,x,r|n,l,y):_))return!1}}return!0}return ME=a,ME}var FE,Fj;function gZ(){if(Fj)return FE;Fj=1;var e=E0();function t(r){return r===r&&!e(r)}return FE=t,FE}var LE,Lj;function nwe(){if(Lj)return LE;Lj=1;var e=gZ(),t=X4();function r(n){for(var a=t(n),i=a.length;i--;){var o=a[i],s=n[o];a[i]=[o,s,e(s)]}return a}return LE=r,LE}var jE,jj;function vZ(){if(jj)return jE;jj=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return jE=e,jE}var $E,$j;function awe(){if($j)return $E;$j=1;var e=rwe(),t=nwe(),r=vZ();function n(a){var i=t(a);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(o){return o===a||e(o,a,i)}}return $E=n,$E}var BE,Bj;function iwe(){if(Bj)return BE;Bj=1;function e(t,r){return t!=null&&r in Object(t)}return BE=e,BE}var UE,Uj;function owe(){if(Uj)return UE;Uj=1;var e=MX(),t=tI(),r=Ll(),n=rI(),a=nI(),i=H4();function o(s,l,u){l=e(l,s);for(var d=-1,f=l.length,h=!1;++d<f;){var m=i(l[d]);if(!(h=s!=null&&u(s,m)))break;s=s[m]}return h||++d!=f?h:(f=s==null?0:s.length,!!f&&a(f)&&n(m,f)&&(r(s)||t(s)))}return UE=o,UE}var qE,qj;function swe(){if(qj)return qE;qj=1;var e=iwe(),t=owe();function r(n,a){return n!=null&&t(n,a,e)}return qE=r,qE}var zE,zj;function lwe(){if(zj)return zE;zj=1;var e=aI(),t=FX(),r=swe(),n=BD(),a=gZ(),i=vZ(),o=H4(),s=1,l=2;function u(d,f){return n(d)&&a(f)?i(o(d),f):function(h){var m=t(h,d);return m===void 0&&m===f?r(h,d):e(f,m,s|l)}}return zE=u,zE}var WE,Wj;function dy(){if(Wj)return WE;Wj=1;function e(t){return t}return WE=e,WE}var HE,Hj;function cwe(){if(Hj)return HE;Hj=1;function e(t){return function(r){return r==null?void 0:r[t]}}return HE=e,HE}var VE,Vj;function uwe(){if(Vj)return VE;Vj=1;var e=VD();function t(r){return function(n){return e(n,r)}}return VE=t,VE}var GE,Gj;function dwe(){if(Gj)return GE;Gj=1;var e=cwe(),t=uwe(),r=BD(),n=H4();function a(i){return r(i)?e(n(i)):t(i)}return GE=a,GE}var KE,Kj;function mf(){if(Kj)return KE;Kj=1;var e=awe(),t=lwe(),r=dy(),n=Ll(),a=dwe();function i(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?t(o[0],o[1]):e(o):a(o)}return KE=i,KE}var YE,Yj;function yZ(){if(Yj)return YE;Yj=1;function e(t,r,n,a){for(var i=t.length,o=n+(a?1:-1);a?o--:++o<i;)if(r(t[o],o,t))return o;return-1}return YE=e,YE}var XE,Xj;function fwe(){if(Xj)return XE;Xj=1;function e(t){return t!==t}return XE=e,XE}var ZE,Zj;function hwe(){if(Zj)return ZE;Zj=1;function e(t,r,n){for(var a=n-1,i=t.length;++a<i;)if(t[a]===r)return a;return-1}return ZE=e,ZE}var JE,Jj;function pwe(){if(Jj)return JE;Jj=1;var e=yZ(),t=fwe(),r=hwe();function n(a,i,o){return i===i?r(a,i,o):e(a,t,o)}return JE=n,JE}var QE,Qj;function mwe(){if(Qj)return QE;Qj=1;var e=pwe();function t(r,n){var a=r==null?0:r.length;return!!a&&e(r,n,0)>-1}return QE=t,QE}var eC,e$;function gwe(){if(e$)return eC;e$=1;function e(t,r,n){for(var a=-1,i=t==null?0:t.length;++a<i;)if(n(r,t[a]))return!0;return!1}return eC=e,eC}var tC,t$;function vwe(){if(t$)return tC;t$=1;function e(){}return tC=e,tC}var rC,r$;function ywe(){if(r$)return rC;r$=1;var e=mZ(),t=vwe(),r=eI(),n=1/0,a=e&&1/r(new e([,-0]))[1]==n?function(i){return new e(i)}:t;return rC=a,rC}var nC,n$;function xwe(){if(n$)return nC;n$=1;var e=oZ(),t=mwe(),r=gwe(),n=lZ(),a=ywe(),i=eI(),o=200;function s(l,u,d){var f=-1,h=t,m=l.length,x=!0,g=[],y=g;if(d)x=!1,h=r;else if(m>=o){var _=u?null:a(l);if(_)return i(_);x=!1,h=n,y=new e}else y=u?[]:g;e:for(;++f<m;){var b=l[f],S=u?u(b):b;if(b=d||b!==0?b:0,x&&S===S){for(var C=y.length;C--;)if(y[C]===S)continue e;u&&y.push(S),g.push(b)}else h(y,S,d)||(y!==g&&y.push(S),g.push(b))}return g}return nC=s,nC}var aC,a$;function wwe(){if(a$)return aC;a$=1;var e=mf(),t=xwe();function r(n,a){return n&&n.length?t(n,e(a,2)):[]}return aC=r,aC}var _we=wwe();const i$=oa(_we);function xZ(e,t,r){return t===!0?i$(e,r):Kr(t)?i$(e,t):e}function g1(e){"@babel/helpers - typeof";return g1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g1(e)}var bwe=["ref"];function o$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o$(Object(r),!0).forEach(function(n){Z4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Swe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_Z(n.key),n)}}function Awe(e,t,r){return t&&s$(e.prototype,t),r&&s$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function kwe(e,t,r){return t=O5(t),Nwe(e,wZ()?Reflect.construct(t,r||[],O5(e).constructor):t.apply(e,r))}function Nwe(e,t){if(t&&(g1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ewe(e)}function Ewe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wZ=function(){return!!e})()}function O5(e){return O5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},O5(e)}function Cwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F6(e,t)}function F6(e,t){return F6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},F6(e,t)}function Z4(e,t,r){return t=_Z(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _Z(e){var t=Twe(e,"string");return g1(t)=="symbol"?t:t+""}function Twe(e,t){if(g1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(g1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Pwe(e,t){if(e==null)return{};var r=Owe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Owe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Dwe(e){return e.value}function Iwe(e,t){if(Je.isValidElement(e))return Je.cloneElement(e,t);if(typeof e=="function")return Je.createElement(e,t);t.ref;var r=Pwe(t,bwe);return c(QD,{...r})}var l$=1,Hu=function(e){function t(){var r;Swe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=kwe(this,t,[].concat(a)),Z4(r,"lastBoundingBox",{width:-1,height:-1}),r}return Cwe(t,e),Awe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>l$||Math.abs(a.height-this.lastBoundingBox.height)>l$)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Xf({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,s=a.verticalAlign,l=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var x=this.getBBoxSnapshot();h={top:((d||0)-x.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Xf(Xf({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,s=a.height,l=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=Xf(Xf({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return c("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){n.wrapperNode=m},children:Iwe(i,Xf(Xf({},this.props),{},{payload:xZ(d,u,Dwe)}))})}}],[{key:"getWithHeight",value:function(n,a){var i=Xf(Xf({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&Ht(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(A.PureComponent);Z4(Hu,"displayName","Legend");Z4(Hu,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var iC,c$;function Rwe(){if(c$)return iC;c$=1;var e=Lw(),t=tI(),r=Ll(),n=e?e.isConcatSpreadable:void 0;function a(i){return r(i)||t(i)||!!(n&&i&&i[n])}return iC=a,iC}var oC,u$;function bZ(){if(u$)return oC;u$=1;var e=uZ(),t=Rwe();function r(n,a,i,o,s){var l=-1,u=n.length;for(i||(i=t),s||(s=[]);++l<u;){var d=n[l];a>0&&i(d)?a>1?r(d,a-1,i,o,s):e(s,d):o||(s[s.length]=d)}return s}return oC=r,oC}var sC,d$;function Mwe(){if(d$)return sC;d$=1;function e(t){return function(r,n,a){for(var i=-1,o=Object(r),s=a(r),l=s.length;l--;){var u=s[t?l:++i];if(n(o[u],u,o)===!1)break}return r}}return sC=e,sC}var lC,f$;function Fwe(){if(f$)return lC;f$=1;var e=Mwe(),t=e();return lC=t,lC}var cC,h$;function SZ(){if(h$)return cC;h$=1;var e=Fwe(),t=X4();function r(n,a){return n&&e(n,a,t)}return cC=r,cC}var uC,p$;function Lwe(){if(p$)return uC;p$=1;var e=jw();function t(r,n){return function(a,i){if(a==null)return a;if(!e(a))return r(a,i);for(var o=a.length,s=n?o:-1,l=Object(a);(n?s--:++s<o)&&i(l[s],s,l)!==!1;);return a}}return uC=t,uC}var dC,m$;function iI(){if(m$)return dC;m$=1;var e=SZ(),t=Lwe(),r=t(e);return dC=r,dC}var fC,g$;function AZ(){if(g$)return fC;g$=1;var e=iI(),t=jw();function r(n,a){var i=-1,o=t(n)?Array(n.length):[];return e(n,function(s,l,u){o[++i]=a(s,l,u)}),o}return fC=r,fC}var hC,v$;function jwe(){if(v$)return hC;v$=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return hC=e,hC}var pC,y$;function $we(){if(y$)return pC;y$=1;var e=ly();function t(r,n){if(r!==n){var a=r!==void 0,i=r===null,o=r===r,s=e(r),l=n!==void 0,u=n===null,d=n===n,f=e(n);if(!u&&!f&&!s&&r>n||s&&l&&d&&!u&&!f||i&&l&&d||!a&&d||!o)return 1;if(!i&&!s&&!f&&r<n||f&&a&&o&&!i&&!s||u&&a&&o||!l&&o||!d)return-1}return 0}return pC=t,pC}var mC,x$;function Bwe(){if(x$)return mC;x$=1;var e=$we();function t(r,n,a){for(var i=-1,o=r.criteria,s=n.criteria,l=o.length,u=a.length;++i<l;){var d=e(o[i],s[i]);if(d){if(i>=u)return d;var f=a[i];return d*(f=="desc"?-1:1)}}return r.index-n.index}return mC=t,mC}var gC,w$;function Uwe(){if(w$)return gC;w$=1;var e=HD(),t=VD(),r=mf(),n=AZ(),a=jwe(),i=fZ(),o=Bwe(),s=dy(),l=Ll();function u(d,f,h){f.length?f=e(f,function(g){return l(g)?function(y){return t(y,g.length===1?g[0]:g)}:g}):f=[s];var m=-1;f=e(f,i(r));var x=n(d,function(g,y,_){var b=e(f,function(S){return S(g)});return{criteria:b,index:++m,value:g}});return a(x,function(g,y){return o(g,y,h)})}return gC=u,gC}var vC,_$;function qwe(){if(_$)return vC;_$=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return vC=e,vC}var yC,b$;function zwe(){if(b$)return yC;b$=1;var e=qwe(),t=Math.max;function r(n,a,i){return a=t(a===void 0?n.length-1:a,0),function(){for(var o=arguments,s=-1,l=t(o.length-a,0),u=Array(l);++s<l;)u[s]=o[a+s];s=-1;for(var d=Array(a+1);++s<a;)d[s]=o[s];return d[a]=i(u),e(n,this,d)}}return yC=r,yC}var xC,S$;function Wwe(){if(S$)return xC;S$=1;function e(t){return function(){return t}}return xC=e,xC}var wC,A$;function kZ(){if(A$)return wC;A$=1;var e=wg(),t=function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}}();return wC=t,wC}var _C,k$;function Hwe(){if(k$)return _C;k$=1;var e=Wwe(),t=kZ(),r=dy(),n=t?function(a,i){return t(a,"toString",{configurable:!0,enumerable:!1,value:e(i),writable:!0})}:r;return _C=n,_C}var bC,N$;function Vwe(){if(N$)return bC;N$=1;var e=800,t=16,r=Date.now;function n(a){var i=0,o=0;return function(){var s=r(),l=t-(s-o);if(o=s,l>0){if(++i>=e)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return bC=n,bC}var SC,E$;function Gwe(){if(E$)return SC;E$=1;var e=Hwe(),t=Vwe(),r=t(e);return SC=r,SC}var AC,C$;function Kwe(){if(C$)return AC;C$=1;var e=dy(),t=zwe(),r=Gwe();function n(a,i){return r(t(a,i,e),a+"")}return AC=n,AC}var kC,T$;function J4(){if(T$)return kC;T$=1;var e=qD(),t=jw(),r=rI(),n=E0();function a(i,o,s){if(!n(s))return!1;var l=typeof o;return(l=="number"?t(s)&&r(o,s.length):l=="string"&&o in s)?e(s[o],i):!1}return kC=a,kC}var NC,P$;function Ywe(){if(P$)return NC;P$=1;var e=bZ(),t=Uwe(),r=Kwe(),n=J4(),a=r(function(i,o){if(i==null)return[];var s=o.length;return s>1&&n(i,o[0],o[1])?o=[]:s>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),t(i,e(o,1),[])});return NC=a,NC}var Xwe=Ywe();const oI=oa(Xwe);function fx(e){"@babel/helpers - typeof";return fx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fx(e)}function L6(){return L6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L6.apply(this,arguments)}function Zwe(e,t){return t_e(e)||e_e(e,t)||Qwe(e,t)||Jwe()}function Jwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qwe(e,t){if(e){if(typeof e=="string")return O$(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O$(e,t)}}function O$(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function e_e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function t_e(e){if(Array.isArray(e))return e}function D$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function EC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D$(Object(r),!0).forEach(function(n){r_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r_e(e,t,r){return t=n_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n_e(e){var t=a_e(e,"string");return fx(t)=="symbol"?t:t+""}function a_e(e,t){if(fx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function i_e(e){return Array.isArray(e)&&yo(e[0])&&yo(e[1])?e.join(" ~ "):e}var o_e=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,s=o===void 0?{}:o,l=t.labelStyle,u=l===void 0?{}:l,d=t.payload,f=t.formatter,h=t.itemSorter,m=t.wrapperClassName,x=t.labelClassName,g=t.label,y=t.labelFormatter,_=t.accessibilityLayer,b=_===void 0?!1:_,S=function(){if(d&&d.length){var O={padding:0,margin:0},j=(h?oI(d,h):d).map(function(G,Y){if(G.type==="none")return null;var re=EC({display:"block",paddingTop:4,paddingBottom:4,color:G.color||"#000"},s),q=G.formatter||f||i_e,K=G.value,z=G.name,te=K,Q=z;if(q&&te!=null&&Q!=null){var R=q(K,z,G,Y,d);if(Array.isArray(R)){var H=Zwe(R,2);te=H[0],Q=H[1]}else te=R}return Je.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Y),style:re},yo(Q)?Je.createElement("span",{className:"recharts-tooltip-item-name"},Q):null,yo(Q)?Je.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,Je.createElement("span",{className:"recharts-tooltip-item-value"},te),Je.createElement("span",{className:"recharts-tooltip-item-unit"},G.unit||""))});return Je.createElement("ul",{className:"recharts-tooltip-item-list",style:O},j)}return null},C=EC({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),E=EC({margin:0},u),D=!fn(g),T=D?g:"",I=hn("recharts-default-tooltip",m),L=hn("recharts-tooltip-label",x);D&&y&&d!==void 0&&d!==null&&(T=y(g,d));var B=b?{role:"status","aria-live":"assertive"}:{};return Je.createElement("div",L6({className:I,style:C},B),Je.createElement("p",{className:L,style:E},Je.isValidElement(T)?T:"".concat(T)),S())};function hx(e){"@babel/helpers - typeof";return hx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hx(e)}function sb(e,t,r){return t=s_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s_e(e){var t=l_e(e,"string");return hx(t)=="symbol"?t:t+""}function l_e(e,t){if(hx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xy="recharts-tooltip-wrapper",c_e={visibility:"hidden"};function u_e(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return hn(Xy,sb(sb(sb(sb({},"".concat(Xy,"-right"),Ht(r)&&t&&Ht(t.x)&&r>=t.x),"".concat(Xy,"-left"),Ht(r)&&t&&Ht(t.x)&&r<t.x),"".concat(Xy,"-bottom"),Ht(n)&&t&&Ht(t.y)&&n>=t.y),"".concat(Xy,"-top"),Ht(n)&&t&&Ht(t.y)&&n<t.y))}function I$(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,u=e.viewBoxDimension;if(i&&Ht(i[n]))return i[n];var d=r[n]-s-a,f=r[n]+a;if(t[n])return o[n]?d:f;if(o[n]){var h=d,m=l[n];return h<m?Math.max(f,l[n]):Math.max(d,l[n])}var x=f+s,g=l[n]+u;return x>g?Math.max(d,l[n]):Math.max(f,l[n])}function d_e(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function f_e(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,s=e.useTranslate3d,l=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=I$({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=I$({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=d_e({translateX:d,translateY:f,useTranslate3d:s})):u=c_e,{cssProperties:u,cssClasses:u_e({translateX:d,translateY:f,coordinate:r})}}function v1(e){"@babel/helpers - typeof";return v1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v1(e)}function R$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function M$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R$(Object(r),!0).forEach(function(n){$6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function h_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p_e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,EZ(n.key),n)}}function m_e(e,t,r){return t&&p_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function g_e(e,t,r){return t=D5(t),v_e(e,NZ()?Reflect.construct(t,r||[],D5(e).constructor):t.apply(e,r))}function v_e(e,t){if(t&&(v1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y_e(e)}function y_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NZ=function(){return!!e})()}function D5(e){return D5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},D5(e)}function x_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&j6(e,t)}function j6(e,t){return j6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},j6(e,t)}function $6(e,t,r){return t=EZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EZ(e){var t=w_e(e,"string");return v1(t)=="symbol"?t:t+""}function w_e(e,t){if(v1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(v1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var F$=1,__e=function(e){function t(){var r;h_e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=g_e(this,t,[].concat(a)),$6(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),$6(r,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return x_e(t,e),m_e(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>F$||Math.abs(n.height-this.state.lastBoundingBox.height)>F$)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,s=a.animationDuration,l=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,m=a.offset,x=a.position,g=a.reverseDirection,y=a.useTranslate3d,_=a.viewBox,b=a.wrapperStyle,S=f_e({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:m,position:x,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:_}),C=S.cssClasses,E=S.cssProperties,D=M$(M$({transition:h&&i?"transform ".concat(s,"ms ").concat(l):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return c("div",{tabIndex:-1,className:C,style:D,ref:function(I){n.wrapperNode=I},children:u})}}])}(A.PureComponent),b_e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},C0={isSsr:b_e()};function y1(e){"@babel/helpers - typeof";return y1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y1(e)}function L$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function j$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L$(Object(r),!0).forEach(function(n){sI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function S_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A_e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,TZ(n.key),n)}}function k_e(e,t,r){return t&&A_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function N_e(e,t,r){return t=I5(t),E_e(e,CZ()?Reflect.construct(t,r||[],I5(e).constructor):t.apply(e,r))}function E_e(e,t){if(t&&(y1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C_e(e)}function C_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CZ=function(){return!!e})()}function I5(e){return I5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},I5(e)}function T_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B6(e,t)}function B6(e,t){return B6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},B6(e,t)}function sI(e,t,r){return t=TZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TZ(e){var t=P_e(e,"string");return y1(t)=="symbol"?t:t+""}function P_e(e,t){if(y1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(y1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function O_e(e){return e.dataKey}function D_e(e,t){return Je.isValidElement(e)?Je.cloneElement(e,t):typeof e=="function"?Je.createElement(e,t):c(o_e,{...t})}var Xa=function(e){function t(){return S_e(this,t),N_e(this,t,arguments)}return T_e(t,e),k_e(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,s=a.animationDuration,l=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,m=a.offset,x=a.payload,g=a.payloadUniqBy,y=a.position,_=a.reverseDirection,b=a.useTranslate3d,S=a.viewBox,C=a.wrapperStyle,E=x??[];f&&E.length&&(E=xZ(x.filter(function(T){return T.value!=null&&(T.hide!==!0||n.props.includeHidden)}),g,O_e));var D=E.length>0;return c(__e,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:h,active:i,coordinate:d,hasPayload:D,offset:m,position:y,reverseDirection:_,useTranslate3d:b,viewBox:S,wrapperStyle:C,children:D_e(u,j$(j$({},this.props),{},{payload:E}))})}}])}(A.PureComponent);sI(Xa,"displayName","Tooltip");sI(Xa,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!C0.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var CC,$$;function I_e(){if($$)return CC;$$=1;var e=pf(),t=function(){return e.Date.now()};return CC=t,CC}var TC,B$;function R_e(){if(B$)return TC;B$=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return TC=t,TC}var PC,U$;function M_e(){if(U$)return PC;U$=1;var e=R_e(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return PC=r,PC}var OC,q$;function PZ(){if(q$)return OC;q$=1;var e=M_e(),t=E0(),r=ly(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt;function l(u){if(typeof u=="number")return u;if(r(u))return n;if(t(u)){var d=typeof u.valueOf=="function"?u.valueOf():u;u=t(d)?d+"":d}if(typeof u!="string")return u===0?u:+u;u=e(u);var f=i.test(u);return f||o.test(u)?s(u.slice(2),f?2:8):a.test(u)?n:+u}return OC=l,OC}var DC,z$;function F_e(){if(z$)return DC;z$=1;var e=E0(),t=I_e(),r=PZ(),n="Expected a function",a=Math.max,i=Math.min;function o(s,l,u){var d,f,h,m,x,g,y=0,_=!1,b=!1,S=!0;if(typeof s!="function")throw new TypeError(n);l=r(l)||0,e(u)&&(_=!!u.leading,b="maxWait"in u,h=b?a(r(u.maxWait)||0,l):h,S="trailing"in u?!!u.trailing:S);function C(j){var G=d,Y=f;return d=f=void 0,y=j,m=s.apply(Y,G),m}function E(j){return y=j,x=setTimeout(I,l),_?C(j):m}function D(j){var G=j-g,Y=j-y,re=l-G;return b?i(re,h-Y):re}function T(j){var G=j-g,Y=j-y;return g===void 0||G>=l||G<0||b&&Y>=h}function I(){var j=t();if(T(j))return L(j);x=setTimeout(I,D(j))}function L(j){return x=void 0,S&&d?C(j):(d=f=void 0,m)}function B(){x!==void 0&&clearTimeout(x),y=0,d=g=f=x=void 0}function P(){return x===void 0?m:L(t())}function O(){var j=t(),G=T(j);if(d=arguments,f=this,g=j,G){if(x===void 0)return E(g);if(b)return clearTimeout(x),x=setTimeout(I,l),C(g)}return x===void 0&&(x=setTimeout(I,l)),m}return O.cancel=B,O.flush=P,O}return DC=o,DC}var IC,W$;function L_e(){if(W$)return IC;W$=1;var e=F_e(),t=E0(),r="Expected a function";function n(a,i,o){var s=!0,l=!0;if(typeof a!="function")throw new TypeError(r);return t(o)&&(s="leading"in o?!!o.leading:s,l="trailing"in o?!!o.trailing:l),e(a,i,{leading:s,maxWait:i,trailing:l})}return IC=n,IC}var j_e=L_e();const OZ=oa(j_e);function px(e){"@babel/helpers - typeof";return px=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},px(e)}function H$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H$(Object(r),!0).forEach(function(n){$_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $_e(e,t,r){return t=B_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B_e(e){var t=U_e(e,"string");return px(t)=="symbol"?t:t+""}function U_e(e,t){if(px(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(px(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function q_e(e,t){return V_e(e)||H_e(e,t)||W_e(e,t)||z_e()}function z_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W_e(e,t){if(e){if(typeof e=="string")return V$(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V$(e,t)}}function V$(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function H_e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function V_e(e){if(Array.isArray(e))return e}var ks=A.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,s=e.height,l=s===void 0?"100%":s,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,m=e.children,x=e.debounce,g=x===void 0?0:x,y=e.id,_=e.className,b=e.onResize,S=e.style,C=S===void 0?{}:S,E=A.useRef(null),D=A.useRef();D.current=b,A.useImperativeHandle(t,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var T=A.useState({containerWidth:a.width,containerHeight:a.height}),I=q_e(T,2),L=I[0],B=I[1],P=A.useCallback(function(j,G){B(function(Y){var re=Math.round(j),q=Math.round(G);return Y.containerWidth===re&&Y.containerHeight===q?Y:{containerWidth:re,containerHeight:q}})},[]);A.useEffect(function(){var j=function(z){var te,Q=z[0].contentRect,R=Q.width,H=Q.height;P(R,H),(te=D.current)===null||te===void 0||te.call(D,R,H)};g>0&&(j=OZ(j,g,{trailing:!0,leading:!1}));var G=new ResizeObserver(j),Y=E.current.getBoundingClientRect(),re=Y.width,q=Y.height;return P(re,q),G.observe(E.current),function(){G.disconnect()}},[P,g]);var O=A.useMemo(function(){var j=L.containerWidth,G=L.containerHeight;if(j<0||G<0)return null;Wu(Pm(o)||Pm(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),Wu(!r||r>0,"The aspect(%s) must be greater than zero.",r);var Y=Pm(o)?j:o,re=Pm(l)?G:l;r&&r>0&&(Y?re=Y/r:re&&(Y=re*r),h&&re>h&&(re=h)),Wu(Y>0||re>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Y,re,o,l,d,f,r);var q=!Array.isArray(m)&&ch(m.type).endsWith("Chart");return Je.Children.map(m,function(K){return Je.isValidElement(K)?A.cloneElement(K,lb({width:Y,height:re},q?{style:lb({height:"100%",width:"100%",maxHeight:re,maxWidth:Y},K.props.style)}:{})):K})},[r,m,l,h,f,d,L,o]);return c("div",{id:y?"".concat(y):void 0,className:hn("recharts-responsive-container",_),style:lb(lb({},C),{},{width:o,height:l,minWidth:d,minHeight:f,maxHeight:h}),ref:E,children:O})}),Hc=function(t){return null};Hc.displayName="Cell";function mx(e){"@babel/helpers - typeof";return mx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mx(e)}function G$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function U6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G$(Object(r),!0).forEach(function(n){G_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function G_e(e,t,r){return t=K_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K_e(e){var t=Y_e(e,"string");return mx(t)=="symbol"?t:t+""}function Y_e(e,t){if(mx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wv={widthCache:{},cacheCount:0},X_e=2e3,Z_e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},K$="recharts_measurement_span";function J_e(e){var t=U6({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var I2=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||C0.isSsr)return{width:0,height:0};var n=J_e(r),a=JSON.stringify({text:t,copyStyle:n});if(wv.widthCache[a])return wv.widthCache[a];try{var i=document.getElementById(K$);i||(i=document.createElement("span"),i.setAttribute("id",K$),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=U6(U6({},Z_e),n);Object.assign(i.style,o),i.textContent="".concat(t);var s=i.getBoundingClientRect(),l={width:s.width,height:s.height};return wv.widthCache[a]=l,++wv.cacheCount>X_e&&(wv.cacheCount=0,wv.widthCache={}),l}catch{return{width:0,height:0}}},Q_e=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function gx(e){"@babel/helpers - typeof";return gx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gx(e)}function R5(e,t){return nbe(e)||rbe(e,t)||tbe(e,t)||ebe()}function ebe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tbe(e,t){if(e){if(typeof e=="string")return Y$(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y$(e,t)}}function Y$(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rbe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function nbe(e){if(Array.isArray(e))return e}function abe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,obe(n.key),n)}}function ibe(e,t,r){return t&&X$(e.prototype,t),r&&X$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function obe(e){var t=sbe(e,"string");return gx(t)=="symbol"?t:t+""}function sbe(e,t){if(gx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Z$=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,J$=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,lbe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,cbe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,DZ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},ube=Object.keys(DZ),Lv="NaN";function dbe(e,t){return e*DZ[t]}var cb=function(){function e(t,r){abe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!lbe.test(r)&&(this.num=NaN,this.unit=""),ube.includes(r)&&(this.num=dbe(t,r),this.unit="px")}return ibe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=cbe.exec(r))!==null&&n!==void 0?n:[],i=R5(a,3),o=i[1],s=i[2];return new e(parseFloat(o),s??"")}}])}();function IZ(e){if(e.includes(Lv))return Lv;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=Z$.exec(t))!==null&&r!==void 0?r:[],a=R5(n,4),i=a[1],o=a[2],s=a[3],l=cb.parse(i??""),u=cb.parse(s??""),d=o==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return Lv;t=t.replace(Z$,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=J$.exec(t))!==null&&f!==void 0?f:[],m=R5(h,4),x=m[1],g=m[2],y=m[3],_=cb.parse(x??""),b=cb.parse(y??""),S=g==="+"?_.add(b):_.subtract(b);if(S.isNaN())return Lv;t=t.replace(J$,S.toString())}return t}var Q$=/\(([^()]*)\)/;function fbe(e){for(var t=e;t.includes("(");){var r=Q$.exec(t),n=R5(r,2),a=n[1];t=t.replace(Q$,IZ(a))}return t}function hbe(e){var t=e.replace(/\s+/g,"");return t=fbe(t),t=IZ(t),t}function pbe(e){try{return hbe(e)}catch{return Lv}}function RC(e){var t=pbe(e.slice(5,-1));return t===Lv?"":t}var mbe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],gbe=["dx","dy","angle","className","breakAll"];function eB(e,t){if(e==null)return{};var r=vbe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function tB(e,t){return _be(e)||wbe(e,t)||xbe(e,t)||ybe()}function ybe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xbe(e,t){if(e){if(typeof e=="string")return rB(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rB(e,t)}}function rB(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wbe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function _be(e){if(Array.isArray(e))return e}var RZ=/[ \f\n\r\t\v\u2028\u2029]+/,MZ=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];fn(r)||(n?i=r.toString().split(""):i=r.toString().split(RZ));var o=i.map(function(l){return{word:l,width:I2(l,a).width}}),s=n?0:I2("",a).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},bbe=function(t,r,n,a,i){var o=t.maxLines,s=t.children,l=t.style,u=t.breakAll,d=Ht(o),f=s,h=function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Y.reduce(function(re,q){var K=q.word,z=q.width,te=re[re.length-1];if(te&&(a==null||i||te.width+z+n<Number(a)))te.words.push(K),te.width+=z+n;else{var Q={words:[K],width:z};re.push(Q)}return re},[])},m=h(r),x=function(Y){return Y.reduce(function(re,q){return re.width>q.width?re:q})};if(!d)return m;for(var g="",y=function(Y){var re=f.slice(0,Y),q=MZ({breakAll:u,style:l,children:re+g}).wordsWithComputedWidth,K=h(q),z=K.length>o||x(K).width>Number(a);return[z,K]},_=0,b=f.length-1,S=0,C;_<=b&&S<=f.length-1;){var E=Math.floor((_+b)/2),D=E-1,T=y(D),I=tB(T,2),L=I[0],B=I[1],P=y(E),O=tB(P,1),j=O[0];if(!L&&!j&&(_=E+1),L&&j&&(b=E-1),!L&&j){C=B;break}S++}return C||m},nB=function(t){var r=fn(t)?[]:t.toString().split(RZ);return[{words:r}]},Sbe=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,s=t.maxLines;if((r||n)&&!C0.isSsr){var l,u,d=MZ({breakAll:o,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;l=f,u=h}else return nB(a);return bbe({breakAll:o,children:a,maxLines:s,style:i},l,u,r,n)}return nB(a)},aB="#808080",Zm=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,s=o===void 0?"1em":o,l=t.capHeight,u=l===void 0?"0.71em":l,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,m=h===void 0?"start":h,x=t.verticalAnchor,g=x===void 0?"end":x,y=t.fill,_=y===void 0?aB:y,b=eB(t,mbe),S=A.useMemo(function(){return Sbe({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),C=b.dx,E=b.dy,D=b.angle,T=b.className,I=b.breakAll,L=eB(b,gbe);if(!yo(n)||!yo(i))return null;var B=n+(Ht(C)?C:0),P=i+(Ht(E)?E:0),O;switch(g){case"start":O=RC("calc(".concat(u,")"));break;case"middle":O=RC("calc(".concat((S.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:O=RC("calc(".concat(S.length-1," * -").concat(s,")"));break}var j=[];if(f){var G=S[0].width,Y=b.width;j.push("scale(".concat((Ht(Y)?Y/G:1)/G,")"))}return D&&j.push("rotate(".concat(D,", ").concat(B,", ").concat(P,")")),j.length&&(L.transform=j.join(" ")),c("text",{...Or(L,!0),x:B,y:P,className:hn("recharts-text",T),textAnchor:m,fill:_.includes("url")?aB:_,children:S.map(function(re,q){var K=re.words.join(I?"":" ");return c("tspan",{x:B,dy:q===0?O:s,children:K},"".concat(K,"-").concat(q))})})};function Qp(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Abe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function lI(e){let t,r,n;e.length!==2?(t=Qp,r=(s,l)=>Qp(e(s),l),n=(s,l)=>e(s)-l):(t=e===Qp||e===Abe?e:kbe,r=e,n=e);function a(s,l,u=0,d=s.length){if(u<d){if(t(l,l)!==0)return d;do{const f=u+d>>>1;r(s[f],l)<0?u=f+1:d=f}while(u<d)}return u}function i(s,l,u=0,d=s.length){if(u<d){if(t(l,l)!==0)return d;do{const f=u+d>>>1;r(s[f],l)<=0?u=f+1:d=f}while(u<d)}return u}function o(s,l,u=0,d=s.length){const f=a(s,l,u,d-1);return f>u&&n(s[f-1],l)>-n(s[f],l)?f-1:f}return{left:a,center:o,right:i}}function kbe(){return 0}function FZ(e){return e===null?NaN:+e}function*Nbe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Ebe=lI(Qp),$w=Ebe.right;lI(FZ).center;class iB extends Map{constructor(t,r=Pbe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(oB(this,t))}has(t){return super.has(oB(this,t))}set(t,r){return super.set(Cbe(this,t),r)}delete(t){return super.delete(Tbe(this,t))}}function oB({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Cbe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Tbe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Pbe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Obe(e=Qp){if(e===Qp)return LZ;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function LZ(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Dbe=Math.sqrt(50),Ibe=Math.sqrt(10),Rbe=Math.sqrt(2);function M5(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=Dbe?10:i>=Ibe?5:i>=Rbe?2:1;let s,l,u;return a<0?(u=Math.pow(10,-a)/o,s=Math.round(e*u),l=Math.round(t*u),s/u<e&&++s,l/u>t&&--l,u=-u):(u=Math.pow(10,a)*o,s=Math.round(e/u),l=Math.round(t/u),s*u<e&&++s,l*u>t&&--l),l<s&&.5<=r&&r<2?M5(e,t,r*2):[s,l,u]}function q6(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?M5(t,e,r):M5(e,t,r);if(!(i>=a))return[];const s=i-a+1,l=new Array(s);if(n)if(o<0)for(let u=0;u<s;++u)l[u]=(i-u)/-o;else for(let u=0;u<s;++u)l[u]=(i-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(a+u)/-o;else for(let u=0;u<s;++u)l[u]=(a+u)*o;return l}function z6(e,t,r){return t=+t,e=+e,r=+r,M5(e,t,r)[2]}function W6(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?z6(t,e,r):z6(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function sB(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function lB(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function jZ(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?LZ:Obe(a);n>r;){if(n-r>600){const l=n-r+1,u=t-r+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(u-l/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/l+h)),x=Math.min(n,Math.floor(t+(l-u)*f/l+h));jZ(e,t,m,x,a)}const i=e[t];let o=r,s=n;for(Zy(e,r,t),a(e[n],i)>0&&Zy(e,r,n);o<s;){for(Zy(e,o,s),++o,--s;a(e[o],i)<0;)++o;for(;a(e[s],i)>0;)--s}a(e[r],i)===0?Zy(e,r,s):(++s,Zy(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function Zy(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Mbe(e,t,r){if(e=Float64Array.from(Nbe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return lB(e);if(t>=1)return sB(e);var n,a=(n-1)*t,i=Math.floor(a),o=sB(jZ(e,i).subarray(0,i+1)),s=lB(e.subarray(i+1));return o+(s-o)*(a-i)}}function Fbe(e,t,r=FZ){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),s=+r(e[i+1],i+1,e);return o+(s-o)*(a-i)}}function Lbe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function tu(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ph(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const H6=Symbol("implicit");function cI(){var e=new iB,t=[],r=[],n=H6;function a(i){let o=e.get(i);if(o===void 0){if(n!==H6)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new iB;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return cI(t,r).unknown(n)},tu.apply(a,arguments),a}function vx(){var e=cI().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,s=!1,l=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=a<n,x=m?a:n,g=m?n:a;i=(g-x)/Math.max(1,h-l+u*2),s&&(i=Math.floor(i)),x+=(g-x-i*(h-l))*d,o=i*(1-l),s&&(x=Math.round(x),o=Math.round(o));var y=Lbe(h).map(function(_){return x+i*_});return r(m?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,s=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(s=!!h,f()):s},e.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return vx(t(),[n,a]).round(s).paddingInner(l).paddingOuter(u).align(d)},tu.apply(f(),arguments)}function $Z(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return $Z(t())},e}function R2(){return $Z(vx.apply(null,arguments).paddingInner(1))}function uI(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function BZ(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Bw(){}var yx=.7,F5=1/yx,Yv="\\s*([+-]?\\d+)\\s*",xx="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Jd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",jbe=/^#([0-9a-f]{3,8})$/,$be=new RegExp(`^rgb\\(${Yv},${Yv},${Yv}\\)$`),Bbe=new RegExp(`^rgb\\(${Jd},${Jd},${Jd}\\)$`),Ube=new RegExp(`^rgba\\(${Yv},${Yv},${Yv},${xx}\\)$`),qbe=new RegExp(`^rgba\\(${Jd},${Jd},${Jd},${xx}\\)$`),zbe=new RegExp(`^hsl\\(${xx},${Jd},${Jd}\\)$`),Wbe=new RegExp(`^hsla\\(${xx},${Jd},${Jd},${xx}\\)$`),cB={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};uI(Bw,wx,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:uB,formatHex:uB,formatHex8:Hbe,formatHsl:Vbe,formatRgb:dB,toString:dB});function uB(){return this.rgb().formatHex()}function Hbe(){return this.rgb().formatHex8()}function Vbe(){return UZ(this).formatHsl()}function dB(){return this.rgb().formatRgb()}function wx(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=jbe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?fB(t):r===3?new Cl(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?ub(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?ub(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=$be.exec(e))?new Cl(t[1],t[2],t[3],1):(t=Bbe.exec(e))?new Cl(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Ube.exec(e))?ub(t[1],t[2],t[3],t[4]):(t=qbe.exec(e))?ub(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=zbe.exec(e))?mB(t[1],t[2]/100,t[3]/100,1):(t=Wbe.exec(e))?mB(t[1],t[2]/100,t[3]/100,t[4]):cB.hasOwnProperty(e)?fB(cB[e]):e==="transparent"?new Cl(NaN,NaN,NaN,0):null}function fB(e){return new Cl(e>>16&255,e>>8&255,e&255,1)}function ub(e,t,r,n){return n<=0&&(e=t=r=NaN),new Cl(e,t,r,n)}function Gbe(e){return e instanceof Bw||(e=wx(e)),e?(e=e.rgb(),new Cl(e.r,e.g,e.b,e.opacity)):new Cl}function V6(e,t,r,n){return arguments.length===1?Gbe(e):new Cl(e,t,r,n??1)}function Cl(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}uI(Cl,V6,BZ(Bw,{brighter(e){return e=e==null?F5:Math.pow(F5,e),new Cl(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?yx:Math.pow(yx,e),new Cl(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Cl(Fm(this.r),Fm(this.g),Fm(this.b),L5(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:hB,formatHex:hB,formatHex8:Kbe,formatRgb:pB,toString:pB}));function hB(){return`#${Om(this.r)}${Om(this.g)}${Om(this.b)}`}function Kbe(){return`#${Om(this.r)}${Om(this.g)}${Om(this.b)}${Om((isNaN(this.opacity)?1:this.opacity)*255)}`}function pB(){const e=L5(this.opacity);return`${e===1?"rgb(":"rgba("}${Fm(this.r)}, ${Fm(this.g)}, ${Fm(this.b)}${e===1?")":`, ${e})`}`}function L5(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Fm(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Om(e){return e=Fm(e),(e<16?"0":"")+e.toString(16)}function mB(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Lu(e,t,r,n)}function UZ(e){if(e instanceof Lu)return new Lu(e.h,e.s,e.l,e.opacity);if(e instanceof Bw||(e=wx(e)),!e)return new Lu;if(e instanceof Lu)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,s=i-a,l=(i+a)/2;return s?(t===i?o=(r-n)/s+(r<n)*6:r===i?o=(n-t)/s+2:o=(t-r)/s+4,s/=l<.5?i+a:2-i-a,o*=60):s=l>0&&l<1?0:o,new Lu(o,s,l,e.opacity)}function Ybe(e,t,r,n){return arguments.length===1?UZ(e):new Lu(e,t,r,n??1)}function Lu(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}uI(Lu,Ybe,BZ(Bw,{brighter(e){return e=e==null?F5:Math.pow(F5,e),new Lu(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?yx:Math.pow(yx,e),new Lu(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Cl(MC(e>=240?e-240:e+120,a,n),MC(e,a,n),MC(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Lu(gB(this.h),db(this.s),db(this.l),L5(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=L5(this.opacity);return`${e===1?"hsl(":"hsla("}${gB(this.h)}, ${db(this.s)*100}%, ${db(this.l)*100}%${e===1?")":`, ${e})`}`}}));function gB(e){return e=(e||0)%360,e<0?e+360:e}function db(e){return Math.max(0,Math.min(1,e||0))}function MC(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const dI=e=>()=>e;function Xbe(e,t){return function(r){return e+r*t}}function Zbe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Jbe(e){return(e=+e)==1?qZ:function(t,r){return r-t?Zbe(t,r,e):dI(isNaN(t)?r:t)}}function qZ(e,t){var r=t-e;return r?Xbe(e,r):dI(isNaN(e)?t:e)}const vB=function e(t){var r=Jbe(t);function n(a,i){var o=r((a=V6(a)).r,(i=V6(i)).r),s=r(a.g,i.g),l=r(a.b,i.b),u=qZ(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=s(d),a.b=l(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function Qbe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function e5e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function t5e(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=fy(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(s){for(o=0;o<n;++o)i[o]=a[o](s);return i}}function r5e(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function j5(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function n5e(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=fy(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var G6=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,FC=new RegExp(G6.source,"g");function a5e(e){return function(){return e}}function i5e(e){return function(t){return e(t)+""}}function o5e(e,t){var r=G6.lastIndex=FC.lastIndex=0,n,a,i,o=-1,s=[],l=[];for(e=e+"",t=t+"";(n=G6.exec(e))&&(a=FC.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(a=a[0])?s[o]?s[o]+=a:s[++o]=a:(s[++o]=null,l.push({i:o,x:j5(n,a)})),r=FC.lastIndex;return r<t.length&&(i=t.slice(r),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?i5e(l[0].x):a5e(t):(t=l.length,function(u){for(var d=0,f;d<t;++d)s[(f=l[d]).i]=f.x(u);return s.join("")})}function fy(e,t){var r=typeof t,n;return t==null||r==="boolean"?dI(t):(r==="number"?j5:r==="string"?(n=wx(t))?(t=n,vB):o5e:t instanceof wx?vB:t instanceof Date?r5e:e5e(t)?Qbe:Array.isArray(t)?t5e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?n5e:j5)(e,t)}function fI(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function s5e(e,t){t===void 0&&(t=e,e=fy);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[s](o-s)}}function l5e(e){return function(){return e}}function $5(e){return+e}var yB=[0,1];function il(e){return e}function K6(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:l5e(isNaN(t)?NaN:.5)}function c5e(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function u5e(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=K6(a,n),i=r(o,i)):(n=K6(n,a),i=r(i,o)),function(s){return i(n(s))}}function d5e(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=K6(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(s){var l=$w(e,s,1,n)-1;return i[l](a[l](s))}}function Uw(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Q4(){var e=yB,t=yB,r=fy,n,a,i,o=il,s,l,u;function d(){var h=Math.min(e.length,t.length);return o!==il&&(o=c5e(e[0],e[h-1])),s=h>2?d5e:u5e,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(l||(l=s(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((u||(u=s(t,e.map(n),j5)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,$5),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=fI,d()},f.clamp=function(h){return arguments.length?(o=h?!0:il,d()):o!==il},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,m){return n=h,a=m,d()}}function hI(){return Q4()(il,il)}function f5e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function B5(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function x1(e){return e=B5(Math.abs(e)),e?e[1]:NaN}function h5e(e,t){return function(r,n){for(var a=r.length,i=[],o=0,s=e[0],l=0;a>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),i.push(r.substring(a-=s,a+s)),!((l+=s+1)>n));)s=e[o=(o+1)%e.length];return i.reverse().join(t)}}function p5e(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var m5e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function _x(e){if(!(t=m5e.exec(e)))throw new Error("invalid format: "+e);var t;return new pI({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}_x.prototype=pI.prototype;function pI(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}pI.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function g5e(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var zZ;function v5e(e,t){var r=B5(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(zZ=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+B5(e,Math.max(0,t+i-1))[0]}function xB(e,t){var r=B5(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const wB={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:f5e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>xB(e*100,t),r:xB,s:v5e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function _B(e){return e}var bB=Array.prototype.map,SB=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function y5e(e){var t=e.grouping===void 0||e.thousands===void 0?_B:h5e(bB.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?_B:p5e(bB.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f){f=_x(f);var h=f.fill,m=f.align,x=f.sign,g=f.symbol,y=f.zero,_=f.width,b=f.comma,S=f.precision,C=f.trim,E=f.type;E==="n"?(b=!0,E="g"):wB[E]||(S===void 0&&(S=12),C=!0,E="g"),(y||h==="0"&&m==="=")&&(y=!0,h="0",m="=");var D=g==="$"?r:g==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",T=g==="$"?n:/[%p]/.test(E)?o:"",I=wB[E],L=/[defgprs%]/.test(E);S=S===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function B(P){var O=D,j=T,G,Y,re;if(E==="c")j=I(P)+j,P="";else{P=+P;var q=P<0||1/P<0;if(P=isNaN(P)?l:I(Math.abs(P),S),C&&(P=g5e(P)),q&&+P==0&&x!=="+"&&(q=!1),O=(q?x==="("?x:s:x==="-"||x==="("?"":x)+O,j=(E==="s"?SB[8+zZ/3]:"")+j+(q&&x==="("?")":""),L){for(G=-1,Y=P.length;++G<Y;)if(re=P.charCodeAt(G),48>re||re>57){j=(re===46?a+P.slice(G+1):P.slice(G))+j,P=P.slice(0,G);break}}}b&&!y&&(P=t(P,1/0));var K=O.length+P.length+j.length,z=K<_?new Array(_-K+1).join(h):"";switch(b&&y&&(P=t(z+P,z.length?_-j.length:1/0),z=""),m){case"<":P=O+P+j+z;break;case"=":P=O+z+P+j;break;case"^":P=z.slice(0,K=z.length>>1)+O+P+j+z.slice(K);break;default:P=z+O+P+j;break}return i(P)}return B.toString=function(){return f+""},B}function d(f,h){var m=u((f=_x(f),f.type="f",f)),x=Math.max(-8,Math.min(8,Math.floor(x1(h)/3)))*3,g=Math.pow(10,-x),y=SB[8+x/3];return function(_){return m(g*_)+y}}return{format:u,formatPrefix:d}}var fb,mI,WZ;x5e({thousands:",",grouping:[3],currency:["$",""]});function x5e(e){return fb=y5e(e),mI=fb.format,WZ=fb.formatPrefix,fb}function w5e(e){return Math.max(0,-x1(Math.abs(e)))}function _5e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(x1(t)/3)))*3-x1(Math.abs(e)))}function b5e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,x1(t)-x1(e))+1}function HZ(e,t,r,n){var a=W6(e,t,r),i;switch(n=_x(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=_5e(a,o))&&(n.precision=i),WZ(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=b5e(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=w5e(a))&&(n.precision=i-(n.type==="%")*2);break}}return mI(n)}function T0(e){var t=e.domain;return e.ticks=function(r){var n=t();return q6(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return HZ(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],s=n[i],l,u,d=10;for(s<o&&(u=o,o=s,s=u,u=a,a=i,i=u);d-- >0;){if(u=z6(o,s,r),u===l)return n[a]=o,n[i]=s,t(n);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return e},e}function U5(){var e=hI();return e.copy=function(){return Uw(e,U5())},tu.apply(e,arguments),T0(e)}function VZ(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,$5),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return VZ(e).unknown(t)},e=arguments.length?Array.from(e,$5):[0,1],T0(r)}function GZ(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function AB(e){return Math.log(e)}function kB(e){return Math.exp(e)}function S5e(e){return-Math.log(-e)}function A5e(e){return-Math.exp(-e)}function k5e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function N5e(e){return e===10?k5e:e===Math.E?Math.exp:t=>Math.pow(e,t)}function E5e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function NB(e){return(t,r)=>-e(-t,r)}function gI(e){const t=e(AB,kB),r=t.domain;let n=10,a,i;function o(){return a=E5e(n),i=N5e(n),r()[0]<0?(a=NB(a),i=NB(i),e(S5e,A5e)):e(AB,kB),t}return t.base=function(s){return arguments.length?(n=+s,o()):n},t.domain=function(s){return arguments.length?(r(s),o()):r()},t.ticks=s=>{const l=r();let u=l[0],d=l[l.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),m=a(d),x,g;const y=s==null?10:+s;let _=[];if(!(n%1)&&m-h<y){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(x=1;x<n;++x)if(g=h<0?x/i(-h):x*i(h),!(g<u)){if(g>d)break;_.push(g)}}else for(;h<=m;++h)for(x=n-1;x>=1;--x)if(g=h>0?x/i(-h):x*i(h),!(g<u)){if(g>d)break;_.push(g)}_.length*2<y&&(_=q6(u,d,y))}else _=q6(h,m,Math.min(m-h,y)).map(i);return f?_.reverse():_},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=_x(l)).precision==null&&(l.trim=!0),l=mI(l)),s===1/0)return l;const u=Math.max(1,n*s/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?l(d):""}},t.nice=()=>r(GZ(r(),{floor:s=>i(Math.floor(a(s))),ceil:s=>i(Math.ceil(a(s)))})),t}function KZ(){const e=gI(Q4()).domain([1,10]);return e.copy=()=>Uw(e,KZ()).base(e.base()),tu.apply(e,arguments),e}function EB(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function CB(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function vI(e){var t=1,r=e(EB(t),CB(t));return r.constant=function(n){return arguments.length?e(EB(t=+n),CB(t)):t},T0(r)}function YZ(){var e=vI(Q4());return e.copy=function(){return Uw(e,YZ()).constant(e.constant())},tu.apply(e,arguments)}function TB(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function C5e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function T5e(e){return e<0?-e*e:e*e}function yI(e){var t=e(il,il),r=1;function n(){return r===1?e(il,il):r===.5?e(C5e,T5e):e(TB(r),TB(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},T0(t)}function xI(){var e=yI(Q4());return e.copy=function(){return Uw(e,xI()).exponent(e.exponent())},tu.apply(e,arguments),e}function P5e(){return xI.apply(null,arguments).exponent(.5)}function PB(e){return Math.sign(e)*e*e}function O5e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function XZ(){var e=hI(),t=[0,1],r=!1,n;function a(i){var o=O5e(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(PB(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,$5)).map(PB)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return XZ(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},tu.apply(a,arguments),T0(a)}function ZZ(){var e=[],t=[],r=[],n;function a(){var o=0,s=Math.max(1,t.length);for(r=new Array(s-1);++o<s;)r[o-1]=Fbe(e,o/s);return i}function i(o){return o==null||isNaN(o=+o)?n:t[$w(r,o)]}return i.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Qp),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return ZZ().domain(e).range(t).unknown(n)},tu.apply(i,arguments)}function JZ(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(l){return l!=null&&l<=l?a[$w(n,l,0,r)]:i}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},o.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,s()):a.slice()},o.invertExtent=function(l){var u=a.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(l){return arguments.length&&(i=l),o},o.thresholds=function(){return n.slice()},o.copy=function(){return JZ().domain([e,t]).range(a).unknown(i)},tu.apply(T0(o),arguments)}function QZ(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[$w(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return QZ().domain(e).range(t).unknown(r)},tu.apply(a,arguments)}const LC=new Date,jC=new Date;function _o(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),s=a.ceil(i);return i-o<s-i?o:s},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,s)=>{const l=[];if(i=a.ceil(i),s=s==null?1:Math.floor(s),!(i<o)||!(s>0))return l;let u;do l.push(u=new Date(+i)),t(i,s),e(i);while(u<i&&i<o);return l},a.filter=i=>_o(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!i(o););else for(;--s>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(LC.setTime(+i),jC.setTime(+o),e(LC),e(jC),Math.floor(r(LC,jC))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const q5=_o(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);q5.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?_o(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):q5);q5.range;const ah=1e3,Kc=ah*60,ih=Kc*60,xh=ih*24,wI=xh*7,OB=xh*30,$C=xh*365,Dm=_o(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ah)},(e,t)=>(t-e)/ah,e=>e.getUTCSeconds());Dm.range;const _I=_o(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ah)},(e,t)=>{e.setTime(+e+t*Kc)},(e,t)=>(t-e)/Kc,e=>e.getMinutes());_I.range;const bI=_o(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Kc)},(e,t)=>(t-e)/Kc,e=>e.getUTCMinutes());bI.range;const SI=_o(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ah-e.getMinutes()*Kc)},(e,t)=>{e.setTime(+e+t*ih)},(e,t)=>(t-e)/ih,e=>e.getHours());SI.range;const AI=_o(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ih)},(e,t)=>(t-e)/ih,e=>e.getUTCHours());AI.range;const qw=_o(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Kc)/xh,e=>e.getDate()-1);qw.range;const e3=_o(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/xh,e=>e.getUTCDate()-1);e3.range;const eJ=_o(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/xh,e=>Math.floor(e/xh));eJ.range;function bg(e){return _o(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Kc)/wI)}const t3=bg(0),z5=bg(1),D5e=bg(2),I5e=bg(3),w1=bg(4),R5e=bg(5),M5e=bg(6);t3.range;z5.range;D5e.range;I5e.range;w1.range;R5e.range;M5e.range;function Sg(e){return _o(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/wI)}const r3=Sg(0),W5=Sg(1),F5e=Sg(2),L5e=Sg(3),_1=Sg(4),j5e=Sg(5),$5e=Sg(6);r3.range;W5.range;F5e.range;L5e.range;_1.range;j5e.range;$5e.range;const kI=_o(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());kI.range;const NI=_o(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());NI.range;const wh=_o(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());wh.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:_o(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});wh.range;const _h=_o(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());_h.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:_o(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});_h.range;function tJ(e,t,r,n,a,i){const o=[[Dm,1,ah],[Dm,5,5*ah],[Dm,15,15*ah],[Dm,30,30*ah],[i,1,Kc],[i,5,5*Kc],[i,15,15*Kc],[i,30,30*Kc],[a,1,ih],[a,3,3*ih],[a,6,6*ih],[a,12,12*ih],[n,1,xh],[n,2,2*xh],[r,1,wI],[t,1,OB],[t,3,3*OB],[e,1,$C]];function s(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:l(u,d,f),x=m?m.range(u,+d+1):[];return h?x.reverse():x}function l(u,d,f){const h=Math.abs(d-u)/f,m=lI(([,,y])=>y).right(o,h);if(m===o.length)return e.every(W6(u/$C,d/$C,f));if(m===0)return q5.every(Math.max(W6(u,d,f),1));const[x,g]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return x.every(g)}return[s,l]}const[B5e,U5e]=tJ(_h,NI,r3,eJ,AI,bI),[q5e,z5e]=tJ(wh,kI,t3,qw,SI,_I);function BC(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function UC(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Jy(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function W5e(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,u=Qy(a),d=e2(a),f=Qy(i),h=e2(i),m=Qy(o),x=e2(o),g=Qy(s),y=e2(s),_=Qy(l),b=e2(l),S={a:q,A:K,b:z,B:te,c:null,d:LB,e:LB,f:hSe,g:SSe,G:kSe,H:uSe,I:dSe,j:fSe,L:rJ,m:pSe,M:mSe,p:Q,q:R,Q:BB,s:UB,S:gSe,u:vSe,U:ySe,V:xSe,w:wSe,W:_Se,x:null,X:null,y:bSe,Y:ASe,Z:NSe,"%":$B},C={a:H,A:X,b:Z,B:ie,c:null,d:jB,e:jB,f:PSe,g:BSe,G:qSe,H:ESe,I:CSe,j:TSe,L:aJ,m:OSe,M:DSe,p:le,q:pe,Q:BB,s:UB,S:ISe,u:RSe,U:MSe,V:FSe,w:LSe,W:jSe,x:null,X:null,y:$Se,Y:USe,Z:zSe,"%":$B},E={a:B,A:P,b:O,B:j,c:G,d:MB,e:MB,f:oSe,g:RB,G:IB,H:FB,I:FB,j:rSe,L:iSe,m:tSe,M:nSe,p:L,q:eSe,Q:lSe,s:cSe,S:aSe,u:Y5e,U:X5e,V:Z5e,w:K5e,W:J5e,x:Y,X:re,y:RB,Y:IB,Z:Q5e,"%":sSe};S.x=D(r,S),S.X=D(n,S),S.c=D(t,S),C.x=D(r,C),C.X=D(n,C),C.c=D(t,C);function D(J,me){return function(ve){var ae=[],Ue=-1,He=0,Ie=J.length,he,Ze,pt;for(ve instanceof Date||(ve=new Date(+ve));++Ue<Ie;)J.charCodeAt(Ue)===37&&(ae.push(J.slice(He,Ue)),(Ze=DB[he=J.charAt(++Ue)])!=null?he=J.charAt(++Ue):Ze=he==="e"?" ":"0",(pt=me[he])&&(he=pt(ve,Ze)),ae.push(he),He=Ue+1);return ae.push(J.slice(He,Ue)),ae.join("")}}function T(J,me){return function(ve){var ae=Jy(1900,void 0,1),Ue=I(ae,J,ve+="",0),He,Ie;if(Ue!=ve.length)return null;if("Q"in ae)return new Date(ae.Q);if("s"in ae)return new Date(ae.s*1e3+("L"in ae?ae.L:0));if(me&&!("Z"in ae)&&(ae.Z=0),"p"in ae&&(ae.H=ae.H%12+ae.p*12),ae.m===void 0&&(ae.m="q"in ae?ae.q:0),"V"in ae){if(ae.V<1||ae.V>53)return null;"w"in ae||(ae.w=1),"Z"in ae?(He=UC(Jy(ae.y,0,1)),Ie=He.getUTCDay(),He=Ie>4||Ie===0?W5.ceil(He):W5(He),He=e3.offset(He,(ae.V-1)*7),ae.y=He.getUTCFullYear(),ae.m=He.getUTCMonth(),ae.d=He.getUTCDate()+(ae.w+6)%7):(He=BC(Jy(ae.y,0,1)),Ie=He.getDay(),He=Ie>4||Ie===0?z5.ceil(He):z5(He),He=qw.offset(He,(ae.V-1)*7),ae.y=He.getFullYear(),ae.m=He.getMonth(),ae.d=He.getDate()+(ae.w+6)%7)}else("W"in ae||"U"in ae)&&("w"in ae||(ae.w="u"in ae?ae.u%7:"W"in ae?1:0),Ie="Z"in ae?UC(Jy(ae.y,0,1)).getUTCDay():BC(Jy(ae.y,0,1)).getDay(),ae.m=0,ae.d="W"in ae?(ae.w+6)%7+ae.W*7-(Ie+5)%7:ae.w+ae.U*7-(Ie+6)%7);return"Z"in ae?(ae.H+=ae.Z/100|0,ae.M+=ae.Z%100,UC(ae)):BC(ae)}}function I(J,me,ve,ae){for(var Ue=0,He=me.length,Ie=ve.length,he,Ze;Ue<He;){if(ae>=Ie)return-1;if(he=me.charCodeAt(Ue++),he===37){if(he=me.charAt(Ue++),Ze=E[he in DB?me.charAt(Ue++):he],!Ze||(ae=Ze(J,ve,ae))<0)return-1}else if(he!=ve.charCodeAt(ae++))return-1}return ae}function L(J,me,ve){var ae=u.exec(me.slice(ve));return ae?(J.p=d.get(ae[0].toLowerCase()),ve+ae[0].length):-1}function B(J,me,ve){var ae=m.exec(me.slice(ve));return ae?(J.w=x.get(ae[0].toLowerCase()),ve+ae[0].length):-1}function P(J,me,ve){var ae=f.exec(me.slice(ve));return ae?(J.w=h.get(ae[0].toLowerCase()),ve+ae[0].length):-1}function O(J,me,ve){var ae=_.exec(me.slice(ve));return ae?(J.m=b.get(ae[0].toLowerCase()),ve+ae[0].length):-1}function j(J,me,ve){var ae=g.exec(me.slice(ve));return ae?(J.m=y.get(ae[0].toLowerCase()),ve+ae[0].length):-1}function G(J,me,ve){return I(J,t,me,ve)}function Y(J,me,ve){return I(J,r,me,ve)}function re(J,me,ve){return I(J,n,me,ve)}function q(J){return o[J.getDay()]}function K(J){return i[J.getDay()]}function z(J){return l[J.getMonth()]}function te(J){return s[J.getMonth()]}function Q(J){return a[+(J.getHours()>=12)]}function R(J){return 1+~~(J.getMonth()/3)}function H(J){return o[J.getUTCDay()]}function X(J){return i[J.getUTCDay()]}function Z(J){return l[J.getUTCMonth()]}function ie(J){return s[J.getUTCMonth()]}function le(J){return a[+(J.getUTCHours()>=12)]}function pe(J){return 1+~~(J.getUTCMonth()/3)}return{format:function(J){var me=D(J+="",S);return me.toString=function(){return J},me},parse:function(J){var me=T(J+="",!1);return me.toString=function(){return J},me},utcFormat:function(J){var me=D(J+="",C);return me.toString=function(){return J},me},utcParse:function(J){var me=T(J+="",!0);return me.toString=function(){return J},me}}}var DB={"-":"",_:" ",0:"0"},Uo=/^\s*\d+/,H5e=/^%/,V5e=/[\\^$*+?|[\]().{}]/g;function Qn(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function G5e(e){return e.replace(V5e,"\\$&")}function Qy(e){return new RegExp("^(?:"+e.map(G5e).join("|")+")","i")}function e2(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function K5e(e,t,r){var n=Uo.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Y5e(e,t,r){var n=Uo.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function X5e(e,t,r){var n=Uo.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Z5e(e,t,r){var n=Uo.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function J5e(e,t,r){var n=Uo.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function IB(e,t,r){var n=Uo.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function RB(e,t,r){var n=Uo.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Q5e(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function eSe(e,t,r){var n=Uo.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function tSe(e,t,r){var n=Uo.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function MB(e,t,r){var n=Uo.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function rSe(e,t,r){var n=Uo.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function FB(e,t,r){var n=Uo.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function nSe(e,t,r){var n=Uo.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function aSe(e,t,r){var n=Uo.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function iSe(e,t,r){var n=Uo.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function oSe(e,t,r){var n=Uo.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function sSe(e,t,r){var n=H5e.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function lSe(e,t,r){var n=Uo.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function cSe(e,t,r){var n=Uo.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function LB(e,t){return Qn(e.getDate(),t,2)}function uSe(e,t){return Qn(e.getHours(),t,2)}function dSe(e,t){return Qn(e.getHours()%12||12,t,2)}function fSe(e,t){return Qn(1+qw.count(wh(e),e),t,3)}function rJ(e,t){return Qn(e.getMilliseconds(),t,3)}function hSe(e,t){return rJ(e,t)+"000"}function pSe(e,t){return Qn(e.getMonth()+1,t,2)}function mSe(e,t){return Qn(e.getMinutes(),t,2)}function gSe(e,t){return Qn(e.getSeconds(),t,2)}function vSe(e){var t=e.getDay();return t===0?7:t}function ySe(e,t){return Qn(t3.count(wh(e)-1,e),t,2)}function nJ(e){var t=e.getDay();return t>=4||t===0?w1(e):w1.ceil(e)}function xSe(e,t){return e=nJ(e),Qn(w1.count(wh(e),e)+(wh(e).getDay()===4),t,2)}function wSe(e){return e.getDay()}function _Se(e,t){return Qn(z5.count(wh(e)-1,e),t,2)}function bSe(e,t){return Qn(e.getFullYear()%100,t,2)}function SSe(e,t){return e=nJ(e),Qn(e.getFullYear()%100,t,2)}function ASe(e,t){return Qn(e.getFullYear()%1e4,t,4)}function kSe(e,t){var r=e.getDay();return e=r>=4||r===0?w1(e):w1.ceil(e),Qn(e.getFullYear()%1e4,t,4)}function NSe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Qn(t/60|0,"0",2)+Qn(t%60,"0",2)}function jB(e,t){return Qn(e.getUTCDate(),t,2)}function ESe(e,t){return Qn(e.getUTCHours(),t,2)}function CSe(e,t){return Qn(e.getUTCHours()%12||12,t,2)}function TSe(e,t){return Qn(1+e3.count(_h(e),e),t,3)}function aJ(e,t){return Qn(e.getUTCMilliseconds(),t,3)}function PSe(e,t){return aJ(e,t)+"000"}function OSe(e,t){return Qn(e.getUTCMonth()+1,t,2)}function DSe(e,t){return Qn(e.getUTCMinutes(),t,2)}function ISe(e,t){return Qn(e.getUTCSeconds(),t,2)}function RSe(e){var t=e.getUTCDay();return t===0?7:t}function MSe(e,t){return Qn(r3.count(_h(e)-1,e),t,2)}function iJ(e){var t=e.getUTCDay();return t>=4||t===0?_1(e):_1.ceil(e)}function FSe(e,t){return e=iJ(e),Qn(_1.count(_h(e),e)+(_h(e).getUTCDay()===4),t,2)}function LSe(e){return e.getUTCDay()}function jSe(e,t){return Qn(W5.count(_h(e)-1,e),t,2)}function $Se(e,t){return Qn(e.getUTCFullYear()%100,t,2)}function BSe(e,t){return e=iJ(e),Qn(e.getUTCFullYear()%100,t,2)}function USe(e,t){return Qn(e.getUTCFullYear()%1e4,t,4)}function qSe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?_1(e):_1.ceil(e),Qn(e.getUTCFullYear()%1e4,t,4)}function zSe(){return"+0000"}function $B(){return"%"}function BB(e){return+e}function UB(e){return Math.floor(+e/1e3)}var _v,oJ,sJ;WSe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function WSe(e){return _v=W5e(e),oJ=_v.format,_v.parse,sJ=_v.utcFormat,_v.utcParse,_v}function HSe(e){return new Date(e)}function VSe(e){return e instanceof Date?+e:+new Date(+e)}function EI(e,t,r,n,a,i,o,s,l,u){var d=hI(),f=d.invert,h=d.domain,m=u(".%L"),x=u(":%S"),g=u("%I:%M"),y=u("%I %p"),_=u("%a %d"),b=u("%b %d"),S=u("%B"),C=u("%Y");function E(D){return(l(D)<D?m:s(D)<D?x:o(D)<D?g:i(D)<D?y:n(D)<D?a(D)<D?_:b:r(D)<D?S:C)(D)}return d.invert=function(D){return new Date(f(D))},d.domain=function(D){return arguments.length?h(Array.from(D,VSe)):h().map(HSe)},d.ticks=function(D){var T=h();return e(T[0],T[T.length-1],D??10)},d.tickFormat=function(D,T){return T==null?E:u(T)},d.nice=function(D){var T=h();return(!D||typeof D.range!="function")&&(D=t(T[0],T[T.length-1],D??10)),D?h(GZ(T,D)):d},d.copy=function(){return Uw(d,EI(e,t,r,n,a,i,o,s,l,u))},d}function GSe(){return tu.apply(EI(q5e,z5e,wh,kI,t3,qw,SI,_I,Dm,oJ).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function KSe(){return tu.apply(EI(B5e,U5e,_h,NI,r3,e3,AI,bI,Dm,sJ).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function n3(){var e=0,t=1,r,n,a,i,o=il,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:o(a===0?.5:(f=(i(f)-r)*a,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var m,x;return arguments.length?([m,x]=h,o=f(m,x),u):[o(0),o(1)]}}return u.range=d(fy),u.rangeRound=d(fI),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function P0(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function lJ(){var e=T0(n3()(il));return e.copy=function(){return P0(e,lJ())},Ph.apply(e,arguments)}function cJ(){var e=gI(n3()).domain([1,10]);return e.copy=function(){return P0(e,cJ()).base(e.base())},Ph.apply(e,arguments)}function uJ(){var e=vI(n3());return e.copy=function(){return P0(e,uJ()).constant(e.constant())},Ph.apply(e,arguments)}function CI(){var e=yI(n3());return e.copy=function(){return P0(e,CI()).exponent(e.exponent())},Ph.apply(e,arguments)}function YSe(){return CI.apply(null,arguments).exponent(.5)}function dJ(){var e=[],t=il;function r(n){if(n!=null&&!isNaN(n=+n))return t(($w(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Qp),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>Mbe(e,i/n))},r.copy=function(){return dJ(t).domain(e)},Ph.apply(r,arguments)}function a3(){var e=0,t=.5,r=1,n=1,a,i,o,s,l,u=il,d,f=!1,h;function m(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-i)*(n*g<n*i?s:l),u(f?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([e,t,r]=g,a=d(e=+e),i=d(t=+t),o=d(r=+r),s=a===i?0:.5/(i-a),l=i===o?0:.5/(o-i),n=i<a?-1:1,m):[e,t,r]},m.clamp=function(g){return arguments.length?(f=!!g,m):f},m.interpolator=function(g){return arguments.length?(u=g,m):u};function x(g){return function(y){var _,b,S;return arguments.length?([_,b,S]=y,u=s5e(g,[_,b,S]),m):[u(0),u(.5),u(1)]}}return m.range=x(fy),m.rangeRound=x(fI),m.unknown=function(g){return arguments.length?(h=g,m):h},function(g){return d=g,a=g(e),i=g(t),o=g(r),s=a===i?0:.5/(i-a),l=i===o?0:.5/(o-i),n=i<a?-1:1,m}}function fJ(){var e=T0(a3()(il));return e.copy=function(){return P0(e,fJ())},Ph.apply(e,arguments)}function hJ(){var e=gI(a3()).domain([.1,1,10]);return e.copy=function(){return P0(e,hJ()).base(e.base())},Ph.apply(e,arguments)}function pJ(){var e=vI(a3());return e.copy=function(){return P0(e,pJ()).constant(e.constant())},Ph.apply(e,arguments)}function TI(){var e=yI(a3());return e.copy=function(){return P0(e,TI()).exponent(e.exponent())},Ph.apply(e,arguments)}function XSe(){return TI.apply(null,arguments).exponent(.5)}const qB=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:vx,scaleDiverging:fJ,scaleDivergingLog:hJ,scaleDivergingPow:TI,scaleDivergingSqrt:XSe,scaleDivergingSymlog:pJ,scaleIdentity:VZ,scaleImplicit:H6,scaleLinear:U5,scaleLog:KZ,scaleOrdinal:cI,scalePoint:R2,scalePow:xI,scaleQuantile:ZZ,scaleQuantize:JZ,scaleRadial:XZ,scaleSequential:lJ,scaleSequentialLog:cJ,scaleSequentialPow:CI,scaleSequentialQuantile:dJ,scaleSequentialSqrt:YSe,scaleSequentialSymlog:uJ,scaleSqrt:P5e,scaleSymlog:YZ,scaleThreshold:QZ,scaleTime:GSe,scaleUtc:KSe,tickFormat:HZ},Symbol.toStringTag,{value:"Module"}));var qC,zB;function i3(){if(zB)return qC;zB=1;var e=ly();function t(r,n,a){for(var i=-1,o=r.length;++i<o;){var s=r[i],l=n(s);if(l!=null&&(u===void 0?l===l&&!e(l):a(l,u)))var u=l,d=s}return d}return qC=t,qC}var zC,WB;function mJ(){if(WB)return zC;WB=1;function e(t,r){return t>r}return zC=e,zC}var WC,HB;function ZSe(){if(HB)return WC;HB=1;var e=i3(),t=mJ(),r=dy();function n(a){return a&&a.length?e(a,r,t):void 0}return WC=n,WC}var JSe=ZSe();const Vp=oa(JSe);var HC,VB;function gJ(){if(VB)return HC;VB=1;function e(t,r){return t<r}return HC=e,HC}var VC,GB;function QSe(){if(GB)return VC;GB=1;var e=i3(),t=gJ(),r=dy();function n(a){return a&&a.length?e(a,r,t):void 0}return VC=n,VC}var e4e=QSe();const o3=oa(e4e);var GC,KB;function t4e(){if(KB)return GC;KB=1;var e=HD(),t=mf(),r=AZ(),n=Ll();function a(i,o){var s=n(i)?e:r;return s(i,t(o,3))}return GC=a,GC}var KC,YB;function r4e(){if(YB)return KC;YB=1;var e=bZ(),t=t4e();function r(n,a){return e(t(n,a),1)}return KC=r,KC}var n4e=r4e();const a4e=oa(n4e);var YC,XB;function i4e(){if(XB)return YC;XB=1;var e=aI();function t(r,n){return e(r,n)}return YC=t,YC}var o4e=i4e();const Jm=oa(o4e);var hy=1e9,s4e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},OI,ai=!0,Jc="[DecimalError] ",Lm=Jc+"Invalid argument: ",PI=Jc+"Exponent out of range: ",py=Math.floor,bm=Math.pow,l4e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,sc,Io=1e7,Ga=7,vJ=9007199254740991,H5=py(vJ/Ga),kr={};kr.absoluteValue=kr.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};kr.comparedTo=kr.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};kr.decimalPlaces=kr.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ga;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};kr.dividedBy=kr.div=function(e){return uh(this,new this.constructor(e))};kr.dividedToIntegerBy=kr.idiv=function(e){var t=this,r=t.constructor;return Ea(uh(t,new r(e),0,1),r.precision)};kr.equals=kr.eq=function(e){return!this.cmp(e)};kr.exponent=function(){return so(this)};kr.greaterThan=kr.gt=function(e){return this.cmp(e)>0};kr.greaterThanOrEqualTo=kr.gte=function(e){return this.cmp(e)>=0};kr.isInteger=kr.isint=function(){return this.e>this.d.length-2};kr.isNegative=kr.isneg=function(){return this.s<0};kr.isPositive=kr.ispos=function(){return this.s>0};kr.isZero=function(){return this.s===0};kr.lessThan=kr.lt=function(e){return this.cmp(e)<0};kr.lessThanOrEqualTo=kr.lte=function(e){return this.cmp(e)<1};kr.logarithm=kr.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(sc))throw Error(Jc+"NaN");if(r.s<1)throw Error(Jc+(r.s?"NaN":"-Infinity"));return r.eq(sc)?new n(0):(ai=!1,t=uh(bx(r,i),bx(e,i),i),ai=!0,Ea(t,a))};kr.minus=kr.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?wJ(t,e):yJ(t,(e.s=-e.s,e))};kr.modulo=kr.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Jc+"NaN");return r.s?(ai=!1,t=uh(r,e,0,1).times(e),ai=!0,r.minus(t)):Ea(new n(r),a)};kr.naturalExponential=kr.exp=function(){return xJ(this)};kr.naturalLogarithm=kr.ln=function(){return bx(this)};kr.negated=kr.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};kr.plus=kr.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?yJ(t,e):wJ(t,(e.s=-e.s,e))};kr.precision=kr.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Lm+e);if(t=so(a)+1,n=a.d.length-1,r=n*Ga+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};kr.squareRoot=kr.sqrt=function(){var e,t,r,n,a,i,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Jc+"NaN")}for(e=so(s),ai=!1,a=Math.sqrt(+s),a==0||a==1/0?(t=Hd(s.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=py((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(a.toString()),r=l.precision,a=o=r+3;;)if(i=n,n=i.plus(uh(s,i,o+2)).times(.5),Hd(i.d).slice(0,o)===(t=Hd(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Ea(i,r+1,0),i.times(i).eq(s)){n=i;break}}else if(t!="9999")break;o+=4}return ai=!0,Ea(n,r)};kr.times=kr.mul=function(e){var t,r,n,a,i,o,s,l,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,l=h.length,u=m.length,l<u&&(i=h,h=m,m=i,o=l,l=u,u=o),i=[],o=l+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=l+n;a>n;)s=i[a]+m[n]*h[a-n-1]+t,i[a--]=s%Io|0,t=s/Io|0;i[a]=(i[a]+t)%Io|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,ai?Ea(e,f.precision):e};kr.toDecimalPlaces=kr.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(lf(e,0,hy),t===void 0?t=n.rounding:lf(t,0,8),Ea(r,e+so(r)+1,t))};kr.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Qm(n,!0):(lf(e,0,hy),t===void 0?t=a.rounding:lf(t,0,8),n=Ea(new a(n),e+1,t),r=Qm(n,!0,e+1)),r};kr.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?Qm(a):(lf(e,0,hy),t===void 0?t=i.rounding:lf(t,0,8),n=Ea(new i(a),e+so(a)+1,t),r=Qm(n.abs(),!1,e+so(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};kr.toInteger=kr.toint=function(){var e=this,t=e.constructor;return Ea(new t(e),so(e)+1,t.rounding)};kr.toNumber=function(){return+this};kr.toPower=kr.pow=function(e){var t,r,n,a,i,o,s=this,l=s.constructor,u=12,d=+(e=new l(e));if(!e.s)return new l(sc);if(s=new l(s),!s.s){if(e.s<1)throw Error(Jc+"Infinity");return s}if(s.eq(sc))return s;if(n=l.precision,e.eq(sc))return Ea(s,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=s.s,o){if((r=d<0?-d:d)<=vJ){for(a=new l(sc),t=Math.ceil(n/Ga+4),ai=!1;r%2&&(a=a.times(s),JB(a.d,t)),r=py(r/2),r!==0;)s=s.times(s),JB(s.d,t);return ai=!0,e.s<0?new l(sc).div(a):Ea(a,n)}}else if(i<0)throw Error(Jc+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,ai=!1,a=e.times(bx(s,n+u)),ai=!0,a=xJ(a),a.s=i,a};kr.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=so(a),n=Qm(a,r<=i.toExpNeg||r>=i.toExpPos)):(lf(e,1,hy),t===void 0?t=i.rounding:lf(t,0,8),a=Ea(new i(a),e,t),r=so(a),n=Qm(a,e<=r||r<=i.toExpNeg,e)),n};kr.toSignificantDigits=kr.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(lf(e,1,hy),t===void 0?t=n.rounding:lf(t,0,8)),Ea(new n(r),e,t)};kr.toString=kr.valueOf=kr.val=kr.toJSON=kr[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=so(e),r=e.constructor;return Qm(e,t<=r.toExpNeg||t>=r.toExpPos)};function yJ(e,t){var r,n,a,i,o,s,l,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),ai?Ea(t,f):t;if(l=e.d,u=t.d,o=e.e,a=t.e,l=l.slice(),i=o-a,i){for(i<0?(n=l,i=-i,s=u.length):(n=u,a=o,s=l.length),o=Math.ceil(f/Ga),s=o>s?o+1:s+1,i>s&&(i=s,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(s=l.length,i=u.length,s-i<0&&(i=s,n=u,u=l,l=n),r=0;i;)r=(l[--i]=l[i]+u[i]+r)/Io|0,l[i]%=Io;for(r&&(l.unshift(r),++a),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=a,ai?Ea(t,f):t}function lf(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Lm+e)}function Hd(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=Ga-n.length,r&&(i+=Bp(r)),i+=n;o=e[t],n=o+"",r=Ga-n.length,r&&(i+=Bp(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var uh=function(){function e(n,a){var i,o=0,s=n.length;for(n=n.slice();s--;)i=n[s]*a+o,n[s]=i%Io|0,o=i/Io|0;return o&&n.unshift(o),n}function t(n,a,i,o){var s,l;if(i!=o)l=i>o?1:-1;else for(s=l=0;s<i;s++)if(n[s]!=a[s]){l=n[s]>a[s]?1:-1;break}return l}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*Io+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var s,l,u,d,f,h,m,x,g,y,_,b,S,C,E,D,T,I,L=n.constructor,B=n.s==a.s?1:-1,P=n.d,O=a.d;if(!n.s)return new L(n);if(!a.s)throw Error(Jc+"Division by zero");for(l=n.e-a.e,T=O.length,E=P.length,m=new L(B),x=m.d=[],u=0;O[u]==(P[u]||0);)++u;if(O[u]>(P[u]||0)&&--l,i==null?b=i=L.precision:o?b=i+(so(n)-so(a))+1:b=i,b<0)return new L(0);if(b=b/Ga+2|0,u=0,T==1)for(d=0,O=O[0],b++;(u<E||d)&&b--;u++)S=d*Io+(P[u]||0),x[u]=S/O|0,d=S%O|0;else{for(d=Io/(O[0]+1)|0,d>1&&(O=e(O,d),P=e(P,d),T=O.length,E=P.length),C=T,g=P.slice(0,T),y=g.length;y<T;)g[y++]=0;I=O.slice(),I.unshift(0),D=O[0],O[1]>=Io/2&&++D;do d=0,s=t(O,g,T,y),s<0?(_=g[0],T!=y&&(_=_*Io+(g[1]||0)),d=_/D|0,d>1?(d>=Io&&(d=Io-1),f=e(O,d),h=f.length,y=g.length,s=t(f,g,h,y),s==1&&(d--,r(f,T<h?I:O,h))):(d==0&&(s=d=1),f=O.slice()),h=f.length,h<y&&f.unshift(0),r(g,f,y),s==-1&&(y=g.length,s=t(O,g,T,y),s<1&&(d++,r(g,T<y?I:O,y))),y=g.length):s===0&&(d++,g=[0]),x[u++]=d,s&&g[0]?g[y++]=P[C]||0:(g=[P[C]],y=1);while((C++<E||g[0]!==void 0)&&b--)}return x[0]||x.shift(),m.e=l,Ea(m,o?i+so(m)+1:i)}}();function xJ(e,t){var r,n,a,i,o,s,l=0,u=0,d=e.constructor,f=d.precision;if(so(e)>16)throw Error(PI+so(e));if(!e.s)return new d(sc);for(ai=!1,s=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(bm(2,u))/Math.LN10*2+5|0,s+=n,r=a=i=new d(sc),d.precision=s;;){if(a=Ea(a.times(e),s),r=r.times(++l),o=i.plus(uh(a,r,s)),Hd(o.d).slice(0,s)===Hd(i.d).slice(0,s)){for(;u--;)i=Ea(i.times(i),s);return d.precision=f,t==null?(ai=!0,Ea(i,f)):i}i=o}}function so(e){for(var t=e.e*Ga,r=e.d[0];r>=10;r/=10)t++;return t}function XC(e,t,r){if(t>e.LN10.sd())throw ai=!0,r&&(e.precision=r),Error(Jc+"LN10 precision limit exceeded");return Ea(new e(e.LN10),t)}function Bp(e){for(var t="";e--;)t+="0";return t}function bx(e,t){var r,n,a,i,o,s,l,u,d,f=1,h=10,m=e,x=m.d,g=m.constructor,y=g.precision;if(m.s<1)throw Error(Jc+(m.s?"NaN":"-Infinity"));if(m.eq(sc))return new g(0);if(t==null?(ai=!1,u=y):u=t,m.eq(10))return t==null&&(ai=!0),XC(g,u);if(u+=h,g.precision=u,r=Hd(x),n=r.charAt(0),i=so(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=Hd(m.d),n=r.charAt(0),f++;i=so(m),n>1?(m=new g("0."+r),i++):m=new g(n+"."+r.slice(1))}else return l=XC(g,u+2,y).times(i+""),m=bx(new g(n+"."+r.slice(1)),u-h).plus(l),g.precision=y,t==null?(ai=!0,Ea(m,y)):m;for(s=o=m=uh(m.minus(sc),m.plus(sc),u),d=Ea(m.times(m),u),a=3;;){if(o=Ea(o.times(d),u),l=s.plus(uh(o,new g(a),u)),Hd(l.d).slice(0,u)===Hd(s.d).slice(0,u))return s=s.times(2),i!==0&&(s=s.plus(XC(g,u+2,y).times(i+""))),s=uh(s,new g(f),u),g.precision=y,t==null?(ai=!0,Ea(s,y)):s;s=l,a+=2}}function ZB(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=py(r/Ga),e.d=[],n=(r+1)%Ga,r<0&&(n+=Ga),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Ga;n<a;)e.d.push(+t.slice(n,n+=Ga));t=t.slice(n),n=Ga-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),ai&&(e.e>H5||e.e<-H5))throw Error(PI+r)}else e.s=0,e.e=0,e.d=[0];return e}function Ea(e,t,r){var n,a,i,o,s,l,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Ga,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Ga),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=Ga,a=n-Ga+o}if(r!==void 0&&(i=bm(10,o-a-1),s=u/i%10|0,l=t<0||f[d+1]!==void 0||u%i,l=r<4?(s||l)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?a>0?u/bm(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(i=so(e),f.length=1,t=t-i-1,f[0]=bm(10,(Ga-t%Ga)%Ga),e.e=py(-t/Ga)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=bm(10,Ga-n),f[d]=a>0?(u/bm(10,o-a)%bm(10,a)|0)*i:0),l)for(;;)if(d==0){(f[0]+=i)==Io&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=Io)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(ai&&(e.e>H5||e.e<-H5))throw Error(PI+so(e));return e}function wJ(e,t){var r,n,a,i,o,s,l,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),ai?Ea(t,m):t;if(l=e.d,f=t.d,n=t.e,u=e.e,l=l.slice(),o=u-n,o){for(d=o<0,d?(r=l,o=-o,s=f.length):(r=f,n=u,s=l.length),a=Math.max(Math.ceil(m/Ga),s)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=l.length,s=f.length,d=a<s,d&&(s=a),a=0;a<s;a++)if(l[a]!=f[a]){d=l[a]<f[a];break}o=0}for(d&&(r=l,l=f,f=r,t.s=-t.s),s=l.length,a=f.length-s;a>0;--a)l[s++]=0;for(a=f.length;a>o;){if(l[--a]<f[a]){for(i=a;i&&l[--i]===0;)l[i]=Io-1;--l[i],l[a]+=Io}l[a]-=f[a]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,ai?Ea(t,m):t):new h(0)}function Qm(e,t,r){var n,a=so(e),i=Hd(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Bp(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Bp(-a-1)+i,r&&(n=r-o)>0&&(i+=Bp(n))):a>=o?(i+=Bp(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+Bp(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=Bp(n))),e.s<0?"-"+i:i}function JB(e,t){if(e.length>t)return e.length=t,!0}function _J(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Lm+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return ZB(o,i.toString())}else if(typeof i!="string")throw Error(Lm+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,l4e.test(i))ZB(o,i);else throw Error(Lm+i)}if(a.prototype=kr,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=_J,a.config=a.set=c4e,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function c4e(e){if(!e||typeof e!="object")throw Error(Jc+"Object expected");var t,r,n,a=["precision",1,hy,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(py(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Lm+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Lm+r+": "+n);return this}var OI=_J(s4e);sc=new OI(1);const Sa=OI;function u4e(e){return p4e(e)||h4e(e)||f4e(e)||d4e()}function d4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f4e(e,t){if(e){if(typeof e=="string")return Y6(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y6(e,t)}}function h4e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function p4e(e){if(Array.isArray(e))return Y6(e)}function Y6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var m4e=function(t){return t},bJ={},SJ=function(t){return t===bJ},QB=function(t){return function r(){return arguments.length===0||arguments.length===1&&SJ(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},g4e=function e(t,r){return t===1?r:QB(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(s){return s!==bJ}).length;return o>=t?r.apply(void 0,a):e(t-o,QB(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var d=a.map(function(f){return SJ(f)?l.shift():f});return r.apply(void 0,u4e(d).concat(l))}))})},s3=function(t){return g4e(t.length,t)},X6=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},v4e=s3(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),y4e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return m4e;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(s,l){return l(s)},i.apply(void 0,arguments))}},Z6=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},AJ=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(s,l){return s===r[l]})||(r=i,n=t.apply(void 0,i)),n}};function x4e(e){var t;return e===0?t=1:t=Math.floor(new Sa(e).abs().log(10).toNumber())+1,t}function w4e(e,t,r){for(var n=new Sa(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var _4e=s3(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),b4e=s3(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),S4e=s3(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const l3={rangeStep:w4e,getDigitCount:x4e,interpolateNumber:_4e,uninterpolateNumber:b4e,uninterpolateTruncation:S4e};function J6(e){return N4e(e)||k4e(e)||kJ(e)||A4e()}function A4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k4e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function N4e(e){if(Array.isArray(e))return Q6(e)}function Sx(e,t){return T4e(e)||C4e(e,t)||kJ(e,t)||E4e()}function E4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kJ(e,t){if(e){if(typeof e=="string")return Q6(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q6(e,t)}}function Q6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function C4e(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),s;!(n=(s=o.next()).done)&&(r.push(s.value),!(t&&r.length===t));n=!0);}catch(l){a=!0,i=l}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function T4e(e){if(Array.isArray(e))return e}function NJ(e){var t=Sx(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function EJ(e,t,r){if(e.lte(0))return new Sa(0);var n=l3.getDigitCount(e.toNumber()),a=new Sa(10).pow(n),i=e.div(a),o=n!==1?.05:.1,s=new Sa(Math.ceil(i.div(o).toNumber())).add(r).mul(o),l=s.mul(a);return t?l:new Sa(Math.ceil(l))}function P4e(e,t,r){var n=1,a=new Sa(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Sa(10).pow(l3.getDigitCount(e)-1),a=new Sa(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Sa(Math.floor(e)))}else e===0?a=new Sa(Math.floor((t-1)/2)):r||(a=new Sa(Math.floor(e)));var o=Math.floor((t-1)/2),s=y4e(v4e(function(l){return a.add(new Sa(l-o).mul(n)).toNumber()}),X6);return s(0,t)}function CJ(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Sa(0),tickMin:new Sa(0),tickMax:new Sa(0)};var i=EJ(new Sa(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new Sa(0):(o=new Sa(e).add(t).div(2),o=o.sub(new Sa(o).mod(i)));var s=Math.ceil(o.sub(e).div(i).toNumber()),l=Math.ceil(new Sa(t).sub(o).div(i).toNumber()),u=s+l+1;return u>r?CJ(e,t,r,n,a+1):(u<r&&(l=t>0?l+(r-u):l,s=t>0?s:s+(r-u)),{step:i,tickMin:o.sub(new Sa(s).mul(i)),tickMax:o.add(new Sa(l).mul(i))})}function O4e(e){var t=Sx(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),s=NJ([r,n]),l=Sx(s,2),u=l[0],d=l[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(J6(X6(0,a-1).map(function(){return 1/0}))):[].concat(J6(X6(0,a-1).map(function(){return-1/0})),[d]);return r>n?Z6(f):f}if(u===d)return P4e(u,a,i);var h=CJ(u,d,o,i),m=h.step,x=h.tickMin,g=h.tickMax,y=l3.rangeStep(x,g.add(new Sa(.1).mul(m)),m);return r>n?Z6(y):y}function D4e(e,t){var r=Sx(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=NJ([n,a]),s=Sx(o,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[n,a];if(l===u)return[l];var d=Math.max(t,2),f=EJ(new Sa(u).sub(l).div(d-1),i,0),h=[].concat(J6(l3.rangeStep(new Sa(l),new Sa(u).sub(new Sa(.99).mul(f)),f)),[u]);return n>a?Z6(h):h}var I4e=AJ(O4e),R4e=AJ(D4e),M4e="Invariant failed";function eg(e,t){throw new Error(M4e)}var F4e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function b1(e){"@babel/helpers - typeof";return b1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b1(e)}function V5(){return V5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},V5.apply(this,arguments)}function L4e(e,t){return U4e(e)||B4e(e,t)||$4e(e,t)||j4e()}function j4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $4e(e,t){if(e){if(typeof e=="string")return eU(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eU(e,t)}}function eU(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function B4e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function U4e(e){if(Array.isArray(e))return e}function q4e(e,t){if(e==null)return{};var r=z4e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function z4e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function W4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H4e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,OJ(n.key),n)}}function V4e(e,t,r){return t&&H4e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function G4e(e,t,r){return t=G5(t),K4e(e,TJ()?Reflect.construct(t,r||[],G5(e).constructor):t.apply(e,r))}function K4e(e,t){if(t&&(b1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y4e(e)}function Y4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TJ=function(){return!!e})()}function G5(e){return G5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},G5(e)}function X4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eO(e,t)}function eO(e,t){return eO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},eO(e,t)}function PJ(e,t,r){return t=OJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OJ(e){var t=Z4e(e,"string");return b1(t)=="symbol"?t:t+""}function Z4e(e,t){if(b1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(b1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var zw=function(e){function t(){return W4e(this,t),G4e(this,t,arguments)}return X4e(t,e),V4e(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,s=n.dataKey,l=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=q4e(n,F4e),m=Or(h,!1);this.props.direction==="x"&&d.type!=="number"&&eg();var x=l.map(function(g){var y=u(g,s),_=y.x,b=y.y,S=y.value,C=y.errorVal;if(!C)return null;var E=[],D,T;if(Array.isArray(C)){var I=L4e(C,2);D=I[0],T=I[1]}else D=T=C;if(i==="vertical"){var L=d.scale,B=b+a,P=B+o,O=B-o,j=L(S-D),G=L(S+T);E.push({x1:G,y1:P,x2:G,y2:O}),E.push({x1:j,y1:B,x2:G,y2:B}),E.push({x1:j,y1:P,x2:j,y2:O})}else if(i==="horizontal"){var Y=f.scale,re=_+a,q=re-o,K=re+o,z=Y(S-D),te=Y(S+T);E.push({x1:q,y1:te,x2:K,y2:te}),E.push({x1:re,y1:z,x2:re,y2:te}),E.push({x1:q,y1:z,x2:K,y2:z})}return Je.createElement(Rn,V5({className:"recharts-errorBar",key:"bar-".concat(E.map(function(Q){return"".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))},m),E.map(function(Q){return Je.createElement("line",V5({},Q,{key:"line-".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))}))});return Je.createElement(Rn,{className:"recharts-errorBars"},x)}}])}(Je.Component);PJ(zw,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});PJ(zw,"displayName","ErrorBar");function Ax(e){"@babel/helpers - typeof";return Ax=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ax(e)}function tU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tU(Object(r),!0).forEach(function(n){J4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function J4e(e,t,r){return t=Q4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q4e(e){var t=e3e(e,"string");return Ax(t)=="symbol"?t:t+""}function e3e(e,t){if(Ax(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ax(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DJ=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=ec(r,Hu);if(!o)return null;var s=Hu.defaultProps,l=s!==void 0?pm(pm({},s),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,m=f.props,x=m.sectors||m.data||[];return d.concat(x.map(function(g){return{type:o.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?pm(pm({},h),f.props):{},x=m.dataKey,g=m.name,y=m.legendType,_=m.hide;return{inactive:_,dataKey:x,type:l.iconType||y||"square",color:DI(f),value:g||x,payload:m}}),pm(pm(pm({},l),Hu.getWithHeight(o,a)),{},{payload:u,item:o})};function kx(e){"@babel/helpers - typeof";return kx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kx(e)}function rU(e){return a3e(e)||n3e(e)||r3e(e)||t3e()}function t3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r3e(e,t){if(e){if(typeof e=="string")return tO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tO(e,t)}}function n3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function a3e(e){if(Array.isArray(e))return tO(e)}function tO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ki(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nU(Object(r),!0).forEach(function(n){Xv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xv(e,t,r){return t=i3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i3e(e){var t=o3e(e,"string");return kx(t)=="symbol"?t:t+""}function o3e(e,t){if(kx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zi(e,t,r){return fn(e)||fn(t)?r:yo(t)?hc(e,t,r):Kr(t)?t(e):r}function M2(e,t,r,n){var a=a4e(e,function(s){return zi(s,t)});if(r==="number"){var i=a.filter(function(s){return Ht(s)||parseFloat(s)});return i.length?[o3(i),Vp(i)]:[1/0,-1/0]}var o=n?a.filter(function(s){return!fn(s)}):a;return o.map(function(s){return yo(s)||s instanceof Date?s:""})}var s3e=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,s=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var l=i.range,u=0;u<s;u++){var d=u>0?a[u-1].coordinate:a[s-1].coordinate,f=a[u].coordinate,h=u>=s-1?a[0].coordinate:a[u+1].coordinate,m=void 0;if(nl(f-d)!==nl(h-f)){var x=[];if(nl(h-f)===nl(l[1]-l[0])){m=h;var g=f+l[1]-l[0];x[0]=Math.min(g,(g+d)/2),x[1]=Math.max(g,(g+d)/2)}else{m=d;var y=h+l[1]-l[0];x[0]=Math.min(f,(y+f)/2),x[1]=Math.max(f,(y+f)/2)}var _=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(t>_[0]&&t<=_[1]||t>=x[0]&&t<=x[1]){o=a[u].index;break}}else{var b=Math.min(d,h),S=Math.max(d,h);if(t>(b+f)/2&&t<=(S+f)/2){o=a[u].index;break}}}else for(var C=0;C<s;C++)if(C===0&&t<=(n[C].coordinate+n[C+1].coordinate)/2||C>0&&C<s-1&&t>(n[C].coordinate+n[C-1].coordinate)/2&&t<=(n[C].coordinate+n[C+1].coordinate)/2||C===s-1&&t>(n[C].coordinate+n[C-1].coordinate)/2){o=n[C].index;break}return o},DI=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?ki(ki({},t.type.defaultProps),t.props):t.props,o=i.stroke,s=i.fill,l;switch(a){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},l3e=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},s=Object.keys(i),l=0,u=s.length;l<u;l++)for(var d=i[s[l]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var x=d[f[h]],g=x.items,y=x.cateAxisId,_=g.filter(function(T){return ch(T.type).indexOf("Bar")>=0});if(_&&_.length){var b=_[0].type.defaultProps,S=b!==void 0?ki(ki({},b),_[0].props):_[0].props,C=S.barSize,E=S[y];o[E]||(o[E]=[]);var D=fn(C)?r:C;o[E].push({item:_[0],stackList:_.slice(1),barSize:fn(D)?void 0:al(D,n,0)})}}return o},c3e=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,s=t.maxBarSize,l=o.length;if(l<1)return null;var u=al(r,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,m=a/l,x=o.reduce(function(C,E){return C+E.barSize||0},0);x+=(l-1)*u,x>=a&&(x-=(l-1)*u,u=0),x>=a&&m>0&&(h=!0,m*=.9,x=l*m);var g=(a-x)/2>>0,y={offset:g-u,size:0};d=o.reduce(function(C,E){var D={item:E.item,position:{offset:y.offset+y.size+u,size:h?m:E.barSize}},T=[].concat(rU(C),[D]);return y=T[T.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(I){T.push({item:I,position:y})}),T},f)}else{var _=al(n,a,0,!0);a-2*_-(l-1)*u<=0&&(u=0);var b=(a-2*_-(l-1)*u)/l;b>1&&(b>>=0);var S=s===+s?Math.min(b,s):b;d=o.reduce(function(C,E,D){var T=[].concat(rU(C),[{item:E.item,position:{offset:_+(b+u)*D+(b-S)/2,size:S}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(I){T.push({item:I,position:T[T.length-1].position})}),T},f)}return d},u3e=function(t,r,n,a){var i=n.children,o=n.width,s=n.margin,l=o-(s.left||0)-(s.right||0),u=DJ({children:i,legendWidth:l});if(u){var d=a||{},f=d.width,h=d.height,m=u.align,x=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&x==="middle")&&m!=="center"&&Ht(t[m]))return ki(ki({},t),{},Xv({},m,t[m]+(f||0)));if((g==="horizontal"||g==="vertical"&&m==="center")&&x!=="middle"&&Ht(t[x]))return ki(ki({},t),{},Xv({},x,t[x]+(h||0)))}return t},d3e=function(t,r,n){return fn(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},IJ=function(t,r,n,a,i){var o=r.props.children,s=pc(o,zw).filter(function(u){return d3e(a,i,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=zi(d,n);if(fn(f))return u;var h=Array.isArray(f)?[o3(f),Vp(f)]:[f,f],m=l.reduce(function(x,g){var y=zi(d,g,0),_=h[0]-Math.abs(Array.isArray(y)?y[0]:y),b=h[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(_,x[0]),Math.max(b,x[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},f3e=function(t,r,n,a,i){var o=r.map(function(s){return IJ(t,s,n,i,a)}).filter(function(s){return!fn(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},RJ=function(t,r,n,a,i){var o=r.map(function(l){var u=l.props.dataKey;return n==="number"&&u&&IJ(t,l,u,a)||M2(t,u,n,i)});if(n==="number")return o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,u){for(var d=0,f=u.length;d<f;d++)s[u[d]]||(s[u[d]]=!0,l.push(u[d]));return l},[])},MJ=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},FJ=function(t,r,n,a){if(a)return t.map(function(l){return l.coordinate});var i,o,s=t.map(function(l){return l.coordinate===r&&(i=!0),l.coordinate===n&&(o=!0),l.coordinate});return i||s.push(r),o||s.push(n),s},oh=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,s=t.range,l=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/l:0;if(u=t.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?nl(s[0]-s[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!uy(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:i?i[f]:f,index:h,offset:u}})},ZC=new WeakMap,hb=function(t,r){if(typeof r!="function")return t;ZC.has(t)||ZC.set(t,new WeakMap);var n=ZC.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},LJ=function(t,r,n){var a=t.scale,i=t.type,o=t.layout,s=t.axisType;if(a==="auto")return o==="radial"&&s==="radiusAxis"?{scale:vx(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:U5(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:R2(),realScaleType:"point"}:i==="category"?{scale:vx(),realScaleType:"band"}:{scale:U5(),realScaleType:"linear"};if(Ym(a)){var l="scale".concat(V4(a));return{scale:(qB[l]||R2)(),realScaleType:qB[l]?l:"point"}}return Kr(a)?{scale:a}:{scale:R2(),realScaleType:"point"}},aU=1e-4,jJ=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-aU,o=Math.max(a[0],a[1])+aU,s=t(r[0]),l=t(r[n-1]);(s<i||s>o||l<i||l>o)&&t.domain([r[0],r[n-1]])}},h3e=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},p3e=function(t,r){if(!r||r.length!==2||!Ht(r[0])||!Ht(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!Ht(t[0])||t[0]<n)&&(i[0]=n),(!Ht(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},m3e=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0,s=0;s<r;++s){var l=uy(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=i,t[s][n][1]=i+l,i=t[s][n][1]):(t[s][n][0]=o,t[s][n][1]=o+l,o=t[s][n][1])}},g3e=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var s=uy(t[o][n][1])?t[o][n][0]:t[o][n][1];s>=0?(t[o][n][0]=i,t[o][n][1]=i+s,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},v3e={sign:m3e,expand:axe,none:p1,silhouette:ixe,wiggle:oxe,positive:g3e},y3e=function(t,r,n){var a=r.map(function(s){return s.props.dataKey}),i=v3e[n],o=nxe().keys(a).value(function(s,l){return+zi(s,l,0)}).order(I6).offset(i);return o(t)},x3e=function(t,r,n,a,i,o){if(!t)return null;var s=o?r.reverse():r,l={},u=s.reduce(function(f,h){var m,x=(m=h.type)!==null&&m!==void 0&&m.defaultProps?ki(ki({},h.type.defaultProps),h.props):h.props,g=x.stackId,y=x.hide;if(y)return f;var _=x[n],b=f[_]||{hasStack:!1,stackGroups:{}};if(yo(g)){var S=b.stackGroups[g]||{numericAxisId:n,cateAxisId:a,items:[]};S.items.push(h),b.hasStack=!0,b.stackGroups[g]=S}else b.stackGroups[_g("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return ki(ki({},f),{},Xv({},_,b))},l),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var x={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(g,y){var _=m.stackGroups[y];return ki(ki({},g),{},Xv({},y,{numericAxisId:n,cateAxisId:a,items:_.items,stackedData:y3e(t,_.items,i)}))},x)}return ki(ki({},f),{},Xv({},h,m))},d)},$J=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,s=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=I4e(u,i,s);return t.domain([o3(d),Vp(d)]),{niceTicks:d}}if(i&&a==="number"){var f=t.domain(),h=R4e(f,i,s);return{niceTicks:h}}return null};function K5(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!fn(a[t.dataKey])){var s=S5(r,"value",a[t.dataKey]);if(s)return s.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var l=zi(a,fn(o)?t.dataKey:o);return fn(l)?null:t.scale(l)}var iU=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,s=t.index;if(r.type==="category")return n[s]?n[s].coordinate+a:null;var l=zi(o,r.dataKey,r.domain[s]);return fn(l)?null:r.scale(l)-i/2+a},w3e=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},_3e=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?ki(ki({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(yo(i)){var o=r[i];if(o){var s=o.items.indexOf(t);return s>=0?o.stackedData[s]:null}}return null},b3e=function(t){return t.reduce(function(r,n){return[o3(n.concat([r[0]]).filter(Ht)),Vp(n.concat([r[1]]).filter(Ht))]},[1/0,-1/0])},BJ=function(t,r,n){return Object.keys(t).reduce(function(a,i){var o=t[i],s=o.stackedData,l=s.reduce(function(u,d){var f=b3e(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},oU=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,sU=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,rO=function(t,r,n){if(Kr(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(Ht(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(oU.test(t[0])){var i=+oU.exec(t[0])[1];a[0]=r[0]-i}else Kr(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(Ht(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(sU.test(t[1])){var o=+sU.exec(t[1])[1];a[1]=r[1]+o}else Kr(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},Y5=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=oI(r,function(f){return f.coordinate}),o=1/0,s=1,l=i.length;s<l;s++){var u=i[s],d=i[s-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},lU=function(t,r,n){return!t||!t.length||Jm(t,hc(n,"type.defaultProps.domain"))?r:t},UJ=function(t,r){var n=t.type.defaultProps?ki(ki({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,o=n.unit,s=n.formatter,l=n.tooltipType,u=n.chartType,d=n.hide;return ki(ki({},Or(t,!1)),{},{dataKey:a,unit:o,formatter:s,name:i||a,color:DI(t),value:zi(r,a),type:l,payload:r,chartType:u,hide:d})};function Nx(e){"@babel/helpers - typeof";return Nx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nx(e)}function cU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function th(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cU(Object(r),!0).forEach(function(n){qJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qJ(e,t,r){return t=S3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S3e(e){var t=A3e(e,"string");return Nx(t)=="symbol"?t:t+""}function A3e(e,t){if(Nx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function k3e(e,t){return T3e(e)||C3e(e,t)||E3e(e,t)||N3e()}function N3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E3e(e,t){if(e){if(typeof e=="string")return uU(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uU(e,t)}}function uU(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function C3e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function T3e(e){if(Array.isArray(e))return e}var X5=Math.PI/180,P3e=function(t){return t*180/Math.PI},Ra=function(t,r,n,a){return{x:t+Math.cos(-X5*a)*n,y:r+Math.sin(-X5*a)*n}},zJ=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},O3e=function(t,r,n,a,i){var o=t.width,s=t.height,l=t.startAngle,u=t.endAngle,d=al(t.cx,o,o/2),f=al(t.cy,s,s/2),h=zJ(o,s,n),m=al(t.innerRadius,h,0),x=al(t.outerRadius,h,h*.8),g=Object.keys(r);return g.reduce(function(y,_){var b=r[_],S=b.domain,C=b.reversed,E;if(fn(b.range))a==="angleAxis"?E=[l,u]:a==="radiusAxis"&&(E=[m,x]),C&&(E=[E[1],E[0]]);else{E=b.range;var D=E,T=k3e(D,2);l=T[0],u=T[1]}var I=LJ(b,i),L=I.realScaleType,B=I.scale;B.domain(S).range(E),jJ(B);var P=$J(B,th(th({},b),{},{realScaleType:L})),O=th(th(th({},b),P),{},{range:E,radius:x,realScaleType:L,scale:B,cx:d,cy:f,innerRadius:m,outerRadius:x,startAngle:l,endAngle:u});return th(th({},y),{},qJ({},_,O))},{})},D3e=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},I3e=function(t,r){var n=t.x,a=t.y,i=r.cx,o=r.cy,s=D3e({x:n,y:a},{x:i,y:o});if(s<=0)return{radius:s};var l=(n-i)/s,u=Math.acos(l);return a>o&&(u=2*Math.PI-u),{radius:s,angle:P3e(u),angleInRadian:u}},R3e=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},M3e=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),s=Math.min(i,o);return t+s*360},dU=function(t,r){var n=t.x,a=t.y,i=I3e({x:n,y:a},r),o=i.radius,s=i.angle,l=r.innerRadius,u=r.outerRadius;if(o<l||o>u)return!1;if(o===0)return!0;var d=R3e(r),f=d.startAngle,h=d.endAngle,m=s,x;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;x=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;x=m>=h&&m<=f}return x?th(th({},r),{},{radius:o,angle:M3e(m,r)}):null},WJ=function(t){return!A.isValidElement(t)&&!Kr(t)&&typeof t!="boolean"?t.className:""};function Ex(e){"@babel/helpers - typeof";return Ex=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ex(e)}var F3e=["offset"];function L3e(e){return U3e(e)||B3e(e)||$3e(e)||j3e()}function j3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $3e(e,t){if(e){if(typeof e=="string")return nO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nO(e,t)}}function B3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function U3e(e){if(Array.isArray(e))return nO(e)}function nO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function q3e(e,t){if(e==null)return{};var r=z3e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function z3e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function fU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function po(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fU(Object(r),!0).forEach(function(n){W3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function W3e(e,t,r){return t=H3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H3e(e){var t=V3e(e,"string");return Ex(t)=="symbol"?t:t+""}function V3e(e,t){if(Ex(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ex(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var G3e=function(t){var r=t.value,n=t.formatter,a=fn(t.children)?r:t.children;return Kr(n)?n(a):a},K3e=function(t,r){var n=nl(r-t),a=Math.min(Math.abs(r-t),360);return n*a},Y3e=function(t,r,n){var a=t.position,i=t.viewBox,o=t.offset,s=t.className,l=i,u=l.cx,d=l.cy,f=l.innerRadius,h=l.outerRadius,m=l.startAngle,x=l.endAngle,g=l.clockWise,y=(f+h)/2,_=K3e(m,x),b=_>=0?1:-1,S,C;a==="insideStart"?(S=m+b*o,C=g):a==="insideEnd"?(S=x-b*o,C=!g):a==="end"&&(S=x+b*o,C=g),C=_<=0?C:!C;var E=Ra(u,d,y,S),D=Ra(u,d,y,S+(C?1:-1)*359),T="M".concat(E.x,",").concat(E.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(C?0:1,`,
    `).concat(D.x,",").concat(D.y),I=fn(t.id)?_g("recharts-radial-line-"):t.id;return w("text",{...n,dominantBaseline:"central",className:hn("recharts-radial-bar-label",s),children:[c("defs",{children:c("path",{id:I,d:T})}),c("textPath",{xlinkHref:"#".concat(I),children:r})]})},X3e=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,o=i.cx,s=i.cy,l=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(a==="outside"){var m=Ra(o,s,u+n,h),x=m.x,g=m.y;return{x,y:g,textAnchor:x>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var y=(l+u)/2,_=Ra(o,s,y,h),b=_.x,S=_.y;return{x:b,y:S,textAnchor:"middle",verticalAnchor:"middle"}},Z3e=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,o=r,s=o.x,l=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*a,m=f>0?"end":"start",x=f>0?"start":"end",g=u>=0?1:-1,y=g*a,_=g>0?"end":"start",b=g>0?"start":"end";if(i==="top"){var S={x:s+u/2,y:l-f*a,textAnchor:"middle",verticalAnchor:m};return po(po({},S),n?{height:Math.max(l-n.y,0),width:u}:{})}if(i==="bottom"){var C={x:s+u/2,y:l+d+h,textAnchor:"middle",verticalAnchor:x};return po(po({},C),n?{height:Math.max(n.y+n.height-(l+d),0),width:u}:{})}if(i==="left"){var E={x:s-y,y:l+d/2,textAnchor:_,verticalAnchor:"middle"};return po(po({},E),n?{width:Math.max(E.x-n.x,0),height:d}:{})}if(i==="right"){var D={x:s+u+y,y:l+d/2,textAnchor:b,verticalAnchor:"middle"};return po(po({},D),n?{width:Math.max(n.x+n.width-D.x,0),height:d}:{})}var T=n?{width:u,height:d}:{};return i==="insideLeft"?po({x:s+y,y:l+d/2,textAnchor:b,verticalAnchor:"middle"},T):i==="insideRight"?po({x:s+u-y,y:l+d/2,textAnchor:_,verticalAnchor:"middle"},T):i==="insideTop"?po({x:s+u/2,y:l+h,textAnchor:"middle",verticalAnchor:x},T):i==="insideBottom"?po({x:s+u/2,y:l+d-h,textAnchor:"middle",verticalAnchor:m},T):i==="insideTopLeft"?po({x:s+y,y:l+h,textAnchor:b,verticalAnchor:x},T):i==="insideTopRight"?po({x:s+u-y,y:l+h,textAnchor:_,verticalAnchor:x},T):i==="insideBottomLeft"?po({x:s+y,y:l+d-h,textAnchor:b,verticalAnchor:m},T):i==="insideBottomRight"?po({x:s+u-y,y:l+d-h,textAnchor:_,verticalAnchor:m},T):cy(i)&&(Ht(i.x)||Pm(i.x))&&(Ht(i.y)||Pm(i.y))?po({x:s+al(i.x,u),y:l+al(i.y,d),textAnchor:"end",verticalAnchor:"end"},T):po({x:s+u/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},T)},J3e=function(t){return"cx"in t&&Ht(t.cx)};function Lo(e){var t=e.offset,r=t===void 0?5:t,n=q3e(e,F3e),a=po({offset:r},n),i=a.viewBox,o=a.position,s=a.value,l=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!i||fn(s)&&fn(l)&&!A.isValidElement(u)&&!Kr(u))return null;if(A.isValidElement(u))return A.cloneElement(u,a);var m;if(Kr(u)){if(m=A.createElement(u,a),A.isValidElement(m))return m}else m=G3e(a);var x=J3e(i),g=Or(a,!0);if(x&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Y3e(a,m,g);var y=x?X3e(a):Z3e(a);return c(Zm,{className:hn("recharts-label",f),...g,...y,breakAll:h,children:m})}Lo.displayName="Label";var HJ=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,s=t.r,l=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,m=t.top,x=t.left,g=t.width,y=t.height,_=t.clockWise,b=t.labelViewBox;if(b)return b;if(Ht(g)&&Ht(y)){if(Ht(f)&&Ht(h))return{x:f,y:h,width:g,height:y};if(Ht(m)&&Ht(x))return{x:m,y:x,width:g,height:y}}return Ht(f)&&Ht(h)?{x:f,y:h,width:0,height:0}:Ht(r)&&Ht(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||l||s||0,clockWise:_}:t.viewBox?t.viewBox:{}},Q3e=function(t,r){return t?t===!0?c(Lo,{viewBox:r},"label-implicit"):yo(t)?c(Lo,{viewBox:r,value:t},"label-implicit"):A.isValidElement(t)?t.type===Lo?A.cloneElement(t,{key:"label-implicit",viewBox:r}):c(Lo,{content:t,viewBox:r},"label-implicit"):Kr(t)?c(Lo,{content:t,viewBox:r},"label-implicit"):cy(t)?A.createElement(Lo,{viewBox:r,...t,key:"label-implicit"}):null:null},eAe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=HJ(t),o=pc(a,Lo).map(function(l,u){return A.cloneElement(l,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var s=Q3e(t.label,r||i);return[s].concat(L3e(o))};Lo.parseViewBox=HJ;Lo.renderCallByParent=eAe;var JC,hU;function tAe(){if(hU)return JC;hU=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return JC=e,JC}var rAe=tAe();const nAe=oa(rAe);function Cx(e){"@babel/helpers - typeof";return Cx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cx(e)}var aAe=["valueAccessor"],iAe=["data","dataKey","clockWise","id","textBreakAll"];function oAe(e){return uAe(e)||cAe(e)||lAe(e)||sAe()}function sAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lAe(e,t){if(e){if(typeof e=="string")return aO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aO(e,t)}}function cAe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function uAe(e){if(Array.isArray(e))return aO(e)}function aO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pU(Object(r),!0).forEach(function(n){dAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dAe(e,t,r){return t=fAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fAe(e){var t=hAe(e,"string");return Cx(t)=="symbol"?t:t+""}function hAe(e,t){if(Cx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gU(e,t){if(e==null)return{};var r=pAe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var mAe=function(t){return Array.isArray(t.value)?nAe(t.value):t.value};function Qd(e){var t=e.valueAccessor,r=t===void 0?mAe:t,n=gU(e,aAe),a=n.data,i=n.dataKey,o=n.clockWise,s=n.id,l=n.textBreakAll,u=gU(n,iAe);return!a||!a.length?null:c(Rn,{className:"recharts-label-list",children:a.map(function(d,f){var h=fn(i)?r(d,f):zi(d&&d.payload,i),m=fn(s)?{}:{id:"".concat(s,"-").concat(f)};return A.createElement(Lo,{...Or(d,!0),...u,...m,parentViewBox:d.parentViewBox,value:h,textBreakAll:l,viewBox:Lo.parseViewBox(fn(o)?d:mU(mU({},d),{},{clockWise:o})),key:"label-".concat(f),index:f})})})}Qd.displayName="LabelList";function gAe(e,t){return e?e===!0?c(Qd,{data:t},"labelList-implicit"):Je.isValidElement(e)||Kr(e)?c(Qd,{data:t,content:e},"labelList-implicit"):cy(e)?A.createElement(Qd,{data:t,...e,key:"labelList-implicit"}):null:null}function vAe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=pc(n,Qd).map(function(o,s){return A.cloneElement(o,{data:t,key:"labelList-".concat(s)})});if(!r)return a;var i=gAe(e.label,t);return[i].concat(oAe(a))}Qd.renderCallByParent=vAe;function Tx(e){"@babel/helpers - typeof";return Tx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tx(e)}function iO(){return iO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iO.apply(this,arguments)}function vU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vU(Object(r),!0).forEach(function(n){yAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yAe(e,t,r){return t=xAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xAe(e){var t=wAe(e,"string");return Tx(t)=="symbol"?t:t+""}function wAe(e,t){if(Tx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _Ae=function(t,r){var n=nl(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},pb=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,o=t.sign,s=t.isExternal,l=t.cornerRadius,u=t.cornerIsExternal,d=l*(s?1:-1)+a,f=Math.asin(l/d)/X5,h=u?i:i+o*f,m=Ra(r,n,d,h),x=Ra(r,n,a,h),g=u?i-o*f:i,y=Ra(r,n,d*Math.cos(f*X5),g);return{center:m,circleTangency:x,lineTangency:y,theta:f}},VJ=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,s=t.endAngle,l=_Ae(o,s),u=o+l,d=Ra(r,n,i,o),f=Ra(r,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var m=Ra(r,n,a,o),x=Ra(r,n,a,u);h+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},bAe=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,s=t.forceCornerRadius,l=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=nl(d-u),h=pb({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:l}),m=h.circleTangency,x=h.lineTangency,g=h.theta,y=pb({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:l}),_=y.circleTangency,b=y.lineTangency,S=y.theta,C=l?Math.abs(u-d):Math.abs(u-d)-g-S;if(C<0)return s?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):VJ({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var E="M ".concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(C>180),",").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(a>0){var D=pb({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),T=D.circleTangency,I=D.lineTangency,L=D.theta,B=pb({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),P=B.circleTangency,O=B.lineTangency,j=B.theta,G=l?Math.abs(u-d):Math.abs(u-d)-L-j;if(G<0&&o===0)return"".concat(E,"L").concat(r,",").concat(n,"Z");E+="L".concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(G>180),",").concat(+(f>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(I.x,",").concat(I.y,"Z")}else E+="L".concat(r,",").concat(n,"Z");return E},SAe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},GJ=function(t){var r=yU(yU({},SAe),t),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,s=r.cornerRadius,l=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<i||d===f)return null;var m=hn("recharts-sector",h),x=o-i,g=al(s,x,0,!0),y;return g>0&&Math.abs(d-f)<360?y=bAe({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(g,x/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}):y=VJ({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),Je.createElement("path",iO({},Or(r,!0),{className:m,d:y,role:"img"}))};function Px(e){"@babel/helpers - typeof";return Px=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Px(e)}function oO(){return oO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oO.apply(this,arguments)}function xU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xU(Object(r),!0).forEach(function(n){AAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AAe(e,t,r){return t=kAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kAe(e){var t=NAe(e,"string");return Px(t)=="symbol"?t:t+""}function NAe(e,t){if(Px(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Px(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _U={curveBasisClosed:V2e,curveBasisOpen:G2e,curveBasis:H2e,curveBumpX:O2e,curveBumpY:D2e,curveLinearClosed:K2e,curveLinear:K4,curveMonotoneX:Y2e,curveMonotoneY:X2e,curveNatural:Z2e,curveStep:J2e,curveStepAfter:exe,curveStepBefore:Q2e},mb=function(t){return t.x===+t.x&&t.y===+t.y},t2=function(t){return t.x},r2=function(t){return t.y},EAe=function(t,r){if(Kr(t))return t;var n="curve".concat(V4(t));return(n==="curveMonotone"||n==="curveBump")&&r?_U["".concat(n).concat(r==="vertical"?"Y":"X")]:_U[n]||K4},CAe=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,s=t.layout,l=t.connectNulls,u=l===void 0?!1:l,d=EAe(n,s),f=u?i.filter(function(g){return mb(g)}):i,h;if(Array.isArray(o)){var m=u?o.filter(function(g){return mb(g)}):o,x=f.map(function(g,y){return wU(wU({},g),{},{base:m[y]})});return s==="vertical"?h=ob().y(r2).x1(t2).x0(function(g){return g.base.x}):h=ob().x(t2).y1(r2).y0(function(g){return g.base.y}),h.defined(mb).curve(d),h(x)}return s==="vertical"&&Ht(o)?h=ob().y(r2).x1(t2).x0(o):Ht(o)?h=ob().x(t2).y1(r2).y0(o):h=HX().x(t2).y(r2),h.defined(mb).curve(d),h(f)},jm=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?CAe(t):a;return Je.createElement("path",oO({},Or(t,!1),A5(t),{className:hn("recharts-curve",r),d:o,ref:i}))},QC={exports:{}},eT,bU;function TAe(){if(bU)return eT;bU=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return eT=e,eT}var tT,SU;function PAe(){if(SU)return tT;SU=1;var e=TAe();function t(){}function r(){}return r.resetWarningCache=t,tT=function(){function n(o,s,l,u,d,f){if(f!==e){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}n.isRequired=n;function a(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:t};return i.PropTypes=i,i},tT}var AU;function OAe(){return AU||(AU=1,QC.exports=PAe()()),QC.exports}var DAe=OAe();const ha=oa(DAe);var IAe=Object.getOwnPropertyNames,RAe=Object.getOwnPropertySymbols,MAe=Object.prototype.hasOwnProperty;function kU(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function gb(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,o=i.get(r),s=i.get(n);if(o&&s)return o===n&&s===r;i.set(r,n),i.set(n,r);var l=e(r,n,a);return i.delete(r),i.delete(n),l}}function NU(e){return IAe(e).concat(RAe(e))}var FAe=Object.hasOwn||function(e,t){return MAe.call(e,t)};function Ag(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var LAe="__v",jAe="__o",$Ae="_owner",EU=Object.getOwnPropertyDescriptor,CU=Object.keys;function BAe(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function UAe(e,t){return Ag(e.getTime(),t.getTime())}function qAe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function zAe(e,t){return e===t}function TU(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),o,s,l=0;(o=i.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(s=u.next())&&!s.done;){if(a[f]){f++;continue}var h=o.value,m=s.value;if(r.equals(h[0],m[0],l,f,e,t,r)&&r.equals(h[1],m[1],h[0],m[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;l++}return!0}var WAe=Ag;function HAe(e,t,r){var n=CU(e),a=n.length;if(CU(t).length!==a)return!1;for(;a-- >0;)if(!KJ(e,t,r,n[a]))return!1;return!0}function n2(e,t,r){var n=NU(e),a=n.length;if(NU(t).length!==a)return!1;for(var i,o,s;a-- >0;)if(i=n[a],!KJ(e,t,r,i)||(o=EU(e,i),s=EU(t,i),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function VAe(e,t){return Ag(e.valueOf(),t.valueOf())}function GAe(e,t){return e.source===t.source&&e.flags===t.flags}function PU(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),o,s;(o=i.next())&&!o.done;){for(var l=t.values(),u=!1,d=0;(s=l.next())&&!s.done;){if(!a[d]&&r.equals(o.value,s.value,o.value,s.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function KAe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function YAe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function KJ(e,t,r,n){return(n===$Ae||n===jAe||n===LAe)&&(e.$$typeof||t.$$typeof)?!0:FAe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var XAe="[object Arguments]",ZAe="[object Boolean]",JAe="[object Date]",QAe="[object Error]",eke="[object Map]",tke="[object Number]",rke="[object Object]",nke="[object RegExp]",ake="[object Set]",ike="[object String]",oke="[object URL]",ske=Array.isArray,OU=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,DU=Object.assign,lke=Object.prototype.toString.call.bind(Object.prototype.toString);function cke(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,s=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(x,g,y){if(x===g)return!0;if(x==null||g==null)return!1;var _=typeof x;if(_!==typeof g)return!1;if(_!=="object")return _==="number"?o(x,g,y):_==="function"?a(x,g,y):!1;var b=x.constructor;if(b!==g.constructor)return!1;if(b===Object)return s(x,g,y);if(ske(x))return t(x,g,y);if(OU!=null&&OU(x))return f(x,g,y);if(b===Date)return r(x,g,y);if(b===RegExp)return u(x,g,y);if(b===Map)return i(x,g,y);if(b===Set)return d(x,g,y);var S=lke(x);return S===JAe?r(x,g,y):S===nke?u(x,g,y):S===eke?i(x,g,y):S===ake?d(x,g,y):S===rke?typeof x.then!="function"&&typeof g.then!="function"&&s(x,g,y):S===oke?h(x,g,y):S===QAe?n(x,g,y):S===XAe?s(x,g,y):S===ZAe||S===tke||S===ike?l(x,g,y):!1}}function uke(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?n2:BAe,areDatesEqual:UAe,areErrorsEqual:qAe,areFunctionsEqual:zAe,areMapsEqual:n?kU(TU,n2):TU,areNumbersEqual:WAe,areObjectsEqual:n?n2:HAe,arePrimitiveWrappersEqual:VAe,areRegExpsEqual:GAe,areSetsEqual:n?kU(PU,n2):PU,areTypedArraysEqual:n?n2:KAe,areUrlsEqual:YAe};if(r&&(a=DU({},a,r(a))),t){var i=gb(a.areArraysEqual),o=gb(a.areMapsEqual),s=gb(a.areObjectsEqual),l=gb(a.areSetsEqual);a=DU({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return a}function dke(e){return function(t,r,n,a,i,o,s){return e(t,r,s)}}function fke(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(l,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,m=d.meta;return r(l,u,{cache:h,equals:a,meta:m,strict:i})};if(t)return function(l,u){return r(l,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(l,u){return r(l,u,o)}}var hke=O0();O0({strict:!0});O0({circular:!0});O0({circular:!0,strict:!0});O0({createInternalComparator:function(){return Ag}});O0({strict:!0,createInternalComparator:function(){return Ag}});O0({circular:!0,createInternalComparator:function(){return Ag}});O0({circular:!0,createInternalComparator:function(){return Ag},strict:!0});function O0(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,s=uke(e),l=cke(s),u=n?n(l):dke(l);return fke({circular:r,comparator:l,createState:a,equals:u,strict:o})}function pke(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function IU(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):pke(a)};requestAnimationFrame(n)}function sO(e){"@babel/helpers - typeof";return sO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sO(e)}function mke(e){return xke(e)||yke(e)||vke(e)||gke()}function gke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vke(e,t){if(e){if(typeof e=="string")return RU(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RU(e,t)}}function RU(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xke(e){if(Array.isArray(e))return e}function wke(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,s=mke(o),l=s[0],u=s.slice(1);if(typeof l=="number"){IU(a.bind(null,u),l);return}a(l),IU(a.bind(null,u));return}sO(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Ox(e){"@babel/helpers - typeof";return Ox=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ox(e)}function MU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function FU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MU(Object(r),!0).forEach(function(n){YJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YJ(e,t,r){return t=_ke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _ke(e){var t=bke(e,"string");return Ox(t)==="symbol"?t:String(t)}function bke(e,t){if(Ox(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ox(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ske=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},Ake=function(t){return t},kke=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},F2=function(t,r){return Object.keys(r).reduce(function(n,a){return FU(FU({},n),{},YJ({},a,t(a,r[a])))},{})},LU=function(t,r,n){return t.map(function(a){return"".concat(kke(a)," ").concat(r,"ms ").concat(n)}).join(",")};function Nke(e,t){return Tke(e)||Cke(e,t)||XJ(e,t)||Eke()}function Eke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cke(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function Tke(e){if(Array.isArray(e))return e}function Pke(e){return Ike(e)||Dke(e)||XJ(e)||Oke()}function Oke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XJ(e,t){if(e){if(typeof e=="string")return lO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lO(e,t)}}function Dke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ike(e){if(Array.isArray(e))return lO(e)}function lO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Z5=1e-4,ZJ=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},JJ=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},jU=function(t,r){return function(n){var a=ZJ(t,r);return JJ(a,n)}},Rke=function(t,r){return function(n){var a=ZJ(t,r),i=[].concat(Pke(a.map(function(o,s){return o*s}).slice(1)),[0]);return JJ(i,n)}},$U=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,s=1;break;case"ease":a=.25,i=.1,o=.25,s=1;break;case"ease-in":a=.42,i=0,o=1,s=1;break;case"ease-out":a=.42,i=0,o=.58,s=1;break;case"ease-in-out":a=0,i=0,o=.58,s=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),d=Nke(u,4);a=d[0],i=d[1],o=d[2],s=d[3]}}}var f=jU(a,o),h=jU(i,s),m=Rke(a,o),x=function(_){return _>1?1:_<0?0:_},g=function(_){for(var b=_>1?1:_,S=b,C=0;C<8;++C){var E=f(S)-b,D=m(S);if(Math.abs(E-b)<Z5||D<Z5)return h(S);S=x(S-E/D)}return h(S)};return g.isStepper=!1,g},Mke=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,s=o===void 0?17:o,l=function(d,f,h){var m=-(d-f)*n,x=h*i,g=h+(m-x)*s/1e3,y=h*s/1e3+d;return Math.abs(y-f)<Z5&&Math.abs(g)<Z5?[f,0]:[y,g]};return l.isStepper=!0,l.dt=s,l},Fke=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return $U(a);case"spring":return Mke();default:if(a.split("(")[0]==="cubic-bezier")return $U(a)}return typeof a=="function"?a:null};function Dx(e){"@babel/helpers - typeof";return Dx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dx(e)}function BU(e){return $ke(e)||jke(e)||QJ(e)||Lke()}function Lke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $ke(e){if(Array.isArray(e))return uO(e)}function UU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UU(Object(r),!0).forEach(function(n){cO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cO(e,t,r){return t=Bke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bke(e){var t=Uke(e,"string");return Dx(t)==="symbol"?t:String(t)}function Uke(e,t){if(Dx(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dx(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qke(e,t){return Hke(e)||Wke(e,t)||QJ(e,t)||zke()}function zke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QJ(e,t){if(e){if(typeof e=="string")return uO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uO(e,t)}}function uO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Wke(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function Hke(e){if(Array.isArray(e))return e}var J5=function(t,r,n){return t+(r-t)*n},dO=function(t){var r=t.from,n=t.to;return r!==n},Vke=function e(t,r,n){var a=F2(function(i,o){if(dO(o)){var s=t(o.from,o.to,o.velocity),l=qke(s,2),u=l[0],d=l[1];return Jo(Jo({},o),{},{from:u,velocity:d})}return o},r);return n<1?F2(function(i,o){return dO(o)?Jo(Jo({},o),{},{velocity:J5(o.velocity,a[i].velocity,n),from:J5(o.from,a[i].from,n)}):o},r):e(t,a,n-1)};const Gke=function(e,t,r,n,a){var i=Ske(e,t),o=i.reduce(function(y,_){return Jo(Jo({},y),{},cO({},_,[e[_],t[_]]))},{}),s=i.reduce(function(y,_){return Jo(Jo({},y),{},cO({},_,{from:e[_],velocity:0,to:t[_]}))},{}),l=-1,u,d,f=function(){return null},h=function(){return F2(function(_,b){return b.from},s)},m=function(){return!Object.values(s).filter(dO).length},x=function(_){u||(u=_);var b=_-u,S=b/r.dt;s=Vke(r,s,S),a(Jo(Jo(Jo({},e),t),h())),u=_,m()||(l=requestAnimationFrame(f))},g=function(_){d||(d=_);var b=(_-d)/n,S=F2(function(E,D){return J5.apply(void 0,BU(D).concat([r(b)]))},o);if(a(Jo(Jo(Jo({},e),t),S)),b<1)l=requestAnimationFrame(f);else{var C=F2(function(E,D){return J5.apply(void 0,BU(D).concat([r(1)]))},o);a(Jo(Jo(Jo({},e),t),C))}};return f=r.isStepper?x:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function S1(e){"@babel/helpers - typeof";return S1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S1(e)}var Kke=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Yke(e,t){if(e==null)return{};var r=Xke(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Xke(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function rT(e){return eNe(e)||Qke(e)||Jke(e)||Zke()}function Zke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jke(e,t){if(e){if(typeof e=="string")return fO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fO(e,t)}}function Qke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eNe(e){if(Array.isArray(e))return fO(e)}function fO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Eu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qU(Object(r),!0).forEach(function(n){x2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function x2(e,t,r){return t=eQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rNe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eQ(n.key),n)}}function nNe(e,t,r){return t&&rNe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function eQ(e){var t=aNe(e,"string");return S1(t)==="symbol"?t:String(t)}function aNe(e,t){if(S1(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(S1(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hO(e,t)}function hO(e,t){return hO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},hO(e,t)}function oNe(e){var t=sNe();return function(){var n=Q5(e),a;if(t){var i=Q5(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return pO(this,a)}}function pO(e,t){if(t&&(S1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mO(e)}function mO(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sNe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Q5(e){return Q5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Q5(e)}var Ju=function(e){iNe(r,e);var t=oNe(r);function r(n,a){var i;tNe(this,r),i=t.call(this,n,a);var o=i.props,s=o.isActive,l=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,m=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(mO(i)),i.changeStyle=i.changeStyle.bind(mO(i)),!s||m<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),pO(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},pO(i);i.state={style:l?x2({},l,u):u}}else i.state={style:{}};return i}return nNe(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,s=i.canBegin,l=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(s){if(!o){var m={style:l?x2({},l,d):d};this.state&&h&&(l&&h[l]!==d||!l&&h!==d)&&this.setState(m);return}if(!(hke(a.to,d)&&a.canBegin&&a.isActive)){var x=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=x||u?f:a.to;if(this.state&&h){var y={style:l?x2({},l,g):g};(l&&h[l]!==g||!l&&h!==g)&&this.setState(y)}this.runAnimation(Eu(Eu({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,s=a.to,l=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,m=Gke(o,s,Fke(u),l,this.changeStyle),x=function(){i.stopJSAnimation=m()};this.manager.start([h,d,x,l,f])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,s=a.begin,l=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(g,y,_){if(_===0)return g;var b=y.duration,S=y.easing,C=S===void 0?"ease":S,E=y.style,D=y.properties,T=y.onAnimationEnd,I=_>0?o[_-1]:y,L=D||Object.keys(E);if(typeof C=="function"||C==="spring")return[].concat(rT(g),[i.runJSAnimation.bind(i,{from:I.style,to:E,duration:b,easing:C}),b]);var B=LU(L,b,C),P=Eu(Eu(Eu({},I.style),E),{},{transition:B});return[].concat(rT(g),[P,b,T]).filter(Ake)};return this.manager.start([l].concat(rT(o.reduce(m,[d,Math.max(h,s)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=wke());var i=a.begin,o=a.duration,s=a.attributeName,l=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,m=a.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var g=s?x2({},s,l):l,y=LU(Object.keys(g),o,u);x.start([d,i,Eu(Eu({},g),{},{transition:y}),o,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var s=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var l=Yke(a,Kke),u=A.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!s||u===0||o<=0)return i;var f=function(m){var x=m.props,g=x.style,y=g===void 0?{}:g,_=x.className,b=A.cloneElement(m,Eu(Eu({},l),{},{style:Eu(Eu({},y),d),className:_}));return b};return u===1?f(A.Children.only(i)):c("div",{children:A.Children.map(i,function(h){return f(h)})})}}]),r}(A.PureComponent);Ju.displayName="Animate";Ju.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ju.propTypes={from:ha.oneOfType([ha.object,ha.string]),to:ha.oneOfType([ha.object,ha.string]),attributeName:ha.string,duration:ha.number,begin:ha.number,easing:ha.oneOfType([ha.string,ha.func]),steps:ha.arrayOf(ha.shape({duration:ha.number.isRequired,style:ha.object.isRequired,easing:ha.oneOfType([ha.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ha.func]),properties:ha.arrayOf("string"),onAnimationEnd:ha.func})),children:ha.oneOfType([ha.node,ha.func]),isActive:ha.bool,canBegin:ha.bool,onAnimationEnd:ha.func,shouldReAnimate:ha.bool,onAnimationStart:ha.func,onAnimationReStart:ha.func};function Ix(e){"@babel/helpers - typeof";return Ix=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ix(e)}function lNe(e,t){return fNe(e)||dNe(e,t)||uNe(e,t)||cNe()}function cNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uNe(e,t){if(e){if(typeof e=="string")return zU(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zU(e,t)}}function zU(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dNe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function fNe(e){if(Array.isArray(e))return e}function WU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function HU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WU(Object(r),!0).forEach(function(n){hNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hNe(e,t,r){return t=pNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pNe(e){var t=mNe(e,"string");return Ix(t)=="symbol"?t:t+""}function mNe(e,t){if(Ix(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ix(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VU=function(t,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),s=a>=0?1:-1,l=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=i[h]>o?o:i[h];d="M".concat(t,",").concat(r+s*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+l*f[0],",").concat(r)),d+="L ".concat(t+n-l*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+s*f[1])),d+="L ".concat(t+n,",").concat(r+a-s*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-l*f[2],",").concat(r+a)),d+="L ".concat(t+l*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-s*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var x=Math.min(o,i);d="M ".concat(t,",").concat(r+s*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+l*x,",").concat(r,`
            L `).concat(t+n-l*x,",").concat(r,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+n,",").concat(r+s*x,`
            L `).concat(t+n,",").concat(r+a-s*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+n-l*x,",").concat(r+a,`
            L `).concat(t+l*x,",").concat(r+a,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t,",").concat(r+a-s*x," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},gNe=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,o=r.y,s=r.width,l=r.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(i,i+s),d=Math.max(i,i+s),f=Math.min(o,o+l),h=Math.max(o,o+l);return n>=u&&n<=d&&a>=f&&a<=h}return!1},vNe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},II=function(t){var r=HU(HU({},vNe),t),n=A.useRef(),a=A.useState(-1),i=lNe(a,2),o=i[0],s=i[1];A.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var C=n.current.getTotalLength();C&&s(C)}catch{}},[]);var l=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,m=r.className,x=r.animationEasing,g=r.animationDuration,y=r.animationBegin,_=r.isAnimationActive,b=r.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var S=hn("recharts-rectangle",m);return b?c(Ju,{canBegin:o>0,from:{width:d,height:f,x:l,y:u},to:{width:d,height:f,x:l,y:u},duration:g,animationEasing:x,isActive:b,children:function(C){var E=C.width,D=C.height,T=C.x,I=C.y;return c(Ju,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,isActive:_,easing:x,children:c("path",{...Or(r,!0),className:S,d:VU(T,I,E,D,h),ref:n})})}}):c("path",{...Or(r,!0),className:S,d:VU(l,u,d,f,h)})},yNe=["points","className","baseLinePoints","connectNulls"];function jv(){return jv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jv.apply(this,arguments)}function xNe(e,t){if(e==null)return{};var r=wNe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wNe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function GU(e){return ANe(e)||SNe(e)||bNe(e)||_Ne()}function _Ne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bNe(e,t){if(e){if(typeof e=="string")return gO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gO(e,t)}}function SNe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ANe(e){if(Array.isArray(e))return gO(e)}function gO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var KU=function(t){return t&&t.x===+t.x&&t.y===+t.y},kNe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){KU(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),KU(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},L2=function(t,r){var n=kNe(t);r&&(n=[n.reduce(function(i,o){return[].concat(GU(i),GU(o))},[])]);var a=n.map(function(i){return i.reduce(function(o,s,l){return"".concat(o).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},NNe=function(t,r,n){var a=L2(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(L2(r.reverse(),n).slice(1))},ENe=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,i=t.connectNulls,o=xNe(t,yNe);if(!r||!r.length)return null;var s=hn("recharts-polygon",n);if(a&&a.length){var l=o.stroke&&o.stroke!=="none",u=NNe(r,a,i);return Je.createElement("g",{className:s},Je.createElement("path",jv({},Or(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),l?Je.createElement("path",jv({},Or(o,!0),{fill:"none",d:L2(r,i)})):null,l?Je.createElement("path",jv({},Or(o,!0),{fill:"none",d:L2(a,i)})):null)}var d=L2(r,i);return Je.createElement("path",jv({},Or(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:s,d}))};function vO(){return vO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vO.apply(this,arguments)}var Ww=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,o=hn("recharts-dot",i);return r===+r&&n===+n&&a===+a?Je.createElement("circle",vO({},Or(t,!1),A5(t),{className:o,cx:r,cy:n,r:a})):null};function Rx(e){"@babel/helpers - typeof";return Rx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rx(e)}var CNe=["x","y","top","left","width","height","className"];function yO(){return yO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yO.apply(this,arguments)}function YU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function TNe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YU(Object(r),!0).forEach(function(n){PNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PNe(e,t,r){return t=ONe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ONe(e){var t=DNe(e,"string");return Rx(t)=="symbol"?t:t+""}function DNe(e,t){if(Rx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function INe(e,t){if(e==null)return{};var r=RNe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function RNe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var MNe=function(t,r,n,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},FNe=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,s=o===void 0?0:o,l=t.left,u=l===void 0?0:l,d=t.width,f=d===void 0?0:d,h=t.height,m=h===void 0?0:h,x=t.className,g=INe(t,CNe),y=TNe({x:n,y:i,top:s,left:u,width:f,height:m},g);return!Ht(n)||!Ht(i)||!Ht(f)||!Ht(m)||!Ht(s)||!Ht(u)?null:Je.createElement("path",yO({},Or(y,!0),{className:hn("recharts-cross",x),d:MNe(n,i,f,m,s,u)}))},nT,XU;function LNe(){if(XU)return nT;XU=1;var e=i3(),t=mJ(),r=mf();function n(a,i){return a&&a.length?e(a,r(i,2),t):void 0}return nT=n,nT}var jNe=LNe();const $Ne=oa(jNe);var aT,ZU;function BNe(){if(ZU)return aT;ZU=1;var e=i3(),t=mf(),r=gJ();function n(a,i){return a&&a.length?e(a,t(i,2),r):void 0}return aT=n,aT}var UNe=BNe();const qNe=oa(UNe);var zNe=["cx","cy","angle","ticks","axisLine"],WNe=["ticks","tick","angle","tickFormatter","stroke"];function A1(e){"@babel/helpers - typeof";return A1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A1(e)}function JU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JU(Object(r),!0).forEach(function(n){c3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QU(e,t){if(e==null)return{};var r=HNe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function HNe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function VNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rQ(n.key),n)}}function GNe(e,t,r){return t&&eq(e.prototype,t),r&&eq(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function KNe(e,t,r){return t=eS(t),YNe(e,tQ()?Reflect.construct(t,r||[],eS(e).constructor):t.apply(e,r))}function YNe(e,t){if(t&&(A1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XNe(e)}function XNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tQ=function(){return!!e})()}function eS(e){return eS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},eS(e)}function ZNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xO(e,t)}function xO(e,t){return xO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},xO(e,t)}function c3(e,t,r){return t=rQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rQ(e){var t=JNe(e,"string");return A1(t)=="symbol"?t:t+""}function JNe(e,t){if(A1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(A1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var u3=function(e){function t(){return VNe(this,t),KNe(this,t,arguments)}return ZNe(t,e),GNe(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,o=i.angle,s=i.cx,l=i.cy;return Ra(s,l,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,s=n.ticks,l=$Ne(s,function(d){return d.coordinate||0}),u=qNe(s,function(d){return d.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,s=n.ticks,l=n.axisLine,u=QU(n,zNe),d=s.reduce(function(x,g){return[Math.min(x[0],g.coordinate),Math.max(x[1],g.coordinate)]},[1/0,-1/0]),f=Ra(a,i,d[0],o),h=Ra(a,i,d[1],o),m=mm(mm(mm({},Or(u,!1)),{},{fill:"none"},Or(l,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return c("line",{className:"recharts-polar-radius-axis-line",...m})}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,s=a.angle,l=a.tickFormatter,u=a.stroke,d=QU(a,WNe),f=this.getTickTextAnchor(),h=Or(d,!1),m=Or(o,!1),x=i.map(function(g,y){var _=n.getTickValueCoord(g),b=mm(mm(mm(mm({textAnchor:f,transform:"rotate(".concat(90-s,", ").concat(_.x,", ").concat(_.y,")")},h),{},{stroke:"none",fill:u},m),{},{index:y},_),{},{payload:g});return c(Rn,{className:hn("recharts-polar-radius-axis-tick",WJ(o)),...Xm(n.props,g,y),children:t.renderTickItem(o,b,l?l(g.value,y):g.value)},"tick-".concat(g.coordinate))});return c(Rn,{className:"recharts-polar-radius-axis-ticks",children:x})}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,o=n.tick;return!a||!a.length?null:w(Rn,{className:hn("recharts-polar-radius-axis",this.props.className),children:[i&&this.renderAxisLine(),o&&this.renderTicks(),Lo.renderCallByParent(this.props,this.getViewBox())]})}}],[{key:"renderTickItem",value:function(n,a,i){var o;return Je.isValidElement(n)?o=Je.cloneElement(n,a):Kr(n)?o=n(a):o=c(Zm,{...a,className:"recharts-polar-radius-axis-tick-value",children:i}),o}}])}(A.PureComponent);c3(u3,"displayName","PolarRadiusAxis");c3(u3,"axisType","radiusAxis");c3(u3,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function k1(e){"@babel/helpers - typeof";return k1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k1(e)}function tq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tq(Object(r),!0).forEach(function(n){d3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aQ(n.key),n)}}function eEe(e,t,r){return t&&rq(e.prototype,t),r&&rq(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function tEe(e,t,r){return t=tS(t),rEe(e,nQ()?Reflect.construct(t,r||[],tS(e).constructor):t.apply(e,r))}function rEe(e,t){if(t&&(k1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nEe(e)}function nEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nQ=function(){return!!e})()}function tS(e){return tS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tS(e)}function aEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wO(e,t)}function wO(e,t){return wO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},wO(e,t)}function d3(e,t,r){return t=aQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aQ(e){var t=iEe(e,"string");return k1(t)=="symbol"?t:t+""}function iEe(e,t){if(k1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(k1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var oEe=Math.PI/180,sEe=1e-5,f3=function(e){function t(){return QNe(this,t),tEe(this,t,arguments)}return aEe(t,e),eEe(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,o=a.cy,s=a.radius,l=a.orientation,u=a.tickSize,d=u||8,f=Ra(i,o,s,n.coordinate),h=Ra(i,o,s+(l==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*oEe),o;return i>sEe?o=a==="outer"?"start":"end":i<-1e-5?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.radius,s=n.axisLine,l=n.axisLineType,u=gm(gm({},Or(this.props,!1)),{},{fill:"none"},Or(s,!1));if(l==="circle")return c(Ww,{className:"recharts-polar-angle-axis-line",...u,cx:a,cy:i,r:o});var d=this.props.ticks,f=d.map(function(h){return Ra(a,i,o,h.coordinate)});return c(ENe,{className:"recharts-polar-angle-axis-line",...u,points:f})}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,s=a.tickLine,l=a.tickFormatter,u=a.stroke,d=Or(this.props,!1),f=Or(o,!1),h=gm(gm({},d),{},{fill:"none"},Or(s,!1)),m=i.map(function(x,g){var y=n.getTickLineCoord(x),_=n.getTickTextAnchor(x),b=gm(gm(gm({textAnchor:_},d),{},{stroke:"none",fill:u},f),{},{index:g,payload:x,x:y.x2,y:y.y2});return w(Rn,{className:hn("recharts-polar-angle-axis-tick",WJ(o)),...Xm(n.props,x,g),children:[s&&c("line",{className:"recharts-polar-angle-axis-tick-line",...h,...y}),o&&t.renderTickItem(o,b,l?l(x.value,g):x.value)]},"tick-".concat(x.coordinate))});return c(Rn,{className:"recharts-polar-angle-axis-ticks",children:m})}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!a||!a.length?null:w(Rn,{className:hn("recharts-polar-angle-axis",this.props.className),children:[o&&this.renderAxisLine(),this.renderTicks()]})}}],[{key:"renderTickItem",value:function(n,a,i){var o;return Je.isValidElement(n)?o=Je.cloneElement(n,a):Kr(n)?o=n(a):o=c(Zm,{...a,className:"recharts-polar-angle-axis-tick-value",children:i}),o}}])}(A.PureComponent);d3(f3,"displayName","PolarAngleAxis");d3(f3,"axisType","angleAxis");d3(f3,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var iT,nq;function lEe(){if(nq)return iT;nq=1;var e=pZ(),t=e(Object.getPrototypeOf,Object);return iT=t,iT}var oT,aq;function cEe(){if(aq)return oT;aq=1;var e=Ch(),t=lEe(),r=Th(),n="[object Object]",a=Function.prototype,i=Object.prototype,o=a.toString,s=i.hasOwnProperty,l=o.call(Object);function u(d){if(!r(d)||e(d)!=n)return!1;var f=t(d);if(f===null)return!0;var h=s.call(f,"constructor")&&f.constructor;return typeof h=="function"&&h instanceof h&&o.call(h)==l}return oT=u,oT}var uEe=cEe();const dEe=oa(uEe);var sT,iq;function fEe(){if(iq)return sT;iq=1;var e=Ch(),t=Th(),r="[object Boolean]";function n(a){return a===!0||a===!1||t(a)&&e(a)==r}return sT=n,sT}var hEe=fEe();const pEe=oa(hEe);function Mx(e){"@babel/helpers - typeof";return Mx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mx(e)}function mEe(e,t){return xEe(e)||yEe(e,t)||vEe(e,t)||gEe()}function gEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vEe(e,t){if(e){if(typeof e=="string")return oq(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oq(e,t)}}function oq(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yEe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function xEe(e){if(Array.isArray(e))return e}function sq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sq(Object(r),!0).forEach(function(n){wEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wEe(e,t,r){return t=_Ee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _Ee(e){var t=bEe(e,"string");return Mx(t)=="symbol"?t:t+""}function bEe(e,t){if(Mx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cq=function(t,r,n,a,i){var o=n-a,s;return s="M ".concat(t,",").concat(r),s+="L ".concat(t+n,",").concat(r),s+="L ".concat(t+n-o/2,",").concat(r+i),s+="L ".concat(t+n-o/2-a,",").concat(r+i),s+="L ".concat(t,",").concat(r," Z"),s},SEe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},AEe=function(t){var r=lq(lq({},SEe),t),n=A.useRef(),a=A.useState(-1),i=mEe(a,2),o=i[0],s=i[1];A.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&s(S)}catch{}},[]);var l=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,m=r.className,x=r.animationEasing,g=r.animationDuration,y=r.animationBegin,_=r.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var b=hn("recharts-trapezoid",m);return _?c(Ju,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:l,y:u},duration:g,animationEasing:x,isActive:_,children:function(S){var C=S.upperWidth,E=S.lowerWidth,D=S.height,T=S.x,I=S.y;return c(Ju,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,easing:x,children:c("path",{...Or(r,!0),className:b,d:cq(T,I,C,E,D),ref:n})})}}):c("g",{children:c("path",{...Or(r,!0),className:b,d:cq(l,u,d,f,h)})})},kEe=["option","shapeType","propTransformer","activeClassName","isActive"];function Fx(e){"@babel/helpers - typeof";return Fx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fx(e)}function NEe(e,t){if(e==null)return{};var r=EEe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function EEe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function uq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uq(Object(r),!0).forEach(function(n){CEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CEe(e,t,r){return t=TEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TEe(e){var t=PEe(e,"string");return Fx(t)=="symbol"?t:t+""}function PEe(e,t){if(Fx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OEe(e,t){return rS(rS({},t),e)}function DEe(e,t){return e==="symbols"}function dq(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return c(II,{...r});case"trapezoid":return c(AEe,{...r});case"sector":return c(GJ,{...r});case"symbols":if(DEe(t))return c(JD,{...r});break;default:return null}}function IEe(e){return A.isValidElement(e)?e.props:e}function iQ(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?OEe:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,s=e.isActive,l=NEe(e,kEe),u;if(A.isValidElement(t))u=A.cloneElement(t,rS(rS({},l),IEe(t)));else if(Kr(t))u=t(l);else if(dEe(t)&&!pEe(t)){var d=a(t,l);u=c(dq,{shapeType:r,elementProps:d})}else{var f=l;u=c(dq,{shapeType:r,elementProps:f})}return s?c(Rn,{className:o,children:u}):u}function h3(e,t){return t!=null&&"trapezoids"in e.props}function p3(e,t){return t!=null&&"sectors"in e.props}function Lx(e,t){return t!=null&&"points"in e.props}function REe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function MEe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function FEe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function LEe(e,t){var r;return h3(e,t)?r=REe:p3(e,t)?r=MEe:Lx(e,t)&&(r=FEe),r}function jEe(e,t){var r;return h3(e,t)?r="trapezoids":p3(e,t)?r="sectors":Lx(e,t)&&(r="points"),r}function $Ee(e,t){if(h3(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(p3(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Lx(e,t)?t.payload:{}}function BEe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=jEe(r,t),i=$Ee(r,t),o=n.filter(function(l,u){var d=Jm(i,l),f=r.props[a].filter(function(x){var g=LEe(r,t);return g(x,t)}),h=r.props[a].indexOf(f[f.length-1]),m=u===h;return d&&m}),s=n.indexOf(o[o.length-1]);return s}var Gb;function N1(e){"@babel/helpers - typeof";return N1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N1(e)}function fq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Oa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fq(Object(r),!0).forEach(function(n){Vc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sQ(n.key),n)}}function qEe(e,t,r){return t&&hq(e.prototype,t),r&&hq(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function zEe(e,t,r){return t=nS(t),WEe(e,oQ()?Reflect.construct(t,r||[],nS(e).constructor):t.apply(e,r))}function WEe(e,t){if(t&&(N1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HEe(e)}function HEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oQ=function(){return!!e})()}function nS(e){return nS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nS(e)}function VEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_O(e,t)}function _O(e,t){return _O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_O(e,t)}function Vc(e,t,r){return t=sQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sQ(e){var t=GEe(e,"string");return N1(t)=="symbol"?t:t+""}function GEe(e,t){if(N1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(N1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Is=function(e){function t(r){var n;return UEe(this,t),n=zEe(this,t,[r]),Vc(n,"pieRef",null),Vc(n,"sectorRefs",[]),Vc(n,"id",_g("recharts-pie-")),Vc(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Kr(a)&&a()}),Vc(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Kr(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return VEe(t,e),qEe(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,s=i.labelLine,l=i.dataKey,u=i.valueKey,d=Or(this.props,!1),f=Or(o,!1),h=Or(s,!1),m=o&&o.offsetRadius||20,x=n.map(function(g,y){var _=(g.startAngle+g.endAngle)/2,b=Ra(g.cx,g.cy,g.outerRadius+m,_),S=Oa(Oa(Oa(Oa({},d),g),{},{stroke:"none"},f),{},{index:y,textAnchor:t.getTextAnchor(b.x,g.cx)},b),C=Oa(Oa(Oa(Oa({},d),g),{},{fill:"none",stroke:g.fill},h),{},{index:y,points:[Ra(g.cx,g.cy,g.outerRadius,_),b]}),E=l;return fn(l)&&fn(u)?E="value":fn(l)&&(E=u),w(Rn,{children:[s&&t.renderLabelLineItem(s,C,"line"),t.renderLabelItem(o,S,zi(g,E))]},"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(y))});return c(Rn,{className:"recharts-pie-labels",children:x})}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,o=i.activeShape,s=i.blendStroke,l=i.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),h=l&&a.hasActiveIndex()?l:null,m=f?o:h,x=Oa(Oa({},u),{},{stroke:s?u.fill:u.stroke,tabIndex:-1});return A.createElement(Rn,{ref:function(y){y&&!a.sectorRefs.includes(y)&&a.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector",...Xm(a.props,u,d),key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)},c(iQ,{option:m,isActive:f,shapeType:"sector",...x}))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,o=a.isAnimationActive,s=a.animationBegin,l=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,h=f.prevSectors,m=f.prevIsAnimationActive;return c(Ju,{begin:s,duration:l,isActive:o,easing:u,from:{t:0},to:{t:1},onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd,children:function(x){var g=x.t,y=[],_=i&&i[0],b=_.startAngle;return i.forEach(function(S,C){var E=h&&h[C],D=C>0?hc(S,"paddingAngle",0):0;if(E){var T=mo(E.endAngle-E.startAngle,S.endAngle-S.startAngle),I=Oa(Oa({},S),{},{startAngle:b+D,endAngle:b+T(g)+D});y.push(I),b=I.endAngle}else{var L=S.endAngle,B=S.startAngle,P=mo(0,L-B),O=P(g),j=Oa(Oa({},S),{},{startAngle:b+D,endAngle:b+O+D});y.push(j),b=j.endAngle}}),c(Rn,{children:n.renderSectorsStatically(y)})}},"pie-".concat(d,"-").concat(m))}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var s=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[s].focus(),a.setState({sectorToFocus:s});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!Jm(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,o=a.sectors,s=a.className,l=a.label,u=a.cx,d=a.cy,f=a.innerRadius,h=a.outerRadius,m=a.isAnimationActive,x=this.state.isAnimationFinished;if(i||!o||!o.length||!Ht(u)||!Ht(d)||!Ht(f)||!Ht(h))return null;var g=hn("recharts-pie",s);return w(Rn,{tabIndex:this.props.rootTabIndex,className:g,ref:function(_){n.pieRef=_},children:[this.renderSectors(),l&&this.renderLabels(o),Lo.renderCallByParent(this.props,null,!1),(!m||x)&&Qd.renderCallByParent(this.props,o,!1)]})}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(Je.isValidElement(n))return Je.cloneElement(n,a);if(Kr(n))return n(a);var o=hn("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return A.createElement(jm,{...a,key:i,type:"linear",className:o})}},{key:"renderLabelItem",value:function(n,a,i){if(Je.isValidElement(n))return Je.cloneElement(n,a);var o=i;if(Kr(n)&&(o=n(a),Je.isValidElement(o)))return o;var s=hn("recharts-pie-label-text",typeof n!="boolean"&&!Kr(n)?n.className:"");return c(Zm,{...a,alignmentBaseline:"middle",className:s,children:o})}}])}(A.PureComponent);Gb=Is;Vc(Is,"displayName","Pie");Vc(Is,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!C0.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Vc(Is,"parseDeltaAngle",function(e,t){var r=nl(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Vc(Is,"getRealPieData",function(e){var t=e.data,r=e.children,n=Or(e,!1),a=pc(r,Hc);return t&&t.length?t.map(function(i,o){return Oa(Oa(Oa({payload:i},n),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return Oa(Oa({},n),i.props)}):[]});Vc(Is,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,o=zJ(a,i),s=n+al(e.cx,a,a/2),l=r+al(e.cy,i,i/2),u=al(e.innerRadius,o,0),d=al(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:s,cy:l,innerRadius:u,outerRadius:d,maxRadius:f}});Vc(Is,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Oa(Oa({},t.type.defaultProps),t.props):t.props,a=Gb.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,o=n.startAngle,s=n.endAngle,l=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,m=Math.abs(n.minAngle),x=Gb.parseCoordinateOfPie(n,r),g=Gb.parseDeltaAngle(o,s),y=Math.abs(g),_=u;fn(u)&&fn(f)?(Wu(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),_="value"):fn(u)&&(Wu(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),_=f);var b=a.filter(function(I){return zi(I,_,0)!==0}).length,S=(y>=360?b:b-1)*l,C=y-b*m-S,E=a.reduce(function(I,L){var B=zi(L,_,0);return I+(Ht(B)?B:0)},0),D;if(E>0){var T;D=a.map(function(I,L){var B=zi(I,_,0),P=zi(I,d,L),O=(Ht(B)?B:0)/E,j;L?j=T.endAngle+nl(g)*l*(B!==0?1:0):j=o;var G=j+nl(g)*((B!==0?m:0)+O*C),Y=(j+G)/2,re=(x.innerRadius+x.outerRadius)/2,q=[{name:P,value:B,payload:I,dataKey:_,type:h}],K=Ra(x.cx,x.cy,re,Y);return T=Oa(Oa(Oa({percent:O,cornerRadius:i,name:P,tooltipPayload:q,midAngle:Y,middleRadius:re,tooltipPosition:K},I),x),{},{value:zi(I,_),startAngle:j,endAngle:G,payload:I,paddingAngle:nl(g)*l}),T})}return Oa(Oa({},x),{},{sectors:D,data:a})});var lT,pq;function KEe(){if(pq)return lT;pq=1;var e=Math.ceil,t=Math.max;function r(n,a,i,o){for(var s=-1,l=t(e((a-n)/(i||1)),0),u=Array(l);l--;)u[o?l:++s]=n,n+=i;return u}return lT=r,lT}var cT,mq;function lQ(){if(mq)return cT;mq=1;var e=PZ(),t=1/0,r=17976931348623157e292;function n(a){if(!a)return a===0?a:0;if(a=e(a),a===t||a===-1/0){var i=a<0?-1:1;return i*r}return a===a?a:0}return cT=n,cT}var uT,gq;function YEe(){if(gq)return uT;gq=1;var e=KEe(),t=J4(),r=lQ();function n(a){return function(i,o,s){return s&&typeof s!="number"&&t(i,o,s)&&(o=s=void 0),i=r(i),o===void 0?(o=i,i=0):o=r(o),s=s===void 0?i<o?1:-1:r(s),e(i,o,s,a)}}return uT=n,uT}var dT,vq;function XEe(){if(vq)return dT;vq=1;var e=YEe(),t=e();return dT=t,dT}var ZEe=XEe();const aS=oa(ZEe);function jx(e){"@babel/helpers - typeof";return jx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jx(e)}function yq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yq(Object(r),!0).forEach(function(n){cQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cQ(e,t,r){return t=JEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JEe(e){var t=QEe(e,"string");return jx(t)=="symbol"?t:t+""}function QEe(e,t){if(jx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eCe=["Webkit","Moz","O","ms"],tCe=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=eCe.reduce(function(i,o){return xq(xq({},i),{},cQ({},o+n,r))},{});return a[t]=r,a};function E1(e){"@babel/helpers - typeof";return E1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E1(e)}function wq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wq(Object(r),!0).forEach(function(n){Ql(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _q(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dQ(n.key),n)}}function nCe(e,t,r){return t&&_q(e.prototype,t),r&&_q(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function aCe(e,t,r){return t=iS(t),iCe(e,uQ()?Reflect.construct(t,r||[],iS(e).constructor):t.apply(e,r))}function iCe(e,t){if(t&&(E1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oCe(e)}function oCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uQ=function(){return!!e})()}function iS(e){return iS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},iS(e)}function sCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bO(e,t)}function bO(e,t){return bO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},bO(e,t)}function Ql(e,t,r){return t=dQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dQ(e){var t=lCe(e,"string");return E1(t)=="symbol"?t:t+""}function lCe(e,t){if(E1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(E1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var cCe=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,o=t.width,s=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,u=R2().domain(aS(0,l)).range([i,i+o-s]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},bq=function(t){return t.changedTouches&&!!t.changedTouches.length},C1=function(e){function t(r){var n;return rCe(this,t),n=aCe(this,t,[r]),Ql(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Ql(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Ql(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,s=a.startIndex;o==null||o({endIndex:i,startIndex:s})}),n.detachDragEndListener()}),Ql(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Ql(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Ql(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Ql(n,"handleSlideDragStart",function(a){var i=bq(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return sCe(t,e),nCe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,d=u.length-1,f=Math.min(a,i),h=Math.max(a,i),m=t.getIndexInRange(o,f),x=t.getIndexInRange(o,h);return{startIndex:m-m%l,endIndex:x===d?d:x-x%l}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,s=a.dataKey,l=zi(i[n],s,n);return Kr(o)?o(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,s=a.endX,l=this.props,u=l.x,d=l.width,f=l.travellerWidth,h=l.startIndex,m=l.endIndex,x=l.onChange,g=n.pageX-i;g>0?g=Math.min(g,u+d-f-s,u+d-f-o):g<0&&(g=Math.max(g,u-o,u-s));var y=this.getIndex({startX:o+g,endX:s+g});(y.startIndex!==h||y.endIndex!==m)&&x&&x(y),this.setState({startX:o+g,endX:s+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=bq(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,s=a.endX,l=a.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,x=d.onChange,g=d.gap,y=d.data,_={startX:this.state.startX,endX:this.state.endX},b=n.pageX-i;b>0?b=Math.min(b,f+h-m-u):b<0&&(b=Math.max(b,f-u)),_[o]=u+b;var S=this.getIndex(_),C=S.startIndex,E=S.endIndex,D=function(){var I=y.length-1;return o==="startX"&&(s>l?C%g===0:E%g===0)||s<l&&E===I||o==="endX"&&(s>l?E%g===0:C%g===0)||s>l&&E===I};this.setState(Ql(Ql({},o,u+b),"brushMoveStartX",n.pageX),function(){x&&D()&&x(S)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,s=o.scaleValues,l=o.startX,u=o.endX,d=this.state[a],f=s.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=s.length)){var m=s[h];a==="startX"&&m>=u||a==="endX"&&m<=l||this.setState(Ql({},a,m),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,s=n.height,l=n.fill,u=n.stroke;return c("rect",{stroke:u,fill:l,x:a,y:i,width:o,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,s=n.height,l=n.data,u=n.children,d=n.padding,f=A.Children.only(u);return f?Je.cloneElement(f,{x:a,y:i,width:o,height:s,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,s=this,l=this.props,u=l.y,d=l.travellerWidth,f=l.height,h=l.traveller,m=l.ariaLabel,x=l.data,g=l.startIndex,y=l.endIndex,_=Math.max(n,this.props.x),b=fT(fT({},Or(this.props,!1)),{},{x:_,y:u,width:d,height:f}),S=m||"Min value: ".concat((i=x[g])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=x[y])===null||o===void 0?void 0:o.name);return c(Rn,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),s.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,a))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"},children:t.renderTraveller(h,b)})}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,s=i.height,l=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return c("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:o,width:f,height:s})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,s=n.height,l=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,m=5,x={pointerEvents:"none",fill:u};return w(Rn,{className:"recharts-brush-texts",children:[c(Zm,{textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:o+s/2,...x,children:this.getTextOfTick(a)}),c(Zm,{textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+m,y:o+s/2,...x,children:this.getTextOfTick(i)})]})}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,s=n.x,l=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,m=h.startX,x=h.endX,g=h.isTextActive,y=h.isSlideMoving,_=h.isTravellerMoving,b=h.isTravellerFocused;if(!a||!a.length||!Ht(s)||!Ht(l)||!Ht(u)||!Ht(d)||u<=0||d<=0)return null;var S=hn("recharts-brush",i),C=Je.Children.count(o)===1,E=tCe("userSelect","none");return w(Rn,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E,children:[this.renderBackground(),C&&this.renderPanorama(),this.renderSlide(m,x),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(x,"endX"),(g||y||_||b||f)&&this.renderText()]})}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,s=n.height,l=n.stroke,u=Math.floor(i+s/2)-1;return w(Dr,{children:[c("rect",{x:a,y:i,width:o,height:s,fill:l,stroke:"none"}),c("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),c("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"})]})}},{key:"renderTraveller",value:function(n,a){var i;return Je.isValidElement(n)?i=Je.cloneElement(n,a):Kr(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,s=n.x,l=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return fT({prevData:i,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o},i&&i.length?cCe({data:i,width:o,x:s,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||s!==a.prevX||l!==a.prevTravellerWidth)){a.scale.range([s,s+o-l]);var h=a.scale.domain().map(function(m){return a.scale(m)});return{prevData:i,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,s=i-1;s-o>1;){var l=Math.floor((o+s)/2);n[l]>a?s=l:o=l}return a>=n[s]?s:o}}])}(A.PureComponent);Ql(C1,"displayName","Brush");Ql(C1,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var hT,Sq;function uCe(){if(Sq)return hT;Sq=1;var e=iI();function t(r,n){var a;return e(r,function(i,o,s){return a=n(i,o,s),!a}),!!a}return hT=t,hT}var pT,Aq;function dCe(){if(Aq)return pT;Aq=1;var e=sZ(),t=mf(),r=uCe(),n=Ll(),a=J4();function i(o,s,l){var u=n(o)?e:r;return l&&a(o,s,l)&&(s=void 0),u(o,t(s,3))}return pT=i,pT}var fCe=dCe();const hCe=oa(fCe);var ef=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},mT,kq;function pCe(){if(kq)return mT;kq=1;var e=kZ();function t(r,n,a){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return mT=t,mT}var gT,Nq;function mCe(){if(Nq)return gT;Nq=1;var e=pCe(),t=SZ(),r=mf();function n(a,i){var o={};return i=r(i,3),t(a,function(s,l,u){e(o,l,i(s,l,u))}),o}return gT=n,gT}var gCe=mCe();const vCe=oa(gCe);var vT,Eq;function yCe(){if(Eq)return vT;Eq=1;function e(t,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(!r(t[n],n,t))return!1;return!0}return vT=e,vT}var yT,Cq;function xCe(){if(Cq)return yT;Cq=1;var e=iI();function t(r,n){var a=!0;return e(r,function(i,o,s){return a=!!n(i,o,s),a}),a}return yT=t,yT}var xT,Tq;function wCe(){if(Tq)return xT;Tq=1;var e=yCe(),t=xCe(),r=mf(),n=Ll(),a=J4();function i(o,s,l){var u=n(o)?e:t;return l&&a(o,s,l)&&(s=void 0),u(o,r(s,3))}return xT=i,xT}var _Ce=wCe();const fQ=oa(_Ce);var bCe=["x","y"];function $x(e){"@babel/helpers - typeof";return $x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$x(e)}function SO(){return SO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},SO.apply(this,arguments)}function Pq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function a2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pq(Object(r),!0).forEach(function(n){SCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SCe(e,t,r){return t=ACe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ACe(e){var t=kCe(e,"string");return $x(t)=="symbol"?t:t+""}function kCe(e,t){if($x(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($x(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NCe(e,t){if(e==null)return{};var r=ECe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ECe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function CCe(e,t){var r=e.x,n=e.y,a=NCe(e,bCe),i="".concat(r),o=parseInt(i,10),s="".concat(n),l=parseInt(s,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return a2(a2(a2(a2(a2({},t),a),o?{x:o}:{}),l?{y:l}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function Oq(e){return Je.createElement(iQ,SO({shapeType:"rectangle",propTransformer:CCe,activeClassName:"recharts-active-bar"},e))}var TCe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=typeof n=="number";return i?t(n,a):(i||eg(),r)}},PCe=["value","background"],hQ;function T1(e){"@babel/helpers - typeof";return T1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T1(e)}function OCe(e,t){if(e==null)return{};var r=DCe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function DCe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Dq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ro(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dq(Object(r),!0).forEach(function(n){Gp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ICe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Iq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mQ(n.key),n)}}function RCe(e,t,r){return t&&Iq(e.prototype,t),r&&Iq(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function MCe(e,t,r){return t=oS(t),FCe(e,pQ()?Reflect.construct(t,r||[],oS(e).constructor):t.apply(e,r))}function FCe(e,t){if(t&&(T1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LCe(e)}function LCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pQ=function(){return!!e})()}function oS(e){return oS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},oS(e)}function jCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AO(e,t)}function AO(e,t){return AO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},AO(e,t)}function Gp(e,t,r){return t=mQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mQ(e){var t=$Ce(e,"string");return T1(t)=="symbol"?t:t+""}function $Ce(e,t){if(T1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(T1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Qc=function(e){function t(){var r;ICe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=MCe(this,t,[].concat(a)),Gp(r,"state",{isAnimationFinished:!1}),Gp(r,"id",_g("recharts-bar-")),Gp(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Gp(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return jCe(t,e),RCe(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,s=i.dataKey,l=i.activeIndex,u=i.activeBar,d=Or(this.props,!1);return n&&n.map(function(f,h){var m=h===l,x=m?u:o,g=ro(ro(ro({},d),f),{},{isActive:m,option:x,index:h,dataKey:s,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return A.createElement(Rn,{className:"recharts-bar-rectangle",...Xm(a.props,f,h),key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)},c(Oq,{...g}))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,s=a.isAnimationActive,l=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return c(Ju,{begin:l,duration:u,isActive:s,easing:d,from:{t:0},to:{t:1},onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart,children:function(m){var x=m.t,g=i.map(function(y,_){var b=h&&h[_];if(b){var S=mo(b.x,y.x),C=mo(b.y,y.y),E=mo(b.width,y.width),D=mo(b.height,y.height);return ro(ro({},y),{},{x:S(x),y:C(x),width:E(x),height:D(x)})}if(o==="horizontal"){var T=mo(0,y.height),I=T(x);return ro(ro({},y),{},{y:y.y+y.height-I,height:I})}var L=mo(0,y.width),B=L(x);return ro(ro({},y),{},{width:B})});return c(Rn,{children:n.renderRectanglesStatically(g)})}},"bar-".concat(f))}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!Jm(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,s=a.activeIndex,l=Or(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=OCe(u,PCe);if(!f)return null;var m=ro(ro(ro(ro(ro({},h),{},{fill:"#eee"},f),l),Xm(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return c(Oq,{option:n.props.background,isActive:d===s,...m},"background-bar-".concat(d))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,s=i.xAxis,l=i.yAxis,u=i.layout,d=i.children,f=pc(d,zw);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,m=function(y,_){var b=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:b,errorVal:zi(y,_)}},x={clipPath:n?"url(#clipPath-".concat(a,")"):null};return c(Rn,{...x,children:f.map(function(g){return Je.cloneElement(g,{key:"error-bar-".concat(a,"-").concat(g.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,offset:h,dataPointFormatter:m})})})}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,s=n.xAxis,l=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,m=n.isAnimationActive,x=n.background,g=n.id;if(a||!i||!i.length)return null;var y=this.state.isAnimationFinished,_=hn("recharts-bar",o),b=s&&s.allowDataOverflow,S=l&&l.allowDataOverflow,C=b||S,E=fn(g)?this.id:g;return w(Rn,{className:_,children:[b||S?c("defs",{children:c("clipPath",{id:"clipPath-".concat(E),children:c("rect",{x:b?u:u-f/2,y:S?d:d-h/2,width:b?f:f*2,height:S?h:h*2})})}):null,w(Rn,{className:"recharts-bar-rectangles",clipPath:C?"url(#clipPath-".concat(E,")"):null,children:[x?this.renderBackground():null,this.renderRectangles()]}),this.renderErrorBar(C,E),(!m||y)&&Qd.renderCallByParent(this.props,i)]})}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(A.PureComponent);hQ=Qc;Gp(Qc,"displayName","Bar");Gp(Qc,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!C0.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Gp(Qc,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=h3e(n,r);if(!m)return null;var x=t.layout,g=r.type.defaultProps,y=g!==void 0?ro(ro({},g),r.props):r.props,_=y.dataKey,b=y.children,S=y.minPointSize,C=x==="horizontal"?o:i,E=u?C.scale.domain():null,D=w3e({numericAxis:C}),T=pc(b,Hc),I=f.map(function(L,B){var P,O,j,G,Y,re;u?P=p3e(u[d+B],E):(P=zi(L,_),Array.isArray(P)||(P=[D,P]));var q=TCe(S,hQ.defaultProps.minPointSize)(P[1],B);if(x==="horizontal"){var K,z=[o.scale(P[0]),o.scale(P[1])],te=z[0],Q=z[1];O=iU({axis:i,ticks:s,bandSize:a,offset:m.offset,entry:L,index:B}),j=(K=Q??te)!==null&&K!==void 0?K:void 0,G=m.size;var R=te-Q;if(Y=Number.isNaN(R)?0:R,re={x:O,y:o.y,width:G,height:o.height},Math.abs(q)>0&&Math.abs(Y)<Math.abs(q)){var H=nl(Y||q)*(Math.abs(q)-Math.abs(Y));j-=H,Y+=H}}else{var X=[i.scale(P[0]),i.scale(P[1])],Z=X[0],ie=X[1];if(O=Z,j=iU({axis:o,ticks:l,bandSize:a,offset:m.offset,entry:L,index:B}),G=ie-Z,Y=m.size,re={x:i.x,y:j,width:i.width,height:Y},Math.abs(q)>0&&Math.abs(G)<Math.abs(q)){var le=nl(G||q)*(Math.abs(q)-Math.abs(G));G+=le}}return ro(ro(ro({},L),{},{x:O,y:j,width:G,height:Y,value:u?P:P[1],payload:L,background:re},T&&T[B]&&T[B].props),{},{tooltipPayload:[UJ(r,L)],tooltipPosition:{x:O+G/2,y:j+Y/2}})});return ro({data:I,layout:x},h)});function Bx(e){"@babel/helpers - typeof";return Bx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bx(e)}function BCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gQ(n.key),n)}}function UCe(e,t,r){return t&&Rq(e.prototype,t),r&&Rq(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ru(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mq(Object(r),!0).forEach(function(n){m3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function m3(e,t,r){return t=gQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gQ(e){var t=qCe(e,"string");return Bx(t)=="symbol"?t:t+""}function qCe(e,t){if(Bx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RI=function(t,r,n,a,i){var o=t.width,s=t.height,l=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},h=!!ec(u,Qc);return d.reduce(function(m,x){var g=r[x],y=g.orientation,_=g.domain,b=g.padding,S=b===void 0?{}:b,C=g.mirror,E=g.reversed,D="".concat(y).concat(C?"Mirror":""),T,I,L,B,P;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var O=_[1]-_[0],j=1/0,G=g.categoricalDomain.sort(r2e);if(G.forEach(function(X,Z){Z>0&&(j=Math.min((X||0)-(G[Z-1]||0),j))}),Number.isFinite(j)){var Y=j/O,re=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(T=Y*re/2),g.padding==="no-gap"){var q=al(t.barCategoryGap,Y*re),K=Y*re/2;T=K-q-(K-q)/re*q}}}a==="xAxis"?I=[n.left+(S.left||0)+(T||0),n.left+n.width-(S.right||0)-(T||0)]:a==="yAxis"?I=l==="horizontal"?[n.top+n.height-(S.bottom||0),n.top+(S.top||0)]:[n.top+(S.top||0)+(T||0),n.top+n.height-(S.bottom||0)-(T||0)]:I=g.range,E&&(I=[I[1],I[0]]);var z=LJ(g,i,h),te=z.scale,Q=z.realScaleType;te.domain(_).range(I),jJ(te);var R=$J(te,Ru(Ru({},g),{},{realScaleType:Q}));a==="xAxis"?(P=y==="top"&&!C||y==="bottom"&&C,L=n.left,B=f[D]-P*g.height):a==="yAxis"&&(P=y==="left"&&!C||y==="right"&&C,L=f[D]-P*g.width,B=n.top);var H=Ru(Ru(Ru({},g),R),{},{realScaleType:Q,x:L,y:B,scale:te,width:a==="xAxis"?n.width:g.width,height:a==="yAxis"?n.height:g.height});return H.bandSize=Y5(H,R),!g.hide&&a==="xAxis"?f[D]+=(P?-1:1)*H.height:g.hide||(f[D]+=(P?-1:1)*H.width),Ru(Ru({},m),{},m3({},x,H))},{})},vQ=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},zCe=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return vQ({x:r,y:n},{x:a,y:i})},yQ=function(){function e(t){BCe(this,e),this.scale=t}return UCe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();m3(yQ,"EPS",1e-4);var MI=function(t){var r=Object.keys(t).reduce(function(n,a){return Ru(Ru({},n),{},m3({},a,yQ.create(t[a])))},{});return Ru(Ru({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,s=i.position;return vCe(a,function(l,u){return r[u].apply(l,{bandAware:o,position:s})})},isInRange:function(a){return fQ(a,function(i,o){return r[o].isInRange(i)})}})};function WCe(e){return(e%180+180)%180}var HCe=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=WCe(a),o=i*Math.PI/180,s=Math.atan(n/r),l=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(l)},wT,Fq;function VCe(){if(Fq)return wT;Fq=1;var e=mf(),t=jw(),r=X4();function n(a){return function(i,o,s){var l=Object(i);if(!t(i)){var u=e(o,3);i=r(i),o=function(f){return u(l[f],f,l)}}var d=a(i,o,s);return d>-1?l[u?i[d]:d]:void 0}}return wT=n,wT}var _T,Lq;function GCe(){if(Lq)return _T;Lq=1;var e=lQ();function t(r){var n=e(r),a=n%1;return n===n?a?n-a:n:0}return _T=t,_T}var bT,jq;function KCe(){if(jq)return bT;jq=1;var e=yZ(),t=mf(),r=GCe(),n=Math.max;function a(i,o,s){var l=i==null?0:i.length;if(!l)return-1;var u=s==null?0:r(s);return u<0&&(u=n(l+u,0)),e(i,t(o,3),u)}return bT=a,bT}var ST,$q;function YCe(){if($q)return ST;$q=1;var e=VCe(),t=KCe(),r=e(t);return ST=r,ST}var XCe=YCe();const ZCe=oa(XCe);var JCe=IX();const QCe=oa(JCe);var eTe=QCe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),FI=A.createContext(void 0),LI=A.createContext(void 0),xQ=A.createContext(void 0),wQ=A.createContext({}),_Q=A.createContext(void 0),bQ=A.createContext(0),SQ=A.createContext(0),Bq=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,s=t.children,l=t.width,u=t.height,d=eTe(i);return c(FI.Provider,{value:n,children:c(LI.Provider,{value:a,children:c(wQ.Provider,{value:i,children:c(xQ.Provider,{value:d,children:c(_Q.Provider,{value:o,children:c(bQ.Provider,{value:u,children:c(SQ.Provider,{value:l,children:s})})})})})})})},tTe=function(){return A.useContext(_Q)},AQ=function(t){var r=A.useContext(FI);r==null&&eg();var n=r[t];return n==null&&eg(),n},rTe=function(){var t=A.useContext(FI);return Wp(t)},nTe=function(){var t=A.useContext(LI),r=ZCe(t,function(n){return fQ(n.domain,Number.isFinite)});return r||Wp(t)},kQ=function(t){var r=A.useContext(LI);r==null&&eg();var n=r[t];return n==null&&eg(),n},aTe=function(){var t=A.useContext(xQ);return t},iTe=function(){return A.useContext(wQ)},jI=function(){return A.useContext(SQ)},$I=function(){return A.useContext(bQ)};function P1(e){"@babel/helpers - typeof";return P1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P1(e)}function oTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sTe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,EQ(n.key),n)}}function lTe(e,t,r){return t&&sTe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cTe(e,t,r){return t=sS(t),uTe(e,NQ()?Reflect.construct(t,r||[],sS(e).constructor):t.apply(e,r))}function uTe(e,t){if(t&&(P1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dTe(e)}function dTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NQ=function(){return!!e})()}function sS(e){return sS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sS(e)}function fTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kO(e,t)}function kO(e,t){return kO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},kO(e,t)}function Uq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uq(Object(r),!0).forEach(function(n){BI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BI(e,t,r){return t=EQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EQ(e){var t=hTe(e,"string");return P1(t)=="symbol"?t:t+""}function hTe(e,t){if(P1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(P1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function pTe(e,t){return yTe(e)||vTe(e,t)||gTe(e,t)||mTe()}function mTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gTe(e,t){if(e){if(typeof e=="string")return zq(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zq(e,t)}}function zq(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vTe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function yTe(e){if(Array.isArray(e))return e}function NO(){return NO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},NO.apply(this,arguments)}var xTe=function(t,r){var n;return Je.isValidElement(t)?n=Je.cloneElement(t,r):Kr(t)?n=t(r):n=Je.createElement("line",NO({},r,{className:"recharts-reference-line-line"})),n},wTe=function(t,r,n,a,i,o,s,l,u){var d=i.x,f=i.y,h=i.width,m=i.height;if(n){var x=u.y,g=t.y.apply(x,{position:o});if(ef(u,"discard")&&!t.y.isInRange(g))return null;var y=[{x:d+h,y:g},{x:d,y:g}];return l==="left"?y.reverse():y}if(r){var _=u.x,b=t.x.apply(_,{position:o});if(ef(u,"discard")&&!t.x.isInRange(b))return null;var S=[{x:b,y:f+m},{x:b,y:f}];return s==="top"?S.reverse():S}if(a){var C=u.segment,E=C.map(function(D){return t.apply(D,{position:o})});return ef(u,"discard")&&hCe(E,function(D){return!t.isInRange(D)})?null:E}return null};function _Te(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,s=e.className,l=e.alwaysShow,u=tTe(),d=AQ(a),f=kQ(i),h=aTe();if(!u||!h)return null;Wu(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=MI({x:d.scale,y:f.scale}),x=yo(t),g=yo(r),y=n&&n.length===2,_=wTe(m,x,g,y,h,e.position,d.orientation,f.orientation,e);if(!_)return null;var b=pTe(_,2),S=b[0],C=S.x,E=S.y,D=b[1],T=D.x,I=D.y,L=ef(e,"hidden")?"url(#".concat(u,")"):void 0,B=qq(qq({clipPath:L},Or(e,!0)),{},{x1:C,y1:E,x2:T,y2:I});return Je.createElement(Rn,{className:hn("recharts-reference-line",s)},xTe(o,B),Lo.renderCallByParent(e,zCe({x1:C,y1:E,x2:T,y2:I})))}var UI=function(e){function t(){return oTe(this,t),cTe(this,t,arguments)}return fTe(t,e),lTe(t,[{key:"render",value:function(){return Je.createElement(_Te,this.props)}}])}(Je.Component);BI(UI,"displayName","ReferenceLine");BI(UI,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function EO(){return EO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},EO.apply(this,arguments)}function O1(e){"@babel/helpers - typeof";return O1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O1(e)}function Wq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wq(Object(r),!0).forEach(function(n){g3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function STe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,TQ(n.key),n)}}function ATe(e,t,r){return t&&STe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function kTe(e,t,r){return t=lS(t),NTe(e,CQ()?Reflect.construct(t,r||[],lS(e).constructor):t.apply(e,r))}function NTe(e,t){if(t&&(O1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ETe(e)}function ETe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CQ=function(){return!!e})()}function lS(e){return lS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lS(e)}function CTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CO(e,t)}function CO(e,t){return CO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},CO(e,t)}function g3(e,t,r){return t=TQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TQ(e){var t=TTe(e,"string");return O1(t)=="symbol"?t:t+""}function TTe(e,t){if(O1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(O1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var PTe=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,o=MI({x:a.scale,y:i.scale}),s=o.apply({x:r,y:n},{bandAware:!0});return ef(t,"discard")&&!o.isInRange(s)?null:s},v3=function(e){function t(){return bTe(this,t),kTe(this,t,arguments)}return CTe(t,e),ATe(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,s=n.alwaysShow,l=n.clipPathId,u=yo(a),d=yo(i);if(Wu(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=PTe(this.props);if(!f)return null;var h=f.x,m=f.y,x=this.props,g=x.shape,y=x.className,_=ef(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=Hq(Hq({clipPath:_},Or(this.props,!0)),{},{cx:h,cy:m});return Je.createElement(Rn,{className:hn("recharts-reference-dot",y)},t.renderDot(g,b),Lo.renderCallByParent(this.props,{x:h-o,y:m-o,width:2*o,height:2*o}))}}])}(Je.Component);g3(v3,"displayName","ReferenceDot");g3(v3,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});g3(v3,"renderDot",function(e,t){var r;return Je.isValidElement(e)?r=Je.cloneElement(e,t):Kr(e)?r=e(t):r=Je.createElement(Ww,EO({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function TO(){return TO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},TO.apply(this,arguments)}function D1(e){"@babel/helpers - typeof";return D1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D1(e)}function Vq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vq(Object(r),!0).forEach(function(n){y3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DTe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,OQ(n.key),n)}}function ITe(e,t,r){return t&&DTe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function RTe(e,t,r){return t=cS(t),MTe(e,PQ()?Reflect.construct(t,r||[],cS(e).constructor):t.apply(e,r))}function MTe(e,t){if(t&&(D1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FTe(e)}function FTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PQ=function(){return!!e})()}function cS(e){return cS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cS(e)}function LTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PO(e,t)}function PO(e,t){return PO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},PO(e,t)}function y3(e,t,r){return t=OQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OQ(e){var t=jTe(e,"string");return D1(t)=="symbol"?t:t+""}function jTe(e,t){if(D1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(D1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var $Te=function(t,r,n,a,i){var o=i.x1,s=i.x2,l=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=MI({x:d.scale,y:f.scale}),m={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},x={x:r?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return ef(i,"discard")&&(!h.isInRange(m)||!h.isInRange(x))?null:vQ(m,x)},x3=function(e){function t(){return OTe(this,t),RTe(this,t,arguments)}return LTe(t,e),ITe(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,s=n.y2,l=n.className,u=n.alwaysShow,d=n.clipPathId;Wu(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=yo(a),h=yo(i),m=yo(o),x=yo(s),g=this.props.shape;if(!f&&!h&&!m&&!x&&!g)return null;var y=$Te(f,h,m,x,this.props);if(!y&&!g)return null;var _=ef(this.props,"hidden")?"url(#".concat(d,")"):void 0;return Je.createElement(Rn,{className:hn("recharts-reference-area",l)},t.renderRect(g,Gq(Gq({clipPath:_},Or(this.props,!0)),y)),Lo.renderCallByParent(this.props,y))}}])}(Je.Component);y3(x3,"displayName","ReferenceArea");y3(x3,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});y3(x3,"renderRect",function(e,t){var r;return Je.isValidElement(e)?r=Je.cloneElement(e,t):Kr(e)?r=e(t):r=Je.createElement(II,TO({},t,{className:"recharts-reference-area-rect"})),r});function DQ(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function BTe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return HCe(n,r)}function UTe(e,t,r){var n=r==="width",a=e.x,i=e.y,o=e.width,s=e.height;return t===1?{start:n?a:i,end:n?a+o:i+s}:{start:n?a+o:i+s,end:n?a:i}}function uS(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function qTe(e,t){return DQ(e,t+1)}function zTe(e,t,r,n,a){for(var i=(n||[]).slice(),o=t.start,s=t.end,l=0,u=1,d=o,f=function(){var x=n==null?void 0:n[l];if(x===void 0)return{v:DQ(n,u)};var g=l,y,_=function(){return y===void 0&&(y=r(x,g)),y},b=x.coordinate,S=l===0||uS(e,b,_,d,s);S||(l=0,d=o,u+=1),S&&(d=b+e*(_()/2+a),l+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function Ux(e){"@babel/helpers - typeof";return Ux=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ux(e)}function Kq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ss(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kq(Object(r),!0).forEach(function(n){WTe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WTe(e,t,r){return t=HTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HTe(e){var t=VTe(e,"string");return Ux(t)=="symbol"?t:t+""}function VTe(e,t){if(Ux(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ux(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GTe(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,s=t.start,l=t.end,u=function(h){var m=i[h],x,g=function(){return x===void 0&&(x=r(m,h)),x};if(h===o-1){var y=e*(m.coordinate+e*g()/2-l);i[h]=m=Ss(Ss({},m),{},{tickCoord:y>0?m.coordinate-y*e:m.coordinate})}else i[h]=m=Ss(Ss({},m),{},{tickCoord:m.coordinate});var _=uS(e,m.tickCoord,g,s,l);_&&(l=m.tickCoord-e*(g()/2+a),i[h]=Ss(Ss({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function KTe(e,t,r,n,a,i){var o=(n||[]).slice(),s=o.length,l=t.start,u=t.end;if(i){var d=n[s-1],f=r(d,s-1),h=e*(d.coordinate+e*f/2-u);o[s-1]=d=Ss(Ss({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=uS(e,d.tickCoord,function(){return f},l,u);m&&(u=d.tickCoord-e*(f/2+a),o[s-1]=Ss(Ss({},d),{},{isShow:!0}))}for(var x=i?s-1:s,g=function(b){var S=o[b],C,E=function(){return C===void 0&&(C=r(S,b)),C};if(b===0){var D=e*(S.coordinate-e*E()/2-l);o[b]=S=Ss(Ss({},S),{},{tickCoord:D<0?S.coordinate-D*e:S.coordinate})}else o[b]=S=Ss(Ss({},S),{},{tickCoord:S.coordinate});var T=uS(e,S.tickCoord,E,l,u);T&&(l=S.tickCoord+e*(E()/2+a),o[b]=Ss(Ss({},S),{},{isShow:!0}))},y=0;y<x;y++)g(y);return o}function qI(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,s=e.orientation,l=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(Ht(l)||C0.isSsr)return qTe(a,typeof l=="number"&&Ht(l)?l:0);var h=[],m=s==="top"||s==="bottom"?"width":"height",x=d&&m==="width"?I2(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=function(S,C){var E=Kr(u)?u(S.value,C):S.value;return m==="width"?BTe(I2(E,{fontSize:t,letterSpacing:r}),x,f):I2(E,{fontSize:t,letterSpacing:r})[m]},y=a.length>=2?nl(a[1].coordinate-a[0].coordinate):1,_=UTe(i,y,m);return l==="equidistantPreserveStart"?zTe(y,_,g,a,o):(l==="preserveStart"||l==="preserveStartEnd"?h=KTe(y,_,g,a,o,l==="preserveStartEnd"):h=GTe(y,_,g,a,o),h.filter(function(b){return b.isShow}))}var YTe=["viewBox"],XTe=["viewBox"],ZTe=["ticks"];function I1(e){"@babel/helpers - typeof";return I1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I1(e)}function Yq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Js(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yq(Object(r),!0).forEach(function(n){zI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AT(e,t){if(e==null)return{};var r=JTe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function JTe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function QTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RQ(n.key),n)}}function ePe(e,t,r){return t&&Xq(e.prototype,t),r&&Xq(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function tPe(e,t,r){return t=dS(t),rPe(e,IQ()?Reflect.construct(t,r||[],dS(e).constructor):t.apply(e,r))}function rPe(e,t){if(t&&(I1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nPe(e)}function nPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IQ=function(){return!!e})()}function dS(e){return dS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dS(e)}function aPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&OO(e,t)}function OO(e,t){return OO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},OO(e,t)}function zI(e,t,r){return t=RQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RQ(e){var t=iPe(e,"string");return I1(t)=="symbol"?t:t+""}function iPe(e,t){if(I1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(I1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var my=function(e){function t(r){var n;return QTe(this,t),n=tPe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return aPe(t,e),ePe(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=AT(n,YTe),s=this.props,l=s.viewBox,u=AT(s,XTe);return!Kv(i,l)||!Kv(o,u)||!Kv(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,s=a.width,l=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,m,x,g,y,_,b,S=f?-1:1,C=n.tickSize||d,E=Ht(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=x=n.coordinate,y=o+ +!f*l,g=y-S*C,b=g-S*h,_=E;break;case"left":g=y=n.coordinate,x=i+ +!f*s,m=x-S*C,_=m-S*h,b=E;break;case"right":g=y=n.coordinate,x=i+ +f*s,m=x+S*C,_=m+S*h,b=E;break;default:m=x=n.coordinate,y=o+ +f*l,g=y+S*C,b=g+S*h,_=E;break}return{line:{x1:m,y1:g,x2:x,y2:y},tick:{x:_,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,s=n.height,l=n.orientation,u=n.mirror,d=n.axisLine,f=Js(Js(Js({},Or(this.props,!1)),Or(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=Js(Js({},f),{},{x1:a,y1:i+h*s,x2:a+o,y2:i+h*s})}else{var m=+(l==="left"&&!u||l==="right"&&u);f=Js(Js({},f),{},{x1:a+m*o,y1:i,x2:a+m*o,y2:i+s})}return c("line",{...f,className:hn("recharts-cartesian-axis-line",hc(d,"className"))})}},{key:"renderTicks",value:function(n,a,i){var o=this,s=this.props,l=s.tickLine,u=s.stroke,d=s.tick,f=s.tickFormatter,h=s.unit,m=qI(Js(Js({},this.props),{},{ticks:n}),a,i),x=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),y=Or(this.props,!1),_=Or(d,!1),b=Js(Js({},y),{},{fill:"none"},Or(l,!1)),S=m.map(function(C,E){var D=o.getTickLineCoord(C),T=D.line,I=D.tick,L=Js(Js(Js(Js({textAnchor:x,verticalAnchor:g},y),{},{stroke:"none",fill:u},_),I),{},{index:E,payload:C,visibleTicksCount:m.length,tickFormatter:f});return w(Rn,{className:"recharts-cartesian-axis-tick",...Xm(o.props,C,E),children:[l&&c("line",{...b,...T,className:hn("recharts-cartesian-axis-tick-line",hc(l,"className"))}),d&&t.renderTickItem(d,L,"".concat(Kr(f)?f(C.value,E):C.value).concat(h||""))]},"tick-".concat(C.value,"-").concat(C.coordinate,"-").concat(C.tickCoord))});return c("g",{className:"recharts-cartesian-axis-ticks",children:S})}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,s=a.height,l=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,m=AT(f,ZTe),x=h;return Kr(l)&&(x=h&&h.length>0?l(this.props):l(m)),o<=0||s<=0||!x||!x.length?null:w(Rn,{className:hn("recharts-cartesian-axis",u),ref:function(y){n.layerReference=y},children:[i&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),Lo.renderCallByParent(this.props)]})}}],[{key:"renderTickItem",value:function(n,a,i){var o;return Je.isValidElement(n)?o=Je.cloneElement(n,a):Kr(n)?o=n(a):o=c(Zm,{...a,className:"recharts-cartesian-axis-tick-value",children:i}),o}}])}(A.Component);zI(my,"displayName","CartesianAxis");zI(my,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var oPe=["x1","y1","x2","y2","key"],sPe=["offset"];function tg(e){"@babel/helpers - typeof";return tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tg(e)}function Zq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zq(Object(r),!0).forEach(function(n){lPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lPe(e,t,r){return t=cPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cPe(e){var t=uPe(e,"string");return tg(t)=="symbol"?t:t+""}function uPe(e,t){if(tg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Im(){return Im=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Im.apply(this,arguments)}function Jq(e,t){if(e==null)return{};var r=dPe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dPe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var fPe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,o=t.width,s=t.height,l=t.ry;return Je.createElement("rect",{x:a,y:i,ry:l,width:o,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function MQ(e,t){var r;if(Je.isValidElement(e))r=Je.cloneElement(e,t);else if(Kr(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,o=t.y2,s=t.key,l=Jq(t,oPe),u=Or(l,!1);u.offset;var d=Jq(u,sPe);r=Je.createElement("line",Im({},d,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:s}))}return r}function hPe(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(s,l){var u=Cs(Cs({},e),{},{x1:t,y1:s,x2:t+r,y2:s,key:"line-".concat(l),index:l});return MQ(a,u)});return Je.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function pPe(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(s,l){var u=Cs(Cs({},e),{},{x1:s,y1:t,x2:s,y2:t+r,key:"line-".concat(l),index:l});return MQ(a,u)});return Je.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function mPe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,o=e.height,s=e.horizontalPoints,l=e.horizontal,u=l===void 0?!0:l;if(!u||!t||!t.length)return null;var d=s.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var x=!d[m+1],g=x?a+o-h:d[m+1]-h;if(g<=0)return null;var y=m%t.length;return Je.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:g,width:i,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return Je.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function gPe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,s=e.width,l=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,m){return h-m});i!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var x=!d[m+1],g=x?i+s-h:d[m+1]-h;if(g<=0)return null;var y=m%n.length;return Je.createElement("rect",{key:"react-".concat(m),x:h,y:o,width:g,height:l,stroke:"none",fill:n[y],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return Je.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var vPe=function(t,r){var n=t.xAxis,a=t.width,i=t.height,o=t.offset;return FJ(qI(Cs(Cs(Cs({},my.defaultProps),n),{},{ticks:oh(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},yPe=function(t,r){var n=t.yAxis,a=t.width,i=t.height,o=t.offset;return FJ(qI(Cs(Cs(Cs({},my.defaultProps),n),{},{ticks:oh(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},bv={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function WI(e){var t,r,n,a,i,o,s=jI(),l=$I(),u=iTe(),d=Cs(Cs({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:bv.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:bv.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:bv.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:bv.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:bv.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:bv.verticalFill,x:Ht(e.x)?e.x:u.left,y:Ht(e.y)?e.y:u.top,width:Ht(e.width)?e.width:u.width,height:Ht(e.height)?e.height:u.height}),f=d.x,h=d.y,m=d.width,x=d.height,g=d.syncWithTicks,y=d.horizontalValues,_=d.verticalValues,b=rTe(),S=nTe();if(!Ht(m)||m<=0||!Ht(x)||x<=0||!Ht(f)||f!==+f||!Ht(h)||h!==+h)return null;var C=d.verticalCoordinatesGenerator||vPe,E=d.horizontalCoordinatesGenerator||yPe,D=d.horizontalPoints,T=d.verticalPoints;if((!D||!D.length)&&Kr(E)){var I=y&&y.length,L=E({yAxis:S?Cs(Cs({},S),{},{ticks:I?y:S.ticks}):void 0,width:s,height:l,offset:u},I?!0:g);Wu(Array.isArray(L),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(tg(L),"]")),Array.isArray(L)&&(D=L)}if((!T||!T.length)&&Kr(C)){var B=_&&_.length,P=C({xAxis:b?Cs(Cs({},b),{},{ticks:B?_:b.ticks}):void 0,width:s,height:l,offset:u},B?!0:g);Wu(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(tg(P),"]")),Array.isArray(P)&&(T=P)}return Je.createElement("g",{className:"recharts-cartesian-grid"},Je.createElement(fPe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),Je.createElement(hPe,Im({},d,{offset:u,horizontalPoints:D,xAxis:b,yAxis:S})),Je.createElement(pPe,Im({},d,{offset:u,verticalPoints:T,xAxis:b,yAxis:S})),Je.createElement(mPe,Im({},d,{horizontalPoints:D})),Je.createElement(gPe,Im({},d,{verticalPoints:T})))}WI.displayName="CartesianGrid";var xPe=["type","layout","connectNulls","ref"],wPe=["key"];function R1(e){"@babel/helpers - typeof";return R1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R1(e)}function Qq(e,t){if(e==null)return{};var r=_Pe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _Pe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ez(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ez(Object(r),!0).forEach(function(n){Mu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ez(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sv(e){return kPe(e)||APe(e)||SPe(e)||bPe()}function bPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SPe(e,t){if(e){if(typeof e=="string")return DO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DO(e,t)}}function APe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kPe(e){if(Array.isArray(e))return DO(e)}function DO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function NPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tz(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LQ(n.key),n)}}function EPe(e,t,r){return t&&tz(e.prototype,t),r&&tz(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function CPe(e,t,r){return t=fS(t),TPe(e,FQ()?Reflect.construct(t,r||[],fS(e).constructor):t.apply(e,r))}function TPe(e,t){if(t&&(R1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PPe(e)}function PPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FQ=function(){return!!e})()}function fS(e){return fS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fS(e)}function OPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&IO(e,t)}function IO(e,t){return IO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},IO(e,t)}function Mu(e,t,r){return t=LQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LQ(e){var t=DPe(e,"string");return R1(t)=="symbol"?t:t+""}function DPe(e,t){if(R1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(R1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var u0=function(e){function t(){var r;NPe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=CPe(this,t,[].concat(a)),Mu(r,"state",{isAnimationFinished:!0,totalLength:0}),Mu(r,"generateSimpleStrokeDasharray",function(o,s){return"".concat(s,"px ").concat(o-s,"px")}),Mu(r,"getStrokeDasharray",function(o,s,l){var u=l.reduce(function(_,b){return _+b});if(!u)return r.generateSimpleStrokeDasharray(s,o);for(var d=Math.floor(o/u),f=o%u,h=s-o,m=[],x=0,g=0;x<l.length;g+=l[x],++x)if(g+l[x]>f){m=[].concat(Sv(l.slice(0,x)),[f-g]);break}var y=m.length%2===0?[0,h]:[h];return[].concat(Sv(t.repeat(l,d)),Sv(m),y).map(function(_){return"".concat(_,"px")}).join(", ")}),Mu(r,"id",_g("recharts-line-")),Mu(r,"pathRef",function(o){r.mainCurve=o}),Mu(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Mu(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return OPe(t,e),EPe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,s=i.xAxis,l=i.yAxis,u=i.layout,d=i.children,f=pc(d,zw);if(!f)return null;var h=function(g,y){return{x:g.x,y:g.y,value:g.value,errorVal:zi(g.payload,y)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return c(Rn,{...m,children:f.map(function(x){return Je.cloneElement(x,{key:"bar-".concat(x.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,dataPointFormatter:h})})})}},{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,u=s.points,d=s.dataKey,f=Or(this.props,!1),h=Or(l,!0),m=u.map(function(g,y){var _=Xl(Xl(Xl({key:"dot-".concat(y),r:3},f),h),{},{index:y,cx:g.x,cy:g.y,value:g.value,dataKey:d,payload:g.payload,points:u});return t.renderDotItem(l,_)}),x={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return c(Rn,{className:"recharts-line-dots",...x,children:m},"dots")}},{key:"renderCurveStatically",value:function(n,a,i,o){var s=this.props,l=s.type,u=s.layout,d=s.connectNulls;s.ref;var f=Qq(s,xPe),h=Xl(Xl(Xl({},Or(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:l,layout:u,connectNulls:d});return c(jm,{...h,pathRef:this.pathRef})}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,o=this.props,s=o.points,l=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,x=o.animateNewValues,g=o.width,y=o.height,_=this.state,b=_.prevPoints,S=_.totalLength;return c(Ju,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart,children:function(C){var E=C.t;if(b){var D=b.length/s.length,T=s.map(function(O,j){var G=Math.floor(j*D);if(b[G]){var Y=b[G],re=mo(Y.x,O.x),q=mo(Y.y,O.y);return Xl(Xl({},O),{},{x:re(E),y:q(E)})}if(x){var K=mo(g*2,O.x),z=mo(y/2,O.y);return Xl(Xl({},O),{},{x:K(E),y:z(E)})}return Xl(Xl({},O),{},{x:O.x,y:O.y})});return i.renderCurveStatically(T,n,a)}var I=mo(0,S),L=I(E),B;if(l){var P="".concat(l).split(/[,\s]+/gim).map(function(O){return parseFloat(O)});B=i.getStrokeDasharray(L,S,P)}else B=i.generateSimpleStrokeDasharray(S,L);return i.renderCurveStatically(s,n,a,{strokeDasharray:B})}},"line-".concat(m))}},{key:"renderCurve",value:function(n,a){var i=this.props,o=i.points,s=i.isAnimationActive,l=this.state,u=l.prevPoints,d=l.totalLength;return s&&o&&o.length&&(!u&&d>0||!Jm(u,o))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(o,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,s=a.points,l=a.className,u=a.xAxis,d=a.yAxis,f=a.top,h=a.left,m=a.width,x=a.height,g=a.isAnimationActive,y=a.id;if(i||!s||!s.length)return null;var _=this.state.isAnimationFinished,b=s.length===1,S=hn("recharts-line",l),C=u&&u.allowDataOverflow,E=d&&d.allowDataOverflow,D=C||E,T=fn(y)?this.id:y,I=(n=Or(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},L=I.r,B=L===void 0?3:L,P=I.strokeWidth,O=P===void 0?2:P,j=jX(o)?o:{},G=j.clipDot,Y=G===void 0?!0:G,re=B*2+O;return w(Rn,{className:S,children:[C||E?w("defs",{children:[c("clipPath",{id:"clipPath-".concat(T),children:c("rect",{x:C?h:h-m/2,y:E?f:f-x/2,width:C?m:m*2,height:E?x:x*2})}),!Y&&c("clipPath",{id:"clipPath-dots-".concat(T),children:c("rect",{x:h-re/2,y:f-re/2,width:m+re,height:x+re})})]}):null,!b&&this.renderCurve(D,T),this.renderErrorBar(D,T),(b||o)&&this.renderDots(D,Y,T),(!g||_)&&Qd.renderCallByParent(this.props,s)]})}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(Sv(n),[0]):n,o=[],s=0;s<a;++s)o=[].concat(Sv(o),Sv(i));return o}},{key:"renderDotItem",value:function(n,a){var i;if(Je.isValidElement(n))i=Je.cloneElement(n,a);else if(Kr(n))i=n(a);else{var o=a.key,s=Qq(a,wPe),l=hn("recharts-line-dot",typeof n!="boolean"?n.className:"");i=c(Ww,{...s,className:l},o)}return i}}])}(A.PureComponent);Mu(u0,"displayName","Line");Mu(u0,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!C0.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Mu(u0,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,s=e.bandSize,l=e.displayedData,u=e.offset,d=t.layout,f=l.map(function(h,m){var x=zi(h,o);return d==="horizontal"?{x:K5({axis:r,ticks:a,bandSize:s,entry:h,index:m}),y:fn(x)?null:n.scale(x),value:x,payload:h}:{x:fn(x)?null:r.scale(x),y:K5({axis:n,ticks:i,bandSize:s,entry:h,index:m}),value:x,payload:h}});return Xl({points:f,layout:d},u)});var IPe=["layout","type","stroke","connectNulls","isRange","ref"],RPe=["key"],jQ;function M1(e){"@babel/helpers - typeof";return M1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M1(e)}function $Q(e,t){if(e==null)return{};var r=MPe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function MPe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function rz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rz(Object(r),!0).forEach(function(n){Vd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nz(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UQ(n.key),n)}}function LPe(e,t,r){return t&&nz(e.prototype,t),r&&nz(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function jPe(e,t,r){return t=hS(t),$Pe(e,BQ()?Reflect.construct(t,r||[],hS(e).constructor):t.apply(e,r))}function $Pe(e,t){if(t&&(M1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BPe(e)}function BPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BQ=function(){return!!e})()}function hS(e){return hS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hS(e)}function UPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RO(e,t)}function RO(e,t){return RO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},RO(e,t)}function Vd(e,t,r){return t=UQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UQ(e){var t=qPe(e,"string");return M1(t)=="symbol"?t:t+""}function qPe(e,t){if(M1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(M1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Oh=function(e){function t(){var r;FPe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=jPe(this,t,[].concat(a)),Vd(r,"state",{isAnimationFinished:!0}),Vd(r,"id",_g("recharts-area-")),Vd(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Kr(o)&&o()}),Vd(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Kr(o)&&o()}),r}return UPe(t,e),LPe(t,[{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(o&&!s)return null;var l=this.props,u=l.dot,d=l.points,f=l.dataKey,h=Or(this.props,!1),m=Or(u,!0),x=d.map(function(y,_){var b=Lp(Lp(Lp({key:"dot-".concat(_),r:3},h),m),{},{index:_,cx:y.x,cy:y.y,dataKey:f,value:y.value,payload:y.payload,points:d});return t.renderDotItem(u,b)}),g={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return c(Rn,{className:"recharts-area-dots",...g,children:x})}},{key:"renderHorizontalRect",value:function(n){var a=this.props,i=a.baseLine,o=a.points,s=a.strokeWidth,l=o[0].x,u=o[o.length-1].x,d=n*Math.abs(l-u),f=Vp(o.map(function(h){return h.y||0}));return Ht(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(Vp(i.map(function(h){return h.y||0})),f)),Ht(f)?c("rect",{x:l<u?l:l-d,y:0,width:d,height:Math.floor(f+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,i=a.baseLine,o=a.points,s=a.strokeWidth,l=o[0].y,u=o[o.length-1].y,d=n*Math.abs(l-u),f=Vp(o.map(function(h){return h.x||0}));return Ht(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(Vp(i.map(function(h){return h.x||0})),f)),Ht(f)?c("rect",{x:0,y:l<u?l:l-d,width:f+(s?parseInt("".concat(s),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,i,o){var s=this.props,l=s.layout,u=s.type,d=s.stroke,f=s.connectNulls,h=s.isRange;s.ref;var m=$Q(s,IPe);return w(Rn,{clipPath:i?"url(#clipPath-".concat(o,")"):null,children:[c(jm,{...Or(m,!0),points:n,connectNulls:f,type:u,baseLine:a,layout:l,stroke:"none",className:"recharts-area-area"}),d!=="none"&&c(jm,{...Or(this.props,!1),className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:n}),d!=="none"&&h&&c(jm,{...Or(this.props,!1),className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:a})]})}},{key:"renderAreaWithAnimation",value:function(n,a){var i=this,o=this.props,s=o.points,l=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,x=this.state,g=x.prevPoints,y=x.prevBaseLine;return c(Ju,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart,children:function(_){var b=_.t;if(g){var S=g.length/s.length,C=s.map(function(I,L){var B=Math.floor(L*S);if(g[B]){var P=g[B],O=mo(P.x,I.x),j=mo(P.y,I.y);return Lp(Lp({},I),{},{x:O(b),y:j(b)})}return I}),E;if(Ht(l)&&typeof l=="number"){var D=mo(y,l);E=D(b)}else if(fn(l)||uy(l)){var T=mo(y,0);E=T(b)}else E=l.map(function(I,L){var B=Math.floor(L*S);if(y[B]){var P=y[B],O=mo(P.x,I.x),j=mo(P.y,I.y);return Lp(Lp({},I),{},{x:O(b),y:j(b)})}return I});return i.renderAreaStatically(C,E,n,a)}return w(Rn,{children:[c("defs",{children:c("clipPath",{id:"animationClipPath-".concat(a),children:i.renderClipRect(b)})}),c(Rn,{clipPath:"url(#animationClipPath-".concat(a,")"),children:i.renderAreaStatically(s,l,n,a)})]})}},"area-".concat(m))}},{key:"renderArea",value:function(n,a){var i=this.props,o=i.points,s=i.baseLine,l=i.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return l&&o&&o.length&&(!d&&h>0||!Jm(d,o)||!Jm(f,s))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(o,s,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,s=a.points,l=a.className,u=a.top,d=a.left,f=a.xAxis,h=a.yAxis,m=a.width,x=a.height,g=a.isAnimationActive,y=a.id;if(i||!s||!s.length)return null;var _=this.state.isAnimationFinished,b=s.length===1,S=hn("recharts-area",l),C=f&&f.allowDataOverflow,E=h&&h.allowDataOverflow,D=C||E,T=fn(y)?this.id:y,I=(n=Or(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},L=I.r,B=L===void 0?3:L,P=I.strokeWidth,O=P===void 0?2:P,j=jX(o)?o:{},G=j.clipDot,Y=G===void 0?!0:G,re=B*2+O;return w(Rn,{className:S,children:[C||E?w("defs",{children:[c("clipPath",{id:"clipPath-".concat(T),children:c("rect",{x:C?d:d-m/2,y:E?u:u-x/2,width:C?m:m*2,height:E?x:x*2})}),!Y&&c("clipPath",{id:"clipPath-dots-".concat(T),children:c("rect",{x:d-re/2,y:u-re/2,width:m+re,height:x+re})})]}):null,b?null:this.renderArea(D,T),(o||b)&&this.renderDots(D,Y,T),(!g||_)&&Qd.renderCallByParent(this.props,s)]})}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(A.PureComponent);jQ=Oh;Vd(Oh,"displayName","Area");Vd(Oh,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!C0.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Vd(Oh,"getBaseValue",function(e,t,r,n){var a=e.layout,i=e.baseValue,o=t.props.baseValue,s=o??i;if(Ht(s)&&typeof s=="number")return s;var l=a==="horizontal"?n:r,u=l.scale.domain();if(l.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return s==="dataMin"?f:s==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return s==="dataMin"?u[0]:s==="dataMax"?u[1]:u[0]});Vd(Oh,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,s=e.bandSize,l=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=t.layout,x=u&&u.length,g=jQ.getBaseValue(t,r,n,a),y=m==="horizontal",_=!1,b=f.map(function(C,E){var D;x?D=u[d+E]:(D=zi(C,l),Array.isArray(D)?_=!0:D=[g,D]);var T=D[1]==null||x&&zi(C,l)==null;return y?{x:K5({axis:n,ticks:i,bandSize:s,entry:C,index:E}),y:T?null:a.scale(D[1]),value:D,payload:C}:{x:T?null:n.scale(D[1]),y:K5({axis:a,ticks:o,bandSize:s,entry:C,index:E}),value:D,payload:C}}),S;return x||_?S=b.map(function(C){var E=Array.isArray(C.value)?C.value[0]:null;return y?{x:C.x,y:E!=null&&C.y!=null?a.scale(E):null}:{x:E!=null?n.scale(E):null,y:C.y}}):S=y?a.scale(g):n.scale(g),Lp({points:b,baseLine:S,layout:m,isRange:_},h)});Vd(Oh,"renderDotItem",function(e,t){var r;if(Je.isValidElement(e))r=Je.cloneElement(e,t);else if(Kr(e))r=e(t);else{var n=hn("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,i=$Q(t,RPe);r=A.createElement(Ww,{...i,key:a,className:n})}return r});function F1(e){"@babel/helpers - typeof";return F1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F1(e)}function zPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WPe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WQ(n.key),n)}}function HPe(e,t,r){return t&&WPe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function VPe(e,t,r){return t=pS(t),GPe(e,qQ()?Reflect.construct(t,r||[],pS(e).constructor):t.apply(e,r))}function GPe(e,t){if(t&&(F1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KPe(e)}function KPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qQ=function(){return!!e})()}function pS(e){return pS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pS(e)}function YPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&MO(e,t)}function MO(e,t){return MO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},MO(e,t)}function zQ(e,t,r){return t=WQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WQ(e){var t=XPe(e,"string");return F1(t)=="symbol"?t:t+""}function XPe(e,t){if(F1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(F1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function FO(){return FO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},FO.apply(this,arguments)}function ZPe(e){var t=e.xAxisId,r=jI(),n=$I(),a=AQ(t);return a==null?null:Je.createElement(my,FO({},a,{className:hn("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return oh(o,!0)}}))}var Tl=function(e){function t(){return zPe(this,t),VPe(this,t,arguments)}return YPe(t,e),HPe(t,[{key:"render",value:function(){return Je.createElement(ZPe,this.props)}}])}(Je.Component);zQ(Tl,"displayName","XAxis");zQ(Tl,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function L1(e){"@babel/helpers - typeof";return L1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L1(e)}function JPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QPe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GQ(n.key),n)}}function e6e(e,t,r){return t&&QPe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function t6e(e,t,r){return t=mS(t),r6e(e,HQ()?Reflect.construct(t,r||[],mS(e).constructor):t.apply(e,r))}function r6e(e,t){if(t&&(L1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n6e(e)}function n6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HQ=function(){return!!e})()}function mS(e){return mS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mS(e)}function a6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&LO(e,t)}function LO(e,t){return LO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},LO(e,t)}function VQ(e,t,r){return t=GQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GQ(e){var t=i6e(e,"string");return L1(t)=="symbol"?t:t+""}function i6e(e,t){if(L1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(L1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function jO(){return jO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jO.apply(this,arguments)}var o6e=function(t){var r=t.yAxisId,n=jI(),a=$I(),i=kQ(r);return i==null?null:Je.createElement(my,jO({},i,{className:hn("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(s){return oh(s,!0)}}))},Pl=function(e){function t(){return JPe(this,t),t6e(this,t,arguments)}return a6e(t,e),e6e(t,[{key:"render",value:function(){return Je.createElement(o6e,this.props)}}])}(Je.Component);VQ(Pl,"displayName","YAxis");VQ(Pl,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function az(e){return u6e(e)||c6e(e)||l6e(e)||s6e()}function s6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l6e(e,t){if(e){if(typeof e=="string")return $O(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $O(e,t)}}function c6e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function u6e(e){if(Array.isArray(e))return $O(e)}function $O(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var BO=function(t,r,n,a,i){var o=pc(t,UI),s=pc(t,v3),l=[].concat(az(o),az(s)),u=pc(t,x3),d="".concat(a,"Id"),f=a[0],h=r;if(l.length&&(h=l.reduce(function(g,y){if(y.props[d]===n&&ef(y.props,"extendDomain")&&Ht(y.props[f])){var _=y.props[f];return[Math.min(g[0],_),Math.max(g[1],_)]}return g},h)),u.length){var m="".concat(f,"1"),x="".concat(f,"2");h=u.reduce(function(g,y){if(y.props[d]===n&&ef(y.props,"extendDomain")&&Ht(y.props[m])&&Ht(y.props[x])){var _=y.props[m],b=y.props[x];return[Math.min(g[0],_,b),Math.max(g[1],_,b)]}return g},h)}return i&&i.length&&(h=i.reduce(function(g,y){return Ht(y)?[Math.min(g[0],y),Math.max(g[1],y)]:g},h)),h},kT={exports:{}},iz;function d6e(){return iz||(iz=1,function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function i(l,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||l,h),x=r?r+u:u;return l._events[x]?l._events[x].fn?l._events[x]=[l._events[x],m]:l._events[x].push(m):(l._events[x]=m,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},s.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,x=new Array(m);h<m;h++)x[h]=f[h].fn;return x},s.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,d,f,h,m,x){var g=r?r+u:u;if(!this._events[g])return!1;var y=this._events[g],_=arguments.length,b,S;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),_){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,h),!0;case 5:return y.fn.call(y.context,d,f,h,m),!0;case 6:return y.fn.call(y.context,d,f,h,m,x),!0}for(S=1,b=new Array(_-1);S<_;S++)b[S-1]=arguments[S];y.fn.apply(y.context,b)}else{var C=y.length,E;for(S=0;S<C;S++)switch(y[S].once&&this.removeListener(u,y[S].fn,void 0,!0),_){case 1:y[S].fn.call(y[S].context);break;case 2:y[S].fn.call(y[S].context,d);break;case 3:y[S].fn.call(y[S].context,d,f);break;case 4:y[S].fn.call(y[S].context,d,f,h);break;default:if(!b)for(E=1,b=new Array(_-1);E<_;E++)b[E-1]=arguments[E];y[S].fn.apply(y[S].context,b)}}return!0},s.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},s.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},s.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var x=this._events[m];if(x.fn)x.fn===d&&(!h||x.once)&&(!f||x.context===f)&&o(this,m);else{for(var g=0,y=[],_=x.length;g<_;g++)(x[g].fn!==d||h&&!x[g].once||f&&x[g].context!==f)&&y.push(x[g]);y.length?this._events[m]=y.length===1?y[0]:y:o(this,m)}return this},s.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s}(kT)),kT.exports}var f6e=d6e();const h6e=oa(f6e);var NT=new h6e,ET="recharts.syncMouseEvents";function qx(e){"@babel/helpers - typeof";return qx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qx(e)}function p6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m6e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,KQ(n.key),n)}}function g6e(e,t,r){return t&&m6e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function CT(e,t,r){return t=KQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KQ(e){var t=v6e(e,"string");return qx(t)=="symbol"?t:t+""}function v6e(e,t){if(qx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var y6e=function(){function e(){p6e(this,e),CT(this,"activeIndex",0),CT(this,"coordinateList",[]),CT(this,"layout","horizontal")}return g6e(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,s=o===void 0?null:o,l=r.layout,u=l===void 0?null:l,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,s=a.height,l=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+l+u,h=o+this.offset.top+s/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function x6e(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&Ht(n)&&Ht(a))return!0}return!1}function w6e(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function YQ(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,o=Ra(t,r,n,a),s=Ra(t,r,n,i);return{points:[o,s],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function _6e(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var s=t.cx,l=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=Ra(s,l,u,f),m=Ra(s,l,d,f);n=h.x,a=h.y,i=m.x,o=m.y}else return YQ(t);return[{x:n,y:a},{x:i,y:o}]}function zx(e){"@babel/helpers - typeof";return zx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zx(e)}function oz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oz(Object(r),!0).forEach(function(n){b6e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function b6e(e,t,r){return t=S6e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S6e(e){var t=A6e(e,"string");return zx(t)=="symbol"?t:t+""}function A6e(e,t){if(zx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function k6e(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,s=e.activePayload,l=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!i||!o||h!=="ScatterChart"&&a!=="axis")return null;var x,g=jm;if(h==="ScatterChart")x=o,g=FNe;else if(h==="BarChart")x=w6e(f,o,l,d),g=II;else if(f==="radial"){var y=YQ(o),_=y.cx,b=y.cy,S=y.radius,C=y.startAngle,E=y.endAngle;x={cx:_,cy:b,startAngle:C,endAngle:E,innerRadius:S,outerRadius:S},g=GJ}else x={points:_6e(f,o,l)},g=jm;var D=vb(vb(vb(vb({stroke:"#ccc",pointerEvents:"none"},l),x),Or(m,!1)),{},{payload:s,payloadIndex:u,className:hn("recharts-tooltip-cursor",m.className)});return A.isValidElement(m)?A.cloneElement(m,D):A.createElement(g,D)}var N6e=["item"],E6e=["children","className","width","height","style","compact","title","desc"];function j1(e){"@babel/helpers - typeof";return j1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j1(e)}function sz(e,t){return P6e(e)||T6e(e,t)||ZQ(e,t)||C6e()}function C6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T6e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function P6e(e){if(Array.isArray(e))return e}function lz(e,t){if(e==null)return{};var r=O6e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function O6e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function D6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I6e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JQ(n.key),n)}}function R6e(e,t,r){return t&&I6e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function M6e(e,t,r){return t=gS(t),F6e(e,XQ()?Reflect.construct(t,r||[],gS(e).constructor):t.apply(e,r))}function F6e(e,t){if(t&&(j1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L6e(e)}function L6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XQ=function(){return!!e})()}function gS(e){return gS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gS(e)}function j6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&UO(e,t)}function UO(e,t){return UO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},UO(e,t)}function $1(e){return U6e(e)||B6e(e)||ZQ(e)||$6e()}function $6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZQ(e,t){if(e){if(typeof e=="string")return qO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qO(e,t)}}function B6e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function U6e(e){if(Array.isArray(e))return qO(e)}function qO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ct(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cz(Object(r),!0).forEach(function(n){Vr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vr(e,t,r){return t=JQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JQ(e){var t=q6e(e,"string");return j1(t)=="symbol"?t:t+""}function q6e(e,t){if(j1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(j1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var z6e={xAxis:["bottom","top"],yAxis:["left","right"]},W6e={width:"100%",height:"100%"},QQ={x:0,y:0};function yb(e){return e}var H6e=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},V6e=function(t,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,s=a.radius;return Ct(Ct(Ct({},a),Ra(a.cx,a.cy,s,o)),{},{angle:o,radius:s})}var l=i.coordinate,u=a.angle;return Ct(Ct(Ct({},a),Ra(a.cx,a.cy,l,u)),{},{angle:u,radius:l})}return QQ},w3=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat($1(s),$1(u)):s},[]);return o.length>0?o:t&&t.length&&Ht(a)&&Ht(i)?t.slice(a,i+1):[]};function eee(e){return e==="number"?[0,"auto"]:void 0}var zO=function(t,r,n,a){var i=t.graphicalItems,o=t.tooltipAxis,s=w3(r,t);return n<0||!i||!i.length||n>=s.length?null:i.reduce(function(l,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var m=f===void 0?s:f;h=S5(m,o.dataKey,a)}else h=f&&f[n]||s[n];return h?[].concat($1(l),[UJ(u,h)]):l},[])},uz=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},o=H6e(i,n),s=t.orderedTooltipTicks,l=t.tooltipAxis,u=t.tooltipTicks,d=s3e(o,s,u,l);if(d>=0&&u){var f=u[d]&&u[d].value,h=zO(t,r,d,f),m=V6e(n,s,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},G6e=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,m=MJ(d,i);return n.reduce(function(x,g){var y,_=g.type.defaultProps!==void 0?Ct(Ct({},g.type.defaultProps),g.props):g.props,b=_.type,S=_.dataKey,C=_.allowDataOverflow,E=_.allowDuplicatedCategory,D=_.scale,T=_.ticks,I=_.includeHidden,L=_[o];if(x[L])return x;var B=w3(t.data,{graphicalItems:a.filter(function(R){var H,X=o in R.props?R.props[o]:(H=R.type.defaultProps)===null||H===void 0?void 0:H[o];return X===L}),dataStartIndex:l,dataEndIndex:u}),P=B.length,O,j,G;x6e(_.domain,C,b)&&(O=rO(_.domain,null,C),m&&(b==="number"||D!=="auto")&&(G=M2(B,S,"category")));var Y=eee(b);if(!O||O.length===0){var re,q=(re=_.domain)!==null&&re!==void 0?re:Y;if(S){if(O=M2(B,S,b),b==="category"&&m){var K=t2e(O);E&&K?(j=O,O=aS(0,P)):E||(O=lU(q,O,g).reduce(function(R,H){return R.indexOf(H)>=0?R:[].concat($1(R),[H])},[]))}else if(b==="category")E?O=O.filter(function(R){return R!==""&&!fn(R)}):O=lU(q,O,g).reduce(function(R,H){return R.indexOf(H)>=0||H===""||fn(H)?R:[].concat($1(R),[H])},[]);else if(b==="number"){var z=f3e(B,a.filter(function(R){var H,X,Z=o in R.props?R.props[o]:(H=R.type.defaultProps)===null||H===void 0?void 0:H[o],ie="hide"in R.props?R.props.hide:(X=R.type.defaultProps)===null||X===void 0?void 0:X.hide;return Z===L&&(I||!ie)}),S,i,d);z&&(O=z)}m&&(b==="number"||D!=="auto")&&(G=M2(B,S,"category"))}else m?O=aS(0,P):s&&s[L]&&s[L].hasStack&&b==="number"?O=h==="expand"?[0,1]:BJ(s[L].stackGroups,l,u):O=RJ(B,a.filter(function(R){var H=o in R.props?R.props[o]:R.type.defaultProps[o],X="hide"in R.props?R.props.hide:R.type.defaultProps.hide;return H===L&&(I||!X)}),b,d,!0);if(b==="number")O=BO(f,O,L,i,T),q&&(O=rO(q,O,C));else if(b==="category"&&q){var te=q,Q=O.every(function(R){return te.indexOf(R)>=0});Q&&(O=te)}}return Ct(Ct({},x),{},Vr({},L,Ct(Ct({},_),{},{axisType:i,domain:O,categoricalDomain:G,duplicateDomain:j,originalDomain:(y=_.domain)!==null&&y!==void 0?y:Y,isCategorical:m,layout:d})))},{})},K6e=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=w3(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:u}),m=h.length,x=MJ(d,i),g=-1;return n.reduce(function(y,_){var b=_.type.defaultProps!==void 0?Ct(Ct({},_.type.defaultProps),_.props):_.props,S=b[o],C=eee("number");if(!y[S]){g++;var E;return x?E=aS(0,m):s&&s[S]&&s[S].hasStack?(E=BJ(s[S].stackGroups,l,u),E=BO(f,E,S,i)):(E=rO(C,RJ(h,n.filter(function(D){var T,I,L=o in D.props?D.props[o]:(T=D.type.defaultProps)===null||T===void 0?void 0:T[o],B="hide"in D.props?D.props.hide:(I=D.type.defaultProps)===null||I===void 0?void 0:I.hide;return L===S&&!B}),"number",d),a.defaultProps.allowDataOverflow),E=BO(f,E,S,i)),Ct(Ct({},y),{},Vr({},S,Ct(Ct({axisType:i},a.defaultProps),{},{hide:!0,orientation:hc(z6e,"".concat(i,".").concat(g%2),null),domain:E,originalDomain:C,isCategorical:x,layout:d})))}return y},{})},Y6e=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=pc(d,i),m={};return h&&h.length?m=G6e(t,{axes:h,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):o&&o.length&&(m=K6e(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),m},X6e=function(t){var r=Wp(t),n=oh(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:oI(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Y5(r,n)}},dz=function(t){var r=t.children,n=t.defaultShowTooltip,a=ec(r,C1),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},Z6e=function(t){return!t||!t.length?!1:t.some(function(r){var n=ch(r&&r.type);return n&&n.indexOf("Bar")>=0})},fz=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},J6e=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,s=t.yAxisMap,l=s===void 0?{}:s,u=n.width,d=n.height,f=n.children,h=n.margin||{},m=ec(f,C1),x=ec(f,Hu),g=Object.keys(l).reduce(function(E,D){var T=l[D],I=T.orientation;return!T.mirror&&!T.hide?Ct(Ct({},E),{},Vr({},I,E[I]+T.width)):E},{left:h.left||0,right:h.right||0}),y=Object.keys(o).reduce(function(E,D){var T=o[D],I=T.orientation;return!T.mirror&&!T.hide?Ct(Ct({},E),{},Vr({},I,hc(E,"".concat(I))+T.height)):E},{top:h.top||0,bottom:h.bottom||0}),_=Ct(Ct({},y),g),b=_.bottom;m&&(_.bottom+=m.props.height||C1.defaultProps.height),x&&r&&(_=u3e(_,a,n,r));var S=u-_.left-_.right,C=d-_.top-_.bottom;return Ct(Ct({brushBottom:b},_),{},{width:Math.max(S,0),height:Math.max(C,0)})},Q6e=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},_3=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(_,b){var S=b.graphicalItems,C=b.stackGroups,E=b.offset,D=b.updateId,T=b.dataStartIndex,I=b.dataEndIndex,L=_.barSize,B=_.layout,P=_.barGap,O=_.barCategoryGap,j=_.maxBarSize,G=fz(B),Y=G.numericAxisName,re=G.cateAxisName,q=Z6e(S),K=[];return S.forEach(function(z,te){var Q=w3(_.data,{graphicalItems:[z],dataStartIndex:T,dataEndIndex:I}),R=z.type.defaultProps!==void 0?Ct(Ct({},z.type.defaultProps),z.props):z.props,H=R.dataKey,X=R.maxBarSize,Z=R["".concat(Y,"Id")],ie=R["".concat(re,"Id")],le={},pe=l.reduce(function(st,xe){var Ee=b["".concat(xe.axisType,"Map")],We=R["".concat(xe.axisType,"Id")];Ee&&Ee[We]||xe.axisType==="zAxis"||eg();var ft=Ee[We];return Ct(Ct({},st),{},Vr(Vr({},xe.axisType,ft),"".concat(xe.axisType,"Ticks"),oh(ft)))},le),J=pe[re],me=pe["".concat(re,"Ticks")],ve=C&&C[Z]&&C[Z].hasStack&&_3e(z,C[Z].stackGroups),ae=ch(z.type).indexOf("Bar")>=0,Ue=Y5(J,me),He=[],Ie=q&&l3e({barSize:L,stackGroups:C,totalSize:Q6e(pe,re)});if(ae){var he,Ze,pt=fn(X)?j:X,ht=(he=(Ze=Y5(J,me,!0))!==null&&Ze!==void 0?Ze:pt)!==null&&he!==void 0?he:0;He=c3e({barGap:P,barCategoryGap:O,bandSize:ht!==Ue?ht:Ue,sizeList:Ie[ie],maxBarSize:pt}),ht!==Ue&&(He=He.map(function(st){return Ct(Ct({},st),{},{position:Ct(Ct({},st.position),{},{offset:st.position.offset-ht/2})})}))}var Pt=z&&z.type&&z.type.getComposedData;Pt&&K.push({props:Ct(Ct({},Pt(Ct(Ct({},pe),{},{displayedData:Q,props:_,dataKey:H,item:z,bandSize:Ue,barPosition:He,offset:E,stackedData:ve,layout:B,dataStartIndex:T,dataEndIndex:I}))),{},Vr(Vr(Vr({key:z.key||"item-".concat(te)},Y,pe[Y]),re,pe[re]),"animationId",D)),childIndex:h2e(z,_.children),item:z})}),K},m=function(_,b){var S=_.props,C=_.dataStartIndex,E=_.dataEndIndex,D=_.updateId;if(!S9({props:S}))return null;var T=S.children,I=S.layout,L=S.stackOffset,B=S.data,P=S.reverseStackOrder,O=fz(I),j=O.numericAxisName,G=O.cateAxisName,Y=pc(T,n),re=x3e(B,Y,"".concat(j,"Id"),"".concat(G,"Id"),L,P),q=l.reduce(function(R,H){var X="".concat(H.axisType,"Map");return Ct(Ct({},R),{},Vr({},X,Y6e(S,Ct(Ct({},H),{},{graphicalItems:Y,stackGroups:H.axisType===j&&re,dataStartIndex:C,dataEndIndex:E}))))},{}),K=J6e(Ct(Ct({},q),{},{props:S,graphicalItems:Y}),b==null?void 0:b.legendBBox);Object.keys(q).forEach(function(R){q[R]=d(S,q[R],K,R.replace("Map",""),r)});var z=q["".concat(G,"Map")],te=X6e(z),Q=h(S,Ct(Ct({},q),{},{dataStartIndex:C,dataEndIndex:E,updateId:D,graphicalItems:Y,stackGroups:re,offset:K}));return Ct(Ct({formattedGraphicalItems:Q,graphicalItems:Y,offset:K,stackGroups:re},te),q)},x=function(y){function _(b){var S,C,E;return D6e(this,_),E=M6e(this,_,[b]),Vr(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Vr(E,"accessibilityManager",new y6e),Vr(E,"handleLegendBBoxUpdate",function(D){if(D){var T=E.state,I=T.dataStartIndex,L=T.dataEndIndex,B=T.updateId;E.setState(Ct({legendBBox:D},m({props:E.props,dataStartIndex:I,dataEndIndex:L,updateId:B},Ct(Ct({},E.state),{},{legendBBox:D}))))}}),Vr(E,"handleReceiveSyncEvent",function(D,T,I){if(E.props.syncId===D){if(I===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(T)}}),Vr(E,"handleBrushChange",function(D){var T=D.startIndex,I=D.endIndex;if(T!==E.state.dataStartIndex||I!==E.state.dataEndIndex){var L=E.state.updateId;E.setState(function(){return Ct({dataStartIndex:T,dataEndIndex:I},m({props:E.props,dataStartIndex:T,dataEndIndex:I,updateId:L},E.state))}),E.triggerSyncEvent({dataStartIndex:T,dataEndIndex:I})}}),Vr(E,"handleMouseEnter",function(D){var T=E.getMouseInfo(D);if(T){var I=Ct(Ct({},T),{},{isTooltipActive:!0});E.setState(I),E.triggerSyncEvent(I);var L=E.props.onMouseEnter;Kr(L)&&L(I,D)}}),Vr(E,"triggeredAfterMouseMove",function(D){var T=E.getMouseInfo(D),I=T?Ct(Ct({},T),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(I),E.triggerSyncEvent(I);var L=E.props.onMouseMove;Kr(L)&&L(I,D)}),Vr(E,"handleItemMouseEnter",function(D){E.setState(function(){return{isTooltipActive:!0,activeItem:D,activePayload:D.tooltipPayload,activeCoordinate:D.tooltipPosition||{x:D.cx,y:D.cy}}})}),Vr(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),Vr(E,"handleMouseMove",function(D){D.persist(),E.throttleTriggeredAfterMouseMove(D)}),Vr(E,"handleMouseLeave",function(D){E.throttleTriggeredAfterMouseMove.cancel();var T={isTooltipActive:!1};E.setState(T),E.triggerSyncEvent(T);var I=E.props.onMouseLeave;Kr(I)&&I(T,D)}),Vr(E,"handleOuterEvent",function(D){var T=f2e(D),I=hc(E.props,"".concat(T));if(T&&Kr(I)){var L,B;/.*touch.*/i.test(T)?B=E.getMouseInfo(D.changedTouches[0]):B=E.getMouseInfo(D),I((L=B)!==null&&L!==void 0?L:{},D)}}),Vr(E,"handleClick",function(D){var T=E.getMouseInfo(D);if(T){var I=Ct(Ct({},T),{},{isTooltipActive:!0});E.setState(I),E.triggerSyncEvent(I);var L=E.props.onClick;Kr(L)&&L(I,D)}}),Vr(E,"handleMouseDown",function(D){var T=E.props.onMouseDown;if(Kr(T)){var I=E.getMouseInfo(D);T(I,D)}}),Vr(E,"handleMouseUp",function(D){var T=E.props.onMouseUp;if(Kr(T)){var I=E.getMouseInfo(D);T(I,D)}}),Vr(E,"handleTouchMove",function(D){D.changedTouches!=null&&D.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(D.changedTouches[0])}),Vr(E,"handleTouchStart",function(D){D.changedTouches!=null&&D.changedTouches.length>0&&E.handleMouseDown(D.changedTouches[0])}),Vr(E,"handleTouchEnd",function(D){D.changedTouches!=null&&D.changedTouches.length>0&&E.handleMouseUp(D.changedTouches[0])}),Vr(E,"handleDoubleClick",function(D){var T=E.props.onDoubleClick;if(Kr(T)){var I=E.getMouseInfo(D);T(I,D)}}),Vr(E,"handleContextMenu",function(D){var T=E.props.onContextMenu;if(Kr(T)){var I=E.getMouseInfo(D);T(I,D)}}),Vr(E,"triggerSyncEvent",function(D){E.props.syncId!==void 0&&NT.emit(ET,E.props.syncId,D,E.eventEmitterSymbol)}),Vr(E,"applySyncEvent",function(D){var T=E.props,I=T.layout,L=T.syncMethod,B=E.state.updateId,P=D.dataStartIndex,O=D.dataEndIndex;if(D.dataStartIndex!==void 0||D.dataEndIndex!==void 0)E.setState(Ct({dataStartIndex:P,dataEndIndex:O},m({props:E.props,dataStartIndex:P,dataEndIndex:O,updateId:B},E.state)));else if(D.activeTooltipIndex!==void 0){var j=D.chartX,G=D.chartY,Y=D.activeTooltipIndex,re=E.state,q=re.offset,K=re.tooltipTicks;if(!q)return;if(typeof L=="function")Y=L(K,D);else if(L==="value"){Y=-1;for(var z=0;z<K.length;z++)if(K[z].value===D.activeLabel){Y=z;break}}var te=Ct(Ct({},q),{},{x:q.left,y:q.top}),Q=Math.min(j,te.x+te.width),R=Math.min(G,te.y+te.height),H=K[Y]&&K[Y].value,X=zO(E.state,E.props.data,Y),Z=K[Y]?{x:I==="horizontal"?K[Y].coordinate:Q,y:I==="horizontal"?R:K[Y].coordinate}:QQ;E.setState(Ct(Ct({},D),{},{activeLabel:H,activeCoordinate:Z,activePayload:X,activeTooltipIndex:Y}))}else E.setState(D)}),Vr(E,"renderCursor",function(D){var T,I=E.state,L=I.isTooltipActive,B=I.activeCoordinate,P=I.activePayload,O=I.offset,j=I.activeTooltipIndex,G=I.tooltipAxisBandSize,Y=E.getTooltipEventType(),re=(T=D.props.active)!==null&&T!==void 0?T:L,q=E.props.layout,K=D.key||"_recharts-cursor";return c(k6e,{activeCoordinate:B,activePayload:P,activeTooltipIndex:j,chartName:r,element:D,isActive:re,layout:q,offset:O,tooltipAxisBandSize:G,tooltipEventType:Y},K)}),Vr(E,"renderPolarAxis",function(D,T,I){var L=hc(D,"type.axisType"),B=hc(E.state,"".concat(L,"Map")),P=D.type.defaultProps,O=P!==void 0?Ct(Ct({},P),D.props):D.props,j=B&&B[O["".concat(L,"Id")]];return A.cloneElement(D,Ct(Ct({},j),{},{className:hn(L,j.className),key:D.key||"".concat(T,"-").concat(I),ticks:oh(j,!0)}))}),Vr(E,"renderPolarGrid",function(D){var T=D.props,I=T.radialLines,L=T.polarAngles,B=T.polarRadius,P=E.state,O=P.radiusAxisMap,j=P.angleAxisMap,G=Wp(O),Y=Wp(j),re=Y.cx,q=Y.cy,K=Y.innerRadius,z=Y.outerRadius;return A.cloneElement(D,{polarAngles:Array.isArray(L)?L:oh(Y,!0).map(function(te){return te.coordinate}),polarRadius:Array.isArray(B)?B:oh(G,!0).map(function(te){return te.coordinate}),cx:re,cy:q,innerRadius:K,outerRadius:z,key:D.key||"polar-grid",radialLines:I})}),Vr(E,"renderLegend",function(){var D=E.state.formattedGraphicalItems,T=E.props,I=T.children,L=T.width,B=T.height,P=E.props.margin||{},O=L-(P.left||0)-(P.right||0),j=DJ({children:I,formattedGraphicalItems:D,legendWidth:O,legendContent:u});if(!j)return null;var G=j.item,Y=lz(j,N6e);return A.cloneElement(G,Ct(Ct({},Y),{},{chartWidth:L,chartHeight:B,margin:P,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),Vr(E,"renderTooltip",function(){var D,T=E.props,I=T.children,L=T.accessibilityLayer,B=ec(I,Xa);if(!B)return null;var P=E.state,O=P.isTooltipActive,j=P.activeCoordinate,G=P.activePayload,Y=P.activeLabel,re=P.offset,q=(D=B.props.active)!==null&&D!==void 0?D:O;return A.cloneElement(B,{viewBox:Ct(Ct({},re),{},{x:re.left,y:re.top}),active:q,label:Y,payload:q?G:[],coordinate:j,accessibilityLayer:L})}),Vr(E,"renderBrush",function(D){var T=E.props,I=T.margin,L=T.data,B=E.state,P=B.offset,O=B.dataStartIndex,j=B.dataEndIndex,G=B.updateId;return A.cloneElement(D,{key:D.key||"_recharts-brush",onChange:hb(E.handleBrushChange,D.props.onChange),data:L,x:Ht(D.props.x)?D.props.x:P.left,y:Ht(D.props.y)?D.props.y:P.top+P.height+P.brushBottom-(I.bottom||0),width:Ht(D.props.width)?D.props.width:P.width,startIndex:O,endIndex:j,updateId:"brush-".concat(G)})}),Vr(E,"renderReferenceElement",function(D,T,I){if(!D)return null;var L=E,B=L.clipPathId,P=E.state,O=P.xAxisMap,j=P.yAxisMap,G=P.offset,Y=D.type.defaultProps||{},re=D.props,q=re.xAxisId,K=q===void 0?Y.xAxisId:q,z=re.yAxisId,te=z===void 0?Y.yAxisId:z;return A.cloneElement(D,{key:D.key||"".concat(T,"-").concat(I),xAxis:O[K],yAxis:j[te],viewBox:{x:G.left,y:G.top,width:G.width,height:G.height},clipPathId:B})}),Vr(E,"renderActivePoints",function(D){var T=D.item,I=D.activePoint,L=D.basePoint,B=D.childIndex,P=D.isRange,O=[],j=T.props.key,G=T.item.type.defaultProps!==void 0?Ct(Ct({},T.item.type.defaultProps),T.item.props):T.item.props,Y=G.activeDot,re=G.dataKey,q=Ct(Ct({index:B,dataKey:re,cx:I.x,cy:I.y,r:4,fill:DI(T.item),strokeWidth:2,stroke:"#fff",payload:I.payload,value:I.value},Or(Y,!1)),A5(Y));return O.push(_.renderActiveDot(Y,q,"".concat(j,"-activePoint-").concat(B))),L?O.push(_.renderActiveDot(Y,Ct(Ct({},q),{},{cx:L.x,cy:L.y}),"".concat(j,"-basePoint-").concat(B))):P&&O.push(null),O}),Vr(E,"renderGraphicChild",function(D,T,I){var L=E.filterFormatItem(D,T,I);if(!L)return null;var B=E.getTooltipEventType(),P=E.state,O=P.isTooltipActive,j=P.tooltipAxis,G=P.activeTooltipIndex,Y=P.activeLabel,re=E.props.children,q=ec(re,Xa),K=L.props,z=K.points,te=K.isRange,Q=K.baseLine,R=L.item.type.defaultProps!==void 0?Ct(Ct({},L.item.type.defaultProps),L.item.props):L.item.props,H=R.activeDot,X=R.hide,Z=R.activeBar,ie=R.activeShape,le=!!(!X&&O&&q&&(H||Z||ie)),pe={};B!=="axis"&&q&&q.props.trigger==="click"?pe={onClick:hb(E.handleItemMouseEnter,D.props.onClick)}:B!=="axis"&&(pe={onMouseLeave:hb(E.handleItemMouseLeave,D.props.onMouseLeave),onMouseEnter:hb(E.handleItemMouseEnter,D.props.onMouseEnter)});var J=A.cloneElement(D,Ct(Ct({},L.props),pe));function me(xe){return typeof j.dataKey=="function"?j.dataKey(xe.payload):null}if(le)if(G>=0){var ve,ae;if(j.dataKey&&!j.allowDuplicatedCategory){var Ue=typeof j.dataKey=="function"?me:"payload.".concat(j.dataKey.toString());ve=S5(z,Ue,Y),ae=te&&Q&&S5(Q,Ue,Y)}else ve=z==null?void 0:z[G],ae=te&&Q&&Q[G];if(ie||Z){var He=D.props.activeIndex!==void 0?D.props.activeIndex:G;return[A.cloneElement(D,Ct(Ct(Ct({},L.props),pe),{},{activeIndex:He})),null,null]}if(!fn(ve))return[J].concat($1(E.renderActivePoints({item:L,activePoint:ve,basePoint:ae,childIndex:G,isRange:te})))}else{var Ie,he=(Ie=E.getItemByXY(E.state.activeCoordinate))!==null&&Ie!==void 0?Ie:{graphicalItem:J},Ze=he.graphicalItem,pt=Ze.item,ht=pt===void 0?D:pt,Pt=Ze.childIndex,st=Ct(Ct(Ct({},L.props),pe),{},{activeIndex:Pt});return[A.cloneElement(ht,st),null,null]}return te?[J,null,null]:[J,null]}),Vr(E,"renderCustomized",function(D,T,I){return A.cloneElement(D,Ct(Ct({key:"recharts-customized-".concat(I)},E.props),E.state))}),Vr(E,"renderMap",{CartesianGrid:{handler:yb,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:yb},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:yb},YAxis:{handler:yb},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((S=b.id)!==null&&S!==void 0?S:_g("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=OZ(E.triggeredAfterMouseMove,(C=b.throttleDelay)!==null&&C!==void 0?C:1e3/60),E.state={},E}return j6e(_,y),R6e(_,[{key:"componentDidMount",value:function(){var S,C;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,C=S.children,E=S.data,D=S.height,T=S.layout,I=ec(C,Xa);if(I){var L=I.props.defaultIndex;if(!(typeof L!="number"||L<0||L>this.state.tooltipTicks.length-1)){var B=this.state.tooltipTicks[L]&&this.state.tooltipTicks[L].value,P=zO(this.state,E,L,B),O=this.state.tooltipTicks[L].coordinate,j=(this.state.offset.top+D)/2,G=T==="horizontal",Y=G?{x:O,y:j}:{y:O,x:j},re=this.state.formattedGraphicalItems.find(function(K){var z=K.item;return z.type.name==="Scatter"});re&&(Y=Ct(Ct({},Y),re.props.points[L].tooltipPosition),P=re.props.points[L].tooltipPayload);var q={activeTooltipIndex:L,isTooltipActive:!0,activeLabel:B,activePayload:P,activeCoordinate:Y};this.setState(q),this.renderCursor(I),this.accessibilityManager.setIndex(L)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,C){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==C.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var E,D;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(D=this.props.margin.top)!==null&&D!==void 0?D:0}})}return null}},{key:"componentDidUpdate",value:function(S){N6([ec(S.children,Xa)],[ec(this.props.children,Xa)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=ec(this.props.children,Xa);if(S&&typeof S.props.shared=="boolean"){var C=S.props.shared?"axis":"item";return s.indexOf(C)>=0?C:i}return i}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var C=this.container,E=C.getBoundingClientRect(),D=Q_e(E),T={chartX:Math.round(S.pageX-D.left),chartY:Math.round(S.pageY-D.top)},I=E.width/C.offsetWidth||1,L=this.inRange(T.chartX,T.chartY,I);if(!L)return null;var B=this.state,P=B.xAxisMap,O=B.yAxisMap,j=this.getTooltipEventType(),G=uz(this.state,this.props.data,this.props.layout,L);if(j!=="axis"&&P&&O){var Y=Wp(P).scale,re=Wp(O).scale,q=Y&&Y.invert?Y.invert(T.chartX):null,K=re&&re.invert?re.invert(T.chartY):null;return Ct(Ct({},T),{},{xValue:q,yValue:K},G)}return G?Ct(Ct({},T),G):null}},{key:"inRange",value:function(S,C){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,D=this.props.layout,T=S/E,I=C/E;if(D==="horizontal"||D==="vertical"){var L=this.state.offset,B=T>=L.left&&T<=L.left+L.width&&I>=L.top&&I<=L.top+L.height;return B?{x:T,y:I}:null}var P=this.state,O=P.angleAxisMap,j=P.radiusAxisMap;if(O&&j){var G=Wp(O);return dU({x:T,y:I},G)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,C=this.getTooltipEventType(),E=ec(S,Xa),D={};E&&C==="axis"&&(E.props.trigger==="click"?D={onClick:this.handleClick}:D={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var T=A5(this.props,this.handleOuterEvent);return Ct(Ct({},T),D)}},{key:"addListener",value:function(){NT.on(ET,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){NT.removeListener(ET,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,C,E){for(var D=this.state.formattedGraphicalItems,T=0,I=D.length;T<I;T++){var L=D[T];if(L.item===S||L.props.key===S.key||C===ch(L.item.type)&&E===L.childIndex)return L}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,C=this.state.offset,E=C.left,D=C.top,T=C.height,I=C.width;return c("defs",{children:c("clipPath",{id:S,children:c("rect",{x:E,y:D,height:T,width:I})})})}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(C,E){var D=sz(E,2),T=D[0],I=D[1];return Ct(Ct({},C),{},Vr({},T,I.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(C,E){var D=sz(E,2),T=D[0],I=D[1];return Ct(Ct({},C),{},Vr({},T,I.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var C;return(C=this.state.xAxisMap)===null||C===void 0||(C=C[S])===null||C===void 0?void 0:C.scale}},{key:"getYScaleByAxisId",value:function(S){var C;return(C=this.state.yAxisMap)===null||C===void 0||(C=C[S])===null||C===void 0?void 0:C.scale}},{key:"getItemByXY",value:function(S){var C=this.state,E=C.formattedGraphicalItems,D=C.activeItem;if(E&&E.length)for(var T=0,I=E.length;T<I;T++){var L=E[T],B=L.props,P=L.item,O=P.type.defaultProps!==void 0?Ct(Ct({},P.type.defaultProps),P.props):P.props,j=ch(P.type);if(j==="Bar"){var G=(B.data||[]).find(function(K){return gNe(S,K)});if(G)return{graphicalItem:L,payload:G}}else if(j==="RadialBar"){var Y=(B.data||[]).find(function(K){return dU(S,K)});if(Y)return{graphicalItem:L,payload:Y}}else if(h3(L,D)||p3(L,D)||Lx(L,D)){var re=BEe({graphicalItem:L,activeTooltipItem:D,itemData:O.data}),q=O.activeIndex===void 0?re:O.activeIndex;return{graphicalItem:Ct(Ct({},L),{},{childIndex:q}),payload:Lx(L,D)?O.data[re]:L.props.data[re]}}}return null}},{key:"render",value:function(){var S=this;if(!S9(this))return null;var C=this.props,E=C.children,D=C.className,T=C.width,I=C.height,L=C.style,B=C.compact,P=C.title,O=C.desc,j=lz(C,E6e),G=Or(j,!1);if(B)return c(Bq,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId,children:w(C6,{...G,width:T,height:I,title:P,desc:O,children:[this.renderClipPath(),k9(E,this.renderMap)]})});if(this.props.accessibilityLayer){var Y,re;G.tabIndex=(Y=this.props.tabIndex)!==null&&Y!==void 0?Y:0,G.role=(re=this.props.role)!==null&&re!==void 0?re:"application",G.onKeyDown=function(K){S.accessibilityManager.keyboardEvent(K)},G.onFocus=function(){S.accessibilityManager.focus()}}var q=this.parseEventsOfWrapper();return c(Bq,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId,children:w("div",{className:hn("recharts-wrapper",D),style:Ct({position:"relative",cursor:"default",width:T,height:I},L),...q,ref:function(z){S.container=z},children:[w(C6,{...G,width:T,height:I,title:P,desc:O,style:W6e,children:[this.renderClipPath(),k9(E,this.renderMap)]}),this.renderLegend(),this.renderTooltip()]})})}}])}(A.Component);Vr(x,"displayName",r),Vr(x,"defaultProps",Ct({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Vr(x,"getDerivedStateFromProps",function(y,_){var b=y.dataKey,S=y.data,C=y.children,E=y.width,D=y.height,T=y.layout,I=y.stackOffset,L=y.margin,B=_.dataStartIndex,P=_.dataEndIndex;if(_.updateId===void 0){var O=dz(y);return Ct(Ct(Ct({},O),{},{updateId:0},m(Ct(Ct({props:y},O),{},{updateId:0}),_)),{},{prevDataKey:b,prevData:S,prevWidth:E,prevHeight:D,prevLayout:T,prevStackOffset:I,prevMargin:L,prevChildren:C})}if(b!==_.prevDataKey||S!==_.prevData||E!==_.prevWidth||D!==_.prevHeight||T!==_.prevLayout||I!==_.prevStackOffset||!Kv(L,_.prevMargin)){var j=dz(y),G={chartX:_.chartX,chartY:_.chartY,isTooltipActive:_.isTooltipActive},Y=Ct(Ct({},uz(_,S,T)),{},{updateId:_.updateId+1}),re=Ct(Ct(Ct({},j),G),Y);return Ct(Ct(Ct({},re),m(Ct({props:y},re),_)),{},{prevDataKey:b,prevData:S,prevWidth:E,prevHeight:D,prevLayout:T,prevStackOffset:I,prevMargin:L,prevChildren:C})}if(!N6(C,_.prevChildren)){var q,K,z,te,Q=ec(C,C1),R=Q&&(q=(K=Q.props)===null||K===void 0?void 0:K.startIndex)!==null&&q!==void 0?q:B,H=Q&&(z=(te=Q.props)===null||te===void 0?void 0:te.endIndex)!==null&&z!==void 0?z:P,X=R!==B||H!==P,Z=!fn(S),ie=Z&&!X?_.updateId:_.updateId+1;return Ct(Ct({updateId:ie},m(Ct(Ct({props:y},_),{},{updateId:ie,dataStartIndex:R,dataEndIndex:H}),_)),{},{prevChildren:C,dataStartIndex:R,dataEndIndex:H})}return null}),Vr(x,"renderActiveDot",function(y,_,b){var S;return A.isValidElement(y)?S=A.cloneElement(y,_):Kr(y)?S=y(_):S=c(Ww,{..._}),c(Rn,{className:"recharts-active-dot",children:S},b)});var g=A.forwardRef(function(_,b){return c(x,{..._,ref:b})});return g.displayName=x.displayName,g},tee=_3({chartName:"LineChart",GraphicalChild:u0,axisComponents:[{axisType:"xAxis",AxisComp:Tl},{axisType:"yAxis",AxisComp:Pl}],formatAxisMap:RI}),Wx=_3({chartName:"BarChart",GraphicalChild:Qc,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Tl},{axisType:"yAxis",AxisComp:Pl}],formatAxisMap:RI}),Kp=_3({chartName:"PieChart",GraphicalChild:Is,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:f3},{axisType:"radiusAxis",AxisComp:u3}],formatAxisMap:O3e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),ree=_3({chartName:"AreaChart",GraphicalChild:Oh,axisComponents:[{axisType:"xAxis",AxisComp:Tl},{axisType:"yAxis",AxisComp:Pl}],formatAxisMap:RI});const Av=["#4F46E5","#60A5FA","#34D399","#FBBF24","#F87171"],eOe=({revenueData:e=[],appointmentTypeData:t=[],dailyAppointmentData:r=[],treatmentStatusData:n=[],profitEstimationData:a={conversionRate:0,estimatedSales:0,estimatedProfit:0},totalRevenue:i=0,dailyVisitors:o=0,revenueChangePercentage:s=0,dailyAppointmentsChangePercentage:l=0,overallTreatmentProgress:u=0,patientAgeData:d=[],appointmentStatusData:f=[],treatmentPlanStatusData:h=[],upcomingWeeklyAppointmentTrendData:m=[]})=>{const x=t.reduce((S,C)=>S+C.value,0),g=f.reduce((S,C)=>S+C.value,0),y=h.reduce((S,C)=>S+C.value,0),_=["#FBBF24","#34D399","#F87171","#9CA3AF"],b=["#60A5FA","#34D399","#FBBF24","#F87171"];return w("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3",children:[w(ur,{className:"col-span-1 md:col-span-2 xl:col-span-2",children:[w(wr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[w("div",{children:[w(_r,{className:"text-3xl font-bold",children:["",i?i.toLocaleString():"0"]}),c("p",{className:"text-xs text-muted-foreground",children:"Overall Revenue / Appointments"})]}),w("div",{className:"flex items-center space-x-2",children:[w("span",{className:`text-xs flex items-center ${s>=0?"text-green-500":"text-red-500"}`,children:[c(Tce,{className:"h-3 w-3 mr-1"})," ",s>=0?"+":"",s.toFixed(2),"%"]}),w(zr,{defaultValue:"monthly",children:[c(Br,{className:"w-[110px] h-8 text-xs",children:c(Wr,{placeholder:"Select"})}),w(Ur,{children:[c(wt,{value:"monthly",children:"Monthly"}),c(wt,{value:"yearly",children:"Yearly"})]})]})]})]}),c(xr,{className:"pl-2 pr-6",children:c(ks,{width:"100%",height:250,children:w(tee,{data:e,children:[c(Tl,{dataKey:"name",axisLine:!1,tickLine:!1,dy:10,style:{fontSize:"12px"}}),c(Pl,{hide:!0}),c(Xa,{contentStyle:{fontSize:"12px",padding:"4px 8px",borderRadius:"4px"},formatter:(S,C)=>[`${S} ${C==="uv"?"Appointments":"Revenue"}`,null]}),c(u0,{type:"monotone",dataKey:"uv",name:"Appointments",stroke:"#60A5FA",strokeWidth:2,dot:{r:4,fill:"#60A5FA",stroke:"#fff",strokeWidth:2},activeDot:{r:6}}),c(u0,{type:"monotone",dataKey:"pv",name:"Revenue",stroke:"#4F46E5",strokeWidth:2,dot:!1})]})})})]}),w(ur,{children:[w(wr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c(_r,{className:"text-sm font-medium",children:"Appointment Types"}),w(zr,{defaultValue:"monthly",children:[c(Br,{className:"w-[110px] h-8 text-xs",children:c(Wr,{placeholder:"Select"})}),w(Ur,{children:[c(wt,{value:"monthly",children:"Monthly"}),c(wt,{value:"yearly",children:"Yearly"})]})]})]}),w(xr,{className:"flex flex-col items-center",children:[c(ks,{width:"100%",height:180,children:w(Kp,{children:[c(Is,{data:t,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:1,dataKey:"value",startAngle:90,endAngle:450,children:t.map((S,C)=>c(Hc,{fill:Av[C%Av.length],stroke:Av[C%Av.length]},`cell-${C}`))}),c(Xa,{formatter:(S,C)=>[`${S} (${(S/x*100).toFixed(1)}%)`,C]})]})}),c("div",{className:"flex flex-wrap justify-center gap-x-4 gap-y-2 w-full mt-4 text-xs",children:t.map((S,C)=>w("div",{className:"flex items-center",children:[c("span",{className:"w-2 h-2 rounded-full mr-2",style:{backgroundColor:Av[C%Av.length]}}),S.name," ",(S.value/x*100).toFixed(1),"%"]},`legend-${C}`))})]})]}),w(ur,{children:[w(wr,{className:"pb-2",children:[c("div",{className:"flex flex-row items-center justify-between space-y-0",children:c(_r,{className:"text-sm font-medium",children:"Appointments Trend"})}),c("p",{className:"text-xs text-muted-foreground",children:"Total scheduled appointments per day over the next 7 days"})]}),c(xr,{className:"pb-4 pl-2 pr-4",children:c(ks,{width:"100%",height:150,children:w(Wx,{data:m,children:[c(Tl,{dataKey:"name",axisLine:!1,tickLine:!1,dy:10,style:{fontSize:"12px"}}),c(Pl,{allowDecimals:!1,axisLine:!1,tickLine:!1,width:30,style:{fontSize:"12px"}}),c(Xa,{cursor:{fill:"rgba(79, 70, 229, 0.1)"},contentStyle:{fontSize:"12px",padding:"4px 8px",borderRadius:"4px"},formatter:S=>[`${S} Appointments`,null]}),c(Qc,{dataKey:"value",name:"Appointments",fill:"#22C55E",radius:[4,4,0,0],barSize:12})]})})})]}),w(ur,{children:[w(wr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c(_r,{className:"text-sm font-medium",children:"Treatment Plan Status"}),c(Fe,{variant:"ghost",size:"sm",className:"w-8 h-8 p-0",children:c(yce,{className:"h-4 w-4"})})]}),w(xr,{children:[w("div",{className:"flex items-center justify-between mb-4",children:[w("div",{className:"flex items-center space-x-3",children:[c("div",{className:"p-2 bg-indigo-100 rounded-lg",children:c(N2,{className:"h-5 w-5 text-indigo-600"})}),w("div",{children:[c("p",{className:"text-sm font-medium",children:"Overall Progress"}),c("p",{className:"text-xs text-muted-foreground",children:"Across Active Plans"})]})]}),w("div",{className:"text-lg font-semibold",children:[u.toFixed(0),"%"]})]}),c(ks,{width:"100%",height:100,children:w(ree,{data:n,margin:{top:5,right:0,left:0,bottom:0},children:[c("defs",{children:w("linearGradient",{id:"colorStatus",x1:"0",y1:"0",x2:"0",y2:"1",children:[c("stop",{offset:"5%",stopColor:"#4F46E5",stopOpacity:.1}),c("stop",{offset:"95%",stopColor:"#4F46E5",stopOpacity:0})]})}),c(Tl,{dataKey:"name",axisLine:!1,tickLine:!1,dy:10,style:{fontSize:"12px"}}),c(Pl,{hide:!0,domain:[0,100]})," ",c(Xa,{formatter:S=>[`${S}% Complete`,null]}),c(Oh,{type:"monotone",dataKey:"value",name:"Completion Rate",stroke:"#4F46E5",fillOpacity:1,fill:"url(#colorStatus)",strokeWidth:2,dot:{r:4,fill:"#4F46E5",stroke:"#fff",strokeWidth:2},activeDot:{r:6}})]})})]})]}),w(ur,{children:[w(wr,{className:"pb-4",children:[c(_r,{className:"text-sm font-medium",children:"Profit Estimation"}),c("p",{className:"text-xs text-muted-foreground",children:"Based on completed treatments"})]}),w(xr,{className:"flex flex-col items-center",children:[c(ks,{width:"100%",height:120,children:w(Kp,{children:[w(Is,{data:[{name:"Conversion",value:a.conversionRate},{name:"Remaining",value:100-a.conversionRate}],cx:"50%",cy:"50%",innerRadius:45,outerRadius:60,startAngle:90,endAngle:90+360*(a.conversionRate/100),dataKey:"value",stroke:"none",children:[c(Hc,{fill:"#4F46E5"}),c(Hc,{fill:"#E5E7EB"})]}),c("text",{x:"50%",y:"50%",textAnchor:"middle",dominantBaseline:"middle",fontSize:"10",fill:"#6B7280",children:"Conversion"}),w("text",{x:"50%",y:"65%",textAnchor:"middle",dominantBaseline:"middle",fontSize:"18",fontWeight:"bold",fill:"#111827",children:[a.conversionRate.toFixed(0),"%"]})]})}),w("div",{className:"flex justify-around w-full mt-4 text-xs border-t pt-4",children:[w("div",{className:"text-center",children:[c("p",{className:"text-muted-foreground",children:"Est. Sales"}),c("p",{className:"font-semibold",children:a.estimatedSales.toLocaleString()})]}),w("div",{className:"text-center",children:[c("p",{className:"text-muted-foreground",children:"Est. Profit"}),w("p",{className:"font-semibold",children:["",a.estimatedProfit.toLocaleString()]})]})]})]})]}),w(ur,{children:[c(wr,{className:"pb-2",children:c(_r,{className:"text-sm font-medium",children:"Patient Age Distribution"})}),c(xr,{className:"pb-4 pl-2 pr-4",children:c(ks,{width:"100%",height:200,children:w(Wx,{data:d,layout:"vertical",barCategoryGap:"20%",children:[c(Tl,{type:"number",hide:!0}),c(Pl,{dataKey:"name",type:"category",axisLine:!1,tickLine:!1,style:{fontSize:"12px"},width:60}),c(Xa,{cursor:{fill:"rgba(79, 70, 229, 0.1)"},contentStyle:{fontSize:"12px",padding:"4px 8px",borderRadius:"4px"}}),c(Qc,{dataKey:"value",name:"Patients",fill:"#8B5CF6",radius:[0,4,4,0],barSize:10})]})})})]}),w(ur,{children:[c(wr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:c(_r,{className:"text-sm font-medium",children:"Appointment Status"})}),w(xr,{className:"flex flex-col items-center",children:[c(ks,{width:"100%",height:180,children:w(Kp,{children:[c(Is,{data:f,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:1,dataKey:"value",startAngle:90,endAngle:450,children:f.map((S,C)=>c(Hc,{fill:_[C%_.length],stroke:_[C%_.length]},`cell-apt-status-${C}`))}),c(Xa,{formatter:(S,C)=>[`${S} (${g>0?(S/g*100).toFixed(1):0}%)`,C]})]})}),c("div",{className:"flex flex-wrap justify-center gap-x-4 gap-y-2 w-full mt-4 text-xs",children:f.map((S,C)=>w("div",{className:"flex items-center",children:[c("span",{className:"w-2 h-2 rounded-full mr-2",style:{backgroundColor:_[C%_.length]}}),S.name," (",g>0?(S.value/g*100).toFixed(1):0,"%)"]},`legend-apt-status-${C}`))})]})]}),w(ur,{children:[c(wr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:c(_r,{className:"text-sm font-medium",children:"Treatment Plan Status"})}),w(xr,{className:"flex flex-col items-center",children:[c(ks,{width:"100%",height:180,children:w(Kp,{children:[c(Is,{data:h,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:1,dataKey:"value",startAngle:90,endAngle:450,children:h.map((S,C)=>c(Hc,{fill:b[C%b.length],stroke:b[C%b.length]},`cell-tp-status-${C}`))}),c(Xa,{formatter:(S,C)=>[`${S} (${y>0?(S/y*100).toFixed(1):0}%)`,C]})]})}),c("div",{className:"flex flex-wrap justify-center gap-x-4 gap-y-2 w-full mt-4 text-xs",children:h.map((S,C)=>w("div",{className:"flex items-center",children:[c("span",{className:"w-2 h-2 rounded-full mr-2",style:{backgroundColor:b[C%b.length]}}),S.name," (",y>0?(S.value/y*100).toFixed(1):0,"%)"]},`legend-tp-status-${C}`))})]})]})]})};function tOe(){const e=as(),[t,r]=A.useState({todaysAppointmentsCount:0,totalPatients:0,avgWaitTime:0,treatmentSuccessRate:0,appointmentsChange:0,patientsChange:0,waitTimeChange:0,successRateChange:0}),[n,a]=A.useState([]),[i,o]=A.useState([]),[s,l]=A.useState(!0),[u,d]=A.useState({revenueData:[],appointmentTypeData:[],dailyAppointmentData:[],treatmentStatusData:[],profitEstimationData:{conversionRate:0,estimatedSales:0,estimatedProfit:0},totalRevenue:0,dailyVisitors:0,patientAgeData:[],appointmentStatusData:[],treatmentPlanStatusData:[],upcomingWeeklyAppointmentTrendData:[]});A.useEffect(()=>{f();const m=["appointments","patients","treatment_plans","treatments","medical_records"].map(x=>jD(x,g=>{console.log(`Dashboard detected change in ${x}:`,g),f()}));return()=>{m.forEach(x=>x.unsubscribe())}},[]);const f=async()=>{try{l(!0);const h=new Date,m=El(h),x=Gv(h),g=Bo(g6(h,5)),y=c0(h),_=El(Ia(h,-6)),b=Gv(h),S=Gv(Ia(h,6)),[C,E,D,T]=await Promise.all([ir.patients.getAll(),ir.patients.getTreatmentPlans(null),ir.patients.getMedicalRecords(null),ir.appointments.getAll()]),I=C.length,B=T.filter(Re=>{if(!Re.start_time)return!1;const xt=bn(Re.start_time);return hm(xt,{start:m,end:x})}).length;let P=0,O=0;E.forEach(Re=>{Re.treatments&&Re.treatments.length>0&&(O+=Re.treatments.length,P+=Re.treatments.filter(xt=>xt.status==="completed").length)});const j=O>0?Math.round(P/O*100):0;r({todaysAppointmentsCount:B,totalPatients:I,avgWaitTime:15,treatmentSuccessRate:j,appointmentsChange:0,patientsChange:0,waitTimeChange:0,successRateChange:0});const z=T.filter(Re=>Re.status==="scheduled"&&Re.start_time&&bn(Re.start_time)>=m).sort((Re,xt)=>(Re.start_time?bn(Re.start_time).getTime():0)-(xt.start_time?bn(xt.start_time).getTime():0)).slice(0,5).map(Re=>({id:Re.id,patient:Re.patients?`${Re.patients.first_name} ${Re.patients.last_name}`:"Unknown Patient",time:Re.start_time?nr(bn(Re.start_time),"h:mm a"):"No time",date:Re.start_time?nr(bn(Re.start_time),"MMM d"):"No date",type:Re.type||"Appointment",status:Re.status}));a(z);const te=T.filter(Re=>Re.status==="completed").map(Re=>{var xt;return{type:"appointment",title:`Completed ${((xt=Re.staff)==null?void 0:xt.role)||"Appointment"} for ${Re.patients?`${Re.patients.first_name} ${Re.patients.last_name}`:"Unknown Patient"}`,time:Re.start_time?bn(Re.start_time):Re.updated_at?bn(Re.updated_at):new Date,icon:N2}}),Q=E.flatMap(Re=>Re.treatments||[]).filter(Re=>!!Re&&!!Re.updated_at).map(Re=>({type:"treatment",title:`Updated ${Re.type} treatment`,time:Re.updated_at?bn(Re.updated_at):Re.created_at?bn(Re.created_at):new Date,icon:vo})),R=D.map(Re=>({type:"record",title:"Added Medical Record",time:Re.created_at?bn(Re.created_at):new Date,icon:zu})),H=[...te,...Q,...R].sort((Re,xt)=>xt.time.getTime()-Re.time.getTime()).slice(0,5);o(H);const X={},Z=new Intl.DateTimeFormat("en",{month:"short"});for(let Re=0;Re<6;Re++){const xt=g6(h,Re),mr=nr(xt,"yyyy-MM");X[mr]={count:0,revenue:0}}T.forEach(Re=>{if(Re.start_time){const xt=bn(Re.start_time);if(hm(xt,{start:g,end:y})){const mr=nr(xt,"yyyy-MM");X[mr]&&(X[mr].count+=1)}}});const ie=Object.keys(X).map(Re=>({name:Z.format(bn(Re+"-01")),uv:X[Re].count,pv:X[Re].revenue,monthKey:Re})).sort((Re,xt)=>Re.monthKey.localeCompare(xt.monthKey)),le=ie.reduce((Re,xt)=>Re+(xt.pv||0),0),pe=0,J=ie.map(({name:Re,uv:xt,pv:mr})=>({name:Re,uv:xt,pv:mr})),me=Bo(h),ve=c0(h),ae={};T.forEach(Re=>{var mr;const xt=((mr=Re.staff)==null?void 0:mr.role)||"General";if(Re.start_time){const cr=bn(Re.start_time);hm(cr,{start:me,end:ve})&&(ae[xt]=(ae[xt]||0)+1)}});const Ue=Object.entries(ae).map(([Re,xt])=>({name:Re,value:xt})),He=Ume({start:m,end:x}),Ie={};He.forEach(Re=>{Ie[nr(Re,"HH")]=0}),T.forEach(Re=>{if(Re.start_time){const xt=bn(Re.start_time);if(hm(xt,{start:m,end:x})){const mr=nr(xt,"HH");Ie[mr]=(Ie[mr]||0)+1}}});const Ze=["00","04","08","12","14","16","18"].map(Re=>({name:Re,value:Ie[Re]||0})),pt=Object.values(Ie).reduce((Re,xt)=>Re+xt,0),ht=0,Pt=D2({start:_,end:b}),st={},xe=new Intl.DateTimeFormat("en",{weekday:"short"});Pt.forEach(Re=>{st[nr(Re,"yyyy-MM-dd")]={completed:0,total:0}}),E.forEach(Re=>{(Re.treatments||[]).forEach(xt=>{if(xt.updated_at){const mr=bn(xt.updated_at);if(hm(mr,{start:_,end:b})){const cr=nr(mr,"yyyy-MM-dd");st[cr]&&(st[cr].total+=1,xt.status==="completed"&&(st[cr].completed+=1))}}})});const Ee=Object.keys(st).map(Re=>{const xt=st[Re],mr=xt.total>0?Math.round(xt.completed/xt.total*100):0;return{name:xe.format(bn(Re)),value:mr,dayKey:Re}}).sort((Re,xt)=>Re.dayKey.localeCompare(xt.dayKey)),We=Ee.length>0?Math.round(Ee.reduce((Re,xt)=>Re+(xt.value||0),0)/Ee.length):0,ft=Ee.map(({name:Re,value:xt})=>({name:Re,value:xt})),Ve={conversionRate:j,estimatedSales:P,estimatedProfit:0},_t={"0-18":0,"19-35":0,"36-50":0,"51-65":0,"65+":0,Unknown:0};C.forEach(Re=>{const xt=Re.age;xt==null?_t.Unknown++:xt<=18?_t["0-18"]++:xt<=35?_t["19-35"]++:xt<=50?_t["36-50"]++:xt<=65?_t["51-65"]++:_t["65+"]++});const At=Object.entries(_t).map(([Re,xt])=>({name:Re,value:xt})),ct={};T.forEach(Re=>{const xt=Re.status||"Unknown";ct[xt]=(ct[xt]||0)+1});const br=Object.entries(ct).map(([Re,xt])=>({name:Re.charAt(0).toUpperCase()+Re.slice(1),value:xt})),er=D2({start:_,end:b}),en={},mn=new Intl.DateTimeFormat("en",{weekday:"short"});er.forEach(Re=>{en[nr(Re,"yyyy-MM-dd")]=0}),T.forEach(Re=>{if(Re.start_time){const xt=bn(Re.start_time);if(hm(xt,{start:_,end:b})){const mr=nr(xt,"yyyy-MM-dd");en.hasOwnProperty(mr)&&en[mr]++}}});const mi=Object.keys(en).map(Re=>({name:mn.format(bn(Re)),value:en[Re],dayKey:Re})).sort((Re,xt)=>Re.dayKey.localeCompare(xt.dayKey)).map(({name:Re,value:xt})=>({name:Re,value:xt})),un=D2({start:m,end:S}),yt={};un.forEach(Re=>{yt[nr(Re,"yyyy-MM-dd")]=0}),T.forEach(Re=>{if(Re.start_time&&Re.status==="scheduled"){const xt=bn(Re.start_time);if(hm(xt,{start:m,end:S})){const mr=nr(xt,"yyyy-MM-dd");yt.hasOwnProperty(mr)&&yt[mr]++}}});const Sr=Object.keys(yt).map(Re=>({name:mn.format(bn(Re)),value:yt[Re],dayKey:Re})).sort((Re,xt)=>Re.dayKey.localeCompare(xt.dayKey)).map(({name:Re,value:xt})=>({name:Re,value:xt})),Fr={};E.forEach(Re=>{const xt=Re.status||"Unknown";Fr[xt]=(Fr[xt]||0)+1});const Jt=Object.entries(Fr).map(([Re,xt])=>({name:Re.charAt(0).toUpperCase()+Re.slice(1),value:xt}));d({revenueData:J,appointmentTypeData:Ue,dailyAppointmentData:Ze,treatmentStatusData:ft,profitEstimationData:Ve,totalRevenue:le,dailyVisitors:pt,revenueChangePercentage:pe,dailyAppointmentsChangePercentage:ht,overallTreatmentProgress:We,patientAgeData:At,appointmentStatusData:br,treatmentPlanStatusData:Jt,upcomingWeeklyAppointmentTrendData:Sr}),l(!1)}catch(h){console.error("Error fetching dashboard data:",h),l(!1)}};return w("div",{className:"space-y-6",children:[c(Ca,{heading:"Dashboard",text:"Overview of your dental practice"}),w("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4",children:[w(ur,{children:[w(wr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c(_r,{className:"text-sm font-medium",children:"Today's Appointments"}),c(vo,{className:"h-4 w-4 text-muted-foreground"})]}),w(xr,{children:[c("div",{className:"text-2xl font-bold",children:t.todaysAppointmentsCount}),t.appointmentsChange!==0&&w("div",{className:"flex items-center text-xs text-muted-foreground",children:[t.appointmentsChange>0?c(V_,{className:"mr-1 h-4 w-4 text-emerald-500"}):c(H_,{className:"mr-1 h-4 w-4 text-red-500"}),w("span",{className:t.appointmentsChange>0?"text-emerald-500":"text-red-500",children:[Math.abs(t.appointmentsChange),"%"]}),c("span",{className:"ml-1",children:"from last week"})]})]})]}),w(ur,{children:[w(wr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c(_r,{className:"text-sm font-medium",children:"Active Patients"}),c(m4,{className:"h-4 w-4 text-muted-foreground"})]}),w(xr,{children:[c("div",{className:"text-2xl font-bold",children:t.totalPatients}),t.patientsChange!==0&&w("div",{className:"flex items-center text-xs text-muted-foreground",children:[t.patientsChange>0?c(V_,{className:"mr-1 h-4 w-4 text-emerald-500"}):c(H_,{className:"mr-1 h-4 w-4 text-red-500"}),w("span",{className:t.patientsChange>0?"text-emerald-500":"text-red-500",children:[Math.abs(t.patientsChange),"%"]}),c("span",{className:"ml-1",children:"from last month"})]})]})]}),w(ur,{children:[w(wr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c(_r,{className:"text-sm font-medium",children:"Avg. Wait Time"}),c(zu,{className:"h-4 w-4 text-muted-foreground"})]}),w(xr,{children:[w("div",{className:"text-2xl font-bold",children:[t.avgWaitTime,"m"]}),t.waitTimeChange!==0&&w("div",{className:"flex items-center text-xs text-muted-foreground",children:[t.waitTimeChange<0?c(H_,{className:"mr-1 h-4 w-4 text-emerald-500"}):c(V_,{className:"mr-1 h-4 w-4 text-red-500"}),w("span",{className:t.waitTimeChange<0?"text-emerald-500":"text-red-500",children:[Math.abs(t.waitTimeChange),"%"]}),c("span",{className:"ml-1",children:t.waitTimeChange<0?"improved":"worse"})]})]})]}),w(ur,{children:[w(wr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c(_r,{className:"text-sm font-medium",children:"Treatment Success"}),c(N2,{className:"h-4 w-4 text-muted-foreground"})]}),w(xr,{children:[w("div",{className:"text-2xl font-bold",children:[t.treatmentSuccessRate,"%"]}),t.successRateChange!==0&&w("div",{className:"flex items-center text-xs text-muted-foreground",children:[t.successRateChange>0?c(V_,{className:"mr-1 h-4 w-4 text-emerald-500"}):c(H_,{className:"mr-1 h-4 w-4 text-red-500"}),w("span",{className:t.successRateChange>0?"text-emerald-500":"text-red-500",children:[Math.abs(t.successRateChange),"%"]}),c("span",{className:"ml-1",children:"from last quarter"})]})]})]})]}),w("div",{className:"grid gap-4 md:grid-cols-2",children:[w(ur,{children:[c(wr,{children:w("div",{className:"flex items-center justify-between",children:[c(_r,{children:"Upcoming Appointments"}),w(Fe,{variant:"ghost",size:"sm",className:"text-sm",onClick:()=>e("/appointments"),children:["View all",c(n0,{className:"ml-1 h-4 w-4"})]})]})}),c(xr,{children:s?c("div",{className:"py-8 text-center text-muted-foreground",children:"Loading appointments..."}):n.length>0?c("div",{className:"space-y-4",children:n.map(h=>w("div",{className:"flex items-center rounded-lg border p-4",children:[c("div",{className:"flex h-9 w-9 items-center justify-center rounded-full bg-primary/10",children:c(io,{className:"h-5 w-5 text-primary"})}),w("div",{className:"ml-4 flex-1",children:[c("p",{className:"text-sm font-medium",children:h.patient}),c("p",{className:"text-sm text-muted-foreground",children:h.type})]}),w("div",{className:"text-right",children:[c("p",{className:"text-sm font-medium",children:h.date}),c("p",{className:"text-sm text-muted-foreground",children:h.time})]})]},h.id))}):c("div",{className:"py-8 text-center text-muted-foreground",children:"No upcoming appointments"})})]}),w(ur,{children:[c(wr,{children:w("div",{className:"flex items-center justify-between",children:[c(_r,{children:"Recent Activity"}),w(Fe,{variant:"ghost",size:"sm",className:"text-sm",onClick:()=>e("/appointments"),children:["View all",c(n0,{className:"ml-1 h-4 w-4"})]})]})}),c(xr,{children:s?c("div",{className:"py-8 text-center text-muted-foreground",children:"Loading activity..."}):i.length>0?c("div",{className:"space-y-8",children:i.map((h,m)=>{const x=h.icon||N2;return w("div",{className:"flex items-start",children:[c("div",{className:`flex h-9 w-9 items-center justify-center rounded-full ${h.type==="appointment"?"bg-emerald-100":h.type==="treatment"?"bg-blue-100":"bg-purple-100"}`,children:c(x,{className:`h-5 w-5 ${h.type==="appointment"?"text-emerald-600":h.type==="treatment"?"text-blue-600":"text-purple-600"}`})}),w("div",{className:"ml-4",children:[c("p",{className:"text-sm",children:h.title}),c("p",{className:"text-sm text-muted-foreground",children:nr(h.time,"MMM d, h:mm a")})]})]},m)})}):c("div",{className:"py-8 text-center text-muted-foreground",children:"No recent activity"})})]})]}),w("div",{className:"mt-6",children:[" ",c(eOe,{revenueData:u.revenueData||[],appointmentTypeData:u.appointmentTypeData||[],dailyAppointmentData:u.dailyAppointmentData||[],treatmentStatusData:u.treatmentStatusData||[],profitEstimationData:u.profitEstimationData||{conversionRate:0,estimatedSales:0,estimatedProfit:0},totalRevenue:u.totalRevenue,dailyVisitors:u.dailyVisitors,revenueChangePercentage:0,dailyAppointmentsChangePercentage:0,overallTreatmentProgress:u.overallTreatmentProgress,patientAgeData:u.patientAgeData||[],appointmentStatusData:u.appointmentStatusData||[],treatmentPlanStatusData:u.treatmentPlanStatusData||[],upcomingWeeklyAppointmentTrendData:u.upcomingWeeklyAppointmentTrendData||[]})]})]})}function rOe(e,t){return A.useReducer((r,n)=>t[r][n]??r,e)}var b3=e=>{const{present:t,children:r}=e,n=nOe(t),a=typeof r=="function"?r({present:n.isPresent}):A.Children.only(r),i=Hr(n.ref,aOe(a));return typeof r=="function"||n.isPresent?A.cloneElement(a,{ref:i}):null};b3.displayName="Presence";function nOe(e){const[t,r]=A.useState(),n=A.useRef(null),a=A.useRef(e),i=A.useRef("none"),o=e?"mounted":"unmounted",[s,l]=rOe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return A.useEffect(()=>{const u=xb(n.current);i.current=s==="mounted"?u:"none"},[s]),ii(()=>{const u=n.current,d=a.current;if(d!==e){const h=i.current,m=xb(u);e?l("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,l]),ii(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const g=xb(n.current).includes(m.animationName);if(m.target===t&&g&&(l("ANIMATION_END"),!a.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},h=m=>{m.target===t&&(i.current=xb(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:A.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function xb(e){return(e==null?void 0:e.animationName)||"none"}function aOe(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var S3="Dialog",[nee,aee]=Xi(S3),[iOe,od]=nee(S3),iee=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,s=A.useRef(null),l=A.useRef(null),[u,d]=ll({prop:n,defaultProp:a??!1,onChange:i,caller:S3});return c(iOe,{scope:t,triggerRef:s,contentRef:l,contentId:Dl(),titleId:Dl(),descriptionId:Dl(),open:u,onOpenChange:d,onOpenToggle:A.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};iee.displayName=S3;var oee="DialogTrigger",see=A.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=od(oee,r),i=Hr(t,a.triggerRef);return c(pr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":GI(a.open),...n,ref:i,onClick:Ut(e.onClick,a.onOpenToggle)})});see.displayName=oee;var HI="DialogPortal",[oOe,lee]=nee(HI,{forceMount:void 0}),cee=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=od(HI,t);return c(oOe,{scope:t,forceMount:r,children:A.Children.map(n,o=>c(b3,{present:r||i.open,children:c(ay,{asChild:!0,container:a,children:o})}))})};cee.displayName=HI;var vS="DialogOverlay",uee=A.forwardRef((e,t)=>{const r=lee(vS,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=od(vS,e.__scopeDialog);return i.modal?c(b3,{present:n||i.open,children:c(lOe,{...a,ref:t})}):null});uee.displayName=vS;var sOe=i0("DialogOverlay.RemoveScroll"),lOe=A.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=od(vS,r);return c(Dw,{as:sOe,allowPinchZoom:!0,shards:[a.contentRef],children:c(pr.div,{"data-state":GI(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),rg="DialogContent",dee=A.forwardRef((e,t)=>{const r=lee(rg,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=od(rg,e.__scopeDialog);return c(b3,{present:n||i.open,children:i.modal?c(cOe,{...a,ref:t}):c(uOe,{...a,ref:t})})});dee.displayName=rg;var cOe=A.forwardRef((e,t)=>{const r=od(rg,e.__scopeDialog),n=A.useRef(null),a=Hr(t,r.contentRef,n);return A.useEffect(()=>{const i=n.current;if(i)return k4(i)},[]),c(fee,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ut(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ut(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,s=o.button===0&&o.ctrlKey===!0;(o.button===2||s)&&i.preventDefault()}),onFocusOutside:Ut(e.onFocusOutside,i=>i.preventDefault())})}),uOe=A.forwardRef((e,t)=>{const r=od(rg,e.__scopeDialog),n=A.useRef(!1),a=A.useRef(!1);return c(fee,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,s;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(s=r.triggerRef.current)==null||s.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var l,u;(l=e.onInteractOutside)==null||l.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),fee=A.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,s=od(rg,r),l=A.useRef(null),u=Hr(t,l);return v4(),w(Dr,{children:[c(Cw,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:c(gg,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":GI(s.open),...o,ref:u,onDismiss:()=>s.onOpenChange(!1)})}),w(Dr,{children:[c(fOe,{titleId:s.titleId}),c(pOe,{contentRef:l,descriptionId:s.descriptionId})]})]})}),VI="DialogTitle",hee=A.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=od(VI,r);return c(pr.h2,{id:a.titleId,...n,ref:t})});hee.displayName=VI;var pee="DialogDescription",mee=A.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=od(pee,r);return c(pr.p,{id:a.descriptionId,...n,ref:t})});mee.displayName=pee;var gee="DialogClose",vee=A.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=od(gee,r);return c(pr.button,{type:"button",...n,ref:t,onClick:Ut(e.onClick,()=>a.onOpenChange(!1))})});vee.displayName=gee;function GI(e){return e?"open":"closed"}var yee="DialogTitleWarning",[dOe,xee]=xue(yee,{contentName:rg,titleName:VI,docsSlug:"dialog"}),fOe=({titleId:e})=>{const t=xee(yee),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return A.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},hOe="DialogDescriptionWarning",pOe=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${xee(hOe).contentName}}.`;return A.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},wee=iee,_ee=see,bee=cee,KI=uee,YI=dee,XI=hee,ZI=mee,A3=vee;const ei=wee,Hw=_ee,mOe=bee,k3=A3,See=A.forwardRef(({className:e,...t},r)=>c(KI,{ref:r,className:It("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));See.displayName=KI.displayName;const Ma=A.forwardRef(({className:e,children:t,...r},n)=>w(mOe,{children:[c(See,{}),w(YI,{ref:n,className:It("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[c(xo,{children:r["aria-describedby"]||"This is a dialog content description."}),t,w(A3,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[c(a0,{className:"h-4 w-4"}),c("span",{className:"sr-only",children:"Close"})]})]})]}));Ma.displayName=YI.displayName;const Fa=({className:e,...t})=>c("div",{className:It("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Fa.displayName="DialogHeader";const lo=({className:e,...t})=>c("div",{className:It("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});lo.displayName="DialogFooter";const La=A.forwardRef(({className:e,...t},r)=>c(XI,{ref:r,className:It("text-lg font-semibold leading-none tracking-tight",e),...t}));La.displayName=XI.displayName;const xo=A.forwardRef(({className:e,...t},r)=>c(ZI,{ref:r,className:It("text-sm text-muted-foreground",e),...t}));xo.displayName=ZI.displayName;var gOe="Label",Aee=A.forwardRef((e,t)=>c(pr.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Aee.displayName=gOe;var kee=Aee;const vOe=Nw("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Kt=A.forwardRef(({className:e,...t},r)=>c(kee,{ref:r,className:It(vOe(),e),...t}));Kt.displayName=kee.displayName;const Yr=A.forwardRef(({className:e,...t},r)=>c("textarea",{className:It("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Yr.displayName="Textarea";var N3="Tabs",[yOe,CJe]=Xi(N3,[iy]),Nee=iy(),[xOe,JI]=yOe(N3),Eee=A.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:s,activationMode:l="automatic",...u}=e,d=mg(s),[f,h]=ll({prop:n,onChange:a,defaultProp:i??"",caller:N3});return c(xOe,{scope:r,baseId:Dl(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:l,children:c(pr.div,{dir:d,"data-orientation":o,...u,ref:t})})});Eee.displayName=N3;var Cee="TabsList",Tee=A.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=JI(Cee,r),o=Nee(r);return c(oD,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:c(pr.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});Tee.displayName=Cee;var Pee="TabsTrigger",Oee=A.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,o=JI(Pee,r),s=Nee(r),l=Ree(o.baseId,n),u=Mee(o.baseId,n),d=n===o.value;return c(sD,{asChild:!0,...s,focusable:!a,active:d,children:c(pr.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:l,...i,ref:t,onMouseDown:Ut(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:Ut(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:Ut(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!a&&f&&o.onValueChange(n)})})})});Oee.displayName=Pee;var Dee="TabsContent",Iee=A.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=e,s=JI(Dee,r),l=Ree(s.baseId,n),u=Mee(s.baseId,n),d=n===s.value,f=A.useRef(d);return A.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),c(is,{present:a||d,children:({present:h})=>c(pr.div,{"data-state":d?"active":"inactive","data-orientation":s.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});Iee.displayName=Dee;function Ree(e,t){return`${e}-trigger-${t}`}function Mee(e,t){return`${e}-content-${t}`}var wOe=Eee,Fee=Tee,Lee=Oee,jee=Iee;const kg=wOe,Ng=A.forwardRef(({className:e,...t},r)=>c(Fee,{ref:r,className:It("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Ng.displayName=Fee.displayName;const ol=A.forwardRef(({className:e,...t},r)=>c(Lee,{ref:r,className:It("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));ol.displayName=Lee.displayName;const Ei=A.forwardRef(({className:e,...t},r)=>c(jee,{ref:r,className:It("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Ei.displayName=jee.displayName;var[E3,TJe]=Xi("Tooltip",[S0]),C3=S0(),$ee="TooltipProvider",_Oe=700,WO="tooltip.open",[bOe,QI]=E3($ee),Bee=e=>{const{__scopeTooltip:t,delayDuration:r=_Oe,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=e,o=A.useRef(!0),s=A.useRef(!1),l=A.useRef(0);return A.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),c(bOe,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:A.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:A.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:s,onPointerInTransitChange:A.useCallback(u=>{s.current=u},[]),disableHoverableContent:a,children:i})};Bee.displayName=$ee;var Hx="Tooltip",[SOe,T3]=E3(Hx),Uee=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:a,onOpenChange:i,disableHoverableContent:o,delayDuration:s}=e,l=QI(Hx,e.__scopeTooltip),u=C3(t),[d,f]=A.useState(null),h=Dl(),m=A.useRef(0),x=o??l.disableHoverableContent,g=s??l.delayDuration,y=A.useRef(!1),[_,b]=ll({prop:n,defaultProp:a??!1,onChange:T=>{T?(l.onOpen(),document.dispatchEvent(new CustomEvent(WO))):l.onClose(),i==null||i(T)},caller:Hx}),S=A.useMemo(()=>_?y.current?"delayed-open":"instant-open":"closed",[_]),C=A.useCallback(()=>{window.clearTimeout(m.current),m.current=0,y.current=!1,b(!0)},[b]),E=A.useCallback(()=>{window.clearTimeout(m.current),m.current=0,b(!1)},[b]),D=A.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{y.current=!0,b(!0),m.current=0},g)},[g,b]);return A.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),c(b4,{...u,children:c(SOe,{scope:t,contentId:h,open:_,stateAttribute:S,trigger:d,onTriggerChange:f,onTriggerEnter:A.useCallback(()=>{l.isOpenDelayedRef.current?D():C()},[l.isOpenDelayedRef,D,C]),onTriggerLeave:A.useCallback(()=>{x?E():(window.clearTimeout(m.current),m.current=0)},[E,x]),onOpen:C,onClose:E,disableHoverableContent:x,children:r})})};Uee.displayName=Hx;var HO="TooltipTrigger",qee=A.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=T3(HO,r),i=QI(HO,r),o=C3(r),s=A.useRef(null),l=Hr(t,s,a.onTriggerChange),u=A.useRef(!1),d=A.useRef(!1),f=A.useCallback(()=>u.current=!1,[]);return A.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),c(Pw,{asChild:!0,...o,children:c(pr.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:l,onPointerMove:Ut(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:Ut(e.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:Ut(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Ut(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:Ut(e.onBlur,a.onClose),onClick:Ut(e.onClick,a.onClose)})})});qee.displayName=HO;var AOe="TooltipPortal",[PJe,kOe]=E3(AOe,{forceMount:void 0}),B1="TooltipContent",zee=A.forwardRef((e,t)=>{const r=kOe(B1,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=e,o=T3(B1,e.__scopeTooltip);return c(is,{present:n||o.open,children:o.disableHoverableContent?c(Wee,{side:a,...i,ref:t}):c(NOe,{side:a,...i,ref:t})})}),NOe=A.forwardRef((e,t)=>{const r=T3(B1,e.__scopeTooltip),n=QI(B1,e.__scopeTooltip),a=A.useRef(null),i=Hr(t,a),[o,s]=A.useState(null),{trigger:l,onClose:u}=r,d=a.current,{onPointerInTransitChange:f}=n,h=A.useCallback(()=>{s(null),f(!1)},[f]),m=A.useCallback((x,g)=>{const y=x.currentTarget,_={x:x.clientX,y:x.clientY},b=OOe(_,y.getBoundingClientRect()),S=DOe(_,b),C=IOe(g.getBoundingClientRect()),E=MOe([...S,...C]);s(E),f(!0)},[f]);return A.useEffect(()=>()=>h(),[h]),A.useEffect(()=>{if(l&&d){const x=y=>m(y,d),g=y=>m(y,l);return l.addEventListener("pointerleave",x),d.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",x),d.removeEventListener("pointerleave",g)}}},[l,d,m,h]),A.useEffect(()=>{if(o){const x=g=>{const y=g.target,_={x:g.clientX,y:g.clientY},b=(l==null?void 0:l.contains(y))||(d==null?void 0:d.contains(y)),S=!ROe(_,o);b?h():S&&(h(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[l,d,o,u,h]),c(Wee,{...e,ref:i})}),[EOe,COe]=E3(Hx,{isInside:!1}),TOe=XV("TooltipContent"),Wee=A.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...s}=e,l=T3(B1,r),u=C3(r),{onClose:d}=l;return A.useEffect(()=>(document.addEventListener(WO,d),()=>document.removeEventListener(WO,d)),[d]),A.useEffect(()=>{if(l.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),c(gg,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:w(S4,{"data-state":l.stateAttribute,...u,...s,ref:t,style:{...s.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c(TOe,{children:n}),c(EOe,{scope:r,isInside:!0,children:c(L1e,{id:l.contentId,role:"tooltip",children:a||n})})]})})});zee.displayName=B1;var Hee="TooltipArrow",POe=A.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=C3(r);return COe(Hee,r).isInside?null:c(A4,{...a,...n,ref:t})});POe.displayName=Hee;function OOe(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function DOe(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function IOe(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function ROe(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const s=t[i],l=t[o],u=s.x,d=s.y,f=l.x,h=l.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(a=!a)}return a}function MOe(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),FOe(t)}function FOe(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var LOe=Bee,jOe=Uee,$Oe=qee,Vee=zee;const Kb=LOe,Yb=jOe,Xb=$Oe,j2=A.forwardRef(({className:e,sideOffset:t=4,...r},n)=>c(Vee,{ref:n,sideOffset:t,className:It("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...r}));j2.displayName=Vee.displayName;var Vw=e=>e.type==="checkbox",Rm=e=>e instanceof Date,Qs=e=>e==null;const Gee=e=>typeof e=="object";var Ki=e=>!Qs(e)&&!Array.isArray(e)&&Gee(e)&&!Rm(e),Kee=e=>Ki(e)&&e.target?Vw(e.target)?e.target.checked:e.target.value:e,BOe=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Yee=(e,t)=>e.has(BOe(t)),UOe=e=>{const t=e.constructor&&e.constructor.prototype;return Ki(t)&&t.hasOwnProperty("isPrototypeOf")},eR=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ui(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(eR&&(e instanceof Blob||n))&&(r||Ki(e)))if(t=r?[]:{},!r&&!UOe(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=ui(e[a]));else return e;return t}var Gw=e=>Array.isArray(e)?e.filter(Boolean):[],Ka=e=>e===void 0,Qt=(e,t,r)=>{if(!t||!Ki(e))return r;const n=Gw(t.split(/[,[\].]+?/)).reduce((a,i)=>Qs(a)?a:a[i],e);return Ka(n)||n===e?Ka(e[t])?r:e[t]:n},rc=e=>typeof e=="boolean",tR=e=>/^\w*$/.test(e),Xee=e=>Gw(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Zn=(e,t,r)=>{let n=-1;const a=tR(t)?[t]:Xee(t),i=a.length,o=i-1;for(;++n<i;){const s=a[n];let l=r;if(n!==o){const u=e[s];l=Ki(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(s==="__proto__"||s==="constructor"||s==="prototype")return;e[s]=l,e=e[s]}};const yS={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Gc={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Zf={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Zee=Je.createContext(null),ru=()=>Je.useContext(Zee),Jee=e=>{const{children:t,...r}=e;return c(Zee.Provider,{value:r,children:t})};var Qee=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==Gc.all&&(t._proxyFormState[o]=!n||Gc.all),r&&(r[o]=!0),e[o]}});return a},VO=e=>Qs(e)||!Gee(e);function nh(e,t){if(VO(e)||VO(t))return e===t;if(Rm(e)&&Rm(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const a of r){const i=e[a];if(!n.includes(a))return!1;if(a!=="ref"){const o=t[a];if(Rm(i)&&Rm(o)||Ki(i)&&Ki(o)||Array.isArray(i)&&Array.isArray(o)?!nh(i,o):i!==o)return!1}}return!0}const ete=(e,t)=>{const r=A.useRef(t);nh(t,r.current)||(r.current=t),A.useEffect(e,r.current)};function qOe(e){const t=ru(),{control:r=t.control,disabled:n,name:a,exact:i}=e||{},[o,s]=Je.useState(r._formState),l=Je.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return ete(()=>r._subscribe({name:a,formState:l.current,exact:i,callback:u=>{!n&&s({...r._formState,...u})}}),[a,n,i]),Je.useEffect(()=>{l.current.isValid&&r._setValid(!0)},[r]),Je.useMemo(()=>Qee(o,r,l.current,!1),[o,r])}var Gd=e=>typeof e=="string",tte=(e,t,r,n,a)=>Gd(e)?(n&&t.watch.add(e),Qt(r,e,a)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),Qt(r,i))):(n&&(t.watchAll=!0),r);function zOe(e){const t=ru(),{control:r=t.control,name:n,defaultValue:a,disabled:i,exact:o}=e||{},[s,l]=Je.useState(r._getWatch(n,a));return ete(()=>r._subscribe({name:n,formState:{values:!0},exact:o,callback:u=>!i&&l(tte(n,r._names,u.values||r._formValues,!1,a))}),[n,a,i,o]),Je.useEffect(()=>r._removeUnmounted()),s}function WOe(e){const t=ru(),{name:r,disabled:n,control:a=t.control,shouldUnregister:i}=e,o=Yee(a._names.array,r),s=zOe({control:a,name:r,defaultValue:Qt(a._formValues,r,Qt(a._defaultValues,r,e.defaultValue)),exact:!0}),l=qOe({control:a,name:r,exact:!0}),u=Je.useRef(e),d=Je.useRef(a.register(r,{...e.rules,value:s,...rc(e.disabled)?{disabled:e.disabled}:{}})),f=Je.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Qt(l.errors,r)},isDirty:{enumerable:!0,get:()=>!!Qt(l.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Qt(l.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Qt(l.validatingFields,r)},error:{enumerable:!0,get:()=>Qt(l.errors,r)}}),[l,r]),h=Je.useCallback(y=>d.current.onChange({target:{value:Kee(y),name:r},type:yS.CHANGE}),[r]),m=Je.useCallback(()=>d.current.onBlur({target:{value:Qt(a._formValues,r),name:r},type:yS.BLUR}),[r,a._formValues]),x=Je.useCallback(y=>{const _=Qt(a._fields,r);_&&y&&(_._f.ref={focus:()=>y.focus(),select:()=>y.select(),setCustomValidity:b=>y.setCustomValidity(b),reportValidity:()=>y.reportValidity()})},[a._fields,r]),g=Je.useMemo(()=>({name:r,value:s,...rc(n)||l.disabled?{disabled:l.disabled||n}:{},onChange:h,onBlur:m,ref:x}),[r,n,l.disabled,h,m,x,s]);return Je.useEffect(()=>{const y=a._options.shouldUnregister||i;a.register(r,{...u.current.rules,...rc(u.current.disabled)?{disabled:u.current.disabled}:{}});const _=(b,S)=>{const C=Qt(a._fields,b);C&&C._f&&(C._f.mount=S)};if(_(r,!0),y){const b=ui(Qt(a._options.defaultValues,r));Zn(a._defaultValues,r,b),Ka(Qt(a._formValues,r))&&Zn(a._formValues,r,b)}return!o&&a.register(r),()=>{(o?y&&!a._state.action:y)?a.unregister(r):_(r,!1)}},[r,a,o,i]),Je.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),Je.useMemo(()=>({field:g,formState:l,fieldState:f}),[g,l,f])}const Up=e=>e.render(WOe(e));var rte=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},Ol=e=>Array.isArray(e)?e:[e],hz=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},As=e=>Ki(e)&&!Object.keys(e).length,rR=e=>e.type==="file",ju=e=>typeof e=="function",xS=e=>{if(!eR)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},nte=e=>e.type==="select-multiple",nR=e=>e.type==="radio",HOe=e=>nR(e)||Vw(e),TT=e=>xS(e)&&e.isConnected;function VOe(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Ka(e)?n++:e[t[n++]];return e}function GOe(e){for(const t in e)if(e.hasOwnProperty(t)&&!Ka(e[t]))return!1;return!0}function to(e,t){const r=Array.isArray(t)?t:tR(t)?[t]:Xee(t),n=r.length===1?e:VOe(e,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(Ki(n)&&As(n)||Array.isArray(n)&&GOe(n))&&to(e,r.slice(0,-1)),e}var ate=e=>{for(const t in e)if(ju(e[t]))return!0;return!1};function wS(e,t={}){const r=Array.isArray(e);if(Ki(e)||r)for(const n in e)Array.isArray(e[n])||Ki(e[n])&&!ate(e[n])?(t[n]=Array.isArray(e[n])?[]:{},wS(e[n],t[n])):Qs(e[n])||(t[n]=!0);return t}function ite(e,t,r){const n=Array.isArray(e);if(Ki(e)||n)for(const a in e)Array.isArray(e[a])||Ki(e[a])&&!ate(e[a])?Ka(t)||VO(r[a])?r[a]=Array.isArray(e[a])?wS(e[a],[]):{...wS(e[a])}:ite(e[a],Qs(t)?{}:t[a],r[a]):r[a]=!nh(e[a],t[a]);return r}var i2=(e,t)=>ite(e,t,wS(t));const pz={value:!1,isValid:!1},mz={value:!0,isValid:!0};var ote=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Ka(e[0].attributes.value)?Ka(e[0].value)||e[0].value===""?mz:{value:e[0].value,isValid:!0}:mz:pz}return pz},ste=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Ka(e)?e:t?e===""?NaN:e&&+e:r&&Gd(e)?new Date(e):n?n(e):e;const gz={isValid:!1,value:null};var lte=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,gz):gz;function vz(e){const t=e.ref;return rR(t)?t.files:nR(t)?lte(e.refs).value:nte(t)?[...t.selectedOptions].map(({value:r})=>r):Vw(t)?ote(e.refs).value:ste(Ka(t.value)?e.ref.value:t.value,e)}var KOe=(e,t,r,n)=>{const a={};for(const i of e){const o=Qt(t,i);o&&Zn(a,i,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},_S=e=>e instanceof RegExp,o2=e=>Ka(e)?e:_S(e)?e.source:Ki(e)?_S(e.value)?e.value.source:e.value:e,$v=e=>({isOnSubmit:!e||e===Gc.onSubmit,isOnBlur:e===Gc.onBlur,isOnChange:e===Gc.onChange,isOnAll:e===Gc.all,isOnTouch:e===Gc.onTouched});const yz="AsyncFunction";var YOe=e=>!!e&&!!e.validate&&!!(ju(e.validate)&&e.validate.constructor.name===yz||Ki(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===yz)),XOe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),GO=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Zv=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const i=Qt(e,a);if(i){const{_f:o,...s}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(Zv(s,t))break}else if(Ki(s)&&Zv(s,t))break}}};function xz(e,t,r){const n=Qt(e,r);if(n||tR(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=Qt(t,i),s=Qt(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(s&&s.type)return{name:i,error:s};a.pop()}return{name:r}}var ZOe=(e,t,r,n)=>{r(e);const{name:a,...i}=e;return As(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||Gc.all))},JOe=(e,t,r)=>!e||!t||e===t||Ol(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),QOe=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,e8e=(e,t)=>!Gw(Qt(e,t)).length&&to(e,t),cte=(e,t,r)=>{const n=Ol(Qt(e,r));return Zn(n,"root",t[r]),Zn(e,r,n),e},Zb=e=>Gd(e);function wz(e,t,r="validate"){if(Zb(e)||Array.isArray(e)&&e.every(Zb)||rc(e)&&!e)return{type:r,message:Zb(e)?e:"",ref:t}}var kv=e=>Ki(e)&&!_S(e)?e:{value:e,message:""},KO=async(e,t,r,n,a,i)=>{const{ref:o,refs:s,required:l,maxLength:u,minLength:d,min:f,max:h,pattern:m,validate:x,name:g,valueAsNumber:y,mount:_}=e._f,b=Qt(r,g);if(!_||t.has(g))return{};const S=s?s[0]:o,C=O=>{a&&S.reportValidity&&(S.setCustomValidity(rc(O)?"":O||""),S.reportValidity())},E={},D=nR(o),T=Vw(o),I=D||T,L=(y||rR(o))&&Ka(o.value)&&Ka(b)||xS(o)&&o.value===""||b===""||Array.isArray(b)&&!b.length,B=rte.bind(null,g,n,E),P=(O,j,G,Y=Zf.maxLength,re=Zf.minLength)=>{const q=O?j:G;E[g]={type:O?Y:re,message:q,ref:o,...B(O?Y:re,q)}};if(i?!Array.isArray(b)||!b.length:l&&(!I&&(L||Qs(b))||rc(b)&&!b||T&&!ote(s).isValid||D&&!lte(s).isValid)){const{value:O,message:j}=Zb(l)?{value:!!l,message:l}:kv(l);if(O&&(E[g]={type:Zf.required,message:j,ref:S,...B(Zf.required,j)},!n))return C(j),E}if(!L&&(!Qs(f)||!Qs(h))){let O,j;const G=kv(h),Y=kv(f);if(!Qs(b)&&!isNaN(b)){const re=o.valueAsNumber||b&&+b;Qs(G.value)||(O=re>G.value),Qs(Y.value)||(j=re<Y.value)}else{const re=o.valueAsDate||new Date(b),q=te=>new Date(new Date().toDateString()+" "+te),K=o.type=="time",z=o.type=="week";Gd(G.value)&&b&&(O=K?q(b)>q(G.value):z?b>G.value:re>new Date(G.value)),Gd(Y.value)&&b&&(j=K?q(b)<q(Y.value):z?b<Y.value:re<new Date(Y.value))}if((O||j)&&(P(!!O,G.message,Y.message,Zf.max,Zf.min),!n))return C(E[g].message),E}if((u||d)&&!L&&(Gd(b)||i&&Array.isArray(b))){const O=kv(u),j=kv(d),G=!Qs(O.value)&&b.length>+O.value,Y=!Qs(j.value)&&b.length<+j.value;if((G||Y)&&(P(G,O.message,j.message),!n))return C(E[g].message),E}if(m&&!L&&Gd(b)){const{value:O,message:j}=kv(m);if(_S(O)&&!b.match(O)&&(E[g]={type:Zf.pattern,message:j,ref:o,...B(Zf.pattern,j)},!n))return C(j),E}if(x){if(ju(x)){const O=await x(b,r),j=wz(O,S);if(j&&(E[g]={...j,...B(Zf.validate,j.message)},!n))return C(j.message),E}else if(Ki(x)){let O={};for(const j in x){if(!As(O)&&!n)break;const G=wz(await x[j](b,r),S,j);G&&(O={...G,...B(j,G.message)},C(G.message),n&&(E[g]=O))}if(!As(O)&&(E[g]={ref:S,...O},!n))return E}}return C(!0),E};const t8e={mode:Gc.onSubmit,reValidateMode:Gc.onChange,shouldFocusError:!0};function r8e(e={}){let t={...t8e,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:ju(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const n={};let a=Ki(t.defaultValues)||Ki(t.values)?ui(t.values||t.defaultValues)||{}:{},i=t.shouldUnregister?{}:ui(a),o={action:!1,mount:!1,watch:!1},s={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:hz(),state:hz()},m=$v(t.mode),x=$v(t.reValidateMode),g=t.criteriaMode===Gc.all,y=xe=>Ee=>{clearTimeout(u),u=setTimeout(xe,Ee)},_=async xe=>{if(!t.disabled&&(d.isValid||f.isValid||xe)){const Ee=t.resolver?As((await L()).errors):await P(n,!0);Ee!==r.isValid&&h.state.next({isValid:Ee})}},b=(xe,Ee)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((xe||Array.from(s.mount)).forEach(We=>{We&&(Ee?Zn(r.validatingFields,We,Ee):to(r.validatingFields,We))}),h.state.next({validatingFields:r.validatingFields,isValidating:!As(r.validatingFields)}))},S=(xe,Ee=[],We,ft,mt=!0,De=!0)=>{if(ft&&We&&!t.disabled){if(o.action=!0,De&&Array.isArray(Qt(n,xe))){const Ve=We(Qt(n,xe),ft.argA,ft.argB);mt&&Zn(n,xe,Ve)}if(De&&Array.isArray(Qt(r.errors,xe))){const Ve=We(Qt(r.errors,xe),ft.argA,ft.argB);mt&&Zn(r.errors,xe,Ve),e8e(r.errors,xe)}if((d.touchedFields||f.touchedFields)&&De&&Array.isArray(Qt(r.touchedFields,xe))){const Ve=We(Qt(r.touchedFields,xe),ft.argA,ft.argB);mt&&Zn(r.touchedFields,xe,Ve)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=i2(a,i)),h.state.next({name:xe,isDirty:j(xe,Ee),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Zn(i,xe,Ee)},C=(xe,Ee)=>{Zn(r.errors,xe,Ee),h.state.next({errors:r.errors})},E=xe=>{r.errors=xe,h.state.next({errors:r.errors,isValid:!1})},D=(xe,Ee,We,ft)=>{const mt=Qt(n,xe);if(mt){const De=Qt(i,xe,Ka(We)?Qt(a,xe):We);Ka(De)||ft&&ft.defaultChecked||Ee?Zn(i,xe,Ee?De:vz(mt._f)):re(xe,De),o.mount&&_()}},T=(xe,Ee,We,ft,mt)=>{let De=!1,Ve=!1;const _t={name:xe};if(!t.disabled){if(!We||ft){(d.isDirty||f.isDirty)&&(Ve=r.isDirty,r.isDirty=_t.isDirty=j(),De=Ve!==_t.isDirty);const At=nh(Qt(a,xe),Ee);Ve=!!Qt(r.dirtyFields,xe),At?to(r.dirtyFields,xe):Zn(r.dirtyFields,xe,!0),_t.dirtyFields=r.dirtyFields,De=De||(d.dirtyFields||f.dirtyFields)&&Ve!==!At}if(We){const At=Qt(r.touchedFields,xe);At||(Zn(r.touchedFields,xe,We),_t.touchedFields=r.touchedFields,De=De||(d.touchedFields||f.touchedFields)&&At!==We)}De&&mt&&h.state.next(_t)}return De?_t:{}},I=(xe,Ee,We,ft)=>{const mt=Qt(r.errors,xe),De=(d.isValid||f.isValid)&&rc(Ee)&&r.isValid!==Ee;if(t.delayError&&We?(l=y(()=>C(xe,We)),l(t.delayError)):(clearTimeout(u),l=null,We?Zn(r.errors,xe,We):to(r.errors,xe)),(We?!nh(mt,We):mt)||!As(ft)||De){const Ve={...ft,...De&&rc(Ee)?{isValid:Ee}:{},errors:r.errors,name:xe};r={...r,...Ve},h.state.next(Ve)}},L=async xe=>{b(xe,!0);const Ee=await t.resolver(i,t.context,KOe(xe||s.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return b(xe),Ee},B=async xe=>{const{errors:Ee}=await L(xe);if(xe)for(const We of xe){const ft=Qt(Ee,We);ft?Zn(r.errors,We,ft):to(r.errors,We)}else r.errors=Ee;return Ee},P=async(xe,Ee,We={valid:!0})=>{for(const ft in xe){const mt=xe[ft];if(mt){const{_f:De,...Ve}=mt;if(De){const _t=s.array.has(De.name),At=mt._f&&YOe(mt._f);At&&d.validatingFields&&b([ft],!0);const ct=await KO(mt,s.disabled,i,g,t.shouldUseNativeValidation&&!Ee,_t);if(At&&d.validatingFields&&b([ft]),ct[De.name]&&(We.valid=!1,Ee))break;!Ee&&(Qt(ct,De.name)?_t?cte(r.errors,ct,De.name):Zn(r.errors,De.name,ct[De.name]):to(r.errors,De.name))}!As(Ve)&&await P(Ve,Ee,We)}}return We.valid},O=()=>{for(const xe of s.unMount){const Ee=Qt(n,xe);Ee&&(Ee._f.refs?Ee._f.refs.every(We=>!TT(We)):!TT(Ee._f.ref))&&J(xe)}s.unMount=new Set},j=(xe,Ee)=>!t.disabled&&(xe&&Ee&&Zn(i,xe,Ee),!nh(R(),a)),G=(xe,Ee,We)=>tte(xe,s,{...o.mount?i:Ka(Ee)?a:Gd(xe)?{[xe]:Ee}:Ee},We,Ee),Y=xe=>Gw(Qt(o.mount?i:a,xe,t.shouldUnregister?Qt(a,xe,[]):[])),re=(xe,Ee,We={})=>{const ft=Qt(n,xe);let mt=Ee;if(ft){const De=ft._f;De&&(!De.disabled&&Zn(i,xe,ste(Ee,De)),mt=xS(De.ref)&&Qs(Ee)?"":Ee,nte(De.ref)?[...De.ref.options].forEach(Ve=>Ve.selected=mt.includes(Ve.value)):De.refs?Vw(De.ref)?De.refs.length>1?De.refs.forEach(Ve=>(!Ve.defaultChecked||!Ve.disabled)&&(Ve.checked=Array.isArray(mt)?!!mt.find(_t=>_t===Ve.value):mt===Ve.value)):De.refs[0]&&(De.refs[0].checked=!!mt):De.refs.forEach(Ve=>Ve.checked=Ve.value===mt):rR(De.ref)?De.ref.value="":(De.ref.value=mt,De.ref.type||h.state.next({name:xe,values:ui(i)})))}(We.shouldDirty||We.shouldTouch)&&T(xe,mt,We.shouldTouch,We.shouldDirty,!0),We.shouldValidate&&Q(xe)},q=(xe,Ee,We)=>{for(const ft in Ee){const mt=Ee[ft],De=`${xe}.${ft}`,Ve=Qt(n,De);(s.array.has(xe)||Ki(mt)||Ve&&!Ve._f)&&!Rm(mt)?q(De,mt,We):re(De,mt,We)}},K=(xe,Ee,We={})=>{const ft=Qt(n,xe),mt=s.array.has(xe),De=ui(Ee);Zn(i,xe,De),mt?(h.array.next({name:xe,values:ui(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&We.shouldDirty&&h.state.next({name:xe,dirtyFields:i2(a,i),isDirty:j(xe,De)})):ft&&!ft._f&&!Qs(De)?q(xe,De,We):re(xe,De,We),GO(xe,s)&&h.state.next({...r}),h.state.next({name:o.mount?xe:void 0,values:ui(i)})},z=async xe=>{o.mount=!0;const Ee=xe.target;let We=Ee.name,ft=!0;const mt=Qt(n,We),De=Ve=>{ft=Number.isNaN(Ve)||Rm(Ve)&&isNaN(Ve.getTime())||nh(Ve,Qt(i,We,Ve))};if(mt){let Ve,_t;const At=Ee.type?vz(mt._f):Kee(xe),ct=xe.type===yS.BLUR||xe.type===yS.FOCUS_OUT,br=!XOe(mt._f)&&!t.resolver&&!Qt(r.errors,We)&&!mt._f.deps||QOe(ct,Qt(r.touchedFields,We),r.isSubmitted,x,m),er=GO(We,s,ct);Zn(i,We,At),ct?(mt._f.onBlur&&mt._f.onBlur(xe),l&&l(0)):mt._f.onChange&&mt._f.onChange(xe);const en=T(We,At,ct),mn=!As(en)||er;if(!ct&&h.state.next({name:We,type:xe.type,values:ui(i)}),br)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?ct&&_():ct||_()),mn&&h.state.next({name:We,...er?{}:en});if(!ct&&er&&h.state.next({...r}),t.resolver){const{errors:An}=await L([We]);if(De(At),ft){const mi=xz(r.errors,n,We),un=xz(An,n,mi.name||We);Ve=un.error,We=un.name,_t=As(An)}}else b([We],!0),Ve=(await KO(mt,s.disabled,i,g,t.shouldUseNativeValidation))[We],b([We]),De(At),ft&&(Ve?_t=!1:(d.isValid||f.isValid)&&(_t=await P(n,!0)));ft&&(mt._f.deps&&Q(mt._f.deps),I(We,_t,Ve,en))}},te=(xe,Ee)=>{if(Qt(r.errors,Ee)&&xe.focus)return xe.focus(),1},Q=async(xe,Ee={})=>{let We,ft;const mt=Ol(xe);if(t.resolver){const De=await B(Ka(xe)?xe:mt);We=As(De),ft=xe?!mt.some(Ve=>Qt(De,Ve)):We}else xe?(ft=(await Promise.all(mt.map(async De=>{const Ve=Qt(n,De);return await P(Ve&&Ve._f?{[De]:Ve}:Ve)}))).every(Boolean),!(!ft&&!r.isValid)&&_()):ft=We=await P(n);return h.state.next({...!Gd(xe)||(d.isValid||f.isValid)&&We!==r.isValid?{}:{name:xe},...t.resolver||!xe?{isValid:We}:{},errors:r.errors}),Ee.shouldFocus&&!ft&&Zv(n,te,xe?mt:s.mount),ft},R=xe=>{const Ee={...o.mount?i:a};return Ka(xe)?Ee:Gd(xe)?Qt(Ee,xe):xe.map(We=>Qt(Ee,We))},H=(xe,Ee)=>({invalid:!!Qt((Ee||r).errors,xe),isDirty:!!Qt((Ee||r).dirtyFields,xe),error:Qt((Ee||r).errors,xe),isValidating:!!Qt(r.validatingFields,xe),isTouched:!!Qt((Ee||r).touchedFields,xe)}),X=xe=>{xe&&Ol(xe).forEach(Ee=>to(r.errors,Ee)),h.state.next({errors:xe?r.errors:{}})},Z=(xe,Ee,We)=>{const ft=(Qt(n,xe,{_f:{}})._f||{}).ref,mt=Qt(r.errors,xe)||{},{ref:De,message:Ve,type:_t,...At}=mt;Zn(r.errors,xe,{...At,...Ee,ref:ft}),h.state.next({name:xe,errors:r.errors,isValid:!1}),We&&We.shouldFocus&&ft&&ft.focus&&ft.focus()},ie=(xe,Ee)=>ju(xe)?h.state.subscribe({next:We=>xe(G(void 0,Ee),We)}):G(xe,Ee,!0),le=xe=>h.state.subscribe({next:Ee=>{JOe(xe.name,Ee.name,xe.exact)&&ZOe(Ee,xe.formState||d,ht,xe.reRenderRoot)&&xe.callback({values:{...i},...r,...Ee})}}).unsubscribe,pe=xe=>(o.mount=!0,f={...f,...xe.formState},le({...xe,formState:f})),J=(xe,Ee={})=>{for(const We of xe?Ol(xe):s.mount)s.mount.delete(We),s.array.delete(We),Ee.keepValue||(to(n,We),to(i,We)),!Ee.keepError&&to(r.errors,We),!Ee.keepDirty&&to(r.dirtyFields,We),!Ee.keepTouched&&to(r.touchedFields,We),!Ee.keepIsValidating&&to(r.validatingFields,We),!t.shouldUnregister&&!Ee.keepDefaultValue&&to(a,We);h.state.next({values:ui(i)}),h.state.next({...r,...Ee.keepDirty?{isDirty:j()}:{}}),!Ee.keepIsValid&&_()},me=({disabled:xe,name:Ee})=>{(rc(xe)&&o.mount||xe||s.disabled.has(Ee))&&(xe?s.disabled.add(Ee):s.disabled.delete(Ee))},ve=(xe,Ee={})=>{let We=Qt(n,xe);const ft=rc(Ee.disabled)||rc(t.disabled);return Zn(n,xe,{...We||{},_f:{...We&&We._f?We._f:{ref:{name:xe}},name:xe,mount:!0,...Ee}}),s.mount.add(xe),We?me({disabled:rc(Ee.disabled)?Ee.disabled:t.disabled,name:xe}):D(xe,!0,Ee.value),{...ft?{disabled:Ee.disabled||t.disabled}:{},...t.progressive?{required:!!Ee.required,min:o2(Ee.min),max:o2(Ee.max),minLength:o2(Ee.minLength),maxLength:o2(Ee.maxLength),pattern:o2(Ee.pattern)}:{},name:xe,onChange:z,onBlur:z,ref:mt=>{if(mt){ve(xe,Ee),We=Qt(n,xe);const De=Ka(mt.value)&&mt.querySelectorAll&&mt.querySelectorAll("input,select,textarea")[0]||mt,Ve=HOe(De),_t=We._f.refs||[];if(Ve?_t.find(At=>At===De):De===We._f.ref)return;Zn(n,xe,{_f:{...We._f,...Ve?{refs:[..._t.filter(TT),De,...Array.isArray(Qt(a,xe))?[{}]:[]],ref:{type:De.type,name:xe}}:{ref:De}}}),D(xe,!1,void 0,De)}else We=Qt(n,xe,{}),We._f&&(We._f.mount=!1),(t.shouldUnregister||Ee.shouldUnregister)&&!(Yee(s.array,xe)&&o.action)&&s.unMount.add(xe)}}},ae=()=>t.shouldFocusError&&Zv(n,te,s.mount),Ue=xe=>{rc(xe)&&(h.state.next({disabled:xe}),Zv(n,(Ee,We)=>{const ft=Qt(n,We);ft&&(Ee.disabled=ft._f.disabled||xe,Array.isArray(ft._f.refs)&&ft._f.refs.forEach(mt=>{mt.disabled=ft._f.disabled||xe}))},0,!1))},He=(xe,Ee)=>async We=>{let ft;We&&(We.preventDefault&&We.preventDefault(),We.persist&&We.persist());let mt=ui(i);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:De,values:Ve}=await L();r.errors=De,mt=Ve}else await P(n);if(s.disabled.size)for(const De of s.disabled)Zn(mt,De,void 0);if(to(r.errors,"root"),As(r.errors)){h.state.next({errors:{}});try{await xe(mt,We)}catch(De){ft=De}}else Ee&&await Ee({...r.errors},We),ae(),setTimeout(ae);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:As(r.errors)&&!ft,submitCount:r.submitCount+1,errors:r.errors}),ft)throw ft},Ie=(xe,Ee={})=>{Qt(n,xe)&&(Ka(Ee.defaultValue)?K(xe,ui(Qt(a,xe))):(K(xe,Ee.defaultValue),Zn(a,xe,ui(Ee.defaultValue))),Ee.keepTouched||to(r.touchedFields,xe),Ee.keepDirty||(to(r.dirtyFields,xe),r.isDirty=Ee.defaultValue?j(xe,ui(Qt(a,xe))):j()),Ee.keepError||(to(r.errors,xe),d.isValid&&_()),h.state.next({...r}))},he=(xe,Ee={})=>{const We=xe?ui(xe):a,ft=ui(We),mt=As(xe),De=mt?a:ft;if(Ee.keepDefaultValues||(a=We),!Ee.keepValues){if(Ee.keepDirtyValues){const Ve=new Set([...s.mount,...Object.keys(i2(a,i))]);for(const _t of Array.from(Ve))Qt(r.dirtyFields,_t)?Zn(De,_t,Qt(i,_t)):K(_t,Qt(De,_t))}else{if(eR&&Ka(xe))for(const Ve of s.mount){const _t=Qt(n,Ve);if(_t&&_t._f){const At=Array.isArray(_t._f.refs)?_t._f.refs[0]:_t._f.ref;if(xS(At)){const ct=At.closest("form");if(ct){ct.reset();break}}}}for(const Ve of s.mount)K(Ve,Qt(De,Ve))}i=ui(De),h.array.next({values:{...De}}),h.state.next({values:{...De}})}s={mount:Ee.keepDirtyValues?s.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!Ee.keepIsValid||!!Ee.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:Ee.keepSubmitCount?r.submitCount:0,isDirty:mt?!1:Ee.keepDirty?r.isDirty:!!(Ee.keepDefaultValues&&!nh(xe,a)),isSubmitted:Ee.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:mt?{}:Ee.keepDirtyValues?Ee.keepDefaultValues&&i?i2(a,i):r.dirtyFields:Ee.keepDefaultValues&&xe?i2(a,xe):Ee.keepDirty?r.dirtyFields:{},touchedFields:Ee.keepTouched?r.touchedFields:{},errors:Ee.keepErrors?r.errors:{},isSubmitSuccessful:Ee.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Ze=(xe,Ee)=>he(ju(xe)?xe(i):xe,Ee),pt=(xe,Ee={})=>{const We=Qt(n,xe),ft=We&&We._f;if(ft){const mt=ft.refs?ft.refs[0]:ft.ref;mt.focus&&(mt.focus(),Ee.shouldSelect&&ju(mt.select)&&mt.select())}},ht=xe=>{r={...r,...xe}},st={control:{register:ve,unregister:J,getFieldState:H,handleSubmit:He,setError:Z,_subscribe:le,_runSchema:L,_getWatch:G,_getDirty:j,_setValid:_,_setFieldArray:S,_setDisabledField:me,_setErrors:E,_getFieldArray:Y,_reset:he,_resetDefaultValues:()=>ju(t.defaultValues)&&t.defaultValues().then(xe=>{Ze(xe,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:O,_disableForm:Ue,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(xe){o=xe},get _defaultValues(){return a},get _names(){return s},set _names(xe){s=xe},get _formState(){return r},get _options(){return t},set _options(xe){t={...t,...xe}}},subscribe:pe,trigger:Q,register:ve,handleSubmit:He,watch:ie,setValue:K,getValues:R,reset:Ze,resetField:Ie,clearErrors:X,unregister:J,setError:Z,setFocus:pt,getFieldState:H};return{...st,formControl:st}}var Tp=()=>{const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const r=(Math.random()*16+e)%16|0;return(t=="x"?r:r&3|8).toString(16)})},PT=(e,t,r={})=>r.shouldFocus||Ka(r.shouldFocus)?r.focusName||`${e}.${Ka(r.focusIndex)?t:r.focusIndex}.`:"",OT=(e,t)=>[...e,...Ol(t)],DT=e=>Array.isArray(e)?e.map(()=>{}):void 0;function IT(e,t,r){return[...e.slice(0,t),...Ol(r),...e.slice(t)]}var RT=(e,t,r)=>Array.isArray(e)?(Ka(e[r])&&(e[r]=void 0),e.splice(r,0,e.splice(t,1)[0]),e):[],MT=(e,t)=>[...Ol(t),...Ol(e)];function n8e(e,t){let r=0;const n=[...e];for(const a of t)n.splice(a-r,1),r++;return Gw(n).length?n:[]}var FT=(e,t)=>Ka(t)?[]:n8e(e,Ol(t).sort((r,n)=>r-n)),LT=(e,t,r)=>{[e[t],e[r]]=[e[r],e[t]]},_z=(e,t,r)=>(e[t]=r,e);function bS(e){const t=ru(),{control:r=t.control,name:n,keyName:a="id",shouldUnregister:i,rules:o}=e,[s,l]=Je.useState(r._getFieldArray(n)),u=Je.useRef(r._getFieldArray(n).map(Tp)),d=Je.useRef(s),f=Je.useRef(n),h=Je.useRef(!1);f.current=n,d.current=s,r._names.array.add(n),o&&r.register(n,o),Je.useEffect(()=>r._subjects.array.subscribe({next:({values:D,name:T})=>{if(T===f.current||!T){const I=Qt(D,f.current);Array.isArray(I)&&(l(I),u.current=I.map(Tp))}}}).unsubscribe,[r]);const m=Je.useCallback(D=>{h.current=!0,r._setFieldArray(n,D)},[r,n]),x=(D,T)=>{const I=Ol(ui(D)),L=OT(r._getFieldArray(n),I);r._names.focus=PT(n,L.length-1,T),u.current=OT(u.current,I.map(Tp)),m(L),l(L),r._setFieldArray(n,L,OT,{argA:DT(D)})},g=(D,T)=>{const I=Ol(ui(D)),L=MT(r._getFieldArray(n),I);r._names.focus=PT(n,0,T),u.current=MT(u.current,I.map(Tp)),m(L),l(L),r._setFieldArray(n,L,MT,{argA:DT(D)})},y=D=>{const T=FT(r._getFieldArray(n),D);u.current=FT(u.current,D),m(T),l(T),!Array.isArray(Qt(r._fields,n))&&Zn(r._fields,n,void 0),r._setFieldArray(n,T,FT,{argA:D})},_=(D,T,I)=>{const L=Ol(ui(T)),B=IT(r._getFieldArray(n),D,L);r._names.focus=PT(n,D,I),u.current=IT(u.current,D,L.map(Tp)),m(B),l(B),r._setFieldArray(n,B,IT,{argA:D,argB:DT(T)})},b=(D,T)=>{const I=r._getFieldArray(n);LT(I,D,T),LT(u.current,D,T),m(I),l(I),r._setFieldArray(n,I,LT,{argA:D,argB:T},!1)},S=(D,T)=>{const I=r._getFieldArray(n);RT(I,D,T),RT(u.current,D,T),m(I),l(I),r._setFieldArray(n,I,RT,{argA:D,argB:T},!1)},C=(D,T)=>{const I=ui(T),L=_z(r._getFieldArray(n),D,I);u.current=[...L].map((B,P)=>!B||P===D?Tp():u.current[P]),m(L),l([...L]),r._setFieldArray(n,L,_z,{argA:D,argB:I},!0,!1)},E=D=>{const T=Ol(ui(D));u.current=T.map(Tp),m([...T]),l([...T]),r._setFieldArray(n,[...T],I=>I,{},!0,!1)};return Je.useEffect(()=>{if(r._state.action=!1,GO(n,r._names)&&r._subjects.state.next({...r._formState}),h.current&&(!$v(r._options.mode).isOnSubmit||r._formState.isSubmitted)&&!$v(r._options.reValidateMode).isOnSubmit)if(r._options.resolver)r._runSchema([n]).then(D=>{const T=Qt(D.errors,n),I=Qt(r._formState.errors,n);(I?!T&&I.type||T&&(I.type!==T.type||I.message!==T.message):T&&T.type)&&(T?Zn(r._formState.errors,n,T):to(r._formState.errors,n),r._subjects.state.next({errors:r._formState.errors}))});else{const D=Qt(r._fields,n);D&&D._f&&!($v(r._options.reValidateMode).isOnSubmit&&$v(r._options.mode).isOnSubmit)&&KO(D,r._names.disabled,r._formValues,r._options.criteriaMode===Gc.all,r._options.shouldUseNativeValidation,!0).then(T=>!As(T)&&r._subjects.state.next({errors:cte(r._formState.errors,T,n)}))}r._subjects.state.next({name:n,values:ui(r._formValues)}),r._names.focus&&Zv(r._fields,(D,T)=>{if(r._names.focus&&T.startsWith(r._names.focus)&&D.focus)return D.focus(),1}),r._names.focus="",r._setValid(),h.current=!1},[s,n,r]),Je.useEffect(()=>(!Qt(r._formValues,n)&&r._setFieldArray(n),()=>{const D=(T,I)=>{const L=Qt(r._fields,T);L&&L._f&&(L._f.mount=I)};r._options.shouldUnregister||i?r.unregister(n):D(n,!1)}),[n,r,a,i]),{swap:Je.useCallback(b,[m,n,r]),move:Je.useCallback(S,[m,n,r]),prepend:Je.useCallback(g,[m,n,r]),append:Je.useCallback(x,[m,n,r]),remove:Je.useCallback(y,[m,n,r]),insert:Je.useCallback(_,[m,n,r]),update:Je.useCallback(C,[m,n,r]),replace:Je.useCallback(E,[m,n,r]),fields:Je.useMemo(()=>s.map((D,T)=>({...D,[a]:u.current[T]||Tp()})),[s,a])}}const a8e=typeof window<"u"?Je.useLayoutEffect:Je.useEffect;function sd(e={}){const t=Je.useRef(void 0),r=Je.useRef(void 0),[n,a]=Je.useState({isDirty:!1,isValidating:!1,isLoading:ju(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:ju(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:r8e(e),formState:n},e.formControl&&e.defaultValues&&!ju(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const i=t.current.control;return i._options=e,a8e(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(s=>({...s,isReady:!0})),o},[i]),Je.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),Je.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode),e.errors&&!As(e.errors)&&i._setErrors(e.errors)},[i,e.errors,e.mode,e.reValidateMode]),Je.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),Je.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),Je.useEffect(()=>{e.values&&!nh(e.values,r.current)?(i._reset(e.values,i._options.resetOptions),r.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),Je.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=Qee(n,i),t.current}const bz=(e,t,r)=>{if(e&&"reportValidity"in e){const n=Qt(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},ute=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?bz(n.ref,r,e):n.refs&&n.refs.forEach(a=>bz(a,r,e))}},i8e=(e,t)=>{t.shouldUseNativeValidation&&ute(e,t);const r={};for(const n in e){const a=Qt(t.fields,n),i=Object.assign(e[n]||{},{ref:a&&a.ref});if(o8e(t.names||Object.keys(e),n)){const o=Object.assign({},Qt(r,n));Zn(o,"root",i),Zn(r,n,o)}else Zn(r,n,i)}return r},o8e=(e,t)=>e.some(r=>r.startsWith(t+"."));var s8e=function(e,t){for(var r={};e.length;){var n=e[0],a=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var s=n.unionErrors[0].errors[0];r[o]={message:s.message,type:s.code}}else r[o]={message:i,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var l=r[o].types,u=l&&l[n.code];r[o]=rte(o,t,r,a,u?[].concat(u,n.message):n.message)}e.shift()}return r},ld=function(e,t,r){return r===void 0&&(r={}),function(n,a,i){try{return Promise.resolve(function(o,s){try{var l=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return i.shouldUseNativeValidation&&ute({},i),{errors:{},values:r.raw?n:u}})}catch(u){return s(u)}return l&&l.then?l.then(void 0,s):l}(0,function(o){if(function(s){return Array.isArray(s==null?void 0:s.errors)}(o))return{values:{},errors:i8e(s8e(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},P3="Checkbox",[l8e,OJe]=Xi(P3),[c8e,u8e]=l8e(P3),dte=A.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:o,disabled:s,value:l="on",onCheckedChange:u,form:d,...f}=e,[h,m]=A.useState(null),x=Hr(t,C=>m(C)),g=A.useRef(!1),y=h?d||!!h.closest("form"):!0,[_,b]=ll({prop:a,defaultProp:i??!1,onChange:u,caller:P3}),S=A.useRef(_);return A.useEffect(()=>{const C=h==null?void 0:h.form;if(C){const E=()=>b(S.current);return C.addEventListener("reset",E),()=>C.removeEventListener("reset",E)}},[h,b]),w(c8e,{scope:r,state:_,disabled:s,children:[c(pr.button,{type:"button",role:"checkbox","aria-checked":e0(_)?"mixed":_,"aria-required":o,"data-state":mte(_),"data-disabled":s?"":void 0,disabled:s,value:l,...f,ref:x,onKeyDown:Ut(e.onKeyDown,C=>{C.key==="Enter"&&C.preventDefault()}),onClick:Ut(e.onClick,C=>{b(E=>e0(E)?!0:!E),y&&(g.current=C.isPropagationStopped(),g.current||C.stopPropagation())})}),y&&c(pte,{control:h,bubbles:!g.current,name:n,value:l,checked:_,required:o,disabled:s,form:d,style:{transform:"translateX(-100%)"},defaultChecked:e0(i)?!1:i})]})});dte.displayName=P3;var fte="CheckboxIndicator",hte=A.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,i=u8e(fte,r);return c(is,{present:n||e0(i.state)||i.state===!0,children:c(pr.span,{"data-state":mte(i.state),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});hte.displayName=fte;var d8e="CheckboxBubbleInput",pte=A.forwardRef(({__scopeCheckbox:e,control:t,checked:r,bubbles:n=!0,defaultChecked:a,...i},o)=>{const s=A.useRef(null),l=Hr(s,o),u=F4(r),d=_4(t);A.useEffect(()=>{const h=s.current;if(!h)return;const m=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(m,"checked").set;if(u!==r&&g){const y=new Event("click",{bubbles:n});h.indeterminate=e0(r),g.call(h,e0(r)?!1:r),h.dispatchEvent(y)}},[u,r,n]);const f=A.useRef(e0(r)?!1:r);return c(pr.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??f.current,...i,tabIndex:-1,ref:l,style:{...i.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});pte.displayName=d8e;function e0(e){return e==="indeterminate"}function mte(e){return e0(e)?"indeterminate":e?"checked":"unchecked"}var gte=dte,f8e=hte;const Ps=A.forwardRef(({className:e,...t},r)=>c(gte,{ref:r,className:It("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:c(f8e,{className:It("flex items-center justify-center text-current"),children:c(Aw,{className:"h-4 w-4"})})}));Ps.displayName=gte.displayName;const Dh=Jee,vte=A.createContext({}),Ge=({...e})=>c(vte.Provider,{value:{name:e.name},children:c(Up,{...e})}),O3=()=>{const e=A.useContext(vte),t=A.useContext(yte),{getFieldState:r,formState:n}=ru(),a=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},yte=A.createContext({}),Pe=A.forwardRef(({className:e,...t},r)=>{const n=A.useId();return c(yte.Provider,{value:{id:n},children:c("div",{ref:r,className:It("space-y-2",e),...t})})});Pe.displayName="FormItem";const Te=A.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:a}=O3();return c(Kt,{ref:r,className:It(n&&"text-destructive",e),htmlFor:a,...t})});Te.displayName="FormLabel";const Oe=A.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:i}=O3();return c(KV,{ref:t,id:n,"aria-describedby":r?`${a} ${i}`:`${a}`,"aria-invalid":!!r,...e})});Oe.displayName="FormControl";const Ai=A.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=O3();return c("p",{ref:r,id:n,className:It("text-sm text-muted-foreground",e),...t})});Ai.displayName="FormDescription";const Xe=A.forwardRef(({className:e,children:t,...r},n)=>{const{error:a,formMessageId:i}=O3(),o=a?String(a==null?void 0:a.message):t;return o?c("p",{ref:n,id:i,className:It("text-sm font-medium text-destructive",e),...r,children:o}):null});Xe.displayName="FormMessage";var Un;(function(e){e.assertEqual=a=>a;function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(s=>typeof a[a[s]]!="number"),o={};for(const s of i)o[s]=a[s];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(Un||(Un={}));var YO;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(YO||(YO={}));const yr=Un.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),rh=e=>{switch(typeof e){case"undefined":return yr.undefined;case"string":return yr.string;case"number":return isNaN(e)?yr.nan:yr.number;case"boolean":return yr.boolean;case"function":return yr.function;case"bigint":return yr.bigint;case"symbol":return yr.symbol;case"object":return Array.isArray(e)?yr.array:e===null?yr.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?yr.promise:typeof Map<"u"&&e instanceof Map?yr.map:typeof Set<"u"&&e instanceof Set?yr.set:typeof Date<"u"&&e instanceof Date?yr.date:yr.object;default:return yr.unknown}},qt=Un.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),h8e=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class mc extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let s=n,l=0;for(;l<o.path.length;){const u=o.path[l];l===o.path.length-1?(s[u]=s[u]||{_errors:[]},s[u]._errors.push(r(o))):s[u]=s[u]||{_errors:[]},s=s[u],l++}}};return a(this),n}static assert(t){if(!(t instanceof mc))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Un.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(t(a))):n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}mc.create=e=>new mc(e);const U1=(e,t)=>{let r;switch(e.code){case qt.invalid_type:e.received===yr.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case qt.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Un.jsonStringifyReplacer)}`;break;case qt.unrecognized_keys:r=`Unrecognized key(s) in object: ${Un.joinValues(e.keys,", ")}`;break;case qt.invalid_union:r="Invalid input";break;case qt.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Un.joinValues(e.options)}`;break;case qt.invalid_enum_value:r=`Invalid enum value. Expected ${Un.joinValues(e.options)}, received '${e.received}'`;break;case qt.invalid_arguments:r="Invalid function arguments";break;case qt.invalid_return_type:r="Invalid function return type";break;case qt.invalid_date:r="Invalid date";break;case qt.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Un.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case qt.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case qt.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case qt.custom:r="Invalid input";break;case qt.invalid_intersection_types:r="Intersection results could not be merged";break;case qt.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case qt.not_finite:r="Number must be finite";break;default:r=t.defaultError,Un.assertNever(e)}return{message:r}};let xte=U1;function p8e(e){xte=e}function SS(){return xte}const AS=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,i=[...r,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let s="";const l=n.filter(u=>!!u).slice().reverse();for(const u of l)s=u(o,{data:t,defaultError:s}).message;return{...a,path:i,message:s}},m8e=[];function lr(e,t){const r=SS(),n=AS({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===U1?void 0:U1].filter(a=>!!a)});e.common.issues.push(n)}class Ms{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return on;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const i=await a.key,o=await a.value;n.push({key:i,value:o})}return Ms.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return on;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const on=Object.freeze({status:"aborted"}),Bv=e=>({status:"dirty",value:e}),ul=e=>({status:"valid",value:e}),XO=e=>e.status==="aborted",ZO=e=>e.status==="dirty",ng=e=>e.status==="valid",Vx=e=>typeof Promise<"u"&&e instanceof Promise;function kS(e,t,r,n){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function wte(e,t,r,n,a){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var Pr;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Pr||(Pr={}));var w2,_2;class cf{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Sz=(e,t)=>{if(ng(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new mc(e.common.issues);return this._error=r,this._error}}};function yn(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,s)=>{var l,u;const{message:d}=e;return o.code==="invalid_enum_value"?{message:d??s.defaultError}:typeof s.data>"u"?{message:(l=d??n)!==null&&l!==void 0?l:s.defaultError}:o.code!=="invalid_type"?{message:s.defaultError}:{message:(u=d??r)!==null&&u!==void 0?u:s.defaultError}},description:a}}class Nn{get description(){return this._def.description}_getType(t){return rh(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:rh(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Ms,ctx:{common:t.parent.common,data:t.data,parsedType:rh(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Vx(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;const a={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:rh(t)},i=this._parseSync({data:t,path:a.path,parent:a});return Sz(a,i)}"~validate"(t){var r,n;const a={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:rh(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:a});return ng(i)?{value:i.value}:{issues:a.common.issues}}catch(i){!((n=(r=i==null?void 0:i.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),a.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:a}).then(i=>ng(i)?{value:i.value}:{issues:a.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:rh(t)},a=this._parse({data:t,path:n.path,parent:n}),i=await(Vx(a)?a:Promise.resolve(a));return Sz(n,i)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const o=t(a),s=()=>i.addIssue({code:qt.custom,...n(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(s(),!1)):o?!0:(s(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new Qu({schema:this,typeName:Qr.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return tf.create(this,this._def)}nullable(){return p0.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Vu.create(this)}promise(){return z1.create(this,this._def)}or(t){return Xx.create([this,t],this._def)}and(t){return Zx.create(this,t,this._def)}transform(t){return new Qu({...yn(this._def),schema:this,typeName:Qr.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new rw({...yn(this._def),innerType:this,defaultValue:r,typeName:Qr.ZodDefault})}brand(){return new aR({typeName:Qr.ZodBranded,type:this,...yn(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new nw({...yn(this._def),innerType:this,catchValue:r,typeName:Qr.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return Kw.create(this,t)}readonly(){return aw.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const g8e=/^c[^\s-]{8,}$/i,v8e=/^[0-9a-z]+$/,y8e=/^[0-9A-HJKMNP-TV-Z]{26}$/i,x8e=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,w8e=/^[a-z0-9_-]{21}$/i,_8e=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,b8e=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,S8e=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,A8e="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let jT;const k8e=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,N8e=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,E8e=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,C8e=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,T8e=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,P8e=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,_te="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",O8e=new RegExp(`^${_te}$`);function bte(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function D8e(e){return new RegExp(`^${bte(e)}$`)}function Ste(e){let t=`${_te}T${bte(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function I8e(e,t){return!!((t==="v4"||!t)&&k8e.test(e)||(t==="v6"||!t)&&E8e.test(e))}function R8e(e,t){if(!_8e.test(e))return!1;try{const[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||!a.typ||!a.alg||t&&a.alg!==t)}catch{return!1}}function M8e(e,t){return!!((t==="v4"||!t)&&N8e.test(e)||(t==="v6"||!t)&&C8e.test(e))}class Bu extends Nn{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==yr.string){const i=this._getOrReturnCtx(t);return lr(i,{code:qt.invalid_type,expected:yr.string,received:i.parsedType}),on}const n=new Ms;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),lr(a,{code:qt.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),lr(a,{code:qt.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,s=t.data.length<i.value;(o||s)&&(a=this._getOrReturnCtx(t,a),o?lr(a,{code:qt.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):s&&lr(a,{code:qt.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")S8e.test(t.data)||(a=this._getOrReturnCtx(t,a),lr(a,{validation:"email",code:qt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")jT||(jT=new RegExp(A8e,"u")),jT.test(t.data)||(a=this._getOrReturnCtx(t,a),lr(a,{validation:"emoji",code:qt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")x8e.test(t.data)||(a=this._getOrReturnCtx(t,a),lr(a,{validation:"uuid",code:qt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")w8e.test(t.data)||(a=this._getOrReturnCtx(t,a),lr(a,{validation:"nanoid",code:qt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")g8e.test(t.data)||(a=this._getOrReturnCtx(t,a),lr(a,{validation:"cuid",code:qt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")v8e.test(t.data)||(a=this._getOrReturnCtx(t,a),lr(a,{validation:"cuid2",code:qt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")y8e.test(t.data)||(a=this._getOrReturnCtx(t,a),lr(a,{validation:"ulid",code:qt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),lr(a,{validation:"url",code:qt.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),lr(a,{validation:"regex",code:qt.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),lr(a,{code:qt.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),lr(a,{code:qt.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),lr(a,{code:qt.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?Ste(i).test(t.data)||(a=this._getOrReturnCtx(t,a),lr(a,{code:qt.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?O8e.test(t.data)||(a=this._getOrReturnCtx(t,a),lr(a,{code:qt.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?D8e(i).test(t.data)||(a=this._getOrReturnCtx(t,a),lr(a,{code:qt.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?b8e.test(t.data)||(a=this._getOrReturnCtx(t,a),lr(a,{validation:"duration",code:qt.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?I8e(t.data,i.version)||(a=this._getOrReturnCtx(t,a),lr(a,{validation:"ip",code:qt.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?R8e(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),lr(a,{validation:"jwt",code:qt.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?M8e(t.data,i.version)||(a=this._getOrReturnCtx(t,a),lr(a,{validation:"cidr",code:qt.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?T8e.test(t.data)||(a=this._getOrReturnCtx(t,a),lr(a,{validation:"base64",code:qt.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?P8e.test(t.data)||(a=this._getOrReturnCtx(t,a),lr(a,{validation:"base64url",code:qt.invalid_string,message:i.message}),n.dirty()):Un.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:qt.invalid_string,...Pr.errToObj(n)})}_addCheck(t){return new Bu({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Pr.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Pr.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Pr.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Pr.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Pr.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Pr.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Pr.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Pr.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Pr.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Pr.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Pr.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Pr.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Pr.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(n=t==null?void 0:t.local)!==null&&n!==void 0?n:!1,...Pr.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Pr.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Pr.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Pr.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Pr.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Pr.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Pr.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Pr.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Pr.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Pr.errToObj(r)})}nonempty(t){return this.min(1,Pr.errToObj(t))}trim(){return new Bu({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Bu({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Bu({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Bu.create=e=>{var t;return new Bu({checks:[],typeName:Qr.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...yn(e)})};function F8e(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,i=parseInt(e.toFixed(a).replace(".","")),o=parseInt(t.toFixed(a).replace(".",""));return i%o/Math.pow(10,a)}class d0 extends Nn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==yr.number){const i=this._getOrReturnCtx(t);return lr(i,{code:qt.invalid_type,expected:yr.number,received:i.parsedType}),on}let n;const a=new Ms;for(const i of this._def.checks)i.kind==="int"?Un.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),lr(n,{code:qt.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),lr(n,{code:qt.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),lr(n,{code:qt.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?F8e(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),lr(n,{code:qt.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),lr(n,{code:qt.not_finite,message:i.message}),a.dirty()):Un.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Pr.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Pr.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Pr.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Pr.toString(r))}setLimit(t,r,n,a){return new d0({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Pr.toString(a)}]})}_addCheck(t){return new d0({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Pr.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Pr.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Pr.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Pr.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Pr.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Pr.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Pr.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Pr.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Pr.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Un.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}d0.create=e=>new d0({checks:[],typeName:Qr.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...yn(e)});class f0 extends Nn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==yr.bigint)return this._getInvalidInput(t);let n;const a=new Ms;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),lr(n,{code:qt.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),lr(n,{code:qt.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),lr(n,{code:qt.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):Un.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return lr(r,{code:qt.invalid_type,expected:yr.bigint,received:r.parsedType}),on}gte(t,r){return this.setLimit("min",t,!0,Pr.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Pr.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Pr.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Pr.toString(r))}setLimit(t,r,n,a){return new f0({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Pr.toString(a)}]})}_addCheck(t){return new f0({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Pr.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Pr.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Pr.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Pr.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Pr.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}f0.create=e=>{var t;return new f0({checks:[],typeName:Qr.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...yn(e)})};class Gx extends Nn{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==yr.boolean){const n=this._getOrReturnCtx(t);return lr(n,{code:qt.invalid_type,expected:yr.boolean,received:n.parsedType}),on}return ul(t.data)}}Gx.create=e=>new Gx({typeName:Qr.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...yn(e)});class ag extends Nn{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==yr.date){const i=this._getOrReturnCtx(t);return lr(i,{code:qt.invalid_type,expected:yr.date,received:i.parsedType}),on}if(isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return lr(i,{code:qt.invalid_date}),on}const n=new Ms;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),lr(a,{code:qt.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),lr(a,{code:qt.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Un.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new ag({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Pr.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Pr.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}ag.create=e=>new ag({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Qr.ZodDate,...yn(e)});class NS extends Nn{_parse(t){if(this._getType(t)!==yr.symbol){const n=this._getOrReturnCtx(t);return lr(n,{code:qt.invalid_type,expected:yr.symbol,received:n.parsedType}),on}return ul(t.data)}}NS.create=e=>new NS({typeName:Qr.ZodSymbol,...yn(e)});class Kx extends Nn{_parse(t){if(this._getType(t)!==yr.undefined){const n=this._getOrReturnCtx(t);return lr(n,{code:qt.invalid_type,expected:yr.undefined,received:n.parsedType}),on}return ul(t.data)}}Kx.create=e=>new Kx({typeName:Qr.ZodUndefined,...yn(e)});class Yx extends Nn{_parse(t){if(this._getType(t)!==yr.null){const n=this._getOrReturnCtx(t);return lr(n,{code:qt.invalid_type,expected:yr.null,received:n.parsedType}),on}return ul(t.data)}}Yx.create=e=>new Yx({typeName:Qr.ZodNull,...yn(e)});class q1 extends Nn{constructor(){super(...arguments),this._any=!0}_parse(t){return ul(t.data)}}q1.create=e=>new q1({typeName:Qr.ZodAny,...yn(e)});class $m extends Nn{constructor(){super(...arguments),this._unknown=!0}_parse(t){return ul(t.data)}}$m.create=e=>new $m({typeName:Qr.ZodUnknown,...yn(e)});class bh extends Nn{_parse(t){const r=this._getOrReturnCtx(t);return lr(r,{code:qt.invalid_type,expected:yr.never,received:r.parsedType}),on}}bh.create=e=>new bh({typeName:Qr.ZodNever,...yn(e)});class ES extends Nn{_parse(t){if(this._getType(t)!==yr.undefined){const n=this._getOrReturnCtx(t);return lr(n,{code:qt.invalid_type,expected:yr.void,received:n.parsedType}),on}return ul(t.data)}}ES.create=e=>new ES({typeName:Qr.ZodVoid,...yn(e)});class Vu extends Nn{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==yr.array)return lr(r,{code:qt.invalid_type,expected:yr.array,received:r.parsedType}),on;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,s=r.data.length<a.exactLength.value;(o||s)&&(lr(r,{code:o?qt.too_big:qt.too_small,minimum:s?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(lr(r,{code:qt.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(lr(r,{code:qt.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,s)=>a.type._parseAsync(new cf(r,o,r.path,s)))).then(o=>Ms.mergeArray(n,o));const i=[...r.data].map((o,s)=>a.type._parseSync(new cf(r,o,r.path,s)));return Ms.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new Vu({...this._def,minLength:{value:t,message:Pr.toString(r)}})}max(t,r){return new Vu({...this._def,maxLength:{value:t,message:Pr.toString(r)}})}length(t,r){return new Vu({...this._def,exactLength:{value:t,message:Pr.toString(r)}})}nonempty(t){return this.min(1,t)}}Vu.create=(e,t)=>new Vu({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Qr.ZodArray,...yn(t)});function Dv(e){if(e instanceof di){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=tf.create(Dv(n))}return new di({...e._def,shape:()=>t})}else return e instanceof Vu?new Vu({...e._def,type:Dv(e.element)}):e instanceof tf?tf.create(Dv(e.unwrap())):e instanceof p0?p0.create(Dv(e.unwrap())):e instanceof uf?uf.create(e.items.map(t=>Dv(t))):e}class di extends Nn{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Un.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==yr.object){const u=this._getOrReturnCtx(t);return lr(u,{code:qt.invalid_type,expected:yr.object,received:u.parsedType}),on}const{status:n,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),s=[];if(!(this._def.catchall instanceof bh&&this._def.unknownKeys==="strip"))for(const u in a.data)o.includes(u)||s.push(u);const l=[];for(const u of o){const d=i[u],f=a.data[u];l.push({key:{status:"valid",value:u},value:d._parse(new cf(a,f,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof bh){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of s)l.push({key:{status:"valid",value:d},value:{status:"valid",value:a.data[d]}});else if(u==="strict")s.length>0&&(lr(a,{code:qt.unrecognized_keys,keys:s}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of s){const f=a.data[d];l.push({key:{status:"valid",value:d},value:u._parse(new cf(a,f,a.path,d)),alwaysSet:d in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of l){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>Ms.mergeObjectSync(n,u)):Ms.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(t){return Pr.errToObj,new di({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var a,i,o,s;const l=(o=(i=(a=this._def).errorMap)===null||i===void 0?void 0:i.call(a,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(s=Pr.errToObj(t).message)!==null&&s!==void 0?s:l}:{message:l}}}:{}})}strip(){return new di({...this._def,unknownKeys:"strip"})}passthrough(){return new di({...this._def,unknownKeys:"passthrough"})}extend(t){return new di({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new di({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Qr.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new di({...this._def,catchall:t})}pick(t){const r={};return Un.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new di({...this._def,shape:()=>r})}omit(t){const r={};return Un.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new di({...this._def,shape:()=>r})}deepPartial(){return Dv(this)}partial(t){const r={};return Un.objectKeys(this.shape).forEach(n=>{const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}),new di({...this._def,shape:()=>r})}required(t){const r={};return Un.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof tf;)i=i._def.innerType;r[n]=i}}),new di({...this._def,shape:()=>r})}keyof(){return Ate(Un.objectKeys(this.shape))}}di.create=(e,t)=>new di({shape:()=>e,unknownKeys:"strip",catchall:bh.create(),typeName:Qr.ZodObject,...yn(t)});di.strictCreate=(e,t)=>new di({shape:()=>e,unknownKeys:"strict",catchall:bh.create(),typeName:Qr.ZodObject,...yn(t)});di.lazycreate=(e,t)=>new di({shape:e,unknownKeys:"strip",catchall:bh.create(),typeName:Qr.ZodObject,...yn(t)});class Xx extends Nn{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(i){for(const s of i)if(s.result.status==="valid")return s.result;for(const s of i)if(s.result.status==="dirty")return r.common.issues.push(...s.ctx.common.issues),s.result;const o=i.map(s=>new mc(s.ctx.common.issues));return lr(r,{code:qt.invalid_union,unionErrors:o}),on}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const l of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=l._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const s=o.map(l=>new mc(l));return lr(r,{code:qt.invalid_union,unionErrors:s}),on}}get options(){return this._def.options}}Xx.create=(e,t)=>new Xx({options:e,typeName:Qr.ZodUnion,...yn(t)});const eh=e=>e instanceof Qx?eh(e.schema):e instanceof Qu?eh(e.innerType()):e instanceof ew?[e.value]:e instanceof h0?e.options:e instanceof tw?Un.objectValues(e.enum):e instanceof rw?eh(e._def.innerType):e instanceof Kx?[void 0]:e instanceof Yx?[null]:e instanceof tf?[void 0,...eh(e.unwrap())]:e instanceof p0?[null,...eh(e.unwrap())]:e instanceof aR||e instanceof aw?eh(e.unwrap()):e instanceof nw?eh(e._def.innerType):[];class D3 extends Nn{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==yr.object)return lr(r,{code:qt.invalid_type,expected:yr.object,received:r.parsedType}),on;const n=this.discriminator,a=r.data[n],i=this.optionsMap.get(a);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(lr(r,{code:qt.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),on)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){const a=new Map;for(const i of r){const o=eh(i.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const s of o){if(a.has(s))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(s)}`);a.set(s,i)}}return new D3({typeName:Qr.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:a,...yn(n)})}}function JO(e,t){const r=rh(e),n=rh(t);if(e===t)return{valid:!0,data:e};if(r===yr.object&&n===yr.object){const a=Un.objectKeys(t),i=Un.objectKeys(e).filter(s=>a.indexOf(s)!==-1),o={...e,...t};for(const s of i){const l=JO(e[s],t[s]);if(!l.valid)return{valid:!1};o[s]=l.data}return{valid:!0,data:o}}else if(r===yr.array&&n===yr.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],s=t[i],l=JO(o,s);if(!l.valid)return{valid:!1};a.push(l.data)}return{valid:!0,data:a}}else return r===yr.date&&n===yr.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Zx extends Nn{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(i,o)=>{if(XO(i)||XO(o))return on;const s=JO(i.value,o.value);return s.valid?((ZO(i)||ZO(o))&&r.dirty(),{status:r.value,value:s.data}):(lr(n,{code:qt.invalid_intersection_types}),on)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Zx.create=(e,t,r)=>new Zx({left:e,right:t,typeName:Qr.ZodIntersection,...yn(r)});class uf extends Nn{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==yr.array)return lr(n,{code:qt.invalid_type,expected:yr.array,received:n.parsedType}),on;if(n.data.length<this._def.items.length)return lr(n,{code:qt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),on;!this._def.rest&&n.data.length>this._def.items.length&&(lr(n,{code:qt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,s)=>{const l=this._def.items[s]||this._def.rest;return l?l._parse(new cf(n,o,n.path,s)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>Ms.mergeArray(r,o)):Ms.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new uf({...this._def,rest:t})}}uf.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new uf({items:e,typeName:Qr.ZodTuple,rest:null,...yn(t)})};class Jx extends Nn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==yr.object)return lr(n,{code:qt.invalid_type,expected:yr.object,received:n.parsedType}),on;const a=[],i=this._def.keyType,o=this._def.valueType;for(const s in n.data)a.push({key:i._parse(new cf(n,s,n.path,s)),value:o._parse(new cf(n,n.data[s],n.path,s)),alwaysSet:s in n.data});return n.common.async?Ms.mergeObjectAsync(r,a):Ms.mergeObjectSync(r,a)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof Nn?new Jx({keyType:t,valueType:r,typeName:Qr.ZodRecord,...yn(n)}):new Jx({keyType:Bu.create(),valueType:t,typeName:Qr.ZodRecord,...yn(r)})}}class CS extends Nn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==yr.map)return lr(n,{code:qt.invalid_type,expected:yr.map,received:n.parsedType}),on;const a=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([s,l],u)=>({key:a._parse(new cf(n,s,n.path,[u,"key"])),value:i._parse(new cf(n,l,n.path,[u,"value"]))}));if(n.common.async){const s=new Map;return Promise.resolve().then(async()=>{for(const l of o){const u=await l.key,d=await l.value;if(u.status==="aborted"||d.status==="aborted")return on;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),s.set(u.value,d.value)}return{status:r.value,value:s}})}else{const s=new Map;for(const l of o){const u=l.key,d=l.value;if(u.status==="aborted"||d.status==="aborted")return on;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),s.set(u.value,d.value)}return{status:r.value,value:s}}}}CS.create=(e,t,r)=>new CS({valueType:t,keyType:e,typeName:Qr.ZodMap,...yn(r)});class ig extends Nn{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==yr.set)return lr(n,{code:qt.invalid_type,expected:yr.set,received:n.parsedType}),on;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(lr(n,{code:qt.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(lr(n,{code:qt.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function o(l){const u=new Set;for(const d of l){if(d.status==="aborted")return on;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const s=[...n.data.values()].map((l,u)=>i._parse(new cf(n,l,n.path,u)));return n.common.async?Promise.all(s).then(l=>o(l)):o(s)}min(t,r){return new ig({...this._def,minSize:{value:t,message:Pr.toString(r)}})}max(t,r){return new ig({...this._def,maxSize:{value:t,message:Pr.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}ig.create=(e,t)=>new ig({valueType:e,minSize:null,maxSize:null,typeName:Qr.ZodSet,...yn(t)});class Jv extends Nn{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==yr.function)return lr(r,{code:qt.invalid_type,expected:yr.function,received:r.parsedType}),on;function n(s,l){return AS({data:s,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,SS(),U1].filter(u=>!!u),issueData:{code:qt.invalid_arguments,argumentsError:l}})}function a(s,l){return AS({data:s,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,SS(),U1].filter(u=>!!u),issueData:{code:qt.invalid_return_type,returnTypeError:l}})}const i={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof z1){const s=this;return ul(async function(...l){const u=new mc([]),d=await s._def.args.parseAsync(l,i).catch(m=>{throw u.addIssue(n(l,m)),u}),f=await Reflect.apply(o,this,d);return await s._def.returns._def.type.parseAsync(f,i).catch(m=>{throw u.addIssue(a(f,m)),u})})}else{const s=this;return ul(function(...l){const u=s._def.args.safeParse(l,i);if(!u.success)throw new mc([n(l,u.error)]);const d=Reflect.apply(o,this,u.data),f=s._def.returns.safeParse(d,i);if(!f.success)throw new mc([a(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Jv({...this._def,args:uf.create(t).rest($m.create())})}returns(t){return new Jv({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new Jv({args:t||uf.create([]).rest($m.create()),returns:r||$m.create(),typeName:Qr.ZodFunction,...yn(n)})}}class Qx extends Nn{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Qx.create=(e,t)=>new Qx({getter:e,typeName:Qr.ZodLazy,...yn(t)});class ew extends Nn{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return lr(r,{received:r.data,code:qt.invalid_literal,expected:this._def.value}),on}return{status:"valid",value:t.data}}get value(){return this._def.value}}ew.create=(e,t)=>new ew({value:e,typeName:Qr.ZodLiteral,...yn(t)});function Ate(e,t){return new h0({values:e,typeName:Qr.ZodEnum,...yn(t)})}class h0 extends Nn{constructor(){super(...arguments),w2.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return lr(r,{expected:Un.joinValues(n),received:r.parsedType,code:qt.invalid_type}),on}if(kS(this,w2)||wte(this,w2,new Set(this._def.values)),!kS(this,w2).has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return lr(r,{received:r.data,code:qt.invalid_enum_value,options:n}),on}return ul(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return h0.create(t,{...this._def,...r})}exclude(t,r=this._def){return h0.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}w2=new WeakMap;h0.create=Ate;class tw extends Nn{constructor(){super(...arguments),_2.set(this,void 0)}_parse(t){const r=Un.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==yr.string&&n.parsedType!==yr.number){const a=Un.objectValues(r);return lr(n,{expected:Un.joinValues(a),received:n.parsedType,code:qt.invalid_type}),on}if(kS(this,_2)||wte(this,_2,new Set(Un.getValidEnumValues(this._def.values))),!kS(this,_2).has(t.data)){const a=Un.objectValues(r);return lr(n,{received:n.data,code:qt.invalid_enum_value,options:a}),on}return ul(t.data)}get enum(){return this._def.values}}_2=new WeakMap;tw.create=(e,t)=>new tw({values:e,typeName:Qr.ZodNativeEnum,...yn(t)});class z1 extends Nn{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==yr.promise&&r.common.async===!1)return lr(r,{code:qt.invalid_type,expected:yr.promise,received:r.parsedType}),on;const n=r.parsedType===yr.promise?r.data:Promise.resolve(r.data);return ul(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}z1.create=(e,t)=>new z1({type:e,typeName:Qr.ZodPromise,...yn(t)});class Qu extends Nn{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Qr.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{lr(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async s=>{if(r.value==="aborted")return on;const l=await this._def.schema._parseAsync({data:s,path:n.path,parent:n});return l.status==="aborted"?on:l.status==="dirty"||r.value==="dirty"?Bv(l.value):l});{if(r.value==="aborted")return on;const s=this._def.schema._parseSync({data:o,path:n.path,parent:n});return s.status==="aborted"?on:s.status==="dirty"||r.value==="dirty"?Bv(s.value):s}}if(a.type==="refinement"){const o=s=>{const l=a.refinement(s,i);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return s};if(n.common.async===!1){const s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?on:(s.status==="dirty"&&r.dirty(),o(s.value),{status:r.value,value:s.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>s.status==="aborted"?on:(s.status==="dirty"&&r.dirty(),o(s.value).then(()=>({status:r.value,value:s.value}))))}if(a.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!ng(o))return o;const s=a.transform(o.value,i);if(s instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:s}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>ng(o)?Promise.resolve(a.transform(o.value,i)).then(s=>({status:r.value,value:s})):o);Un.assertNever(a)}}Qu.create=(e,t,r)=>new Qu({schema:e,typeName:Qr.ZodEffects,effect:t,...yn(r)});Qu.createWithPreprocess=(e,t,r)=>new Qu({schema:t,effect:{type:"preprocess",transform:e},typeName:Qr.ZodEffects,...yn(r)});class tf extends Nn{_parse(t){return this._getType(t)===yr.undefined?ul(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}tf.create=(e,t)=>new tf({innerType:e,typeName:Qr.ZodOptional,...yn(t)});class p0 extends Nn{_parse(t){return this._getType(t)===yr.null?ul(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}p0.create=(e,t)=>new p0({innerType:e,typeName:Qr.ZodNullable,...yn(t)});class rw extends Nn{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===yr.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}rw.create=(e,t)=>new rw({innerType:e,typeName:Qr.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...yn(t)});class nw extends Nn{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Vx(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new mc(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new mc(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}nw.create=(e,t)=>new nw({innerType:e,typeName:Qr.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...yn(t)});class TS extends Nn{_parse(t){if(this._getType(t)!==yr.nan){const n=this._getOrReturnCtx(t);return lr(n,{code:qt.invalid_type,expected:yr.nan,received:n.parsedType}),on}return{status:"valid",value:t.data}}}TS.create=e=>new TS({typeName:Qr.ZodNaN,...yn(e)});const L8e=Symbol("zod_brand");class aR extends Nn{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Kw extends Nn{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?on:i.status==="dirty"?(r.dirty(),Bv(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?on:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new Kw({in:t,out:r,typeName:Qr.ZodPipeline})}}class aw extends Nn{_parse(t){const r=this._def.innerType._parse(t),n=a=>(ng(a)&&(a.value=Object.freeze(a.value)),a);return Vx(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}aw.create=(e,t)=>new aw({innerType:e,typeName:Qr.ZodReadonly,...yn(t)});function Az(e,t){const r=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof r=="string"?{message:r}:r}function kte(e,t={},r){return e?q1.create().superRefine((n,a)=>{var i,o;const s=e(n);if(s instanceof Promise)return s.then(l=>{var u,d;if(!l){const f=Az(t,n),h=(d=(u=f.fatal)!==null&&u!==void 0?u:r)!==null&&d!==void 0?d:!0;a.addIssue({code:"custom",...f,fatal:h})}});if(!s){const l=Az(t,n),u=(o=(i=l.fatal)!==null&&i!==void 0?i:r)!==null&&o!==void 0?o:!0;a.addIssue({code:"custom",...l,fatal:u})}}):q1.create()}const j8e={object:di.lazycreate};var Qr;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Qr||(Qr={}));const $8e=(e,t={message:`Input not instance of ${e.name}`})=>kte(r=>r instanceof e,t),Qo=Bu.create,$2=d0.create,B8e=TS.create,U8e=f0.create,iR=Gx.create,Nte=ag.create,q8e=NS.create,z8e=Kx.create,W8e=Yx.create,H8e=q1.create,V8e=$m.create,G8e=bh.create,K8e=ES.create,Ete=Vu.create,I3=di.create,Y8e=di.strictCreate,X8e=Xx.create,Z8e=D3.create,J8e=Zx.create,Q8e=uf.create,eDe=Jx.create,tDe=CS.create,rDe=ig.create,nDe=Jv.create,aDe=Qx.create,iDe=ew.create,iw=h0.create,oDe=tw.create,sDe=z1.create,kz=Qu.create,lDe=tf.create,cDe=p0.create,uDe=Qu.createWithPreprocess,dDe=Kw.create,fDe=()=>Qo().optional(),hDe=()=>$2().optional(),pDe=()=>iR().optional(),oR={string:e=>Bu.create({...e,coerce:!0}),number:e=>d0.create({...e,coerce:!0}),boolean:e=>Gx.create({...e,coerce:!0}),bigint:e=>f0.create({...e,coerce:!0}),date:e=>ag.create({...e,coerce:!0})},mDe=on;var Le=Object.freeze({__proto__:null,defaultErrorMap:U1,setErrorMap:p8e,getErrorMap:SS,makeIssue:AS,EMPTY_PATH:m8e,addIssueToContext:lr,ParseStatus:Ms,INVALID:on,DIRTY:Bv,OK:ul,isAborted:XO,isDirty:ZO,isValid:ng,isAsync:Vx,get util(){return Un},get objectUtil(){return YO},ZodParsedType:yr,getParsedType:rh,ZodType:Nn,datetimeRegex:Ste,ZodString:Bu,ZodNumber:d0,ZodBigInt:f0,ZodBoolean:Gx,ZodDate:ag,ZodSymbol:NS,ZodUndefined:Kx,ZodNull:Yx,ZodAny:q1,ZodUnknown:$m,ZodNever:bh,ZodVoid:ES,ZodArray:Vu,ZodObject:di,ZodUnion:Xx,ZodDiscriminatedUnion:D3,ZodIntersection:Zx,ZodTuple:uf,ZodRecord:Jx,ZodMap:CS,ZodSet:ig,ZodFunction:Jv,ZodLazy:Qx,ZodLiteral:ew,ZodEnum:h0,ZodNativeEnum:tw,ZodPromise:z1,ZodEffects:Qu,ZodTransformer:Qu,ZodOptional:tf,ZodNullable:p0,ZodDefault:rw,ZodCatch:nw,ZodNaN:TS,BRAND:L8e,ZodBranded:aR,ZodPipeline:Kw,ZodReadonly:aw,custom:kte,Schema:Nn,ZodSchema:Nn,late:j8e,get ZodFirstPartyTypeKind(){return Qr},coerce:oR,any:H8e,array:Ete,bigint:U8e,boolean:iR,date:Nte,discriminatedUnion:Z8e,effect:kz,enum:iw,function:nDe,instanceof:$8e,intersection:J8e,lazy:aDe,literal:iDe,map:tDe,nan:B8e,nativeEnum:oDe,never:G8e,null:W8e,nullable:cDe,number:$2,object:I3,oboolean:pDe,onumber:hDe,optional:lDe,ostring:fDe,pipeline:dDe,preprocess:uDe,promise:sDe,record:eDe,set:rDe,strictObject:Y8e,string:Qo,symbol:q8e,transformer:kz,tuple:Q8e,undefined:z8e,union:X8e,unknown:V8e,void:K8e,NEVER:mDe,ZodIssueCode:qt,quotelessJson:h8e,ZodError:mc});const qp=Le.object({first_name:Le.string().min(1,"First name is required"),last_name:Le.string().min(1,"Last name is required"),middle_name:Le.string().optional(),gender:Le.enum(["male","female","other"]),age:Le.preprocess(e=>e===""||e===null||e===void 0?null:Number(e),Le.number().int().positive("Age must be a positive number").nullable().optional()),marital_status:Le.enum(["single","married","divorced","widowed","separated","other"]).optional(),occupation:Le.string().optional()});function gDe(){const e=ru();return w("div",{className:"space-y-6",children:[w("div",{className:"space-y-2",children:[c("h3",{className:"text-lg font-medium",children:"Basic Information"}),c("p",{className:"text-sm text-muted-foreground",children:"Enter the patient's basic personal information."})]}),w("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[c(Ge,{control:e.control,name:"first_name",render:({field:t})=>w(Pe,{children:[c(Te,{children:"First Name"}),c(Oe,{children:c(ot,{placeholder:"John",...t})}),c(Xe,{})]})}),c(Ge,{control:e.control,name:"middle_name",render:({field:t})=>w(Pe,{children:[c(Te,{children:"Middle Name"}),c(Oe,{children:c(ot,{placeholder:"Michael",...t})}),c(Xe,{})]})}),c(Ge,{control:e.control,name:"last_name",render:({field:t})=>w(Pe,{children:[c(Te,{children:"Last Name"}),c(Oe,{children:c(ot,{placeholder:"Doe",...t})}),c(Xe,{})]})}),c(Ge,{control:e.control,name:"gender",render:({field:t})=>w(Pe,{children:[c(Te,{children:"Gender"}),w(zr,{onValueChange:t.onChange,defaultValue:t.value,children:[c(Oe,{children:c(Br,{children:c(Wr,{placeholder:"Select gender"})})}),w(Ur,{children:[c(wt,{value:"male",children:"Male"}),c(wt,{value:"female",children:"Female"}),c(wt,{value:"other",children:"Other"})]})]}),c(Xe,{})]})}),c(Ge,{control:e.control,name:"age",render:({field:t})=>w(Pe,{children:[c(Te,{children:"Age"}),c(Oe,{children:c(ot,{type:"number",placeholder:"25",...t,value:t.value??"",onChange:r=>t.onChange(r.target.value===""?null:r.target.valueAsNumber)})}),c(Xe,{})]})}),c(Ge,{control:e.control,name:"marital_status",render:({field:t})=>w(Pe,{children:[c(Te,{children:"Marital Status"}),w(zr,{onValueChange:t.onChange,defaultValue:t.value,children:[c(Oe,{children:c(Br,{children:c(Wr,{placeholder:"Select status"})})}),w(Ur,{children:[c(wt,{value:"single",children:"Single"}),c(wt,{value:"married",children:"Married"}),c(wt,{value:"divorced",children:"Divorced"}),c(wt,{value:"widowed",children:"Widowed"}),c(wt,{value:"separated",children:"Separated"}),c(wt,{value:"other",children:"Other"})]})]}),c(Xe,{})]})}),c(Ge,{control:e.control,name:"occupation",render:({field:t})=>w(Pe,{children:[c(Te,{children:"Occupation"}),c(Oe,{children:c(ot,{placeholder:"Software Engineer",...t})}),c(Xe,{})]})})]})]})}const sR=Le.object({phone:Le.string().min(1,"Phone number is required").regex(/^\+?[1-9]\d{1,14}$/,"Invalid phone number format. Use E.164 format: +1234567890"),email:Le.string().email("Invalid email address").optional().nullable(),address:Le.string().optional(),city:Le.string().optional(),state:Le.string().optional(),postal_code:Le.string().optional(),country:Le.string().default("USA"),emergency_contact_name:Le.string().optional(),emergency_contact_phone:Le.string().regex(/^\+?[1-9]\d{1,14}$/,"Invalid phone number format").optional(),emergency_contact_relationship:Le.string().optional()});function vDe(){const e=ru();return w("div",{className:"space-y-6",children:[w("div",{className:"space-y-2",children:[c("h3",{className:"text-lg font-medium",children:"Contact Information"}),c("p",{className:"text-sm text-muted-foreground",children:"Provide contact details for communication."})]}),w("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c(Ge,{control:e.control,name:"phone",render:({field:t})=>w(Pe,{children:[c(Te,{children:"Phone Number"}),c(Oe,{children:c(ot,{placeholder:"+1234567890",...t})}),c(Xe,{})]})}),c(Ge,{control:e.control,name:"email",render:({field:t})=>w(Pe,{children:[c(Te,{children:"Email Address"}),c(Oe,{children:c(ot,{type:"email",placeholder:"john@example.com",...t})}),c(Xe,{})]})})]}),w("div",{className:"space-y-2",children:[c("h3",{className:"text-lg font-medium",children:"Address Information"}),c("p",{className:"text-sm text-muted-foreground",children:"Enter the patient's residential address."})]}),w("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c(Ge,{control:e.control,name:"address",render:({field:t})=>w(Pe,{className:"col-span-2",children:[c(Te,{children:"Street Address"}),c(Oe,{children:c(ot,{placeholder:"123 Main St",...t})}),c(Xe,{})]})}),c(Ge,{control:e.control,name:"city",render:({field:t})=>w(Pe,{children:[c(Te,{children:"City"}),c(Oe,{children:c(ot,{placeholder:"New York",...t})}),c(Xe,{})]})}),c(Ge,{control:e.control,name:"state",render:({field:t})=>w(Pe,{children:[c(Te,{children:"State"}),c(Oe,{children:c(ot,{placeholder:"NY",...t})}),c(Xe,{})]})}),c(Ge,{control:e.control,name:"postal_code",render:({field:t})=>w(Pe,{children:[c(Te,{children:"Postal Code"}),c(Oe,{children:c(ot,{placeholder:"10001",...t})}),c(Xe,{})]})}),c(Ge,{control:e.control,name:"country",render:({field:t})=>w(Pe,{children:[c(Te,{children:"Country"}),c(Oe,{children:c(ot,{placeholder:"USA",...t})}),c(Xe,{})]})})]}),w("div",{className:"space-y-2",children:[c("h3",{className:"text-lg font-medium",children:"Emergency Contact"}),c("p",{className:"text-sm text-muted-foreground",children:"Provide emergency contact information."})]}),w("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c(Ge,{control:e.control,name:"emergency_contact_name",render:({field:t})=>w(Pe,{children:[c(Te,{children:"Contact Name"}),c(Oe,{children:c(ot,{placeholder:"Jane Doe",...t})}),c(Xe,{})]})}),c(Ge,{control:e.control,name:"emergency_contact_phone",render:({field:t})=>w(Pe,{children:[c(Te,{children:"Contact Phone"}),c(Oe,{children:c(ot,{placeholder:"+1234567890",...t})}),c(Xe,{})]})}),c(Ge,{control:e.control,name:"emergency_contact_relationship",render:({field:t})=>w(Pe,{children:[c(Te,{children:"Relationship"}),c(Oe,{children:c(ot,{placeholder:"Spouse",...t})}),c(Xe,{})]})})]})]})}var lR="Radio",[yDe,Cte]=Xi(lR),[xDe,wDe]=yDe(lR),Tte=A.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:a=!1,required:i,disabled:o,value:s="on",onCheck:l,form:u,...d}=e,[f,h]=A.useState(null),m=Hr(t,y=>h(y)),x=A.useRef(!1),g=f?u||!!f.closest("form"):!0;return w(xDe,{scope:r,checked:a,disabled:o,children:[c(pr.button,{type:"button",role:"radio","aria-checked":a,"data-state":Ite(a),"data-disabled":o?"":void 0,disabled:o,value:s,...d,ref:m,onClick:Ut(e.onClick,y=>{a||l==null||l(),g&&(x.current=y.isPropagationStopped(),x.current||y.stopPropagation())})}),g&&c(Dte,{control:f,bubbles:!x.current,name:n,value:s,checked:a,required:i,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});Tte.displayName=lR;var Pte="RadioIndicator",Ote=A.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...a}=e,i=wDe(Pte,r);return c(is,{present:n||i.checked,children:c(pr.span,{"data-state":Ite(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t})})});Ote.displayName=Pte;var _De="RadioBubbleInput",Dte=A.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const o=A.useRef(null),s=Hr(o,i),l=F4(r),u=_4(t);return A.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==r&&m){const x=new Event("click",{bubbles:n});m.call(d,r),d.dispatchEvent(x)}},[l,r,n]),c(pr.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:s,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Dte.displayName=_De;function Ite(e){return e?"checked":"unchecked"}var bDe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],R3="RadioGroup",[SDe,DJe]=Xi(R3,[iy,Cte]),Rte=iy(),Mte=Cte(),[ADe,kDe]=SDe(R3),Fte=A.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:a,value:i,required:o=!1,disabled:s=!1,orientation:l,dir:u,loop:d=!0,onValueChange:f,...h}=e,m=Rte(r),x=mg(u),[g,y]=ll({prop:i,defaultProp:a??"",onChange:f,caller:R3});return c(ADe,{scope:r,name:n,required:o,disabled:s,value:g,onValueChange:y,children:c(oD,{asChild:!0,...m,orientation:l,dir:x,loop:d,children:c(pr.div,{role:"radiogroup","aria-required":o,"aria-orientation":l,"data-disabled":s?"":void 0,dir:x,...h,ref:t})})})});Fte.displayName=R3;var Lte="RadioGroupItem",jte=A.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...a}=e,i=kDe(Lte,r),o=i.disabled||n,s=Rte(r),l=Mte(r),u=A.useRef(null),d=Hr(t,u),f=i.value===a.value,h=A.useRef(!1);return A.useEffect(()=>{const m=g=>{bDe.includes(g.key)&&(h.current=!0)},x=()=>h.current=!1;return document.addEventListener("keydown",m),document.addEventListener("keyup",x),()=>{document.removeEventListener("keydown",m),document.removeEventListener("keyup",x)}},[]),c(sD,{asChild:!0,...s,focusable:!o,active:f,children:c(Tte,{disabled:o,required:i.required,checked:f,...l,...a,name:i.name,ref:d,onCheck:()=>i.onValueChange(a.value),onKeyDown:Ut(m=>{m.key==="Enter"&&m.preventDefault()}),onFocus:Ut(a.onFocus,()=>{var m;h.current&&((m=u.current)==null||m.click())})})})});jte.displayName=Lte;var NDe="RadioGroupIndicator",$te=A.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,a=Mte(r);return c(Ote,{...a,...n,ref:t})});$te.displayName=NDe;var Bte=Fte,Ute=jte,EDe=$te;const Fo=A.forwardRef(({className:e,...t},r)=>c(Bte,{className:It("grid gap-2",e),...t,ref:r}));Fo.displayName=Bte.displayName;const In=A.forwardRef(({className:e,...t},r)=>c(Ute,{ref:r,className:It("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:c(EDe,{className:"flex items-center justify-center",children:c(BV,{className:"h-2.5 w-2.5 fill-current text-current"})})}));In.displayName=Ute.displayName;const CDe=[{id:"penicillin",label:"Penicillin"},{id:"amoxicillin",label:"Amoxicillin"},{id:"aspirin",label:"Aspirin"},{id:"ibuprofen",label:"Ibuprofen"},{id:"codeine",label:"Codeine"},{id:"sulfa_drugs",label:"Sulfa Drugs"},{id:"local_anesthetics",label:"Local Anesthetics (e.g., Lidocaine)"},{id:"other_medications",label:"Other Medications (please specify)"}],TDe=[{id:"peanuts",label:"Peanuts"},{id:"tree_nuts",label:"Tree Nuts (e.g., almonds, walnuts)"},{id:"dairy",label:"Dairy Products"},{id:"eggs",label:"Eggs"},{id:"shellfish",label:"Shellfish"},{id:"gluten",label:"Gluten"},{id:"soy",label:"Soy"},{id:"other_food",label:"Other Food Allergies (please specify)"}],PDe=[{id:"pollen",label:"Pollen"},{id:"dust_mites",label:"Dust Mites"},{id:"mold",label:"Mold"},{id:"pet_dander",label:"Pet Dander"},{id:"insect_stings",label:"Insect Stings"},{id:"latex",label:"Latex"},{id:"fragrances",label:"Fragrances/Perfumes"},{id:"other_environmental",label:"Other Environmental Allergies (please specify)"}],ODe=[{id:"nickel_metals",label:"Nickel or Metals"},{id:"chlorhexidine",label:"Chlorhexidine (mouthwash/antiseptic)"},{id:"other",label:"Other (please describe)"}],qte=Le.object({blood_group:Le.enum(["A+","A-","B+","B-","AB+","AB-","O+","O-","unknown"]).optional(),height:Le.preprocess(e=>e===""||e===null||e===void 0?null:Number(e),Le.number().positive("Height must be a positive number").nullable().optional()),weight:Le.preprocess(e=>e===""||e===null||e===void 0?null:Number(e),Le.number().positive("Weight must be a positive number").nullable().optional()),has_allergies:Le.enum(["yes","no"]).optional(),medication_allergies:Le.array(Le.string()).optional(),other_medication_allergy_details:Le.string().optional(),food_allergies:Le.array(Le.string()).optional(),other_food_allergy_details:Le.string().optional(),environmental_allergies:Le.array(Le.string()).optional(),other_environmental_allergy_details:Le.string().optional(),other_allergies:Le.array(Le.string()).optional(),other_allergy_details:Le.string().optional(),other_allergies_manual_input:Le.string().optional(),diagnosed_conditions:Le.array(Le.string()).optional(),other_diagnosed_condition:Le.string().optional(),has_implants:Le.enum(["yes","no"]).optional(),implants_details:Le.string().optional(),taking_medications:Le.enum(["yes","no"]).optional(),current_medications:Le.array(Le.object({name:Le.string().min(1,"Medication name is required"),dosage:Le.string().optional(),frequency:Le.string().optional()})).optional(),recent_health_changes:Le.enum(["yes","no"]).optional(),health_changes_details:Le.string().optional(),previous_surgeries:Le.array(Le.object({type:Le.string().min(1,"Surgery type is required"),date:Le.string().optional(),notes:Le.string().optional()})).optional(),immunizations_up_to_date:Le.enum(["yes","no","not_sure"]).optional(),recent_immunizations:Le.string().optional(),recent_medical_screenings:Le.enum(["yes","no"]).optional(),screenings_details:Le.string().optional(),dental_material_allergies:Le.enum(["yes","no"]).optional(),dental_material_allergies_details:Le.string().optional(),notes:Le.string().optional()}),DDe=[{id:"diabetes",label:"Diabetes"},{id:"heart_disease",label:"Heart Disease"},{id:"hypertension",label:"Hypertension"},{id:"asthma",label:"Asthma"},{id:"bleeding_disorders",label:"Bleeding Disorders"},{id:"kidney_liver_disease",label:"Kidney/Liver Disease"},{id:"respiratory_problems",label:"Respiratory Problems"},{id:"autoimmune_disorders",label:"Autoimmune Disorders"},{id:"osteoporosis",label:"Osteoporosis"}];function IDe(){var s,l,u,d;const e=ru(),{fields:t,append:r,remove:n}=bS({control:e.control,name:"current_medications"}),{fields:a,append:i,remove:o}=bS({control:e.control,name:"previous_surgeries"});return w("div",{className:"space-y-8",children:[" ",w("div",{className:"space-y-2",children:[c("h2",{className:"text-xl font-semibold",children:"Medical Information"}),c("p",{className:"text-sm text-muted-foreground",children:"Provide relevant medical information for the patient."})]}),w("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[c(Ge,{control:e.control,name:"blood_group",render:({field:f})=>w(Pe,{children:[c(Te,{children:"Blood Group"}),w(zr,{onValueChange:f.onChange,defaultValue:f.value||"unknown",children:[c(Oe,{children:c(Br,{children:c(Wr,{placeholder:"Select blood group"})})}),c(Ur,{children:["A+","A-","B+","B-","AB+","AB-","O+","O-","unknown"].map(h=>c(wt,{value:h,children:h==="unknown"?"Unknown":h},h))})]}),c(Xe,{})]})}),c(Ge,{control:e.control,name:"height",render:({field:f})=>w(Pe,{children:[c(Te,{children:"Height (cm)"}),c(Oe,{children:c(ot,{type:"number",placeholder:"175",...f,value:f.value??"",onChange:h=>f.onChange(h.target.value===""?null:h.target.valueAsNumber)})}),c(Xe,{})]})}),c(Ge,{control:e.control,name:"weight",render:({field:f})=>w(Pe,{children:[c(Te,{children:"Weight (kg)"}),c(Oe,{children:c(ot,{type:"number",placeholder:"70",...f,value:f.value??"",onChange:h=>f.onChange(h.target.value===""?null:h.target.valueAsNumber)})}),c(Xe,{})]})})]})," ",w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Allergies"}),c(Ge,{control:e.control,name:"has_allergies",render:({field:f})=>w(Pe,{className:"space-y-3",children:[c(Te,{children:"Do you have any allergies?"}),c(Oe,{children:w(Fo,{onValueChange:f.onChange,value:f.value,className:"flex space-x-4",children:[w(Pe,{className:"flex items-center space-x-2 space-y-0",children:[c(Oe,{children:c(In,{value:"yes"})}),c(Te,{className:"font-normal",children:"Yes"})]}),w(Pe,{className:"flex items-center space-x-2 space-y-0",children:[c(Oe,{children:c(In,{value:"no"})}),c(Te,{className:"font-normal",children:"No"})]})]})}),c(Xe,{})]})}),e.watch("has_allergies")==="yes"&&w("div",{className:"space-y-6 mt-4",children:[" ",c(Ge,{control:e.control,name:"medication_allergies",render:()=>w(Pe,{children:[w("div",{className:"mb-2",children:[c(Te,{className:"text-base font-medium",children:"Medication Allergies"}),c(Ai,{children:"Select all that apply."})]}),c("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:CDe.map(f=>c(Ge,{control:e.control,name:"medication_allergies",render:({field:h})=>{var m;return w(Pe,{className:"flex flex-row items-start space-x-3 space-y-0",children:[c(Oe,{children:c(Ps,{checked:(m=h.value)==null?void 0:m.includes(f.id),onCheckedChange:x=>x?h.onChange([...h.value||[],f.id]):h.onChange((h.value||[]).filter(g=>g!==f.id))})}),c(Te,{className:"font-normal",children:f.label})]})}},f.id))}),c(Xe,{})]})}),((s=e.watch("medication_allergies"))==null?void 0:s.includes("other_medications"))&&c(Ge,{control:e.control,name:"other_medication_allergy_details",render:({field:f})=>w(Pe,{children:[c(Te,{children:"Specify Other Medication Allergies:"}),c(Oe,{children:c(ot,{placeholder:"Details...",...f})}),c(Xe,{})]})}),c(Ge,{control:e.control,name:"food_allergies",render:()=>w(Pe,{children:[w("div",{className:"mb-2",children:[c(Te,{className:"text-base font-medium",children:"Food Allergies"}),c(Ai,{children:"Select all that apply."})]}),c("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:TDe.map(f=>c(Ge,{control:e.control,name:"food_allergies",render:({field:h})=>{var m;return w(Pe,{className:"flex flex-row items-start space-x-3 space-y-0",children:[c(Oe,{children:c(Ps,{checked:(m=h.value)==null?void 0:m.includes(f.id),onCheckedChange:x=>x?h.onChange([...h.value||[],f.id]):h.onChange((h.value||[]).filter(g=>g!==f.id))})}),c(Te,{className:"font-normal",children:f.label})]})}},f.id))}),c(Xe,{})]})}),((l=e.watch("food_allergies"))==null?void 0:l.includes("other_food"))&&c(Ge,{control:e.control,name:"other_food_allergy_details",render:({field:f})=>w(Pe,{children:[c(Te,{children:"Specify Other Food Allergies:"}),c(Oe,{children:c(ot,{placeholder:"Details...",...f})}),c(Xe,{})]})}),c(Ge,{control:e.control,name:"environmental_allergies",render:()=>w(Pe,{children:[w("div",{className:"mb-2",children:[c(Te,{className:"text-base font-medium",children:"Environmental Allergies"}),c(Ai,{children:"Select all that apply."})]}),c("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:PDe.map(f=>c(Ge,{control:e.control,name:"environmental_allergies",render:({field:h})=>{var m;return w(Pe,{className:"flex flex-row items-start space-x-3 space-y-0",children:[c(Oe,{children:c(Ps,{checked:(m=h.value)==null?void 0:m.includes(f.id),onCheckedChange:x=>x?h.onChange([...h.value||[],f.id]):h.onChange((h.value||[]).filter(g=>g!==f.id))})}),c(Te,{className:"font-normal",children:f.label})]})}},f.id))}),c(Xe,{})]})}),((u=e.watch("environmental_allergies"))==null?void 0:u.includes("other_environmental"))&&c(Ge,{control:e.control,name:"other_environmental_allergy_details",render:({field:f})=>w(Pe,{children:[c(Te,{children:"Specify Other Environmental Allergies:"}),c(Oe,{children:c(ot,{placeholder:"Details...",...f})}),c(Xe,{})]})}),c(Ge,{control:e.control,name:"other_allergies",render:()=>w(Pe,{children:[w("div",{className:"mb-2",children:[c(Te,{className:"text-base font-medium",children:"Other Allergies"}),c(Ai,{children:"Select all that apply."})]}),c("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:ODe.map(f=>c(Ge,{control:e.control,name:"other_allergies",render:({field:h})=>{var m;return w(Pe,{className:"flex flex-row items-start space-x-3 space-y-0",children:[c(Oe,{children:c(Ps,{checked:(m=h.value)==null?void 0:m.includes(f.id),onCheckedChange:x=>x?h.onChange([...h.value||[],f.id]):h.onChange((h.value||[]).filter(g=>g!==f.id))})}),c(Te,{className:"font-normal",children:f.label})]})}},f.id))}),c(Xe,{})]})}),((d=e.watch("other_allergies"))==null?void 0:d.includes("other"))&&c(Ge,{control:e.control,name:"other_allergy_details",render:({field:f})=>w(Pe,{children:[c(Te,{children:"Describe Other Allergies:"}),c(Oe,{children:c(Yr,{placeholder:"Details...",...f})}),c(Xe,{})]})}),c(Ge,{control:e.control,name:"other_allergies_manual_input",render:({field:f})=>w(Pe,{children:[c(Te,{children:"Manually List Any Other Allergies:"}),c(Oe,{children:c(Yr,{placeholder:"e.g., Specific chemical, rare reaction...",...f,value:f.value||""})}),c(Xe,{})]})})]})," "]})," ",w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Medical Conditions"}),c(Ge,{control:e.control,name:"diagnosed_conditions",render:()=>w(Pe,{children:[w("div",{className:"mb-4",children:[c(Te,{className:"text-base",children:"Have you been diagnosed with any of the following?"}),c(Ai,{children:"Select all that apply."})]}),c("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:DDe.map(f=>c(Ge,{control:e.control,name:"diagnosed_conditions",render:({field:h})=>{var m;return w(Pe,{className:"flex flex-row items-start space-x-3 space-y-0",children:[c(Oe,{children:c(Ps,{checked:(m=h.value)==null?void 0:m.includes(f.id),onCheckedChange:x=>x?h.onChange([...h.value||[],f.id]):h.onChange((h.value||[]).filter(g=>g!==f.id))})}),c(Te,{className:"font-normal",children:f.label})]},f.id)}},f.id))}),c(Xe,{})]})}),c(Ge,{control:e.control,name:"other_diagnosed_condition",render:({field:f})=>w(Pe,{children:[c(Te,{children:"Other Medical Conditions (if any):"}),c(Oe,{children:c(ot,{placeholder:"Specify other conditions",...f})}),c(Xe,{})]})}),c(Ge,{control:e.control,name:"has_implants",render:({field:f})=>w(Pe,{className:"space-y-3",children:[c(Te,{children:"Do you have any implanted devices or prosthetics?"}),c(Oe,{children:w(Fo,{onValueChange:f.onChange,value:f.value,className:"flex space-x-4",children:[w(Pe,{className:"flex items-center space-x-2 space-y-0",children:[c(Oe,{children:c(In,{value:"yes"})}),c(Te,{className:"font-normal",children:"Yes"})]}),w(Pe,{className:"flex items-center space-x-2 space-y-0",children:[c(Oe,{children:c(In,{value:"no"})}),c(Te,{className:"font-normal",children:"No"})]})]})}),c(Xe,{})]})}),e.watch("has_implants")==="yes"&&c(Ge,{control:e.control,name:"implants_details",render:({field:f})=>w(Pe,{children:[c(Te,{children:"If yes, specify (e.g., pacemaker, joint replacement):"}),c(Oe,{children:c(ot,{placeholder:"e.g., Pacemaker, Hip Replacement",...f})}),c(Xe,{})]})})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Current Medications"}),c(Ge,{control:e.control,name:"taking_medications",render:({field:f})=>w(Pe,{className:"space-y-3",children:[c(Te,{children:"Are you currently taking any medications?"}),c(Oe,{children:w(Fo,{onValueChange:f.onChange,value:f.value,className:"flex space-x-4",children:[w(Pe,{className:"flex items-center space-x-2 space-y-0",children:[c(Oe,{children:c(In,{value:"yes"})}),c(Te,{className:"font-normal",children:"Yes"})]}),w(Pe,{className:"flex items-center space-x-2 space-y-0",children:[c(Oe,{children:c(In,{value:"no"})}),c(Te,{className:"font-normal",children:"No"})]})]})}),c(Xe,{})]})}),e.watch("taking_medications")==="yes"&&w("div",{className:"space-y-4",children:[t.map((f,h)=>w("div",{className:"flex items-start space-x-2 p-3 border rounded-md relative",children:[w("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 flex-grow",children:[c(Ge,{control:e.control,name:`current_medications.${h}.name`,render:({field:m})=>w(Pe,{children:[c(Te,{children:"Name"}),c(Oe,{children:c(ot,{placeholder:"e.g., Lisinopril",...m})}),c(Xe,{})]})}),c(Ge,{control:e.control,name:`current_medications.${h}.dosage`,render:({field:m})=>w(Pe,{children:[c(Te,{children:"Dosage"}),c(Oe,{children:c(ot,{placeholder:"e.g., 10mg",...m})}),c(Xe,{})]})}),c(Ge,{control:e.control,name:`current_medications.${h}.frequency`,render:({field:m})=>w(Pe,{children:[c(Te,{children:"Frequency"}),c(Oe,{children:c(ot,{placeholder:"e.g., Daily",...m})}),c(Xe,{})]})})]}),w(Fe,{type:"button",variant:"ghost",size:"icon",className:"absolute top-1 right-1 h-6 w-6 text-muted-foreground hover:text-destructive",onClick:()=>n(h),children:[c(a0,{className:"h-4 w-4"}),c("span",{className:"sr-only",children:"Remove Medication"})]})]},f.id)),c(Fe,{type:"button",variant:"outline",size:"sm",onClick:()=>r({name:"",dosage:"",frequency:""}),children:"Add Medication"})]})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Recent Health Changes"}),c(Ge,{control:e.control,name:"recent_health_changes",render:({field:f})=>w(Pe,{className:"space-y-3",children:[c(Te,{children:"Have you experienced any recent health changes (e.g., surgeries, hospitalizations, changes in medications)?"}),c(Oe,{children:w(Fo,{onValueChange:f.onChange,value:f.value,className:"flex space-x-4",children:[w(Pe,{className:"flex items-center space-x-2 space-y-0",children:[c(Oe,{children:c(In,{value:"yes"})}),c(Te,{className:"font-normal",children:"Yes"})]}),w(Pe,{className:"flex items-center space-x-2 space-y-0",children:[c(Oe,{children:c(In,{value:"no"})}),c(Te,{className:"font-normal",children:"No"})]})]})}),c(Xe,{})]})}),e.watch("recent_health_changes")==="yes"&&c(Ge,{control:e.control,name:"health_changes_details",render:({field:f})=>w(Pe,{children:[c(Te,{children:"If yes, please describe and provide dates if applicable:"}),c(Oe,{children:c(Yr,{placeholder:"e.g., Knee surgery on 2024-01-15, Started new blood pressure medication last month",...f})}),c(Xe,{})]})})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Previous Surgeries / Hospitalizations"}),w("div",{className:"space-y-4",children:[a.map((f,h)=>w("div",{className:"flex items-start space-x-2 p-3 border rounded-md relative",children:[w("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 flex-grow",children:[c(Ge,{control:e.control,name:`previous_surgeries.${h}.type`,render:({field:m})=>w(Pe,{children:[c(Te,{children:"Type / Reason"}),c(Oe,{children:c(ot,{placeholder:"e.g., Appendectomy",...m})}),c(Xe,{})]})}),c(Ge,{control:e.control,name:`previous_surgeries.${h}.date`,render:({field:m})=>w(Pe,{children:[c(Te,{children:"Approx. Date"}),c(Oe,{children:c(ot,{placeholder:"e.g., 2010",...m})}),c(Xe,{})]})}),c(Ge,{control:e.control,name:`previous_surgeries.${h}.notes`,render:({field:m})=>w(Pe,{children:[c(Te,{children:"Notes"}),c(Oe,{children:c(ot,{placeholder:"Optional notes",...m})}),c(Xe,{})]})})]}),w(Fe,{type:"button",variant:"ghost",size:"icon",className:"absolute top-1 right-1 h-6 w-6 text-muted-foreground hover:text-destructive",onClick:()=>o(h),children:[c(a0,{className:"h-4 w-4"}),c("span",{className:"sr-only",children:"Remove Surgery"})]})]},f.id)),c(Fe,{type:"button",variant:"outline",size:"sm",onClick:()=>i({type:"",date:"",notes:""}),children:"Add Surgery / Hospitalization"})]})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Immunizations & Screenings"}),c(Ge,{control:e.control,name:"immunizations_up_to_date",render:({field:f})=>w(Pe,{className:"space-y-3",children:[c(Te,{children:"Are your immunizations up to date?"}),c(Oe,{children:w(Fo,{onValueChange:f.onChange,value:f.value,className:"flex space-x-4",children:[w(Pe,{className:"flex items-center space-x-2 space-y-0",children:[c(Oe,{children:c(In,{value:"yes"})}),c(Te,{className:"font-normal",children:"Yes"})]}),w(Pe,{className:"flex items-center space-x-2 space-y-0",children:[c(Oe,{children:c(In,{value:"no"})}),c(Te,{className:"font-normal",children:"No"})]}),w(Pe,{className:"flex items-center space-x-2 space-y-0",children:[c(Oe,{children:c(In,{value:"not_sure"})}),c(Te,{className:"font-normal",children:"Not Sure"})]})]})}),c(Xe,{})]})}),c(Ge,{control:e.control,name:"recent_immunizations",render:({field:f})=>w(Pe,{children:[c(Te,{children:"If applicable, list recent immunizations (e.g., tetanus, influenza, COVID-19):"}),c(Oe,{children:c(ot,{placeholder:"e.g., Flu shot (Oct 2024), COVID Booster (Dec 2024)",...f})}),c(Xe,{})]})}),c(Ge,{control:e.control,name:"recent_medical_screenings",render:({field:f})=>w(Pe,{className:"space-y-3",children:[c(Te,{children:"Have you had any recent medical screenings (e.g., blood work, blood pressure checks)?"}),c(Oe,{children:w(Fo,{onValueChange:f.onChange,value:f.value,className:"flex space-x-4",children:[w(Pe,{className:"flex items-center space-x-2 space-y-0",children:[c(Oe,{children:c(In,{value:"yes"})}),c(Te,{className:"font-normal",children:"Yes"})]}),w(Pe,{className:"flex items-center space-x-2 space-y-0",children:[c(Oe,{children:c(In,{value:"no"})}),c(Te,{className:"font-normal",children:"No"})]})]})}),c(Xe,{})]})}),e.watch("recent_medical_screenings")==="yes"&&c(Ge,{control:e.control,name:"screenings_details",render:({field:f})=>w(Pe,{children:[c(Te,{children:"If yes, list the screenings and dates:"}),c(Oe,{children:c(ot,{placeholder:"e.g., Blood work (Jan 2025), Colonoscopy (Mar 2024)",...f})}),c(Xe,{})]})})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Allergic Reactions to Dental Materials"}),c(Ge,{control:e.control,name:"dental_material_allergies",render:({field:f})=>w(Pe,{className:"space-y-3",children:[c(Te,{children:"Have you ever had an allergic reaction to dental materials (e.g., latex, metals, local anesthetics)?"}),c(Oe,{children:w(Fo,{onValueChange:f.onChange,value:f.value,className:"flex space-x-4",children:[w(Pe,{className:"flex items-center space-x-2 space-y-0",children:[c(Oe,{children:c(In,{value:"yes"})}),c(Te,{className:"font-normal",children:"Yes"})]}),w(Pe,{className:"flex items-center space-x-2 space-y-0",children:[c(Oe,{children:c(In,{value:"no"})}),c(Te,{className:"font-normal",children:"No"})]})]})}),c(Xe,{})]})}),e.watch("dental_material_allergies")==="yes"&&c(Ge,{control:e.control,name:"dental_material_allergies_details",render:({field:f})=>w(Pe,{children:[c(Te,{children:"If yes, please describe the reaction:"}),c(Oe,{children:c(Yr,{placeholder:"e.g., Rash from latex gloves, Swelling after local anesthetic",...f})}),c(Xe,{})]})})]}),c(Ge,{control:e.control,name:"notes",render:({field:f})=>w(Pe,{children:[c(Te,{children:"Additional Medical Notes"}),c(Oe,{children:c(Yr,{placeholder:"Any other relevant medical information...",...f,value:f.value||""})}),c(Xe,{})]})})]})}const RDe=e=>A.createElement("svg",{id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 698.9 980.66",...e},A.createElement("g",{id:"ID_17","data-name":"ID 17"},A.createElement("path",{d:"M209,373.39c-3.57,2.53-15.52,11.69-18.35,27.51-3.87,21.69,11.85,42.1,27.21,48,.8.31,0,0,18,3.37,18.54,3.5,21.73,4.31,27.52,4,5.38-.31,13.3-.78,20.79-5.81,12.44-8.35,14.88-23.37,16.2-31.49,1.45-8.95,3-18.28-2.75-26.9-1.19-1.8-4.1-5.71-18-11.93s-29-12.95-49.53-11.31A81.45,81.45,0,0,0,209,373.39Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M254.25,394A20.4,20.4,0,0,0,246,404.06c-1.7,4.7-1,8.73-.46,11.92a33.92,33.92,0,0,0,8.25,16.51",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M235.45,391.68c2,.58,6.56,2.2,8.71,6.42,1.05,2,1,4.5,1,9.34-.09,6.56-.13,9.84-1.43,12.67a18.74,18.74,0,0,1-8.71,8.71",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_16","data-name":"ID 16"},A.createElement("path",{d:"M232,304.6c-13.55,7.4-17.19,22.76-17.43,23.85-.37,1.67-3.36,16.22,5.5,28.43,6.21,8.55,14.57,10.9,31.19,15.59,13.92,3.93,26.26,7.41,41.27,3.67,8.41-2.09,20.34-5.06,24.77-15.59,5.05-12-4-25.25-5.51-27.52-4.47-6.55-10.08-10.25-16.51-13.76C272.23,306.71,250.15,294.66,232,304.6Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M271.12,366.22l-6.42-13.76",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M278.91,319l-11.46,12.38",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M256.9,317.61A35.06,35.06,0,0,1,265.61,335c.88,5,1.92,11-1.37,15.59-1.76,2.45-4.06,3.54-7.34,8.26a38.82,38.82,0,0,0-2.75,4.58",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_15","data-name":"ID 15"},A.createElement("path",{d:"M266.76,235c19.82-.05,51.93,9.27,61.54,35.89,4.83,13.37,5,33.86-6.41,42.31-6.07,4.51-14.39,3.49-30.77,1.28-23.23-3.13-38.41-5.18-48.72-17.94a43,43,0,0,1-9-23.08c-.3-3.27-2-21.81,10.26-32.05C251.17,235.19,260.23,235,266.76,235Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M295.36,259.52a35,35,0,0,0-8.71,6,21.36,21.36,0,0,0-5.5,6.88c-.79,1.71-3.06,6.61-.92,11.92a14.12,14.12,0,0,0,7.34,7.34",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M275.64,253.1a6.23,6.23,0,0,0,.46,4.12c1.07,2,2.93,2.09,4.59,4.13a9.76,9.76,0,0,1,1.83,4.59c1.08,5.26.08,15.5-6.88,18.8a11.49,11.49,0,0,1-6.42.92",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_14","data-name":"ID 14"},A.createElement("path",{d:"M286.26,162.42c19.81,0,51.92,9.27,61.53,35.9,4.83,13.36,5,33.85-6.41,42.31-6.07,4.5-14.38,3.49-30.77,1.28-23.23-3.14-38.41-5.18-48.71-17.95a42.88,42.88,0,0,1-9-23.08c-.3-3.26-2-21.8,10.26-32C270.66,162.59,279.73,162.44,286.26,162.42Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M290.73,212.05l12.38-2.76",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M303.57,186.36a8.18,8.18,0,0,0-.92,5c.43,2.46,1.93,2.82,3,5.5,1.24,3.27.43,6.51,0,8.26-.88,3.52-2.13,3.86-2.49,6.42-.25,1.78-.05,4.53,2.49,8.25",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M317.78,196c-1,.47-2,.93-3.21,1.37a40.83,40.83,0,0,1-6.42,1.84",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_13","data-name":"ID 13"},A.createElement("path",{d:"M290.1,149.57c-6.52-17.36,17.07-40.24,24.76-47.69,6.51-6.32,14.95-14.28,24.76-12.84,3.14.45,7.85,2.08,16.51,12.84a110.08,110.08,0,0,1,22.93,51.36c2.19,14.85,3.9,26.47-3.67,34.85-4.54,5-12.4,10.16-19.26,8.26-5.72-1.59-8.54-7.38-10.09-10.09C332.18,161.94,297.12,168.3,290.1,149.57Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M317.08,138.09a20.24,20.24,0,0,1,1.38-9.63c4.37-10.6,16.62-13.06,17.88-13.3",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_12","data-name":"ID 12"},A.createElement("path",{d:"M385.64,69.87c13.07-5.52,19.61-8.28,25.64-7.69,9.48.93,18.52,7.29,23.08,15.39,1.37,2.43,3.34,6.79,1.28,32.05-2.07,25.49-5,32.77-6.41,35.9-3.77,8.51-7.58,17.09-15.38,19.23-9.16,2.5-18.3-5.38-26.93-12.82s-20.62-17.8-24.36-35.9c-.75-3.66-5.09-26.65,7.7-38.46C372.63,75.37,377,73.54,385.64,69.87Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M382.15,91.43a64.37,64.37,0,0,1,33.48-4.59",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_11","data-name":"ID 11"},A.createElement("path",{d:"M458.72,49.36c7.44-2.23,22.93-5.54,43.59,0a29.66,29.66,0,0,1,11.58,4.82c8.37,5.86,11,14.38,11.93,17.43,1.27,4.32,1.73,9,.91,16.51C526.2,93,523.79,111.6,509.31,134c-9.71,15-15.62,17.46-18.35,18.34a27.34,27.34,0,0,1-15.59,0c-10.69-2.84-16.62-11.11-21.1-17.42-7.27-10.27-9.62-19.26-13.75-35.77-5-20-7.42-30.15-2.76-37.61C442.29,54.28,450.26,51.89,458.72,49.36Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M461.71,74.52a72.72,72.72,0,0,1,14.22-2.3A73.82,73.82,0,0,1,500.69,75",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_21","data-name":"ID 21"},A.createElement("path",{d:"M543.24,52.35c6.47-.31,14.19-.64,22.93-.92,20.38-.64,26.93-.4,34.86,1.84,7.38,2.08,15.13,4.38,18.34,11,2.27,4.68,1.1,9.11-.92,17.43-7.69,31.72-4.94,25.9-8.25,35.77-6.14,18.25-9.37,27.49-17.43,33a30.4,30.4,0,0,1-17.43,5.5c-9.35-.13-15.92-5-20.17-8.25-11-8.36-15.49-18.93-20.18-30.27-6.51-15.71-10.81-26.09-8-39.18C530,64.92,538.7,56.24,543.24,52.35Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M554.57,73.94a168.57,168.57,0,0,1,17.43,0,165.25,165.25,0,0,1,20.17,2.3",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_22","data-name":"ID 22"},A.createElement("path",{d:"M639.55,65.19a60.47,60.47,0,0,1,27.51,2.75c7.13,2.48,18.66,6.5,22.93,16.51,1.25,2.93,2.19,7.1-1.83,22.93-5.54,21.77-9.17,36.08-22,46.78-3.81,3.16-9.8,8-18.35,8.25a27.12,27.12,0,0,1-16.51-5.5c-14.42-10.54-14.61-31.73-14.67-38.52,0-4.91.55-1.41,3.67-25.69,1.12-8.73,1.52-12.93,4.58-17.42C629,69.19,635.41,66.47,639.55,65.19Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M641.74,84.51a79.65,79.65,0,0,1,13.76,1.38,80.7,80.7,0,0,1,21.55,7.33",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_23","data-name":"ID 23"},A.createElement("path",{d:"M735.85,98.21a94.57,94.57,0,0,1,13.76,14.67c5.33,7.05,11.93,15.8,13.76,28.44.89,6.17,2.13,14.73-2.75,21.09-4.68,6.1-10,3.73-22,9.17-13.94,6.34-12.92,12.37-27.52,19.26-8.13,3.84-17,8-24.77,4.59-11.59-5.1-12.53-24.47-12.84-30.27-1.05-20.32,8.6-35.3,18.35-50.44,7.67-11.92,12.27-14.92,15.59-16.51C719.13,92.59,731.45,96.55,735.85,98.21Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M727.26,118.63a56.8,56.8,0,0,1,8.71,4.58c4.93,3.17,7.92,5.09,9.63,8.72.65,1.36,2.25,5.37.46,11.46",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_24","data-name":"ID 24"},A.createElement("path",{d:"M778.44,178.21c7.22,5.63,7.75,15.37,8.26,24.77.41,7.47.72,21.63-7.34,28.43-2.25,1.9-3.7,2.12-11,4.59-17,5.74-17.24,7.26-26.6,10.08-14.44,4.35-21.77,6.67-31.19,4.59-4.23-.94-12.31-2.72-17.42-10.09-6-8.6-3.44-19.15-2.76-22,4.16-17.37,21-26.46,34.86-33.94,14.31-7.73,25.74-9.7,33.93-10.09C766.56,174.2,773,174,778.44,178.21Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M743.86,196.4c-5.12,4.17-6.05,7.43-6,9.63.11,2.71,1.74,3.06,2.75,7.34a18.6,18.6,0,0,1-.45,10.55,17.63,17.63,0,0,1-3.21,5.5",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M727.36,206a7.7,7.7,0,0,1,11,9.17",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M755.33,222.08l-14.13-3.71",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_25","data-name":"ID 25"},A.createElement("path",{d:"M798.71,239.77c7.21,5.62,7.74,15.37,8.26,24.76.4,7.47.72,21.64-7.34,28.43-2.26,1.9-3.7,2.12-11,4.59-17,5.74-17.23,7.27-26.6,10.09-14.43,4.35-21.76,6.67-31.18,4.58-4.23-.93-12.31-2.72-17.43-10.09-6-8.6-3.43-19.15-2.75-22,4.16-17.37,21-26.46,34.85-33.93,14.32-7.73,25.75-9.71,33.94-10.09C786.83,235.75,793.3,235.54,798.71,239.77Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M766.15,257.59a13.94,13.94,0,0,0-4.13,3.67,14.71,14.71,0,0,0-2.75,7.8c-.65,7.94,4.63,10.64,3.67,16.05-.4,2.24-2,5.45-7.8,8.71",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M745.51,262.18c6.41,1.89,9.67,4.92,11.46,7.34,5,6.69,2.9,14.35,8.26,17.88a10.94,10.94,0,0,0,7.34,1.38",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_26","data-name":"ID 26"},A.createElement("path",{d:"M821.64,308.55c8.76,6.88,7.09,21.59,6.42,27.52-.69,6.1-2.19,19.37-11.92,25.68-3.57,2.31-4.75,1.43-15.59,3.67-16.74,3.46-17.4,6.3-30.27,8.26-6.75,1-14.37,2.11-23.85,0-6.85-1.53-12.87-2.57-17.43-7.34-7-7.31-6.88-18.95-4.58-26.6,3.72-12.4,14.5-18.47,25.68-24.76,14.72-8.29,27.81-9.91,36.69-11a72.9,72.9,0,0,1,24.76.92C816.54,306,819.09,306.55,821.64,308.55Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M764.14,318c1.25.53,12.13,5.36,15.13,17.43A26.08,26.08,0,0,1,771,361.12",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M783.4,317.09a72.3,72.3,0,0,0-3.21,11c-.93,4.49-5,24.31,2.75,28.89a7.69,7.69,0,0,0,4.59.92",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_27","data-name":"ID 27"},A.createElement("path",{d:"M829,370c13.65,6.58,18.38,24.79,18.34,36.69a46,46,0,0,1-10.09,28.43c-5.67,6.9-11.9,10.05-17.42,12.84a71.66,71.66,0,0,1-42.19,7.34c-9.8-1.37-20.8-2.91-29.35-11.93-10.9-11.49-10.37-27.28-10.09-35.77.22-6.76.5-12.78,4.58-18.34,2.25-3.07,5.8-6.2,21.1-11a196.68,196.68,0,0,1,34.39-7.56C815.21,368.54,823.69,367.46,829,370Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M802.1,394.82a23.37,23.37,0,0,0-7.34,9.63c-.65,1.61-3.69,9.13,0,17a20.09,20.09,0,0,0,7.34,8.25",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M787,397.11a14.91,14.91,0,0,1,5.51,4.59c4.55,6.34,3.24,16.12-1.84,22a18.1,18.1,0,0,1-7.33,5",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_28","data-name":"ID 28"},A.createElement("path",{d:"M854,468.38c8.92,18.95,2.44,37.45.69,42-1.93,5-5.3,13.3-13.76,19.26-5.45,3.84-10.55,4.95-16.51,6.19-6.83,1.42-19.41,4-34.39-.69-7-2.19-19.86-6.26-28.21-19.26s-6.72-26.8-6.19-30.27c.75-4.83,1.91-13.4,8.95-20.63a31.66,31.66,0,0,1,18-9.13c2.76-.34,2.92.06,8.11.18,8.61.2,19.85.46,30.26-4.81,5.7-2.88,5.12-4.37,8.26-4.82C839,445,849.43,458.73,854,468.38Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M817.16,475.29a20.27,20.27,0,0,0-6,6A20,20,0,0,0,808,492.72a19.55,19.55,0,0,0,3.21,10.09,18.39,18.39,0,0,0,6,5.5",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M800.19,475.75a27,27,0,0,1,6,7.8c1.58,3.14,5.39,10.68,1.83,17.43-3.14,6-10.05,7.51-11.46,7.79",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_38","data-name":"ID 38"},A.createElement("path",{d:"M794.8,595.84c4.56.34,11.48.72,20,.69,12.33,0,13.91-.93,18.58,0,14.58,2.9,23.07,16.26,24.07,17.88,7.38,12,5.91,24,4.82,33-1.23,10.09-2.65,21.77-11.7,28.89-7.15,5.64-15.2,5.36-30.95,4.82-16.73-.58-28.5-4.81-37.84-8.26-10.11-3.73-15.23-5.69-18.57-10.31-5.77-8-4.25-18.12-2.75-28.21,1.32-8.83,2.53-17,8.94-24.76C778.14,598.94,790.51,596.49,794.8,595.84Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M822,625.1a17.84,17.84,0,0,0-7.34,6c-3.45,4.92-5.1,13-.92,18.8a15,15,0,0,0,8.26,5.5",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M809.13,621.89a31.31,31.31,0,0,1,2.75,5c1.19,2.78,3.64,8.51,2.29,14.68-1.84,8.39-9.63,12.58-11,13.3",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_37","data-name":"ID 37"},A.createElement("path",{d:"M835.39,690.08c10.91,9.79,13.31,22.74,13.76,25.45,3.91,23.72-13.92,40.85-16.51,43.34-3.83,3.68-9.95,9.56-19.26,11-5,.77-7.51-.23-24.08-5.5-23.88-7.6-27-8.18-32.33-12.39-3.57-2.79-9.58-7.51-13.07-15.82-6.43-15.32.81-30.7,4.81-39.21,3.26-6.92,6-12.73,12.39-16.51,6.16-3.64,12.36-3.41,24.07-2.06C813.62,681.67,827.85,683.31,835.39,690.08Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M798.43,705.68a19.18,19.18,0,0,1,5.5,10.55c.22,1.37,1.43,9.09-4.13,14.67a16.46,16.46,0,0,1-11.46,4.59",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M815.86,711.18a13.44,13.44,0,0,0-8.72,2.75c-5.58,4.55-4.93,13.19-4.58,17.89a35.23,35.23,0,0,0,2.29,10.09",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_36","data-name":"ID 36"},A.createElement("path",{d:"M820.26,802.9c-1,16.59-15.15,26.65-19.26,29.58s-11.42,8.13-21.33,8.25c-5.79.07-12.57-3.39-26.14-10.32-13.92-7.11-18.55-11.07-21.32-13.75-4.13-4-6.87-6.63-9-11-7.1-14.95,2.18-31.71,4.82-36.46,3.12-5.64,6.34-11.44,13.07-14.45,6.05-2.69,12-1.8,21,.51,25.88,6.63,38.82,9.94,47.79,20.82C813,779.77,821.08,789.58,820.26,802.9Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M788.67,791.63c-2,1.64-4.57,3.19-7.33,2.76-2.92-.46-4-2.81-5.51-2.3-2.17.73-2.45,6.31-1.83,10.09a19.93,19.93,0,0,0,4.13,9.17",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M771.25,782.46a28,28,0,0,1,3.66,6.42c1.59,3.91,3.7,9.09,1.38,12.84-2.15,3.48-7.57,4.91-13.3,3.67",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_35","data-name":"ID 35"},A.createElement("path",{d:"M797.89,857c2,11-4.28,22-11.38,28.12-14.45,12.53-34,6.58-38.21,5.29-15.81-4.81-23.86-16.68-28.32-23.25-5.36-7.91-11.45-16.88-8.73-27,2.85-10.65,13.5-15.53,15.08-16.23,11.65-5.12,23.18-.45,35.18,4.41C778.65,835.29,795.18,842,797.89,857Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M790,864.21a36.18,36.18,0,0,1-4.13,6,38.73,38.73,0,0,1-17.42,11.46",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_34","data-name":"ID 34"},A.createElement("path",{d:"M765.78,914.21c-.15,11.2-8.37,20.76-16.51,25.45-16.57,9.55-34.61,0-38.52-2.06-14.61-7.73-20.27-20.91-23.39-28.21-3.77-8.78-8-18.75-3.44-28.2,4.82-9.92,16.2-12.69,17.88-13.07,12.42-2.82,22.84,4,33.71,11C751,889.2,766,898.91,765.78,914.21Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M753,922.06a42.52,42.52,0,0,1-6.66,7A43.14,43.14,0,0,1,734.74,936",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_31","data-name":"ID 31"},A.createElement("path",{d:"M576.88,1024.34c-5.54.29-13.07.64-22,.92-14.61.46-16.4.23-18.34-.92-8.75-5.15-7.85-21.21-6.88-38.52,1.18-21.11,2.08-37.23,13.75-44.94.77-.51,10.05-6.44,19.27-3.21,5.07,1.78,7.76,5.51,11.92,11.46,1.39,2,7.91,11.51,12.38,27.06.49,1.69,1.7,9.84,4.13,26.14,1,7.07,1.54,10.68-.46,14.22C587.41,1022.28,580.15,1023.85,576.88,1024.34Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M551.53,1015.86l19.72-.46",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_41","data-name":"ID 41"},A.createElement("path",{d:"M514.51,948.22c5.39,12.13,7,24.44,8.72,37.6,2.06,16.22,3.1,24.47,0,29.81-1.13,1.94-4.15,7.15-10.55,9.63-2.8,1.09-4,.69-12.84.46-13.92-.36-15.73.48-22-.92-5.47-1.21-8.2-1.81-10.55-3.67-7.71-6-6.41-19.24-5-33,1.12-11.29,2.52-24,11-37.14,4.55-7.05,9-14,17.43-15.59a22.57,22.57,0,0,1,19.26,6A21.19,21.19,0,0,1,514.51,948.22Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M482,1014.25c3.07.71,6.44,1.35,10.09,1.84a110,110,0,0,0,11,.92",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_42","data-name":"ID 42"},A.createElement("path",{d:"M438.84,1015.63a127.59,127.59,0,0,1-24.76-3.21c-12-2.76-14.34-5.1-15.13-6-6.8-7.39-3.59-20.37-1.38-29.35,2.4-9.75,6.28-16.18,11.47-24.77,5.65-9.37,8.71-14.29,15.13-17.88,2.73-1.53,9.64-5.39,17.88-3.21,9.44,2.5,13.6,11,14.22,12.38,1.16,2.48,1.55,6.42,2.29,14.22a141.45,141.45,0,0,1,.92,16.51,87.13,87.13,0,0,1-1.83,19.26c-1.48,6.72-2.24,10.17-5,13.76C448.22,1013,442,1014.91,438.84,1015.63Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M414,998.25a29.24,29.24,0,0,0,20.17,4.59",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_45","data-name":"ID 45"},A.createElement("path",{d:"M259.15,886.31c-.87-.72-16.53-13.95-13.3-30.27,1.45-7.33,6-11.72,12.38-17.89,11.64-11.24,24.16-15,31.19-17,8.66-2.46,13.79-3.84,20.18-1.83,1.13.36,10.77,3.57,15.13,13.3,3,6.68,1.86,12.79.92,17.89-1.51,8.13-5,13.62-7.8,17.88a70.54,70.54,0,0,1-16.51,17.43c-6.21,4.71-9.32,7.06-14.22,8.25C273.17,897.5,260.76,887.63,259.15,886.31Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M278.17,880.63a32.49,32.49,0,0,0-10.54-6c-2.28-.75-3.79-.94-5.05-2.29-2.3-2.47-1.78-6.73-.92-10.09",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_46","data-name":"ID 46"},A.createElement("path",{d:"M220.63,765.24a104,104,0,0,1,18.8-8.72A95.14,95.14,0,0,1,272,751c11.72.23,17.58.35,22.93,4.59,10.31,8.16,9.5,24.24,9.17,30.72-.29,5.75-.43,15.89-7.34,24.77a40.08,40.08,0,0,1-7.33,6.87c-5.32,4.11-16.43,12.47-33,15.14-10.1,1.62-19.78,3.17-28.89-2.29-8.61-5.16-11.83-13.65-16-24.77-3.59-9.43-6.36-16.74-3.67-25.22C210.55,772.12,217.48,767.19,220.63,765.24Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M263.51,773a17.11,17.11,0,0,0-6.88,11c-.06.43-1.29,9.92,5,13.76a11.09,11.09,0,0,0,6.88,1.37",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M242.41,783.12a16.66,16.66,0,0,1,9.17,3.67,16.44,16.44,0,0,1,2.76,22.47",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_47","data-name":"ID 47"},A.createElement("path",{d:"M262.82,673.06c12.52,6.46,18.06,18.41,19.72,22.47a45.83,45.83,0,0,1,1.83,28.89c-1.47,5.59-4.29,18.65-14.21,22.93a17.6,17.6,0,0,1-6.88,1.38c-21.73.49-29,15.15-45.86,14.21a35.53,35.53,0,0,1-17.89-6.42c-15.44-10.41-17.91-29.07-18.8-35.77-1.09-8.19-2.48-18.74,3.67-28,1.72-2.59,5.91-7.88,24.76-14.22C233.41,670.41,248.11,665.47,262.82,673.06Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M237,698.48a29.53,29.53,0,0,0-6.16,10.09c-1.39,3.9-3.25,9.1-.92,11.93,2.61,3.16,7.94.29,12.84,4.12a12,12,0,0,1,3.67,5",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M220.25,705.36a22.28,22.28,0,0,1,6,3.67c4.92,4.25,9.86,12.4,7.34,19.72a13.39,13.39,0,0,1-3.21,5",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_48","data-name":"ID 48"},A.createElement("path",{d:"M196.32,591.43a232.08,232.08,0,0,1,24.31-.46c11.62.38,17.53.63,22.93,3.21,10.85,5.2,15.85,15.2,17.88,19.26,4.72,9.42,5,17.8,5.05,22.93.13,7.83.29,16.64-5.51,23.39-3,3.48-6.19,4.82-12.38,7.34-14.56,5.91-19.36,2.62-37.14,7.79-7.81,2.27-9.59,3.69-14.22,3.21-8.67-.9-14.63-7.14-17.89-10.55a50.16,50.16,0,0,1-11.92-22.47c-1.6-6.53-6-24.31,5-39C180.34,595.62,191.8,592.42,196.32,591.43Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M221.38,614.27a35.13,35.13,0,0,0-5,10.09c-1.75,5.64-4.07,12-.91,17.42.67,1.16,3,4.69,9.17,6.42",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M207.16,616.56a40.13,40.13,0,0,1,4.59,6c2.69,4.28,5.47,8.7,5,13.76-.63,7.5-7.9,12.07-9.17,12.84",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_18","data-name":"ID 18"},A.createElement("path",{d:"M229.21,453.18c18.65,1.39,28.18,2.2,38.53,8.26,5.7,3.34,13.13,7.69,17,16.51,6.15,14.14-1.68,28.91-4.59,34.39-2,3.71-8.35,15.37-22,22-14.83,7.21-29.06,4.07-45.4.46-11.09-2.45-16.63-3.68-21.1-7.8-12.74-11.75-9.7-33.58-7.8-47.24,1.66-11.85,2.53-18.09,7.8-22.93C198,451,208.49,451.65,229.21,453.18Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M242.79,478.45c-1.57.69-7.71,3.63-9.17,9.63-1,4.12.69,7.64,3.21,12.84a47.29,47.29,0,0,0,7.79,11.46",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M224.44,478.45A26,26,0,0,1,230,484c1,1.37,8.49,11.55,4.12,20.18-.63,1.26-2.6,4.61-7.79,6.88",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_44","data-name":"ID 44"},A.createElement("path",{d:"M299.78,936.84c-.87-.71-16.54-13.94-13.3-30.26,1.45-7.33,6-11.73,12.38-17.89,11.63-11.24,24.16-15,31.18-17,8.67-2.46,13.8-3.84,20.18-1.83,1.14.36,10.78,3.57,15.14,13.3,3,6.68,1.86,12.79.91,17.88-1.5,8.14-5,13.62-7.79,17.89A70.54,70.54,0,0,1,342,936.39c-6.22,4.7-9.32,7.06-14.22,8.25C313.8,948,301.39,938.17,299.78,936.84Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M319.31,932.09a35.51,35.51,0,0,1-5.5-4.73,38.75,38.75,0,0,1-9.58-18.53",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_43","data-name":"ID 43"},A.createElement("path",{d:"M369.6,995c-2,0-24.09-1-32.56-17.42-5.16-10-2.45-20.35-.92-26.14,4.47-17,16.77-26,30.72-36.23,5.59-4.1,10.55-6.91,17-7.34,2.36-.16,10.27-.68,15.59,4.59,3.91,3.85,4.39,8.8,5.05,15.59.51,5.24.1,8.71-1.38,20.64-1.53,12.36-2.3,18.56-2.55,19.45-2,7.2-4.85,17.56-14,23.2C380.19,995.27,373.67,995.1,369.6,995Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M377.68,978.48a35.56,35.56,0,0,1-7.25.17,38.69,38.69,0,0,1-19.51-7.36",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_33","data-name":"ID 33"},A.createElement("path",{d:"M714.92,979.17a56.7,56.7,0,0,1-15.82,9.63c-6,2.42-21,8.4-32.33,2.07-8.18-4.56-10.5-13.82-15.14-32.33-2.89-11.56-5.73-23.51-1.37-37.15,1.94-6.07,4-12.5,9.63-15.14,9.39-4.38,21.84,5,31.64,12.39a82.83,82.83,0,0,1,22.7,26.14c4.69,8.52,9.3,17.2,6.19,26.14A20.67,20.67,0,0,1,714.92,979.17Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M706.18,967.57a42.81,42.81,0,0,1-19,12.91",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_32","data-name":"ID 32"},A.createElement("path",{d:"M652.32,1007.38c-3.43,1.25-8.65,3-15.13,4.81-13.83,3.79-20.77,5.34-26.83,3.44-8.8-2.76-13.5-10.42-15.13-13.07-2.31-3.74-4.06-8.85-2.07-35.08,1.94-25.5,4.31-29.14,6.88-31.65,5.16-5,14.7-9,23.39-5.5,2.9,1.17,5.13,3,10.32,9.63,6.58,8.44,11.3,14.49,16.51,25.45,7.06,14.88,11.51,24.24,7.79,33.71A22.67,22.67,0,0,1,652.32,1007.38Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M638.35,997.28a42.05,42.05,0,0,1-8.64,4.28,43.14,43.14,0,0,1-13.26,2.53",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_54","data-name":"ID 54"},A.createElement("path",{d:"M343.25,453.41c-2.43,1.73-10.58,8-12.51,18.76-2.64,14.79,8.08,28.71,18.56,32.74.55.21,0,0,12.3,2.29,12.65,2.39,14.82,2.94,18.77,2.71,3.67-.21,9.07-.53,14.18-4C403,500.26,404.7,490,405.6,484.48c1-6.11,2-12.47-1.88-18.35-.81-1.23-2.8-3.89-12.3-8.13s-19.8-8.84-33.78-7.72A55.63,55.63,0,0,0,343.25,453.41Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M374.09,467.44a14,14,0,0,0-5.63,6.88,14.79,14.79,0,0,0-.31,8.14,23.13,23.13,0,0,0,5.63,11.25",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M361.27,465.88c1.37.4,4.47,1.51,5.94,4.38.71,1.39.71,3.07.66,6.37-.06,4.47-.09,6.71-1,8.64a12.84,12.84,0,0,1-5.94,5.94",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_55","data-name":"ID 55"},A.createElement("path",{d:"M357,507.83c12.71.94,19.21,1.49,26.27,5.63,3.89,2.27,8.95,5.24,11.57,11.26,4.19,9.64-1.15,19.71-3.13,23.45a34.27,34.27,0,0,1-15,15c-10.11,4.92-19.82,2.78-31,.32-7.56-1.67-11.34-2.51-14.39-5.32-8.69-8-6.62-22.9-5.32-32.21,1.13-8.09,1.72-12.34,5.32-15.64C335.72,506.34,342.88,506.78,357,507.83Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M366.27,525.06c-1.06.47-5.25,2.47-6.25,6.56-.69,2.82.47,5.21,2.19,8.76a32.45,32.45,0,0,0,5.31,7.82",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M353.76,525.06a17.39,17.39,0,0,1,3.75,3.75c.69.93,5.79,7.87,2.82,13.76a10.2,10.2,0,0,1-5.32,4.69",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_53","data-name":"ID 53"},A.createElement("path",{d:"M365.84,441.28c-4.45-11.84,11.64-27.44,16.89-32.52,4.44-4.31,10.19-9.74,16.88-8.76,2.14.31,5.36,1.42,11.26,8.76a75,75,0,0,1,15.64,35c1.49,10.13,2.66,18-2.5,23.77-3.1,3.43-8.46,6.92-13.14,5.63-3.9-1.09-5.82-5-6.88-6.89C394.54,449.72,370.63,454.06,365.84,441.28Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M384.24,433.46a13.89,13.89,0,0,1,.94-6.57c3-7.23,11.34-8.91,12.2-9.07",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_52","data-name":"ID 52"},A.createElement("path",{d:"M430.16,376.92c8.91-3.77,13.37-5.66,17.48-5.25a21.24,21.24,0,0,1,15.74,10.49c.94,1.66,2.28,4.63.88,21.86-1.42,17.38-3.43,22.35-4.37,24.48-2.58,5.81-5.18,11.66-10.5,13.11-6.24,1.71-12.48-3.66-18.36-8.74S417,420.74,414.42,408.39c-.51-2.49-3.47-18.18,5.25-26.23C421.29,380.67,424.24,379.42,430.16,376.92Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M427.78,388.61a44.76,44.76,0,0,1,15-3.44,43.72,43.72,0,0,1,7.82.32",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_51","data-name":"ID 51"},A.createElement("path",{d:"M480,362.93c5.08-1.52,15.65-3.78,29.73,0a20.11,20.11,0,0,1,7.9,3.28,21.58,21.58,0,0,1,8.13,11.89c.87,2.94,1.18,6.11.63,11.26-.36,3.36-2,16-11.89,31.27-6.62,10.23-10.64,11.91-12.51,12.51a18.65,18.65,0,0,1-10.63,0c-7.29-1.94-11.33-7.57-14.39-11.88-5-7-6.56-13.13-9.38-24.4-3.41-13.63-5.05-20.55-1.88-25.64S474.23,364.65,480,362.93Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M485,375.08a49,49,0,0,1,9.69-1.56,50.15,50.15,0,0,1,16.89,1.87",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_61","data-name":"ID 61"},A.createElement("path",{d:"M537.64,365c4.41-.21,9.68-.43,15.63-.62,13.9-.44,18.37-.28,23.77,1.25,5,1.42,10.32,3,12.51,7.5,1.55,3.2.76,6.21-.62,11.89-5.25,21.63-3.37,17.66-5.63,24.39-4.18,12.45-6.39,18.75-11.89,22.52a20.69,20.69,0,0,1-11.88,3.75c-6.38-.09-10.86-3.41-13.76-5.63-7.47-5.7-10.56-12.9-13.76-20.64-4.44-10.71-7.37-17.79-5.43-26.71C528.57,373.53,534.54,367.62,537.64,365Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M548.36,374.69a112.07,112.07,0,0,1,11.89,0A114.47,114.47,0,0,1,574,376.25",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_62","data-name":"ID 62"},A.createElement("path",{d:"M603.32,373.72a41.27,41.27,0,0,1,18.76,1.88c4.86,1.69,12.73,4.43,15.64,11.26.85,2,1.49,4.84-1.25,15.63-3.78,14.85-6.26,24.61-15,31.9-2.59,2.16-6.67,5.47-12.51,5.63a18.52,18.52,0,0,1-11.25-3.75c-9.84-7.19-10-21.64-10-26.27,0-3.35.37-1,2.5-17.52.76-6,1-8.82,3.13-11.88A18.47,18.47,0,0,1,603.32,373.72Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M604.81,383.9a54.48,54.48,0,0,1,24.08,5.94",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_64","data-name":"ID 64"},A.createElement("path",{d:"M696.66,447.68C706.45,451,711.14,463,712.09,471a31.38,31.38,0,0,1-4.49,20.08c-3.28,5.14-7.24,7.78-10.75,10.12a48.79,48.79,0,0,1-28,8.43c-6.75-.12-14.32-.26-20.85-5.66-8.32-6.89-9.26-17.63-9.76-23.39-.41-4.6-.71-8.7,1.59-12.8,1.28-2.26,3.42-4.67,13.38-9.18a134.51,134.51,0,0,1,22.67-7.95C687.22,447.81,692.87,446.38,696.66,447.68Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M680.5,466.68a16,16,0,0,0-4.18,7.12c-.31,1.15-1.74,6.49,1.4,11.49a13.69,13.69,0,0,0,5.64,5",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M670.44,469.47a10.18,10.18,0,0,1,4.11,2.66c3.6,3.92,3.51,10.65.56,15.05a12.5,12.5,0,0,1-4.55,4",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_65","data-name":"ID 65"},A.createElement("path",{d:"M721.66,512.22c7.59,12.1,4.72,25.16,3.91,28.36-.9,3.52-2.5,9.44-7.74,14.16-3.37,3-6.74,4.22-10.67,5.55-4.5,1.52-12.81,4.32-23.34,2.36-4.89-.92-14-2.61-20.67-10.73a30.34,30.34,0,0,1-6.68-20c.11-3.33.19-9.24,4.36-14.71a21.7,21.7,0,0,1,11.46-7.66c1.84-.45,2-.19,5.51-.54,5.84-.57,13.47-1.31,20.09-5.74,3.62-2.42,3.1-3.38,5.2-3.94C709.61,497.6,717.79,506.07,721.66,512.22Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M697.3,516.93a13.66,13.66,0,0,0-4.78,12.55,13.35,13.35,0,0,0,3,6.57,12.59,12.59,0,0,0,4.49,3.23",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M685.85,518.63a18.65,18.65,0,0,1,4.68,4.79c1.32,2,4.52,6.79,2.67,11.65-1.64,4.31-6.2,5.91-7.12,6.22",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_63","data-name":"ID 63"},A.createElement("path",{d:"M673.15,398a65.26,65.26,0,0,1,8,11.15c3,5.24,6.66,11.74,6.77,20.45.06,4.25.13,10.15-3.73,14-3.71,3.71-7.12,1.63-15.7,4.24-10,3-9.84,7.22-20.32,10.58-5.84,1.87-12.19,3.9-17.15.89-7.39-4.48-6.3-17.66-6-21.61,1.09-13.83,9-23.1,16.89-32.47,6.25-7.38,9.63-9,12-9.78C662.34,392.75,670.32,396.52,673.15,398Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M666.24,410.38a38.69,38.69,0,0,1,5.48,3.87c3,2.58,4.9,4.14,5.74,6.75a10.86,10.86,0,0,1-.71,7.79",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_71","data-name":"ID 71"},A.createElement("path",{d:"M559.58,786.61c-3.78.2-8.92.44-15,.63-10,.31-11.19.15-12.51-.63-6-3.51-5.36-14.46-4.7-26.27.81-14.4,1.43-25.39,9.39-30.65.52-.34,6.85-4.39,13.13-2.19,3.46,1.22,5.29,3.76,8.13,7.82a63,63,0,0,1,8.45,18.45c.33,1.16,1.16,6.71,2.81,17.83.72,4.82,1.05,7.28-.31,9.7C566.76,785.2,561.8,786.28,559.58,786.61Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M542.29,780.83l13.45-.32",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_81","data-name":"ID 81"},A.createElement("path",{d:"M517,734.7c3.68,8.27,4.8,16.66,6,25.64,1.4,11.06,2.11,16.69,0,20.33a14.42,14.42,0,0,1-7.2,6.57c-1.91.74-2.74.47-8.75.31-9.49-.24-10.73.33-15-.62-3.72-.83-5.58-1.24-7.19-2.51-5.25-4.12-4.37-13.12-3.44-22.51.76-7.7,1.71-16.37,7.51-25.34,3.1-4.8,6.16-9.55,11.88-10.63A15.42,15.42,0,0,1,513.92,730,14.53,14.53,0,0,1,517,734.7Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M494.9,779.73c2.09.48,4.39.92,6.88,1.25,2.7.36,5.21.55,7.5.63",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_82","data-name":"ID 82"},A.createElement("path",{d:"M465.44,780.67a86.77,86.77,0,0,1-16.89-2.19c-8.17-1.88-9.78-3.48-10.32-4.06-4.63-5-2.45-13.9-.94-20,1.64-6.65,4.29-11,7.82-16.89,3.86-6.39,5.94-9.74,10.32-12.2,1.87-1,6.57-3.67,12.2-2.19,6.43,1.71,9.27,7.54,9.69,8.45.79,1.69,1.06,4.38,1.57,9.69a99.45,99.45,0,0,1,.62,11.26,59.38,59.38,0,0,1-1.25,13.14c-1,4.58-1.53,6.93-3.44,9.38A16.52,16.52,0,0,1,465.44,780.67Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M448.47,768.82A19.9,19.9,0,0,0,462.23,772",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_83","data-name":"ID 83"},A.createElement("path",{d:"M418.21,766.6c-1.38,0-16.43-.65-22.2-11.89-3.52-6.84-1.67-13.87-.63-17.82,3.05-11.58,11.44-17.73,21-24.71,3.81-2.8,7.19-4.71,11.57-5,1.61-.1,7-.46,10.63,3.13,2.66,2.63,3,6,3.44,10.64.35,3.57.07,5.93-.94,14.07-1,8.43-1.57,12.66-1.74,13.27-1.35,4.91-3.3,12-9.51,15.81C425.44,766.78,421,766.67,418.21,766.6Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M423.73,755.34a24.81,24.81,0,0,1-4.94.11,26.43,26.43,0,0,1-13.32-5",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_72","data-name":"ID 72"},A.createElement("path",{d:"M611,775c-2.34.86-5.9,2.08-10.32,3.28-9.43,2.59-14.16,3.65-18.29,2.35-6-1.88-9.21-7.1-10.32-8.91-1.58-2.55-2.77-6-1.41-23.93,1.32-17.38,2.94-19.87,4.69-21.58,3.52-3.43,10-6.14,16-3.75,2,.8,3.5,2,7,6.57,4.49,5.75,7.7,9.87,11.26,17.35,4.82,10.15,7.85,16.53,5.31,23A15.32,15.32,0,0,1,611,775Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M601.5,768.16a29.16,29.16,0,0,1-14.94,4.64",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_75","data-name":"ID 75"},A.createElement("path",{d:"M690.21,615.19c2.91,1.12,7.35,2.74,12.89,4.38,8,2.4,9.26,2.14,12.12,3.67,8.95,4.77,11.86,15.17,12.19,16.42,2.46,9.27-.88,16.85-3.37,22.51-2.78,6.34-6,13.69-13.33,16.55-5.78,2.27-11,.5-21.16-3-10.8-3.68-17.65-8.76-23.07-12.85-5.86-4.43-8.82-6.72-10.09-10.4-2.19-6.35.8-12.66,3.77-19,2.6-5.51,5-10.6,10.72-14.41C678.72,613.93,687.28,614.76,690.21,615.19Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M702.17,639.65a12.25,12.25,0,0,0-6,2.44c-3.23,2.53-5.89,7.45-4.31,12.1a10.25,10.25,0,0,0,4.3,5.22",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M694.42,635a19.94,19.94,0,0,1,.8,3.84c.23,2,.71,6.27-1.39,10-2.86,5.12-8.77,6.32-9.81,6.51",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_74","data-name":"ID 74"},A.createElement("path",{d:"M698.12,684.72a30.75,30.75,0,0,1,4,19.33c-2.13,16.25-17.14,23.92-19.32,25-3.23,1.65-8.38,4.28-14.75,3.39-3.39-.47-4.85-1.63-14.63-8.34-14.1-9.67-16-10.66-18.67-14.46-1.77-2.53-4.77-6.79-5.41-12.91-1.17-11.26,6.59-19.88,10.88-24.64,3.49-3.88,6.42-7.13,11.34-8.34,4.74-1.16,8.74.21,16.12,3.4C685.57,674.94,694.53,678.81,698.12,684.72Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M670.91,687.61a13.07,13.07,0,0,1,1.52,8c-.13.94-.87,6.22-5.59,8.77a11.21,11.21,0,0,1-8.39.73",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M681.2,694.64a9.14,9.14,0,0,0-6.23.08c-4.54,1.86-5.82,7.64-6.52,10.77a24.24,24.24,0,0,0-.49,7",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_84","data-name":"ID 84"},A.createElement("path",{d:"M393.1,667.59c9.56.93,16.09,7.1,18.16,9.26a31.31,31.31,0,0,1,8.45,17.84c.48,3.91,2,12.9-3.22,18.12a12.1,12.1,0,0,1-4,2.61C398.83,721.21,397.91,732.34,387,736a24.09,24.09,0,0,1-12.95.44c-12.41-2.7-18.68-13.89-20.94-17.92-2.75-4.92-6.3-11.25-4.73-18.65.44-2.07,1.76-6.48,12.11-15.25C373.8,673.33,381.86,666.49,393.1,667.59Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M383.12,690.22a20,20,0,0,0-1.35,7.95c.1,2.82.23,6.58,2.42,7.78,2.45,1.35,5.11-1.81,9.18-.62a8.36,8.36,0,0,1,3.6,2.27",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M374.27,698.79a15.47,15.47,0,0,1,4.71.82c4.18,1.45,9.37,5.37,9.62,10.65a9.14,9.14,0,0,1-.76,4",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_85","data-name":"ID 85"},A.createElement("path",{d:"M330.37,632.64a156.5,156.5,0,0,1,15.29-6.42c7.45-2.69,11.27-4,15.33-3.75,8.19.55,13.88,5.63,16.2,7.69a34.52,34.52,0,0,1,9,13.26c2.06,4.92,4.38,10.47,2.41,16.2-1,3-2.71,4.62-6,7.78-7.73,7.42-11.6,6.54-21.57,14.31-4.37,3.4-5.14,4.75-8.19,5.62-5.72,1.61-11.07-.84-14-2.18a34.12,34.12,0,0,1-13.22-11.23c-2.66-3.73-9.91-13.9-6.64-26C321.31,639.33,327.76,634.41,330.37,632.64Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M352,640.79a24.06,24.06,0,0,0-.65,7.67c.31,4,.46,8.65,3.81,11.27.72.56,3.09,2.21,7.43,1.75",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M343.58,645.83a27.77,27.77,0,0,1,4.41,2.62c2.79,2,5.66,4.13,6.67,7.45,1.49,4.9-2,9.64-2.58,10.45",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_73","data-name":"ID 73"},A.createElement("path",{d:"M653.72,755.81a38.58,38.58,0,0,1-10.79,6.56c-4.12,1.65-14.3,5.73-22,1.41-5.58-3.11-7.16-9.42-10.32-22-2-7.88-3.91-16-.94-25.33,1.32-4.14,2.72-8.53,6.57-10.32,6.4-3,14.89,3.41,21.57,8.44a56.62,56.62,0,0,1,15.49,17.83c3.19,5.81,6.34,11.73,4.22,17.83A14.22,14.22,0,0,1,653.72,755.81Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M648.06,750.66a29.16,29.16,0,0,1-14.94,4.64",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}))),Nz=e=>({11:"UR Central Incisor",12:"UR Lateral Incisor",13:"UR Canine",14:"UR 1st Premolar",15:"UR 2nd Premolar",16:"UR 1st Molar",17:"UR 2nd Molar",18:"UR 3rd Molar",21:"UL Central Incisor",22:"UL Lateral Incisor",23:"UL Canine",24:"UL 1st Premolar",25:"UL 2nd Premolar",26:"UL 1st Molar",27:"UL 2nd Molar",28:"UL 3rd Molar",31:"LR Central Incisor",32:"LR Lateral Incisor",33:"LR Canine",34:"LR 1st Premolar",35:"LR 2nd Premolar",36:"LR 1st Molar",37:"LR 2nd Molar",38:"LR 3rd Molar",41:"LL Central Incisor",42:"LL Lateral Incisor",43:"LL Canine",44:"LL 1st Premolar",45:"LL 2nd Premolar",46:"LL 1st Molar",47:"LL 2nd Molar",48:"LL 3rd Molar",51:"UR Primary Central Incisor",52:"UR Primary Lateral Incisor",53:"UR Primary Canine",54:"UR Primary 1st Molar",55:"UR Primary 2nd Molar",61:"UL Primary Central Incisor",62:"UL Primary Lateral Incisor",63:"UL Primary Canine",64:"UL Primary 1st Molar",65:"UL Primary 2nd Molar",71:"LR Primary Central Incisor",72:"LR Primary Lateral Incisor",73:"LR Primary Canine",74:"LR Primary 1st Molar",75:"LR Primary 2nd Molar",81:"LL Primary Central Incisor",82:"LL Primary Lateral Incisor",83:"LL Primary Canine",84:"LL Primary 1st Molar",85:"LL Primary 2nd Molar"})[e]||`Tooth ${e}`,s2={healthy:"#10B981",decayed:"#DC2626",filled:"#6B7280",missing:"transparent","treatment-planned":"#F97316","root-canal":"#8B5CF6",extraction:"#EF4444",crown:"#F59E0B","has-treatment-before":"#3B82F6","recommended-to-be-treated":"#FBBF24",selected:"#BFDBFE"},MDe=e=>{const t={},r=["healthy"],n=i=>{var s;const o=(s=e==null?void 0:e[i])==null?void 0:s.conditions;return Array.isArray(o)&&o.length>0?o:r},a=i=>{var o;return((o=e==null?void 0:e[i])==null?void 0:o.isSelected)===!0};for(let i=11;i<=18;i++)t[i]={id:i,conditions:n(i),isPrimary:!1,isSelected:a(i)};for(let i=21;i<=28;i++)t[i]={id:i,conditions:n(i),isPrimary:!1,isSelected:a(i)};for(let i=31;i<=38;i++)t[i]={id:i,conditions:n(i),isPrimary:!1,isSelected:a(i)};for(let i=41;i<=48;i++)t[i]={id:i,conditions:n(i),isPrimary:!1,isSelected:a(i)};for(let i=51;i<=55;i++)t[i]={id:i,conditions:n(i),isPrimary:!0,isSelected:a(i)};for(let i=61;i<=65;i++)t[i]={id:i,conditions:n(i),isPrimary:!0,isSelected:a(i)};for(let i=71;i<=75;i++)t[i]={id:i,conditions:n(i),isPrimary:!0,isSelected:a(i)};for(let i=81;i<=85;i++)t[i]={id:i,conditions:n(i),isPrimary:!0,isSelected:a(i)};return t},Ez=[{label:"Healthy",value:"healthy"},{label:"Decayed",value:"decayed"},{label:"Filled",value:"filled"},{label:"Missing",value:"missing"},{label:"Planned Tx",value:"treatment-planned"},{label:"Root Canal",value:"root-canal"},{label:"Extraction",value:"extraction"},{label:"Crown",value:"crown"},{label:"Prior Tx",value:"has-treatment-before"},{label:"Recommend Tx",value:"recommended-to-be-treated"}],M3=A.forwardRef(({initialState:e,onToothSelect:t,readOnly:r=!1},n)=>{console.log("DentalChart: Render triggered. Initial prop value:",JSON.stringify(e));const[a,i]=A.useState({});console.log("DentalChart: Initializing state with {}. Current teethData:",JSON.stringify(a));const[o,s]=A.useState(null),[l,u]=A.useState(null),[d,f]=A.useState(new Set),[h,m]=A.useState(null),[x,g]=A.useState(null),y=A.useRef(null);A.useEffect(()=>{console.log("DentalChart: useEffect for initialState triggered. Prop value:",JSON.stringify(e));const I=MDe(e);console.log("DentalChart: Regenerated initialTeeth based on prop:",JSON.stringify(I)),i(I),console.log("DentalChart: setTeethData called with regenerated state."),Object.entries(I).filter(([,L])=>L.isSelected).map(([L])=>parseInt(L,10))},[e]),A.useImperativeHandle(n,()=>({getTeethData:()=>a}));const _=A.useCallback(I=>{let L=I;for(;L&&L.tagName!=="svg";){if(L.tagName==="g"&&L.id.startsWith("ID_")){const B=L.id.substring(3),P=parseInt(B,10);if(!isNaN(P)&&a[P])return L}L=L.parentNode}return null},[a]),b=A.useCallback(I=>{const L=_(I);if(L){const B=L.id.substring(3);return parseInt(B,10)}return null},[_]),S=A.useCallback(I=>{var j;if(r)return;const L=a[I];if(!L)return;const B=!L.isSelected,P=Object.entries(a).filter(([G,Y])=>parseInt(G,10)===I?B:Y.isSelected).map(([G])=>parseInt(G,10));t==null||t(P);const O={...a,[I]:{...L,isSelected:B}};if(i(O),B){const G=(j=y.current)==null?void 0:j.querySelector(`#ID_${I}`);if(G&&y.current){const Y=y.current.getBoundingClientRect(),re=G.getBoundingClientRect(),q=re.top-Y.top+re.height/2+y.current.scrollTop,K=re.left-Y.left+re.width/2+y.current.scrollLeft,z={id:I,name:Nz(I),conditions:O[I].conditions,top:q,left:K};m(z),g({top:q,left:K})}else m(null),g(null)}else m(null),l!==I&&g(null);f(G=>{const Y=new Set(G);return Y.delete(I),Y})},[r,t,a,l]),C=A.useCallback(I=>{if(r)return;s(I);const L=new Set;let B=!1,P;if(i(O=>{const j={...O};if(Object.keys(j).forEach(Y=>{const re=parseInt(Y,10),q=j[re];if(q.isSelected){let K=[...q.conditions],z=!1;if(I==="healthy")K.length===1&&K[0]==="healthy"||(K=["healthy"],z=!0);else if(I==="missing"){if(!(K.length===1&&K[0]==="missing")){K=["missing"],z=!0,j[re]={...q,conditions:K,isSelected:!1},L.add(re);return}}else{const te=K.indexOf(I);if(te>-1)K.splice(te,1),K.length===0&&K.push("healthy"),z=!0;else{const Q=K.indexOf("healthy");Q>-1&&K.splice(Q,1),K.push(I),z=!0}}z?(j[re]={...q,conditions:K,isSelected:!0},L.add(re),h&&re===h.id&&JSON.stringify(K)!==JSON.stringify(h.conditions)&&(B=!0,P=K)):q.isSelected&&L.add(re)}}),B&&h){const Y=P??h.conditions;m(re=>re?{...re,conditions:Y}:null)}const G=Object.values(j).filter(Y=>Y.isSelected).map(Y=>Y.id);return t==null||t(G),j}),B&&h){const O=P??h.conditions;m(j=>j?{...j,conditions:O}:null)}f(O=>new Set([...O,...L]))},[r,t,a,h]),E=A.useCallback(I=>{if(r)return;const L=b(I.target);L!==null&&S(L)},[r,S,b]),D=A.useCallback(I=>{if(r)return;const L=_(I.target);let B=null;if(L){const P=L.dataset.toothId;if(P){const O=parseInt(P,10);if(B=O,a[O]&&y.current){const G=y.current.getBoundingClientRect(),Y=L.getBoundingClientRect(),re=Y.top-G.top+Y.height/2+y.current.scrollTop,q=Y.left-G.left+Y.width/2+y.current.scrollLeft;g({top:re,left:q})}else(!h||h.id!==O)&&g(null)}}u(B),!B&&!h&&g(null)},[r,_,a,h]),T=A.useCallback(()=>{u(null),h||g(null)},[h]);return A.useEffect(()=>{var L;const I=(L=y.current)==null?void 0:L.querySelector("svg");I&&(I.querySelectorAll(".condition-indicator-dot").forEach(B=>B.remove()),I.querySelectorAll(".tooth-number-text").forEach(B=>B.remove()),Object.entries(a).forEach(([B,P])=>{const O=parseInt(B,10),j=I.querySelector(`#ID_${O}`);if(!j)return;j.dataset.toothId=B,j.classList.remove("tooth-selected","tooth-missing","tooth-hovered","tooth-selection-processed");const G=j.querySelector("path:first-of-type");G&&G.setAttribute("fill","var(--tooth-default-fill, #fff)");let Y=null;const re=P.conditions,q=["missing","extraction","root-canal","crown","filled","decayed","treatment-planned","recommended-to-be-treated","has-treatment-before"];for(const z of q)if(re.includes(z)){Y=z;break}re.length===1&&re[0]==="healthy"&&(Y=null),P.isSelected&&!r&&(d.has(O)?j.classList.add("tooth-selection-processed"):j.classList.add("tooth-selected")),!r&&O===l&&j.classList.add("tooth-hovered"),(Y==="missing"||re.includes("missing"))&&(j.classList.add("tooth-missing"),Y="missing");const K=j.querySelector("path:first-of-type");if(K){let z="var(--tooth-default-fill, #fff)";Y&&Y!=="missing"&&Y!=="healthy"?z=s2[Y]||"var(--tooth-default-fill, #fff)":(Y==="healthy"||!Y)&&(z="var(--tooth-default-fill, #fff)"),Y&&Y!=="missing"?(z=s2[Y]||"var(--tooth-default-fill, #fff)",K.setAttribute("fill",z)):Y==="missing"?K.setAttribute("fill","transparent"):K.setAttribute("fill","var(--tooth-default-fill, #fff)")}}),r?I.classList.add("opacity-75","cursor-default"):(I.classList.remove("opacity-75","cursor-default"),I.classList.add("cursor-pointer")))},[a,r,d,l]),c(Kb,{delayDuration:100,children:w("div",{className:"dental-chart-dialog-content relative",children:[" ",w("div",{className:"flex flex-row",children:[" ",!r&&w("div",{className:"w-[200px] flex-shrink-0 pr-2 self-stretch",children:[" ",c("label",{className:"block text-sm font-medium text-gray-700 mb-2 sticky top-0 bg-background z-10",children:"Select Conditions to Apply:"})," ",c("div",{className:"flex flex-wrap gap-2",children:Ez.map(I=>{const L=!Object.values(a).some(P=>P.isSelected),B=o===I.value;return w(Fe,{variant:"outline",size:"sm",disabled:L,onClick:()=>C(I.value),className:It("text-xs h-8 px-2.5 border rounded-md flex items-center gap-1.5 transition-colors",B?"bg-blue-600 text-white hover:bg-blue-700 border-blue-600":"text-gray-700 bg-white hover:bg-gray-100",L?"opacity-50 cursor-not-allowed":""),children:[c("span",{className:"w-2.5 h-2.5 inline-block rounded-sm border border-gray-400",style:{backgroundColor:s2[I.value]}}),I.label]},I.value)})})]}),c("div",{className:It("relative w-full flex-grow pt-2 pb-2 overflow-y-auto max-h-[350px]",r?"cursor-default":"cursor-pointer"),ref:y,onClick:E,onPointerMove:D,onPointerLeave:T,children:c(RDe,{width:"100%",height:"100%",viewBox:"0 0 698.9 980.66"})}),w(Yb,{open:x!==null,children:[c(Xb,{asChild:!0,children:c("span",{style:{position:"absolute",top:(x==null?void 0:x.top)??0,left:(x==null?void 0:x.left)??0,pointerEvents:"none",width:1,height:1}})}),c(j2,{side:(()=>{const I=(h==null?void 0:h.id)??l;if(I===null)return"top";const L=Math.floor(I/10);return[1,2,5,6].includes(L)?"top":"bottom"})(),align:"center",sideOffset:0,collisionPadding:2,className:It("z-50 rounded-lg shadow-lg p-3 max-w-xs","custom-tooltip-bg"),children:(()=>{const I=(h==null?void 0:h.id)??l;if(I===null)return null;let L=null;if(h&&h.id===I)L=h;else{const Y=a[I];Y&&(L={id:I,name:Nz(I),conditions:Y.conditions??[]})}if(!L)return null;const{id:B,name:P,conditions:O}=L,j=Array.isArray(O)?O:[],G=j.length>1?j.filter(Y=>Y!=="healthy"):j;return w("div",{className:"flex flex-col items-start gap-1.5 text-left",children:[" ",w("div",{className:"font-semibold text-sm",children:["Tooth ",B," - ",P," "]}),c("div",{className:"flex flex-col gap-1",children:G.length===0?w("div",{className:"flex items-center gap-1.5",children:[c("span",{className:"w-2 h-2 rounded-full inline-block",style:{backgroundColor:s2.healthy}}),c("span",{className:"text-xs text-gray-300",children:"Healthy"})]}):G.map(Y=>{const re=Ez.find(q=>q.value===Y);return w("div",{className:"flex items-center gap-1.5",children:[c("span",{className:"w-2 h-2 rounded-full inline-block border border-gray-500",style:{backgroundColor:s2[Y]??"#ccc"}}),c("span",{className:"text-xs text-gray-300",children:(re==null?void 0:re.label)||Y})]},Y)})})]})})()})]})]})," "]})})});M3.displayName="DentalChart";const cR=({value:e={},onChange:t,placeholder:r="Select Teeth...",disabled:n=!1})=>{const[a,i]=A.useState(!1),[o,s]=A.useState(e),l=A.useRef(null);A.useEffect(()=>{s(e)},[e]);const u=g=>{const y={};return Object.entries(g).forEach(([_,b])=>{const S=parseInt(_,10);isNaN(S)||(y[S]={isSelected:!0,conditions:b.conditions})}),y},d=()=>{if(l.current){const g=l.current.getTeethData(),y={};Object.entries(g).forEach(([_,b])=>{b.isSelected&&(y[parseInt(_,10)]={conditions:b.conditions})}),t==null||t(y),s(y)}else console.error("DentalChart ref not available to get data.");i(!1)},f=()=>{i(!1)},h=g=>{n||i(g)},m=Object.keys(e).map(Number).sort((g,y)=>g-y),x=m.length>0?`Selected: ${m.join(", ")}`:"";return w(ei,{open:a,onOpenChange:h,children:[c(Hw,{asChild:!0,children:w("div",{className:"flex items-center gap-2",children:[w(Fe,{variant:"outline",className:"flex items-center gap-1.5",disabled:n,type:"button",children:[c("span",{role:"img","aria-label":"tooth icon",children:""}),r]}),x&&c("span",{className:"text-sm text-muted-foreground",children:x})]})}),w(Ma,{className:"max-w-4xl",children:[" ",w(Fa,{children:[c(La,{children:"Select Affected Teeth"}),c(xo,{children:"Use the interactive chart below to select or deselect teeth. Click Confirm to save your selection."})]}),c(M3,{ref:l,initialState:u(o),readOnly:!1},a?"open":"closed"),w(lo,{children:[c(Fe,{variant:"outline",onClick:f,children:"Cancel"}),c(Fe,{onClick:d,children:"Confirm"})]})]})]})};cR.displayName="ToothSelector";const zte=Le.object({dh_reason_for_visit:Le.enum(["routine_checkup","tooth_pain","gum_issues","sensitivity","cosmetic_concerns","other"]).optional(),dh_reason_for_visit_other:Le.string().optional(),dh_chief_complaint:Le.string().optional(),dh_has_pain:Le.enum(["yes","no"]).optional(),dh_pain_description:Le.string().optional(),dh_pain_scale:Le.enum(["1","2","3","4","5","6","7","8","9","10"]).optional(),dh_pain_duration_onset:Le.string().optional(),dh_past_treatments:Le.array(Le.string()).optional(),dh_past_treatments_other:Le.string().optional(),dh_brushing_frequency:Le.enum(["less_than_once","once_a_day","twice_a_day","more_than_twice"]).optional(),dh_flossing_habits:Le.enum(["yes_daily","no","occasionally"]).optional(),dh_additional_hygiene_products:Le.string().optional(),dh_technique_tools:Le.string().optional(),dh_orthodontic_history:Le.enum(["yes","no"]).optional(),dh_orthodontic_details:Le.string().optional(),dh_has_records:Le.enum(["yes","no"]).optional(),dh_xray_frequency:Le.string().optional(),dh_bite_issues:Le.enum(["yes","no"]).optional(),dh_bite_symptoms:Le.string().optional(),dh_cosmetic_concerns:Le.enum(["yes","no"]).optional(),dh_cosmetic_issues_details:Le.string().optional(),dh_functional_concerns:Le.string().optional(),dh_emergency_history:Le.enum(["yes","no"]).optional(),dh_emergency_details:Le.string().optional(),dh_additional_summary:Le.string().optional(),dh_future_goals:Le.string().optional(),dh_selected_teeth:Le.record(Le.string(),Le.object({conditions:Le.array(Le.enum(["healthy","decayed","filled","missing","treatment-planned","root-canal","extraction","crown","has-treatment-before","recommended-to-be-treated"]))})).optional().default({})}),FDe=[{id:"regular_cleanings",label:"Regular Dental Cleanings (Scaling & Polishing)"},{id:"deep_cleaning",label:"Deep Cleaning (Full Mouth Debridement or SRP)"},{id:"fillings",label:"Fillings",subOptions:[{id:"fillings_composite",label:"Composite (White)"},{id:"fillings_amalgam",label:"Amalgam (Silver)"}]},{id:"extractions",label:"Tooth Extractions",subOptions:[{id:"extraction_simple",label:"Simple Extraction"},{id:"extraction_surgical",label:"Surgical Extraction"}]},{id:"crowns",label:"Crowns (Caps)",subOptions:[{id:"crown_porcelain",label:"Porcelain"},{id:"crown_metal",label:"Metal"},{id:"crown_zirconia",label:"Zirconia"}]},{id:"bridges",label:"Bridges"},{id:"rct",label:"Root Canal Treatment (RCT)",subOptions:[{id:"rct_anterior",label:"Anterior Teeth"},{id:"rct_posterior",label:"Posterior Teeth"}]},{id:"implants",label:"Dental Implants",subOptions:[{id:"implant_single",label:"Single Implant"},{id:"implant_multiple",label:"Multiple Implants"}]},{id:"dentures",label:"Dentures",subOptions:[{id:"denture_full",label:"Full Dentures"},{id:"denture_partial",label:"Partial Dentures"}]},{id:"veneers",label:"Veneers"},{id:"whitening",label:"Teeth Whitening"},{id:"orthodontics",label:"Orthodontic Treatment",subOptions:[{id:"ortho_braces",label:"Braces (Metal or Ceramic)"},{id:"ortho_aligners",label:"Clear Aligners (e.g., Invisalign)"}]},{id:"gum_treatments",label:"Gum Treatments",subOptions:[{id:"gum_surgery",label:"Gum Surgery"},{id:"gum_laser",label:"Laser Gum Therapy"}]},{id:"jaw_treatment",label:"Jaw Treatment",subOptions:[{id:"jaw_tmj",label:"TMJ/TMD Therapy"},{id:"jaw_bite_adjustment",label:"Bite Adjustment / Occlusal Correction"}]},{id:"guards",label:"Night Guards or Mouthguards"},{id:"other_treatment",label:"Other (please specify)"}];function LDe({}){var t;const e=ru();return w("div",{className:"space-y-8",children:[w("div",{className:"space-y-2",children:[c("h2",{className:"text-xl font-semibold",children:"Dental History"}),c("p",{className:"text-sm text-muted-foreground",children:"Please provide your detailed dental history."})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Reason for Visit & Chief Complaint"}),c(Ge,{control:e.control,name:"dh_reason_for_visit",render:({field:r})=>w(Pe,{children:[c(Te,{children:"Primary Reason for Visit"}),w(zr,{onValueChange:r.onChange,value:r.value,children:[c(Oe,{children:c(Br,{children:c(Wr,{placeholder:"Select reason"})})}),w(Ur,{children:[c(wt,{value:"routine_checkup",children:"Routine Checkup"}),c(wt,{value:"tooth_pain",children:"Tooth Pain"}),c(wt,{value:"gum_issues",children:"Gum Issues"}),c(wt,{value:"sensitivity",children:"Sensitivity"}),c(wt,{value:"cosmetic_concerns",children:"Cosmetic Concerns"}),c(wt,{value:"other",children:"Other"})]})]}),c(Xe,{})]})}),e.watch("dh_reason_for_visit")==="other"&&c(Ge,{control:e.control,name:"dh_reason_for_visit_other",render:({field:r})=>w(Pe,{children:[c(Te,{children:"If Other, please describe:"}),c(Oe,{children:c(ot,{placeholder:"Explain reason",...r})}),c(Xe,{})]})}),c(Ge,{control:e.control,name:"dh_chief_complaint",render:({field:r})=>w(Pe,{children:[c(Te,{children:"Chief Complaint Description"}),c(Ai,{children:"Please provide a detailed description of the issue that brought you here. Include when the problem began, how it has progressed, and any pain or discomfort experienced."}),c(Oe,{children:c(Yr,{rows:4,placeholder:"Describe your main concern...",...r})}),c(Xe,{})]})})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Pain & Sensitivity Details"}),c(Ge,{control:e.control,name:"dh_has_pain",render:({field:r})=>w(Pe,{className:"space-y-3",children:[c(Te,{children:"Do you experience any dental pain or sensitivity?"}),c(Oe,{children:w(Fo,{onValueChange:r.onChange,value:r.value,className:"flex space-x-4",children:[w(Pe,{className:"flex items-center space-x-2 space-y-0",children:[c(Oe,{children:c(In,{value:"yes"})}),c(Te,{className:"font-normal",children:"Yes"})]}),w(Pe,{className:"flex items-center space-x-2 space-y-0",children:[c(Oe,{children:c(In,{value:"no"})}),c(Te,{className:"font-normal",children:"No"})]})]})}),c(Xe,{})]})}),e.watch("dh_has_pain")==="yes"&&w(Dr,{children:[c(Ge,{control:e.control,name:"dh_pain_description",render:({field:r})=>w(Pe,{children:[c(Te,{children:"Pain Description"}),c(Ai,{children:"Specify location(s), intensity, frequency, and triggers (temperature, chewing, stress)."}),c(Oe,{children:c(Yr,{rows:3,placeholder:"e.g., Upper left molar, sharp pain (7/10) when chewing cold items, intermittent.",...r})}),c(Xe,{})]})}),c(Ge,{control:e.control,name:"dh_pain_scale",render:({field:r})=>w(Pe,{children:[c(Te,{children:"Pain Scale (1=Mild, 10=Severe)"}),w(zr,{onValueChange:r.onChange,value:r.value,children:[c(Oe,{children:c(Br,{children:c(Wr,{placeholder:"Select pain level"})})}),c(Ur,{children:[...Array(10)].map((n,a)=>c(wt,{value:(a+1).toString(),children:a+1},a+1))})]}),c(Xe,{})]})}),c(Ge,{control:e.control,name:"dh_pain_duration_onset",render:({field:r})=>w(Pe,{children:[c(Te,{children:"Duration & Onset"}),c(Ai,{children:"When did you first notice the pain/sensitivity? Is it constant or intermittent?"}),c(Oe,{children:c(ot,{placeholder:"e.g., Started 2 weeks ago, comes and goes",...r})}),c(Xe,{})]})})]})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Previous Dental Treatments & Procedures"}),c(Ge,{control:e.control,name:"dh_past_treatments",render:()=>w(Pe,{children:[w("div",{className:"mb-4",children:[c(Te,{className:"text-base",children:"Past Treatments"}),c(Ai,{children:"Please select or describe all that apply."})]}),w("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-x-6 gap-y-4",children:[" ",FDe.map(r=>{var n;return w("div",{children:[" ",c(Ge,{control:e.control,name:"dh_past_treatments",render:({field:a})=>{var i;return w(Pe,{className:"flex flex-row items-start space-x-3 space-y-0",children:[c(Oe,{children:c(Ps,{checked:(i=a.value)==null?void 0:i.includes(r.id),onCheckedChange:o=>o===!0?a.onChange([...a.value||[],r.id]):a.onChange((a.value||[]).filter(s=>s!==r.id))})}),c(Te,{className:"font-normal",children:r.label})]})}}),r.subOptions&&((n=e.watch("dh_past_treatments"))==null?void 0:n.includes(r.id))&&w("div",{className:"ml-6 mt-1 space-y-1",children:[" ",r.subOptions.map(a=>c(Ge,{control:e.control,name:"dh_past_treatments",render:({field:i})=>{var o;return w(Pe,{className:"flex flex-row items-start space-x-3 space-y-0",children:[c(Oe,{children:c(Ps,{checked:(o=i.value)==null?void 0:o.includes(a.id),onCheckedChange:s=>{const l=s===!0?[...i.value||[],a.id]:(i.value||[]).filter(u=>u!==a.id);i.onChange(l)}})}),c(Te,{className:"text-sm font-normal",children:a.label})]})}},a.id))]})]},r.id)})]}),c(Xe,{})]})}),((t=e.watch("dh_past_treatments"))==null?void 0:t.includes("other_treatment"))&&c(Ge,{control:e.control,name:"dh_past_treatments_other",render:({field:r})=>w(Pe,{className:"mt-4",children:[" ",c(Te,{children:"Specify Other Treatments:"}),c(Oe,{children:c(Yr,{placeholder:"Describe other treatments...",...r,value:r.value||""})})]})})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Affected Teeth & Conditions"}),c(Ai,{children:"Click the button to select the teeth involved. The specific conditions for these teeth can be detailed in the treatment plan later."}),c(Ge,{control:e.control,name:"dh_selected_teeth",render:({field:r})=>w(Pe,{children:[c(Te,{children:"Affected Teeth"}),c(Oe,{children:c(cR,{value:r.value||{},onChange:r.onChange,placeholder:"Select Affected Teeth..."})}),c(Xe,{})]})})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Oral Hygiene Routine & Home Care"}),c(Ge,{control:e.control,name:"dh_brushing_frequency",render:({field:r})=>w(Pe,{children:[c(Te,{children:"Brushing Frequency"}),w(zr,{onValueChange:r.onChange,value:r.value,children:[c(Oe,{children:c(Br,{children:c(Wr,{placeholder:"Select frequency"})})}),w(Ur,{children:[c(wt,{value:"less_than_once",children:"Less than once a day"}),c(wt,{value:"once_a_day",children:"Once a day"}),c(wt,{value:"twice_a_day",children:"Twice a day"}),c(wt,{value:"more_than_twice",children:"More than twice a day"})]})]}),c(Xe,{})]})}),c(Ge,{control:e.control,name:"dh_flossing_habits",render:({field:r})=>w(Pe,{children:[c(Te,{children:"Flossing Habits"}),w(zr,{onValueChange:r.onChange,value:r.value,children:[c(Oe,{children:c(Br,{children:c(Wr,{placeholder:"Select habit"})})}),w(Ur,{children:[c(wt,{value:"yes_daily",children:"Yes, daily"}),c(wt,{value:"occasionally",children:"Occasionally"}),c(wt,{value:"no",children:"No"})]})]}),c(Xe,{})]})}),c(Ge,{control:e.control,name:"dh_additional_hygiene_products",render:({field:r})=>w(Pe,{children:[c(Te,{children:"Additional Oral Hygiene Products"}),c(Ai,{children:"List products used besides brushing/flossing (mouthwash, water flosser, etc.)."}),c(Oe,{children:c(ot,{placeholder:"e.g., Listerine mouthwash, Waterpik",...r})}),c(Xe,{})]})}),c(Ge,{control:e.control,name:"dh_technique_tools",render:({field:r})=>w(Pe,{children:[c(Te,{children:"Technique & Tools"}),c(Ai,{children:"Describe your brushing technique and any special tools (e.g., electric toothbrush)."}),c(Oe,{children:c(ot,{placeholder:"e.g., Soft bristle brush, circular motions, Sonicare toothbrush",...r})}),c(Xe,{})]})})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"History of Orthodontic Treatment"}),c(Ge,{control:e.control,name:"dh_orthodontic_history",render:({field:r})=>w(Pe,{className:"space-y-3",children:[c(Te,{children:"Have you had braces, clear aligners, or other orthodontic treatments?"}),c(Oe,{children:w(Fo,{onValueChange:r.onChange,value:r.value,className:"flex space-x-4",children:[w(Pe,{className:"flex items-center space-x-2 space-y-0",children:[c(Oe,{children:c(In,{value:"yes"})}),c(Te,{className:"font-normal",children:"Yes"})]}),w(Pe,{className:"flex items-center space-x-2 space-y-0",children:[c(Oe,{children:c(In,{value:"no"})}),c(Te,{className:"font-normal",children:"No"})]})]})}),c(Xe,{})]})}),e.watch("dh_orthodontic_history")==="yes"&&c(Ge,{control:e.control,name:"dh_orthodontic_details",render:({field:r})=>w(Pe,{children:[c(Te,{children:"If yes, specify type, duration, outcomes, challenges:"}),c(Oe,{children:c(Yr,{rows:3,placeholder:"e.g., Traditional braces (2 years), results good, wore retainer.",...r})}),c(Xe,{})]})})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Dental Records & X-Rays"}),c(Ge,{control:e.control,name:"dh_has_records",render:({field:r})=>w(Pe,{className:"space-y-3",children:[c(Te,{children:"Do you have copies of previous dental records or X-rays available?"}),c(Oe,{children:w(Fo,{onValueChange:r.onChange,value:r.value,className:"flex space-x-4",children:[w(Pe,{className:"flex items-center space-x-2 space-y-0",children:[c(Oe,{children:c(In,{value:"yes"})}),c(Te,{className:"font-normal",children:"Yes"})]}),w(Pe,{className:"flex items-center space-x-2 space-y-0",children:[c(Oe,{children:c(In,{value:"no"})}),c(Te,{className:"font-normal",children:"No"})]})]})}),c(Xe,{})]})}),c(Ge,{control:e.control,name:"dh_xray_frequency",render:({field:r})=>w(Pe,{children:[c(Te,{children:"X-Ray Frequency"}),c(Ai,{children:"How often have you had dental X-rays? (Approximate dates if known)."}),c(Oe,{children:c(ot,{placeholder:"e.g., Yearly bitewings, Full mouth series (2020)",...r})}),c(Xe,{})]})})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Occlusal & Bite Concerns"}),c(Ge,{control:e.control,name:"dh_bite_issues",render:({field:r})=>w(Pe,{className:"space-y-3",children:[c(Te,{children:"Do you have issues with your bite or TMJ pain?"}),c(Oe,{children:w(Fo,{onValueChange:r.onChange,value:r.value,className:"flex space-x-4",children:[w(Pe,{className:"flex items-center space-x-2 space-y-0",children:[c(Oe,{children:c(In,{value:"yes"})}),c(Te,{className:"font-normal",children:"Yes"})]}),w(Pe,{className:"flex items-center space-x-2 space-y-0",children:[c(Oe,{children:c(In,{value:"no"})}),c(Te,{className:"font-normal",children:"No"})]})]})}),c(Xe,{})]})}),e.watch("dh_bite_issues")==="yes"&&c(Ge,{control:e.control,name:"dh_bite_symptoms",render:({field:r})=>w(Pe,{children:[c(Te,{children:"If yes, describe symptoms (jaw pain, clicking, difficulty chewing):"}),c(Oe,{children:c(Yr,{rows:3,placeholder:"e.g., Jaw clicks when opening wide, occasional pain on left side",...r})}),c(Xe,{})]})})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Aesthetic & Functional Concerns"}),c(Ge,{control:e.control,name:"dh_cosmetic_concerns",render:({field:r})=>w(Pe,{className:"space-y-3",children:[c(Te,{children:"Are you concerned about the appearance of your teeth?"}),c(Oe,{children:w(Fo,{onValueChange:r.onChange,value:r.value,className:"flex space-x-4",children:[w(Pe,{className:"flex items-center space-x-2 space-y-0",children:[c(Oe,{children:c(In,{value:"yes"})}),c(Te,{className:"font-normal",children:"Yes"})]}),w(Pe,{className:"flex items-center space-x-2 space-y-0",children:[c(Oe,{children:c(In,{value:"no"})}),c(Te,{className:"font-normal",children:"No"})]})]})}),c(Xe,{})]})}),e.watch("dh_cosmetic_concerns")==="yes"&&c(Ge,{control:e.control,name:"dh_cosmetic_issues_details",render:({field:r})=>w(Pe,{children:[c(Te,{children:"Specify concerns (color, shape, alignment, spacing):"}),c(Oe,{children:c(Yr,{rows:3,placeholder:"e.g., Teeth are slightly yellow, gap between front teeth",...r})}),c(Xe,{})]})}),c(Ge,{control:e.control,name:"dh_functional_concerns",render:({field:r})=>w(Pe,{children:[c(Te,{children:"Functional Concerns"}),c(Ai,{children:"Describe difficulties with eating, speaking, etc."}),c(Oe,{children:c(Yr,{rows:3,placeholder:"e.g., Difficulty chewing hard foods on the right side",...r})}),c(Xe,{})]})})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Previous Dental Emergencies & Urgent Care"}),c(Ge,{control:e.control,name:"dh_emergency_history",render:({field:r})=>w(Pe,{className:"space-y-3",children:[c(Te,{children:"Have you experienced any dental emergencies?"}),c(Oe,{children:w(Fo,{onValueChange:r.onChange,value:r.value,className:"flex space-x-4",children:[w(Pe,{className:"flex items-center space-x-2 space-y-0",children:[c(Oe,{children:c(In,{value:"yes"})}),c(Te,{className:"font-normal",children:"Yes"})]}),w(Pe,{className:"flex items-center space-x-2 space-y-0",children:[c(Oe,{children:c(In,{value:"no"})}),c(Te,{className:"font-normal",children:"No"})]})]})}),c(Xe,{})]})}),e.watch("dh_emergency_history")==="yes"&&c(Ge,{control:e.control,name:"dh_emergency_details",render:({field:r})=>w(Pe,{children:[c(Te,{children:"If yes, provide details (when, how managed):"}),c(Oe,{children:c(Yr,{rows:3,placeholder:"e.g., Broken tooth (2022), fixed with a crown",...r})}),c(Xe,{})]})})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Additional Comments & Future Dental Goals"}),c(Ge,{control:e.control,name:"dh_additional_summary",render:({field:r})=>w(Pe,{children:[c(Te,{children:"Overall Dental History Summary"}),c(Ai,{children:"Any additional information not covered above."}),c(Oe,{children:c(Yr,{rows:4,placeholder:"Additional notes...",...r})}),c(Xe,{})]})}),c(Ge,{control:e.control,name:"dh_future_goals",render:({field:r})=>w(Pe,{children:[c(Te,{children:"Future Treatment Goals & Expectations"}),c(Ai,{children:"What outcomes are you hoping for?"}),c(Oe,{children:c(Yr,{rows:4,placeholder:"e.g., Whiter teeth, replace missing tooth",...r})}),c(Xe,{})]})})]})]})}const Wte=Le.object({family_medical_conditions:Le.array(Le.string()).optional(),family_medical_conditions_other:Le.string().optional(),family_dental_issues:Le.array(Le.string()).optional(),family_dental_issues_other:Le.string().optional()}),jDe=[{id:"family_heart_disease",label:"Heart Disease"},{id:"family_diabetes",label:"Diabetes"},{id:"family_high_cholesterol",label:"High Cholesterol"},{id:"family_hypertension",label:"Hypertension"},{id:"family_cancer",label:"Cancer"},{id:"family_osteoporosis",label:"Osteoporosis"}],$De=[{id:"family_gum_disease",label:"Gum Disease"},{id:"family_tooth_loss",label:"Tooth Loss"},{id:"family_orthodontic_issues",label:"Orthodontic Issues"}];function BDe(){const e=ru();return w("div",{className:"space-y-8",children:[w("div",{className:"space-y-2",children:[c("h2",{className:"text-xl font-semibold",children:"Family Medical & Dental History"}),c("p",{className:"text-sm text-muted-foreground",children:"Information about medical and dental conditions in your family."})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Family Medical History"}),c(Ge,{control:e.control,name:"family_medical_conditions",render:()=>w(Pe,{children:[w("div",{className:"mb-4",children:[c(Te,{className:"text-base",children:"Has anyone in your family been diagnosed with the following?"}),c(Ai,{children:"Select all that apply."})]}),c("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:jDe.map(t=>c(Ge,{control:e.control,name:"family_medical_conditions",render:({field:r})=>{var n;return w(Pe,{className:"flex flex-row items-start space-x-3 space-y-0",children:[c(Oe,{children:c(Ps,{checked:(n=r.value)==null?void 0:n.includes(t.id),onCheckedChange:a=>a?r.onChange([...r.value||[],t.id]):r.onChange((r.value||[]).filter(i=>i!==t.id))})}),c(Te,{className:"font-normal",children:t.label})]},t.id)}},t.id))}),c(Xe,{})]})}),c(Ge,{control:e.control,name:"family_medical_conditions_other",render:({field:t})=>w(Pe,{children:[c(Te,{children:"Other family medical conditions:"}),c(Oe,{children:c(ot,{placeholder:"Specify other conditions",...t})}),c(Xe,{})]})})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Family Dental History"}),c(Ge,{control:e.control,name:"family_dental_issues",render:()=>w(Pe,{children:[w("div",{className:"mb-4",children:[c(Te,{className:"text-base",children:"Does your family have a history of dental issues?"}),c(Ai,{children:"Select all that apply."})]}),c("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:$De.map(t=>c(Ge,{control:e.control,name:"family_dental_issues",render:({field:r})=>{var n;return w(Pe,{className:"flex flex-row items-start space-x-3 space-y-0",children:[c(Oe,{children:c(Ps,{checked:(n=r.value)==null?void 0:n.includes(t.id),onCheckedChange:a=>a?r.onChange([...r.value||[],t.id]):r.onChange((r.value||[]).filter(i=>i!==t.id))})}),c(Te,{className:"font-normal",children:t.label})]},t.id)}},t.id))}),c(Xe,{})]})}),c(Ge,{control:e.control,name:"family_dental_issues_other",render:({field:t})=>w(Pe,{children:[c(Te,{children:"Other family dental issues:"}),c(Oe,{children:c(ot,{placeholder:"Specify other issues",...t})}),c(Xe,{})]})})]})]})}const Hte=Le.object({diet_description:Le.string().optional().nullable(),exercise_frequency:Le.preprocess(e=>typeof e=="string"||e===null||e===void 0?e:void 0,Le.enum(["never","occasionally","1-2_per_week","3-4_per_week","daily"]).optional().nullable()),stress_level:Le.enum(["low","moderate","high"]).optional().nullable(),has_sleep_issues:Le.enum(["yes","no"]).optional().nullable(),sleep_issues_details:Le.string().optional().nullable(),pregnancy_status:Le.enum(["yes","no","not_applicable"]).optional().nullable(),pregnancy_comments:Le.string().optional().nullable(),has_mental_health_conditions:Le.enum(["yes","no"]).optional().nullable(),mental_health_details:Le.string().optional().nullable(),additional_concerns:Le.string().optional().nullable(),additional_comments:Le.string().optional().nullable()});function UDe(){const e=ru();return w("div",{className:"space-y-8",children:[w("div",{className:"space-y-2",children:[c("h2",{className:"text-xl font-semibold",children:"Lifestyle & Special Considerations"}),c("p",{className:"text-sm text-muted-foreground",children:"Information about your lifestyle that may be relevant to your health."})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Diet and Nutrition"}),c(Ge,{control:e.control,name:"diet_description",render:({field:t})=>w(Pe,{children:[c(Te,{children:"Describe your typical diet (include details on sugar consumption, acidic foods, etc.):"}),c(Oe,{children:c(Yr,{placeholder:"e.g., Balanced diet, occasional sugary snacks, drink coffee daily...",...t,value:t.value??""})}),c(Xe,{})]})})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Exercise & Stress Levels"}),c(Ge,{control:e.control,name:"exercise_frequency",render:({field:t})=>w(Pe,{children:[c(Te,{children:"How often do you exercise?"}),w(zr,{onValueChange:t.onChange,value:typeof t.value=="boolean"?void 0:t.value??void 0,children:[c(Oe,{children:c(Br,{children:c(Wr,{placeholder:"Select frequency"})})}),w(Ur,{children:[c(wt,{value:"never",children:"Never"}),c(wt,{value:"occasionally",children:"Occasionally"}),c(wt,{value:"1-2_per_week",children:"1-2 times per week"}),c(wt,{value:"3-4_per_week",children:"3-4 times per week"}),c(wt,{value:"daily",children:"Daily"})]})]}),c(Xe,{})]})}),c(Ge,{control:e.control,name:"stress_level",render:({field:t})=>w(Pe,{children:[c(Te,{children:"Rate your overall stress level:"}),w(zr,{onValueChange:t.onChange,value:t.value??void 0,children:[c(Oe,{children:c(Br,{children:c(Wr,{placeholder:"Select stress level"})})}),w(Ur,{children:[c(wt,{value:"low",children:"Low"}),c(wt,{value:"moderate",children:"Moderate"}),c(wt,{value:"high",children:"High"})]})]}),c(Xe,{})]})})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Sleep Patterns"}),c(Ge,{control:e.control,name:"has_sleep_issues",render:({field:t})=>w(Pe,{className:"space-y-3",children:[c(Te,{children:"Do you have any sleep-related issues?"}),c(Oe,{children:w(Fo,{onValueChange:t.onChange,value:t.value??void 0,className:"flex space-x-4",children:[w(Pe,{className:"flex items-center space-x-2 space-y-0",children:[c(Oe,{children:c(In,{value:"yes"})}),c(Te,{className:"font-normal",children:"Yes"})]}),w(Pe,{className:"flex items-center space-x-2 space-y-0",children:[c(Oe,{children:c(In,{value:"no"})}),c(Te,{className:"font-normal",children:"No"})]})]})}),c(Xe,{})]})}),e.watch("has_sleep_issues")==="yes"&&c(Ge,{control:e.control,name:"sleep_issues_details",render:({field:t})=>w(Pe,{children:[c(Te,{children:"If yes, specify (e.g., sleep apnea, bruxism/teeth grinding):"}),c(Oe,{children:c(ot,{placeholder:"e.g., Diagnosed sleep apnea, grind teeth at night",...t,value:t.value??""})}),c(Xe,{})]})})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Pregnancy and/or Lactation"}),c(Ge,{control:e.control,name:"pregnancy_status",render:({field:t})=>w(Pe,{className:"space-y-3",children:[c(Te,{children:"Are you pregnant, planning to become pregnant, or currently breastfeeding?"}),c(Oe,{children:w(Fo,{onValueChange:t.onChange,value:t.value??void 0,className:"flex space-x-4",children:[w(Pe,{className:"flex items-center space-x-2 space-y-0",children:[c(Oe,{children:c(In,{value:"yes"})}),c(Te,{className:"font-normal",children:"Yes"})]}),w(Pe,{className:"flex items-center space-x-2 space-y-0",children:[c(Oe,{children:c(In,{value:"no"})}),c(Te,{className:"font-normal",children:"No"})]}),w(Pe,{className:"flex items-center space-x-2 space-y-0",children:[c(Oe,{children:c(In,{value:"not_applicable"})}),c(Te,{className:"font-normal",children:"Not Applicable"})]})]})}),c(Xe,{})]})}),e.watch("pregnancy_status")==="yes"&&c(Ge,{control:e.control,name:"pregnancy_comments",render:({field:t})=>w(Pe,{children:[c(Te,{children:"Additional comments (if applicable):"}),c(Oe,{children:c(Yr,{placeholder:"e.g., Due date, specific concerns...",...t,value:t.value??""})}),c(Xe,{})]})})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Mental Health"}),c(Ge,{control:e.control,name:"has_mental_health_conditions",render:({field:t})=>w(Pe,{className:"space-y-3",children:[c(Te,{children:"Do you have any mental health conditions (e.g., anxiety, depression) or medications for such conditions?"}),c(Oe,{children:w(Fo,{onValueChange:t.onChange,value:t.value??void 0,className:"flex space-x-4",children:[w(Pe,{className:"flex items-center space-x-2 space-y-0",children:[c(Oe,{children:c(In,{value:"yes"})}),c(Te,{className:"font-normal",children:"Yes"})]}),w(Pe,{className:"flex items-center space-x-2 space-y-0",children:[c(Oe,{children:c(In,{value:"no"})}),c(Te,{className:"font-normal",children:"No"})]})]})}),c(Xe,{})]})}),e.watch("has_mental_health_conditions")==="yes"&&c(Ge,{control:e.control,name:"mental_health_details",render:({field:t})=>w(Pe,{children:[c(Te,{children:"If yes, provide details:"}),c(Oe,{children:c(Yr,{placeholder:"e.g., Diagnosed with anxiety, taking Sertraline",...t,value:t.value??""})}),c(Xe,{})]})})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Additional Concerns and Comments"}),c(Ge,{control:e.control,name:"additional_concerns",render:({field:t})=>w(Pe,{children:[c(Te,{children:"Please list any other issues or concerns:"}),c(Oe,{children:c(Yr,{placeholder:"Any other specific concerns you want to mention?",...t,value:t.value??""})}),c(Xe,{})]})}),c(Ge,{control:e.control,name:"additional_comments",render:({field:t})=>w(Pe,{children:[c(Te,{children:"Additional comments regarding dental or general health:"}),c(Oe,{children:c(Yr,{placeholder:"General comments...",...t,value:t.value??""})}),c(Xe,{})]})})]})]})}const t0=Je.forwardRef(({className:e,onFileChange:t,accept:r,maxSize:n=5,uploading:a=!1,value:i,preview:o,onRemove:s,...l},u)=>{const[d,f]=A.useState(!1),[h,m]=A.useState(null),x=S=>{S.preventDefault(),S.stopPropagation(),S.type==="dragenter"||S.type==="dragover"?f(!0):S.type==="dragleave"&&f(!1)},g=S=>{var C;if(S.size>n*1024*1024)return m(`File size exceeds ${n}MB limit.`),!1;if(r){const E=r.split(",").map(B=>B.trim()),D=S.type,I=(C=S.name.split(".").pop())==null?void 0:C.toLowerCase();if(!E.some(B=>{if(B.startsWith("."))return`.${I}`===B;if(B.includes("*")){const[P]=B.split("/");return D.startsWith(`${P}/`)}else return B===D}))return m("File type not supported."),!1}return m(null),!0},y=S=>{var E;const C=((E=S.target.files)==null?void 0:E[0])||null;if(C&&!g(C)){t&&t(null);return}t&&t(C)},_=S=>{if(S.preventDefault(),S.stopPropagation(),f(!1),S.dataTransfer.files&&S.dataTransfer.files[0]){const C=S.dataTransfer.files[0];g(C)&&t&&t(C)}},b=()=>{if(!i&&!o)return null;const S=o||(i?URL.createObjectURL(i):null),C=(i==null?void 0:i.name)||"File",D=((i==null?void 0:i.type)||"").startsWith("image/")||o&&/\.(jpg|jpeg|png|gif|webp)$/i.test(o);return c("div",{className:"mt-2 relative",children:w("div",{className:"flex items-center p-2 border rounded-md bg-muted",children:[D&&S?c("div",{className:"relative w-16 h-16 mr-3 overflow-hidden rounded",children:c("img",{src:S,alt:"Preview",className:"object-cover w-full h-full"})}):c(fce,{className:"w-12 h-12 mr-3 text-muted-foreground"}),w("div",{className:"flex-1 min-w-0",children:[c("p",{className:"text-sm font-medium truncate",children:C}),c("p",{className:"text-xs text-muted-foreground",children:i!=null&&i.size?`${(i.size/1024/1024).toFixed(2)} MB`:""})]}),s&&c(Fe,{variant:"ghost",size:"sm",onClick:s,type:"button",className:"text-destructive hover:text-destructive",children:c(ph,{className:"w-4 h-4"})})]})})};return w("div",{className:It("space-y-2",e),children:[!(i||o)&&w("div",{className:It("border-2 border-dashed rounded-lg p-6 flex flex-col items-center justify-center cursor-pointer",d?"border-primary bg-primary/5":"border-input",h&&"border-destructive"),onDragEnter:x,onDragOver:x,onDragLeave:x,onDrop:_,onClick:()=>{var S;return(S=document.getElementById(l.id||"file-upload"))==null?void 0:S.click()},children:[a?c(Hn,{className:"w-10 h-10 mb-4 text-muted-foreground animate-spin"}):c(Pce,{className:"w-10 h-10 mb-4 text-muted-foreground"}),c("p",{className:"text-sm font-medium",children:"Drag and drop or click to upload"}),c("p",{className:"text-xs text-muted-foreground mt-1",children:r?`Supported formats: ${r}`:"All files are supported"}),w("p",{className:"text-xs text-muted-foreground mt-1",children:["Max size: ",n,"MB"]}),h&&c("p",{className:"text-xs text-destructive mt-2",children:h})]}),c("input",{id:l.id||"file-upload",type:"file",className:"hidden",onChange:y,ref:u,accept:r,disabled:a,...l}),b(),h&&c("p",{className:"text-xs text-destructive",children:h})]})});t0.displayName="FileUpload";const Vte=Le.object({consent_given:Le.boolean().default(!1),profile_photo:Le.instanceof(File).optional().nullable(),signature:Le.instanceof(File).optional().nullable(),id_document:Le.instanceof(File).optional().nullable(),consent_notes:Le.string().optional()});function qDe(){const e=ru(),[t,r]=A.useState(!1);return w("div",{className:"space-y-6",children:[w("div",{className:"space-y-2",children:[c("h3",{className:"text-lg font-medium",children:"Documents & Consent"}),c("p",{className:"text-sm text-muted-foreground",children:"Upload necessary documents and provide consent for treatment."})]}),c(Ge,{control:e.control,name:"profile_photo",render:({field:n})=>w(Pe,{children:[c(Te,{children:"Profile Photo"}),c(Oe,{children:c(t0,{value:n.value,onFileChange:n.onChange,accept:"image/png,image/jpeg,image/jpg",maxSize:5,uploading:t,onRemove:()=>n.onChange(null)})}),c(Xe,{})]})}),c(Ge,{control:e.control,name:"signature",render:({field:n})=>w(Pe,{children:[c(Te,{children:"Patient Signature"}),c(Oe,{children:c(t0,{value:n.value,onFileChange:n.onChange,accept:"image/png,image/jpeg,image/jpg",maxSize:2,uploading:t,onRemove:()=>n.onChange(null)})}),c(Xe,{})]})}),c(Ge,{control:e.control,name:"id_document",render:({field:n})=>w(Pe,{children:[c(Te,{children:"ID Document"}),c(Oe,{children:c(t0,{value:n.value,onFileChange:n.onChange,accept:"image/png,image/jpeg,image/jpg,application/pdf",maxSize:10,uploading:t,onRemove:()=>n.onChange(null)})}),c(Xe,{})]})}),c(Ge,{control:e.control,name:"consent_given",render:({field:n})=>w(Pe,{className:"flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4",children:[c(Oe,{children:c(Ps,{checked:n.value,onCheckedChange:n.onChange})}),w("div",{className:"space-y-1 leading-none",children:[c(Te,{children:"I consent to treatment"}),c("p",{className:"text-sm text-muted-foreground",children:"By checking this box, I provide consent for dental treatment and procedures."})]})]})}),c(Ge,{control:e.control,name:"consent_notes",render:({field:n})=>w(Pe,{children:[c(Te,{children:"Consent Notes"}),c(Oe,{children:c(Yr,{placeholder:"Any additional notes related to patient consent",...n})}),c(Xe,{})]})})]})}const zDe=Le.object({acknowledgment:Le.boolean().refine(e=>e===!0,{message:"You must acknowledge that the information provided is accurate."}),patient_signature_consent:Le.string().optional(),consent_date:Le.date().optional().default(new Date)}),WDe=Le.object({...qp.shape,...sR.shape,...qte.shape,...zte.shape,...Wte.shape,...Hte.shape,...zDe.shape,...Vte.shape}),HDe=Le.object({first_name:qp.shape.first_name,last_name:qp.shape.last_name,middle_name:qp.shape.middle_name.optional(),gender:qp.shape.gender,age:qp.shape.age,occupation:qp.shape.occupation.optional(),phone:sR.shape.phone}),Od=["personal","contact","medical","dental","family_lifestyle","documents"],vm=e=>e instanceof Le.ZodObject?Object.keys(e.shape):[],VDe={personal:vm(qp),contact:vm(sR),medical:vm(qte),dental:vm(zte),family_lifestyle:[...vm(Wte),...vm(Hte)],documents:vm(Vte)};function uR({patient:e,onSuccess:t,onCancel:r,mode:n="full"}){const{toast:a}=xn(),[i,o]=A.useState(!1),[s,l]=A.useState(!1),[u,d]=A.useState(!1),[f,h]=A.useState(""),[m,x]=A.useState(new Date),[g,y]=A.useState(null),[_,b]=A.useState(Od[0]),[S,C]=A.useState(!0),E=n==="simplified",D={first_name:"",last_name:"",middle_name:"",gender:"male",age:null,occupation:"",phone:""},T={...D,marital_status:"single",email:"",address:"",city:"",state:"",postal_code:"",country:"USA",emergency_contact_name:"",emergency_contact_phone:"",emergency_contact_relationship:"",blood_group:"unknown",height:null,weight:null,has_allergies:"no",medication_allergies:[],other_medication_allergy_details:"",food_allergies:[],other_food_allergy_details:"",environmental_allergies:[],other_environmental_allergy_details:"",other_allergies:[],other_allergy_details:"",other_allergies_manual_input:"",diagnosed_conditions:[],other_diagnosed_condition:"",has_implants:"no",implants_details:"",taking_medications:"no",current_medications:[],recent_health_changes:"no",health_changes_details:"",previous_surgeries:[],immunizations_up_to_date:"not_sure",recent_immunizations:"",recent_medical_screenings:"no",screenings_details:"",dental_material_allergies:"no",dental_material_allergies_details:"",notes:"",dh_reason_for_visit:void 0,dh_reason_for_visit_other:"",dh_chief_complaint:"",dh_has_pain:"no",dh_pain_description:"",dh_pain_scale:void 0,dh_pain_duration_onset:"",dh_past_treatments:[],dh_past_treatments_other:"",dh_brushing_frequency:void 0,dh_flossing_habits:void 0,dh_additional_hygiene_products:"",dh_technique_tools:"",dh_orthodontic_history:"no",dh_orthodontic_details:"",dh_has_records:"no",dh_xray_frequency:"",dh_bite_issues:"no",dh_bite_symptoms:"",dh_cosmetic_concerns:"no",dh_cosmetic_issues_details:"",dh_functional_concerns:"",dh_emergency_history:"no",dh_emergency_details:"",dh_additional_summary:"",dh_future_goals:"",dh_selected_teeth:{},family_medical_conditions:[],family_medical_conditions_other:"",family_dental_issues:[],family_dental_issues_other:"",diet_description:"",exercise_frequency:void 0,stress_level:void 0,has_sleep_issues:"no",sleep_issues_details:"",pregnancy_status:"not_applicable",pregnancy_comments:"",has_mental_health_conditions:"no",mental_health_details:"",additional_concerns:"",additional_comments:"",acknowledgment:!1,patient_signature_consent:"",consent_date:new Date,consent_given:!1,consent_notes:"",profile_photo:void 0,signature:void 0,id_document:void 0},I=A.useCallback(q=>{var te,Q,R,H,X,Z,ie,le,pe,J,me,ve,ae,Ue,He,Ie,he,Ze,pt,ht,Pt,st,xe,Ee,We,ft,mt,De,Ve,_t,At;const K=E?D:T,z=q?{first_name:q.first_name||"",last_name:q.last_name||"",middle_name:q.middle_name||"",gender:q.gender==="male"||q.gender==="female"||q.gender==="other"?q.gender:void 0,age:q.age??null,occupation:q.occupation||"",phone:q.phone||"",...!E&&{marital_status:q.marital_status||"single",email:q.email||"",address:q.address||"",city:q.city||"",state:q.state||"",postal_code:q.postal_code||"",country:q.country||"USA",emergency_contact_name:q.emergency_contact_name||"",emergency_contact_phone:q.emergency_contact_phone||"",emergency_contact_relationship:q.emergency_contact_relationship||"",blood_group:q.blood_group||"unknown",height:q.height??null,weight:q.weight??null,has_allergies:((te=q.detailed_medical_info)==null?void 0:te.has_allergies)||"no",medication_allergies:((Q=q.detailed_medical_info)==null?void 0:Q.medication_allergies)||[],other_medication_allergy_details:((R=q.detailed_medical_info)==null?void 0:R.other_medication_allergy_details)||"",food_allergies:((H=q.detailed_medical_info)==null?void 0:H.food_allergies)||[],other_food_allergy_details:((X=q.detailed_medical_info)==null?void 0:X.other_food_allergy_details)||"",environmental_allergies:((Z=q.detailed_medical_info)==null?void 0:Z.environmental_allergies)||[],other_environmental_allergy_details:((ie=q.detailed_medical_info)==null?void 0:ie.other_environmental_allergy_details)||"",other_allergies:((le=q.detailed_medical_info)==null?void 0:le.other_allergies)||[],other_allergy_details:((pe=q.detailed_medical_info)==null?void 0:pe.other_allergy_details)||"",other_allergies_manual_input:((J=q.detailed_medical_info)==null?void 0:J.other_allergies_manual_input)||"",diagnosed_conditions:Array.isArray(q.medical_conditions)?q.medical_conditions:[],taking_medications:q.current_medications&&Array.isArray(q.current_medications)&&q.current_medications.length>0?"yes":"no",current_medications:Array.isArray(q.current_medications)?q.current_medications:[],previous_surgeries:Array.isArray(q.previous_surgeries)?q.previous_surgeries:[],notes:q.notes||"",consent_given:q.consent_given||!1,...q.dental_history&&typeof q.dental_history=="object"?{...Object.fromEntries(Object.entries(q.dental_history).filter(([ct])=>ct!=="dh_selected_teeth"))}:{},...q.family_medical_history&&typeof q.family_medical_history=="object"?{...q.family_medical_history}:{},diet_description:((me=q.lifestyle_habits)==null?void 0:me.diet)??"",exercise_frequency:((ve=q.lifestyle_habits)==null?void 0:ve.exercise)??void 0,stress_level:((ae=q.lifestyle_habits)==null?void 0:ae.stress)??void 0,has_sleep_issues:(He=(Ue=q.lifestyle_habits)==null?void 0:Ue.sleep_issues)!=null&&He.startsWith("Yes")?"yes":((Ie=q.lifestyle_habits)==null?void 0:Ie.sleep_issues)==="No"?"no":null,sleep_issues_details:(Ze=(he=q.lifestyle_habits)==null?void 0:he.sleep_issues)!=null&&Ze.startsWith("Yes")&&((pt=q.lifestyle_habits)==null?void 0:pt.sleep_issues.replace("Yes, ",""))!=="details missing"?(ht=q.lifestyle_habits)==null?void 0:ht.sleep_issues.replace("Yes, ",""):"",pregnancy_status:((Pt=q.lifestyle_habits)==null?void 0:Pt.pregnancy_status)??void 0,pregnancy_comments:((st=q.lifestyle_habits)==null?void 0:st.pregnancy_comments)??"",has_mental_health_conditions:(Ee=(xe=q.lifestyle_habits)==null?void 0:xe.mental_health)!=null&&Ee.startsWith("Yes")?"yes":((We=q.lifestyle_habits)==null?void 0:We.mental_health)==="No"?"no":void 0,mental_health_details:(mt=(ft=q.lifestyle_habits)==null?void 0:ft.mental_health)!=null&&mt.startsWith("Yes")&&((De=q.lifestyle_habits)==null?void 0:De.mental_health.replace("Yes, ",""))!=="details missing"?(Ve=q.lifestyle_habits)==null?void 0:Ve.mental_health.replace("Yes, ",""):"",additional_concerns:((_t=q.lifestyle_habits)==null?void 0:_t.additional_concerns)??"",additional_comments:((At=q.lifestyle_habits)==null?void 0:At.additional_comments)??""}}:{};return{...K,...z}},[e,E]),L=sd({resolver:ld(E?HDe:WDe),defaultValues:E?D:T,mode:"onChange"});A.useEffect(()=>{C(!0),console.log(`PatientForm: useEffect triggered. Patient ID: ${e==null?void 0:e.id}, Mode: ${n}`),(async()=>{let K=I(e);if(console.log("PatientForm: Base defaults calculated:",JSON.stringify(K)),e!=null&&e.id&&!E)try{console.log("PatientForm: Fetching dental history teeth map for patient:",e.id);const z=await ir.patients.getPatientDentalHistoryTeethMap(e.id);console.log("PatientForm: Fetched dental history teeth map for form:",JSON.stringify(z)),K.dh_selected_teeth=z||{}}catch(z){console.error("Error fetching patient dental history teeth map:",z),a({title:"Error Loading Affected Teeth",description:"Could not load previously selected affected teeth.",variant:"destructive"}),K.dh_selected_teeth={}}else E?E&&delete K.dh_selected_teeth:K.dh_selected_teeth={};console.log("PatientForm: Resetting form with final defaults:",JSON.stringify(K)),L.reset(K),console.log("PatientForm: Form reset complete. Checking form state after reset:",JSON.stringify(L.getValues("dh_selected_teeth"))),C(!1)})()},[e,n,E,I,L,a]);const B=async(q,K,z)=>{if(!(q instanceof File))return null;console.log(`Uploading ${z} for ${K}`);const{data:{session:te},error:Q}=await Me.auth.getSession();if(Q||!te)throw new Error("Auth failed.");const R=q.name.split(".").pop(),H=`public/${K}/${z}-${Date.now()}.${R}`,{error:X}=await Me.storage.from("medical-records").upload(H,q);if(X)throw new Error(`Upload failed: ${X.message}`);const{data:Z}=Me.storage.from("medical-records").getPublicUrl(H);if(!(Z!=null&&Z.publicUrl))throw new Error("Failed to get URL.");return{path:H,url:Z.publicUrl,name:q.name,type:z,size:q.size,uploaded_at:new Date().toISOString()}},P=async q=>{o(!0);try{const K=e==null?void 0:e.id,z=q;if(!K&&(z.profile_photo instanceof File||z.signature instanceof File||z.id_document instanceof File))throw new Error("Cannot upload files for a new patient. Save first.");let te=[],Q=(e==null?void 0:e.profile_photo_url)||null,R=(e==null?void 0:e.signature_url)||null;if(!E&&K){Array.isArray(e==null?void 0:e.documents)&&(te=e.documents);const J=z;if(J.profile_photo instanceof File){const me=await B(J.profile_photo,K,"profile_photo");me&&(Q=me.url,te=te.filter(ve=>ve.type!=="profile_photo"),te.push(me))}if(J.signature instanceof File){const me=await B(J.signature,K,"signature");me&&(R=me.url,te=te.filter(ve=>ve.type!=="signature"),te.push(me))}if(J.id_document instanceof File){const me=await B(J.id_document,K,"id_document");me&&(te=te.filter(ve=>ve.type!=="id_document"),te.push(me))}}else if(!K&&(z.profile_photo instanceof File||z.signature instanceof File||z.id_document instanceof File))throw new Error("Cannot upload files for a new patient. Save first.");const H={first_name:q.first_name||"",last_name:q.last_name||"",middle_name:q.middle_name||null,gender:q.gender==="male"||q.gender==="female"||q.gender==="other"?q.gender:null,age:q.age??null,occupation:q.occupation||null,phone:q.phone||""};let X;if(E)X=H;else{const J=q;X={...H,marital_status:J.marital_status||null,email:J.email||null,address:J.address||null,city:J.city||null,state:J.state||null,postal_code:J.postal_code||null,country:J.country||null,emergency_contact_name:J.emergency_contact_name||null,emergency_contact_phone:J.emergency_contact_phone||null,emergency_contact_relationship:J.emergency_contact_relationship||null,blood_group:J.blood_group||null,height:J.height??null,weight:J.weight??null,medical_conditions:[...J.diagnosed_conditions||[],...J.other_diagnosed_condition?[J.other_diagnosed_condition]:[]].length>0?[...J.diagnosed_conditions||[],...J.other_diagnosed_condition?[J.other_diagnosed_condition]:[]]:null,current_medications:J.taking_medications==="yes"?J.current_medications||[]:null,previous_surgeries:J.previous_surgeries&&J.previous_surgeries.length>0?J.previous_surgeries:null,detailed_medical_info:{has_implants:J.has_implants,implants_details:J.implants_details||null,recent_health_changes:J.recent_health_changes,health_changes_details:J.health_changes_details||null,immunizations_up_to_date:J.immunizations_up_to_date,recent_immunizations:J.recent_immunizations||null,recent_medical_screenings:J.recent_medical_screenings,screenings_details:J.screenings_details||null,dental_material_allergies:J.dental_material_allergies,dental_material_allergies_details:J.dental_material_allergies_details||null,has_allergies:J.has_allergies,medication_allergies:J.medication_allergies||[],other_medication_allergy_details:J.other_medication_allergy_details||null,food_allergies:J.food_allergies||[],other_food_allergy_details:J.other_food_allergy_details||null,environmental_allergies:J.environmental_allergies||[],other_environmental_allergy_details:J.other_environmental_allergy_details||null,other_allergies:J.other_allergies||[],other_allergy_details:J.other_allergy_details||null,other_allergies_manual_input:J.other_allergies_manual_input||null},dental_history:{reason_for_visit:J.dh_reason_for_visit,reason_for_visit_other:J.dh_reason_for_visit_other||null,chief_complaint:J.dh_chief_complaint||null,has_pain:J.dh_has_pain,pain_description:J.dh_pain_description||null,pain_scale:J.dh_pain_scale,pain_duration_onset:J.dh_pain_duration_onset||null,past_treatments:J.dh_past_treatments||[],past_treatments_other:J.dh_past_treatments_other||null,brushing_frequency:J.dh_brushing_frequency,flossing_habits:J.dh_flossing_habits,additional_hygiene_products:J.dh_additional_hygiene_products||null,technique_tools:J.dh_technique_tools||null,orthodontic_history:J.dh_orthodontic_history,orthodontic_details:J.dh_orthodontic_details||null,has_records:J.dh_has_records,xray_frequency:J.dh_xray_frequency||null,bite_issues:J.dh_bite_issues,bite_symptoms:J.dh_bite_symptoms||null,cosmetic_concerns:J.dh_cosmetic_concerns,cosmetic_issues_details:J.dh_cosmetic_issues_details||null,functional_concerns:J.dh_functional_concerns||null,emergency_history:J.dh_emergency_history,emergency_details:J.dh_emergency_details||null,additional_summary:J.dh_additional_summary||null,future_goals:J.dh_future_goals||null},family_medical_history:{conditions:J.family_medical_conditions||[],other:J.family_medical_conditions_other||null,dental_issues:J.family_dental_issues||[],dental_other:J.family_dental_issues_other||null},lifestyle_habits:{diet:J.diet_description||null,exercise:J.exercise_frequency||null,stress:J.stress_level||null,sleep_issues:J.has_sleep_issues==="yes"?J.sleep_issues_details?`Yes, ${J.sleep_issues_details}`:"Yes, details missing":"No",pregnancy_status:J.pregnancy_status||null,pregnancy_comments:J.pregnancy_comments||null,mental_health:J.has_mental_health_conditions==="yes"?J.mental_health_details?`Yes, ${J.mental_health_details}`:"Yes, details missing":"No",additional_concerns:J.additional_concerns||null,additional_comments:J.additional_comments||null},notes:J.notes||null,consent_given:J.consent_given||null,profile_photo_url:Q,signature_url:R,documents:te}}let Z=K,ie=null;const le=X;if(le.dental_history&&typeof le.dental_history=="object"&&(delete le.dental_history.dh_tooth_conditions,le.dental_history=le.dental_history),K)console.log(`Updating existing patient (${n} mode):`,K),await ir.patients.update(K,le);else{console.log(`Creating new patient (${n} mode)...`);const J={...le};delete J.profile_photo_url,delete J.signature_url,delete J.documents,E&&(J.marital_status=null,J.email=null,J.address=null,J.city=null,J.state=null,J.postal_code=null,J.country=null,J.emergency_contact_name=null,J.emergency_contact_phone=null,J.emergency_contact_relationship=null,J.blood_group=null,J.height=null,J.weight=null,J.medical_conditions=null,J.current_medications=null,J.previous_surgeries=null,J.detailed_medical_info=null,J.dental_history=null,J.family_medical_history=null,J.lifestyle_habits=null,J.notes=null,J.consent_given=null);const me={first_name:J.first_name||"",last_name:J.last_name||"",middle_name:J.middle_name||null,gender:J.gender==="male"||J.gender==="female"||J.gender==="other"?J.gender:null,age:J.age??null,occupation:J.occupation||null,phone:J.phone||"",marital_status:J.marital_status||null,email:J.email||null,address:J.address||null,city:J.city||null,state:J.state||null,postal_code:J.postal_code||null,country:J.country||null,emergency_contact_name:J.emergency_contact_name||null,emergency_contact_phone:J.emergency_contact_phone||null,emergency_contact_relationship:J.emergency_contact_relationship||null,blood_group:J.blood_group||null,height:J.height??null,weight:J.weight??null,medical_conditions:J.medical_conditions||null,current_medications:J.current_medications||null,previous_surgeries:J.previous_surgeries||null,detailed_medical_info:J.detailed_medical_info||null,dental_history:J.dental_history||null,family_medical_history:J.family_medical_history||null,lifestyle_habits:J.lifestyle_habits||null,notes:J.notes||null,consent_given:J.consent_given||null};if(ie=await ir.patients.create(me),!(ie!=null&&ie.id))throw new Error("Failed to create patient or retrieve new patient ID.");Z=ie.id,console.log("New patient created:",Z)}if(!E&&Z){const J=q.dh_selected_teeth,me=J?Object.keys(J).map(Number):[];console.log("Saving patient dental history teeth map (with conditions):",JSON.stringify(J));try{await ir.patients.savePatientDentalHistoryTeethWithConditions(Z,J),console.log("Patient dental history teeth (with conditions) saved successfully.")}catch(ve){console.error("Error saving patient dental history teeth:",ve),a({title:"Warning",description:`Patient info saved, but failed to save dental history teeth: ${ve.message}`,variant:"destructive"})}}a({title:"Success",description:K?"Patient information updated successfully.":E?"Basic patient info saved. Complete profile later.":"Patient created successfully. Edit to add documents."}),t(Z)}catch(K){console.error("Error saving patient:",K);let z="Failed to save patient information.";(K.message.startsWith("Auth")||K.message.startsWith("Failed to upload")||K.message.startsWith("Cannot upload")||K.message.startsWith("Upload succeeded"))&&(z=K.message),a({title:"Error",description:z,variant:"destructive"})}finally{o(!1)}},O=q=>{E?P(q):console.warn("onSubmit called unexpectedly in full mode")},j=async()=>{if(E)return;o(!0);const q=VDe[_]||[];if(console.log(`Validating fields for tab "${_}":`,q),q.length===0&&_!=="documents"&&console.warn(`No fields defined for validation on tab: ${_}`),q.length>0?await L.trigger(q):!0){console.log(`Validation passed for tab: ${_}`);const z=L.getValues();y(z),d(!1),h(z.patient_signature_consent||""),x(new Date),l(!0)}else console.log(`Validation failed for tab: ${_}`),a({title:"Validation Error",description:`Please fix the errors on the "${_.replace(/_/g," ").replace(/\b\w/g,z=>z.toUpperCase())}" tab before saving.`,variant:"destructive"});o(!1)},G=()=>{if(u&&g){const q={...g,acknowledgment:u,patient_signature_consent:f,consent_date:m||new Date,consent_given:u};P(q),l(!1),y(null)}else a({title:"Acknowledgment Required",description:"Please acknowledge and provide signature/date in the dialog to save.",variant:"destructive"})},Y=()=>{const q=Od.indexOf(_);q<Od.length-1&&b(Od[q+1])},re=()=>{const q=Od.indexOf(_);q>0&&b(Od[q-1])};return w(Jee,{...L,children:[c("div",{className:"space-y-6",children:E?w("form",{onSubmit:L.handleSubmit(O),className:"space-y-6",children:[w("div",{className:"space-y-6 pt-6 max-h-[calc(90vh-200px)] overflow-y-auto p-1",children:[w("div",{className:"space-y-2",children:[c("h3",{className:"text-lg font-medium",children:"Basic Patient Information"}),c("p",{className:"text-sm text-muted-foreground",children:"Enter the essential details for the new patient."})]}),w("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[c(Ge,{control:L.control,name:"first_name",render:({field:q})=>w(Pe,{children:[c(Te,{children:"First Name"}),c(Oe,{children:c(ot,{placeholder:"John",...q})}),c(Xe,{})]})}),c(Ge,{control:L.control,name:"middle_name",render:({field:q})=>w(Pe,{children:[c(Te,{children:"Middle Name"}),c(Oe,{children:c(ot,{placeholder:"Michael",...q})}),c(Xe,{})]})}),c(Ge,{control:L.control,name:"last_name",render:({field:q})=>w(Pe,{children:[c(Te,{children:"Last Name"}),c(Oe,{children:c(ot,{placeholder:"Doe",...q})}),c(Xe,{})]})}),c(Ge,{control:L.control,name:"gender",render:({field:q})=>w(Pe,{children:[c(Te,{children:"Gender"}),w(zr,{onValueChange:q.onChange,defaultValue:q.value,children:[c(Oe,{children:c(Br,{children:c(Wr,{placeholder:"Select gender"})})}),w(Ur,{children:[c(wt,{value:"male",children:"Male"}),c(wt,{value:"female",children:"Female"}),c(wt,{value:"other",children:"Other"})]})]}),c(Xe,{})]})}),c(Ge,{control:L.control,name:"age",render:({field:q})=>w(Pe,{children:[c(Te,{children:"Age"}),c(Oe,{children:c(ot,{type:"number",placeholder:"25",...q,value:q.value??"",onChange:K=>q.onChange(K.target.value===""?null:K.target.valueAsNumber)})}),c(Xe,{})]})}),c(Ge,{control:L.control,name:"occupation",render:({field:q})=>w(Pe,{children:[c(Te,{children:"Occupation"}),c(Oe,{children:c(ot,{placeholder:"Software Engineer",...q})}),c(Xe,{})]})}),c(Ge,{control:L.control,name:"phone",render:({field:q})=>w(Pe,{children:[c(Te,{children:"Phone Number"}),c(Oe,{children:c(ot,{placeholder:"+1234567890",...q})}),c(Xe,{})]})})]})]}),w("div",{className:"flex justify-end gap-2 pt-4",children:[c(Fe,{type:"button",variant:"outline",onClick:r,children:"Cancel"}),c(Fe,{type:"submit",disabled:i||S,children:i?w(Dr,{children:[c("span",{className:"mr-2",children:"Saving..."}),c(Hn,{className:"h-4 w-4 animate-spin"})]}):S?w(Dr,{children:[c("span",{className:"mr-2",children:"Loading..."}),c(Hn,{className:"h-4 w-4 animate-spin"})]}):"Save Changes"})]})]}):w("div",{className:"pt-6",children:[w(kg,{value:_,onValueChange:b,className:"space-y-4",children:[c(Ng,{children:Od.map(q=>c(ol,{value:q,children:q.replace(/_/g," ").replace(/\b\w/g,K=>K.toUpperCase())},q))}),c(Ei,{value:"personal",className:"max-h-[calc(90vh-250px)] overflow-y-auto p-1",children:c(gDe,{})}),c(Ei,{value:"contact",className:"max-h-[calc(90vh-250px)] overflow-y-auto p-1",children:c(vDe,{})}),c(Ei,{value:"medical",className:"max-h-[calc(90vh-250px)] overflow-y-auto p-1 space-y-8",children:c(IDe,{})}),c(Ei,{value:"dental",className:"max-h-[calc(90vh-250px)] overflow-y-auto p-1 space-y-8",children:c(LDe,{})}),w(Ei,{value:"family_lifestyle",className:"max-h-[calc(90vh-250px)] overflow-y-auto p-1 space-y-8",children:[c(BDe,{}),c(UDe,{})]}),c(Ei,{value:"documents",className:"max-h-[calc(90vh-250px)] overflow-y-auto p-1",children:c(qDe,{})})]}),w("div",{className:"flex justify-between gap-2 pt-4",children:[w("div",{children:[" ",w(Fe,{type:"button",variant:"outline",onClick:re,disabled:Od.indexOf(_)===0,children:[c(f4,{className:"mr-2 h-4 w-4"})," Previous"]}),w(Fe,{type:"button",variant:"outline",onClick:Y,disabled:Od.indexOf(_)===Od.length-1,className:"ml-2",children:["Next ",c(n0,{className:"ml-2 h-4 w-4"})]})]}),w("div",{children:[" ",c(Fe,{type:"button",variant:"outline",onClick:r,className:"mr-2",children:"Cancel"}),c(Fe,{type:"button",onClick:j,disabled:i||S,children:i?w(Dr,{children:[c("span",{className:"mr-2",children:"Validating..."}),c(Hn,{className:"h-4 w-4 animate-spin"})]}):S?w(Dr,{children:[c("span",{className:"mr-2",children:"Loading..."}),c(Hn,{className:"h-4 w-4 animate-spin"})]}):"Save Changes"})]})]})]})})," ",c(ei,{open:s,onOpenChange:l,children:w(Ma,{className:"sm:max-w-[525px]",children:[w(Fa,{children:[w(La,{className:"flex items-center",children:[c(ex,{className:"h-5 w-5 text-green-600 mr-2"})," Consent & Acknowledgment"]}),c(xo,{children:"Please review, acknowledge, and sign below before saving the patient information."})]}),w("div",{className:"space-y-4 py-4",children:[w("div",{className:"flex items-start space-x-3 rounded-md border p-4 shadow-sm",children:[c(Ps,{id:"dialog-acknowledgment",checked:u,onCheckedChange:q=>d(q===!0),className:"mt-1"}),w("div",{className:"grid gap-1.5 leading-none",children:[c("label",{htmlFor:"dialog-acknowledgment",className:"text-sm font-medium peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"I confirm that the information provided is complete and accurate to the best of my knowledge."}),!u&&c("p",{className:"text-sm text-destructive",children:"Acknowledgment is required."})]})]}),w("div",{className:"space-y-2",children:[c(Kt,{htmlFor:"dialog-signature",children:"Patient Signature (Type full name)"}),c(ot,{id:"dialog-signature",placeholder:"Type your full name",value:f,onChange:q=>h(q.target.value)}),c("p",{className:"text-xs text-muted-foreground",children:"Typing your name here acts as your digital signature."})]}),w("div",{className:"space-y-2",children:[c(Kt,{htmlFor:"dialog-consent-date",children:"Date"}),c(ot,{id:"dialog-consent-date",type:"date",value:m?m.toISOString().split("T")[0]:"",onChange:q=>x(q.target.value?new Date(q.target.value):null)})]})]}),w(lo,{children:[c(k3,{asChild:!0,children:c(Fe,{type:"button",variant:"outline",children:"Cancel"})}),c(Fe,{type:"button",onClick:G,disabled:!u||i,children:i?w(Dr,{children:[c("span",{className:"mr-2",children:"Saving..."}),c(Hn,{className:"h-4 w-4 animate-spin"})]}):"Confirm & Save"})]})]})})]})}function GDe(){var An,mi,un;const[e,t]=A.useState(new Date),[r,n]=A.useState("week"),[a,i]=A.useState(null),[o,s]=A.useState(!1),[l,u]=A.useState(!1),[d,f]=A.useState(null),[h,m]=A.useState("patient-select"),[x,g]=A.useState(""),[y,_]=A.useState(null),[b,S]=A.useState(null),[C,E]=A.useState([]),[D,T]=A.useState([]),[I,L]=A.useState([]),[B,P]=A.useState([]),[O,j]=A.useState(!1),[G,Y]=A.useState(""),[re,q]=A.useState(null),[K,z]=A.useState(""),{toast:te}=xn(),Q=100,R="bg-booked-bg text-booked-icon border border-booked-border",H="bg-canceled-bg text-canceled-icon border border-canceled-border line-through opacity-70",[X,Z]=A.useState({type:"checkup",duration:"30",notes:"",reason_for_visit:""}),ie=Array.from({length:11},(yt,Tt)=>{const Sr=Tt+8;return nr(new Date().setHours(Sr,0),"HH:mm")}),le=async()=>{try{let yt,Tt;if(r==="day"?(yt=El(e),Tt=Gv(e)):r==="week"?(yt=ns(e,{weekStartsOn:1}),Tt=Tm(e,{weekStartsOn:1})):r==="month"&&(yt=Bo(e),Tt=c0(e)),!yt||!Tt){console.error("Invalid view state, cannot determine date range:",r);return}console.log(`Fetching appointments from ${yt.toISOString()} to ${Tt.toISOString()}`);const Sr=await ir.appointments.getByDateRange(yt.toISOString(),Tt.toISOString());E(Array.isArray(Sr)?Sr:[])}catch(yt){console.error("Error fetching appointments:",yt),E([])}},pe=async()=>{try{const yt=await ir.patients.getAll();T(yt||[])}catch(yt){console.error("Error fetching patients:",yt),T([])}},J=async()=>{try{const yt=await ir.staff.getDoctors();L(yt||[])}catch(yt){console.error("Error fetching all doctors:",yt),L([])}},me=async(yt,Tt,Sr)=>{if(!yt||!Tt||isNaN(Sr)||Sr<=0){P([]);return}j(!0);try{const Jt=`${nr(yt,"yyyy-MM-dd")}T${Tt}:00`,Re=cL(Jt,"yyyy-MM-dd'T'HH:mm:ss",new Date);if(!xm(Re))throw new Error(`Invalid combined date/time string: ${Jt}`);const xt=new Date(Re.getTime()+Sr*6e4),mr=lL(Re),cr=lL(xt),ln=await ir.staff.getAvailableDoctors(mr,cr);P(ln||[]),b&&!ln.some(ga=>ga.id===b.id)&&S(null)}catch(Fr){console.error("Error fetching available doctors:",Fr),te({variant:"destructive",title:"Error Fetching Doctors",description:"Could not fetch available doctors for the selected slot."}),P([])}finally{j(!1)}};A.useEffect(()=>{le(),pe(),J();const yt=jD("appointments",Tt=>{console.log("Appointment change detected:",Tt),le()});return()=>{yt.unsubscribe()}},[e,r]),A.useEffect(()=>{if(o&&h==="appointment-details"){const yt=parseInt(X.duration);let Tt=null,Sr="";a?(Tt=a.date,Sr=a.time):re&&K&&(Tt=re,Sr=K),Tt&&Sr&&!isNaN(yt)?me(Tt,Sr,yt):P([])}},[o,h,a,re,K,X.duration]);const ve=async yt=>{if(g(yt),yt.length>2)try{const Tt=await ir.patients.search(yt);T(Tt||[])}catch(Tt){console.error("Error searching patients:",Tt),T([])}else yt.length===0&&pe()},ae=async yt=>{console.log("handleBookAppointment called. selectedDoctor:",b);try{if(!y||!b){console.error("Booking validation failed: Missing patient or doctor",{selectedPatient:y,selectedDoctor:b}),te({variant:"destructive",title:"Missing Information",description:"Please select a patient and a doctor."});return}let Tt;const Sr=El(new Date);if(a){Tt=new Date(a.date);const[cr,ln]=a.time.split(":").map(Number);Tt.setHours(cr,ln,0,0)}else{if(!re||!K){te({variant:"destructive",title:"Missing Information",description:"Please select a date and time."});return}const[cr,ln]=K.split(":").map(Number);if(isNaN(cr)||isNaN(ln)){te({variant:"destructive",title:"Invalid Time",description:"Invalid time format selected."});return}if(Tt=new Date(re),Tt.setHours(cr,ln,0,0),!xm(Tt)){te({variant:"destructive",title:"Invalid Date/Time",description:"Invalid date or time selected."});return}}const Fr=new Date;if($p(El(Tt),Sr)){te({variant:"destructive",title:"Booking Restricted",description:"Cannot book appointments for past dates."});return}if(Cp(Tt)&&$p(Tt,Fr)){te({variant:"destructive",title:"Booking Restricted",description:"Cannot book appointments for past times on the current day."});return}const Jt=parseInt(yt.duration);if(isNaN(Jt)||Jt<=0){te({variant:"destructive",title:"Invalid Duration",description:"Invalid appointment duration selected."});return}const Re=new Date(Tt.getTime()+Jt*6e4),xt={patient_id:y.id,staff_id:b.id,title:yt.type,start_time:Tt.toISOString(),end_time:Re.toISOString(),type:yt.type,reason_for_visit:yt.reason_for_visit,notes:yt.notes,status:"scheduled"},mr=await ir.appointments.create(xt);if(mr!=null&&mr.id&&mr.start_time&&mr.patient_id){const cr=mr.id,ln=mr.patient_id,ga=bn(mr.start_time);try{await ir.communications.schedule({patientId:ln,appointmentId:cr,type:"appointment_reminder",channel:"app",scheduledFor:new Date().toISOString()}),console.log(`Immediate app confirmation scheduled for appointment ${cr}`)}catch(gr){console.error("Failed to schedule immediate app confirmation:",gr)}try{const gr=cx(ga,24);gr>new Date?(await ir.communications.schedule({patientId:ln,appointmentId:cr,type:"appointment_reminder",channel:"email",scheduledFor:gr.toISOString()}),console.log(`Email reminder scheduled for appointment ${cr}`),await ir.communications.schedule({patientId:ln,appointmentId:cr,type:"appointment_reminder",channel:"app",scheduledFor:gr.toISOString()}),console.log(`App reminder scheduled for appointment ${cr}`)):console.log(`24-hour reminder time for appointment ${cr} is in the past, not scheduling.`)}catch(gr){console.error("Failed to schedule 24-hour reminder(s):",gr)}}else console.warn("Could not schedule notifications: Missing created appointment data.",mr);s(!1),await le(),te({title:"Appointment Booked",description:`Appointment for ${y.first_name} ${y.last_name} with Dr. ${b.first_name} ${b.last_name} scheduled successfully.`}),Z({type:"checkup",duration:"30",notes:"",reason_for_visit:""}),_(null),S(null),g(""),m("patient-select"),i(null),q(null),z(""),P([])}catch(Tt){console.error("Error booking appointment:",Tt),te({variant:"destructive",title:"Booking Failed",description:`Could not book appointment: ${Tt instanceof Error?Tt.message:"Unknown error"}`})}},Ue=(yt,Tt)=>{yt.stopPropagation(),f({...Tt,notes:Tt.notes||"",type:Tt.type||"checkup"}),u(!0)},He=async()=>{if(!d||!d.id)return;const yt=d.id;try{await ir.appointments.cancel(yt);try{await ir.communications.cancelByAppointment(yt),console.log(`Cancellation request sent for communications related to appointment ${yt}`)}catch(Tt){console.error(`Failed to cancel communications for appointment ${yt}:`,Tt),te({variant:"destructive",title:"Communication Cancellation Failed",description:"Could not cancel scheduled reminders. Please check manually."})}u(!1),await le(),te({title:"Appointment Cancelled",description:"The appointment and any scheduled reminders have been cancelled."})}catch(Tt){console.error("Error cancelling appointment:",Tt),te({variant:"destructive",title:"Cancellation Failed",description:`Could not cancel appointment: ${Tt instanceof Error?Tt.message:"Unknown error"}`})}},Ie=async yt=>{try{if(!d||!d.id)return;const Tt={title:yt.type,type:yt.type,notes:yt.notes};await ir.appointments.update(d.id,Tt),u(!1),await le()}catch(Tt){console.error("Error updating appointment:",Tt),alert(`Failed to update appointment: ${Tt instanceof Error?Tt.message:"Unknown error"}`)}},he=(yt,Tt)=>{const Sr=new Date(yt),[Fr,Jt]=Tt.split(":").map(Number);Sr.setHours(Fr,Jt,0,0);const Re=new Date(Sr);return Re.setHours(Fr+1,Jt,0,0),Array.isArray(C)?C.filter(mr=>{if(!mr||!mr.start_time||!mr.end_time)return!1;try{const cr=bn(mr.start_time),ln=bn(mr.end_time);return!xm(cr)||!xm(ln)?(console.warn("Invalid date found in appointment, skipping:",mr),!1):cr<Re&&ln>Sr}catch(cr){return console.error("Error parsing appointment dates:",mr,cr),!1}}):[]},Ze=yt=>{const Tt=El(yt),Sr=Gv(yt);return Array.isArray(C)?C.filter(Fr=>{if(!Fr||!Fr.start_time)return!1;try{const Jt=bn(Fr.start_time);return xm(Jt)?Jt>=Tt&&Jt<=Sr:(console.warn("Invalid start date found in appointment, skipping:",Fr),!1)}catch(Jt){return console.error("Error parsing appointment start date:",Fr,Jt),!1}}):[]},pt=async yt=>{if(!yt){console.error("PatientForm onSuccess called without a patient ID."),m("patient-select");return}try{const Tt=await ir.patients.getById(yt);if(!Tt)throw new Error("Failed to fetch newly created patient details.");_(Tt),m("appointment-details")}catch(Tt){console.error("Error after creating patient:",Tt),alert(`Patient created, but failed to fetch details: ${Tt instanceof Error?Tt.message:"Unknown error"}. Please select the patient manually.`),m("patient-select")}},ht=()=>{m("patient-select")},Pt=()=>t(e1e(e)),st=()=>t(f1(e,1)),xe=()=>t(Ia(e,-1)),Ee=()=>t(Ia(e,1)),We=()=>t(g6(e,1)),ft=()=>t(cl(e,1)),mt=()=>{const yt=cL(G,"dd/MM/yyyy",new Date);xm(yt)?(t(yt),Y("")):te({variant:"destructive",title:"Invalid Date Format",description:"Please enter date as DD/MM/YYYY."})},De=(yt,Tt)=>{const Sr=new Date,Fr=El(Sr),Jt=El(yt);if($p(Jt,Fr)){te({variant:"destructive",title:"Booking Restricted",description:"Cannot book appointments for past dates."});return}if(Cp(yt)){const[xt,mr]=Tt.split(":").map(Number),cr=new Date(yt);if(cr.setHours(xt,mr,0,0),$p(cr,Sr)){te({variant:"destructive",title:"Booking Restricted",description:"Cannot book appointments for past times on the current day."});return}}i({date:yt,time:Tt}),m("patient-select"),_(null),S(null),Z({type:"checkup",duration:"30",notes:"",reason_for_visit:""}),s(!0);const Re=parseInt(X.duration);me(yt,Tt,Re)},Ve=()=>w("div",{className:"space-y-4",children:[w("div",{className:"flex gap-2",children:[c(ot,{placeholder:"Search patients by name, email, or phone...",value:x,onChange:yt=>ve(yt.target.value)}),w(Fe,{onClick:()=>{m("new-patient"),S(null)},children:[c(Yc,{className:"h-4 w-4 mr-2"}),"New Patient"]})]}),c("div",{className:"h-[300px] overflow-y-auto space-y-2",children:Array.isArray(D)&&D.map(yt=>c(Fe,{variant:"outline",className:"w-full justify-start",onClick:()=>{_(yt),m("appointment-details")},children:w("div",{className:"flex items-center",children:[c(io,{className:"h-4 w-4 mr-2"}),w("div",{className:"text-left",children:[c("p",{className:"font-medium",children:`${yt.first_name} ${yt.last_name}`}),c("p",{className:"text-sm text-muted-foreground",children:yt.phone||"No phone"})]})]})},yt.id))})]}),_t=()=>w("div",{className:"space-y-4",children:[!a&&w("div",{className:"grid grid-cols-2 gap-4",children:[w("div",{className:"space-y-2",children:[c(Kt,{htmlFor:"manual-date",children:"Date"}),c(ot,{id:"manual-date",type:"date",value:re?nr(re,"yyyy-MM-dd"):"",onChange:yt=>q(yt.target.value?bn(yt.target.value):null)})]}),w("div",{className:"space-y-2",children:[c(Kt,{htmlFor:"manual-time",children:"Time"}),c(ot,{id:"manual-time",type:"time",value:K,onChange:yt=>z(yt.target.value)})]})]}),w("div",{className:"space-y-2",children:[c(Kt,{children:"Select Doctor"}),w(zr,{value:(b==null?void 0:b.id)||"",onValueChange:yt=>{const Tt=B.find(Sr=>Sr.id===yt);S(Tt||null)},disabled:O,children:[c(Br,{children:c(Wr,{placeholder:O?"Loading doctors...":"Choose an available doctor"})}),w(Ur,{children:[!O&&B.length===0&&c(wt,{value:"no-doctors",disabled:!0,children:"No doctors available for this slot"}),B.map(yt=>w(wt,{value:yt.id,children:["Dr. ",yt.first_name," ",yt.last_name," ",yt.specialization&&`(${yt.specialization})`]},yt.id))]})]})]}),y&&w("div",{className:"flex items-center space-x-4 p-4 bg-muted rounded-lg",children:[c(io,{className:"h-5 w-5 text-muted-foreground"}),w("div",{children:[c("p",{className:"font-medium",children:`${y.first_name} ${y.last_name}`}),c("p",{className:"text-sm text-muted-foreground",children:y.phone||"No phone"})]})]}),w("div",{className:"space-y-2",children:[c(Kt,{children:"Appointment Type"}),w(zr,{value:X.type,onValueChange:yt=>Z({...X,type:yt}),children:[c(Br,{children:c(Wr,{placeholder:"Select type"})}),w(Ur,{children:[c(wt,{value:"checkup",children:"Checkup"}),c(wt,{value:"cleaning",children:"Cleaning"}),c(wt,{value:"filling",children:"Filling"}),c(wt,{value:"root-canal",children:"Root Canal"})]})]})]}),w("div",{className:"space-y-2",children:[c(Kt,{children:"Duration"}),w(zr,{value:X.duration,onValueChange:yt=>{Z({...X,duration:yt});const Tt=parseInt(yt);let Sr=null,Fr="";a?(Sr=a.date,Fr=a.time):re&&K&&(Sr=re,Fr=K),Sr&&Fr&&!isNaN(Tt)&&me(Sr,Fr,Tt)},children:[c(Br,{children:c(Wr,{placeholder:"Select duration"})}),w(Ur,{children:[c(wt,{value:"30",children:"30 minutes"}),c(wt,{value:"60",children:"1 hour"}),c(wt,{value:"90",children:"1.5 hours"}),c(wt,{value:"120",children:"2 hours"})]})]})]}),w("div",{className:"space-y-2",children:[c(Kt,{htmlFor:"reason-for-visit",children:"Reason for Visit"}),c(Yr,{id:"reason-for-visit",value:X.reason_for_visit,onChange:yt=>Z({...X,reason_for_visit:yt.target.value}),placeholder:"Briefly describe the reason for your visit..."})]}),w("div",{className:"space-y-2",children:[c(Kt,{htmlFor:"notes",children:"Notes"}),c(Yr,{id:"notes",value:X.notes,onChange:yt=>Z({...X,notes:yt.target.value}),placeholder:"Add any other relevant notes..."})]}),w(lo,{children:[c(Fe,{variant:"outline",onClick:()=>m("patient-select"),children:"Back"}),c(Fe,{onClick:()=>ae(X),children:"Book Appointment"})]})]}),At=()=>r==="day"?er():r==="week"?br():r==="month"?en():null,ct=yt=>yt==="cancelled"?H:R,br=()=>{const yt=ns(e,{weekStartsOn:1}),Tt=Tm(e,{weekStartsOn:1}),Sr=D2({start:yt,end:Tt}),Fr=new Date;return w(Kb,{delayDuration:100,children:[" ",w(ur,{children:[w("div",{className:"grid grid-cols-8 border-b",children:[c("div",{className:"p-4 font-medium text-muted-foreground",children:"Time"}),Sr.map(Jt=>w("div",{className:`p-4 text-center border-l ${Cp(Jt)?"bg-blue-50":""}`,children:[c("div",{className:"font-medium",children:nr(Jt,"EEE")}),c("div",{className:"text-sm text-muted-foreground",children:nr(Jt,"d")})]},Jt.toISOString()))]}),c("div",{children:ie.map(Jt=>w("div",{className:"grid grid-cols-8 border-b last:border-0",children:[c("div",{className:"p-4 text-sm text-right text-muted-foreground",children:Jt}),Sr.map(Re=>{const xt=he(Re,Jt);let mr=!1;if(Cp(Re)){const[cr,ln]=Jt.split(":").map(Number),ga=new Date(Re);ga.setHours(cr,ln,0,0),$p(ga,Fr)&&(mr=!0)}return c("div",{onClick:()=>De(Re,Jt),className:`border-l p-1 relative transition-colors overflow-hidden ${mr?"bg-muted/30 cursor-not-allowed opacity-70":"hover:bg-muted/50 cursor-pointer"}`,style:{height:`${Q}px`},children:w("div",{className:"flex flex-wrap gap-2 h-full items-start content-start p-1.5",children:[" ",xt.map(cr=>{var ln,ga,gr,gi;return w(Yb,{children:[c(Xb,{asChild:!0,children:c("div",{className:`w-7 h-7 rounded-md flex items-center justify-center cursor-pointer ring-2 transition-all ${ct(cr.status)} ${cr.status==="cancelled"?"ring-canceled-ring animate-shake":"ring-booked-ring animate-pulse hover:ring-offset-1"}`,onClick:kn=>Ue(kn,cr),children:cr.status==="cancelled"?c(JA,{className:"h-4 w-4 text-canceled-icon"}):c(ZA,{className:"h-4 w-4 text-booked-icon"})})}),w(j2,{side:"top",align:"center",className:"bg-background border shadow-lg rounded-lg p-3 text-sm w-60",children:[w("div",{className:"flex items-center mb-2",children:[c(io,{className:"h-5 w-5 mr-2 text-muted-foreground flex-shrink-0"})," ",w("span",{className:"font-semibold",children:[(ln=cr.patients)==null?void 0:ln.first_name," ",(ga=cr.patients)==null?void 0:ga.last_name]})]}),w("p",{className:"text-muted-foreground text-xs mb-1",children:["Dr. ",(gr=cr.staff)==null?void 0:gr.first_name," ",(gi=cr.staff)==null?void 0:gi.last_name]}),w("p",{className:"text-muted-foreground text-xs mb-1",children:[c(zu,{className:"inline h-3 w-3 mr-1"}),cr.start_time?nr(bn(cr.start_time),"h:mm a"):"No time"," - ",cr.end_time?nr(bn(cr.end_time),"h:mm a"):""]}),w("p",{className:"text-muted-foreground text-xs",children:[c(ek,{className:"inline h-3 w-3 mr-1"}),cr.type]}),cr.status==="cancelled"&&c("p",{className:"text-red-600 text-xs font-semibold mt-1",children:"(Cancelled)"})]})]},cr.id)})]})},Re.toISOString())})]},Jt))})]})]})},er=()=>{const yt=new Date;return w(Kb,{delayDuration:100,children:[" ",w(ur,{children:[w("div",{className:"grid grid-cols-2 border-b",children:[c("div",{className:"p-4 font-medium text-muted-foreground",children:"Time"}),w("div",{className:`p-4 text-center border-l ${Cp(e)?"bg-blue-50":""}`,children:[c("div",{className:"font-medium",children:nr(e,"EEEE")}),c("div",{className:"text-sm text-muted-foreground",children:nr(e,"MMMM d, yyyy")})]})]}),c("div",{children:ie.map(Tt=>{const Sr=he(e,Tt);let Fr=!1;if(Cp(e)){const[Jt,Re]=Tt.split(":").map(Number),xt=new Date(e);xt.setHours(Jt,Re,0,0),$p(xt,yt)&&(Fr=!0)}return w("div",{className:"grid grid-cols-2 border-b last:border-0",children:[c("div",{className:"p-4 text-sm text-right text-muted-foreground",children:Tt}),c("div",{onClick:()=>De(e,Tt),className:`border-l relative transition-colors overflow-hidden ${Fr?"bg-muted/30 cursor-not-allowed opacity-70":"hover:bg-muted/50 cursor-pointer"}`,style:{height:`${Q}px`},children:w("div",{className:"flex flex-wrap gap-2 h-full items-start content-start p-1.5",children:[" ",Sr.map(Jt=>{var Re,xt,mr,cr;return w(Yb,{children:[c(Xb,{asChild:!0,children:c("div",{className:`w-7 h-7 rounded-md flex items-center justify-center cursor-pointer ring-2 transition-all ${ct(Jt.status)} ${Jt.status==="cancelled"?"ring-canceled-ring animate-shake":"ring-booked-ring animate-pulse hover:ring-offset-1"}`,onClick:ln=>Ue(ln,Jt),children:Jt.status==="cancelled"?c(JA,{className:"h-4 w-4 text-canceled-icon"}):c(ZA,{className:"h-4 w-4 text-booked-icon"})})}),w(j2,{side:"top",align:"center",className:"bg-background border shadow-lg rounded-lg p-3 text-sm w-60",children:[w("div",{className:"flex items-center mb-2",children:[c(io,{className:"h-5 w-5 mr-2 text-muted-foreground flex-shrink-0"})," ",w("span",{className:"font-semibold",children:[(Re=Jt.patients)==null?void 0:Re.first_name," ",(xt=Jt.patients)==null?void 0:xt.last_name]})]}),w("p",{className:"text-muted-foreground text-xs mb-1",children:["Dr. ",(mr=Jt.staff)==null?void 0:mr.first_name," ",(cr=Jt.staff)==null?void 0:cr.last_name]}),w("p",{className:"text-muted-foreground text-xs mb-1",children:[c(zu,{className:"inline h-3 w-3 mr-1"}),Jt.start_time?nr(bn(Jt.start_time),"h:mm a"):"No time"," - ",Jt.end_time?nr(bn(Jt.end_time),"h:mm a"):""]}),w("p",{className:"text-muted-foreground text-xs",children:[c(ek,{className:"inline h-3 w-3 mr-1"}),Jt.type]}),Jt.status==="cancelled"&&c("p",{className:"text-red-600 text-xs font-semibold mt-1",children:"(Cancelled)"})]})]},Jt.id)})]})})]},Tt)})})]})]})},en=()=>{const yt=Bo(e),Tt=c0(e),Sr=ns(yt,{weekStartsOn:1}),Fr=Tm(Tt,{weekStartsOn:1}),Jt=D2({start:Sr,end:Fr}),Re=[];let xt=[];return Jt.forEach(mr=>{xt.push(mr),xt.length===7&&(Re.push(xt),xt=[])}),xt.length>0&&Re.push(xt),w(ur,{children:[w(Kb,{delayDuration:300,children:[" ",c("div",{className:"grid grid-cols-7 border-b",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map(mr=>c("div",{className:"p-2 text-center font-medium",children:mr},mr))}),c("div",{children:Re.map((mr,cr)=>c("div",{className:"grid grid-cols-7",children:mr.map(ln=>{const ga=Ze(ln),gr=D4(ln,e),gi=ga.filter(kn=>kn.status!=="cancelled");return w("div",{onClick:()=>{t(ln),n("day")},className:`border p-2 min-h-[120px] relative ${gr?Cp(ln)?"bg-blue-50":"":"bg-gray-100 text-gray-400"} hover:bg-muted/50 cursor-pointer transition-colors`,children:[c("div",{className:`text-right font-medium ${Cp(ln)?"text-blue-600":""}`,children:nr(ln,"d")}),w("div",{className:"mt-1 flex flex-wrap gap-1 overflow-hidden max-h-[80px]",children:[ga.slice(0,3).map(kn=>{var Di,la,ca,de;return w(Yb,{children:[c(Xb,{asChild:!0,children:c("div",{className:`w-5 h-5 rounded flex items-center justify-center cursor-pointer ring-1 transition-all ${ct(kn.status)} ${kn.status==="cancelled"?"ring-canceled-ring animate-shake":"ring-booked-ring animate-pulse hover:ring-offset-1"}`,onClick:Se=>{Se.stopPropagation(),Ue(Se,kn)},children:kn.status==="cancelled"?c(JA,{className:"h-3 w-3 text-canceled-icon"}):c(ZA,{className:"h-3 w-3 text-booked-icon"})})}),w(j2,{side:"top",align:"start",className:"bg-gradient-to-b from-white to-gray-50 border border-gray-200 shadow-xl rounded-lg p-4 text-sm w-64",children:[w("div",{className:"flex items-center mb-2",children:[c(io,{className:"h-5 w-5 mr-2 text-muted-foreground"})," ",w("span",{className:"font-bold text-gray-800",children:[(Di=kn.patients)==null?void 0:Di.first_name," ",(la=kn.patients)==null?void 0:la.last_name]})," "]}),w("p",{className:"text-gray-600 text-xs mb-1 font-medium",children:["Dr. ",(ca=kn.staff)==null?void 0:ca.first_name," ",(de=kn.staff)==null?void 0:de.last_name]})," ",w("p",{className:"text-muted-foreground text-xs mb-1",children:[c(zu,{className:"inline h-3 w-3 mr-1"}),kn.start_time?nr(bn(kn.start_time),"h:mm a"):"No time"," - ",kn.end_time?nr(bn(kn.end_time),"h:mm a"):""]}),w("p",{className:"text-muted-foreground text-xs",children:[c(ek,{className:"inline h-3 w-3 mr-1"}),kn.type]}),kn.status==="cancelled"&&c("p",{className:"text-red-600 text-xs font-semibold mt-1",children:"(Cancelled)"})]})]},kn.id)}),ga.length>3&&w("div",{className:"text-xs text-muted-foreground text-center",children:["+",gi.length-3," more"]})]})]},ln.toISOString())})},cr))})]})," "]})};return w("div",{className:"space-y-6",children:[c(Ca,{heading:"Appointments",text:"Manage and schedule patient appointments",children:w("div",{className:"flex items-center gap-4",children:[c(kg,{value:r,onValueChange:yt=>n(yt),className:"w-fit",children:w(Ng,{children:[c(ol,{value:"month",children:"Month"}),c(ol,{value:"week",children:"Week"}),c(ol,{value:"day",children:"Day"})]})}),(()=>{let yt="",Tt,Sr;if(r==="day")yt=nr(e,"MMMM d, yyyy"),Tt=xe,Sr=Ee;else if(r==="week"){const Fr=ns(e,{weekStartsOn:1}),Jt=Tm(e,{weekStartsOn:1});yt=`${nr(Fr,"MMM d")} - ${nr(Jt,"MMM d, yyyy")}`,Tt=Pt,Sr=st}else r==="month"&&(yt=nr(e,"MMMM yyyy"),Tt=We,Sr=ft);return w("div",{className:"flex items-center gap-2",children:[c(Fe,{variant:"outline",size:"icon",onClick:Tt,children:c(f4,{className:"h-4 w-4"})}),c("span",{className:"text-sm font-medium",children:yt}),c(Fe,{variant:"outline",size:"icon",onClick:Sr,children:c(n0,{className:"h-4 w-4"})})]})})(),w("div",{className:"flex gap-2 ml-auto",children:[c(ot,{className:"w-32",placeholder:"DD/MM/YYYY",value:G,onChange:yt=>Y(yt.target.value)}),c(Fe,{variant:"outline",onClick:mt,children:"Go to Date"})]}),w(Fe,{onClick:()=>{i(null),m("patient-select"),s(!0),P([]),S(null)},children:[c(Yc,{className:"h-4 w-4 mr-2"})," New Appointment"]})]})}),At(),c(ei,{open:o,onOpenChange:s,children:w(Ma,{className:"overflow-y-auto",children:[w(Fa,{children:[c(La,{children:h==="patient-select"?"Select Patient":h==="new-patient"?"New Patient Registration":"Appointment Details"}),a&&h!=="new-patient"&&w(xo,{children:[nr(a.date,"MMMM d, yyyy")," at ",a.time]}),h==="new-patient"&&c(xo,{children:"Enter the new patient's details below."})]}),w("div",{className:"max-h-[75vh] overflow-y-auto p-4",children:[h==="patient-select"&&Ve(),h==="new-patient"&&c(uR,{mode:"simplified",onSuccess:pt,onCancel:ht}),h==="appointment-details"&&_t()]})]})}),c(ei,{open:l,onOpenChange:u,children:w(Ma,{children:[w(Fa,{children:[c(La,{children:"Appointment Details"}),d&&d.start_time&&w(xo,{children:[nr(bn(d.start_time),"MMMM d, yyyy")," at"," ",nr(bn(d.start_time),"h:mm a")]})]}),d&&w("div",{className:"space-y-4",children:[w("div",{className:"flex items-center space-x-4 p-4 bg-muted rounded-lg",children:[c(io,{className:"h-5 w-5 text-muted-foreground"}),w("div",{children:[w("p",{className:"font-medium",children:[(An=d.patients)==null?void 0:An.first_name," ",(mi=d.patients)==null?void 0:mi.last_name]}),w("div",{className:"flex items-center text-sm text-muted-foreground",children:[c(d5,{className:"h-3.5 w-3.5 mr-1"}),((un=d.patients)==null?void 0:un.phone)||"No phone number"]})]})]}),d.staff&&w("div",{className:"flex items-center space-x-4 p-4 bg-muted rounded-lg",children:[c(nce,{className:"h-5 w-5 text-muted-foreground"}),w("div",{children:[w("p",{className:"font-medium",children:["Dr. ",d.staff.first_name," ",d.staff.last_name]}),d.staff.specialization&&c("p",{className:"text-sm text-muted-foreground",children:d.staff.specialization})]})]}),w("div",{className:"space-y-2",children:[c(Kt,{children:"Status"}),c("div",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${d.status==="completed"?"bg-green-100 text-green-800":d.status==="cancelled"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:d.status})]}),w("div",{className:"space-y-2",children:[c(Kt,{children:"Type"}),w(zr,{value:d.type,onValueChange:yt=>f({...d,type:yt}),disabled:d.status!=="scheduled"&&d.status!=="confirmed",children:[c(Br,{children:c(Wr,{placeholder:"Select type"})}),w(Ur,{children:[c(wt,{value:"checkup",children:"Checkup"}),c(wt,{value:"cleaning",children:"Cleaning"}),c(wt,{value:"filling",children:"Filling"}),c(wt,{value:"root-canal",children:"Root Canal"})]})]})]}),w("div",{className:"space-y-2",children:[c(Kt,{children:"Notes"}),c(Yr,{value:d.notes||"",onChange:yt=>f({...d,notes:yt.target.value}),placeholder:"Add any notes about the appointment...",disabled:d.status!=="scheduled"&&d.status!=="confirmed"})]}),w(lo,{children:[(d.status==="scheduled"||d.status==="confirmed")&&w(Dr,{children:[c(Fe,{variant:"destructive",onClick:He,children:"Cancel Appointment"}),c(Fe,{onClick:()=>Ie({type:d.type,notes:d.notes||""}),children:"Update Appointment"})]}),d.status!=="scheduled"&&d.status!=="confirmed"&&c(Fe,{variant:"outline",onClick:()=>u(!1),children:"Close"})]})]})]})})]})}var dR="Progress",fR=100,[KDe,IJe]=Xi(dR),[YDe,XDe]=KDe(dR),Gte=A.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:i=ZDe,...o}=e;(a||a===0)&&!Cz(a)&&console.error(JDe(`${a}`,"Progress"));const s=Cz(a)?a:fR;n!==null&&!Tz(n,s)&&console.error(QDe(`${n}`,"Progress"));const l=Tz(n,s)?n:null,u=PS(l)?i(l,s):void 0;return c(YDe,{scope:r,value:l,max:s,children:c(pr.div,{"aria-valuemax":s,"aria-valuemin":0,"aria-valuenow":PS(l)?l:void 0,"aria-valuetext":u,role:"progressbar","data-state":Xte(l,s),"data-value":l??void 0,"data-max":s,...o,ref:t})})});Gte.displayName=dR;var Kte="ProgressIndicator",Yte=A.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=XDe(Kte,r);return c(pr.div,{"data-state":Xte(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});Yte.displayName=Kte;function ZDe(e,t){return`${Math.round(e/t*100)}%`}function Xte(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function PS(e){return typeof e=="number"}function Cz(e){return PS(e)&&!isNaN(e)&&e>0}function Tz(e,t){return PS(e)&&!isNaN(e)&&e<=t&&e>=0}function JDe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${fR}\`.`}function QDe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${fR} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Zte=Gte,eIe=Yte;const hR=A.forwardRef(({className:e,value:t,...r},n)=>c(Zte,{ref:n,className:It("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:c(eIe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));hR.displayName=Zte.displayName;const tIe=e=>{if(!e)return"N/A";try{return new Date(e).toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})}catch{return e}},Pz=e=>e?e.replace(/_/g," ").replace(/\b\w/g,t=>t.toUpperCase()):"Record",rIe=(e,t)=>typeof e!="object"||e===null?Pz(t):e.subjective!==void 0||e.objective!==void 0||e.assessment!==void 0||e.plan!==void 0?"Consultation Note":e.code!==void 0?"Diagnosis":e.procedure!==void 0?"Treatment":e.medication!==void 0||e.dosage!==void 0||e.frequency!==void 0||e.duration!==void 0?"Prescription":e.test_name!==void 0||e.result_value!==void 0||e.units!==void 0||e.reference_range!==void 0?"Lab Result":e.details!==void 0&&t==="note"?"Other":t==="examination"&&e.description!==void 0&&Object.keys(e).filter(r=>r!=="general_notes"&&r!=="description").length===0?"Examination":t==="procedure"&&e.details!==void 0&&Object.keys(e).filter(r=>r!=="general_notes"&&r!=="details").length===0?"Treatment":Pz(t),nIe=({record:e})=>{let t=null,r=!1;if(typeof e.description=="string"&&e.description.trim().startsWith("{")&&e.description.trim().endsWith("}"))try{t=JSON.parse(e.description),r=!0}catch(s){console.warn(`Failed to parse description JSON for record ${e.id}, treating as raw string:`,s),r=!1}else if(typeof e.description=="string")r=!1;else return console.warn(`Record description is not a string for record ${e.id}`),c("p",{className:"text-sm text-muted-foreground",children:"Could not display details."});if(!r)return e.description&&e.description.trim()!==""?c("p",{className:"text-sm whitespace-pre-wrap",children:e.description}):c("p",{className:"text-sm text-muted-foreground",children:"No details provided."});if(t===null||typeof t!="object"||Object.keys(t).length===0)return c("p",{className:"text-sm text-muted-foreground",children:"No details provided."});const n=Object.keys(t),a=n.length===1&&n[0]==="general_notes",i=!t.general_notes||String(t.general_notes).trim()==="";if(a&&i)return c("p",{className:"text-sm text-muted-foreground",children:"No details provided."});const o=["subjective","objective","assessment","plan","code","description","procedure","details","medication","dosage","frequency","duration","test_name","result_value","reference_range"].some(s=>t[s]!==void 0&&t[s]!==null&&String(t[s]).trim()!=="");return a&&!i?c("p",{className:"text-sm whitespace-pre-wrap",children:t.general_notes}):!o&&i?c("p",{className:"text-sm text-muted-foreground",children:"No details provided."}):w("div",{className:"text-sm space-y-1 mt-2",children:[t.general_notes&&!i&&w("p",{children:[c("strong",{children:"General Notes:"})," ",t.general_notes]}),t.subjective&&w("p",{children:[c("strong",{children:"Subjective:"})," ",t.subjective]}),t.objective&&w("p",{children:[c("strong",{children:"Objective:"})," ",t.objective]}),t.assessment&&w("p",{children:[c("strong",{children:"Assessment:"})," ",t.assessment]}),t.plan&&w("p",{children:[c("strong",{children:"Plan:"})," ",t.plan]}),t.code&&w("p",{children:[c("strong",{children:"Code:"})," ",t.code]}),t.description&&!t.subjective&&w("p",{children:[c("strong",{children:"Description:"})," ",t.description]}),t.procedure&&w("p",{children:[c("strong",{children:"Procedure:"})," ",t.procedure]}),t.details&&!t.procedure&&w("p",{children:[c("strong",{children:"Details:"})," ",t.details]}),t.medication&&w("p",{children:[c("strong",{children:"Medication:"})," ",t.medication]}),t.dosage&&w("p",{children:[c("strong",{children:"Dosage:"})," ",t.dosage]}),t.frequency&&w("p",{children:[c("strong",{children:"Frequency:"})," ",t.frequency]}),t.duration&&w("p",{children:[c("strong",{children:"Duration:"})," ",t.duration]}),t.test_name&&w("p",{children:[c("strong",{children:"Test:"})," ",t.test_name]}),t.result_value&&w("p",{children:[c("strong",{children:"Result:"})," ",t.result_value," ",t.units||""]}),t.reference_range&&w("p",{children:[c("strong",{children:"Range:"})," ",t.reference_range]}),t.details&&e.record_type==="note"&&w("p",{children:[c("strong",{children:"Details:"})," ",t.details]})]})};function Jte({medicalRecords:e=[],onAddMedicalRecord:t}){const[r,n]=A.useState(""),o=e.map(f=>{let h=null;try{typeof f.description=="string"&&(h=JSON.parse(f.description))}catch(m){console.warn(`Failed to parse description for record ${f.id}:`,f.description,m)}return{...f,displayType:rIe(h,f.record_type||"")}}).filter(f=>{var y;const h=((y=f.teeth)==null?void 0:y.map(_=>_.id).join(" "))||"",m=JSON.stringify({...f,description:"",teeth:""}).toLowerCase(),x=typeof f.description=="string"?f.description.toLowerCase():"",g=r.toLowerCase();return m.includes(g)||x.includes(g)||h.includes(g)}).reduce((f,h)=>{const m=h.record_date?new Date(h.record_date).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}):"Unknown Date";return f[m]||(f[m]=[]),f[m].unshift(h),f},{}),s=Object.keys(o).sort((f,h)=>f==="Unknown Date"?1:h==="Unknown Date"?-1:new Date(h).getTime()-new Date(f).getTime()),[l,u]=A.useState(new Set),d=f=>{u(h=>{const m=new Set(h);return m.has(f)?m.delete(f):m.add(f),m})};return w(ur,{children:[w(wr,{className:"flex flex-row items-center justify-between",children:[c(_r,{children:"Medical Records History"}),w(Fe,{variant:"outline",size:"sm",onClick:t,children:[c(Nh,{className:"mr-2 h-4 w-4"})," Add Record"]})]}),w(xr,{children:[c("div",{className:"flex justify-between items-center mb-4",children:c(ot,{type:"search",value:r,onChange:f=>n(f.target.value),placeholder:"Search records (type, details, teeth...)"})}),s.length>0?c("div",{className:"space-y-6",children:s.map(f=>{const h=o[f],m=l.has(f);return w("div",{children:[w("div",{className:"flex justify-between items-center mb-2 pb-2 border-b",children:[c("h3",{className:"text-lg font-medium",children:f}),c(Fe,{variant:"ghost",size:"sm",onClick:()=>d(f),children:m?"Hide Details":`View Details (${h.length})`})]}),m&&c("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:h.map(x=>{var g;return w("div",{className:"p-3 border rounded bg-background",children:[" ",c("p",{className:"font-semibold",children:x.displayType}),w("p",{className:"text-sm text-muted-foreground",children:["Time: ",(g=tIe(x.record_date))==null?void 0:g.split(", ").pop()," "]}),c(nIe,{record:x}),x.staff&&w("p",{className:"text-xs text-muted-foreground mt-1",children:["Recorded by: ",x.staff.first_name," ",x.staff.last_name]}),x.teeth&&x.teeth.length>0&&w("div",{className:"mt-2 pt-2 border-t border-dashed",children:[c("p",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Associated Teeth:"}),c("div",{className:"flex flex-wrap gap-1",children:x.teeth.map(y=>c(Zu,{variant:"secondary",className:"text-xs font-normal",children:y.id},y.id))})]}),x.attachments&&x.attachments.length>0&&w("div",{className:"mt-2 pt-2 border-t border-dashed",children:[c("p",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Attachments:"}),c("p",{className:"text-sm",children:JSON.stringify(x.attachments)})]})]},x.id)})})]},f)})}):w("p",{className:"text-sm text-muted-foreground",children:["No medical records found",r?" matching your search":"","."]})]})]})}const aIe="/DentalCare-Pro/teethselectdiagram.svg",ji=({icon:e,label:t,value:r})=>r?w("div",{className:"flex items-start py-2",children:[c(e,{className:"h-5 w-5 text-muted-foreground mr-3 mt-1 flex-shrink-0"}),w("div",{children:[c("p",{className:"text-sm font-medium text-muted-foreground",children:t}),typeof r=="string"||typeof r=="number"?c("p",{className:"text-base",children:r}):c("div",{className:"text-base",children:r})]})]}):null,$T=e=>{if(!e)return"N/A";try{return new Date(e).toLocaleString()}catch{return e}},iIe=e=>{if(!e||typeof e!="object")return"No significant family history reported.";const t=e==null?void 0:e.conditions,r=e==null?void 0:e.other;let n="",a="";return Array.isArray(t)&&t.length>0&&(n=t.map(i=>i.replace(/_/g," ").replace(/\b\w/g,o=>o.toUpperCase())).join(", ")),r&&typeof r=="string"&&r.trim()!==""&&(a=`Other: ${r.trim()}`),n&&a?`${n}, ${a}`:n||a||"No significant family history reported."},oIe=e=>{if(!e||typeof e!="object")return"No lifestyle habits reported.";const t=[];Object.entries(e).forEach(([n,a])=>{if(a&&typeof a=="string"&&a.trim()!==""){const i=n.replace(/_/g," ").replace(/\b\w/g,o=>o.toUpperCase());t.push(`${i}: ${a.trim()}`)}});const r=t.length>0?t.join("; "):"No lifestyle habits reported.";return console.log("generateLifestyleSummary result:",r,"Input habits:",e),r},sIe=e=>{if(!e||typeof e!="object")return"No specific details reported.";const t=[];return e.has_implants==="yes"&&t.push(`Implants: Yes${e.implants_details?` (${e.implants_details})`:""}`),e.recent_health_changes==="yes"&&t.push(`Recent Health Changes: Yes${e.health_changes_details?` (${e.health_changes_details})`:""}`),e.recent_medical_screenings==="yes"&&t.push(`Screenings: Yes${e.screenings_details?` (${e.screenings_details})`:""}`),e.dental_material_allergies==="yes"&&t.push(`Dental Material Allergies: Yes${e.dental_material_allergies_details?` (${e.dental_material_allergies_details})`:""}`),e.immunizations_up_to_date&&e.immunizations_up_to_date!=="not_sure"&&t.push(`Immunizations Up To Date: ${e.immunizations_up_to_date}`),e.recent_immunizations&&e.recent_immunizations.trim()!==""&&t.push(`Recent Immunizations: ${e.recent_immunizations}`),t.length>0?t.join("; "):"No specific details reported."},lIe=e=>{if(!e||typeof e!="object")return"N/A";const t=[];return e.chief_complaint&&t.push(`Complaint: ${e.chief_complaint}`),(e.has_pain==="yes"||e.has_pain===!0)&&t.push(`Pain: Yes (Scale: ${e.pain_scale||"N/A"}, Desc: ${e.pain_description||"N/A"})`),e.brushing_frequency&&t.push(`Brushing: ${e.brushing_frequency}`),e.flossing_habits&&t.push(`Flossing: ${e.flossing_habits}`),e.past_treatments_details&&t.push(`Past Tx: ${e.past_treatments_details}`),(e.orthodontic_history==="yes"||e.orthodontic_history===!0)&&t.push(`Ortho: Yes (${e.orthodontic_details||"details missing"})`),(e.bite_issues==="yes"||e.bite_issues===!0)&&t.push(`Bite Issues: Yes (${e.bite_symptoms||"details missing"})`),t.length>0?t.join("; "):"No specific dental history reported."},cIe=e=>{if(!Array.isArray(e)||e.length===0)return"None reported.";const t=e.filter(r=>r&&typeof r=="object"&&r.name);return t.length===0?"None reported.":w("ul",{className:"list-disc pl-5 space-y-1 text-sm",children:[" ",t.map((r,n)=>w("li",{children:[c("span",{className:"font-medium",children:r.name}),r.dosage&&` (${r.dosage})`,r.frequency&&` - ${r.frequency}`]},n))]})},uIe=e=>{if(!Array.isArray(e)||e.length===0)return"None reported.";const t=e.filter(r=>r&&typeof r=="object"&&r.type);return t.length===0?"None reported.":w("ul",{className:"list-disc pl-5 space-y-1 text-sm",children:[" ",t.map((r,n)=>w("li",{children:[c("span",{className:"font-medium",children:r.type}),r.date&&` (Approx. ${r.date})`,r.notes&&w("span",{className:"block text-xs text-muted-foreground pl-2",children:["Notes: ",r.notes]})," "]},n))]})};function dIe({patient:e,appointments:t=[],medicalRecords:r=[],dentalHistoryTeeth:n=[],onEdit:a,onBookAppointment:i,onAddMedicalRecord:o}){const[s,l]=A.useState(null),[u,d]=A.useState(!0);if(A.useEffect(()=>{d(!0),fetch(aIe).then(y=>{if(!y.ok)throw console.error("SVG Fetch Response Status:",y.status,y.statusText),new Error(`Network response was not ok: ${y.status} ${y.statusText}`);return y.text()}).then(y=>{l(y),d(!1)}).catch(y=>{console.error("Error fetching SVG:",y),d(!1)})},[]),console.log("Patient object received in PatientDetailsView:",e),console.log("Appointments received:",t),console.log("Medical Records received:",r),console.log("PatientDetailsView received dentalHistoryTeeth prop:",JSON.stringify(n,null,2)),!e)return null;const f=Array.isArray(e.documents)?e.documents:[],h=f.find(y=>y.type==="profile_photo"),m=f.filter(y=>y.type!=="profile_photo"),x={healthy:"Healthy",decayed:"Decayed",filled:"Filled",missing:"Missing","treatment-planned":"Planned Tx","root-canal":"Root Canal",extraction:"Extraction",crown:"Crown","has-treatment-before":"Prior Tx","recommended-to-be-treated":"Recommend Tx"},g=y=>x[y]||y.replace(/_/g," ");return w("div",{className:"space-y-6",children:[w(ur,{children:[c(wr,{children:c(_r,{children:"Personal Information"})}),w(xr,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c(ji,{icon:io,label:"Full Name",value:`${e.first_name||""} ${e.last_name||""}`}),c(ji,{icon:io,label:"Gender",value:e.gender}),c(ji,{icon:io,label:"Age",value:e.age}),c(ji,{icon:io,label:"Registration Number",value:e.registration_number})]})]}),w(ur,{children:[c(wr,{children:c(_r,{children:"Contact Information"})}),w(xr,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c(ji,{icon:d5,label:"Phone",value:e.phone}),c(ji,{icon:h4,label:"Email",value:e.email}),c(ji,{icon:vce,label:"Address",value:`${e.address||""}, ${e.city||""}, ${e.state||""} ${e.postal_code||""}`})]})]}),w(ur,{children:[c(wr,{children:c(_r,{children:"Emergency Contact"})}),w(xr,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c(ji,{icon:io,label:"Name",value:e.emergency_contact_name}),c(ji,{icon:d5,label:"Phone",value:e.emergency_contact_phone}),c(ji,{icon:io,label:"Relationship",value:e.emergency_contact_relationship})]})]}),w(ur,{children:[c(wr,{children:c(_r,{children:"Medical & Dental Overview"})}),w(xr,{className:"space-y-6",children:[" ",w("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[c(ji,{icon:xce,label:"Height",value:e.height?`${e.height} cm`:"N/A"}),c(ji,{icon:Dce,label:"Weight",value:e.weight?`${e.weight} kg`:"N/A"}),c(ji,{icon:dce,label:"Blood Group",value:e.blood_group})]}),w("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t",children:[c(ji,{icon:Qle,label:"Allergies",value:Array.isArray(e.allergies)?e.allergies.join(", "):e.allergies||"None reported"}),c(ji,{icon:QA,label:"Medical Conditions",value:Array.isArray(e.medical_conditions)?e.medical_conditions.join(", "):e.medical_conditions||"None reported"})]}),w("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t",children:[c(ji,{icon:QA,label:"Current Medications",value:cIe(e.current_medications)}),c(ji,{icon:QA,label:"Previous Surgeries / Hospitalizations",value:uIe(e.previous_surgeries)})]}),w("div",{className:"space-y-4 pt-4 border-t",children:[c("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:"History & Habits"}),c(ji,{icon:YP,label:"Detailed Medical Info",value:sIe(e.detailed_medical_info)}),c(ji,{icon:YP,label:"Dental History Summary",value:lIe(e.dental_history)}),c(ji,{icon:m4,label:"Family Medical History",value:iIe(e.family_medical_history)}),c(ji,{icon:N2,label:"Lifestyle Habits",value:oIe(e.lifestyle_habits)})]}),w("div",{className:"pt-4 border-t",children:[c("h4",{className:"text-sm font-medium text-muted-foreground mb-3",children:"Affected Teeth"}),u?c("p",{className:"text-sm text-muted-foreground",children:"Loading tooth chart..."}):s?Array.isArray(n)&&n.length>0?c("div",{className:"grid grid-cols-4 sm:grid-cols-6 md:grid-cols-8 lg:grid-cols-10 gap-2",children:n.sort((y,_)=>y.tooth_id-_.tooth_id).map(y=>{let _='<p class="text-xs text-red-500">Not found</p>';try{const C=new DOMParser().parseFromString(s,"image/svg+xml").getElementById(`ID_${y.tooth_id}`);if(C){const E=C.cloneNode(!0);let D="0 0 50 50",T="scale(0.5) translate(-50, -50)";try{const j=document.createElementNS("http://www.w3.org/2000/svg","svg");j.style.position="absolute",j.style.visibility="hidden",j.appendChild(E.cloneNode(!0)),document.body.appendChild(j);const G=j.firstChild.getBBox();document.body.removeChild(j),G&&G.width>0&&G.height>0?(D=`${G.x-10} ${G.y-10} ${G.width+10*2} ${G.height+10*2}`,T=""):console.warn(`Could not get valid BBox for tooth ${y.tooth_id}. Using fallback viewBox/transform.`)}catch(j){console.warn(`Error getting BBox for tooth ${y.tooth_id}:`,j,". Using fallback viewBox/transform.")}const I="#FFFFFF",L="#666666",B="0.5";E.querySelectorAll("path").forEach(j=>{j.setAttribute("fill",I),j.setAttribute("stroke",L),j.setAttribute("stroke-width",B)});const O=E.outerHTML;_=`<svg viewBox="${D}" preserveAspectRatio="xMidYMid meet" width="40" height="40"><g ${T?`transform="${T}"`:""}>${O}</g></svg>`}else console.warn(`SVG element for tooth ID_${y.tooth_id} not found.`)}catch(b){console.error("Error parsing SVG content:",b),_='<p class="text-xs text-red-500">Parse error</p>'}return w("div",{className:"flex flex-col items-center border p-2 rounded-md shadow-sm bg-white hover:shadow-md transition-shadow duration-150",title:`Tooth ${y.tooth_id}`,children:[w("span",{className:"text-xs font-bold text-gray-700",children:["T",y.tooth_id]}),c("div",{dangerouslySetInnerHTML:{__html:_},className:"my-1"}),y.conditions&&y.conditions.length>0&&c("div",{className:"mt-1 text-center",children:y.conditions.filter(b=>!(y.conditions&&y.conditions.length>1&&b==="healthy")).map((b,S)=>w("span",{className:"block text-[10px] leading-tight text-blue-600",children:[g(b)," "]},S))})]},y.tooth_id)})}):Array.isArray(n)&&n.length===0?c("p",{className:"text-sm text-muted-foreground",children:"No affected teeth selected in dental history."}):c("p",{className:"text-sm text-muted-foreground",children:"Loading affected teeth data..."}):c("p",{className:"text-sm text-red-500",children:"Error loading tooth chart SVG."})]})]})]}),w(ur,{children:[c(wr,{children:c(_r,{children:"Documents & Consent"})}),w(xr,{className:"space-y-4",children:[h&&w("div",{className:"flex items-start py-2",children:[c(zV,{className:"h-5 w-5 text-muted-foreground mr-3 mt-1 flex-shrink-0"}),w("div",{children:[c("p",{className:"text-sm font-medium text-muted-foreground",children:"Profile Photo"}),c("img",{src:h.url,alt:"Profile",className:"mt-1 max-w-xs max-h-40 rounded border"})]})]}),m.length>0&&w("div",{className:"space-y-3 pt-2",children:[c("p",{className:"text-sm font-medium text-muted-foreground",children:"Other Documents"}),m.map(y=>w("div",{className:"flex items-center justify-between p-2 border rounded hover:bg-muted/50",children:[w("div",{className:"flex items-center space-x-2",children:[c(_ce,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"}),c("span",{className:"text-sm truncate",title:y.name,children:y.name}),w("span",{className:"text-xs text-muted-foreground",children:["(",y.type,")"]})]}),c("a",{href:y.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline ml-4",children:"View"})]},y.path))]}),w("div",{className:"flex items-start py-2",children:[c(sce,{className:"h-5 w-5 text-muted-foreground mr-3 mt-1 flex-shrink-0"}),w("div",{children:[c("p",{className:"text-sm font-medium text-muted-foreground",children:"Consent Given"}),c("p",{className:"text-base",children:e.consent_given?"Yes":"No"}),e.consent_date&&w("p",{className:"text-sm text-muted-foreground mt-1",children:["Date: ",$T(e.consent_date)]}),e.signature_url&&w("div",{className:"mt-2",children:[c("p",{className:"text-sm font-medium text-muted-foreground",children:"Signature"}),c("img",{src:e.signature_url,alt:"Signature",className:"mt-1 max-w-xs max-h-20 rounded border"})]})]})]}),f.length===0&&!h&&c("p",{className:"text-sm text-muted-foreground",children:"No documents uploaded."})]})]}),c(Jte,{medicalRecords:r,onAddMedicalRecord:o}),w(ur,{children:[c(wr,{children:c(_r,{children:"Appointment History"})}),c(xr,{children:t&&t.length>0?c("div",{className:"space-y-4",children:t.map(y=>w("div",{className:"p-3 border rounded",children:[c("p",{className:"font-semibold",children:y.title||"Appointment"}),w("p",{className:"text-sm text-muted-foreground",children:[$T(y.start_time)," - ",$T(y.end_time)]}),w("p",{className:"text-sm",children:["Type: ",y.type]}),w("p",{className:"text-sm",children:["Status: ",y.status]}),y.notes&&w("p",{className:"text-sm mt-1",children:["Notes: ",y.notes]}),y.staff&&w("p",{className:"text-xs text-muted-foreground mt-1",children:["With: ",y.staff.first_name," ",y.staff.last_name]})]},y.id))}):c("p",{className:"text-sm text-muted-foreground",children:"No past appointments found."})})]}),w("div",{className:"flex justify-end space-x-2 mt-6",children:[" ",w(Fe,{variant:"outline",onClick:()=>i(e.id),children:[c(Nh,{className:"mr-2 h-4 w-4"})," Book New Appointment"]}),c(Fe,{onClick:a,children:"Edit Profile"})]})]})}function fIe(e,t){return A.useReducer((r,n)=>t[r][n]??r,e)}var pR="ScrollArea",[Qte,RJe]=Xi(pR),[hIe,nu]=Qte(pR),ere=A.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...o}=e,[s,l]=A.useState(null),[u,d]=A.useState(null),[f,h]=A.useState(null),[m,x]=A.useState(null),[g,y]=A.useState(null),[_,b]=A.useState(0),[S,C]=A.useState(0),[E,D]=A.useState(!1),[T,I]=A.useState(!1),L=Hr(t,P=>l(P)),B=mg(a);return c(hIe,{scope:r,type:n,dir:B,scrollHideDelay:i,scrollArea:s,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:x,scrollbarXEnabled:E,onScrollbarXEnabledChange:D,scrollbarY:g,onScrollbarYChange:y,scrollbarYEnabled:T,onScrollbarYEnabledChange:I,onCornerWidthChange:b,onCornerHeightChange:C,children:c(pr.div,{dir:B,...o,ref:L,style:{position:"relative","--radix-scroll-area-corner-width":_+"px","--radix-scroll-area-corner-height":S+"px",...e.style}})})});ere.displayName=pR;var tre="ScrollAreaViewport",rre=A.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=e,o=nu(tre,r),s=A.useRef(null),l=Hr(t,s,o.onViewportChange);return w(Dr,{children:[c("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),c(pr.div,{"data-radix-scroll-area-viewport":"",...i,ref:l,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:c("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});rre.displayName=tre;var gf="ScrollAreaScrollbar",mR=A.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=nu(gf,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,s=e.orientation==="horizontal";return A.useEffect(()=>(s?i(!0):o(!0),()=>{s?i(!1):o(!1)}),[s,i,o]),a.type==="hover"?c(pIe,{...n,ref:t,forceMount:r}):a.type==="scroll"?c(mIe,{...n,ref:t,forceMount:r}):a.type==="auto"?c(nre,{...n,ref:t,forceMount:r}):a.type==="always"?c(gR,{...n,ref:t}):null});mR.displayName=gf;var pIe=A.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=nu(gf,e.__scopeScrollArea),[i,o]=A.useState(!1);return A.useEffect(()=>{const s=a.scrollArea;let l=0;if(s){const u=()=>{window.clearTimeout(l),o(!0)},d=()=>{l=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return s.addEventListener("pointerenter",u),s.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),s.removeEventListener("pointerenter",u),s.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),c(is,{present:r||i,children:c(nre,{"data-state":i?"visible":"hidden",...n,ref:t})})}),mIe=A.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=nu(gf,e.__scopeScrollArea),i=e.orientation==="horizontal",o=L3(()=>l("SCROLL_END"),100),[s,l]=fIe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return A.useEffect(()=>{if(s==="idle"){const u=window.setTimeout(()=>l("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[s,a.scrollHideDelay,l]),A.useEffect(()=>{const u=a.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const m=u[d];f!==m&&(l("SCROLL"),o()),f=m};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[a.viewport,i,l,o]),c(is,{present:r||s!=="hidden",children:c(gR,{"data-state":s==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Ut(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:Ut(e.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),nre=A.forwardRef((e,t)=>{const r=nu(gf,e.__scopeScrollArea),{forceMount:n,...a}=e,[i,o]=A.useState(!1),s=e.orientation==="horizontal",l=L3(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(s?u:d)}},10);return W1(r.viewport,l),W1(r.content,l),c(is,{present:n||i,children:c(gR,{"data-state":i?"visible":"hidden",...a,ref:t})})}),gR=A.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=nu(gf,e.__scopeScrollArea),i=A.useRef(null),o=A.useRef(0),[s,l]=A.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=lre(s.viewport,s.content),d={...n,sizes:s,onSizesChange:l,hasThumb:u>0&&u<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,m){return _Ie(h,o.current,s,m)}return r==="horizontal"?c(gIe,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollLeft,m=Oz(h,s,a.dir);i.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=f(h,a.dir))}}):r==="vertical"?c(vIe,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollTop,m=Oz(h,s);i.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=f(h))}}):null}),gIe=A.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=nu(gf,e.__scopeScrollArea),[o,s]=A.useState(),l=A.useRef(null),u=Hr(t,l,i.onScrollbarXChange);return A.useEffect(()=>{l.current&&s(getComputedStyle(l.current))},[l]),c(ire,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":F3(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),ure(h,f)&&d.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:DS(o.paddingLeft),paddingEnd:DS(o.paddingRight)}})}})}),vIe=A.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=nu(gf,e.__scopeScrollArea),[o,s]=A.useState(),l=A.useRef(null),u=Hr(t,l,i.onScrollbarYChange);return A.useEffect(()=>{l.current&&s(getComputedStyle(l.current))},[l]),c(ire,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":F3(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),ure(h,f)&&d.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:DS(o.paddingTop),paddingEnd:DS(o.paddingBottom)}})}})}),[yIe,are]=Qte(gf),ire=A.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:s,onThumbPositionChange:l,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,m=nu(gf,r),[x,g]=A.useState(null),y=Hr(t,L=>g(L)),_=A.useRef(null),b=A.useRef(""),S=m.viewport,C=n.content-n.viewport,E=Ci(d),D=Ci(l),T=L3(f,10);function I(L){if(_.current){const B=L.clientX-_.current.left,P=L.clientY-_.current.top;u({x:B,y:P})}}return A.useEffect(()=>{const L=B=>{const P=B.target;(x==null?void 0:x.contains(P))&&E(B,C)};return document.addEventListener("wheel",L,{passive:!1}),()=>document.removeEventListener("wheel",L,{passive:!1})},[S,x,C,E]),A.useEffect(D,[n,D]),W1(x,T),W1(m.content,T),c(yIe,{scope:r,scrollbar:x,hasThumb:a,onThumbChange:Ci(i),onThumbPointerUp:Ci(o),onThumbPositionChange:D,onThumbPointerDown:Ci(s),children:c(pr.div,{...h,ref:y,style:{position:"absolute",...h.style},onPointerDown:Ut(e.onPointerDown,L=>{L.button===0&&(L.target.setPointerCapture(L.pointerId),_.current=x.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),I(L))}),onPointerMove:Ut(e.onPointerMove,I),onPointerUp:Ut(e.onPointerUp,L=>{const B=L.target;B.hasPointerCapture(L.pointerId)&&B.releasePointerCapture(L.pointerId),document.body.style.webkitUserSelect=b.current,m.viewport&&(m.viewport.style.scrollBehavior=""),_.current=null})})})}),OS="ScrollAreaThumb",ore=A.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=are(OS,e.__scopeScrollArea);return c(is,{present:r||a.hasThumb,children:c(xIe,{ref:t,...n})})}),xIe=A.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,i=nu(OS,r),o=are(OS,r),{onThumbPositionChange:s}=o,l=Hr(t,f=>o.onThumbChange(f)),u=A.useRef(void 0),d=L3(()=>{u.current&&(u.current(),u.current=void 0)},100);return A.useEffect(()=>{const f=i.viewport;if(f){const h=()=>{if(d(),!u.current){const m=bIe(f,s);u.current=m,s()}};return s(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[i.viewport,d,s]),c(pr.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Ut(e.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),x=f.clientX-m.left,g=f.clientY-m.top;o.onThumbPointerDown({x,y:g})}),onPointerUp:Ut(e.onPointerUp,o.onThumbPointerUp)})});ore.displayName=OS;var vR="ScrollAreaCorner",sre=A.forwardRef((e,t)=>{const r=nu(vR,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?c(wIe,{...e,ref:t}):null});sre.displayName=vR;var wIe=A.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=nu(vR,r),[i,o]=A.useState(0),[s,l]=A.useState(0),u=!!(i&&s);return W1(a.scrollbarX,()=>{var f;const d=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(d),l(d)}),W1(a.scrollbarY,()=>{var f;const d=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(d),o(d)}),u?c(pr.div,{...n,ref:t,style:{width:i,height:s,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function DS(e){return e?parseInt(e,10):0}function lre(e,t){const r=e/t;return isNaN(r)?0:r}function F3(e){const t=lre(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function _Ie(e,t,r,n="ltr"){const a=F3(r),i=a/2,o=t||i,s=a-o,l=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-s,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return cre([l,u],f)(e)}function Oz(e,t,r="ltr"){const n=F3(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,s=i-n,l=r==="ltr"?[0,o]:[o*-1,0],u=y6(e,l);return cre([0,o],[0,s])(u)}function cre(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function ure(e,t){return e>0&&e<t}var bIe=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,s=r.top!==i.top;(o||s)&&t(),r=i,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function L3(e,t){const r=Ci(e),n=A.useRef(0);return A.useEffect(()=>()=>window.clearTimeout(n.current),[]),A.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function W1(e,t){const r=Ci(t);ii(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var dre=ere,SIe=rre,AIe=sre;const df=A.forwardRef(({className:e,children:t,...r},n)=>w(dre,{ref:n,className:It("relative overflow-hidden",e),...r,children:[c(SIe,{className:"h-full w-full rounded-[inherit]",children:t}),c(fre,{}),c(AIe,{})]}));df.displayName=dre.displayName;const fre=A.forwardRef(({className:e,orientation:t="vertical",...r},n)=>c(mR,{ref:n,orientation:t,className:It("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:c(ore,{className:"relative flex-1 rounded-full bg-border"})}));fre.displayName=mR.displayName;const kIe=Le.object({record_date:Le.string().refine(e=>!isNaN(Date.parse(e)),{message:"Invalid date format"}),record_type:Le.enum(["examination","procedure","prescription","lab_result","note"],{required_error:"Record type is required"}),general_notes:Le.string().optional(),consultation_subjective:Le.string().optional(),consultation_objective:Le.string().optional(),consultation_assessment:Le.string().optional(),consultation_plan:Le.string().optional(),diagnosis_code:Le.string().optional(),diagnosis_description:Le.string().optional(),treatment_procedure:Le.string().optional(),treatment_details:Le.string().optional(),prescription_medication:Le.string().optional(),prescription_dosage:Le.string().optional(),prescription_frequency:Le.string().optional(),prescription_duration:Le.string().optional(),lab_test_name:Le.string().optional(),lab_result_value:Le.string().optional(),lab_units:Le.string().optional(),lab_reference_range:Le.string().optional(),other_details:Le.string().optional()});function hre({patientId:e,onSubmit:t,onCancel:r,isLoading:n}){const[a,i]=A.useState(void 0),[o,s]=A.useState([]),[l,u]=A.useState(!1),[d,f]=A.useState([]),h=sd({resolver:ld(kIe),defaultValues:{record_date:nr(new Date,"yyyy-MM-dd"),record_type:void 0,general_notes:"",consultation_subjective:"",consultation_objective:"",consultation_assessment:"",consultation_plan:"",diagnosis_code:"",diagnosis_description:"",treatment_procedure:"",treatment_details:"",prescription_medication:"",prescription_dosage:"",prescription_frequency:"",prescription_duration:"",lab_test_name:"",lab_result_value:"",lab_units:"",lab_reference_range:"",other_details:""}}),m=h.watch("record_type");A.useEffect(()=>{i(m)},[m]);const x=b=>{f(b)},g=()=>{f([...o]),u(!0)},y=()=>{s([...d]),u(!1)},_=async b=>{await t(b,o),s([]),f([])};return w(Dr,{children:[" ",c(Dh,{...h,children:w("form",{onSubmit:h.handleSubmit(_),className:"flex flex-col h-full",children:[w(df,{className:"flex-grow pr-6 max-h-[calc(80vh-150px)]",children:[" ",w("div",{className:"space-y-6",children:[" ",w("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c(Ge,{control:h.control,name:"record_date",render:({field:b})=>w(Pe,{children:[c(Te,{children:"Record Date"}),c(Oe,{children:c(ot,{type:"date",...b})}),c(Xe,{})]})}),c(Ge,{control:h.control,name:"record_type",render:({field:b})=>w(Pe,{children:[c(Te,{children:"Record Type"}),w(zr,{onValueChange:b.onChange,defaultValue:b.value,children:[c(Oe,{children:c(Br,{children:c(Wr,{placeholder:"Select a record type"})})}),w(Ur,{children:[c(wt,{value:"examination",children:"Consultation / Examination / Diagnosis"}),c(wt,{value:"procedure",children:"Treatment / Procedure"}),c(wt,{value:"prescription",children:"Prescription"}),c(wt,{value:"lab_result",children:"Lab Result"}),c(wt,{value:"note",children:"Other Note"})]})]}),c(Xe,{})]})})]}),w(Pe,{children:[c(Te,{children:"Select Teeth"})," ",w("div",{className:"flex items-center gap-4",children:[w(Fe,{type:"button",variant:"outline",onClick:g,children:[c(G8,{className:"mr-2 h-4 w-4"}),"Select Teeth..."]}),c("div",{className:"text-sm text-muted-foreground flex-grow min-w-0",children:o.length>0?w("span",{className:"truncate",children:["Selected: ",o.sort((b,S)=>b-S).join(", ")]}):"No teeth selected"})]})," "]}),c(Ge,{control:h.control,name:"general_notes",render:({field:b})=>w(Pe,{children:[c(Te,{children:"General Notes (Optional)"}),c(Oe,{children:c(Yr,{placeholder:"Add any general notes applicable to this record...",rows:3,...b})}),c(Xe,{})]})}),a&&w(kg,{value:a,className:"w-full mt-4",children:[c(Ei,{value:"examination",className:"mt-0 p-0",children:w("div",{className:"space-y-4 p-4 border rounded bg-muted/30",children:[c("h4",{className:"font-medium text-sm mb-4",children:"Consultation / Examination / Diagnosis Details"}),c("p",{className:"text-xs text-muted-foreground mb-2",children:"Enter SOAP notes OR Diagnosis details below."}),c("h5",{className:"font-medium text-xs mb-2",children:"SOAP Notes (Optional)"}),w("div",{children:[c(Ge,{control:h.control,name:"consultation_subjective",render:({field:b})=>w(Pe,{children:[c(Te,{children:"Subjective"}),c(Oe,{children:c(Yr,{rows:2,placeholder:"Patient's complaints, history...",...b})}),c(Xe,{})]})}),c(Ge,{control:h.control,name:"consultation_objective",render:({field:b})=>w(Pe,{children:[c(Te,{children:"Objective"}),c(Oe,{children:c(Yr,{rows:2,placeholder:"Clinical findings, exam results...",...b})}),c(Xe,{})]})}),c(Ge,{control:h.control,name:"consultation_assessment",render:({field:b})=>w(Pe,{children:[c(Te,{children:"Assessment"}),c(Oe,{children:c(Yr,{rows:2,placeholder:"Diagnosis, differential diagnosis...",...b})}),c(Xe,{})]})}),c(Ge,{control:h.control,name:"consultation_plan",render:({field:b})=>w(Pe,{children:[c(Te,{children:"Plan"}),c(Oe,{children:c(Yr,{rows:2,placeholder:"Treatment plan, follow-up...",...b})}),c(Xe,{})]})})]}),c("h5",{className:"font-medium text-xs mt-4 mb-2",children:"Diagnosis Details (Optional)"}),c(Ge,{control:h.control,name:"diagnosis_code",render:({field:b})=>w(Pe,{children:[c(Te,{children:"Diagnosis Code (e.g., ICD-10)"}),c(Oe,{children:c(ot,{placeholder:"K02.1",...b})}),c(Xe,{})]})}),c(Ge,{control:h.control,name:"diagnosis_description",render:({field:b})=>w(Pe,{children:[c(Te,{children:"Diagnosis Description"}),c(Oe,{children:c(Yr,{placeholder:"Describe the diagnosis...",...b})}),c(Xe,{})]})})]})}),c(Ei,{value:"procedure",className:"mt-0 p-0",children:w("div",{className:"space-y-4 p-4 border rounded bg-muted/30",children:[c("h4",{className:"font-medium text-sm",children:"Treatment / Procedure Details"}),c(Ge,{control:h.control,name:"treatment_procedure",render:({field:b})=>w(Pe,{children:[c(Te,{children:"Procedure (Code or Name)"}),c(Oe,{children:c(ot,{placeholder:"e.g., D2391, Composite Filling",...b})}),c(Xe,{})]})}),c(Ge,{control:h.control,name:"treatment_details",render:({field:b})=>w(Pe,{children:[c(Te,{children:"Treatment Notes/Details"}),c(Oe,{children:c(Yr,{placeholder:"Materials used, tooth number, outcome...",...b})}),c(Xe,{})]})})]})}),c(Ei,{value:"prescription",className:"mt-0 p-0",children:w("div",{className:"space-y-4 p-4 border rounded bg-muted/30",children:[c("h4",{className:"font-medium text-sm",children:"Prescription Details"}),w("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c(Ge,{control:h.control,name:"prescription_medication",render:({field:b})=>w(Pe,{children:[c(Te,{children:"Medication Name"}),c(Oe,{children:c(ot,{placeholder:"Amoxicillin",...b})}),c(Xe,{})]})}),c(Ge,{control:h.control,name:"prescription_dosage",render:({field:b})=>w(Pe,{children:[c(Te,{children:"Dosage"}),c(Oe,{children:c(ot,{placeholder:"500mg",...b})}),c(Xe,{})]})}),c(Ge,{control:h.control,name:"prescription_frequency",render:({field:b})=>w(Pe,{children:[c(Te,{children:"Frequency"}),c(Oe,{children:c(ot,{placeholder:"TID (Three times a day)",...b})}),c(Xe,{})]})}),c(Ge,{control:h.control,name:"prescription_duration",render:({field:b})=>w(Pe,{children:[c(Te,{children:"Duration"}),c(Oe,{children:c(ot,{placeholder:"7 days",...b})}),c(Xe,{})]})})]})]})}),c(Ei,{value:"lab_result",className:"mt-0 p-0",children:w("div",{className:"space-y-4 p-4 border rounded bg-muted/30",children:[c("h4",{className:"font-medium text-sm",children:"Lab Result Details"}),w("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c(Ge,{control:h.control,name:"lab_test_name",render:({field:b})=>w(Pe,{children:[c(Te,{children:"Test Name"}),c(Oe,{children:c(ot,{placeholder:"Complete Blood Count (CBC)",...b})}),c(Xe,{})]})}),c(Ge,{control:h.control,name:"lab_result_value",render:({field:b})=>w(Pe,{children:[c(Te,{children:"Result Value"}),c(Oe,{children:c(ot,{placeholder:"12.5",...b})}),c(Xe,{})]})}),c(Ge,{control:h.control,name:"lab_units",render:({field:b})=>w(Pe,{children:[c(Te,{children:"Units"}),c(Oe,{children:c(ot,{placeholder:"g/dL",...b})}),c(Xe,{})]})}),c(Ge,{control:h.control,name:"lab_reference_range",render:({field:b})=>w(Pe,{children:[c(Te,{children:"Reference Range"}),c(Oe,{children:c(ot,{placeholder:"12.0-15.5 g/dL",...b})}),c(Xe,{})]})})]})]})}),c(Ei,{value:"note",className:"mt-0 p-0",children:w("div",{className:"space-y-4 p-4 border rounded bg-muted/30",children:[c("h4",{className:"font-medium text-sm",children:"Other Note Details"}),c(Ge,{control:h.control,name:"other_details",render:({field:b})=>w(Pe,{children:[c(Te,{children:"Details"}),c(Oe,{children:c(Yr,{placeholder:"Enter any other relevant details...",...b})}),c(Xe,{})]})})]})})]})]})," "]}),w("div",{className:"flex justify-end gap-4 pt-4 border-t mt-4",children:[" ",c(Fe,{type:"button",variant:"outline",onClick:r,disabled:n,children:"Cancel"}),w(Fe,{type:"submit",disabled:n||!a,children:[n&&c(Hn,{className:"mr-2 h-4 w-4 animate-spin"}),"Save Record"]})]})]})}),c(ei,{open:l,onOpenChange:u,children:w(Ma,{className:"max-w-2xl",children:[" ",w(Fa,{children:[c(La,{children:"Select Affected Teeth"}),c(xo,{children:"Click teeth in the chart below to select or deselect them for this medical record."})]}),c(M3,{initialState:d.reduce((b,S)=>(b[S]={isSelected:!0},b),{}),onToothSelect:x}),w(lo,{children:[c(Fe,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),c(Fe,{onClick:y,children:"Confirm Selection"})]})]})})]})}function NIe({open:e,onOpenChange:t,patient:r,onSuccess:n}){return c(ei,{open:e,onOpenChange:t,children:w(Ma,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[c(Fa,{children:c(La,{children:r?"Edit Patient":"New Patient"})}),c(uR,{patient:r,onSuccess:n,onCancel:()=>t(!1)})]})})}function Dz(){const{id:e}=ey();return e?c(CIe,{}):c(EIe,{})}function EIe(){const e=as();xn();const[t,r]=A.useState([]),[n,a]=A.useState(!0),[i,o]=A.useState(""),[s,l]=A.useState(!1);A.useEffect(()=>{u()},[]);const u=async()=>{try{const m=(await ir.patients.getAll()).map(x=>({...x,profileCompletion:d(x)}));r(m),a(!1)}catch(h){console.error("Error fetching patients:",h),a(!1)}},d=h=>{if(!h)return 0;const m=["first_name","last_name","gender","age","phone","email","address","city","state","postal_code","emergency_contact_name","emergency_contact_phone","blood_group","allergies","medical_conditions"];let x=0;return m.forEach(g=>{h[g]!==null&&h[g]!==void 0&&h[g]!==""&&x++}),Math.floor(x/m.length*100)},f=async h=>{if(o(h),h.length>2)try{const x=(await ir.patients.search(h)).map(g=>({...g,profileCompletion:d(g)}));r(x)}catch(m){console.error("Error searching patients:",m)}else h.length===0&&u()};return w("div",{className:"space-y-6",children:[c("div",{className:"flex items-center justify-between",children:w("div",{children:[c("h1",{className:"text-2xl font-semibold tracking-tight",children:"Patients"}),c("p",{className:"text-sm text-muted-foreground",children:"Manage patient information and appointments"})]})}),w("div",{className:"flex items-center gap-4",children:[w("div",{className:"relative flex-1",children:[c(p4,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),c(ot,{placeholder:"Search by name, phone, or registration number...",className:"pl-8",value:i,onChange:h=>f(h.target.value)})]}),w(Fe,{onClick:()=>l(!0),children:[c(Yc,{className:"h-4 w-4 mr-2"}),"New Patient"]})]}),s&&c(NIe,{open:s,onOpenChange:l,onSuccess:h=>{l(!1),e(`/patients/${h}`)}}),n?c("div",{className:"text-center py-8",children:"Loading patients..."}):c("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(h=>w(ur,{children:[c(xr,{className:"pt-6",children:w("div",{className:"flex flex-col space-y-2",children:[w("div",{className:"flex items-center justify-between",children:[w("h3",{className:"font-medium",children:[h.first_name," ",h.last_name]}),c("div",{className:`px-2 py-1 rounded-full text-xs ${h.profileCompletion===100?"bg-green-100 text-green-800":h.profileCompletion>50?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:h.profileCompletion===100?"Complete":h.profileCompletion>50?"In Progress":"Basic"})]}),w("div",{className:"flex items-center text-sm text-muted-foreground",children:[c(d5,{className:"h-4 w-4 mr-2"}),h.phone]}),h.email&&w("div",{className:"flex items-center text-sm text-muted-foreground",children:[c(h4,{className:"h-4 w-4 mr-2"}),h.email]}),w("div",{className:"mt-2",children:[w("div",{className:"flex items-center justify-between text-sm mb-1",children:[c("span",{children:"Profile Completion"}),w("span",{children:[h.profileCompletion,"%"]})]}),c(hR,{value:h.profileCompletion})]})]})}),w(Vm,{className:"flex justify-between",children:[c(Fe,{variant:"outline",size:"sm",onClick:()=>e(`/patients/${h.id}`,{state:{action:"view"}}),children:"View Details"}),w(Fe,{variant:"secondary",size:"sm",onClick:()=>e(`/patients/${h.id}`,{state:{action:"edit"}}),children:[c(io,{className:"h-4 w-4 mr-1"}),h.profileCompletion<100?"Complete Profile":"Edit Profile"]})]})]},h.id))})]})}function CIe(){const e=as(),{id:t}=ey(),{state:r}=b0(),[n,a]=A.useState(null),[i,o]=A.useState([]),[s,l]=A.useState([]),[u,d]=A.useState([]),[f,h]=A.useState(!0),[m,x]=A.useState((r==null?void 0:r.action)==="edit"),[g,y]=A.useState(!1),[_,b]=A.useState(!1),{toast:S}=xn();console.log(`Patients.tsx: PatientDetails rendering. isEditing: ${m}, Patient ID: ${t}`),A.useEffect(()=>{t&&C(t)},[t]);const C=async I=>{h(!0);try{rr.invalidate(`patients:${I}`),rr.invalidate(`appointments:patient:${I}`),rr.invalidate(`medical_records:${I}`),rr.invalidate(`patient_dental_history_teeth:${I}`);const[L,B,P,O]=await Promise.all([ir.patients.getById(I),ir.appointments.getByPatientId(I),ir.patients.getMedicalRecords(I),ir.patients.getPatientDentalHistoryTeeth(I)]);a(L),o(B||[]),l(P||[]),d(O||[])}catch(L){console.error("Error fetching patient details:",L)}finally{h(!1)}},E=()=>{y(!0)},D=async I=>{if(!t)return;b(!0);let L={general_notes:I.general_notes||void 0};switch(I.record_type){case"consultation":L={...L,subjective:I.consultation_subjective||void 0,objective:I.consultation_objective||void 0,assessment:I.consultation_assessment||void 0,plan:I.consultation_plan||void 0};break;case"diagnosis":L={...L,code:I.diagnosis_code||void 0,description:I.diagnosis_description||void 0};break;case"treatment":L={...L,procedure:I.treatment_procedure||void 0,details:I.treatment_details||void 0};break;case"prescription":L={...L,medication:I.prescription_medication||void 0,dosage:I.prescription_dosage||void 0,frequency:I.prescription_frequency||void 0,duration:I.prescription_duration||void 0};break;case"lab_result":L={...L,test_name:I.lab_test_name||void 0,result_value:I.lab_result_value||void 0,units:I.lab_units||void 0,reference_range:I.lab_reference_range||void 0};break;case"other":L={...L,details:I.other_details||void 0};break}Object.keys(L).forEach(B=>L[B]===void 0&&delete L[B]);try{await ir.patients.createMedicalRecord({patient_id:t,record_date:I.record_date,record_type:I.record_type,description:JSON.stringify(L)},[]),S({title:"Success",description:"Medical record added successfully."}),y(!1),C(t)}catch(B){console.error("Error adding medical record:",B),S({title:"Error",description:"Failed to add medical record.",variant:"destructive"})}finally{b(!1)}},T=I=>{e(`/appointments?patientId=${I}&action=new`)};return f?c("div",{className:"flex items-center justify-center h-full",children:"Loading patient details..."}):n?w("div",{className:"space-y-6",children:[w("div",{className:"flex items-center justify-between",children:[w("div",{children:[c("h1",{className:"text-2xl font-semibold tracking-tight",children:m?"Edit Patient Profile":"Patient Details"}),w("p",{className:"text-sm text-muted-foreground",children:[n.first_name," ",n.last_name]})]}),w("div",{className:"flex gap-2",children:[c(Fe,{variant:"outline",onClick:()=>e("/patients"),children:"Back to List"}),c(Fe,{onClick:()=>{console.log(`Patients.tsx: Edit/View button clicked. Current isEditing: ${m}`),x(!m),console.log("Patients.tsx: setIsEditing called.")},children:m?"View Details":"Edit Profile"})]})]}),m?w(Dr,{children:[console.log(`Patients.tsx: Rendering PatientForm for editing. Key: ${(n==null?void 0:n.id)||"new-patient-form"}, Patient ID: ${n==null?void 0:n.id}`),c(uR,{patient:n,onSuccess:()=>{C(t),x(!1)},onCancel:()=>x(!1)},(n==null?void 0:n.id)||"new-patient-form")]}):c(dIe,{patient:n,appointments:i,medicalRecords:s,dentalHistoryTeeth:u,onEdit:()=>x(!0),onBookAppointment:T,onAddMedicalRecord:E}),c(ei,{open:g,onOpenChange:y,children:w(Ma,{className:"max-w-2xl",children:[c(Fa,{children:c(La,{children:"Add New Medical Record"})}),c(hre,{patientId:t,onSubmit:D,onCancel:()=>y(!1),isLoading:_})]})})]}):c("div",{className:"flex items-center justify-center h-full",children:"Patient not found"})}function Iz(e,t){const[r,n]=A.useState(!1);return A.useEffect(()=>{let a;try{a=jD(e,i=>{t&&t(i)}),n(!0)}catch(i){console.error("Error subscribing to changes:",i),n(!1)}return()=>{a&&a.unsubscribe(),n(!1)}},[e,t]),r}function Rz(e,t={}){const[r,n]=A.useState(!1);return{update:A.useCallback(async(i,o)=>{n(!0),o&&o();try{const s=await e(i);return t.onSuccess&&t.onSuccess(s),s}catch(s){throw console.error(t.errorMessage||"Update failed",s),t.onError&&t.onError(s),s}finally{n(!1)}},[e,t]),loading:r}}const TIe=(e,t)=>{if(!t)return e;const n=t.toLowerCase().match(/^(\d+)(-(\d+))?\s*(day|week|month)s?$/);if(!n)return console.warn(`Invalid timeGap format: ${t}. Defaulting to 1 day.`),Ia(e,1);const a=parseInt(n[1],10),i=n[4];switch(i){case"day":return Ia(e,a);case"week":return f1(e,a);case"month":return cl(e,a);default:return console.warn(`Unknown timeGap unit: ${i}. Defaulting to 1 day.`),Ia(e,1)}},Zl={async getAllTreatmentPlans(){return ir.patients.getTreatmentPlans(null)},async getPatientTreatmentPlans(e){return ir.patients.getTreatmentPlans(e)},async createTreatmentPlan(e,t){const r={...e,title:e.title||"Untitled Plan",description:e.description||"No description",patient_id:e.patient_id||"",status:e.status||"planned",start_date:e.start_date||nr(new Date,"yyyy-MM-dd"),priority:e.priority||"medium",ai_generated:e.ai_generated!==void 0?e.ai_generated:!1};return ir.patients.createTreatmentPlan(r,t)},async createTreatmentPlanWithTreatments(e,t){const r={...e,title:e.title||"Untitled Plan",description:e.description||"No description",patient_id:e.patient_id||"",status:e.status||"planned",start_date:e.start_date||nr(new Date,"yyyy-MM-dd"),priority:e.priority||"medium",ai_generated:e.ai_generated!==void 0?e.ai_generated:!1},n=t.map(a=>{const i=parseFloat(a.cost);return{...a,cost:isNaN(i)?0:i}});return ir.patients.createTreatmentPlanWithTreatments(r,n)},async updateTreatmentPlan(e,t){return ir.patients.updateTreatmentPlan(e,t)},async deleteTreatmentPlan(e){return ir.patients.deleteTreatmentPlan(e)},async createTreatment(e){const t=parseFloat(e.cost),r={...e,cost:isNaN(t)?0:t};return ir.patients.createTreatment(r)},async updateTreatment(e,t){const r={};for(const i in t)if(i==="cost"&&t.cost!==void 0){const o=parseFloat(t.cost);r.cost=isNaN(o)?void 0:o}else i==="status"&&t.status!==void 0?r.status=t.status:i==="description"&&t.description!==void 0?r.description=t.description:i==="type"&&t.type!==void 0?r.type=t.type:i==="priority"&&t.priority!==void 0?r.priority=t.priority:i==="plan_id"&&t.plan_id!==void 0&&(r.plan_id=t.plan_id);const n=t.status,a=new Date().toISOString();return n==="completed"||n==="cancelled"?r.actual_end_time=a:n==="pending"?(r.actual_start_time=null,r.actual_end_time=null):n==="in_progress"&&(r.actual_start_time=a,r.actual_end_time=null),console.log(`Updating treatment ${e} with payload:`,r),ir.patients.updateTreatment(e,r)},async deleteTreatment(e){return ir.patients.deleteTreatment(e)},processTreatmentPlanData(e,t){return e.map(r=>{var d,f,h;const n=t.find(m=>m.id===r.patient_id),a=((d=r.treatments)==null?void 0:d.reduce((m,x)=>m+parseFloat(x.cost||0),0))||0,i=((f=r.treatments)==null?void 0:f.filter(m=>m.status==="completed").length)||0,o=((h=r.treatments)==null?void 0:h.length)||0,s=o?Math.round(i/o*100):0,l=Array.isArray(r.treatment_plan_teeth)?r.treatment_plan_teeth.map(m=>m.teeth).filter(m=>m!==null):[],u={...r};return delete u.treatment_plan_teeth,{...u,patientName:n?`${n.first_name} ${n.last_name}`:"Unknown Patient",totalCost:a,progress:s,completedTreatments:i,totalTreatments:o,teeth:l}})},async createMultipleVisits(e,t,r){if(!t||t.length===0)return{data:[],error:null};let n=bn(r);const a=[];for(let i=0;i<t.length;i++){const o=t[i];i>0&&t[i-1].timeGap&&(n=TIe(n,t[i-1].timeGap));const s={treatment_plan_id:e,visit_number:i+1,procedures:o.procedures||"N/A",estimated_duration:o.estimatedDuration,time_gap:o.timeGap,status:"pending",scheduled_date:nr(n,"yyyy-MM-dd")};a.push(s)}return ir.patients.createTreatmentVisitsBatch(a)}};function PIe(){const{toast:e}=xn(),[t,r]=A.useState(!0),[n,a]=A.useState([]),[i,o]=A.useState([]),[s,l]=A.useState(null),[u,d]=A.useState({plans:null,selectedPlan:null}),f=Iz("treatment_plans",()=>{_()}),h=Iz("treatments",B=>{s&&B.new&&B.new.plan_id===s.id?b():_()}),{update:m,loading:x}=Rz(B=>Zl.updateTreatment(B.treatmentId,{status:B.newStatus}),{onError:()=>{e({title:"Update Failed",description:"Failed to update treatment status. Please try again.",variant:"destructive"}),s&&u.selectedPlan&&l({...u.selectedPlan})}}),{update:g,loading:y}=Rz(B=>Zl.updateTreatmentPlan(B.planId,{status:B.newStatus}),{onError:()=>{e({title:"Update Failed",description:"Failed to update plan status. Please try again.",variant:"destructive"}),u.plans&&a([...u.plans])}}),_=A.useCallback(async()=>{try{r(!0);const[B,P]=await Promise.all([Zl.getAllTreatmentPlans(),ir.patients.getAll()]),O=Zl.processTreatmentPlanData(B,P);a(O),o(P)}catch(B){console.error("Error fetching data:",B),e({title:"Error",description:"Failed to load treatment plans",variant:"destructive"})}finally{r(!1)}},[e]),b=A.useCallback(async()=>{if(s)try{const P=(await Zl.getAllTreatmentPlans()).find(O=>O.id===s.id);if(P){const O=Zl.processTreatmentPlanData([P],i)[0];l(O)}}catch(B){console.error("Error refreshing plan:",B)}},[s,i]);A.useEffect(()=>{_()},[]);const S=A.useCallback((B,P,O)=>n.filter(j=>{var q,K,z;const G=B?((q=j.title)==null?void 0:q.toLowerCase().includes(B.toLowerCase()))||((K=j.description)==null?void 0:K.toLowerCase().includes(B.toLowerCase()))||((z=j.patientName)==null?void 0:z.toLowerCase().includes(B.toLowerCase())):!0,Y=P&&P!=="all"?j.patient_id===P:!0,re=O&&O!=="all"?j.status===O:!0;return G&&Y&&re}),[n]),C=A.useCallback(async(B,P)=>{var G,Y,re,q;let O=null,j=null;try{r(!0);const{originalAISuggestion:K,clinical_considerations:z,materials:te,post_treatment_care:Q,total_visits:R,...H}=B,X={title:H.title||"Untitled Plan",description:H.description||"No description",patient_id:H.patient_id||"",status:H.status||"planned",start_date:H.start_date||nr(new Date,"yyyy-MM-dd"),priority:H.priority||"medium",ai_generated:!!K},Z=await Zl.createTreatmentPlan(X,P);if(Z.error||!Z.data||!Z.data.id)throw console.error("Error creating base treatment plan:",Z.error),e({title:"Error",description:((G=Z.error)==null?void 0:G.message)||"Failed to create base treatment plan record.",variant:"destructive"}),Z.error||new Error("Base plan creation failed or ID missing.");O=Z.data.id,j=Z.data,e({title:"Plan Created",description:"Base plan record and teeth associations saved. Saving metadata..."});const ie={treatment_plan_id:O,clinical_considerations:z||null,key_materials:te||null,post_treatment_care:Q||null,total_visits:R?parseInt(R):((q=(re=(Y=K==null?void 0:K.planDetails)==null?void 0:Y.appointmentPlan)==null?void 0:re.sittingDetails)==null?void 0:q.length)||0,completed_visits:0};try{await ir.patients.createTreatmentPlanMetadata(ie),e({title:"Metadata Saved",description:"Additional plan details saved successfully."})}catch(me){console.error("Error creating treatment plan metadata:",me),e({title:"Warning",description:"Plan created, but failed to save some additional details (metadata).",variant:"default"})}const le=await ir.patients.getTreatmentPlanDetails(O);if(le.error||!le.data)return console.error("Error fetching new plan details:",le.error),e({title:"Warning",description:"Plan fully created, but failed to fetch updated details. A manual refresh may be needed.",variant:"default"}),_(),{...Zl.processTreatmentPlanData([{...j,treatments:[],metadata:ie}],i)[0],originalAISuggestion:K};const pe=le.data,J=Zl.processTreatmentPlanData([pe],i)[0];return _(),console.log("[useTreatmentPlans] createTreatmentPlan - Returning originalAISuggestion:",B.originalAISuggestion),{...J,originalAISuggestion:B.originalAISuggestion}}catch(K){throw console.error("Error in createTreatmentPlan process:",K),e({title:"Error",description:`An unexpected error occurred: ${K instanceof Error?K.message:"Please check console."}`,variant:"destructive"}),K}finally{r(!1)}},[_,i,e]),E=A.useCallback(async B=>{d({...u,selectedPlan:{...s}});try{if(r(!0),s){const P={id:`temp-${Date.now()}`,...B,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},O=[...s.treatments||[],P],j={...s,treatments:O,totalTreatments:s.totalTreatments+1,totalCost:s.totalCost+B.cost};l(j)}await Zl.createTreatment(B),e({title:"Success",description:"Treatment added successfully"}),await b()}catch(P){throw console.error("Error adding treatment:",P),u.selectedPlan&&l(u.selectedPlan),e({title:"Error",description:"Failed to add treatment",variant:"destructive"}),P}finally{r(!1)}},[b,s,u,e]),D=A.useCallback(async(B,P)=>{if(d({...u,selectedPlan:{...s}}),s){const O=s.treatments.map(Y=>Y.id===B?{...Y,status:P}:Y),j=O.filter(Y=>Y.status==="completed").length,G=Math.round(j/O.length*100);l({...s,treatments:O,completedTreatments:j,progress:G})}await m({treatmentId:B,newStatus:P})},[s,u,m]),T=A.useCallback(async(B,P)=>{d({...u,plans:[...n]});const O=n.map(j=>j.id===B?{...j,status:P}:j);a(O),s&&s.id===B&&l({...s,status:P}),await g({planId:B,newStatus:P})},[n,s,u,g]),I=A.useCallback(async B=>{d({...u,selectedPlan:{...s}});try{if(r(!0),s){const P=s.treatments.find(q=>q.id===B),O=s.treatments.filter(q=>q.id!==B),j=O.filter(q=>q.status==="completed").length,G=O.length,Y=G?Math.round(j/G*100):0,re=O.reduce((q,K)=>q+parseFloat(K.cost||0),0);l({...s,treatments:O,completedTreatments:j,totalTreatments:G,progress:Y,totalCost:re})}await Zl.deleteTreatment(B),e({title:"Success",description:"Treatment deleted successfully"}),await b()}catch(P){console.error("Error deleting treatment:",P),u.selectedPlan&&l(u.selectedPlan),e({title:"Error",description:"Failed to delete treatment",variant:"destructive"})}finally{r(!1)}},[b,s,u,e]),L=A.useCallback(async B=>{try{r(!0);const P=n.filter(O=>O.id!==B);a(P),await Zl.deleteTreatmentPlan(B),e({title:"Success",description:"Treatment plan deleted successfully"}),s&&s.id===B&&l(null)}catch(P){console.error("Error deleting treatment plan:",P),_(),e({title:"Error",description:"Failed to delete treatment plan",variant:"destructive"})}finally{r(!1)}},[_,n,s,e]);return{loading:t,treatmentPlans:n,patients:i,selectedPlan:s,setSelectedPlan:l,treatmentPlansSubscribed:f,treatmentsSubscribed:h,updatingTreatmentStatus:x,updatingPlanStatus:y,filterPlans:S,fetchData:_,refreshSelectedPlan:b,createTreatmentPlan:C,createTreatment:E,handleUpdateTreatmentStatus:D,handleUpdatePlanStatus:T,deleteTreatment:I,deletePlan:L}}function B2(e,t=2){if(e==null)return"0.00";const r=typeof e=="string"?parseFloat(e):e;return isNaN(r)?"0.00":`${r.toFixed(t)}`}function OIe({plan:e,onViewDetails:t}){const r=a=>{let i="bg-gray-100 text-gray-800";switch(a){case"planned":i="bg-blue-100 text-blue-800";break;case"in_progress":i="bg-yellow-100 text-yellow-800";break;case"completed":i="bg-green-100 text-green-800";break;case"cancelled":i="bg-red-100 text-red-800";break}return c("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${i}`,children:a.replace("_"," ")})},n=a=>{let i="bg-gray-100 text-gray-800";switch(a){case"low":i="bg-green-100 text-green-800";break;case"medium":i="bg-yellow-100 text-yellow-800";break;case"high":i="bg-red-100 text-red-800";break}return c("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${i}`,children:a})};return w(ur,{className:"overflow-hidden",children:[w(wr,{className:"pb-2",children:[w("div",{className:"flex justify-between items-start",children:[c(_r,{className:"text-lg",children:e.title}),r(e.status)]}),c(vc,{className:"line-clamp-2",children:e.description})]}),c(xr,{className:"pb-2",children:w("div",{className:"space-y-4",children:[w("div",{className:"flex items-center text-sm",children:[c(io,{className:"h-4 w-4 mr-2 text-muted-foreground"}),c("span",{children:e.patientName})]}),w("div",{className:"flex items-center text-sm",children:[c(vo,{className:"h-4 w-4 mr-2 text-muted-foreground"}),w("span",{children:[nr(new Date(e.start_date),"MMM d, yyyy"),e.end_date&&` to ${nr(new Date(e.end_date),"MMM d, yyyy")}`]})]}),w("div",{className:"flex items-center text-sm",children:[c(uce,{className:"h-4 w-4 mr-2 text-muted-foreground"}),w("span",{children:["Total Cost: ",B2(e.totalCost)]})]}),w("div",{className:"space-y-1",children:[w("div",{className:"flex items-center justify-between text-sm",children:[c("span",{children:"Progress"}),w("span",{children:[e.completedTreatments," of ",e.totalTreatments," treatments"]})]}),c(hR,{value:e.progress})]})]})}),w(Vm,{className:"pt-2 flex justify-between",children:[c("div",{className:"flex gap-2",children:e.priority&&n(e.priority)}),w(Fe,{variant:"default",size:"sm",onClick:()=>t(e),children:["View Details ",c(n0,{className:"h-4 w-4 ml-1"})]})]})]})}function DIe({patientId:e,toothIds:t,domain:r,condition:n,matrixDetails:a,selectedTreatment:i,title:o,description:s,patientRecord:l,onSuggestionApply:u,disabled:d=!1}){const[f,h]=A.useState(!1),[m,x]=A.useState([]),{toast:g}=xn(),[y,_]=A.useState(null),[b,S]=A.useState(null);return w("div",{className:"space-y-4",children:[c("div",{className:"flex justify-center",children:w(Fe,{type:"button",onClick:async()=>{var E,D;if(!i){g({title:"Missing Information",description:"Please select a treatment option first.",variant:"destructive"});return}h(!0),x([]);try{const T=await fetch("https://n8n1.kol.tel/webhook/2169736a-368b-49b5-b93f-ffc215203d99",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({patientId:e,toothIds:t,domain:r,condition:n,treatment:i,details:a,patientRecord:l,userInput:{title:o,description:s}})});if(!T.ok)throw new Error(`AI suggestion failed: ${T.status}`);const L=(D=(E=(await T.json())[0])==null?void 0:E.output)==null?void 0:D.response;if(!L||!L.treatmentPlans||!Array.isArray(L.treatmentPlans))throw new Error("Invalid AI response structure: treatmentPlans missing or not an array.");const B=L.treatmentPlans.map(P=>{var z,te,Q;const O=P.planName,j=O==null?void 0:O.toLowerCase(),G=(te=(z=L.caseOverview)==null?void 0:z.patientSelectedTreatment)==null?void 0:te.toLowerCase(),Y=j==null?void 0:j.includes("(patient-selected)"),re=j==null?void 0:j.includes("(patient selected)"),q=G&&(j==null?void 0:j.startsWith(G)),K=Y||re||q;return console.log(`[AISuggestionForm] Plan: ${O} | Lower: ${j} | C1: ${Y} | C2: ${re} | patientSelectedTreatmentLower: ${G} | C3 (startsWith): ${q} | FINAL isPatientSelected: ${K}`),console.log(`[AISuggestionForm] Raw AI plan object for: ${O}`,P),console.log(`[AISuggestionForm] Metadata source fields for: ${O}`,{aiPlanClinicalConsiderations:P.clinicalConsiderations,aiPlanKeyMaterials:P.keyMaterials,aiOutputPostTreatmentCare:L.postTreatmentCare}),{title:P.planName,description:L.clinicalAssessment||"",planDetails:{planName:P.planName,clinicalProtocol:P.clinicalProtocol,keyMaterials:P.keyMaterials,clinicalConsiderations:P.clinicalConsiderations,expectedOutcomes:P.expectedOutcomes,appointmentPlan:P.appointmentPlan||((Q=P.planDetails)==null?void 0:Q.appointmentPlan),isPatientSelected:K},caseOverview:L.caseOverview,patientFactors:L.patientFactors,recommendedInvestigations:L.recommendedInvestigations,clinicalRationale:L.clinicalRationale,postTreatmentCare:L.postTreatmentCare||""}});x(B)}catch(T){console.error("Error generating suggestions:",T),g({title:"Generation Failed",description:T instanceof Error?T.message:"Failed to generate suggestions",variant:"destructive"})}finally{h(!1)}},disabled:d||f||!i,variant:"secondary",size:"sm",children:[f?c(Hn,{className:"mr-2 h-4 w-4 animate-spin"}):c(u5,{className:"mr-2 h-4 w-4"}),"Generate AI Suggestions"]})}),m.length>0&&w("div",{className:"mt-4 space-y-4",children:[c("h4",{className:"font-semibold text-sm",children:"Generated Treatment Plans"}),c("div",{className:"space-y-4",children:m.map((E,D)=>w("div",{className:It("border rounded-lg overflow-hidden bg-card",E.planDetails.isPatientSelected&&"border-primary/50 bg-primary/5"),children:[c("div",{className:"p-4 bg-muted/50",children:w("div",{className:"flex items-start justify-between",children:[w("div",{children:[w("h5",{className:"font-medium text-base",children:[E.title," ",E.planDetails.isPatientSelected&&c("span",{className:"ml-2 text-xs text-primary font-normal",children:"(Patient Selected Plan)"})]}),E.caseOverview&&w("div",{className:"mt-1 text-xs text-muted-foreground",children:[w("p",{children:[c("strong",{children:"Condition:"})," ",E.caseOverview.condition]}),w("p",{children:[c("strong",{children:"Severity:"})," ",E.caseOverview.severity]}),w("p",{children:[c("strong",{children:"Teeth:"})," ",E.caseOverview.teethInvolved]}),E.caseOverview.patientSymptoms&&w("p",{children:[c("strong",{children:"Symptoms:"})," ",E.caseOverview.patientSymptoms]}),E.caseOverview.patientSelectedTreatment&&w("p",{children:[c("strong",{children:"Patient Preference:"})," ",E.caseOverview.patientSelectedTreatment]})]})]}),E.planDetails.isPatientSelected&&c(Fe,{type:"button",variant:"outline",size:"sm",onClick:()=>u(E),children:"Apply This Plan"})]})}),w(LD,{type:"single",collapsible:!0,className:"w-full",children:[w(Ld,{value:"clinical-assessment",children:[c(jd,{className:"px-4",children:"Overall Clinical Assessment"}),c($d,{className:"px-4 pb-4",children:c("p",{className:"text-sm text-muted-foreground whitespace-pre-line",children:E.description})})]}),E.patientFactors&&w(Ld,{value:"patient-factors",children:[c(jd,{className:"px-4",children:"Patient Factors"}),w($d,{className:"px-4 pb-4 text-sm space-y-1",children:[w("p",{children:[c("strong",{children:"Relevant Medical Conditions:"})," ",E.patientFactors.relevantMedicalConditions]}),w("p",{children:[c("strong",{children:"Medication Considerations:"})," ",E.patientFactors.medicationConsiderations]}),w("p",{children:[c("strong",{children:"Age-Related Considerations:"})," ",E.patientFactors.ageRelatedConsiderations]})]})]}),E.recommendedInvestigations&&w(Ld,{value:"recommended-investigations",children:[c(jd,{className:"px-4",children:"Recommended Investigations"}),c($d,{className:"px-4 pb-4 text-sm",children:c("p",{children:E.recommendedInvestigations})})]}),w(Ld,{value:"plan-details",children:[w(jd,{className:"px-4",children:["Details for: ",E.planDetails.planName]}),c($d,{className:"px-4 pb-4",children:w("div",{className:"space-y-3 text-sm",children:[w("div",{children:[c("p",{className:"font-medium",children:"Clinical Protocol:"}),c("p",{className:"text-muted-foreground whitespace-pre-line",children:E.planDetails.clinicalProtocol})]}),w("div",{children:[c("p",{className:"font-medium",children:"Key Materials:"}),c("p",{className:"text-muted-foreground",children:E.planDetails.keyMaterials})]}),w("div",{children:[c("p",{className:"font-medium",children:"Clinical Considerations:"}),c("p",{className:"text-muted-foreground whitespace-pre-line",children:E.planDetails.clinicalConsiderations})]}),w("div",{children:[c("p",{className:"font-medium",children:"Expected Outcomes:"}),c("p",{className:"text-muted-foreground whitespace-pre-line",children:E.planDetails.expectedOutcomes})]})]})})]}),E.planDetails.appointmentPlan&&w(Ld,{value:"appointment-plan",children:[c(jd,{className:"px-4",children:w("span",{className:"flex items-center",children:[c(vo,{className:"mr-2 h-4 w-4"}),"Appointment Plan"]})}),c($d,{className:"px-4 pb-4",children:w("div",{className:"space-y-3 text-sm",children:[w("div",{className:"flex items-center gap-4 text-muted-foreground mb-2",children:[w("div",{children:[c(zu,{className:"h-4 w-4 inline mr-1"}),w("span",{children:["Total Sittings: ",E.planDetails.appointmentPlan.totalSittings]})]}),w("div",{children:[c(vo,{className:"h-4 w-4 inline mr-1"}),w("span",{children:["Total Duration: ",E.planDetails.appointmentPlan.totalTreatmentTime]})]})]}),E.planDetails.appointmentPlan.medicalPrecautions&&w("div",{className:"mb-3",children:[c("p",{className:"font-medium",children:"Medical Precautions:"}),c("p",{className:"text-muted-foreground whitespace-pre-line",children:E.planDetails.appointmentPlan.medicalPrecautions})]}),c("div",{className:"space-y-2",children:E.planDetails.appointmentPlan.sittingDetails.map((T,I)=>w("div",{className:"border rounded p-3 bg-background",children:[w("p",{className:"font-medium",children:["Visit ",T.visit]}),c("p",{className:"text-muted-foreground mt-1",children:T.procedures}),w("div",{className:"mt-2 text-xs text-muted-foreground flex items-center gap-3",children:[w("p",{className:"flex items-center",children:[c(zu,{className:"h-3 w-3 mr-1"}),"Duration: ",T.estimatedDuration]}),T.timeGap!=="N/A"&&w("p",{className:"flex items-center",children:[c(vo,{className:"h-3 w-3 mr-1"}),"Next visit in: ",T.timeGap]})]})]},I))})]})})]}),E.clinicalRationale&&w(Ld,{value:"clinical-rationale",children:[c(jd,{className:"px-4",children:"Clinical Rationale"}),c($d,{className:"px-4 pb-4 text-sm",children:c("p",{className:"whitespace-pre-line",children:E.clinicalRationale})})]}),w(Ld,{value:"post-care",children:[c(jd,{className:"px-4",children:"Post-Treatment Care"}),c($d,{className:"px-4 pb-4",children:c("p",{className:"text-sm text-muted-foreground",children:E.postTreatmentCare})})]})]})]},D))})]})]})}const IIe=Le.object({title:Le.string().min(1,"Title is required"),description:Le.string().min(1,"Description is required"),patient_id:Le.string().min(1,"Patient is required"),domain:Le.string().optional(),condition:Le.string().optional(),treatment:Le.string().min(1,"Select a treatment").optional(),estimated_duration:Le.string().optional(),total_visits:Le.string().optional(),materials:Le.string().optional(),clinical_considerations:Le.string().optional(),post_treatment_care:Le.string().optional(),status:Le.string().optional(),start_date:Le.string().optional(),priority:Le.string().optional(),ai_generated:Le.boolean().optional(),initialTreatments:Le.array(Le.any()).optional(),originalAISuggestion:Le.any().optional()});function RIe({open:e,onOpenChange:t,onSubmit:r,patients:n,loading:a=!1,initialData:i}){const[o,s]=A.useState(""),[l,u]=A.useState(null),[d,f]=A.useState(!1),[h,m]=A.useState(null),[x,g]=A.useState(null),[y,_]=A.useState(null),[b,S]=A.useState(!1),[C,E]=A.useState([]),[D,T]=A.useState(!1),[I,L]=A.useState([]),[B,P]=A.useState(Date.now()),[O,j]=A.useState({}),[G,Y]=A.useState([]),[re,q]=A.useState([]),[K,z]=A.useState([]),[te,Q]=A.useState(!1),[R,H]=A.useState(null),[X,Z]=A.useState(!1),[ie,le]=A.useState([]),[pe,J]=A.useState(!1),[me,ve]=A.useState(!1),[ae,Ue]=A.useState(null),{toast:He}=xn(),Ie=A.useRef(null),he=sd({resolver:ld(IIe),defaultValues:{title:"",description:"",patient_id:"",domain:"",condition:"",treatment:"",estimated_duration:"",total_visits:"",materials:"",clinical_considerations:"",post_treatment_care:""}});A.useEffect(()=>{e?he.reset({title:"",description:"",patient_id:x||"",domain:"",condition:"",treatment:"",estimated_duration:"",total_visits:"",materials:"",clinical_considerations:"",post_treatment_care:""}):(E([]),g(null),u(null),s(""),H(null),le([]),J(!1),_(null),Ue(null),S(!1),he.reset(),T(!1),L([]))},[e,x]),A.useEffect(()=>{e&&(async()=>{Q(!0);try{const Ve=await ir.getTreatmentMatrixOptions();Y(Ve);const _t=[...new Set(Ve.map(At=>At.domain))].sort();q(_t),z([])}catch(Ve){console.error("Failed to fetch treatment options:",Ve)}finally{Q(!1)}})()},[e]);const Ze=he.watch("domain"),pt=he.watch("condition");A.useEffect(()=>{if(console.log(`Domain changed to: ${Ze}. Full matrix options:`,G),Ze){const De=G.filter(Ve=>Ve.domain===Ze).map(Ve=>Ve.condition).sort();console.log(`Filtered conditions for ${Ze}:`,De),z(De),pt&&!De.includes(pt)&&(he.setValue("condition",""),H(null))}else z([]),he.setValue("condition",""),H(null),le([])},[Ze,G,pt,he]),A.useEffect(()=>{if(!Ze||!pt){H(null);return}(async()=>{Z(!0),H(null);try{const Ve=await ir.getMatrixDetails(Ze,pt);H(Ve)}catch(Ve){console.error(`Failed to fetch matrix details for ${Ze}/${pt}:`,Ve),H(null),le([])}finally{Z(!1)}})()},[Ze,pt]);const ht=De=>{he.setValue("domain",De),he.setValue("condition",""),H(null),le([])},Pt=De=>{he.setValue("condition",De),H(null),le([])},st=async De=>{g(De.id),u(`${De.first_name||""} ${De.last_name||""}`.trim()),he.setValue("patient_id",De.id,{shouldValidate:!0}),s(""),j({}),E([]),_(null),S(!0);try{console.log(`Fetching full patient details for patient: ${De.id}`);const Ve=await ir.patients.getById(De.id);_(Ve),console.log("Fetched full patient record:",Ve),console.log(`Fetching tooth conditions for patient: ${De.id}`);const _t=await ir.patients.getPatientToothConditions(De.id);console.log("Fetched conditions data:",_t);const At={},ct=[];_t.forEach(br=>{const er=Array.isArray(br.conditions)?br.conditions.filter(An=>typeof An=="string"&&["healthy","decayed","filled","missing","treatment-planned","root-canal","extraction","crown","has-treatment-before","recommended-to-be-treated"].includes(An)):[],en=er.length>0?er:["healthy"],mn=en.length>1||en.length===1&&en[0]!=="healthy";br.tooth_id&&(At[br.tooth_id]={conditions:en,isSelected:mn},mn&&ct.push(br.tooth_id))}),console.log("Formatted initialState for chart:",At),console.log("Initially selected IDs based on conditions:",ct),j(At),E(ct)}catch(Ve){console.error("Failed to fetch patient details or tooth conditions:",Ve),He({title:"Error Loading Patient Data",description:"Could not load patient details or tooth conditions.",variant:"destructive"}),_(null),j({}),E([])}finally{S(!1)}},xe=De=>{L(De)},Ee=async()=>{if(!Ie.current||!x){console.error("Dental chart ref not available or no patient selected."),He({title:"Error",description:"Could not save chart data. Please try again.",variant:"destructive"});return}ve(!0);try{const De=Ie.current.getTeethData();console.log("Data from chart ref:",De);const Ve=Object.entries(De).filter(([,ct])=>{const br=ct.isSelected,er=Array.isArray(ct.conditions)&&ct.conditions.length===1&&ct.conditions[0]==="healthy";return br&&!er}).map(([ct,br])=>({tooth_id:parseInt(ct,10),conditions:br.conditions,patient_id:x}));console.log("Filtered and transformed data to save (only selected & non-healthy):",Ve),await ir.patients.savePatientToothConditionsDetailed(x,Ve);const _t=Object.entries(De).filter(([,ct])=>ct.isSelected).map(([ct])=>parseInt(ct,10));E(_t);const At={};Object.entries(De).forEach(([ct,br])=>{At[parseInt(ct,10)]={conditions:br.conditions,isSelected:br.isSelected}}),j(At),He({title:"Chart Saved",description:"Patient's tooth conditions have been updated.",variant:"default"}),T(!1)}catch(De){console.error("Failed to save tooth conditions:",De),He({title:"Save Failed",description:"Could not save tooth conditions to the database.",variant:"destructive"})}finally{ve(!1)}},We=()=>{if(!x){He({title:"No Patient Selected",description:"Please select a patient before opening the dental chart.",variant:"default"});return}console.log("Opening chart dialog with prepared initial state:",O),L([...C]),P(Date.now()),T(!0)};A.useEffect(()=>{console.log("isChartDialogOpen state changed:",D)},[D]);const ft=async De=>{if(!x){He({title:"Patient Not Selected",description:"Please select a patient before submitting.",variant:"destructive"});return}let Ve={...De};delete Ve.patient_name,ae?Ve.originalAISuggestion=ae:Ve.ai_generated=!1;try{await r(Ve,C),he.reset(),Ue(null),t(!1)}catch(_t){console.error("Error submitting treatment plan form:",_t),He({title:"Submission Error",description:"Failed to save the treatment plan. Please try again.",variant:"destructive"})}};A.useCallback(async()=>{if(!x||C.length===0||!Ze||!pt||!y){He({title:"Missing Information",description:"Please select patient, teeth, domain, and condition first.",variant:"default",duration:3e3});return}J(!0),le([]);try{const De="https://n8n1.kol.tel/webhook/2169736a-368b-49b5-b93f-ffc215203d99",Ve={patientId:x,toothIds:C,domain:Ze,condition:pt,details:R,treatment:he.getValues("treatment"),patientRecord:y};console.log("Sending payload to n8n:",Ve);const _t=await fetch(De,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ve)});if(!_t.ok){const br=await _t.text();throw console.error("Error response from n8n webhook:",_t.status,br),new Error(`AI suggestion call failed: ${_t.status}`)}const At=await _t.json();console.log("Received response from n8n:",At);const ct=At;if(Array.isArray(ct)&&ct.length>0){const br=ct.filter(er=>er&&typeof er=="object"&&er.title&&er.description);le(br),He({title:"AI Suggestions Ready",description:`Received ${br.length} suggestions.`,variant:"default",duration:3e3})}else console.warn("Received empty or invalid suggestions array from n8n:",At),le([]),He({title:"No Suggestions",description:"The AI did not return any suggestions for this case.",variant:"default",duration:3e3})}catch(De){console.error("Error fetching AI suggestions:",De),He({title:"AI Suggestion Failed",description:De instanceof Error?De.message:"Could not get suggestions. Check console.",variant:"destructive",duration:5e3}),le([])}finally{J(!1)}},[x,C,Ze,pt,R,he,He,y]);const mt=De=>{var Ve,_t,At,ct,br,er;if(Ue(De),he.setValue("title",De.title),he.setValue("description",De.description),(Ve=De.planDetails)!=null&&Ve.clinicalConsiderations&&he.setValue("clinical_considerations",De.planDetails.clinicalConsiderations),De.postTreatmentCare&&he.setValue("post_treatment_care",De.postTreatmentCare),(_t=De.planDetails)!=null&&_t.keyMaterials&&he.setValue("materials",De.planDetails.keyMaterials),(ct=(At=De.planDetails)==null?void 0:At.appointmentPlan)!=null&&ct.totalSittings&&he.setValue("total_visits",De.planDetails.appointmentPlan.totalSittings),(er=(br=De.planDetails)==null?void 0:br.appointmentPlan)!=null&&er.totalTreatmentTime&&he.setValue("estimated_duration",De.planDetails.appointmentPlan.totalTreatmentTime),R!=null&&R.treatment_options&&Array.isArray(R.treatment_options)&&De.title){const en=R.treatment_options.find(mn=>De.title.toLowerCase().includes(mn.toLowerCase()));en&&he.setValue("treatment",en)}he.setValue("ai_generated",!0),He({title:"AI Suggestion Applied",description:`"${De.title}" has been pre-filled into the form.`})};return w(Dr,{children:[c(ei,{open:e,onOpenChange:t,children:w(Ma,{className:"max-w-lg max-h-[90vh] overflow-y-auto",children:[w(Fa,{children:[c(La,{children:"Create New Treatment Plan"}),c(xo,{children:"Create a comprehensive treatment plan for a patient"})]}),c(Dh,{...he,children:w("form",{onSubmit:he.handleSubmit(ft),className:"space-y-4 pb-6",children:[c(Ge,{control:he.control,name:"patient_id",render:({field:De})=>w(Pe,{className:"relative",children:[c(Te,{htmlFor:"patient-search",children:"Patient *"}),c(Oe,{children:c(ot,{type:"search",id:"patient-search",value:o,onChange:Ve=>{s(Ve.target.value),u(null)},placeholder:l||"Search by name, phone, or registration...",disabled:d,className:"w-full"})}),d&&c("p",{className:"text-sm text-muted-foreground mt-1",children:"Loading patients..."}),h&&c("p",{className:"text-sm text-destructive mt-1",children:h}),o&&!d&&!h&&c(df,{className:"absolute z-10 w-full bg-background border rounded-md shadow-lg mt-1 max-h-60",children:c("div",{className:"p-2",children:n.filter(Ve=>{var er,en;const _t=`${Ve.first_name||""} ${Ve.last_name||""}`.toLowerCase(),At=((er=Ve.phone)==null?void 0:er.toLowerCase())||"",ct=((en=Ve.registration_number)==null?void 0:en.toLowerCase())||"",br=o.toLowerCase();return _t.includes(br)||At.includes(br)||ct.includes(br)}).length>0?n.filter(Ve=>{var er,en;const _t=`${Ve.first_name||""} ${Ve.last_name||""}`.toLowerCase(),At=((er=Ve.phone)==null?void 0:er.toLowerCase())||"",ct=((en=Ve.registration_number)==null?void 0:en.toLowerCase())||"",br=o.toLowerCase();return _t.includes(br)||At.includes(br)||ct.includes(br)}).map(Ve=>c(Fe,{variant:"ghost",className:"w-full justify-start text-left h-auto py-2 px-3 mb-1",onClick:()=>st(Ve),type:"button",children:w("div",{children:[c("div",{children:`${Ve.first_name||""} ${Ve.last_name||""}`.trim()}),w("div",{className:"text-xs text-muted-foreground",children:[Ve.registration_number&&`Reg: ${Ve.registration_number}`,Ve.registration_number&&Ve.phone&&" | ",Ve.phone&&`Ph: ${Ve.phone}`]})]})},Ve.id)):w("p",{className:"text-sm text-muted-foreground p-2",children:['No patients found matching "',o,'"']})})}),c(Xe,{})]})}),w(Pe,{children:[c(Te,{children:"Affected Teeth & Conditions"}),w("div",{className:"flex items-center gap-4",children:[w(Fe,{type:"button",variant:"outline",onClick:We,children:[c(G8,{className:"mr-2 h-4 w-4"})," ","Select Teeth..."]}),c("div",{className:"text-sm text-muted-foreground flex-grow min-w-0",children:C.length>0?w("span",{className:"truncate",children:["Selected: ",C.sort((De,Ve)=>De-Ve).join(", ")]}):"No teeth selected"})]}),c(Xe,{})]}),C.length>0&&w(Dr,{children:[c(Ge,{control:he.control,name:"domain",render:({field:De})=>w(Pe,{children:[c(Te,{children:"Domain"}),w(zr,{onValueChange:ht,value:De.value||"",disabled:te,children:[c(Oe,{children:c(Br,{children:c(Wr,{placeholder:te?"Loading...":"Select domain"})})}),c(Ur,{children:te?c(wt,{value:"loading",disabled:!0,children:"Loading..."}):re.map(Ve=>c(wt,{value:Ve,children:Ve.charAt(0).toUpperCase()+Ve.slice(1)},Ve))})]}),c(Xe,{})]})}),c(Ge,{control:he.control,name:"condition",render:({field:De})=>w(Pe,{children:[c(Te,{children:"Condition"}),w(zr,{onValueChange:Pt,value:De.value||"",disabled:te,children:[c(Oe,{children:c(Br,{children:c(Wr,{placeholder:te?"Loading...":"Select condition"})})}),c(Ur,{children:te?c(wt,{value:"loading",disabled:!0,children:"Loading..."}):K.map(Ve=>c(wt,{value:Ve,children:Ve.charAt(0).toUpperCase()+Ve.slice(1)},Ve))})]}),c(Xe,{})]})}),X&&c("div",{className:"text-sm text-muted-foreground p-2 border rounded-md",children:"Loading details..."}),!X&&R&&w("div",{className:"mt-4 p-3 border rounded-md bg-secondary/10 space-y-2 text-sm",children:[w("h4",{className:"font-semibold text-base mb-2",children:["Details for ",Ze," / ",pt]}),R.urgency&&w("p",{children:[c("strong",{children:"Urgency:"})," ",R.urgency]}),R.severity&&w("p",{children:[c("strong",{children:"Severity:"})," ",R.severity]}),R.risk_impact&&w("p",{children:[c("strong",{children:"Risk/Impact:"})," ",R.risk_impact]}),R.recommended_investigations&&R.recommended_investigations.length>0&&w("p",{children:[c("strong",{children:"Investigations:"})," ",R.recommended_investigations.join(", ")]}),R.treatment_options&&R.treatment_options.length>0&&w("div",{className:"mt-3",children:[c("p",{className:"font-semibold mb-1",children:"Select Treatment:"}),c(Ge,{control:he.control,name:"treatment",render:({field:De})=>w("div",{className:"space-y-1 ml-1",children:[R.treatment_options.map(Ve=>w("label",{className:"flex items-center gap-2",children:[c("input",{type:"radio",value:Ve,checked:De.value===Ve,onChange:_t=>{_t.target.checked&&De.onChange(Ve)}}),c("span",{children:Ve})]},Ve)),c(Xe,{})]})})]}),w("div",{className:"mt-4 pt-4 border-t space-y-4",children:[c(Ge,{control:he.control,name:"title",render:({field:De})=>w(Pe,{children:[c(Te,{children:"Title *"}),c(Oe,{children:c(ot,{placeholder:"Treatment plan title",...De})}),c(Xe,{})]})}),c(Ge,{control:he.control,name:"description",render:({field:De})=>w(Pe,{children:[c(Te,{children:"Description *"}),c(Oe,{children:c(Yr,{placeholder:"Detailed description of the treatment plan",...De,rows:3})}),c(Xe,{})]})}),c("div",{className:"mt-4",children:c(DIe,{patientId:x||"",toothIds:C,domain:Ze||"",condition:String(pt||""),matrixDetails:R,selectedTreatment:he.watch("treatment")||"",title:he.watch("title")||"",description:he.watch("description")||"",onSuggestionApply:De=>{mt(De)},disabled:!x||C.length===0||!he.watch("treatment")||!y||b||pe,patientRecord:y})})]})]}),!X&&Ze&&pt&&!R&&c("div",{className:"text-sm text-muted-foreground p-2 border rounded-md border-dashed",children:"No details found for this combination."})]}),R&&w(Dr,{children:[c(Ge,{control:he.control,name:"estimated_duration",render:({field:De})=>w(Pe,{children:[c(Te,{children:"Estimated Duration"}),c(Oe,{children:c(ot,{...De,placeholder:"e.g., 3-4 weeks"})}),c(Xe,{})]})}),c(Ge,{control:he.control,name:"total_visits",render:({field:De})=>w(Pe,{children:[c(Te,{children:"Total Visits"}),c(Oe,{children:c(ot,{...De,placeholder:"e.g., 2"})}),c(Xe,{})]})}),c(Ge,{control:he.control,name:"materials",render:({field:De})=>w(Pe,{children:[c(Te,{children:"Required Materials"}),c(Oe,{children:c(Yr,{...De,placeholder:"List of required materials",className:"min-h-[80px]"})}),c(Xe,{})]})}),c(Ge,{control:he.control,name:"clinical_considerations",render:({field:De})=>w(Pe,{children:[c(Te,{children:"Clinical Considerations"}),c(Oe,{children:c(Yr,{...De,placeholder:"Important clinical considerations",className:"min-h-[80px]"})}),c(Xe,{})]})}),c(Ge,{control:he.control,name:"post_treatment_care",render:({field:De})=>w(Pe,{children:[c(Te,{children:"Post-Treatment Care"}),c(Oe,{children:c(Yr,{...De,placeholder:"Post-treatment care instructions",className:"min-h-[80px]"})}),c(Xe,{})]})})]}),w(lo,{children:[c(Fe,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),w(Fe,{type:"submit",disabled:a,children:[a?c(Hn,{className:"mr-2 h-4 w-4 animate-spin"}):c(Yc,{className:"mr-2 h-4 w-4"}),"Create Plan"]})]})]})})]})}),c(ei,{open:D,onOpenChange:T,children:w(Ma,{className:"max-w-2xl",children:[" ",w(Fa,{children:[c(La,{children:"Select Affected Teeth & Apply Conditions"}),c(xo,{children:"Click teeth to select/deselect. Use buttons below to apply conditions to selected teeth."})]}),c(M3,{ref:Ie,initialState:O,onToothSelect:xe},B),w(lo,{children:[c(Fe,{variant:"outline",onClick:()=>T(!1),disabled:me,children:"Cancel"}),w(Fe,{onClick:Ee,disabled:me,children:[me?c(Hn,{className:"mr-2 h-4 w-4 animate-spin"}):c(Ace,{className:"mr-2 h-4 w-4"}),"Confirm & Save Chart"]})]})]})})]})}const MIe=Le.object({type:Le.string().min(1,"Treatment type is required"),description:Le.string().min(1,"Description is required"),status:Le.enum(["pending","completed","cancelled"]),cost:Le.string().min(1,"Cost is required").refine(e=>!isNaN(parseFloat(e)),"Cost must be a valid number"),estimated_duration:Le.string().optional().transform(e=>e===""?null:e),priority:Le.enum(["low","medium","high"]),plan_id:Le.string().min(1)});function FIe({open:e,onOpenChange:t,onSubmit:r,planId:n,loading:a=!1}){const i=sd({resolver:ld(MIe),defaultValues:{type:"",description:"",status:"pending",cost:"",estimated_duration:"",priority:"medium",plan_id:n}});Je.useEffect(()=>{n&&i.setValue("plan_id",n)},[n,i]);const o=async s=>{await r(s),i.reset({type:"",description:"",status:"pending",cost:"",estimated_duration:"",priority:"medium",plan_id:n})};return c(ei,{open:e,onOpenChange:t,children:w(Ma,{className:"max-w-md",children:[w(Fa,{children:[c(La,{children:"Add New Treatment"}),c(xo,{children:"Add a treatment procedure to the plan"})]}),c(Dh,{...i,children:w("form",{onSubmit:i.handleSubmit(o),className:"space-y-4",children:[c(Ge,{control:i.control,name:"type",render:({field:s})=>w(Pe,{children:[c(Te,{children:"Treatment Type *"}),c(Oe,{children:c(ot,{placeholder:"e.g., Root Canal, Filling, Crown",...s})}),c(Xe,{})]})}),c(Ge,{control:i.control,name:"description",render:({field:s})=>w(Pe,{children:[c(Te,{children:"Description *"}),c(Oe,{children:c(Yr,{placeholder:"Detailed description of the treatment",...s,rows:3})}),c(Xe,{})]})}),w("div",{className:"grid grid-cols-2 gap-4",children:[c(Up,{name:"cost",control:i.control,render:({field:s,fieldState:{error:l}})=>w(Pe,{children:[c(Te,{children:"Cost () *"}),c(Oe,{children:c(ot,{type:"text",inputMode:"decimal",placeholder:"0.00",ref:s.ref,name:s.name,onBlur:s.onBlur,value:s.value===null||s.value===void 0?"":String(s.value),onChange:u=>{s.onChange(u.target.value)},"aria-invalid":!!l})}),l&&c(Xe,{children:l.message}),!l&&s.value!==""&&i.formState.errors.cost&&c(Xe,{children:i.formState.errors.cost.message})]})}),c(Ge,{control:i.control,name:"estimated_duration",render:({field:s})=>w(Pe,{children:[c(Te,{children:"Estimated Duration"})," ",c(Oe,{children:c(ot,{type:"text",placeholder:"e.g., 30 minutes, 1 hour",...s,value:s.value??""})}),c(Xe,{})]})})]}),w("div",{className:"grid grid-cols-2 gap-4",children:[c(Ge,{control:i.control,name:"status",render:({field:s})=>w(Pe,{children:[c(Te,{children:"Status"}),w(zr,{onValueChange:s.onChange,value:s.value,children:[c(Oe,{children:c(Br,{children:c(Wr,{placeholder:"Select status"})})}),w(Ur,{children:[c(wt,{value:"pending",children:"Pending"}),c(wt,{value:"completed",children:"Completed"}),c(wt,{value:"cancelled",children:"Cancelled"})]})]}),c(Xe,{})]})}),c(Ge,{control:i.control,name:"priority",render:({field:s})=>w(Pe,{children:[c(Te,{children:"Priority"}),w(zr,{onValueChange:s.onChange,value:s.value,children:[c(Oe,{children:c(Br,{children:c(Wr,{placeholder:"Select priority"})})}),w(Ur,{children:[c(wt,{value:"low",children:"Low"}),c(wt,{value:"medium",children:"Medium"}),c(wt,{value:"high",children:"High"})]})]}),c(Xe,{})]})})]}),w(lo,{children:[c(Fe,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),w(Fe,{type:"submit",disabled:a,children:[a?c(Hn,{className:"mr-2 h-4 w-4 animate-spin"}):c(Yc,{className:"mr-2 h-4 w-4"}),"Add Treatment"]})]})]})})]})})}var pre="AlertDialog",[LIe,MJe]=Xi(pre,[aee]),Ih=aee(),mre=e=>{const{__scopeAlertDialog:t,...r}=e,n=Ih(t);return c(wee,{...n,...r,modal:!0})};mre.displayName=pre;var jIe="AlertDialogTrigger",gre=A.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Ih(r);return c(_ee,{...a,...n,ref:t})});gre.displayName=jIe;var $Ie="AlertDialogPortal",vre=e=>{const{__scopeAlertDialog:t,...r}=e,n=Ih(t);return c(bee,{...n,...r})};vre.displayName=$Ie;var BIe="AlertDialogOverlay",yre=A.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Ih(r);return c(KI,{...a,...n,ref:t})});yre.displayName=BIe;var Qv="AlertDialogContent",[UIe,qIe]=LIe(Qv),zIe=XV("AlertDialogContent"),xre=A.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,i=Ih(r),o=A.useRef(null),s=Hr(t,o),l=A.useRef(null);return c(dOe,{contentName:Qv,titleName:wre,docsSlug:"alert-dialog",children:c(UIe,{scope:r,cancelRef:l,children:w(YI,{role:"alertdialog",...i,...a,ref:s,onOpenAutoFocus:Ut(a.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[c(zIe,{children:n}),c(HIe,{contentRef:o})]})})})});xre.displayName=Qv;var wre="AlertDialogTitle",_re=A.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Ih(r);return c(XI,{...a,...n,ref:t})});_re.displayName=wre;var bre="AlertDialogDescription",Sre=A.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Ih(r);return c(ZI,{...a,...n,ref:t})});Sre.displayName=bre;var WIe="AlertDialogAction",Are=A.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Ih(r);return c(A3,{...a,...n,ref:t})});Are.displayName=WIe;var kre="AlertDialogCancel",Nre=A.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=qIe(kre,r),i=Ih(r),o=Hr(t,a);return c(A3,{...i,...n,ref:o})});Nre.displayName=kre;var HIe=({contentRef:e})=>{const t=`\`${Qv}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Qv}\` by passing a \`${bre}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Qv}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return A.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},VIe=mre,GIe=gre,KIe=vre,Ere=yre,Cre=xre,Tre=Are,Pre=Nre,Ore=_re,Dre=Sre;const QO=VIe,e8=GIe,YIe=KIe,Ire=A.forwardRef(({className:e,...t},r)=>c(Ere,{className:It("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));Ire.displayName=Ere.displayName;const IS=A.forwardRef(({className:e,...t},r)=>w(YIe,{children:[c(Ire,{}),c(Cre,{ref:r,className:It("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));IS.displayName=Cre.displayName;const RS=({className:e,...t})=>c("div",{className:It("flex flex-col space-y-2 text-center sm:text-left",e),...t});RS.displayName="AlertDialogHeader";const MS=({className:e,...t})=>c("div",{className:It("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});MS.displayName="AlertDialogFooter";const FS=A.forwardRef(({className:e,...t},r)=>c(Ore,{ref:r,className:It("text-lg font-semibold",e),...t}));FS.displayName=Ore.displayName;const LS=A.forwardRef(({className:e,...t},r)=>c(Dre,{ref:r,className:It("text-sm text-muted-foreground",e),...t}));LS.displayName=Dre.displayName;const jS=A.forwardRef(({className:e,...t},r)=>c(Tre,{ref:r,className:It(rx(),e),...t}));jS.displayName=Tre.displayName;const $S=A.forwardRef(({className:e,...t},r)=>c(Pre,{ref:r,className:It(rx({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));$S.displayName=Pre.displayName;function XIe({treatment:e,onStatusChange:t,onDelete:r,loading:n=!1,estimatedVisitDate:a}){const[i,o]=A.useState(!1),[s,l]=A.useState("N/A");A.useEffect(()=>{let g=null;const y=()=>{const _=e.actual_start_time?new Date(e.actual_start_time):null,b=e.actual_end_time?new Date(e.actual_end_time):null;if(b&&_)g&&clearInterval(g),l(wY(b,_));else if(_){const C=pY(new Date,_),E=Math.floor(C/3600),D=Math.floor(C%3600/60),T=C%60;l(`${String(E).padStart(2,"0")}:${String(D).padStart(2,"0")}:${String(T).padStart(2,"0")}`)}else l(u(e.estimated_duration)),g&&clearInterval(g)};return y(),e.actual_start_time&&!e.actual_end_time&&(g=setInterval(y,1e3)),()=>{g&&clearInterval(g)}},[e.actual_start_time,e.actual_end_time,e.estimated_duration]);const u=g=>{if(console.log("Received intervalValue:",g,"Type:",typeof g),!g)return"N/A";if(typeof g=="object"&&g!==null){const{days:y=0,hours:_=0,minutes:b=0,seconds:S=0}=g;let C="";return y>0&&(C+=`${y} day${y>1?"s":""} `),_>0&&(C+=`${_} hour${_>1?"s":""} `),b>0&&(C+=`${b} minute${b>1?"s":""} `),C.trim()||"N/A"}if(typeof g=="string")try{if(typeof g=="string"&&/^\d{2}:\d{2}:\d{2}$/.test(g)){const y=g.split(":").map(Number),_=y[0]||0,b=y[1]||0,S=y[2]||0;if(isNaN(_)||isNaN(b)||isNaN(S))return console.warn(`Could not parse HH:MM:SS interval: ${g}`),g;let C="";return _>0&&(C+=`${_} hour${_>1?"s":""} `),b>0&&(C+=`${b} minute${b>1?"s":""} `),S>0&&_===0&&b===0&&(C+=`${S} second${S>1?"s":""}`),C.trim()||"N/A"}return g}catch(y){return console.error("Error parsing interval string:",g,y),g}return console.warn("Unexpected interval value type:",typeof g,g),"Invalid Duration"},d=g=>{let y="bg-gray-100 text-gray-800";switch(g){case"pending":y="bg-purple-100 text-purple-800";break;case"completed":y="bg-green-100 text-green-800";break;case"cancelled":y="bg-red-100 text-red-800";break}return c("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-semibold ${y}`,children:g.replace("_"," ")})},f=g=>{let y="bg-gray-100 text-gray-800";switch(g){case"low":y="bg-green-100 text-green-800";break;case"medium":y="bg-yellow-100 text-yellow-800";break;case"high":y="bg-red-100 text-red-800";break}return c("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-semibold ${y}`,children:g})};if(!e)return c("div",{className:"text-center text-sm text-gray-500 py-4",children:"No treatment data."});const h=String(e.cost||"0"),m=parseFloat(h),x=isNaN(m)?0:m;return w("div",{className:"bg-white shadow-md rounded-lg mb-3 transition-all hover:shadow-lg",children:[w("div",{className:"px-5 py-4",children:[w("div",{className:"flex justify-between items-start mb-2",children:[w("div",{children:[c("h4",{className:"font-semibold text-md text-gray-800 group-hover:text-blue-600 transition-colors duration-200",children:e.type}),c("p",{className:"text-sm text-gray-600 mt-0.5",children:e.description})]}),w("div",{className:"flex items-center space-x-2 shrink-0 ml-4",children:[d(e.status),e.priority&&f(e.priority)]})]}),w("div",{className:"flex items-center text-xs text-gray-500 mt-3 pt-3 border-t border-gray-200",children:[a&&w(Dr,{children:[c(vo,{className:"mr-1.5 h-3.5 w-3.5 text-gray-400"}),c("span",{className:"font-medium",children:"Est. Visit:"}),c("span",{className:"ml-1",children:a}),c("span",{className:"mx-2 text-gray-300",children:"|"})]}),c(zu,{className:"mr-1.5 h-3.5 w-3.5 text-gray-400"}),c("span",{className:"font-medium",children:"Duration:"}),c("span",{className:"ml-1",children:s}),e.time_gap&&w(Dr,{children:[c("span",{className:"mx-2 text-gray-300",children:"|"}),c("span",{className:"font-medium",children:"Next visit in:"}),c("span",{className:"ml-1",children:e.time_gap})]})]})]}),c("div",{className:"bg-gray-50 px-5 py-3 border-t border-gray-200",children:w("div",{className:"flex items-center justify-between",children:[w("div",{className:"text-sm font-medium text-gray-700",children:["Cost: ",c("span",{className:"text-gray-900",children:B2(x,"USD")})]}),w("div",{className:"flex items-center space-x-2",children:[e.status==="pending"&&w(Dr,{children:[w(Fe,{variant:"outline",size:"sm",className:"text-xs",title:"Mark this treatment as completed",onClick:()=>t(e.id,"completed"),disabled:n||i,children:[n&&!i?c(Hn,{className:"h-3 w-3 mr-1.5 animate-spin"}):c(Aw,{className:"h-3 w-3 mr-1.5"}),"Mark Complete"]}),w(Fe,{variant:"outline",size:"sm",className:"text-xs",title:"Cancel this treatment",onClick:()=>t(e.id,"cancelled"),disabled:n||i,children:[n&&!i?c(Hn,{className:"h-3 w-3 mr-1.5 animate-spin"}):c(a0,{className:"h-3 w-3 mr-1.5"}),"Cancel"]})]}),(e.status==="completed"||e.status==="cancelled")&&w(Fe,{variant:"outline",size:"sm",className:"text-xs",title:"Reopen this treatment (set to pending)",onClick:()=>t(e.id,"pending"),disabled:n||i,children:[n&&!i?c(Hn,{className:"h-3 w-3 mr-1.5 animate-spin"}):c(Sce,{className:"h-3 w-3 mr-1.5"}),"Reopen"]}),w(QO,{open:i,onOpenChange:o,children:[c(e8,{asChild:!0,children:c(Fe,{variant:"destructive",size:"sm",className:"text-xs",title:"Delete this treatment permanently",disabled:n,children:c(ph,{className:"h-3 w-3"})})}),w(IS,{children:[w(RS,{children:[c(FS,{children:"Are you sure?"}),w(LS,{children:['This action cannot be undone. This will permanently delete the treatment: "',e.type,'".']})]}),w(MS,{children:[c($S,{disabled:n,children:"Cancel"}),w(jS,{onClick:()=>r(e.id),disabled:n,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:[n?c(Hn,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Yes, delete treatment"]})]})]})]})]})]})})]})}const Mz="#0060df",ZIe="#22c55e",Fz="#e0e0e0",Lz="#ffffff",JIe=({steps:e,currentStepId:t,completedStepIds:r})=>{const n=(a,i)=>{const o=i===e.length-1,s=t==="completed";return r.includes(a)?s&&o?"finalComplete":"completed":a===t?s&&o?"finalComplete":"current":"pending"};return w("div",{className:"flex items-start w-full px-2 py-4 bg-white rounded-lg shadow-sm overflow-x-auto",children:[" ",e.map((a,i)=>{const o=n(a.id,i),s=i===e.length-1,l=o==="completed",u=o==="current",d=o==="finalComplete",f=d?ZIe:l||u?Mz:Fz;return w(Je.Fragment,{children:[w("div",{className:"flex flex-col items-center min-w-[100px] px-1",children:[" ",c("div",{className:"flex items-center justify-center w-6 h-6 rounded-full transition-colors duration-500 mb-1",style:{backgroundColor:f},children:l||d?w("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:3,stroke:Lz,className:"w-4 h-4",children:[" ",c("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})]}):u?w("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:3,stroke:Lz,className:"w-4 h-4",children:[" ",c("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})]}):c("div",{className:"w-2 h-2 bg-gray-400 rounded-sm"})}),w("div",{className:"text-center",children:[w("div",{className:`text-xs font-medium ${l||u||d?"text-gray-700":"text-gray-400"}`,children:[" ",a.title]}),a.description&&c("div",{className:"text-[10px] text-gray-400",children:a.description})]})]}),!s&&w("div",{className:"flex-1 h-1 mx-1 relative transition-colors duration-500",style:{backgroundColor:Fz},children:[" ",c("div",{className:"absolute top-0 left-0 h-full transition-all duration-1000 ease-out",style:{width:l?"100%":"0%",backgroundColor:Mz}})]})]},a.id)})]})},QIe=(e,t)=>{if(!t)return e;try{let r;try{r=bn(e)}catch{console.warn(`[calculateEstimatedDate] Could not parse baseDateStr with parseISO: ${e}. Attempting to re-parse or defaulting.`),r=new Date(e)}if(isNaN(r.getTime()))return console.error(`[calculateEstimatedDate] Invalid baseDate after parsing: ${e}`),e;const n=t.toLowerCase().split(" ");if(n.length!==2)return nr(r,"MMM d, yyyy");const a=parseInt(n[0],10),i=n[1].endsWith("s")?n[1]:n[1]+"s";if(isNaN(a))return nr(r,"MMM d, yyyy");let o={};if(i==="days")o={days:a};else if(i==="weeks")o={weeks:a};else if(i==="months")o={months:a};else if(i==="years")o={years:a};else return nr(r,"MMM d, yyyy");return nr(Cme(r,o),"MMM d, yyyy")}catch(r){console.error(`Error calculating estimated date with baseDate: ${e}, timeGap: ${t}`,r);try{return nr(bn(e),"MMM d, yyyy")}catch{return e}}};function eRe({open:e,onOpenChange:t,plan:r,onRefresh:n,onAddTreatment:a,onStatusChange:i,onDeletePlan:o,onTreatmentStatusChange:s,onDeleteTreatment:l,loading:u=!1,navigateToPatient:d,aiInitialSuggestion:f}){var q,K,z,te,Q,R,H,X;const{toast:h}=xn(),m=as(),[x,g]=A.useState(!1),[y,_]=A.useState(!1),[b,S]=A.useState(1),C=5,[E,D]=A.useState(!1),T=Z=>{if(!Z||typeof Z!="string")return;Z=Z.trim();const ie=Z.match(/^(\d+)\s*[-]\s*(\d+)\s+(\w+)$/i);if(ie&&ie.length===4)return`${ie[2]} ${ie[3]}`;const le=Z.match(/^(\d+)\s+(\w+)$/i);if(le&&le.length===3)return`${le[1]} ${le[2]}`;const pe=Z.match(/^(\d+)$/);if(pe&&pe.length===2)return`${pe[1]} minutes`;console.warn(`[TreatmentPlanDetails] Could not parse duration: "${Z}". It does not match expected formats (e.g., "X-Y units", "X units", "X"). Falling back to undefined.`)};console.log("[TreatmentPlanDetails] Rendering. Plan:",r),console.log("[TreatmentPlanDetails] aiInitialSuggestion:",f),(q=f==null?void 0:f.planDetails)!=null&&q.appointmentPlan&&(console.log("[TreatmentPlanDetails] aiInitialSuggestion.planDetails.appointmentPlan.sittingDetails:",f.planDetails.appointmentPlan.sittingDetails),console.log("[TreatmentPlanDetails] sittingDetails length:",(K=f.planDetails.appointmentPlan.sittingDetails)==null?void 0:K.length)),console.log("[TreatmentPlanDetails] plan.treatments:",r==null?void 0:r.treatments),A.useMemo(()=>{if(!(r!=null&&r.treatments))return[];const Z=(b-1)*C,ie=Z+C;return r.treatments.slice(Z,ie)},[r==null?void 0:r.treatments,b]);const I=A.useMemo(()=>{if(!(r!=null&&r.treatments)||r.treatments.length===0)return[];let Z=r.start_date||r.created_at;return r.treatments.map((ie,le)=>{let pe;if(le===0)pe=nr(bn(Z),"MMM d, yyyy");else{const J=r.treatments[le-1];Z=QIe(Z,J.time_gap),pe=Z}return{...ie,estimatedVisitDate:pe}})},[r==null?void 0:r.treatments,r==null?void 0:r.start_date,r==null?void 0:r.created_at]),L=A.useMemo(()=>{if(!I)return[];const Z=(b-1)*C,ie=Z+C;return I.slice(Z,ie)},[I,b]),B=A.useMemo(()=>r!=null&&r.treatments?Math.ceil(r.treatments.length/C):1,[r==null?void 0:r.treatments]),P=async()=>{var le,pe;if(!((pe=(le=f==null?void 0:f.planDetails)==null?void 0:le.appointmentPlan)!=null&&pe.sittingDetails)||!(r!=null&&r.id)){h({title:"Error",description:"No AI suggestion details found or plan ID is missing.",variant:"destructive"});return}D(!0);let Z=0;const ie=f.planDetails.appointmentPlan.sittingDetails.length;try{for(const J of f.planDetails.appointmentPlan.sittingDetails){console.log("[TreatmentPlanDetails] [handleCreateAiSuggestedTreatments] Processing sitting:",J);const me=J.procedures||"No procedures detailed.",ve=me.substring(0,50)+(me.length>50?"...":""),ae=`${J.visit||"AI Suggested Visit"} - ${ve}`,Ue=T(J.estimatedDuration),He={type:ae,description:me,status:"pending",priority:"medium",cost:"0",estimated_duration:Ue,time_gap:J.timeGap||null,plan_id:r.id};await Zl.createTreatment(He),Z++}h({title:"Success",description:`${Z} of ${ie} AI suggested treatments created. Refreshing...`}),await n()}catch(J){console.error("Error creating AI suggested treatments:",J),h({title:"Creation Failed",description:`Failed to create some or all AI suggested treatments. ${Z} created. ${J.message}`,variant:"destructive"}),Z>0&&await n()}finally{D(!1)}};if(!r)return null;const O=A.useMemo(()=>{if(!r.start_date||!r.end_date)return null;try{const Z=new Date(r.start_date),ie=new Date(r.end_date);return wY(ie,Z,{addSuffix:!1})}catch(Z){return console.error("Error calculating duration:",Z),null}},[r.start_date,r.end_date]),j=A.useMemo(()=>[{id:"planned",title:"Planned",description:"Plan created"},{id:"in_progress",title:"In Progress",description:"Treatment started"},{id:"completed",title:"Completed",description:"Plan finished"}],[]),G=A.useMemo(()=>{const Z=[];if(!(r!=null&&r.status))return Z;const ie=j.findIndex(le=>le.id===r.status);for(let le=0;le<ie;le++)Z.push(j[le].id);return r.status==="completed"&&(Z.includes("planned")||Z.push("planned"),Z.includes("in_progress")||Z.push("in_progress")),r.status,Z},[r==null?void 0:r.status,j]),Y=Z=>{let ie="bg-gray-100 text-gray-800";switch(Z){case"planned":ie="bg-blue-100 text-blue-800";break;case"in_progress":ie="bg-yellow-100 text-yellow-800";break;case"completed":ie="bg-green-100 text-green-800";break;case"cancelled":ie="bg-red-100 text-red-800";break}return c("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${ie}`,children:Z.replace("_"," ")})},re=Z=>{let ie="bg-gray-100 text-gray-800";switch(Z){case"low":ie="bg-green-100 text-green-800";break;case"medium":ie="bg-yellow-100 text-yellow-800";break;case"high":ie="bg-red-100 text-red-800";break}return c("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${ie}`,children:Z})};return c(ei,{open:e,onOpenChange:t,children:w(Ma,{className:"max-w-4xl",children:[w(Fa,{children:[c(La,{children:"Treatment Plan Details"}),w(xo,{children:["Created on ",nr(new Date(r.created_at),"MMMM d, yyyy")]})]}),c("div",{className:"pr-6 py-4 max-h-[70vh] overflow-y-auto",children:w("div",{className:"space-y-6",children:[w("div",{className:"flex justify-between items-start",children:[w("div",{children:[c("h2",{className:"text-xl font-semibold",children:r.title}),c("p",{className:"text-sm text-muted-foreground",children:r.description})]}),w("div",{className:"flex items-center gap-2",children:[Y(r.status),r.priority&&re(r.priority)]})]}),r.status!=="cancelled"&&c("div",{className:"my-6",children:c(JIe,{steps:j,currentStepId:r.status,completedStepIds:G})}),c("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:w("div",{className:"space-y-4",children:[w("div",{className:"flex items-center gap-2",children:[c(io,{className:"h-5 w-5 text-muted-foreground"}),w("div",{children:[c("p",{className:"text-sm font-medium",children:"Patient"}),c("p",{children:r.patientName})]}),d&&c(Fe,{variant:"ghost",size:"sm",className:"ml-auto",onClick:()=>d(r.patient_id),children:c(ece,{className:"h-4 w-4"})})]}),w("div",{className:"flex items-center gap-2",children:[c(vo,{className:"h-5 w-5 text-muted-foreground"}),w("div",{children:[c("p",{className:"text-sm font-medium",children:"Timeframe"}),w("p",{children:[nr(new Date(r.start_date),"MMMM d, yyyy"),r.end_date&&` to ${nr(new Date(r.end_date),"MMMM d, yyyy")}`]}),O&&w("p",{className:"text-sm text-muted-foreground",children:["Calculated Duration: ",O]}),((te=(z=f==null?void 0:f.planDetails)==null?void 0:z.appointmentPlan)==null?void 0:te.totalTreatmentTime)&&w("p",{className:"text-sm text-muted-foreground mt-1",children:["Suggested Total Plan Duration: ",f.planDetails.appointmentPlan.totalTreatmentTime]})]})]}),r.teeth&&r.teeth.length>0&&w("div",{className:"flex items-center gap-2",children:[c(G8,{className:"h-5 w-5 text-muted-foreground"}),w("div",{children:[c("p",{className:"text-sm font-medium",children:"Affected Teeth"}),c("p",{className:"text-sm text-muted-foreground",children:r.teeth.map(Z=>Z.tooth_id).sort((Z,ie)=>Z-ie).join(", ")})]})]})]})}),w("div",{className:"space-y-2",children:[w("div",{className:"flex items-center justify-between",children:[c("h3",{className:"text-lg font-medium",children:"Treatments"}),w("div",{className:"flex gap-2",children:[w(Fe,{variant:"outline",size:"sm",onClick:n,disabled:u,children:[c(bce,{className:"h-4 w-4 mr-1"}),"Refresh"]}),w(Fe,{variant:"outline",size:"sm",onClick:a,disabled:u,children:[c(Yc,{className:"h-4 w-4 mr-1"}),"Add Treatment"]})]})]}),r.treatments&&r.treatments.length>0?w(Dr,{children:[c("div",{className:"space-y-3",children:L.map(Z=>c(XIe,{treatment:Z,onStatusChange:s,onDelete:l,loading:u,estimatedVisitDate:Z.estimatedVisitDate},Z.id))}),B>1&&w("div",{className:"flex justify-center items-center gap-2 mt-4",children:[w(Fe,{variant:"outline",size:"sm",onClick:()=>S(Z=>Math.max(Z-1,1)),disabled:b===1||u,children:[c(f4,{className:"h-4 w-4"}),"Previous"]}),w("span",{className:"text-sm text-muted-foreground",children:["Page ",b," of ",B]}),w(Fe,{variant:"outline",size:"sm",onClick:()=>S(Z=>Math.min(Z+1,B)),disabled:b===B||u,children:["Next",c(n0,{className:"h-4 w-4"})]})]})]}):(R=(Q=f==null?void 0:f.planDetails)==null?void 0:Q.appointmentPlan)!=null&&R.sittingDetails&&f.planDetails.appointmentPlan.sittingDetails.length>0?w("div",{className:"text-center py-6 border rounded-lg",children:[c(u5,{className:"h-8 w-8 mx-auto text-primary mb-3"}),c("p",{className:"text-muted-foreground mb-4",children:"AI-generated treatment visits are available for this plan."}),w(Fe,{onClick:P,disabled:E||u,size:"sm",children:[E?c(Hn,{className:"mr-2 h-4 w-4 animate-spin"}):c(Yc,{className:"mr-2 h-4 w-4"}),"Add AI Suggested Visits"]})]}):w("div",{className:"text-center py-6 border rounded-lg",children:[c(YP,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),c("p",{className:"text-muted-foreground",children:"No treatments added yet"}),w(Fe,{variant:"outline",size:"sm",className:"mt-4",onClick:a,disabled:u,children:[c(Yc,{className:"h-4 w-4 mr-1"}),"Add First Treatment"]})]})]}),w(kg,{defaultValue:"additionalInfo",className:"w-full",children:[w(Ng,{className:"grid w-full grid-cols-3",children:[c(ol,{value:"additionalInfo",children:"Additional Information"}),c(ol,{value:"visits",children:"Scheduled Visits"}),c(ol,{value:"financial",children:"Financial Information"})]}),c(Ei,{value:"additionalInfo",className:"space-y-4",children:w("div",{className:"border rounded-lg p-4",children:[c("h4",{className:"font-medium",children:"Clinical Information"}),w("div",{className:"mt-4 space-y-4",children:[r.metadata&&r.metadata.length>0&&r.metadata[0].clinical_considerations&&w("div",{children:[c("h5",{className:"text-sm font-medium",children:"Clinical Considerations"}),c("p",{className:"text-sm text-muted-foreground mt-1 whitespace-pre-line",children:r.metadata[0].clinical_considerations})]}),r.metadata&&r.metadata.length>0&&r.metadata[0].key_materials&&w("div",{children:[c("h5",{className:"text-sm font-medium",children:"Key Materials"}),c("p",{className:"text-sm text-muted-foreground mt-1 whitespace-pre-line",children:r.metadata[0].key_materials})]}),r.metadata&&r.metadata.length>0&&r.metadata[0].post_treatment_care&&w("div",{children:[c("h5",{className:"text-sm font-medium",children:"Post-Treatment Care"}),c("p",{className:"text-sm text-muted-foreground mt-1 whitespace-pre-line",children:r.metadata[0].post_treatment_care})]}),(!r.metadata||r.metadata.length===0||r.metadata.length>0&&!r.metadata[0].clinical_considerations&&!r.metadata[0].key_materials&&!r.metadata[0].post_treatment_care)&&c("p",{className:"text-sm text-muted-foreground",children:"No additional clinical information available."})]})]})}),c(Ei,{value:"visits",className:"space-y-4",children:w("div",{className:"border rounded-lg p-4 bg-gray-50",children:[w("div",{className:"flex justify-between items-center mb-4 pb-4 border-b",children:[c("h4",{className:"font-semibold text-lg text-gray-700",children:"Visits & Booking"}),w("div",{className:"text-sm text-gray-600",children:["Completed: ",((X=(H=r.metadata)==null?void 0:H[0])==null?void 0:X.completed_visits)||0," of ",(I==null?void 0:I.length)||0," potential visits"]})]}),I&&I.length>0?c("div",{className:"space-y-3",children:I.map((Z,ie)=>w("div",{className:"border rounded-md p-4 bg-white shadow-sm hover:shadow-md transition-shadow",children:[c("div",{className:"flex justify-between items-start",children:w("div",{children:[c("h5",{className:"font-medium text-gray-800",children:Z.type||`Visit ${ie+1}`}),c("p",{className:"text-xs text-gray-500 mt-0.5 truncate max-w-md",children:Z.description||"No description"})]})}),w("div",{className:"mt-3 pt-3 border-t border-gray-100 flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[w("div",{className:"flex items-center gap-2 text-sm text-gray-700 mb-2 sm:mb-0",children:[c(vo,{className:"h-4 w-4 text-blue-500"}),w("span",{children:["Est. Date: ",Z.estimatedVisitDate||"Not calculated"]})]}),w(Fe,{variant:"default",size:"sm",onClick:()=>m("/appointments"),disabled:Z.status==="completed"||Z.status==="cancelled"||!Z.estimatedVisitDate,className:"w-full sm:w-auto bg-blue-600 hover:bg-blue-700 text-white shadow-sm hover:shadow-md transition-all duration-150 ease-in-out",children:[c(vo,{className:"mr-2 h-4 w-4"}),"Book Appointment"]})]})]},Z.id||ie))}):w("div",{className:"text-center py-8",children:[c(vo,{className:"h-12 w-12 mx-auto text-gray-400 mb-3"}),c("p",{className:"text-gray-500",children:"No treatment visits to schedule."})]})]})}),c(Ei,{value:"financial",className:"space-y-4",children:w("div",{className:"border rounded-lg p-4",children:[c("h4",{className:"font-medium",children:"Financial Summary"}),w("div",{className:"mt-4 space-y-2",children:[w("div",{className:"flex justify-between",children:[c("span",{className:"text-sm",children:"Total Treatment Cost:"}),c("span",{className:"font-medium",children:B2(r.totalCost||0)})]}),w("div",{className:"flex justify-between",children:[c("span",{className:"text-sm",children:"Insurance Coverage (Est.):"}),c("span",{className:"font-medium",children:B2(r.insurance_coverage||0)})]}),w("div",{className:"flex justify-between",children:[c("span",{className:"text-sm",children:"Patient Responsibility:"}),c("span",{className:"font-medium",children:B2((r.totalCost||0)-(r.insurance_coverage||0))})]})]})]})})]}),c(lo,{children:w("div",{className:"flex gap-2 items-center",children:[r.status==="planned"&&w(Fe,{variant:"outline",onClick:()=>i(r.id,"in_progress"),disabled:u,title:"Start this treatment plan",children:[u&&!x&&!y?c(Hn,{className:"mr-2 h-4 w-4 animate-spin"}):c(zu,{className:"h-4 w-4 mr-1"}),"Start Treatment"]}),r.status==="in_progress"&&w(Fe,{variant:"outline",onClick:()=>i(r.id,"completed"),disabled:u,title:"Mark this plan as completed",children:[u&&!x&&!y?c(Hn,{className:"mr-2 h-4 w-4 animate-spin"}):c(Aw,{className:"h-4 w-4 mr-1"}),"Mark Completed"]}),(r.status==="planned"||r.status==="in_progress")&&w(QO,{open:y,onOpenChange:_,children:[c(e8,{asChild:!0,children:w(Fe,{variant:"outline",disabled:u,title:"Cancel this treatment plan",children:[u&&y?c(Hn,{className:"mr-2 h-4 w-4 animate-spin"}):c(a0,{className:"h-4 w-4 mr-1"}),"Cancel Plan"]})}),w(IS,{children:[w(RS,{children:[c(FS,{children:"Cancel Treatment Plan"}),c(LS,{children:"Are you sure you want to cancel this treatment plan? This action cannot be undone."})]}),w(MS,{children:[c($S,{children:"No, Keep Plan"}),c(jS,{onClick:()=>{i(r.id,"cancelled"),_(!1)},children:"Yes, Cancel Plan"})]})]})]}),w(QO,{open:x,onOpenChange:g,children:[c(e8,{asChild:!0,children:w(Fe,{variant:"outline",disabled:u,title:"Delete this treatment plan",children:[u&&x?c(Hn,{className:"mr-2 h-4 w-4 animate-spin"}):c(ph,{className:"h-4 w-4 mr-1"}),"Delete Plan"]})}),w(IS,{children:[w(RS,{children:[c(FS,{children:"Delete Treatment Plan"}),c(LS,{children:"Are you sure you want to delete this treatment plan? This action cannot be undone."})]}),w(MS,{children:[c($S,{children:"No, Keep Plan"}),c(jS,{onClick:()=>{o(r.id),g(!1)},children:"Yes, Delete Plan"})]})]})]})]})})]})})]})})}function tRe({open:e,onOpenChange:t,patients:r}){const[n,a]=A.useState(""),[i,o]=A.useState(""),[s,l]=A.useState(""),[u,d]=A.useState(null),[f,h]=A.useState(""),[m,x]=A.useState(""),[g,y]=A.useState([]),[_,b]=A.useState(null),[S,C]=A.useState(!1),[E,D]=A.useState(null),[T,I]=A.useState([]),{toast:L}=xn(),B=q=>{var Pt;if(!q)return console.log("[generateSuggestions] No details provided."),[];console.log("[generateSuggestions] Processing details object:",q),console.log("[generateSuggestions] Processing details (stringified):",JSON.stringify(q));const K=Array.isArray(q.medical_conditions)?q.medical_conditions.map(st=>String(st).toLowerCase()):[],z=String(((Pt=q.lifestyle_habits)==null?void 0:Pt.additional_concerns)||"").toLowerCase(),te=q.dental_history,Q=String((te==null?void 0:te.chief_complaint)||"").toLowerCase(),R=String((te==null?void 0:te.pain_description)||"").toLowerCase(),H=String((te==null?void 0:te.functional_concerns)||"").toLowerCase();console.log("[generateSuggestions] Parsed medicalConditions array:",K),console.log("[generateSuggestions] Parsed lifestyleConcerns string:",z),console.log("[generateSuggestions] Parsed chiefComplaint string:",Q),console.log("[generateSuggestions] Parsed painDescription string:",R),console.log("[generateSuggestions] Parsed functionalConcerns string:",H);const X=["pain","throbbing","sensitivity","sensitive","hot food","severe tooth pain","ache"],Z=["filling","root canal","lodgement","molar","cavity","broken","chipped","missing"],ie=["gum","recession","periodontal","bleeding","swelling","pocketing","mobile"],le=["jaw","clicking","tmj","bruxism","grinding","headache","lock"],pe=["stain","deposits","white teeth","cosmetic","discolored","yellow"],J=`${Q} ${R} ${H} ${z}`;console.log("[generateSuggestions] Combined searchable text:",J);const me=[],ve=new Set;let ae=0;const Ue=(st,xe,Ee)=>{let We=Ee.split(" ")[0];const ft=Ee.match(/\b(\d{2}(?:,\s*\d{2})*)\b/);return ft?We=`Teeth ${ft[0]}`:xe.length>0&&(We=xe[0].charAt(0).toUpperCase()+xe[0].slice(1)),`${st}: ${We}`},He=X.filter(st=>J.includes(st)||K.includes(st));if(He.length>0&&ae<3){const st=Ue("Assess Pain",He,R||Q);if(!ve.has(st)){const xe=`Patient reports pain/sensitivity related to: "${R||Q||"N/A"}". Relevant Medical Conditions: ${K.join(", ")||"None"}.`,Ee=`Regarding the reported pain/sensitivity (${R||Q||"see condition"}), what are the likely causes? What diagnostic steps (tests, imaging) and initial pain management strategies are recommended?`;me.push({label:st,condition:xe,question:Ee}),ve.add(st),ae++}}const Ie=Z.filter(st=>J.includes(st));if(Ie.length>0&&ae<3){const st=Ue("Evaluate Restorative",Ie,Q||H);if(!ve.has(st)){const xe=`Patient presents with potential restorative needs (${Ie.join(", ")}). Chief Complaint: "${Q||"N/A"}". Functional Concerns: "${H||"N/A"}".`,Ee=`Given the potential restorative issues (${Q||H||Ie.join(", ")||"see condition"}), what diagnostic evaluations are needed? What are the primary restorative treatment options to consider?`;me.push({label:st,condition:xe,question:Ee}),ve.add(st),ae++}}const he=ie.filter(st=>J.includes(st));if(he.length>0&&ae<3){const st=Ue("Check Perio",he,H||Q);if(!ve.has(st)){const xe=`Patient shows signs potentially related to periodontal health (${he.join(", ")}). Chief Complaint: "${Q||"N/A"}". Functional Concerns: "${H||"N/A"}". Relevant Medical Conditions: ${K.join(", ")||"None"}.`,Ee=`Based on potential periodontal indicators (${H||Q||he.join(", ")||"see condition"}), what periodontal assessment (probing, bleeding index) is necessary? What initial hygiene or treatment steps should be considered?`;me.push({label:st,condition:xe,question:Ee}),ve.add(st),ae++}}const Ze=pe.filter(st=>J.includes(st));if(Ze.length>0&&ae<3){const st=Ue("Review Esthetics",Ze,H||Q);if(!ve.has(st)){const xe=`Patient has expressed concerns or shows signs related to dental esthetics (${Ze.join(", ")}). Chief Complaint: "${Q||"N/A"}". Functional Concerns: "${H||"N/A"}".`,Ee=`Regarding the esthetic concerns (${Q||H||Ze.join(", ")||"see condition"}), what options are available (e.g., whitening, veneers, cleaning)? What factors should be considered in treatment planning?`;me.push({label:st,condition:xe,question:Ee}),ve.add(st),ae++}}const pt=le.filter(st=>J.includes(st));if(pt.length>0&&ae<3){const st=Ue("Assess TMJ",pt,Q||R||H);if(!ve.has(st)){const xe=`Patient reports symptoms potentially related to TMJ dysfunction (${pt.join(", ")}). Chief Complaint: "${Q||"N/A"}". Pain Description: "${R||"N/A"}". Functional Concerns: "${H||"N/A"}".`,Ee=`Considering the potential TMJ symptoms (${Q||R||H||pt.join(", ")||"see condition"}), how should TMJ function be assessed? What are the initial management options for potential TMJ disorders or bruxism?`;me.push({label:st,condition:xe,question:Ee}),ve.add(st),ae++}}const ht=me;return console.log("[generateSuggestions] Final generated suggestions (more exact labels):",JSON.stringify(ht,null,2)),ht};A.useEffect(()=>{(async()=>{if(!i){d(null),console.log("[fetchDetails] No patient selected, clearing details.");return}console.log("[fetchDetails] Fetching details for patient ID:",i);try{const{data:K,error:z}=await Me.from("patients").select("*").eq("id",i).single();z?(console.error("[fetchDetails] Error fetching patient details:",z),d(null)):K?(console.log("[fetchDetails] Raw data received:",K),console.log("[fetchDetails] Setting fetchedPatientDetails with full record:",K),d(K)):(console.log("[fetchDetails] No data received for patient ID:",i),d(null))}catch(K){console.error("[fetchDetails] Exception fetching patient details:",K),d(null)}})(),(!e||!i)&&I([])},[i,e]),A.useEffect(()=>{console.log("[suggestionEffect] Suggestion useEffect triggered. Patient ID:",i),console.log("[suggestionEffect] Using fetchedPatientDetails:",u);let q=[];i&&u&&u.id===i?(q=B(u),console.log("[suggestionEffect] Generated specific suggestions:",q)):console.log("[suggestionEffect] Conditions not met for generating specific suggestions."),y(q),console.log("[suggestionEffect] Set dynamicSuggestions to:",q)},[i,u]),A.useEffect(()=>{console.log("[clearFieldsEffect] Clearing fields due to patient change:",i),h(""),x(""),b(null),D(null),I([])},[i]);const P=q=>{o(q.id),l(`${q.first_name||""} ${q.last_name||""}`.trim()),a("")},O=q=>{h(q.condition),x(q.question),b(q.label)},j=()=>{x("I want three treatment plans"),b(null)},G=async()=>{var q;if(!i){L({title:"Patient Required",description:"Please select a patient",variant:"destructive",duration:3e3});return}if(T.length===0){L({title:"Teeth Required",description:"Please select at least one tooth.",variant:"destructive",duration:3e3});return}if(!f.trim()){L({title:"Input Required",description:"Please describe the patient's current condition.",variant:"destructive",duration:3e3});return}if(!m.trim()){L({title:"Input Required",description:"Please enter the specific question for the AI.",variant:"destructive",duration:3e3});return}C(!0),D(null);try{const z=await fetch("https://n8n1.kol.tel/webhook/33d4fdab-98eb-4cc4-8a69-2ab835e76511",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({patientId:i,toothIds:T,condition:f,question:m,patientRecord:u})});if(!z.ok){const R=await z.text();throw console.error("Error response from webhook:",z.status,R),new Error(`Webhook call failed with status: ${z.status}`)}const te=await z.json();console.log("Webhook response data:",te);const Q=(q=te==null?void 0:te[0])==null?void 0:q.output;if(Q){const R=JSON.stringify(Q);D(R);const H=Q.response,X=JSON.stringify(H||{});L({title:"Treatment Plan Generated",description:"The AI-generated plan is now available below.",variant:"default",duration:5e3});const{data:Z,error:ie}=await Me.from("ai_treatment_plans").insert({patient_id:i,title:f,description:m,content:X,created_at:new Date().toISOString()}).select("id").single();if(ie)console.error("Error saving AI treatment plan to database:",ie),L({title:"Save Failed",description:"Failed to save the main AI plan details. Check console.",variant:"destructive",duration:5e3});else if(Z){console.log("AI treatment plan saved successfully with ID:",Z.id);const le=Z.id;if(T&&T.length>0){const pe=T.map(me=>({ai_treatment_plan_id:le,tooth_id:me})),{error:J}=await Me.from("ai_treatment_plans_teeth").insert(pe);J?(console.error("Error linking teeth to AI treatment plan:",J),L({title:"Partial Save",description:"AI plan saved, but failed to link selected teeth. Check console.",variant:"default",duration:5e3})):console.log("Teeth linked to AI treatment plan successfully.")}}}else throw console.error("Could not extract output object from webhook response:",te),new Error("Received invalid response format from AI generator (missing output).")}catch(K){console.error("Error generating treatment plan:",K);let z="Please check console for details.";K instanceof Error&&(z=K.message),L({title:"Generation Failed",description:`Could not trigger treatment plan generation. ${z}`,variant:"destructive",duration:5e3})}finally{C(!1)}},Y=()=>{D(null),I([]),o(""),l(""),a(""),h(""),x(""),d(null),y([]),b(null),t(!1)},re=r.filter(q=>{var R,H;const K=`${q.first_name||""} ${q.last_name||""}`.toLowerCase(),z=((R=q.phone)==null?void 0:R.toLowerCase())||"",te=((H=q.registration_number)==null?void 0:H.toLowerCase())||"",Q=n.toLowerCase();return K.includes(Q)||z.includes(Q)||te.includes(Q)});return c(ei,{open:e,onOpenChange:Y,children:w(Ma,{className:"sm:max-w-4xl max-h-[90vh] overflow-y-auto",children:[w(Fa,{children:[w(La,{className:"flex items-center gap-2",children:[c(u5,{className:"h-5 w-5"}),"AI Treatment Plan Generator"]}),c(xo,{children:"Select a patient and describe the current issue to generate a treatment plan using AI."})]}),w("div",{className:"space-y-3 py-4",children:[w("div",{className:"space-y-2 relative",children:[" ",c(Kt,{htmlFor:"patient-search",children:"Select Patient"}),c(ot,{type:"search",id:"patient-search",value:n,onChange:q=>{a(q.target.value),i&&(o(""),l(""),d(null))},placeholder:s||"Search by name, phone, or registration...",className:"w-full"}),n&&w(df,{className:"absolute z-10 w-full bg-background border rounded-md shadow-lg mt-1 max-h-60",children:[" ",c("div",{className:"p-2",children:re.length>0?re.map(q=>c(Fe,{variant:"ghost",className:"w-full justify-start text-left h-auto py-2 px-3 mb-1",onClick:()=>P(q),children:w("div",{children:[c("div",{children:`${q.first_name||""} ${q.last_name||""}`.trim()}),w("div",{className:"text-xs text-muted-foreground",children:[q.registration_number&&`Reg: ${q.registration_number}`,q.registration_number&&q.phone&&" | ",q.phone&&`Ph: ${q.phone}`,!q.registration_number&&!q.phone&&`ID: ${q.id.substring(0,6)}...`]})]})},q.id)):w("p",{className:"text-sm text-muted-foreground p-2",children:['No patients found matching "',n,'"']})})]})]}),w("div",{className:"space-y-2",children:[c(Kt,{children:"Teeth *"}),i?c(cR,{value:T,onChange:I,placeholder:"Select Affected Teeth...",disabled:!i}):c("div",{className:"flex items-center justify-center h-10 px-3 border rounded-md bg-gray-50 text-sm text-muted-foreground",children:"Select a patient to enable teeth selection."})]}),w("div",{className:"space-y-2",children:[c(Kt,{htmlFor:"condition-input",children:"Condition"}),c(Yr,{id:"condition-input",placeholder:"Describe symptoms, observations, relevant history...",rows:5,value:f,onChange:q=>h(q.target.value),disabled:!i})]}),w("div",{className:"space-y-2",children:[c(Kt,{htmlFor:"question-input",children:"Question"}),c(Yr,{id:"question-input",placeholder:"What specific question do you have based on the condition?",rows:3,value:m,onChange:q=>x(q.target.value),disabled:!i})]}),i&&g.length>0&&w("div",{className:"space-y-2 pt-2",children:[" ",c(Kt,{children:"Query Suggestions"})," ",w("div",{className:"flex flex-wrap gap-2 pt-1",children:[" ",c(Fe,{disabled:!i,variant:"ghost",size:"sm",className:`
                    h-auto px-2.5 py-0.5 rounded-full border-none
                    transition-colors duration-150 ease-in-out
                    focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-[#0118D8]
                    disabled:opacity-60 disabled:cursor-not-allowed
                    bg-[#e8eefd] text-[#1B56FD] hover:bg-[#d1dffd]
                    disabled:bg-blue-50 disabled:text-blue-300
                  `,onClick:j,children:"I want three treatment plans"},"fixed-suggestion"),g.map((q,K)=>{const z=q.label===_;return c(Fe,{disabled:!i,variant:"ghost",size:"sm",className:`
                    h-auto px-2.5 py-0.5
                    rounded-full
                    border-none
                    transition-colors duration-150 ease-in-out
                    focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-[#0118D8]
                    disabled:opacity-60 disabled:cursor-not-allowed
                   ${z?`
                    bg-[#1B56FD] /* Main blue background */
                    text-white /* White text */
                    hover:bg-[#0118D8] /* Darker blue hover */
                    disabled:bg-blue-300 disabled:text-gray-100
                  `:`
                    bg-[#e8eefd] /* Light blue background */
                    text-[#1B56FD] /* Main blue text */
                    hover:bg-[#d1dffd] /* Slightly darker light blue hover */
                    disabled:bg-blue-50 disabled:text-blue-300
                  `}`,onClick:()=>O(q),children:q.label},K)})]}),c("p",{className:"text-xs text-muted-foreground pt-1",children:"Click a suggestion to populate the fields above. The fixed suggestion only populates the question."})," "]}),i&&g.length===0&&w("div",{className:"space-y-2 pt-2",children:[c(Kt,{children:"Query Suggestions"}),c("div",{className:"flex flex-wrap gap-2 pt-1",children:c(Fe,{disabled:!i,variant:"ghost",size:"sm",className:`
                    h-auto px-2.5 py-0.5 rounded-full border-none
                    transition-colors duration-150 ease-in-out
                    focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-[#0118D8]
                    disabled:opacity-60 disabled:cursor-not-allowed
                    bg-[#e8eefd] text-[#1B56FD] hover:bg-[#d1dffd]
                    disabled:bg-blue-50 disabled:text-blue-300
                  `,onClick:j,children:"I want three treatment plans"},"fixed-suggestion-only")}),c("p",{className:"text-xs text-muted-foreground pt-1",children:"Click the suggestion to populate the question field."})]}),E&&w("div",{className:"pt-6 mt-6 border-t border-gray-200",children:[c(Kt,{className:"text-base font-medium mb-3 block text-gray-700",children:"AI Generated Plan"}),w("div",{className:"flex items-start space-x-3",children:[c("div",{className:"flex-shrink-0 w-9 h-9 rounded-full bg-indigo-100 flex items-center justify-center border border-indigo-200 shadow-sm",children:c(LV,{className:"w-5 h-5 text-indigo-600"})}),c("div",{className:"flex-1 min-w-0 overflow-hidden",children:c("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:c(df,{className:"h-auto pr-4",children:w("div",{className:"space-y-4 text-sm text-gray-800",children:[" ",(()=>{const q=(z,te,Q="mb-4")=>te?w("div",{className:Q,children:[w("strong",{className:"block font-semibold text-gray-800 mb-1",children:[z,":"]}),c("p",{className:"text-gray-700 whitespace-pre-wrap",children:te})]}):null,K=z=>!z||typeof z!="string"?null:z.match(/^\s*\d+\.\s+/m)?c("ol",{className:"list-decimal list-inside pl-4 mt-1 space-y-1 text-gray-700",children:z.split(/\n?\s*\d+\.\s+/).filter(Boolean).map((te,Q)=>c("li",{children:te.trim()},Q))}):c("p",{className:"text-gray-700 whitespace-pre-wrap mt-1",children:z});try{const te=JSON.parse(E).response;return typeof te!="object"||te===null?(console.warn("Extracted response data is not an object:",te),c("pre",{className:"whitespace-pre-wrap text-xs",children:E})):w("div",{className:"space-y-6",children:[q("Clinical Assessment",te.clinicalAssessment),q("Evidence & Rationale",te.evidenceAndRationale),te.treatmentPlans&&Array.isArray(te.treatmentPlans)&&te.treatmentPlans.length>0&&w("div",{children:[c("h3",{className:"text-lg font-semibold text-gray-800 mb-3 border-b pb-2",children:"Treatment Plans"}),c("div",{className:"space-y-6",children:te.treatmentPlans.map((Q,R)=>w("div",{className:"pl-2 border-l-4 border-indigo-200",children:[Q.planName&&c("h4",{className:"text-base font-semibold text-indigo-700 mb-2",children:Q.planName}),q("Recommendation",Q.recommendation,"mb-2"),q("Approach",Q.approach,"mb-2"),q("Benefits",Q.benefits,"mb-2"),q("Considerations",Q.considerations,"mb-2"),Q.procedureSteps&&w("div",{className:"mb-2",children:[c("strong",{className:"block font-semibold text-gray-800 mb-1",children:"Procedure Steps:"}),K(Q.procedureSteps)]})]},R))})]}),q("Follow Up",te.followUp),q("Patient Instructions",te.patientInstructions)]})}catch(z){return console.warn("Failed to parse generatedPlan (output object) as JSON, displaying raw:",z),c("pre",{className:"whitespace-pre-wrap text-xs",children:E})}})()]})})})})]})]})]}),w(lo,{children:[c(Fe,{variant:"outline",onClick:Y,children:"Cancel"}),c(Fe,{onClick:G,disabled:S||!i||T.length===0||!f.trim()||!m.trim(),children:S?w(Dr,{children:[c(Hn,{className:"mr-2 h-4 w-4 animate-spin"}),"Generating..."]}):w(Dr,{children:[c(u5,{className:"mr-2 h-4 w-4"})," ","Generate Plan"]})})]})]})})}function rRe(){const e=as();xn();const{loading:t,patients:r,selectedPlan:n,setSelectedPlan:a,treatmentPlansSubscribed:i,updatingTreatmentStatus:o,updatingPlanStatus:s,filterPlans:l,refreshSelectedPlan:u,createTreatmentPlan:d,createTreatment:f,handleUpdateTreatmentStatus:h,handleUpdatePlanStatus:m,deleteTreatment:x,deletePlan:g}=PIe(),[y,_]=A.useState(""),[b,S]=A.useState(null),[C,E]=A.useState(null),[D,T]=A.useState(!1),[I,L]=A.useState(!1),[B,P]=A.useState(!1),[O,j]=A.useState(!1),[G,Y]=A.useState(null),re=async(H,X)=>{try{const Z=await d(H,X);T(!1),a(Z),console.log("[TreatmentPlansPage] handleCreatePlan - newPlan object:",Z),console.log("[TreatmentPlansPage] handleCreatePlan - newPlan.originalAISuggestion:",Z==null?void 0:Z.originalAISuggestion),Z!=null&&Z.originalAISuggestion?Y(Z.originalAISuggestion):Y(null),L(!0)}catch(Z){console.error("Error creating plan:",Z)}},q=async H=>{try{await f(H),P(!1)}catch(X){console.error("Error adding treatment:",X)}},K=H=>{a(H),L(!0)},z=()=>{P(!0)},te=H=>{e(`/patients/${H}`)},Q=(H,X)=>m(H,X),R=(H,X)=>h(H,X);return w("div",{className:"space-y-6",children:[c(Ca,{heading:"Treatment Plans",text:"Manage dental treatment plans and procedures",children:w("div",{className:"flex items-center gap-4",children:[w("div",{className:"relative flex-1",children:[c(p4,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),c(ot,{placeholder:"Search treatment plans...",className:"pl-8",value:y,onChange:H=>_(H.target.value)})]}),w(zr,{value:b||"all",onValueChange:H=>S(H==="all"?null:H),children:[c(Br,{className:"w-[220px]",children:c(Wr,{placeholder:"Filter by patient"})}),w(Ur,{children:[c(wt,{value:"all",children:"All Patients"}),r.map(H=>w(wt,{value:H.id,children:[H.first_name," ",H.last_name]},H.id))]})]}),w(zr,{value:C||"all",onValueChange:H=>E(H==="all"?null:H),children:[c(Br,{className:"w-[180px]",children:c(Wr,{placeholder:"Filter by status"})}),w(Ur,{children:[c(wt,{value:"all",children:"All Statuses"}),c(wt,{value:"planned",children:"Planned"}),c(wt,{value:"in_progress",children:"In Progress"}),c(wt,{value:"completed",children:"Completed"}),c(wt,{value:"cancelled",children:"Cancelled"})]})]}),w(Fe,{className:"ai-insights-button",onClick:()=>j(!0),children:[c(Oce,{className:"h-4 w-4 mr-2"}),"AI Generate Plan"]}),w(Fe,{onClick:()=>T(!0),children:[c(Yc,{className:"h-4 w-4 mr-2"}),"New Treatment Plan"]})]})}),c("div",{className:"flex items-center justify-end",children:w("div",{className:"flex items-center space-x-1 text-sm text-muted-foreground",children:[c("div",{className:`h-2 w-2 rounded-full ${i?"bg-green-500":"bg-red-500"}`}),w("span",{children:["Real-time updates ",i?"active":"inactive"]})]})}),t&&c("div",{className:"flex justify-center my-12",children:w("div",{className:"flex flex-col items-center gap-2",children:[c(Hn,{className:"h-8 w-8 animate-spin text-primary"}),c("p",{className:"text-muted-foreground",children:"Loading treatment plans..."})]})}),!t&&l(y,b,C).length===0&&w("div",{className:"text-center py-12 border rounded-lg",children:[c(GV,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),c("h3",{className:"text-lg font-medium",children:"No Treatment Plans Found"}),c("p",{className:"text-muted-foreground mt-1 mb-6",children:"Create your first treatment plan to get started"}),w(Fe,{onClick:()=>T(!0),children:[c(Yc,{className:"h-4 w-4 mr-2"}),"New Treatment Plan"]})]}),c("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l(y,b,C).map(H=>c(OIe,{plan:H,onViewDetails:K},H.id))}),c(RIe,{open:D,onOpenChange:T,onSubmit:re,patients:r,loading:t}),I&&n&&c(eRe,{open:I,onOpenChange:H=>{L(H)},plan:n,onRefresh:u,onAddTreatment:z,onStatusChange:Q,onDeletePlan:async H=>{await g(H),L(!1)},onTreatmentStatusChange:R,onDeleteTreatment:x,loading:t||s||o,navigateToPatient:te,aiInitialSuggestion:G},n.id),n&&c(FIe,{open:B,onOpenChange:P,onSubmit:q,planId:n.id,loading:t}),c(tRe,{open:O,onOpenChange:j,patients:r})]})}var j3="Switch",[nRe,FJe]=Xi(j3),[aRe,iRe]=nRe(j3),Rre=A.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:o,disabled:s,value:l="on",onCheckedChange:u,form:d,...f}=e,[h,m]=A.useState(null),x=Hr(t,S=>m(S)),g=A.useRef(!1),y=h?d||!!h.closest("form"):!0,[_,b]=ll({prop:a,defaultProp:i??!1,onChange:u,caller:j3});return w(aRe,{scope:r,checked:_,disabled:s,children:[c(pr.button,{type:"button",role:"switch","aria-checked":_,"aria-required":o,"data-state":jre(_),"data-disabled":s?"":void 0,disabled:s,value:l,...f,ref:x,onClick:Ut(e.onClick,S=>{b(C=>!C),y&&(g.current=S.isPropagationStopped(),g.current||S.stopPropagation())})}),y&&c(Lre,{control:h,bubbles:!g.current,name:n,value:l,checked:_,required:o,disabled:s,form:d,style:{transform:"translateX(-100%)"}})]})});Rre.displayName=j3;var Mre="SwitchThumb",Fre=A.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=iRe(Mre,r);return c(pr.span,{"data-state":jre(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});Fre.displayName=Mre;var oRe="SwitchBubbleInput",Lre=A.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const o=A.useRef(null),s=Hr(o,i),l=F4(r),u=_4(t);return A.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==r&&m){const x=new Event("click",{bubbles:n});m.call(d,r),d.dispatchEvent(x)}},[l,r,n]),c("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:s,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Lre.displayName=oRe;function jre(e){return e?"checked":"unchecked"}var $re=Rre,sRe=Fre;const b2=A.forwardRef(({className:e,...t},r)=>c($re,{className:It("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:c(sRe,{className:It("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));b2.displayName=$re.displayName;function lRe(){const[e,t]=A.useState(null),[r,n]=A.useState([]),[a,i]=A.useState(!0),[o,s]=A.useState(!1),[l,u]=A.useState(!1),[d,f]=A.useState({first_name:"",last_name:"",email:"",role:"doctor",specialization:"",working_hours:JSON.stringify([{day:"monday",start:"09:00",end:"17:00"},{day:"tuesday",start:"09:00",end:"17:00"},{day:"wednesday",start:"09:00",end:"17:00"},{day:"thursday",start:"09:00",end:"17:00"},{day:"friday",start:"09:00",end:"17:00"}])}),[h,m]=A.useState([]),[x,g]=A.useState(!0),[y,_]=A.useState(!1),[b,S]=A.useState({staff_id:"",start_time:"",end_time:"",reason:""});A.useEffect(()=>{Promise.all([D(),C(),E()])},[]);const C=async()=>{try{const O=await ir.staff.getAll();n(O)}catch(O){console.error("Error fetching staff:",O)}},E=async()=>{g(!0);try{const O=await ir.absences.getAll();m(O||[])}catch(O){console.error("Error fetching absences:",O),Do({title:"Error",description:"Could not fetch staff absences.",variant:"destructive"})}finally{g(!1)}},D=async()=>{try{const O=await ir.settings.get();t(O),i(!1)}catch(O){console.error("Error fetching settings:",O),i(!1)}},T=async()=>{if(e){Do({title:"Saving changes...",description:"Please wait while we update your settings."}),s(!0);try{await ir.settings.update(e),Do({title:"Settings saved successfully",description:"All your changes have been updated.",variant:"default"})}catch(O){console.error("Error saving settings:",O),Do({title:"Error",description:"Failed to save settings. Please try again.",variant:"destructive"})}finally{s(!1)}}},I=(O,j,G)=>{if(!e)return;const Y=[...e.working_hours],re=Y.findIndex(q=>q.day===O);re!==-1&&(Y[re]={...Y[re],[j]:G},t({...e,working_hours:Y}))},L=async()=>{try{await ir.staff.create(d),u(!1),C(),f({first_name:"",last_name:"",email:"",role:"doctor",specialization:"",working_hours:JSON.stringify([{day:"monday",start:"09:00",end:"17:00"},{day:"tuesday",start:"09:00",end:"17:00"},{day:"wednesday",start:"09:00",end:"17:00"},{day:"thursday",start:"09:00",end:"17:00"},{day:"friday",start:"09:00",end:"17:00"}])}),Do({title:"Staff member created",description:"New staff member has been added successfully."})}catch(O){console.error("Error creating staff:",O),Do({title:"Error",description:"Failed to create staff member. Please try again.",variant:"destructive"})}},B=async()=>{if(!b.staff_id||!b.start_time||!b.end_time){Do({title:"Missing Information",description:"Please select staff, start time, and end time.",variant:"destructive"});return}const O=new Date(b.start_time).toISOString(),j=new Date(b.end_time).toISOString();if(new Date(j)<=new Date(O)){Do({title:"Invalid Dates",description:"End time must be after start time.",variant:"destructive"});return}try{await ir.absences.create({...b,start_time:O,end_time:j}),_(!1),E(),S({staff_id:"",start_time:"",end_time:"",reason:""}),Do({title:"Absence Added",description:"Staff absence recorded successfully."})}catch(G){console.error("Error creating absence:",G),Do({title:"Error",description:`Failed to add absence: ${G instanceof Error?G.message:"Unknown error"}`,variant:"destructive"})}},P=async O=>{if(confirm("Are you sure you want to delete this absence record?"))try{await ir.absences.delete(O),E(),Do({title:"Absence Deleted",description:"The absence record has been removed."})}catch(j){console.error("Error deleting absence:",j),Do({title:"Error",description:"Failed to delete absence.",variant:"destructive"})}};return a?c("div",{children:"Loading settings..."}):e?w(Dr,{children:[w("div",{className:"space-y-6",children:[c("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:w("div",{className:"p-6",children:[w("div",{className:"flex items-center",children:[c("div",{className:"flex-shrink-0",children:c("div",{className:"h-12 w-12 bg-blue-100 rounded-lg flex items-center justify-center",children:c(ace,{className:"h-6 w-6 text-blue-600"})})}),w("div",{className:"ml-4",children:[c("h2",{className:"text-lg font-medium text-gray-900",children:"Clinic Information"}),c("p",{className:"mt-1 text-sm text-gray-500",children:"Manage your clinic details and contact information"})]})]}),w("div",{className:"mt-6 space-y-4",children:[w("div",{className:"space-y-2",children:[c(Kt,{children:"Clinic Name"}),c(ot,{value:e.name,onChange:O=>t({...e,name:O.target.value})})]}),w("div",{className:"space-y-2",children:[c(Kt,{children:"Address"}),c(ot,{value:e.address,onChange:O=>t({...e,address:O.target.value})})]}),w("div",{className:"grid grid-cols-2 gap-4",children:[w("div",{className:"space-y-2",children:[c(Kt,{children:"Phone"}),c(ot,{value:e.phone,onChange:O=>t({...e,phone:O.target.value})})]}),w("div",{className:"space-y-2",children:[c(Kt,{children:"Email"}),c(ot,{type:"email",value:e.email,onChange:O=>t({...e,email:O.target.value})})]})]}),w("div",{className:"space-y-2",children:[c(Kt,{children:"Website"}),c(ot,{value:e.website,onChange:O=>t({...e,website:O.target.value})})]})]})]})}),c("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:w("div",{className:"p-6",children:[w("div",{className:"flex items-center",children:[c("div",{className:"flex-shrink-0",children:c("div",{className:"h-12 w-12 bg-blue-100 rounded-lg flex items-center justify-center",children:c(zu,{className:"h-6 w-6 text-blue-600"})})}),w("div",{className:"ml-4",children:[c("h2",{className:"text-lg font-medium text-gray-900",children:"Working Hours"}),c("p",{className:"mt-1 text-sm text-gray-500",children:"Set your clinic's operating hours"})]})]}),c("div",{className:"mt-6",children:c("div",{className:"space-y-4",children:e.working_hours.map(O=>w("div",{className:"flex items-center justify-between",children:[w("div",{className:"flex items-center gap-4",children:[c(b2,{checked:O.is_open,onCheckedChange:j=>I(O.day,"is_open",j)}),c("span",{className:"text-sm font-medium capitalize",children:O.day})]}),w("div",{className:"flex items-center gap-2",children:[c(ot,{type:"time",value:O.start,onChange:j=>I(O.day,"start",j.target.value),disabled:!O.is_open,className:"w-32"}),c("span",{className:"text-sm text-muted-foreground",children:"to"}),c(ot,{type:"time",value:O.end,onChange:j=>I(O.day,"end",j.target.value),disabled:!O.is_open,className:"w-32"})]})]},O.day))})})]})}),c("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:w("div",{className:"p-6",children:[w("div",{className:"flex items-center",children:[c("div",{className:"flex-shrink-0",children:c("div",{className:"h-12 w-12 bg-blue-100 rounded-lg flex items-center justify-center",children:c(d4,{className:"h-6 w-6 text-blue-600"})})}),w("div",{className:"ml-4",children:[c("h2",{className:"text-lg font-medium text-gray-900",children:"Notification Preferences"}),c("p",{className:"mt-1 text-sm text-gray-500",children:"Configure your notification settings"})]})]}),w("div",{className:"mt-6 space-y-6",children:[w("div",{className:"flex items-center justify-between",children:[w("div",{className:"space-y-0.5",children:[c(Kt,{children:"Email Notifications"}),c("p",{className:"text-sm text-muted-foreground",children:"Receive notifications via email"})]}),c(b2,{checked:e.notification_preferences.email_notifications,onCheckedChange:O=>t({...e,notification_preferences:{...e.notification_preferences,email_notifications:O}})})]}),w("div",{className:"flex items-center justify-between",children:[w("div",{className:"space-y-0.5",children:[c(Kt,{children:"SMS Notifications"}),c("p",{className:"text-sm text-muted-foreground",children:"Receive notifications via SMS"})]}),c(b2,{checked:e.notification_preferences.sms_notifications,onCheckedChange:O=>t({...e,notification_preferences:{...e.notification_preferences,sms_notifications:O}})})]}),w("div",{className:"flex items-center justify-between",children:[w("div",{className:"space-y-0.5",children:[c(Kt,{children:"Appointment Reminders"}),c("p",{className:"text-sm text-muted-foreground",children:"Send reminders for upcoming appointments"})]}),c(b2,{checked:e.notification_preferences.appointment_reminders,onCheckedChange:O=>t({...e,notification_preferences:{...e.notification_preferences,appointment_reminders:O}})})]}),w("div",{className:"space-y-2",children:[c(Kt,{children:"Reminder Time"}),w(zr,{value:e.notification_preferences.reminder_time,onValueChange:O=>t({...e,notification_preferences:{...e.notification_preferences,reminder_time:O}}),children:[c(Br,{children:c(Wr,{})}),w(Ur,{children:[c(wt,{value:"1h",children:"1 hour before"}),c(wt,{value:"2h",children:"2 hours before"}),c(wt,{value:"24h",children:"24 hours before"}),c(wt,{value:"48h",children:"48 hours before"})]})]})]})]})]})}),c("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:w("div",{className:"p-6",children:[w("div",{className:"flex items-center justify-between",children:[w("div",{className:"flex items-center",children:[c("div",{className:"flex-shrink-0",children:c("div",{className:"h-12 w-12 bg-blue-100 rounded-lg flex items-center justify-center",children:c(m4,{className:"h-6 w-6 text-blue-600"})})}),w("div",{className:"ml-4",children:[c("h2",{className:"text-lg font-medium text-gray-900",children:"Staff Management"}),c("p",{className:"mt-1 text-sm text-gray-500",children:"Manage clinic staff and their roles"})]})]}),w(Fe,{onClick:()=>u(!0),children:[c(Yc,{className:"h-4 w-4 mr-2"}),"Add Staff Member"]})]}),c("div",{className:"mt-6 space-y-4",children:r.map(O=>w("div",{className:"flex items-center justify-between p-4 rounded-lg border",children:[w("div",{className:"flex items-center space-x-4",children:[c("div",{className:"h-10 w-10 rounded-full bg-gray-100 flex items-center justify-center",children:c(io,{className:"h-5 w-5 text-gray-600"})}),w("div",{children:[w("h3",{className:"font-medium",children:[O.first_name," ",O.last_name]}),w("div",{className:"flex items-center text-sm text-gray-500 space-x-4",children:[c("span",{className:"capitalize",children:O.role}),O.specialization&&w("span",{children:[" ",O.specialization]})]})]})]}),w("div",{className:"flex items-center space-x-2",children:[w(Fe,{variant:"ghost",size:"sm",children:[c(h4,{className:"h-4 w-4 mr-2"}),O.email]}),c(Fe,{variant:"destructive",size:"sm",onClick:()=>{confirm("Are you sure you want to remove this staff member?")},children:c(ph,{className:"h-4 w-4"})})]})]},O.id))})]})}),c("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:w("div",{className:"p-6",children:[w("div",{className:"flex items-center justify-between",children:[w("div",{className:"flex items-center",children:[c("div",{className:"flex-shrink-0",children:w("div",{className:"h-12 w-12 bg-orange-100 rounded-lg flex items-center justify-center",children:[c(zu,{className:"h-6 w-6 text-orange-600"})," "]})}),w("div",{className:"ml-4",children:[c("h2",{className:"text-lg font-medium text-gray-900",children:"Staff Absences"}),c("p",{className:"mt-1 text-sm text-gray-500",children:"Manage scheduled staff absences"})]})]}),w(Fe,{onClick:()=>{S({staff_id:"",start_time:"",end_time:"",reason:""}),_(!0)},children:[c(Yc,{className:"h-4 w-4 mr-2"}),"Add Absence"]})]}),w("div",{className:"mt-6 space-y-4",children:[x&&c("div",{children:"Loading absences..."}),!x&&h.length===0&&c("p",{className:"text-sm text-gray-500",children:"No absences recorded."}),!x&&h.map(O=>{var j,G;return w("div",{className:"flex items-center justify-between p-4 rounded-lg border",children:[w("div",{className:"flex items-center space-x-4",children:[c("div",{className:"h-10 w-10 rounded-full bg-gray-100 flex items-center justify-center",children:c(io,{className:"h-5 w-5 text-gray-600"})}),w("div",{children:[w("h3",{className:"font-medium",children:[((j=O.staff)==null?void 0:j.first_name)||"Unknown"," ",((G=O.staff)==null?void 0:G.last_name)||"Staff"]}),w("p",{className:"text-sm text-gray-500",children:[nr(bn(O.start_time),"MMM d, yyyy h:mm a")," - ",nr(bn(O.end_time),"MMM d, yyyy h:mm a")]}),O.reason&&w("p",{className:"text-xs text-gray-400",children:["Reason: ",O.reason]})]})]}),c(Fe,{variant:"destructive",size:"sm",onClick:()=>P(O.id),children:c(ph,{className:"h-4 w-4"})})]},O.id)})]})]})}),c("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:w("div",{className:"p-6",children:[w("div",{className:"flex items-center",children:[c("div",{className:"flex-shrink-0",children:c("div",{className:"h-12 w-12 bg-blue-100 rounded-lg flex items-center justify-center",children:c(Ece,{className:"h-6 w-6 text-blue-600"})})}),w("div",{className:"ml-4",children:[c("h2",{className:"text-lg font-medium text-gray-900",children:"Security Settings"}),c("p",{className:"mt-1 text-sm text-gray-500",children:"Manage your security preferences and access controls"})]})]}),w("div",{className:"mt-6",children:[c(Fe,{className:"w-full",children:"Change Password"}),c("div",{className:"mt-4",children:w("div",{className:"relative flex items-start",children:[c("div",{className:"flex items-center h-5",children:c("input",{id:"2fa",name:"2fa",type:"checkbox",className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),w("div",{className:"ml-3 text-sm",children:[c("label",{htmlFor:"2fa",className:"font-medium text-gray-700",children:"Enable Two-Factor Authentication"}),c("p",{className:"text-gray-500",children:"Add an extra layer of security to your account"})]})]})})]})]})}),c("div",{className:"flex justify-end",children:c(Fe,{onClick:T,disabled:o,className:"min-w-[120px]",children:o?"Saving...":"Save Changes"})})]}),c(ei,{open:l,onOpenChange:u,children:w(Ma,{children:[c(Fa,{children:c(La,{children:"Add Staff Member"})}),w("div",{className:"space-y-4",children:[w("div",{className:"grid grid-cols-2 gap-4",children:[w("div",{className:"space-y-2",children:[c(Kt,{children:"First Name"}),c(ot,{value:d.first_name,onChange:O=>f({...d,first_name:O.target.value})})]}),w("div",{className:"space-y-2",children:[c(Kt,{children:"Last Name"}),c(ot,{value:d.last_name,onChange:O=>f({...d,last_name:O.target.value})})]})]}),w("div",{className:"space-y-2",children:[c(Kt,{children:"Email"}),c(ot,{type:"email",value:d.email,onChange:O=>f({...d,email:O.target.value})})]}),w("div",{className:"space-y-2",children:[c(Kt,{children:"Role"}),w(zr,{value:d.role,onValueChange:O=>f({...d,role:O}),children:[c(Br,{children:c(Wr,{})}),w(Ur,{children:[c(wt,{value:"doctor",children:"Doctor"}),c(wt,{value:"assistant",children:"Assistant"}),c(wt,{value:"receptionist",children:"Receptionist"})]})]})]}),d.role==="doctor"&&w("div",{className:"space-y-2",children:[c(Kt,{children:"Specialization"}),c(ot,{value:d.specialization,onChange:O=>f({...d,specialization:O.target.value}),placeholder:"e.g., Orthodontics, Periodontics"})]})]}),w(lo,{children:[c(Fe,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),c(Fe,{onClick:L,children:"Add Staff Member"})]})]})}),c(ei,{open:y,onOpenChange:_,children:w(Ma,{children:[c(Fa,{children:c(La,{children:"Add Staff Absence"})}),w("div",{className:"space-y-4 py-4",children:[w("div",{className:"space-y-2",children:[c(Kt,{htmlFor:"absence-staff",children:"Staff Member"}),w(zr,{value:b.staff_id,onValueChange:O=>S({...b,staff_id:O}),children:[c(Br,{id:"absence-staff",children:c(Wr,{placeholder:"Select staff member"})}),c(Ur,{children:r.map(O=>w(wt,{value:O.id,children:[O.first_name," ",O.last_name," (",O.role,")"]},O.id))})]})]}),w("div",{className:"grid grid-cols-2 gap-4",children:[w("div",{className:"space-y-2",children:[c(Kt,{htmlFor:"absence-start",children:"Start Time"}),c(ot,{id:"absence-start",type:"datetime-local",value:b.start_time,onChange:O=>S({...b,start_time:O.target.value})})]}),w("div",{className:"space-y-2",children:[c(Kt,{htmlFor:"absence-end",children:"End Time"}),c(ot,{id:"absence-end",type:"datetime-local",value:b.end_time,onChange:O=>S({...b,end_time:O.target.value})})]})]}),w("div",{className:"space-y-2",children:[c(Kt,{htmlFor:"absence-reason",children:"Reason (Optional)"}),c(ot,{id:"absence-reason",value:b.reason,onChange:O=>S({...b,reason:O.target.value}),placeholder:"e.g., Vacation, Conference"})]})]}),w(lo,{children:[c(Fe,{variant:"outline",onClick:()=>_(!1),children:"Cancel"}),c(Fe,{onClick:B,children:"Add Absence"})]})]})})]}):c("div",{children:"No settings found"})}var cRe="Separator",jz="horizontal",uRe=["horizontal","vertical"],Bre=A.forwardRef((e,t)=>{const{decorative:r,orientation:n=jz,...a}=e,i=dRe(n)?n:jz,s=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return c(pr.div,{"data-orientation":i,...s,...a,ref:t})});Bre.displayName=cRe;function dRe(e){return uRe.includes(e)}var Ure=Bre;const r0=A.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},a)=>c(Ure,{ref:a,decorative:r,orientation:t,className:It("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));r0.displayName=Ure.displayName;function fRe(){var b,S,C,E;const{user:e}=oi(),{toast:t}=xn(),[r,n]=A.useState(null),[a,i]=A.useState(!0),[o,s]=A.useState(!1),[l,u]=A.useState(!1),[d,f]=A.useState(null),[h,m]=A.useState(null),x=A.useCallback(async()=>{if(e){i(!0);try{const{data:D,error:T,status:I}=await Me.from("profiles").select("id, first_name, last_name, mobile_number, address, date_of_birth, gender, avatar_url").eq("id",e.id).single();if(T&&I!==406)throw T;D?(n({...D,mobile_number:D.mobile_number||null,address:D.address||null,date_of_birth:D.date_of_birth||null,gender:D.gender||null,avatar_url:D.avatar_url||null,current_plan:"Pro Plan",payment_method_details:"Visa ending in 4242"}),m(D.avatar_url||null)):(n({id:e.id,first_name:"",last_name:"",mobile_number:null,address:null,date_of_birth:null,gender:null,avatar_url:null,current_plan:"Free Plan",payment_method_details:"N/A"}),m(null))}catch(D){console.error("Error fetching profile:",D),t({title:"Error Fetching Profile",description:D.message||"Could not load profile data.",variant:"destructive"}),n({id:(e==null?void 0:e.id)||"",first_name:"",last_name:"",mobile_number:null,address:null,date_of_birth:null,gender:null,avatar_url:null,current_plan:"Free Plan",payment_method_details:"N/A"}),m(null)}finally{i(!1)}}},[e,t]);A.useEffect(()=>{x()},[x]);const g=D=>{const{name:T,value:I}=D.target;n(L=>L?{...L,[T]:I}:null)},y=D=>{if(D.target.files&&D.target.files[0]){const T=D.target.files[0],I=2*1024*1024;if(T.size>I){t({title:"File Too Large",description:"Please select an image smaller than 2MB.",variant:"destructive"}),D.target.value="",f(null);return}f(T);const L=new FileReader;L.onloadend=()=>{m(L.result)},L.readAsDataURL(T)}else f(null),m((r==null?void 0:r.avatar_url)||null)},_=async D=>{if(D.preventDefault(),!r||!e)return;s(!0);let T=r.avatar_url;try{if(d){const B=d.name.split(".").pop(),P=`${e.id}-${Date.now()}.${B}`,{error:O}=await Me.storage.from("avatars").upload(P,d,{cacheControl:"3600",upsert:!0});if(O)throw new Error(`Failed to upload avatar: ${O.message}`);const{data:j}=Me.storage.from("avatars").getPublicUrl(P);j!=null&&j.publicUrl?T=j.publicUrl:console.warn("Could not get public URL for uploaded avatar, but upload might have succeeded.")}const I={id:e.id,first_name:r.first_name||"",last_name:r.last_name||"",mobile_number:r.mobile_number,address:r.address,date_of_birth:r.date_of_birth,gender:r.gender,avatar_url:T,updated_at:new Date().toISOString()},{error:L}=await Me.from("profiles").upsert(I,{onConflict:"id"});if(L)throw L;t({title:"Profile updated successfully!"}),f(null),T!==r.avatar_url&&(n(B=>B?{...B,avatar_url:T}:null),m(T??null)),u(!1)}catch(I){console.error("Failed to save profile:",I),t({title:"Update Failed",description:I.message||"Could not save profile changes.",variant:"destructive"})}finally{s(!1)}};return a?c(Ca,{heading:"Profile",text:"Loading profile..."}):!e||!r?c(Ca,{heading:"Profile",text:"Could not load profile data."}):w("div",{className:"container mx-auto py-8",children:[c(Ca,{heading:"User Profile",text:"View and update your personal information."}),w(ur,{className:"max-w-2xl mx-auto mt-6",children:[c(wr,{children:c(_r,{children:"Your Details"})}),w("form",{onSubmit:_,children:[w(xr,{className:"space-y-6",children:[" ",w("div",{className:"flex flex-col items-center space-y-4",children:[w(gD,{className:"h-24 w-24",children:[c(vD,{src:h||(r==null?void 0:r.avatar_url)||void 0,alt:"User Avatar"}),w(yD,{children:[(S=(b=r==null?void 0:r.first_name)==null?void 0:b[0])==null?void 0:S.toUpperCase(),(E=(C=r==null?void 0:r.last_name)==null?void 0:C[0])==null?void 0:E.toUpperCase()]})]}),l&&w("div",{className:"w-full max-w-xs",children:[c(Kt,{htmlFor:"avatarFile",className:"sr-only",children:"Upload Profile Picture"}),c(ot,{id:"avatarFile",name:"avatarFile",type:"file",accept:"image/png, image/jpeg, image/gif",onChange:y,disabled:o,className:"text-sm file:mr-4 file:pt-0 file:pb-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary file:text-primary-foreground hover:file:bg-primary/90"}),c("p",{className:"text-xs text-muted-foreground mt-1 text-center",children:"Upload a square picture (e.g., 100x100px). Max 2MB (JPG, PNG, GIF)."})," "]})]}),c(r0,{})," ",w("div",{className:"space-y-2",children:[c(Kt,{htmlFor:"email",children:"Email"}),c(ot,{id:"email",type:"email",value:e.email||"",disabled:!0}),c("p",{className:"text-sm text-muted-foreground",children:"Email address cannot be changed here."})]}),w("div",{className:"space-y-2",children:[c(Kt,{htmlFor:"first_name",children:"First Name"}),c(ot,{id:"first_name",name:"first_name",value:r.first_name||"",onChange:g,disabled:!l||o})]}),w("div",{className:"space-y-2",children:[c(Kt,{htmlFor:"last_name",children:"Last Name"}),c(ot,{id:"last_name",name:"last_name",value:r.last_name||"",onChange:g,disabled:!l||o})]}),w("div",{className:"space-y-2",children:[c(Kt,{htmlFor:"mobile_number",children:"Mobile Number"}),c(ot,{id:"mobile_number",name:"mobile_number",type:"tel",value:r.mobile_number||"",onChange:g,disabled:!l||o,placeholder:"e.g., +1 123 456 7890"})]}),w("div",{className:"space-y-2",children:[c(Kt,{htmlFor:"address",children:"Address"}),c(ot,{id:"address",name:"address",value:r.address||"",onChange:g,disabled:!l||o,placeholder:"e.g., 123 Main St, Anytown, USA"})]}),w("div",{className:"space-y-2",children:[c(Kt,{htmlFor:"date_of_birth",children:"Date of Birth"}),c(ot,{id:"date_of_birth",name:"date_of_birth",type:"date",value:r.date_of_birth||"",onChange:g,disabled:!l||o})]}),w("div",{className:"space-y-2",children:[c(Kt,{htmlFor:"gender",children:"Gender"}),c(ot,{id:"gender",name:"gender",value:r.gender||"",onChange:g,disabled:!l||o,placeholder:"e.g., Male, Female, Non-binary, Prefer not to say"})]}),c(r0,{}),w("div",{className:"space-y-2",children:[c("h3",{className:"text-lg font-medium",children:"Subscription"}),w("div",{className:"flex justify-between items-center",children:[c("span",{className:"text-muted-foreground",children:"Current Plan:"}),c("span",{children:r.current_plan||"N/A"})]})]}),w("div",{className:"space-y-2",children:[c("h3",{className:"text-lg font-medium",children:"Payment Method"}),w("div",{className:"flex justify-between items-center",children:[c("span",{className:"text-muted-foreground",children:"Payment Details:"}),c("span",{children:r.payment_method_details||"N/A"})]})]})]}),c(Vm,{className:"flex justify-end gap-2",children:l?w(Dr,{children:[c(Fe,{type:"button",variant:"outline",onClick:()=>{u(!1),f(null),m((r==null?void 0:r.avatar_url)||null),x()},disabled:o,children:"Cancel"}),c(Fe,{type:"submit",disabled:o,children:o?"Saving...":"Save Changes"})]}):c(Fe,{type:"button",onClick:()=>u(!0),children:"Edit Profile"})})]})]})]})}const Pp={free:{name:"Free Plan",price:"0",features:["Basic Patient Record Management","Appointment Scheduling (up to 10/month)","Standard Email Reminders","Community Support"]},professional:{name:"Professional Plan",price:"49",priceSuffix:"/ month",features:["All features in Free Plan","Unlimited Patient Records","Unlimited Appointment Scheduling","Automated SMS & Email Reminders","Basic Treatment Planning","Consent Form Management","Priority Email Support","5 GB Document Storage"]}},hRe=[{question:"Can I change my plan later?",answer:"Yes, you can upgrade or downgrade your plan at any time from your account settings. Changes will take effect from the next billing cycle."},{question:"What payment methods do you accept?",answer:"We accept all major credit cards (Visa, Mastercard, American Express) and PayPal."},{question:"Is my payment information secure?",answer:"Absolutely. We use industry-standard encryption and partner with Stripe, a leading payment processor, to ensure your payment details are handled securely."},{question:"What happens if my payment fails?",answer:"If a payment fails, we'll notify you and attempt to retry the payment method. You'll have a grace period to update your payment details before any service interruption."}];function pRe(){const[e,t]=A.useState("professional"),[r,n]=A.useState(""),[a,i]=A.useState(!1),o=Pp[e],s=e==="free"?0:49,l=e==="free"?0:4,u=s+l;return w("div",{className:"container mx-auto py-8 px-4 md:px-6 lg:px-8",children:[c(Ca,{heading:"Payments & Subscription",text:"Manage your billing details and subscription plan."}),w("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mt-6",children:[w(ur,{className:"lg:col-span-2",children:[w(wr,{children:[c(_r,{children:"Payment Details"}),c(vc,{children:"Enter your payment information to subscribe."})]}),c(xr,{children:w("form",{onSubmit:f=>{f.preventDefault(),console.log("Processing payment for:",e,"Total:",u)},className:"space-y-6",children:[w("div",{className:"space-y-2",children:[c(Kt,{htmlFor:"email",children:"Email address"}),c(ot,{id:"email",type:"email",placeholder:"you@example.com",required:!0,defaultValue:"m@example.com"})," "]}),w("div",{className:"space-y-2",children:[c(Kt,{htmlFor:"cardNumber",children:"Credit Card Number"}),c(ot,{id:"cardNumber",type:"text",placeholder:"XXXX XXXX XXXX XXXX",required:!0})]}),w("div",{className:"grid grid-cols-2 gap-4",children:[w("div",{className:"space-y-2",children:[c(Kt,{htmlFor:"expiryDate",children:"Expiry Date"}),c(ot,{id:"expiryDate",type:"text",placeholder:"MM / YY",required:!0})]}),w("div",{className:"space-y-2",children:[c(Kt,{htmlFor:"cvv",children:"CVV"}),c(ot,{id:"cvv",type:"text",placeholder:"XXX",required:!0})]})]}),w("div",{className:"flex items-center space-x-2",children:[c(Ps,{id:"promo",checked:a,onCheckedChange:f=>i(!!f)}),c(Kt,{htmlFor:"promo",className:"cursor-pointer",children:"I have a promo code"})]}),a&&w("div",{className:"space-y-2",children:[c(Kt,{htmlFor:"promoCode",children:"Promo Code"}),c(ot,{id:"promoCode",type:"text",placeholder:"Enter code",value:r,onChange:f=>n(f.target.value)})]}),w("div",{className:"space-y-2 border-t pt-4 mt-4",children:[w("div",{className:"flex justify-between",children:[c("span",{children:"Subtotal"}),w("span",{children:["",s.toFixed(2)]})]}),w("div",{className:"flex justify-between text-muted-foreground",children:[c("span",{children:"Platform Fee"}),w("span",{children:["",l.toFixed(2)]})]}),w("div",{className:"flex justify-between font-semibold text-lg border-t pt-2 mt-2",children:[c("span",{children:"Total Amount"}),w("span",{children:["",u.toFixed(2)]})]})]}),c(Fe,{type:"submit",className:"w-full",disabled:e==="free",children:e==="free"?"Free Plan Selected":`Subscribe to ${o.name}`})]})})]}),w("div",{className:"space-y-8",children:[w(ur,{children:[c(wr,{children:c(_r,{children:"Choose Your Plan"})}),c(xr,{children:w(Fo,{value:e,onValueChange:f=>t(f),children:[w(Kt,{htmlFor:"free-plan",className:`flex flex-col items-start space-y-1 rounded-md border p-4 cursor-pointer transition-colors ${e==="free"?"border-primary bg-primary/5":"hover:bg-accent hover:text-accent-foreground"}`,children:[w("div",{className:"flex justify-between w-full items-center",children:[c("span",{className:"font-semibold",children:Pp.free.name}),c(In,{value:"free",id:"free-plan",className:"translate-y-0"})]}),c("span",{className:"text-2xl font-bold",children:Pp.free.price}),c("ul",{className:"list-disc list-inside text-sm text-muted-foreground space-y-1 mt-2",children:Pp.free.features.map((f,h)=>c("li",{children:f},h))})]}),w(Kt,{htmlFor:"professional-plan",className:`flex flex-col items-start space-y-1 rounded-md border p-4 cursor-pointer transition-colors ${e==="professional"?"border-primary bg-primary/5":"hover:bg-accent hover:text-accent-foreground"}`,children:[w("div",{className:"flex justify-between w-full items-center",children:[c("span",{className:"font-semibold",children:Pp.professional.name}),c(In,{value:"professional",id:"professional-plan",className:"translate-y-0"})]}),w("span",{className:"text-2xl font-bold",children:[Pp.professional.price,c("span",{className:"text-sm font-normal text-muted-foreground",children:Pp.professional.priceSuffix})]}),c("ul",{className:"list-disc list-inside text-sm text-muted-foreground space-y-1 mt-2",children:Pp.professional.features.map((f,h)=>c("li",{children:f},h))})]})]})}),w(Vm,{children:[c(Fe,{variant:"outline",className:"w-full",children:"Modify Plan"})," "]})]}),w(ur,{children:[c(wr,{children:c(_r,{children:"Frequently Asked Questions"})}),c(xr,{children:c(LD,{type:"single",collapsible:!0,className:"w-full",children:hRe.map((f,h)=>w(Ld,{value:`item-${h+1}`,children:[c(jd,{children:f.question}),c($d,{children:f.answer})]},h))})})]})]})]})]})}function mRe(){const[e,t]=A.useState([]),[r,n]=A.useState(""),[a,i]=A.useState(null),[o,s]=A.useState(null),[l,u]=A.useState([]),[d,f]=A.useState(!1),[h,m]=A.useState(!1),[x,g]=A.useState(null),[y,_]=A.useState(null),[b,S]=A.useState(!1),[C,E]=A.useState(!1),{toast:D}=xn();A.useEffect(()=>{(async()=>{f(!0),g(null);try{const{data:O,error:j}=await Me.from("patients").select("id, first_name, last_name, phone, registration_number").order("last_name",{ascending:!0}).order("first_name",{ascending:!0});if(j)throw j;t(O||[])}catch(O){g("Failed to fetch patients."),console.error("Error fetching patients:",O)}finally{f(!1)}})()},[]);const T=A.useCallback(async P=>{if(P){m(!0),_(null),u([]);try{if(!P)throw new Error("Patient ID became null unexpectedly.");const{data:O,error:j}=await Me.from("medical_records").select(`
           *,
           staff:created_by ( first_name, last_name ),
           teeth:medical_record_teeth ( teeth ( id, description ) ) 
         `).eq("patient_id",P).order("record_date",{ascending:!1});if(j)throw j;const G=(O||[]).map(Y=>{const q=(Y.teeth||[]).map(K=>K.teeth).filter(Boolean);return{...Y,teeth:q}});u(G)}catch(O){_("Failed to fetch medical records."),console.error("Error fetching medical records:",O)}finally{m(!1)}}},[]);A.useEffect(()=>{a?T(a):u([])},[a,T]);const I=P=>{i(P.id),s(`${P.first_name||""} ${P.last_name||""}`.trim()),n("")},L=()=>{if(!a){D({title:"No Patient Selected",description:"Please select a patient before adding a record.",variant:"destructive"});return}S(!0)},B=async(P,O)=>{if(!a)return;E(!0);let j={};switch(P.general_notes&&String(P.general_notes).trim()!==""&&(j.general_notes=P.general_notes),P.record_type){case"examination":P.consultation_subjective&&(j.subjective=P.consultation_subjective),P.consultation_objective&&(j.objective=P.consultation_objective),P.consultation_assessment&&(j.assessment=P.consultation_assessment),P.consultation_plan&&(j.plan=P.consultation_plan),P.diagnosis_code&&(j.code=P.diagnosis_code),P.diagnosis_description&&(j.description=P.diagnosis_description);break;case"procedure":j={...j,procedure:P.treatment_procedure,details:P.treatment_details};break;case"prescription":j={...j,medication:P.prescription_medication,dosage:P.prescription_dosage,frequency:P.prescription_frequency,duration:P.prescription_duration};break;case"lab_result":j={...j,test_name:P.lab_test_name,result_value:P.lab_result_value,units:P.lab_units,reference_range:P.lab_reference_range};break;case"note":P.other_details&&String(P.other_details).trim()!==""&&(j.details=P.other_details);break}const G=Object.keys(j).length>0?JSON.stringify(j):"{}",Y=new Date,re=new Date(P.record_date+"T00:00:00");Y.setFullYear(re.getFullYear()),Y.setMonth(re.getMonth()),Y.setDate(re.getDate());const q=Y.toISOString(),K={patient_id:a,record_date:q,record_type:P.record_type,description:G};try{await ir.patients.createMedicalRecord(K,O),D({title:"Success",description:"Medical record added successfully."}),S(!1),T(a)}catch(z){console.error("Error saving medical record:",z),D({title:"Error",description:"Failed to save medical record. "+z.message,variant:"destructive"})}finally{E(!1)}};return w("div",{children:[c(Ca,{heading:"Patient Medical Records",text:"Select a patient to view or add medical records."}),w("div",{className:"mt-6 mb-8 max-w-md relative",children:[" ",c(Kt,{htmlFor:"patient-search",children:"Select Patient"}),c(ot,{type:"search",id:"patient-search",value:r,onChange:P=>{n(P.target.value),i(null),s(null)},placeholder:o||"Search by name, phone, or registration...",disabled:d,className:"w-full"}),d&&c("p",{className:"text-sm text-muted-foreground mt-1",children:"Loading patients..."}),x&&c("p",{className:"text-sm text-destructive mt-1",children:x}),r&&!d&&!x&&w(df,{className:"absolute z-10 w-full bg-background border rounded-md shadow-lg mt-1 max-h-60",children:[" ",c("div",{className:"p-2",children:e.filter(P=>{var re,q;const O=`${P.first_name||""} ${P.last_name||""}`.toLowerCase(),j=((re=P.phone)==null?void 0:re.toLowerCase())||"",G=((q=P.registration_number)==null?void 0:q.toLowerCase())||"",Y=r.toLowerCase();return O.includes(Y)||j.includes(Y)||G.includes(Y)}).length>0?e.filter(P=>{var re,q;const O=`${P.first_name||""} ${P.last_name||""}`.toLowerCase(),j=((re=P.phone)==null?void 0:re.toLowerCase())||"",G=((q=P.registration_number)==null?void 0:q.toLowerCase())||"",Y=r.toLowerCase();return O.includes(Y)||j.includes(Y)||G.includes(Y)}).map(P=>c(Fe,{variant:"ghost",className:"w-full justify-start text-left h-auto py-2 px-3 mb-1",onClick:()=>I(P),children:w("div",{children:[c("div",{children:`${P.first_name||""} ${P.last_name||""}`.trim()}),w("div",{className:"text-xs text-muted-foreground",children:[P.registration_number&&`Reg: ${P.registration_number}`,P.registration_number&&P.phone&&" | ",P.phone&&`Ph: ${P.phone}`," "]})]})},P.id)):w("p",{className:"text-sm text-muted-foreground p-2",children:['No patients found matching "',r,'"']})})]})]}),a&&(h?c("p",{children:"Loading medical records..."}):y?c("p",{className:"text-destructive",children:y}):c(Jte,{medicalRecords:l,onAddMedicalRecord:L})),!a&&!d&&!r&&c("p",{className:"text-muted-foreground mt-8",children:"Please search for and select a patient to view their medical records."}),c(ei,{open:b,onOpenChange:S,children:w(Ma,{className:"sm:max-w-[600px]",children:[" ",c(Fa,{children:c(La,{children:"Add New Medical Record"})}),a&&c(hre,{patientId:a,onSubmit:B,onCancel:()=>S(!1),isLoading:C})]})})]})}const Fs=A.forwardRef(({className:e,...t},r)=>c("div",{className:"relative w-full overflow-auto",children:c("table",{ref:r,className:It("w-full caption-bottom text-sm",e),...t})}));Fs.displayName="Table";const Ls=A.forwardRef(({className:e,...t},r)=>c("thead",{ref:r,className:It("[&_tr]:border-b",e),...t}));Ls.displayName="TableHeader";const js=A.forwardRef(({className:e,...t},r)=>c("tbody",{ref:r,className:It("[&_tr:last-child]:border-0",e),...t}));js.displayName="TableBody";const gRe=A.forwardRef(({className:e,...t},r)=>c("tfoot",{ref:r,className:It("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));gRe.displayName="TableFooter";const Pn=A.forwardRef(({className:e,...t},r)=>c("tr",{ref:r,className:It("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Pn.displayName="TableRow";const Wt=A.forwardRef(({className:e,...t},r)=>c("th",{ref:r,className:It("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Wt.displayName="TableHead";const jt=A.forwardRef(({className:e,...t},r)=>c("td",{ref:r,className:It("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));jt.displayName="TableCell";const vRe=A.forwardRef(({className:e,...t},r)=>c("caption",{ref:r,className:It("mt-4 text-sm text-muted-foreground",e),...t}));vRe.displayName="TableCaption";const yRe=Nw("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),ed=A.forwardRef(({className:e,variant:t,...r},n)=>c("div",{ref:n,role:"alert",className:It(yRe({variant:t}),e),...r}));ed.displayName="Alert";const td=A.forwardRef(({className:e,...t},r)=>c("h5",{ref:r,className:It("mb-1 font-medium leading-none tracking-tight",e),...t}));td.displayName="AlertTitle";const rd=A.forwardRef(({className:e,...t},r)=>c("div",{ref:r,className:It("text-sm [&_p]:leading-relaxed",e),...t}));rd.displayName="AlertDescription";function Il({className:e,...t}){return c("div",{className:It("animate-pulse rounded-md bg-muted",e),...t})}const $3="inventory_items",yR=async()=>{const{data:e,error:t}=await Me.from($3).select("*").order("created_at",{ascending:!1});if(t)throw console.error("Error fetching inventory items:",t),new Error(t.message);return e||[]},xRe=async e=>{const{data:t,error:r}=await Me.from($3).select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return console.log(`Inventory item with id ${e} not found.`),null;throw console.error(`Error fetching inventory item ${e}:`,r),new Error(r.message)}return t},wRe=async e=>{var i;const{data:t,error:r}=await Me.from($3).insert([e]).select().single();if(r)throw console.error("Error adding inventory item:",r),new Error(r.message);if(!t)throw new Error("Failed to add inventory item, no data returned.");const n={inventory_item_id:t.id,item_id:null,quantity_change:t.quantity,change_type:"initial_stock",user_id:((i=(await Me.auth.getUser()).data.user)==null?void 0:i.id)||null,notes:"Initial stock set during item creation",inventory_item_batch_id:null,purchase_order_item_id:null},{error:a}=await Me.from("inventory_log").insert([n]);return a&&console.error("Error logging initial inventory stock:",a),t},_Re=async(e,t)=>{var i;const r=await xRe(e);if(!r)throw new Error(`Inventory item ${e} not found.`);if(t.quantity!==void 0&&t.quantity!==r.quantity){const o=t.quantity-r.quantity,s={inventory_item_id:e,item_id:null,quantity_change:o,change_type:o>0?"add":"use",user_id:((i=(await Me.auth.getUser()).data.user)==null?void 0:i.id)||null,notes:`Quantity updated from ${r.quantity} to ${t.quantity}`,inventory_item_batch_id:null,purchase_order_item_id:null},{error:l}=await Me.from("inventory_log").insert([s]);l&&console.error("Error logging inventory quantity change:",l)}const{data:n,error:a}=await Me.from($3).update(t).eq("id",e).select().single();if(a)throw console.error(`Error updating inventory item ${e}:`,a),new Error(a.message);if(!n)throw new Error(`Failed to update inventory item ${e}, no data returned.`);return n},$z=async(e,t)=>{const{data:r,error:n}=await Me.from("inventory_log").select("*").gte("created_at",e).lte("created_at",t).order("created_at",{ascending:!0});if(n)throw console.error("Error fetching inventory log entries:",n),new Error(n.message);return r||[]},bRe=async e=>{let t=Me.from("inventory_log").select(`
      *,
      inventory_items (item_name, item_code)
    `).order("created_at",{ascending:!1});const r=["Expired","Damaged","Lost","Stock Count Correction","Used","Other","adjustment"];if(t=t.in("change_type",r),e.startDate&&(t=t.gte("created_at",e.startDate.toISOString())),e.endDate){const i=new Date(e.endDate);i.setDate(i.getDate()+1),t=t.lt("created_at",i.toISOString())}if(e.searchTerm){const i=`%${e.searchTerm}%`;t=t.or(`inventory_items.item_name.ilike.${i},inventory_items.item_code.ilike.${i},notes.ilike.${i},change_type.ilike.${i}`)}const{data:n,error:a}=await t;if(a)throw console.error("Error fetching detailed inventory logs:",a),new Error(a.message);return n||[]},Bz=async e=>{const{data:t,error:r}=await Me.from("inventory_adjustment_requests").insert({inventory_item_id:e.inventory_item_id,inventory_item_batch_id:e.inventory_item_batch_id,quantity_to_decrease:e.quantity_to_decrease,reason:e.reason,notes:e.notes,photo_url:e.photo_url,requested_by_user_id:e.requested_by_user_id,custom_approver_emails:e.custom_approver_emails,approver_role_target:e.approver_role_target,status:"pending"}).select("id, inventory_item_id, inventory_item_batch_id, quantity_to_decrease, reason, notes, photo_url, status, requested_by_user_id, requested_at, reviewed_by_user_id, reviewed_at, reviewer_notes, created_at, updated_at, approval_token, approval_token_expires_at, custom_approver_emails, approver_role_target").single();if(r)throw console.error("Error creating inventory adjustment request:",r),r;if(!t)throw new Error("Failed to create adjustment request, no data returned.");return t},Uz=async(e,t)=>{const r=e.name.split(".").pop(),n=`inventory_adjustments/${t}/${Date.now()}.${r}`;try{const{error:a,data:i}=await Me.storage.from("inventory-proofs").upload(n,e);return a?(console.error("Error uploading adjustment photo (likely CORS or network issue):",a),null):n}catch(a){return console.error("Exception during photo upload:",a),null}},SRe=async(e,t)=>{let r=Me.from("inventory_adjustment_requests").select(`
            *,
            inventory_items ( item_name ),
            requester_profile:profiles!inventory_adjustment_requests_requested_by_user_id_fkey ( first_name, last_name )
        `).eq("status","pending").neq("requested_by_user_id",e);if(t==="admin")r=r.or("approver_role_target.eq.admin,approver_role_target.is.null");else if(t==="owner")r=r.or("approver_role_target.eq.owner,approver_role_target.is.null");else if(t==="doctor")r=r.eq("approver_role_target","doctor");else return[];r=r.order("requested_at",{ascending:!0});const{data:n,error:a}=await r;if(a)throw console.error("Error fetching pending adjustment requests:",a),a;return n||[]},ARe=async e=>{const{data:t,error:r}=await Me.from("inventory_adjustment_requests").select(`
            *,
            inventory_items ( item_name ),
            requester_profile:profiles!inventory_adjustment_requests_requested_by_user_id_fkey ( first_name, last_name )
        `).eq("id",e).single();if(r){if(r.code==="PGRST116")return console.log(`Adjustment request with id ${e} not found.`),null;throw console.error(`Error fetching adjustment request ${e}:`,r),r}return t},kRe=async(e,t,r=20)=>{let n=Me.from("inventory_adjustment_requests").select(`
      *,
      inventory_items ( item_name ),
      requester_profile:profiles!inventory_adjustment_requests_requested_by_user_id_fkey ( first_name, last_name )
    `).eq("requested_by_user_id",e);t&&t.length>0&&(n=n.in("status",t)),n=n.order("requested_at",{ascending:!1}).limit(r);const{data:a,error:i}=await n;if(i)throw console.error("Error fetching adjustment requests for user:",i),i;return a||[]},BS=async e=>{if(!e)return null;const{data:t,error:r}=await Me.storage.from("inventory-proofs").createSignedUrl(e,60*10);return r?(console.error("Error creating signed URL for adjustment photo:",r),null):(t==null?void 0:t.signedUrl)||null},qre=async(e,t,r)=>{const{error:n}=await Me.rpc("process_approved_adjustment",{p_request_id:e,p_reviewer_user_id:t,p_reviewer_notes:r===void 0?null:r});if(n)throw console.error(`Error approving adjustment request ${e}:`,n),n},zre=async(e,t,r)=>{const{error:n}=await Me.from("inventory_adjustment_requests").update({status:"rejected",reviewed_by_user_id:t,reviewed_at:new Date().toISOString(),reviewer_notes:r}).eq("id",e).eq("status","pending");if(n)throw console.error(`Error rejecting adjustment request ${e}:`,n),n},NRe=async(e,t)=>{const{data:r,error:n}=await Me.rpc("verify_adjustment_approval_token",{p_request_id:e,p_raw_token:t});return n?(console.error("Error verifying adjustment token:",n),null):r&&r.length>0?r[0]:null},ERe=async e=>{const{data:t,error:r}=await Me.from("stock_takes").insert(e).select().single();if(r)throw console.error("Error creating stock take entry:",r),r;if(!t)throw new Error("Failed to create stock take entry, no data returned.");return t},Wre=Je.forwardRef(({status:e,className:t,onClick:r},n)=>{let a="",i="";switch(e){case"In Stock":a="bg-green-100 text-green-800";break;case"Low Stock":a="bg-yellow-100 text-yellow-800",i="animate-pulse";break;case"Expired":a="bg-red-100 text-red-800";break;default:a="bg-gray-100 text-gray-800"}return c("span",{ref:n,className:hn("inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold capitalize",a,i,t),onClick:r,children:e})});Wre.displayName="InventoryStatusBadge";const CRe=e=>(e.quantity??0)<=(e.low_stock_threshold??0)?"Low Stock":"In Stock",TRe=e=>{switch(e){case"In Stock":return"text-green-600 font-bold";case"Low Stock":return"text-red-600 font-bold";default:return""}},PRe=({onEditItem:e,refreshTrigger:t,searchTerm:r,categoryFilter:n,onDataFiltered:a})=>{const[i,o]=A.useState([]),[s,l]=A.useState(!0),[u,d]=A.useState(null),[f,h]=A.useState("item_name"),[m,x]=A.useState("asc");as();const{toast:g}=xn(),{user:y}=oi(),_=A.useRef(null),b=A.useRef(null),S=A.useRef(0),C=5,E=1e3,D=3e4,T=A.useCallback(async()=>{l(!0),d(null);try{let B=Me.from("inventory_items").select("*");r&&(B=B.ilike("item_name",`%${r}%`)),n!=="all"&&(B=B.eq("category",n));const P={ascending:m==="asc"};B=B.order(f,P);const{data:O,error:j}=await B;if(j)throw j;const G=await Promise.all((O||[]).map(async Y=>{let re=[];if(Y.is_batched){const{data:q,error:K}=await Me.from("inventory_item_batches").select("*").eq("inventory_item_id",Y.id).order("expiry_date",{ascending:!0,nullsFirst:!1});K?console.error(`Failed to fetch batches for item ${Y.id}:`,K):re=q||[]}return{...Y,stock_status:CRe(Y),batches:re}}));o(G),a(G)}catch(B){console.error("Failed to fetch inventory items:",B),d(B instanceof Error?B.message:"An unknown error occurred"),g({title:"Error Fetching Inventory",description:B instanceof Error?B.message:"Could not load items.",variant:"destructive"})}finally{l(!1)}},[r,n,f,m,a]);A.useEffect(()=>{T()},[T,t]),A.useEffect(()=>{if(!Me){console.error("Supabase client is not available");return}let B=Me.channel("inventory_items_changes").on("postgres_changes",{event:"*",schema:"public",table:"inventory_items"},P=>{T()}).subscribe((P,O)=>{if(P==="SUBSCRIBED")S.current=0,b.current&&(clearTimeout(b.current),b.current=null);else if(P==="CHANNEL_ERROR"||P==="TIMED_OUT"||P==="CLOSED")if(console.error(`List Realtime subscription ${P}:`,O),O&&console.error("Error message:",O.message),S.current<C){S.current+=1;const j=Math.min(E*Math.pow(2,S.current-1),D);console.error(`List attempting to reconnect in ${j/1e3} seconds...`),b.current&&clearTimeout(b.current),b.current=setTimeout(()=>{_.current&&_.current.subscribe()},j)}else console.error("List max reconnection attempts reached."),g({title:"Realtime Connection Issue",description:"Inventory list updates may be delayed. Please refresh if needed.",variant:"destructive",duration:1e4})});return _.current=B,()=>{b.current&&clearTimeout(b.current);const P=_.current;P&&(Me.removeChannel(P).catch(O=>console.error("Error removing list channel:",O)),_.current=null)}},[Me,T,g]);const I=B=>{f===B?x(P=>P==="asc"?"desc":"asc"):(h(B),x("asc"))},L=B=>f!==B?c(c5,{className:"ml-2 h-4 w-4 opacity-30 group-hover:opacity-100"}):c(c5,{className:`ml-2 h-4 w-4 ${m==="asc"?"":"rotate-180"}`});return s?c("div",{className:"space-y-2",children:[...Array(5)].map((B,P)=>c(Il,{className:"h-10 w-full"},P))}):u?w(ed,{variant:"destructive",children:[c(dc,{className:"h-4 w-4"}),c(td,{children:"Error"}),c(rd,{children:u})]}):i.length===0?c("p",{className:"text-center text-gray-500 mt-4",children:"No inventory items found. Add one to get started!"}):c("div",{className:"rounded-md border",children:w(Fs,{className:"min-w-full divide-y divide-gray-200 bg-white shadow-md rounded-lg overflow-hidden",children:[c(Ls,{className:"bg-gray-50",children:w(Pn,{className:"text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:[c(Wt,{className:"px-6 py-3",children:w(Fe,{variant:"ghost",onClick:()=>I("item_code"),className:"px-0 group",children:["Item Code ",L("item_code")]})}),c(Wt,{className:"px-6 py-3",children:"Batch No / Info"}),c(Wt,{className:"px-6 py-3",children:"Supplier ID/Info"}),c(Wt,{className:"px-6 py-3",children:w(Fe,{variant:"ghost",onClick:()=>I("item_name"),className:"px-0 group",children:["Item Name ",L("item_name")]})}),c(Wt,{className:"px-6 py-3 text-right",children:w(Fe,{variant:"ghost",onClick:()=>I("quantity"),className:"px-0 group",children:["Quantity ",L("quantity")]})}),c(Wt,{className:"px-6 py-3",children:"Status"})]})}),c(js,{className:"bg-white divide-y divide-gray-200",children:i.map(B=>w(Pn,{className:"hover:bg-gray-100 text-sm text-gray-900",children:[c(jt,{className:"px-6 py-4 whitespace-nowrap",children:B.item_code||"N/A"}),c(jt,{className:"px-6 py-4 whitespace-nowrap",children:B.is_batched&&B.batches&&B.batches.length>0?B.batches.map(P=>P.batch_number||"N/A").join(", "):B.is_batched?"No batches":"N/A"}),c(jt,{className:"px-6 py-4 whitespace-nowrap",children:B.supplier_info||"N/A"}),c(jt,{className:"px-6 py-4 whitespace-nowrap",children:B.item_name}),c(jt,{className:"px-6 py-4 whitespace-nowrap text-right",children:B.quantity??"-"}),c(jt,{className:"px-6 py-4 whitespace-nowrap",children:c(Wre,{status:B.stock_status,className:TRe(B.stock_status)})})]},B.id))})]})})},ORe=async(e,t,r)=>{if(!e)throw new Error("No file provided for upload.");if(!t)throw new Error("User ID is required for upload.");const n=e.name.split(".").pop(),i=`invoices/${`${t}_${Date.now()}.${n}`}`,{data:o,error:s}=await Me.storage.from("invoices").upload(i,e);if(s)throw console.error("Error uploading invoice to storage:",s),new Error(`Storage upload failed: ${s.message}`);console.log("File uploaded successfully to:",o.path);const l={file_name:e.name,storage_path:o.path,uploaded_by_user_id:t,inventory_item_id:r},{data:u,error:d}=await Me.from("invoices").insert(l).select().single();if(d)throw console.error("Error inserting invoice record:",d),await Me.storage.from("invoices").remove([o.path]),console.warn("Orphaned file removed from storage due to DB insert failure:",o.path),new Error(`Database insert failed: ${d.message}`);return console.log("Invoice record created successfully:",u),o.path},DRe=async()=>{const{data:e,error:t}=await Me.from("invoices").select(`
            *,
            inventory_items (
                item_name
            )
        `).order("uploaded_at",{ascending:!1});if(t)throw console.error("Error fetching invoices with item names:",t),t;return e},IRe=async(e,t=60)=>{const{data:r,error:n}=await Me.storage.from("invoices").createSignedUrl(e,t);if(n)throw console.error("Error creating signed URL:",n),n;return r.signedUrl},RRe=I3({item_name:Qo().min(1,{message:"Item name is required"}),category:iw(["Medicines","Tools","Consumables"],{required_error:"Category is required"}),supplier_info:Qo().optional().nullable(),low_stock_threshold:oR.number().int().min(0,{message:"Threshold must be 0 or greater"}),item_code:Qo().optional().nullable()}),MRe=({itemToEdit:e,onSave:t,onCancel:r})=>{const{toast:n}=xn(),{user:a}=oi(),[i,o]=A.useState(null),s=!!e,l=["Medicines","Tools","Consumables"],u=y=>{if(y&&l.includes(y))return y},d=sd({resolver:ld(RRe),defaultValues:{item_name:(e==null?void 0:e.item_name)??"",category:u(e==null?void 0:e.category),supplier_info:(e==null?void 0:e.supplier_info)??"",low_stock_threshold:Number((e==null?void 0:e.low_stock_threshold)??10),item_code:(e==null?void 0:e.item_code)??""}}),{handleSubmit:f,control:h,reset:m}=d;A.useEffect(()=>{m(e?{item_name:e.item_name,category:u(e.category),supplier_info:e.supplier_info??"",low_stock_threshold:Number(e.low_stock_threshold??10),item_code:e.item_code??""}:{item_name:"",category:void 0,supplier_info:"",low_stock_threshold:10,item_code:""})},[e,m]);const x=y=>{y.target.files&&y.target.files[0]?o(y.target.files[0]):o(null)};return c(Dh,{...d,children:w("form",{onSubmit:f(async y=>{if(!a){n({title:"Error",description:"You must be logged in to save items.",variant:"destructive"});return}let _=null;try{if(s&&e){const b={item_name:y.item_name,category:y.category,supplier_info:y.supplier_info||null,low_stock_threshold:y.low_stock_threshold,item_code:y.item_code||null};_=await _Re(e.id,b),n({title:"Success",description:"Inventory item updated."})}else{const b={item_name:y.item_name,category:y.category,quantity:0,supplier_info:y.supplier_info||null,low_stock_threshold:y.low_stock_threshold,item_code:y.item_code||null,is_batched:y.category==="Medicines",photo_url:null,updated_at:null};if(_=await wRe(b),n({title:"Success",description:"New inventory item added."}),i&&_)try{console.log(`Uploading invoice for new item ID: ${_.id}`),await ORe(i,a.id,_.id),n({title:"Invoice Uploaded",description:`Invoice "${i.name}" uploaded successfully.`})}catch(S){console.error("Invoice upload failed after item creation:",S),n({title:"Warning",description:`Item was added, but invoice upload failed: ${S instanceof Error?S.message:"Unknown error"}`,variant:"default",duration:7e3})}}if(!_)throw new Error("Failed to get saved item data.");t(_),o(null)}catch(b){console.error("Failed to save inventory item:",b),n({title:"Error",description:`Failed to save item: ${b instanceof Error?b.message:"Unknown error"}`,variant:"destructive"})}}),className:"flex flex-col h-full",children:[w(df,{className:"flex-grow pr-6",children:[w("div",{className:"space-y-4",children:[c(Ge,{control:h,name:"item_name",render:({field:y})=>w(Pe,{children:[c(Te,{children:"Item Name"}),c(Oe,{children:c(ot,{placeholder:"e.g., Amoxicillin 500mg",...y})}),c(Xe,{})]})}),c(Ge,{control:h,name:"category",render:({field:y})=>w(Pe,{children:[c(Te,{children:"Category"}),w(zr,{onValueChange:y.onChange,value:y.value??"",defaultValue:y.value??"",children:[c(Oe,{children:c(Br,{children:c(Wr,{placeholder:"Select a category"})})}),c(Ur,{children:l.map(_=>c(wt,{value:_,children:_},_))})]}),c(Xe,{})]})}),c(Ge,{control:h,name:"low_stock_threshold",render:({field:y})=>w(Pe,{children:[c(Te,{children:"Low Stock Threshold"}),c(Oe,{children:c(ot,{type:"number",min:"0",placeholder:"10",...y,value:String(y.value??"")})}),c(Xe,{})]})}),w("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-start",children:[c(Ge,{control:h,name:"supplier_info",render:({field:y})=>w(Pe,{children:[c(Te,{children:"Supplier Info (Optional)"}),c(Oe,{children:c(ot,{placeholder:"e.g., Supplier Name, Contact",...y,value:y.value??""})}),c(Xe,{})]})}),c(Ge,{control:h,name:"item_code",render:({field:y})=>w(Pe,{children:[c(Te,{children:"Item Code/SKU (Optional)"}),c(Oe,{children:c(ot,{placeholder:"e.g., MED-001",...y,value:y.value??""})}),c(Xe,{})]})})]}),!s&&w(Pe,{className:"col-span-1 md:col-span-2",children:[" ",c(Te,{children:"Attach Invoice (Optional)"}),c(Oe,{children:c("div",{className:"flex items-center justify-center w-full",children:w("label",{htmlFor:"invoice-upload",className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed rounded-lg cursor-pointer bg-card hover:bg-muted/50",children:[w("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[c(tx,{className:"w-8 h-8 mb-4 text-muted-foreground"}),w("p",{className:"mb-2 text-sm text-muted-foreground",children:[c("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),c("p",{className:"text-xs text-muted-foreground",children:"PDF, DOCX, XLSX, PNG, JPG (MAX. 5MB)"})]}),c(ot,{id:"invoice-upload",type:"file",className:"hidden",accept:".pdf,.doc,.docx,.xls,.xlsx,.csv,.jpg,.jpeg,.png",onChange:x})]})})}),i&&w("p",{className:"text-sm text-muted-foreground mt-2 text-center",children:["Selected: ",i.name]})]})]})," "]})," ",w("div",{className:"flex justify-end space-x-2 pt-4 flex-shrink-0",children:[c(Fe,{type:"button",variant:"outline",onClick:()=>{o(null),r()},children:"Cancel"}),c(Fe,{type:"submit",disabled:d.formState.isSubmitting,children:d.formState.isSubmitting?"Saving...":s?"Update Item":"Add Item"})]})]})})},FRe={reorder:c(VV,{className:"text-blue-500",size:16}),expiry:c(vo,{className:"text-red-500",size:16}),clinical:c(hce,{className:"text-orange-500",size:16})},qz={High:"bg-red-100 text-red-600",Medium:"bg-yellow-100 text-yellow-600",Low:"bg-green-100 text-green-600"},LRe=e=>{var a;const t={},r=[];let n=null;for(const i of e){const o=i.message.trim(),s=o.match(/\*\*(.*?)\*\*/),l=((a=s==null?void 0:s[1])==null?void 0:a.trim())||null;if(l){n=l;const u=o.replace(/\*\*(.*?)\*\*\s*:?/,"").trim();t[n]||(t[n]=[]),u&&u!=="-"&&u.length>5&&t[n].push({insight:i,content:u})}else n?o&&o!=="-"&&o.length>5&&t[n].push({insight:i,content:o}):o&&o.length>10&&o!=="-"&&r.push({insight:i,content:o})}return{grouped:t,ungrouped:r}},jRe=()=>{const[e,t]=A.useState(null),[r,n]=A.useState(""),[a,i]=A.useState(!1),[o,s]=A.useState(null),l=async()=>{var f;i(!0),s(null);try{const{data:h,error:m}=await Me.functions.invoke("ai-insights");if(m)throw m;const x=h;if((f=x.assets)!=null&&f.structuredInsights)t(x.assets.structuredInsights),n(x.generatedAt);else throw new Error("Invalid AI insight format.")}catch(h){s(h.message||"Unknown error")}finally{i(!1)}};if(A.useEffect(()=>{l()},[]),a)return w(ur,{children:[c(wr,{children:c(_r,{className:"animate-pulse",children:"AI Suggestions"})}),w(xr,{children:[c(Il,{className:"h-4 w-full mb-2"}),c(Il,{className:"h-4 w-full mb-2"}),c(Il,{className:"h-4 w-full mb-2"})]})]});if(o)return w(ed,{variant:"destructive",children:[c(dc,{className:"h-4 w-4"}),c(td,{children:"Error"}),c(rd,{children:o})]});if(!e)return null;const{grouped:u,ungrouped:d}=LRe(e);return w("div",{className:"space-y-6",children:[w("div",{className:"flex items-center justify-between",children:[w("div",{className:"text-xl font-semibold flex gap-2 items-center",children:[c(XM,{className:"text-yellow-400"}),"AI Suggestions"]}),w("div",{className:"text-xs text-muted-foreground",children:["Generated: ",new Date(r).toLocaleString()]})]}),w("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[Object.entries(u).map(([f,h],m)=>!h||h.length===0?null:w("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-4 space-y-3 hover:shadow-md transition-all",children:[w("div",{className:"flex items-center justify-between",children:[w("div",{className:"font-semibold text-base flex items-center gap-2",children:[FRe[h[0].insight.type],f]}),w("div",{className:`text-xs px-2 py-1 rounded-full font-medium ${qz[h[0].insight.impact]}`,children:[h[0].insight.impact," Impact"]})]}),c("ul",{className:"space-y-2 text-sm text-gray-700",children:h.map((x,g)=>c("li",{className:"border-l-2 pl-3 border-gray-300",children:x.content},g))})]},m)),d.length>0&&w("div",{className:"bg-white rounded-2xl border border-blue-200 shadow-sm p-4 space-y-3 col-span-full",children:[w("div",{className:"font-semibold text-base flex items-center gap-2",children:[c(XM,{className:"text-purple-500"}),"General Suggestions"]}),c("ul",{className:"space-y-2 text-sm text-gray-700",children:d.map((f,h)=>w("li",{className:"flex justify-between items-start border-l-2 pl-3 border-gray-300",children:[c("span",{children:f.content}),c("span",{className:`text-xs px-2 py-0.5 rounded-full font-medium ${qz[f.insight.impact]}`,children:f.insight.impact})]},h))})]})]})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var US={};US.version="0.18.5";var Hre=1252,$Re=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],xR={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},wR=function(e){$Re.indexOf(e)!=-1&&(Hre=xR[0]=e)};function BRe(){wR(1252)}var Uu=function(e){wR(e)};function _R(){Uu(1200),BRe()}function zz(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function URe(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function Vre(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var S2=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?URe(e.slice(2)):t==254&&r==255?Vre(e.slice(2)):t==65279?e.slice(1):e},wb=function(t){return String.fromCharCode(t)},Wz=function(t){return String.fromCharCode(t)},t8,Yp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function ow(e){for(var t="",r=0,n=0,a=0,i=0,o=0,s=0,l=0,u=0;u<e.length;)r=e.charCodeAt(u++),i=r>>2,n=e.charCodeAt(u++),o=(r&3)<<4|n>>4,a=e.charCodeAt(u++),s=(n&15)<<2|a>>6,l=a&63,isNaN(n)?s=l=64:isNaN(a)&&(l=64),t+=Yp.charAt(i)+Yp.charAt(o)+Yp.charAt(s)+Yp.charAt(l);return t}function yc(e){var t="",r=0,n=0,a=0,i=0,o=0,s=0,l=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)i=Yp.indexOf(e.charAt(u++)),o=Yp.indexOf(e.charAt(u++)),r=i<<2|o>>4,t+=String.fromCharCode(r),s=Yp.indexOf(e.charAt(u++)),n=(o&15)<<4|s>>2,s!==64&&(t+=String.fromCharCode(n)),l=Yp.indexOf(e.charAt(u++)),a=(s&3)<<6|l,l!==64&&(t+=String.fromCharCode(a));return t}var En=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Rh=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function m0(e){return En?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function Hz(e){return En?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var lc=function(t){return En?Rh(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function B3(e){if(typeof ArrayBuffer>"u")return lc(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function D0(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function qRe(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}function bR(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return bR(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var jo=En?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Rh(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function zRe(e){for(var t=[],r=0,n=e.length+250,a=m0(e.length+255),i=0;i<e.length;++i){var o=e.charCodeAt(i);if(o<128)a[r++]=o;else if(o<2048)a[r++]=192|o>>6&31,a[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var s=e.charCodeAt(++i)&1023;a[r++]=240|o>>8&7,a[r++]=128|o>>2&63,a[r++]=128|s>>6&15|(o&3)<<4,a[r++]=128|s&63}else a[r++]=224|o>>12&15,a[r++]=128|o>>6&63,a[r++]=128|o&63;r>n&&(t.push(a.slice(0,r)),r=0,a=m0(65535),n=65530)}return t.push(a.slice(0,r)),jo(t)}var sl=/\u0000/g,A2=/[\u0001-\u0006]/g;function e1(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function qu(e,t){var r=""+e;return r.length>=t?r:Ni("0",t-r.length)+r}function SR(e,t){var r=""+e;return r.length>=t?r:Ni(" ",t-r.length)+r}function qS(e,t){var r=""+e;return r.length>=t?r:r+Ni(" ",t-r.length)}function WRe(e,t){var r=""+Math.round(e);return r.length>=t?r:Ni("0",t-r.length)+r}function HRe(e,t){var r=""+e;return r.length>=t?r:Ni("0",t-r.length)+r}var Vz=Math.pow(2,32);function Nv(e,t){if(e>Vz||e<-Vz)return WRe(e,t);var r=Math.round(e);return HRe(r,t)}function zS(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var Gz=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],BT=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function VRe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Gr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},Kz={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},GRe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function WS(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,o=1,s=0,l=1,u=0,d=0,f=Math.floor(a);u<t&&(f=Math.floor(a),s=f*o+i,d=f*u+l,!(a-f<5e-8));)a=1/(a-f),i=o,o=s,l=u,u=d;if(d>t&&(u>t?(d=l,s=i):(d=u,s=o)),!r)return[0,n*s,d];var h=Math.floor(n*s/d);return[h,n*s-h*d,d]}function Mm(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),i=0,o=[],s={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(s.u)<1e-6&&(s.u=0),t&&t.date1904&&(n+=1462),s.u>.9999&&(s.u=0,++a==86400&&(s.T=a=0,++n,++s.D)),n===60)o=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)o=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),o=[l.getFullYear(),l.getMonth()+1,l.getDate()],i=l.getDay(),n<60&&(i=(i+6)%7),r&&(i=QRe(l,o))}return s.y=o[0],s.m=o[1],s.d=o[2],s.S=a%60,a=Math.floor(a/60),s.M=a%60,a=Math.floor(a/60),s.H=a,s.q=i,s}var Gre=new Date(1899,11,31,0,0,0),KRe=Gre.getTime(),YRe=new Date(1900,2,1,0,0,0);function Kre(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=YRe&&(r+=24*60*60*1e3),(r-(KRe+(e.getTimezoneOffset()-Gre.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function AR(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function XRe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function ZRe(e){var t=e<0?12:11,r=AR(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function JRe(e){var t=AR(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function sw(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=ZRe(e):t===10?r=e.toFixed(10).substr(0,12):r=JRe(e),AR(XRe(r.toUpperCase()))}function og(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):sw(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return eu(14,Kre(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function QRe(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function e7e(e,t,r,n){var a="",i=0,o=0,s=r.y,l,u=0;switch(e){case 98:s=r.y+543;case 121:switch(t.length){case 1:case 2:l=s%100,u=2;break;default:l=s%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:l=r.m,u=t.length;break;case 3:return BT[r.m-1][1];case 5:return BT[r.m-1][0];default:return BT[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=r.d,u=t.length;break;case 3:return Gz[r.q][0];default:return Gz[r.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?qu(r.S,t.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,i=Math.round(o*(r.S+r.u)),i>=60*o&&(i=0),t==="s"?i===0?"0":""+i/o:(a=qu(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:l=s,u=1;break}var d=u>0?qu(l,u):"";return d}function Xp(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var Yre=/%/g;function t7e(e,t,r){var n=t.replace(Yre,""),a=t.length-n.length;return dh(e,n,r*Math.pow(10,2*a))+Ni("%",a)}function r7e(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return dh(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function Xre(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+Xre(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(s,l,u,d){return l+u+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var Zre=/# (\?+)( ?)\/( ?)(\d+)/;function n7e(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),o=a-i*n,s=n;return r+(i===0?"":""+i)+" "+(o===0?Ni(" ",e[1].length+1+e[4].length):SR(o,e[1].length)+e[2]+"/"+e[3]+qu(s,e[4].length))}function a7e(e,t,r){return r+(t===0?"":""+t)+Ni(" ",e[1].length+2+e[4].length)}var Jre=/^#*0*\.([0#]+)/,Qre=/\).*[0#]/,ene=/\(###\) ###\\?-####/;function el(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function Yz(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function Xz(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function i7e(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function o7e(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Bc(e,t,r){if(e.charCodeAt(0)===40&&!t.match(Qre)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Bc("n",n,r):"("+Bc("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return r7e(e,t,r);if(t.indexOf("%")!==-1)return t7e(e,t,r);if(t.indexOf("E")!==-1)return Xre(t,r);if(t.charCodeAt(0)===36)return"$"+Bc(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,o,s,l=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+Nv(l,t.length);if(t.match(/^[#?]+$/))return a=Nv(r,0),a==="0"&&(a=""),a.length>t.length?a:el(t.substr(0,t.length-a.length))+a;if(i=t.match(Zre))return n7e(i,l,u);if(t.match(/^#+0+$/))return u+Nv(l,t.length-t.indexOf("0"));if(i=t.match(Jre))return a=Yz(r,i[1].length).replace(/^([^\.]+)$/,"$1."+el(i[1])).replace(/\.$/,"."+el(i[1])).replace(/\.(\d*)$/,function(x,g){return"."+g+Ni("0",el(i[1]).length-g.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+Yz(l,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+Xp(Nv(l,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Bc(e,t,-r):Xp(""+(Math.floor(r)+i7e(r,i[1].length)))+"."+qu(Xz(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return Bc(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=e1(Bc(e,t.replace(/[\\-]/g,""),r)),o=0,e1(e1(t.replace(/\\/g,"")).replace(/[0#]/g,function(x){return o<a.length?a.charAt(o++):x==="0"?"0":""}));if(t.match(ene))return a=Bc(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),s=WS(l,Math.pow(10,o)-1,!1),a=""+u,d=dh("n",i[1],s[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=qS(s[2],o),d.length<i[4].length&&(d=el(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),s=WS(l,Math.pow(10,o)-1,!0),u+(s[0]||(s[1]?"":"0"))+" "+(s[1]?SR(s[1],o)+i[2]+"/"+i[3]+qS(s[2],o):Ni(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=Nv(r,0),t.length<=a.length?a:el(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,h=t.length-a.length-f;return el(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return o=Xz(r,i[1].length),r<0?"-"+Bc(e,t,-r):Xp(o7e(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?qu(0,3-x.length):"")+x})+"."+qu(o,i[1].length);switch(t){case"###,##0.00":return Bc(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var m=Xp(Nv(l,0));return m!=="0"?u+m:"";case"###,###.00":return Bc(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Bc(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function s7e(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return dh(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function l7e(e,t,r){var n=t.replace(Yre,""),a=t.length-n.length;return dh(e,n,r*Math.pow(10,2*a))+Ni("%",a)}function tne(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+tne(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(s,l,u,d){return l+u+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Rd(e,t,r){if(e.charCodeAt(0)===40&&!t.match(Qre)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Rd("n",n,r):"("+Rd("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return s7e(e,t,r);if(t.indexOf("%")!==-1)return l7e(e,t,r);if(t.indexOf("E")!==-1)return tne(t,r);if(t.charCodeAt(0)===36)return"$"+Rd(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,o,s,l=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+qu(l,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:el(t.substr(0,t.length-a.length))+a;if(i=t.match(Zre))return a7e(i,l,u);if(t.match(/^#+0+$/))return u+qu(l,t.length-t.indexOf("0"));if(i=t.match(Jre))return a=(""+r).replace(/^([^\.]+)$/,"$1."+el(i[1])).replace(/\.$/,"."+el(i[1])),a=a.replace(/\.(\d*)$/,function(x,g){return"."+g+Ni("0",el(i[1]).length-g.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+Xp(""+l);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Rd(e,t,-r):Xp(""+r)+"."+Ni("0",i[1].length);if(i=t.match(/^#,#*,#0/))return Rd(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=e1(Rd(e,t.replace(/[\\-]/g,""),r)),o=0,e1(e1(t.replace(/\\/g,"")).replace(/[0#]/g,function(x){return o<a.length?a.charAt(o++):x==="0"?"0":""}));if(t.match(ene))return a=Rd(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),s=WS(l,Math.pow(10,o)-1,!1),a=""+u,d=dh("n",i[1],s[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=qS(s[2],o),d.length<i[4].length&&(d=el(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),s=WS(l,Math.pow(10,o)-1,!0),u+(s[0]||(s[1]?"":"0"))+" "+(s[1]?SR(s[1],o)+i[2]+"/"+i[3]+qS(s[2],o):Ni(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:el(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,h=t.length-a.length-f;return el(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Rd(e,t,-r):Xp(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?qu(0,3-x.length):"")+x})+"."+qu(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var m=Xp(""+l);return m!=="0"?u+m:"";default:if(t.match(/\.[0#?]*$/))return Rd(e,t.slice(0,t.lastIndexOf(".")),r)+el(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function dh(e,t,r){return(r|0)===r?Rd(e,t,r):Bc(e,t,r)}function c7e(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var rne=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function gy(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":zS(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(rne))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function u7e(e,t,r,n){for(var a=[],i="",o=0,s="",l="t",u,d,f,h="H";o<e.length;)switch(s=e.charAt(o)){case"G":if(!zS(e,o))throw new Error("unrecognized character "+s+" in "+e);a[a.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(f=e.charCodeAt(++o))!==34&&o<e.length;)i+=String.fromCharCode(f);a[a.length]={t:"t",v:i},++o;break;case"\\":var m=e.charAt(++o),x=m==="("||m===")"?m:"t";a[a.length]={t:x,v:m},++o;break;case"_":a[a.length]={t:"t",v:" "},o+=2;break;case"@":a[a.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(u==null&&(u=Mm(t,r,e.charAt(o+1)==="2"),u==null))return"";a[a.length]={t:"X",v:e.substr(o,2)},l=s,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":s=s.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=Mm(t,r),u==null))return"";for(i=s;++o<e.length&&e.charAt(o).toLowerCase()===s;)i+=s;s==="m"&&l.toLowerCase()==="h"&&(s="M"),s==="h"&&(s=h),a[a.length]={t:s,v:i},l=s;break;case"A":case"a":case"":var g={t:s,v:s};if(u==null&&(u=Mm(t,r)),e.substr(o,3).toUpperCase()==="A/P"?(u!=null&&(g.v=u.H>=12?"P":"A"),g.t="T",h="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(u!=null&&(g.v=u.H>=12?"PM":"AM"),g.t="T",o+=5,h="h"):e.substr(o,5).toUpperCase()==="/"?(u!=null&&(g.v=u.H>=12?"":""),g.t="T",o+=5,h="h"):(g.t="t",++o),u==null&&g.t==="T")return"";a[a.length]=g,l=s;break;case"[":for(i=s;e.charAt(o++)!=="]"&&o<e.length;)i+=e.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(rne)){if(u==null&&(u=Mm(t,r),u==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},l=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",gy(e)||(a[a.length]={t:"t",v:i}));break;case".":if(u!=null){for(i=s;++o<e.length&&(s=e.charAt(o))==="0";)i+=s;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=s;++o<e.length&&"0#?.,E+-%".indexOf(s=e.charAt(o))>-1;)i+=s;a[a.length]={t:"n",v:i};break;case"?":for(i=s;e.charAt(++o)===s;)i+=s;a[a.length]={t:s,v:i},l=s;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":a[a.length]={t:n===1?"t":s,v:s},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=s;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)i+=e.charAt(o);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:s,v:s},++o;break;case"$":a[a.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(s)===-1)throw new Error("unrecognized character "+s+" in "+e);a[a.length]={t:"t",v:s},++o;break}var y=0,_=0,b;for(o=a.length-1,l="t";o>=0;--o)switch(a[o].t){case"h":case"H":a[o].t=h,l="h",y<1&&(y=1);break;case"s":(b=a[o].v.match(/\.0+$/))&&(_=Math.max(_,b[0].length-1)),y<3&&(y=3);case"d":case"y":case"M":case"e":l=a[o].t;break;case"m":l==="s"&&(a[o].t="M",y<2&&(y=2));break;case"X":break;case"Z":y<1&&a[o].v.match(/[Hh]/)&&(y=1),y<2&&a[o].v.match(/[Mm]/)&&(y=2),y<3&&a[o].v.match(/[Ss]/)&&(y=3)}switch(y){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var S="",C;for(o=0;o<a.length;++o)switch(a[o].t){case"t":case"T":case" ":case"D":break;case"X":a[o].v="",a[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[o].v=e7e(a[o].t.charCodeAt(0),a[o].v,u,_),a[o].t="t";break;case"n":case"?":for(C=o+1;a[C]!=null&&((s=a[C].t)==="?"||s==="D"||(s===" "||s==="t")&&a[C+1]!=null&&(a[C+1].t==="?"||a[C+1].t==="t"&&a[C+1].v==="/")||a[o].t==="("&&(s===" "||s==="n"||s===")")||s==="t"&&(a[C].v==="/"||a[C].v===" "&&a[C+1]!=null&&a[C+1].t=="?"));)a[o].v+=a[C].v,a[C]={v:"",t:";"},++C;S+=a[o].v,o=C-1;break;case"G":a[o].t="t",a[o].v=og(t,r);break}var E="",D,T;if(S.length>0){S.charCodeAt(0)==40?(D=t<0&&S.charCodeAt(0)===45?-t:t,T=dh("n",S,D)):(D=t<0&&n>1?-t:t,T=dh("n",S,D),D<0&&a[0]&&a[0].t=="t"&&(T=T.substr(1),a[0].v="-"+a[0].v)),C=T.length-1;var I=a.length;for(o=0;o<a.length;++o)if(a[o]!=null&&a[o].t!="t"&&a[o].v.indexOf(".")>-1){I=o;break}var L=a.length;if(I===a.length&&T.indexOf("E")===-1){for(o=a.length-1;o>=0;--o)a[o]==null||"n?".indexOf(a[o].t)===-1||(C>=a[o].v.length-1?(C-=a[o].v.length,a[o].v=T.substr(C+1,a[o].v.length)):C<0?a[o].v="":(a[o].v=T.substr(0,C+1),C=-1),a[o].t="t",L=o);C>=0&&L<a.length&&(a[L].v=T.substr(0,C+1)+a[L].v)}else if(I!==a.length&&T.indexOf("E")===-1){for(C=T.indexOf(".")-1,o=I;o>=0;--o)if(!(a[o]==null||"n?".indexOf(a[o].t)===-1)){for(d=a[o].v.indexOf(".")>-1&&o===I?a[o].v.indexOf(".")-1:a[o].v.length-1,E=a[o].v.substr(d+1);d>=0;--d)C>=0&&(a[o].v.charAt(d)==="0"||a[o].v.charAt(d)==="#")&&(E=T.charAt(C--)+E);a[o].v=E,a[o].t="t",L=o}for(C>=0&&L<a.length&&(a[L].v=T.substr(0,C+1)+a[L].v),C=T.indexOf(".")+1,o=I;o<a.length;++o)if(!(a[o]==null||"n?(".indexOf(a[o].t)===-1&&o!==I)){for(d=a[o].v.indexOf(".")>-1&&o===I?a[o].v.indexOf(".")+1:0,E=a[o].v.substr(0,d);d<a[o].v.length;++d)C<T.length&&(E+=T.charAt(C++));a[o].v=E,a[o].t="t",L=o}}}for(o=0;o<a.length;++o)a[o]!=null&&"n?".indexOf(a[o].t)>-1&&(D=n>1&&t<0&&o>0&&a[o-1].v==="-"?-t:t,a[o].v=dh(a[o].t,a[o].v,D),a[o].t="t");var B="";for(o=0;o!==a.length;++o)a[o]!=null&&(B+=a[o].v);return B}var Zz=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function Jz(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function d7e(e,t){var r=c7e(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(Zz),s=r[1].match(Zz);return Jz(t,o)?[n,r[0]]:Jz(t,s)?[n,r[1]]:[n,r[o!=null&&s!=null?2:1]]}return[n,i]}function eu(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Gr)[e],n==null&&(n=r.table&&r.table[Kz[e]]||Gr[Kz[e]]),n==null&&(n=GRe[e]||"General");break}if(zS(n,0))return og(t,r);t instanceof Date&&(t=Kre(t,r.date1904));var a=d7e(n,t);if(zS(a[1]))return og(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return u7e(a[1],t,r,a[0])}function fh(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Gr[r]==null){t<0&&(t=r);continue}if(Gr[r]==e){t=r;break}}t<0&&(t=391)}return Gr[t]=e,t}function U3(e){for(var t=0;t!=392;++t)e[t]!==void 0&&fh(e[t],t)}function vy(){Gr=VRe()}var f7e={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},nne=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function h7e(e){var t=typeof e=="number"?Gr[e]:e;return t=t.replace(nne,"(\\d+)"),new RegExp("^"+t+"$")}function p7e(e,t,r){var n=-1,a=-1,i=-1,o=-1,s=-1,l=-1;(t.match(nne)||[]).forEach(function(f,h){var m=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=m;break;case"d":i=m;break;case"h":o=m;break;case"s":l=m;break;case"m":o>=0?s=m:a=m;break}}),l>=0&&s==-1&&a>=0&&(s=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return o==-1&&s==-1&&l==-1?u:n==-1&&a==-1&&i==-1?d:u+"T"+d}var m7e=function(){var e={};e.version="1.2.0";function t(){for(var T=0,I=new Array(256),L=0;L!=256;++L)T=L,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,I[L]=T;return typeof Int32Array<"u"?new Int32Array(I):I}var r=t();function n(T){var I=0,L=0,B=0,P=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(B=0;B!=256;++B)P[B]=T[B];for(B=0;B!=256;++B)for(L=T[B],I=256+B;I<4096;I+=256)L=P[I]=L>>>8^T[L&255];var O=[];for(B=1;B!=16;++B)O[B-1]=typeof Int32Array<"u"?P.subarray(B*256,B*256+256):P.slice(B*256,B*256+256);return O}var a=n(r),i=a[0],o=a[1],s=a[2],l=a[3],u=a[4],d=a[5],f=a[6],h=a[7],m=a[8],x=a[9],g=a[10],y=a[11],_=a[12],b=a[13],S=a[14];function C(T,I){for(var L=I^-1,B=0,P=T.length;B<P;)L=L>>>8^r[(L^T.charCodeAt(B++))&255];return~L}function E(T,I){for(var L=I^-1,B=T.length-15,P=0;P<B;)L=S[T[P++]^L&255]^b[T[P++]^L>>8&255]^_[T[P++]^L>>16&255]^y[T[P++]^L>>>24]^g[T[P++]]^x[T[P++]]^m[T[P++]]^h[T[P++]]^f[T[P++]]^d[T[P++]]^u[T[P++]]^l[T[P++]]^s[T[P++]]^o[T[P++]]^i[T[P++]]^r[T[P++]];for(B+=15;P<B;)L=L>>>8^r[(L^T[P++])&255];return~L}function D(T,I){for(var L=I^-1,B=0,P=T.length,O=0,j=0;B<P;)O=T.charCodeAt(B++),O<128?L=L>>>8^r[(L^O)&255]:O<2048?(L=L>>>8^r[(L^(192|O>>6&31))&255],L=L>>>8^r[(L^(128|O&63))&255]):O>=55296&&O<57344?(O=(O&1023)+64,j=T.charCodeAt(B++)&1023,L=L>>>8^r[(L^(240|O>>8&7))&255],L=L>>>8^r[(L^(128|O>>2&63))&255],L=L>>>8^r[(L^(128|j>>6&15|(O&3)<<4))&255],L=L>>>8^r[(L^(128|j&63))&255]):(L=L>>>8^r[(L^(224|O>>12&15))&255],L=L>>>8^r[(L^(128|O>>6&63))&255],L=L>>>8^r[(L^(128|O&63))&255]);return~L}return e.table=r,e.bstr=C,e.buf=E,e.str=D,e}(),Mr=function(){var t={};t.version="1.2.1";function r(de,Se){for(var we=de.split("/"),_e=Se.split("/"),Ae=0,ke=0,nt=Math.min(we.length,_e.length);Ae<nt;++Ae){if(ke=we[Ae].length-_e[Ae].length)return ke;if(we[Ae]!=_e[Ae])return we[Ae]<_e[Ae]?-1:1}return we.length-_e.length}function n(de){if(de.charAt(de.length-1)=="/")return de.slice(0,-1).indexOf("/")===-1?de:n(de.slice(0,-1));var Se=de.lastIndexOf("/");return Se===-1?de:de.slice(0,Se+1)}function a(de){if(de.charAt(de.length-1)=="/")return a(de.slice(0,-1));var Se=de.lastIndexOf("/");return Se===-1?de:de.slice(Se+1)}function i(de,Se){typeof Se=="string"&&(Se=new Date(Se));var we=Se.getHours();we=we<<6|Se.getMinutes(),we=we<<5|Se.getSeconds()>>>1,de.write_shift(2,we);var _e=Se.getFullYear()-1980;_e=_e<<4|Se.getMonth()+1,_e=_e<<5|Se.getDate(),de.write_shift(2,_e)}function o(de){var Se=de.read_shift(2)&65535,we=de.read_shift(2)&65535,_e=new Date,Ae=we&31;we>>>=5;var ke=we&15;we>>>=4,_e.setMilliseconds(0),_e.setFullYear(we+1980),_e.setMonth(ke-1),_e.setDate(Ae);var nt=Se&31;Se>>>=5;var vt=Se&63;return Se>>>=6,_e.setHours(Se),_e.setMinutes(vt),_e.setSeconds(nt<<1),_e}function s(de){es(de,0);for(var Se={},we=0;de.l<=de.length-4;){var _e=de.read_shift(2),Ae=de.read_shift(2),ke=de.l+Ae,nt={};switch(_e){case 21589:we=de.read_shift(1),we&1&&(nt.mtime=de.read_shift(4)),Ae>5&&(we&2&&(nt.atime=de.read_shift(4)),we&4&&(nt.ctime=de.read_shift(4))),nt.mtime&&(nt.mt=new Date(nt.mtime*1e3));break}de.l=ke,Se[_e]=nt}return Se}var l;function u(){return l||(l={})}function d(de,Se){if(de[0]==80&&de[1]==75)return Tt(de,Se);if((de[0]|32)==109&&(de[1]|32)==105)return ga(de,Se);if(de.length<512)throw new Error("CFB file size "+de.length+" < 512");var we=3,_e=512,Ae=0,ke=0,nt=0,vt=0,rt=0,it=[],ut=de.slice(0,512);es(ut,0);var Rt=f(ut);switch(we=Rt[0],we){case 3:_e=512;break;case 4:_e=4096;break;case 0:if(Rt[1]==0)return Tt(de,Se);default:throw new Error("Major Version: Expected 3 or 4 saw "+we)}_e!==512&&(ut=de.slice(0,_e),es(ut,28));var Gt=de.slice(0,_e);h(ut,we);var or=ut.read_shift(4,"i");if(we===3&&or!==0)throw new Error("# Directory Sectors: Expected 0 saw "+or);ut.l+=4,nt=ut.read_shift(4,"i"),ut.l+=4,ut.chk("00100000","Mini Stream Cutoff Size: "),vt=ut.read_shift(4,"i"),Ae=ut.read_shift(4,"i"),rt=ut.read_shift(4,"i"),ke=ut.read_shift(4,"i");for(var zt=-1,$t=0;$t<109&&(zt=ut.read_shift(4,"i"),!(zt<0));++$t)it[$t]=zt;var Xr=m(de,_e);y(rt,ke,Xr,_e,it);var Ln=b(Xr,nt,it,_e);Ln[nt].name="!Directory",Ae>0&&vt!==j&&(Ln[vt].name="!MiniFAT"),Ln[it[0]].name="!FAT",Ln.fat_addrs=it,Ln.ssz=_e;var ea={},$a=[],$l=[],xc=[];S(nt,Ln,Xr,$a,Ae,ea,$l,vt),x($l,xc,$a),$a.shift();var Us={FileIndex:$l,FullPaths:xc};return Se&&Se.raw&&(Us.raw={header:Gt,sectors:Xr}),Us}function f(de){if(de[de.l]==80&&de[de.l+1]==75)return[0,0];de.chk(G,"Header Signature: "),de.l+=16;var Se=de.read_shift(2,"u");return[de.read_shift(2,"u"),Se]}function h(de,Se){var we=9;switch(de.l+=2,we=de.read_shift(2)){case 9:if(Se!=3)throw new Error("Sector Shift: Expected 9 saw "+we);break;case 12:if(Se!=4)throw new Error("Sector Shift: Expected 12 saw "+we);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+we)}de.chk("0600","Mini Sector Shift: "),de.chk("000000000000","Reserved: ")}function m(de,Se){for(var we=Math.ceil(de.length/Se)-1,_e=[],Ae=1;Ae<we;++Ae)_e[Ae-1]=de.slice(Ae*Se,(Ae+1)*Se);return _e[we-1]=de.slice(we*Se),_e}function x(de,Se,we){for(var _e=0,Ae=0,ke=0,nt=0,vt=0,rt=we.length,it=[],ut=[];_e<rt;++_e)it[_e]=ut[_e]=_e,Se[_e]=we[_e];for(;vt<ut.length;++vt)_e=ut[vt],Ae=de[_e].L,ke=de[_e].R,nt=de[_e].C,it[_e]===_e&&(Ae!==-1&&it[Ae]!==Ae&&(it[_e]=it[Ae]),ke!==-1&&it[ke]!==ke&&(it[_e]=it[ke])),nt!==-1&&(it[nt]=_e),Ae!==-1&&_e!=it[_e]&&(it[Ae]=it[_e],ut.lastIndexOf(Ae)<vt&&ut.push(Ae)),ke!==-1&&_e!=it[_e]&&(it[ke]=it[_e],ut.lastIndexOf(ke)<vt&&ut.push(ke));for(_e=1;_e<rt;++_e)it[_e]===_e&&(ke!==-1&&it[ke]!==ke?it[_e]=it[ke]:Ae!==-1&&it[Ae]!==Ae&&(it[_e]=it[Ae]));for(_e=1;_e<rt;++_e)if(de[_e].type!==0){if(vt=_e,vt!=it[vt])do vt=it[vt],Se[_e]=Se[vt]+"/"+Se[_e];while(vt!==0&&it[vt]!==-1&&vt!=it[vt]);it[_e]=-1}for(Se[0]+="/",_e=1;_e<rt;++_e)de[_e].type!==2&&(Se[_e]+="/")}function g(de,Se,we){for(var _e=de.start,Ae=de.size,ke=[],nt=_e;we&&Ae>0&&nt>=0;)ke.push(Se.slice(nt*O,nt*O+O)),Ae-=O,nt=km(we,nt*4);return ke.length===0?Nt(0):jo(ke).slice(0,de.size)}function y(de,Se,we,_e,Ae){var ke=j;if(de===j){if(Se!==0)throw new Error("DIFAT chain shorter than expected")}else if(de!==-1){var nt=we[de],vt=(_e>>>2)-1;if(!nt)return;for(var rt=0;rt<vt&&(ke=km(nt,rt*4))!==j;++rt)Ae.push(ke);y(km(nt,_e-4),Se-1,we,_e,Ae)}}function _(de,Se,we,_e,Ae){var ke=[],nt=[];Ae||(Ae=[]);var vt=_e-1,rt=0,it=0;for(rt=Se;rt>=0;){Ae[rt]=!0,ke[ke.length]=rt,nt.push(de[rt]);var ut=we[Math.floor(rt*4/_e)];if(it=rt*4&vt,_e<4+it)throw new Error("FAT boundary crossed: "+rt+" 4 "+_e);if(!de[ut])break;rt=km(de[ut],it)}return{nodes:ke,data:uW([nt])}}function b(de,Se,we,_e){var Ae=de.length,ke=[],nt=[],vt=[],rt=[],it=_e-1,ut=0,Rt=0,Gt=0,or=0;for(ut=0;ut<Ae;++ut)if(vt=[],Gt=ut+Se,Gt>=Ae&&(Gt-=Ae),!nt[Gt]){rt=[];var zt=[];for(Rt=Gt;Rt>=0;){zt[Rt]=!0,nt[Rt]=!0,vt[vt.length]=Rt,rt.push(de[Rt]);var $t=we[Math.floor(Rt*4/_e)];if(or=Rt*4&it,_e<4+or)throw new Error("FAT boundary crossed: "+Rt+" 4 "+_e);if(!de[$t]||(Rt=km(de[$t],or),zt[Rt]))break}ke[Gt]={nodes:vt,data:uW([rt])}}return ke}function S(de,Se,we,_e,Ae,ke,nt,vt){for(var rt=0,it=_e.length?2:0,ut=Se[de].data,Rt=0,Gt=0,or;Rt<ut.length;Rt+=128){var zt=ut.slice(Rt,Rt+128);es(zt,64),Gt=zt.read_shift(2),or=OR(zt,0,Gt-it),_e.push(or);var $t={name:or,type:zt.read_shift(1),color:zt.read_shift(1),L:zt.read_shift(4,"i"),R:zt.read_shift(4,"i"),C:zt.read_shift(4,"i"),clsid:zt.read_shift(16),state:zt.read_shift(4,"i"),start:0,size:0},Xr=zt.read_shift(2)+zt.read_shift(2)+zt.read_shift(2)+zt.read_shift(2);Xr!==0&&($t.ct=C(zt,zt.l-8));var Ln=zt.read_shift(2)+zt.read_shift(2)+zt.read_shift(2)+zt.read_shift(2);Ln!==0&&($t.mt=C(zt,zt.l-8)),$t.start=zt.read_shift(4,"i"),$t.size=zt.read_shift(4,"i"),$t.size<0&&$t.start<0&&($t.size=$t.type=0,$t.start=j,$t.name=""),$t.type===5?(rt=$t.start,Ae>0&&rt!==j&&(Se[rt].name="!StreamData")):$t.size>=4096?($t.storage="fat",Se[$t.start]===void 0&&(Se[$t.start]=_(we,$t.start,Se.fat_addrs,Se.ssz)),Se[$t.start].name=$t.name,$t.content=Se[$t.start].data.slice(0,$t.size)):($t.storage="minifat",$t.size<0?$t.size=0:rt!==j&&$t.start!==j&&Se[rt]&&($t.content=g($t,Se[rt].data,(Se[vt]||{}).data))),$t.content&&es($t.content,0),ke[or]=$t,nt.push($t)}}function C(de,Se){return new Date((ic(de,Se+4)/1e7*Math.pow(2,32)+ic(de,Se)/1e7-11644473600)*1e3)}function E(de,Se){return u(),d(l.readFileSync(de),Se)}function D(de,Se){var we=Se&&Se.type;switch(we||En&&Buffer.isBuffer(de)&&(we="buffer"),we||"base64"){case"file":return E(de,Se);case"base64":return d(lc(yc(de)),Se);case"binary":return d(lc(de),Se)}return d(de,Se)}function T(de,Se){var we=Se||{},_e=we.root||"Root Entry";if(de.FullPaths||(de.FullPaths=[]),de.FileIndex||(de.FileIndex=[]),de.FullPaths.length!==de.FileIndex.length)throw new Error("inconsistent CFB structure");de.FullPaths.length===0&&(de.FullPaths[0]=_e+"/",de.FileIndex[0]={name:_e,type:5}),we.CLSID&&(de.FileIndex[0].clsid=we.CLSID),I(de)}function I(de){var Se="Sh33tJ5";if(!Mr.find(de,"/"+Se)){var we=Nt(4);we[0]=55,we[1]=we[3]=50,we[2]=54,de.FileIndex.push({name:Se,type:2,content:we,size:4,L:69,R:69,C:69}),de.FullPaths.push(de.FullPaths[0]+Se),L(de)}}function L(de,Se){T(de);for(var we=!1,_e=!1,Ae=de.FullPaths.length-1;Ae>=0;--Ae){var ke=de.FileIndex[Ae];switch(ke.type){case 0:_e?we=!0:(de.FileIndex.pop(),de.FullPaths.pop());break;case 1:case 2:case 5:_e=!0,isNaN(ke.R*ke.L*ke.C)&&(we=!0),ke.R>-1&&ke.L>-1&&ke.R==ke.L&&(we=!0);break;default:we=!0;break}}if(!(!we&&!Se)){var nt=new Date(1987,1,19),vt=0,rt=Object.create?Object.create(null):{},it=[];for(Ae=0;Ae<de.FullPaths.length;++Ae)rt[de.FullPaths[Ae]]=!0,de.FileIndex[Ae].type!==0&&it.push([de.FullPaths[Ae],de.FileIndex[Ae]]);for(Ae=0;Ae<it.length;++Ae){var ut=n(it[Ae][0]);_e=rt[ut],_e||(it.push([ut,{name:a(ut).replace("/",""),type:1,clsid:re,ct:nt,mt:nt,content:null}]),rt[ut]=!0)}for(it.sort(function(or,zt){return r(or[0],zt[0])}),de.FullPaths=[],de.FileIndex=[],Ae=0;Ae<it.length;++Ae)de.FullPaths[Ae]=it[Ae][0],de.FileIndex[Ae]=it[Ae][1];for(Ae=0;Ae<it.length;++Ae){var Rt=de.FileIndex[Ae],Gt=de.FullPaths[Ae];if(Rt.name=a(Gt).replace("/",""),Rt.L=Rt.R=Rt.C=-(Rt.color=1),Rt.size=Rt.content?Rt.content.length:0,Rt.start=0,Rt.clsid=Rt.clsid||re,Ae===0)Rt.C=it.length>1?1:-1,Rt.size=0,Rt.type=5;else if(Gt.slice(-1)=="/"){for(vt=Ae+1;vt<it.length&&n(de.FullPaths[vt])!=Gt;++vt);for(Rt.C=vt>=it.length?-1:vt,vt=Ae+1;vt<it.length&&n(de.FullPaths[vt])!=n(Gt);++vt);Rt.R=vt>=it.length?-1:vt,Rt.type=1}else n(de.FullPaths[Ae+1]||"")==n(Gt)&&(Rt.R=Ae+1),Rt.type=2}}}function B(de,Se){var we=Se||{};if(we.fileType=="mad")return gr(de,we);switch(L(de),we.fileType){case"zip":return Fr(de,we)}var _e=function(or){for(var zt=0,$t=0,Xr=0;Xr<or.FileIndex.length;++Xr){var Ln=or.FileIndex[Xr];if(Ln.content){var ea=Ln.content.length;ea>0&&(ea<4096?zt+=ea+63>>6:$t+=ea+511>>9)}}for(var $a=or.FullPaths.length+3>>2,$l=zt+7>>3,xc=zt+127>>7,Us=$l+$t+$a+xc,vi=Us+127>>7,wc=vi<=109?0:Math.ceil((vi-109)/127);Us+vi+wc+127>>7>vi;)wc=++vi<=109?0:Math.ceil((vi-109)/127);var Ba=[1,wc,vi,xc,$a,$t,zt,0];return or.FileIndex[0].size=zt<<6,Ba[7]=(or.FileIndex[0].start=Ba[0]+Ba[1]+Ba[2]+Ba[3]+Ba[4]+Ba[5])+(Ba[6]+7>>3),Ba}(de),Ae=Nt(_e[7]<<9),ke=0,nt=0;{for(ke=0;ke<8;++ke)Ae.write_shift(1,Y[ke]);for(ke=0;ke<8;++ke)Ae.write_shift(2,0);for(Ae.write_shift(2,62),Ae.write_shift(2,3),Ae.write_shift(2,65534),Ae.write_shift(2,9),Ae.write_shift(2,6),ke=0;ke<3;++ke)Ae.write_shift(2,0);for(Ae.write_shift(4,0),Ae.write_shift(4,_e[2]),Ae.write_shift(4,_e[0]+_e[1]+_e[2]+_e[3]-1),Ae.write_shift(4,0),Ae.write_shift(4,4096),Ae.write_shift(4,_e[3]?_e[0]+_e[1]+_e[2]-1:j),Ae.write_shift(4,_e[3]),Ae.write_shift(-4,_e[1]?_e[0]-1:j),Ae.write_shift(4,_e[1]),ke=0;ke<109;++ke)Ae.write_shift(-4,ke<_e[2]?_e[1]+ke:-1)}if(_e[1])for(nt=0;nt<_e[1];++nt){for(;ke<236+nt*127;++ke)Ae.write_shift(-4,ke<_e[2]?_e[1]+ke:-1);Ae.write_shift(-4,nt===_e[1]-1?j:nt+1)}var vt=function(or){for(nt+=or;ke<nt-1;++ke)Ae.write_shift(-4,ke+1);or&&(++ke,Ae.write_shift(-4,j))};for(nt=ke=0,nt+=_e[1];ke<nt;++ke)Ae.write_shift(-4,q.DIFSECT);for(nt+=_e[2];ke<nt;++ke)Ae.write_shift(-4,q.FATSECT);vt(_e[3]),vt(_e[4]);for(var rt=0,it=0,ut=de.FileIndex[0];rt<de.FileIndex.length;++rt)ut=de.FileIndex[rt],ut.content&&(it=ut.content.length,!(it<4096)&&(ut.start=nt,vt(it+511>>9)));for(vt(_e[6]+7>>3);Ae.l&511;)Ae.write_shift(-4,q.ENDOFCHAIN);for(nt=ke=0,rt=0;rt<de.FileIndex.length;++rt)ut=de.FileIndex[rt],ut.content&&(it=ut.content.length,!(!it||it>=4096)&&(ut.start=nt,vt(it+63>>6)));for(;Ae.l&511;)Ae.write_shift(-4,q.ENDOFCHAIN);for(ke=0;ke<_e[4]<<2;++ke){var Rt=de.FullPaths[ke];if(!Rt||Rt.length===0){for(rt=0;rt<17;++rt)Ae.write_shift(4,0);for(rt=0;rt<3;++rt)Ae.write_shift(4,-1);for(rt=0;rt<12;++rt)Ae.write_shift(4,0);continue}ut=de.FileIndex[ke],ke===0&&(ut.start=ut.size?ut.start-1:j);var Gt=ke===0&&we.root||ut.name;if(it=2*(Gt.length+1),Ae.write_shift(64,Gt,"utf16le"),Ae.write_shift(2,it),Ae.write_shift(1,ut.type),Ae.write_shift(1,ut.color),Ae.write_shift(-4,ut.L),Ae.write_shift(-4,ut.R),Ae.write_shift(-4,ut.C),ut.clsid)Ae.write_shift(16,ut.clsid,"hex");else for(rt=0;rt<4;++rt)Ae.write_shift(4,0);Ae.write_shift(4,ut.state||0),Ae.write_shift(4,0),Ae.write_shift(4,0),Ae.write_shift(4,0),Ae.write_shift(4,0),Ae.write_shift(4,ut.start),Ae.write_shift(4,ut.size),Ae.write_shift(4,0)}for(ke=1;ke<de.FileIndex.length;++ke)if(ut=de.FileIndex[ke],ut.size>=4096)if(Ae.l=ut.start+1<<9,En&&Buffer.isBuffer(ut.content))ut.content.copy(Ae,Ae.l,0,ut.size),Ae.l+=ut.size+511&-512;else{for(rt=0;rt<ut.size;++rt)Ae.write_shift(1,ut.content[rt]);for(;rt&511;++rt)Ae.write_shift(1,0)}for(ke=1;ke<de.FileIndex.length;++ke)if(ut=de.FileIndex[ke],ut.size>0&&ut.size<4096)if(En&&Buffer.isBuffer(ut.content))ut.content.copy(Ae,Ae.l,0,ut.size),Ae.l+=ut.size+63&-64;else{for(rt=0;rt<ut.size;++rt)Ae.write_shift(1,ut.content[rt]);for(;rt&63;++rt)Ae.write_shift(1,0)}if(En)Ae.l=Ae.length;else for(;Ae.l<Ae.length;)Ae.write_shift(1,0);return Ae}function P(de,Se){var we=de.FullPaths.map(function(rt){return rt.toUpperCase()}),_e=we.map(function(rt){var it=rt.split("/");return it[it.length-(rt.slice(-1)=="/"?2:1)]}),Ae=!1;Se.charCodeAt(0)===47?(Ae=!0,Se=we[0].slice(0,-1)+Se):Ae=Se.indexOf("/")!==-1;var ke=Se.toUpperCase(),nt=Ae===!0?we.indexOf(ke):_e.indexOf(ke);if(nt!==-1)return de.FileIndex[nt];var vt=!ke.match(A2);for(ke=ke.replace(sl,""),vt&&(ke=ke.replace(A2,"!")),nt=0;nt<we.length;++nt)if((vt?we[nt].replace(A2,"!"):we[nt]).replace(sl,"")==ke||(vt?_e[nt].replace(A2,"!"):_e[nt]).replace(sl,"")==ke)return de.FileIndex[nt];return null}var O=64,j=-2,G="d0cf11e0a1b11ae1",Y=[208,207,17,224,161,177,26,225],re="00000000000000000000000000000000",q={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:j,FREESECT:-1,HEADER_SIGNATURE:G,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:re,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function K(de,Se,we){u();var _e=B(de,we);l.writeFileSync(Se,_e)}function z(de){for(var Se=new Array(de.length),we=0;we<de.length;++we)Se[we]=String.fromCharCode(de[we]);return Se.join("")}function te(de,Se){var we=B(de,Se);switch(Se&&Se.type||"buffer"){case"file":return u(),l.writeFileSync(Se.filename,we),we;case"binary":return typeof we=="string"?we:z(we);case"base64":return ow(typeof we=="string"?we:z(we));case"buffer":if(En)return Buffer.isBuffer(we)?we:Rh(we);case"array":return typeof we=="string"?lc(we):we}return we}var Q;function R(de){try{var Se=de.InflateRaw,we=new Se;if(we._processChunk(new Uint8Array([3,0]),we._finishFlushFlag),we.bytesRead)Q=de;else throw new Error("zlib does not expose bytesRead")}catch(_e){console.error("cannot use native zlib: "+(_e.message||_e))}}function H(de,Se){if(!Q)return un(de,Se);var we=Q.InflateRaw,_e=new we,Ae=_e._processChunk(de.slice(de.l),_e._finishFlushFlag);return de.l+=_e.bytesRead,Ae}function X(de){return Q?Q.deflateRawSync(de):At(de)}var Z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ie=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],le=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function pe(de){var Se=(de<<1|de<<11)&139536|(de<<5|de<<15)&558144;return(Se>>16|Se>>8|Se)&255}for(var J=typeof Uint8Array<"u",me=J?new Uint8Array(256):[],ve=0;ve<256;++ve)me[ve]=pe(ve);function ae(de,Se){var we=me[de&255];return Se<=8?we>>>8-Se:(we=we<<8|me[de>>8&255],Se<=16?we>>>16-Se:(we=we<<8|me[de>>16&255],we>>>24-Se))}function Ue(de,Se){var we=Se&7,_e=Se>>>3;return(de[_e]|(we<=6?0:de[_e+1]<<8))>>>we&3}function He(de,Se){var we=Se&7,_e=Se>>>3;return(de[_e]|(we<=5?0:de[_e+1]<<8))>>>we&7}function Ie(de,Se){var we=Se&7,_e=Se>>>3;return(de[_e]|(we<=4?0:de[_e+1]<<8))>>>we&15}function he(de,Se){var we=Se&7,_e=Se>>>3;return(de[_e]|(we<=3?0:de[_e+1]<<8))>>>we&31}function Ze(de,Se){var we=Se&7,_e=Se>>>3;return(de[_e]|(we<=1?0:de[_e+1]<<8))>>>we&127}function pt(de,Se,we){var _e=Se&7,Ae=Se>>>3,ke=(1<<we)-1,nt=de[Ae]>>>_e;return we<8-_e||(nt|=de[Ae+1]<<8-_e,we<16-_e)||(nt|=de[Ae+2]<<16-_e,we<24-_e)||(nt|=de[Ae+3]<<24-_e),nt&ke}function ht(de,Se,we){var _e=Se&7,Ae=Se>>>3;return _e<=5?de[Ae]|=(we&7)<<_e:(de[Ae]|=we<<_e&255,de[Ae+1]=(we&7)>>8-_e),Se+3}function Pt(de,Se,we){var _e=Se&7,Ae=Se>>>3;return we=(we&1)<<_e,de[Ae]|=we,Se+1}function st(de,Se,we){var _e=Se&7,Ae=Se>>>3;return we<<=_e,de[Ae]|=we&255,we>>>=8,de[Ae+1]=we,Se+8}function xe(de,Se,we){var _e=Se&7,Ae=Se>>>3;return we<<=_e,de[Ae]|=we&255,we>>>=8,de[Ae+1]=we&255,de[Ae+2]=we>>>8,Se+16}function Ee(de,Se){var we=de.length,_e=2*we>Se?2*we:Se+5,Ae=0;if(we>=Se)return de;if(En){var ke=Hz(_e);if(de.copy)de.copy(ke);else for(;Ae<de.length;++Ae)ke[Ae]=de[Ae];return ke}else if(J){var nt=new Uint8Array(_e);if(nt.set)nt.set(de);else for(;Ae<we;++Ae)nt[Ae]=de[Ae];return nt}return de.length=_e,de}function We(de){for(var Se=new Array(de),we=0;we<de;++we)Se[we]=0;return Se}function ft(de,Se,we){var _e=1,Ae=0,ke=0,nt=0,vt=0,rt=de.length,it=J?new Uint16Array(32):We(32);for(ke=0;ke<32;++ke)it[ke]=0;for(ke=rt;ke<we;++ke)de[ke]=0;rt=de.length;var ut=J?new Uint16Array(rt):We(rt);for(ke=0;ke<rt;++ke)it[Ae=de[ke]]++,_e<Ae&&(_e=Ae),ut[ke]=0;for(it[0]=0,ke=1;ke<=_e;++ke)it[ke+16]=vt=vt+it[ke-1]<<1;for(ke=0;ke<rt;++ke)vt=de[ke],vt!=0&&(ut[ke]=it[vt+16]++);var Rt=0;for(ke=0;ke<rt;++ke)if(Rt=de[ke],Rt!=0)for(vt=ae(ut[ke],_e)>>_e-Rt,nt=(1<<_e+4-Rt)-1;nt>=0;--nt)Se[vt|nt<<Rt]=Rt&15|ke<<4;return _e}var mt=J?new Uint16Array(512):We(512),De=J?new Uint16Array(32):We(32);if(!J){for(var Ve=0;Ve<512;++Ve)mt[Ve]=0;for(Ve=0;Ve<32;++Ve)De[Ve]=0}(function(){for(var de=[],Se=0;Se<32;Se++)de.push(5);ft(de,De,32);var we=[];for(Se=0;Se<=143;Se++)we.push(8);for(;Se<=255;Se++)we.push(9);for(;Se<=279;Se++)we.push(7);for(;Se<=287;Se++)we.push(8);ft(we,mt,288)})();var _t=function(){for(var Se=J?new Uint8Array(32768):[],we=0,_e=0;we<le.length-1;++we)for(;_e<le[we+1];++_e)Se[_e]=we;for(;_e<32768;++_e)Se[_e]=29;var Ae=J?new Uint8Array(259):[];for(we=0,_e=0;we<ie.length-1;++we)for(;_e<ie[we+1];++_e)Ae[_e]=we;function ke(vt,rt){for(var it=0;it<vt.length;){var ut=Math.min(65535,vt.length-it),Rt=it+ut==vt.length;for(rt.write_shift(1,+Rt),rt.write_shift(2,ut),rt.write_shift(2,~ut&65535);ut-- >0;)rt[rt.l++]=vt[it++]}return rt.l}function nt(vt,rt){for(var it=0,ut=0,Rt=J?new Uint16Array(32768):[];ut<vt.length;){var Gt=Math.min(65535,vt.length-ut);if(Gt<10){for(it=ht(rt,it,+(ut+Gt==vt.length)),it&7&&(it+=8-(it&7)),rt.l=it/8|0,rt.write_shift(2,Gt),rt.write_shift(2,~Gt&65535);Gt-- >0;)rt[rt.l++]=vt[ut++];it=rt.l*8;continue}it=ht(rt,it,+(ut+Gt==vt.length)+2);for(var or=0;Gt-- >0;){var zt=vt[ut];or=(or<<5^zt)&32767;var $t=-1,Xr=0;if(($t=Rt[or])&&($t|=ut&-32768,$t>ut&&($t-=32768),$t<ut))for(;vt[$t+Xr]==vt[ut+Xr]&&Xr<250;)++Xr;if(Xr>2){zt=Ae[Xr],zt<=22?it=st(rt,it,me[zt+1]>>1)-1:(st(rt,it,3),it+=5,st(rt,it,me[zt-23]>>5),it+=3);var Ln=zt<8?0:zt-4>>2;Ln>0&&(xe(rt,it,Xr-ie[zt]),it+=Ln),zt=Se[ut-$t],it=st(rt,it,me[zt]>>3),it-=3;var ea=zt<4?0:zt-2>>1;ea>0&&(xe(rt,it,ut-$t-le[zt]),it+=ea);for(var $a=0;$a<Xr;++$a)Rt[or]=ut&32767,or=(or<<5^vt[ut])&32767,++ut;Gt-=Xr-1}else zt<=143?zt=zt+48:it=Pt(rt,it,1),it=st(rt,it,me[zt]),Rt[or]=ut&32767,++ut}it=st(rt,it,0)-1}return rt.l=(it+7)/8|0,rt.l}return function(rt,it){return rt.length<8?ke(rt,it):nt(rt,it)}}();function At(de){var Se=Nt(50+Math.floor(de.length*1.1)),we=_t(de,Se);return Se.slice(0,we)}var ct=J?new Uint16Array(32768):We(32768),br=J?new Uint16Array(32768):We(32768),er=J?new Uint16Array(128):We(128),en=1,mn=1;function An(de,Se){var we=he(de,Se)+257;Se+=5;var _e=he(de,Se)+1;Se+=5;var Ae=Ie(de,Se)+4;Se+=4;for(var ke=0,nt=J?new Uint8Array(19):We(19),vt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],rt=1,it=J?new Uint8Array(8):We(8),ut=J?new Uint8Array(8):We(8),Rt=nt.length,Gt=0;Gt<Ae;++Gt)nt[Z[Gt]]=ke=He(de,Se),rt<ke&&(rt=ke),it[ke]++,Se+=3;var or=0;for(it[0]=0,Gt=1;Gt<=rt;++Gt)ut[Gt]=or=or+it[Gt-1]<<1;for(Gt=0;Gt<Rt;++Gt)(or=nt[Gt])!=0&&(vt[Gt]=ut[or]++);var zt=0;for(Gt=0;Gt<Rt;++Gt)if(zt=nt[Gt],zt!=0){or=me[vt[Gt]]>>8-zt;for(var $t=(1<<7-zt)-1;$t>=0;--$t)er[or|$t<<zt]=zt&7|Gt<<3}var Xr=[];for(rt=1;Xr.length<we+_e;)switch(or=er[Ze(de,Se)],Se+=or&7,or>>>=3){case 16:for(ke=3+Ue(de,Se),Se+=2,or=Xr[Xr.length-1];ke-- >0;)Xr.push(or);break;case 17:for(ke=3+He(de,Se),Se+=3;ke-- >0;)Xr.push(0);break;case 18:for(ke=11+Ze(de,Se),Se+=7;ke-- >0;)Xr.push(0);break;default:Xr.push(or),rt<or&&(rt=or);break}var Ln=Xr.slice(0,we),ea=Xr.slice(we);for(Gt=we;Gt<286;++Gt)Ln[Gt]=0;for(Gt=_e;Gt<30;++Gt)ea[Gt]=0;return en=ft(Ln,ct,286),mn=ft(ea,br,30),Se}function mi(de,Se){if(de[0]==3&&!(de[1]&3))return[m0(Se),2];for(var we=0,_e=0,Ae=Hz(Se||1<<18),ke=0,nt=Ae.length>>>0,vt=0,rt=0;(_e&1)==0;){if(_e=He(de,we),we+=3,_e>>>1)_e>>1==1?(vt=9,rt=5):(we=An(de,we),vt=en,rt=mn);else{we&7&&(we+=8-(we&7));var it=de[we>>>3]|de[(we>>>3)+1]<<8;if(we+=32,it>0)for(!Se&&nt<ke+it&&(Ae=Ee(Ae,ke+it),nt=Ae.length);it-- >0;)Ae[ke++]=de[we>>>3],we+=8;continue}for(;;){!Se&&nt<ke+32767&&(Ae=Ee(Ae,ke+32767),nt=Ae.length);var ut=pt(de,we,vt),Rt=_e>>>1==1?mt[ut]:ct[ut];if(we+=Rt&15,Rt>>>=4,(Rt>>>8&255)===0)Ae[ke++]=Rt;else{if(Rt==256)break;Rt-=257;var Gt=Rt<8?0:Rt-4>>2;Gt>5&&(Gt=0);var or=ke+ie[Rt];Gt>0&&(or+=pt(de,we,Gt),we+=Gt),ut=pt(de,we,rt),Rt=_e>>>1==1?De[ut]:br[ut],we+=Rt&15,Rt>>>=4;var zt=Rt<4?0:Rt-2>>1,$t=le[Rt];for(zt>0&&($t+=pt(de,we,zt),we+=zt),!Se&&nt<or&&(Ae=Ee(Ae,or+100),nt=Ae.length);ke<or;)Ae[ke]=Ae[ke-$t],++ke}}}return Se?[Ae,we+7>>>3]:[Ae.slice(0,ke),we+7>>>3]}function un(de,Se){var we=de.slice(de.l||0),_e=mi(we,Se);return de.l+=_e[1],_e[0]}function yt(de,Se){if(de)typeof console<"u"&&console.error(Se);else throw new Error(Se)}function Tt(de,Se){var we=de;es(we,0);var _e=[],Ae=[],ke={FileIndex:_e,FullPaths:Ae};T(ke,{root:Se.root});for(var nt=we.length-4;(we[nt]!=80||we[nt+1]!=75||we[nt+2]!=5||we[nt+3]!=6)&&nt>=0;)--nt;we.l=nt+4,we.l+=4;var vt=we.read_shift(2);we.l+=6;var rt=we.read_shift(4);for(we.l=rt,nt=0;nt<vt;++nt){we.l+=20;var it=we.read_shift(4),ut=we.read_shift(4),Rt=we.read_shift(2),Gt=we.read_shift(2),or=we.read_shift(2);we.l+=8;var zt=we.read_shift(4),$t=s(we.slice(we.l+Rt,we.l+Rt+Gt));we.l+=Rt+Gt+or;var Xr=we.l;we.l=zt+4,Sr(we,it,ut,ke,$t),we.l=Xr}return ke}function Sr(de,Se,we,_e,Ae){de.l+=2;var ke=de.read_shift(2),nt=de.read_shift(2),vt=o(de);if(ke&8257)throw new Error("Unsupported ZIP encryption");for(var rt=de.read_shift(4),it=de.read_shift(4),ut=de.read_shift(4),Rt=de.read_shift(2),Gt=de.read_shift(2),or="",zt=0;zt<Rt;++zt)or+=String.fromCharCode(de[de.l++]);if(Gt){var $t=s(de.slice(de.l,de.l+Gt));($t[21589]||{}).mt&&(vt=$t[21589].mt),((Ae||{})[21589]||{}).mt&&(vt=Ae[21589].mt)}de.l+=Gt;var Xr=de.slice(de.l,de.l+it);switch(nt){case 8:Xr=H(de,ut);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+nt)}var Ln=!1;ke&8&&(rt=de.read_shift(4),rt==134695760&&(rt=de.read_shift(4),Ln=!0),it=de.read_shift(4),ut=de.read_shift(4)),it!=Se&&yt(Ln,"Bad compressed size: "+Se+" != "+it),ut!=we&&yt(Ln,"Bad uncompressed size: "+we+" != "+ut),kn(_e,or,Xr,{unsafe:!0,mt:vt})}function Fr(de,Se){var we=Se||{},_e=[],Ae=[],ke=Nt(1),nt=we.compression?8:0,vt=0,rt=0,it=0,ut=0,Rt=0,Gt=de.FullPaths[0],or=Gt,zt=de.FileIndex[0],$t=[],Xr=0;for(rt=1;rt<de.FullPaths.length;++rt)if(or=de.FullPaths[rt].slice(Gt.length),zt=de.FileIndex[rt],!(!zt.size||!zt.content||or=="Sh33tJ5")){var Ln=ut,ea=Nt(or.length);for(it=0;it<or.length;++it)ea.write_shift(1,or.charCodeAt(it)&127);ea=ea.slice(0,ea.l),$t[Rt]=m7e.buf(zt.content,0);var $a=zt.content;nt==8&&($a=X($a)),ke=Nt(30),ke.write_shift(4,67324752),ke.write_shift(2,20),ke.write_shift(2,vt),ke.write_shift(2,nt),zt.mt?i(ke,zt.mt):ke.write_shift(4,0),ke.write_shift(-4,$t[Rt]),ke.write_shift(4,$a.length),ke.write_shift(4,zt.content.length),ke.write_shift(2,ea.length),ke.write_shift(2,0),ut+=ke.length,_e.push(ke),ut+=ea.length,_e.push(ea),ut+=$a.length,_e.push($a),ke=Nt(46),ke.write_shift(4,33639248),ke.write_shift(2,0),ke.write_shift(2,20),ke.write_shift(2,vt),ke.write_shift(2,nt),ke.write_shift(4,0),ke.write_shift(-4,$t[Rt]),ke.write_shift(4,$a.length),ke.write_shift(4,zt.content.length),ke.write_shift(2,ea.length),ke.write_shift(2,0),ke.write_shift(2,0),ke.write_shift(2,0),ke.write_shift(2,0),ke.write_shift(4,0),ke.write_shift(4,Ln),Xr+=ke.l,Ae.push(ke),Xr+=ea.length,Ae.push(ea),++Rt}return ke=Nt(22),ke.write_shift(4,101010256),ke.write_shift(2,0),ke.write_shift(2,0),ke.write_shift(2,Rt),ke.write_shift(2,Rt),ke.write_shift(4,Xr),ke.write_shift(4,ut),ke.write_shift(2,0),jo([jo(_e),jo(Ae),ke])}var Jt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Re(de,Se){if(de.ctype)return de.ctype;var we=de.name||"",_e=we.match(/\.([^\.]+)$/);return _e&&Jt[_e[1]]||Se&&(_e=(we=Se).match(/[\.\\]([^\.\\])+$/),_e&&Jt[_e[1]])?Jt[_e[1]]:"application/octet-stream"}function xt(de){for(var Se=ow(de),we=[],_e=0;_e<Se.length;_e+=76)we.push(Se.slice(_e,_e+76));return we.join(`\r
`)+`\r
`}function mr(de){var Se=de.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(it){var ut=it.charCodeAt(0).toString(16).toUpperCase();return"="+(ut.length==1?"0"+ut:ut)});Se=Se.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Se.charAt(0)==`
`&&(Se="=0D"+Se.slice(1)),Se=Se.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var we=[],_e=Se.split(`\r
`),Ae=0;Ae<_e.length;++Ae){var ke=_e[Ae];if(ke.length==0){we.push("");continue}for(var nt=0;nt<ke.length;){var vt=76,rt=ke.slice(nt,nt+vt);rt.charAt(vt-1)=="="?vt--:rt.charAt(vt-2)=="="?vt-=2:rt.charAt(vt-3)=="="&&(vt-=3),rt=ke.slice(nt,nt+vt),nt+=vt,nt<ke.length&&(rt+="="),we.push(rt)}}return we.join(`\r
`)}function cr(de){for(var Se=[],we=0;we<de.length;++we){for(var _e=de[we];we<=de.length&&_e.charAt(_e.length-1)=="=";)_e=_e.slice(0,_e.length-1)+de[++we];Se.push(_e)}for(var Ae=0;Ae<Se.length;++Ae)Se[Ae]=Se[Ae].replace(/[=][0-9A-Fa-f]{2}/g,function(ke){return String.fromCharCode(parseInt(ke.slice(1),16))});return lc(Se.join(`\r
`))}function ln(de,Se,we){for(var _e="",Ae="",ke="",nt,vt=0;vt<10;++vt){var rt=Se[vt];if(!rt||rt.match(/^\s*$/))break;var it=rt.match(/^(.*?):\s*([^\s].*)$/);if(it)switch(it[1].toLowerCase()){case"content-location":_e=it[2].trim();break;case"content-type":ke=it[2].trim();break;case"content-transfer-encoding":Ae=it[2].trim();break}}switch(++vt,Ae.toLowerCase()){case"base64":nt=lc(yc(Se.slice(vt).join("")));break;case"quoted-printable":nt=cr(Se.slice(vt));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Ae)}var ut=kn(de,_e.slice(we.length),nt,{unsafe:!0});ke&&(ut.ctype=ke)}function ga(de,Se){if(z(de.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var we=Se&&Se.root||"",_e=(En&&Buffer.isBuffer(de)?de.toString("binary"):z(de)).split(`\r
`),Ae=0,ke="";for(Ae=0;Ae<_e.length;++Ae)if(ke=_e[Ae],!!/^Content-Location:/i.test(ke)&&(ke=ke.slice(ke.indexOf("file")),we||(we=ke.slice(0,ke.lastIndexOf("/")+1)),ke.slice(0,we.length)!=we))for(;we.length>0&&(we=we.slice(0,we.length-1),we=we.slice(0,we.lastIndexOf("/")+1),ke.slice(0,we.length)!=we););var nt=(_e[1]||"").match(/boundary="(.*?)"/);if(!nt)throw new Error("MAD cannot find boundary");var vt="--"+(nt[1]||""),rt=[],it=[],ut={FileIndex:rt,FullPaths:it};T(ut);var Rt,Gt=0;for(Ae=0;Ae<_e.length;++Ae){var or=_e[Ae];or!==vt&&or!==vt+"--"||(Gt++&&ln(ut,_e.slice(Rt,Ae),we),Rt=Ae)}return ut}function gr(de,Se){var we=Se||{},_e=we.boundary||"SheetJS";_e="------="+_e;for(var Ae=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+_e.slice(2)+'"',"","",""],ke=de.FullPaths[0],nt=ke,vt=de.FileIndex[0],rt=1;rt<de.FullPaths.length;++rt)if(nt=de.FullPaths[rt].slice(ke.length),vt=de.FileIndex[rt],!(!vt.size||!vt.content||nt=="Sh33tJ5")){nt=nt.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Xr){return"_x"+Xr.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Xr){return"_u"+Xr.charCodeAt(0).toString(16)+"_"});for(var it=vt.content,ut=En&&Buffer.isBuffer(it)?it.toString("binary"):z(it),Rt=0,Gt=Math.min(1024,ut.length),or=0,zt=0;zt<=Gt;++zt)(or=ut.charCodeAt(zt))>=32&&or<128&&++Rt;var $t=Rt>=Gt*4/5;Ae.push(_e),Ae.push("Content-Location: "+(we.root||"file:///C:/SheetJS/")+nt),Ae.push("Content-Transfer-Encoding: "+($t?"quoted-printable":"base64")),Ae.push("Content-Type: "+Re(vt,nt)),Ae.push(""),Ae.push($t?mr(ut):xt(ut))}return Ae.push(_e+`--\r
`),Ae.join(`\r
`)}function gi(de){var Se={};return T(Se,de),Se}function kn(de,Se,we,_e){var Ae=_e&&_e.unsafe;Ae||T(de);var ke=!Ae&&Mr.find(de,Se);if(!ke){var nt=de.FullPaths[0];Se.slice(0,nt.length)==nt?nt=Se:(nt.slice(-1)!="/"&&(nt+="/"),nt=(nt+Se).replace("//","/")),ke={name:a(Se),type:2},de.FileIndex.push(ke),de.FullPaths.push(nt),Ae||Mr.utils.cfb_gc(de)}return ke.content=we,ke.size=we?we.length:0,_e&&(_e.CLSID&&(ke.clsid=_e.CLSID),_e.mt&&(ke.mt=_e.mt),_e.ct&&(ke.ct=_e.ct)),ke}function Di(de,Se){T(de);var we=Mr.find(de,Se);if(we){for(var _e=0;_e<de.FileIndex.length;++_e)if(de.FileIndex[_e]==we)return de.FileIndex.splice(_e,1),de.FullPaths.splice(_e,1),!0}return!1}function la(de,Se,we){T(de);var _e=Mr.find(de,Se);if(_e){for(var Ae=0;Ae<de.FileIndex.length;++Ae)if(de.FileIndex[Ae]==_e)return de.FileIndex[Ae].name=a(we),de.FullPaths[Ae]=we,!0}return!1}function ca(de){L(de,!0)}return t.find=P,t.read=D,t.parse=d,t.write=te,t.writeFile=K,t.utils={cfb_new:gi,cfb_add:kn,cfb_del:Di,cfb_mov:la,cfb_gc:ca,ReadShift:U2,CheckField:kne,prep_blob:es,bconcat:jo,use_zlib:R,_deflateRaw:At,_inflateRaw:un,consts:q},t}();function g7e(e){return typeof e=="string"?B3(e):Array.isArray(e)?qRe(e):e}function Yw(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=B3(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?Kd(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var a=new Blob([g7e(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=i,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var s=File(e);return s.open("w"),s.encoding="binary",Array.isArray(t)&&(t=D0(t)),s.write(t),s.close(),t}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+e)}function v7e(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function Oi(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function Qz(e,t){for(var r=[],n=Oi(e),a=0;a!==n.length;++a)r[e[n[a]][t]]==null&&(r[e[n[a]][t]]=n[a]);return r}function q3(e){for(var t=[],r=Oi(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function z3(e){for(var t=[],r=Oi(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function y7e(e){for(var t=[],r=Oi(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var HS=new Date(1899,11,30,0,0,0);function wo(e,t){var r=e.getTime(),n=HS.getTime()+(e.getTimezoneOffset()-HS.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var ane=new Date,x7e=HS.getTime()+(ane.getTimezoneOffset()-HS.getTimezoneOffset())*6e4,eW=ane.getTimezoneOffset();function W3(e){var t=new Date;return t.setTime(e*24*60*60*1e3+x7e),t.getTimezoneOffset()!==eW&&t.setTime(t.getTime()+(t.getTimezoneOffset()-eW)*6e4),t}function w7e(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=a.length;++i)if(a[i]){switch(r=1,i>3&&(n=!0),a[i].slice(a[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[i].slice(a[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[i],10)}return t}var tW=new Date("2017-02-19T19:06:09.000Z"),ine=isNaN(tW.getFullYear())?new Date("2/19/17"):tW,_7e=ine.getFullYear()==2017;function Ja(e,t){var r=new Date(e);if(_7e)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(ine.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function sg(e,t){if(En&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return Kd(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return Kd(Vre(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return Kd(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return Kd(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function Qa(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Qa(e[r]));return t}function Ni(e,t){for(var r="";r.length<t;)r+=e;return r}function Gu(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var b7e=["january","february","march","april","may","june","july","august","september","october","november","december"];function H1(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&b7e.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var S7e=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var i=r.split(n),o=[i[0]],s=1;s<i.length;++s)o.push(a),o.push(i[s]);return o}}();function one(e){return e?e.content&&e.type?sg(e.content,!0):e.data?S2(e.data):e.asNodeBuffer&&En?S2(e.asNodeBuffer().toString("binary")):e.asBinary?S2(e.asBinary()):e._data&&e._data.getContent?S2(sg(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function sne(e){if(!e)return null;if(e.data)return zz(e.data);if(e.asNodeBuffer&&En)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?zz(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function A7e(e){return e&&e.name.slice(-4)===".bin"?sne(e):one(e)}function zc(e,t){for(var r=e.FullPaths||Oi(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),i=0;i<r.length;++i){var o=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==o||a==o)return e.files?e.files[r[i]]:e.FileIndex[i]}return null}function kR(e,t){var r=zc(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function no(e,t,r){if(!r)return A7e(kR(e,t));if(!t)return null;try{return no(e,t)}catch{return null}}function cc(e,t,r){if(!r)return one(kR(e,t));if(!t)return null;try{return cc(e,t)}catch{return null}}function k7e(e,t,r){return sne(kR(e,t))}function rW(e){for(var t=e.FullPaths||Oi(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function Sn(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return En?n=Rh(r):n=zRe(r),Mr.utils.cfb_add(e,t,n)}Mr.utils.cfb_add(e,t,r)}else e.file(t,r)}function NR(){return Mr.utils.cfb_new()}function lne(e,t){switch(t.type){case"base64":return Mr.read(e,{type:"base64"});case"binary":return Mr.read(e,{type:"binary"});case"buffer":case"array":return Mr.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function k2(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var Zi=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,N7e=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,nW=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,E7e=/<[^>]*>/g,Bs=Zi.match(nW)?nW:E7e,C7e=/<\w*:/,T7e=/<(\/?)\w+:/;function nn(e,t,r){for(var n={},a=0,i=0;a!==e.length&&!((i=e.charCodeAt(a))===32||i===10||i===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var o=e.match(N7e),s=0,l="",u=0,d="",f="",h=1;if(o)for(u=0;u!=o.length;++u){for(f=o[u],i=0;i!=f.length&&f.charCodeAt(i)!==61;++i);for(d=f.slice(0,i).trim();f.charCodeAt(i+1)==32;)++i;for(h=(a=f.charCodeAt(i+1))==34||a==39?1:0,l=f.slice(i+1+h,f.length-h),s=0;s!=d.length&&d.charCodeAt(s)!==58;++s);if(s===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),n[d]=l,n[d.toLowerCase()]=l;else{var m=(s===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(s+1);if(n[m]&&d.slice(s-3,s)=="ext")continue;n[m]=l,n[m.toLowerCase()]=l}}return n}function vf(e){return e.replace(T7e,"<$1")}var cne={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},ER=q3(cne),Vn=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",i=a.indexOf("<![CDATA[");if(i==-1)return a.replace(e,function(s,l){return cne[s]||String.fromCharCode(parseInt(l,s.indexOf("x")>-1?16:10))||s}).replace(t,function(s,l){return String.fromCharCode(parseInt(l,16))});var o=a.indexOf("]]>");return r(a.slice(0,i))+a.slice(i+9,o)+r(a.slice(o+3))}}(),CR=/[&<>'"]/g,P7e=/[\u0000-\u0008\u000b-\u001f]/g;function _a(e){var t=e+"";return t.replace(CR,function(r){return ER[r]}).replace(P7e,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function aW(e){return _a(e).replace(/ /g,"_x0020_")}var une=/[\u0000-\u001f]/g;function TR(e){var t=e+"";return t.replace(CR,function(r){return ER[r]}).replace(/\n/g,"<br/>").replace(une,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function O7e(e){var t=e+"";return t.replace(CR,function(r){return ER[r]}).replace(une,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}var iW=function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}}();function D7e(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function Ya(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function UT(e){for(var t="",r=0,n=0,a=0,i=0,o=0,s=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){o=(n&31)<<6,o|=a&63,t+=String.fromCharCode(o);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}o=e.charCodeAt(r++),s=((n&7)<<18|(a&63)<<12|(i&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(s>>>10&1023)),t+=String.fromCharCode(56320+(s&1023))}return t}function oW(e){var t=m0(2*e.length),r,n,a=1,i=0,o=0,s;for(n=0;n<e.length;n+=a)a=1,(s=e.charCodeAt(n))<128?r=s:s<224?(r=(s&31)*64+(e.charCodeAt(n+1)&63),a=2):s<240?(r=(s&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(s&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(t[i++]=o&255,t[i++]=o>>>8,o=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function sW(e){return Rh(e,"binary").toString("utf8")}var _b="foo bar baz",Aa=En&&(sW(_b)==UT(_b)&&sW||oW(_b)==UT(_b)&&oW)||UT,Kd=En?function(e){return Rh(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},lw=function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),dne=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),I7e=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),R7e=/<\/?(?:vt:)?variant>/g,M7e=/<(?:vt:)([^>]*)>([\s\S]*)</;function lW(e,t){var r=nn(e),n=e.match(I7e(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(i){var o=i.replace(R7e,"").match(M7e);o&&a.push({v:Aa(o[2]),t:o[1]})}),a}var fne=/(^\s|\s$|\n)/;function rs(e,t){return"<"+e+(t.match(fne)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function cw(e){return Oi(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Xt(e,t,r){return"<"+e+(r!=null?cw(r):"")+(t!=null?(t.match(fne)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function r8(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function F7e(e,t){switch(typeof e){case"string":var r=Xt("vt:lpwstr",_a(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return Xt((e|0)==e?"vt:i4":"vt:r8",_a(String(e)));case"boolean":return Xt("vt:bool",e?"true":"false")}if(e instanceof Date)return Xt("vt:filetime",r8(e));throw new Error("Unable to serialize "+e)}function PR(e){if(En&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return Aa(D0(bR(e)));throw new Error("Bad input format: expected Buffer or string")}var uw=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,go={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Eg=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],ac={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function L7e(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function j7e(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,o=n?-t:t;isFinite(o)?o==0?a=i=0:(a=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var s=0;s<=5;++s,i/=256)e[r+s]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var cW=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},uW=En?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Rh(t)})):cW(e)}:cW,dW=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(sh(e,a)));return n.join("").replace(sl,"")},OR=En?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(sl,""):dW(e,t,r)}:dW,fW=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},hne=En?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):fW(e,t,r)}:fW,hW=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(Iv(e,a)));return n.join("")},Xw=En?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):hW(t,r,n)}:hW,pne=function(e,t){var r=ic(e,t);return r>0?Xw(e,t+4,t+4+r-1):""},mne=pne,gne=function(e,t){var r=ic(e,t);return r>0?Xw(e,t+4,t+4+r-1):""},vne=gne,yne=function(e,t){var r=2*ic(e,t);return r>0?Xw(e,t+4,t+4+r-1):""},xne=yne,wne=function(t,r){var n=ic(t,r);return n>0?OR(t,r+4,r+4+n):""},_ne=wne,bne=function(e,t){var r=ic(e,t);return r>0?Xw(e,t+4,t+4+r):""},Sne=bne,Ane=function(e,t){return L7e(e,t)},VS=Ane,DR=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};En&&(mne=function(t,r){if(!Buffer.isBuffer(t))return pne(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},vne=function(t,r){if(!Buffer.isBuffer(t))return gne(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},xne=function(t,r){if(!Buffer.isBuffer(t))return yne(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},_ne=function(t,r){if(!Buffer.isBuffer(t))return wne(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},Sne=function(t,r){if(!Buffer.isBuffer(t))return bne(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},VS=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):Ane(t,r)},DR=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Iv=function(e,t){return e[t]},sh=function(e,t){return e[t+1]*256+e[t]},$7e=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},ic=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},km=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},B7e=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function U2(e,t){var r="",n,a,i=[],o,s,l,u;switch(t){case"dbcs":if(u=this.l,En&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(l=0;l<e;++l)r+=String.fromCharCode(sh(this,u)),u+=2;e*=2;break;case"utf8":r=Xw(this,this.l,this.l+e);break;case"utf16le":e*=2,r=OR(this,this.l,this.l+e);break;case"wstr":return U2.call(this,e,"dbcs");case"lpstr-ansi":r=mne(this,this.l),e=4+ic(this,this.l);break;case"lpstr-cp":r=vne(this,this.l),e=4+ic(this,this.l);break;case"lpwstr":r=xne(this,this.l),e=4+2*ic(this,this.l);break;case"lpp4":e=4+ic(this,this.l),r=_ne(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+ic(this,this.l),r=Sne(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=Iv(this,this.l+e++))!==0;)i.push(wb(o));r=i.join("");break;case"_wstr":for(e=0,r="";(o=sh(this,this.l+e))!==0;)i.push(wb(o)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",u=this.l,l=0;l<e;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return o=Iv(this,u),this.l=u+1,s=U2.call(this,e-l,o?"dbcs-cont":"sbcs-cont"),i.join("")+s;i.push(wb(sh(this,u))),u+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,l=0;l!=e;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return o=Iv(this,u),this.l=u+1,s=U2.call(this,e-l,o?"dbcs-cont":"sbcs-cont"),i.join("")+s;i.push(wb(Iv(this,u))),u+=1}r=i.join("");break;default:switch(e){case 1:return n=Iv(this,this.l),this.l++,n;case 2:return n=(t==="i"?$7e:sh)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(n=(e>0?km:B7e)(this,this.l),this.l+=4,n):(a=ic(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=VS(this,this.l):a=VS([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=hne(this,this.l,e);break}}return this.l+=e,r}var U7e=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},q7e=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},z7e=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function W7e(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)z7e(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var o=t.charCodeAt(a);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,U7e(this,t,this.l);break;case 8:if(n=8,r==="f"){j7e(this,t,this.l);break}case 16:break;case-4:n=4,q7e(this,t,this.l);break}return this.l+=n,this}function kne(e,t){var r=hne(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function es(e,t){e.l=t,e.read_shift=U2,e.chk=kne,e.write_shift=W7e}function $s(e,t){e.l+=t}function Nt(e){var t=m0(e);return es(t,0),t}function Mh(e,t,r){if(e){var n,a,i;es(e,e.l||0);for(var o=e.length,s=0,l=0;e.l<o;){s=e.read_shift(1),s&128&&(s=(s&127)+((e.read_shift(1)&127)<<7));var u=gw[s]||gw[65535];for(n=e.read_shift(1),i=n&127,a=1;a<4&&n&128;++a)i+=((n=e.read_shift(1))&127)<<7*a;l=e.l+i;var d=u.f&&u.f(e,i,r);if(e.l=l,t(d,u,s))return}}}function Rl(){var e=[],t=En?256:2048,r=function(u){var d=Nt(u);return es(d,0),d},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(u){return n&&u<n.length-n.l?n:(a(),n=r(Math.max(u+1,t)))},o=function(){return a(),jo(e)},s=function(u){a(),n=u,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:s,end:o,_bufs:e}}function Dt(e,t,r,n){var a=+t,i;if(!isNaN(a)){n||(n=gw[a].p||(r||[]).length||0),i=1+(a>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var o=e.next(i);a<=127?o.write_shift(1,a):(o.write_shift(1,(a&127)+128),o.write_shift(1,a>>7));for(var s=0;s!=4;++s)if(n>=128)o.write_shift(1,(n&127)+128),n>>=7;else{o.write_shift(1,n);break}n>0&&DR(r)&&e.push(r)}}function q2(e,t,r){var n=Qa(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function pW(e,t,r){var n=Qa(e);return n.s=q2(n.s,t.s,r),n.e=q2(n.e,t.s,r),n}function z2(e,t){if(e.cRel&&e.c<0)for(e=Qa(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Qa(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Jr(e);return!e.cRel&&e.cRel!=null&&(r=G7e(r)),!e.rRel&&e.rRel!=null&&(r=H7e(r)),r}function qT(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+hi(e.s.c)+":"+(e.e.cRel?"":"$")+hi(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Yi(e.s.r)+":"+(e.e.rRel?"":"$")+Yi(e.e.r):z2(e.s,t.biff)+":"+z2(e.e,t.biff)}function IR(e){return parseInt(V7e(e),10)-1}function Yi(e){return""+(e+1)}function H7e(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function V7e(e){return e.replace(/\$(\d+)$/,"$1")}function RR(e){for(var t=K7e(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function hi(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function G7e(e){return e.replace(/^([A-Z])/,"$$$1")}function K7e(e){return e.replace(/^\$([A-Z])/,"$1")}function Y7e(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function pi(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function Jr(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Ml(e){var t=e.indexOf(":");return t==-1?{s:pi(e),e:pi(e)}:{s:pi(e.slice(0,t)),e:pi(e.slice(t+1))}}function vn(e,t){return typeof t>"u"||typeof t=="number"?vn(e.s,e.e):(typeof e!="string"&&(e=Jr(e)),typeof t!="string"&&(t=Jr(t)),e==t?e:e+":"+t)}function Gn(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function mW(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=eu(e.z,r?wo(t):t)}catch{}try{return e.w=eu((e.XF||{}).numFmtId||(r?14:0),r?wo(t):t)}catch{return""+t}}function Sh(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Fh[e.v]||e.v:t==null?mW(e,e.v):mW(e,t))}function I0(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function Nne(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,i=e||(a?[]:{}),o=0,s=0;if(i&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var l=typeof n.origin=="string"?pi(n.origin):n.origin;o=l.r,s=l.c}i["!ref"]||(i["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var d=Gn(i["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),o==-1&&(u.e.r=o=d.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var m={v:t[f][h]},x=o+f,g=s+h;if(u.s.r>x&&(u.s.r=x),u.s.c>g&&(u.s.c=g),u.e.r<x&&(u.e.r=x),u.e.c<g&&(u.e.c=g),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))m=t[f][h];else if(Array.isArray(m.v)&&(m.f=t[f][h][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(n.nullError)m.t="e",m.v=0;else if(n.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=n.dateNF||Gr[14],n.cellDates?(m.t="d",m.w=eu(m.z,wo(m.v))):(m.t="n",m.v=wo(m.v),m.w=eu(m.z,m.v))):m.t="s";if(a)i[x]||(i[x]=[]),i[x][g]&&i[x][g].z&&(m.z=i[x][g].z),i[x][g]=m;else{var y=Jr({c:g,r:x});i[y]&&i[y].z&&(m.z=i[y].z),i[y]=m}}}return u.s.c<1e7&&(i["!ref"]=vn(u)),i}function yy(e,t){return Nne(null,e,t)}function X7e(e){return e.read_shift(4,"i")}function Ku(e,t){return t||(t=Nt(4)),t.write_shift(4,e),t}function Rs(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function $o(e,t){var r=!1;return t==null&&(r=!0,t=Nt(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function Z7e(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function J7e(e,t){return t||(t=Nt(4)),t.write_shift(2,0),t.write_shift(2,0),t}function MR(e,t){var r=e.l,n=e.read_shift(1),a=Rs(e),i=[],o={t:a,h:a};if((n&1)!==0){for(var s=e.read_shift(4),l=0;l!=s;++l)i.push(Z7e(e));o.r=i}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}function Q7e(e,t){var r=!1;return t==null&&(r=!0,t=Nt(15+4*e.t.length)),t.write_shift(1,0),$o(e.t,t),r?t.slice(0,t.l):t}var eMe=MR;function tMe(e,t){var r=!1;return t==null&&(r=!0,t=Nt(23+4*e.t.length)),t.write_shift(1,1),$o(e.t,t),t.write_shift(4,1),J7e({},t),r?t.slice(0,t.l):t}function au(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Cg(e,t){return t==null&&(t=Nt(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function Tg(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function Pg(e,t){return t==null&&(t=Nt(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var rMe=Rs,Ene=$o;function FR(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function GS(e,t){var r=!1;return t==null&&(r=!0,t=Nt(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var nMe=Rs,n8=FR,LR=GS;function jR(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?VS([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):km(t,0)>>2;return r?a/100:a}function Cne(e,t){t==null&&(t=Nt(4));var r=0,n=0,a=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?n=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function Tne(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function aMe(e,t){return t||(t=Nt(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var Og=Tne,xy=aMe;function Os(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function lg(e,t){return(t||Nt(8)).write_shift(8,e,"f")}function iMe(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),o=e.read_shift(1),s=e.read_shift(1),l=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var u=Bm[a];u&&(t.rgb=fw(u));break;case 2:t.rgb=fw([o,s,l]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function KS(e,t){if(t||(t=Nt(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function oMe(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function sMe(e,t){t||(t=Nt(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}function Pne(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function lMe(e){return Pne(e,1)}function cMe(e){return Pne(e,2)}var $R=2,Nl=3,bb=11,gW=12,YS=19,Sb=64,uMe=65,dMe=71,fMe=4108,hMe=4126,Ro=80,One=81,pMe=[Ro,One],a8={1:{n:"CodePage",t:$R},2:{n:"Category",t:Ro},3:{n:"PresentationFormat",t:Ro},4:{n:"ByteCount",t:Nl},5:{n:"LineCount",t:Nl},6:{n:"ParagraphCount",t:Nl},7:{n:"SlideCount",t:Nl},8:{n:"NoteCount",t:Nl},9:{n:"HiddenCount",t:Nl},10:{n:"MultimediaClipCount",t:Nl},11:{n:"ScaleCrop",t:bb},12:{n:"HeadingPairs",t:fMe},13:{n:"TitlesOfParts",t:hMe},14:{n:"Manager",t:Ro},15:{n:"Company",t:Ro},16:{n:"LinksUpToDate",t:bb},17:{n:"CharacterCount",t:Nl},19:{n:"SharedDoc",t:bb},22:{n:"HyperlinksChanged",t:bb},23:{n:"AppVersion",t:Nl,p:"version"},24:{n:"DigSig",t:uMe},26:{n:"ContentType",t:Ro},27:{n:"ContentStatus",t:Ro},28:{n:"Language",t:Ro},29:{n:"Version",t:Ro},255:{},2147483648:{n:"Locale",t:YS},2147483651:{n:"Behavior",t:YS},1919054434:{}},i8={1:{n:"CodePage",t:$R},2:{n:"Title",t:Ro},3:{n:"Subject",t:Ro},4:{n:"Author",t:Ro},5:{n:"Keywords",t:Ro},6:{n:"Comments",t:Ro},7:{n:"Template",t:Ro},8:{n:"LastAuthor",t:Ro},9:{n:"RevNumber",t:Ro},10:{n:"EditTime",t:Sb},11:{n:"LastPrinted",t:Sb},12:{n:"CreatedDate",t:Sb},13:{n:"ModifiedDate",t:Sb},14:{n:"PageCount",t:Nl},15:{n:"WordCount",t:Nl},16:{n:"CharCount",t:Nl},17:{n:"Thumbnail",t:dMe},18:{n:"Application",t:Ro},19:{n:"DocSecurity",t:Nl},255:{},2147483648:{n:"Locale",t:YS},2147483651:{n:"Behavior",t:YS},1919054434:{}},vW={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},mMe=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function gMe(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var vMe=gMe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Bm=Qa(vMe),Fh={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Dne={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},o8={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Ab={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function BR(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function yMe(e){var t=BR();if(!e||!e.match)return t;var r={};if((e.match(Bs)||[]).forEach(function(n){var a=nn(n);switch(a[0].replace(C7e,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[o8[a.ContentType]]!==void 0&&t[o8[a.ContentType]].push(a.PartName);break}}),t.xmlns!==go.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}function Ine(e,t){var r=y7e(o8),n=[],a;n[n.length]=Zi,n[n.length]=Xt("Types",null,{xmlns:go.CT,"xmlns:xsd":go.xsd,"xmlns:xsi":go.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return Xt("Default",null,{Extension:l[0],ContentType:l[1]})}));var i=function(l){e[l]&&e[l].length>0&&(a=e[l][0],n[n.length]=Xt("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:Ab[l][t.bookType]||Ab[l].xlsx}))},o=function(l){(e[l]||[]).forEach(function(u){n[n.length]=Xt("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:Ab[l][t.bookType]||Ab[l].xlsx})})},s=function(l){(e[l]||[]).forEach(function(u){n[n.length]=Xt("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[l][0]})})};return i("workbooks"),o("sheets"),o("charts"),s("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(s),s("vba"),s("comments"),s("threadedcomments"),s("drawings"),o("metadata"),s("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var Tn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function dw(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function W2(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(Bs)||[]).forEach(function(a){var i=nn(a);if(i[0]==="<Relationship"){var o={};o.Type=i.Type,o.Target=i.Target,o.Id=i.Id,i.TargetMode&&(o.TargetMode=i.TargetMode);var s=i.TargetMode==="External"?i.Target:k2(i.Target,t);r[s]=o,n[i.Id]=o}}),r["!id"]=n,r}function t1(e){var t=[Zi,Xt("Relationships",null,{xmlns:go.RELS})];return Oi(e["!id"]).forEach(function(r){t[t.length]=Xt("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function wa(e,t,r,n,a,i){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=n,a.Target=r,[Tn.HLINK,Tn.XPATH,Tn.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}var xMe="application/vnd.oasis.opendocument.spreadsheet";function wMe(e,t){for(var r=PR(e),n,a;n=uw.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=nn(n[0],!1),a.path=="/"&&a.type!==xMe)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}function _Me(e){var t=[Zi];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function yW(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function bMe(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function SMe(e){var t=[Zi];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(yW(e[r][0],e[r][1])),t.push(bMe("",e[r][0]));return t.push(yW("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function Rne(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+US.version+"</meta:generator></office:meta></office:document-meta>"}var Zc=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],AMe=function(){for(var e=new Array(Zc.length),t=0;t<Zc.length;++t){var r=Zc[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function Mne(e){var t={};e=Aa(e);for(var r=0;r<Zc.length;++r){var n=Zc[r],a=e.match(AMe[r]);a!=null&&a.length>0&&(t[n[1]]=Vn(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=Ja(t[n[1]]))}return t}function zT(e,t,r,n,a){a[e]!=null||t==null||t===""||(a[e]=t,t=_a(t),n[n.length]=r?Xt(e,t,r):rs(e,t))}function Fne(e,t){var r=t||{},n=[Zi,Xt("cp:coreProperties",null,{"xmlns:cp":go.CORE_PROPS,"xmlns:dc":go.dc,"xmlns:dcterms":go.dcterms,"xmlns:dcmitype":go.dcmitype,"xmlns:xsi":go.xsi})],a={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&zT("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:r8(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),e.ModifiedDate!=null&&zT("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:r8(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var i=0;i!=Zc.length;++i){var o=Zc[i],s=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:e?e[o[1]]:null;s===!0?s="1":s===!1?s="0":typeof s=="number"&&(s=String(s)),s!=null&&zT(o[0],s,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var Um=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],Lne=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function jne(e,t,r,n){var a=[];if(typeof e=="string")a=lW(e,n);else for(var i=0;i<e.length;++i)a=a.concat(e[i].map(function(d){return{v:d}}));var o=typeof t=="string"?lW(t,n).map(function(d){return d.v}):t,s=0,l=0;if(o.length>0)for(var u=0;u!==a.length;u+=2){switch(l=+a[u+1].v,a[u].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=l,r.SheetNames=o.slice(s,s+l);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=l,r.DefinedNames=o.slice(s,s+l);break;case"Charts":case"Diagramme":r.Chartsheets=l,r.ChartNames=o.slice(s,s+l);break}s+=l}}function kMe(e,t,r){var n={};return t||(t={}),e=Aa(e),Um.forEach(function(a){var i=(e.match(lw(a[0]))||[])[1];switch(a[2]){case"string":i&&(t[a[1]]=Vn(i));break;case"bool":t[a[1]]=i==="true";break;case"raw":var o=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));o&&o.length>0&&(n[a[1]]=o[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&jne(n.HeadingPairs,n.TitlesOfParts,t,r),t}function $ne(e){var t=[],r=Xt;return e||(e={}),e.Application="SheetJS",t[t.length]=Zi,t[t.length]=Xt("Properties",null,{xmlns:go.EXT_PROPS,"xmlns:vt":go.vt}),Um.forEach(function(n){if(e[n[1]]!==void 0){var a;switch(n[2]){case"string":a=_a(String(e[n[1]]));break;case"bool":a=e[n[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(n[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+_a(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var NMe=/<[^>]+>[^<]*/g;function EMe(e,t){var r={},n="",a=e.match(NMe);if(a)for(var i=0;i!=a.length;++i){var o=a[i],s=nn(o);switch(s[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Vn(s.name);break;case"</property>":n=null;break;default:if(o.indexOf("<vt:")===0){var l=o.split(">"),u=l[0].slice(4),d=l[1];switch(u){case"lpstr":case"bstr":case"lpwstr":r[n]=Vn(d);break;case"bool":r[n]=Ya(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(d,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(d);break;case"filetime":case"date":r[n]=Ja(d);break;case"cy":case"error":r[n]=Vn(d);break;default:if(u.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",o,u,l)}}else if(o.slice(0,2)!=="</"){if(t.WTF)throw new Error(o)}}}return r}function Bne(e){var t=[Zi,Xt("Properties",null,{xmlns:go.CUST_PROPS,"xmlns:vt":go.vt})];if(!e)return t.join("");var r=1;return Oi(e).forEach(function(a){++r,t[t.length]=Xt("property",F7e(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:_a(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var s8={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},WT;function CMe(e,t,r){WT||(WT=q3(s8)),t=WT[t]||t,e[t]=r}function TMe(e,t){var r=[];return Oi(s8).map(function(n){for(var a=0;a<Zc.length;++a)if(Zc[a][1]==n)return Zc[a];for(a=0;a<Um.length;++a)if(Um[a][1]==n)return Um[a];throw n}).forEach(function(n){if(e[n[1]]!=null){var a=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(rs(s8[n[1]]||n[1],a))}}),Xt("DocumentProperties",r.join(""),{xmlns:ac.o})}function PMe(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return e&&Oi(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var o=0;o<Zc.length;++o)if(i==Zc[o][1])return;for(o=0;o<Um.length;++o)if(i==Um[o][1])return;for(o=0;o<r.length;++o)if(i==r[o])return;var s=e[i],l="string";typeof s=="number"?(l="float",s=String(s)):s===!0||s===!1?(l="boolean",s=s?"1":"0"):s=String(s),a.push(Xt(aW(i),s,{"dt:dt":l}))}}),t&&Oi(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var o=t[i],s="string";typeof o=="number"?(s="float",o=String(o)):o===!0||o===!1?(s="boolean",o=o?"1":"0"):o instanceof Date?(s="dateTime.tz",o=o.toISOString()):o=String(o),a.push(Xt(aW(i),o,{"dt:dt":s}))}}),"<"+n+' xmlns="'+ac.o+'">'+a.join("")+"</"+n+">"}function UR(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function OMe(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),a+=i);var o=Nt(8);return o.write_shift(4,n),o.write_shift(4,a),o}function Une(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function qne(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function zne(e,t,r){return t===31?qne(e):Une(e,t,r)}function l8(e,t,r){return zne(e,t,r===!1?0:4)}function DMe(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return zne(e,t,0)}function IMe(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(sl,""),e.l-a&2&&(e.l+=2)}return r}function RMe(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(sl,"");return r}function MMe(e){var t=e.l,r=XS(e,One);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=XS(e,Nl);return[r,n]}function FMe(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(MMe(e));return r}function xW(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var i=e.read_shift(4),o=e.read_shift(4);n[i]=e.read_shift(o,t===1200?"utf16le":"utf8").replace(sl,"").replace(A2,"!"),t===1200&&o%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function Wne(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function LMe(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function XS(e,t,r){var n=e.read_shift(2),a,i=r||{};if(e.l+=2,t!==gW&&n!==t&&pMe.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===gW?n:t){case 2:return a=e.read_shift(2,"i"),i.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return Une(e,n,4).replace(sl,"");case 31:return qne(e);case 64:return UR(e);case 65:return Wne(e);case 71:return LMe(e);case 80:return l8(e,n,!i.raw).replace(sl,"");case 81:return DMe(e,n).replace(sl,"");case 4108:return FMe(e);case 4126:case 4127:return n==4127?IMe(e):RMe(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function wW(e,t){var r=Nt(4),n=Nt(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=Nt(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=OMe(t);break;case 31:case 80:for(n=Nt(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return jo([r,n])}function _W(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),i=[],o=0,s=0,l=-1,u={};for(o=0;o!=a;++o){var d=e.read_shift(4),f=e.read_shift(4);i[o]=[d,f+r]}i.sort(function(b,S){return b[1]-S[1]});var h={};for(o=0;o!=a;++o){if(e.l!==i[o][1]){var m=!0;if(o>0&&t)switch(t[i[o-1][0]].t){case 2:e.l+2===i[o][1]&&(e.l+=2,m=!1);break;case 80:e.l<=i[o][1]&&(e.l=i[o][1],m=!1);break;case 4108:e.l<=i[o][1]&&(e.l=i[o][1],m=!1);break}if((!t||o==0)&&e.l<=i[o][1]&&(m=!1,e.l=i[o][1]),m)throw new Error("Read Error: Expected address "+i[o][1]+" at "+e.l+" :"+o)}if(t){var x=t[i[o][0]];if(h[x.n]=XS(e,x.t,{raw:!0}),x.p==="version"&&(h[x.n]=String(h[x.n]>>16)+"."+("0000"+String(h[x.n]&65535)).slice(-4)),x.n=="CodePage")switch(h[x.n]){case 0:h[x.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Uu(s=h[x.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[x.n])}}else if(i[o][0]===1){if(s=h.CodePage=XS(e,$R),Uu(s),l!==-1){var g=e.l;e.l=i[l][1],u=xW(e,s),e.l=g}}else if(i[o][0]===0){if(s===0){l=o,e.l=i[o+1][1];continue}u=xW(e,s)}else{var y=u[i[o][0]],_;switch(e[e.l]){case 65:e.l+=4,_=Wne(e);break;case 30:e.l+=4,_=l8(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,_=l8(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,_=e.read_shift(4,"i");break;case 19:e.l+=4,_=e.read_shift(4);break;case 5:e.l+=4,_=e.read_shift(8,"f");break;case 11:e.l+=4,_=$i(e,4);break;case 64:e.l+=4,_=Ja(UR(e));break;default:throw new Error("unparsed value: "+e[e.l])}h[y]=_}}return e.l=r+n,h}var Hne=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function jMe(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function bW(e,t,r){var n=Nt(8),a=[],i=[],o=8,s=0,l=Nt(8),u=Nt(8);if(l.write_shift(4,2),l.write_shift(4,1200),u.write_shift(4,1),i.push(l),a.push(u),o+=8+l.length,!t){u=Nt(8),u.write_shift(4,0),a.unshift(u);var d=[Nt(4)];for(d[0].write_shift(4,e.length),s=0;s<e.length;++s){var f=e[s][0];for(l=Nt(8+2*(f.length+1)+(f.length%2?0:2)),l.write_shift(4,s+2),l.write_shift(4,f.length+1),l.write_shift(0,f,"dbcs");l.l!=l.length;)l.write_shift(1,0);d.push(l)}l=jo(d),i.unshift(l),o+=8+l.length}for(s=0;s<e.length;++s)if(!(t&&!t[e[s][0]])&&!(Hne.indexOf(e[s][0])>-1||Lne.indexOf(e[s][0])>-1)&&e[s][1]!=null){var h=e[s][1],m=0;if(t){m=+t[e[s][0]];var x=r[m];if(x.p=="version"&&typeof h=="string"){var g=h.split(".");h=(+g[0]<<16)+(+g[1]||0)}l=wW(x.t,h)}else{var y=jMe(h);y==-1&&(y=31,h=String(h)),l=wW(y,h)}i.push(l),u=Nt(8),u.write_shift(4,t?m:2+s),a.push(u),o+=8+l.length}var _=8*(i.length+1);for(s=0;s<i.length;++s)a[s].write_shift(4,_),_+=i[s].length;return n.write_shift(4,o),n.write_shift(4,i.length),jo([n].concat(a).concat(i))}function SW(e,t,r){var n=e.content;if(!n)return{};es(n,0);var a,i,o,s,l=0;n.chk("feff","Byte Order: "),n.read_shift(2);var u=n.read_shift(4),d=n.read_shift(16);if(d!==Mr.utils.consts.HEADER_CLSID&&d!==r)throw new Error("Bad PropertySet CLSID "+d);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(i=n.read_shift(16),s=n.read_shift(4),a===1&&s!==n.l)throw new Error("Length mismatch: "+s+" !== "+n.l);a===2&&(o=n.read_shift(16),l=n.read_shift(4));var f=_W(n,t),h={SystemIdentifier:u};for(var m in f)h[m]=f[m];if(h.FMTID=i,a===1)return h;if(l-n.l==2&&(n.l+=2),n.l!==l)throw new Error("Length mismatch 2: "+n.l+" !== "+l);var x;try{x=_W(n,null)}catch{}for(m in x)h[m]=x[m];return h.FMTID=[i,o],h}function AW(e,t,r,n,a,i){var o=Nt(a?68:48),s=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,Mr.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,a?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,a?68:48);var l=bW(e,r,n);if(s.push(l),a){var u=bW(a,null,null);o.write_shift(16,i,"hex"),o.write_shift(4,68+l.length),s.push(u)}return jo(s)}function Op(e,t){return e.read_shift(t),null}function $Me(e,t){t||(t=Nt(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function BMe(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function $i(e,t){return e.read_shift(t)===1}function tl(e,t){return t||(t=Nt(2)),t.write_shift(2,+!!e),t}function ao(e){return e.read_shift(2,"u")}function Wc(e,t){return t||(t=Nt(2)),t.write_shift(2,e),t}function Vne(e,t){return BMe(e,t,ao)}function UMe(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function Gne(e,t,r){return r||(r=Nt(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function Zw(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var o=n?e.read_shift(n,a):"";return o}function qMe(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,i=1+(r&1),o=0,s,l={};a&&(o=e.read_shift(2)),n&&(s=e.read_shift(4));var u=i==2?"dbcs-cont":"sbcs-cont",d=t===0?"":e.read_shift(t,u);return a&&(e.l+=4*o),n&&(e.l+=s),l.t=d,a||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function zMe(e){var t=e.t||"",r=Nt(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=Nt(2*t.length);n.write_shift(2*t.length,t,"utf16le");var a=[r,n];return jo(a)}function cg(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function Jw(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):cg(e,n,r)}function Dg(e,t,r){if(r.biff>5)return Jw(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function Kne(e,t,r){return r||(r=Nt(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function WMe(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function HMe(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(sl,"");return n&&(e.l+=24),a}function VMe(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=e.read_shift(i>>1,"utf16le").replace(sl,"");return r+o}function GMe(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return HMe(e);case"0303000000000000c000000000000046":return VMe(e);default:throw new Error("Unsupported Moniker "+r)}}function kb(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(sl,""):"";return r}function kW(e,t){t||(t=Nt(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function KMe(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var i,o,s,l,u="",d,f;a&16&&(i=kb(e,r-e.l)),a&128&&(o=kb(e,r-e.l)),(a&257)===257&&(s=kb(e,r-e.l)),(a&257)===1&&(l=GMe(e,r-e.l)),a&8&&(u=kb(e,r-e.l)),a&32&&(d=e.read_shift(16)),a&64&&(f=UR(e)),e.l=r;var h=o||s||l||"";h&&u&&(h+="#"+u),h||(h="#"+u),a&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var m={Target:h};return d&&(m.guid=d),f&&(m.time=f),i&&(m.Tooltip=i),m}function YMe(e){var t=Nt(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),i=a>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)t.write_shift(4,o[r]);if(i==28)n=n.slice(1),kW(n,t);else if(i&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));var s=a>-1?n.slice(0,a):n;for(t.write_shift(4,2*(s.length+1)),r=0;r<s.length;++r)t.write_shift(2,s.charCodeAt(r));t.write_shift(2,0),i&8&&kW(a>-1?n.slice(a+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));for(var l=0;n.slice(l*3,l*3+3)=="../"||n.slice(l*3,l*3+3)=="..\\";)++l;for(t.write_shift(2,l),t.write_shift(4,n.length-3*l+1),r=0;r<n.length-3*l;++r)t.write_shift(1,n.charCodeAt(r+3*l)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function Yne(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function Xne(e,t){var r=Yne(e);return r[3]=0,r}function yf(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function ug(e,t,r,n){return n||(n=Nt(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function XMe(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function ZMe(e,t,r){return t===0?"":Dg(e,t,r)}function JMe(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),o=e.read_shift(n,"i");return[a,i,o]}function Zne(e){var t=e.read_shift(2),r=jR(e);return[t,r]}function QMe(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=Zw(e,t,r),i=e.read_shift(2);if(n-=e.l,i!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+i);return e.l+=i,a}function H3(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function Jne(e,t){return t||(t=Nt(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function Qne(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var eFe=Qne;function eae(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function tFe(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function rFe(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function vs(e){e.l+=2,e.l+=e.read_shift(2)}var nFe={0:vs,4:vs,5:vs,6:vs,7:rFe,8:vs,9:vs,10:vs,11:vs,12:vs,13:tFe,14:vs,15:vs,16:vs,17:vs,18:vs,19:vs,20:vs,21:eae};function aFe(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(nFe[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function Nb(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function qR(e,t,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=Nt(a);return i.write_shift(2,n),i.write_shift(2,t),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function iFe(e,t){return t===0||e.read_shift(2),1200}function oFe(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=Dg(e,0,r);return e.read_shift(t+n-e.l),a}function sFe(e,t){var r=!t||t.biff==8,n=Nt(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function lFe(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function cFe(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var o=Zw(e,0,r);return o.length===0&&(o="Sheet1"),{pos:n,hs:a,dt:i,name:o}}function uFe(e,t){var r=!t||t.biff>=8?2:1,n=Nt(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function dFe(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),i=[],o=0;o!=a&&e.l<r;++o)i.push(qMe(e));return i.Count=n,i.Unique=a,i}function fFe(e,t){var r=Nt(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],a=0;a<e.length;++a)n[a]=zMe(e[a]);var i=jo([r].concat(n));return i.parts=[r.length].concat(n.map(function(o){return o.length})),i}function hFe(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function pFe(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function mFe(e){var t=XMe(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function gFe(e){return e.read_shift(2),e.read_shift(4)}function NW(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var i={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[i,a]}function vFe(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),s=e.read_shift(2),l=e.read_shift(2),u=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:i,CurTab:o,FirstTab:s,Selected:l,TabRatio:u}}function yFe(){var e=Nt(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function xFe(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function wFe(e){var t=Nt(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function _Fe(){}function bFe(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=Zw(e,0,r),n}function SFe(e,t){var r=e.name||"Arial",n=t&&t.biff==5,a=n?15+r.length:16+2*r.length,i=Nt(a);return i.write_shift(2,e.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}function AFe(e){var t=yf(e);return t.isst=e.read_shift(4),t}function kFe(e,t,r,n){var a=Nt(10);return ug(e,t,n,a),a.write_shift(4,r),a}function NFe(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=yf(e);r.biff==2&&e.l++;var i=Jw(e,n-e.l,r);return a.val=i,a}function EFe(e,t,r,n,a){var i=!a||a.biff==8,o=Nt(8+ +i+(1+i)*r.length);return ug(e,t,n,o),o.write_shift(2,r.length),i&&o.write_shift(1,1),o.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),o}function CFe(e,t,r){var n=e.read_shift(2),a=Dg(e,0,r);return[n,a]}function TFe(e,t,r,n){var a=r&&r.biff==5;n||(n=Nt(a?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(a?1:2,t.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}var PFe=Dg;function EW(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,i=e.read_shift(a),o=e.read_shift(a),s=e.read_shift(2),l=e.read_shift(2);return e.l=n,{s:{r:i,c:s},e:{r:o,c:l}}}function OFe(e,t){var r=t.biff==8||!t.biff?4:2,n=Nt(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function DFe(e){var t=e.read_shift(2),r=e.read_shift(2),n=Zne(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function IFe(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(Zne(e));if(e.l!==r)throw new Error("MulRK read error");var o=e.read_shift(2);if(i.length!=o-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:o,rkrec:i}}function RFe(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var o=e.read_shift(2);if(i.length!=o-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:o,ixfe:i}}function MFe(e,t,r,n){var a={},i=e.read_shift(4),o=e.read_shift(4),s=e.read_shift(4),l=e.read_shift(2);return a.patternType=mMe[s>>26],n.cellStyles&&(a.alc=i&7,a.fWrap=i>>3&1,a.alcV=i>>4&7,a.fJustLast=i>>7&1,a.trot=i>>8&255,a.cIndent=i>>16&15,a.fShrinkToFit=i>>20&1,a.iReadOrder=i>>22&2,a.fAtrNum=i>>26&1,a.fAtrFnt=i>>27&1,a.fAtrAlc=i>>28&1,a.fAtrBdr=i>>29&1,a.fAtrPat=i>>30&1,a.fAtrProt=i>>31&1,a.dgLeft=o&15,a.dgRight=o>>4&15,a.dgTop=o>>8&15,a.dgBottom=o>>12&15,a.icvLeft=o>>16&127,a.icvRight=o>>23&127,a.grbitDiag=o>>30&3,a.icvTop=s&127,a.icvBottom=s>>7&127,a.icvDiag=s>>14&127,a.dgDiag=s>>21&15,a.icvFore=l&127,a.icvBack=l>>7&127,a.fsxButton=l>>14&1),a}function FFe(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=MFe(e,t,n.fStyle,r),n}function CW(e,t,r,n){var a=r&&r.biff==5;n||(n=Nt(a?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&a&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function LFe(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function jFe(e){var t=Nt(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function TW(e,t,r){var n=yf(e);(r.biff==2||t==9)&&++e.l;var a=UMe(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function $Fe(e,t,r,n,a,i){var o=Nt(8);return ug(e,t,n,o),Gne(r,i,o),o}function BFe(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=yf(e),a=Os(e);return n.val=a,n}function UFe(e,t,r,n){var a=Nt(14);return ug(e,t,n,a),lg(r,a),a}var PW=ZMe;function qFe(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(2);if(r.sbcch=i,i==1025||i==14849)return[i,a];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var o=cg(e,i),s=[];n>e.l;)s.push(Jw(e));return[i,a,o,s]}function OW(e,t,r){var n=e.read_shift(2),a,i={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=QMe(e,t-2,r)),i.body=a||e.read_shift(t-2),typeof a=="string"&&(i.Name=a),i}var zFe=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function DW(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(1),o=e.read_shift(1),s=e.read_shift(r&&r.biff==2?1:2),l=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),l=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var u=cg(e,o,r);a&32&&(u=zFe[u.charCodeAt(0)]);var d=n-e.l;r&&r.biff==2&&--d;var f=n==e.l||s===0||!(d>0)?[]:aBe(e,d,r,s);return{chKey:i,Name:u,itab:l,rgce:f}}function tae(e,t,r){if(r.biff<8)return WFe(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(JMe(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function WFe(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=Zw(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function HFe(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),i=cg(e,n,r),o=cg(e,a,r);return[i,o]}function VFe(e,t,r){var n=Qne(e);e.l++;var a=e.read_shift(1);return t-=8,[iBe(e,t,r),a,n]}function IW(e,t,r){var n=eFe(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,rBe(e,t,r)]}function GFe(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function KFe(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),s=Dg(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},s,o,i]}}function YFe(e,t,r){return KFe(e,t,r)}function XFe(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(H3(e));return r}function ZFe(e){var t=Nt(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)Jne(e[r],t);return t}function JFe(e,t,r){if(r&&r.biff<8)return eLe(e,t,r);var n=eae(e),a=aFe(e,t-22,n[1]);return{cmo:n,ft:a}}var QFe={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function eLe(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var o=[];return o.push((QFe[n]||$s)(e,t,r)),{cmo:[a,n,i],ft:o}}function tLe(e,t,r){var n=e.l,a="";try{e.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:o=WMe(e,6,r);var s=e.read_shift(2);e.read_shift(2),ao(e,2);var l=e.read_shift(2);e.l+=l;for(var u=1;u<e.lens.length-1;++u){if(e.l-n!=e.lens[u])throw new Error("TxO: bad continue record");var d=e[e.l],f=cg(e,e.lens[u+1]-e.lens[u]-1);if(a+=f,a.length>=(d?s:2*s))break}if(a.length!==s&&a.length!==s*2)throw new Error("cchText: "+s+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function rLe(e,t){var r=H3(e);e.l+=16;var n=KMe(e,t-24);return[r,n]}function nLe(e){var t=Nt(24),r=pi(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(n[a],16));return jo([t,YMe(e[1])])}function aLe(e,t){e.read_shift(2);var r=H3(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(sl,""),[r,n]}function iLe(e){var t=e[1].Tooltip,r=Nt(10+2*(t.length+1));r.write_shift(2,2048);var n=pi(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function oLe(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=vW[r]||r,r=e.read_shift(2),t[1]=vW[r]||r,t}function sLe(e){return e||(e=Nt(4)),e.write_shift(2,1),e.write_shift(2,1),e}function lLe(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(Xne(e));return r}function cLe(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(Xne(e));return r}function uLe(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function rae(e,t,r){if(!r.cellStyles)return $s(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),o=e.read_shift(n),s=e.read_shift(n),l=e.read_shift(2);n==2&&(e.l+=2);var u={s:a,e:i,w:o,ixfe:s,flags:l};return(r.biff>=5||!r.biff)&&(u.level=l>>8&7),u}function dLe(e,t){var r=Nt(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function fLe(e,t){var r={};return t<32||(e.l+=16,r.header=Os(e),r.footer=Os(e),e.l+=2),r}function hLe(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}function pLe(e){for(var t=Nt(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}var mLe=yf,gLe=Vne,vLe=Jw;function yLe(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function xLe(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=yf(e);++e.l;var a=Dg(e,t-7,r);return n.t="str",n.val=a,n}function wLe(e){var t=yf(e);++e.l;var r=Os(e);return t.t="n",t.val=r,t}function _Le(e,t,r){var n=Nt(15);return r_(n,e,t),n.write_shift(8,r,"f"),n}function bLe(e){var t=yf(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function SLe(e,t,r){var n=Nt(9);return r_(n,e,t),n.write_shift(2,r),n}function ALe(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function kLe(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function NLe(e,t,r){var n=e.l+t,a=yf(e),i=e.read_shift(2),o=cg(e,i,r);return e.l=n,a.t="str",a.val=o,a}var ELe=[2,3,48,49,131,139,140,245],c8=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=q3({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(s,l){var u=[],d=m0(1);switch(l.type){case"base64":d=lc(yc(s));break;case"binary":d=lc(s);break;case"buffer":case"array":d=s;break}es(d,0);var f=d.read_shift(1),h=!!(f&136),m=!1,x=!1;switch(f){case 2:break;case 3:break;case 48:m=!0,h=!0;break;case 49:m=!0,h=!0;break;case 131:break;case 139:break;case 140:x=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var g=0,y=521;f==2&&(g=d.read_shift(2)),d.l+=3,f!=2&&(g=d.read_shift(4)),g>1048576&&(g=1e6),f!=2&&(y=d.read_shift(2));var _=d.read_shift(2),b=l.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(b=e[d[d.l]]),d.l+=1,d.l+=2),x&&(d.l+=36);for(var S=[],C={},E=Math.min(d.length,f==2?521:y-10-(m?264:0)),D=x?32:11;d.l<E&&d[d.l]!=13;)switch(C={},C.name=t8.utils.decode(b,d.slice(d.l,d.l+D)).replace(/[\u0000\r\n].*$/g,""),d.l+=D,C.type=String.fromCharCode(d.read_shift(1)),f!=2&&!x&&(C.offset=d.read_shift(4)),C.len=d.read_shift(1),f==2&&(C.offset=d.read_shift(2)),C.dec=d.read_shift(1),C.name.length&&S.push(C),f!=2&&(d.l+=x?13:14),C.type){case"B":(!m||C.len!=8)&&l.WTF&&console.log("Skipping "+C.name+":"+C.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+C.name+":"+C.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+C.type)}if(d[d.l]!==13&&(d.l=y-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=y;var T=0,I=0;for(u[0]=[],I=0;I!=S.length;++I)u[0][I]=S[I].name;for(;g-- >0;){if(d[d.l]===42){d.l+=_;continue}for(++d.l,u[++T]=[],I=0,I=0;I!=S.length;++I){var L=d.slice(d.l,d.l+S[I].len);d.l+=S[I].len,es(L,0);var B=t8.utils.decode(b,L);switch(S[I].type){case"C":B.trim().length&&(u[T][I]=B.replace(/\s+$/,""));break;case"D":B.length===8?u[T][I]=new Date(+B.slice(0,4),+B.slice(4,6)-1,+B.slice(6,8)):u[T][I]=B;break;case"F":u[T][I]=parseFloat(B.trim());break;case"+":case"I":u[T][I]=x?L.read_shift(-4,"i")^2147483648:L.read_shift(4,"i");break;case"L":switch(B.trim().toUpperCase()){case"Y":case"T":u[T][I]=!0;break;case"N":case"F":u[T][I]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+B+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[T][I]="##MEMO##"+(x?parseInt(B.trim(),10):L.read_shift(4));break;case"N":B=B.replace(/\u0000/g,"").trim(),B&&B!="."&&(u[T][I]=+B||0);break;case"@":u[T][I]=new Date(L.read_shift(-8,"f")-621356832e5);break;case"T":u[T][I]=new Date((L.read_shift(4)-2440588)*864e5+L.read_shift(4));break;case"Y":u[T][I]=L.read_shift(4,"i")/1e4+L.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[T][I]=-L.read_shift(-8,"f");break;case"B":if(m&&S[I].len==8){u[T][I]=L.read_shift(8,"f");break}case"G":case"P":L.l+=S[I].len;break;case"0":if(S[I].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+S[I].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return l&&l.sheetRows&&(u=u.slice(0,l.sheetRows)),l.DBF=S,u}function n(s,l){var u=l||{};u.dateNF||(u.dateNF="yyyymmdd");var d=yy(r(s,u),u);return d["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,d}function a(s,l){try{return I0(n(s,l),l)}catch(u){if(l&&l.WTF)throw u}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(s,l){var u=l||{};if(+u.codepage>=0&&Uu(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=Rl(),f=QS(s,{header:1,raw:!0,cellDates:!0}),h=f[0],m=f.slice(1),x=s["!cols"]||[],g=0,y=0,_=0,b=1;for(g=0;g<h.length;++g){if(((x[g]||{}).DBF||{}).name){h[g]=x[g].DBF.name,++_;continue}if(h[g]!=null){if(++_,typeof h[g]=="number"&&(h[g]=h[g].toString(10)),typeof h[g]!="string")throw new Error("DBF Invalid column name "+h[g]+" |"+typeof h[g]+"|");if(h.indexOf(h[g])!==g){for(y=0;y<1024;++y)if(h.indexOf(h[g]+"_"+y)==-1){h[g]+="_"+y;break}}}}var S=Gn(s["!ref"]),C=[],E=[],D=[];for(g=0;g<=S.e.c-S.s.c;++g){var T="",I="",L=0,B=[];for(y=0;y<m.length;++y)m[y][g]!=null&&B.push(m[y][g]);if(B.length==0||h[g]==null){C[g]="?";continue}for(y=0;y<B.length;++y){switch(typeof B[y]){case"number":I="B";break;case"string":I="C";break;case"boolean":I="L";break;case"object":I=B[y]instanceof Date?"D":"C";break;default:I="C"}L=Math.max(L,String(B[y]).length),T=T&&T!=I?"C":I}L>250&&(L=250),I=((x[g]||{}).DBF||{}).type,I=="C"&&x[g].DBF.len>L&&(L=x[g].DBF.len),T=="B"&&I=="N"&&(T="N",D[g]=x[g].DBF.dec,L=x[g].DBF.len),E[g]=T=="C"||I=="N"?L:i[T]||0,b+=E[g],C[g]=T}var P=d.next(32);for(P.write_shift(4,318902576),P.write_shift(4,m.length),P.write_shift(2,296+32*_),P.write_shift(2,b),g=0;g<4;++g)P.write_shift(4,0);for(P.write_shift(4,0|(+t[Hre]||3)<<8),g=0,y=0;g<h.length;++g)if(h[g]!=null){var O=d.next(32),j=(h[g].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);O.write_shift(1,j,"sbcs"),O.write_shift(1,C[g]=="?"?"C":C[g],"sbcs"),O.write_shift(4,y),O.write_shift(1,E[g]||i[C[g]]||0),O.write_shift(1,D[g]||0),O.write_shift(1,2),O.write_shift(4,0),O.write_shift(1,0),O.write_shift(4,0),O.write_shift(4,0),y+=E[g]||i[C[g]]||0}var G=d.next(264);for(G.write_shift(4,13),g=0;g<65;++g)G.write_shift(4,0);for(g=0;g<m.length;++g){var Y=d.next(b);for(Y.write_shift(1,0),y=0;y<h.length;++y)if(h[y]!=null)switch(C[y]){case"L":Y.write_shift(1,m[g][y]==null?63:m[g][y]?84:70);break;case"B":Y.write_shift(8,m[g][y]||0,"f");break;case"N":var re="0";for(typeof m[g][y]=="number"&&(re=m[g][y].toFixed(D[y]||0)),_=0;_<E[y]-re.length;++_)Y.write_shift(1,32);Y.write_shift(1,re,"sbcs");break;case"D":m[g][y]?(Y.write_shift(4,("0000"+m[g][y].getFullYear()).slice(-4),"sbcs"),Y.write_shift(2,("00"+(m[g][y].getMonth()+1)).slice(-2),"sbcs"),Y.write_shift(2,("00"+m[g][y].getDate()).slice(-2),"sbcs")):Y.write_shift(8,"00000000","sbcs");break;case"C":var q=String(m[g][y]!=null?m[g][y]:"").slice(0,E[y]);for(Y.write_shift(1,q,"sbcs"),_=0;_<E[y]-q.length;++_)Y.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:a,to_sheet:n,from_sheet:o}}(),nae=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Oi(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,m){var x=e[m];return typeof x=="number"?Wz(x):x},n=function(h,m,x){var g=m.charCodeAt(0)-32<<4|x.charCodeAt(0)-48;return g==59?h:Wz(g)};e["|"]=254;function a(h,m){switch(m.type){case"base64":return i(yc(h),m);case"binary":return i(h,m);case"buffer":return i(En&&Buffer.isBuffer(h)?h.toString("binary"):D0(h),m);case"array":return i(sg(h),m)}throw new Error("Unrecognized type "+m.type)}function i(h,m){var x=h.split(/[\n\r]+/),g=-1,y=-1,_=0,b=0,S=[],C=[],E=null,D={},T=[],I=[],L=[],B=0,P;for(+m.codepage>=0&&Uu(+m.codepage);_!==x.length;++_){B=0;var O=x[_].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),j=O.replace(/;;/g,"\0").split(";").map(function(Z){return Z.replace(/\u0000/g,";")}),G=j[0],Y;if(O.length>0)switch(G){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":j[1].charAt(0)=="P"&&C.push(O.slice(3).replace(/;;/g,";"));break;case"C":var re=!1,q=!1,K=!1,z=!1,te=-1,Q=-1;for(b=1;b<j.length;++b)switch(j[b].charAt(0)){case"A":break;case"X":y=parseInt(j[b].slice(1))-1,q=!0;break;case"Y":for(g=parseInt(j[b].slice(1))-1,q||(y=0),P=S.length;P<=g;++P)S[P]=[];break;case"K":Y=j[b].slice(1),Y.charAt(0)==='"'?Y=Y.slice(1,Y.length-1):Y==="TRUE"?Y=!0:Y==="FALSE"?Y=!1:isNaN(Gu(Y))?isNaN(H1(Y).getDate())||(Y=Ja(Y)):(Y=Gu(Y),E!==null&&gy(E)&&(Y=W3(Y))),re=!0;break;case"E":z=!0;var R=r1(j[b].slice(1),{r:g,c:y});S[g][y]=[S[g][y],R];break;case"S":K=!0,S[g][y]=[S[g][y],"S5S"];break;case"G":break;case"R":te=parseInt(j[b].slice(1))-1;break;case"C":Q=parseInt(j[b].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+O)}if(re&&(S[g][y]&&S[g][y].length==2?S[g][y][0]=Y:S[g][y]=Y,E=null),K){if(z)throw new Error("SYLK shared formula cannot have own formula");var H=te>-1&&S[te][Q];if(!H||!H[1])throw new Error("SYLK shared formula cannot find base");S[g][y][1]=_ae(H[1],{r:g-te,c:y-Q})}break;case"F":var X=0;for(b=1;b<j.length;++b)switch(j[b].charAt(0)){case"X":y=parseInt(j[b].slice(1))-1,++X;break;case"Y":for(g=parseInt(j[b].slice(1))-1,P=S.length;P<=g;++P)S[P]=[];break;case"M":B=parseInt(j[b].slice(1))/20;break;case"F":break;case"G":break;case"P":E=C[parseInt(j[b].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(L=j[b].slice(1).split(" "),P=parseInt(L[0],10);P<=parseInt(L[1],10);++P)B=parseInt(L[2],10),I[P-1]=B===0?{hidden:!0}:{wch:B},g0(I[P-1]);break;case"C":y=parseInt(j[b].slice(1))-1,I[y]||(I[y]={});break;case"R":g=parseInt(j[b].slice(1))-1,T[g]||(T[g]={}),B>0?(T[g].hpt=B,T[g].hpx=G1(B)):B===0&&(T[g].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+O)}X<1&&(E=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+O)}}return T.length>0&&(D["!rows"]=T),I.length>0&&(D["!cols"]=I),m&&m.sheetRows&&(S=S.slice(0,m.sheetRows)),[S,D]}function o(h,m){var x=a(h,m),g=x[0],y=x[1],_=yy(g,m);return Oi(y).forEach(function(b){_[b]=y[b]}),_}function s(h,m){return I0(o(h,m),m)}function l(h,m,x,g){var y="C;Y"+(x+1)+";X"+(g+1)+";K";switch(h.t){case"n":y+=h.v||0,h.f&&!h.F&&(y+=";E"+KR(h.f,{r:x,c:g}));break;case"b":y+=h.v?"TRUE":"FALSE";break;case"e":y+=h.w||h.v;break;case"d":y+='"'+(h.w||h.v)+'"';break;case"s":y+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return y}function u(h,m){m.forEach(function(x,g){var y="F;W"+(g+1)+" "+(g+1)+" ";x.hidden?y+="0":(typeof x.width=="number"&&!x.wpx&&(x.wpx=hw(x.width)),typeof x.wpx=="number"&&!x.wch&&(x.wch=pw(x.wpx)),typeof x.wch=="number"&&(y+=Math.round(x.wch))),y.charAt(y.length-1)!=" "&&h.push(y)})}function d(h,m){m.forEach(function(x,g){var y="F;";x.hidden?y+="M0;":x.hpt?y+="M"+20*x.hpt+";":x.hpx&&(y+="M"+20*mw(x.hpx)+";"),y.length>2&&h.push(y+"R"+(g+1))})}function f(h,m){var x=["ID;PWXL;N;E"],g=[],y=Gn(h["!ref"]),_,b=Array.isArray(h),S=`\r
`;x.push("P;PGeneral"),x.push("F;P0;DG0G8;M255"),h["!cols"]&&u(x,h["!cols"]),h["!rows"]&&d(x,h["!rows"]),x.push("B;Y"+(y.e.r-y.s.r+1)+";X"+(y.e.c-y.s.c+1)+";D"+[y.s.c,y.s.r,y.e.c,y.e.r].join(" "));for(var C=y.s.r;C<=y.e.r;++C)for(var E=y.s.c;E<=y.e.c;++E){var D=Jr({r:C,c:E});_=b?(h[C]||[])[E]:h[D],!(!_||_.v==null&&(!_.f||_.F))&&g.push(l(_,h,C,E))}return x.join(S)+S+g.join(S)+S+"E"+S}return{to_workbook:s,to_sheet:o,from_sheet:f}}(),aae=function(){function e(i,o){switch(o.type){case"base64":return t(yc(i),o);case"binary":return t(i,o);case"buffer":return t(En&&Buffer.isBuffer(i)?i.toString("binary"):D0(i),o);case"array":return t(sg(i),o)}throw new Error("Unrecognized type "+o.type)}function t(i,o){for(var s=i.split(`
`),l=-1,u=-1,d=0,f=[];d!==s.length;++d){if(s[d].trim()==="BOT"){f[++l]=[],u=0;continue}if(!(l<0)){var h=s[d].trim().split(","),m=h[0],x=h[1];++d;for(var g=s[d]||"";(g.match(/["]/g)||[]).length&1&&d<s.length-1;)g+=`
`+s[++d];switch(g=g.trim(),+m){case-1:if(g==="BOT"){f[++l]=[],u=0;continue}else if(g!=="EOD")throw new Error("Unrecognized DIF special command "+g);break;case 0:g==="TRUE"?f[l][u]=!0:g==="FALSE"?f[l][u]=!1:isNaN(Gu(x))?isNaN(H1(x).getDate())?f[l][u]=x:f[l][u]=Ja(x):f[l][u]=Gu(x),++u;break;case 1:g=g.slice(1,g.length-1),g=g.replace(/""/g,'"'),g&&g.match(/^=".*"$/)&&(g=g.slice(2,-1)),f[l][u++]=g!==""?g:null;break}if(g==="EOD")break}}return o&&o.sheetRows&&(f=f.slice(0,o.sheetRows)),f}function r(i,o){return yy(e(i,o),o)}function n(i,o){return I0(r(i,o),o)}var a=function(){var i=function(l,u,d,f,h){l.push(u),l.push(d+","+f),l.push('"'+h.replace(/"/g,'""')+'"')},o=function(l,u,d,f){l.push(u+","+d),l.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var u=[],d=Gn(l["!ref"]),f,h=Array.isArray(l);i(u,"TABLE",0,1,"sheetjs"),i(u,"VECTORS",0,d.e.r-d.s.r+1,""),i(u,"TUPLES",0,d.e.c-d.s.c+1,""),i(u,"DATA",0,0,"");for(var m=d.s.r;m<=d.e.r;++m){o(u,-1,0,"BOT");for(var x=d.s.c;x<=d.e.c;++x){var g=Jr({r:m,c:x});if(f=h?(l[m]||[])[x]:l[g],!f){o(u,1,0,"");continue}switch(f.t){case"n":var y=f.w;!y&&f.v!=null&&(y=f.v),y==null?f.f&&!f.F?o(u,1,0,"="+f.f):o(u,1,0,""):o(u,0,y,"V");break;case"b":o(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":o(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=eu(f.z||Gr[14],wo(Ja(f.v)))),o(u,0,f.w,"V");break;default:o(u,1,0,"")}}}o(u,-1,0,"EOD");var _=`\r
`,b=u.join(_);return b}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),iae=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var m=f.split(`
`),x=-1,g=-1,y=0,_=[];y!==m.length;++y){var b=m[y].trim().split(":");if(b[0]==="cell"){var S=pi(b[1]);if(_.length<=S.r)for(x=_.length;x<=S.r;++x)_[x]||(_[x]=[]);switch(x=S.r,g=S.c,b[2]){case"t":_[x][g]=e(b[3]);break;case"v":_[x][g]=+b[3];break;case"vtf":var C=b[b.length-1];case"vtc":switch(b[3]){case"nl":_[x][g]=!!+b[4];break;default:_[x][g]=+b[4];break}b[2]=="vtf"&&(_[x][g]=[_[x][g],C])}}}return h&&h.sheetRows&&(_=_.slice(0,h.sheetRows)),_}function n(f,h){return yy(r(f,h),h)}function a(f,h){return I0(n(f,h),h)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,s=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var h=[],m=[],x,g="",y=Ml(f["!ref"]),_=Array.isArray(f),b=y.s.r;b<=y.e.r;++b)for(var S=y.s.c;S<=y.e.c;++S)if(g=Jr({r:b,c:S}),x=_?(f[b]||[])[S]:f[g],!(!x||x.v==null||x.t==="z")){switch(m=["cell",g,"t"],x.t){case"s":case"str":m.push(t(x.v));break;case"n":x.f?(m[2]="vtf",m[3]="n",m[4]=x.v,m[5]=t(x.f)):(m[2]="v",m[3]=x.v);break;case"b":m[2]="vt"+(x.f?"f":"c"),m[3]="nl",m[4]=x.v?"1":"0",m[5]=t(x.f||(x.v?"TRUE":"FALSE"));break;case"d":var C=wo(Ja(x.v));m[2]="vtc",m[3]="nd",m[4]=""+C,m[5]=x.w||eu(x.z||Gr[14],C);break;case"e":continue}h.push(m.join(":"))}return h.push("sheet:c:"+(y.e.c-y.s.c+1)+":r:"+(y.e.r-y.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function d(f){return[i,o,s,o,u(f),l].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:d}}(),V1=function(){function e(d,f,h,m,x){x.raw?f[h][m]=d:d===""||(d==="TRUE"?f[h][m]=!0:d==="FALSE"?f[h][m]=!1:isNaN(Gu(d))?isNaN(H1(d).getDate())?f[h][m]=d:f[h][m]=Ja(d):f[h][m]=Gu(d))}function t(d,f){var h=f||{},m=[];if(!d||d.length===0)return m;for(var x=d.split(/[\r\n]/),g=x.length-1;g>=0&&x[g].length===0;)--g;for(var y=10,_=0,b=0;b<=g;++b)_=x[b].indexOf(" "),_==-1?_=x[b].length:_++,y=Math.max(y,_);for(b=0;b<=g;++b){m[b]=[];var S=0;for(e(x[b].slice(0,y).trim(),m,b,S,h),S=1;S<=(x[b].length-y)/10+1;++S)e(x[b].slice(y+(S-1)*10,y+S*10).trim(),m,b,S,h)}return h.sheetRows&&(m=m.slice(0,h.sheetRows)),m}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(d){for(var f={},h=!1,m=0,x=0;m<d.length;++m)(x=d.charCodeAt(m))==34?h=!h:!h&&x in r&&(f[x]=(f[x]||0)+1);x=[];for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&x.push([f[m],m]);if(!x.length){f=n;for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&x.push([f[m],m])}return x.sort(function(g,y){return g[0]-y[0]||n[g[1]]-n[y[1]]}),r[x.pop()[1]]||44}function i(d,f){var h=f||{},m="",x=h.dense?[]:{},g={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(m=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(m=d.charAt(4),d=d.slice(6)):m=a(d.slice(0,1024)):h&&h.FS?m=h.FS:m=a(d.slice(0,1024));var y=0,_=0,b=0,S=0,C=0,E=m.charCodeAt(0),D=!1,T=0,I=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var L=h.dateNF!=null?h7e(h.dateNF):null;function B(){var P=d.slice(S,C),O={};if(P.charAt(0)=='"'&&P.charAt(P.length-1)=='"'&&(P=P.slice(1,-1).replace(/""/g,'"')),P.length===0)O.t="z";else if(h.raw)O.t="s",O.v=P;else if(P.trim().length===0)O.t="s",O.v=P;else if(P.charCodeAt(0)==61)P.charCodeAt(1)==34&&P.charCodeAt(P.length-1)==34?(O.t="s",O.v=P.slice(2,-1).replace(/""/g,'"')):qje(P)?(O.t="n",O.f=P.slice(1)):(O.t="s",O.v=P);else if(P=="TRUE")O.t="b",O.v=!0;else if(P=="FALSE")O.t="b",O.v=!1;else if(!isNaN(b=Gu(P)))O.t="n",h.cellText!==!1&&(O.w=P),O.v=b;else if(!isNaN(H1(P).getDate())||L&&P.match(L)){O.z=h.dateNF||Gr[14];var j=0;L&&P.match(L)&&(P=p7e(P,h.dateNF,P.match(L)||[]),j=1),h.cellDates?(O.t="d",O.v=Ja(P,j)):(O.t="n",O.v=wo(Ja(P,j))),h.cellText!==!1&&(O.w=eu(O.z,O.v instanceof Date?wo(O.v):O.v)),h.cellNF||delete O.z}else O.t="s",O.v=P;if(O.t=="z"||(h.dense?(x[y]||(x[y]=[]),x[y][_]=O):x[Jr({c:_,r:y})]=O),S=C+1,I=d.charCodeAt(S),g.e.c<_&&(g.e.c=_),g.e.r<y&&(g.e.r=y),T==E)++_;else if(_=0,++y,h.sheetRows&&h.sheetRows<=y)return!0}e:for(;C<d.length;++C)switch(T=d.charCodeAt(C)){case 34:I===34&&(D=!D);break;case E:case 10:case 13:if(!D&&B())break e;break}return C-S>0&&B(),x["!ref"]=vn(g),x}function o(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?i(d,f):yy(t(d,f),f)}function s(d,f){var h="",m=f.type=="string"?[0,0,0,0]:r7(d,f);switch(f.type){case"base64":h=yc(d);break;case"binary":h=d;break;case"buffer":f.codepage==65001?h=d.toString("utf8"):(f.codepage,h=En&&Buffer.isBuffer(d)?d.toString("binary"):D0(d));break;case"array":h=sg(d);break;case"string":h=d;break;default:throw new Error("Unrecognized type "+f.type)}return m[0]==239&&m[1]==187&&m[2]==191?h=Aa(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=Aa(h):f.type=="binary",h.slice(0,19)=="socialcalc:version:"?iae.to_sheet(f.type=="string"?h:Aa(h),f):o(h,f)}function l(d,f){return I0(s(d,f),f)}function u(d){for(var f=[],h=Gn(d["!ref"]),m,x=Array.isArray(d),g=h.s.r;g<=h.e.r;++g){for(var y=[],_=h.s.c;_<=h.e.c;++_){var b=Jr({r:g,c:_});if(m=x?(d[g]||[])[_]:d[b],!m||m.v==null){y.push("          ");continue}for(var S=(m.w||(Sh(m),m.w)||"").slice(0,10);S.length<10;)S+=" ";y.push(S+(_===0?" ":""))}f.push(y.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:s,from_sheet:u}}();function CLe(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=nae.to_workbook(e,r);return r.WTF=n,a}catch(i){if(r.WTF=n,!i.message.match(/SYLK bad record ID/)&&n)throw i;return V1.to_workbook(e,t)}}var qm=function(){function e(R,H,X){if(R){es(R,R.l||0);for(var Z=X.Enum||te;R.l<R.length;){var ie=R.read_shift(2),le=Z[ie]||Z[65535],pe=R.read_shift(2),J=R.l+pe,me=le.f&&le.f(R,pe,X);if(R.l=J,H(me,le,ie))return}}}function t(R,H){switch(H.type){case"base64":return r(lc(yc(R)),H);case"binary":return r(lc(R),H);case"buffer":case"array":return r(R,H)}throw"Unsupported type "+H.type}function r(R,H){if(!R)return R;var X=H||{},Z=X.dense?[]:{},ie="Sheet1",le="",pe=0,J={},me=[],ve=[],ae={s:{r:0,c:0},e:{r:0,c:0}},Ue=X.sheetRows||0;if(R[2]==0&&(R[3]==8||R[3]==9)&&R.length>=16&&R[14]==5&&R[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(R[2]==2)X.Enum=te,e(R,function(Ze,pt,ht){switch(ht){case 0:X.vers=Ze,Ze>=4096&&(X.qpro=!0);break;case 6:ae=Ze;break;case 204:Ze&&(le=Ze);break;case 222:le=Ze;break;case 15:case 51:X.qpro||(Ze[1].v=Ze[1].v.slice(1));case 13:case 14:case 16:ht==14&&(Ze[2]&112)==112&&(Ze[2]&15)>1&&(Ze[2]&15)<15&&(Ze[1].z=X.dateNF||Gr[14],X.cellDates&&(Ze[1].t="d",Ze[1].v=W3(Ze[1].v))),X.qpro&&Ze[3]>pe&&(Z["!ref"]=vn(ae),J[ie]=Z,me.push(ie),Z=X.dense?[]:{},ae={s:{r:0,c:0},e:{r:0,c:0}},pe=Ze[3],ie=le||"Sheet"+(pe+1),le="");var Pt=X.dense?(Z[Ze[0].r]||[])[Ze[0].c]:Z[Jr(Ze[0])];if(Pt){Pt.t=Ze[1].t,Pt.v=Ze[1].v,Ze[1].z!=null&&(Pt.z=Ze[1].z),Ze[1].f!=null&&(Pt.f=Ze[1].f);break}X.dense?(Z[Ze[0].r]||(Z[Ze[0].r]=[]),Z[Ze[0].r][Ze[0].c]=Ze[1]):Z[Jr(Ze[0])]=Ze[1];break}},X);else if(R[2]==26||R[2]==14)X.Enum=Q,R[2]==14&&(X.qpro=!0,R.l=0),e(R,function(Ze,pt,ht){switch(ht){case 204:ie=Ze;break;case 22:Ze[1].v=Ze[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ze[3]>pe&&(Z["!ref"]=vn(ae),J[ie]=Z,me.push(ie),Z=X.dense?[]:{},ae={s:{r:0,c:0},e:{r:0,c:0}},pe=Ze[3],ie="Sheet"+(pe+1)),Ue>0&&Ze[0].r>=Ue)break;X.dense?(Z[Ze[0].r]||(Z[Ze[0].r]=[]),Z[Ze[0].r][Ze[0].c]=Ze[1]):Z[Jr(Ze[0])]=Ze[1],ae.e.c<Ze[0].c&&(ae.e.c=Ze[0].c),ae.e.r<Ze[0].r&&(ae.e.r=Ze[0].r);break;case 27:Ze[14e3]&&(ve[Ze[14e3][0]]=Ze[14e3][1]);break;case 1537:ve[Ze[0]]=Ze[1],Ze[0]==pe&&(ie=Ze[1]);break}},X);else throw new Error("Unrecognized LOTUS BOF "+R[2]);if(Z["!ref"]=vn(ae),J[le||ie]=Z,me.push(le||ie),!ve.length)return{SheetNames:me,Sheets:J};for(var He={},Ie=[],he=0;he<ve.length;++he)J[me[he]]?(Ie.push(ve[he]||me[he]),He[ve[he]]=J[ve[he]]||J[me[he]]):(Ie.push(ve[he]),He[ve[he]]={"!ref":"A1"});return{SheetNames:Ie,Sheets:He}}function n(R,H){var X=H||{};if(+X.codepage>=0&&Uu(+X.codepage),X.type=="string")throw new Error("Cannot write WK1 to JS string");var Z=Rl(),ie=Gn(R["!ref"]),le=Array.isArray(R),pe=[];Zt(Z,0,i(1030)),Zt(Z,6,l(ie));for(var J=Math.min(ie.e.r,8191),me=ie.s.r;me<=J;++me)for(var ve=Yi(me),ae=ie.s.c;ae<=ie.e.c;++ae){me===ie.s.r&&(pe[ae]=hi(ae));var Ue=pe[ae]+ve,He=le?(R[me]||[])[ae]:R[Ue];if(!(!He||He.t=="z"))if(He.t=="n")(He.v|0)==He.v&&He.v>=-32768&&He.v<=32767?Zt(Z,13,m(me,ae,He.v)):Zt(Z,14,g(me,ae,He.v));else{var Ie=Sh(He);Zt(Z,15,f(me,ae,Ie.slice(0,239)))}}return Zt(Z,1),Z.end()}function a(R,H){var X=H||{};if(+X.codepage>=0&&Uu(+X.codepage),X.type=="string")throw new Error("Cannot write WK3 to JS string");var Z=Rl();Zt(Z,0,o(R));for(var ie=0,le=0;ie<R.SheetNames.length;++ie)(R.Sheets[R.SheetNames[ie]]||{})["!ref"]&&Zt(Z,27,z(R.SheetNames[ie],le++));var pe=0;for(ie=0;ie<R.SheetNames.length;++ie){var J=R.Sheets[R.SheetNames[ie]];if(!(!J||!J["!ref"])){for(var me=Gn(J["!ref"]),ve=Array.isArray(J),ae=[],Ue=Math.min(me.e.r,8191),He=me.s.r;He<=Ue;++He)for(var Ie=Yi(He),he=me.s.c;he<=me.e.c;++he){He===me.s.r&&(ae[he]=hi(he));var Ze=ae[he]+Ie,pt=ve?(J[He]||[])[he]:J[Ze];if(!(!pt||pt.t=="z"))if(pt.t=="n")Zt(Z,23,B(He,he,pe,pt.v));else{var ht=Sh(pt);Zt(Z,22,T(He,he,pe,ht.slice(0,239)))}}++pe}}return Zt(Z,1),Z.end()}function i(R){var H=Nt(2);return H.write_shift(2,R),H}function o(R){var H=Nt(26);H.write_shift(2,4096),H.write_shift(2,4),H.write_shift(4,0);for(var X=0,Z=0,ie=0,le=0;le<R.SheetNames.length;++le){var pe=R.SheetNames[le],J=R.Sheets[pe];if(!(!J||!J["!ref"])){++ie;var me=Ml(J["!ref"]);X<me.e.r&&(X=me.e.r),Z<me.e.c&&(Z=me.e.c)}}return X>8191&&(X=8191),H.write_shift(2,X),H.write_shift(1,ie),H.write_shift(1,Z),H.write_shift(2,0),H.write_shift(2,0),H.write_shift(1,1),H.write_shift(1,2),H.write_shift(4,0),H.write_shift(4,0),H}function s(R,H,X){var Z={s:{c:0,r:0},e:{c:0,r:0}};return H==8&&X.qpro?(Z.s.c=R.read_shift(1),R.l++,Z.s.r=R.read_shift(2),Z.e.c=R.read_shift(1),R.l++,Z.e.r=R.read_shift(2),Z):(Z.s.c=R.read_shift(2),Z.s.r=R.read_shift(2),H==12&&X.qpro&&(R.l+=2),Z.e.c=R.read_shift(2),Z.e.r=R.read_shift(2),H==12&&X.qpro&&(R.l+=2),Z.s.c==65535&&(Z.s.c=Z.e.c=Z.s.r=Z.e.r=0),Z)}function l(R){var H=Nt(8);return H.write_shift(2,R.s.c),H.write_shift(2,R.s.r),H.write_shift(2,R.e.c),H.write_shift(2,R.e.r),H}function u(R,H,X){var Z=[{c:0,r:0},{t:"n",v:0},0,0];return X.qpro&&X.vers!=20768?(Z[0].c=R.read_shift(1),Z[3]=R.read_shift(1),Z[0].r=R.read_shift(2),R.l+=2):(Z[2]=R.read_shift(1),Z[0].c=R.read_shift(2),Z[0].r=R.read_shift(2)),Z}function d(R,H,X){var Z=R.l+H,ie=u(R,H,X);if(ie[1].t="s",X.vers==20768){R.l++;var le=R.read_shift(1);return ie[1].v=R.read_shift(le,"utf8"),ie}return X.qpro&&R.l++,ie[1].v=R.read_shift(Z-R.l,"cstr"),ie}function f(R,H,X){var Z=Nt(7+X.length);Z.write_shift(1,255),Z.write_shift(2,H),Z.write_shift(2,R),Z.write_shift(1,39);for(var ie=0;ie<Z.length;++ie){var le=X.charCodeAt(ie);Z.write_shift(1,le>=128?95:le)}return Z.write_shift(1,0),Z}function h(R,H,X){var Z=u(R,H,X);return Z[1].v=R.read_shift(2,"i"),Z}function m(R,H,X){var Z=Nt(7);return Z.write_shift(1,255),Z.write_shift(2,H),Z.write_shift(2,R),Z.write_shift(2,X,"i"),Z}function x(R,H,X){var Z=u(R,H,X);return Z[1].v=R.read_shift(8,"f"),Z}function g(R,H,X){var Z=Nt(13);return Z.write_shift(1,255),Z.write_shift(2,H),Z.write_shift(2,R),Z.write_shift(8,X,"f"),Z}function y(R,H,X){var Z=R.l+H,ie=u(R,H,X);if(ie[1].v=R.read_shift(8,"f"),X.qpro)R.l=Z;else{var le=R.read_shift(2);C(R.slice(R.l,R.l+le),ie),R.l+=le}return ie}function _(R,H,X){var Z=H&32768;return H&=-32769,H=(Z?R:0)+(H>=8192?H-16384:H),(Z?"":"$")+(X?hi(H):Yi(H))}var b={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},S=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function C(R,H){es(R,0);for(var X=[],Z=0,ie="",le="",pe="",J="";R.l<R.length;){var me=R[R.l++];switch(me){case 0:X.push(R.read_shift(8,"f"));break;case 1:le=_(H[0].c,R.read_shift(2),!0),ie=_(H[0].r,R.read_shift(2),!1),X.push(le+ie);break;case 2:{var ve=_(H[0].c,R.read_shift(2),!0),ae=_(H[0].r,R.read_shift(2),!1);le=_(H[0].c,R.read_shift(2),!0),ie=_(H[0].r,R.read_shift(2),!1),X.push(ve+ae+":"+le+ie)}break;case 3:if(R.l<R.length){console.error("WK1 premature formula end");return}break;case 4:X.push("("+X.pop()+")");break;case 5:X.push(R.read_shift(2));break;case 6:{for(var Ue="";me=R[R.l++];)Ue+=String.fromCharCode(me);X.push('"'+Ue.replace(/"/g,'""')+'"')}break;case 8:X.push("-"+X.pop());break;case 23:X.push("+"+X.pop());break;case 22:X.push("NOT("+X.pop()+")");break;case 20:case 21:J=X.pop(),pe=X.pop(),X.push(["AND","OR"][me-20]+"("+pe+","+J+")");break;default:if(me<32&&S[me])J=X.pop(),pe=X.pop(),X.push(pe+S[me]+J);else if(b[me]){if(Z=b[me][1],Z==69&&(Z=R[R.l++]),Z>X.length){console.error("WK1 bad formula parse 0x"+me.toString(16)+":|"+X.join("|")+"|");return}var He=X.slice(-Z);X.length-=Z,X.push(b[me][0]+"("+He.join(",")+")")}else return me<=7?console.error("WK1 invalid opcode "+me.toString(16)):me<=24?console.error("WK1 unsupported op "+me.toString(16)):me<=30?console.error("WK1 invalid opcode "+me.toString(16)):me<=115?console.error("WK1 unsupported function opcode "+me.toString(16)):console.error("WK1 unrecognized opcode "+me.toString(16))}}X.length==1?H[1].f=""+X[0]:console.error("WK1 bad formula parse |"+X.join("|")+"|")}function E(R){var H=[{c:0,r:0},{t:"n",v:0},0];return H[0].r=R.read_shift(2),H[3]=R[R.l++],H[0].c=R[R.l++],H}function D(R,H){var X=E(R);return X[1].t="s",X[1].v=R.read_shift(H-4,"cstr"),X}function T(R,H,X,Z){var ie=Nt(6+Z.length);ie.write_shift(2,R),ie.write_shift(1,X),ie.write_shift(1,H),ie.write_shift(1,39);for(var le=0;le<Z.length;++le){var pe=Z.charCodeAt(le);ie.write_shift(1,pe>=128?95:pe)}return ie.write_shift(1,0),ie}function I(R,H){var X=E(R);X[1].v=R.read_shift(2);var Z=X[1].v>>1;if(X[1].v&1)switch(Z&7){case 0:Z=(Z>>3)*5e3;break;case 1:Z=(Z>>3)*500;break;case 2:Z=(Z>>3)/20;break;case 3:Z=(Z>>3)/200;break;case 4:Z=(Z>>3)/2e3;break;case 5:Z=(Z>>3)/2e4;break;case 6:Z=(Z>>3)/16;break;case 7:Z=(Z>>3)/64;break}return X[1].v=Z,X}function L(R,H){var X=E(R),Z=R.read_shift(4),ie=R.read_shift(4),le=R.read_shift(2);if(le==65535)return Z===0&&ie===3221225472?(X[1].t="e",X[1].v=15):Z===0&&ie===3489660928?(X[1].t="e",X[1].v=42):X[1].v=0,X;var pe=le&32768;return le=(le&32767)-16446,X[1].v=(1-pe*2)*(ie*Math.pow(2,le+32)+Z*Math.pow(2,le)),X}function B(R,H,X,Z){var ie=Nt(14);if(ie.write_shift(2,R),ie.write_shift(1,X),ie.write_shift(1,H),Z==0)return ie.write_shift(4,0),ie.write_shift(4,0),ie.write_shift(2,65535),ie;var le=0,pe=0,J=0,me=0;return Z<0&&(le=1,Z=-Z),pe=Math.log2(Z)|0,Z/=Math.pow(2,pe-31),me=Z>>>0,(me&2147483648)==0&&(Z/=2,++pe,me=Z>>>0),Z-=me,me|=2147483648,me>>>=0,Z*=Math.pow(2,32),J=Z>>>0,ie.write_shift(4,J),ie.write_shift(4,me),pe+=16383+(le?32768:0),ie.write_shift(2,pe),ie}function P(R,H){var X=L(R);return R.l+=H-14,X}function O(R,H){var X=E(R),Z=R.read_shift(4);return X[1].v=Z>>6,X}function j(R,H){var X=E(R),Z=R.read_shift(8,"f");return X[1].v=Z,X}function G(R,H){var X=j(R);return R.l+=H-10,X}function Y(R,H){return R[R.l+H-1]==0?R.read_shift(H,"cstr"):""}function re(R,H){var X=R[R.l++];X>H-1&&(X=H-1);for(var Z="";Z.length<X;)Z+=String.fromCharCode(R[R.l++]);return Z}function q(R,H,X){if(!(!X.qpro||H<21)){var Z=R.read_shift(1);R.l+=17,R.l+=1,R.l+=2;var ie=R.read_shift(H-21,"cstr");return[Z,ie]}}function K(R,H){for(var X={},Z=R.l+H;R.l<Z;){var ie=R.read_shift(2);if(ie==14e3){for(X[ie]=[0,""],X[ie][0]=R.read_shift(2);R[R.l];)X[ie][1]+=String.fromCharCode(R[R.l]),R.l++;R.l++}}return X}function z(R,H){var X=Nt(5+R.length);X.write_shift(2,14e3),X.write_shift(2,H);for(var Z=0;Z<R.length;++Z){var ie=R.charCodeAt(Z);X[X.l++]=ie>127?95:ie}return X[X.l++]=0,X}var te={0:{n:"BOF",f:ao},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:s},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:x},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:y},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Y},222:{n:"SHEETNAMELP",f:re},65535:{n:""}},Q={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:D},23:{n:"NUMBER17",f:L},24:{n:"NUMBER18",f:I},25:{n:"FORMULA19",f:P},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:K},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:O},38:{n:"??"},39:{n:"NUMBER27",f:j},40:{n:"FORMULA28",f:G},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Y},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:q},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}();function TLe(e){var t={},r=e.match(Bs),n=0,a=!1;if(r)for(;n!=r.length;++n){var i=nn(r[n]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=xR[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(i[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+i[0])}}return t}var PLe=function(){var e=lw("t"),t=lw("rPr");function r(i){var o=i.match(e);if(!o)return{t:"s",v:""};var s={t:"s",v:Vn(o[1])},l=i.match(t);return l&&(s.s=TLe(l[1])),s}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(o){return o.replace(n,"").split(a).map(r).filter(function(s){return s.v})}}(),OLe=function(){var t=/(\r\n|\n)/g;function r(a,i,o){var s=[];a.u&&s.push("text-decoration: underline;"),a.uval&&s.push("text-underline-style:"+a.uval+";"),a.sz&&s.push("font-size:"+a.sz+"pt;"),a.outline&&s.push("text-effect: outline;"),a.shadow&&s.push("text-shadow: auto;"),i.push('<span style="'+s.join("")+'">'),a.b&&(i.push("<b>"),o.push("</b>")),a.i&&(i.push("<i>"),o.push("</i>")),a.strike&&(i.push("<s>"),o.push("</s>"));var l=a.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(i.push("<"+l+">"),o.push("</"+l+">")),o.push("</span>"),a}function n(a){var i=[[],a.v,[]];return a.v?(a.s&&r(a.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(n).join("")}}(),DLe=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,ILe=/<(?:\w+:)?r>/,RLe=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function zR(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Vn(Aa(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=Aa(e),r&&(n.h=TR(n.t))):e.match(ILe)&&(n.r=Aa(e),n.t=Vn(Aa((e.replace(RLe,"").match(DLe)||[]).join("").replace(Bs,""))),r&&(n.h=OLe(PLe(n.r)))),n):{t:""}}var MLe=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,FLe=/<(?:\w+:)?(?:si|sstItem)>/g,LLe=/<\/(?:\w+:)?(?:si|sstItem)>/;function jLe(e,t){var r=[],n="";if(!e)return r;var a=e.match(MLe);if(a){n=a[2].replace(FLe,"").split(LLe);for(var i=0;i!=n.length;++i){var o=zR(n[i].trim(),t);o!=null&&(r[r.length]=o)}a=nn(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}var $Le=/^\s|\s$|[\t\n\r]/;function oae(e,t){if(!t.bookSST)return"";var r=[Zi];r[r.length]=Xt("sst",null,{xmlns:Eg[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var a=e[n],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match($Le)&&(i+=' xml:space="preserve"'),i+=">"+_a(a.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function BLe(e){return[e.read_shift(4),e.read_shift(4)]}function ULe(e,t){var r=[],n=!1;return Mh(e,function(i,o,s){switch(s){case 159:r.Count=i[0],r.Unique=i[1];break;case 19:r.push(i);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(o.T,!n||t.WTF)throw new Error("Unexpected record 0x"+s.toString(16))}}),r}function qLe(e,t){return t||(t=Nt(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var zLe=Q7e;function WLe(e){var t=Rl();Dt(t,159,qLe(e));for(var r=0;r<e.length;++r)Dt(t,19,zLe(e[r]));return Dt(t,160),t.end()}function sae(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function hh(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function HLe(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=hh(e,4),t.U=hh(e,4),t.W=hh(e,4),t}function VLe(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),i=[];a-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=i,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function GLe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(VLe(e));return t}function KLe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function YLe(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=hh(e,4),t.U=hh(e,4),t.W=hh(e,4),t}function XLe(e){var t=YLe(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function lae(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function cae(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function ZLe(e){var t=hh(e);switch(t.Minor){case 2:return[t.Minor,JLe(e)];case 3:return[t.Minor,QLe()];case 4:return[t.Minor,e9e(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function JLe(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=lae(e,r),a=cae(e,e.length-e.l);return{t:"Std",h:n,v:a}}function QLe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function e9e(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(Bs,function(i){var o=nn(i);switch(vf(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(s){n[s]=o[s]});break;case"<dataIntegrity":n.encryptedHmacKey=o.encryptedHmacKey,n.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(o);break;default:throw o[0]}}),n}function t9e(e,t){var r={},n=r.EncryptionVersionInfo=hh(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=lae(e,a),t-=a,r.EncryptionVerifier=cae(e,t),r}function r9e(e){var t={},r=t.EncryptionVersionInfo=hh(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function WR(e){var t=0,r,n=sae(e),a=n.length+1,i,o,s,l,u;for(r=m0(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)o=r[i],s=(t&16384)===0?0:1,l=t<<1&32767,u=s|l,t=u^o;return t^52811}var uae=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(o){return(o/2|o*128)&255},a=function(o,s){return n(o^s)},i=function(o){for(var s=t[o.length-1],l=104,u=o.length-1;u>=0;--u)for(var d=o[u],f=0;f!=7;++f)d&64&&(s^=r[l]),d*=2,--l;return s};return function(o){for(var s=sae(o),l=i(s),u=s.length,d=m0(16),f=0;f!=16;++f)d[f]=0;var h,m,x;for((u&1)===1&&(h=l>>8,d[u]=a(e[0],h),--u,h=l&255,m=s[s.length-1],d[u]=a(m,h));u>0;)--u,h=l>>8,d[u]=a(s[u],h),--u,h=l&255,d[u]=a(s[u],h);for(u=15,x=15-s.length;x>0;)h=l>>8,d[u]=a(e[x],h),--u,--x,h=l&255,d[u]=a(s[u],h),--u,--x;return d}}(),n9e=function(e,t,r,n,a){a||(a=t),n||(n=uae(e));var i,o;for(i=0;i!=t.length;++i)o=t[i],o^=n[r],o=(o>>5|o<<3)&255,a[i]=o,++r;return[a,r,n]},a9e=function(e){var t=0,r=uae(e);return function(n){var a=n9e("",n,t,r);return t=a[1],a[0]}};function i9e(e,t,r,n){var a={key:ao(e),verificationBytes:ao(e)};return r.password&&(a.verifier=WR(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=a9e(r.password)),a}function o9e(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=r9e(e):n.Data=t9e(e,t),n}function s9e(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?o9e(e,t-2,n):i9e(e,r.biff>=8?t:t-2,r,n),n}var dae=function(){function e(a,i){switch(i.type){case"base64":return t(yc(a),i);case"binary":return t(a,i);case"buffer":return t(En&&Buffer.isBuffer(a)?a.toString("binary"):D0(a),i);case"array":return t(sg(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var o=i||{},s=o.dense?[]:{},l=a.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(d,f){Array.isArray(s)&&(s[f]=[]);for(var h=/\\\w+\b/g,m=0,x,g=-1;x=h.exec(d);){switch(x[0]){case"\\cell":var y=d.slice(m,h.lastIndex-x[0].length);if(y[0]==" "&&(y=y.slice(1)),++g,y.length){var _={v:y,t:"s"};Array.isArray(s)?s[f][g]=_:s[Jr({r:f,c:g})]=_}break}m=h.lastIndex}g>u.e.c&&(u.e.c=g)}),s["!ref"]=vn(u),s}function r(a,i){return I0(e(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],o=Gn(a["!ref"]),s,l=Array.isArray(a),u=o.s.r;u<=o.e.r;++u){i.push("\\trowd\\trautofit1");for(var d=o.s.c;d<=o.e.c;++d)i.push("\\cellx"+(d+1));for(i.push("\\pard\\intbl"),d=o.s.c;d<=o.e.c;++d){var f=Jr({r:u,c:d});s=l?(a[u]||[])[d]:a[f],!(!s||s.v==null&&(!s.f||s.F))&&(i.push(" "+(s.w||(Sh(s),s.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function l9e(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function fw(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function c9e(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),i=Math.min(t,r,n),o=a-i;if(o===0)return[0,0,t];var s=0,l=0,u=a+i;switch(l=o/(u>1?2-u:u),a){case t:s=((r-n)/o+6)%6;break;case r:s=(n-t)/o+2;break;case n:s=(t-r)/o+4;break}return[s/6,l,u/2]}function u9e(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),i=n-a/2,o=[i,i,i],s=6*t,l;if(r!==0)switch(s|0){case 0:case 6:l=a*s,o[0]+=a,o[1]+=l;break;case 1:l=a*(2-s),o[0]+=l,o[1]+=a;break;case 2:l=a*(s-2),o[1]+=a,o[2]+=l;break;case 3:l=a*(4-s),o[1]+=l,o[2]+=a;break;case 4:l=a*(s-4),o[2]+=a,o[0]+=l;break;case 5:l=a*(6-s),o[2]+=l,o[0]+=a;break}for(var u=0;u!=3;++u)o[u]=Math.round(o[u]*255);return o}function ZS(e,t){if(t===0)return e;var r=c9e(l9e(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),fw(u9e(r))}var fae=6,d9e=15,f9e=1,Ts=fae;function hw(e){return Math.floor((e+Math.round(128/Ts)/256)*Ts)}function pw(e){return Math.floor((e-5)/Ts*100+.5)/100}function JS(e){return Math.round((e*Ts+5)/Ts*256)/256}function HT(e){return JS(pw(hw(e)))}function HR(e){var t=Math.abs(e-HT(e)),r=Ts;if(t>.005)for(Ts=f9e;Ts<d9e;++Ts)Math.abs(e-HT(e))<=t&&(t=Math.abs(e-HT(e)),r=Ts);Ts=r}function g0(e){e.width?(e.wpx=hw(e.width),e.wch=pw(e.wpx),e.MDW=Ts):e.wpx?(e.wch=pw(e.wpx),e.width=JS(e.wch),e.MDW=Ts):typeof e.wch=="number"&&(e.width=JS(e.wch),e.wpx=hw(e.width),e.MDW=Ts),e.customWidth&&delete e.customWidth}var h9e=96,hae=h9e;function mw(e){return e*96/hae}function G1(e){return e*hae/96}var p9e={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function m9e(e,t,r,n){t.Borders=[];var a={},i=!1;(e[0].match(Bs)||[]).forEach(function(o){var s=nn(o);switch(vf(s[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},s.diagonalUp&&(a.diagonalUp=Ya(s.diagonalUp)),s.diagonalDown&&(a.diagonalDown=Ya(s.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+s[0]+" in borders")}})}function g9e(e,t,r,n){t.Fills=[];var a={},i=!1;(e[0].match(Bs)||[]).forEach(function(o){var s=nn(o);switch(vf(s[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":s.patternType&&(a.patternType=s.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),s.indexed&&(a.bgColor.indexed=parseInt(s.indexed,10)),s.theme&&(a.bgColor.theme=parseInt(s.theme,10)),s.tint&&(a.bgColor.tint=parseFloat(s.tint)),s.rgb&&(a.bgColor.rgb=s.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),s.theme&&(a.fgColor.theme=parseInt(s.theme,10)),s.tint&&(a.fgColor.tint=parseFloat(s.tint)),s.rgb!=null&&(a.fgColor.rgb=s.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+s[0]+" in fills")}})}function v9e(e,t,r,n){t.Fonts=[];var a={},i=!1;(e[0].match(Bs)||[]).forEach(function(o){var s=nn(o);switch(vf(s[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":s.val&&(a.name=Aa(s.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=s.val?Ya(s.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=s.val?Ya(s.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(s.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=s.val?Ya(s.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=s.val?Ya(s.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=s.val?Ya(s.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=s.val?Ya(s.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=s.val?Ya(s.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":s.val&&(a.sz=+s.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":s.val&&(a.vertAlign=s.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":s.val&&(a.family=parseInt(s.val,10));break;case"<family/>":case"</family>":break;case"<scheme":s.val&&(a.scheme=s.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(s.val=="1")break;s.codepage=xR[parseInt(s.val,10)];break;case"<color":if(a.color||(a.color={}),s.auto&&(a.color.auto=Ya(s.auto)),s.rgb)a.color.rgb=s.rgb.slice(-6);else if(s.indexed){a.color.index=parseInt(s.indexed,10);var l=Bm[a.color.index];a.color.index==81&&(l=Bm[1]),l||(l=Bm[1]),a.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else s.theme&&(a.color.theme=parseInt(s.theme,10),s.tint&&(a.color.tint=parseFloat(s.tint)),s.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=ZS(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+s[0]+" in fonts")}})}function y9e(e,t,r){t.NumberFmt=[];for(var n=Oi(Gr),a=0;a<n.length;++a)t.NumberFmt[n[a]]=Gr[n[a]];var i=e[0].match(Bs);if(i)for(a=0;a<i.length;++a){var o=nn(i[a]);switch(vf(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var s=Vn(Aa(o.formatCode)),l=parseInt(o.numFmtId,10);if(t.NumberFmt[l]=s,l>0){if(l>392){for(l=392;l>60&&t.NumberFmt[l]!=null;--l);t.NumberFmt[l]=s}fh(s,l)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}function x9e(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=Xt("numFmt",null,{numFmtId:n,formatCode:_a(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=Xt("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var Eb=["numFmtId","fillId","fontId","borderId","xfId"],Cb=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function w9e(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(Bs)||[]).forEach(function(i){var o=nn(i),s=0;switch(vf(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=o,delete n[0],s=0;s<Eb.length;++s)n[Eb[s]]&&(n[Eb[s]]=parseInt(n[Eb[s]],10));for(s=0;s<Cb.length;++s)n[Cb[s]]&&(n[Cb[s]]=Ya(n[Cb[s]]));if(t.NumberFmt&&n.numFmtId>392){for(s=392;s>60;--s)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[s]){n.numFmtId=s;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};o.vertical&&(l.vertical=o.vertical),o.horizontal&&(l.horizontal=o.horizontal),o.textRotation!=null&&(l.textRotation=o.textRotation),o.indent&&(l.indent=o.indent),o.wrapText&&(l.wrapText=Ya(o.wrapText)),n.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}function _9e(e){var t=[];return t[t.length]=Xt("cellXfs",null),e.forEach(function(r){t[t.length]=Xt("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=Xt("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var b9e=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(s,l,u){var d={};if(!s)return d;s=s.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=s.match(t))&&y9e(f,d,u),(f=s.match(a))&&v9e(f,d,l,u),(f=s.match(n))&&g9e(f,d,l,u),(f=s.match(i))&&m9e(f,d,l,u),(f=s.match(r))&&w9e(f,d,u),d}}();function pae(e,t){var r=[Zi,Xt("styleSheet",null,{xmlns:Eg[0],"xmlns:vt":go.vt})],n;return e.SSF&&(n=x9e(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=_9e(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function S9e(e,t){var r=e.read_shift(2),n=Rs(e);return[r,n]}function A9e(e,t,r){r||(r=Nt(6+4*t.length)),r.write_shift(2,e),$o(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function k9e(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=oMe(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(n.underline=o);var s=e.read_shift(1);s>0&&(n.family=s);var l=e.read_shift(1);switch(l>0&&(n.charset=l),e.l++,n.color=iMe(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Rs(e),n}function N9e(e,t){t||(t=Nt(25+4*32)),t.write_shift(2,e.sz*20),sMe(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),KS(e.color,t);var n=0;return n=2,t.write_shift(1,n),$o(e.name,t),t.length>t.l?t.slice(0,t.l):t}var E9e=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],VT,C9e=$s;function RW(e,t){t||(t=Nt(4*3+8*7+16*1)),VT||(VT=q3(E9e));var r=VT[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(KS({auto:1},t),KS({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function T9e(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}function mae(e,t,r){r||(r=Nt(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function l2(e,t){return t||(t=Nt(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var P9e=$s;function O9e(e,t){return t||(t=Nt(51)),t.write_shift(1,0),l2(null,t),l2(null,t),l2(null,t),l2(null,t),l2(null,t),t.length>t.l?t.slice(0,t.l):t}function D9e(e,t){return t||(t=Nt(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),GS(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function I9e(e,t,r){var n=Nt(2052);return n.write_shift(4,e),GS(t,n),GS(r,n),n.length>n.l?n.slice(0,n.l):n}function R9e(e,t,r){var n={};n.NumberFmt=[];for(var a in Gr)n.NumberFmt[a]=Gr[a];n.CellXf=[],n.Fonts=[];var i=[],o=!1;return Mh(e,function(l,u,d){switch(d){case 44:n.NumberFmt[l[0]]=l[1],fh(l[1],l[0]);break;case 43:n.Fonts.push(l),l.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(l.color.rgb=ZS(t.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&n.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:i.push(d),o=!0;break;case 38:i.pop(),o=!1;break;default:if(u.T>0)i.push(d);else if(u.T<0)i.pop();else if(!o||r.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),n}function M9e(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&++r}),r!=0&&(Dt(e,615,Ku(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&Dt(e,44,A9e(a,t[a]))}),Dt(e,616))}}function F9e(e){var t=1;Dt(e,611,Ku(t)),Dt(e,43,N9e({sz:12,color:{theme:1},name:"Calibri",family:2})),Dt(e,612)}function L9e(e){var t=2;Dt(e,603,Ku(t)),Dt(e,45,RW({patternType:"none"})),Dt(e,45,RW({patternType:"gray125"})),Dt(e,604)}function j9e(e){var t=1;Dt(e,613,Ku(t)),Dt(e,46,O9e()),Dt(e,614)}function $9e(e){var t=1;Dt(e,626,Ku(t)),Dt(e,47,mae({numFmtId:0},65535)),Dt(e,627)}function B9e(e,t){Dt(e,617,Ku(t.length)),t.forEach(function(r){Dt(e,47,mae(r,0))}),Dt(e,618)}function U9e(e){var t=1;Dt(e,619,Ku(t)),Dt(e,48,D9e({xfId:0,name:"Normal"})),Dt(e,620)}function q9e(e){var t=0;Dt(e,505,Ku(t)),Dt(e,506)}function z9e(e){var t=0;Dt(e,508,I9e(t,"TableStyleMedium9","PivotStyleMedium4")),Dt(e,509)}function W9e(e,t){var r=Rl();return Dt(r,278),M9e(r,e.SSF),F9e(r),L9e(r),j9e(r),$9e(r),B9e(r,t.cellXfs),U9e(r),q9e(r),z9e(r),Dt(r,279),r.end()}var H9e=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function V9e(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(Bs)||[]).forEach(function(a){var i=nn(a);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=i.val;break;case"<a:sysClr":n.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[H9e.indexOf(i[0])]=n,n={}):n.name=i[0].slice(3,i[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function G9e(){}function K9e(){}var Y9e=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,X9e=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,Z9e=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function J9e(e,t,r){t.themeElements={};var n;[["clrScheme",Y9e,V9e],["fontScheme",X9e,G9e],["fmtScheme",Z9e,K9e]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var Q9e=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function gae(e,t){(!e||e.length===0)&&(e=VR());var r,n={};if(!(r=e.match(Q9e)))throw new Error("themeElements not found in theme");return J9e(r[0],n,t),n.raw=e,n}function VR(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[Zi];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function eje(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var i=e.slice(e.l);e.l=n;var o;try{o=lne(i,{type:"array"})}catch{return}var s=cc(o,"theme/theme/theme1.xml",!0);if(s)return gae(s,r)}}function tje(e){return e.read_shift(4)}function rje(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=nje(e,4);break;case 2:t.xclrValue=Yne(e);break;case 3:t.xclrValue=tje(e);break;case 4:e.l+=4;break}return e.l+=8,t}function nje(e,t){return $s(e,t)}function aje(e,t){return $s(e,t)}function ije(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=rje(e);break;case 6:n[1]=aje(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function oje(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),i=[];a-- >0;)i.push(ije(e,r-e.l));return{ixfe:n,ext:i}}function sje(e,t){t.forEach(function(r){r[0]})}function lje(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Rs(e)}}function cje(e){var t=Nt(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),$o(e.name,t),t.slice(0,t.l)}function uje(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function dje(e){var t=Nt(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function fje(e,t){var r=Nt(8+2*t.length);return r.write_shift(4,e),$o(t,r),r.slice(0,r.l)}function hje(e){return e.l+=4,e.read_shift(4)!=0}function pje(e,t){var r=Nt(8);return r.write_shift(4,e),r.write_shift(4,1),r}function mje(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},i=[],o=!1,s=2;return Mh(e,function(l,u,d){switch(d){case 335:n.Types.push({name:l.name});break;case 51:l.forEach(function(f){s==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):s==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:s=l?1:0;break;case 338:s=2;break;case 35:i.push(d),o=!0;break;case 36:i.pop(),o=!1;break;default:if(!u.T){if(!o||a.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),n}function gje(){var e=Rl();return Dt(e,332),Dt(e,334,Ku(1)),Dt(e,335,cje({name:"XLDAPR",version:12e4,flags:3496657072})),Dt(e,336),Dt(e,339,fje(1,"XLDAPR")),Dt(e,52),Dt(e,35,Ku(514)),Dt(e,4096,Ku(0)),Dt(e,4097,Wc(1)),Dt(e,36),Dt(e,53),Dt(e,340),Dt(e,337,pje(1)),Dt(e,51,dje([[1,0]])),Dt(e,338),Dt(e,333),e.end()}function vje(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,i=2,o;return e.replace(Bs,function(s){var l=nn(s);switch(vf(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<n.Types.length;++u)n.Types[u].name==l.name&&(o=n.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?n.Cell.push({type:n.Types[l.t-1].name,index:+l.v}):i==0&&n.Value.push({type:n.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+l.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return s}),n}function vae(){var e=[Zi];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function yje(e){var t=[];if(!e)return t;var r=1;return(e.match(Bs)||[]).forEach(function(n){var a=nn(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function xje(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Jr(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function wje(e,t,r){var n=[];return Mh(e,function(i,o,s){switch(s){case 63:n.push(i);break;default:if(!o.T)throw new Error("Unexpected record 0x"+s.toString(16))}}),n}function _je(e,t,r,n){if(!e)return e;var a=n||{},i=!1;Mh(e,function(s,l,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!l.T){if(!i||a.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},a)}function bje(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}var Uv=1024;function yae(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[Xt("xml",null,{"xmlns:v":ac.v,"xmlns:o":ac.o,"xmlns:x":ac.x,"xmlns:mv":ac.mv}).replace(/\/>/,">"),Xt("o:shapelayout",Xt("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),Xt("v:shapetype",[Xt("v:stroke",null,{joinstyle:"miter"}),Xt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];Uv<e*1e3;)Uv+=1e3;return t.forEach(function(i){var o=pi(i[0]),s={color2:"#BEFF82",type:"gradient"};s.type=="gradient"&&(s.angle="-180");var l=s.type=="gradient"?Xt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=Xt("v:fill",l,s),d={on:"t",obscured:"t"};++Uv,a=a.concat(["<v:shape"+cw({id:"_x0000_s"+Uv,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,Xt("v:shadow",null,d),Xt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",rs("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),rs("x:AutoFill","False"),rs("x:Row",String(o.r)),rs("x:Column",String(o.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function MW(e,t,r,n){var a=Array.isArray(e),i;t.forEach(function(o){var s=pi(o.ref);if(a?(e[s.r]||(e[s.r]=[]),i=e[s.r][s.c]):i=e[o.ref],!i){i={t:"z"},a?e[s.r][s.c]=i:e[o.ref]=i;var l=Gn(e["!ref"]||"BDWGO1000001:A1");l.s.r>s.r&&(l.s.r=s.r),l.e.r<s.r&&(l.e.r=s.r),l.s.c>s.c&&(l.s.c=s.c),l.e.c<s.c&&(l.e.c=s.c);var u=vn(l);u!==e["!ref"]&&(e["!ref"]=u)}i.c||(i.c=[]);var d={a:o.author,t:o.t,r:o.r,T:r};o.h&&(d.h=o.h);for(var f=i.c.length-1;f>=0;--f){if(!r&&i.c[f].T)return;r&&!i.c[f].T&&i.c.splice(f,1)}if(r&&n){for(f=0;f<n.length;++f)if(d.a==n[f].id){d.a=n[f].name||d.a;break}}i.c.push(d)})}function Sje(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var s=o.match(/<(?:\w+:)?author[^>]*>(.*)/);s&&r.push(s[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var s=o.match(/<(?:\w+:)?comment[^>]*>/);if(s){var l=nn(s[0]),u={author:l.authorId&&r[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},d=pi(l.ref);if(!(t.sheetRows&&t.sheetRows<=d.r)){var f=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!f&&!!f[1]&&zR(f[1])||{r:"",t:"",h:""};u.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),u.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(u.h=h.h),n.push(u)}}}}),n}function xae(e){var t=[Zi,Xt("comments",null,{xmlns:Eg[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(a){var i=_a(a.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var a=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(l){l.a&&(a=r.indexOf(_a(l.a))),i.push(l.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),i.length<=1)t.push(rs("t",_a(i[0]||"")));else{for(var o=`Comment:
    `+i[0]+`
`,s=1;s<i.length;++s)o+=`Reply:
    `+i[s]+`
`;t.push(rs("t",_a(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function Aje(e,t){var r=[],n=!1,a={},i=0;return e.replace(Bs,function(s,l){var u=nn(s);switch(vf(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":i=l+s.length;break;case"</text>":a.t=e.slice(i,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return s}),r}function kje(e,t,r){var n=[Zi,Xt("ThreadedComments",null,{xmlns:go.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var i="";(a[1]||[]).forEach(function(o,s){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var l={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};s==0?i=l.id:l.parentId=i,o.ID=l.id,o.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),n.push(Xt("threadedComment",rs("text",o.t||""),l))})}),n.push("</ThreadedComments>"),n.join("")}function Nje(e,t){var r=[],n=!1;return e.replace(Bs,function(i){var o=nn(i);switch(vf(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return i}),r}function Eje(e){var t=[Zi,Xt("personList",null,{xmlns:go.TCMNT,"xmlns:x":Eg[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(Xt("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function Cje(e){var t={};t.iauthor=e.read_shift(4);var r=Og(e);return t.rfx=r.s,t.ref=Jr(r.s),e.l+=16,t}function Tje(e,t){return t==null&&(t=Nt(36)),t.write_shift(4,e[1].iauthor),xy(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var Pje=Rs;function Oje(e){return $o(e.slice(0,54))}function Dje(e,t){var r=[],n=[],a={},i=!1;return Mh(e,function(s,l,u){switch(u){case 632:n.push(s);break;case 635:a=s;break;case 637:a.t=s.t,a.h=s.h,a.r=s.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}function Ije(e){var t=Rl(),r=[];return Dt(t,628),Dt(t,630),e.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),Dt(t,632,Oje(a.a)))})}),Dt(t,631),Dt(t,633),e.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var i={s:pi(n[0]),e:pi(n[0])};Dt(t,635,Tje([i,a])),a.t&&a.t.length>0&&Dt(t,637,tMe(a)),Dt(t,636),delete a.iauthor})}),Dt(t,634),Dt(t,629),t.end()}var Rje="application/vnd.ms-office.vbaProject";function Mje(e){var t=Mr.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Mr.utils.cfb_add(t,a,e.FileIndex[n].content)}}),Mr.write(t)}function Fje(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&Mr.utils.cfb_add(e,a,t.FileIndex[n].content)}})}var wae=["xlsb","xlsm","xlam","biff8","xla"];function Lje(){return{"!type":"dialog"}}function jje(){return{"!type":"dialog"}}function $je(){return{"!type":"macro"}}function Bje(){return{"!type":"macro"}}var r1=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,o){var s=!1,l=!1;i.length==0?l=!0:i.charAt(0)=="["&&(l=!0,i=i.slice(1,-1)),o.length==0?s=!0:o.charAt(0)=="["&&(s=!0,o=o.slice(1,-1));var u=i.length>0?parseInt(i,10)|0:0,d=o.length>0?parseInt(o,10)|0:0;return s?d+=t.c:--d,l?u+=t.r:--u,a+(s?"":"$")+hi(d)+(l?"":"$")+Yi(u)}return function(a,i){return t=i,a.replace(e,r)}}(),GR=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,KR=function(){return function(t,r){return t.replace(GR,function(n,a,i,o,s,l){var u=RR(o)-(i?0:r.c),d=IR(l)-(s?0:r.r),f=d==0?"":s?d+1:"["+d+"]",h=u==0?"":i?u+1:"["+u+"]";return a+"R"+f+"C"+h})}}();function _ae(e,t){return e.replace(GR,function(r,n,a,i,o,s){return n+(a=="$"?a+i:hi(RR(i)+t.c))+(o=="$"?o+s:Yi(IR(s)+t.r))})}function Uje(e,t,r){var n=Ml(t),a=n.s,i=pi(r),o={r:i.r-a.r,c:i.c-a.c};return _ae(e,o)}function qje(e){return e.length!=1}function FW(e){return e.replace(/_xlfn\./g,"")}function eo(e){e.l+=1}function v0(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function bae(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return Sae(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),o=v0(e),s=v0(e);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:s[0],cRel:s[1],rRel:s[2]}}}function Sae(e){var t=v0(e),r=v0(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function zje(e,t,r){if(r.biff<8)return Sae(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=v0(e),o=v0(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function Aae(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return Wje(e);var n=e.read_shift(r&&r.biff==12?4:2),a=v0(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function Wje(e){var t=v0(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function Hje(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function Vje(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return Gje(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),o=(i&16384)>>14,s=(i&32768)>>15;if(i&=16383,s==1)for(;a>524287;)a-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:o,rRel:s}}function Gje(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function Kje(e,t,r){var n=(e[e.l++]&96)>>5,a=bae(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function Yje(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var o=bae(e,i,r);return[n,a,o]}function Xje(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function Zje(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function Jje(e,t,r){var n=(e[e.l++]&96)>>5,a=zje(e,t-1,r);return[n,a]}function Qje(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function LW(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function e$e(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function t$e(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function r$e(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function n$e(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function a$e(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function kae(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function i$e(e){return e.read_shift(2),kae(e)}function o$e(e){return e.read_shift(2),kae(e)}function s$e(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=Aae(e,0,r);return[n,a]}function l$e(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=Vje(e,0,r);return[n,a]}function c$e(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=Aae(e,0,r);return[n,a,i]}function u$e(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[hBe[a],Cae[a],n]}function d$e(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:f$e(e);return[a,(i[0]===0?Cae:fBe)[i[1]]]}function f$e(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function h$e(e,t,r){e.l+=r&&r.biff==2?3:4}function p$e(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function m$e(e){return e.l++,Fh[e.read_shift(1)]}function g$e(e){return e.l++,e.read_shift(2)}function v$e(e){return e.l++,e.read_shift(1)!==0}function y$e(e){return e.l++,Os(e)}function x$e(e,t,r){return e.l++,Zw(e,t-1,r)}function w$e(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=$i(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Fh[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Os(e);break;case 2:r[1]=Dg(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function _$e(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?Og:H3)(e));return a}function b$e(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,o=[];i!=n&&(o[i]=[]);++i)for(var s=0;s!=a;++s)o[i][s]=w$e(e,r.biff);return o}function S$e(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function A$e(e,t,r){if(r.biff==5)return k$e(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function k$e(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function N$e(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function E$e(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function C$e(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function T$e(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var P$e=$s,O$e=$s,D$e=$s;function Qw(e,t,r){return e.l+=2,[Hje(e)]}function YR(e){return e.l+=6,[]}var I$e=Qw,R$e=YR,M$e=YR,F$e=Qw;function Nae(e){return e.l+=2,[ao(e),e.read_shift(2)&1]}var L$e=Qw,j$e=Nae,$$e=YR,B$e=Qw,U$e=Qw,q$e=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function z$e(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),o=q$e[r>>2&31];return{ixti:t,coltype:r&3,rt:o,idx:n,c:a,C:i}}function W$e(e){return e.l+=2,[e.read_shift(4)]}function H$e(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function V$e(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function G$e(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function K$e(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Y$e(e){return e.l+=4,[0,0]}var jW={1:{n:"PtgExp",f:p$e},2:{n:"PtgTbl",f:D$e},3:{n:"PtgAdd",f:eo},4:{n:"PtgSub",f:eo},5:{n:"PtgMul",f:eo},6:{n:"PtgDiv",f:eo},7:{n:"PtgPower",f:eo},8:{n:"PtgConcat",f:eo},9:{n:"PtgLt",f:eo},10:{n:"PtgLe",f:eo},11:{n:"PtgEq",f:eo},12:{n:"PtgGe",f:eo},13:{n:"PtgGt",f:eo},14:{n:"PtgNe",f:eo},15:{n:"PtgIsect",f:eo},16:{n:"PtgUnion",f:eo},17:{n:"PtgRange",f:eo},18:{n:"PtgUplus",f:eo},19:{n:"PtgUminus",f:eo},20:{n:"PtgPercent",f:eo},21:{n:"PtgParen",f:eo},22:{n:"PtgMissArg",f:eo},23:{n:"PtgStr",f:x$e},26:{n:"PtgSheet",f:H$e},27:{n:"PtgEndSheet",f:V$e},28:{n:"PtgErr",f:m$e},29:{n:"PtgBool",f:v$e},30:{n:"PtgInt",f:g$e},31:{n:"PtgNum",f:y$e},32:{n:"PtgArray",f:Qje},33:{n:"PtgFunc",f:u$e},34:{n:"PtgFuncVar",f:d$e},35:{n:"PtgName",f:S$e},36:{n:"PtgRef",f:s$e},37:{n:"PtgArea",f:Kje},38:{n:"PtgMemArea",f:N$e},39:{n:"PtgMemErr",f:P$e},40:{n:"PtgMemNoMem",f:O$e},41:{n:"PtgMemFunc",f:E$e},42:{n:"PtgRefErr",f:C$e},43:{n:"PtgAreaErr",f:Xje},44:{n:"PtgRefN",f:l$e},45:{n:"PtgAreaN",f:Jje},46:{n:"PtgMemAreaN",f:G$e},47:{n:"PtgMemNoMemN",f:K$e},57:{n:"PtgNameX",f:A$e},58:{n:"PtgRef3d",f:c$e},59:{n:"PtgArea3d",f:Yje},60:{n:"PtgRefErr3d",f:T$e},61:{n:"PtgAreaErr3d",f:Zje},255:{}},X$e={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Z$e={1:{n:"PtgElfLel",f:Nae},2:{n:"PtgElfRw",f:B$e},3:{n:"PtgElfCol",f:I$e},6:{n:"PtgElfRwV",f:U$e},7:{n:"PtgElfColV",f:F$e},10:{n:"PtgElfRadical",f:L$e},11:{n:"PtgElfRadicalS",f:$$e},13:{n:"PtgElfColS",f:R$e},15:{n:"PtgElfColSV",f:M$e},16:{n:"PtgElfRadicalLel",f:j$e},25:{n:"PtgList",f:z$e},29:{n:"PtgSxName",f:W$e},255:{}},J$e={0:{n:"PtgAttrNoop",f:Y$e},1:{n:"PtgAttrSemi",f:a$e},2:{n:"PtgAttrIf",f:r$e},4:{n:"PtgAttrChoose",f:e$e},8:{n:"PtgAttrGoto",f:t$e},16:{n:"PtgAttrSum",f:h$e},32:{n:"PtgAttrBaxcel",f:LW},33:{n:"PtgAttrBaxcel",f:LW},64:{n:"PtgAttrSpace",f:i$e},65:{n:"PtgAttrSpaceSemi",f:o$e},128:{n:"PtgAttrIfError",f:n$e},255:{}};function e_(e,t,r,n){if(n.biff<8)return $s(e,t);for(var a=e.l+t,i=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=b$e(e,0,n),i.push(r[o][1]);break;case"PtgMemArea":r[o][2]=_$e(e,r[o][1],n),i.push(r[o][2]);break;case"PtgExp":n&&n.biff==12&&(r[o][1][1]=e.read_shift(4),i.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return t=a-e.l,t!==0&&i.push($s(e,t)),i}function t_(e,t,r){for(var n=e.l+t,a,i,o=[];n!=e.l;)t=n-e.l,i=e[e.l],a=jW[i]||jW[X$e[i]],(i===24||i===25)&&(a=(i===24?Z$e:J$e)[e[e.l+1]]),!a||!a.f?$s(e,t):o.push([a.n,a.f(e,t,r)]);return o}function Q$e(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var o=n[i];if(o)switch(o[0]){case 2:a.push('"'+o[1].replace(/"/g,'""')+'"');break;default:a.push(o[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var eBe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function tBe(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function Eae(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function $W(e,t,r){var n=Eae(e,t,r);return n=="#REF"?n:tBe(n,r)}function Es(e,t,r,n,a){var i=a&&a.biff||8,o={s:{c:0,r:0}},s=[],l,u,d,f=0,h=0,m,x="";if(!e[0]||!e[0][0])return"";for(var g=-1,y="",_=0,b=e[0].length;_<b;++_){var S=e[0][_];switch(S[0]){case"PtgUminus":s.push("-"+s.pop());break;case"PtgUplus":s.push("+"+s.pop());break;case"PtgPercent":s.push(s.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=s.pop(),u=s.pop(),g>=0){switch(e[0][g][1][0]){case 0:y=Ni(" ",e[0][g][1][1]);break;case 1:y=Ni("\r",e[0][g][1][1]);break;default:if(y="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}u=u+y,g=-1}s.push(u+eBe[S[0]]+l);break;case"PtgIsect":l=s.pop(),u=s.pop(),s.push(u+" "+l);break;case"PtgUnion":l=s.pop(),u=s.pop(),s.push(u+","+l);break;case"PtgRange":l=s.pop(),u=s.pop(),s.push(u+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=q2(S[1][1],o,a),s.push(z2(d,i));break;case"PtgRefN":d=r?q2(S[1][1],r,a):S[1][1],s.push(z2(d,i));break;case"PtgRef3d":f=S[1][1],d=q2(S[1][2],o,a),x=$W(n,f,a),s.push(x+"!"+z2(d,i));break;case"PtgFunc":case"PtgFuncVar":var C=S[1][0],E=S[1][1];C||(C=0),C&=127;var D=C==0?[]:s.slice(-C);s.length-=C,E==="User"&&(E=D.shift()),s.push(E+"("+D.join(",")+")");break;case"PtgBool":s.push(S[1]?"TRUE":"FALSE");break;case"PtgInt":s.push(S[1]);break;case"PtgNum":s.push(String(S[1]));break;case"PtgStr":s.push('"'+S[1].replace(/"/g,'""')+'"');break;case"PtgErr":s.push(S[1]);break;case"PtgAreaN":m=pW(S[1][1],r?{s:r}:o,a),s.push(qT(m,a));break;case"PtgArea":m=pW(S[1][1],o,a),s.push(qT(m,a));break;case"PtgArea3d":f=S[1][1],m=S[1][2],x=$W(n,f,a),s.push(x+"!"+qT(m,a));break;case"PtgAttrSum":s.push("SUM("+s.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=S[1][2];var T=(n.names||[])[h-1]||(n[0]||[])[h],I=T?T.Name:"SH33TJSNAME"+String(h);I&&I.slice(0,6)=="_xlfn."&&!a.xlfn&&(I=I.slice(6)),s.push(I);break;case"PtgNameX":var L=S[1][1];h=S[1][2];var B;if(a.biff<=5)L<0&&(L=-L),n[L]&&(B=n[L][h]);else{var P="";if(((n[L]||[])[0]||[])[0]==14849||(((n[L]||[])[0]||[])[0]==1025?n[L][h]&&n[L][h].itab>0&&(P=n.SheetNames[n[L][h].itab-1]+"!"):P=n.SheetNames[h-1]+"!"),n[L]&&n[L][h])P+=n[L][h].Name;else if(n[0]&&n[0][h])P+=n[0][h].Name;else{var O=(Eae(n,L,a)||"").split(";;");O[h-1]?P=O[h-1]:P+="SH33TJSERRX"}s.push(P);break}B||(B={Name:"SH33TJSERRY"}),s.push(B.Name);break;case"PtgParen":var j="(",G=")";if(g>=0){switch(y="",e[0][g][1][0]){case 2:j=Ni(" ",e[0][g][1][1])+j;break;case 3:j=Ni("\r",e[0][g][1][1])+j;break;case 4:G=Ni(" ",e[0][g][1][1])+G;break;case 5:G=Ni("\r",e[0][g][1][1])+G;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}g=-1}s.push(j+s.pop()+G);break;case"PtgRefErr":s.push("#REF!");break;case"PtgRefErr3d":s.push("#REF!");break;case"PtgExp":d={c:S[1][1],r:S[1][0]};var Y={c:r.c,r:r.r};if(n.sharedf[Jr(d)]){var re=n.sharedf[Jr(d)];s.push(Es(re,o,Y,n,a))}else{var q=!1;for(l=0;l!=n.arrayf.length;++l)if(u=n.arrayf[l],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){s.push(Es(u[1],o,Y,n,a)),q=!0;break}q||s.push(S[1])}break;case"PtgArray":s.push("{"+Q$e(S[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=_;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":s.push("");break;case"PtgAreaErr":s.push("#REF!");break;case"PtgAreaErr3d":s.push("#REF!");break;case"PtgList":s.push("Table"+S[1].idx+"[#"+S[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(S));default:throw new Error("Unrecognized Formula Token: "+String(S))}var K=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&g>=0&&K.indexOf(e[0][_][0])==-1){S=e[0][g];var z=!0;switch(S[1][0]){case 4:z=!1;case 0:y=Ni(" ",S[1][1]);break;case 5:z=!1;case 1:y=Ni("\r",S[1][1]);break;default:if(y="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+S[1][0])}s.push((z?y:"")+s.pop()+(z?"":y)),g=-1}}if(s.length>1&&a.WTF)throw new Error("bad formula stack");return s[0]}function rBe(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,o=e.read_shift(a);if(o==65535)return[[],$s(e,t-2)];var s=t_(e,o,r);return t!==o+a&&(i=e_(e,t-o-a,s,r)),e.l=n,[s,i]}function nBe(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,o=e.read_shift(a);if(o==65535)return[[],$s(e,t-2)];var s=t_(e,o,r);return t!==o+a&&(i=e_(e,t-o-a,s,r)),e.l=n,[s,i]}function aBe(e,t,r,n){var a=e.l+t,i=t_(e,n,r),o;return a!==e.l&&(o=e_(e,a-e.l,i,r)),[i,o]}function iBe(e,t,r){var n=e.l+t,a,i=e.read_shift(2),o=t_(e,i,r);return i==65535?[[],$s(e,t-2)]:(t!==i+2&&(a=e_(e,n-i-2,o,r)),[o,a])}function oBe(e){var t;if(sh(e,e.l+6)!==65535)return[Os(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function sBe(e){if(e==null){var t=Nt(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return lg(e);return lg(0)}function GT(e,t,r){var n=e.l+t,a=yf(e);r.biff==2&&++e.l;var i=oBe(e),o=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var s=nBe(e,n-e.l,r);return{cell:a,val:i[0],formula:s,shared:o>>3&1,tt:i[1]}}function lBe(e,t,r,n,a){var i=ug(t,r,a),o=sBe(e.v),s=Nt(6),l=33;s.write_shift(2,l),s.write_shift(4,0);for(var u=Nt(e.bf.length),d=0;d<e.bf.length;++d)u[d]=e.bf[d];var f=jo([i,o,s,u]);return f}function V3(e,t,r){var n=e.read_shift(4),a=t_(e,n,r),i=e.read_shift(4),o=i>0?e_(e,i,a,r):null;return[a,o]}var cBe=V3,G3=V3,uBe=V3,dBe=V3,fBe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},Cae={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},hBe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function BW(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function pBe(e){var t="of:="+e.replace(GR,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function KT(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function mBe(e){return e.replace(/\./,"!")}var H2={},n1={},V2=typeof Map<"u";function XR(e,t,r){var n=0,a=e.length;if(r){if(V2?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=V2?r.get(t):r[t];n<i.length;++n)if(e[i[n]].t===t)return e.Count++,i[n]}}else for(;n<a;++n)if(e[n].t===t)return e.Count++,n;return e[a]={t},e.Count++,e.Unique++,r&&(V2?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function K3(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(Ts=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=pw(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=JS(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function zm(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function R0(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],a=60,i=e.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){fh(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=n=a;break}}for(a=0;a!=i;++a)if(e[a].numFmtId===n)return a;return e[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function Tae(e,t,r,n,a,i){try{n.cellNF&&(e.z=Gr[t])}catch(s){if(n.WTF)throw s}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=Ja(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(Gr[t]==null&&fh(f7e[t]||"General",t),e.t==="e")e.w=e.w||Fh[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=sw(e.v);else if(e.t==="d"){var o=wo(e.v);(o|0)===o?e.w=o.toString(10):e.w=sw(o)}else{if(e.v===void 0)return"";e.w=og(e.v,n1)}else e.t==="d"?e.w=eu(t,wo(e.v),n1):e.w=eu(t,e.v,n1)}catch(s){if(n.WTF)throw s}if(n.cellStyles&&r!=null)try{e.s=i.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=ZS(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=ZS(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(s){if(n.WTF&&i.Fills)throw s}}}function gBe(e,t,r){if(e&&e["!ref"]){var n=Gn(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function vBe(e,t){var r=Gn(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=vn(r))}var yBe=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,xBe=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,wBe=/<(?:\w:)?hyperlink [^>]*>/mg,_Be=/"(\w*:\w*)"/,bBe=/<(?:\w:)?col\b[^>]*[\/]?>/g,SBe=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,ABe=/<(?:\w:)?pageMargins[^>]*\/>/g,Pae=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,kBe=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,NBe=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function EBe(e,t,r,n,a,i,o){if(!e)return e;n||(n={"!id":{}});var s=t.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",d="",f=e.match(xBe);f?(u=e.slice(0,f.index),d=e.slice(f.index+f[0].length)):u=d=e;var h=u.match(Pae);h?ZR(h[0],s,a,r):(h=u.match(kBe))&&TBe(h[0],h[1]||"",s,a,r);var m=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(m>0){var x=u.slice(m,m+50).match(_Be);x&&vBe(s,x[1])}var g=u.match(NBe);g&&g[1]&&qBe(g[1],a);var y=[];if(t.cellStyles){var _=u.match(bBe);_&&LBe(y,_)}f&&HBe(f[1],s,t,l,i,o);var b=d.match(SBe);b&&(s["!autofilter"]=$Be(b[0]));var S=[],C=d.match(yBe);if(C)for(m=0;m!=C.length;++m)S[m]=Gn(C[m].slice(C[m].indexOf('"')+1));var E=d.match(wBe);E&&RBe(s,E,n);var D=d.match(ABe);if(D&&(s["!margins"]=MBe(nn(D[0]))),!s["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(s["!ref"]=vn(l)),t.sheetRows>0&&s["!ref"]){var T=Gn(s["!ref"]);t.sheetRows<=+T.e.r&&(T.e.r=t.sheetRows-1,T.e.r>l.e.r&&(T.e.r=l.e.r),T.e.r<T.s.r&&(T.s.r=T.e.r),T.e.c>l.e.c&&(T.e.c=l.e.c),T.e.c<T.s.c&&(T.s.c=T.e.c),s["!fullref"]=s["!ref"],s["!ref"]=vn(T))}return y.length>0&&(s["!cols"]=y),S.length>0&&(s["!merges"]=S),s}function CBe(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+vn(e[r])+'"/>';return t+"</mergeCells>"}function ZR(e,t,r,n){var a=nn(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=Vn(Aa(a.codeName)))}function TBe(e,t,r,n,a){ZR(e.slice(0,e.indexOf(">")),r,n,a)}function PBe(e,t,r,n,a){var i=!1,o={},s=null;if(n.bookType!=="xlsx"&&t.vbaraw){var l=t.SheetNames[r];try{t.Workbook&&(l=t.Workbook.Sheets[r].CodeName||l)}catch{}i=!0,o.codeName=Kd(_a(l))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),s=(s||"")+Xt("outlinePr",null,u)}!i&&!s||(a[a.length]=Xt("sheetPr",s,o))}var OBe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],DBe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function IBe(e){var t={sheet:1};return OBe.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),DBe.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=WR(e.password).toString(16).toUpperCase()),Xt("sheetProtection",null,t)}function RBe(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var i=nn(Aa(t[a]),!0);if(!i.ref)return;var o=((r||{})["!id"]||[])[i.id];o?(i.Target=o.Target,i.location&&(i.Target+="#"+Vn(i.location))):(i.Target="#"+Vn(i.location),o={Target:i.Target,TargetMode:"Internal"}),i.Rel=o,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var s=Gn(i.ref),l=s.s.r;l<=s.e.r;++l)for(var u=s.s.c;u<=s.e.c;++u){var d=Jr({c:u,r:l});n?(e[l]||(e[l]=[]),e[l][u]||(e[l][u]={t:"z",v:void 0}),e[l][u].l=i):(e[d]||(e[d]={t:"z",v:void 0}),e[d].l=i)}}}function MBe(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function FBe(e){return zm(e),Xt("pageMargins",null,e)}function LBe(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=nn(t[n],!0);a.hidden&&(a.hidden=Ya(a.hidden));var i=parseInt(a.min,10)-1,o=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,HR(a.width)),g0(a);i<=o;)e[i++]=Qa(a)}}function jBe(e,t){for(var r=["<cols>"],n,a=0;a!=t.length;++a)(n=t[a])&&(r[r.length]=Xt("col",null,K3(a,n)));return r[r.length]="</cols>",r.join("")}function $Be(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}function BBe(e,t,r,n){var a=typeof e.ref=="string"?e.ref:vn(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,o=Ml(a);o.s.r==o.e.r&&(o.e.r=Ml(t["!ref"]).e.r,a=vn(o));for(var s=0;s<i.length;++s){var l=i[s];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==n){l.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return s==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),Xt("autoFilter",null,{ref:a})}var UBe=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function qBe(e,t){t.Views||(t.Views=[{}]),(e.match(UBe)||[]).forEach(function(r,n){var a=nn(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),Ya(a.rightToLeft)&&(t.Views[n].RTL=!0)})}function zBe(e,t,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),Xt("sheetViews",Xt("sheetView",null,a),{})}function WBe(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",i=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=Fh[e.v];break;case"d":n&&n.cellDates?a=Ja(e.v,-1).toISOString():(e=Qa(e),e.t="n",a=""+(e.v=wo(Ja(e.v)))),typeof e.z>"u"&&(e.z=Gr[14]);break;default:a=e.v;break}var s=rs("v",_a(a)),l={r:t},u=R0(n.cellXfs,e,n);switch(u!==0&&(l.s=u),e.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){s=rs("v",""+XR(n.Strings,e.v,n.revStrings)),l.t="s";break}l.t="str";break}if(e.t!=i&&(e.t=i,e.v=o),typeof e.f=="string"&&e.f){var d=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;s=Xt("f",_a(e.f),d)+(e.v!=null?s:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(l.cm=1),Xt("c",s,l)}var HBe=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,i=lw("v"),o=lw("f");return function(l,u,d,f,h,m){for(var x=0,g="",y=[],_=[],b=0,S=0,C=0,E="",D,T,I=0,L=0,B,P,O=0,j=0,G=Array.isArray(m.CellXf),Y,re=[],q=[],K=Array.isArray(u),z=[],te={},Q=!1,R=!!d.sheetStubs,H=l.split(t),X=0,Z=H.length;X!=Z;++X){g=H[X].trim();var ie=g.length;if(ie!==0){var le=0;e:for(x=0;x<ie;++x)switch(g[x]){case">":if(g[x-1]!="/"){++x;break e}if(d&&d.cellStyles){if(T=nn(g.slice(le,x),!0),I=T.r!=null?parseInt(T.r,10):I+1,L=-1,d.sheetRows&&d.sheetRows<I)continue;te={},Q=!1,T.ht&&(Q=!0,te.hpt=parseFloat(T.ht),te.hpx=G1(te.hpt)),T.hidden=="1"&&(Q=!0,te.hidden=!0),T.outlineLevel!=null&&(Q=!0,te.level=+T.outlineLevel),Q&&(z[I-1]=te)}break;case"<":le=x;break}if(le>=x)break;if(T=nn(g.slice(le,x),!0),I=T.r!=null?parseInt(T.r,10):I+1,L=-1,!(d.sheetRows&&d.sheetRows<I)){f.s.r>I-1&&(f.s.r=I-1),f.e.r<I-1&&(f.e.r=I-1),d&&d.cellStyles&&(te={},Q=!1,T.ht&&(Q=!0,te.hpt=parseFloat(T.ht),te.hpx=G1(te.hpt)),T.hidden=="1"&&(Q=!0,te.hidden=!0),T.outlineLevel!=null&&(Q=!0,te.level=+T.outlineLevel),Q&&(z[I-1]=te)),y=g.slice(x).split(e);for(var pe=0;pe!=y.length&&y[pe].trim().charAt(0)=="<";++pe);for(y=y.slice(pe),x=0;x!=y.length;++x)if(g=y[x].trim(),g.length!==0){if(_=g.match(r),b=x,S=0,C=0,g="<c "+(g.slice(0,1)=="<"?">":"")+g,_!=null&&_.length===2){for(b=0,E=_[1],S=0;S!=E.length&&!((C=E.charCodeAt(S)-64)<1||C>26);++S)b=26*b+C;--b,L=b}else++L;for(S=0;S!=g.length&&g.charCodeAt(S)!==62;++S);if(++S,T=nn(g.slice(0,S),!0),T.r||(T.r=Jr({r:I-1,c:L})),E=g.slice(S),D={t:""},(_=E.match(i))!=null&&_[1]!==""&&(D.v=Vn(_[1])),d.cellFormula){if((_=E.match(o))!=null&&_[1]!==""){if(D.f=Vn(Aa(_[1])).replace(/\r\n/g,`
`),d.xlfn||(D.f=FW(D.f)),_[0].indexOf('t="array"')>-1)D.F=(E.match(a)||[])[1],D.F.indexOf(":")>-1&&re.push([Gn(D.F),D.F]);else if(_[0].indexOf('t="shared"')>-1){P=nn(_[0]);var J=Vn(Aa(_[1]));d.xlfn||(J=FW(J)),q[parseInt(P.si,10)]=[P,J,T.r]}}else(_=E.match(/<f[^>]*\/>/))&&(P=nn(_[0]),q[P.si]&&(D.f=Uje(q[P.si][1],q[P.si][2],T.r)));var me=pi(T.r);for(S=0;S<re.length;++S)me.r>=re[S][0].s.r&&me.r<=re[S][0].e.r&&me.c>=re[S][0].s.c&&me.c<=re[S][0].e.c&&(D.F=re[S][1])}if(T.t==null&&D.v===void 0)if(D.f||D.F)D.v=0,D.t="n";else if(R)D.t="z";else continue;else D.t=T.t||"n";switch(f.s.c>L&&(f.s.c=L),f.e.c<L&&(f.e.c=L),D.t){case"n":if(D.v==""||D.v==null){if(!R)continue;D.t="z"}else D.v=parseFloat(D.v);break;case"s":if(typeof D.v>"u"){if(!R)continue;D.t="z"}else B=H2[parseInt(D.v,10)],D.v=B.t,D.r=B.r,d.cellHTML&&(D.h=B.h);break;case"str":D.t="s",D.v=D.v!=null?Aa(D.v):"",d.cellHTML&&(D.h=TR(D.v));break;case"inlineStr":_=E.match(n),D.t="s",_!=null&&(B=zR(_[1]))?(D.v=B.t,d.cellHTML&&(D.h=B.h)):D.v="";break;case"b":D.v=Ya(D.v);break;case"d":d.cellDates?D.v=Ja(D.v,1):(D.v=wo(Ja(D.v,1)),D.t="n");break;case"e":(!d||d.cellText!==!1)&&(D.w=D.v),D.v=Dne[D.v];break}if(O=j=0,Y=null,G&&T.s!==void 0&&(Y=m.CellXf[T.s],Y!=null&&(Y.numFmtId!=null&&(O=Y.numFmtId),d.cellStyles&&Y.fillId!=null&&(j=Y.fillId))),Tae(D,O,j,d,h,m),d.cellDates&&G&&D.t=="n"&&gy(Gr[O])&&(D.t="d",D.v=W3(D.v)),T.cm&&d.xlmeta){var ve=(d.xlmeta.Cell||[])[+T.cm-1];ve&&ve.type=="XLDAPR"&&(D.D=!0)}if(K){var ae=pi(T.r);u[ae.r]||(u[ae.r]=[]),u[ae.r][ae.c]=D}else u[T.r]=D}}}}z.length>0&&(u["!rows"]=z)}}();function VBe(e,t,r,n){var a=[],i=[],o=Gn(e["!ref"]),s="",l,u="",d=[],f=0,h=0,m=e["!rows"],x=Array.isArray(e),g={r:u},y,_=-1;for(h=o.s.c;h<=o.e.c;++h)d[h]=hi(h);for(f=o.s.r;f<=o.e.r;++f){for(i=[],u=Yi(f),h=o.s.c;h<=o.e.c;++h){l=d[h]+u;var b=x?(e[f]||[])[h]:e[l];b!==void 0&&(s=WBe(b,l,e,t))!=null&&i.push(s)}(i.length>0||m&&m[f])&&(g={r:u},m&&m[f]&&(y=m[f],y.hidden&&(g.hidden=1),_=-1,y.hpx?_=mw(y.hpx):y.hpt&&(_=y.hpt),_>-1&&(g.ht=_,g.customHeight=1),y.level&&(g.outlineLevel=y.level)),a[a.length]=Xt("row",i.join(""),g))}if(m)for(;f<m.length;++f)m&&m[f]&&(g={r:f+1},y=m[f],y.hidden&&(g.hidden=1),_=-1,y.hpx?_=mw(y.hpx):y.hpt&&(_=y.hpt),_>-1&&(g.ht=_,g.customHeight=1),y.level&&(g.outlineLevel=y.level),a[a.length]=Xt("row","",g));return a.join("")}function Oae(e,t,r,n){var a=[Zi,Xt("worksheet",null,{xmlns:Eg[0],"xmlns:r":go.r})],i=r.SheetNames[e],o=0,s="",l=r.Sheets[i];l==null&&(l={});var u=l["!ref"]||"A1",d=Gn(u);if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),u=vn(d)}n||(n={}),l["!comments"]=[];var f=[];PBe(l,r,e,t,a),a[a.length]=Xt("dimension",null,{ref:u}),a[a.length]=zBe(l,t,e,r),t.sheetFormat&&(a[a.length]=Xt("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(a[a.length]=jBe(l,l["!cols"])),a[o=a.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(s=VBe(l,t),s.length>0&&(a[a.length]=s)),a.length>o+1&&(a[a.length]="</sheetData>",a[o]=a[o].replace("/>",">")),l["!protect"]&&(a[a.length]=IBe(l["!protect"])),l["!autofilter"]!=null&&(a[a.length]=BBe(l["!autofilter"],l,r,e)),l["!merges"]!=null&&l["!merges"].length>0&&(a[a.length]=CBe(l["!merges"]));var h=-1,m,x=-1;return l["!links"].length>0&&(a[a.length]="<hyperlinks>",l["!links"].forEach(function(g){g[1].Target&&(m={ref:g[0]},g[1].Target.charAt(0)!="#"&&(x=wa(n,-1,_a(g[1].Target).replace(/#.*$/,""),Tn.HLINK),m["r:id"]="rId"+x),(h=g[1].Target.indexOf("#"))>-1&&(m.location=_a(g[1].Target.slice(h+1))),g[1].Tooltip&&(m.tooltip=_a(g[1].Tooltip)),a[a.length]=Xt("hyperlink",null,m))}),a[a.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(a[a.length]=FBe(l["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=rs("ignoredErrors",Xt("ignoredError",null,{numberStoredAsText:1,sqref:u}))),f.length>0&&(x=wa(n,-1,"../drawings/drawing"+(e+1)+".xml",Tn.DRAW),a[a.length]=Xt("drawing",null,{"r:id":"rId"+x}),l["!drawing"]=f),l["!comments"].length>0&&(x=wa(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Tn.VML),a[a.length]=Xt("legacyDrawing",null,{"r:id":"rId"+x}),l["!legacy"]=x),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function GBe(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}function KBe(e,t,r){var n=Nt(145),a=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var i=320;a.hpx?i=mw(a.hpx)*20:a.hpt&&(i=a.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var o=0;a.level&&(o|=a.level),a.hidden&&(o|=16),(a.hpx||a.hpt)&&(o|=32),n.write_shift(1,o),n.write_shift(1,0);var s=0,l=n.l;n.l+=4;for(var u={r:e,c:0},d=0;d<16;++d)if(!(t.s.c>d+1<<10||t.e.c<d<<10)){for(var f=-1,h=-1,m=d<<10;m<d+1<<10;++m){u.c=m;var x=Array.isArray(r)?(r[u.r]||[])[u.c]:r[Jr(u)];x&&(f<0&&(f=m),h=m)}f<0||(++s,n.write_shift(4,f),n.write_shift(4,h))}var g=n.l;return n.l=l,n.write_shift(4,s),n.l=g,n.length>n.l?n.slice(0,n.l):n}function YBe(e,t,r,n){var a=KBe(n,r,t);(a.length>17||(t["!rows"]||[])[n])&&Dt(e,0,a)}var XBe=Og,ZBe=xy;function JBe(){}function QBe(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=rMe(e),r}function eUe(e,t,r){r==null&&(r=Nt(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return KS({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),Ene(e,r),r.slice(0,r.l)}function tUe(e){var t=au(e);return[t]}function rUe(e,t,r){return r==null&&(r=Nt(8)),Cg(t,r)}function nUe(e){var t=Tg(e);return[t]}function aUe(e,t,r){return r==null&&(r=Nt(4)),Pg(t,r)}function iUe(e){var t=au(e),r=e.read_shift(1);return[t,r,"b"]}function oUe(e,t,r){return r==null&&(r=Nt(9)),Cg(t,r),r.write_shift(1,e.v?1:0),r}function sUe(e){var t=Tg(e),r=e.read_shift(1);return[t,r,"b"]}function lUe(e,t,r){return r==null&&(r=Nt(5)),Pg(t,r),r.write_shift(1,e.v?1:0),r}function cUe(e){var t=au(e),r=e.read_shift(1);return[t,r,"e"]}function uUe(e,t,r){return r==null&&(r=Nt(9)),Cg(t,r),r.write_shift(1,e.v),r}function dUe(e){var t=Tg(e),r=e.read_shift(1);return[t,r,"e"]}function fUe(e,t,r){return r==null&&(r=Nt(8)),Pg(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function hUe(e){var t=au(e),r=e.read_shift(4);return[t,r,"s"]}function pUe(e,t,r){return r==null&&(r=Nt(12)),Cg(t,r),r.write_shift(4,t.v),r}function mUe(e){var t=Tg(e),r=e.read_shift(4);return[t,r,"s"]}function gUe(e,t,r){return r==null&&(r=Nt(8)),Pg(t,r),r.write_shift(4,t.v),r}function vUe(e){var t=au(e),r=Os(e);return[t,r,"n"]}function yUe(e,t,r){return r==null&&(r=Nt(16)),Cg(t,r),lg(e.v,r),r}function Dae(e){var t=Tg(e),r=Os(e);return[t,r,"n"]}function xUe(e,t,r){return r==null&&(r=Nt(12)),Pg(t,r),lg(e.v,r),r}function wUe(e){var t=au(e),r=jR(e);return[t,r,"n"]}function _Ue(e,t,r){return r==null&&(r=Nt(12)),Cg(t,r),Cne(e.v,r),r}function bUe(e){var t=Tg(e),r=jR(e);return[t,r,"n"]}function SUe(e,t,r){return r==null&&(r=Nt(8)),Pg(t,r),Cne(e.v,r),r}function AUe(e){var t=au(e),r=MR(e);return[t,r,"is"]}function kUe(e){var t=au(e),r=Rs(e);return[t,r,"str"]}function NUe(e,t,r){return r==null&&(r=Nt(12+4*e.v.length)),Cg(t,r),$o(e.v,r),r.length>r.l?r.slice(0,r.l):r}function EUe(e){var t=Tg(e),r=Rs(e);return[t,r,"str"]}function CUe(e,t,r){return r==null&&(r=Nt(8+4*e.v.length)),Pg(t,r),$o(e.v,r),r.length>r.l?r.slice(0,r.l):r}function TUe(e,t,r){var n=e.l+t,a=au(e);a.r=r["!row"];var i=e.read_shift(1),o=[a,i,"b"];if(r.cellFormula){e.l+=2;var s=G3(e,n-e.l,r);o[3]=Es(s,null,a,r.supbooks,r)}else e.l=n;return o}function PUe(e,t,r){var n=e.l+t,a=au(e);a.r=r["!row"];var i=e.read_shift(1),o=[a,i,"e"];if(r.cellFormula){e.l+=2;var s=G3(e,n-e.l,r);o[3]=Es(s,null,a,r.supbooks,r)}else e.l=n;return o}function OUe(e,t,r){var n=e.l+t,a=au(e);a.r=r["!row"];var i=Os(e),o=[a,i,"n"];if(r.cellFormula){e.l+=2;var s=G3(e,n-e.l,r);o[3]=Es(s,null,a,r.supbooks,r)}else e.l=n;return o}function DUe(e,t,r){var n=e.l+t,a=au(e);a.r=r["!row"];var i=Rs(e),o=[a,i,"str"];if(r.cellFormula){e.l+=2;var s=G3(e,n-e.l,r);o[3]=Es(s,null,a,r.supbooks,r)}else e.l=n;return o}var IUe=Og,RUe=xy;function MUe(e,t){return t==null&&(t=Nt(4)),t.write_shift(4,e),t}function FUe(e,t){var r=e.l+t,n=Og(e),a=FR(e),i=Rs(e),o=Rs(e),s=Rs(e);e.l=r;var l={rfx:n,relId:a,loc:i,display:s};return o&&(l.Tooltip=o),l}function LUe(e,t){var r=Nt(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));xy({s:pi(e[0]),e:pi(e[0])},r),LR("rId"+t,r);var n=e[1].Target.indexOf("#"),a=n==-1?"":e[1].Target.slice(n+1);return $o(a||"",r),$o(e[1].Tooltip||"",r),$o("",r),r.slice(0,r.l)}function jUe(){}function $Ue(e,t,r){var n=e.l+t,a=Tne(e),i=e.read_shift(1),o=[a];if(o[2]=i,r.cellFormula){var s=cBe(e,n-e.l,r);o[1]=s}else e.l=n;return o}function BUe(e,t,r){var n=e.l+t,a=Og(e),i=[a];if(r.cellFormula){var o=dBe(e,n-e.l,r);i[1]=o,e.l=n}else e.l=n;return i}function UUe(e,t,r){r==null&&(r=Nt(18));var n=K3(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var Iae=["left","right","top","bottom","header","footer"];function qUe(e){var t={};return Iae.forEach(function(r){t[r]=Os(e)}),t}function zUe(e,t){return t==null&&(t=Nt(6*8)),zm(e),Iae.forEach(function(r){lg(e[r],t)}),t}function WUe(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function HUe(e,t,r){r==null&&(r=Nt(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function VUe(e){var t=Nt(24);return t.write_shift(4,4),t.write_shift(4,1),xy(e,t),t}function GUe(e,t){return t==null&&(t=Nt(16*4+2)),t.write_shift(2,e.password?WR(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function KUe(){}function YUe(){}function XUe(e,t,r,n,a,i,o){if(!e)return e;var s=t||{};n||(n={"!id":{}});var l=s.dense?[]:{},u,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,h=!1,m,x,g,y,_,b,S,C,E,D=[];s.biff=12,s["!row"]=0;var T=0,I=!1,L=[],B={},P=s.supbooks||a.supbooks||[[]];if(P.sharedf=B,P.arrayf=L,P.SheetNames=a.SheetNames||a.Sheets.map(function(K){return K.name}),!s.supbooks&&(s.supbooks=P,a.Names))for(var O=0;O<a.Names.length;++O)P[0][O+1]=a.Names[O];var j=[],G=[],Y=!1;gw[16]={n:"BrtShortReal",f:Dae};var re;if(Mh(e,function(z,te,Q){if(!h)switch(Q){case 148:u=z;break;case 0:m=z,s.sheetRows&&s.sheetRows<=m.r&&(h=!0),C=Yi(y=m.r),s["!row"]=m.r,(z.hidden||z.hpt||z.level!=null)&&(z.hpt&&(z.hpx=G1(z.hpt)),G[z.r]=z);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(x={t:z[2]},z[2]){case"n":x.v=z[1];break;case"s":S=H2[z[1]],x.v=S.t,x.r=S.r;break;case"b":x.v=!!z[1];break;case"e":x.v=z[1],s.cellText!==!1&&(x.w=Fh[x.v]);break;case"str":x.t="s",x.v=z[1];break;case"is":x.t="s",x.v=z[1].t;break}if((g=o.CellXf[z[0].iStyleRef])&&Tae(x,g.numFmtId,null,s,i,o),_=z[0].c==-1?_+1:z[0].c,s.dense?(l[y]||(l[y]=[]),l[y][_]=x):l[hi(_)+C]=x,s.cellFormula){for(I=!1,T=0;T<L.length;++T){var R=L[T];m.r>=R[0].s.r&&m.r<=R[0].e.r&&_>=R[0].s.c&&_<=R[0].e.c&&(x.F=vn(R[0]),I=!0)}!I&&z.length>3&&(x.f=z[3])}if(d.s.r>m.r&&(d.s.r=m.r),d.s.c>_&&(d.s.c=_),d.e.r<m.r&&(d.e.r=m.r),d.e.c<_&&(d.e.c=_),s.cellDates&&g&&x.t=="n"&&gy(Gr[g.numFmtId])){var H=Mm(x.v);H&&(x.t="d",x.v=new Date(H.y,H.m-1,H.d,H.H,H.M,H.S,H.u))}re&&(re.type=="XLDAPR"&&(x.D=!0),re=void 0);break;case 1:case 12:if(!s.sheetStubs||f)break;x={t:"z",v:void 0},_=z[0].c==-1?_+1:z[0].c,s.dense?(l[y]||(l[y]=[]),l[y][_]=x):l[hi(_)+C]=x,d.s.r>m.r&&(d.s.r=m.r),d.s.c>_&&(d.s.c=_),d.e.r<m.r&&(d.e.r=m.r),d.e.c<_&&(d.e.c=_),re&&(re.type=="XLDAPR"&&(x.D=!0),re=void 0);break;case 176:D.push(z);break;case 49:re=((s.xlmeta||{}).Cell||[])[z-1];break;case 494:var X=n["!id"][z.relId];for(X?(z.Target=X.Target,z.loc&&(z.Target+="#"+z.loc),z.Rel=X):z.relId==""&&(z.Target="#"+z.loc),y=z.rfx.s.r;y<=z.rfx.e.r;++y)for(_=z.rfx.s.c;_<=z.rfx.e.c;++_)s.dense?(l[y]||(l[y]=[]),l[y][_]||(l[y][_]={t:"z",v:void 0}),l[y][_].l=z):(b=Jr({c:_,r:y}),l[b]||(l[b]={t:"z",v:void 0}),l[b].l=z);break;case 426:if(!s.cellFormula)break;L.push(z),E=s.dense?l[y][_]:l[hi(_)+C],E.f=Es(z[1],d,{r:m.r,c:_},P,s),E.F=vn(z[0]);break;case 427:if(!s.cellFormula)break;B[Jr(z[0].s)]=z[1],E=s.dense?l[y][_]:l[hi(_)+C],E.f=Es(z[1],d,{r:m.r,c:_},P,s);break;case 60:if(!s.cellStyles)break;for(;z.e>=z.s;)j[z.e--]={width:z.w/256,hidden:!!(z.flags&1),level:z.level},Y||(Y=!0,HR(z.w/256)),g0(j[z.e+1]);break;case 161:l["!autofilter"]={ref:vn(z)};break;case 476:l["!margins"]=z;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),z.name&&(a.Sheets[r].CodeName=z.name),(z.above||z.left)&&(l["!outline"]={above:z.above,left:z.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),z.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!te.T){if(!f||s.WTF)throw new Error("Unexpected record 0x"+Q.toString(16))}}},s),delete s.supbooks,delete s["!row"],!l["!ref"]&&(d.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(l["!ref"]=vn(u||d)),s.sheetRows&&l["!ref"]){var q=Gn(l["!ref"]);s.sheetRows<=+q.e.r&&(q.e.r=s.sheetRows-1,q.e.r>d.e.r&&(q.e.r=d.e.r),q.e.r<q.s.r&&(q.s.r=q.e.r),q.e.c>d.e.c&&(q.e.c=d.e.c),q.e.c<q.s.c&&(q.s.c=q.e.c),l["!fullref"]=l["!ref"],l["!ref"]=vn(q))}return D.length>0&&(l["!merges"]=D),j.length>0&&(l["!cols"]=j),G.length>0&&(l["!rows"]=G),l}function ZUe(e,t,r,n,a,i,o){if(t.v===void 0)return!1;var s="";switch(t.t){case"b":s=t.v?"1":"0";break;case"d":t=Qa(t),t.z=t.z||Gr[14],t.v=wo(Ja(t.v)),t.t="n";break;case"n":case"e":s=""+t.v;break;default:s=t.v;break}var l={r,c:n};switch(l.s=R0(a.cellXfs,t,a),t.l&&i["!links"].push([Jr(l),t.l]),t.c&&i["!comments"].push([Jr(l),t.c]),t.t){case"s":case"str":return a.bookSST?(s=XR(a.Strings,t.v,a.revStrings),l.t="s",l.v=s,o?Dt(e,18,gUe(t,l)):Dt(e,7,pUe(t,l))):(l.t="str",o?Dt(e,17,CUe(t,l)):Dt(e,6,NUe(t,l))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?Dt(e,13,SUe(t,l)):Dt(e,2,_Ue(t,l)):o?Dt(e,16,xUe(t,l)):Dt(e,5,yUe(t,l)),!0;case"b":return l.t="b",o?Dt(e,15,lUe(t,l)):Dt(e,4,oUe(t,l)),!0;case"e":return l.t="e",o?Dt(e,14,fUe(t,l)):Dt(e,3,uUe(t,l)),!0}return o?Dt(e,12,aUe(t,l)):Dt(e,1,rUe(t,l)),!0}function JUe(e,t,r,n){var a=Gn(t["!ref"]||"A1"),i,o="",s=[];Dt(e,145);var l=Array.isArray(t),u=a.e.r;t["!rows"]&&(u=Math.max(a.e.r,t["!rows"].length-1));for(var d=a.s.r;d<=u;++d){o=Yi(d),YBe(e,t,a,d);var f=!1;if(d<=a.e.r)for(var h=a.s.c;h<=a.e.c;++h){d===a.s.r&&(s[h]=hi(h)),i=s[h]+o;var m=l?(t[d]||[])[h]:t[i];if(!m){f=!1;continue}f=ZUe(e,m,d,h,n,t,f)}}Dt(e,146)}function QUe(e,t){!t||!t["!merges"]||(Dt(e,177,MUe(t["!merges"].length)),t["!merges"].forEach(function(r){Dt(e,176,RUe(r))}),Dt(e,178))}function eqe(e,t){!t||!t["!cols"]||(Dt(e,390),t["!cols"].forEach(function(r,n){r&&Dt(e,60,UUe(n,r))}),Dt(e,391))}function tqe(e,t){!t||!t["!ref"]||(Dt(e,648),Dt(e,649,VUe(Gn(t["!ref"]))),Dt(e,650))}function rqe(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var a=wa(r,-1,n[1].Target.replace(/#.*$/,""),Tn.HLINK);Dt(e,494,LUe(n,a))}}),delete t["!links"]}function nqe(e,t,r,n){if(t["!comments"].length>0){var a=wa(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Tn.VML);Dt(e,551,LR("rId"+a)),t["!legacy"]=a}}function aqe(e,t,r,n){if(t["!autofilter"]){var a=t["!autofilter"],i=typeof a.ref=="string"?a.ref:vn(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,s=Ml(i);s.s.r==s.e.r&&(s.e.r=Ml(t["!ref"]).e.r,i=vn(s));for(var l=0;l<o.length;++l){var u=o[l];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+i;break}}l==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),Dt(e,161,xy(Gn(i))),Dt(e,162)}}function iqe(e,t,r){Dt(e,133),Dt(e,137,HUe(t,r)),Dt(e,138),Dt(e,134)}function oqe(e,t){t["!protect"]&&Dt(e,535,GUe(t["!protect"]))}function sqe(e,t,r,n){var a=Rl(),i=r.SheetNames[e],o=r.Sheets[i]||{},s=i;try{r&&r.Workbook&&(s=r.Workbook.Sheets[e].CodeName||s)}catch{}var l=Gn(o["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],Dt(a,129),(r.vbaraw||o["!outline"])&&Dt(a,147,eUe(s,o["!outline"])),Dt(a,148,ZBe(l)),iqe(a,o,r.Workbook),eqe(a,o),JUe(a,o,e,t),oqe(a,o),aqe(a,o,r,e),QUe(a,o),rqe(a,o,n),o["!margins"]&&Dt(a,476,zUe(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&tqe(a,o),nqe(a,o,e,n),Dt(a,130),a.end()}function lqe(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var o=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(t[+o[1]]=r?+o[2]:o[2])});var a=Vn((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){n=i.replace(/<.*?>/g,"")}),[t,a,n]}function cqe(e,t,r,n,a,i){var o=i||{"!type":"chart"};if(!e)return i;var s=0,l=0,u="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var h=lqe(f);d.s.r=d.s.c=0,d.e.c=s,u=hi(s),h[0].forEach(function(m,x){o[u+Yi(x)]={t:"n",v:m,z:h[1]},l=x}),d.e.r<l&&(d.e.r=l),++s}),s>0&&(o["!ref"]=vn(d)),o}function uqe(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},o,s=e.match(Pae);return s&&ZR(s[0],i,a,r),(o=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=o[1]),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}function dqe(e,t){e.l+=10;var r=Rs(e);return{name:r}}function fqe(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},o=!1;return Mh(e,function(l,u,d){switch(d){case 550:i["!rel"]=l;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),l.name&&(a.Sheets[r].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!o||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},t),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}var JR=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],hqe=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],pqe=[],mqe=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function UW(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var i=t[a];if(n[i[0]]==null)n[i[0]]=i[1];else switch(i[2]){case"bool":typeof n[i[0]]=="string"&&(n[i[0]]=Ya(n[i[0]]));break;case"int":typeof n[i[0]]=="string"&&(n[i[0]]=parseInt(n[i[0]],10));break}}}function qW(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=Ya(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function Rae(e){qW(e.WBProps,JR),qW(e.CalcPr,mqe),UW(e.WBView,hqe),UW(e.Sheets,pqe),n1.date1904=Ya(e.WBProps.date1904)}function gqe(e){return!e.Workbook||!e.Workbook.WBProps?"false":Ya(e.Workbook.WBProps.date1904)?"true":"false"}var vqe="][*?/\\".split("");function Mae(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return vqe.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function yqe(e,t,r){e.forEach(function(n,a){Mae(n);for(var i=0;i<a;++i)if(n==e[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var o=t&&t[a]&&t[a].CodeName||n;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function xqe(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];yqe(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)gBe(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}var wqe=/<\w+:workbook/;function _qe(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",i={},o=0;if(e.replace(Bs,function(l,u){var d=nn(l);switch(vf(d[0])){case"<?xml":break;case"<workbook":l.match(wqe)&&(a="xmlns"+l.match(/<(\w+):/)[1]),r.xmlns=d[a];break;case"</workbook>":break;case"<fileVersion":delete d[0],r.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":JR.forEach(function(f){if(d[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=Ya(d[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(d[f[0]],10);break;default:r.WBProps[f[0]]=d[f[0]]}}),d.codeName&&(r.WBProps.CodeName=Aa(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],r.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=Vn(Aa(d.name)),delete d[0],r.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":i={},i.Name=Aa(d.name),d.comment&&(i.Comment=d.comment),d.localSheetId&&(i.Sheet=+d.localSheetId),Ya(d.hidden||"0")&&(i.Hidden=!0),o=u+l.length;break;case"</definedName>":i.Ref=Vn(Aa(e.slice(o,u))),r.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete d[0],r.CalcPr=d;break;case"<calcPr/>":delete d[0],r.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return l}),Eg.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return Rae(r),r}function Fae(e){var t=[Zi];t[t.length]=Xt("workbook",null,{xmlns:Eg[0],"xmlns:r":go.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(JR.forEach(function(s){e.Workbook.WBProps[s[0]]!=null&&e.Workbook.WBProps[s[0]]!=s[1]&&(n[s[0]]=e.Workbook.WBProps[s[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=Xt("workbookPr",null,n);var a=e.Workbook&&e.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var o={name:_a(e.SheetNames[i].slice(0,31))};if(o.sheetId=""+(i+1),o["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=Xt("sheet",null,o)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(s){var l={name:s.Name};s.Comment&&(l.comment=s.Comment),s.Sheet!=null&&(l.localSheetId=""+s.Sheet),s.Hidden&&(l.hidden="1"),s.Ref&&(t[t.length]=Xt("definedName",_a(s.Ref),l))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function bqe(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=n8(e),r.name=Rs(e),r}function Sqe(e,t){return t||(t=Nt(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),LR(e.strRelID,t),$o(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function Aqe(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?Rs(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function kqe(e,t){t||(t=Nt(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),Ene(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function Nqe(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function Eqe(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=nMe(e),o=uBe(e,0,r),s=FR(e);e.l=n;var l={Name:i,Ptg:o};return a<268435455&&(l.Sheet=a),s&&(l.Comment=s),l}function Cqe(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var i=[],o=[[]];return o.SheetNames=[],o.XTI=[],gw[16]={n:"BrtFRTArchID$",f:Nqe},Mh(e,function(l,u,d){switch(d){case 156:o.SheetNames.push(l.name),r.Sheets.push(l);break;case 153:r.WBProps=l;break;case 39:l.Sheet!=null&&(t.SID=l.Sheet),l.Ref=Es(l.Ptg,null,null,o,t),delete t.SID,delete l.Ptg,i.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([d,l]):o[0]=[d,l],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(l),o.XTI=o.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(d),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(d),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!u.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},t),Rae(r),r.Names=i,r.supbooks=o,r}function Tqe(e,t){Dt(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};Dt(e,156,Sqe(a))}Dt(e,144)}function Pqe(e,t){t||(t=Nt(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return $o("SheetJS",t),$o(US.version,t),$o(US.version,t),$o("7262",t),t.length>t.l?t.slice(0,t.l):t}function Oqe(e,t){t||(t=Nt(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function Dqe(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,a=-1,i=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&i==-1&&(i=n);i>a||(Dt(e,135),Dt(e,158,Oqe(a)),Dt(e,136))}}function Iqe(e,t){var r=Rl();return Dt(r,131),Dt(r,128,Pqe()),Dt(r,153,kqe(e.Workbook&&e.Workbook.WBProps||null)),Dqe(r,e),Tqe(r,e),Dt(r,132),r.end()}function Rqe(e,t,r){return t.slice(-4)===".bin"?Cqe(e,r):_qe(e,r)}function Mqe(e,t,r,n,a,i,o,s){return t.slice(-4)===".bin"?XUe(e,n,r,a,i,o,s):EBe(e,n,r,a,i,o,s)}function Fqe(e,t,r,n,a,i,o,s){return t.slice(-4)===".bin"?fqe(e,n,r,a,i):uqe(e,n,r,a,i)}function Lqe(e,t,r,n,a,i,o,s){return t.slice(-4)===".bin"?$je():Bje()}function jqe(e,t,r,n,a,i,o,s){return t.slice(-4)===".bin"?Lje():jje()}function $qe(e,t,r,n){return t.slice(-4)===".bin"?R9e(e,r,n):b9e(e,r,n)}function Bqe(e,t,r){return gae(e,r)}function Uqe(e,t,r){return t.slice(-4)===".bin"?ULe(e,r):jLe(e,r)}function qqe(e,t,r){return t.slice(-4)===".bin"?Dje(e,r):Sje(e,r)}function zqe(e,t,r){return t.slice(-4)===".bin"?wje(e):yje(e)}function Wqe(e,t,r,n){return r.slice(-4)===".bin"?_je(e,t,r,n):void 0}function Hqe(e,t,r){return t.slice(-4)===".bin"?mje(e,t,r):vje(e,t,r)}function Vqe(e,t,r){return(t.slice(-4)===".bin"?Iqe:Fae)(e)}function Gqe(e,t,r,n,a){return(t.slice(-4)===".bin"?sqe:Oae)(e,r,n,a)}function Kqe(e,t,r){return(t.slice(-4)===".bin"?W9e:pae)(e,r)}function Yqe(e,t,r){return(t.slice(-4)===".bin"?WLe:oae)(e,r)}function Xqe(e,t,r){return(t.slice(-4)===".bin"?Ije:xae)(e)}function Zqe(e){return(e.slice(-4)===".bin"?gje:vae)()}var Lae=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,jae=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Cu(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(Lae),i,o,s,l;if(a)for(l=0;l!=a.length;++l)i=a[l].match(jae),(o=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?s="xmlns"+i[1].slice(6):s=i[1].slice(o+1),n[s]=i[2].slice(1,i[2].length-1));return n}function Jqe(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(Lae),a,i,o,s;if(n)for(s=0;s!=n.length;++s)a=n[s].match(jae),(i=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?o="xmlns"+a[1].slice(6):o=a[1].slice(i+1),r[o]=a[2].slice(1,a[2].length-1));return r}var G2;function Qqe(e,t){var r=G2[e]||Vn(e);return r==="General"?og(t):eu(r,t)}function eze(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=Ya(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=Ja(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[Vn(t)]=a}function tze(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||Fh[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=sw(e.v):e.w=og(e.v):e.w=Qqe(t||"General",e.v)}catch(i){if(r.WTF)throw i}try{var n=G2[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&gy(n)){var a=Mm(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(i){if(r.WTF)throw i}}}function rze(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=p9e[n.Pattern]||n.Pattern)}e[t.ID]=t}function nze(e,t,r,n,a,i,o,s,l,u){var d="General",f=n.StyleID,h={};u=u||{};var m=[],x=0;for(f===void 0&&s&&(f=s.StyleID),f===void 0&&o&&(f=o.StyleID);i[f]!==void 0&&(i[f].nf&&(d=i[f].nf),i[f].Interior&&m.push(i[f].Interior),!!i[f].Parent);)f=i[f].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=Ya(e);break;case"String":n.t="s",n.r=iW(Vn(e)),n.v=e.indexOf("<")>-1?Vn(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(Ja(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=Vn(e):n.v<60&&(n.v=n.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=Dne[e],u.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=iW(t||e));break}if(tze(n,d,u),u.cellFormula!==!1)if(n.Formula){var g=Vn(n.Formula);g.charCodeAt(0)==61&&(g=g.slice(1)),n.f=r1(g,a),delete n.Formula,n.ArrayRange=="RC"?n.F=r1("RC:RC",a):n.ArrayRange&&(n.F=r1(n.ArrayRange,a),l.push([Gn(n.F),n.F]))}else for(x=0;x<l.length;++x)a.r>=l[x][0].s.r&&a.r<=l[x][0].e.r&&a.c>=l[x][0].s.c&&a.c<=l[x][0].e.c&&(n.F=l[x][1]);u.cellStyles&&(m.forEach(function(y){!h.patternType&&y.patternType&&(h.patternType=y.patternType)}),n.s=h),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function aze(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function YT(e,t){var r=t||{};vy();var n=S2(PR(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=Aa(n));var a=n.slice(0,1024).toLowerCase(),i=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var o=Qa(r);return o.type="string",V1.to_workbook(n,o)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(pt){a.indexOf("<"+pt)>=0&&(i=!0)}),i)return zze(n,r);G2={"General Number":"General","General Date":Gr[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Gr[15],"Short Date":Gr[14],"Long Time":Gr[19],"Medium Time":Gr[18],"Short Time":Gr[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Gr[2],Standard:Gr[4],Percent:Gr[10],Scientific:Gr[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var s,l=[],u,d={},f=[],h=r.dense?[]:{},m="",x={},g={},y=Cu('<Data ss:Type="String">'),_=0,b=0,S=0,C={s:{r:2e6,c:2e6},e:{r:0,c:0}},E={},D={},T="",I=0,L=[],B={},P={},O=0,j=[],G=[],Y={},re=[],q,K=!1,z=[],te=[],Q={},R=0,H=0,X={Sheets:[],WBProps:{date1904:!1}},Z={};uw.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var ie="";s=uw.exec(n);)switch(s[3]=(ie=s[3]).toLowerCase()){case"data":if(ie=="data"){if(s[1]==="/"){if((u=l.pop())[0]!==s[3])throw new Error("Bad state: "+u.join("|"))}else s[0].charAt(s[0].length-2)!=="/"&&l.push([s[3],!0]);break}if(l[l.length-1][1])break;s[1]==="/"?nze(n.slice(_,s.index),T,y,l[l.length-1][0]=="comment"?Y:x,{c:b,r:S},E,re[b],g,z,r):(T="",y=Cu(s[0]),_=s.index+s[0].length);break;case"cell":if(s[1]==="/")if(G.length>0&&(x.c=G),(!r.sheetRows||r.sheetRows>S)&&x.v!==void 0&&(r.dense?(h[S]||(h[S]=[]),h[S][b]=x):h[hi(b)+Yi(S)]=x),x.HRef&&(x.l={Target:Vn(x.HRef)},x.HRefScreenTip&&(x.l.Tooltip=x.HRefScreenTip),delete x.HRef,delete x.HRefScreenTip),(x.MergeAcross||x.MergeDown)&&(R=b+(parseInt(x.MergeAcross,10)|0),H=S+(parseInt(x.MergeDown,10)|0),L.push({s:{c:b,r:S},e:{c:R,r:H}})),!r.sheetStubs)x.MergeAcross?b=R+1:++b;else if(x.MergeAcross||x.MergeDown){for(var le=b;le<=R;++le)for(var pe=S;pe<=H;++pe)(le>b||pe>S)&&(r.dense?(h[pe]||(h[pe]=[]),h[pe][le]={t:"z"}):h[hi(le)+Yi(pe)]={t:"z"});b=R+1}else++b;else x=Jqe(s[0]),x.Index&&(b=+x.Index-1),b<C.s.c&&(C.s.c=b),b>C.e.c&&(C.e.c=b),s[0].slice(-2)==="/>"&&++b,G=[];break;case"row":s[1]==="/"||s[0].slice(-2)==="/>"?(S<C.s.r&&(C.s.r=S),S>C.e.r&&(C.e.r=S),s[0].slice(-2)==="/>"&&(g=Cu(s[0]),g.Index&&(S=+g.Index-1)),b=0,++S):(g=Cu(s[0]),g.Index&&(S=+g.Index-1),Q={},(g.AutoFitHeight=="0"||g.Height)&&(Q.hpx=parseInt(g.Height,10),Q.hpt=mw(Q.hpx),te[S]=Q),g.Hidden=="1"&&(Q.hidden=!0,te[S]=Q));break;case"worksheet":if(s[1]==="/"){if((u=l.pop())[0]!==s[3])throw new Error("Bad state: "+u.join("|"));f.push(m),C.s.r<=C.e.r&&C.s.c<=C.e.c&&(h["!ref"]=vn(C),r.sheetRows&&r.sheetRows<=C.e.r&&(h["!fullref"]=h["!ref"],C.e.r=r.sheetRows-1,h["!ref"]=vn(C))),L.length&&(h["!merges"]=L),re.length>0&&(h["!cols"]=re),te.length>0&&(h["!rows"]=te),d[m]=h}else C={s:{r:2e6,c:2e6},e:{r:0,c:0}},S=b=0,l.push([s[3],!1]),u=Cu(s[0]),m=Vn(u.Name),h=r.dense?[]:{},L=[],z=[],te=[],Z={name:m,Hidden:0},X.Sheets.push(Z);break;case"table":if(s[1]==="/"){if((u=l.pop())[0]!==s[3])throw new Error("Bad state: "+u.join("|"))}else{if(s[0].slice(-2)=="/>")break;l.push([s[3],!1]),re=[],K=!1}break;case"style":s[1]==="/"?rze(E,D,r):D=Cu(s[0]);break;case"numberformat":D.nf=Vn(Cu(s[0]).Format||"General"),G2[D.nf]&&(D.nf=G2[D.nf]);for(var J=0;J!=392&&Gr[J]!=D.nf;++J);if(J==392){for(J=57;J!=392;++J)if(Gr[J]==null){fh(D.nf,J);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(q=Cu(s[0]),q.Hidden&&(q.hidden=!0,delete q.Hidden),q.Width&&(q.wpx=parseInt(q.Width,10)),!K&&q.wpx>10){K=!0,Ts=fae;for(var me=0;me<re.length;++me)re[me]&&g0(re[me])}K&&g0(q),re[q.Index-1||re.length]=q;for(var ve=0;ve<+q.Span;++ve)re[re.length]=Qa(q);break;case"namedrange":if(s[1]==="/")break;X.Names||(X.Names=[]);var ae=nn(s[0]),Ue={Name:ae.Name,Ref:r1(ae.RefersTo.slice(1),{r:0,c:0})};X.Sheets.length>0&&(Ue.Sheet=X.Sheets.length-1),X.Names.push(Ue);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(s[0].slice(-2)==="/>")break;s[1]==="/"?T+=n.slice(I,s.index):I=s.index+s[0].length;break;case"interior":if(!r.cellStyles)break;D.Interior=Cu(s[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(s[0].slice(-2)==="/>")break;s[1]==="/"?CMe(B,ie,n.slice(O,s.index)):O=s.index+s[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(s[1]==="/"){if((u=l.pop())[0]!==s[3])throw new Error("Bad state: "+u.join("|"))}else l.push([s[3],!1]);break;case"comment":if(s[1]==="/"){if((u=l.pop())[0]!==s[3])throw new Error("Bad state: "+u.join("|"));aze(Y),G.push(Y)}else l.push([s[3],!1]),u=Cu(s[0]),Y={a:u.Author};break;case"autofilter":if(s[1]==="/"){if((u=l.pop())[0]!==s[3])throw new Error("Bad state: "+u.join("|"))}else if(s[0].charAt(s[0].length-2)!=="/"){var He=Cu(s[0]);h["!autofilter"]={ref:r1(He.Range).replace(/\$/g,"")},l.push([s[3],!0])}break;case"name":break;case"datavalidation":if(s[1]==="/"){if((u=l.pop())[0]!==s[3])throw new Error("Bad state: "+u.join("|"))}else s[0].charAt(s[0].length-2)!=="/"&&l.push([s[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(s[1]==="/"){if((u=l.pop())[0]!==s[3])throw new Error("Bad state: "+u.join("|"))}else s[0].charAt(s[0].length-2)!=="/"&&l.push([s[3],!0]);break;case"null":break;default:if(l.length==0&&s[3]=="document"||l.length==0&&s[3]=="uof")return GW(n,r);var Ie=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(s[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Ie=!1}break;case"componentoptions":switch(s[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Ie=!1}break;case"excelworkbook":switch(s[3]){case"date1904":X.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Ie=!1}break;case"workbookoptions":switch(s[3]){case"owcversion":break;case"height":break;case"width":break;default:Ie=!1}break;case"worksheetoptions":switch(s[3]){case"visible":if(s[0].slice(-2)!=="/>")if(s[1]==="/")switch(n.slice(O,s.index)){case"SheetHidden":Z.Hidden=1;break;case"SheetVeryHidden":Z.Hidden=2;break}else O=s.index+s[0].length;break;case"header":h["!margins"]||zm(h["!margins"]={},"xlml"),isNaN(+nn(s[0]).Margin)||(h["!margins"].header=+nn(s[0]).Margin);break;case"footer":h["!margins"]||zm(h["!margins"]={},"xlml"),isNaN(+nn(s[0]).Margin)||(h["!margins"].footer=+nn(s[0]).Margin);break;case"pagemargins":var he=nn(s[0]);h["!margins"]||zm(h["!margins"]={},"xlml"),isNaN(+he.Top)||(h["!margins"].top=+he.Top),isNaN(+he.Left)||(h["!margins"].left=+he.Left),isNaN(+he.Right)||(h["!margins"].right=+he.Right),isNaN(+he.Bottom)||(h["!margins"].bottom=+he.Bottom);break;case"displayrighttoleft":X.Views||(X.Views=[]),X.Views[0]||(X.Views[0]={}),X.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Ie=!1}break;case"pivottable":case"pivotcache":switch(s[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Ie=!1}break;case"pagebreaks":switch(s[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Ie=!1}break;case"autofilter":switch(s[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Ie=!1}break;case"querytable":switch(s[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Ie=!1}break;case"datavalidation":switch(s[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Ie=!1}break;case"sorting":case"conditionalformatting":switch(s[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Ie=!1}break;case"mapinfo":case"schema":case"data":switch(s[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Ie=!1}break;case"smarttags":break;default:Ie=!1;break}if(Ie||s[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+s[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(s[0].slice(-2)==="/>")break;s[1]==="/"?eze(P,ie,j,n.slice(O,s.index)):(j=s,O=s.index+s[0].length);break}if(r.WTF)throw"Unrecognized tag: "+s[3]+"|"+l.join("|")}var Ze={};return!r.bookSheets&&!r.bookProps&&(Ze.Sheets=d),Ze.SheetNames=f,Ze.Workbook=X,Ze.SSF=Qa(Gr),Ze.Props=B,Ze.Custprops=P,Ze}function u8(e,t){switch(e7(t=t||{}),t.type||"base64"){case"base64":return YT(yc(e),t);case"binary":case"buffer":case"file":return YT(e,t);case"array":return YT(D0(e),t)}}function ize(e,t){var r=[];return e.Props&&r.push(TMe(e.Props,t)),e.Custprops&&r.push(PMe(e.Props,e.Custprops)),r.join("")}function oze(){return""}function sze(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,a){var i=[];i.push(Xt("NumberFormat",null,{"ss:Format":_a(Gr[n.numFmtId])}));var o={"ss:ID":"s"+(21+a)};r.push(Xt("Style",i.join(""),o))}),Xt("Styles",r.join(""))}function $ae(e){return Xt("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+KR(e.Ref,{r:0,c:0})})}function lze(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var a=t[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push($ae(a)))}return Xt("Names",r.join(""))}function cze(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,i=[],o=0;o<a.length;++o){var s=a[o];s.Sheet==r&&(s.Name.match(/^_xlfn\./)||i.push($ae(s)))}return i.join("")}function uze(e,t,r,n){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(Xt("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(Xt("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(Xt("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(Xt("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(rs("ProtectContents","True")),e["!protect"].objects&&a.push(rs("ProtectObjects","True")),e["!protect"].scenarios&&a.push(rs("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(rs("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(rs("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&a.push("<"+o[1]+"/>")})),a.length==0?"":Xt("WorksheetOptions",a.join(""),{xmlns:ac.x})}function dze(e){return e.map(function(t){var r=D7e(t.t||""),n=Xt("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return Xt("Comment",n,{"ss:Author":t.a})}).join("")}function fze(e,t,r,n,a,i,o){if(!e||e.v==null&&e.f==null)return"";var s={};if(e.f&&(s["ss:Formula"]="="+_a(KR(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var l=pi(e.F.slice(t.length+1));s["ss:ArrayRange"]="RC:R"+(l.r==o.r?"":"["+(l.r-o.r)+"]")+"C"+(l.c==o.c?"":"["+(l.c-o.c)+"]")}if(e.l&&e.l.Target&&(s["ss:HRef"]=_a(e.l.Target),e.l.Tooltip&&(s["x:HRefScreenTip"]=_a(e.l.Tooltip))),r["!merges"])for(var u=r["!merges"],d=0;d!=u.length;++d)u[d].s.c!=o.c||u[d].s.r!=o.r||(u[d].e.c>u[d].s.c&&(s["ss:MergeAcross"]=u[d].e.c-u[d].s.c),u[d].e.r>u[d].s.r&&(s["ss:MergeDown"]=u[d].e.r-u[d].s.r));var f="",h="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":f="Number",h=String(e.v);break;case"b":f="Boolean",h=e.v?"1":"0";break;case"e":f="Error",h=Fh[e.v];break;case"d":f="DateTime",h=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Gr[14]);break;case"s":f="String",h=O7e(e.v||"");break}var m=R0(n.cellXfs,e,n);s["ss:StyleID"]="s"+(21+m),s["ss:Index"]=o.c+1;var x=e.v!=null?h:"",g=e.t=="z"?"":'<Data ss:Type="'+f+'">'+x+"</Data>";return(e.c||[]).length>0&&(g+=dze(e.c)),Xt("Cell",g,s)}function hze(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=G1(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function pze(e,t,r,n){if(!e["!ref"])return"";var a=Gn(e["!ref"]),i=e["!merges"]||[],o=0,s=[];e["!cols"]&&e["!cols"].forEach(function(y,_){g0(y);var b=!!y.width,S=K3(_,y),C={"ss:Index":_+1};b&&(C["ss:Width"]=hw(S.width)),y.hidden&&(C["ss:Hidden"]="1"),s.push(Xt("Column",null,C))});for(var l=Array.isArray(e),u=a.s.r;u<=a.e.r;++u){for(var d=[hze(u,(e["!rows"]||[])[u])],f=a.s.c;f<=a.e.c;++f){var h=!1;for(o=0;o!=i.length;++o)if(!(i[o].s.c>f)&&!(i[o].s.r>u)&&!(i[o].e.c<f)&&!(i[o].e.r<u)){(i[o].s.c!=f||i[o].s.r!=u)&&(h=!0);break}if(!h){var m={r:u,c:f},x=Jr(m),g=l?(e[u]||[])[f]:e[x];d.push(fze(g,x,e,t,r,n,m))}}d.push("</Row>"),d.length>2&&s.push(d.join(""))}return s.join("")}function mze(e,t,r){var n=[],a=r.SheetNames[e],i=r.Sheets[a],o=i?cze(i,t,e,r):"";return o.length>0&&n.push("<Names>"+o+"</Names>"),o=i?pze(i,t,e,r):"",o.length>0&&n.push("<Table>"+o+"</Table>"),n.push(uze(i,t,e,r)),n.join("")}function gze(e,t){t||(t={}),e.SSF||(e.SSF=Qa(Gr)),e.SSF&&(vy(),U3(e.SSF),t.revssf=z3(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],R0(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(ize(e,t)),r.push(oze()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(Xt("Worksheet",mze(n,t,e),{"ss:Name":_a(e.SheetNames[n])}));return r[2]=sze(e,t),r[3]=lze(e),Zi+Xt("Workbook",r.join(""),{xmlns:ac.ss,"xmlns:o":ac.o,"xmlns:x":ac.x,"xmlns:ss":ac.ss,"xmlns:dt":ac.dt,"xmlns:html":ac.html})}function vze(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=lMe(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=cMe(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var yze=[60,1084,2066,2165,2175];function xze(e,t,r,n,a){var i=n,o=[],s=r.slice(r.l,r.l+i);if(a&&a.enc&&a.enc.insitu&&s.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(s)}o.push(s),r.l+=i;for(var l=sh(r,r.l),u=d8[l],d=0;u!=null&&yze.indexOf(l)>-1;)i=sh(r,r.l+2),d=r.l+4,l==2066?d+=4:(l==2165||l==2175)&&(d+=12),s=r.slice(d,r.l+4+i),o.push(s),r.l+=4+i,u=d8[l=sh(r,r.l)];var f=jo(o);es(f,0);var h=0;f.lens=[];for(var m=0;m<o.length;++m)f.lens.push(h),h+=o[m].length;if(f.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+n;return t.f(f,f.length,a)}function Dd(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=Gr[n])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||Fh[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=sw(e.v):e.w=og(e.v):e.w=eu(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&n&&e.t=="n"&&gy(Gr[n]||String(n))){var a=Mm(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function Tb(e,t,r){return{v:e,ixfe:t,t:r}}function wze(e,t){var r={opts:{}},n={},a=t.dense?[]:{},i={},o={},s=null,l=[],u="",d={},f,h="",m,x,g,y,_={},b=[],S,C,E=[],D=[],T={Sheets:[],WBProps:{date1904:!1},Views:[{}]},I={},L=function(At){return At<8?Bm[At]:At<64&&D[At-8]||Bm[At]},B=function(At,ct,br){var er=ct.XF.data;if(!(!er||!er.patternType||!br||!br.cellStyles)){ct.s={},ct.s.patternType=er.patternType;var en;(en=fw(L(er.icvFore)))&&(ct.s.fgColor={rgb:en}),(en=fw(L(er.icvBack)))&&(ct.s.bgColor={rgb:en})}},P=function(At,ct,br){if(!(Q>1)&&!(br.sheetRows&&At.r>=br.sheetRows)){if(br.cellStyles&&ct.XF&&ct.XF.data&&B(At,ct,br),delete ct.ixfe,delete ct.XF,f=At,h=Jr(At),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),At.r<o.s.r&&(o.s.r=At.r),At.c<o.s.c&&(o.s.c=At.c),At.r+1>o.e.r&&(o.e.r=At.r+1),At.c+1>o.e.c&&(o.e.c=At.c+1),br.cellFormula&&ct.f){for(var er=0;er<b.length;++er)if(!(b[er][0].s.c>At.c||b[er][0].s.r>At.r)&&!(b[er][0].e.c<At.c||b[er][0].e.r<At.r)){ct.F=vn(b[er][0]),(b[er][0].s.c!=At.c||b[er][0].s.r!=At.r)&&delete ct.f,ct.f&&(ct.f=""+Es(b[er][1],o,At,z,O));break}}br.dense?(a[At.r]||(a[At.r]=[]),a[At.r][At.c]=ct):a[h]=ct}},O={enc:!1,sbcch:0,snames:[],sharedf:_,arrayf:b,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(O.password=t.password);var j,G=[],Y=[],re=[],q=[],K=!1,z=[];z.SheetNames=O.snames,z.sharedf=O.sharedf,z.arrayf=O.arrayf,z.names=[],z.XTI=[];var te=0,Q=0,R=0,H=[],X=[],Z;O.codepage=1200,Uu(1200);for(var ie=!1;e.l<e.length-1;){var le=e.l,pe=e.read_shift(2);if(pe===0&&te===10)break;var J=e.l===e.length?0:e.read_shift(2),me=d8[pe];if(me&&me.f){if(t.bookSheets&&te===133&&pe!==133)break;if(te=pe,me.r===2||me.r==12){var ve=e.read_shift(2);if(J-=2,!O.enc&&ve!==pe&&((ve&255)<<8|ve>>8)!==pe)throw new Error("rt mismatch: "+ve+"!="+pe);me.r==12&&(e.l+=10,J-=10)}var ae={};if(pe===10?ae=me.f(e,J,O):ae=xze(pe,me,e,J,O),Q==0&&[9,521,1033,2057].indexOf(te)===-1)continue;switch(pe){case 34:r.opts.Date1904=T.WBProps.date1904=ae;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(O.enc||(e.l=0),O.enc=ae,!t.password)throw new Error("File is password-protected");if(ae.valid==null)throw new Error("Encryption scheme unsupported");if(!ae.valid)throw new Error("Password is incorrect");break;case 92:O.lastuser=ae;break;case 66:var Ue=Number(ae);switch(Ue){case 21010:Ue=1200;break;case 32768:Ue=1e4;break;case 32769:Ue=1252;break}Uu(O.codepage=Ue),ie=!0;break;case 317:O.rrtabid=ae;break;case 25:O.winlocked=ae;break;case 439:r.opts.RefreshAll=ae;break;case 12:r.opts.CalcCount=ae;break;case 16:r.opts.CalcDelta=ae;break;case 17:r.opts.CalcIter=ae;break;case 13:r.opts.CalcMode=ae;break;case 14:r.opts.CalcPrecision=ae;break;case 95:r.opts.CalcSaveRecalc=ae;break;case 15:O.CalcRefMode=ae;break;case 2211:r.opts.FullCalc=ae;break;case 129:ae.fDialog&&(a["!type"]="dialog"),ae.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),ae.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:E.push(ae);break;case 430:z.push([ae]),z[z.length-1].XTI=[];break;case 35:case 547:z[z.length-1].push(ae);break;case 24:case 536:Z={Name:ae.Name,Ref:Es(ae.rgce,o,null,z,O)},ae.itab>0&&(Z.Sheet=ae.itab-1),z.names.push(Z),z[0]||(z[0]=[],z[0].XTI=[]),z[z.length-1].push(ae),ae.Name=="_xlnm._FilterDatabase"&&ae.itab>0&&ae.rgce&&ae.rgce[0]&&ae.rgce[0][0]&&ae.rgce[0][0][0]=="PtgArea3d"&&(X[ae.itab-1]={ref:vn(ae.rgce[0][0][1][2])});break;case 22:O.ExternCount=ae;break;case 23:z.length==0&&(z[0]=[],z[0].XTI=[]),z[z.length-1].XTI=z[z.length-1].XTI.concat(ae),z.XTI=z.XTI.concat(ae);break;case 2196:if(O.biff<8)break;Z!=null&&(Z.Comment=ae[1]);break;case 18:a["!protect"]=ae;break;case 19:ae!==0&&O.WTF&&console.error("Password verifier: "+ae);break;case 133:i[ae.pos]=ae,O.snames.push(ae.name);break;case 10:{if(--Q)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,a["!ref"]=vn(o),t.sheetRows&&t.sheetRows<=o.e.r){var He=o.e.r;o.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=vn(o),o.e.r=He}o.e.r++,o.e.c++}G.length>0&&(a["!merges"]=G),Y.length>0&&(a["!objects"]=Y),re.length>0&&(a["!cols"]=re),q.length>0&&(a["!rows"]=q),T.Sheets.push(I)}u===""?d=a:n[u]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(O.biff===8&&(O.biff={9:2,521:3,1033:4}[pe]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[ae.BIFFVer]||8),O.biffguess=ae.BIFFVer==0,ae.BIFFVer==0&&ae.dt==4096&&(O.biff=5,ie=!0,Uu(O.codepage=28591)),O.biff==8&&ae.BIFFVer==0&&ae.dt==16&&(O.biff=2),Q++)break;if(a=t.dense?[]:{},O.biff<8&&!ie&&(ie=!0,Uu(O.codepage=t.codepage||1252)),O.biff<5||ae.BIFFVer==0&&ae.dt==4096){u===""&&(u="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var Ie={pos:e.l-J,name:u};i[Ie.pos]=Ie,O.snames.push(u)}else u=(i[le]||{name:""}).name;ae.dt==32&&(a["!type"]="chart"),ae.dt==64&&(a["!type"]="macro"),G=[],Y=[],O.arrayf=b=[],re=[],q=[],K=!1,I={Hidden:(i[le]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[ae.r]||[])[ae.c]:a[Jr({c:ae.c,r:ae.r})])&&++ae.c,S={ixfe:ae.ixfe,XF:E[ae.ixfe]||{},v:ae.val,t:"n"},R>0&&(S.z=H[S.ixfe>>8&63]),Dd(S,t,r.opts.Date1904),P({c:ae.c,r:ae.r},S,t);break;case 5:case 517:S={ixfe:ae.ixfe,XF:E[ae.ixfe],v:ae.val,t:ae.t},R>0&&(S.z=H[S.ixfe>>8&63]),Dd(S,t,r.opts.Date1904),P({c:ae.c,r:ae.r},S,t);break;case 638:S={ixfe:ae.ixfe,XF:E[ae.ixfe],v:ae.rknum,t:"n"},R>0&&(S.z=H[S.ixfe>>8&63]),Dd(S,t,r.opts.Date1904),P({c:ae.c,r:ae.r},S,t);break;case 189:for(var he=ae.c;he<=ae.C;++he){var Ze=ae.rkrec[he-ae.c][0];S={ixfe:Ze,XF:E[Ze],v:ae.rkrec[he-ae.c][1],t:"n"},R>0&&(S.z=H[S.ixfe>>8&63]),Dd(S,t,r.opts.Date1904),P({c:he,r:ae.r},S,t)}break;case 6:case 518:case 1030:{if(ae.val=="String"){s=ae;break}if(S=Tb(ae.val,ae.cell.ixfe,ae.tt),S.XF=E[S.ixfe],t.cellFormula){var pt=ae.formula;if(pt&&pt[0]&&pt[0][0]&&pt[0][0][0]=="PtgExp"){var ht=pt[0][0][1][0],Pt=pt[0][0][1][1],st=Jr({r:ht,c:Pt});_[st]?S.f=""+Es(ae.formula,o,ae.cell,z,O):S.F=((t.dense?(a[ht]||[])[Pt]:a[st])||{}).F}else S.f=""+Es(ae.formula,o,ae.cell,z,O)}R>0&&(S.z=H[S.ixfe>>8&63]),Dd(S,t,r.opts.Date1904),P(ae.cell,S,t),s=ae}break;case 7:case 519:if(s)s.val=ae,S=Tb(ae,s.cell.ixfe,"s"),S.XF=E[S.ixfe],t.cellFormula&&(S.f=""+Es(s.formula,o,s.cell,z,O)),R>0&&(S.z=H[S.ixfe>>8&63]),Dd(S,t,r.opts.Date1904),P(s.cell,S,t),s=null;else throw new Error("String record expects Formula");break;case 33:case 545:{b.push(ae);var xe=Jr(ae[0].s);if(m=t.dense?(a[ae[0].s.r]||[])[ae[0].s.c]:a[xe],t.cellFormula&&m){if(!s||!xe||!m)break;m.f=""+Es(ae[1],o,ae[0],z,O),m.F=vn(ae[0])}}break;case 1212:{if(!t.cellFormula)break;if(h){if(!s)break;_[Jr(s.cell)]=ae[0],m=t.dense?(a[s.cell.r]||[])[s.cell.c]:a[Jr(s.cell)],(m||{}).f=""+Es(ae[0],o,f,z,O)}}break;case 253:S=Tb(l[ae.isst].t,ae.ixfe,"s"),l[ae.isst].h&&(S.h=l[ae.isst].h),S.XF=E[S.ixfe],R>0&&(S.z=H[S.ixfe>>8&63]),Dd(S,t,r.opts.Date1904),P({c:ae.c,r:ae.r},S,t);break;case 513:t.sheetStubs&&(S={ixfe:ae.ixfe,XF:E[ae.ixfe],t:"z"},R>0&&(S.z=H[S.ixfe>>8&63]),Dd(S,t,r.opts.Date1904),P({c:ae.c,r:ae.r},S,t));break;case 190:if(t.sheetStubs)for(var Ee=ae.c;Ee<=ae.C;++Ee){var We=ae.ixfe[Ee-ae.c];S={ixfe:We,XF:E[We],t:"z"},R>0&&(S.z=H[S.ixfe>>8&63]),Dd(S,t,r.opts.Date1904),P({c:Ee,r:ae.r},S,t)}break;case 214:case 516:case 4:S=Tb(ae.val,ae.ixfe,"s"),S.XF=E[S.ixfe],R>0&&(S.z=H[S.ixfe>>8&63]),Dd(S,t,r.opts.Date1904),P({c:ae.c,r:ae.r},S,t);break;case 0:case 512:Q===1&&(o=ae);break;case 252:l=ae;break;case 1054:if(O.biff==4){H[R++]=ae[1];for(var ft=0;ft<R+163&&Gr[ft]!=ae[1];++ft);ft>=163&&fh(ae[1],R+163)}else fh(ae[1],ae[0]);break;case 30:{H[R++]=ae;for(var mt=0;mt<R+163&&Gr[mt]!=ae;++mt);mt>=163&&fh(ae,R+163)}break;case 229:G=G.concat(ae);break;case 93:Y[ae.cmo[0]]=O.lastobj=ae;break;case 438:O.lastobj.TxO=ae;break;case 127:O.lastobj.ImData=ae;break;case 440:for(y=ae[0].s.r;y<=ae[0].e.r;++y)for(g=ae[0].s.c;g<=ae[0].e.c;++g)m=t.dense?(a[y]||[])[g]:a[Jr({c:g,r:y})],m&&(m.l=ae[1]);break;case 2048:for(y=ae[0].s.r;y<=ae[0].e.r;++y)for(g=ae[0].s.c;g<=ae[0].e.c;++g)m=t.dense?(a[y]||[])[g]:a[Jr({c:g,r:y})],m&&m.l&&(m.l.Tooltip=ae[1]);break;case 28:{if(O.biff<=5&&O.biff>=2)break;m=t.dense?(a[ae[0].r]||[])[ae[0].c]:a[Jr(ae[0])];var De=Y[ae[2]];m||(t.dense?(a[ae[0].r]||(a[ae[0].r]=[]),m=a[ae[0].r][ae[0].c]={t:"z"}):m=a[Jr(ae[0])]={t:"z"},o.e.r=Math.max(o.e.r,ae[0].r),o.s.r=Math.min(o.s.r,ae[0].r),o.e.c=Math.max(o.e.c,ae[0].c),o.s.c=Math.min(o.s.c,ae[0].c)),m.c||(m.c=[]),x={a:ae[1],t:De.TxO.t},m.c.push(x)}break;case 2173:sje(E[ae.ixfe],ae.ext);break;case 125:{if(!O.cellStyles)break;for(;ae.e>=ae.s;)re[ae.e--]={width:ae.w/256,level:ae.level||0,hidden:!!(ae.flags&1)},K||(K=!0,HR(ae.w/256)),g0(re[ae.e+1])}break;case 520:{var Ve={};ae.level!=null&&(q[ae.r]=Ve,Ve.level=ae.level),ae.hidden&&(q[ae.r]=Ve,Ve.hidden=!0),ae.hpt&&(q[ae.r]=Ve,Ve.hpt=ae.hpt,Ve.hpx=G1(ae.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||zm(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[pe]]=ae;break;case 161:a["!margins"]||zm(a["!margins"]={}),a["!margins"].header=ae.header,a["!margins"].footer=ae.footer;break;case 574:ae.RTL&&(T.Views[0].RTL=!0);break;case 146:D=ae;break;case 2198:j=ae;break;case 140:C=ae;break;case 442:u?I.CodeName=ae||I.name:T.WBProps.CodeName=ae||"ThisWorkbook";break}}else me||console.error("Missing Info for XLS Record 0x"+pe.toString(16)),e.l+=J}return r.SheetNames=Oi(i).sort(function(_t,At){return Number(_t)-Number(At)}).map(function(_t){return i[_t].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&d["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=d)):r.Preamble=d,r.Sheets&&X.forEach(function(_t,At){r.Sheets[r.SheetNames[At]]["!autofilter"]=_t}),r.Strings=l,r.SSF=Qa(Gr),O.enc&&(r.Encryption=O.enc),j&&(r.Themes=j),r.Metadata={},C!==void 0&&(r.Metadata.Country=C),z.names.length>0&&(T.Names=z.names),r.Workbook=T,r}var K2={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function _ze(e,t,r){var n=Mr.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=SW(n,a8,K2.DSI);for(var i in a)t[i]=a[i]}catch(u){if(r.WTF)throw u}var o=Mr.find(e,"/!SummaryInformation");if(o&&o.size>0)try{var s=SW(o,i8,K2.SI);for(var l in s)t[l]==null&&(t[l]=s[l])}catch(u){if(r.WTF)throw u}t.HeadingPairs&&t.TitlesOfParts&&(jne(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function bze(e,t){var r=[],n=[],a=[],i=0,o,s=Qz(a8,"n"),l=Qz(i8,"n");if(e.Props)for(o=Oi(e.Props),i=0;i<o.length;++i)(Object.prototype.hasOwnProperty.call(s,o[i])?r:Object.prototype.hasOwnProperty.call(l,o[i])?n:a).push([o[i],e.Props[o[i]]]);if(e.Custprops)for(o=Oi(e.Custprops),i=0;i<o.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},o[i])||(Object.prototype.hasOwnProperty.call(s,o[i])?r:Object.prototype.hasOwnProperty.call(l,o[i])?n:a).push([o[i],e.Custprops[o[i]]]);var u=[];for(i=0;i<a.length;++i)Hne.indexOf(a[i][0])>-1||Lne.indexOf(a[i][0])>-1||a[i][1]!=null&&u.push(a[i]);n.length&&Mr.utils.cfb_add(t,"/SummaryInformation",AW(n,K2.SI,l,i8)),(r.length||u.length)&&Mr.utils.cfb_add(t,"/DocumentSummaryInformation",AW(r,K2.DSI,s,a8,u.length?u:null,K2.UDI))}function Bae(e,t){t||(t={}),e7(t),_R(),t.codepage&&wR(t.codepage);var r,n;if(e.FullPaths){if(Mr.find(e,"/encryption"))throw new Error("File is password-protected");r=Mr.find(e,"!CompObj"),n=Mr.find(e,"/Workbook")||Mr.find(e,"/Book")}else{switch(t.type){case"base64":e=lc(yc(e));break;case"binary":e=lc(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}es(e,0),n={content:e}}var a,i;if(r&&vze(r),t.bookProps&&!t.bookSheets)a={};else{var o=En?"buffer":"array";if(n&&n.content)a=wze(n.content,t);else if((i=Mr.find(e,"PerfectOffice_MAIN"))&&i.content)a=qm.to_workbook(i.content,(t.type=o,t));else if((i=Mr.find(e,"NativeContent_MAIN"))&&i.content)a=qm.to_workbook(i.content,(t.type=o,t));else throw(i=Mr.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Mr.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=Mje(e))}var s={};return e.FullPaths&&_ze(e,s,t),a.Props=a.Custprops=s,t.bookFiles&&(a.cfb=e),a}function Sze(e,t){var r=t||{},n=Mr.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Mr.utils.cfb_add(n,a,Uae(e,r)),r.biff==8&&(e.Props||e.Custprops)&&bze(e,n),r.biff==8&&e.vbaraw&&Fje(n,Mr.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var gw={0:{f:GBe},1:{f:tUe},2:{f:wUe},3:{f:cUe},4:{f:iUe},5:{f:vUe},6:{f:kUe},7:{f:hUe},8:{f:DUe},9:{f:OUe},10:{f:TUe},11:{f:PUe},12:{f:nUe},13:{f:bUe},14:{f:dUe},15:{f:sUe},16:{f:Dae},17:{f:EUe},18:{f:mUe},19:{f:MR},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Eqe},40:{},42:{},43:{f:k9e},44:{f:S9e},45:{f:C9e},46:{f:P9e},47:{f:T9e},48:{},49:{f:X7e},50:{},51:{f:uje},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:rae},62:{f:AUe},63:{f:xje},64:{f:KUe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:$s,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:WUe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:QBe},148:{f:XBe,p:16},151:{f:jUe},152:{},153:{f:Aqe},154:{},155:{},156:{f:bqe},157:{},158:{},159:{T:1,f:BLe},160:{T:-1},161:{T:1,f:Og},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:IUe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:lje},336:{T:-1},337:{f:hje,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:n8},357:{},358:{},359:{},360:{T:1},361:{},362:{f:tae},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:$Ue},427:{f:BUe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:qUe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:JBe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:FUe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:n8},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Pje},633:{T:1},634:{T:-1},635:{T:1,f:Cje},636:{T:-1},637:{f:eMe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:dqe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:YUe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},d8={6:{f:GT},10:{f:Op},12:{f:ao},13:{f:ao},14:{f:$i},15:{f:$i},16:{f:Os},17:{f:$i},18:{f:$i},19:{f:ao},20:{f:PW},21:{f:PW},23:{f:tae},24:{f:DW},25:{f:$i},26:{},27:{},28:{f:YFe},29:{},34:{f:$i},35:{f:OW},38:{f:Os},39:{f:Os},40:{f:Os},41:{f:Os},42:{f:$i},43:{f:$i},47:{f:s9e},49:{f:bFe},51:{f:ao},60:{},61:{f:vFe},64:{f:$i},65:{f:_Fe},66:{f:ao},77:{},80:{},81:{},82:{},85:{f:ao},89:{},90:{},91:{},92:{f:oFe},93:{f:JFe},94:{},95:{f:$i},96:{},97:{},99:{f:$i},125:{f:rae},128:{f:LFe},129:{f:lFe},130:{f:ao},131:{f:$i},132:{f:$i},133:{f:cFe},134:{},140:{f:oLe},141:{f:ao},144:{},146:{f:cLe},151:{},152:{},153:{},154:{},155:{},156:{f:ao},157:{},158:{},160:{f:gLe},161:{f:fLe},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:IFe},190:{f:RFe},193:{f:Op},197:{},198:{},199:{},200:{},201:{},202:{f:$i},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:ao},220:{},221:{f:$i},222:{},224:{f:FFe},225:{f:iFe},226:{f:Op},227:{},229:{f:XFe},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:dFe},253:{f:AFe},255:{f:hFe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:Vne},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:$i},353:{f:Op},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:qFe},431:{f:$i},432:{},433:{},434:{},437:{},438:{f:tLe},439:{f:$i},440:{f:rLe},441:{},442:{f:Jw},443:{},444:{f:ao},445:{},446:{},448:{f:Op},449:{f:gFe,r:2},450:{f:Op},512:{f:EW},513:{f:mLe},515:{f:BFe},516:{f:NFe},517:{f:TW},519:{f:vLe},520:{f:pFe},523:{},545:{f:IW},549:{f:NW},566:{},574:{f:xFe},638:{f:DFe},659:{},1048:{},1054:{f:CFe},1084:{},1212:{f:VFe},2048:{f:aLe},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Nb},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Op},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:uLe,r:12},2173:{f:oje,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:$i,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:HFe,r:12},2197:{},2198:{f:eje,r:12},2199:{},2200:{},2201:{},2202:{f:GFe,r:12},2203:{f:Op},2204:{},2205:{},2206:{},2207:{},2211:{f:mFe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:ao},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:hLe},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:lLe},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:EW},1:{},2:{f:bLe},3:{f:wLe},4:{f:xLe},5:{f:TW},7:{f:ALe},8:{},9:{f:Nb},11:{},22:{f:ao},30:{f:PFe},31:{},32:{},33:{f:IW},36:{},37:{f:NW},50:{f:kLe},62:{},52:{},67:{},68:{f:ao},69:{},86:{},126:{},127:{f:yLe},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:NLe},223:{},234:{},354:{},421:{},518:{f:GT},521:{f:Nb},536:{f:DW},547:{f:OW},561:{},579:{},1030:{f:GT},1033:{f:Nb},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Zt(e,t,r,n){var a=t;if(!isNaN(a)){var i=n||(r||[]).length||0,o=e.next(4);o.write_shift(2,a),o.write_shift(2,i),i>0&&DR(r)&&e.push(r)}}function Aze(e,t,r,n){var a=(r||[]).length||0;if(a<=8224)return Zt(e,t,r,a);var i=t;if(!isNaN(i)){for(var o=r.parts||[],s=0,l=0,u=0;u+(o[s]||8224)<=8224;)u+=o[s]||8224,s++;var d=e.next(4);for(d.write_shift(2,i),d.write_shift(2,u),e.push(r.slice(l,l+u)),l+=u;l<a;){for(d=e.next(4),d.write_shift(2,60),u=0;u+(o[s]||8224)<=8224;)u+=o[s]||8224,s++;d.write_shift(2,u),e.push(r.slice(l,l+u)),l+=u}}}function r_(e,t,r){return e||(e=Nt(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function kze(e,t,r,n){var a=Nt(9);return r_(a,e,t),Gne(r,n||"b",a),a}function Nze(e,t,r){var n=Nt(8+2*r.length);return r_(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function Eze(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?wo(Ja(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?Zt(e,2,SLe(r,n,a)):Zt(e,3,_Le(r,n,a));return;case"b":case"e":Zt(e,5,kze(r,n,t.v,t.t));return;case"s":case"str":Zt(e,4,Nze(r,n,(t.v||"").slice(0,255)));return}Zt(e,1,r_(null,r,n))}function Cze(e,t,r,n){var a=Array.isArray(t),i=Gn(t["!ref"]||"A1"),o,s="",l=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),o=vn(i)}for(var u=i.s.r;u<=i.e.r;++u){s=Yi(u);for(var d=i.s.c;d<=i.e.c;++d){u===i.s.r&&(l[d]=hi(d)),o=l[d]+s;var f=a?(t[u]||[])[d]:t[o];f&&Eze(e,f,u,d)}}}function Tze(e,t){for(var r=t||{},n=Rl(),a=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(a=i);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return Zt(n,r.biff==4?1033:r.biff==3?521:9,qR(e,16,r)),Cze(n,e.Sheets[e.SheetNames[a]],a,r),Zt(n,10),n.end()}function Pze(e,t,r){Zt(e,49,SFe({sz:12,name:"Arial"},r))}function Oze(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&Zt(e,1054,TFe(a,t[a],r))})}function Dze(e,t){var r=Nt(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),Zt(e,2151,r),r=Nt(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),Jne(Gn(t["!ref"]||"A1"),r),r.write_shift(4,4),Zt(e,2152,r)}function Ize(e,t){for(var r=0;r<16;++r)Zt(e,224,CW({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){Zt(e,224,CW(n,0,t))})}function Rze(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];Zt(e,440,nLe(n)),n[1].Tooltip&&Zt(e,2048,iLe(n))}delete t["!links"]}function Mze(e,t){if(t){var r=0;t.forEach(function(n,a){++r<=256&&n&&Zt(e,125,dLe(K3(a,n),a))})}}function Fze(e,t,r,n,a){var i=16+R0(a.cellXfs,t,a);if(t.v==null&&!t.bf){Zt(e,513,ug(r,n,i));return}if(t.bf)Zt(e,6,lBe(t,r,n,a,i));else switch(t.t){case"d":case"n":var o=t.t=="d"?wo(Ja(t.v)):t.v;Zt(e,515,UFe(r,n,o,i));break;case"b":case"e":Zt(e,517,$Fe(r,n,t.v,i,a,t.t));break;case"s":case"str":if(a.bookSST){var s=XR(a.Strings,t.v,a.revStrings);Zt(e,253,kFe(r,n,s,i))}else Zt(e,516,EFe(r,n,(t.v||"").slice(0,255),i,a));break;default:Zt(e,513,ug(r,n,i))}}function Lze(e,t,r){var n=Rl(),a=r.SheetNames[e],i=r.Sheets[a]||{},o=(r||{}).Workbook||{},s=(o.Sheets||[])[e]||{},l=Array.isArray(i),u=t.biff==8,d,f="",h=[],m=Gn(i["!ref"]||"A1"),x=u?65536:16384;if(m.e.c>255||m.e.r>=x){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");m.e.c=Math.min(m.e.c,255),m.e.r=Math.min(m.e.c,x-1)}Zt(n,2057,qR(r,16,t)),Zt(n,13,Wc(1)),Zt(n,12,Wc(100)),Zt(n,15,tl(!0)),Zt(n,17,tl(!1)),Zt(n,16,lg(.001)),Zt(n,95,tl(!0)),Zt(n,42,tl(!1)),Zt(n,43,tl(!1)),Zt(n,130,Wc(1)),Zt(n,128,jFe()),Zt(n,131,tl(!1)),Zt(n,132,tl(!1)),u&&Mze(n,i["!cols"]),Zt(n,512,OFe(m,t)),u&&(i["!links"]=[]);for(var g=m.s.r;g<=m.e.r;++g){f=Yi(g);for(var y=m.s.c;y<=m.e.c;++y){g===m.s.r&&(h[y]=hi(y)),d=h[y]+f;var _=l?(i[g]||[])[y]:i[d];_&&(Fze(n,_,g,y,t),u&&_.l&&i["!links"].push([d,_.l]))}}var b=s.CodeName||s.name||a;return u&&Zt(n,574,wFe((o.Views||[])[0])),u&&(i["!merges"]||[]).length&&Zt(n,229,ZFe(i["!merges"])),u&&Rze(n,i),Zt(n,442,Kne(b)),u&&Dze(n,i),Zt(n,10),n.end()}function jze(e,t,r){var n=Rl(),a=(e||{}).Workbook||{},i=a.Sheets||[],o=a.WBProps||{},s=r.biff==8,l=r.biff==5;if(Zt(n,2057,qR(e,5,r)),r.bookType=="xla"&&Zt(n,135),Zt(n,225,s?Wc(1200):null),Zt(n,193,$Me(2)),l&&Zt(n,191),l&&Zt(n,192),Zt(n,226),Zt(n,92,sFe("SheetJS",r)),Zt(n,66,Wc(s?1200:1252)),s&&Zt(n,353,Wc(0)),s&&Zt(n,448),Zt(n,317,pLe(e.SheetNames.length)),s&&e.vbaraw&&Zt(n,211),s&&e.vbaraw){var u=o.CodeName||"ThisWorkbook";Zt(n,442,Kne(u))}Zt(n,156,Wc(17)),Zt(n,25,tl(!1)),Zt(n,18,tl(!1)),Zt(n,19,Wc(0)),s&&Zt(n,431,tl(!1)),s&&Zt(n,444,Wc(0)),Zt(n,61,yFe()),Zt(n,64,tl(!1)),Zt(n,141,Wc(0)),Zt(n,34,tl(gqe(e)=="true")),Zt(n,14,tl(!0)),s&&Zt(n,439,tl(!1)),Zt(n,218,Wc(0)),Pze(n,e,r),Oze(n,e.SSF,r),Ize(n,r),s&&Zt(n,352,tl(!1));var d=n.end(),f=Rl();s&&Zt(f,140,sLe()),s&&r.Strings&&Aze(f,252,fFe(r.Strings)),Zt(f,10);var h=f.end(),m=Rl(),x=0,g=0;for(g=0;g<e.SheetNames.length;++g)x+=(s?12:11)+(s?2:1)*e.SheetNames[g].length;var y=d.length+x+h.length;for(g=0;g<e.SheetNames.length;++g){var _=i[g]||{};Zt(m,133,uFe({pos:y,hs:_.Hidden||0,dt:0,name:e.SheetNames[g]},r)),y+=t[g].length}var b=m.end();if(x!=b.length)throw new Error("BS8 "+x+" != "+b.length);var S=[];return d.length&&S.push(d),b.length&&S.push(b),h.length&&S.push(h),jo(S)}function $ze(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=Qa(Gr)),e&&e.SSF&&(vy(),U3(e.SSF),r.revssf=z3(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,t7(r),r.cellXfs=[],R0(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)n[n.length]=Lze(a,r,e);return n.unshift(jze(e,n,r)),jo(n)}function Uae(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var a=Ml(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return $ze(e,t);case 4:case 3:case 2:return Tze(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function zW(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),o=a.index,s=i&&i.index||e.length,l=S7e(e.slice(o,s),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,d=0,f=0,h=0,m={s:{r:1e7,c:1e7},e:{r:0,c:0}},x=[];for(o=0;o<l.length;++o){var g=l[o].trim(),y=g.slice(0,3).toLowerCase();if(y=="<tr"){if(++u,r.sheetRows&&r.sheetRows<=u){--u;break}d=0;continue}if(!(y!="<td"&&y!="<th")){var _=g.split(/<\/t[dh]>/i);for(s=0;s<_.length;++s){var b=_[s].trim();if(b.match(/<t[dh]/i)){for(var S=b,C=0;S.charAt(0)=="<"&&(C=S.indexOf(">"))>-1;)S=S.slice(C+1);for(var E=0;E<x.length;++E){var D=x[E];D.s.c==d&&D.s.r<u&&u<=D.e.r&&(d=D.e.c+1,E=-1)}var T=nn(b.slice(0,b.indexOf(">")));h=T.colspan?+T.colspan:1,((f=+T.rowspan)>1||h>1)&&x.push({s:{r:u,c:d},e:{r:u+(f||1)-1,c:d+h-1}});var I=T.t||T["data-t"]||"";if(!S.length){d+=h;continue}if(S=dne(S),m.s.r>u&&(m.s.r=u),m.e.r<u&&(m.e.r=u),m.s.c>d&&(m.s.c=d),m.e.c<d&&(m.e.c=d),!S.length){d+=h;continue}var L={t:"s",v:S};r.raw||!S.trim().length||I=="s"||(S==="TRUE"?L={t:"b",v:!0}:S==="FALSE"?L={t:"b",v:!1}:isNaN(Gu(S))?isNaN(H1(S).getDate())||(L={t:"d",v:Ja(S)},r.cellDates||(L={t:"n",v:wo(L.v)}),L.z=r.dateNF||Gr[14]):L={t:"n",v:Gu(S)}),r.dense?(n[u]||(n[u]=[]),n[u][d]=L):n[Jr({r:u,c:d})]=L,d+=h}}}}return n["!ref"]=vn(m),x.length&&(n["!merges"]=x),n}function Bze(e,t,r,n){for(var a=e["!merges"]||[],i=[],o=t.s.c;o<=t.e.c;++o){for(var s=0,l=0,u=0;u<a.length;++u)if(!(a[u].s.r>r||a[u].s.c>o)&&!(a[u].e.r<r||a[u].e.c<o)){if(a[u].s.r<r||a[u].s.c<o){s=-1;break}s=a[u].e.r-a[u].s.r+1,l=a[u].e.c-a[u].s.c+1;break}if(!(s<0)){var d=Jr({r,c:o}),f=n.dense?(e[r]||[])[o]:e[d],h=f&&f.v!=null&&(f.h||TR(f.w||(Sh(f),f.w)||""))||"",m={};s>1&&(m.rowspan=s),l>1&&(m.colspan=l),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(m["data-t"]=f&&f.t||"z",f.v!=null&&(m["data-v"]=f.v),f.z!=null&&(m["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),m.id=(n.id||"sjs")+"-"+d,i.push(Xt("td",h,m))}}var x="<tr>";return x+i.join("")+"</tr>"}var Uze='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',qze="</body></html>";function zze(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return I0(zW(r[0],t),t);var n=i7();return r.forEach(function(a,i){o7(n,zW(a,t),"Sheet"+(i+1))}),n}function Wze(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function qae(e,t){var r=t||{},n=r.header!=null?r.header:Uze,a=r.footer!=null?r.footer:qze,i=[n],o=Ml(e["!ref"]);r.dense=Array.isArray(e),i.push(Wze(e,o,r));for(var s=o.s.r;s<=o.e.r;++s)i.push(Bze(e,o,s,r));return i.push("</table>"+a),i.join("")}function zae(e,t,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var o=typeof n.origin=="string"?pi(n.origin):n.origin;a=o.r,i=o.c}var s=t.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,s.length),u={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var d=Ml(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),a==-1&&(u.e.r=a=d.e.r+1)}var f=[],h=0,m=e["!rows"]||(e["!rows"]=[]),x=0,g=0,y=0,_=0,b=0,S=0;for(e["!cols"]||(e["!cols"]=[]);x<s.length&&g<l;++x){var C=s[x];if(WW(C)){if(n.display)continue;m[g]={hidden:!0}}var E=C.children;for(y=_=0;y<E.length;++y){var D=E[y];if(!(n.display&&WW(D))){var T=D.hasAttribute("data-v")?D.getAttribute("data-v"):D.hasAttribute("v")?D.getAttribute("v"):dne(D.innerHTML),I=D.getAttribute("data-z")||D.getAttribute("z");for(h=0;h<f.length;++h){var L=f[h];L.s.c==_+i&&L.s.r<g+a&&g+a<=L.e.r&&(_=L.e.c+1-i,h=-1)}S=+D.getAttribute("colspan")||1,((b=+D.getAttribute("rowspan")||1)>1||S>1)&&f.push({s:{r:g+a,c:_+i},e:{r:g+a+(b||1)-1,c:_+i+(S||1)-1}});var B={t:"s",v:T},P=D.getAttribute("data-t")||D.getAttribute("t")||"";T!=null&&(T.length==0?B.t=P||"z":n.raw||T.trim().length==0||P=="s"||(T==="TRUE"?B={t:"b",v:!0}:T==="FALSE"?B={t:"b",v:!1}:isNaN(Gu(T))?isNaN(H1(T).getDate())||(B={t:"d",v:Ja(T)},n.cellDates||(B={t:"n",v:wo(B.v)}),B.z=n.dateNF||Gr[14]):B={t:"n",v:Gu(T)})),B.z===void 0&&I!=null&&(B.z=I);var O="",j=D.getElementsByTagName("A");if(j&&j.length)for(var G=0;G<j.length&&!(j[G].hasAttribute("href")&&(O=j[G].getAttribute("href"),O.charAt(0)!="#"));++G);O&&O.charAt(0)!="#"&&(B.l={Target:O}),n.dense?(e[g+a]||(e[g+a]=[]),e[g+a][_+i]=B):e[Jr({c:_+i,r:g+a})]=B,u.e.c<_+i&&(u.e.c=_+i),_+=S}}++g}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,g-1+a),e["!ref"]=vn(u),g>=l&&(e["!fullref"]=vn((u.e.r=s.length-x+g-1+a,u))),e}function Wae(e,t){var r=t||{},n=r.dense?[]:{};return zae(n,e,t)}function Hze(e,t){return I0(Wae(e,t),t)}function WW(e){var t="",r=Vze(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function Vze(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function Gze(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=Vn(t.replace(/<[^>]*>/g,""));return[r]}var HW={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function Hae(e,t){var r=t||{},n=PR(e),a=[],i,o,s={name:""},l="",u=0,d,f,h={},m=[],x=r.dense?[]:{},g,y,_={value:""},b="",S=0,C=[],E=-1,D=-1,T={s:{r:1e6,c:1e7},e:{r:0,c:0}},I=0,L={},B=[],P={},O=0,j=0,G=[],Y=1,re=1,q=[],K={Names:[]},z={},te=["",""],Q=[],R={},H="",X=0,Z=!1,ie=!1,le=0;for(uw.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");g=uw.exec(n);)switch(g[3]=g[3].replace(/_.*$/,"")){case"table":case"":g[1]==="/"?(T.e.c>=T.s.c&&T.e.r>=T.s.r?x["!ref"]=vn(T):x["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=T.e.r&&(x["!fullref"]=x["!ref"],T.e.r=r.sheetRows-1,x["!ref"]=vn(T)),B.length&&(x["!merges"]=B),G.length&&(x["!rows"]=G),d.name=d.||d.name,typeof JSON<"u"&&JSON.stringify(d),m.push(d.name),h[d.name]=x,ie=!1):g[0].charAt(g[0].length-2)!=="/"&&(d=nn(g[0],!1),E=D=-1,T.s.r=T.s.c=1e7,T.e.r=T.e.c=0,x=r.dense?[]:{},B=[],G=[],ie=!0);break;case"table-row-group":g[1]==="/"?--I:++I;break;case"table-row":case"":if(g[1]==="/"){E+=Y,Y=1;break}if(f=nn(g[0],!1),f.?E=f.-1:E==-1&&(E=0),Y=+f["number-rows-repeated"]||1,Y<10)for(le=0;le<Y;++le)I>0&&(G[E+le]={level:I});D=-1;break;case"covered-table-cell":g[1]!=="/"&&++D,r.sheetStubs&&(r.dense?(x[E]||(x[E]=[]),x[E][D]={t:"z"}):x[Jr({r:E,c:D})]={t:"z"}),b="",C=[];break;case"table-cell":case"":if(g[0].charAt(g[0].length-2)==="/")++D,_=nn(g[0],!1),re=parseInt(_["number-columns-repeated"]||"1",10),y={t:"z",v:null},_.formula&&r.cellFormula!=!1&&(y.f=BW(Vn(_.formula))),(_.||_["value-type"])=="string"&&(y.t="s",y.v=Vn(_["string-value"]||""),r.dense?(x[E]||(x[E]=[]),x[E][D]=y):x[Jr({r:E,c:D})]=y),D+=re-1;else if(g[1]!=="/"){++D,b="",S=0,C=[],re=1;var pe=Y?E+Y-1:E;if(D>T.e.c&&(T.e.c=D),D<T.s.c&&(T.s.c=D),E<T.s.r&&(T.s.r=E),pe>T.e.r&&(T.e.r=pe),_=nn(g[0],!1),Q=[],R={},y={t:_.||_["value-type"],v:null},r.cellFormula)if(_.formula&&(_.formula=Vn(_.formula)),_["number-matrix-columns-spanned"]&&_["number-matrix-rows-spanned"]&&(O=parseInt(_["number-matrix-rows-spanned"],10)||0,j=parseInt(_["number-matrix-columns-spanned"],10)||0,P={s:{r:E,c:D},e:{r:E+O-1,c:D+j-1}},y.F=vn(P),q.push([P,y.F])),_.formula)y.f=BW(_.formula);else for(le=0;le<q.length;++le)E>=q[le][0].s.r&&E<=q[le][0].e.r&&D>=q[le][0].s.c&&D<=q[le][0].e.c&&(y.F=q[le][1]);switch((_["number-columns-spanned"]||_["number-rows-spanned"])&&(O=parseInt(_["number-rows-spanned"],10)||0,j=parseInt(_["number-columns-spanned"],10)||0,P={s:{r:E,c:D},e:{r:E+O-1,c:D+j-1}},B.push(P)),_["number-columns-repeated"]&&(re=parseInt(_["number-columns-repeated"],10)),y.t){case"boolean":y.t="b",y.v=Ya(_["boolean-value"]);break;case"float":y.t="n",y.v=parseFloat(_.value);break;case"percentage":y.t="n",y.v=parseFloat(_.value);break;case"currency":y.t="n",y.v=parseFloat(_.value);break;case"date":y.t="d",y.v=Ja(_["date-value"]),r.cellDates||(y.t="n",y.v=wo(y.v)),y.z="m/d/yy";break;case"time":y.t="n",y.v=w7e(_["time-value"])/86400,r.cellDates&&(y.t="d",y.v=W3(y.v)),y.z="HH:MM:SS";break;case"number":y.t="n",y.v=parseFloat(_.);break;default:if(y.t==="string"||y.t==="text"||!y.t)y.t="s",_["string-value"]!=null&&(b=Vn(_["string-value"]),C=[]);else throw new Error("Unsupported value type "+y.t)}}else{if(Z=!1,y.t==="s"&&(y.v=b||"",C.length&&(y.R=C),Z=S==0),z.Target&&(y.l=z),Q.length>0&&(y.c=Q,Q=[]),b&&r.cellText!==!1&&(y.w=b),Z&&(y.t="z",delete y.v),(!Z||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=E))for(var J=0;J<Y;++J){if(re=parseInt(_["number-columns-repeated"]||"1",10),r.dense)for(x[E+J]||(x[E+J]=[]),x[E+J][D]=J==0?y:Qa(y);--re>0;)x[E+J][D+re]=Qa(y);else for(x[Jr({r:E+J,c:D})]=y;--re>0;)x[Jr({r:E+J,c:D+re})]=Qa(y);T.e.c<=D&&(T.e.c=D)}re=parseInt(_["number-columns-repeated"]||"1",10),D+=re-1,re=0,y={},b="",C=[]}z={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(g[1]==="/"){if((i=a.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!0]);break;case"annotation":if(g[1]==="/"){if((i=a.pop())[0]!==g[3])throw"Bad state: "+i;R.t=b,C.length&&(R.R=C),R.a=H,Q.push(R)}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!1]);H="",X=0,b="",S=0,C=[];break;case"creator":g[1]==="/"?H=n.slice(X,g.index):X=g.index+g[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(g[1]==="/"){if((i=a.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!1]);b="",S=0,C=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(g[1]==="/"){if(L[s.name]=l,(i=a.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&(l="",s=nn(g[0],!1),a.push([g[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":o=nn(g[0],!1),l+=HW[g[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":o=nn(g[0],!1),l+=HW[g[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(g[0].slice(-2)==="/>")break;if(g[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":l+=n.slice(u,g.index);break}else u=g.index+g[0].length;break;case"named-range":o=nn(g[0],!1),te=KT(o["cell-range-address"]);var me={Name:o.name,Ref:te[0]+"!"+te[1]};ie&&(me.Sheet=m.length),K.Names.push(me);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(g[1]==="/"&&(!_||!_["string-value"])){var ve=Gze(n.slice(S,g.index));b=(b.length>0?b+`
`:"")+ve[0]}else nn(g[0],!1),S=g.index+g[0].length;break;case"s":break;case"database-range":if(g[1]==="/")break;try{te=KT(nn(g[0])["target-range-address"]),h[te[0]]["!autofilter"]={ref:te[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(g[1]!=="/"){if(z=nn(g[0],!1),!z.href)break;z.Target=Vn(z.href),delete z.href,z.Target.charAt(0)=="#"&&z.Target.indexOf(".")>-1?(te=KT(z.Target.slice(1)),z.Target="#"+te[0]+"!"+te[1]):z.Target.match(/^\.\.[\\\/]/)&&(z.Target=z.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(g[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(g)}}var ae={Sheets:h,SheetNames:m,Workbook:K};return r.bookSheets&&delete ae.Sheets,ae}function VW(e,t){t=t||{},zc(e,"META-INF/manifest.xml")&&wMe(no(e,"META-INF/manifest.xml"),t);var r=cc(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=Hae(Aa(r),t);return zc(e,"meta.xml")&&(n.Props=Mne(no(e,"meta.xml"))),n}function GW(e,t){return Hae(e,t)}var Kze=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+cw({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Zi+t}}(),KW=function(){var e=function(i){return _a(i).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(i,o,s){var l=[];l.push('      <table:table table:name="'+_a(o.SheetNames[s])+`" table:style-name="ta1">
`);var u=0,d=0,f=Ml(i["!ref"]||"A1"),h=i["!merges"]||[],m=0,x=Array.isArray(i);if(i["!cols"])for(d=0;d<=f.e.c;++d)l.push("        <table:table-column"+(i["!cols"][d]?' table:style-name="co'+i["!cols"][d].ods+'"':"")+`></table:table-column>
`);var g="",y=i["!rows"]||[];for(u=0;u<f.s.r;++u)g=y[u]?' table:style-name="ro'+y[u].ods+'"':"",l.push("        <table:table-row"+g+`></table:table-row>
`);for(;u<=f.e.r;++u){for(g=y[u]?' table:style-name="ro'+y[u].ods+'"':"",l.push("        <table:table-row"+g+`>
`),d=0;d<f.s.c;++d)l.push(t);for(;d<=f.e.c;++d){var _=!1,b={},S="";for(m=0;m!=h.length;++m)if(!(h[m].s.c>d)&&!(h[m].s.r>u)&&!(h[m].e.c<d)&&!(h[m].e.r<u)){(h[m].s.c!=d||h[m].s.r!=u)&&(_=!0),b["table:number-columns-spanned"]=h[m].e.c-h[m].s.c+1,b["table:number-rows-spanned"]=h[m].e.r-h[m].s.r+1;break}if(_){l.push(r);continue}var C=Jr({r:u,c:d}),E=x?(i[u]||[])[d]:i[C];if(E&&E.f&&(b["table:formula"]=_a(pBe(E.f)),E.F&&E.F.slice(0,C.length)==C)){var D=Ml(E.F);b["table:number-matrix-columns-spanned"]=D.e.c-D.s.c+1,b["table:number-matrix-rows-spanned"]=D.e.r-D.s.r+1}if(!E){l.push(t);continue}switch(E.t){case"b":S=E.v?"TRUE":"FALSE",b["office:value-type"]="boolean",b["office:boolean-value"]=E.v?"true":"false";break;case"n":S=E.w||String(E.v||0),b["office:value-type"]="float",b["office:value"]=E.v||0;break;case"s":case"str":S=E.v==null?"":E.v,b["office:value-type"]="string";break;case"d":S=E.w||Ja(E.v).toISOString(),b["office:value-type"]="date",b["office:date-value"]=Ja(E.v).toISOString(),b["table:style-name"]="ce1";break;default:l.push(t);continue}var T=e(S);if(E.l&&E.l.Target){var I=E.l.Target;I=I.charAt(0)=="#"?"#"+mBe(I.slice(1)):I,I.charAt(0)!="#"&&!I.match(/^\w+:/)&&(I="../"+I),T=Xt("text:a",T,{"xlink:href":I.replace(/&/g,"&amp;")})}l.push("          "+Xt("table:table-cell",Xt("text:p",T,{}),b)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},a=function(i,o){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var s=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var d=0;d<u["!cols"].length;++d)if(u["!cols"][d]){var f=u["!cols"][d];if(f.width==null&&f.wpx==null&&f.wch==null)continue;g0(f),f.ods=s;var h=u["!cols"][d].wpx+"px";i.push('  <style:style style:name="co'+s+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+h+`"/>
`),i.push(`  </style:style>
`),++s}}});var l=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var d=0;d<u["!rows"].length;++d)if(u["!rows"][d]){u["!rows"][d].ods=l;var f=u["!rows"][d].hpx+"px";i.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),i.push(`  </style:style>
`),++l}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(o,s){var l=[Zi],u=cw({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=cw({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});s.bookType=="fods"?(l.push("<office:document"+u+d+`>
`),l.push(Rne().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+u+`>
`),a(l,o),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var f=0;f!=o.SheetNames.length;++f)l.push(n(o.Sheets[o.SheetNames[f]],o,f));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),s.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}}();function Vae(e,t){if(t.bookType=="fods")return KW(e,t);var r=NR(),n="",a=[],i=[];return n="mimetype",Sn(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Sn(r,n,KW(e,t)),a.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",Sn(r,n,Kze(e,t)),a.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",Sn(r,n,Zi+Rne()),a.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",Sn(r,n,SMe(i)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Sn(r,n,_Me(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function dg(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function f8(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):Aa(D0(e))}function Yze(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):lc(Kd(e))}function Xze(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function y0(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function YW(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function Zze(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function Jze(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var i=0;a>=1;++i,a/=256)e[t+i]=a&255;e[t+15]|=r>=0?0:128}function vw(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function xa(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function Ti(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Jn(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=vw(e,r),i=a&7;a=Math.floor(a/8);var o=0,s;if(a==0)break;switch(i){case 0:{for(var l=r[0];e[r[0]++]>=128;);s=e.slice(l,r[0])}break;case 5:o=4,s=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,s=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=vw(e,r),s=e.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var u={data:s,type:i};t[a]==null?t[a]=[u]:t[a].push(u)}return t}function Zo(e){var t=[];return e.forEach(function(r,n){r.forEach(function(a){a.data&&(t.push(xa(n*8+a.type)),a.type==2&&t.push(xa(a.data.length)),t.push(a.data))})}),y0(t)}function QR(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function Uc(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=vw(e,n),i=Jn(e.slice(n[0],n[0]+a));n[0]+=a;var o={id:Ti(i[1][0].data),messages:[]};i[2].forEach(function(s){var l=Jn(s.data),u=Ti(l[3][0].data);o.messages.push({meta:l,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=i[3])!=null&&t[0]&&(o.merge=Ti(i[3][0].data)>>>0>0),r.push(o)}return r}function Ev(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:xa(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:xa(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(o){a.push(o.data),o.meta[3]=[{type:0,data:xa(o.data.length)}],n[2].push({data:Zo(o.meta),type:2})});var i=Zo(n);t.push(xa(i.length)),t.push(i),a.forEach(function(o){return t.push(o)})}),y0(t)}function Qze(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=vw(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var o=t[r[0]++]>>2;if(o<60)++o;else{var s=o-59;o=t[r[0]],s>1&&(o|=t[r[0]+1]<<8),s>2&&(o|=t[r[0]+2]<<16),s>3&&(o|=t[r[0]+3]<<24),o>>>=0,o++,r[0]+=s}a.push(t.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var l=0,u=0;if(i==1?(u=(t[r[0]]>>2&7)+4,l=(t[r[0]++]&224)<<3,l|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,i==2?(l=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(l=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[y0(a)],l==0)throw new Error("Invalid offset 0");if(l>a[0].length)throw new Error("Invalid offset beyond length");if(u>=l)for(a.push(a[0].slice(-l)),u-=l;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-l,-l+u))}}var d=y0(a);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function qc(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(Qze(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return y0(t)}function Cv(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var i=xa(n),o=i.length;t.push(i),n<=60?(o++,t.push(new Uint8Array([n-1<<2]))):n<=256?(o+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(o+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(o+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(o+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),o+=n,a[0]=0,a[1]=o&255,a[2]=o>>8&255,a[3]=o>>16&255,r+=n}return y0(t)}function eWe(e,t,r,n){var a=dg(e),i=a.getUint32(4,!0),o=(n>1?12:8)+YW(i&(n>1?3470:398))*4,s=-1,l=-1,u=NaN,d=new Date(2001,0,1);i&512&&(s=a.getUint32(o,!0),o+=4),o+=YW(i&(n>1?12288:4096))*4,i&16&&(l=a.getUint32(o,!0),o+=4),i&32&&(u=a.getFloat64(o,!0),o+=8),i&64&&(d.setTime(d.getTime()+a.getFloat64(o,!0)*1e3),o+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:u};break;case 3:f={t:"s",v:t[l]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(s>-1)f={t:"s",v:r[s]};else if(l>-1)f={t:"s",v:t[l]};else if(!isNaN(u))f={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function tWe(e,t,r){var n=dg(e),a=n.getUint32(8,!0),i=12,o=-1,s=-1,l=NaN,u=NaN,d=new Date(2001,0,1);a&1&&(l=Zze(e,i),i+=16),a&2&&(u=n.getFloat64(i,!0),i+=8),a&4&&(d.setTime(d.getTime()+n.getFloat64(i,!0)*1e3),i+=8),a&8&&(s=n.getUint32(i,!0),i+=4),a&16&&(o=n.getUint32(i,!0),i+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:l};break;case 3:f={t:"s",v:t[s]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:r[o]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return f}function XT(e,t){var r=new Uint8Array(32),n=dg(r),a=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,Jze(r,a,e.v),i|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,e.v?1:0,!0),i|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,i,!0),r.slice(0,a)}function ZT(e,t){var r=new Uint8Array(32),n=dg(r),a=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(a,e.v,!0),i|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,e.v?1:0,!0),i|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,i,!0),r.slice(0,a)}function rWe(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return eWe(e,t,r,e[0]);case 5:return tWe(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function Ns(e){var t=Jn(e);return vw(t[1][0].data)}function XW(e,t){var r=Jn(t.data),n=Ti(r[1][0].data),a=r[3],i=[];return(a||[]).forEach(function(o){var s=Jn(o.data),l=Ti(s[1][0].data)>>>0;switch(n){case 1:i[l]=f8(s[3][0].data);break;case 8:{var u=e[Ns(s[9][0].data)][0],d=Jn(u.data),f=e[Ns(d[1][0].data)][0],h=Ti(f.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var m=Jn(f.data);i[l]=m[3].map(function(x){return f8(x.data)}).join("")}break}}),i}function nWe(e,t){var r,n,a,i,o,s,l,u,d,f,h,m,x,g,y=Jn(e),_=Ti(y[1][0].data)>>>0,b=Ti(y[2][0].data)>>>0,S=((n=(r=y[8])==null?void 0:r[0])==null?void 0:n.data)&&Ti(y[8][0].data)>0||!1,C,E;if((i=(a=y[7])==null?void 0:a[0])!=null&&i.data&&t!=0)C=(s=(o=y[7])==null?void 0:o[0])==null?void 0:s.data,E=(u=(l=y[6])==null?void 0:l[0])==null?void 0:u.data;else if((f=(d=y[4])==null?void 0:d[0])!=null&&f.data&&t!=1)C=(m=(h=y[4])==null?void 0:h[0])==null?void 0:m.data,E=(g=(x=y[3])==null?void 0:x[0])==null?void 0:g.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var D=S?4:1,T=dg(C),I=[],L=0;L<C.length/2;++L){var B=T.getUint16(L*2,!0);B<65535&&I.push([L,B])}if(I.length!=b)throw"Expected ".concat(b," cells, found ").concat(I.length);var P=[];for(L=0;L<I.length-1;++L)P[I[L][0]]=E.subarray(I[L][1]*D,I[L+1][1]*D);return I.length>=1&&(P[I[I.length-1][0]]=E.subarray(I[I.length-1][1]*D)),{R:_,cells:P}}function aWe(e,t){var r,n=Jn(t.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?Ti(n[7][0].data)>>>0>0?1:0:-1,i=QR(n[5],function(o){return nWe(o,a)});return{nrows:Ti(n[4][0].data)>>>0,data:i.reduce(function(o,s){return o[s.R]||(o[s.R]=[]),s.cells.forEach(function(l,u){if(o[s.R][u])throw new Error("Duplicate cell r=".concat(s.R," c=").concat(u));o[s.R][u]=l}),o},[])}}function iWe(e,t,r){var n,a=Jn(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(Ti(a[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(i.e.c=(Ti(a[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=vn(i);var o=Jn(a[4][0].data),s=XW(e,e[Ns(o[4][0].data)][0]),l=(n=o[17])!=null&&n[0]?XW(e,e[Ns(o[17][0].data)][0]):[],u=Jn(o[3][0].data),d=0;u[1].forEach(function(f){var h=Jn(f.data),m=e[Ns(h[2][0].data)][0],x=Ti(m.meta[1][0].data);if(x!=6002)throw new Error("6001 unexpected reference to ".concat(x));var g=aWe(e,m);g.data.forEach(function(y,_){y.forEach(function(b,S){var C=Jr({r:d+_,c:S}),E=rWe(b,s,l);E&&(r[C]=E)})}),d+=g.nrows})}function oWe(e,t){var r=Jn(t.data),n={"!ref":"A1"},a=e[Ns(r[2][0].data)],i=Ti(a[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return iWe(e,a[0],n),n}function sWe(e,t){var r,n=Jn(t.data),a={name:(r=n[1])!=null&&r[0]?f8(n[1][0].data):"",sheets:[]},i=QR(n[2],Ns);return i.forEach(function(o){e[o].forEach(function(s){var l=Ti(s.meta[1][0].data);l==6e3&&a.sheets.push(oWe(e,s))})}),a}function lWe(e,t){var r=i7(),n=Jn(t.data),a=QR(n[1],Ns);if(a.forEach(function(i){e[i].forEach(function(o){var s=Ti(o.meta[1][0].data);if(s==2){var l=sWe(e,o);l.sheets.forEach(function(u,d){o7(r,u,d==0?l.name:l.name+"_"+d,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function JT(e){var t,r,n,a,i={},o=[];if(e.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var u;try{u=qc(l.content)}catch(f){return console.log("?? "+l.content.length+" "+(f.message||f))}var d;try{d=Uc(u)}catch(f){return console.log("## "+(f.message||f))}d.forEach(function(f){i[f.id]=f.messages,o.push(f.id)})}}),!o.length)throw new Error("File has no messages");var s=((a=(n=(r=(t=i==null?void 0:i[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&Ti(i[1][0].meta[1][0].data)==1&&i[1][0];if(s||o.forEach(function(l){i[l].forEach(function(u){var d=Ti(u.meta[1][0].data)>>>0;if(d==1)if(!s)s=u;else throw new Error("Document has multiple roots")})}),!s)throw new Error("Cannot find Document root");return lWe(i,s)}function cWe(e,t,r){var n,a,i,o;if(!((n=e[6])!=null&&n[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var s=((o=(i=e[8])==null?void 0:i[0])==null?void 0:o.data)&&Ti(e[8][0].data)>0||!1;if(s)throw"Math only works with normal offsets";for(var l=0,u=dg(e[7][0].data),d=0,f=[],h=dg(e[4][0].data),m=0,x=[],g=0;g<t.length;++g){if(t[g]==null){u.setUint16(g*2,65535,!0),h.setUint16(g*2,65535);continue}u.setUint16(g*2,d,!0),h.setUint16(g*2,m,!0);var y,_;switch(typeof t[g]){case"string":y=XT({t:"s",v:t[g]},r),_=ZT({t:"s",v:t[g]},r);break;case"number":y=XT({t:"n",v:t[g]},r),_=ZT({t:"n",v:t[g]},r);break;case"boolean":y=XT({t:"b",v:t[g]},r),_=ZT({t:"b",v:t[g]},r);break;default:throw new Error("Unsupported value "+t[g])}f.push(y),d+=y.length,x.push(_),m+=_.length,++l}for(e[2][0].data=xa(l);g<e[7][0].data.length/2;++g)u.setUint16(g*2,65535,!0),h.setUint16(g*2,65535,!0);return e[6][0].data=y0(f),e[3][0].data=y0(x),l}function uWe(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Ml(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(vn(n)));var i=QS(r,{range:n,header:1}),o=["~Sh33tJ5~"];i.forEach(function(H){return H.forEach(function(X){typeof X=="string"&&o.push(X)})});var s={},l=[],u=Mr.read(t.numbers,{type:"base64"});u.FileIndex.map(function(H,X){return[H,u.FullPaths[X]]}).forEach(function(H){var X=H[0],Z=H[1];if(X.type==2&&X.name.match(/\.iwa/)){var ie=X.content,le=qc(ie),pe=Uc(le);pe.forEach(function(J){l.push(J.id),s[J.id]={deps:[],location:Z,type:Ti(J.messages[0].meta[1][0].data)}})}}),l.sort(function(H,X){return H-X});var d=l.filter(function(H){return H>1}).map(function(H){return[H,xa(H)]});u.FileIndex.map(function(H,X){return[H,u.FullPaths[X]]}).forEach(function(H){var X=H[0];if(H[1],!!X.name.match(/\.iwa/)){var Z=Uc(qc(X.content));Z.forEach(function(ie){ie.messages.forEach(function(le){d.forEach(function(pe){ie.messages.some(function(J){return Ti(J.meta[1][0].data)!=11006&&Xze(J.data,pe[1])})&&s[pe[0]].deps.push(ie.id)})})})}});for(var f=Mr.find(u,s[1].location),h=Uc(qc(f.content)),m,x=0;x<h.length;++x){var g=h[x];g.id==1&&(m=g)}var y=Ns(Jn(m.messages[0].data)[1][0].data);for(f=Mr.find(u,s[y].location),h=Uc(qc(f.content)),x=0;x<h.length;++x)g=h[x],g.id==y&&(m=g);for(y=Ns(Jn(m.messages[0].data)[2][0].data),f=Mr.find(u,s[y].location),h=Uc(qc(f.content)),x=0;x<h.length;++x)g=h[x],g.id==y&&(m=g);for(y=Ns(Jn(m.messages[0].data)[2][0].data),f=Mr.find(u,s[y].location),h=Uc(qc(f.content)),x=0;x<h.length;++x)g=h[x],g.id==y&&(m=g);var _=Jn(m.messages[0].data);{_[6][0].data=xa(n.e.r+1),_[7][0].data=xa(n.e.c+1);var b=Ns(_[46][0].data),S=Mr.find(u,s[b].location),C=Uc(qc(S.content));{for(var E=0;E<C.length&&C[E].id!=b;++E);if(C[E].id!=b)throw"Bad ColumnRowUIDMapArchive";var D=Jn(C[E].messages[0].data);D[1]=[],D[2]=[],D[3]=[];for(var T=0;T<=n.e.c;++T){var I=[];I[1]=I[2]=[{type:0,data:xa(T+420690)}],D[1].push({type:2,data:Zo(I)}),D[2].push({type:0,data:xa(T)}),D[3].push({type:0,data:xa(T)})}D[4]=[],D[5]=[],D[6]=[];for(var L=0;L<=n.e.r;++L)I=[],I[1]=I[2]=[{type:0,data:xa(L+726270)}],D[4].push({type:2,data:Zo(I)}),D[5].push({type:0,data:xa(L)}),D[6].push({type:0,data:xa(L)});C[E].messages[0].data=Zo(D)}S.content=Cv(Ev(C)),S.size=S.content.length,delete _[46];var B=Jn(_[4][0].data);{B[7][0].data=xa(n.e.r+1);var P=Jn(B[1][0].data),O=Ns(P[2][0].data);S=Mr.find(u,s[O].location),C=Uc(qc(S.content));{if(C[0].id!=O)throw"Bad HeaderStorageBucket";var j=Jn(C[0].messages[0].data);for(L=0;L<i.length;++L){var G=Jn(j[2][0].data);G[1][0].data=xa(L),G[4][0].data=xa(i[L].length),j[2][L]={type:j[2][0].type,data:Zo(G)}}C[0].messages[0].data=Zo(j)}S.content=Cv(Ev(C)),S.size=S.content.length;var Y=Ns(B[2][0].data);S=Mr.find(u,s[Y].location),C=Uc(qc(S.content));{if(C[0].id!=Y)throw"Bad HeaderStorageBucket";for(j=Jn(C[0].messages[0].data),T=0;T<=n.e.c;++T)G=Jn(j[2][0].data),G[1][0].data=xa(T),G[4][0].data=xa(n.e.r+1),j[2][T]={type:j[2][0].type,data:Zo(G)};C[0].messages[0].data=Zo(j)}S.content=Cv(Ev(C)),S.size=S.content.length;var re=Ns(B[4][0].data);(function(){for(var H=Mr.find(u,s[re].location),X=Uc(qc(H.content)),Z,ie=0;ie<X.length;++ie){var le=X[ie];le.id==re&&(Z=le)}var pe=Jn(Z.messages[0].data);{pe[3]=[];var J=[];o.forEach(function(ae,Ue){J[1]=[{type:0,data:xa(Ue)}],J[2]=[{type:0,data:xa(1)}],J[3]=[{type:2,data:Yze(ae)}],pe[3].push({type:2,data:Zo(J)})})}Z.messages[0].data=Zo(pe);var me=Ev(X),ve=Cv(me);H.content=ve,H.size=H.content.length})();var q=Jn(B[3][0].data);{var K=q[1][0];delete q[2];var z=Jn(K.data);{var te=Ns(z[2][0].data);(function(){for(var H=Mr.find(u,s[te].location),X=Uc(qc(H.content)),Z,ie=0;ie<X.length;++ie){var le=X[ie];le.id==te&&(Z=le)}var pe=Jn(Z.messages[0].data);{delete pe[6],delete q[7];var J=new Uint8Array(pe[5][0].data);pe[5]=[];for(var me=0,ve=0;ve<=n.e.r;++ve){var ae=Jn(J);me+=cWe(ae,i[ve],o),ae[1][0].data=xa(ve),pe[5].push({data:Zo(ae),type:2})}pe[1]=[{type:0,data:xa(n.e.c+1)}],pe[2]=[{type:0,data:xa(n.e.r+1)}],pe[3]=[{type:0,data:xa(me)}],pe[4]=[{type:0,data:xa(n.e.r+1)}]}Z.messages[0].data=Zo(pe);var Ue=Ev(X),He=Cv(Ue);H.content=He,H.size=H.content.length})()}K.data=Zo(z)}B[3][0].data=Zo(q)}_[4][0].data=Zo(B)}m.messages[0].data=Zo(_);var Q=Ev(h),R=Cv(Q);return f.content=R,f.size=f.content.length,u}function Gae(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function e7(e){Gae([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function t7(e){Gae([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function dWe(e){return Tn.WS.indexOf(e)>-1?"sheet":e==Tn.CS?"chart":e==Tn.DS?"dialog":e==Tn.MS?"macro":e&&e.length?e:"sheet"}function fWe(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,dWe(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function hWe(e,t,r,n,a,i,o,s,l,u,d,f){try{i[n]=W2(cc(e,r,!0),t);var h=no(e,t),m;switch(s){case"sheet":m=Mqe(h,t,a,l,i[n],u,d,f);break;case"chart":if(m=Fqe(h,t,a,l,i[n],u,d,f),!m||!m["!drawel"])break;var x=k2(m["!drawel"].Target,t),g=dw(x),y=bje(cc(e,x,!0),W2(cc(e,g,!0),x)),_=k2(y,x),b=dw(_);m=cqe(cc(e,_,!0),_,l,W2(cc(e,b,!0),_),u,m);break;case"macro":m=Lqe(h,t,a,l,i[n],u,d,f);break;case"dialog":m=jqe(h,t,a,l,i[n],u,d,f);break;default:throw new Error("Unrecognized sheet type "+s)}o[n]=m;var S=[];i&&i[n]&&Oi(i[n]).forEach(function(C){var E="";if(i[n][C].Type==Tn.CMNT){E=k2(i[n][C].Target,t);var D=qqe(no(e,E,!0),E,l);if(!D||!D.length)return;MW(m,D,!1)}i[n][C].Type==Tn.TCMNT&&(E=k2(i[n][C].Target,t),S=S.concat(Aje(no(e,E,!0),l)))}),S&&S.length&&MW(m,S,!0,l.people||[])}catch(C){if(l.WTF)throw C}}function $c(e){return e.charAt(0)=="/"?e.slice(1):e}function pWe(e,t){if(vy(),t=t||{},e7(t),zc(e,"META-INF/manifest.xml")||zc(e,"objectdata.xml"))return VW(e,t);if(zc(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof JT<"u"){if(e.FileIndex)return JT(e);var r=Mr.utils.cfb_new();return rW(e).forEach(function(G){Sn(r,G,k7e(e,G))}),JT(r)}throw new Error("Unsupported NUMBERS file")}if(!zc(e,"[Content_Types].xml"))throw zc(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):zc(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=rW(e),a=yMe(cc(e,"[Content_Types].xml")),i=!1,o,s;if(a.workbooks.length===0&&(s="xl/workbook.xml",no(e,s,!0)&&a.workbooks.push(s)),a.workbooks.length===0){if(s="xl/workbook.bin",!no(e,s,!0))throw new Error("Could not find workbook");a.workbooks.push(s),i=!0}a.workbooks[0].slice(-3)=="bin"&&(i=!0);var l={},u={};if(!t.bookSheets&&!t.bookProps){if(H2=[],a.sst)try{H2=Uqe(no(e,$c(a.sst)),a.sst,t)}catch(G){if(t.WTF)throw G}t.cellStyles&&a.themes.length&&(l=Bqe(cc(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(u=$qe(no(e,$c(a.style)),a.style,l,t))}a.links.map(function(G){try{var Y=W2(cc(e,dw($c(G))),G);return Wqe(no(e,$c(G)),Y,G,t)}catch{}});var d=Rqe(no(e,$c(a.workbooks[0])),a.workbooks[0],t),f={},h="";a.coreprops.length&&(h=no(e,$c(a.coreprops[0]),!0),h&&(f=Mne(h)),a.extprops.length!==0&&(h=no(e,$c(a.extprops[0]),!0),h&&kMe(h,f,t)));var m={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(h=cc(e,$c(a.custprops[0]),!0),h&&(m=EMe(h,t)));var x={};if((t.bookSheets||t.bookProps)&&(d.Sheets?o=d.Sheets.map(function(Y){return Y.name}):f.Worksheets&&f.SheetNames.length>0&&(o=f.SheetNames),t.bookProps&&(x.Props=f,x.Custprops=m),t.bookSheets&&typeof o<"u"&&(x.SheetNames=o),t.bookSheets?x.SheetNames:t.bookProps))return x;o={};var g={};t.bookDeps&&a.calcchain&&(g=zqe(no(e,$c(a.calcchain)),a.calcchain));var y=0,_={},b,S;{var C=d.Sheets;f.Worksheets=C.length,f.SheetNames=[];for(var E=0;E!=C.length;++E)f.SheetNames[E]=C[E].name}var D=i?"bin":"xml",T=a.workbooks[0].lastIndexOf("/"),I=(a.workbooks[0].slice(0,T+1)+"_rels/"+a.workbooks[0].slice(T+1)+".rels").replace(/^\//,"");zc(e,I)||(I="xl/_rels/workbook."+D+".rels");var L=W2(cc(e,I,!0),I.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=Hqe(no(e,$c(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=Nje(no(e,$c(a.people[0])),t)),L&&(L=fWe(L,d.Sheets));var B=no(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(y=0;y!=f.Worksheets;++y){var P="sheet";if(L&&L[y]?(b="xl/"+L[y][1].replace(/[\/]?xl\//,""),zc(e,b)||(b=L[y][1]),zc(e,b)||(b=I.replace(/_rels\/.*$/,"")+L[y][1]),P=L[y][2]):(b="xl/worksheets/sheet"+(y+1-B)+"."+D,b=b.replace(/sheet0\./,"sheet.")),S=b.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(y!=t.sheets)continue e;break;case"string":if(f.SheetNames[y].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var O=!1,j=0;j!=t.sheets.length;++j)typeof t.sheets[j]=="number"&&t.sheets[j]==y&&(O=1),typeof t.sheets[j]=="string"&&t.sheets[j].toLowerCase()==f.SheetNames[y].toLowerCase()&&(O=1);if(!O)continue e}}hWe(e,b,S,f.SheetNames[y],y,_,o,P,t,d,l,u)}return x={Directory:a,Workbook:d,Props:f,Custprops:m,Deps:g,Sheets:o,SheetNames:f.SheetNames,Strings:H2,Styles:u,Themes:l,SSF:Qa(Gr)},t&&t.bookFiles&&(e.files?(x.keys=n,x.files=e.files):(x.keys=[],x.files={},e.FullPaths.forEach(function(G,Y){G=G.replace(/^Root Entry[\/]/,""),x.keys.push(G),x.files[G]=e.FileIndex[Y]}))),t&&t.bookVBA&&(a.vba.length>0?x.vbaraw=no(e,$c(a.vba[0]),!0):a.defaults&&a.defaults.bin===Rje&&(x.vbaraw=no(e,"xl/vbaProject.bin",!0))),x}function mWe(e,t){var r=t||{},n="Workbook",a=Mr.find(e,n);try{if(n="/!DataSpaces/Version",a=Mr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(HLe(a.content),n="/!DataSpaces/DataSpaceMap",a=Mr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=GLe(a.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=Mr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=KLe(a.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=Mr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);XLe(a.content)}catch{}if(n="/EncryptionInfo",a=Mr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=ZLe(a.content);if(n="/EncryptedPackage",a=Mr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(s[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(s[1],a.content,r.password||"",r);if(s[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(s[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function gWe(e,t){return t.bookType=="ods"?Vae(e,t):t.bookType=="numbers"?uWe(e,t):t.bookType=="xlsb"?vWe(e,t):yWe(e,t)}function vWe(e,t){Uv=1024,e&&!e.SSF&&(e.SSF=Qa(Gr)),e&&e.SSF&&(vy(),U3(e.SSF),t.revssf=z3(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,V2?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=wae.indexOf(t.bookType)>-1,a=BR();t7(t=t||{});var i=NR(),o="",s=0;if(t.cellXfs=[],R0(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",Sn(i,o,Fne(e.Props,t)),a.coreprops.push(o),wa(t.rels,2,o,Tn.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var l=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&l.push(e.SheetNames[u]);e.Props.SheetNames=l}for(e.Props.Worksheets=e.Props.SheetNames.length,Sn(i,o,$ne(e.Props)),a.extprops.push(o),wa(t.rels,3,o,Tn.EXT_PROPS),e.Custprops!==e.Props&&Oi(e.Custprops||{}).length>0&&(o="docProps/custom.xml",Sn(i,o,Bne(e.Custprops)),a.custprops.push(o),wa(t.rels,4,o,Tn.CUST_PROPS)),s=1;s<=e.SheetNames.length;++s){var d={"!id":{}},f=e.Sheets[e.SheetNames[s-1]],h=(f||{})["!type"]||"sheet";switch(h){case"chart":default:o="xl/worksheets/sheet"+s+"."+r,Sn(i,o,Gqe(s-1,o,t,e,d)),a.sheets.push(o),wa(t.wbrels,-1,"worksheets/sheet"+s+"."+r,Tn.WS[0])}if(f){var m=f["!comments"],x=!1,g="";m&&m.length>0&&(g="xl/comments"+s+"."+r,Sn(i,g,Xqe(m,g)),a.comments.push(g),wa(d,-1,"../comments"+s+"."+r,Tn.CMNT),x=!0),f["!legacy"]&&x&&Sn(i,"xl/drawings/vmlDrawing"+s+".vml",yae(s,f["!comments"])),delete f["!comments"],delete f["!legacy"]}d["!id"].rId1&&Sn(i,dw(o),t1(d))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,Sn(i,o,Yqe(t.Strings,o,t)),a.strs.push(o),wa(t.wbrels,-1,"sharedStrings."+r,Tn.SST)),o="xl/workbook."+r,Sn(i,o,Vqe(e,o)),a.workbooks.push(o),wa(t.rels,1,o,Tn.WB),o="xl/theme/theme1.xml",Sn(i,o,VR(e.Themes,t)),a.themes.push(o),wa(t.wbrels,-1,"theme/theme1.xml",Tn.THEME),o="xl/styles."+r,Sn(i,o,Kqe(e,o,t)),a.styles.push(o),wa(t.wbrels,-1,"styles."+r,Tn.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",Sn(i,o,e.vbaraw),a.vba.push(o),wa(t.wbrels,-1,"vbaProject.bin",Tn.VBA)),o="xl/metadata."+r,Sn(i,o,Zqe(o)),a.metadata.push(o),wa(t.wbrels,-1,"metadata."+r,Tn.XLMETA),Sn(i,"[Content_Types].xml",Ine(a,t)),Sn(i,"_rels/.rels",t1(t.rels)),Sn(i,"xl/_rels/workbook."+r+".rels",t1(t.wbrels)),delete t.revssf,delete t.ssf,i}function yWe(e,t){Uv=1024,e&&!e.SSF&&(e.SSF=Qa(Gr)),e&&e.SSF&&(vy(),U3(e.SSF),t.revssf=z3(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,V2?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=wae.indexOf(t.bookType)>-1,a=BR();t7(t=t||{});var i=NR(),o="",s=0;if(t.cellXfs=[],R0(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",Sn(i,o,Fne(e.Props,t)),a.coreprops.push(o),wa(t.rels,2,o,Tn.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var l=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&l.push(e.SheetNames[u]);e.Props.SheetNames=l}e.Props.Worksheets=e.Props.SheetNames.length,Sn(i,o,$ne(e.Props)),a.extprops.push(o),wa(t.rels,3,o,Tn.EXT_PROPS),e.Custprops!==e.Props&&Oi(e.Custprops||{}).length>0&&(o="docProps/custom.xml",Sn(i,o,Bne(e.Custprops)),a.custprops.push(o),wa(t.rels,4,o,Tn.CUST_PROPS));var d=["SheetJ5"];for(t.tcid=0,s=1;s<=e.SheetNames.length;++s){var f={"!id":{}},h=e.Sheets[e.SheetNames[s-1]],m=(h||{})["!type"]||"sheet";switch(m){case"chart":default:o="xl/worksheets/sheet"+s+"."+r,Sn(i,o,Oae(s-1,t,e,f)),a.sheets.push(o),wa(t.wbrels,-1,"worksheets/sheet"+s+"."+r,Tn.WS[0])}if(h){var x=h["!comments"],g=!1,y="";if(x&&x.length>0){var _=!1;x.forEach(function(b){b[1].forEach(function(S){S.T==!0&&(_=!0)})}),_&&(y="xl/threadedComments/threadedComment"+s+"."+r,Sn(i,y,kje(x,d,t)),a.threadedcomments.push(y),wa(f,-1,"../threadedComments/threadedComment"+s+"."+r,Tn.TCMNT)),y="xl/comments"+s+"."+r,Sn(i,y,xae(x)),a.comments.push(y),wa(f,-1,"../comments"+s+"."+r,Tn.CMNT),g=!0}h["!legacy"]&&g&&Sn(i,"xl/drawings/vmlDrawing"+s+".vml",yae(s,h["!comments"])),delete h["!comments"],delete h["!legacy"]}f["!id"].rId1&&Sn(i,dw(o),t1(f))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,Sn(i,o,oae(t.Strings,t)),a.strs.push(o),wa(t.wbrels,-1,"sharedStrings."+r,Tn.SST)),o="xl/workbook."+r,Sn(i,o,Fae(e)),a.workbooks.push(o),wa(t.rels,1,o,Tn.WB),o="xl/theme/theme1.xml",Sn(i,o,VR(e.Themes,t)),a.themes.push(o),wa(t.wbrels,-1,"theme/theme1.xml",Tn.THEME),o="xl/styles."+r,Sn(i,o,pae(e,t)),a.styles.push(o),wa(t.wbrels,-1,"styles."+r,Tn.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",Sn(i,o,e.vbaraw),a.vba.push(o),wa(t.wbrels,-1,"vbaProject.bin",Tn.VBA)),o="xl/metadata."+r,Sn(i,o,vae()),a.metadata.push(o),wa(t.wbrels,-1,"metadata."+r,Tn.XLMETA),d.length>1&&(o="xl/persons/person.xml",Sn(i,o,Eje(d)),a.people.push(o),wa(t.wbrels,-1,"persons/person.xml",Tn.PEOPLE)),Sn(i,"[Content_Types].xml",Ine(a,t)),Sn(i,"_rels/.rels",t1(t.rels)),Sn(i,"xl/_rels/workbook."+r+".rels",t1(t.wbrels)),delete t.revssf,delete t.ssf,i}function r7(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=yc(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function xWe(e,t){return Mr.find(e,"EncryptedPackage")?mWe(e,t):Bae(e,t)}function wWe(e,t){var r,n=e,a=t||{};return a.type||(a.type=En&&Buffer.isBuffer(e)?"buffer":"base64"),r=lne(n,a),pWe(r,a)}function Kae(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return u8(e.slice(r),t);default:break e}return V1.to_workbook(e,t)}function _We(e,t){var r="",n=r7(e,t);switch(t.type){case"base64":r=yc(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=sg(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=Aa(r)),t.type="binary",Kae(r,t)}function bWe(e,t){var r=e;return t.type=="base64"&&(r=yc(r)),r=t8.utils.decode(1200,r.slice(2),"str"),t.type="binary",Kae(r,t)}function SWe(e){return e.match(/[^\x00-\x7F]/)?Kd(e):e}function QT(e,t,r,n){return n?(r.type="string",V1.to_workbook(e,r)):V1.to_workbook(t,r)}function h8(e,t){_R();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return h8(new Uint8Array(e),(r=Qa(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],i=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),n1={},r.dateNF&&(n1.dateNF=r.dateNF),r.type||(r.type=En&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=En?"buffer":"binary",n=v7e(e),typeof Uint8Array<"u"&&!En&&(r.type="array")),r.type=="string"&&(i=!0,r.type="binary",r.codepage=65001,n=SWe(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),s=new Uint8Array(o);if(s.foo="bar",!s.foo)return r=Qa(r),r.type="array",h8(bR(n),r)}switch((a=r7(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return xWe(Mr.read(n,r),r);break;case 9:if(a[1]<=8)return Bae(n,r);break;case 60:return u8(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return CLe(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return aae.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?wWe(n,r):QT(e,n,r,i);case 239:return a[3]===60?u8(n,r):QT(e,n,r,i);case 255:if(a[1]===254)return bWe(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return qm.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return qm.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return c8.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return dae.to_workbook(n,r);break;case 10:case 13:case 32:return _We(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return ELe.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?c8.to_workbook(n,r):QT(e,n,r,i)}function Yae(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return Yw(t.file,Mr.write(e,{type:En?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Mr.write(e,t)}function AWe(e,t){var r=Qa(t||{}),n=gWe(e,r);return kWe(n,r)}function kWe(e,t){var r={},n=En?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?Mr.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(B3(a))}return t.password&&typeof encrypt_agile<"u"?Yae(encrypt_agile(a,t.password),t):t.type==="file"?Yw(t.file,a):t.type=="string"?Aa(a):a}function NWe(e,t){var r=t||{},n=Sze(e,r);return Yae(n,r)}function Md(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return ow(Kd(n));case"binary":return Kd(n);case"string":return e;case"file":return Yw(t.file,n,"utf8");case"buffer":return En?Rh(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Md(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function EWe(e,t){switch(t.type){case"base64":return ow(e);case"binary":return e;case"string":return e;case"file":return Yw(t.file,e,"binary");case"buffer":return En?Rh(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Pb(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?ow(r):t.type=="string"?Aa(r):r;case"file":return Yw(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function Xae(e,t){_R(),xqe(e);var r=Qa(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=Xae(e,r);return r.type="array",B3(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Md(gze(e,r),r);case"slk":case"sylk":return Md(nae.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return Md(qae(e.Sheets[e.SheetNames[a]],r),r);case"txt":return EWe(Zae(e.Sheets[e.SheetNames[a]],r),r);case"csv":return Md(a7(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return Md(aae.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return Pb(c8.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return Md(V1.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return Md(dae.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return Md(iae.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return Md(Vae(e,r),r);case"wk1":return Pb(qm.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return Pb(qm.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Pb(Uae(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),NWe(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return AWe(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function CWe(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function n7(e,t,r){var n={};return n.type="file",n.file=t,CWe(n),Xae(e,n)}function TWe(e,t,r,n,a,i,o,s){var l=Yi(r),u=s.defval,d=s.raw||!Object.prototype.hasOwnProperty.call(s,"raw"),f=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!o||e[r])for(var m=t.s.c;m<=t.e.c;++m){var x=o?e[r][m]:e[n[m]+l];if(x===void 0||x.t===void 0){if(u===void 0)continue;i[m]!=null&&(h[i[m]]=u);continue}var g=x.v;switch(x.t){case"z":if(g==null)break;continue;case"e":g=g==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+x.t)}if(i[m]!=null){if(g==null)if(x.t=="e"&&g===null)h[i[m]]=null;else if(u!==void 0)h[i[m]]=u;else if(d&&g===null)h[i[m]]=null;else continue;else h[i[m]]=d&&(x.t!=="n"||x.t==="n"&&s.rawNumbers!==!1)?g:Sh(x,g,s);g!=null&&(f=!1)}}return{row:h,isempty:f}}function QS(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],o=0,s="",l={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":l=Gn(d);break;case"number":l=Gn(e["!ref"]),l.s.r=d;break;default:l=d}n>0&&(a=0);var f=Yi(l.s.r),h=[],m=[],x=0,g=0,y=Array.isArray(e),_=l.s.r,b=0,S={};y&&!e[_]&&(e[_]=[]);var C=u.skipHidden&&e["!cols"]||[],E=u.skipHidden&&e["!rows"]||[];for(b=l.s.c;b<=l.e.c;++b)if(!(C[b]||{}).hidden)switch(h[b]=hi(b),r=y?e[_][b]:e[h[b]+f],n){case 1:i[b]=b-l.s.c;break;case 2:i[b]=h[b];break;case 3:i[b]=u.header[b-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),s=o=Sh(r,null,u),g=S[o]||0,!g)S[o]=1;else{do s=o+"_"+g++;while(S[s]);S[o]=g,S[s]=1}i[b]=s}for(_=l.s.r+a;_<=l.e.r;++_)if(!(E[_]||{}).hidden){var D=TWe(e,l,_,h,n,i,y,u);(D.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(m[x++]=D.row)}return m.length=x,m}var ZW=/"/g;function PWe(e,t,r,n,a,i,o,s){for(var l=!0,u=[],d="",f=Yi(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var m=s.dense?(e[r]||[])[h]:e[n[h]+f];if(m==null)d="";else if(m.v!=null){l=!1,d=""+(s.rawNumbers&&m.t=="n"?m.v:Sh(m,null,s));for(var x=0,g=0;x!==d.length;++x)if((g=d.charCodeAt(x))===a||g===i||g===34||s.forceQuotes){d='"'+d.replace(ZW,'""')+'"';break}d=="ID"&&(d='"ID"')}else m.f!=null&&!m.F?(l=!1,d="="+m.f,d.indexOf(",")>=0&&(d='"'+d.replace(ZW,'""')+'"')):d="";u.push(d)}return s.blankrows===!1&&l?null:u.join(o)}function a7(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=Gn(e["!ref"]),i=n.FS!==void 0?n.FS:",",o=i.charCodeAt(0),s=n.RS!==void 0?n.RS:`
`,l=s.charCodeAt(0),u=new RegExp((i=="|"?"\\|":i)+"+$"),d="",f=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],m=n.skipHidden&&e["!rows"]||[],x=a.s.c;x<=a.e.c;++x)(h[x]||{}).hidden||(f[x]=hi(x));for(var g=0,y=a.s.r;y<=a.e.r;++y)(m[y]||{}).hidden||(d=PWe(e,a,y,f,o,l,i,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((g++?s:"")+d)));return delete n.dense,r.join("")}function Zae(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=a7(e,t);return r}function OWe(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=Gn(e["!ref"]),i="",o=[],s,l=[],u=Array.isArray(e);for(s=a.s.c;s<=a.e.c;++s)o[s]=hi(s);for(var d=a.s.r;d<=a.e.r;++d)for(i=Yi(d),s=a.s.c;s<=a.e.c;++s)if(t=o[s]+i,r=u?(e[d]||[])[s]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=t+"="+n}return l}function Jae(e,t,r){var n=r||{},a=+!n.skipHeader,i=e||{},o=0,s=0;if(i&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var l=typeof n.origin=="string"?pi(n.origin):n.origin;o=l.r,s=l.c}var u,d={s:{c:0,r:0},e:{c:s,r:o+t.length-1+a}};if(i["!ref"]){var f=Gn(i["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),o==-1&&(o=f.e.r+1,d.e.r=o+t.length-1+a)}else o==-1&&(o=0,d.e.r=t.length-1+a);var h=n.header||[],m=0;t.forEach(function(g,y){Oi(g).forEach(function(_){(m=h.indexOf(_))==-1&&(h[m=h.length]=_);var b=g[_],S="z",C="",E=Jr({c:s+m,r:o+y+a});u=yw(i,E),b&&typeof b=="object"&&!(b instanceof Date)?i[E]=b:(typeof b=="number"?S="n":typeof b=="boolean"?S="b":typeof b=="string"?S="s":b instanceof Date?(S="d",n.cellDates||(S="n",b=wo(b)),C=n.dateNF||Gr[14]):b===null&&n.nullError&&(S="e",b=0),u?(u.t=S,u.v=b,delete u.w,delete u.R,C&&(u.z=C)):i[E]=u={t:S,v:b},C&&(u.z=C))})}),d.e.c=Math.max(d.e.c,s+h.length-1);var x=Yi(o);if(a)for(m=0;m<h.length;++m)i[hi(m+s)+x]={t:"s",v:h[m]};return i["!ref"]=vn(d),i}function DWe(e,t){return Jae(null,e,t)}function yw(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=pi(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?yw(e,Jr(t)):yw(e,Jr({r:t,c:r||0}))}function IWe(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function i7(){return{SheetNames:[],Sheets:{}}}function o7(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var o=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=o+a)!=-1;++a);}if(Mae(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function RWe(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=IWe(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function MWe(e,t){return e.z=t,e}function Qae(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function FWe(e,t,r){return Qae(e,"#"+t,r)}function LWe(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function jWe(e,t,r,n){for(var a=typeof t!="string"?t:Gn(t),i=typeof t=="string"?t:vn(t),o=a.s.r;o<=a.e.r;++o)for(var s=a.s.c;s<=a.e.c;++s){var l=yw(e,o,s);l.t="n",l.F=i,delete l.v,o==a.s.r&&s==a.s.c&&(l.f=r,n&&(l.D=!0))}return e}var rf={encode_col:hi,encode_row:Yi,encode_cell:Jr,encode_range:vn,decode_col:RR,decode_row:IR,split_cell:Y7e,decode_cell:pi,decode_range:Ml,format_cell:Sh,sheet_add_aoa:Nne,sheet_add_json:Jae,sheet_add_dom:zae,aoa_to_sheet:yy,json_to_sheet:DWe,table_to_sheet:Wae,table_to_book:Hze,sheet_to_csv:a7,sheet_to_txt:Zae,sheet_to_json:QS,sheet_to_html:qae,sheet_to_formulae:OWe,sheet_to_row_object_array:QS,sheet_get_cell:yw,book_new:i7,book_append_sheet:o7,book_set_sheet_visibility:RWe,cell_set_number_format:MWe,cell_set_hyperlink:Qae,cell_set_internal_link:FWe,cell_add_comment:LWe,sheet_set_array_formula:jWe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function ba(e){"@babel/helpers - typeof";return ba=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ba(e)}var Ds=Uint8Array,uc=Uint16Array,s7=Int32Array,Y3=new Ds([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),X3=new Ds([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),p8=new Ds([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),eie=function(e,t){for(var r=new uc(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new s7(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},tie=eie(Y3,2),rie=tie.b,m8=tie.r;rie[28]=258,m8[258]=28;var nie=eie(X3,0),$We=nie.b,JW=nie.r,g8=new uc(32768);for(var Za=0;Za<32768;++Za){var Dp=(Za&43690)>>1|(Za&21845)<<1;Dp=(Dp&52428)>>2|(Dp&13107)<<2,Dp=(Dp&61680)>>4|(Dp&3855)<<4,g8[Za]=((Dp&65280)>>8|(Dp&255)<<8)>>1}var nf=function(e,t,r){for(var n=e.length,a=0,i=new uc(t);a<n;++a)e[a]&&++i[e[a]-1];var o=new uc(t);for(a=1;a<t;++a)o[a]=o[a-1]+i[a-1]<<1;var s;if(r){s=new uc(1<<t);var l=15-t;for(a=0;a<n;++a)if(e[a])for(var u=a<<4|e[a],d=t-e[a],f=o[e[a]-1]++<<d,h=f|(1<<d)-1;f<=h;++f)s[g8[f]>>l]=u}else for(s=new uc(n),a=0;a<n;++a)e[a]&&(s[a]=g8[o[e[a]-1]++]>>15-e[a]);return s},x0=new Ds(288);for(var Za=0;Za<144;++Za)x0[Za]=8;for(var Za=144;Za<256;++Za)x0[Za]=9;for(var Za=256;Za<280;++Za)x0[Za]=7;for(var Za=280;Za<288;++Za)x0[Za]=8;var xw=new Ds(32);for(var Za=0;Za<32;++Za)xw[Za]=5;var BWe=nf(x0,9,0),UWe=nf(x0,9,1),qWe=nf(xw,5,0),zWe=nf(xw,5,1),eP=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},Tu=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},tP=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},l7=function(e){return(e+7)/8|0},aie=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Ds(e.subarray(t,r))},WWe=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Du=function(e,t,r){var n=new Error(t||WWe[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,Du),!r)throw n;return n},HWe=function(e,t,r,n){var a=e.length,i=0;if(!a||t.f&&!t.l)return r||new Ds(0);var o=!r,s=o||t.i!=2,l=t.i;o&&(r=new Ds(a*3));var u=function(ve){var ae=r.length;if(ve>ae){var Ue=new Ds(Math.max(ae*2,ve));Ue.set(r),r=Ue}},d=t.f||0,f=t.p||0,h=t.b||0,m=t.l,x=t.d,g=t.m,y=t.n,_=a*8;do{if(!m){d=Tu(e,f,1);var b=Tu(e,f+1,3);if(f+=3,b)if(b==1)m=UWe,x=zWe,g=9,y=5;else if(b==2){var D=Tu(e,f,31)+257,T=Tu(e,f+10,15)+4,I=D+Tu(e,f+5,31)+1;f+=14;for(var L=new Ds(I),B=new Ds(19),P=0;P<T;++P)B[p8[P]]=Tu(e,f+P*3,7);f+=T*3;for(var O=eP(B),j=(1<<O)-1,G=nf(B,O,1),P=0;P<I;){var Y=G[Tu(e,f,j)];f+=Y&15;var S=Y>>4;if(S<16)L[P++]=S;else{var re=0,q=0;for(S==16?(q=3+Tu(e,f,3),f+=2,re=L[P-1]):S==17?(q=3+Tu(e,f,7),f+=3):S==18&&(q=11+Tu(e,f,127),f+=7);q--;)L[P++]=re}}var K=L.subarray(0,D),z=L.subarray(D);g=eP(K),y=eP(z),m=nf(K,g,1),x=nf(z,y,1)}else Du(1);else{var S=l7(f)+4,C=e[S-4]|e[S-3]<<8,E=S+C;if(E>a){l&&Du(0);break}s&&u(h+C),r.set(e.subarray(S,E),h),t.b=h+=C,t.p=f=E*8,t.f=d;continue}if(f>_){l&&Du(0);break}}s&&u(h+131072);for(var te=(1<<g)-1,Q=(1<<y)-1,R=f;;R=f){var re=m[tP(e,f)&te],H=re>>4;if(f+=re&15,f>_){l&&Du(0);break}if(re||Du(2),H<256)r[h++]=H;else if(H==256){R=f,m=null;break}else{var X=H-254;if(H>264){var P=H-257,Z=Y3[P];X=Tu(e,f,(1<<Z)-1)+rie[P],f+=Z}var ie=x[tP(e,f)&Q],le=ie>>4;ie||Du(3),f+=ie&15;var z=$We[le];if(le>3){var Z=X3[le];z+=tP(e,f)&(1<<Z)-1,f+=Z}if(f>_){l&&Du(0);break}s&&u(h+131072);var pe=h+X;if(h<z){var J=i-z,me=Math.min(z,pe);for(J+h<0&&Du(3);h<me;++h)r[h]=n[J+h]}for(;h<pe;++h)r[h]=r[h-z]}}t.l=m,t.p=R,t.b=h,t.f=d,m&&(d=1,t.m=g,t.d=x,t.n=y)}while(!d);return h!=r.length&&o?aie(r,0,h):r.subarray(0,h)},Jf=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},c2=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},rP=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,i=r.slice();if(!a)return{t:oie,l:0};if(a==1){var o=new Ds(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(E,D){return E.f-D.f}),r.push({s:-1,f:25001});var s=r[0],l=r[1],u=0,d=1,f=2;for(r[0]={s:-1,f:s.f+l.f,l:s,r:l};d!=a-1;)s=r[r[u].f<r[f].f?u++:f++],l=r[u!=d&&r[u].f<r[f].f?u++:f++],r[d++]={s:-1,f:s.f+l.f,l:s,r:l};for(var h=i[0].s,n=1;n<a;++n)i[n].s>h&&(h=i[n].s);var m=new uc(h+1),x=v8(r[d-1],m,0);if(x>t){var n=0,g=0,y=x-t,_=1<<y;for(i.sort(function(D,T){return m[T.s]-m[D.s]||D.f-T.f});n<a;++n){var b=i[n].s;if(m[b]>t)g+=_-(1<<x-m[b]),m[b]=t;else break}for(g>>=y;g>0;){var S=i[n].s;m[S]<t?g-=1<<t-m[S]++-1:++n}for(;n>=0&&g;--n){var C=i[n].s;m[C]==t&&(--m[C],++g)}x=t}return{t:new Ds(m),l:x}},v8=function(e,t,r){return e.s==-1?Math.max(v8(e.l,t,r+1),v8(e.r,t,r+1)):t[e.s]=r},QW=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new uc(++t),n=0,a=e[0],i=1,o=function(l){r[n++]=l},s=1;s<=t;++s)if(e[s]==a&&s!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(a),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(a);i=1,a=e[s]}return{c:r.subarray(0,n),n:t}},u2=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},iie=function(e,t,r){var n=r.length,a=l7(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<n;++i)e[a+i+4]=r[i];return(a+4+n)*8},eH=function(e,t,r,n,a,i,o,s,l,u,d){Jf(t,d++,r),++a[256];for(var f=rP(a,15),h=f.t,m=f.l,x=rP(i,15),g=x.t,y=x.l,_=QW(h),b=_.c,S=_.n,C=QW(g),E=C.c,D=C.n,T=new uc(19),I=0;I<b.length;++I)++T[b[I]&31];for(var I=0;I<E.length;++I)++T[E[I]&31];for(var L=rP(T,7),B=L.t,P=L.l,O=19;O>4&&!B[p8[O-1]];--O);var j=u+5<<3,G=u2(a,x0)+u2(i,xw)+o,Y=u2(a,h)+u2(i,g)+o+14+3*O+u2(T,B)+2*T[16]+3*T[17]+7*T[18];if(l>=0&&j<=G&&j<=Y)return iie(t,d,e.subarray(l,l+u));var re,q,K,z;if(Jf(t,d,1+(Y<G)),d+=2,Y<G){re=nf(h,m,0),q=h,K=nf(g,y,0),z=g;var te=nf(B,P,0);Jf(t,d,S-257),Jf(t,d+5,D-1),Jf(t,d+10,O-4),d+=14;for(var I=0;I<O;++I)Jf(t,d+3*I,B[p8[I]]);d+=3*O;for(var Q=[b,E],R=0;R<2;++R)for(var H=Q[R],I=0;I<H.length;++I){var X=H[I]&31;Jf(t,d,te[X]),d+=B[X],X>15&&(Jf(t,d,H[I]>>5&127),d+=H[I]>>12)}}else re=BWe,q=x0,K=qWe,z=xw;for(var I=0;I<s;++I){var Z=n[I];if(Z>255){var X=Z>>18&31;c2(t,d,re[X+257]),d+=q[X+257],X>7&&(Jf(t,d,Z>>23&31),d+=Y3[X]);var ie=Z&31;c2(t,d,K[ie]),d+=z[ie],ie>3&&(c2(t,d,Z>>5&8191),d+=X3[ie])}else c2(t,d,re[Z]),d+=q[Z]}return c2(t,d,re[256]),d+q[256]},VWe=new s7([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),oie=new Ds(0),GWe=function(e,t,r,n,a,i){var o=i.z||e.length,s=new Ds(n+o+5*(1+Math.ceil(o/7e3))+a),l=s.subarray(n,s.length-a),u=i.l,d=(i.r||0)&7;if(t){d&&(l[0]=i.r>>3);for(var f=VWe[t-1],h=f>>13,m=f&8191,x=(1<<r)-1,g=i.p||new uc(32768),y=i.h||new uc(x+1),_=Math.ceil(r/3),b=2*_,S=function(He){return(e[He]^e[He+1]<<_^e[He+2]<<b)&x},C=new s7(25e3),E=new uc(288),D=new uc(32),T=0,I=0,L=i.i||0,B=0,P=i.w||0,O=0;L+2<o;++L){var j=S(L),G=L&32767,Y=y[j];if(g[G]=Y,y[j]=G,P<=L){var re=o-L;if((T>7e3||B>24576)&&(re>423||!u)){d=eH(e,l,0,C,E,D,I,B,O,L-O,d),B=T=I=0,O=L;for(var q=0;q<286;++q)E[q]=0;for(var q=0;q<30;++q)D[q]=0}var K=2,z=0,te=m,Q=G-Y&32767;if(re>2&&j==S(L-Q))for(var R=Math.min(h,re)-1,H=Math.min(32767,L),X=Math.min(258,re);Q<=H&&--te&&G!=Y;){if(e[L+K]==e[L+K-Q]){for(var Z=0;Z<X&&e[L+Z]==e[L+Z-Q];++Z);if(Z>K){if(K=Z,z=Q,Z>R)break;for(var ie=Math.min(Q,Z-2),le=0,q=0;q<ie;++q){var pe=L-Q+q&32767,J=g[pe],me=pe-J&32767;me>le&&(le=me,Y=pe)}}}G=Y,Y=g[G],Q+=G-Y&32767}if(z){C[B++]=268435456|m8[K]<<18|JW[z];var ve=m8[K]&31,ae=JW[z]&31;I+=Y3[ve]+X3[ae],++E[257+ve],++D[ae],P=L+K,++T}else C[B++]=e[L],++E[e[L]]}}for(L=Math.max(L,P);L<o;++L)C[B++]=e[L],++E[e[L]];d=eH(e,l,u,C,E,D,I,B,O,L-O,d),u||(i.r=d&7|l[d/8|0]<<3,d-=7,i.h=y,i.p=g,i.i=L,i.w=P)}else{for(var L=i.w||0;L<o+u;L+=65535){var Ue=L+65535;Ue>=o&&(l[d/8|0]=u,Ue=o),d=iie(l,d+1,e.subarray(L,Ue))}i.i=o}return aie(s,0,n+l7(d)+a)},sie=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,i=r.length|0,o=0;o!=i;){for(var s=Math.min(o+2655,i);o<s;++o)a+=n+=r[o];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},KWe=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),o=new Ds(i.length+e.length);o.set(i),o.set(e,i.length),e=o,a.w=i.length}return GWe(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},lie=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},YWe=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=sie();a.p(t.dictionary),lie(e,2,a.d())}},XWe=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Du(6,"invalid zlib data"),(e[1]>>5&1)==1&&Du(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function y8(e,t){t||(t={});var r=sie();r.p(e);var n=KWe(e,t,t.dictionary?6:2,4);return YWe(n,t),lie(n,n.length-4,r.d()),n}function ZWe(e,t){return HWe(e.subarray(XWe(e),-4),{i:2},t,t)}var JWe=typeof TextDecoder<"u"&&new TextDecoder,QWe=0;try{JWe.decode(oie,{stream:!0}),QWe=1}catch{}var Zr=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function nP(){Zr.console&&typeof Zr.console.log=="function"&&Zr.console.log.apply(Zr.console,arguments)}var Na={log:nP,warn:function(e){Zr.console&&(typeof Zr.console.warn=="function"?Zr.console.warn.apply(Zr.console,arguments):nP.call(null,arguments))},error:function(e){Zr.console&&(typeof Zr.console.error=="function"?Zr.console.error.apply(Zr.console,arguments):nP(e))}};function aP(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){Sm(n.response,t,r)},n.onerror=function(){Na.error("could not download file")},n.send()}function tH(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Ob(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Y2,x8,Sm=Zr.saveAs||((typeof window>"u"?"undefined":ba(window))!=="object"||window!==Zr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=Zr.URL||Zr.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?tH(a.href)?aP(e,t,r):Ob(a,a.target="_blank"):Ob(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){Ob(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(tH(e))aP(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){Ob(n)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:ba(i)!=="object"&&(Na.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return aP(e,t,r);var a=e.type==="application/octet-stream",i=/constructor/i.test(Zr.HTMLElement)||Zr.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&i)&&(typeof FileReader>"u"?"undefined":ba(FileReader))==="object"){var s=new FileReader;s.onloadend=function(){var d=s.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},s.readAsDataURL(e)}else{var l=Zr.URL||Zr.webkitURL,u=l.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function cie(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(s){return[parseInt(s[1]),parseInt(s[2]),parseInt(s[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(s){return[parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(s){return[parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16),parseInt(s[3]+s[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,o=a.exec(e);o&&(t=i(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var s=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return s.length==1&&(s="0"+s),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+s+l+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function iP(e,t){var r=e[0],n=e[1],a=e[2],i=e[3];r=ys(r,n,a,i,t[0],7,-680876936),i=ys(i,r,n,a,t[1],12,-389564586),a=ys(a,i,r,n,t[2],17,606105819),n=ys(n,a,i,r,t[3],22,-1044525330),r=ys(r,n,a,i,t[4],7,-176418897),i=ys(i,r,n,a,t[5],12,1200080426),a=ys(a,i,r,n,t[6],17,-1473231341),n=ys(n,a,i,r,t[7],22,-45705983),r=ys(r,n,a,i,t[8],7,1770035416),i=ys(i,r,n,a,t[9],12,-1958414417),a=ys(a,i,r,n,t[10],17,-42063),n=ys(n,a,i,r,t[11],22,-1990404162),r=ys(r,n,a,i,t[12],7,1804603682),i=ys(i,r,n,a,t[13],12,-40341101),a=ys(a,i,r,n,t[14],17,-1502002290),r=xs(r,n=ys(n,a,i,r,t[15],22,1236535329),a,i,t[1],5,-165796510),i=xs(i,r,n,a,t[6],9,-1069501632),a=xs(a,i,r,n,t[11],14,643717713),n=xs(n,a,i,r,t[0],20,-373897302),r=xs(r,n,a,i,t[5],5,-701558691),i=xs(i,r,n,a,t[10],9,38016083),a=xs(a,i,r,n,t[15],14,-660478335),n=xs(n,a,i,r,t[4],20,-405537848),r=xs(r,n,a,i,t[9],5,568446438),i=xs(i,r,n,a,t[14],9,-1019803690),a=xs(a,i,r,n,t[3],14,-187363961),n=xs(n,a,i,r,t[8],20,1163531501),r=xs(r,n,a,i,t[13],5,-1444681467),i=xs(i,r,n,a,t[2],9,-51403784),a=xs(a,i,r,n,t[7],14,1735328473),r=ws(r,n=xs(n,a,i,r,t[12],20,-1926607734),a,i,t[5],4,-378558),i=ws(i,r,n,a,t[8],11,-2022574463),a=ws(a,i,r,n,t[11],16,1839030562),n=ws(n,a,i,r,t[14],23,-35309556),r=ws(r,n,a,i,t[1],4,-1530992060),i=ws(i,r,n,a,t[4],11,1272893353),a=ws(a,i,r,n,t[7],16,-155497632),n=ws(n,a,i,r,t[10],23,-1094730640),r=ws(r,n,a,i,t[13],4,681279174),i=ws(i,r,n,a,t[0],11,-358537222),a=ws(a,i,r,n,t[3],16,-722521979),n=ws(n,a,i,r,t[6],23,76029189),r=ws(r,n,a,i,t[9],4,-640364487),i=ws(i,r,n,a,t[12],11,-421815835),a=ws(a,i,r,n,t[15],16,530742520),r=_s(r,n=ws(n,a,i,r,t[2],23,-995338651),a,i,t[0],6,-198630844),i=_s(i,r,n,a,t[7],10,1126891415),a=_s(a,i,r,n,t[14],15,-1416354905),n=_s(n,a,i,r,t[5],21,-57434055),r=_s(r,n,a,i,t[12],6,1700485571),i=_s(i,r,n,a,t[3],10,-1894986606),a=_s(a,i,r,n,t[10],15,-1051523),n=_s(n,a,i,r,t[1],21,-2054922799),r=_s(r,n,a,i,t[8],6,1873313359),i=_s(i,r,n,a,t[15],10,-30611744),a=_s(a,i,r,n,t[6],15,-1560198380),n=_s(n,a,i,r,t[13],21,1309151649),r=_s(r,n,a,i,t[4],6,-145523070),i=_s(i,r,n,a,t[11],10,-1120210379),a=_s(a,i,r,n,t[2],15,718787259),n=_s(n,a,i,r,t[9],21,-343485551),e[0]=Zp(r,e[0]),e[1]=Zp(n,e[1]),e[2]=Zp(a,e[2]),e[3]=Zp(i,e[3])}function Z3(e,t,r,n,a,i){return t=Zp(Zp(t,e),Zp(n,i)),Zp(t<<a|t>>>32-a,r)}function ys(e,t,r,n,a,i,o){return Z3(t&r|~t&n,e,t,a,i,o)}function xs(e,t,r,n,a,i,o){return Z3(t&n|r&~n,e,t,a,i,o)}function ws(e,t,r,n,a,i,o){return Z3(t^r^n,e,t,a,i,o)}function _s(e,t,r,n,a,i,o){return Z3(r^(t|~n),e,t,a,i,o)}function uie(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)iP(n,eHe(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(iP(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,iP(n,a),n}function eHe(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}Y2=Zr.atob.bind(Zr),x8=Zr.btoa.bind(Zr);var rH="0123456789abcdef".split("");function tHe(e){for(var t="",r=0;r<4;r++)t+=rH[e>>8*r+4&15]+rH[e>>8*r&15];return t}function rHe(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function w8(e){return uie(e).map(rHe).join("")}var nHe=function(e){for(var t=0;t<e.length;t++)e[t]=tHe(e[t]);return e.join("")}(uie("hello"))!="5d41402abc4b2a76b9719d911017c592";function Zp(e,t){if(nHe){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function _8(e,t){var r,n,a,i;if(e!==r){for(var o=(a=e,i=1+(256/e.length>>0),new Array(i+1).join(a)),s=[],l=0;l<256;l++)s[l]=l;var u=0;for(l=0;l<256;l++){var d=s[l];u=(u+d+o.charCodeAt(l))%256,s[l]=s[u],s[u]=d}r=e,n=s}else s=n;var f=t.length,h=0,m=0,x="";for(l=0;l<f;l++)m=(m+(d=s[h=(h+1)%256]))%256,s[h]=s[m],s[m]=d,o=s[(s[h]+s[m])%256],x+=String.fromCharCode(t.charCodeAt(l)^o);return x}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var nH={print:4,modify:8,copy:16,"annot-forms":32};function Rv(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(s){if(nH.perm!==void 0)throw new Error("Invalid permission: "+s);a+=nH[s]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^a)),this.encryptionKey=w8(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=_8(this.encryptionKey,this.padding)}function Mv(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?t+="#"+("0"+a.toString(16)).slice(-2):t+=e[n]}return t}function aH(e){if(ba(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[r]){var o=t[r][i];try{o[0].apply(e,n)}catch(s){Zr.console&&Na.error("jsPDF PubSub Error",s.message,s)}o[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function e4(e){if(!(this instanceof e4))return new e4(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function die(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Nm(e,t,r,n,a){if(!(this instanceof Nm))return new Nm(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,die.call(this,n,a)}function qv(e,t,r,n,a){if(!(this instanceof qv))return new qv(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,die.call(this,n,a)}function $r(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],o=[],s=1,l=16,u="S",d=null;ba(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,i=e.compress||e.compressPdf||i,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),s=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),u=e.defaultPathOperation||"S"),o=e.filters||(i===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,h={},m={internal:{},__private__:{}};m.__private__.PubSub=aH;var x="1.3",g=m.__private__.getPdfVersion=function(){return x};m.__private__.setPdfVersion=function(U){x=U};var y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return y};var _=m.__private__.getPageFormat=function(U){return y[U]};a=a||"a4";var b={COMPAT:"compat",ADVANCED:"advanced"},S=b.COMPAT;function C(){this.saveGraphicsState(),he(new gr(ct,0,0,-ct,0,xd()*ct).toString()+" cm"),this.setFontSize(this.getFontSize()/ct),u="n",S=b.ADVANCED}function E(){this.restoreGraphicsState(),u="S",S=b.COMPAT}var D=m.__private__.combineFontStyleAndFontWeight=function(U,se){if(U=="bold"&&se=="normal"||U=="bold"&&se==400||U=="normal"&&se=="italic"||U=="bold"&&se=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return se&&(U=se==400||se==="normal"?U==="italic"?"italic":"normal":se!=700&&se!=="bold"||U!=="normal"?(se==700?"bold":se)+""+U:"bold"),U};m.advancedAPI=function(U){var se=S===b.COMPAT;return se&&C.call(this),typeof U!="function"||(U(this),se&&E.call(this)),this},m.compatAPI=function(U){var se=S===b.ADVANCED;return se&&E.call(this),typeof U!="function"||(U(this),se&&C.call(this)),this},m.isAdvancedAPI=function(){return S===b.ADVANCED};var T,I=function(U){if(S!==b.ADVANCED)throw new Error(U+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},L=m.roundToPrecision=m.__private__.roundToPrecision=function(U,se){var Ne=t||se;if(isNaN(U)||isNaN(Ne))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return U.toFixed(Ne).replace(/0+$/,"")};T=m.hpf=m.__private__.hpf=typeof l=="number"?function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.hpf");return L(U,l)}:l==="smart"?function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.hpf");return L(U,U>-1&&U<1?16:5)}:function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.hpf");return L(U,16)};var B=m.f2=m.__private__.f2=function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.f2");return L(U,2)},P=m.__private__.f3=function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.f3");return L(U,3)},O=m.scale=m.__private__.scale=function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.scale");return S===b.COMPAT?U*ct:S===b.ADVANCED?U:void 0},j=function(U){return S===b.COMPAT?xd()-U:S===b.ADVANCED?U:void 0},G=function(U){return O(j(U))};m.__private__.setPrecision=m.setPrecision=function(U){typeof parseInt(U,10)=="number"&&(t=parseInt(U,10))};var Y,re="00000000000000000000000000000000",q=m.__private__.getFileId=function(){return re},K=m.__private__.setFileId=function(U){return re=U!==void 0&&/^[a-fA-F0-9]{32}$/.test(U)?U.toUpperCase():re.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Ua=new Rv(d.userPermissions,d.userPassword,d.ownerPassword,re)),re};m.setFileId=function(U){return K(U),this},m.getFileId=function(){return q()};var z=m.__private__.convertDateToPDFDate=function(U){var se=U.getTimezoneOffset(),Ne=se<0?"+":"-",je=Math.floor(Math.abs(se/60)),Qe=Math.abs(se%60),bt=[Ne,X(je),"'",X(Qe),"'"].join("");return["D:",U.getFullYear(),X(U.getMonth()+1),X(U.getDate()),X(U.getHours()),X(U.getMinutes()),X(U.getSeconds()),bt].join("")},te=m.__private__.convertPDFDateToDate=function(U){var se=parseInt(U.substr(2,4),10),Ne=parseInt(U.substr(6,2),10)-1,je=parseInt(U.substr(8,2),10),Qe=parseInt(U.substr(10,2),10),bt=parseInt(U.substr(12,2),10),Mt=parseInt(U.substr(14,2),10);return new Date(se,Ne,je,Qe,bt,Mt,0)},Q=m.__private__.setCreationDate=function(U){var se;if(U===void 0&&(U=new Date),U instanceof Date)se=z(U);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(U))throw new Error("Invalid argument passed to jsPDF.setCreationDate");se=U}return Y=se},R=m.__private__.getCreationDate=function(U){var se=Y;return U==="jsDate"&&(se=te(Y)),se};m.setCreationDate=function(U){return Q(U),this},m.getCreationDate=function(U){return R(U)};var H,X=m.__private__.padd2=function(U){return("0"+parseInt(U)).slice(-2)},Z=m.__private__.padd2Hex=function(U){return("00"+(U=U.toString())).substr(U.length)},ie=0,le=[],pe=[],J=0,me=[],ve=[],ae=!1,Ue=pe,He=function(){ie=0,J=0,pe=[],le=[],me=[],we=ca(),_e=ca()};m.__private__.setCustomOutputDestination=function(U){ae=!0,Ue=U};var Ie=function(U){ae||(Ue=U)};m.__private__.resetCustomOutputDestination=function(){ae=!1,Ue=pe};var he=m.__private__.out=function(U){return U=U.toString(),J+=U.length+1,Ue.push(U),Ue},Ze=m.__private__.write=function(U){return he(arguments.length===1?U.toString():Array.prototype.join.call(arguments," "))},pt=m.__private__.getArrayBuffer=function(U){for(var se=U.length,Ne=new ArrayBuffer(se),je=new Uint8Array(Ne);se--;)je[se]=U.charCodeAt(se);return Ne},ht=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return ht};var Pt=e.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(U){return Pt=S===b.ADVANCED?U/ct:U,this};var st,xe=m.__private__.getFontSize=m.getFontSize=function(){return S===b.COMPAT?Pt:Pt*ct},Ee=e.R2L||!1;m.__private__.setR2L=m.setR2L=function(U){return Ee=U,this},m.__private__.getR2L=m.getR2L=function(){return Ee};var We,ft=m.__private__.setZoomMode=function(U){var se=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(U))st=U;else if(isNaN(U)){if(se.indexOf(U)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+U+'" is not recognized.');st=U}else st=parseInt(U,10)};m.__private__.getZoomMode=function(){return st};var mt,De=m.__private__.setPageMode=function(U){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(U)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+U+'" is not recognized.');We=U};m.__private__.getPageMode=function(){return We};var Ve=m.__private__.setLayoutMode=function(U){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(U)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+U+'" is not recognized.');mt=U};m.__private__.getLayoutMode=function(){return mt},m.__private__.setDisplayMode=m.setDisplayMode=function(U,se,Ne){return ft(U),Ve(se),De(Ne),this};var _t={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(U){if(Object.keys(_t).indexOf(U)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return _t[U]},m.__private__.getDocumentProperties=function(){return _t},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(U){for(var se in _t)_t.hasOwnProperty(se)&&U[se]&&(_t[se]=U[se]);return this},m.__private__.setDocumentProperty=function(U,se){if(Object.keys(_t).indexOf(U)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return _t[U]=se};var At,ct,br,er,en,mn={},An={},mi=[],un={},yt={},Tt={},Sr={},Fr=null,Jt=0,Re=[],xt=new aH(m),mr=e.hotfixes||[],cr={},ln={},ga=[],gr=function U(se,Ne,je,Qe,bt,Mt){if(!(this instanceof U))return new U(se,Ne,je,Qe,bt,Mt);isNaN(se)&&(se=1),isNaN(Ne)&&(Ne=0),isNaN(je)&&(je=0),isNaN(Qe)&&(Qe=1),isNaN(bt)&&(bt=0),isNaN(Mt)&&(Mt=0),this._matrix=[se,Ne,je,Qe,bt,Mt]};Object.defineProperty(gr.prototype,"sx",{get:function(){return this._matrix[0]},set:function(U){this._matrix[0]=U}}),Object.defineProperty(gr.prototype,"shy",{get:function(){return this._matrix[1]},set:function(U){this._matrix[1]=U}}),Object.defineProperty(gr.prototype,"shx",{get:function(){return this._matrix[2]},set:function(U){this._matrix[2]=U}}),Object.defineProperty(gr.prototype,"sy",{get:function(){return this._matrix[3]},set:function(U){this._matrix[3]=U}}),Object.defineProperty(gr.prototype,"tx",{get:function(){return this._matrix[4]},set:function(U){this._matrix[4]=U}}),Object.defineProperty(gr.prototype,"ty",{get:function(){return this._matrix[5]},set:function(U){this._matrix[5]=U}}),Object.defineProperty(gr.prototype,"a",{get:function(){return this._matrix[0]},set:function(U){this._matrix[0]=U}}),Object.defineProperty(gr.prototype,"b",{get:function(){return this._matrix[1]},set:function(U){this._matrix[1]=U}}),Object.defineProperty(gr.prototype,"c",{get:function(){return this._matrix[2]},set:function(U){this._matrix[2]=U}}),Object.defineProperty(gr.prototype,"d",{get:function(){return this._matrix[3]},set:function(U){this._matrix[3]=U}}),Object.defineProperty(gr.prototype,"e",{get:function(){return this._matrix[4]},set:function(U){this._matrix[4]=U}}),Object.defineProperty(gr.prototype,"f",{get:function(){return this._matrix[5]},set:function(U){this._matrix[5]=U}}),Object.defineProperty(gr.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(gr.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(gr.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(gr.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),gr.prototype.join=function(U){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(T).join(U)},gr.prototype.multiply=function(U){var se=U.sx*this.sx+U.shy*this.shx,Ne=U.sx*this.shy+U.shy*this.sy,je=U.shx*this.sx+U.sy*this.shx,Qe=U.shx*this.shy+U.sy*this.sy,bt=U.tx*this.sx+U.ty*this.shx+this.tx,Mt=U.tx*this.shy+U.ty*this.sy+this.ty;return new gr(se,Ne,je,Qe,bt,Mt)},gr.prototype.decompose=function(){var U=this.sx,se=this.shy,Ne=this.shx,je=this.sy,Qe=this.tx,bt=this.ty,Mt=Math.sqrt(U*U+se*se),sr=(U/=Mt)*Ne+(se/=Mt)*je;Ne-=U*sr,je-=se*sr;var Ir=Math.sqrt(Ne*Ne+je*je);return sr/=Ir,U*(je/=Ir)<se*(Ne/=Ir)&&(U=-U,se=-se,sr=-sr,Mt=-Mt),{scale:new gr(Mt,0,0,Ir,0,0),translate:new gr(1,0,0,1,Qe,bt),rotate:new gr(U,se,-se,U,0,0),skew:new gr(1,0,sr,1,0,0)}},gr.prototype.toString=function(U){return this.join(" ")},gr.prototype.inversed=function(){var U=this.sx,se=this.shy,Ne=this.shx,je=this.sy,Qe=this.tx,bt=this.ty,Mt=1/(U*je-se*Ne),sr=je*Mt,Ir=-se*Mt,dn=-Ne*Mt,cn=U*Mt;return new gr(sr,Ir,dn,cn,-sr*Qe-dn*bt,-Ir*Qe-cn*bt)},gr.prototype.applyToPoint=function(U){var se=U.x*this.sx+U.y*this.shx+this.tx,Ne=U.x*this.shy+U.y*this.sy+this.ty;return new kc(se,Ne)},gr.prototype.applyToRectangle=function(U){var se=this.applyToPoint(U),Ne=this.applyToPoint(new kc(U.x+U.w,U.y+U.h));return new yd(se.x,se.y,Ne.x-se.x,Ne.y-se.y)},gr.prototype.clone=function(){var U=this.sx,se=this.shy,Ne=this.shx,je=this.sy,Qe=this.tx,bt=this.ty;return new gr(U,se,Ne,je,Qe,bt)},m.Matrix=gr;var gi=m.matrixMult=function(U,se){return se.multiply(U)},kn=new gr(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=kn;var Di=function(U,se){if(!yt[U]){var Ne=(se instanceof Nm?"Sh":"P")+(Object.keys(un).length+1).toString(10);se.id=Ne,yt[U]=Ne,un[Ne]=se,xt.publish("addPattern",se)}};m.ShadingPattern=Nm,m.TilingPattern=qv,m.addShadingPattern=function(U,se){return I("addShadingPattern()"),Di(U,se),this},m.beginTilingPattern=function(U){I("beginTilingPattern()"),Bg(U.boundingBox[0],U.boundingBox[1],U.boundingBox[2]-U.boundingBox[0],U.boundingBox[3]-U.boundingBox[1],U.matrix)},m.endTilingPattern=function(U,se){I("endTilingPattern()"),se.stream=ve[H].join(`
`),Di(U,se),xt.publish("endTilingPattern",se),ga.pop().restore()};var la=m.__private__.newObject=function(){var U=ca();return de(U,!0),U},ca=m.__private__.newObjectDeferred=function(){return ie++,le[ie]=function(){return J},ie},de=function(U,se){return se=typeof se=="boolean"&&se,le[U]=J,se&&he(U+" 0 obj"),U},Se=m.__private__.newAdditionalObject=function(){var U={objId:ca(),content:""};return me.push(U),U},we=ca(),_e=ca(),Ae=m.__private__.decodeColorString=function(U){var se=U.split(" ");if(se.length!==2||se[1]!=="g"&&se[1]!=="G")se.length===5&&(se[4]==="k"||se[4]==="K")&&(se=[(1-se[0])*(1-se[3]),(1-se[1])*(1-se[3]),(1-se[2])*(1-se[3]),"r"]);else{var Ne=parseFloat(se[0]);se=[Ne,Ne,Ne,"r"]}for(var je="#",Qe=0;Qe<3;Qe++)je+=("0"+Math.floor(255*parseFloat(se[Qe])).toString(16)).slice(-2);return je},ke=m.__private__.encodeColorString=function(U){var se;typeof U=="string"&&(U={ch1:U});var Ne=U.ch1,je=U.ch2,Qe=U.ch3,bt=U.ch4,Mt=U.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ne=="string"&&Ne.charAt(0)!=="#"){var sr=new cie(Ne);if(sr.ok)Ne=sr.toHex();else if(!/^\d*\.?\d*$/.test(Ne))throw new Error('Invalid color "'+Ne+'" passed to jsPDF.encodeColorString.')}if(typeof Ne=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ne)&&(Ne="#"+Ne[1]+Ne[1]+Ne[2]+Ne[2]+Ne[3]+Ne[3]),typeof Ne=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ne)){var Ir=parseInt(Ne.substr(1),16);Ne=Ir>>16&255,je=Ir>>8&255,Qe=255&Ir}if(je===void 0||bt===void 0&&Ne===je&&je===Qe)if(typeof Ne=="string")se=Ne+" "+Mt[0];else switch(U.precision){case 2:se=B(Ne/255)+" "+Mt[0];break;case 3:default:se=P(Ne/255)+" "+Mt[0]}else if(bt===void 0||ba(bt)==="object"){if(bt&&!isNaN(bt.a)&&bt.a===0)return se=["1.","1.","1.",Mt[1]].join(" ");if(typeof Ne=="string")se=[Ne,je,Qe,Mt[1]].join(" ");else switch(U.precision){case 2:se=[B(Ne/255),B(je/255),B(Qe/255),Mt[1]].join(" ");break;default:case 3:se=[P(Ne/255),P(je/255),P(Qe/255),Mt[1]].join(" ")}}else if(typeof Ne=="string")se=[Ne,je,Qe,bt,Mt[2]].join(" ");else switch(U.precision){case 2:se=[B(Ne),B(je),B(Qe),B(bt),Mt[2]].join(" ");break;case 3:default:se=[P(Ne),P(je),P(Qe),P(bt),Mt[2]].join(" ")}return se},nt=m.__private__.getFilters=function(){return o},vt=m.__private__.putStream=function(U){var se=(U=U||{}).data||"",Ne=U.filters||nt(),je=U.alreadyAppliedFilters||[],Qe=U.addLength1||!1,bt=se.length,Mt=U.objectId,sr=function(bo){return bo};if(d!==null&&Mt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(sr=Ua.encryptor(Mt,0));var Ir={};Ne===!0&&(Ne=["FlateEncode"]);var dn=U.additionalKeyValues||[],cn=(Ir=$r.API.processDataByFilters!==void 0?$r.API.processDataByFilters(se,Ne):{data:se,reverseChain:[]}).reverseChain+(Array.isArray(je)?je.join(" "):je.toString());if(Ir.data.length!==0&&(dn.push({key:"Length",value:Ir.data.length}),Qe===!0&&dn.push({key:"Length1",value:bt})),cn.length!=0)if(cn.split("/").length-1==1)dn.push({key:"Filter",value:cn});else{dn.push({key:"Filter",value:"["+cn+"]"});for(var On=0;On<dn.length;On+=1)if(dn[On].key==="DecodeParms"){for(var qa=[],ti=0;ti<Ir.reverseChain.split("/").length-1;ti+=1)qa.push("null");qa.push(dn[On].value),dn[On].value="["+qa.join(" ")+"]"}}he("<<");for(var yi=0;yi<dn.length;yi++)he("/"+dn[yi].key+" "+dn[yi].value);he(">>"),Ir.data.length!==0&&(he("stream"),he(sr(Ir.data)),he("endstream"))},rt=m.__private__.putPage=function(U){var se=U.number,Ne=U.data,je=U.objId,Qe=U.contentsObjId;de(je,!0),he("<</Type /Page"),he("/Parent "+U.rootDictionaryObjId+" 0 R"),he("/Resources "+U.resourceDictionaryObjId+" 0 R"),he("/MediaBox ["+parseFloat(T(U.mediaBox.bottomLeftX))+" "+parseFloat(T(U.mediaBox.bottomLeftY))+" "+T(U.mediaBox.topRightX)+" "+T(U.mediaBox.topRightY)+"]"),U.cropBox!==null&&he("/CropBox ["+T(U.cropBox.bottomLeftX)+" "+T(U.cropBox.bottomLeftY)+" "+T(U.cropBox.topRightX)+" "+T(U.cropBox.topRightY)+"]"),U.bleedBox!==null&&he("/BleedBox ["+T(U.bleedBox.bottomLeftX)+" "+T(U.bleedBox.bottomLeftY)+" "+T(U.bleedBox.topRightX)+" "+T(U.bleedBox.topRightY)+"]"),U.trimBox!==null&&he("/TrimBox ["+T(U.trimBox.bottomLeftX)+" "+T(U.trimBox.bottomLeftY)+" "+T(U.trimBox.topRightX)+" "+T(U.trimBox.topRightY)+"]"),U.artBox!==null&&he("/ArtBox ["+T(U.artBox.bottomLeftX)+" "+T(U.artBox.bottomLeftY)+" "+T(U.artBox.topRightX)+" "+T(U.artBox.topRightY)+"]"),typeof U.userUnit=="number"&&U.userUnit!==1&&he("/UserUnit "+U.userUnit),xt.publish("putPage",{objId:je,pageContext:Re[se],pageNumber:se,page:Ne}),he("/Contents "+Qe+" 0 R"),he(">>"),he("endobj");var bt=Ne.join(`
`);return S===b.ADVANCED&&(bt+=`
Q`),de(Qe,!0),vt({data:bt,filters:nt(),objectId:Qe}),he("endobj"),je},it=m.__private__.putPages=function(){var U,se,Ne=[];for(U=1;U<=Jt;U++)Re[U].objId=ca(),Re[U].contentsObjId=ca();for(U=1;U<=Jt;U++)Ne.push(rt({number:U,data:ve[U],objId:Re[U].objId,contentsObjId:Re[U].contentsObjId,mediaBox:Re[U].mediaBox,cropBox:Re[U].cropBox,bleedBox:Re[U].bleedBox,trimBox:Re[U].trimBox,artBox:Re[U].artBox,userUnit:Re[U].userUnit,rootDictionaryObjId:we,resourceDictionaryObjId:_e}));de(we,!0),he("<</Type /Pages");var je="/Kids [";for(se=0;se<Jt;se++)je+=Ne[se]+" 0 R ";he(je+"]"),he("/Count "+Jt),he(">>"),he("endobj"),xt.publish("postPutPages")},ut=function(U){xt.publish("putFont",{font:U,out:he,newObject:la,putStream:vt}),U.isAlreadyPutted!==!0&&(U.objectNumber=la(),he("<<"),he("/Type /Font"),he("/BaseFont /"+Mv(U.postScriptName)),he("/Subtype /Type1"),typeof U.encoding=="string"&&he("/Encoding /"+U.encoding),he("/FirstChar 32"),he("/LastChar 255"),he(">>"),he("endobj"))},Rt=function(){for(var U in mn)mn.hasOwnProperty(U)&&(f===!1||f===!0&&h.hasOwnProperty(U))&&ut(mn[U])},Gt=function(U){U.objectNumber=la();var se=[];se.push({key:"Type",value:"/XObject"}),se.push({key:"Subtype",value:"/Form"}),se.push({key:"BBox",value:"["+[T(U.x),T(U.y),T(U.x+U.width),T(U.y+U.height)].join(" ")+"]"}),se.push({key:"Matrix",value:"["+U.matrix.toString()+"]"});var Ne=U.pages[1].join(`
`);vt({data:Ne,additionalKeyValues:se,objectId:U.objectNumber}),he("endobj")},or=function(){for(var U in cr)cr.hasOwnProperty(U)&&Gt(cr[U])},zt=function(U,se){var Ne,je=[],Qe=1/(se-1);for(Ne=0;Ne<1;Ne+=Qe)je.push(Ne);if(je.push(1),U[0].offset!=0){var bt={offset:0,color:U[0].color};U.unshift(bt)}if(U[U.length-1].offset!=1){var Mt={offset:1,color:U[U.length-1].color};U.push(Mt)}for(var sr="",Ir=0,dn=0;dn<je.length;dn++){for(Ne=je[dn];Ne>U[Ir+1].offset;)Ir++;var cn=U[Ir].offset,On=(Ne-cn)/(U[Ir+1].offset-cn),qa=U[Ir].color,ti=U[Ir+1].color;sr+=Z(Math.round((1-On)*qa[0]+On*ti[0]).toString(16))+Z(Math.round((1-On)*qa[1]+On*ti[1]).toString(16))+Z(Math.round((1-On)*qa[2]+On*ti[2]).toString(16))}return sr.trim()},$t=function(U,se){se||(se=21);var Ne=la(),je=zt(U.colors,se),Qe=[];Qe.push({key:"FunctionType",value:"0"}),Qe.push({key:"Domain",value:"[0.0 1.0]"}),Qe.push({key:"Size",value:"["+se+"]"}),Qe.push({key:"BitsPerSample",value:"8"}),Qe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Qe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),vt({data:je,additionalKeyValues:Qe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ne}),he("endobj"),U.objectNumber=la(),he("<< /ShadingType "+U.type),he("/ColorSpace /DeviceRGB");var bt="/Coords ["+T(parseFloat(U.coords[0]))+" "+T(parseFloat(U.coords[1]))+" ";U.type===2?bt+=T(parseFloat(U.coords[2]))+" "+T(parseFloat(U.coords[3])):bt+=T(parseFloat(U.coords[2]))+" "+T(parseFloat(U.coords[3]))+" "+T(parseFloat(U.coords[4]))+" "+T(parseFloat(U.coords[5])),he(bt+="]"),U.matrix&&he("/Matrix ["+U.matrix.toString()+"]"),he("/Function "+Ne+" 0 R"),he("/Extend [true true]"),he(">>"),he("endobj")},Xr=function(U,se){var Ne=ca(),je=la();se.push({resourcesOid:Ne,objectOid:je}),U.objectNumber=je;var Qe=[];Qe.push({key:"Type",value:"/Pattern"}),Qe.push({key:"PatternType",value:"1"}),Qe.push({key:"PaintType",value:"1"}),Qe.push({key:"TilingType",value:"1"}),Qe.push({key:"BBox",value:"["+U.boundingBox.map(T).join(" ")+"]"}),Qe.push({key:"XStep",value:T(U.xStep)}),Qe.push({key:"YStep",value:T(U.yStep)}),Qe.push({key:"Resources",value:Ne+" 0 R"}),U.matrix&&Qe.push({key:"Matrix",value:"["+U.matrix.toString()+"]"}),vt({data:U.stream,additionalKeyValues:Qe,objectId:U.objectNumber}),he("endobj")},Ln=function(U){var se;for(se in un)un.hasOwnProperty(se)&&(un[se]instanceof Nm?$t(un[se]):un[se]instanceof qv&&Xr(un[se],U))},ea=function(U){for(var se in U.objectNumber=la(),he("<<"),U)switch(se){case"opacity":he("/ca "+B(U[se]));break;case"stroke-opacity":he("/CA "+B(U[se]))}he(">>"),he("endobj")},$a=function(){var U;for(U in Tt)Tt.hasOwnProperty(U)&&ea(Tt[U])},$l=function(){for(var U in he("/XObject <<"),cr)cr.hasOwnProperty(U)&&cr[U].objectNumber>=0&&he("/"+U+" "+cr[U].objectNumber+" 0 R");xt.publish("putXobjectDict"),he(">>")},xc=function(){Ua.oid=la(),he("<<"),he("/Filter /Standard"),he("/V "+Ua.v),he("/R "+Ua.r),he("/U <"+Ua.toHexString(Ua.U)+">"),he("/O <"+Ua.toHexString(Ua.O)+">"),he("/P "+Ua.P),he(">>"),he("endobj")},Us=function(){for(var U in he("/Font <<"),mn)mn.hasOwnProperty(U)&&(f===!1||f===!0&&h.hasOwnProperty(U))&&he("/"+U+" "+mn[U].objectNumber+" 0 R");he(">>")},vi=function(){if(Object.keys(un).length>0){for(var U in he("/Shading <<"),un)un.hasOwnProperty(U)&&un[U]instanceof Nm&&un[U].objectNumber>=0&&he("/"+U+" "+un[U].objectNumber+" 0 R");xt.publish("putShadingPatternDict"),he(">>")}},wc=function(U){if(Object.keys(un).length>0){for(var se in he("/Pattern <<"),un)un.hasOwnProperty(se)&&un[se]instanceof m.TilingPattern&&un[se].objectNumber>=0&&un[se].objectNumber<U&&he("/"+se+" "+un[se].objectNumber+" 0 R");xt.publish("putTilingPatternDict"),he(">>")}},Ba=function(){if(Object.keys(Tt).length>0){var U;for(U in he("/ExtGState <<"),Tt)Tt.hasOwnProperty(U)&&Tt[U].objectNumber>=0&&he("/"+U+" "+Tt[U].objectNumber+" 0 R");xt.publish("putGStateDict"),he(">>")}},si=function(U){de(U.resourcesOid,!0),he("<<"),he("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Us(),vi(),wc(U.objectOid),Ba(),$l(),he(">>"),he("endobj")},Rg=function(){var U=[];Rt(),$a(),or(),Ln(U),xt.publish("putResources"),U.forEach(si),si({resourcesOid:_e,objectOid:Number.MAX_SAFE_INTEGER}),xt.publish("postPutResources")},Mg=function(){xt.publish("putAdditionalObjects");for(var U=0;U<me.length;U++){var se=me[U];de(se.objId,!0),he(se.content),he("endobj")}xt.publish("postPutAdditionalObjects")},wf=function(U){An[U.fontName]=An[U.fontName]||{},An[U.fontName][U.fontStyle]=U.id},dd=function(U,se,Ne,je,Qe){var bt={id:"F"+(Object.keys(mn).length+1).toString(10),postScriptName:U,fontName:se,fontStyle:Ne,encoding:je,isStandardFont:Qe||!1,metadata:{}};return xt.publish("addFont",{font:bt,instance:this}),mn[bt.id]=bt,wf(bt),bt.id},_f=function(U){for(var se=0,Ne=ht.length;se<Ne;se++){var je=dd.call(this,U[se][0],U[se][1],U[se][2],ht[se][3],!0);f===!1&&(h[je]=!0);var Qe=U[se][0].split("-");wf({id:je,fontName:Qe[0],fontStyle:Qe[1]||""})}xt.publish("addFonts",{fonts:mn,dictionary:An})},os=function(U){return U.foo=function(){try{return U.apply(this,arguments)}catch(je){var se=je.stack||"";~se.indexOf(" at ")&&(se=se.split(" at ")[1]);var Ne="Error in function "+se.split(`
`)[0].split("<")[0]+": "+je.message;if(!Zr.console)throw new Error(Ne);Zr.console.error(Ne,je),Zr.alert&&alert(Ne)}},U.foo.bar=U,U.foo},Lh=function(U,se){var Ne,je,Qe,bt,Mt,sr,Ir,dn,cn;if(Qe=(se=se||{}).sourceEncoding||"Unicode",Mt=se.outputEncoding,(se.autoencode||Mt)&&mn[At].metadata&&mn[At].metadata[Qe]&&mn[At].metadata[Qe].encoding&&(bt=mn[At].metadata[Qe].encoding,!Mt&&mn[At].encoding&&(Mt=mn[At].encoding),!Mt&&bt.codePages&&(Mt=bt.codePages[0]),typeof Mt=="string"&&(Mt=bt[Mt]),Mt)){for(Ir=!1,sr=[],Ne=0,je=U.length;Ne<je;Ne++)(dn=Mt[U.charCodeAt(Ne)])?sr.push(String.fromCharCode(dn)):sr.push(U[Ne]),sr[Ne].charCodeAt(0)>>8&&(Ir=!0);U=sr.join("")}for(Ne=U.length;Ir===void 0&&Ne!==0;)U.charCodeAt(Ne-1)>>8&&(Ir=!0),Ne--;if(!Ir)return U;for(sr=se.noBOM?[]:[254,255],Ne=0,je=U.length;Ne<je;Ne++){if((cn=(dn=U.charCodeAt(Ne))>>8)>>8)throw new Error("Character at position "+Ne+" of string '"+U+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");sr.push(cn),sr.push(dn-(cn<<8))}return String.fromCharCode.apply(void 0,sr)},ss=m.__private__.pdfEscape=m.pdfEscape=function(U,se){return Lh(U,se).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},bf=m.__private__.beginPage=function(U){ve[++Jt]=[],Re[Jt]={objId:0,contentsObjId:0,userUnit:Number(s),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(U[0]),topRightY:Number(U[1])}},fd(Jt),Ie(ve[H])},L0=function(U,se){var Ne,je,Qe;switch(r=se||r,typeof U=="string"&&(Ne=_(U.toLowerCase()),Array.isArray(Ne)&&(je=Ne[0],Qe=Ne[1])),Array.isArray(U)&&(je=U[0]*ct,Qe=U[1]*ct),isNaN(je)&&(je=a[0],Qe=a[1]),(je>14400||Qe>14400)&&(Na.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),je=Math.min(14400,je),Qe=Math.min(14400,Qe)),a=[je,Qe],r.substr(0,1)){case"l":Qe>je&&(a=[Qe,je]);break;case"p":je>Qe&&(a=[Qe,je])}bf(a),Ef(U0),he(ls),z0!==0&&he(z0+" J"),Tf!==0&&he(Tf+" j"),xt.publish("addPage",{pageNumber:Jt})},j0=function(U){U>0&&U<=Jt&&(ve.splice(U,1),Re.splice(U,1),Jt--,H>Jt&&(H=Jt),this.setPage(H))},fd=function(U){U>0&&U<=Jt&&(H=U)},by=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return ve.length-1},jh=function(U,se,Ne){var je,Qe=void 0;return Ne=Ne||{},U=U!==void 0?U:mn[At].fontName,se=se!==void 0?se:mn[At].fontStyle,je=U.toLowerCase(),An[je]!==void 0&&An[je][se]!==void 0?Qe=An[je][se]:An[U]!==void 0&&An[U][se]!==void 0?Qe=An[U][se]:Ne.disableWarning===!1&&Na.warn("Unable to look up font label for font '"+U+"', '"+se+"'. Refer to getFontList() for available fonts."),Qe||Ne.noFallback||(Qe=An.times[se])==null&&(Qe=An.times.normal),Qe},qn=m.__private__.putInfo=function(){var U=la(),se=function(je){return je};for(var Ne in d!==null&&(se=Ua.encryptor(U,0)),he("<<"),he("/Producer ("+ss(se("jsPDF "+$r.version))+")"),_t)_t.hasOwnProperty(Ne)&&_t[Ne]&&he("/"+Ne.substr(0,1).toUpperCase()+Ne.substr(1)+" ("+ss(se(_t[Ne]))+")");he("/CreationDate ("+ss(se(Y))+")"),he(">>"),he("endobj")},$h=m.__private__.putCatalog=function(U){var se=(U=U||{}).rootDictionaryObjId||we;switch(la(),he("<<"),he("/Type /Catalog"),he("/Pages "+se+" 0 R"),st||(st="fullwidth"),st){case"fullwidth":he("/OpenAction [3 0 R /FitH null]");break;case"fullheight":he("/OpenAction [3 0 R /FitV null]");break;case"fullpage":he("/OpenAction [3 0 R /Fit]");break;case"original":he("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ne=""+st;Ne.substr(Ne.length-1)==="%"&&(st=parseInt(st)/100),typeof st=="number"&&he("/OpenAction [3 0 R /XYZ null null "+B(st)+"]")}switch(mt||(mt="continuous"),mt){case"continuous":he("/PageLayout /OneColumn");break;case"single":he("/PageLayout /SinglePage");break;case"two":case"twoleft":he("/PageLayout /TwoColumnLeft");break;case"tworight":he("/PageLayout /TwoColumnRight")}We&&he("/PageMode /"+We),xt.publish("putCatalog"),he(">>"),he("endobj")},Fg=m.__private__.putTrailer=function(){he("trailer"),he("<<"),he("/Size "+(ie+1)),he("/Root "+ie+" 0 R"),he("/Info "+(ie-1)+" 0 R"),d!==null&&he("/Encrypt "+Ua.oid+" 0 R"),he("/ID [ <"+re+"> <"+re+"> ]"),he(">>")},$0=m.__private__.putHeader=function(){he("%PDF-"+x),he("%")},Lg=m.__private__.putXRef=function(){var U="0000000000";he("xref"),he("0 "+(ie+1)),he("0000000000 65535 f ");for(var se=1;se<=ie;se++)typeof le[se]=="function"?he((U+le[se]()).slice(-10)+" 00000 n "):le[se]!==void 0?he((U+le[se]).slice(-10)+" 00000 n "):he("0000000000 00000 n ")},_c=m.__private__.buildDocument=function(){He(),Ie(pe),xt.publish("buildDocument"),$0(),it(),Mg(),Rg(),d!==null&&xc(),qn(),$h();var U=J;return Lg(),Fg(),he("startxref"),he(""+U),he("%%EOF"),Ie(ve[H]),pe.join(`
`)},Sf=m.__private__.getBlob=function(U){return new Blob([pt(U)],{type:"application/pdf"})},hd=m.output=m.__private__.output=os(function(U,se){switch(typeof(se=se||{})=="string"?se={filename:se}:se.filename=se.filename||"generated.pdf",U){case void 0:return _c();case"save":m.save(se.filename);break;case"arraybuffer":return pt(_c());case"blob":return Sf(_c());case"bloburi":case"bloburl":if(Zr.URL!==void 0&&typeof Zr.URL.createObjectURL=="function")return Zr.URL&&Zr.URL.createObjectURL(Sf(_c()))||void 0;Na.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ne="",je=_c();try{Ne=x8(je)}catch{Ne=x8(unescape(encodeURIComponent(je)))}return"data:application/pdf;filename="+se.filename+";base64,"+Ne;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Zr)==="[object Window]"){var Qe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",bt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';se.pdfObjectUrl&&(Qe=se.pdfObjectUrl,bt="");var Mt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Qe+'"'+bt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(se)+");<\/script></body></html>",sr=Zr.open();return sr!==null&&sr.document.write(Mt),sr}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Zr)==="[object Window]"){var Ir='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(se.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+se.filename+'" width="500px" height="400px" /></body></html>',dn=Zr.open();if(dn!==null){dn.document.write(Ir);var cn=this;dn.document.documentElement.querySelector("#pdfViewer").onload=function(){dn.document.title=se.filename,dn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(cn.output("bloburl"))}}return dn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Zr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var On='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",se)+'"></iframe></body></html>',qa=Zr.open();if(qa!==null&&(qa.document.write(On),qa.document.title=se.filename),qa||typeof safari>"u")return qa;break;case"datauri":case"dataurl":return Zr.document.location.href=this.output("datauristring",se);default:return null}}),Af=function(U){return Array.isArray(mr)===!0&&mr.indexOf(U)>-1};switch(n){case"pt":ct=1;break;case"mm":ct=72/25.4;break;case"cm":ct=72/2.54;break;case"in":ct=72;break;case"px":ct=Af("px_scaling")==1?.75:96/72;break;case"pc":case"em":ct=12;break;case"ex":ct=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);ct=n}var Ua=null;Q(),K();var bc=function(U){return d!==null?Ua.encryptor(U,0):function(se){return se}},Bl=m.__private__.getPageInfo=m.getPageInfo=function(U){if(isNaN(U)||U%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Re[U].objId,pageNumber:U,pageContext:Re[U]}},qr=m.__private__.getPageInfoByObjId=function(U){if(isNaN(U)||U%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var se in Re)if(Re[se].objId===U)break;return Bl(se)},kf=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:Re[H].objId,pageNumber:H,pageContext:Re[H]}};m.addPage=function(){return L0.apply(this,arguments),this},m.setPage=function(){return fd.apply(this,arguments),Ie.call(this,ve[H]),this},m.insertPage=function(U){return this.addPage(),this.movePage(H,U),this},m.movePage=function(U,se){var Ne,je;if(U>se){Ne=ve[U],je=Re[U];for(var Qe=U;Qe>se;Qe--)ve[Qe]=ve[Qe-1],Re[Qe]=Re[Qe-1];ve[se]=Ne,Re[se]=je,this.setPage(se)}else if(U<se){Ne=ve[U],je=Re[U];for(var bt=U;bt<se;bt++)ve[bt]=ve[bt+1],Re[bt]=Re[bt+1];ve[se]=Ne,Re[se]=je,this.setPage(se)}return this},m.deletePage=function(){return j0.apply(this,arguments),this},m.__private__.text=m.text=function(U,se,Ne,je,Qe){var bt,Mt,sr,Ir,dn,cn,On,qa,ti,yi=(je=je||{}).scope||this;if(typeof U=="number"&&typeof se=="number"&&(typeof Ne=="string"||Array.isArray(Ne))){var bo=Ne;Ne=se,se=U,U=bo}if(arguments[3]instanceof gr?(I("The transform parameter of text() with a Matrix value"),ti=Qe):(sr=arguments[4],Ir=arguments[5],ba(On=arguments[3])==="object"&&On!==null||(typeof sr=="string"&&(Ir=sr,sr=null),typeof On=="string"&&(Ir=On,On=null),typeof On=="number"&&(sr=On,On=null),je={flags:On,angle:sr,align:Ir})),isNaN(se)||isNaN(Ne)||U==null)throw new Error("Invalid arguments passed to jsPDF.text");if(U.length===0)return yi;var Ji="",Wl=!1,zs=typeof je.lineHeightFactor=="number"?je.lineHeightFactor:Nf,pl=yi.internal.scaleFactor;function wd(va){return va=va.split("	").join(Array(je.TabLen||9).join(" ")),ss(va,On)}function V0(va){for(var ta,ni=va.concat(),xi=[],Cc=ni.length;Cc--;)typeof(ta=ni.shift())=="string"?xi.push(ta):Array.isArray(va)&&(ta.length===1||ta[1]===void 0&&ta[2]===void 0)?xi.push(ta[0]):xi.push([ta[0],ta[1],ta[2]]);return xi}function Yh(va,ta){var ni;if(typeof va=="string")ni=ta(va)[0];else if(Array.isArray(va)){for(var xi,Cc,ip=va.concat(),Lf=[],Y0=ip.length;Y0--;)typeof(xi=ip.shift())=="string"?Lf.push(ta(xi)[0]):Array.isArray(xi)&&typeof xi[0]=="string"&&(Cc=ta(xi[0],xi[1],xi[2]),Lf.push([Cc[0],Cc[1],Cc[2]]));ni=Lf}return ni}var Pf=!1,Xh=!0;if(typeof U=="string")Pf=!0;else if(Array.isArray(U)){var Zh=U.concat();Mt=[];for(var Of,ri=Zh.length;ri--;)(typeof(Of=Zh.shift())!="string"||Array.isArray(Of)&&typeof Of[0]!="string")&&(Xh=!1);Pf=Xh}if(Pf===!1)throw new Error('Type of text must be string or Array. "'+U+'" is not recognized.');typeof U=="string"&&(U=U.match(/[\r?\n]/)?U.split(/\r\n|\r|\n/g):[U]);var Jh=Pt/yi.internal.scaleFactor,Qh=Jh*(zs-1);switch(je.baseline){case"bottom":Ne-=Qh;break;case"top":Ne+=Jh-Qh;break;case"hanging":Ne+=Jh-2*Qh;break;case"middle":Ne+=Jh/2-Qh}if((cn=je.maxWidth||0)>0&&(typeof U=="string"?U=yi.splitTextToSize(U,cn):Object.prototype.toString.call(U)==="[object Array]"&&(U=U.reduce(function(va,ta){return va.concat(yi.splitTextToSize(ta,cn))},[]))),bt={text:U,x:se,y:Ne,options:je,mutex:{pdfEscape:ss,activeFontKey:At,fonts:mn,activeFontSize:Pt}},xt.publish("preProcessText",bt),U=bt.text,sr=(je=bt.options).angle,!(ti instanceof gr)&&sr&&typeof sr=="number"){sr*=Math.PI/180,je.rotationDirection===0&&(sr=-sr),S===b.ADVANCED&&(sr=-sr);var ep=Math.cos(sr),tp=Math.sin(sr);ti=new gr(ep,tp,-tp,ep,0,0)}else sr&&sr instanceof gr&&(ti=sr);S!==b.ADVANCED||ti||(ti=kn),(dn=je.charSpace||vd)!==void 0&&(Ji+=T(O(dn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(qa=je.horizontalScale)!==void 0&&(Ji+=T(100*qa)+` Tz
`),je.lang;var qo=-1,Df=je.renderingMode!==void 0?je.renderingMode:je.stroke,su=yi.internal.getCurrentPageInfo().pageContext;switch(Df){case 0:case!1:case"fill":qo=0;break;case 1:case!0:case"stroke":qo=1;break;case 2:case"fillThenStroke":qo=2;break;case 3:case"invisible":qo=3;break;case 4:case"fillAndAddForClipping":qo=4;break;case 5:case"strokeAndAddPathForClipping":qo=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":qo=6;break;case 7:case"addToPathForClipping":qo=7}var Ug=su.usedRenderingMode!==void 0?su.usedRenderingMode:-1;qo!==-1?Ji+=qo+` Tr
`:Ug!==-1&&(Ji+=`0 Tr
`),qo!==-1&&(su.usedRenderingMode=qo),Ir=je.align||"left";var zo,rp=Pt*zs,G0=yi.internal.pageSize.getWidth(),np=mn[At];dn=je.charSpace||vd,cn=je.maxWidth||0,On=Object.assign({autoencode:!0,noBOM:!0},je.flags);var Nc=[],_d=function(va){return yi.getStringUnitWidth(va,{font:np,charSpace:dn,fontSize:Pt,doKerning:!1})*Pt/pl};if(Object.prototype.toString.call(U)==="[object Array]"){var Wo;Mt=V0(U),Ir!=="left"&&(zo=Mt.map(_d));var So,bd=0;if(Ir==="right"){se-=zo[0],U=[],ri=Mt.length;for(var lu=0;lu<ri;lu++)lu===0?(So=fl(se),Wo=hl(Ne)):(So=O(bd-zo[lu]),Wo=-rp),U.push([Mt[lu],So,Wo]),bd=zo[lu]}else if(Ir==="center"){se-=zo[0]/2,U=[],ri=Mt.length;for(var cu=0;cu<ri;cu++)cu===0?(So=fl(se),Wo=hl(Ne)):(So=O((bd-zo[cu])/2),Wo=-rp),U.push([Mt[cu],So,Wo]),bd=zo[cu]}else if(Ir==="left"){U=[],ri=Mt.length;for(var ap=0;ap<ri;ap++)U.push(Mt[ap])}else if(Ir==="justify"&&np.encoding==="Identity-H"){U=[],ri=Mt.length,cn=cn!==0?cn:G0;for(var uu=0,zn=0;zn<ri;zn++)if(Wo=zn===0?hl(Ne):-rp,So=zn===0?fl(se):uu,zn<ri-1){var du=O((cn-zo[zn])/(Mt[zn].split(" ").length-1)),Ao=Mt[zn].split(" ");U.push([Ao[0]+" ",So,Wo]),uu=0;for(var Ws=1;Ws<Ao.length;Ws++){var If=(_d(Ao[Ws-1]+" "+Ao[Ws])-_d(Ao[Ws]))*pl+du;Ws==Ao.length-1?U.push([Ao[Ws],If,0]):U.push([Ao[Ws]+" ",If,0]),uu-=If}}else U.push([Mt[zn],So,Wo]);U.push(["",uu,0])}else{if(Ir!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(U=[],ri=Mt.length,cn=cn!==0?cn:G0,zn=0;zn<ri;zn++)Wo=zn===0?hl(Ne):-rp,So=zn===0?fl(se):0,zn<ri-1?Nc.push(T(O((cn-zo[zn])/(Mt[zn].split(" ").length-1)))):Nc.push(0),U.push([Mt[zn],So,Wo])}}var K0=typeof je.R2L=="boolean"?je.R2L:Ee;K0===!0&&(U=Yh(U,function(va,ta,ni){return[va.split("").reverse().join(""),ta,ni]})),bt={text:U,x:se,y:Ne,options:je,mutex:{pdfEscape:ss,activeFontKey:At,fonts:mn,activeFontSize:Pt}},xt.publish("postProcessText",bt),U=bt.text,Wl=bt.mutex.isHex||!1;var Rf=mn[At].encoding;Rf!=="WinAnsiEncoding"&&Rf!=="StandardEncoding"||(U=Yh(U,function(va,ta,ni){return[wd(va),ta,ni]})),Mt=V0(U),U=[];for(var Mf,Ff,Hs,fu=0,Ec=1,hu=Array.isArray(Mt[0])?Ec:fu,pu="",Sd=function(va,ta,ni){var xi="";return ni instanceof gr?(ni=typeof je.angle=="number"?gi(ni,new gr(1,0,0,1,va,ta)):gi(new gr(1,0,0,1,va,ta),ni),S===b.ADVANCED&&(ni=gi(new gr(1,0,0,-1,0,0),ni)),xi=ni.join(" ")+` Tm
`):xi=T(va)+" "+T(ta)+` Td
`,xi},co=0;co<Mt.length;co++){switch(pu="",hu){case Ec:Hs=(Wl?"<":"(")+Mt[co][0]+(Wl?">":")"),Mf=parseFloat(Mt[co][1]),Ff=parseFloat(Mt[co][2]);break;case fu:Hs=(Wl?"<":"(")+Mt[co]+(Wl?">":")"),Mf=fl(se),Ff=hl(Ne)}Nc!==void 0&&Nc[co]!==void 0&&(pu=Nc[co]+` Tw
`),co===0?U.push(pu+Sd(Mf,Ff,ti)+Hs):hu===fu?U.push(pu+Hs):hu===Ec&&U.push(pu+Sd(Mf,Ff,ti)+Hs)}U=hu===fu?U.join(` Tj
T* `):U.join(` Tj
`),U+=` Tj
`;var cs=`BT
/`;return cs+=At+" "+Pt+` Tf
`,cs+=T(Pt*zs)+` TL
`,cs+=Ii+`
`,cs+=Ji,cs+=U,he(cs+="ET"),h[At]=!0,yi};var Sc=m.__private__.clip=m.clip=function(U){return he(U==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return Sc("evenodd")},m.__private__.discardPath=m.discardPath=function(){return he("n"),this};var Ac=m.__private__.isValidStyle=function(U){var se=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(U)!==-1&&(se=!0),se};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(U){return Ac(U)&&(u=U),this};var B0=m.__private__.getStyle=m.getStyle=function(U){var se=u;switch(U){case"D":case"S":se="S";break;case"F":se="f";break;case"FD":case"DF":se="B";break;case"f":case"f*":case"B":case"B*":se=U}return se},pd=m.close=function(){return he("h"),this};m.stroke=function(){return he("S"),this},m.fill=function(U){return Bh("f",U),this},m.fillEvenOdd=function(U){return Bh("f*",U),this},m.fillStroke=function(U){return Bh("B",U),this},m.fillStrokeEvenOdd=function(U){return Bh("B*",U),this};var Bh=function(U,se){ba(se)==="object"?jg(se,U):he(U)},Uh=function(U){U===null||S===b.ADVANCED&&U===void 0||(U=B0(U),he(U))};function qh(U,se,Ne,je,Qe){var bt=new qv(se||this.boundingBox,Ne||this.xStep,je||this.yStep,this.gState,Qe||this.matrix);bt.stream=this.stream;var Mt=U+"$$"+this.cloneIndex+++"$$";return Di(Mt,bt),bt}var jg=function(U,se){var Ne=yt[U.key],je=un[Ne];if(je instanceof Nm)he("q"),he(Sy(se)),je.gState&&m.setGState(je.gState),he(U.matrix.toString()+" cm"),he("/"+Ne+" sh"),he("Q");else if(je instanceof qv){var Qe=new gr(1,0,0,-1,0,xd());U.matrix&&(Qe=Qe.multiply(U.matrix||kn),Ne=qh.call(je,U.key,U.boundingBox,U.xStep,U.yStep,Qe).id),he("q"),he("/Pattern cs"),he("/"+Ne+" scn"),je.gState&&m.setGState(je.gState),he(se),he("Q")}},Sy=function(U){switch(U){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},iu=m.moveTo=function(U,se){return he(T(O(U))+" "+T(G(se))+" m"),this},Ul=m.lineTo=function(U,se){return he(T(O(U))+" "+T(G(se))+" l"),this},qs=m.curveTo=function(U,se,Ne,je,Qe,bt){return he([T(O(U)),T(G(se)),T(O(Ne)),T(G(je)),T(O(Qe)),T(G(bt)),"c"].join(" ")),this};m.__private__.line=m.line=function(U,se,Ne,je,Qe){if(isNaN(U)||isNaN(se)||isNaN(Ne)||isNaN(je)||!Ac(Qe))throw new Error("Invalid arguments passed to jsPDF.line");return S===b.COMPAT?this.lines([[Ne-U,je-se]],U,se,[1,1],Qe||"S"):this.lines([[Ne-U,je-se]],U,se,[1,1]).stroke()},m.__private__.lines=m.lines=function(U,se,Ne,je,Qe,bt){var Mt,sr,Ir,dn,cn,On,qa,ti,yi,bo,Ji,Wl;if(typeof U=="number"&&(Wl=Ne,Ne=se,se=U,U=Wl),je=je||[1,1],bt=bt||!1,isNaN(se)||isNaN(Ne)||!Array.isArray(U)||!Array.isArray(je)||!Ac(Qe)||typeof bt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(iu(se,Ne),Mt=je[0],sr=je[1],dn=U.length,bo=se,Ji=Ne,Ir=0;Ir<dn;Ir++)(cn=U[Ir]).length===2?(bo=cn[0]*Mt+bo,Ji=cn[1]*sr+Ji,Ul(bo,Ji)):(On=cn[0]*Mt+bo,qa=cn[1]*sr+Ji,ti=cn[2]*Mt+bo,yi=cn[3]*sr+Ji,bo=cn[4]*Mt+bo,Ji=cn[5]*sr+Ji,qs(On,qa,ti,yi,bo,Ji));return bt&&pd(),Uh(Qe),this},m.path=function(U){for(var se=0;se<U.length;se++){var Ne=U[se],je=Ne.c;switch(Ne.op){case"m":iu(je[0],je[1]);break;case"l":Ul(je[0],je[1]);break;case"c":qs.apply(this,je);break;case"h":pd()}}return this},m.__private__.rect=m.rect=function(U,se,Ne,je,Qe){if(isNaN(U)||isNaN(se)||isNaN(Ne)||isNaN(je)||!Ac(Qe))throw new Error("Invalid arguments passed to jsPDF.rect");return S===b.COMPAT&&(je=-je),he([T(O(U)),T(G(se)),T(O(Ne)),T(O(je)),"re"].join(" ")),Uh(Qe),this},m.__private__.triangle=m.triangle=function(U,se,Ne,je,Qe,bt,Mt){if(isNaN(U)||isNaN(se)||isNaN(Ne)||isNaN(je)||isNaN(Qe)||isNaN(bt)||!Ac(Mt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ne-U,je-se],[Qe-Ne,bt-je],[U-Qe,se-bt]],U,se,[1,1],Mt,!0),this},m.__private__.roundedRect=m.roundedRect=function(U,se,Ne,je,Qe,bt,Mt){if(isNaN(U)||isNaN(se)||isNaN(Ne)||isNaN(je)||isNaN(Qe)||isNaN(bt)||!Ac(Mt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var sr=4/3*(Math.SQRT2-1);return Qe=Math.min(Qe,.5*Ne),bt=Math.min(bt,.5*je),this.lines([[Ne-2*Qe,0],[Qe*sr,0,Qe,bt-bt*sr,Qe,bt],[0,je-2*bt],[0,bt*sr,-Qe*sr,bt,-Qe,bt],[2*Qe-Ne,0],[-Qe*sr,0,-Qe,-bt*sr,-Qe,-bt],[0,2*bt-je],[0,-bt*sr,Qe*sr,-bt,Qe,-bt]],U+Qe,se,[1,1],Mt,!0),this},m.__private__.ellipse=m.ellipse=function(U,se,Ne,je,Qe){if(isNaN(U)||isNaN(se)||isNaN(Ne)||isNaN(je)||!Ac(Qe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var bt=4/3*(Math.SQRT2-1)*Ne,Mt=4/3*(Math.SQRT2-1)*je;return iu(U+Ne,se),qs(U+Ne,se-Mt,U+bt,se-je,U,se-je),qs(U-bt,se-je,U-Ne,se-Mt,U-Ne,se),qs(U-Ne,se+Mt,U-bt,se+je,U,se+je),qs(U+bt,se+je,U+Ne,se+Mt,U+Ne,se),Uh(Qe),this},m.__private__.circle=m.circle=function(U,se,Ne,je){if(isNaN(U)||isNaN(se)||isNaN(Ne)||!Ac(je))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(U,se,Ne,Ne,je)},m.setFont=function(U,se,Ne){return Ne&&(se=D(se,Ne)),At=jh(U,se,{disableWarning:!1}),this};var zh=m.__private__.getFont=m.getFont=function(){return mn[jh.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var U,se,Ne={};for(U in An)if(An.hasOwnProperty(U))for(se in Ne[U]=[],An[U])An[U].hasOwnProperty(se)&&Ne[U].push(se);return Ne},m.addFont=function(U,se,Ne,je,Qe){var bt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&bt.indexOf(arguments[3])!==-1?Qe=arguments[3]:arguments[3]&&bt.indexOf(arguments[3])==-1&&(Ne=D(Ne,je)),Qe=Qe||"Identity-H",dd.call(this,U,se,Ne,Qe)};var Nf,U0=e.lineWidth||.200025,md=m.__private__.getLineWidth=m.getLineWidth=function(){return U0},Ef=m.__private__.setLineWidth=m.setLineWidth=function(U){return U0=U,he(T(O(U))+" w"),this};m.__private__.setLineDash=$r.API.setLineDash=$r.API.setLineDashPattern=function(U,se){if(U=U||[],se=se||0,isNaN(se)||!Array.isArray(U))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return U=U.map(function(Ne){return T(O(Ne))}).join(" "),se=T(O(se)),he("["+U+"] "+se+" d"),this};var Wh=m.__private__.getLineHeight=m.getLineHeight=function(){return Pt*Nf};m.__private__.getLineHeight=m.getLineHeight=function(){return Pt*Nf};var q0=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(U){return typeof(U=U||1.15)=="number"&&(Nf=U),this},ql=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return Nf};q0(e.lineHeight);var fl=m.__private__.getHorizontalCoordinate=function(U){return O(U)},hl=m.__private__.getVerticalCoordinate=function(U){return S===b.ADVANCED?U:Re[H].mediaBox.topRightY-Re[H].mediaBox.bottomLeftY-O(U)},$g=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(U){return T(fl(U))},zl=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(U){return T(hl(U))},ls=e.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return Ae(ls)},m.__private__.setStrokeColor=m.setDrawColor=function(U,se,Ne,je){return ls=ke({ch1:U,ch2:se,ch3:Ne,ch4:je,pdfColorType:"draw",precision:2}),he(ls),this};var Hh=e.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return Ae(Hh)},m.__private__.setFillColor=m.setFillColor=function(U,se,Ne,je){return Hh=ke({ch1:U,ch2:se,ch3:Ne,ch4:je,pdfColorType:"fill",precision:2}),he(Hh),this};var Ii=e.textColor||"0 g",gd=m.__private__.getTextColor=m.getTextColor=function(){return Ae(Ii)};m.__private__.setTextColor=m.setTextColor=function(U,se,Ne,je){return Ii=ke({ch1:U,ch2:se,ch3:Ne,ch4:je,pdfColorType:"text",precision:3}),this};var vd=e.charSpace,Cf=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(vd||0)};m.__private__.setCharSpace=m.setCharSpace=function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return vd=U,this};var z0=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(U){var se=m.CapJoinStyles[U];if(se===void 0)throw new Error("Line cap style of '"+U+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return z0=se,he(se+" J"),this};var Tf=0;m.__private__.setLineJoin=m.setLineJoin=function(U){var se=m.CapJoinStyles[U];if(se===void 0)throw new Error("Line join style of '"+U+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Tf=se,he(se+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(U){if(U=U||0,isNaN(U))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return he(T(O(U))+" M"),this},m.GState=e4,m.setGState=function(U){(U=typeof U=="string"?Tt[Sr[U]]:Vh(null,U)).equals(Fr)||(he("/"+U.id+" gs"),Fr=U)};var Vh=function(U,se){if(!U||!Sr[U]){var Ne=!1;for(var je in Tt)if(Tt.hasOwnProperty(je)&&Tt[je].equals(se)){Ne=!0;break}if(Ne)se=Tt[je];else{var Qe="GS"+(Object.keys(Tt).length+1).toString(10);Tt[Qe]=se,se.id=Qe}return U&&(Sr[U]=se.id),xt.publish("addGState",se),se}};m.addGState=function(U,se){return Vh(U,se),this},m.saveGraphicsState=function(){return he("q"),mi.push({key:At,size:Pt,color:Ii}),this},m.restoreGraphicsState=function(){he("Q");var U=mi.pop();return At=U.key,Pt=U.size,Ii=U.color,Fr=null,this},m.setCurrentTransformationMatrix=function(U){return he(U.toString()+" cm"),this},m.comment=function(U){return he("#"+U),this};var kc=function(U,se){var Ne=U||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ne},set:function(bt){isNaN(bt)||(Ne=parseFloat(bt))}});var je=se||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return je},set:function(bt){isNaN(bt)||(je=parseFloat(bt))}});var Qe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Qe},set:function(bt){Qe=bt.toString()}}),this},yd=function(U,se,Ne,je){kc.call(this,U,se),this.type="rect";var Qe=Ne||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Qe},set:function(Mt){isNaN(Mt)||(Qe=parseFloat(Mt))}});var bt=je||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return bt},set:function(Mt){isNaN(Mt)||(bt=parseFloat(Mt))}}),this},Gh=function(){this.page=Jt,this.currentPage=H,this.pages=ve.slice(0),this.pagesContext=Re.slice(0),this.x=br,this.y=er,this.matrix=en,this.width=ou(H),this.height=xd(H),this.outputDestination=Ue,this.id="",this.objectNumber=-1};Gh.prototype.restore=function(){Jt=this.page,H=this.currentPage,Re=this.pagesContext,ve=this.pages,br=this.x,er=this.y,en=this.matrix,W0(H,this.width),H0(H,this.height),Ue=this.outputDestination};var Bg=function(U,se,Ne,je,Qe){ga.push(new Gh),Jt=H=0,ve=[],br=U,er=se,en=Qe,bf([Ne,je])},Ay=function(U){if(ln[U])ga.pop().restore();else{var se=new Gh,Ne="Xo"+(Object.keys(cr).length+1).toString(10);se.id=Ne,ln[U]=Ne,cr[Ne]=se,xt.publish("addFormObject",se),ga.pop().restore()}};for(var Kh in m.beginFormObject=function(U,se,Ne,je,Qe){return Bg(U,se,Ne,je,Qe),this},m.endFormObject=function(U){return Ay(U),this},m.doFormObject=function(U,se){var Ne=cr[ln[U]];return he("q"),he(se.toString()+" cm"),he("/"+Ne.id+" Do"),he("Q"),this},m.getFormObject=function(U){var se=cr[ln[U]];return{x:se.x,y:se.y,width:se.width,height:se.height,matrix:se.matrix}},m.save=function(U,se){return U=U||"generated.pdf",(se=se||{}).returnPromise=se.returnPromise||!1,se.returnPromise===!1?(Sm(Sf(_c()),U),typeof Sm.unload=="function"&&Zr.setTimeout&&setTimeout(Sm.unload,911),this):new Promise(function(Ne,je){try{var Qe=Sm(Sf(_c()),U);typeof Sm.unload=="function"&&Zr.setTimeout&&setTimeout(Sm.unload,911),Ne(Qe)}catch(bt){je(bt.message)}})},$r.API)$r.API.hasOwnProperty(Kh)&&(Kh==="events"&&$r.API.events.length?function(U,se){var Ne,je,Qe;for(Qe=se.length-1;Qe!==-1;Qe--)Ne=se[Qe][0],je=se[Qe][1],U.subscribe.apply(U,[Ne].concat(typeof je=="function"?[je]:je))}(xt,$r.API.events):m[Kh]=$r.API[Kh]);var ou=m.getPageWidth=function(U){return(Re[U=U||H].mediaBox.topRightX-Re[U].mediaBox.bottomLeftX)/ct},W0=m.setPageWidth=function(U,se){Re[U].mediaBox.topRightX=se*ct+Re[U].mediaBox.bottomLeftX},xd=m.getPageHeight=function(U){return(Re[U=U||H].mediaBox.topRightY-Re[U].mediaBox.bottomLeftY)/ct},H0=m.setPageHeight=function(U,se){Re[U].mediaBox.topRightY=se*ct+Re[U].mediaBox.bottomLeftY};return m.internal={pdfEscape:ss,getStyle:B0,getFont:zh,getFontSize:xe,getCharSpace:Cf,getTextColor:gd,getLineHeight:Wh,getLineHeightFactor:ql,getLineWidth:md,write:Ze,getHorizontalCoordinate:fl,getVerticalCoordinate:hl,getCoordinateString:$g,getVerticalCoordinateString:zl,collections:{},newObject:la,newAdditionalObject:Se,newObjectDeferred:ca,newObjectDeferredBegin:de,getFilters:nt,putStream:vt,events:xt,scaleFactor:ct,pageSize:{getWidth:function(){return ou(H)},setWidth:function(U){W0(H,U)},getHeight:function(){return xd(H)},setHeight:function(U){H0(H,U)}},encryptionOptions:d,encryption:Ua,getEncryptor:bc,output:hd,getNumberOfPages:by,pages:ve,out:he,f2:B,f3:P,getPageInfo:Bl,getPageInfoByObjId:qr,getCurrentPageInfo:kf,getPDFVersion:g,Point:kc,Rectangle:yd,Matrix:gr,hasHotfix:Af},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return ou(H)},set:function(U){W0(H,U)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return xd(H)},set:function(U){H0(H,U)},enumerable:!0,configurable:!0}),_f.call(m,ht),At="F1",L0(a,r),xt.publish("initialized"),m}Rv.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},Rv.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Rv.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Rv.prototype.processOwnerPassword=function(e,t){return _8(w8(t).substr(0,5),e)},Rv.prototype.encryptor=function(e,t){var r=w8(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return _8(r,n)}},e4.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||ba(e)!==ba(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},$r.API={events:[]},$r.version="3.0.1";var Si=$r.API,c7=1,Ig=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Tv=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},pn=function(e){return e.toFixed(2)},Ip=function(e){return e.toFixed(5)};Si.__acroform__={};var jl=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},iH=function(e){return e*c7},Fd=function(e){var t=new hie,r=Er.internal.getHeight(e)||0,n=Er.internal.getWidth(e)||0;return t.BBox=[0,0,Number(pn(n)),Number(pn(r))],t},aHe=Si.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},iHe=Si.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},oHe=Si.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(e&1<<t)==0?0:1},Bi=Si.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return oHe(e,t-1)},Ui=Si.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return aHe(e,t-1)},qi=Si.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return iHe(e,t-1)},sHe=Si.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],i=e[1],o=e[2],s=e[3],l={};return l.lowerLeft_X=r(a)||0,l.lowerLeft_Y=n(i+s)||0,l.upperRight_X=r(a+o)||0,l.upperRight_Y=n(i)||0,[Number(pn(l.lowerLeft_X)),Number(pn(l.lowerLeft_Y)),Number(pn(l.upperRight_X)),Number(pn(l.upperRight_Y))]},lHe=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=b8(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+pn(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=Fd(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},b8=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(P){return P.split(`
`)}):a.map(function(P){return[P]});var i=r,o=Er.internal.getHeight(e)||0;o=o<0?-o:o;var s=Er.internal.getWidth(e)||0;s=s<0?-s:s;var l=function(P,O,j){if(P+1<a.length){var G=O+" "+a[P+1][0];return Db(G,e,j).width<=s-4}return!1};i++;e:for(;i>0;){t="",i--;var u,d,f=Db("3",e,i).height,h=e.multiline?o-i:(o-f)/2,m=h+=2,x=0,g=0,y=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+Db(t,e,i=12).width+", FieldWidth:"+s+`
`;break}for(var _="",b=0,S=0;S<a.length;S++)if(a.hasOwnProperty(S)){var C=!1;if(a[S].length!==1&&y!==a[S].length-1){if((f+2)*(b+2)+2>o)continue e;_+=a[S][y],C=!0,g=S,S--}else{_=(_+=a[S][y]+" ").substr(_.length-1)==" "?_.substr(0,_.length-1):_;var E=parseInt(S),D=l(E,_,i),T=S>=a.length-1;if(D&&!T){_+=" ",y=0;continue}if(D||T){if(T)g=E;else if(e.multiline&&(f+2)*(b+2)+2>o)continue e}else{if(!e.multiline||(f+2)*(b+2)+2>o)continue e;g=E}}for(var I="",L=x;L<=g;L++){var B=a[L];if(e.multiline){if(L===g){I+=B[y]+" ",y=(y+1)%B.length;continue}if(L===x){I+=B[B.length-1]+" ";continue}}I+=B[0]+" "}switch(I=I.substr(I.length-1)==" "?I.substr(0,I.length-1):I,d=Db(I,e,i).width,e.textAlign){case"right":u=s-d-2;break;case"center":u=(s-d)/2;break;case"left":default:u=2}t+=pn(u)+" "+pn(m)+` Td
`,t+="("+Ig(I)+`) Tj
`,t+=-pn(u)+` 0 Td
`,m=-(i+2),d=0,x=C?g:g+1,b++,_=""}break}return n.text=t,n.fontSize=i,n},Db=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},cHe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},uHe=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},dHe=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,a=e[r];t.internal.newObjectDeferredBegin(a.objId,!0),ba(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete e[n]}},fHe=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(cd.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(cHe)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");c7=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new pie,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&uHe(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var o in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var s=n[o],l=[],u=s.Rect;if(s.Rect&&(s.Rect=sHe(s.Rect,a)),a.internal.newObjectDeferredBegin(s.objId,!0),s.DA=Er.createDefaultAppearanceStream(s),ba(s)==="object"&&typeof s.getKeyValueListForStream=="function"&&(l=s.getKeyValueListForStream()),s.Rect=u,s.hasAppearanceStream&&!s.appearanceStreamContent){var d=lHe(s);l.push({key:"AP",value:"<</N "+d+">>"}),a.internal.acroformPlugin.xForms.push(d)}if(s.appearanceStreamContent){var f="";for(var h in s.appearanceStreamContent)if(s.appearanceStreamContent.hasOwnProperty(h)){var m=s.appearanceStreamContent[h];if(f+="/"+h+" ",f+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var o in m)if(m.hasOwnProperty(o)){var x=m[o];typeof x=="function"&&(x=x.call(a,s)),f+="/"+o+" "+x+" ",a.internal.acroformPlugin.xForms.indexOf(x)>=0||a.internal.acroformPlugin.xForms.push(x)}}else typeof(x=m)=="function"&&(x=x.call(a,s)),f+="/"+o+" "+x,a.internal.acroformPlugin.xForms.indexOf(x)>=0||a.internal.acroformPlugin.xForms.push(x);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}a.internal.putStream({additionalKeyValues:l,objectId:s.objId}),a.internal.out("endobj")}i&&dHe(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},fie=Si.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(o){return o};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),ba(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+Ig(n(e[i].toString()))+")"):a+=e[i].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},oP=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Ig(n(e))+")"},Yd=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Yd.prototype.toString=function(){return this.objId+" 0 R"},Yd.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Yd.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:fie(a,this.objId,this.scope)}):a instanceof Yd?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var hie=function(){Yd.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};jl(hie,Yd);var pie=function(){Yd.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Ig(r(e))+")"}},set:function(r){e=r}})};jl(pie,Yd);var cd=function e(){Yd.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute F supplied.');t=_}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Bi(t,3)},set:function(_){_?this.F=Ui(t,3):this.F=qi(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute Ff supplied.');r=_}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(_){n=_!==void 0?_:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(_){n[0]=_}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(_){n[1]=_}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(_){n[2]=_}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(_){n[3]=_}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(_){switch(_){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=_;break;default:throw new Error('Invalid value "'+_+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof t4)return;i="FieldObject"+e.FieldNum++}var _=function(b){return b};return this.scope&&(_=this.scope.internal.getEncryptor(this.objId)),"("+Ig(_(i))+")"},set:function(_){i=_.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(_){i=_}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(_){o=_}});var s="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return s},set:function(_){s=_}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(_){l=_}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/c7:u},set:function(_){u=_}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(_){d=_}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof t4||this instanceof Wm))return oP(f,this.objId,this.scope)},set:function(_){_=_.toString(),f=_}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Mo?h:oP(h,this.objId,this.scope)},set:function(_){_=_.toString(),h=this instanceof Mo?_:_.substr(0,1)==="("?Tv(_.substr(1,_.length-2)):Tv(_)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Mo?Tv(h.substr(1,h.length-1)):h},set:function(_){_=_.toString(),h=this instanceof Mo?"/"+_:_}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(_){this.V=_}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Mo?m:oP(m,this.objId,this.scope)},set:function(_){_=_.toString(),m=this instanceof Mo?_:_.substr(0,1)==="("?Tv(_.substr(1,_.length-2)):Tv(_)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Mo?Tv(m.substr(1,m.length-1)):m},set:function(_){_=_.toString(),m=this instanceof Mo?"/"+_:_}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var x,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(_){_=!!_,g=_}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(x)return x},set:function(_){x=_}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,1)},set:function(_){_?this.Ff=Ui(this.Ff,1):this.Ff=qi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,2)},set:function(_){_?this.Ff=Ui(this.Ff,2):this.Ff=qi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,3)},set:function(_){_?this.Ff=Ui(this.Ff,3):this.Ff=qi(this.Ff,3)}});var y=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(y!==null)return y},set:function(_){if([0,1,2].indexOf(_)===-1)throw new Error('Invalid value "'+_+'" for attribute Q supplied.');y=_}}),Object.defineProperty(this,"textAlign",{get:function(){var _;switch(y){case 0:default:_="left";break;case 1:_="center";break;case 2:_="right"}return _},configurable:!0,enumerable:!0,set:function(_){switch(_){case"right":case 2:y=2;break;case"center":case 1:y=1;break;case"left":case 0:default:y=0}}})};jl(cd,Yd);var a1=function(){cd.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return fie(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(i,o,s){s||(s=1);for(var l,u=[];l=o.exec(i);)u.push(l[s]);return u}(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,18)},set:function(r){r?this.Ff=Ui(this.Ff,18):this.Ff=qi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Ui(this.Ff,19):this.Ff=qi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,20)},set:function(r){r?(this.Ff=Ui(this.Ff,20),t.sort()):this.Ff=qi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,22)},set:function(r){r?this.Ff=Ui(this.Ff,22):this.Ff=qi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,23)},set:function(r){r?this.Ff=Ui(this.Ff,23):this.Ff=qi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,27)},set:function(r){r?this.Ff=Ui(this.Ff,27):this.Ff=qi(this.Ff,27)}}),this.hasAppearanceStream=!1};jl(a1,cd);var i1=function(){a1.call(this),this.fontName="helvetica",this.combo=!1};jl(i1,a1);var o1=function(){i1.call(this),this.combo=!0};jl(o1,i1);var Jb=function(){o1.call(this),this.edit=!0};jl(Jb,o1);var Mo=function(){cd.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,15)},set:function(r){r?this.Ff=Ui(this.Ff,15):this.Ff=qi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,16)},set:function(r){r?this.Ff=Ui(this.Ff,16):this.Ff=qi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,17)},set:function(r){r?this.Ff=Ui(this.Ff,17):this.Ff=qi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,26)},set:function(r){r?this.Ff=Ui(this.Ff,26):this.Ff=qi(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+Ig(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){ba(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};jl(Mo,cd);var Qb=function(){Mo.call(this),this.pushButton=!0};jl(Qb,Mo);var s1=function(){Mo.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};jl(s1,Mo);var t4=function(){var e,t;cd.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(s){return s};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),n)o.push("/"+i+" ("+Ig(a(n[i]))+")");return o.push(">>"),o.join(`
`)},set:function(a){ba(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Er.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};jl(t4,cd),s1.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},s1.prototype.createOption=function(e){var t=new t4;return t.Parent=this,t.optionName=e,this.Kids.push(t),hHe.call(this.scope,t),t};var e5=function(){Mo.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Er.CheckBox.createAppearanceStream()};jl(e5,Mo);var Wm=function(){cd.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,13)},set:function(t){t?this.Ff=Ui(this.Ff,13):this.Ff=qi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,21)},set:function(t){t?this.Ff=Ui(this.Ff,21):this.Ff=qi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,23)},set:function(t){t?this.Ff=Ui(this.Ff,23):this.Ff=qi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,24)},set:function(t){t?this.Ff=Ui(this.Ff,24):this.Ff=qi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,25)},set:function(t){t?this.Ff=Ui(this.Ff,25):this.Ff=qi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,26)},set:function(t){t?this.Ff=Ui(this.Ff,26):this.Ff=qi(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};jl(Wm,cd);var t5=function(){Wm.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,14)},set:function(e){e?this.Ff=Ui(this.Ff,14):this.Ff=qi(this.Ff,14)}}),this.password=!0};jl(t5,Wm);var Er={CheckBox:{createAppearanceStream:function(){return{N:{On:Er.CheckBox.YesNormal},D:{On:Er.CheckBox.YesPushDown,Off:Er.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Fd(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=b8(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+pn(Er.internal.getWidth(e))+" "+pn(Er.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+pn(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Fd(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],i=Er.internal.getHeight(e),o=Er.internal.getWidth(e),s=b8(e,e.caption);return a.push("1 g"),a.push("0 0 "+pn(o)+" "+pn(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+pn(o-1)+" "+pn(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+pn(s.fontSize)+" Tf "+n),a.push(s.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=Fd(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+pn(Er.internal.getWidth(e))+" "+pn(Er.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Er.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Er.RadioButton.Circle.YesNormal,t.D[e]=Er.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Fd(e);t.scope=e.scope;var r=[],n=Er.internal.getWidth(e)<=Er.internal.getHeight(e)?Er.internal.getWidth(e)/4:Er.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Er.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Ip(Er.internal.getWidth(e)/2)+" "+Ip(Er.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Fd(e);t.scope=e.scope;var r=[],n=Er.internal.getWidth(e)<=Er.internal.getHeight(e)?Er.internal.getWidth(e)/4:Er.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Er.internal.Bezier_C).toFixed(5)),o=Number((n*Er.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ip(Er.internal.getWidth(e)/2)+" "+Ip(Er.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Ip(Er.internal.getWidth(e)/2)+" "+Ip(Er.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Fd(e);t.scope=e.scope;var r=[],n=Er.internal.getWidth(e)<=Er.internal.getHeight(e)?Er.internal.getWidth(e)/4:Er.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Er.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ip(Er.internal.getWidth(e)/2)+" "+Ip(Er.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Er.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Er.RadioButton.Cross.YesNormal,t.D[e]=Er.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Fd(e);t.scope=e.scope;var r=[],n=Er.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+pn(Er.internal.getWidth(e)-2)+" "+pn(Er.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(pn(n.x1.x)+" "+pn(n.x1.y)+" m"),r.push(pn(n.x2.x)+" "+pn(n.x2.y)+" l"),r.push(pn(n.x4.x)+" "+pn(n.x4.y)+" m"),r.push(pn(n.x3.x)+" "+pn(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Fd(e);t.scope=e.scope;var r=Er.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+pn(Er.internal.getWidth(e))+" "+pn(Er.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+pn(Er.internal.getWidth(e)-2)+" "+pn(Er.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(pn(r.x1.x)+" "+pn(r.x1.y)+" m"),n.push(pn(r.x2.x)+" "+pn(r.x2.y)+" l"),n.push(pn(r.x4.x)+" "+pn(r.x4.y)+" m"),n.push(pn(r.x3.x)+" "+pn(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Fd(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+pn(Er.internal.getWidth(e))+" "+pn(Er.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Er.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Er.internal.getWidth(e),r=Er.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Er.internal.getWidth=function(e){var t=0;return ba(e)==="object"&&(t=iH(e.Rect[2])),t},Er.internal.getHeight=function(e){var t=0;return ba(e)==="object"&&(t=iH(e.Rect[3])),t};var hHe=Si.addField=function(e){if(fHe(this,e),!(e instanceof cd))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Si.AcroFormChoiceField=a1,Si.AcroFormListBox=i1,Si.AcroFormComboBox=o1,Si.AcroFormEditBox=Jb,Si.AcroFormButton=Mo,Si.AcroFormPushButton=Qb,Si.AcroFormRadioButton=s1,Si.AcroFormCheckBox=e5,Si.AcroFormTextField=Wm,Si.AcroFormPasswordField=t5,Si.AcroFormAppearance=Er,Si.AcroForm={ChoiceField:a1,ListBox:i1,ComboBox:o1,EditBox:Jb,Button:Mo,PushButton:Qb,RadioButton:s1,CheckBox:e5,TextField:Wm,PasswordField:t5,Appearance:Er},$r.AcroForm={ChoiceField:a1,ListBox:i1,ComboBox:o1,EditBox:Jb,Button:Mo,PushButton:Qb,RadioButton:s1,CheckBox:e5,TextField:Wm,PasswordField:t5,Appearance:Er};$r.AcroForm;function mie(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(P,O){var j,G,Y,re,q,K=t;if((O=O||t)==="RGBA"||P.data!==void 0&&P.data instanceof Uint8ClampedArray&&"height"in P&&"width"in P)return"RGBA";if(D(P))for(q in r)for(Y=r[q],j=0;j<Y.length;j+=1){for(re=!0,G=0;G<Y[j].length;G+=1)if(Y[j][G]!==void 0&&Y[j][G]!==P[G]){re=!1;break}if(re===!0){K=q;break}}else for(q in r)for(Y=r[q],j=0;j<Y.length;j+=1){for(re=!0,G=0;G<Y[j].length;G+=1)if(Y[j][G]!==void 0&&Y[j][G]!==P.charCodeAt(G)){re=!1;break}if(re===!0){K=q;break}}return K===t&&O!==t&&(K=O),K},a=function P(O){for(var j=this.internal.write,G=this.internal.putStream,Y=(0,this.internal.getFilters)();Y.indexOf("FlateEncode")!==-1;)Y.splice(Y.indexOf("FlateEncode"),1);O.objectId=this.internal.newObject();var re=[];if(re.push({key:"Type",value:"/XObject"}),re.push({key:"Subtype",value:"/Image"}),re.push({key:"Width",value:O.width}),re.push({key:"Height",value:O.height}),O.colorSpace===y.INDEXED?re.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(O.palette.length/3-1)+" "+("sMask"in O&&O.sMask!==void 0?O.objectId+2:O.objectId+1)+" 0 R]"}):(re.push({key:"ColorSpace",value:"/"+O.colorSpace}),O.colorSpace===y.DEVICE_CMYK&&re.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),re.push({key:"BitsPerComponent",value:O.bitsPerComponent}),"decodeParameters"in O&&O.decodeParameters!==void 0&&re.push({key:"DecodeParms",value:"<<"+O.decodeParameters+">>"}),"transparency"in O&&Array.isArray(O.transparency)){for(var q="",K=0,z=O.transparency.length;K<z;K++)q+=O.transparency[K]+" "+O.transparency[K]+" ";re.push({key:"Mask",value:"["+q+"]"})}O.sMask!==void 0&&re.push({key:"SMask",value:O.objectId+1+" 0 R"});var te=O.filter!==void 0?["/"+O.filter]:void 0;if(G({data:O.data,additionalKeyValues:re,alreadyAppliedFilters:te,objectId:O.objectId}),j("endobj"),"sMask"in O&&O.sMask!==void 0){var Q="/Predictor "+O.predictor+" /Colors 1 /BitsPerComponent "+O.bitsPerComponent+" /Columns "+O.width,R={width:O.width,height:O.height,colorSpace:"DeviceGray",bitsPerComponent:O.bitsPerComponent,decodeParameters:Q,data:O.sMask};"filter"in O&&(R.filter=O.filter),P.call(this,R)}if(O.colorSpace===y.INDEXED){var H=this.internal.newObject();G({data:I(new Uint8Array(O.palette)),objectId:H}),j("endobj")}},i=function(){var P=this.internal.collections.addImage_images;for(var O in P)a.call(this,P[O])},o=function(){var P,O=this.internal.collections.addImage_images,j=this.internal.write;for(var G in O)j("/I"+(P=O[G]).index,P.objectId,"0","R")},s=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var P=this.internal.collections.addImage_images;return s.call(this),P},u=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(P){return typeof e["process"+P.toUpperCase()]=="function"},f=function(P){return ba(P)==="object"&&P.nodeType===1},h=function(P,O){if(P.nodeName==="IMG"&&P.hasAttribute("src")){var j=""+P.getAttribute("src");if(j.indexOf("data:image/")===0)return Y2(unescape(j).split("base64,").pop());var G=e.loadFile(j,!0);if(G!==void 0)return G}if(P.nodeName==="CANVAS"){if(P.width===0||P.height===0)throw new Error("Given canvas must have data. Canvas width: "+P.width+", height: "+P.height);var Y;switch(O){case"PNG":Y="image/png";break;case"WEBP":Y="image/webp";break;case"JPEG":case"JPG":default:Y="image/jpeg"}return Y2(P.toDataURL(Y,1).split("base64,").pop())}},m=function(P){var O=this.internal.collections.addImage_images;if(O){for(var j in O)if(P===O[j].alias)return O[j]}},x=function(P,O,j){return P||O||(P=-96,O=-96),P<0&&(P=-1*j.width*72/P/this.internal.scaleFactor),O<0&&(O=-1*j.height*72/O/this.internal.scaleFactor),P===0&&(P=O*j.width/j.height),O===0&&(O=P*j.height/j.width),[P,O]},g=function(P,O,j,G,Y,re){var q=x.call(this,j,G,Y),K=this.internal.getCoordinateString,z=this.internal.getVerticalCoordinateString,te=l.call(this);if(j=q[0],G=q[1],te[Y.index]=Y,re){re*=Math.PI/180;var Q=Math.cos(re),R=Math.sin(re),H=function(Z){return Z.toFixed(4)},X=[H(Q),H(R),H(-1*R),H(Q),0,0,"cm"]}this.internal.write("q"),re?(this.internal.write([1,"0","0",1,K(P),z(O+G),"cm"].join(" ")),this.internal.write(X.join(" ")),this.internal.write([K(j),"0","0",K(G),"0","0","cm"].join(" "))):this.internal.write([K(j),"0","0",K(G),K(P),z(O+G),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Y.index+" Do"),this.internal.write("Q")},y=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var _=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=e.__addimage__.sHashCode=function(P){var O,j,G=0;if(typeof P=="string")for(j=P.length,O=0;O<j;O++)G=(G<<5)-G+P.charCodeAt(O),G|=0;else if(D(P))for(j=P.byteLength/2,O=0;O<j;O++)G=(G<<5)-G+P[O],G|=0;return G},S=e.__addimage__.validateStringAsBase64=function(P){(P=P||"").toString().trim();var O=!0;return P.length===0&&(O=!1),P.length%4!=0&&(O=!1),/^[A-Za-z0-9+/]+$/.test(P.substr(0,P.length-2))===!1&&(O=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(P.substr(-2))===!1&&(O=!1),O},C=e.__addimage__.extractImageFromDataUrl=function(P){if(P==null||!(P=P.trim()).startsWith("data:"))return null;var O=P.indexOf(",");return O<0?null:P.substring(0,O).trim().endsWith("base64")?P.substring(O+1):null},E=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(P){return E()&&P instanceof ArrayBuffer};var D=e.__addimage__.isArrayBufferView=function(P){return E()&&typeof Uint32Array<"u"&&(P instanceof Int8Array||P instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&P instanceof Uint8ClampedArray||P instanceof Int16Array||P instanceof Uint16Array||P instanceof Int32Array||P instanceof Uint32Array||P instanceof Float32Array||P instanceof Float64Array)},T=e.__addimage__.binaryStringToUint8Array=function(P){for(var O=P.length,j=new Uint8Array(O),G=0;G<O;G++)j[G]=P.charCodeAt(G);return j},I=e.__addimage__.arrayBufferToBinaryString=function(P){for(var O="",j=D(P)?P:new Uint8Array(P),G=0;G<j.length;G+=8192)O+=String.fromCharCode.apply(null,j.subarray(G,G+8192));return O};e.addImage=function(){var P,O,j,G,Y,re,q,K,z;if(typeof arguments[1]=="number"?(O=t,j=arguments[1],G=arguments[2],Y=arguments[3],re=arguments[4],q=arguments[5],K=arguments[6],z=arguments[7]):(O=arguments[1],j=arguments[2],G=arguments[3],Y=arguments[4],re=arguments[5],q=arguments[6],K=arguments[7],z=arguments[8]),ba(P=arguments[0])==="object"&&!f(P)&&"imageData"in P){var te=P;P=te.imageData,O=te.format||O||t,j=te.x||j||0,G=te.y||G||0,Y=te.w||te.width||Y,re=te.h||te.height||re,q=te.alias||q,K=te.compression||K,z=te.rotation||te.angle||z}var Q=this.internal.getFilters();if(K===void 0&&Q.indexOf("FlateEncode")!==-1&&(K="SLOW"),isNaN(j)||isNaN(G))throw new Error("Invalid coordinates passed to jsPDF.addImage");s.call(this);var R=L.call(this,P,O,q,K);return g.call(this,j,G,Y,re,R,z),this};var L=function(P,O,j,G){var Y,re,q;if(typeof P=="string"&&n(P)===t){P=unescape(P);var K=B(P,!1);(K!==""||(K=e.loadFile(P,!0))!==void 0)&&(P=K)}if(f(P)&&(P=h(P,O)),O=n(P,O),!d(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(((q=j)==null||q.length===0)&&(j=function(z){return typeof z=="string"||D(z)?b(z):D(z.data)?b(z.data):null}(P)),(Y=m.call(this,j))||(E()&&(P instanceof Uint8Array||O==="RGBA"||(re=P,P=T(P))),Y=this["process"+O.toUpperCase()](P,u.call(this),j,function(z){return z&&typeof z=="string"&&(z=z.toUpperCase()),z in e.image_compression?z:_.NONE}(G),re)),!Y)throw new Error("An unknown error occurred whilst processing the image.");return Y},B=e.__addimage__.convertBase64ToBinaryString=function(P,O){O=typeof O!="boolean"||O;var j,G="";if(typeof P=="string"){var Y;j=(Y=C(P))!==null&&Y!==void 0?Y:P;try{G=Y2(j)}catch(re){if(O)throw S(j)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+re.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return G};e.getImageProperties=function(P){var O,j,G="";if(f(P)&&(P=h(P)),typeof P=="string"&&n(P)===t&&((G=B(P,!1))===""&&(G=e.loadFile(P)||""),P=G),j=n(P),!d(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(!E()||P instanceof Uint8Array||(P=T(P)),!(O=this["process"+j.toUpperCase()](P)))throw new Error("An unknown error occurred whilst processing the image");return O.fileType=j,O}})($r.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};$r.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,i,o=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,f=0;f<u.length&&!d;f++)switch((n=u[f]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var h=0;h<u.length;h++){n=u[h];var m=this.internal.pdfEscape,x=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),y=this.internal.newAdditionalObject(),_=this.internal.getEncryptor(g.objId),b=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+o(n.bounds.x)+" "+s(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+s(n.bounds.y)+"] ")+"/Contents ("+m(_(n.contents))+")",i+=" /Popup "+y.objId+" 0 R",i+=" /P "+l.objId+" 0 R",i+=" /T ("+m(_(b))+") >>",g.content=i;var S=g.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+o(n.bounds.x+30)+" "+s(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+s(n.bounds.y)+"] ")+" /Parent "+S,n.open&&(i+=" /Open true"),i+=" >>",y.content=i,this.internal.write(g.objId,"0 R",y.objId,"0 R");break;case"freetext":a="/Rect ["+o(n.bounds.x)+" "+s(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+s(n.bounds.y+n.bounds.h)+"] ";var C=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+m(x(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+C+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var E=this.annotations._nameMap[n.options.name];n.options.pageNumber=E.page,n.options.top=E.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+m(x(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var D=s(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+D+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,i,o){var s=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;s.pageContext.annotations.push({finalBounds:{x:l(r),y:u(n),w:l(r+a),h:u(n+i)},options:o,type:"link"})},e.textWithLink=function(r,n,a,i){var o,s,l=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){s=i.maxWidth;var d=this.splitTextToSize(r,s).length;o=Math.ceil(u*d)}else s=l,o=u;return this.text(r,n,a,i),a+=.2*u,i.align==="center"&&(n-=l/2),i.align==="right"&&(n-=l),this.link(n,a-u,s,o,i),l},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}($r.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(g){return t[g.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},s=e.__arabicParser__.isArabicEndLetter=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(g){return o(g)&&a.indexOf(g.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(g){var y=0,_=r,b="",S=0;for(y=0;y<g.length;y+=1)_[g.charCodeAt(y)]!==void 0?(S++,typeof(_=_[g.charCodeAt(y)])=="number"&&(b+=String.fromCharCode(_),_=r,S=0),y===g.length-1&&(_=r,b+=g.charAt(y-(S-1)),y-=S-1,S=0)):(_=r,b+=g.charAt(y-S),y-=S,S=0);return b};e.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&n[g.charCodeAt(0)]!==void 0};var h=e.__arabicParser__.getCorrectForm=function(g,y,_){return o(g)?i(g)===!1?-1:!u(g)||!o(y)&&!o(_)||!o(_)&&s(y)||s(g)&&!o(y)||s(g)&&l(y)||s(g)&&s(y)?0:d(g)&&o(y)&&!s(y)&&o(_)&&u(_)?3:s(g)||!o(_)?1:2:-1},m=function(g){var y=0,_=0,b=0,S="",C="",E="",D=(g=g||"").split("\\s+"),T=[];for(y=0;y<D.length;y+=1){for(T.push(""),_=0;_<D[y].length;_+=1)S=D[y][_],C=D[y][_-1],E=D[y][_+1],o(S)?(b=h(S,C,E),T[y]+=b!==-1?String.fromCharCode(t[S.charCodeAt(0)][b]):S):T[y]+=S;T[y]=f(T[y])}return T.join(" ")},x=e.__arabicParser__.processArabic=e.processArabic=function(){var g,y=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,_=[];if(Array.isArray(y)){var b=0;for(_=[],b=0;b<y.length;b+=1)Array.isArray(y[b])?_.push([m(y[b][0]),y[b][1],y[b][2]]):_.push([m(y[b])]);g=_}else g=m(y);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};e.events.push(["preProcessText",x])}($r.API),$r.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(s){r=s}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(s){n=isNaN(s)||Number.isInteger(s)===!1||s<0?150:s,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(s){a=isNaN(s)||Number.isInteger(s)===!1||s<0?300:s,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(s){i=s}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(s){o=s}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}($r.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(g){l=g}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(g){m=g}});var x=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return x},set:function(g){x=g}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),h=u.scaleFactor||this.internal.scaleFactor,m=0,x=0,g=0,y=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var _=u.maxWidth;_>0?typeof l=="string"?l=this.splitTextToSize(l,_):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(S,C){return S.concat(y.splitTextToSize(C,_))},[])):l=Array.isArray(l)?l:[l];for(var b=0;b<l.length;b++)m<(g=this.getStringUnitWidth(l[b],{font:f})*d)&&(m=g);return m!==0&&(x=l.length),{w:m/=h,h:Math.max((x*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/h,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var l;l=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,h=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,m&&h&&(this.printHeaderRow(l.lineNumber,!0),l.y+=h[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-d,l.y+d,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+d,{align:"center",baseline:"top",maxWidth:l.width-d-d}):this.text(l.text,l.x+d,l.y+d,{align:"left",baseline:"top",maxWidth:l.width-d-d})),this.internal.__cell__.lastCell=l,this};e.table=function(l,u,d,f,h){if(n.call(this),!d)throw new Error("No data for PDF table.");var m,x,g,y,_=[],b=[],S=[],C={},E={},D=[],T=[],I=(h=h||{}).autoSize||!1,L=h.printHeaders!==!1,B=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,P=h.margins||Object.assign({width:this.getPageWidth()},t),O=typeof h.padding=="number"?h.padding:3,j=h.headerBackgroundColor||"#c8c8c8",G=h.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=L,this.internal.__cell__.margins=P,this.internal.__cell__.table_font_size=B,this.internal.__cell__.padding=O,this.internal.__cell__.headerBackgroundColor=j,this.internal.__cell__.headerTextColor=G,this.setFontSize(B),f==null)b=_=Object.keys(d[0]),S=_.map(function(){return"left"});else if(Array.isArray(f)&&ba(f[0])==="object")for(_=f.map(function(te){return te.name}),b=f.map(function(te){return te.prompt||te.name||""}),S=f.map(function(te){return te.align||"left"}),m=0;m<f.length;m+=1)E[f[m].name]=f[m].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(b=_=f,S=_.map(function(){return"left"}));if(I||Array.isArray(f)&&typeof f[0]=="string")for(m=0;m<_.length;m+=1){for(C[y=_[m]]=d.map(function(te){return te[y]}),this.setFont(void 0,"bold"),D.push(this.getTextDimensions(b[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),x=C[y],this.setFont(void 0,"normal"),g=0;g<x.length;g+=1)D.push(this.getTextDimensions(x[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);E[y]=Math.max.apply(null,D)+O+O,D=[]}if(L){var Y={};for(m=0;m<_.length;m+=1)Y[_[m]]={},Y[_[m]].text=b[m],Y[_[m]].align=S[m];var re=s.call(this,Y,E);T=_.map(function(te){return new i(l,u,E[te],re,Y[te].text,void 0,Y[te].align)}),this.setTableHeaderRow(T),this.printHeaderRow(1,!1)}var q=f.reduce(function(te,Q){return te[Q.name]=Q.align,te},{});for(m=0;m<d.length;m+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:m,data:d[m]},this);var K=s.call(this,d[m],E);for(g=0;g<_.length;g+=1){var z=d[m][_[g]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:m,col:g,data:z},this),o.call(this,new i(l,u,E[_[g]],K,z,m+2,q[_[g]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var s=function(l,u){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(l).map(function(m){var x=l[m];return this.splitTextToSize(x.hasOwnProperty("text")?x.text:x,u[m]-d-d)},this).map(function(m){return this.getLineHeightFactor()*m.length*f/h+d+d},this).reduce(function(m,x){return Math.max(m,x)},0)};e.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){d=this.internal.__cell__.tableHeaderRow[m].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,h.push(d)),d.lineNumber=l;var x=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(x)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),r=!1}}($r.API);var gie={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},vie=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],S8=mie(vie),yie=[100,200,300,400,500,600,700,800,900],pHe=mie(yie);function A8(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return gie[i=i||"normal"]?i:"normal"}(e.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(e.weight),a=function(i){return typeof S8[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function oH(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var mHe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},sH={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function lH(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function gHe(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},mHe,r.genericFontFamilies||{}),i=null,o=null,s=0;s<t.length;++s)if(a[(i=A8(t[s])).family]&&(i.family=a[i.family]),e.hasOwnProperty(i.family)){o=e[i.family];break}if(!(o=o||e[n]))throw new Error("Could not find a font-family for the rule '"+lH(i)+"' and default family '"+n+"'.");if(o=function(l,u){if(u[l])return u[l];var d=S8[l],f=d<=S8.normal?-1:1,h=oH(u,vie,d,f);if(!h)throw new Error("Could not find a matching font-stretch value for "+l);return h}(i.stretch,o),o=function(l,u){if(u[l])return u[l];for(var d=gie[l],f=0;f<d.length;++f)if(u[d[f]])return u[d[f]];throw new Error("Could not find a matching font-style for "+l)}(i.style,o),!(o=function(l,u){if(u[l])return u[l];if(l===400&&u[500])return u[500];if(l===500&&u[400])return u[400];var d=pHe[l],f=oH(u,yie,d,l<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+l);return f}(i.weight,o)))throw new Error("Failed to resolve a font for the rule '"+lH(i)+"'.");return o}function cH(e){return e.trimLeft()}function vHe(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function yHe(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Ib,uH,dH,sP=["times"];(function(e){var t,r,n,a,i,o,s,l,u,d=function(R){return R=R||{},this.isStrokeTransparent=R.isStrokeTransparent||!1,this.strokeOpacity=R.strokeOpacity||1,this.strokeStyle=R.strokeStyle||"#000000",this.fillStyle=R.fillStyle||"#000000",this.isFillTransparent=R.isFillTransparent||!1,this.fillOpacity=R.fillOpacity||1,this.font=R.font||"10px sans-serif",this.textBaseline=R.textBaseline||"alphabetic",this.textAlign=R.textAlign||"left",this.lineWidth=R.lineWidth||1,this.lineJoin=R.lineJoin||"miter",this.lineCap=R.lineCap||"butt",this.path=R.path||[],this.transform=R.transform!==void 0?R.transform.clone():new l,this.globalCompositeOperation=R.globalCompositeOperation||"normal",this.globalAlpha=R.globalAlpha||1,this.clip_path=R.clip_path||[],this.currentPoint=R.currentPoint||new o,this.miterLimit=R.miterLimit||10,this.lastPoint=R.lastPoint||new o,this.lineDashOffset=R.lineDashOffset||0,this.lineDash=R.lineDash||[],this.margin=R.margin||[0,0,0,0],this.prevPageLastElemOffset=R.prevPageLastElemOffset||0,this.ignoreClearRect=typeof R.ignoreClearRect!="boolean"||R.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,s=this.internal.Rectangle,l=this.internal.Matrix,u=new d}]);var f=function(R){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var H=R;Object.defineProperty(this,"pdf",{get:function(){return H}});var X=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return X},set:function(Ie){X=!!Ie}});var Z=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Z},set:function(Ie){Z=!!Ie}});var ie=0;Object.defineProperty(this,"posX",{get:function(){return ie},set:function(Ie){isNaN(Ie)||(ie=Ie)}});var le=0;Object.defineProperty(this,"posY",{get:function(){return le},set:function(Ie){isNaN(Ie)||(le=Ie)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(Ie){var he;typeof Ie=="number"?he=[Ie,Ie,Ie,Ie]:((he=new Array(4))[0]=Ie[0],he[1]=Ie.length>=2?Ie[1]:he[0],he[2]=Ie.length>=3?Ie[2]:he[0],he[3]=Ie.length>=4?Ie[3]:he[1]),u.margin=he}});var pe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return pe},set:function(Ie){pe=Ie}});var J=0;Object.defineProperty(this,"lastBreak",{get:function(){return J},set:function(Ie){J=Ie}});var me=[];Object.defineProperty(this,"pageBreaks",{get:function(){return me},set:function(Ie){me=Ie}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(Ie){Ie instanceof d&&(u=Ie)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(Ie){u.path=Ie}});var ve=[];Object.defineProperty(this,"ctxStack",{get:function(){return ve},set:function(Ie){ve=Ie}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ie){var he;he=h(Ie),this.ctx.fillStyle=he.style,this.ctx.isFillTransparent=he.a===0,this.ctx.fillOpacity=he.a,this.pdf.setFillColor(he.r,he.g,he.b,{a:he.a}),this.pdf.setTextColor(he.r,he.g,he.b,{a:he.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ie){var he=h(Ie);this.ctx.strokeStyle=he.style,this.ctx.isStrokeTransparent=he.a===0,this.ctx.strokeOpacity=he.a,he.a===0?this.pdf.setDrawColor(255,255,255):(he.a,this.pdf.setDrawColor(he.r,he.g,he.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ie){["butt","round","square"].indexOf(Ie)!==-1&&(this.ctx.lineCap=Ie,this.pdf.setLineCap(Ie))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ie){isNaN(Ie)||(this.ctx.lineWidth=Ie,this.pdf.setLineWidth(Ie))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ie){["bevel","round","miter"].indexOf(Ie)!==-1&&(this.ctx.lineJoin=Ie,this.pdf.setLineJoin(Ie))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ie){isNaN(Ie)||(this.ctx.miterLimit=Ie,this.pdf.setMiterLimit(Ie))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ie){this.ctx.textBaseline=Ie}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ie){["right","end","center","left","start"].indexOf(Ie)!==-1&&(this.ctx.textAlign=Ie)}});var ae=null;function Ue(Ie,he){if(ae===null){var Ze=function(pt){var ht=[];return Object.keys(pt).forEach(function(Pt){pt[Pt].forEach(function(st){var xe=null;switch(st){case"bold":xe={family:Pt,weight:"bold"};break;case"italic":xe={family:Pt,style:"italic"};break;case"bolditalic":xe={family:Pt,weight:"bold",style:"italic"};break;case"":case"normal":xe={family:Pt}}xe!==null&&(xe.ref={name:Pt,style:st},ht.push(xe))})}),ht}(Ie.getFontList());ae=function(pt){for(var ht={},Pt=0;Pt<pt.length;++Pt){var st=A8(pt[Pt]),xe=st.family,Ee=st.stretch,We=st.style,ft=st.weight;ht[xe]=ht[xe]||{},ht[xe][Ee]=ht[xe][Ee]||{},ht[xe][Ee][We]=ht[xe][Ee][We]||{},ht[xe][Ee][We][ft]=st}return ht}(Ze.concat(he))}return ae}var He=null;Object.defineProperty(this,"fontFaces",{get:function(){return He},set:function(Ie){ae=null,He=Ie}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ie){var he;if(this.ctx.font=Ie,(he=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ie))!==null){var Ze=he[1];he[2];var pt=he[3],ht=he[4];he[5];var Pt=he[6],st=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ht)[2];ht=Math.floor(st==="px"?parseFloat(ht)*this.pdf.internal.scaleFactor:st==="em"?parseFloat(ht)*this.pdf.getFontSize():parseFloat(ht)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ht);var xe=function(_t){var At,ct,br=[],er=_t.trim();if(er==="")return sP;if(er in sH)return[sH[er]];for(;er!=="";){switch(ct=null,At=(er=cH(er)).charAt(0)){case'"':case"'":ct=vHe(er.substring(1),At);break;default:ct=yHe(er)}if(ct===null||(br.push(ct[0]),(er=cH(ct[1]))!==""&&er.charAt(0)!==","))return sP;er=er.replace(/^,/,"")}return br}(Pt);if(this.fontFaces){var Ee=gHe(Ue(this.pdf,this.fontFaces),xe.map(function(_t){return{family:_t,stretch:"normal",weight:pt,style:Ze}}));this.pdf.setFont(Ee.ref.name,Ee.ref.style)}else{var We="";(pt==="bold"||parseInt(pt,10)>=700||Ze==="bold")&&(We="bold"),Ze==="italic"&&(We+="italic"),We.length===0&&(We="normal");for(var ft="",mt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},De=0;De<xe.length;De++){if(this.pdf.internal.getFont(xe[De],We,{noFallback:!0,disableWarning:!0})!==void 0){ft=xe[De];break}if(We==="bolditalic"&&this.pdf.internal.getFont(xe[De],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ft=xe[De],We="bold";else if(this.pdf.internal.getFont(xe[De],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ft=xe[De],We="normal";break}}if(ft===""){for(var Ve=0;Ve<xe.length;Ve++)if(mt[xe[Ve]]){ft=mt[xe[Ve]];break}}ft=ft===""?"Times":ft,this.pdf.setFont(ft,We)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ie){this.ctx.globalCompositeOperation=Ie}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ie){this.ctx.globalAlpha=Ie}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ie){this.ctx.lineDashOffset=Ie,Q.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ie){this.ctx.lineDash=Ie,Q.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ie){this.ctx.ignoreClearRect=!!Ie}})};f.prototype.setLineDash=function(R){this.lineDash=R},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){C.call(this,"fill",!1)},f.prototype.stroke=function(){C.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(R,H){if(isNaN(R)||isNaN(H))throw Na.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var X=this.ctx.transform.applyToPoint(new o(R,H));this.path.push({type:"mt",x:X.x,y:X.y}),this.ctx.lastPoint=new o(R,H)},f.prototype.closePath=function(){var R=new o(0,0),H=0;for(H=this.path.length-1;H!==-1;H--)if(this.path[H].type==="begin"&&ba(this.path[H+1])==="object"&&typeof this.path[H+1].x=="number"){R=new o(this.path[H+1].x,this.path[H+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(R.x,R.y)},f.prototype.lineTo=function(R,H){if(isNaN(R)||isNaN(H))throw Na.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var X=this.ctx.transform.applyToPoint(new o(R,H));this.path.push({type:"lt",x:X.x,y:X.y}),this.ctx.lastPoint=new o(X.x,X.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),C.call(this,null,!0)},f.prototype.quadraticCurveTo=function(R,H,X,Z){if(isNaN(X)||isNaN(Z)||isNaN(R)||isNaN(H))throw Na.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ie=this.ctx.transform.applyToPoint(new o(X,Z)),le=this.ctx.transform.applyToPoint(new o(R,H));this.path.push({type:"qct",x1:le.x,y1:le.y,x:ie.x,y:ie.y}),this.ctx.lastPoint=new o(ie.x,ie.y)},f.prototype.bezierCurveTo=function(R,H,X,Z,ie,le){if(isNaN(ie)||isNaN(le)||isNaN(R)||isNaN(H)||isNaN(X)||isNaN(Z))throw Na.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var pe=this.ctx.transform.applyToPoint(new o(ie,le)),J=this.ctx.transform.applyToPoint(new o(R,H)),me=this.ctx.transform.applyToPoint(new o(X,Z));this.path.push({type:"bct",x1:J.x,y1:J.y,x2:me.x,y2:me.y,x:pe.x,y:pe.y}),this.ctx.lastPoint=new o(pe.x,pe.y)},f.prototype.arc=function(R,H,X,Z,ie,le){if(isNaN(R)||isNaN(H)||isNaN(X)||isNaN(Z)||isNaN(ie))throw Na.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(le=!!le,!this.ctx.transform.isIdentity){var pe=this.ctx.transform.applyToPoint(new o(R,H));R=pe.x,H=pe.y;var J=this.ctx.transform.applyToPoint(new o(0,X)),me=this.ctx.transform.applyToPoint(new o(0,0));X=Math.sqrt(Math.pow(J.x-me.x,2)+Math.pow(J.y-me.y,2))}Math.abs(ie-Z)>=2*Math.PI&&(Z=0,ie=2*Math.PI),this.path.push({type:"arc",x:R,y:H,radius:X,startAngle:Z,endAngle:ie,counterclockwise:le})},f.prototype.arcTo=function(R,H,X,Z,ie){throw new Error("arcTo not implemented.")},f.prototype.rect=function(R,H,X,Z){if(isNaN(R)||isNaN(H)||isNaN(X)||isNaN(Z))throw Na.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(R,H),this.lineTo(R+X,H),this.lineTo(R+X,H+Z),this.lineTo(R,H+Z),this.lineTo(R,H),this.lineTo(R+X,H),this.lineTo(R,H)},f.prototype.fillRect=function(R,H,X,Z){if(isNaN(R)||isNaN(H)||isNaN(X)||isNaN(Z))throw Na.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var ie={};this.lineCap!=="butt"&&(ie.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ie.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(R,H,X,Z),this.fill(),ie.hasOwnProperty("lineCap")&&(this.lineCap=ie.lineCap),ie.hasOwnProperty("lineJoin")&&(this.lineJoin=ie.lineJoin)}},f.prototype.strokeRect=function(R,H,X,Z){if(isNaN(R)||isNaN(H)||isNaN(X)||isNaN(Z))throw Na.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");x.call(this)||(this.beginPath(),this.rect(R,H,X,Z),this.stroke())},f.prototype.clearRect=function(R,H,X,Z){if(isNaN(R)||isNaN(H)||isNaN(X)||isNaN(Z))throw Na.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(R,H,X,Z))},f.prototype.save=function(R){R=typeof R!="boolean"||R;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("q");if(this.pdf.setPage(H),R){this.ctx.fontSize=this.pdf.internal.getFontSize();var Z=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Z}},f.prototype.restore=function(R){R=typeof R!="boolean"||R;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("Q");this.pdf.setPage(H),R&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(R){var H,X,Z,ie;if(R.isCanvasGradient===!0&&(R=R.getColor()),!R)return{r:0,g:0,b:0,a:0,style:R};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(R))H=0,X=0,Z=0,ie=0;else{var le=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(R);if(le!==null)H=parseInt(le[1]),X=parseInt(le[2]),Z=parseInt(le[3]),ie=1;else if((le=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(R))!==null)H=parseInt(le[1]),X=parseInt(le[2]),Z=parseInt(le[3]),ie=parseFloat(le[4]);else{if(ie=1,typeof R=="string"&&R.charAt(0)!=="#"){var pe=new cie(R);R=pe.ok?pe.toHex():"#000000"}R.length===4?(H=R.substring(1,2),H+=H,X=R.substring(2,3),X+=X,Z=R.substring(3,4),Z+=Z):(H=R.substring(1,3),X=R.substring(3,5),Z=R.substring(5,7)),H=parseInt(H,16),X=parseInt(X,16),Z=parseInt(Z,16)}}return{r:H,g:X,b:Z,a:ie,style:R}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},x=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(R,H,X,Z){if(isNaN(H)||isNaN(X)||typeof R!="string")throw Na.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Z=isNaN(Z)?void 0:Z,!m.call(this)){var ie=K(this.ctx.transform.rotation),le=this.ctx.transform.scaleX;O.call(this,{text:R,x:H,y:X,scale:le,angle:ie,align:this.textAlign,maxWidth:Z})}},f.prototype.strokeText=function(R,H,X,Z){if(isNaN(H)||isNaN(X)||typeof R!="string")throw Na.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!x.call(this)){Z=isNaN(Z)?void 0:Z;var ie=K(this.ctx.transform.rotation),le=this.ctx.transform.scaleX;O.call(this,{text:R,x:H,y:X,scale:le,renderingMode:"stroke",angle:ie,align:this.textAlign,maxWidth:Z})}},f.prototype.measureText=function(R){if(typeof R!="string")throw Na.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var H=this.pdf,X=this.pdf.internal.scaleFactor,Z=H.internal.getFontSize(),ie=H.getStringUnitWidth(R)*Z/H.internal.scaleFactor,le=function(pe){var J=(pe=pe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return J}}),this};return new le({width:ie*=Math.round(96*X/72*1e4)/1e4})},f.prototype.scale=function(R,H){if(isNaN(R)||isNaN(H))throw Na.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var X=new l(R,0,0,H,0,0);this.ctx.transform=this.ctx.transform.multiply(X)},f.prototype.rotate=function(R){if(isNaN(R))throw Na.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var H=new l(Math.cos(R),Math.sin(R),-Math.sin(R),Math.cos(R),0,0);this.ctx.transform=this.ctx.transform.multiply(H)},f.prototype.translate=function(R,H){if(isNaN(R)||isNaN(H))throw Na.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var X=new l(1,0,0,1,R,H);this.ctx.transform=this.ctx.transform.multiply(X)},f.prototype.transform=function(R,H,X,Z,ie,le){if(isNaN(R)||isNaN(H)||isNaN(X)||isNaN(Z)||isNaN(ie)||isNaN(le))throw Na.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var pe=new l(R,H,X,Z,ie,le);this.ctx.transform=this.ctx.transform.multiply(pe)},f.prototype.setTransform=function(R,H,X,Z,ie,le){R=isNaN(R)?1:R,H=isNaN(H)?0:H,X=isNaN(X)?0:X,Z=isNaN(Z)?1:Z,ie=isNaN(ie)?0:ie,le=isNaN(le)?0:le,this.ctx.transform=new l(R,H,X,Z,ie,le)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(R,H,X,Z,ie,le,pe,J,me){var ve=this.pdf.getImageProperties(R),ae=1,Ue=1,He=1,Ie=1;Z!==void 0&&J!==void 0&&(He=J/Z,Ie=me/ie,ae=ve.width/Z*J/Z,Ue=ve.height/ie*me/ie),le===void 0&&(le=H,pe=X,H=0,X=0),Z!==void 0&&J===void 0&&(J=Z,me=ie),Z===void 0&&J===void 0&&(J=ve.width,me=ve.height);for(var he,Ze=this.ctx.transform.decompose(),pt=K(Ze.rotate.shx),ht=new l,Pt=(ht=(ht=(ht=ht.multiply(Ze.translate)).multiply(Ze.skew)).multiply(Ze.scale)).applyToRectangle(new s(le-H*He,pe-X*Ie,Z*ae,ie*Ue)),st=y.call(this,Pt),xe=[],Ee=0;Ee<st.length;Ee+=1)xe.indexOf(st[Ee])===-1&&xe.push(st[Ee]);if(S(xe),this.autoPaging)for(var We=xe[0],ft=xe[xe.length-1],mt=We;mt<ft+1;mt++){this.pdf.setPage(mt);var De=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ve=mt===1?this.posY+this.margin[0]:this.margin[0],_t=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],At=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ct=mt===1?0:_t+(mt-2)*At;if(this.ctx.clip_path.length!==0){var br=this.path;he=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(he,this.posX+this.margin[3],-ct+Ve+this.ctx.prevPageLastElemOffset),E.call(this,"fill",!0),this.path=br}var er=JSON.parse(JSON.stringify(Pt));er=b([er],this.posX+this.margin[3],-ct+Ve+this.ctx.prevPageLastElemOffset)[0];var en=(mt>We||mt<ft)&&g.call(this);en&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],De,At,null).clip().discardPath()),this.pdf.addImage(R,"JPEG",er.x,er.y,er.w,er.h,null,null,pt),en&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(R,"JPEG",Pt.x,Pt.y,Pt.w,Pt.h,null,null,pt)};var y=function(R,H,X){var Z=[];H=H||this.pdf.internal.pageSize.width,X=X||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ie=this.posY+this.ctx.prevPageLastElemOffset;switch(R.type){default:case"mt":case"lt":Z.push(Math.floor((R.y+ie)/X)+1);break;case"arc":Z.push(Math.floor((R.y+ie-R.radius)/X)+1),Z.push(Math.floor((R.y+ie+R.radius)/X)+1);break;case"qct":var le=z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x,R.y);Z.push(Math.floor((le.y+ie)/X)+1),Z.push(Math.floor((le.y+le.h+ie)/X)+1);break;case"bct":var pe=te(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x2,R.y2,R.x,R.y);Z.push(Math.floor((pe.y+ie)/X)+1),Z.push(Math.floor((pe.y+pe.h+ie)/X)+1);break;case"rect":Z.push(Math.floor((R.y+ie)/X)+1),Z.push(Math.floor((R.y+R.h+ie)/X)+1)}for(var J=0;J<Z.length;J+=1)for(;this.pdf.internal.getNumberOfPages()<Z[J];)_.call(this);return Z},_=function(){var R=this.fillStyle,H=this.strokeStyle,X=this.font,Z=this.lineCap,ie=this.lineWidth,le=this.lineJoin;this.pdf.addPage(),this.fillStyle=R,this.strokeStyle=H,this.font=X,this.lineCap=Z,this.lineWidth=ie,this.lineJoin=le},b=function(R,H,X){for(var Z=0;Z<R.length;Z++)switch(R[Z].type){case"bct":R[Z].x2+=H,R[Z].y2+=X;case"qct":R[Z].x1+=H,R[Z].y1+=X;case"mt":case"lt":case"arc":default:R[Z].x+=H,R[Z].y+=X}return R},S=function(R){return R.sort(function(H,X){return H-X})},C=function(R,H){for(var X,Z,ie=this.fillStyle,le=this.strokeStyle,pe=this.lineCap,J=this.lineWidth,me=Math.abs(J*this.ctx.transform.scaleX),ve=this.lineJoin,ae=JSON.parse(JSON.stringify(this.path)),Ue=JSON.parse(JSON.stringify(this.path)),He=[],Ie=0;Ie<Ue.length;Ie++)if(Ue[Ie].x!==void 0)for(var he=y.call(this,Ue[Ie]),Ze=0;Ze<he.length;Ze+=1)He.indexOf(he[Ze])===-1&&He.push(he[Ze]);for(var pt=0;pt<He.length;pt++)for(;this.pdf.internal.getNumberOfPages()<He[pt];)_.call(this);if(S(He),this.autoPaging)for(var ht=He[0],Pt=He[He.length-1],st=ht;st<Pt+1;st++){this.pdf.setPage(st),this.fillStyle=ie,this.strokeStyle=le,this.lineCap=pe,this.lineWidth=me,this.lineJoin=ve;var xe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ee=st===1?this.posY+this.margin[0]:this.margin[0],We=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ft=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],mt=st===1?0:We+(st-2)*ft;if(this.ctx.clip_path.length!==0){var De=this.path;X=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(X,this.posX+this.margin[3],-mt+Ee+this.ctx.prevPageLastElemOffset),E.call(this,R,!0),this.path=De}if(Z=JSON.parse(JSON.stringify(ae)),this.path=b(Z,this.posX+this.margin[3],-mt+Ee+this.ctx.prevPageLastElemOffset),H===!1||st===0){var Ve=(st>ht||st<Pt)&&g.call(this);Ve&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],xe,ft,null).clip().discardPath()),E.call(this,R,H),Ve&&this.pdf.restoreGraphicsState()}this.lineWidth=J}else this.lineWidth=me,E.call(this,R,H),this.lineWidth=J;this.path=ae},E=function(R,H){if((R!=="stroke"||H||!x.call(this))&&(R==="stroke"||H||!m.call(this))){for(var X,Z,ie=[],le=this.path,pe=0;pe<le.length;pe++){var J=le[pe];switch(J.type){case"begin":ie.push({begin:!0});break;case"close":ie.push({close:!0});break;case"mt":ie.push({start:J,deltas:[],abs:[]});break;case"lt":var me=ie.length;if(le[pe-1]&&!isNaN(le[pe-1].x)&&(X=[J.x-le[pe-1].x,J.y-le[pe-1].y],me>0)){for(;me>=0;me--)if(ie[me-1].close!==!0&&ie[me-1].begin!==!0){ie[me-1].deltas.push(X),ie[me-1].abs.push(J);break}}break;case"bct":X=[J.x1-le[pe-1].x,J.y1-le[pe-1].y,J.x2-le[pe-1].x,J.y2-le[pe-1].y,J.x-le[pe-1].x,J.y-le[pe-1].y],ie[ie.length-1].deltas.push(X);break;case"qct":var ve=le[pe-1].x+2/3*(J.x1-le[pe-1].x),ae=le[pe-1].y+2/3*(J.y1-le[pe-1].y),Ue=J.x+2/3*(J.x1-J.x),He=J.y+2/3*(J.y1-J.y),Ie=J.x,he=J.y;X=[ve-le[pe-1].x,ae-le[pe-1].y,Ue-le[pe-1].x,He-le[pe-1].y,Ie-le[pe-1].x,he-le[pe-1].y],ie[ie.length-1].deltas.push(X);break;case"arc":ie.push({deltas:[],abs:[],arc:!0}),Array.isArray(ie[ie.length-1].abs)&&ie[ie.length-1].abs.push(J)}}Z=H?null:R==="stroke"?"stroke":"fill";for(var Ze=!1,pt=0;pt<ie.length;pt++)if(ie[pt].arc)for(var ht=ie[pt].abs,Pt=0;Pt<ht.length;Pt++){var st=ht[Pt];st.type==="arc"?I.call(this,st.x,st.y,st.radius,st.startAngle,st.endAngle,st.counterclockwise,void 0,H,!Ze):j.call(this,st.x,st.y),Ze=!0}else if(ie[pt].close===!0)this.pdf.internal.out("h"),Ze=!1;else if(ie[pt].begin!==!0){var xe=ie[pt].start.x,Ee=ie[pt].start.y;G.call(this,ie[pt].deltas,xe,Ee),Ze=!0}Z&&L.call(this,Z),H&&B.call(this)}},D=function(R){var H=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,X=H*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return R-X;case"top":return R+H-X;case"hanging":return R+H-2*X;case"middle":return R+H/2-X;case"ideographic":return R;case"alphabetic":default:return R}},T=function(R){return R+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var R=function(){};return R.colorStops=[],R.addColorStop=function(H,X){this.colorStops.push([H,X])},R.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},R.isCanvasGradient=!0,R},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var I=function(R,H,X,Z,ie,le,pe,J,me){for(var ve=re.call(this,X,Z,ie,le),ae=0;ae<ve.length;ae++){var Ue=ve[ae];ae===0&&(me?P.call(this,Ue.x1+R,Ue.y1+H):j.call(this,Ue.x1+R,Ue.y1+H)),Y.call(this,R,H,Ue.x2,Ue.y2,Ue.x3,Ue.y3,Ue.x4,Ue.y4)}J?B.call(this):L.call(this,pe)},L=function(R){switch(R){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},B=function(){this.pdf.clip(),this.pdf.discardPath()},P=function(R,H){this.pdf.internal.out(r(R)+" "+n(H)+" m")},O=function(R){var H;switch(R.align){case"right":case"end":H="right";break;case"center":H="center";break;case"left":case"start":default:H="left"}var X=this.pdf.getTextDimensions(R.text),Z=D.call(this,R.y),ie=T.call(this,Z)-X.h,le=this.ctx.transform.applyToPoint(new o(R.x,Z)),pe=this.ctx.transform.decompose(),J=new l;J=(J=(J=J.multiply(pe.translate)).multiply(pe.skew)).multiply(pe.scale);for(var me,ve,ae,Ue=this.ctx.transform.applyToRectangle(new s(R.x,Z,X.w,X.h)),He=J.applyToRectangle(new s(R.x,ie,X.w,X.h)),Ie=y.call(this,He),he=[],Ze=0;Ze<Ie.length;Ze+=1)he.indexOf(Ie[Ze])===-1&&he.push(Ie[Ze]);if(S(he),this.autoPaging)for(var pt=he[0],ht=he[he.length-1],Pt=pt;Pt<ht+1;Pt++){this.pdf.setPage(Pt);var st=Pt===1?this.posY+this.margin[0]:this.margin[0],xe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ee=this.pdf.internal.pageSize.height-this.margin[2],We=Ee-this.margin[0],ft=this.pdf.internal.pageSize.width-this.margin[1],mt=ft-this.margin[3],De=Pt===1?0:xe+(Pt-2)*We;if(this.ctx.clip_path.length!==0){var Ve=this.path;me=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(me,this.posX+this.margin[3],-1*De+st),E.call(this,"fill",!0),this.path=Ve}var _t=b([JSON.parse(JSON.stringify(He))],this.posX+this.margin[3],-De+st+this.ctx.prevPageLastElemOffset)[0];R.scale>=.01&&(ve=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ve*R.scale),ae=this.lineWidth,this.lineWidth=ae*R.scale);var At=this.autoPaging!=="text";if(At||_t.y+_t.h<=Ee){if(At||_t.y>=st&&_t.x<=ft){var ct=At?R.text:this.pdf.splitTextToSize(R.text,R.maxWidth||ft-_t.x)[0],br=b([JSON.parse(JSON.stringify(Ue))],this.posX+this.margin[3],-De+st+this.ctx.prevPageLastElemOffset)[0],er=At&&(Pt>pt||Pt<ht)&&g.call(this);er&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],mt,We,null).clip().discardPath()),this.pdf.text(ct,br.x,br.y,{angle:R.angle,align:H,renderingMode:R.renderingMode}),er&&this.pdf.restoreGraphicsState()}}else _t.y<Ee&&(this.ctx.prevPageLastElemOffset+=Ee-_t.y);R.scale>=.01&&(this.pdf.setFontSize(ve),this.lineWidth=ae)}else R.scale>=.01&&(ve=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ve*R.scale),ae=this.lineWidth,this.lineWidth=ae*R.scale),this.pdf.text(R.text,le.x+this.posX,le.y+this.posY,{angle:R.angle,align:H,renderingMode:R.renderingMode,maxWidth:R.maxWidth}),R.scale>=.01&&(this.pdf.setFontSize(ve),this.lineWidth=ae)},j=function(R,H,X,Z){X=X||0,Z=Z||0,this.pdf.internal.out(r(R+X)+" "+n(H+Z)+" l")},G=function(R,H,X){return this.pdf.lines(R,H,X,null,null)},Y=function(R,H,X,Z,ie,le,pe,J){this.pdf.internal.out([t(a(X+R)),t(i(Z+H)),t(a(ie+R)),t(i(le+H)),t(a(pe+R)),t(i(J+H)),"c"].join(" "))},re=function(R,H,X,Z){for(var ie=2*Math.PI,le=Math.PI/2;H>X;)H-=ie;var pe=Math.abs(X-H);pe<ie&&Z&&(pe=ie-pe);for(var J=[],me=Z?-1:1,ve=H;pe>1e-5;){var ae=ve+me*Math.min(pe,le);J.push(q.call(this,R,ve,ae)),pe-=Math.abs(ae-ve),ve=ae}return J},q=function(R,H,X){var Z=(X-H)/2,ie=R*Math.cos(Z),le=R*Math.sin(Z),pe=ie,J=-le,me=pe*pe+J*J,ve=me+pe*ie+J*le,ae=4/3*(Math.sqrt(2*me*ve)-ve)/(pe*le-J*ie),Ue=pe-ae*J,He=J+ae*pe,Ie=Ue,he=-He,Ze=Z+H,pt=Math.cos(Ze),ht=Math.sin(Ze);return{x1:R*Math.cos(H),y1:R*Math.sin(H),x2:Ue*pt-He*ht,y2:Ue*ht+He*pt,x3:Ie*pt-he*ht,y3:Ie*ht+he*pt,x4:R*Math.cos(X),y4:R*Math.sin(X)}},K=function(R){return 180*R/Math.PI},z=function(R,H,X,Z,ie,le){var pe=R+.5*(X-R),J=H+.5*(Z-H),me=ie+.5*(X-ie),ve=le+.5*(Z-le),ae=Math.min(R,ie,pe,me),Ue=Math.max(R,ie,pe,me),He=Math.min(H,le,J,ve),Ie=Math.max(H,le,J,ve);return new s(ae,He,Ue-ae,Ie-He)},te=function(R,H,X,Z,ie,le,pe,J){var me,ve,ae,Ue,He,Ie,he,Ze,pt,ht,Pt,st,xe,Ee,We=X-R,ft=Z-H,mt=ie-X,De=le-Z,Ve=pe-ie,_t=J-le;for(ve=0;ve<41;ve++)pt=(he=(ae=R+(me=ve/40)*We)+me*((He=X+me*mt)-ae))+me*(He+me*(ie+me*Ve-He)-he),ht=(Ze=(Ue=H+me*ft)+me*((Ie=Z+me*De)-Ue))+me*(Ie+me*(le+me*_t-Ie)-Ze),ve==0?(Pt=pt,st=ht,xe=pt,Ee=ht):(Pt=Math.min(Pt,pt),st=Math.min(st,ht),xe=Math.max(xe,pt),Ee=Math.max(Ee,ht));return new s(Math.round(Pt),Math.round(st),Math.round(xe-Pt),Math.round(Ee-st))},Q=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var R,H,X=(R=this.ctx.lineDash,H=this.ctx.lineDashOffset,JSON.stringify({lineDash:R,lineDashOffset:H}));this.prevLineDash!==X&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=X)}}})($r.API),function(e){var t=function(i){var o,s,l,u,d,f,h,m,x,g;for(s=[],l=0,u=(i+=o="\0\0\0\0".slice(i.length%4||4)).length;u>l;l+=4)(d=(i.charCodeAt(l)<<24)+(i.charCodeAt(l+1)<<16)+(i.charCodeAt(l+2)<<8)+i.charCodeAt(l+3))!==0?(f=(d=((d=((d=((d=(d-(g=d%85))/85)-(x=d%85))/85)-(m=d%85))/85)-(h=d%85))/85)%85,s.push(f+33,h+33,m+33,x+33,g+33)):s.push(122);return function(y,_){for(var b=_;b>0;b--)y.pop()}(s,o.length),String.fromCharCode.apply(String,s)+"~>"},r=function(i){var o,s,l,u,d,f=String,h="length",m=255,x="charCodeAt",g="slice",y="replace";for(i[g](-2),i=i[g](0,-2)[y](/\s/g,"")[y]("z","!!!!!"),l=[],u=0,d=(i+=o="uuuuu"[g](i[h]%5||5))[h];d>u;u+=5)s=52200625*(i[x](u)-33)+614125*(i[x](u+1)-33)+7225*(i[x](u+2)-33)+85*(i[x](u+3)-33)+(i[x](u+4)-33),l.push(m&s>>24,m&s>>16,m&s>>8,m&s);return function(_,b){for(var S=b;S>0;S--)_.pop()}(l,o[h]),f.fromCharCode.apply(f,l)},n=function(i){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),o.test(i)===!1)return"";for(var s="",l=0;l<i.length;l+=2)s+=String.fromCharCode("0x"+(i[l]+i[l+1]));return s},a=function(i){for(var o=new Uint8Array(i.length),s=i.length;s--;)o[s]=i.charCodeAt(s);return i=(o=y8(o)).reduce(function(l,u){return l+String.fromCharCode(u)},"")};e.processDataByFilters=function(i,o){var s=0,l=i||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),s=0;s<o.length;s+=1)switch(o[s]){case"ASCII85Decode":case"/ASCII85Decode":l=r(l),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=n(l),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=a(l),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[s]+'" is not implemented')}return{data:l,reverseChain:u.reverse().join(" ")}}}($r.API),function(e){e.loadFile=function(t,r,n){return function(a,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var s=void 0;try{s=function(l,u,d){var f=new XMLHttpRequest,h=0,m=function(x){var g=x.length,y=[],_=String.fromCharCode;for(h=0;h<g;h+=1)y.push(_(255&x.charCodeAt(h)));return y.join("")};if(f.open("GET",l,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?d(m(this.responseText)):d(void 0)}),f.send(null),u&&f.status===200)return m(f.responseText)}(a,i,o)}catch{}return s}(t,r,n)},e.loadImageFile=e.loadFile}($r.API),function(e){function t(){return(Zr.html2canvas?Promise.resolve(Zr.html2canvas):vh(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(Zr.DOMPurify?Promise.resolve(Zr.DOMPurify):vh(()=>import("./purify.es-Bf0oSh3b.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var s=ba(o);return s==="undefined"?"undefined":s==="string"||o instanceof String?"string":s==="number"||o instanceof Number?"number":s==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":s==="object"?"object":"unknown"},a=function(o,s){var l=document.createElement(o);for(var u in s.className&&(l.className=s.className),s.innerHTML&&s.dompurify&&(l.innerHTML=s.dompurify.sanitize(s.innerHTML)),s.style)l.style[u]=s.style[u];return l},i=function o(s){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),l);return u=(u=u.setProgress(1,o,1,[o])).set(s)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(o,s){return o.__proto__=s||i.prototype,o},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(o,s){return this.then(function(){switch(s=s||function(l){switch(n(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(r).then(function(l){return this.set({src:a("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},i.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},s=function l(u,d){for(var f=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),h=u.firstChild;h;h=h.nextSibling)d!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||f.appendChild(l(h,d));return u.nodeType===1&&(u.nodeName==="CANVAS"?(f.width=u.width,f.height=u.height,f.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(f.value=u.value),f.addEventListener("load",function(){f.scrollTop=u.scrollTop,f.scrollLeft=u.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);s.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(s),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(s){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,s(this.prop.container,l)}).then(function(s){(this.opt.html2canvas.onrendered||function(){})(s),this.prop.canvas=s,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(s){var l=this.opt.jsPDF,u=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=u,u)for(var h=0;h<u.length;++h){var m=u[h],x=m.src.find(function(g){return g.format==="truetype"});x&&l.addFont(x.url,m.ref.name,m.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,l.context2d.save(!0),s(this.prop.container,f)}).then(function(s){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(s),this.prop.canvas=s,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(o,s,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,s):this.outputPdf(o,s)},i.prototype.outputPdf=function(o,s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,s)})},i.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},i.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(o){if(n(o)!=="object")return this;var s=Object.keys(o||{}).map(function(l){if(l in i.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(s)})},i.prototype.get=function(o,s){return this.then(function(){var l=o in i.template.prop?this.prop[o]:this.opt[o];return s?s(l):l})},i.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},i.prototype.setPageSize=function(o){function s(l,u){return Math.floor(l*u/72*96)}return this.then(function(){(o=o||$r.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:s(o.inner.width,o.k),height:s(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},i.prototype.setProgress=function(o,s,l,u){return o!=null&&(this.progress.val=o),s!=null&&(this.progress.state=s),l!=null&&(this.progress.n=l),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(o,s,l,u){return this.setProgress(o?this.progress.val+o:null,s||null,l?this.progress.n+l:null,u?this.progress.stack.concat(u):null)},i.prototype.then=function(o,s){var l=this;return this.thenCore(o,s,function(u,d){return l.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(f){return l.updateProgress(null,u),f}).then(u,d).then(function(f){return l.updateProgress(1),f})})},i.prototype.thenCore=function(o,s,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),s&&(s=s.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),d=l.call(u,o,s);return i.convert(d,this.__proto__)},i.prototype.thenExternal=function(o,s){return Promise.prototype.then.call(this,o,s)},i.prototype.thenList=function(o){var s=this;return o.forEach(function(l){s=s.thenCore(l)}),s},i.prototype.catch=function(o){o&&(o=o.bind(this));var s=Promise.prototype.catch.call(this,o);return i.convert(s,this)},i.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},i.prototype.error=function(o){return this.then(function(){throw new Error(o)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,$r.getPageSize=function(o,s,l){if(ba(o)==="object"){var u=o;o=u.orientation,s=u.unit||s,l=u.format||l}s=s||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var d,f=(""+l).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(s){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+s}var m,x=0,g=0;if(h.hasOwnProperty(f))x=h[f][1]/d,g=h[f][0]/d;else try{x=l[1],g=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",g>x&&(m=g,g=x,x=m);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",x>g&&(m=g,g=x,x=m)}return{width:g,height:x,unit:s,k:d,orientation:o}},e.html=function(o,s){(s=s||{}).callback=s.callback||function(){},s.html2canvas=s.html2canvas||{},s.html2canvas.canvas=s.html2canvas.canvas||this.canvas,s.jsPDF=s.jsPDF||this,s.fontFaces=s.fontFaces?s.fontFaces.map(A8):null;var l=new i(s);return s.worker?l:l.from(o).doCallback()}}($r.API),$r.API.addJS=function(e){return dH=e,this.internal.events.subscribe("postPutResources",function(){Ib=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ib+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),uH=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+dH+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Ib!==void 0&&uH!==void 0&&this.internal.out("/Names <</JavaScript "+Ib+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var o=a[i],s=n.exec(o);if(s!=null){var l=s[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(i=0;i<u;i++){var f=r.internal.newObject();d.push(f);var h=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var m=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<d.length;i++)r.internal.write("(page_"+(i+1)+")"+d[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+m+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var o={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var o=n.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var s=this.count=this.count_r({count:0},o);if(s>0&&this.line("/Count "+s),o.options&&o.options.pageNumber){var l=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])}($r.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,i,o,s){var l,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(l=function(f){for(var h,m=256*f.charCodeAt(4)+f.charCodeAt(5),x=f.length,g={width:0,height:0,numcomponents:1},y=4;y<x;y+=2){if(y+=m,t.indexOf(f.charCodeAt(y+1))!==-1){h=256*f.charCodeAt(y+5)+f.charCodeAt(y+6),g={width:256*f.charCodeAt(y+7)+f.charCodeAt(y+8),height:h,numcomponents:f.charCodeAt(y+9)};break}m=256*f.charCodeAt(y+2)+f.charCodeAt(y+3)}return g}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:s=this.color_spaces.DEVICE_GRAY;break;case 4:s=this.color_spaces.DEVICE_CMYK;break;case 3:s=this.color_spaces.DEVICE_RGB}d={data:r,width:l.width,height:l.height,colorSpace:s,bitsPerComponent:8,filter:u,index:n,alias:a}}return d}}($r.API);var Pv,Rb,fH,hH,pH,xHe=function(){var e,t,r;function n(i){var o,s,l,u,d,f,h,m,x,g,y,_,b,S;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(o=this.readUInt32(),x=(function(){var C,E;for(E=[],C=0;C<4;++C)E.push(String.fromCharCode(this.data[this.pos++]));return E}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),u=this.readUInt16()||100,f.delay=1e3*d/u,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(x==="fdAT"&&(this.pos+=4,o-=4),i=(f!=null?f.data:void 0)||this.imgData,_=0;0<=o?_<o:_>o;0<=o?++_:--_)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((g=l-this.transparency.indexed.length)>0)for(b=0;0<=g?b<g:b>g;0<=g?++b:--b)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":h=(y=this.read(o)).indexOf(0),m=String.fromCharCode.apply(String,y.slice(0,h)),this.text[m]=String.fromCharCode.apply(String,y.slice(h+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(S=this.colorType)===4||S===6,s=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*s,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var o,s;for(s=[],o=0;0<=i?o<i:o>i;0<=i?++o:--o)s.push(this.data[this.pos++]);return s},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var o=this.pixelBitlength/8,s=new Uint8Array(this.width*this.height*o),l=0,u=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function d(f,h,m,x){var g,y,_,b,S,C,E,D,T,I,L,B,P,O,j,G,Y,re,q,K,z,te=Math.ceil((u.width-f)/m),Q=Math.ceil((u.height-h)/x),R=u.width==te&&u.height==Q;for(O=o*te,B=R?s:new Uint8Array(O*Q),C=i.length,P=0,y=0;P<Q&&l<C;){switch(i[l++]){case 0:for(b=Y=0;Y<O;b=Y+=1)B[y++]=i[l++];break;case 1:for(b=re=0;re<O;b=re+=1)g=i[l++],S=b<o?0:B[y-o],B[y++]=(g+S)%256;break;case 2:for(b=q=0;q<O;b=q+=1)g=i[l++],_=(b-b%o)/o,j=P&&B[(P-1)*O+_*o+b%o],B[y++]=(j+g)%256;break;case 3:for(b=K=0;K<O;b=K+=1)g=i[l++],_=(b-b%o)/o,S=b<o?0:B[y-o],j=P&&B[(P-1)*O+_*o+b%o],B[y++]=(g+Math.floor((S+j)/2))%256;break;case 4:for(b=z=0;z<O;b=z+=1)g=i[l++],_=(b-b%o)/o,S=b<o?0:B[y-o],P===0?j=G=0:(j=B[(P-1)*O+_*o+b%o],G=_&&B[(P-1)*O+(_-1)*o+b%o]),E=S+j-G,D=Math.abs(E-S),I=Math.abs(E-j),L=Math.abs(E-G),T=D<=I&&D<=L?S:I<=L?j:G,B[y++]=(g+T)%256;break;default:throw new Error("Invalid filter algorithm: "+i[l-1])}if(!R){var H=((h+P*x)*u.width+f)*o,X=P*O;for(b=0;b<te;b+=1){for(var Z=0;Z<o;Z+=1)s[H++]=B[X++];H+=(m-1)*o}}P++}}return i=ZWe(i),u.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),s},n.prototype.decodePalette=function(){var i,o,s,l,u,d,f,h,m;for(s=this.palette,d=this.transparency.indexed||[],u=new Uint8Array((d.length||0)+s.length),l=0,i=0,o=f=0,h=s.length;f<h;o=f+=3)u[l++]=s[o],u[l++]=s[o+1],u[l++]=s[o+2],u[l++]=(m=d[i++])!=null?m:255;return u},n.prototype.copyToImageData=function(i,o){var s,l,u,d,f,h,m,x,g,y,_;if(l=this.colors,g=null,s=this.hasAlphaChannel,this.palette.length&&(g=(_=this._decodedPalette)!=null?_:this._decodedPalette=this.decodePalette(),l=4,s=!0),x=(u=i.data||i).length,f=g||o,d=h=0,l===1)for(;d<x;)m=g?4*o[d/4]:h,y=f[m++],u[d++]=y,u[d++]=y,u[d++]=y,u[d++]=s?f[m++]:255,h=m;else for(;d<x;)m=g?4*o[d/4]:h,u[d++]=f[m++],u[d++]=f[m++],u[d++]=f[m++],u[d++]=s?f[m++]:255,h=m},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var a=function(){if(Object.prototype.toString.call(Zr)==="[object Window]"){try{t=Zr.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return a(),e=function(i){var o;if(a()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var o,s,l,u,d,f,h,m;if(this.animation){for(m=[],s=d=0,f=(h=this.animation.frames).length;d<f;s=++d)o=h[s],l=i.createImageData(o.width,o.height),u=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,u),o.imageData=l,m.push(o.image=e(l));return m}},n.prototype.renderFrame=function(i,o){var s,l,u;return s=(l=this.animation.frames)[o],u=l[o-1],o===0&&i.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?i.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&i.putImageData(u.imageData,u.xOffset,u.yOffset),s.blendOp===0&&i.clearRect(s.xOffset,s.yOffset,s.width,s.height),i.drawImage(s.image,s.xOffset,s.yOffset)},n.prototype.animate=function(i){var o,s,l,u,d,f,h=this;return s=0,f=this.animation,u=f.numFrames,l=f.frames,d=f.numPlays,(o=function(){var m,x;if(m=s++%u,x=l[m],h.renderFrame(i,m),u>1&&s/u<d)return h.animation._timeout=setTimeout(o,x.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var o,s;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,o=i.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(s=o.createImageData(this.width,this.height),this.copyToImageData(s,this.decodePixels()),o.putImageData(s,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function wHe(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,o=1<<(7&a)+1;e[t++],e[t++];var s=null,l=null;i&&(s=t,l=o,t+=3*o);var u=!0,d=[],f=0,h=null,m=0,x=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,x=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((P=e[t++])>=0))throw Error("Invalid block size");if(P===0)break;t+=P}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var g=e[t++];f=e[t++]|e[t++]<<8,h=e[t++],(1&g)==0&&(h=null),m=g>>2&7,t++;break;case 254:for(;;){if(!((P=e[t++])>=0))throw Error("Invalid block size");if(P===0)break;t+=P}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var y=e[t++]|e[t++]<<8,_=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,S=e[t++]|e[t++]<<8,C=e[t++],E=C>>6&1,D=1<<(7&C)+1,T=s,I=l,L=!1;C>>7&&(L=!0,T=t,I=D,t+=3*D);var B=t;for(t++;;){var P;if(!((P=e[t++])>=0))throw Error("Invalid block size");if(P===0)break;t+=P}d.push({x:y,y:_,width:b,height:S,has_local_palette:L,palette_offset:T,palette_size:I,data_offset:B,data_length:t-B,transparent_index:h,interlaced:!!E,delay:f,disposal:m});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return x},this.frameInfo=function(O){if(O<0||O>=d.length)throw new Error("Frame index out of range.");return d[O]},this.decodeAndBlitFrameBGRA=function(O,j){var G=this.frameInfo(O),Y=G.width*G.height,re=new Uint8Array(Y);mH(e,G.data_offset,re,Y);var q=G.palette_offset,K=G.transparent_index;K===null&&(K=256);var z=G.width,te=r-z,Q=z,R=4*(G.y*r+G.x),H=4*((G.y+G.height)*r+G.x),X=R,Z=4*te;G.interlaced===!0&&(Z+=4*r*7);for(var ie=8,le=0,pe=re.length;le<pe;++le){var J=re[le];if(Q===0&&(Q=z,(X+=Z)>=H&&(Z=4*te+4*r*(ie-1),X=R+(z+te)*(ie<<1),ie>>=1)),J===K)X+=4;else{var me=e[q+3*J],ve=e[q+3*J+1],ae=e[q+3*J+2];j[X++]=ae,j[X++]=ve,j[X++]=me,j[X++]=255}--Q}},this.decodeAndBlitFrameRGBA=function(O,j){var G=this.frameInfo(O),Y=G.width*G.height,re=new Uint8Array(Y);mH(e,G.data_offset,re,Y);var q=G.palette_offset,K=G.transparent_index;K===null&&(K=256);var z=G.width,te=r-z,Q=z,R=4*(G.y*r+G.x),H=4*((G.y+G.height)*r+G.x),X=R,Z=4*te;G.interlaced===!0&&(Z+=4*r*7);for(var ie=8,le=0,pe=re.length;le<pe;++le){var J=re[le];if(Q===0&&(Q=z,(X+=Z)>=H&&(Z=4*te+4*r*(ie-1),X=R+(z+te)*(ie<<1),ie>>=1)),J===K)X+=4;else{var me=e[q+3*J],ve=e[q+3*J+1],ae=e[q+3*J+2];j[X++]=me,j[X++]=ve,j[X++]=ae,j[X++]=255}--Q}}}function mH(e,t,r,n){for(var a=e[t++],i=1<<a,o=i+1,s=o+1,l=a+1,u=(1<<l)-1,d=0,f=0,h=0,m=e[t++],x=new Int32Array(4096),g=null;;){for(;d<16&&m!==0;)f|=e[t++]<<d,d+=8,m===1?m=e[t++]:--m;if(d<l)break;var y=f&u;if(f>>=l,d-=l,y!==i){if(y===o)break;for(var _=y<s?y:g,b=0,S=_;S>i;)S=x[S]>>8,++b;var C=S;if(h+b+(_!==y?1:0)>n)return void Na.log("Warning, gif stream longer than expected.");r[h++]=C;var E=h+=b;for(_!==y&&(r[h++]=C),S=_;b--;)S=x[S],r[--E]=255&S,S>>=8;g!==null&&s<4096&&(x[s++]=g<<8|C,s>=u+1&&l<12&&(++l,u=u<<1|1)),g=y}else s=o+1,u=(1<<(l=a+1))-1,g=null}return h!==n&&Na.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function lP(e){var t,r,n,a,i,o=Math.floor,s=new Array(64),l=new Array(64),u=new Array(64),d=new Array(64),f=new Array(65535),h=new Array(65535),m=new Array(64),x=new Array(64),g=[],y=0,_=7,b=new Array(64),S=new Array(64),C=new Array(64),E=new Array(256),D=new Array(2048),T=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],I=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],B=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],P=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],O=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],j=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Y=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function re(R,H){for(var X=0,Z=0,ie=new Array,le=1;le<=16;le++){for(var pe=1;pe<=R[le];pe++)ie[H[Z]]=[],ie[H[Z]][0]=X,ie[H[Z]][1]=le,Z++,X++;X*=2}return ie}function q(R){for(var H=R[0],X=R[1]-1;X>=0;)H&1<<X&&(y|=1<<_),X--,--_<0&&(y==255?(K(255),K(0)):K(y),_=7,y=0)}function K(R){g.push(R)}function z(R){K(R>>8&255),K(255&R)}function te(R,H,X,Z,ie){for(var le,pe=ie[0],J=ie[240],me=function(ht,Pt){var st,xe,Ee,We,ft,mt,De,Ve,_t,At,ct=0;for(_t=0;_t<8;++_t){st=ht[ct],xe=ht[ct+1],Ee=ht[ct+2],We=ht[ct+3],ft=ht[ct+4],mt=ht[ct+5],De=ht[ct+6];var br=st+(Ve=ht[ct+7]),er=st-Ve,en=xe+De,mn=xe-De,An=Ee+mt,mi=Ee-mt,un=We+ft,yt=We-ft,Tt=br+un,Sr=br-un,Fr=en+An,Jt=en-An;ht[ct]=Tt+Fr,ht[ct+4]=Tt-Fr;var Re=.707106781*(Jt+Sr);ht[ct+2]=Sr+Re,ht[ct+6]=Sr-Re;var xt=.382683433*((Tt=yt+mi)-(Jt=mn+er)),mr=.5411961*Tt+xt,cr=1.306562965*Jt+xt,ln=.707106781*(Fr=mi+mn),ga=er+ln,gr=er-ln;ht[ct+5]=gr+mr,ht[ct+3]=gr-mr,ht[ct+1]=ga+cr,ht[ct+7]=ga-cr,ct+=8}for(ct=0,_t=0;_t<8;++_t){st=ht[ct],xe=ht[ct+8],Ee=ht[ct+16],We=ht[ct+24],ft=ht[ct+32],mt=ht[ct+40],De=ht[ct+48];var gi=st+(Ve=ht[ct+56]),kn=st-Ve,Di=xe+De,la=xe-De,ca=Ee+mt,de=Ee-mt,Se=We+ft,we=We-ft,_e=gi+Se,Ae=gi-Se,ke=Di+ca,nt=Di-ca;ht[ct]=_e+ke,ht[ct+32]=_e-ke;var vt=.707106781*(nt+Ae);ht[ct+16]=Ae+vt,ht[ct+48]=Ae-vt;var rt=.382683433*((_e=we+de)-(nt=la+kn)),it=.5411961*_e+rt,ut=1.306562965*nt+rt,Rt=.707106781*(ke=de+la),Gt=kn+Rt,or=kn-Rt;ht[ct+40]=or+it,ht[ct+24]=or-it,ht[ct+8]=Gt+ut,ht[ct+56]=Gt-ut,ct++}for(_t=0;_t<64;++_t)At=ht[_t]*Pt[_t],m[_t]=At>0?At+.5|0:At-.5|0;return m}(R,H),ve=0;ve<64;++ve)x[T[ve]]=me[ve];var ae=x[0]-X;X=x[0],ae==0?q(Z[0]):(q(Z[h[le=32767+ae]]),q(f[le]));for(var Ue=63;Ue>0&&x[Ue]==0;)Ue--;if(Ue==0)return q(pe),X;for(var He,Ie=1;Ie<=Ue;){for(var he=Ie;x[Ie]==0&&Ie<=Ue;)++Ie;var Ze=Ie-he;if(Ze>=16){He=Ze>>4;for(var pt=1;pt<=He;++pt)q(J);Ze&=15}le=32767+x[Ie],q(ie[(Ze<<4)+h[le]]),q(f[le]),Ie++}return Ue!=63&&q(pe),X}function Q(R){R=Math.min(Math.max(R,1),100),i!=R&&(function(H){for(var X=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Z=0;Z<64;Z++){var ie=o((X[Z]*H+50)/100);ie=Math.min(Math.max(ie,1),255),s[T[Z]]=ie}for(var le=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],pe=0;pe<64;pe++){var J=o((le[pe]*H+50)/100);J=Math.min(Math.max(J,1),255),l[T[pe]]=J}for(var me=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ve=0,ae=0;ae<8;ae++)for(var Ue=0;Ue<8;Ue++)u[ve]=1/(s[T[ve]]*me[ae]*me[Ue]*8),d[ve]=1/(l[T[ve]]*me[ae]*me[Ue]*8),ve++}(R<50?Math.floor(5e3/R):Math.floor(200-2*R)),i=R)}this.encode=function(R,H){H&&Q(H),g=new Array,y=0,_=7,z(65496),z(65504),z(16),K(74),K(70),K(73),K(70),K(0),K(1),K(1),K(0),z(1),z(1),K(0),K(0),function(){z(65499),z(132),K(0);for(var xe=0;xe<64;xe++)K(s[xe]);K(1);for(var Ee=0;Ee<64;Ee++)K(l[Ee])}(),function(xe,Ee){z(65472),z(17),K(8),z(Ee),z(xe),K(3),K(1),K(17),K(0),K(2),K(17),K(1),K(3),K(17),K(1)}(R.width,R.height),function(){z(65476),z(418),K(0);for(var xe=0;xe<16;xe++)K(I[xe+1]);for(var Ee=0;Ee<=11;Ee++)K(L[Ee]);K(16);for(var We=0;We<16;We++)K(B[We+1]);for(var ft=0;ft<=161;ft++)K(P[ft]);K(1);for(var mt=0;mt<16;mt++)K(O[mt+1]);for(var De=0;De<=11;De++)K(j[De]);K(17);for(var Ve=0;Ve<16;Ve++)K(G[Ve+1]);for(var _t=0;_t<=161;_t++)K(Y[_t])}(),z(65498),z(12),K(3),K(1),K(0),K(2),K(17),K(3),K(17),K(0),K(63),K(0);var X=0,Z=0,ie=0;y=0,_=7,this.encode.displayName="_encode_";for(var le,pe,J,me,ve,ae,Ue,He,Ie,he=R.data,Ze=R.width,pt=R.height,ht=4*Ze,Pt=0;Pt<pt;){for(le=0;le<ht;){for(ve=ht*Pt+le,Ue=-1,He=0,Ie=0;Ie<64;Ie++)ae=ve+(He=Ie>>3)*ht+(Ue=4*(7&Ie)),Pt+He>=pt&&(ae-=ht*(Pt+1+He-pt)),le+Ue>=ht&&(ae-=le+Ue-ht+4),pe=he[ae++],J=he[ae++],me=he[ae++],b[Ie]=(D[pe]+D[J+256>>0]+D[me+512>>0]>>16)-128,S[Ie]=(D[pe+768>>0]+D[J+1024>>0]+D[me+1280>>0]>>16)-128,C[Ie]=(D[pe+1280>>0]+D[J+1536>>0]+D[me+1792>>0]>>16)-128;X=te(b,u,X,t,n),Z=te(S,d,Z,r,a),ie=te(C,d,ie,r,a),le+=32}Pt+=8}if(_>=0){var st=[];st[1]=_+1,st[0]=(1<<_+1)-1,q(st)}return z(65497),new Uint8Array(g)},e=e||50,function(){for(var R=String.fromCharCode,H=0;H<256;H++)E[H]=R(H)}(),t=re(I,L),r=re(O,j),n=re(B,P),a=re(G,Y),function(){for(var R=1,H=2,X=1;X<=15;X++){for(var Z=R;Z<H;Z++)h[32767+Z]=X,f[32767+Z]=[],f[32767+Z][1]=X,f[32767+Z][0]=Z;for(var ie=-(H-1);ie<=-R;ie++)h[32767+ie]=X,f[32767+ie]=[],f[32767+ie][1]=X,f[32767+ie][0]=H-1+ie;R<<=1,H<<=1}}(),function(){for(var R=0;R<256;R++)D[R]=19595*R,D[R+256>>0]=38470*R,D[R+512>>0]=7471*R+32768,D[R+768>>0]=-11059*R,D[R+1024>>0]=-21709*R,D[R+1280>>0]=32768*R+8421375,D[R+1536>>0]=-27439*R,D[R+1792>>0]=-5329*R}(),Q(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Pu(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function gH(e){function t(I){if(!I)throw Error("assert :P")}function r(I,L,B){for(var P=0;4>P;P++)if(I[L+P]!=B.charCodeAt(P))return!0;return!1}function n(I,L,B,P,O){for(var j=0;j<O;j++)I[L+j]=B[P+j]}function a(I,L,B,P){for(var O=0;O<P;O++)I[L+O]=B}function i(I){return new Int32Array(I)}function o(I,L){for(var B=[],P=0;P<I;P++)B.push(new L);return B}function s(I,L){var B=[];return function P(O,j,G){for(var Y=G[j],re=0;re<Y&&(O.push(G.length>j+1?[]:new L),!(G.length<j+1));re++)P(O[re],j+1,G)}(B,0,I),B}var l=function(){var I=this;function L(N,F){for(var V=1<<F-1>>>0;N&V;)V>>>=1;return V?(N&V-1)+V:N}function B(N,F,V,ne,oe){t(!(ne%V));do N[F+(ne-=V)]=oe;while(0<ne)}function P(N,F,V,ne,oe){if(t(2328>=oe),512>=oe)var ce=i(512);else if((ce=i(oe))==null)return 0;return function(fe,ge,ye,be,$e,et){var tt,Ye,Ot=ge,gt=1<<ye,qe=i(16),ze=i(16);for(t($e!=0),t(be!=null),t(fe!=null),t(0<ye),Ye=0;Ye<$e;++Ye){if(15<be[Ye])return 0;++qe[be[Ye]]}if(qe[0]==$e)return 0;for(ze[1]=0,tt=1;15>tt;++tt){if(qe[tt]>1<<tt)return 0;ze[tt+1]=ze[tt]+qe[tt]}for(Ye=0;Ye<$e;++Ye)tt=be[Ye],0<be[Ye]&&(et[ze[tt]++]=Ye);if(ze[15]==1)return(be=new O).g=0,be.value=et[0],B(fe,Ot,1,gt,be),gt;var kt,St=-1,Et=gt-1,fr=0,tr=1,Rr=1,ar=1<<ye;for(Ye=0,tt=1,$e=2;tt<=ye;++tt,$e<<=1){if(tr+=Rr<<=1,0>(Rr-=qe[tt]))return 0;for(;0<qe[tt];--qe[tt])(be=new O).g=tt,be.value=et[Ye++],B(fe,Ot+fr,$e,ar,be),fr=L(fr,tt)}for(tt=ye+1,$e=2;15>=tt;++tt,$e<<=1){if(tr+=Rr<<=1,0>(Rr-=qe[tt]))return 0;for(;0<qe[tt];--qe[tt]){if(be=new O,(fr&Et)!=St){for(Ot+=ar,kt=1<<(St=tt)-ye;15>St&&!(0>=(kt-=qe[St]));)++St,kt<<=1;gt+=ar=1<<(kt=St-ye),fe[ge+(St=fr&Et)].g=kt+ye,fe[ge+St].value=Ot-ge-St}be.g=tt-ye,be.value=et[Ye++],B(fe,Ot+(fr>>ye),$e,ar,be),fr=L(fr,tt)}}return tr!=2*ze[15]-1?0:gt}(N,F,V,ne,oe,ce)}function O(){this.value=this.g=0}function j(){this.value=this.g=0}function G(){this.G=o(5,O),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(ri,j)}function Y(N,F,V,ne){t(N!=null),t(F!=null),t(2147483648>ne),N.Ca=254,N.I=0,N.b=-8,N.Ka=0,N.oa=F,N.pa=V,N.Jd=F,N.Yc=V+ne,N.Zc=4<=ne?V+ne-4+1:V,le(N)}function re(N,F){for(var V=0;0<F--;)V|=J(N,128)<<F;return V}function q(N,F){var V=re(N,F);return pe(N)?-V:V}function K(N,F,V,ne){var oe,ce=0;for(t(N!=null),t(F!=null),t(4294967288>ne),N.Sb=ne,N.Ra=0,N.u=0,N.h=0,4<ne&&(ne=4),oe=0;oe<ne;++oe)ce+=F[V+oe]<<8*oe;N.Ra=ce,N.bb=ne,N.oa=F,N.pa=V}function z(N){for(;8<=N.u&&N.bb<N.Sb;)N.Ra>>>=8,N.Ra+=N.oa[N.pa+N.bb]<<ep-8>>>0,++N.bb,N.u-=8;X(N)&&(N.h=1,N.u=0)}function te(N,F){if(t(0<=F),!N.h&&F<=Qh){var V=H(N)&Jh[F];return N.u+=F,z(N),V}return N.h=1,N.u=0}function Q(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function R(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function H(N){return N.Ra>>>(N.u&ep-1)>>>0}function X(N){return t(N.bb<=N.Sb),N.h||N.bb==N.Sb&&N.u>ep}function Z(N,F){N.u=F,N.h=X(N)}function ie(N){N.u>=tp&&(t(N.u>=tp),z(N))}function le(N){t(N!=null&&N.oa!=null),N.pa<N.Zc?(N.I=(N.oa[N.pa++]|N.I<<8)>>>0,N.b+=8):(t(N!=null&&N.oa!=null),N.pa<N.Yc?(N.b+=8,N.I=N.oa[N.pa++]|N.I<<8):N.Ka?N.b=0:(N.I<<=8,N.b+=8,N.Ka=1))}function pe(N){return re(N,1)}function J(N,F){var V=N.Ca;0>N.b&&le(N);var ne=N.b,oe=V*F>>>8,ce=(N.I>>>ne>oe)+0;for(ce?(V-=oe,N.I-=oe+1<<ne>>>0):V=oe+1,ne=V,oe=0;256<=ne;)oe+=8,ne>>=8;return ne=7^oe+qo[ne],N.b-=ne,N.Ca=(V<<ne)-1,ce}function me(N,F,V){N[F+0]=V>>24&255,N[F+1]=V>>16&255,N[F+2]=V>>8&255,N[F+3]=V>>0&255}function ve(N,F){return N[F+0]<<0|N[F+1]<<8}function ae(N,F){return ve(N,F)|N[F+2]<<16}function Ue(N,F){return ve(N,F)|ve(N,F+2)<<16}function He(N,F){var V=1<<F;return t(N!=null),t(0<F),N.X=i(V),N.X==null?0:(N.Mb=32-F,N.Xa=F,1)}function Ie(N,F){t(N!=null),t(F!=null),t(N.Xa==F.Xa),n(F.X,0,N.X,0,1<<F.Xa)}function he(){this.X=[],this.Xa=this.Mb=0}function Ze(N,F,V,ne){t(V!=null),t(ne!=null);var oe=V[0],ce=ne[0];return oe==0&&(oe=(N*ce+F/2)/F),ce==0&&(ce=(F*oe+N/2)/N),0>=oe||0>=ce?0:(V[0]=oe,ne[0]=ce,1)}function pt(N,F){return N+(1<<F)-1>>>F}function ht(N,F){return((4278255360&N)+(4278255360&F)>>>0&4278255360)+((16711935&N)+(16711935&F)>>>0&16711935)>>>0}function Pt(N,F){I[F]=function(V,ne,oe,ce,fe,ge,ye){var be;for(be=0;be<fe;++be){var $e=I[N](ge[ye+be-1],oe,ce+be);ge[ye+be]=ht(V[ne+be],$e)}}}function st(){this.ud=this.hd=this.jd=0}function xe(N,F){return((4278124286&(N^F))>>>1)+(N&F)>>>0}function Ee(N){return 0<=N&&256>N?N:0>N?0:255<N?255:void 0}function We(N,F){return Ee(N+(N-F+.5>>1))}function ft(N,F,V){return Math.abs(F-V)-Math.abs(N-V)}function mt(N,F,V,ne,oe,ce,fe){for(ne=ce[fe-1],V=0;V<oe;++V)ce[fe+V]=ne=ht(N[F+V],ne)}function De(N,F,V,ne,oe){var ce;for(ce=0;ce<V;++ce){var fe=N[F+ce],ge=fe>>8&255,ye=16711935&(ye=(ye=16711935&fe)+((ge<<16)+ge));ne[oe+ce]=(4278255360&fe)+ye>>>0}}function Ve(N,F){F.jd=N>>0&255,F.hd=N>>8&255,F.ud=N>>16&255}function _t(N,F,V,ne,oe,ce){var fe;for(fe=0;fe<ne;++fe){var ge=F[V+fe],ye=ge>>>8,be=ge,$e=255&($e=($e=ge>>>16)+((N.jd<<24>>24)*(ye<<24>>24)>>>5));be=255&(be=(be=be+((N.hd<<24>>24)*(ye<<24>>24)>>>5))+((N.ud<<24>>24)*($e<<24>>24)>>>5)),oe[ce+fe]=(4278255360&ge)+($e<<16)+be}}function At(N,F,V,ne,oe){I[F]=function(ce,fe,ge,ye,be,$e,et,tt,Ye){for(ye=et;ye<tt;++ye)for(et=0;et<Ye;++et)be[$e++]=oe(ge[ne(ce[fe++])])},I[N]=function(ce,fe,ge,ye,be,$e,et){var tt=8>>ce.b,Ye=ce.Ea,Ot=ce.K[0],gt=ce.w;if(8>tt)for(ce=(1<<ce.b)-1,gt=(1<<tt)-1;fe<ge;++fe){var qe,ze=0;for(qe=0;qe<Ye;++qe)qe&ce||(ze=ne(ye[be++])),$e[et++]=oe(Ot[ze&gt]),ze>>=tt}else I["VP8LMapColor"+V](ye,be,Ot,gt,$e,et,fe,ge,Ye)}}function ct(N,F,V,ne,oe){for(V=F+V;F<V;){var ce=N[F++];ne[oe++]=ce>>16&255,ne[oe++]=ce>>8&255,ne[oe++]=ce>>0&255}}function br(N,F,V,ne,oe){for(V=F+V;F<V;){var ce=N[F++];ne[oe++]=ce>>16&255,ne[oe++]=ce>>8&255,ne[oe++]=ce>>0&255,ne[oe++]=ce>>24&255}}function er(N,F,V,ne,oe){for(V=F+V;F<V;){var ce=(fe=N[F++])>>16&240|fe>>12&15,fe=fe>>0&240|fe>>28&15;ne[oe++]=ce,ne[oe++]=fe}}function en(N,F,V,ne,oe){for(V=F+V;F<V;){var ce=(fe=N[F++])>>16&248|fe>>13&7,fe=fe>>5&224|fe>>3&31;ne[oe++]=ce,ne[oe++]=fe}}function mn(N,F,V,ne,oe){for(V=F+V;F<V;){var ce=N[F++];ne[oe++]=ce>>0&255,ne[oe++]=ce>>8&255,ne[oe++]=ce>>16&255}}function An(N,F,V,ne,oe,ce){if(ce==0)for(V=F+V;F<V;)me(ne,((ce=N[F++])[0]>>24|ce[1]>>8&65280|ce[2]<<8&16711680|ce[3]<<24)>>>0),oe+=32;else n(ne,oe,N,F,V)}function mi(N,F){I[F][0]=I[N+"0"],I[F][1]=I[N+"1"],I[F][2]=I[N+"2"],I[F][3]=I[N+"3"],I[F][4]=I[N+"4"],I[F][5]=I[N+"5"],I[F][6]=I[N+"6"],I[F][7]=I[N+"7"],I[F][8]=I[N+"8"],I[F][9]=I[N+"9"],I[F][10]=I[N+"10"],I[F][11]=I[N+"11"],I[F][12]=I[N+"12"],I[F][13]=I[N+"13"],I[F][14]=I[N+"0"],I[F][15]=I[N+"0"]}function un(N){return N==sp||N==jf||N==J0||N==Q0}function yt(){this.eb=[],this.size=this.A=this.fb=0}function Tt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Sr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new yt,this.f.kb=new Tt,this.sd=null}function Fr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Jt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Re(N){return alert("todo:WebPSamplerProcessPlane"),N.T}function xt(N,F){var V=N.T,ne=F.ba.f.RGBA,oe=ne.eb,ce=ne.fb+N.ka*ne.A,fe=ds[F.ba.S],ge=N.y,ye=N.O,be=N.f,$e=N.N,et=N.ea,tt=N.W,Ye=F.cc,Ot=F.dc,gt=F.Mc,qe=F.Nc,ze=N.ka,kt=N.ka+N.T,St=N.U,Et=St+1>>1;for(ze==0?fe(ge,ye,null,null,be,$e,et,tt,be,$e,et,tt,oe,ce,null,null,St):(fe(F.ec,F.fc,ge,ye,Ye,Ot,gt,qe,be,$e,et,tt,oe,ce-ne.A,oe,ce,St),++V);ze+2<kt;ze+=2)Ye=be,Ot=$e,gt=et,qe=tt,$e+=N.Rc,tt+=N.Rc,ce+=2*ne.A,fe(ge,(ye+=2*N.fa)-N.fa,ge,ye,Ye,Ot,gt,qe,be,$e,et,tt,oe,ce-ne.A,oe,ce,St);return ye+=N.fa,N.j+kt<N.o?(n(F.ec,F.fc,ge,ye,St),n(F.cc,F.dc,be,$e,Et),n(F.Mc,F.Nc,et,tt,Et),V--):1&kt||fe(ge,ye,null,null,be,$e,et,tt,be,$e,et,tt,oe,ce+ne.A,null,null,St),V}function mr(N,F,V){var ne=N.F,oe=[N.J];if(ne!=null){var ce=N.U,fe=F.ba.S,ge=fe==Z0||fe==J0;F=F.ba.f.RGBA;var ye=[0],be=N.ka;ye[0]=N.T,N.Kb&&(be==0?--ye[0]:(--be,oe[0]-=N.width),N.j+N.ka+N.T==N.o&&(ye[0]=N.o-N.j-be));var $e=F.eb;be=F.fb+be*F.A,N=ta(ne,oe[0],N.width,ce,ye,$e,be+(ge?0:3),F.A),t(V==ye),N&&un(fe)&&cs($e,be,ge,ce,ye,F.A)}return 0}function cr(N){var F=N.ma,V=F.ba.S,ne=11>V,oe=V==Ad||V==X0||V==Z0||V==ya||V==12||un(V);if(F.memory=null,F.Ib=null,F.Jb=null,F.Nd=null,!Xh(F.Oa,N,oe?11:12))return 0;if(oe&&un(V)&&Mt(),N.da)alert("todo:use_scaling");else{if(ne){if(F.Ib=Re,N.Kb){if(V=N.U+1>>1,F.memory=i(N.U+2*V),F.memory==null)return 0;F.ec=F.memory,F.fc=0,F.cc=F.ec,F.dc=F.fc+N.U,F.Mc=F.cc,F.Nc=F.dc+V,F.Ib=xt,Mt()}}else alert("todo:EmitYUV");oe&&(F.Jb=mr,ne&&Qe())}if(ne&&!uo){for(N=0;256>N;++N)fs[N]=89858*(N-128)+Hl>>mu,hs[N]=-22014*(N-128)+Hl,dp[N]=-45773*(N-128),qf[N]=113618*(N-128)+Hl>>mu;for(N=ra;N<ua;++N)F=76283*(N-16)+Hl>>mu,Vg[N-ra]=zs(F,255),p_[N-ra]=zs(F+8>>4,15);uo=1}return 1}function ln(N){var F=N.ma,V=N.U,ne=N.T;return t(!(1&N.ka)),0>=V||0>=ne?0:(V=F.Ib(N,F),F.Jb!=null&&F.Jb(N,F,V),F.Dc+=V,1)}function ga(N){N.ma.memory=null}function gr(N,F,V,ne){return te(N,8)!=47?0:(F[0]=te(N,14)+1,V[0]=te(N,14)+1,ne[0]=te(N,1),te(N,3)!=0?0:!N.h)}function gi(N,F){if(4>N)return N+1;var V=N-2>>1;return(2+(1&N)<<V)+te(F,V)+1}function kn(N,F){return 120<F?F-120:1<=(V=((V=sA[F-1])>>4)*N+(8-(15&V)))?V:1;var V}function Di(N,F,V){var ne=H(V),oe=N[F+=255&ne].g-8;return 0<oe&&(Z(V,V.u+8),ne=H(V),F+=N[F].value,F+=ne&(1<<oe)-1),Z(V,V.u+N[F].g),N[F].value}function la(N,F,V){return V.g+=N.g,V.value+=N.value<<F>>>0,t(8>=V.g),N.g}function ca(N,F,V){var ne=N.xc;return t((F=ne==0?0:N.vc[N.md*(V>>ne)+(F>>ne)])<N.Wb),N.Ya[F]}function de(N,F,V,ne){var oe=N.ab,ce=N.c*F,fe=N.C;F=fe+F;var ge=V,ye=ne;for(ne=N.Ta,V=N.Ua;0<oe--;){var be=N.gc[oe],$e=fe,et=F,tt=ge,Ye=ye,Ot=(ye=ne,ge=V,be.Ea);switch(t($e<et),t(et<=be.nc),be.hc){case 2:Ug(tt,Ye,(et-$e)*Ot,ye,ge);break;case 0:var gt=$e,qe=et,ze=ye,kt=ge,St=(ar=be).Ea;gt==0&&(Df(tt,Ye,null,null,1,ze,kt),mt(tt,Ye+1,0,0,St-1,ze,kt+1),Ye+=St,kt+=St,++gt);for(var Et=1<<ar.b,fr=Et-1,tr=pt(St,ar.b),Rr=ar.K,ar=ar.w+(gt>>ar.b)*tr;gt<qe;){var jn=Rr,$n=ar,Mn=1;for(su(tt,Ye,ze,kt-St,1,ze,kt);Mn<St;){var gn=(Mn&~fr)+Et;gn>St&&(gn=St),(0,Nc[jn[$n++]>>8&15])(tt,Ye+ +Mn,ze,kt+Mn-St,gn-Mn,ze,kt+Mn),Mn=gn}Ye+=St,kt+=St,++gt&fr||(ar+=tr)}et!=be.nc&&n(ye,ge-Ot,ye,ge+(et-$e-1)*Ot,Ot);break;case 1:for(Ot=tt,qe=Ye,St=(tt=be.Ea)-(kt=tt&~(ze=(Ye=1<<be.b)-1)),gt=pt(tt,be.b),Et=be.K,be=be.w+($e>>be.b)*gt;$e<et;){for(fr=Et,tr=be,Rr=new st,ar=qe+kt,jn=qe+tt;qe<ar;)Ve(fr[tr++],Rr),_d(Rr,Ot,qe,Ye,ye,ge),qe+=Ye,ge+=Ye;qe<jn&&(Ve(fr[tr++],Rr),_d(Rr,Ot,qe,St,ye,ge),qe+=St,ge+=St),++$e&ze||(be+=gt)}break;case 3:if(tt==ye&&Ye==ge&&0<be.b){for(qe=ye,tt=Ot=ge+(et-$e)*Ot-(kt=(et-$e)*pt(be.Ea,be.b)),Ye=ye,ze=ge,gt=[],kt=(St=kt)-1;0<=kt;--kt)gt[kt]=Ye[ze+kt];for(kt=St-1;0<=kt;--kt)qe[tt+kt]=gt[kt];zo(be,$e,et,ye,Ot,ye,ge)}else zo(be,$e,et,tt,Ye,ye,ge)}ge=ne,ye=V}ye!=V&&n(ne,V,ge,ye,ce)}function Se(N,F){var V=N.V,ne=N.Ba+N.c*N.C,oe=F-N.C;if(t(F<=N.l.o),t(16>=oe),0<oe){var ce=N.l,fe=N.Ta,ge=N.Ua,ye=ce.width;if(de(N,oe,V,ne),oe=ge=[ge],t((V=N.C)<(ne=F)),t(ce.v<ce.va),ne>ce.o&&(ne=ce.o),V<ce.j){var be=ce.j-V;V=ce.j,oe[0]+=be*ye}if(V>=ne?V=0:(oe[0]+=4*ce.v,ce.ka=V-ce.j,ce.U=ce.va-ce.v,ce.T=ne-V,V=1),V){if(ge=ge[0],11>(V=N.ca).S){var $e=V.f.RGBA,et=(ne=V.S,oe=ce.U,ce=ce.T,be=$e.eb,$e.A),tt=ce;for($e=$e.fb+N.Ma*$e.A;0<tt--;){var Ye=fe,Ot=ge,gt=oe,qe=be,ze=$e;switch(ne){case qg:Wo(Ye,Ot,gt,qe,ze);break;case Ad:So(Ye,Ot,gt,qe,ze);break;case sp:So(Ye,Ot,gt,qe,ze),cs(qe,ze,0,gt,1,0);break;case c_:cu(Ye,Ot,gt,qe,ze);break;case X0:An(Ye,Ot,gt,qe,ze,1);break;case jf:An(Ye,Ot,gt,qe,ze,1),cs(qe,ze,0,gt,1,0);break;case Z0:An(Ye,Ot,gt,qe,ze,0);break;case J0:An(Ye,Ot,gt,qe,ze,0),cs(qe,ze,1,gt,1,0);break;case ya:bd(Ye,Ot,gt,qe,ze);break;case Q0:bd(Ye,Ot,gt,qe,ze),va(qe,ze,gt,1,0);break;case zg:lu(Ye,Ot,gt,qe,ze);break;default:t(0)}ge+=ye,$e+=et}N.Ma+=ce}else alert("todo:EmitRescaledRowsYUVA");t(N.Ma<=V.height)}}N.C=F,t(N.C<=N.i)}function we(N){var F;if(0<N.ua)return 0;for(F=0;F<N.Wb;++F){var V=N.Ya[F].G,ne=N.Ya[F].H;if(0<V[1][ne[1]+0].g||0<V[2][ne[2]+0].g||0<V[3][ne[3]+0].g)return 0}return 1}function _e(N,F,V,ne,oe,ce){if(N.Z!=0){var fe=N.qd,ge=N.rd;for(t(ko[N.Z]!=null);F<V;++F)ko[N.Z](fe,ge,ne,oe,ne,oe,ce),fe=ne,ge=oe,oe+=ce;N.qd=fe,N.rd=ge}}function Ae(N,F){var V=N.l.ma,ne=V.Z==0||V.Z==1?N.l.j:N.C;if(ne=N.C<ne?ne:N.C,t(F<=N.l.o),F>ne){var oe=N.l.width,ce=V.ca,fe=V.tb+oe*ne,ge=N.V,ye=N.Ba+N.c*ne,be=N.gc;t(N.ab==1),t(be[0].hc==3),G0(be[0],ne,F,ge,ye,ce,fe),_e(V,ne,F,ce,fe,oe)}N.C=N.Ma=F}function ke(N,F,V,ne,oe,ce,fe){var ge=N.$/ne,ye=N.$%ne,be=N.m,$e=N.s,et=V+N.$,tt=et;oe=V+ne*oe;var Ye=V+ne*ce,Ot=280+$e.ua,gt=N.Pb?ge:16777216,qe=0<$e.ua?$e.Wa:null,ze=$e.wc,kt=et<Ye?ca($e,ye,ge):null;t(N.C<ce),t(Ye<=oe);var St=!1;e:for(;;){for(;St||et<Ye;){var Et=0;if(ge>=gt){var fr=et-V;t((gt=N).Pb),gt.wd=gt.m,gt.xd=fr,0<gt.s.ua&&Ie(gt.s.Wa,gt.s.vb),gt=ge+Hg}if(ye&ze||(kt=ca($e,ye,ge)),t(kt!=null),kt.Qb&&(F[et]=kt.qb,St=!0),!St)if(ie(be),kt.jc){Et=be,fr=F;var tr=et,Rr=kt.pd[H(Et)&ri-1];t(kt.jc),256>Rr.g?(Z(Et,Et.u+Rr.g),fr[tr]=Rr.value,Et=0):(Z(Et,Et.u+Rr.g-256),t(256<=Rr.value),Et=Rr.value),Et==0&&(St=!0)}else Et=Di(kt.G[0],kt.H[0],be);if(be.h)break;if(St||256>Et){if(!St)if(kt.nd)F[et]=(kt.qb|Et<<8)>>>0;else{if(ie(be),St=Di(kt.G[1],kt.H[1],be),ie(be),fr=Di(kt.G[2],kt.H[2],be),tr=Di(kt.G[3],kt.H[3],be),be.h)break;F[et]=(tr<<24|St<<16|Et<<8|fr)>>>0}if(St=!1,++et,++ye>=ne&&(ye=0,++ge,fe!=null&&ge<=ce&&!(ge%16)&&fe(N,ge),qe!=null))for(;tt<et;)Et=F[tt++],qe.X[(506832829*Et&4294967295)>>>qe.Mb]=Et}else if(280>Et){if(Et=gi(Et-256,be),fr=Di(kt.G[4],kt.H[4],be),ie(be),fr=kn(ne,fr=gi(fr,be)),be.h)break;if(et-V<fr||oe-et<Et)break e;for(tr=0;tr<Et;++tr)F[et+tr]=F[et+tr-fr];for(et+=Et,ye+=Et;ye>=ne;)ye-=ne,++ge,fe!=null&&ge<=ce&&!(ge%16)&&fe(N,ge);if(t(et<=oe),ye&ze&&(kt=ca($e,ye,ge)),qe!=null)for(;tt<et;)Et=F[tt++],qe.X[(506832829*Et&4294967295)>>>qe.Mb]=Et}else{if(!(Et<Ot))break e;for(St=Et-280,t(qe!=null);tt<et;)Et=F[tt++],qe.X[(506832829*Et&4294967295)>>>qe.Mb]=Et;Et=et,t(!(St>>>(fr=qe).Xa)),F[Et]=fr.X[St],St=!0}St||t(be.h==X(be))}if(N.Pb&&be.h&&et<oe)t(N.m.h),N.a=5,N.m=N.wd,N.$=N.xd,0<N.s.ua&&Ie(N.s.vb,N.s.Wa);else{if(be.h)break e;fe!=null&&fe(N,ge>ce?ce:ge),N.a=0,N.$=et-V}return 1}return N.a=3,0}function nt(N){t(N!=null),N.vc=null,N.yc=null,N.Ya=null;var F=N.Wa;F!=null&&(F.X=null),N.vb=null,t(N!=null)}function vt(){var N=new Ay;return N==null?null:(N.a=0,N.xb=cp,mi("Predictor","VP8LPredictors"),mi("Predictor","VP8LPredictors_C"),mi("PredictorAdd","VP8LPredictorsAdd"),mi("PredictorAdd","VP8LPredictorsAdd_C"),Ug=De,_d=_t,Wo=ct,So=br,bd=er,lu=en,cu=mn,I.VP8LMapColor32b=rp,I.VP8LMapColor8b=np,N)}function rt(N,F,V,ne,oe){var ce=1,fe=[N],ge=[F],ye=ne.m,be=ne.s,$e=null,et=0;e:for(;;){if(V)for(;ce&&te(ye,1);){var tt=fe,Ye=ge,Ot=ne,gt=1,qe=Ot.m,ze=Ot.gc[Ot.ab],kt=te(qe,2);if(Ot.Oc&1<<kt)ce=0;else{switch(Ot.Oc|=1<<kt,ze.hc=kt,ze.Ea=tt[0],ze.nc=Ye[0],ze.K=[null],++Ot.ab,t(4>=Ot.ab),kt){case 0:case 1:ze.b=te(qe,3)+2,gt=rt(pt(ze.Ea,ze.b),pt(ze.nc,ze.b),0,Ot,ze.K),ze.K=ze.K[0];break;case 3:var St,Et=te(qe,8)+1,fr=16<Et?0:4<Et?1:2<Et?2:3;if(tt[0]=pt(ze.Ea,fr),ze.b=fr,St=gt=rt(Et,1,0,Ot,ze.K)){var tr,Rr=Et,ar=ze,jn=1<<(8>>ar.b),$n=i(jn);if($n==null)St=0;else{var Mn=ar.K[0],gn=ar.w;for($n[0]=ar.K[0][0],tr=1;tr<1*Rr;++tr)$n[tr]=ht(Mn[gn+tr],$n[tr-1]);for(;tr<4*jn;++tr)$n[tr]=0;ar.K[0]=null,ar.K[0]=$n,St=1}}gt=St;break;case 2:break;default:t(0)}ce=gt}}if(fe=fe[0],ge=ge[0],ce&&te(ye,1)&&!(ce=1<=(et=te(ye,4))&&11>=et)){ne.a=3;break e}var na;if(na=ce)t:{var da,tn,za,Go=ne,li=fe,Ri=ge,Kn=et,No=V,Eo=Go.m,Wa=Go.s,Mi=[null],fo=1,ps=0,vl=d_[Kn];r:for(;;){if(No&&te(Eo,1)){var Ha=te(Eo,3)+2,wi=pt(li,Ha),Vs=pt(Ri,Ha),Ed=wi*Vs;if(!rt(wi,Vs,0,Go,Mi))break r;for(Mi=Mi[0],Wa.xc=Ha,da=0;da<Ed;++da){var vu=Mi[da]>>8&65535;Mi[da]=vu,vu>=fo&&(fo=vu+1)}}if(Eo.h)break r;for(tn=0;5>tn;++tn){var Yn=$f[tn];!tn&&0<Kn&&(Yn+=1<<Kn),ps<Yn&&(ps=Yn)}var Oc=o(fo*vl,O),Gg=fo,Py=o(Gg,G);if(Py==null)var yl=null;else t(65536>=Gg),yl=Py;var xl=i(ps);if(yl==null||xl==null||Oc==null){Go.a=1;break r}var Wf=Oc;for(da=za=0;da<fo;++da){var wl=yl[da],yu=wl.G,Hf=wl.H,fp=0,Gs=1,hp=0;for(tn=0;5>tn;++tn){Yn=$f[tn],yu[tn]=Wf,Hf[tn]=za,!tn&&0<Kn&&(Yn+=1<<Kn);a:{var Cd,xu=Yn,pp=Go,Dc=xl,g_=Wf,Oy=za,ka=0,Vl=pp.m,Dy=te(Vl,1);if(a(Dc,0,0,xu),Dy){var Iy=te(Vl,1)+1,Kg=te(Vl,1),Yg=te(Vl,Kg==0?1:8);Dc[Yg]=1,Iy==2&&(Dc[Yg=te(Vl,8)]=1);var Ic=1}else{var Ta=i(19),_i=te(Vl,4)+4;if(19<_i){pp.a=3;var ci=0;break a}for(Cd=0;Cd<_i;++Cd)Ta[oA[Cd]]=te(Vl,3);var mp=void 0,wu=void 0,gp=pp,fA=Ta,Fi=xu,Xg=Dc,am=0,Rc=gp.m,Gl=8,Ks=o(128,O);n:for(;P(Ks,0,7,fA,19);){if(te(Rc,1)){var im=2+2*te(Rc,3);if((mp=2+te(Rc,im))>Fi)break n}else mp=Fi;for(wu=0;wu<Fi&&mp--;){ie(Rc);var Zg=Ks[0+(127&H(Rc))];Z(Rc,Rc.u+Zg.g);var Td=Zg.value;if(16>Td)Xg[wu++]=Td,Td!=0&&(Gl=Td);else{var v_=Td==16,Ry=Td-16,y_=Wg[Ry],My=te(Rc,em[Ry])+y_;if(wu+My>Fi)break n;for(var x_=v_?Gl:0;0<My--;)Xg[wu++]=x_}}am=1;break n}am||(gp.a=3),Ic=am}(Ic=Ic&&!Vl.h)&&(ka=P(g_,Oy,8,Dc,xu)),Ic&&ka!=0?ci=ka:(pp.a=3,ci=0)}if(ci==0)break r;if(Gs&&u_[tn]==1&&(Gs=Wf[za].g==0),fp+=Wf[za].g,za+=ci,3>=tn){var vp,Jg=xl[0];for(vp=1;vp<Yn;++vp)xl[vp]>Jg&&(Jg=xl[vp]);hp+=Jg}}if(wl.nd=Gs,wl.Qb=0,Gs&&(wl.qb=(yu[3][Hf[3]+0].value<<24|yu[1][Hf[1]+0].value<<16|yu[2][Hf[2]+0].value)>>>0,fp==0&&256>yu[0][Hf[0]+0].value&&(wl.Qb=1,wl.qb+=yu[0][Hf[0]+0].value<<8)),wl.jc=!wl.Qb&&6>hp,wl.jc){var om,Ys=wl;for(om=0;om<ri;++om){var _u=om,Kl=Ys.pd[_u],Vf=Ys.G[0][Ys.H[0]+_u];256<=Vf.value?(Kl.g=Vf.g+256,Kl.value=Vf.value):(Kl.g=0,Kl.value=0,_u>>=la(Vf,8,Kl),_u>>=la(Ys.G[1][Ys.H[1]+_u],16,Kl),_u>>=la(Ys.G[2][Ys.H[2]+_u],0,Kl),la(Ys.G[3][Ys.H[3]+_u],24,Kl))}}}Wa.vc=Mi,Wa.Wb=fo,Wa.Ya=yl,Wa.yc=Oc,na=1;break t}na=0}if(!(ce=na)){ne.a=3;break e}if(0<et){if(be.ua=1<<et,!He(be.Wa,et)){ne.a=1,ce=0;break e}}else be.ua=0;var Qg=ne,ev=fe,w_=ge,tv=Qg.s,rv=tv.xc;if(Qg.c=ev,Qg.i=w_,tv.md=pt(ev,rv),tv.wc=rv==0?-1:(1<<rv)-1,V){ne.xb=Pc;break e}if(($e=i(fe*ge))==null){ne.a=1,ce=0;break e}ce=(ce=ke(ne,$e,0,fe,ge,ge,null))&&!ye.h;break e}return ce?(oe!=null?oe[0]=$e:(t($e==null),t(V)),ne.$=0,V||nt(be)):nt(be),ce}function it(N,F){var V=N.c*N.i,ne=V+F+16*F;return t(N.c<=F),N.V=i(ne),N.V==null?(N.Ta=null,N.Ua=0,N.a=1,0):(N.Ta=N.V,N.Ua=N.Ba+V+F,1)}function ut(N,F){var V=N.C,ne=F-V,oe=N.V,ce=N.Ba+N.c*V;for(t(F<=N.l.o);0<ne;){var fe=16<ne?16:ne,ge=N.l.ma,ye=N.l.width,be=ye*fe,$e=ge.ca,et=ge.tb+ye*V,tt=N.Ta,Ye=N.Ua;de(N,fe,oe,ce),ni(tt,Ye,$e,et,be),_e(ge,V,V+fe,$e,et,ye),ne-=fe,oe+=fe*N.c,V+=fe}t(V==F),N.C=N.Ma=F}function Rt(){this.ub=this.yd=this.td=this.Rb=0}function Gt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function or(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function zt(){this.Yb=function(){var N=[];return function F(V,ne,oe){for(var ce=oe[ne],fe=0;fe<ce&&(V.push(oe.length>ne+1?[]:0),!(oe.length<ne+1));fe++)F(V[fe],ne+1,oe)}(N,0,[3,11]),N}()}function $t(){this.jb=i(3),this.Wc=s([4,8],zt),this.Xc=s([4,17],zt)}function Xr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Ln(){this.ld=this.La=this.dd=this.tc=0}function ea(){this.Na=this.la=0}function $a(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function $l(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function xc(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ln),this.Y=0,this.ya=Array(new $l),this.aa=0,this.l=new wc}function Us(){this.y=i(16),this.f=i(8),this.ea=i(8)}function vi(){this.cb=this.a=0,this.sc="",this.m=new Q,this.Od=new Rt,this.Kc=new Gt,this.ed=new Xr,this.Qa=new or,this.Ic=this.$c=this.Aa=0,this.D=new xc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,Q),this.ia=0,this.pb=o(4,$a),this.Pa=new $t,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Us),this.Hd=0,this.rb=Array(new ea),this.sb=0,this.wa=Array(new Ln),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new $l),this.L=this.aa=0,this.gd=s([4,2],Ln),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function wc(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ba(){var N=new vi;return N!=null&&(N.a=0,N.sc="OK",N.cb=0,N.Xb=0,Bf||(Bf=wf)),N}function si(N,F,V){return N.a==0&&(N.a=F,N.sc=V,N.cb=0),0}function Rg(N,F,V){return 3<=V&&N[F+0]==157&&N[F+1]==1&&N[F+2]==42}function Mg(N,F){if(N==null)return 0;if(N.a=0,N.sc="OK",F==null)return si(N,2,"null VP8Io passed to VP8GetHeaders()");var V=F.data,ne=F.w,oe=F.ha;if(4>oe)return si(N,7,"Truncated header.");var ce=V[ne+0]|V[ne+1]<<8|V[ne+2]<<16,fe=N.Od;if(fe.Rb=!(1&ce),fe.td=ce>>1&7,fe.yd=ce>>4&1,fe.ub=ce>>5,3<fe.td)return si(N,3,"Incorrect keyframe parameters.");if(!fe.yd)return si(N,4,"Frame not displayable.");ne+=3,oe-=3;var ge=N.Kc;if(fe.Rb){if(7>oe)return si(N,7,"cannot parse picture header");if(!Rg(V,ne,oe))return si(N,3,"Bad code word");ge.c=16383&(V[ne+4]<<8|V[ne+3]),ge.Td=V[ne+4]>>6,ge.i=16383&(V[ne+6]<<8|V[ne+5]),ge.Ud=V[ne+6]>>6,ne+=7,oe-=7,N.za=ge.c+15>>4,N.Ub=ge.i+15>>4,F.width=ge.c,F.height=ge.i,F.Da=0,F.j=0,F.v=0,F.va=F.width,F.o=F.height,F.da=0,F.ib=F.width,F.hb=F.height,F.U=F.width,F.T=F.height,a((ce=N.Pa).jb,0,255,ce.jb.length),t((ce=N.Qa)!=null),ce.Cb=0,ce.Bb=0,ce.Fb=1,a(ce.Zb,0,0,ce.Zb.length),a(ce.Lb,0,0,ce.Lb)}if(fe.ub>oe)return si(N,7,"bad partition length");Y(ce=N.m,V,ne,fe.ub),ne+=fe.ub,oe-=fe.ub,fe.Rb&&(ge.Ld=pe(ce),ge.Kd=pe(ce)),ge=N.Qa;var ye,be=N.Pa;if(t(ce!=null),t(ge!=null),ge.Cb=pe(ce),ge.Cb){if(ge.Bb=pe(ce),pe(ce)){for(ge.Fb=pe(ce),ye=0;4>ye;++ye)ge.Zb[ye]=pe(ce)?q(ce,7):0;for(ye=0;4>ye;++ye)ge.Lb[ye]=pe(ce)?q(ce,6):0}if(ge.Bb)for(ye=0;3>ye;++ye)be.jb[ye]=pe(ce)?re(ce,8):255}else ge.Bb=0;if(ce.Ka)return si(N,3,"cannot parse segment header");if((ge=N.ed).zd=pe(ce),ge.Tb=re(ce,6),ge.wb=re(ce,3),ge.Pc=pe(ce),ge.Pc&&pe(ce)){for(be=0;4>be;++be)pe(ce)&&(ge.vd[be]=q(ce,6));for(be=0;4>be;++be)pe(ce)&&(ge.od[be]=q(ce,6))}if(N.L=ge.Tb==0?0:ge.zd?1:2,ce.Ka)return si(N,3,"cannot parse filter header");var $e=oe;if(oe=ye=ne,ne=ye+$e,ge=$e,N.Xb=(1<<re(N.m,2))-1,$e<3*(be=N.Xb))V=7;else{for(ye+=3*be,ge-=3*be,$e=0;$e<be;++$e){var et=V[oe+0]|V[oe+1]<<8|V[oe+2]<<16;et>ge&&(et=ge),Y(N.Jc[+$e],V,ye,et),ye+=et,ge-=et,oe+=3}Y(N.Jc[+be],V,ye,ge),V=ye<ne?0:5}if(V!=0)return si(N,V,"cannot parse partitions");for(V=re(ye=N.m,7),oe=pe(ye)?q(ye,4):0,ne=pe(ye)?q(ye,4):0,ge=pe(ye)?q(ye,4):0,be=pe(ye)?q(ye,4):0,ye=pe(ye)?q(ye,4):0,$e=N.Qa,et=0;4>et;++et){if($e.Cb){var tt=$e.Zb[et];$e.Fb||(tt+=V)}else{if(0<et){N.pb[et]=N.pb[0];continue}tt=V}var Ye=N.pb[et];Ye.Sc[0]=lp[zs(tt+oe,127)],Ye.Sc[1]=tm[zs(tt+0,127)],Ye.Eb[0]=2*lp[zs(tt+ne,127)],Ye.Eb[1]=101581*tm[zs(tt+ge,127)]>>16,8>Ye.Eb[1]&&(Ye.Eb[1]=8),Ye.Qc[0]=lp[zs(tt+be,117)],Ye.Qc[1]=tm[zs(tt+ye,127)],Ye.lc=tt+ye}if(!fe.Rb)return si(N,4,"Not a key frame.");for(pe(ce),fe=N.Pa,V=0;4>V;++V){for(oe=0;8>oe;++oe)for(ne=0;3>ne;++ne)for(ge=0;11>ge;++ge)be=J(ce,cA[V][oe][ne][ge])?re(ce,8):h_[V][oe][ne][ge],fe.Wc[V][oe].Yb[ne][ge]=be;for(oe=0;17>oe;++oe)fe.Xc[V][oe]=fe.Wc[V][Ey[oe]]}return N.kc=pe(ce),N.kc&&(N.Bd=re(ce,8)),N.cb=1}function wf(N,F,V,ne,oe,ce,fe){var ge=F[oe].Yb[V];for(V=0;16>oe;++oe){if(!J(N,ge[V+0]))return oe;for(;!J(N,ge[V+1]);)if(ge=F[++oe].Yb[0],V=0,oe==16)return 16;var ye=F[oe+1].Yb;if(J(N,ge[V+2])){var be=N,$e=0;if(J(be,(tt=ge)[(et=V)+3]))if(J(be,tt[et+6])){for(ge=0,et=2*($e=J(be,tt[et+8]))+(tt=J(be,tt[et+9+$e])),$e=0,tt=ky[et];tt[ge];++ge)$e+=$e+J(be,tt[ge]);$e+=3+(8<<et)}else J(be,tt[et+7])?($e=7+2*J(be,165),$e+=J(be,145)):$e=5+J(be,159);else $e=J(be,tt[et+4])?3+J(be,tt[et+5]):2;ge=ye[2]}else $e=1,ge=ye[1];ye=fe+Ny[oe],0>(be=N).b&&le(be);var et,tt=be.b,Ye=(et=be.Ca>>1)-(be.I>>tt)>>31;--be.b,be.Ca+=Ye,be.Ca|=1,be.I-=(et+1&Ye)<<tt,ce[ye]=(($e^Ye)-Ye)*ne[(0<oe)+0]}return 16}function dd(N){var F=N.rb[N.sb-1];F.la=0,F.Na=0,a(N.zc,0,0,N.zc.length),N.ja=0}function _f(N,F){if(N==null)return 0;if(F==null)return si(N,2,"NULL VP8Io parameter in VP8Decode().");if(!N.cb&&!Mg(N,F))return 0;if(t(N.cb),F.ac==null||F.ac(F)){F.ob&&(N.L=0);var V=zf[N.L];if(N.L==2?(N.yb=0,N.zb=0):(N.yb=F.v-V>>4,N.zb=F.j-V>>4,0>N.yb&&(N.yb=0),0>N.zb&&(N.zb=0)),N.Va=F.o+15+V>>4,N.Hb=F.va+15+V>>4,N.Hb>N.za&&(N.Hb=N.za),N.Va>N.Ub&&(N.Va=N.Ub),0<N.L){var ne=N.ed;for(V=0;4>V;++V){var oe;if(N.Qa.Cb){var ce=N.Qa.Lb[V];N.Qa.Fb||(ce+=ne.Tb)}else ce=ne.Tb;for(oe=0;1>=oe;++oe){var fe=N.gd[V][oe],ge=ce;if(ne.Pc&&(ge+=ne.vd[0],oe&&(ge+=ne.od[0])),0<(ge=0>ge?0:63<ge?63:ge)){var ye=ge;0<ne.wb&&(ye=4<ne.wb?ye>>2:ye>>1)>9-ne.wb&&(ye=9-ne.wb),1>ye&&(ye=1),fe.dd=ye,fe.tc=2*ge+ye,fe.ld=40<=ge?2:15<=ge?1:0}else fe.tc=0;fe.La=oe}}}V=0}else si(N,6,"Frame setup failed"),V=N.a;if(V=V==0){if(V){N.$c=0,0<N.Aa||(N.Ic=gu);e:{V=N.Ic,ne=4*(ye=N.za);var be=32*ye,$e=ye+1,et=0<N.L?ye*(0<N.Aa?2:1):0,tt=(N.Aa==2?2:1)*ye;if((fe=ne+832+(oe=3*(16*V+zf[N.L])/2*be)+(ce=N.Fa!=null&&0<N.Fa.length?N.Kc.c*N.Kc.i:0))!=fe)V=0;else{if(fe>N.Vb){if(N.Vb=0,N.Ec=i(fe),N.Fc=0,N.Ec==null){V=si(N,1,"no memory during frame initialization.");break e}N.Vb=fe}fe=N.Ec,ge=N.Fc,N.Ac=fe,N.Bc=ge,ge+=ne,N.Gd=o(be,Us),N.Hd=0,N.rb=o($e+1,ea),N.sb=1,N.wa=et?o(et,Ln):null,N.Y=0,N.D.Nb=0,N.D.wa=N.wa,N.D.Y=N.Y,0<N.Aa&&(N.D.Y+=ye),t(!0),N.oc=fe,N.pc=ge,ge+=832,N.ya=o(tt,$l),N.aa=0,N.D.ya=N.ya,N.D.aa=N.aa,N.Aa==2&&(N.D.aa+=ye),N.R=16*ye,N.B=8*ye,ye=(be=zf[N.L])*N.R,be=be/2*N.B,N.sa=fe,N.ta=ge+ye,N.qa=N.sa,N.ra=N.ta+16*V*N.R+be,N.Ha=N.qa,N.Ia=N.ra+8*V*N.B+be,N.$c=0,ge+=oe,N.mb=ce?fe:null,N.nb=ce?ge:null,t(ge+ce<=N.Fc+N.Vb),dd(N),a(N.Ac,N.Bc,0,ne),V=1}}if(V){if(F.ka=0,F.y=N.sa,F.O=N.ta,F.f=N.qa,F.N=N.ra,F.ea=N.Ha,F.Vd=N.Ia,F.fa=N.R,F.Rc=N.B,F.F=null,F.J=0,!Y0){for(V=-255;255>=V;++V)xi[255+V]=0>V?-V:V;for(V=-1020;1020>=V;++V)Cc[1020+V]=-128>V?-128:127<V?127:V;for(V=-112;112>=V;++V)ip[112+V]=-16>V?-16:15<V?15:V;for(V=-255;510>=V;++V)Lf[255+V]=0>V?0:255<V?255:V;Y0=1}ap=qn,uu=j0,du=fd,Ao=by,Ws=jh,zn=L0,If=Hh,K0=Ii,Rf=Cf,Mf=z0,Ff=gd,Hs=vd,fu=Tf,Ec=Vh,hu=ql,pu=fl,Sd=hl,co=$g,gl[0]=Ac,gl[1]=Fg,gl[2]=kf,gl[3]=Sc,gl[4]=B0,gl[5]=Bh,gl[6]=pd,gl[7]=Uh,gl[8]=jg,gl[9]=qh,Vo[0]=Af,Vo[1]=Lg,Vo[2]=_c,Vo[3]=Sf,Vo[4]=Ua,Vo[5]=bc,Vo[6]=Bl,us[0]=qs,us[1]=$0,us[2]=Sy,us[3]=iu,us[4]=Nf,us[5]=zh,us[6]=U0,V=1}else V=0}V&&(V=function(Ye,Ot){for(Ye.M=0;Ye.M<Ye.Va;++Ye.M){var gt,qe=Ye.Jc[Ye.M&Ye.Xb],ze=Ye.m,kt=Ye;for(gt=0;gt<kt.za;++gt){var St=ze,Et=kt,fr=Et.Ac,tr=Et.Bc+4*gt,Rr=Et.zc,ar=Et.ya[Et.aa+gt];if(Et.Qa.Bb?ar.$b=J(St,Et.Pa.jb[0])?2+J(St,Et.Pa.jb[2]):J(St,Et.Pa.jb[1]):ar.$b=0,Et.kc&&(ar.Ad=J(St,Et.Bd)),ar.Za=!J(St,145)+0,ar.Za){var jn=ar.Ob,$n=0;for(Et=0;4>Et;++Et){var Mn,gn=Rr[0+Et];for(Mn=0;4>Mn;++Mn){gn=lA[fr[tr+Mn]][gn];for(var na=f_[J(St,gn[0])];0<na;)na=f_[2*na+J(St,gn[na])];gn=-na,fr[tr+Mn]=gn}n(jn,$n,fr,tr,4),$n+=4,Rr[0+Et]=gn}}else gn=J(St,156)?J(St,128)?1:3:J(St,163)?2:0,ar.Ob[0]=gn,a(fr,tr,gn,4),a(Rr,0,gn,4);ar.Dd=J(St,142)?J(St,114)?J(St,183)?1:3:2:0}if(kt.m.Ka)return si(Ye,7,"Premature end-of-partition0 encountered.");for(;Ye.ja<Ye.za;++Ye.ja){if(kt=qe,St=(ze=Ye).rb[ze.sb-1],fr=ze.rb[ze.sb+ze.ja],gt=ze.ya[ze.aa+ze.ja],tr=ze.kc?gt.Ad:0)St.la=fr.la=0,gt.Za||(St.Na=fr.Na=0),gt.Hc=0,gt.Gc=0,gt.ia=0;else{var da,tn;if(St=fr,fr=kt,tr=ze.Pa.Xc,Rr=ze.ya[ze.aa+ze.ja],ar=ze.pb[Rr.$b],Et=Rr.ad,jn=0,$n=ze.rb[ze.sb-1],gn=Mn=0,a(Et,jn,0,384),Rr.Za)var za=0,Go=tr[3];else{na=i(16);var li=St.Na+$n.Na;if(li=Bf(fr,tr[1],li,ar.Eb,0,na,0),St.Na=$n.Na=(0<li)+0,1<li)ap(na,0,Et,jn);else{var Ri=na[0]+3>>3;for(na=0;256>na;na+=16)Et[jn+na]=Ri}za=1,Go=tr[0]}var Kn=15&St.la,No=15&$n.la;for(na=0;4>na;++na){var Eo=1&No;for(Ri=tn=0;4>Ri;++Ri)Kn=Kn>>1|(Eo=(li=Bf(fr,Go,li=Eo+(1&Kn),ar.Sc,za,Et,jn))>za)<<7,tn=tn<<2|(3<li?3:1<li?2:Et[jn+0]!=0),jn+=16;Kn>>=4,No=No>>1|Eo<<7,Mn=(Mn<<8|tn)>>>0}for(Go=Kn,za=No>>4,da=0;4>da;da+=2){for(tn=0,Kn=St.la>>4+da,No=$n.la>>4+da,na=0;2>na;++na){for(Eo=1&No,Ri=0;2>Ri;++Ri)li=Eo+(1&Kn),Kn=Kn>>1|(Eo=0<(li=Bf(fr,tr[2],li,ar.Qc,0,Et,jn)))<<3,tn=tn<<2|(3<li?3:1<li?2:Et[jn+0]!=0),jn+=16;Kn>>=2,No=No>>1|Eo<<5}gn|=tn<<4*da,Go|=Kn<<4<<da,za|=(240&No)<<da}St.la=Go,$n.la=za,Rr.Hc=Mn,Rr.Gc=gn,Rr.ia=43690&gn?0:ar.ia,tr=!(Mn|gn)}if(0<ze.L&&(ze.wa[ze.Y+ze.ja]=ze.gd[gt.$b][gt.Za],ze.wa[ze.Y+ze.ja].La|=!tr),kt.Ka)return si(Ye,7,"Premature end-of-file encountered.")}if(dd(Ye),ze=Ot,kt=1,gt=(qe=Ye).D,St=0<qe.L&&qe.M>=qe.zb&&qe.M<=qe.Va,qe.Aa==0)e:{if(gt.M=qe.M,gt.uc=St,Yh(qe,gt),kt=1,gt=(tn=qe.D).Nb,St=(gn=zf[qe.L])*qe.R,fr=gn/2*qe.B,na=16*gt*qe.R,Ri=8*gt*qe.B,tr=qe.sa,Rr=qe.ta-St+na,ar=qe.qa,Et=qe.ra-fr+Ri,jn=qe.Ha,$n=qe.Ia-fr+Ri,No=(Kn=tn.M)==0,Mn=Kn>=qe.Va-1,qe.Aa==2&&Yh(qe,tn),tn.uc)for(Eo=(li=qe).D.M,t(li.D.uc),tn=li.yb;tn<li.Hb;++tn){za=tn,Go=Eo;var Wa=(Mi=(Yn=li).D).Nb;da=Yn.R;var Mi=Mi.wa[Mi.Y+za],fo=Yn.sa,ps=Yn.ta+16*Wa*da+16*za,vl=Mi.dd,Ha=Mi.tc;if(Ha!=0)if(t(3<=Ha),Yn.L==1)0<za&&pu(fo,ps,da,Ha+4),Mi.La&&co(fo,ps,da,Ha),0<Go&&hu(fo,ps,da,Ha+4),Mi.La&&Sd(fo,ps,da,Ha);else{var wi=Yn.B,Vs=Yn.qa,Ed=Yn.ra+8*Wa*wi+8*za,vu=Yn.Ha,Yn=Yn.Ia+8*Wa*wi+8*za;Wa=Mi.ld,0<za&&(K0(fo,ps,da,Ha+4,vl,Wa),Mf(Vs,Ed,vu,Yn,wi,Ha+4,vl,Wa)),Mi.La&&(Hs(fo,ps,da,Ha,vl,Wa),Ec(Vs,Ed,vu,Yn,wi,Ha,vl,Wa)),0<Go&&(If(fo,ps,da,Ha+4,vl,Wa),Rf(Vs,Ed,vu,Yn,wi,Ha+4,vl,Wa)),Mi.La&&(Ff(fo,ps,da,Ha,vl,Wa),fu(Vs,Ed,vu,Yn,wi,Ha,vl,Wa))}}if(qe.ia&&alert("todo:DitherRow"),ze.put!=null){if(tn=16*Kn,Kn=16*(Kn+1),No?(ze.y=qe.sa,ze.O=qe.ta+na,ze.f=qe.qa,ze.N=qe.ra+Ri,ze.ea=qe.Ha,ze.W=qe.Ia+Ri):(tn-=gn,ze.y=tr,ze.O=Rr,ze.f=ar,ze.N=Et,ze.ea=jn,ze.W=$n),Mn||(Kn-=gn),Kn>ze.o&&(Kn=ze.o),ze.F=null,ze.J=null,qe.Fa!=null&&0<qe.Fa.length&&tn<Kn&&(ze.J=H0(qe,ze,tn,Kn-tn),ze.F=qe.mb,ze.F==null&&ze.F.length==0)){kt=si(qe,3,"Could not decode alpha data.");break e}tn<ze.j&&(gn=ze.j-tn,tn=ze.j,t(!(1&gn)),ze.O+=qe.R*gn,ze.N+=qe.B*(gn>>1),ze.W+=qe.B*(gn>>1),ze.F!=null&&(ze.J+=ze.width*gn)),tn<Kn&&(ze.O+=ze.v,ze.N+=ze.v>>1,ze.W+=ze.v>>1,ze.F!=null&&(ze.J+=ze.v),ze.ka=tn-ze.j,ze.U=ze.va-ze.v,ze.T=Kn-tn,kt=ze.put(ze))}gt+1!=qe.Ic||Mn||(n(qe.sa,qe.ta-St,tr,Rr+16*qe.R,St),n(qe.qa,qe.ra-fr,ar,Et+8*qe.B,fr),n(qe.Ha,qe.Ia-fr,jn,$n+8*qe.B,fr))}if(!kt)return si(Ye,6,"Output aborted.")}return 1}(N,F)),F.bc!=null&&F.bc(F),V&=1}return V?(N.cb=0,V):0}function os(N,F,V,ne,oe){oe=N[F+V+32*ne]+(oe>>3),N[F+V+32*ne]=-256&oe?0>oe?0:255:oe}function Lh(N,F,V,ne,oe,ce){os(N,F,0,V,ne+oe),os(N,F,1,V,ne+ce),os(N,F,2,V,ne-ce),os(N,F,3,V,ne-oe)}function ss(N){return(20091*N>>16)+N}function bf(N,F,V,ne){var oe,ce=0,fe=i(16);for(oe=0;4>oe;++oe){var ge=N[F+0]+N[F+8],ye=N[F+0]-N[F+8],be=(35468*N[F+4]>>16)-ss(N[F+12]),$e=ss(N[F+4])+(35468*N[F+12]>>16);fe[ce+0]=ge+$e,fe[ce+1]=ye+be,fe[ce+2]=ye-be,fe[ce+3]=ge-$e,ce+=4,F++}for(oe=ce=0;4>oe;++oe)ge=(N=fe[ce+0]+4)+fe[ce+8],ye=N-fe[ce+8],be=(35468*fe[ce+4]>>16)-ss(fe[ce+12]),os(V,ne,0,0,ge+($e=ss(fe[ce+4])+(35468*fe[ce+12]>>16))),os(V,ne,1,0,ye+be),os(V,ne,2,0,ye-be),os(V,ne,3,0,ge-$e),ce++,ne+=32}function L0(N,F,V,ne){var oe=N[F+0]+4,ce=35468*N[F+4]>>16,fe=ss(N[F+4]),ge=35468*N[F+1]>>16;Lh(V,ne,0,oe+fe,N=ss(N[F+1]),ge),Lh(V,ne,1,oe+ce,N,ge),Lh(V,ne,2,oe-ce,N,ge),Lh(V,ne,3,oe-fe,N,ge)}function j0(N,F,V,ne,oe){bf(N,F,V,ne),oe&&bf(N,F+16,V,ne+4)}function fd(N,F,V,ne){uu(N,F+0,V,ne,1),uu(N,F+32,V,ne+128,1)}function by(N,F,V,ne){var oe;for(N=N[F+0]+4,oe=0;4>oe;++oe)for(F=0;4>F;++F)os(V,ne,F,oe,N)}function jh(N,F,V,ne){N[F+0]&&Ao(N,F+0,V,ne),N[F+16]&&Ao(N,F+16,V,ne+4),N[F+32]&&Ao(N,F+32,V,ne+128),N[F+48]&&Ao(N,F+48,V,ne+128+4)}function qn(N,F,V,ne){var oe,ce=i(16);for(oe=0;4>oe;++oe){var fe=N[F+0+oe]+N[F+12+oe],ge=N[F+4+oe]+N[F+8+oe],ye=N[F+4+oe]-N[F+8+oe],be=N[F+0+oe]-N[F+12+oe];ce[0+oe]=fe+ge,ce[8+oe]=fe-ge,ce[4+oe]=be+ye,ce[12+oe]=be-ye}for(oe=0;4>oe;++oe)fe=(N=ce[0+4*oe]+3)+ce[3+4*oe],ge=ce[1+4*oe]+ce[2+4*oe],ye=ce[1+4*oe]-ce[2+4*oe],be=N-ce[3+4*oe],V[ne+0]=fe+ge>>3,V[ne+16]=be+ye>>3,V[ne+32]=fe-ge>>3,V[ne+48]=be-ye>>3,ne+=64}function $h(N,F,V){var ne,oe=F-32,ce=Ho,fe=255-N[oe-1];for(ne=0;ne<V;++ne){var ge,ye=ce,be=fe+N[F-1];for(ge=0;ge<V;++ge)N[F+ge]=ye[be+N[oe+ge]];F+=32}}function Fg(N,F){$h(N,F,4)}function $0(N,F){$h(N,F,8)}function Lg(N,F){$h(N,F,16)}function _c(N,F){var V;for(V=0;16>V;++V)n(N,F+32*V,N,F-32,16)}function Sf(N,F){var V;for(V=16;0<V;--V)a(N,F,N[F-1],16),F+=32}function hd(N,F,V){var ne;for(ne=0;16>ne;++ne)a(F,V+32*ne,N,16)}function Af(N,F){var V,ne=16;for(V=0;16>V;++V)ne+=N[F-1+32*V]+N[F+V-32];hd(ne>>5,N,F)}function Ua(N,F){var V,ne=8;for(V=0;16>V;++V)ne+=N[F-1+32*V];hd(ne>>4,N,F)}function bc(N,F){var V,ne=8;for(V=0;16>V;++V)ne+=N[F+V-32];hd(ne>>4,N,F)}function Bl(N,F){hd(128,N,F)}function qr(N,F,V){return N+2*F+V+2>>2}function kf(N,F){var V,ne=F-32;for(ne=new Uint8Array([qr(N[ne-1],N[ne+0],N[ne+1]),qr(N[ne+0],N[ne+1],N[ne+2]),qr(N[ne+1],N[ne+2],N[ne+3]),qr(N[ne+2],N[ne+3],N[ne+4])]),V=0;4>V;++V)n(N,F+32*V,ne,0,ne.length)}function Sc(N,F){var V=N[F-1],ne=N[F-1+32],oe=N[F-1+64],ce=N[F-1+96];me(N,F+0,16843009*qr(N[F-1-32],V,ne)),me(N,F+32,16843009*qr(V,ne,oe)),me(N,F+64,16843009*qr(ne,oe,ce)),me(N,F+96,16843009*qr(oe,ce,ce))}function Ac(N,F){var V,ne=4;for(V=0;4>V;++V)ne+=N[F+V-32]+N[F-1+32*V];for(ne>>=3,V=0;4>V;++V)a(N,F+32*V,ne,4)}function B0(N,F){var V=N[F-1+0],ne=N[F-1+32],oe=N[F-1+64],ce=N[F-1-32],fe=N[F+0-32],ge=N[F+1-32],ye=N[F+2-32],be=N[F+3-32];N[F+0+96]=qr(ne,oe,N[F-1+96]),N[F+1+96]=N[F+0+64]=qr(V,ne,oe),N[F+2+96]=N[F+1+64]=N[F+0+32]=qr(ce,V,ne),N[F+3+96]=N[F+2+64]=N[F+1+32]=N[F+0+0]=qr(fe,ce,V),N[F+3+64]=N[F+2+32]=N[F+1+0]=qr(ge,fe,ce),N[F+3+32]=N[F+2+0]=qr(ye,ge,fe),N[F+3+0]=qr(be,ye,ge)}function pd(N,F){var V=N[F+1-32],ne=N[F+2-32],oe=N[F+3-32],ce=N[F+4-32],fe=N[F+5-32],ge=N[F+6-32],ye=N[F+7-32];N[F+0+0]=qr(N[F+0-32],V,ne),N[F+1+0]=N[F+0+32]=qr(V,ne,oe),N[F+2+0]=N[F+1+32]=N[F+0+64]=qr(ne,oe,ce),N[F+3+0]=N[F+2+32]=N[F+1+64]=N[F+0+96]=qr(oe,ce,fe),N[F+3+32]=N[F+2+64]=N[F+1+96]=qr(ce,fe,ge),N[F+3+64]=N[F+2+96]=qr(fe,ge,ye),N[F+3+96]=qr(ge,ye,ye)}function Bh(N,F){var V=N[F-1+0],ne=N[F-1+32],oe=N[F-1+64],ce=N[F-1-32],fe=N[F+0-32],ge=N[F+1-32],ye=N[F+2-32],be=N[F+3-32];N[F+0+0]=N[F+1+64]=ce+fe+1>>1,N[F+1+0]=N[F+2+64]=fe+ge+1>>1,N[F+2+0]=N[F+3+64]=ge+ye+1>>1,N[F+3+0]=ye+be+1>>1,N[F+0+96]=qr(oe,ne,V),N[F+0+64]=qr(ne,V,ce),N[F+0+32]=N[F+1+96]=qr(V,ce,fe),N[F+1+32]=N[F+2+96]=qr(ce,fe,ge),N[F+2+32]=N[F+3+96]=qr(fe,ge,ye),N[F+3+32]=qr(ge,ye,be)}function Uh(N,F){var V=N[F+0-32],ne=N[F+1-32],oe=N[F+2-32],ce=N[F+3-32],fe=N[F+4-32],ge=N[F+5-32],ye=N[F+6-32],be=N[F+7-32];N[F+0+0]=V+ne+1>>1,N[F+1+0]=N[F+0+64]=ne+oe+1>>1,N[F+2+0]=N[F+1+64]=oe+ce+1>>1,N[F+3+0]=N[F+2+64]=ce+fe+1>>1,N[F+0+32]=qr(V,ne,oe),N[F+1+32]=N[F+0+96]=qr(ne,oe,ce),N[F+2+32]=N[F+1+96]=qr(oe,ce,fe),N[F+3+32]=N[F+2+96]=qr(ce,fe,ge),N[F+3+64]=qr(fe,ge,ye),N[F+3+96]=qr(ge,ye,be)}function qh(N,F){var V=N[F-1+0],ne=N[F-1+32],oe=N[F-1+64],ce=N[F-1+96];N[F+0+0]=V+ne+1>>1,N[F+2+0]=N[F+0+32]=ne+oe+1>>1,N[F+2+32]=N[F+0+64]=oe+ce+1>>1,N[F+1+0]=qr(V,ne,oe),N[F+3+0]=N[F+1+32]=qr(ne,oe,ce),N[F+3+32]=N[F+1+64]=qr(oe,ce,ce),N[F+3+64]=N[F+2+64]=N[F+0+96]=N[F+1+96]=N[F+2+96]=N[F+3+96]=ce}function jg(N,F){var V=N[F-1+0],ne=N[F-1+32],oe=N[F-1+64],ce=N[F-1+96],fe=N[F-1-32],ge=N[F+0-32],ye=N[F+1-32],be=N[F+2-32];N[F+0+0]=N[F+2+32]=V+fe+1>>1,N[F+0+32]=N[F+2+64]=ne+V+1>>1,N[F+0+64]=N[F+2+96]=oe+ne+1>>1,N[F+0+96]=ce+oe+1>>1,N[F+3+0]=qr(ge,ye,be),N[F+2+0]=qr(fe,ge,ye),N[F+1+0]=N[F+3+32]=qr(V,fe,ge),N[F+1+32]=N[F+3+64]=qr(ne,V,fe),N[F+1+64]=N[F+3+96]=qr(oe,ne,V),N[F+1+96]=qr(ce,oe,ne)}function Sy(N,F){var V;for(V=0;8>V;++V)n(N,F+32*V,N,F-32,8)}function iu(N,F){var V;for(V=0;8>V;++V)a(N,F,N[F-1],8),F+=32}function Ul(N,F,V){var ne;for(ne=0;8>ne;++ne)a(F,V+32*ne,N,8)}function qs(N,F){var V,ne=8;for(V=0;8>V;++V)ne+=N[F+V-32]+N[F-1+32*V];Ul(ne>>4,N,F)}function zh(N,F){var V,ne=4;for(V=0;8>V;++V)ne+=N[F+V-32];Ul(ne>>3,N,F)}function Nf(N,F){var V,ne=4;for(V=0;8>V;++V)ne+=N[F-1+32*V];Ul(ne>>3,N,F)}function U0(N,F){Ul(128,N,F)}function md(N,F,V){var ne=N[F-V],oe=N[F+0],ce=3*(oe-ne)+Tc[1020+N[F-2*V]-N[F+V]],fe=op[112+(ce+4>>3)];N[F-V]=Ho[255+ne+op[112+(ce+3>>3)]],N[F+0]=Ho[255+oe-fe]}function Ef(N,F,V,ne){var oe=N[F+0],ce=N[F+V];return ml[255+N[F-2*V]-N[F-V]]>ne||ml[255+ce-oe]>ne}function Wh(N,F,V,ne){return 4*ml[255+N[F-V]-N[F+0]]+ml[255+N[F-2*V]-N[F+V]]<=ne}function q0(N,F,V,ne,oe){var ce=N[F-3*V],fe=N[F-2*V],ge=N[F-V],ye=N[F+0],be=N[F+V],$e=N[F+2*V],et=N[F+3*V];return 4*ml[255+ge-ye]+ml[255+fe-be]>ne?0:ml[255+N[F-4*V]-ce]<=oe&&ml[255+ce-fe]<=oe&&ml[255+fe-ge]<=oe&&ml[255+et-$e]<=oe&&ml[255+$e-be]<=oe&&ml[255+be-ye]<=oe}function ql(N,F,V,ne){var oe=2*ne+1;for(ne=0;16>ne;++ne)Wh(N,F+ne,V,oe)&&md(N,F+ne,V)}function fl(N,F,V,ne){var oe=2*ne+1;for(ne=0;16>ne;++ne)Wh(N,F+ne*V,1,oe)&&md(N,F+ne*V,1)}function hl(N,F,V,ne){var oe;for(oe=3;0<oe;--oe)ql(N,F+=4*V,V,ne)}function $g(N,F,V,ne){var oe;for(oe=3;0<oe;--oe)fl(N,F+=4,V,ne)}function zl(N,F,V,ne,oe,ce,fe,ge){for(ce=2*ce+1;0<oe--;){if(q0(N,F,V,ce,fe))if(Ef(N,F,V,ge))md(N,F,V);else{var ye=N,be=F,$e=V,et=ye[be-2*$e],tt=ye[be-$e],Ye=ye[be+0],Ot=ye[be+$e],gt=ye[be+2*$e],qe=27*(kt=Tc[1020+3*(Ye-tt)+Tc[1020+et-Ot]])+63>>7,ze=18*kt+63>>7,kt=9*kt+63>>7;ye[be-3*$e]=Ho[255+ye[be-3*$e]+kt],ye[be-2*$e]=Ho[255+et+ze],ye[be-$e]=Ho[255+tt+qe],ye[be+0]=Ho[255+Ye-qe],ye[be+$e]=Ho[255+Ot-ze],ye[be+2*$e]=Ho[255+gt-kt]}F+=ne}}function ls(N,F,V,ne,oe,ce,fe,ge){for(ce=2*ce+1;0<oe--;){if(q0(N,F,V,ce,fe))if(Ef(N,F,V,ge))md(N,F,V);else{var ye=N,be=F,$e=V,et=ye[be-$e],tt=ye[be+0],Ye=ye[be+$e],Ot=op[112+((gt=3*(tt-et))+4>>3)],gt=op[112+(gt+3>>3)],qe=Ot+1>>1;ye[be-2*$e]=Ho[255+ye[be-2*$e]+qe],ye[be-$e]=Ho[255+et+gt],ye[be+0]=Ho[255+tt-Ot],ye[be+$e]=Ho[255+Ye-qe]}F+=ne}}function Hh(N,F,V,ne,oe,ce){zl(N,F,V,1,16,ne,oe,ce)}function Ii(N,F,V,ne,oe,ce){zl(N,F,1,V,16,ne,oe,ce)}function gd(N,F,V,ne,oe,ce){var fe;for(fe=3;0<fe;--fe)ls(N,F+=4*V,V,1,16,ne,oe,ce)}function vd(N,F,V,ne,oe,ce){var fe;for(fe=3;0<fe;--fe)ls(N,F+=4,1,V,16,ne,oe,ce)}function Cf(N,F,V,ne,oe,ce,fe,ge){zl(N,F,oe,1,8,ce,fe,ge),zl(V,ne,oe,1,8,ce,fe,ge)}function z0(N,F,V,ne,oe,ce,fe,ge){zl(N,F,1,oe,8,ce,fe,ge),zl(V,ne,1,oe,8,ce,fe,ge)}function Tf(N,F,V,ne,oe,ce,fe,ge){ls(N,F+4*oe,oe,1,8,ce,fe,ge),ls(V,ne+4*oe,oe,1,8,ce,fe,ge)}function Vh(N,F,V,ne,oe,ce,fe,ge){ls(N,F+4,1,oe,8,ce,fe,ge),ls(V,ne+4,1,oe,8,ce,fe,ge)}function kc(){this.ba=new Sr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Jt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function yd(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Gh(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Bg(){this.ua=0,this.Wa=new he,this.vb=new he,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new G,this.yc=new O}function Ay(){this.xb=this.a=0,this.l=new wc,this.ca=new Sr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new R,this.Pb=0,this.wd=new R,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Bg,this.ab=0,this.gc=o(4,Gh),this.Oc=0}function Kh(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new wc,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ou(N,F,V,ne,oe,ce,fe){for(N=N==null?0:N[F+0],F=0;F<fe;++F)oe[ce+F]=N+V[ne+F]&255,N=oe[ce+F]}function W0(N,F,V,ne,oe,ce,fe){var ge;if(N==null)ou(null,null,V,ne,oe,ce,fe);else for(ge=0;ge<fe;++ge)oe[ce+ge]=N[F+ge]+V[ne+ge]&255}function xd(N,F,V,ne,oe,ce,fe){if(N==null)ou(null,null,V,ne,oe,ce,fe);else{var ge,ye=N[F+0],be=ye,$e=ye;for(ge=0;ge<fe;++ge)be=$e+(ye=N[F+ge])-be,$e=V[ne+ge]+(-256&be?0>be?0:255:be)&255,be=ye,oe[ce+ge]=$e}}function H0(N,F,V,ne){var oe=F.width,ce=F.o;if(t(N!=null&&F!=null),0>V||0>=ne||V+ne>ce)return null;if(!N.Cc){if(N.ga==null){var fe;if(N.ga=new Kh,(fe=N.ga==null)||(fe=F.width*F.o,t(N.Gb.length==0),N.Gb=i(fe),N.Uc=0,N.Gb==null?fe=0:(N.mb=N.Gb,N.nb=N.Uc,N.rc=null,fe=1),fe=!fe),!fe){fe=N.ga;var ge=N.Fa,ye=N.P,be=N.qc,$e=N.mb,et=N.nb,tt=ye+1,Ye=be-1,Ot=fe.l;if(t(ge!=null&&$e!=null&&F!=null),ko[0]=null,ko[1]=ou,ko[2]=W0,ko[3]=xd,fe.ca=$e,fe.tb=et,fe.c=F.width,fe.i=F.height,t(0<fe.c&&0<fe.i),1>=be)F=0;else if(fe.$a=ge[ye+0]>>0&3,fe.Z=ge[ye+0]>>2&3,fe.Lc=ge[ye+0]>>4&3,ye=ge[ye+0]>>6&3,0>fe.$a||1<fe.$a||4<=fe.Z||1<fe.Lc||ye)F=0;else if(Ot.put=ln,Ot.ac=cr,Ot.bc=ga,Ot.ma=fe,Ot.width=F.width,Ot.height=F.height,Ot.Da=F.Da,Ot.v=F.v,Ot.va=F.va,Ot.j=F.j,Ot.o=F.o,fe.$a)e:{t(fe.$a==1),F=vt();t:for(;;){if(F==null){F=0;break e}if(t(fe!=null),fe.mc=F,F.c=fe.c,F.i=fe.i,F.l=fe.l,F.l.ma=fe,F.l.width=fe.c,F.l.height=fe.i,F.a=0,K(F.m,ge,tt,Ye),!rt(fe.c,fe.i,1,F,null)||(F.ab==1&&F.gc[0].hc==3&&we(F.s)?(fe.ic=1,ge=F.c*F.i,F.Ta=null,F.Ua=0,F.V=i(ge),F.Ba=0,F.V==null?(F.a=1,F=0):F=1):(fe.ic=0,F=it(F,fe.c)),!F))break t;F=1;break e}fe.mc=null,F=0}else F=Ye>=fe.c*fe.i;fe=!F}if(fe)return null;N.ga.Lc!=1?N.Ga=0:ne=ce-V}t(N.ga!=null),t(V+ne<=ce);e:{if(F=(ge=N.ga).c,ce=ge.l.o,ge.$a==0){if(tt=N.rc,Ye=N.Vc,Ot=N.Fa,ye=N.P+1+V*F,be=N.mb,$e=N.nb+V*F,t(ye<=N.P+N.qc),ge.Z!=0)for(t(ko[ge.Z]!=null),fe=0;fe<ne;++fe)ko[ge.Z](tt,Ye,Ot,ye,be,$e,F),tt=be,Ye=$e,$e+=F,ye+=F;else for(fe=0;fe<ne;++fe)n(be,$e,Ot,ye,F),tt=be,Ye=$e,$e+=F,ye+=F;N.rc=tt,N.Vc=Ye}else{if(t(ge.mc!=null),F=V+ne,t((fe=ge.mc)!=null),t(F<=fe.i),fe.C>=F)F=1;else if(ge.ic||Qe(),ge.ic){ge=fe.V,tt=fe.Ba,Ye=fe.c;var gt=fe.i,qe=(Ot=1,ye=fe.$/Ye,be=fe.$%Ye,$e=fe.m,et=fe.s,fe.$),ze=Ye*gt,kt=Ye*F,St=et.wc,Et=qe<kt?ca(et,be,ye):null;t(qe<=ze),t(F<=gt),t(we(et));t:for(;;){for(;!$e.h&&qe<kt;){if(be&St||(Et=ca(et,be,ye)),t(Et!=null),ie($e),256>(gt=Di(Et.G[0],Et.H[0],$e)))ge[tt+qe]=gt,++qe,++be>=Ye&&(be=0,++ye<=F&&!(ye%16)&&Ae(fe,ye));else{if(!(280>gt)){Ot=0;break t}gt=gi(gt-256,$e);var fr,tr=Di(Et.G[4],Et.H[4],$e);if(ie($e),!(qe>=(tr=kn(Ye,tr=gi(tr,$e)))&&ze-qe>=gt)){Ot=0;break t}for(fr=0;fr<gt;++fr)ge[tt+qe+fr]=ge[tt+qe+fr-tr];for(qe+=gt,be+=gt;be>=Ye;)be-=Ye,++ye<=F&&!(ye%16)&&Ae(fe,ye);qe<kt&&be&St&&(Et=ca(et,be,ye))}t($e.h==X($e))}Ae(fe,ye>F?F:ye);break t}!Ot||$e.h&&qe<ze?(Ot=0,fe.a=$e.h?5:3):fe.$=qe,F=Ot}else F=ke(fe,fe.V,fe.Ba,fe.c,fe.i,F,ut);if(!F){ne=0;break e}}V+ne>=ce&&(N.Cc=1),ne=1}if(!ne)return null;if(N.Cc&&((ne=N.ga)!=null&&(ne.mc=null),N.ga=null,0<N.Ga))return alert("todo:WebPDequantizeLevels"),null}return N.nb+V*oe}function U(N,F,V,ne,oe,ce){for(;0<oe--;){var fe,ge=N,ye=F+(V?1:0),be=N,$e=F+(V?0:3);for(fe=0;fe<ne;++fe){var et=be[$e+4*fe];et!=255&&(et*=32897,ge[ye+4*fe+0]=ge[ye+4*fe+0]*et>>23,ge[ye+4*fe+1]=ge[ye+4*fe+1]*et>>23,ge[ye+4*fe+2]=ge[ye+4*fe+2]*et>>23)}F+=ce}}function se(N,F,V,ne,oe){for(;0<ne--;){var ce;for(ce=0;ce<V;++ce){var fe=N[F+2*ce+0],ge=15&(be=N[F+2*ce+1]),ye=4369*ge,be=(240&be|be>>4)*ye>>16;N[F+2*ce+0]=(240&fe|fe>>4)*ye>>16&240|(15&fe|fe<<4)*ye>>16>>4&15,N[F+2*ce+1]=240&be|ge}F+=oe}}function Ne(N,F,V,ne,oe,ce,fe,ge){var ye,be,$e=255;for(be=0;be<oe;++be){for(ye=0;ye<ne;++ye){var et=N[F+ye];ce[fe+4*ye]=et,$e&=et}F+=V,fe+=ge}return $e!=255}function je(N,F,V,ne,oe){var ce;for(ce=0;ce<oe;++ce)V[ne+ce]=N[F+ce]>>8}function Qe(){cs=U,va=se,ta=Ne,ni=je}function bt(N,F,V){I[N]=function(ne,oe,ce,fe,ge,ye,be,$e,et,tt,Ye,Ot,gt,qe,ze,kt,St){var Et,fr=St-1>>1,tr=ge[ye+0]|be[$e+0]<<16,Rr=et[tt+0]|Ye[Ot+0]<<16;t(ne!=null);var ar=3*tr+Rr+131074>>2;for(F(ne[oe+0],255&ar,ar>>16,gt,qe),ce!=null&&(ar=3*Rr+tr+131074>>2,F(ce[fe+0],255&ar,ar>>16,ze,kt)),Et=1;Et<=fr;++Et){var jn=ge[ye+Et]|be[$e+Et]<<16,$n=et[tt+Et]|Ye[Ot+Et]<<16,Mn=tr+jn+Rr+$n+524296,gn=Mn+2*(jn+Rr)>>3;ar=gn+tr>>1,tr=(Mn=Mn+2*(tr+$n)>>3)+jn>>1,F(ne[oe+2*Et-1],255&ar,ar>>16,gt,qe+(2*Et-1)*V),F(ne[oe+2*Et-0],255&tr,tr>>16,gt,qe+(2*Et-0)*V),ce!=null&&(ar=Mn+Rr>>1,tr=gn+$n>>1,F(ce[fe+2*Et-1],255&ar,ar>>16,ze,kt+(2*Et-1)*V),F(ce[fe+2*Et+0],255&tr,tr>>16,ze,kt+(2*Et+0)*V)),tr=jn,Rr=$n}1&St||(ar=3*tr+Rr+131074>>2,F(ne[oe+St-1],255&ar,ar>>16,gt,qe+(St-1)*V),ce!=null&&(ar=3*Rr+tr+131074>>2,F(ce[fe+St-1],255&ar,ar>>16,ze,kt+(St-1)*V)))}}function Mt(){ds[qg]=uA,ds[Ad]=kd,ds[c_]=dA,ds[X0]=up,ds[Z0]=Uf,ds[ya]=rm,ds[zg]=Cy,ds[sp]=kd,ds[jf]=up,ds[J0]=Uf,ds[Q0]=rm}function sr(N){return N&-16384?0>N?0:255:N>>Nd}function Ir(N,F){return sr((19077*N>>8)+(26149*F>>8)-14234)}function dn(N,F,V){return sr((19077*N>>8)-(6419*F>>8)-(13320*V>>8)+8708)}function cn(N,F){return sr((19077*N>>8)+(33050*F>>8)-17685)}function On(N,F,V,ne,oe){ne[oe+0]=Ir(N,V),ne[oe+1]=dn(N,F,V),ne[oe+2]=cn(N,F)}function qa(N,F,V,ne,oe){ne[oe+0]=cn(N,F),ne[oe+1]=dn(N,F,V),ne[oe+2]=Ir(N,V)}function ti(N,F,V,ne,oe){var ce=dn(N,F,V);F=ce<<3&224|cn(N,F)>>3,ne[oe+0]=248&Ir(N,V)|ce>>5,ne[oe+1]=F}function yi(N,F,V,ne,oe){var ce=240&cn(N,F)|15;ne[oe+0]=240&Ir(N,V)|dn(N,F,V)>>4,ne[oe+1]=ce}function bo(N,F,V,ne,oe){ne[oe+0]=255,On(N,F,V,ne,oe+1)}function Ji(N,F,V,ne,oe){qa(N,F,V,ne,oe),ne[oe+3]=255}function Wl(N,F,V,ne,oe){On(N,F,V,ne,oe),ne[oe+3]=255}function zs(N,F){return 0>N?0:N>F?F:N}function pl(N,F,V){I[N]=function(ne,oe,ce,fe,ge,ye,be,$e,et){for(var tt=$e+(-2&et)*V;$e!=tt;)F(ne[oe+0],ce[fe+0],ge[ye+0],be,$e),F(ne[oe+1],ce[fe+0],ge[ye+0],be,$e+V),oe+=2,++fe,++ye,$e+=2*V;1&et&&F(ne[oe+0],ce[fe+0],ge[ye+0],be,$e)}}function wd(N,F,V){return V==0?N==0?F==0?6:5:F==0?4:0:V}function V0(N,F,V,ne,oe){switch(N>>>30){case 3:uu(F,V,ne,oe,0);break;case 2:zn(F,V,ne,oe);break;case 1:Ao(F,V,ne,oe)}}function Yh(N,F){var V,ne,oe=F.M,ce=F.Nb,fe=N.oc,ge=N.pc+40,ye=N.oc,be=N.pc+584,$e=N.oc,et=N.pc+600;for(V=0;16>V;++V)fe[ge+32*V-1]=129;for(V=0;8>V;++V)ye[be+32*V-1]=129,$e[et+32*V-1]=129;for(0<oe?fe[ge-1-32]=ye[be-1-32]=$e[et-1-32]=129:(a(fe,ge-32-1,127,21),a(ye,be-32-1,127,9),a($e,et-32-1,127,9)),ne=0;ne<N.za;++ne){var tt=F.ya[F.aa+ne];if(0<ne){for(V=-1;16>V;++V)n(fe,ge+32*V-4,fe,ge+32*V+12,4);for(V=-1;8>V;++V)n(ye,be+32*V-4,ye,be+32*V+4,4),n($e,et+32*V-4,$e,et+32*V+4,4)}var Ye=N.Gd,Ot=N.Hd+ne,gt=tt.ad,qe=tt.Hc;if(0<oe&&(n(fe,ge-32,Ye[Ot].y,0,16),n(ye,be-32,Ye[Ot].f,0,8),n($e,et-32,Ye[Ot].ea,0,8)),tt.Za){var ze=fe,kt=ge-32+16;for(0<oe&&(ne>=N.za-1?a(ze,kt,Ye[Ot].y[15],4):n(ze,kt,Ye[Ot+1].y,0,4)),V=0;4>V;V++)ze[kt+128+V]=ze[kt+256+V]=ze[kt+384+V]=ze[kt+0+V];for(V=0;16>V;++V,qe<<=2)ze=fe,kt=ge+Ty[V],gl[tt.Ob[V]](ze,kt),V0(qe,gt,16*+V,ze,kt)}else if(ze=wd(ne,oe,tt.Ob[0]),Vo[ze](fe,ge),qe!=0)for(V=0;16>V;++V,qe<<=2)V0(qe,gt,16*+V,fe,ge+Ty[V]);for(V=tt.Gc,ze=wd(ne,oe,tt.Dd),us[ze](ye,be),us[ze]($e,et),qe=gt,ze=ye,kt=be,255&(tt=V>>0)&&(170&tt?du(qe,256,ze,kt):Ws(qe,256,ze,kt)),tt=$e,qe=et,255&(V>>=8)&&(170&V?du(gt,320,tt,qe):Ws(gt,320,tt,qe)),oe<N.Ub-1&&(n(Ye[Ot].y,0,fe,ge+480,16),n(Ye[Ot].f,0,ye,be+224,8),n(Ye[Ot].ea,0,$e,et+224,8)),V=8*ce*N.B,Ye=N.sa,Ot=N.ta+16*ne+16*ce*N.R,gt=N.qa,tt=N.ra+8*ne+V,qe=N.Ha,ze=N.Ia+8*ne+V,V=0;16>V;++V)n(Ye,Ot+V*N.R,fe,ge+32*V,16);for(V=0;8>V;++V)n(gt,tt+V*N.B,ye,be+32*V,8),n(qe,ze+V*N.B,$e,et+32*V,8)}}function Pf(N,F,V,ne,oe,ce,fe,ge,ye){var be=[0],$e=[0],et=0,tt=ye!=null?ye.kd:0,Ye=ye??new yd;if(N==null||12>V)return 7;Ye.data=N,Ye.w=F,Ye.ha=V,F=[F],V=[V],Ye.gb=[Ye.gb];e:{var Ot=F,gt=V,qe=Ye.gb;if(t(N!=null),t(gt!=null),t(qe!=null),qe[0]=0,12<=gt[0]&&!r(N,Ot[0],"RIFF")){if(r(N,Ot[0]+8,"WEBP")){qe=3;break e}var ze=Ue(N,Ot[0]+4);if(12>ze||4294967286<ze){qe=3;break e}if(tt&&ze>gt[0]-8){qe=7;break e}qe[0]=ze,Ot[0]+=12,gt[0]-=12}qe=0}if(qe!=0)return qe;for(ze=0<Ye.gb[0],V=V[0];;){e:{var kt=N;gt=F,qe=V;var St=be,Et=$e,fr=Ot=[0];if((ar=et=[et])[0]=0,8>qe[0])qe=7;else{if(!r(kt,gt[0],"VP8X")){if(Ue(kt,gt[0]+4)!=10){qe=3;break e}if(18>qe[0]){qe=7;break e}var tr=Ue(kt,gt[0]+8),Rr=1+ae(kt,gt[0]+12);if(2147483648<=Rr*(kt=1+ae(kt,gt[0]+15))){qe=3;break e}fr!=null&&(fr[0]=tr),St!=null&&(St[0]=Rr),Et!=null&&(Et[0]=kt),gt[0]+=18,qe[0]-=18,ar[0]=1}qe=0}}if(et=et[0],Ot=Ot[0],qe!=0)return qe;if(gt=!!(2&Ot),!ze&&et)return 3;if(ce!=null&&(ce[0]=!!(16&Ot)),fe!=null&&(fe[0]=gt),ge!=null&&(ge[0]=0),fe=be[0],Ot=$e[0],et&&gt&&ye==null){qe=0;break}if(4>V){qe=7;break}if(ze&&et||!ze&&!et&&!r(N,F[0],"ALPH")){V=[V],Ye.na=[Ye.na],Ye.P=[Ye.P],Ye.Sa=[Ye.Sa];e:{tr=N,qe=F,ze=V;var ar=Ye.gb;St=Ye.na,Et=Ye.P,fr=Ye.Sa,Rr=22,t(tr!=null),t(ze!=null),kt=qe[0];var jn=ze[0];for(t(St!=null),t(fr!=null),St[0]=null,Et[0]=null,fr[0]=0;;){if(qe[0]=kt,ze[0]=jn,8>jn){qe=7;break e}var $n=Ue(tr,kt+4);if(4294967286<$n){qe=3;break e}var Mn=8+$n+1&-2;if(Rr+=Mn,0<ar&&Rr>ar){qe=3;break e}if(!r(tr,kt,"VP8 ")||!r(tr,kt,"VP8L")){qe=0;break e}if(jn[0]<Mn){qe=7;break e}r(tr,kt,"ALPH")||(St[0]=tr,Et[0]=kt+8,fr[0]=$n),kt+=Mn,jn-=Mn}}if(V=V[0],Ye.na=Ye.na[0],Ye.P=Ye.P[0],Ye.Sa=Ye.Sa[0],qe!=0)break}V=[V],Ye.Ja=[Ye.Ja],Ye.xa=[Ye.xa];e:if(ar=N,qe=F,ze=V,St=Ye.gb[0],Et=Ye.Ja,fr=Ye.xa,tr=qe[0],kt=!r(ar,tr,"VP8 "),Rr=!r(ar,tr,"VP8L"),t(ar!=null),t(ze!=null),t(Et!=null),t(fr!=null),8>ze[0])qe=7;else{if(kt||Rr){if(ar=Ue(ar,tr+4),12<=St&&ar>St-12){qe=3;break e}if(tt&&ar>ze[0]-8){qe=7;break e}Et[0]=ar,qe[0]+=8,ze[0]-=8,fr[0]=Rr}else fr[0]=5<=ze[0]&&ar[tr+0]==47&&!(ar[tr+4]>>5),Et[0]=ze[0];qe=0}if(V=V[0],Ye.Ja=Ye.Ja[0],Ye.xa=Ye.xa[0],F=F[0],qe!=0)break;if(4294967286<Ye.Ja)return 3;if(ge==null||gt||(ge[0]=Ye.xa?2:1),fe=[fe],Ot=[Ot],Ye.xa){if(5>V){qe=7;break}ge=fe,tt=Ot,gt=ce,N==null||5>V?N=0:5<=V&&N[F+0]==47&&!(N[F+4]>>5)?(ze=[0],ar=[0],St=[0],K(Et=new R,N,F,V),gr(Et,ze,ar,St)?(ge!=null&&(ge[0]=ze[0]),tt!=null&&(tt[0]=ar[0]),gt!=null&&(gt[0]=St[0]),N=1):N=0):N=0}else{if(10>V){qe=7;break}ge=Ot,N==null||10>V||!Rg(N,F+3,V-3)?N=0:(tt=N[F+0]|N[F+1]<<8|N[F+2]<<16,gt=16383&(N[F+7]<<8|N[F+6]),N=16383&(N[F+9]<<8|N[F+8]),1&tt||3<(tt>>1&7)||!(tt>>4&1)||tt>>5>=Ye.Ja||!gt||!N?N=0:(fe&&(fe[0]=gt),ge&&(ge[0]=N),N=1))}if(!N||(fe=fe[0],Ot=Ot[0],et&&(be[0]!=fe||$e[0]!=Ot)))return 3;ye!=null&&(ye[0]=Ye,ye.offset=F-ye.w,t(4294967286>F-ye.w),t(ye.offset==ye.ha-V));break}return qe==0||qe==7&&et&&ye==null?(ce!=null&&(ce[0]|=Ye.na!=null&&0<Ye.na.length),ne!=null&&(ne[0]=fe),oe!=null&&(oe[0]=Ot),0):qe}function Xh(N,F,V){var ne=F.width,oe=F.height,ce=0,fe=0,ge=ne,ye=oe;if(F.Da=N!=null&&0<N.Da,F.Da&&(ge=N.cd,ye=N.bd,ce=N.v,fe=N.j,11>V||(ce&=-2,fe&=-2),0>ce||0>fe||0>=ge||0>=ye||ce+ge>ne||fe+ye>oe))return 0;if(F.v=ce,F.j=fe,F.va=ce+ge,F.o=fe+ye,F.U=ge,F.T=ye,F.da=N!=null&&0<N.da,F.da){if(!Ze(ge,ye,V=[N.ib],ce=[N.hb]))return 0;F.ib=V[0],F.hb=ce[0]}return F.ob=N!=null&&N.ob,F.Kb=N==null||!N.Sd,F.da&&(F.ob=F.ib<3*ne/4&&F.hb<3*oe/4,F.Kb=0),1}function Zh(N){if(N==null)return 2;if(11>N.S){var F=N.f.RGBA;F.fb+=(N.height-1)*F.A,F.A=-F.A}else F=N.f.kb,N=N.height,F.O+=(N-1)*F.fa,F.fa=-F.fa,F.N+=(N-1>>1)*F.Ab,F.Ab=-F.Ab,F.W+=(N-1>>1)*F.Db,F.Db=-F.Db,F.F!=null&&(F.J+=(N-1)*F.lb,F.lb=-F.lb);return 0}function Of(N,F,V,ne){if(ne==null||0>=N||0>=F)return 2;if(V!=null){if(V.Da){var oe=V.cd,ce=V.bd,fe=-2&V.v,ge=-2&V.j;if(0>fe||0>ge||0>=oe||0>=ce||fe+oe>N||ge+ce>F)return 2;N=oe,F=ce}if(V.da){if(!Ze(N,F,oe=[V.ib],ce=[V.hb]))return 2;N=oe[0],F=ce[0]}}ne.width=N,ne.height=F;e:{var ye=ne.width,be=ne.height;if(N=ne.S,0>=ye||0>=be||!(N>=qg&&13>N))N=2;else{if(0>=ne.Rd&&ne.sd==null){fe=ce=oe=F=0;var $e=(ge=ye*nm[N])*be;if(11>N||(ce=(be+1)/2*(F=(ye+1)/2),N==12&&(fe=(oe=ye)*be)),(be=i($e+2*ce+fe))==null){N=1;break e}ne.sd=be,11>N?((ye=ne.f.RGBA).eb=be,ye.fb=0,ye.A=ge,ye.size=$e):((ye=ne.f.kb).y=be,ye.O=0,ye.fa=ge,ye.Fd=$e,ye.f=be,ye.N=0+$e,ye.Ab=F,ye.Cd=ce,ye.ea=be,ye.W=0+$e+ce,ye.Db=F,ye.Ed=ce,N==12&&(ye.F=be,ye.J=0+$e+2*ce),ye.Tc=fe,ye.lb=oe)}if(F=1,oe=ne.S,ce=ne.width,fe=ne.height,oe>=qg&&13>oe)if(11>oe)N=ne.f.RGBA,F&=(ge=Math.abs(N.A))*(fe-1)+ce<=N.size,F&=ge>=ce*nm[oe],F&=N.eb!=null;else{N=ne.f.kb,ge=(ce+1)/2,$e=(fe+1)/2,ye=Math.abs(N.fa),be=Math.abs(N.Ab);var et=Math.abs(N.Db),tt=Math.abs(N.lb),Ye=tt*(fe-1)+ce;F&=ye*(fe-1)+ce<=N.Fd,F&=be*($e-1)+ge<=N.Cd,F=(F&=et*($e-1)+ge<=N.Ed)&ye>=ce&be>=ge&et>=ge,F&=N.y!=null,F&=N.f!=null,F&=N.ea!=null,oe==12&&(F&=tt>=ce,F&=Ye<=N.Tc,F&=N.F!=null)}else F=0;N=F?0:2}}return N!=0||V!=null&&V.fd&&(N=Zh(ne)),N}var ri=64,Jh=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Qh=24,ep=32,tp=8,qo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Pt("Predictor0","PredictorAdd0"),I.Predictor0=function(){return 4278190080},I.Predictor1=function(N){return N},I.Predictor2=function(N,F,V){return F[V+0]},I.Predictor3=function(N,F,V){return F[V+1]},I.Predictor4=function(N,F,V){return F[V-1]},I.Predictor5=function(N,F,V){return xe(xe(N,F[V+1]),F[V+0])},I.Predictor6=function(N,F,V){return xe(N,F[V-1])},I.Predictor7=function(N,F,V){return xe(N,F[V+0])},I.Predictor8=function(N,F,V){return xe(F[V-1],F[V+0])},I.Predictor9=function(N,F,V){return xe(F[V+0],F[V+1])},I.Predictor10=function(N,F,V){return xe(xe(N,F[V-1]),xe(F[V+0],F[V+1]))},I.Predictor11=function(N,F,V){var ne=F[V+0];return 0>=ft(ne>>24&255,N>>24&255,(F=F[V-1])>>24&255)+ft(ne>>16&255,N>>16&255,F>>16&255)+ft(ne>>8&255,N>>8&255,F>>8&255)+ft(255&ne,255&N,255&F)?ne:N},I.Predictor12=function(N,F,V){var ne=F[V+0];return(Ee((N>>24&255)+(ne>>24&255)-((F=F[V-1])>>24&255))<<24|Ee((N>>16&255)+(ne>>16&255)-(F>>16&255))<<16|Ee((N>>8&255)+(ne>>8&255)-(F>>8&255))<<8|Ee((255&N)+(255&ne)-(255&F)))>>>0},I.Predictor13=function(N,F,V){var ne=F[V-1];return(We((N=xe(N,F[V+0]))>>24&255,ne>>24&255)<<24|We(N>>16&255,ne>>16&255)<<16|We(N>>8&255,ne>>8&255)<<8|We(N>>0&255,ne>>0&255))>>>0};var Df=I.PredictorAdd0;I.PredictorAdd1=mt,Pt("Predictor2","PredictorAdd2"),Pt("Predictor3","PredictorAdd3"),Pt("Predictor4","PredictorAdd4"),Pt("Predictor5","PredictorAdd5"),Pt("Predictor6","PredictorAdd6"),Pt("Predictor7","PredictorAdd7"),Pt("Predictor8","PredictorAdd8"),Pt("Predictor9","PredictorAdd9"),Pt("Predictor10","PredictorAdd10"),Pt("Predictor11","PredictorAdd11"),Pt("Predictor12","PredictorAdd12"),Pt("Predictor13","PredictorAdd13");var su=I.PredictorAdd2;At("ColorIndexInverseTransform","MapARGB","32b",function(N){return N>>8&255},function(N){return N}),At("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(N){return N},function(N){return N>>8&255});var Ug,zo=I.ColorIndexInverseTransform,rp=I.MapARGB,G0=I.VP8LColorIndexInverseTransformAlpha,np=I.MapAlpha,Nc=I.VP8LPredictorsAdd=[];Nc.length=16,(I.VP8LPredictors=[]).length=16,(I.VP8LPredictorsAdd_C=[]).length=16,(I.VP8LPredictors_C=[]).length=16;var _d,Wo,So,bd,lu,cu,ap,uu,zn,du,Ao,Ws,If,K0,Rf,Mf,Ff,Hs,fu,Ec,hu,pu,Sd,co,cs,va,ta,ni,xi=i(511),Cc=i(2041),ip=i(225),Lf=i(767),Y0=0,Tc=Cc,op=ip,Ho=Lf,ml=xi,qg=0,Ad=1,c_=2,X0=3,Z0=4,ya=5,zg=6,sp=7,jf=8,J0=9,Q0=10,em=[2,3,7],Wg=[3,3,11],$f=[280,256,256,256,40],u_=[0,1,1,1,0],oA=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],sA=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],d_=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Hg=8,lp=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],tm=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Bf=null,ky=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Ny=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],f_=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],h_=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],lA=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],cA=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Ey=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Vo=[],gl=[],us=[],Pc=1,cp=2,ko=[],ds=[];bt("UpsampleRgbLinePair",On,3),bt("UpsampleBgrLinePair",qa,3),bt("UpsampleRgbaLinePair",Wl,4),bt("UpsampleBgraLinePair",Ji,4),bt("UpsampleArgbLinePair",bo,4),bt("UpsampleRgba4444LinePair",yi,2),bt("UpsampleRgb565LinePair",ti,2);var uA=I.UpsampleRgbLinePair,dA=I.UpsampleBgrLinePair,kd=I.UpsampleRgbaLinePair,up=I.UpsampleBgraLinePair,Uf=I.UpsampleArgbLinePair,rm=I.UpsampleRgba4444LinePair,Cy=I.UpsampleRgb565LinePair,mu=16,Hl=1<<mu-1,ra=-227,ua=482,Nd=6,uo=0,fs=i(256),qf=i(256),dp=i(256),hs=i(256),Vg=i(ua-ra),p_=i(ua-ra);pl("YuvToRgbRow",On,3),pl("YuvToBgrRow",qa,3),pl("YuvToRgbaRow",Wl,4),pl("YuvToBgraRow",Ji,4),pl("YuvToArgbRow",bo,4),pl("YuvToRgba4444Row",yi,2),pl("YuvToRgb565Row",ti,2);var Ty=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],zf=[0,2,8],m_=[8,7,6,4,4,2,2,2,1,1,1,1],gu=1;this.WebPDecodeRGBA=function(N,F,V,ne,oe){var ce=Ad,fe=new kc,ge=new Sr;fe.ba=ge,ge.S=ce,ge.width=[ge.width],ge.height=[ge.height];var ye=ge.width,be=ge.height,$e=new Fr;if($e==null||N==null)var et=2;else t($e!=null),et=Pf(N,F,V,$e.width,$e.height,$e.Pd,$e.Qd,$e.format,null);if(et!=0?ye=0:(ye!=null&&(ye[0]=$e.width[0]),be!=null&&(be[0]=$e.height[0]),ye=1),ye){ge.width=ge.width[0],ge.height=ge.height[0],ne!=null&&(ne[0]=ge.width),oe!=null&&(oe[0]=ge.height);e:{if(ne=new wc,(oe=new yd).data=N,oe.w=F,oe.ha=V,oe.kd=1,F=[0],t(oe!=null),((N=Pf(oe.data,oe.w,oe.ha,null,null,null,F,null,oe))==0||N==7)&&F[0]&&(N=4),(F=N)==0){if(t(fe!=null),ne.data=oe.data,ne.w=oe.w+oe.offset,ne.ha=oe.ha-oe.offset,ne.put=ln,ne.ac=cr,ne.bc=ga,ne.ma=fe,oe.xa){if((N=vt())==null){fe=1;break e}if(function(tt,Ye){var Ot=[0],gt=[0],qe=[0];t:for(;;){if(tt==null)return 0;if(Ye==null)return tt.a=2,0;if(tt.l=Ye,tt.a=0,K(tt.m,Ye.data,Ye.w,Ye.ha),!gr(tt.m,Ot,gt,qe)){tt.a=3;break t}if(tt.xb=cp,Ye.width=Ot[0],Ye.height=gt[0],!rt(Ot[0],gt[0],1,tt,null))break t;return 1}return t(tt.a!=0),0}(N,ne)){if(ne=(F=Of(ne.width,ne.height,fe.Oa,fe.ba))==0){t:{ne=N;r:for(;;){if(ne==null){ne=0;break t}if(t(ne.s.yc!=null),t(ne.s.Ya!=null),t(0<ne.s.Wb),t((V=ne.l)!=null),t((oe=V.ma)!=null),ne.xb!=0){if(ne.ca=oe.ba,ne.tb=oe.tb,t(ne.ca!=null),!Xh(oe.Oa,V,X0)){ne.a=2;break r}if(!it(ne,V.width)||V.da)break r;if((V.da||un(ne.ca.S))&&Qe(),11>ne.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),ne.ca.f.kb.F!=null&&Qe()),ne.Pb&&0<ne.s.ua&&ne.s.vb.X==null&&!He(ne.s.vb,ne.s.Wa.Xa)){ne.a=1;break r}ne.xb=0}if(!ke(ne,ne.V,ne.Ba,ne.c,ne.i,V.o,Se))break r;oe.Dc=ne.Ma,ne=1;break t}t(ne.a!=0),ne=0}ne=!ne}ne&&(F=N.a)}else F=N.a}else{if((N=new Ba)==null){fe=1;break e}if(N.Fa=oe.na,N.P=oe.P,N.qc=oe.Sa,Mg(N,ne)){if((F=Of(ne.width,ne.height,fe.Oa,fe.ba))==0){if(N.Aa=0,V=fe.Oa,t((oe=N)!=null),V!=null){if(0<(ye=0>(ye=V.Md)?0:100<ye?255:255*ye/100)){for(be=$e=0;4>be;++be)12>(et=oe.pb[be]).lc&&(et.ia=ye*m_[0>et.lc?0:et.lc]>>3),$e|=et.ia;$e&&(alert("todo:VP8InitRandom"),oe.ia=1)}oe.Ga=V.Id,100<oe.Ga?oe.Ga=100:0>oe.Ga&&(oe.Ga=0)}_f(N,ne)||(F=N.a)}}else F=N.a}F==0&&fe.Oa!=null&&fe.Oa.fd&&(F=Zh(fe.ba))}fe=F}ce=fe!=0?null:11>ce?ge.f.RGBA.eb:ge.f.kb.y}else ce=null;return ce};var nm=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(I,L){for(var B="",P=0;P<4;P++)B+=String.fromCharCode(I[L++]);return B}function d(I,L){return(I[L+0]<<0|I[L+1]<<8|I[L+2]<<16)>>>0}function f(I,L){return(I[L+0]<<0|I[L+1]<<8|I[L+2]<<16|I[L+3]<<24)>>>0}new l;var h=[0],m=[0],x=[],g=new l,y=e,_=function(I,L){var B={},P=0,O=!1,j=0,G=0;if(B.frames=[],!function(H,X,Z,ie){for(var le=0;le<ie;le++)if(H[X+le]!=Z.charCodeAt(le))return!0;return!1}(I,L,"RIFF",4)){for(f(I,L+=4),L+=8;L<I.length;){var Y=u(I,L),re=f(I,L+=4);L+=4;var q=re+(1&re);switch(Y){case"VP8 ":case"VP8L":B.frames[P]===void 0&&(B.frames[P]={}),(te=B.frames[P]).src_off=O?G:L-8,te.src_size=j+re+8,P++,O&&(O=!1,j=0,G=0);break;case"VP8X":(te=B.header={}).feature_flags=I[L];var K=L+4;te.canvas_width=1+d(I,K),K+=3,te.canvas_height=1+d(I,K),K+=3;break;case"ALPH":O=!0,j=q+8,G=L-8;break;case"ANIM":(te=B.header).bgcolor=f(I,L),K=L+4,te.loop_count=(Q=I)[(R=K)+0]<<0|Q[R+1]<<8,K+=2;break;case"ANMF":var z,te;(te=B.frames[P]={}).offset_x=2*d(I,L),L+=3,te.offset_y=2*d(I,L),L+=3,te.width=1+d(I,L),L+=3,te.height=1+d(I,L),L+=3,te.duration=d(I,L),L+=3,z=I[L++],te.dispose=1&z,te.blend=z>>1&1}Y!="ANMF"&&(L+=q)}var Q,R;return B}}(y,0);_.response=y,_.rgbaoutput=!0,_.dataurl=!1;var b=_.header?_.header:null,S=_.frames?_.frames:null;if(b){b.loop_counter=b.loop_count,h=[b.canvas_height],m=[b.canvas_width];for(var C=0;C<S.length&&S[C].blend!=0;C++);}var E=S[0],D=g.WebPDecodeRGBA(y,E.src_off,E.src_size,m,h);E.rgba=D,E.imgwidth=m[0],E.imgheight=h[0];for(var T=0;T<m[0]*h[0]*4;T++)x[T]=D[T];return this.width=m,this.height=h,this.data=x,this}(function(e){var t=function(){return typeof y8=="function"},r=function(h,m,x,g){var y=4,_=o;switch(g){case e.image_compression.FAST:y=1,_=i;break;case e.image_compression.MEDIUM:y=6,_=s;break;case e.image_compression.SLOW:y=9,_=l}h=n(h,m,x,_);var b=y8(h,{level:y});return e.__addimage__.arrayBufferToBinaryString(b)},n=function(h,m,x,g){for(var y,_,b,S=h.length/m,C=new Uint8Array(h.length+S),E=d(),D=0;D<S;D+=1){if(b=D*m,y=h.subarray(b,b+m),g)C.set(g(y,x,_),b+D);else{for(var T,I=E.length,L=[];T<I;T+=1)L[T]=E[T](y,x,_);var B=f(L.concat());C.set(L[B],b+D)}_=y}return C},a=function(h){var m=Array.apply([],h);return m.unshift(0),m},i=function(h,m){var x,g=[],y=h.length;g[0]=1;for(var _=0;_<y;_+=1)x=h[_-m]||0,g[_+1]=h[_]-x+256&255;return g},o=function(h,m,x){var g,y=[],_=h.length;y[0]=2;for(var b=0;b<_;b+=1)g=x&&x[b]||0,y[b+1]=h[b]-g+256&255;return y},s=function(h,m,x){var g,y,_=[],b=h.length;_[0]=3;for(var S=0;S<b;S+=1)g=h[S-m]||0,y=x&&x[S]||0,_[S+1]=h[S]+256-(g+y>>>1)&255;return _},l=function(h,m,x){var g,y,_,b,S=[],C=h.length;S[0]=4;for(var E=0;E<C;E+=1)g=h[E-m]||0,y=x&&x[E]||0,_=x&&x[E-m]||0,b=u(g,y,_),S[E+1]=h[E]-b+256&255;return S},u=function(h,m,x){if(h===m&&m===x)return h;var g=Math.abs(m-x),y=Math.abs(h-x),_=Math.abs(h+m-x-x);return g<=y&&g<=_?h:y<=_?m:x},d=function(){return[a,i,o,s,l]},f=function(h){var m=h.map(function(x){return x.reduce(function(g,y){return g+Math.abs(y)},0)});return m.indexOf(Math.min.apply(null,m))};e.processPNG=function(h,m,x,g){var y,_,b,S,C,E,D,T,I,L,B,P,O,j,G,Y=this.decode.FLATE_DECODE,re="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(b=new xHe(h)).imgData,_=b.bits,y=b.colorSpace,C=b.colors,[4,6].indexOf(b.colorType)!==-1){if(b.bits===8){I=(T=b.pixelBitlength==32?new Uint32Array(b.decodePixels().buffer):b.pixelBitlength==16?new Uint16Array(b.decodePixels().buffer):new Uint8Array(b.decodePixels().buffer)).length,B=new Uint8Array(I*b.colors),L=new Uint8Array(I);var q,K=b.pixelBitlength-b.bits;for(j=0,G=0;j<I;j++){for(O=T[j],q=0;q<K;)B[G++]=O>>>q&255,q+=b.bits;L[j]=O>>>q&255}}if(b.bits===16){I=(T=new Uint32Array(b.decodePixels().buffer)).length,B=new Uint8Array(I*(32/b.pixelBitlength)*b.colors),L=new Uint8Array(I*(32/b.pixelBitlength)),P=b.colors>1,j=0,G=0;for(var z=0;j<I;)O=T[j++],B[G++]=O>>>0&255,P&&(B[G++]=O>>>16&255,O=T[j++],B[G++]=O>>>0&255),L[z++]=O>>>16&255;_=8}g!==e.image_compression.NONE&&t()?(h=r(B,b.width*b.colors,b.colors,g),D=r(L,b.width,1,g)):(h=B,D=L,Y=void 0)}if(b.colorType===3&&(y=this.color_spaces.INDEXED,E=b.palette,b.transparency.indexed)){var te=b.transparency.indexed,Q=0;for(j=0,I=te.length;j<I;++j)Q+=te[j];if((Q/=255)===I-1&&te.indexOf(0)!==-1)S=[te.indexOf(0)];else if(Q!==I){for(T=b.decodePixels(),L=new Uint8Array(T.length),j=0,I=T.length;j<I;j++)L[j]=te[T[j]];D=r(L,b.width,1)}}var R=function(H){var X;switch(H){case e.image_compression.FAST:X=11;break;case e.image_compression.MEDIUM:X=13;break;case e.image_compression.SLOW:X=14;break;default:X=12}return X}(g);return Y===this.decode.FLATE_DECODE&&(re="/Predictor "+R+" "),re+="/Colors "+C+" /BitsPerComponent "+_+" /Columns "+b.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(D&&this.__addimage__.isArrayBuffer(D)||this.__addimage__.isArrayBufferView(D))&&(D=this.__addimage__.arrayBufferToBinaryString(D)),{alias:x,data:h,index:m,filter:Y,decodeParameters:re,transparency:S,palette:E,sMask:D,predictor:R,width:b.width,height:b.height,bitsPerComponent:_,colorSpace:y}}}})($r.API),function(e){e.processGIF89A=function(t,r,n,a){var i=new wHe(t),o=i.width,s=i.height,l=[];i.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:o,height:s},d=new lP(100).encode(u,100);return e.processJPEG.call(this,d,r,n,a)},e.processGIF87A=e.processGIF89A}($r.API),Pu.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Pu.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Na.log("bit decode error:"+r)}},Pu.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*a*4,s=0;s<8&&8*a+s<this.width;s++){var l=this.palette[i>>7-s&1];this.data[o+4*s]=l.blue,this.data[o+4*s+1]=l.green,this.data[o+4*s+2]=l.red,this.data[o+4*s+3]=255}r!==0&&(this.pos+=4-r)}},Pu.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*a*4,s=i>>4,l=15&i,u=this.palette[s];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*a+1>=this.width)break;u=this.palette[l],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Pu.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var o=this.palette[a];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},Pu.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,s=(i>>5&t)/t*255|0,l=(i>>10&t)/t*255|0,u=i>>15?255:0,d=n*this.width*4+4*a;this.data[d]=l,this.data[d+1]=s,this.data[d+2]=o,this.data[d+3]=u}this.pos+=e}},Pu.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&t)/t*255|0,l=(o>>5&r)/r*255|0,u=(o>>11)/t*255|0,d=a*this.width*4+4*i;this.data[d]=u,this.data[d+1]=l,this.data[d+2]=s,this.data[d+3]=255}this.pos+=e}},Pu.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},Pu.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;this.data[s]=i,this.data[s+1]=a,this.data[s+2]=n,this.data[s+3]=o}},Pu.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,a){var i=new Pu(t,!1),o=i.width,s=i.height,l={data:i.getData(),width:o,height:s},u=new lP(100).encode(l,100);return e.processJPEG.call(this,u,r,n,a)}}($r.API),gH.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,a){var i=new gH(t),o=i.width,s=i.height,l={data:i.getData(),width:o,height:s},u=new lP(100).encode(l,100);return e.processJPEG.call(this,u,r,n,a)}}($r.API),$r.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,i=new Uint8Array(a/4*3),o=new Uint8Array(a/4),s=0,l=0,u=0;u<a;u+=4){var d=n[u],f=n[u+1],h=n[u+2],m=n[u+3];i[s++]=d,i[s++]=f,i[s++]=h,o[l++]=m}var x=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:x,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},$r.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Pv=$r.API,Rb=Pv.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),s=t.widths?t.widths:a.metadata.Unicode.widths,l=s.fof?s.fof:1,u=t.kerning?t.kerning:a.metadata.Unicode.kerning,d=u.fof?u.fof:1,f=t.doKerning!==!1,h=0,m=e.length,x=0,g=s[0]||l,y=[];for(r=0;r<m;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?y.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+o*(1e3/i)||0)/1e3):(h=f&&ba(u[n])==="object"&&!isNaN(parseInt(u[n][x],10))?u[n][x]/d:0,y.push((s[n]||g)/l+h)),x=n;return y},fH=Pv.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return Pv.processArabic&&(e=Pv.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:Rb.apply(this,arguments).reduce(function(i,o){return i+o},0)},hH=function(e,t,r,n){for(var a=[],i=0,o=e.length,s=0;i!==o&&s+t[i]<r;)s+=t[i],i++;a.push(e.slice(0,i));var l=i;for(s=0;i!==o;)s+t[i]>n&&(a.push(e.slice(l,i)),s=0,l=i),s+=t[i],i++;return l!==i&&a.push(e.slice(l,i)),a},pH=function(e,t,r){r||(r={});var n,a,i,o,s,l,u,d=[],f=[d],h=r.textIndent||0,m=0,x=0,g=e.split(" "),y=Rb.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?g[0].length+2:r.lineIndent||0){var _=Array(l).join(" "),b=[];g.map(function(C){(C=C.split(/\s*\n/)).length>1?b=b.concat(C.map(function(E,D){return(D&&E.length?`
`:"")+E})):b.push(C[0])}),g=b,l=fH.apply(this,[_,r])}for(i=0,o=g.length;i<o;i++){var S=0;if(n=g[i],l&&n[0]==`
`&&(n=n.substr(1),S=1),h+m+(x=(a=Rb.apply(this,[n,r])).reduce(function(C,E){return C+E},0))>t||S){if(x>t){for(s=hH.apply(this,[n,a,t-(h+m),t]),d.push(s.shift()),d=[s.pop()];s.length;)f.push([s.shift()]);x=a.slice(n.length-(d[0]?d[0].length:0)).reduce(function(C,E){return C+E},0)}else d=[n];f.push(d),h=x+l,m=y}else d.push(n),h+=m+x,m=y}return u=l?function(C,E){return(E?_:"")+C.join(" ")}:function(C){return C.join(" ")},f.map(u)},Pv.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var s,l,u=[];for(s=0,l=n.length;s<l;s++)u=u.concat(pH.apply(this,[n[s],o,i]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},a=0;a<t.length;a++)r[t[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=t[a];var i=function(f){return"0x"+parseInt(f,10).toString(16)},o=e.__fontmetrics__.compress=function(f){var h,m,x,g,y=["{"];for(var _ in f){if(h=f[_],isNaN(parseInt(_,10))?m="'"+_+"'":(_=parseInt(_,10),m=(m=i(_).slice(2)).slice(0,-1)+n[m.slice(-1)]),typeof h=="number")h<0?(x=i(h).slice(3),g="-"):(x=i(h).slice(2),g=""),x=g+x.slice(0,-1)+n[x.slice(-1)];else{if(ba(h)!=="object")throw new Error("Don't know what to do with value type "+ba(h)+".");x=o(h)}y.push(m+x)}return y.push("}"),y.join("")},s=e.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,m,x,g,y={},_=1,b=y,S=[],C="",E="",D=f.length-1,T=1;T<D;T+=1)(g=f[T])=="'"?h?(x=h.join(""),h=void 0):h=[]:h?h.push(g):g=="{"?(S.push([b,x]),b={},x=void 0):g=="}"?((m=S.pop())[0][m[1]]=b,x=void 0,b=m[0]):g=="-"?_=-1:x===void 0?r.hasOwnProperty(g)?(C+=r[g],x=parseInt(C,16)*_,_=1,C=""):C+=g:r.hasOwnProperty(g)?(E+=r[g],b[x]=parseInt(E,16)*_,_=1,x=void 0,E=""):E+=g;return y},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:s("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},d={Unicode:{"Courier-Oblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":s("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":s("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:s("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:s("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":s("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":s("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(f){var h=f.font,m=d.Unicode[h.postScriptName];m&&(h.metadata.Unicode={},h.metadata.Unicode.widths=m.widths,h.metadata.Unicode.kerning=m.kerning);var x=u.Unicode[h.postScriptName];x&&(h.metadata.Unicode.encoding=x,h.encoding=x.codePages[0])}])}($r.API),function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(o,s){s=/^\x00\x01\x00\x00/.test(s)?t(s):t(Y2(s)),o.metadata=e.API.TTFFont.open(s),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(a,n)}}])}($r),function(e){function t(){return(Zr.canvg?Promise.resolve(Zr.canvg):vh(()=>import("./index.es-B39PNgng.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}$r.API.addSvgAsImage=function(r,n,a,i,o,s,l,u){if(isNaN(n)||isNaN(a))throw Na.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(o))throw Na.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=i,d.height=o;var f=d.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,d.width,d.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return t().then(function(x){return x.fromString(f,r,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(h)}).then(function(){m.addImage(d.toDataURL("image/jpeg",1),n,a,i,o,l,u)})}}(),$r.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},$r.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},s=Object.keys(o),l=[],u=0,d=0,f=0;function h(x,g){var y,_=!1;for(y=0;y<x.length;y+=1)x[y]===g&&(_=!0);return _}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var m=s.length;for(f=0;f<m;f+=1)r[s[f]].value=r[s[f]].defaultValue,r[s[f]].explicitSet=!1}if(ba(e)==="object"){for(a in e)if(i=e[a],h(s,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&h(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(u=0;u<i.length;u+=1)if(n=!0,i[u].length===1&&typeof i[u][0]=="number")l.push(String(i[u]-1));else if(i[u].length>1){for(d=0;d<i[u].length;d+=1)typeof i[u][d]!="number"&&(n=!1);n===!0&&l.push([i[u][0]-1,i[u][1]-1].join(" "))}r[a].value="["+l.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var x,g=[];for(x in r)r[x].explicitSet===!0&&(r[x].type==="name"?g.push("/"+x+" /"+r[x].value):g.push("/"+x+" "+r[x].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),s=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+o.length+s.length+a.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(a+i+o+s+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}($r.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,o){for(var s,l=o.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],f=0,h=i.length;f<h;++f){if(s=o.metadata.characterToGlyph(i.charCodeAt(f)),o.metadata.glyIdsUsed.push(s),o.metadata.toUnicode[s]=i.charCodeAt(f),l.indexOf(s)==-1&&(l.push(s),l.push([parseInt(o.metadata.widthOfGlyph(s),10)])),s=="0")return d.join("");s=s.toString(16),d.push(u[4-s.length],s)}return d.join("")},n=function(i){var o,s,l,u,d,f,h;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,h=(s=Object.keys(i).sort(function(m,x){return m-x})).length;f<h;f++)o=s[f],l.length>=100&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(u=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+u+">"));return l.length&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(o){var s=o.font,l=o.out,u=o.newObject,d=o.putStream;if(s.metadata instanceof e.API.TTFFont&&s.encoding==="Identity-H"){for(var f=s.metadata.Unicode.widths,h=s.metadata.subset.encode(s.metadata.glyIdsUsed,1),m="",x=0;x<h.length;x++)m+=String.fromCharCode(h[x]);var g=u();d({data:m,addLength1:!0,objectId:g}),l("endobj");var y=u();d({data:n(s.metadata.toUnicode),addLength1:!0,objectId:y}),l("endobj");var _=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Mv(s.fontName)),l("/FontFile2 "+g+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(s.metadata.bbox)),l("/Flags "+s.metadata.flags),l("/StemV "+s.metadata.stemV),l("/ItalicAngle "+s.metadata.italicAngle),l("/Ascent "+s.metadata.ascender),l("/Descent "+s.metadata.decender),l("/CapHeight "+s.metadata.capHeight),l(">>"),l("endobj");var b=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+Mv(s.fontName)),l("/FontDescriptor "+_+" 0 R"),l("/W "+e.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+s.encoding+")"),l(">>"),l(">>"),l("endobj"),s.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+y+" 0 R"),l("/BaseFont /"+Mv(s.fontName)),l("/Encoding /"+s.encoding),l("/DescendantFonts ["+b+" 0 R]"),l(">>"),l("endobj"),s.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(o){var s=o.font,l=o.out,u=o.newObject,d=o.putStream;if(s.metadata instanceof e.API.TTFFont&&s.encoding==="WinAnsiEncoding"){for(var f=s.metadata.rawData,h="",m=0;m<f.length;m++)h+=String.fromCharCode(f[m]);var x=u();d({data:h,addLength1:!0,objectId:x}),l("endobj");var g=u();d({data:n(s.metadata.toUnicode),addLength1:!0,objectId:g}),l("endobj");var y=u();l("<<"),l("/Descent "+s.metadata.decender),l("/CapHeight "+s.metadata.capHeight),l("/StemV "+s.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+x+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(s.metadata.bbox)),l("/FontName /"+Mv(s.fontName)),l("/ItalicAngle "+s.metadata.italicAngle),l("/Ascent "+s.metadata.ascender),l(">>"),l("endobj"),s.objectNumber=u();for(var _=0;_<s.metadata.hmtx.widths.length;_++)s.metadata.hmtx.widths[_]=parseInt(s.metadata.hmtx.widths[_]*(1e3/s.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+Mv(s.fontName)+"/FontDescriptor "+y+" 0 R/Encoding/"+s.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(s.metadata.hmtx.widths)+">>"),l("endobj"),s.isAlreadyPutted=!0}})(i)}]);var a=function(i){var o,s=i.text||"",l=i.x,u=i.y,d=i.options||{},f=i.mutex||{},h=f.pdfEscape,m=f.activeFontKey,x=f.fonts,g=m,y="",_=0,b="",S=x[g].encoding;if(x[g].encoding!=="Identity-H")return{text:s,x:l,y:u,options:d,mutex:f};for(b=s,g=m,Array.isArray(s)&&(b=s[0]),_=0;_<b.length;_+=1)x[g].metadata.hasOwnProperty("cmap")&&(o=x[g].metadata.cmap.unicode.codeMap[b[_].charCodeAt(0)]),o||b[_].charCodeAt(0)<256&&x[g].metadata.hasOwnProperty("Unicode")?y+=b[_]:y+="";var C="";return parseInt(g.slice(1))<14||S==="WinAnsiEncoding"?C=h(y,g).split("").map(function(E){return E.charCodeAt(0).toString(16)}).join(""):S==="Identity-H"&&(C=r(y,x[g])),f.isHex=!0,{text:C,x:l,y:u,options:d,mutex:f}};t.events.push(["postProcessText",function(i){var o=i.text||"",s=[],l={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?s.push([a(Object.assign({},l,{text:o[u][0]})).text,o[u][1],o[u][2]]):s.push(a(Object.assign({},l,{text:o[u]})).text);i.text=s}else i.text=a(Object.assign({},l,{text:o})).text}])}($r),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}($r.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,i,o,s,l,u,d,f=t,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],x={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},y=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],_=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,S=0;this.__bidiEngine__={};var C=function(P){var O=P.charCodeAt(),j=O>>8,G=g[j];return G!==void 0?f[256*G+(255&O)]:j===252||j===253?"AL":_.test(j)?"L":j===8?"R":"N"},E=function(P){for(var O,j=0;j<P.length;j++){if((O=C(P.charAt(j)))==="L")return!1;if(O==="R")return!0}return!1},D=function(P,O,j,G){var Y,re,q,K,z=O[G];switch(z){case"L":case"R":b=!1;break;case"N":case"AN":break;case"EN":b&&(z="AN");break;case"AL":b=!0,z="R";break;case"WS":z="N";break;case"CS":G<1||G+1>=O.length||(Y=j[G-1])!=="EN"&&Y!=="AN"||(re=O[G+1])!=="EN"&&re!=="AN"?z="N":b&&(re="AN"),z=re===Y?re:"N";break;case"ES":z=(Y=G>0?j[G-1]:"B")==="EN"&&G+1<O.length&&O[G+1]==="EN"?"EN":"N";break;case"ET":if(G>0&&j[G-1]==="EN"){z="EN";break}if(b){z="N";break}for(q=G+1,K=O.length;q<K&&O[q]==="ET";)q++;z=q<K&&O[q]==="EN"?"EN":"N";break;case"NSM":if(o&&!s){for(K=O.length,q=G+1;q<K&&O[q]==="NSM";)q++;if(q<K){var te=P[G],Q=te>=1425&&te<=2303||te===64286;if(Y=O[q],Q&&(Y==="R"||Y==="AL")){z="R";break}}}z=G<1||(Y=O[G-1])==="B"?"N":j[G-1];break;case"B":b=!1,a=!0,z=S;break;case"S":i=!0,z="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"BN":z="N"}return z},T=function(P,O,j){var G=P.split("");return j&&I(G,j,{hiLevel:S}),G.reverse(),O&&O.reverse(),G.join("")},I=function(P,O,j){var G,Y,re,q,K,z=-1,te=P.length,Q=0,R=[],H=S?m:h,X=[];for(b=!1,a=!1,i=!1,Y=0;Y<te;Y++)X[Y]=C(P[Y]);for(re=0;re<te;re++){if(K=Q,R[re]=D(P,X,R,re),G=240&(Q=H[K][x[R[re]]]),Q&=15,O[re]=q=H[Q][5],G>0)if(G===16){for(Y=z;Y<re;Y++)O[Y]=1;z=-1}else z=-1;if(H[Q][6])z===-1&&(z=re);else if(z>-1){for(Y=z;Y<re;Y++)O[Y]=q;z=-1}X[re]==="B"&&(O[re]=0),j.hiLevel|=q}i&&function(Z,ie,le){for(var pe=0;pe<le;pe++)if(Z[pe]==="S"){ie[pe]=S;for(var J=pe-1;J>=0&&Z[J]==="WS";J--)ie[J]=S}}(X,O,te)},L=function(P,O,j,G,Y){if(!(Y.hiLevel<P)){if(P===1&&S===1&&!a)return O.reverse(),void(j&&j.reverse());for(var re,q,K,z,te=O.length,Q=0;Q<te;){if(G[Q]>=P){for(K=Q+1;K<te&&G[K]>=P;)K++;for(z=Q,q=K-1;z<q;z++,q--)re=O[z],O[z]=O[q],O[q]=re,j&&(re=j[z],j[z]=j[q],j[q]=re);Q=K}Q++}}},B=function(P,O,j){var G=P.split(""),Y={hiLevel:S};return j||(j=[]),I(G,j,Y),function(re,q,K){if(K.hiLevel!==0&&d)for(var z,te=0;te<re.length;te++)q[te]===1&&(z=y.indexOf(re[te]))>=0&&(re[te]=y[z+1])}(G,j,Y),L(2,G,O,j,Y),L(1,G,O,j,Y),G.join("")};return this.__bidiEngine__.doBidiReorder=function(P,O,j){if(function(Y,re){if(re)for(var q=0;q<Y.length;q++)re[q]=q;s===void 0&&(s=E(Y)),u===void 0&&(u=E(Y))}(P,O),o||!l||u)if(o&&l&&s^u)S=s?1:0,P=T(P,O,j);else if(!o&&l&&u)S=s?1:0,P=B(P,O,j),P=T(P,O);else if(!o||s||l||u){if(o&&!l&&s^u)P=T(P,O),s?(S=0,P=B(P,O,j)):(S=1,P=B(P,O,j),P=T(P,O));else if(o&&s&&!l&&u)S=1,P=B(P,O,j),P=T(P,O);else if(!o&&!l&&s^u){var G=d;s?(S=1,P=B(P,O,j),S=0,d=!1,P=B(P,O,j),d=G):(S=0,P=B(P,O,j),P=T(P,O),S=1,d=!1,P=B(P,O,j),d=G,P=T(P,O))}}else S=0,P=B(P,O,j);else S=s?1:0,P=B(P,O,j);return P},this.__bidiEngine__.setOptions=function(P){P&&(o=P.isInputVisual,l=P.isOutputVisual,s=P.isInputRtl,u=P.isOutputRtl,d=P.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var o=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var s=0;for(o=[],s=0;s<a.length;s+=1)Object.prototype.toString.call(a[s])==="[object Array]"?o.push([r.doBidiReorder(a[s][0]),a[s][1],a[s][2]]):o.push([r.doBidiReorder(a[s])]);n.text=o}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}($r),$r.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new w0(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new MHe(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new _He(this.contents),this.head=new SHe(this),this.name=new CHe(this),this.cmap=new xie(this),this.toUnicode={},this.hhea=new AHe(this),this.maxp=new THe(this),this.hmtx=new PHe(this),this.post=new NHe(this),this.os2=new kHe(this),this.loca=new RHe(this),this.glyf=new OHe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,s,l,u;for(u=[],o=0,s=(l=this.bbox).length;o<s;o++)t=l[o],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),(32768&(r=a>>16))!=0&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,i,o,s;for(o=0,i=0,s=(t=""+t).length;0<=s?i<s:i>s;i=0<=s?++i:--i)a=t.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var ud,w0=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,i,o,s,l;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),o=this.readByte(),s=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^o)+256*(255^s)+(255^l)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*o+256*s+l},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,i;for(i=[],n=0,a=t.length;n<a;n++)r=t[n],i.push(this.writeByte(r));return i},e}(),_He=function(){var e;function t(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,i,o,s,l,u,d,f,h,m,x,g;for(g in m=Object.keys(r).length,l=Math.log(2),f=16*Math.floor(Math.log(m)/l),o=Math.floor(f/l),d=16*m-f,(a=new w0).writeInt(this.scalarType),a.writeShort(m),a.writeShort(f),a.writeShort(o),a.writeShort(d),i=16*m,u=a.pos+i,s=null,x=[],r)for(h=r[g],a.writeString(g),a.writeInt(e(h)),a.writeInt(u),a.writeInt(h.length),x=x.concat(h),g==="head"&&(s=u),u+=h.length;u%4;)x.push(0),u++;return a.write(x),n=2981146554-e(a.data),a.pos=s+8,a.writeUInt32(n),a.data},e=function(r){var n,a,i,o;for(r=wie.call(r);r.length%4;)r.push(0);for(i=new w0(r),a=0,n=0,o=r.length;n<o;n=n+=4)a+=i.readUInt32();return 4294967295&a},t}(),bHe={}.hasOwnProperty,xf=function(e,t){for(var r in t)bHe.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};ud=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var SHe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xf(t,ud),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new w0).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),vH=function(){function e(t,r){var n,a,i,o,s,l,u,d,f,h,m,x,g,y,_,b,S;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(m=t.readUInt16(),h=m/2,t.pos+=6,i=function(){var C,E;for(E=[],l=C=0;0<=h?C<h:C>h;l=0<=h?++C:--C)E.push(t.readUInt16());return E}(),t.pos+=2,g=function(){var C,E;for(E=[],l=C=0;0<=h?C<h:C>h;l=0<=h?++C:--C)E.push(t.readUInt16());return E}(),u=function(){var C,E;for(E=[],l=C=0;0<=h?C<h:C>h;l=0<=h?++C:--C)E.push(t.readUInt16());return E}(),d=function(){var C,E;for(E=[],l=C=0;0<=h?C<h:C>h;l=0<=h?++C:--C)E.push(t.readUInt16());return E}(),a=(this.length-t.pos+this.offset)/2,s=function(){var C,E;for(E=[],l=C=0;0<=a?C<a:C>a;l=0<=a?++C:--C)E.push(t.readUInt16());return E}(),l=_=0,S=i.length;_<S;l=++_)for(y=i[l],n=b=x=g[l];x<=y?b<=y:b>=y;n=x<=y?++b:--b)d[l]===0?o=n+u[l]:(o=s[d[l]/2+(n-x)-(h-l)]||0)!==0&&(o+=u[l]),this.codeMap[n]=65535&o}t.pos=f}return e.encode=function(t,r){var n,a,i,o,s,l,u,d,f,h,m,x,g,y,_,b,S,C,E,D,T,I,L,B,P,O,j,G,Y,re,q,K,z,te,Q,R,H,X,Z,ie,le,pe,J,me,ve,ae;switch(G=new w0,o=Object.keys(t).sort(function(Ue,He){return Ue-He}),r){case"macroman":for(g=0,y=function(){var Ue=[];for(x=0;x<256;++x)Ue.push(0);return Ue}(),b={0:0},i={},Y=0,z=o.length;Y<z;Y++)b[J=t[a=o[Y]]]==null&&(b[J]=++g),i[a]={old:t[a],new:b[t[a]]},y[a]=b[t[a]];return G.writeUInt16(1),G.writeUInt16(0),G.writeUInt32(12),G.writeUInt16(0),G.writeUInt16(262),G.writeUInt16(0),G.write(y),{charMap:i,subtable:G.data,maxGlyphID:g+1};case"unicode":for(O=[],f=[],S=0,b={},n={},_=u=null,re=0,te=o.length;re<te;re++)b[E=t[a=o[re]]]==null&&(b[E]=++S),n[a]={old:E,new:b[E]},s=b[E]-a,_!=null&&s===u||(_&&f.push(_),O.push(a),u=s),_=a;for(_&&f.push(_),f.push(65535),O.push(65535),B=2*(L=O.length),I=2*Math.pow(Math.log(L)/Math.LN2,2),h=Math.log(I/2)/Math.LN2,T=2*L-I,l=[],D=[],m=[],x=q=0,Q=O.length;q<Q;x=++q){if(P=O[x],d=f[x],P===65535){l.push(0),D.push(0);break}if(P-(j=n[P].new)>=32768)for(l.push(0),D.push(2*(m.length+L-x)),a=K=P;P<=d?K<=d:K>=d;a=P<=d?++K:--K)m.push(n[a].new);else l.push(j-P),D.push(0)}for(G.writeUInt16(3),G.writeUInt16(1),G.writeUInt32(12),G.writeUInt16(4),G.writeUInt16(16+8*L+2*m.length),G.writeUInt16(0),G.writeUInt16(B),G.writeUInt16(I),G.writeUInt16(h),G.writeUInt16(T),le=0,R=f.length;le<R;le++)a=f[le],G.writeUInt16(a);for(G.writeUInt16(0),pe=0,H=O.length;pe<H;pe++)a=O[pe],G.writeUInt16(a);for(me=0,X=l.length;me<X;me++)s=l[me],G.writeUInt16(s);for(ve=0,Z=D.length;ve<Z;ve++)C=D[ve],G.writeUInt16(C);for(ae=0,ie=m.length;ae<ie;ae++)g=m[ae],G.writeUInt16(g);return{charMap:n,subtable:G.data,maxGlyphID:S+1}}},e}(),xie=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xf(t,ud),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,a,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)n=new vH(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var a,i;return n==null&&(n="macroman"),a=vH.encode(r,n),(i=new w0).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},t}(),AHe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xf(t,ud),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),kHe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xf(t,ud),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),NHe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xf(t,ud),t.prototype.tag="post",t.prototype.parse=function(r){var n,a,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var o;for(a=r.readUInt16(),this.glyphNameIndex=[],o=0;0<=a?o<a:o>a;o=0<=a?++o:--o)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var s,l,u;for(u=[],o=s=0,l=this.file.maxp.numGlyphs;0<=l?s<l:s>l;o=0<=l?++s:--s)u.push(r.readUInt32());return u}).call(this)}},t}(),EHe=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},CHe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xf(t,ud),t.prototype.tag="name",t.prototype.parse=function(r){var n,a,i,o,s,l,u,d,f,h,m;for(r.pos=this.offset,r.readShort(),n=r.readShort(),l=r.readShort(),a=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+l+r.readShort()});for(u={},o=f=0,h=a.length;f<h;o=++f)i=a[o],r.pos=i.offset,d=r.readString(i.length),s=new EHe(d,i),u[m=i.nameID]==null&&(u[m]=[]),u[i.nameID].push(s);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},t}(),THe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xf(t,ud),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),PHe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xf(t,ud),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,a,i,o,s,l,u;for(r.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,f;for(f=[],n=d=0;0<=i?d<i:d>i;n=0<=i?++d:--d)f.push(r.readInt16());return f}(),this.widths=(function(){var d,f,h,m;for(m=[],d=0,f=(h=this.metrics).length;d<f;d++)o=h[d],m.push(o.advance);return m}).call(this),a=this.widths[this.widths.length-1],u=[],n=s=0;0<=i?s<i:s>i;n=0<=i?++s:--s)u.push(this.widths.push(a));return u},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),wie=[].slice,OHe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xf(t,ud),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,a,i,o,s,l,u,d,f,h;return r in this.cache?this.cache[r]:(o=this.file.loca,n=this.file.contents,a=o.indexOf(r),(i=o.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,s=(l=new w0(n.read(i))).readShort(),d=l.readShort(),h=l.readShort(),u=l.readShort(),f=l.readShort(),this.cache[r]=s===-1?new IHe(l,d,h,u,f):new DHe(l,s,d,h,u,f),this.cache[r]))},t.prototype.encode=function(r,n,a){var i,o,s,l,u;for(s=[],o=[],l=0,u=n.length;l<u;l++)i=r[n[l]],o.push(s.length),i&&(s=s.concat(i.encode(a)));return o.push(s.length),{table:s,offsets:o}},t}(),DHe=function(){function e(t,r,n,a,i,o){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),IHe=function(){function e(t,r,n,a,i){var o,s;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;s=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&s;)o.pos+=1&s?4:2,128&s?o.pos+=8:64&s?o.pos+=4:8&s&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new w0(wie.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),RHe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xf(t,ud),t.prototype.tag="loca",t.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,o;for(o=[],a=0,i=this.length;a<i;a+=2)o.push(2*r.readUInt16());return o}).call(this):(function(){var i,o;for(o=[],a=0,i=this.length;a<i;a+=4)o.push(r.readUInt32());return o}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),i=0,o=0,s=0;s<a.length;++s)if(a[s]=i,o<n.length&&n[o]==s){++o,a[s]=i;var l=this.offsets[s],u=this.offsets[s+1]-l;u>0&&(i+=u)}for(var d=new Array(4*a.length),f=0;f<a.length;++f)d[4*f+3]=255&a[f],d[4*f+2]=(65280&a[f])>>8,d[4*f+1]=(16711680&a[f])>>16,d[4*f]=(4278190080&a[f])>>24;return d},t}(),MHe=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,i,o,s,l;for(a={},o=0,s=t.length;o<s;o++)a[i=t[o]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in l=this.glyphsFor(r))n=l[i],a[i]=n;return a},e.prototype.encode=function(t,r){var n,a,i,o,s,l,u,d,f,h,m,x,g,y,_;for(a in n=xie.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),m={0:0},_=n.charMap)m[(l=_[a]).old]=l.new;for(x in h=n.maxGlyphID,o)x in m||(m[x]=h++);return d=function(b){var S,C;for(S in C={},b)C[b[S]]=S;return C}(m),f=Object.keys(d).sort(function(b,S){return b-S}),g=function(){var b,S,C;for(C=[],b=0,S=f.length;b<S;b++)s=f[b],C.push(d[s]);return C}(),i=this.font.glyf.encode(o,g,m),u=this.font.loca.encode(i.offsets,g),y={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(y["OS/2"]=this.font.os2.raw()),this.font.directory.encode(y)},e}();$r.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,i,o;if(Array.isArray(r))return"["+function(){var s,l,u;for(u=[],s=0,l=r.length;s<l;s++)n=r[s],u.push(t.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)o=r[a],i.push("/"+a+" "+t.convert(o));return i.push(">>"),i.join(`
`)}return""+r},t}();function _ie(e,t,r,n,a){n=n||{};var i=1.15,o=a.internal.scaleFactor,s=a.internal.getFontSize()/o,l=a.getLineHeightFactor?a.getLineHeightFactor():i,u=s*l,d=/\r\n|\r|\n/g,f="",h=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(f=typeof e=="string"?e.split(d):e,h=f.length||1),r+=s*(2-i),n.valign==="middle"?r-=h/2*u:n.valign==="bottom"&&(r-=h*u),n.halign==="center"||n.halign==="right"){var m=s;if(n.halign==="center"&&(m*=.5),f&&h>=1){for(var x=0;x<f.length;x++)a.text(f[x],t-a.getStringUnitWidth(f[x])*m,r),r+=u;return a}t-=a.getStringUnitWidth(e)*m}return n.halign==="justify"?a.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):a.text(e,t,r),a}var yH={},l1=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:yH=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var n,a,i;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var o=this.jsPDFDocument.internal.getFont(),s=o.fontStyle,l=o.fontName;if(t.font&&(l=t.font),t.fontStyle){s=t.fontStyle;var u=this.getFontList()[l];u&&u.indexOf(s)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),s=u[0])}if(this.jsPDFDocument.setFont(l,s),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var d=e.unifyColor(t.fillColor);d&&(n=this.jsPDFDocument).setFillColor.apply(n,d),d=e.unifyColor(t.textColor),d&&(a=this.jsPDFDocument).setTextColor.apply(a,d),d=e.unifyColor(t.lineColor),d&&(i=this.jsPDFDocument).setDrawColor.apply(i,d),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,n){return this.jsPDFDocument.splitTextToSize(t,r,n)},e.prototype.rect=function(t,r,n,a,i){return this.jsPDFDocument.rect(t,r,n,a,i)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return yH||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),k8=function(e,t){return k8=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},k8(e,t)};function bie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");k8(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Sie=function(e){bie(t,e);function t(r){var n=e.call(this)||this;return n._element=r,n}return t}(Array);function FHe(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function LHe(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function r4(e,t,r){r.applyStyles(t,!0);var n=Array.isArray(e)?e:[e],a=n.map(function(i){return r.getTextWidth(i)}).reduce(function(i,o){return Math.max(i,o)},0);return a}function Aie(e,t,r,n){var a=t.settings.tableLineWidth,i=t.settings.tableLineColor;e.applyStyles({lineWidth:a,lineColor:i});var o=kie(a,!1);o&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,o)}function kie(e,t){var r=e>0,n=t||t===0;return r&&n?"DF":r?"S":n?"F":null}function J3(e,t){var r,n,a,i;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(n=e.top)!==null&&n!==void 0?n:t,right:(a=e.right)!==null&&a!==void 0?a:t,bottom:(i=e.bottom)!==null&&i!==void 0?i:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function Nie(e,t){var r=J3(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function jHe(e,t,r,n,a){var i={},o=1.3333333333333333,s=cP(t,function(S){return a.getComputedStyle(S).backgroundColor});s!=null&&(i.fillColor=s);var l=cP(t,function(S){return a.getComputedStyle(S).color});l!=null&&(i.textColor=l);var u=BHe(n,r);u&&(i.cellPadding=u);var d="borderTopColor",f=o*r,h=n.borderTopWidth;if(n.borderBottomWidth===h&&n.borderRightWidth===h&&n.borderLeftWidth===h){var m=(parseFloat(h)||0)/f;m&&(i.lineWidth=m)}else i.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/f,right:(parseFloat(n.borderRightWidth)||0)/f,bottom:(parseFloat(n.borderBottomWidth)||0)/f,left:(parseFloat(n.borderLeftWidth)||0)/f},i.lineWidth.top||(i.lineWidth.right?d="borderRightColor":i.lineWidth.bottom?d="borderBottomColor":i.lineWidth.left&&(d="borderLeftColor"));var x=cP(t,function(S){return a.getComputedStyle(S)[d]});x!=null&&(i.lineColor=x);var g=["left","right","center","justify"];g.indexOf(n.textAlign)!==-1&&(i.halign=n.textAlign),g=["middle","bottom","top"],g.indexOf(n.verticalAlign)!==-1&&(i.valign=n.verticalAlign);var y=parseInt(n.fontSize||"");isNaN(y)||(i.fontSize=y/o);var _=$He(n);_&&(i.fontStyle=_);var b=(n.fontFamily||"").toLowerCase();return e.indexOf(b)!==-1&&(i.font=b),i}function $He(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function cP(e,t){var r=Eie(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var a=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],i=parseInt(n[4]);return i===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function Eie(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:Eie(e.parentElement,t):r}function BHe(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),a=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,i=r.map(function(s){return parseInt(s||"0")/n}),o=J3(i,0);return a>o.top&&(o.top=a),a>o.bottom&&(o.bottom=a),o}function Cie(e,t,r,n,a){var i,o;n===void 0&&(n=!1),a===void 0&&(a=!1);var s;typeof t=="string"?s=r.document.querySelector(t):s=t;var l=Object.keys(e.getFontList()),u=e.scaleFactor(),d=[],f=[],h=[];if(!s)return console.error("Html table could not be found with input: ",t),{head:d,body:f,foot:h};for(var m=0;m<s.rows.length;m++){var x=s.rows[m],g=(o=(i=x==null?void 0:x.parentElement)===null||i===void 0?void 0:i.tagName)===null||o===void 0?void 0:o.toLowerCase(),y=UHe(l,u,r,x,n,a);y&&(g==="thead"?d.push(y):g==="tfoot"?h.push(y):f.push(y))}return{head:d,body:f,foot:h}}function UHe(e,t,r,n,a,i){for(var o=new Sie(n),s=0;s<n.cells.length;s++){var l=n.cells[s],u=r.getComputedStyle(l);if(a||u.display!=="none"){var d=void 0;i&&(d=jHe(e,l,t,u,r)),o.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:d,_element:l,content:qHe(l)})}}var f=r.getComputedStyle(n);if(o.length>0&&(a||f.display!=="none"))return o}function qHe(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function zHe(e,t,r){for(var n=0,a=[e,t,r];n<a.length;n++){var i=a[n];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function lh(e,t,r,n,a){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),o=1;o<arguments.length;o++){var s=arguments[o];if(s!=null)for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(i[l]=s[l])}return i}function Tie(e,t){var r=new l1(e),n=r.getDocumentOptions(),a=r.getGlobalOptions();zHe(a,n,t);var i=lh({},a,n,t),o;typeof window<"u"&&(o=window);var s=WHe(a,n,t),l=HHe(a,n,t),u=VHe(r,i),d=KHe(r,i,o);return{id:t.tableId,content:d,hooks:l,styles:s,settings:u}}function WHe(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(l){if(l==="columnStyles"){var u=e[l],d=t[l],f=r[l];n.columnStyles=lh({},u,d,f)}else{var h=[e,t,r],m=h.map(function(x){return x[l]||{}});n[l]=lh({},m[0],m[1],m[2])}},i=0,o=Object.keys(n);i<o.length;i++){var s=o[i];a(s)}return n}function HHe(e,t,r){for(var n=[e,t,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,o=n;i<o.length;i++){var s=o[i];s.didParseCell&&a.didParseCell.push(s.didParseCell),s.willDrawCell&&a.willDrawCell.push(s.willDrawCell),s.didDrawCell&&a.didDrawCell.push(s.didDrawCell),s.willDrawPage&&a.willDrawPage.push(s.willDrawPage),s.didDrawPage&&a.didDrawPage.push(s.didDrawPage)}return a}function VHe(e,t){var r,n,a,i,o,s,l,u,d,f,h,m,x=J3(t.margin,40/e.scaleFactor()),g=(r=GHe(e,t.startY))!==null&&r!==void 0?r:x.top,y;t.showFoot===!0?y="everyPage":t.showFoot===!1?y="never":y=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var _;t.showHead===!0?_="everyPage":t.showHead===!1?_="never":_=(a=t.showHead)!==null&&a!==void 0?a:"everyPage";var b=(i=t.useCss)!==null&&i!==void 0?i:!1,S=t.theme||(b?"plain":"striped"),C=!!t.horizontalPageBreak,E=(o=t.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(s=t.includeHiddenHtml)!==null&&s!==void 0?s:!1,useCss:b,theme:S,startY:g,margin:x,pageBreak:(l=t.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(u=t.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(d=t.tableWidth)!==null&&d!==void 0?d:"auto",showHead:_,showFoot:y,tableLineWidth:(f=t.tableLineWidth)!==null&&f!==void 0?f:0,tableLineColor:(h=t.tableLineColor)!==null&&h!==void 0?h:200,horizontalPageBreak:C,horizontalPageBreakRepeat:E,horizontalPageBreakBehaviour:(m=t.horizontalPageBreakBehaviour)!==null&&m!==void 0?m:"afterAllRows"}}function GHe(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),a=e.pageNumber(),i=!1;if(r&&r.startPageNumber){var o=r.startPageNumber+r.pageNumber-1;i=o===a}return typeof t=="number"?t:(t==null||t===!1)&&i&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function KHe(e,t,r){var n=t.head||[],a=t.body||[],i=t.foot||[];if(t.html){var o=t.includeHiddenHtml;if(r){var s=Cie(e,t.html,r,o,t.useCss)||{};n=s.head||n,a=s.body||n,i=s.foot||n}else console.error("Cannot parse html in non browser environment")}var l=t.columns||YHe(n,a,i);return{columns:l,head:n,body:a,foot:i}}function YHe(e,t,r){var n=e[0]||t[0]||r[0]||[],a=[];return Object.keys(n).filter(function(i){return i!=="_element"}).forEach(function(i){var o=1,s;Array.isArray(n)?s=n[parseInt(i)]:s=n[i],typeof s=="object"&&!Array.isArray(s)&&(o=(s==null?void 0:s.colSpan)||1);for(var l=0;l<o;l++){var u=void 0;Array.isArray(n)?u=a.length:u=i+(l>0?"_".concat(l):"");var d={dataKey:u};a.push(d)}}),a}var N8=function(){function e(t,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=t.getDocument()}return e}(),XHe=function(e){bie(t,e);function t(r,n,a,i,o,s){var l=e.call(this,r,n,s)||this;return l.cell=a,l.row=i,l.column=o,l.section=i.section,l}return t}(N8),ZHe=function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,n,a,i,o){for(var s=0,l=r;s<l.length;s++){var u=l[s],d=new XHe(t,this,n,a,i,o),f=u(d)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],f)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var n=0,a=this.hooks.didDrawPage;n<a.length;n++){var i=a[n];i(new N8(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var n=0,a=this.hooks.willDrawPage;n<a.length;n++){var i=a[n];i(new N8(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,i){return a+i.wrappedWidth},0);return r}else{var n=this.settings.margin;return t-n.left-n.right}},e}(),Pie=function(){function e(t,r,n,a,i){i===void 0&&(i=!1),this.height=0,this.raw=t,t instanceof Sie&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=n,this.cells=a,this.spansMultiplePages=i}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(n,a){var i;return Math.max(n,((i=r.cells[a.index])===null||i===void 0?void 0:i.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(n){var a=r.cells[n.index];return a?a.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var n=this;return t.reduce(function(a,i){var o=n.cells[i.index];if(!o)return 0;var s=r.getLineHeight(o.styles.fontSize),l=o.padding("vertical"),u=l+s;return u>a?u:a},0)},e}(),Oie=function(){function e(t,r,n){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=t;var i=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,i=(a=t.content)!==null&&a!==void 0?a:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var o=i!=null?""+i:"",s=/\r\n|\r|\n/g;this.text=o.split(s)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");n=this.x+a/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/t*r,i=n*a+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=J3(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e}(),JHe=function(){function e(t,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=n}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,n=0,a=t.allRows();n<a.length;n++){var i=a[n],o=i.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(r=Math.max(r,o.styles.cellWidth))}return r},e}();function QHe(e,t){eVe(e,t);var r=[],n=0;t.columns.forEach(function(i){var o=i.getMaxCustomCellWidth(t);o?i.width=o:(i.width=i.wrappedWidth,r.push(i)),n+=i.width});var a=t.getWidth(e.pageSize().width)-n;a&&(a=E8(r,a,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),a&&(a=E8(r,a,function(i){return i.minWidth})),a=Math.abs(a),!t.settings.horizontalPageBreak&&a>.1/e.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),rVe(t),nVe(t,e),tVe(t)}function eVe(e,t){var r=e.scaleFactor(),n=t.settings.horizontalPageBreak,a=Nie(e,t);t.allRows().forEach(function(i){for(var o=0,s=t.columns;o<s.length;o++){var l=s[o],u=i.cells[l.index];if(u){var d=t.hooks.didParseCell;t.callCellHooks(e,d,u,i,l,null);var f=u.padding("horizontal");u.contentWidth=r4(u.text,u.styles,e)+f;var h=r4(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,e);if(u.minReadableWidth=h+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||n===!0)u.contentWidth>a?(u.minWidth=a,u.wrappedWidth=a):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var m=10/r;u.minWidth=u.styles.minCellWidth||m,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),t.allRows().forEach(function(i){for(var o=0,s=t.columns;o<s.length;o++){var l=s[o],u=i.cells[l.index];if(u&&u.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,u.wrappedWidth),l.minWidth=Math.max(l.minWidth,u.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,u.minReadableWidth);else{var d=t.styles.columnStyles[l.dataKey]||t.styles.columnStyles[l.index]||{},f=d.cellWidth||d.minCellWidth;f&&typeof f=="number"&&(l.minWidth=f,l.wrappedWidth=f)}u&&(u.colSpan>1&&!l.minWidth&&(l.minWidth=u.minWidth),u.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=u.minWidth))}})}function E8(e,t,r){for(var n=t,a=e.reduce(function(m,x){return m+x.wrappedWidth},0),i=0;i<e.length;i++){var o=e[i],s=o.wrappedWidth/a,l=n*s,u=o.width+l,d=r(o),f=u<d?d:u;t-=f-o.width,o.width=f}if(t=Math.round(t*1e10)/1e10,t){var h=e.filter(function(m){return t<0?m.width>r(m):!0});h.length&&(t=E8(h,t,r))}return t}function tVe(e){for(var t={},r=1,n=e.allRows(),a=0;a<n.length;a++)for(var i=n[a],o=0,s=e.columns;o<s.length;o++){var l=s[o],u=t[l.index];if(r>1)r--,delete i.cells[l.index];else if(u)u.cell.height+=i.height,r=u.cell.colSpan,delete i.cells[l.index],u.left--,u.left<=1&&delete t[l.index];else{var d=i.cells[l.index];if(!d)continue;if(d.height=i.height,d.rowSpan>1){var f=n.length-a,h=d.rowSpan>f?f:d.rowSpan;t[l.index]={cell:d,left:h,row:i}}}}}function rVe(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],a=null,i=0,o=0,s=0;s<e.columns.length;s++){var l=e.columns[s];if(o-=1,o>1&&e.columns[s+1])i+=l.width,delete n.cells[l.index];else if(a){var u=a;delete n.cells[l.index],a=null,u.width=l.width+i}else{var u=n.cells[l.index];if(!u)continue;if(o=u.colSpan,i=0,u.colSpan>1){a=u,i+=l.width;continue}u.width=l.width+i}}}function nVe(e,t){for(var r={count:0,height:0},n=0,a=e.allRows();n<a.length;n++){for(var i=a[n],o=0,s=e.columns;o<s.length;o++){var l=s[o],u=i.cells[l.index];if(u){t.applyStyles(u.styles,!0);var d=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=t.splitTextToSize(u.text,d+1/t.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=xH(u.text,d,u.styles,t,"...");else if(u.styles.overflow==="hidden")u.text=xH(u.text,d,u.styles,t,"");else if(typeof u.styles.overflow=="function"){var f=u.styles.overflow(u.text,d);typeof f=="string"?u.text=[f]:u.text=f}u.contentHeight=u.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var h=u.contentHeight/u.rowSpan;u.rowSpan>1&&r.count*r.height<h*u.rowSpan?r={height:h,count:u.rowSpan}:r&&r.count>0&&r.height>h&&(h=r.height),h>i.height&&(i.height=h)}}r.count--}}function xH(e,t,r,n,a){return e.map(function(i){return aVe(i,t,r,n,a)})}function aVe(e,t,r,n,a){var i=1e4*n.scaleFactor();if(t=Math.ceil(t*i)/i,t>=r4(e,r,n))return e;for(;t<r4(e+a,r,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+a}function Die(e,t){var r=new l1(e),n=iVe(t,r.scaleFactor()),a=new ZHe(t,n);return QHe(r,a),r.applyStyles(r.userStyles),a}function iVe(e,t){var r=e.content,n=sVe(r.columns);if(r.head.length===0){var a=wH(n,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=wH(n,"foot");a&&r.foot.push(a)}var i=e.settings.theme,o=e.styles;return{columns:n,head:uP("head",r.head,n,o,i,t),body:uP("body",r.body,n,o,i,t),foot:uP("foot",r.foot,n,o,i,t)}}function uP(e,t,r,n,a,i){var o={},s=t.map(function(l,u){for(var d=0,f={},h=0,m=0,x=0,g=r;x<g.length;x++){var y=g[x];if(o[y.index]==null||o[y.index].left===0)if(m===0){var _=void 0;Array.isArray(l)?_=l[y.index-h-d]:_=l[y.dataKey];var b={};typeof _=="object"&&!Array.isArray(_)&&(b=(_==null?void 0:_.styles)||{});var S=lVe(e,y,u,a,n,i,b),C=new Oie(_,S,e);f[y.dataKey]=C,f[y.index]=C,m=C.colSpan-1,o[y.index]={left:C.rowSpan-1,times:m}}else m--,h++;else o[y.index].left--,m=o[y.index].times,d++}return new Pie(l,u,e,f)});return s}function wH(e,t){var r={};return e.forEach(function(n){if(n.raw!=null){var a=oVe(t,n.raw);a!=null&&(r[n.dataKey]=a)}}),Object.keys(r).length>0?r:null}function oVe(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function sVe(e){return e.map(function(t,r){var n,a;return typeof t=="object"?a=(n=t.dataKey)!==null&&n!==void 0?n:r:a=r,new JHe(a,t,r)})}function lVe(e,t,r,n,a,i,o){var s=LHe(n),l;e==="head"?l=a.headStyles:e==="body"?l=a.bodyStyles:e==="foot"&&(l=a.footStyles);var u=lh({},s.table,s[e],a.styles,l),d=a.columnStyles[t.dataKey]||a.columnStyles[t.index]||{},f=e==="body"?d:{},h=e==="body"&&r%2===0?lh({},s.alternateRow,a.alternateRowStyles):{},m=FHe(i),x=lh({},m,u,h,f);return lh(x,o)}function cVe(e,t,r){var n;r===void 0&&(r={});var a=Nie(e,t),i=new Map,o=[],s=[],l=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?l=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(l=[t.settings.horizontalPageBreakRepeat]),l.forEach(function(h){var m=t.columns.find(function(x){return x.dataKey===h||x.index===h});m&&!i.has(m.index)&&(i.set(m.index,!0),o.push(m.index),s.push(t.columns[m.index]),a-=m.wrappedWidth)});for(var u=!0,d=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;d<t.columns.length;){if(i.has(d)){d++;continue}var f=t.columns[d].wrappedWidth;if(u||a>=f)u=!1,o.push(d),s.push(t.columns[d]),a-=f;else break;d++}return{colIndexes:o,columns:s,lastIndex:d-1}}function uVe(e,t){for(var r=[],n=0;n<t.columns.length;n++){var a=cVe(e,t,{start:n});a.columns.length&&(r.push(a),n=a.lastIndex)}return r}function Iie(e,t){var r=t.settings,n=r.startY,a=r.margin,i={x:a.left,y:n},o=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),s=n+a.bottom+o;if(r.pageBreak==="avoid"){var l=t.body,u=l.reduce(function(h,m){return h+m.height},0);s+=u}var d=new l1(e);(r.pageBreak==="always"||r.startY!=null&&s>d.pageSize().height)&&(Mie(d),i.y=a.top),t.callWillDrawPageHooks(d,i);var f=lh({},i);t.startPageNumber=d.pageNumber(),r.horizontalPageBreak?dVe(d,t,f,i):(d.applyStyles(d.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(h){return Ah(d,t,h,i,t.columns)}),d.applyStyles(d.userStyles),t.body.forEach(function(h,m){var x=m===t.body.length-1;n4(d,t,h,x,f,i,t.columns)}),d.applyStyles(d.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(h){return Ah(d,t,h,i,t.columns)})),Aie(d,t,f,i),t.callEndPageHooks(d,i),t.finalY=i.y,e.lastAutoTable=t,d.applyStyles(d.userStyles)}function dVe(e,t,r,n){var a=uVe(e,t),i=t.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(u,d){e.applyStyles(e.userStyles),d>0?X2(e,t,r,n,u.columns,!0):_H(e,t,n,u.columns),fVe(e,t,r,n,u.columns),dP(e,t,n,u.columns)});else for(var o=-1,s=a[0],l=function(){var u=o;if(s){e.applyStyles(e.userStyles);var d=s.columns;o>=0?X2(e,t,r,n,d,!0):_H(e,t,n,d),u=bH(e,t,o+1,n,d),dP(e,t,n,d)}var f=u-o;a.slice(1).forEach(function(h){e.applyStyles(e.userStyles),X2(e,t,r,n,h.columns,!0),bH(e,t,o+1,n,h.columns,f),dP(e,t,n,h.columns)}),o=u};o<t.body.length-1;)l()}function _H(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&t.head.forEach(function(i){return Ah(e,t,i,r,n)})}function fVe(e,t,r,n,a){e.applyStyles(e.userStyles),t.body.forEach(function(i,o){var s=o===t.body.length-1;n4(e,t,i,s,r,n,a)})}function bH(e,t,r,n,a,i){e.applyStyles(e.userStyles),i=i??t.body.length;var o=Math.min(r+i,t.body.length),s=-1;return t.body.slice(r,o).forEach(function(l,u){var d=r+u===t.body.length-1,f=Rie(e,t,d,n);l.canEntireRowFit(f,a)&&(Ah(e,t,l,n,a),s=r+u)}),s}function dP(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&t.foot.forEach(function(i){return Ah(e,t,i,r,n)})}function hVe(e,t,r){var n=r.getLineHeight(e.styles.fontSize),a=e.padding("vertical"),i=Math.floor((t-a)/n);return Math.max(0,i)}function pVe(e,t,r,n){var a={};e.spansMultiplePages=!0,e.height=0;for(var i=0,o=0,s=r.columns;o<s.length;o++){var l=s[o],u=e.cells[l.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var d=new Oie(u.raw,u.styles,u.section);d=lh(d,u),d.text=[];var f=hVe(u,t,n);u.text.length>f&&(d.text=u.text.splice(f,u.text.length));var h=n.scaleFactor(),m=n.getLineHeightFactor();u.contentHeight=u.getContentHeight(h,m),u.contentHeight>=t&&(u.contentHeight=t,d.styles.minCellHeight-=t),u.contentHeight>e.height&&(e.height=u.contentHeight),d.contentHeight=d.getContentHeight(h,m),d.contentHeight>i&&(i=d.contentHeight),a[l.index]=d}}var x=new Pie(e.raw,-1,e.section,a,!0);x.height=i;for(var g=0,y=r.columns;g<y.length;g++){var l=y[g],d=x.cells[l.index];d&&(d.height=x.height);var u=e.cells[l.index];u&&(u.height=e.height)}return x}function mVe(e,t,r,n){var a=e.pageSize().height,i=n.settings.margin,o=i.top+i.bottom,s=a-o;t.section==="body"&&(s-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var l=t.getMinimumRowHeight(n.columns,e),u=l<r;if(l>s)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var d=t.hasRowSpan(n.columns),f=t.getMaxCellHeight(n.columns)>s;return f?(d&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(d||n.settings.rowPageBreak==="avoid")}function n4(e,t,r,n,a,i,o){var s=Rie(e,t,n,i);if(r.canEntireRowFit(s,o))Ah(e,t,r,i,o);else if(mVe(e,r,s,t)){var l=pVe(r,s,t,e);Ah(e,t,r,i,o),X2(e,t,a,i,o),n4(e,t,l,n,a,i,o)}else X2(e,t,a,i,o),n4(e,t,r,n,a,i,o)}function Ah(e,t,r,n,a){n.x=t.settings.margin.left;for(var i=0,o=a;i<o.length;i++){var s=o[i],l=r.cells[s.index];if(!l){n.x+=s.width;continue}e.applyStyles(l.styles),l.x=n.x,l.y=n.y;var u=t.callCellHooks(e,t.hooks.willDrawCell,l,r,s,n);if(u===!1){n.x+=s.width;continue}gVe(e,l,n);var d=l.getTextPos();_ie(l.text,d.x,d.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,l,r,s,n),n.x+=s.width}n.y+=r.height}function gVe(e,t,r){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof n.lineWidth=="number"){var a=kie(n.lineWidth,n.fillColor);a&&e.rect(t.x,r.y,t.width,t.height,a)}else typeof n.lineWidth=="object"&&(n.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),vVe(e,t,r,n.lineWidth))}function vVe(e,t,r,n){var a,i,o,s;n.top&&(a=r.x,i=r.y,o=r.x+t.width,s=r.y,n.right&&(o+=.5*n.right),n.left&&(a-=.5*n.left),l(n.top,a,i,o,s)),n.bottom&&(a=r.x,i=r.y+t.height,o=r.x+t.width,s=r.y+t.height,n.right&&(o+=.5*n.right),n.left&&(a-=.5*n.left),l(n.bottom,a,i,o,s)),n.left&&(a=r.x,i=r.y,o=r.x,s=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(s+=.5*n.bottom),l(n.left,a,i,o,s)),n.right&&(a=r.x+t.width,i=r.y,o=r.x+t.width,s=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(s+=.5*n.bottom),l(n.right,a,i,o,s));function l(u,d,f,h,m){e.getDocument().setLineWidth(u),e.getDocument().line(d,f,h,m,"S")}}function Rie(e,t,r,n){var a=t.settings.margin.bottom,i=t.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&r)&&(a+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-a}function X2(e,t,r,n,a,i){a===void 0&&(a=[]),i===void 0&&(i=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!i&&t.foot.forEach(function(s){return Ah(e,t,s,n,a)}),t.callEndPageHooks(e,n);var o=t.settings.margin;Aie(e,t,r,n),Mie(e),t.pageNumber++,n.x=o.left,n.y=o.top,r.y=o.top,t.callWillDrawPageHooks(e,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(s){return Ah(e,t,s,n,a)}),e.applyStyles(e.userStyles))}function Mie(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function yVe(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],a=Tie(this,n),i=Die(this,a);return Iie(this,i),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,n,a){_ie(t,r,n,a,this)},e.API.autoTableSetDefaults=function(t){return l1.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){l1.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new l1(this),i=Cie(a,t,window,r,!1),o=i.head,s=i.body,l=((n=o[0])===null||n===void 0?void 0:n.map(function(u){return u.content}))||[];return{columns:l,rows:s,data:s}}}var fP;function u7(e,t){var r=Tie(e,t),n=Die(e,r);Iie(e,n)}try{if(typeof window<"u"&&window){var SH=window,AH=SH.jsPDF||((fP=SH.jspdf)===null||fP===void 0?void 0:fP.jsPDF);AH&&yVe(AH)}}catch(e){console.error("Could not apply autoTable plugin",e)}const xVe=(e,t="inventory_export")=>{const r=e.map(o=>({"Item Name":o.item_name,Category:o.category,Quantity:o.quantity,"Expiry Date":o.expiry_date?new Date(o.expiry_date).toLocaleDateString():"N/A","Supplier Info":o.supplier_info||"N/A","Purchase Price":o.purchase_price!=null?Number(o.purchase_price):"N/A",Status:o.stock_status,"Low Stock Threshold":o.low_stock_threshold,"Created At":new Date(o.created_at).toLocaleString()})),n=rf.json_to_sheet(r),a=[{wch:30},{wch:15},{wch:10},{wch:15},{wch:25},{wch:15},{wch:12},{wch:20},{wch:20}];n["!cols"]=a;const i=rf.book_new();rf.book_append_sheet(i,n,"Inventory"),n7(i,`${t}.xlsx`)},wVe=(e,t="inventory_export")=>{const r=new $r,n=["Item Name","Category","Qty","Expiry","Supplier","Price","Status"],a=e.map(i=>[i.item_name,i.category,i.quantity,i.expiry_date?new Date(i.expiry_date).toLocaleDateString():"N/A",i.supplier_info||"N/A",i.purchase_price!=null?`$${Number(i.purchase_price).toFixed(2)}`:"N/A",i.stock_status]);r.setFontSize(18),r.text("Inventory Report",14,22),r.setFontSize(11),r.setTextColor(100),r.text(`Generated on: ${new Date().toLocaleDateString()}`,14,29),u7(r,{head:[n],body:a,startY:35,theme:"grid",headStyles:{fillColor:[22,160,133]},styles:{fontSize:8},columnStyles:{0:{cellWidth:40},2:{halign:"right"},5:{halign:"right"}}}),r.save(`${t}.pdf`)},_Ve=()=>{const[e,t]=A.useState(!1),[r,n]=A.useState(null),[a,i]=A.useState(""),[o,s]=A.useState("all"),[l,u]=A.useState([]),[d,f]=A.useState(0),[h,m]=A.useState(!1),x=()=>{n(null),t(!0)},g=b=>{n(b),t(!0)},y=()=>{t(!1),n(null)};return w("div",{className:"container mx-auto p-4 md:p-6 space-y-6",children:[w(Ca,{heading:"Inventory Management",text:"Track medicines, tools, and consumables.",className:"flex items-center justify-between",children:[w(ei,{open:e,onOpenChange:t,children:[c(Hw,{asChild:!0,children:w(Fe,{onClick:x,children:[c(Nh,{className:"mr-2 h-4 w-4"})," Add New Item"]})}),w(Ma,{className:"sm:max-w-[600px]",children:[" ",c(Fa,{children:c(La,{children:r?"Edit Inventory Item":"Add New Inventory Item"})}),c(MRe,{itemToEdit:r,onSave:b=>{console.log("Item saved:",b),y(),f(S=>S+1)},onCancel:y})]})]}),w(Fe,{variant:"outline",onClick:()=>m(!h),className:"ai-insights-button",children:[c(LV,{className:"mr-2 h-4 w-4"})," ",h?"Hide AI Insights":"Show AI Insights"]})]}),w("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:[w("div",{className:"relative flex-1",children:[c(p4,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),c(ot,{type:"search",placeholder:"Search by item name...",className:"pl-8 sm:w-full",value:a,onChange:b=>i(b.target.value)})]}),w(zr,{value:o,onValueChange:b=>s(b),children:[c(Br,{className:"w-full sm:w-[180px]",children:c(Wr,{placeholder:"Filter by category"})}),w(Ur,{children:[c(wt,{value:"all",children:"All Categories"}),c(wt,{value:"Medicines",children:"Medicines"}),c(wt,{value:"Tools",children:"Tools"}),c(wt,{value:"Consumables",children:"Consumables"})]})]}),w(Fe,{variant:"outline",onClick:()=>xVe(l),disabled:l.length===0,className:"w-full sm:w-auto",children:[c(YM,{className:"mr-2 h-4 w-4"})," Export Excel"]}),w(Fe,{variant:"outline",onClick:()=>wVe(l),disabled:l.length===0,className:"w-full sm:w-auto",children:[c(YM,{className:"mr-2 h-4 w-4"})," Export PDF"]})]}),h&&c(jRe,{}),c(PRe,{onEditItem:g,refreshTrigger:d,searchTerm:a,categoryFilter:o,onDataFiltered:u})]})},bVe=()=>{const[e,t]=A.useState([]),[r,n]=A.useState(!0),[a,i]=A.useState(null),[o,s]=A.useState(null),{toast:l}=xn();A.useEffect(()=>{(async()=>{n(!0),i(null);try{const f=await DRe();Array.isArray(f)?t(f):(console.warn("Fetched invoices data is not an array:",f),t([]))}catch(f){console.error("Failed to fetch invoices:",f);const h=f instanceof Error?f.message:"An unknown error occurred";i(h),l({title:"Error Fetching Invoices",description:h,variant:"destructive"})}finally{n(!1)}})()},[l]);const u=async d=>{s(d.id);try{const f=await IRe(d.storage_path);window.open(f,"_blank")}catch(f){console.error("Failed to get download URL:",f),l({title:"Error Getting Download Link",description:f instanceof Error?f.message:"Could not generate link.",variant:"destructive"})}finally{s(null)}};return r?c("div",{className:"space-y-2",children:[...Array(3)].map((d,f)=>c(Il,{className:"h-10 w-full"},f))}):a?w(ed,{variant:"destructive",children:[c(dc,{className:"h-4 w-4"}),c(td,{children:"Error"}),c(rd,{children:a})]}):e.length===0?c("p",{className:"text-center text-gray-500 mt-4",children:"No invoices found."}):c("div",{className:"rounded-md border",children:w(Fs,{children:[c(Ls,{children:w(Pn,{children:[c(Wt,{children:"File Name"}),c(Wt,{children:"Related Item"}),c(Wt,{children:"Uploaded At"}),c(Wt,{children:"Uploaded By"}),c(Wt,{className:"text-right",children:"Actions"})]})}),c(js,{children:e.map(d=>{var f;return w(Pn,{children:[c(jt,{className:"font-medium",children:d.file_name}),c(jt,{children:((f=d.inventory_items)==null?void 0:f.item_name)??c("span",{className:"text-xs text-muted-foreground",children:"N/A"})}),c(jt,{children:new Date(d.uploaded_at).toLocaleString()}),c(jt,{className:"text-xs text-muted-foreground",children:d.uploaded_by_user_id?"User ID: ..."+d.uploaded_by_user_id.slice(-6):"Unknown"}),w(jt,{className:"text-right space-x-1",children:[c(Fe,{variant:"ghost",size:"icon",onClick:()=>u(d),disabled:o===d.id,title:"View Invoice",children:o===d.id?c("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}):c(kw,{className:"h-4 w-4"})}),c(Fe,{variant:"ghost",size:"icon",onClick:()=>u(d),disabled:o===d.id,title:"Download/View Invoice",children:o===d.id?c("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}):c(UV,{className:"h-4 w-4"})})]})]},d.id)})})]})})},SVe=()=>w("div",{className:"container mx-auto p-4 md:p-6 space-y-6",children:[c(Ca,{heading:"Uploaded Invoices",text:"View and download previously uploaded invoices."}),c(bVe,{})]}),AVe=({asset:e,isOpen:t,onOpenChange:r,onIntervalSet:n})=>{const{toast:a}=xn(),[i,o]=A.useState(e.maintenance_interval_value||""),[s,l]=A.useState(e.maintenance_interval_unit||void 0),[u,d]=A.useState(!1);A.useEffect(()=>{o(e.maintenance_interval_value||""),l(e.maintenance_interval_unit||void 0)},[e,t]);const f=async()=>{if(i===""||!s){a({title:"Validation Error",description:"Please provide both interval period and unit.",variant:"destructive"});return}if(i<=0){a({title:"Validation Error",description:"Interval period must be positive.",variant:"destructive"});return}d(!0);try{const{error:h}=await Me.from("assets").update({maintenance_interval_value:i,maintenance_interval_unit:s}).eq("id",e.id);if(h)throw h;a({title:"Success",description:`Maintenance interval for ${e.asset_name} updated.`}),n(),r(!1)}catch(h){a({title:"Error updating interval",description:h.message||"An unexpected error occurred.",variant:"destructive"})}finally{d(!1)}};return c(ei,{open:t,onOpenChange:r,children:w(Ma,{className:"sm:max-w-[425px]",children:[w(Fa,{children:[c(La,{children:"Set Maintenance Interval"}),w(xo,{children:["Configure the maintenance interval for asset: ",c("strong",{children:e.asset_name}),"."]})]}),w("div",{className:"grid gap-4 py-4",children:[w("div",{className:"grid grid-cols-4 items-center gap-4",children:[c(Kt,{htmlFor:"intervalValue",className:"text-right",children:"Interval Period"}),c(ot,{id:"intervalValue",type:"number",value:i,onChange:h=>o(h.target.value===""?"":parseInt(h.target.value,10)),className:"col-span-3",min:"1",placeholder:"e.g., 3"})]}),w("div",{className:"grid grid-cols-4 items-center gap-4",children:[c(Kt,{htmlFor:"intervalUnit",className:"text-right",children:"Interval"}),w(zr,{value:s,onValueChange:h=>l(h),children:[c(Br,{className:"col-span-3",children:c(Wr,{placeholder:"Select unit"})}),w(Ur,{children:[c(wt,{value:"days",children:"Days"}),c(wt,{value:"weeks",children:"Weeks"}),c(wt,{value:"months",children:"Months"}),c(wt,{value:"years",children:"Years"})]})]})]})]}),w(lo,{children:[c(Fe,{variant:"outline",onClick:()=>r(!1),disabled:u,children:"Cancel"}),c(Fe,{onClick:f,disabled:u,children:u?"Saving...":"Save Interval"})]})]})})};function kVe(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function NVe(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var EVe=function(){function e(r){var n=this;this._insertTag=function(a){var i;n.tags.length===0?n.insertionPoint?i=n.insertionPoint.nextSibling:n.prepend?i=n.container.firstChild:i=n.before:i=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(a,i),n.tags.push(a)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(n){n.forEach(this._insertTag)},t.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(NVe(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var i=kVe(a);try{i.insertRule(n,i.cssRules.length)}catch{}}else a.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){var a;return(a=n.parentNode)==null?void 0:a.removeChild(n)}),this.tags=[],this.ctr=0},e}(),bs="-ms-",a4="-moz-",aa="-webkit-",Fie="comm",d7="rule",f7="decl",CVe="@import",Lie="@keyframes",TVe="@layer",PVe=Math.abs,Q3=String.fromCharCode,OVe=Object.assign;function DVe(e,t){return ts(e,0)^45?(((t<<2^ts(e,0))<<2^ts(e,1))<<2^ts(e,2))<<2^ts(e,3):0}function jie(e){return e.trim()}function IVe(e,t){return(e=t.exec(e))?e[0]:e}function ia(e,t,r){return e.replace(t,r)}function C8(e,t){return e.indexOf(t)}function ts(e,t){return e.charCodeAt(t)|0}function ww(e,t,r){return e.slice(t,r)}function Bd(e){return e.length}function h7(e){return e.length}function Mb(e,t){return t.push(e),e}function RVe(e,t){return e.map(t).join("")}var eA=1,K1=1,$ie=0,Fl=0,oo=0,wy="";function tA(e,t,r,n,a,i,o){return{value:e,root:t,parent:r,type:n,props:a,children:i,line:eA,column:K1,length:o,return:""}}function d2(e,t){return OVe(tA("",null,null,"",null,null,0),e,{length:-e.length},t)}function MVe(){return oo}function FVe(){return oo=Fl>0?ts(wy,--Fl):0,K1--,oo===10&&(K1=1,eA--),oo}function gc(){return oo=Fl<$ie?ts(wy,Fl++):0,K1++,oo===10&&(K1=1,eA++),oo}function af(){return ts(wy,Fl)}function r5(){return Fl}function n_(e,t){return ww(wy,e,t)}function _w(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Bie(e){return eA=K1=1,$ie=Bd(wy=e),Fl=0,[]}function Uie(e){return wy="",e}function n5(e){return jie(n_(Fl-1,T8(e===91?e+2:e===40?e+1:e)))}function LVe(e){for(;(oo=af())&&oo<33;)gc();return _w(e)>2||_w(oo)>3?"":" "}function jVe(e,t){for(;--t&&gc()&&!(oo<48||oo>102||oo>57&&oo<65||oo>70&&oo<97););return n_(e,r5()+(t<6&&af()==32&&gc()==32))}function T8(e){for(;gc();)switch(oo){case e:return Fl;case 34:case 39:e!==34&&e!==39&&T8(oo);break;case 40:e===41&&T8(e);break;case 92:gc();break}return Fl}function $Ve(e,t){for(;gc()&&e+oo!==57;)if(e+oo===84&&af()===47)break;return"/*"+n_(t,Fl-1)+"*"+Q3(e===47?e:gc())}function BVe(e){for(;!_w(af());)gc();return n_(e,Fl)}function UVe(e){return Uie(a5("",null,null,null,[""],e=Bie(e),0,[0],e))}function a5(e,t,r,n,a,i,o,s,l){for(var u=0,d=0,f=o,h=0,m=0,x=0,g=1,y=1,_=1,b=0,S="",C=a,E=i,D=n,T=S;y;)switch(x=b,b=gc()){case 40:if(x!=108&&ts(T,f-1)==58){C8(T+=ia(n5(b),"&","&\f"),"&\f")!=-1&&(_=-1);break}case 34:case 39:case 91:T+=n5(b);break;case 9:case 10:case 13:case 32:T+=LVe(x);break;case 92:T+=jVe(r5()-1,7);continue;case 47:switch(af()){case 42:case 47:Mb(qVe($Ve(gc(),r5()),t,r),l);break;default:T+="/"}break;case 123*g:s[u++]=Bd(T)*_;case 125*g:case 59:case 0:switch(b){case 0:case 125:y=0;case 59+d:_==-1&&(T=ia(T,/\f/g,"")),m>0&&Bd(T)-f&&Mb(m>32?NH(T+";",n,r,f-1):NH(ia(T," ","")+";",n,r,f-2),l);break;case 59:T+=";";default:if(Mb(D=kH(T,t,r,u,d,a,s,S,C=[],E=[],f),i),b===123)if(d===0)a5(T,t,D,D,C,i,f,s,E);else switch(h===99&&ts(T,3)===110?100:h){case 100:case 108:case 109:case 115:a5(e,D,D,n&&Mb(kH(e,D,D,0,0,a,s,S,a,C=[],f),E),a,E,f,s,n?C:E);break;default:a5(T,D,D,D,[""],E,0,s,E)}}u=d=m=0,g=_=1,S=T="",f=o;break;case 58:f=1+Bd(T),m=x;default:if(g<1){if(b==123)--g;else if(b==125&&g++==0&&FVe()==125)continue}switch(T+=Q3(b),b*g){case 38:_=d>0?1:(T+="\f",-1);break;case 44:s[u++]=(Bd(T)-1)*_,_=1;break;case 64:af()===45&&(T+=n5(gc())),h=af(),d=f=Bd(S=T+=BVe(r5())),b++;break;case 45:x===45&&Bd(T)==2&&(g=0)}}return i}function kH(e,t,r,n,a,i,o,s,l,u,d){for(var f=a-1,h=a===0?i:[""],m=h7(h),x=0,g=0,y=0;x<n;++x)for(var _=0,b=ww(e,f+1,f=PVe(g=o[x])),S=e;_<m;++_)(S=jie(g>0?h[_]+" "+b:ia(b,/&\f/g,h[_])))&&(l[y++]=S);return tA(e,t,r,a===0?d7:s,l,u,d)}function qVe(e,t,r){return tA(e,t,r,Fie,Q3(MVe()),ww(e,2,-2),0)}function NH(e,t,r,n){return tA(e,t,r,f7,ww(e,0,n),ww(e,n+1,-1),n)}function c1(e,t){for(var r="",n=h7(e),a=0;a<n;a++)r+=t(e[a],a,e,t)||"";return r}function zVe(e,t,r,n){switch(e.type){case TVe:if(e.children.length)break;case CVe:case f7:return e.return=e.return||e.value;case Fie:return"";case Lie:return e.return=e.value+"{"+c1(e.children,n)+"}";case d7:e.value=e.props.join(",")}return Bd(r=c1(e.children,n))?e.return=e.value+"{"+r+"}":""}function WVe(e){var t=h7(e);return function(r,n,a,i){for(var o="",s=0;s<t;s++)o+=e[s](r,n,a,i)||"";return o}}function HVe(e){return function(t){t.root||(t=t.return)&&e(t)}}function VVe(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var GVe=function(t,r,n){for(var a=0,i=0;a=i,i=af(),a===38&&i===12&&(r[n]=1),!_w(i);)gc();return n_(t,Fl)},KVe=function(t,r){var n=-1,a=44;do switch(_w(a)){case 0:a===38&&af()===12&&(r[n]=1),t[n]+=GVe(Fl-1,r,n);break;case 2:t[n]+=n5(a);break;case 4:if(a===44){t[++n]=af()===58?"&\f":"",r[n]=t[n].length;break}default:t[n]+=Q3(a)}while(a=gc());return t},YVe=function(t,r){return Uie(KVe(Bie(t),r))},EH=new WeakMap,XVe=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,n=t.parent,a=t.column===n.column&&t.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!EH.get(n))&&!a){EH.set(t,!0);for(var i=[],o=YVe(r,i),s=n.props,l=0,u=0;l<o.length;l++)for(var d=0;d<s.length;d++,u++)t.props[u]=i[l]?o[l].replace(/&\f/g,s[d]):s[d]+" "+o[l]}}},ZVe=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}};function qie(e,t){switch(DVe(e,t)){case 5103:return aa+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return aa+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return aa+e+a4+e+bs+e+e;case 6828:case 4268:return aa+e+bs+e+e;case 6165:return aa+e+bs+"flex-"+e+e;case 5187:return aa+e+ia(e,/(\w+).+(:[^]+)/,aa+"box-$1$2"+bs+"flex-$1$2")+e;case 5443:return aa+e+bs+"flex-item-"+ia(e,/flex-|-self/,"")+e;case 4675:return aa+e+bs+"flex-line-pack"+ia(e,/align-content|flex-|-self/,"")+e;case 5548:return aa+e+bs+ia(e,"shrink","negative")+e;case 5292:return aa+e+bs+ia(e,"basis","preferred-size")+e;case 6060:return aa+"box-"+ia(e,"-grow","")+aa+e+bs+ia(e,"grow","positive")+e;case 4554:return aa+ia(e,/([^-])(transform)/g,"$1"+aa+"$2")+e;case 6187:return ia(ia(ia(e,/(zoom-|grab)/,aa+"$1"),/(image-set)/,aa+"$1"),e,"")+e;case 5495:case 3959:return ia(e,/(image-set\([^]*)/,aa+"$1$`$1");case 4968:return ia(ia(e,/(.+:)(flex-)?(.*)/,aa+"box-pack:$3"+bs+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+aa+e+e;case 4095:case 3583:case 4068:case 2532:return ia(e,/(.+)-inline(.+)/,aa+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Bd(e)-1-t>6)switch(ts(e,t+1)){case 109:if(ts(e,t+4)!==45)break;case 102:return ia(e,/(.+:)(.+)-([^]+)/,"$1"+aa+"$2-$3$1"+a4+(ts(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~C8(e,"stretch")?qie(ia(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(ts(e,t+1)!==115)break;case 6444:switch(ts(e,Bd(e)-3-(~C8(e,"!important")&&10))){case 107:return ia(e,":",":"+aa)+e;case 101:return ia(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+aa+(ts(e,14)===45?"inline-":"")+"box$3$1"+aa+"$2$3$1"+bs+"$2box$3")+e}break;case 5936:switch(ts(e,t+11)){case 114:return aa+e+bs+ia(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return aa+e+bs+ia(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return aa+e+bs+ia(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return aa+e+bs+e+e}return e}var JVe=function(t,r,n,a){if(t.length>-1&&!t.return)switch(t.type){case f7:t.return=qie(t.value,t.length);break;case Lie:return c1([d2(t,{value:ia(t.value,"@","@"+aa)})],a);case d7:if(t.length)return RVe(t.props,function(i){switch(IVe(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return c1([d2(t,{props:[ia(i,/:(read-\w+)/,":"+a4+"$1")]})],a);case"::placeholder":return c1([d2(t,{props:[ia(i,/:(plac\w+)/,":"+aa+"input-$1")]}),d2(t,{props:[ia(i,/:(plac\w+)/,":"+a4+"$1")]}),d2(t,{props:[ia(i,/:(plac\w+)/,bs+"input-$1")]})],a)}return""})}},QVe=[JVe],eGe=function(t){var r=t.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(g){var y=g.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var a=t.stylisPlugins||QVe,i={},o,s=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(g){for(var y=g.getAttribute("data-emotion").split(" "),_=1;_<y.length;_++)i[y[_]]=!0;s.push(g)});var l,u=[XVe,ZVe];{var d,f=[zVe,HVe(function(g){d.insert(g)})],h=WVe(u.concat(a,f)),m=function(y){return c1(UVe(y),h)};l=function(y,_,b,S){d=b,m(y?y+"{"+_.styles+"}":_.styles),S&&(x.inserted[_.name]=!0)}}var x={key:r,sheet:new EVe({key:r,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:i,registered:{},insert:l};return x.sheet.hydrate(s),x},hP={exports:{}},pa={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CH;function tGe(){if(CH)return pa;CH=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,n=e?Symbol.for("react.fragment"):60107,a=e?Symbol.for("react.strict_mode"):60108,i=e?Symbol.for("react.profiler"):60114,o=e?Symbol.for("react.provider"):60109,s=e?Symbol.for("react.context"):60110,l=e?Symbol.for("react.async_mode"):60111,u=e?Symbol.for("react.concurrent_mode"):60111,d=e?Symbol.for("react.forward_ref"):60112,f=e?Symbol.for("react.suspense"):60113,h=e?Symbol.for("react.suspense_list"):60120,m=e?Symbol.for("react.memo"):60115,x=e?Symbol.for("react.lazy"):60116,g=e?Symbol.for("react.block"):60121,y=e?Symbol.for("react.fundamental"):60117,_=e?Symbol.for("react.responder"):60118,b=e?Symbol.for("react.scope"):60119;function S(E){if(typeof E=="object"&&E!==null){var D=E.$$typeof;switch(D){case t:switch(E=E.type,E){case l:case u:case n:case i:case a:case f:return E;default:switch(E=E&&E.$$typeof,E){case s:case d:case x:case m:case o:return E;default:return D}}case r:return D}}}function C(E){return S(E)===u}return pa.AsyncMode=l,pa.ConcurrentMode=u,pa.ContextConsumer=s,pa.ContextProvider=o,pa.Element=t,pa.ForwardRef=d,pa.Fragment=n,pa.Lazy=x,pa.Memo=m,pa.Portal=r,pa.Profiler=i,pa.StrictMode=a,pa.Suspense=f,pa.isAsyncMode=function(E){return C(E)||S(E)===l},pa.isConcurrentMode=C,pa.isContextConsumer=function(E){return S(E)===s},pa.isContextProvider=function(E){return S(E)===o},pa.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===t},pa.isForwardRef=function(E){return S(E)===d},pa.isFragment=function(E){return S(E)===n},pa.isLazy=function(E){return S(E)===x},pa.isMemo=function(E){return S(E)===m},pa.isPortal=function(E){return S(E)===r},pa.isProfiler=function(E){return S(E)===i},pa.isStrictMode=function(E){return S(E)===a},pa.isSuspense=function(E){return S(E)===f},pa.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===n||E===u||E===i||E===a||E===f||E===h||typeof E=="object"&&E!==null&&(E.$$typeof===x||E.$$typeof===m||E.$$typeof===o||E.$$typeof===s||E.$$typeof===d||E.$$typeof===y||E.$$typeof===_||E.$$typeof===b||E.$$typeof===g)},pa.typeOf=S,pa}var TH;function rGe(){return TH||(TH=1,hP.exports=tGe()),hP.exports}var pP,PH;function nGe(){if(PH)return pP;PH=1;var e=rGe(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};i[e.ForwardRef]=n,i[e.Memo]=a;function o(x){return e.isMemo(x)?a:i[x.$$typeof]||t}var s=Object.defineProperty,l=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,h=Object.prototype;function m(x,g,y){if(typeof g!="string"){if(h){var _=f(g);_&&_!==h&&m(x,_,y)}var b=l(g);u&&(b=b.concat(u(g)));for(var S=o(x),C=o(g),E=0;E<b.length;++E){var D=b[E];if(!r[D]&&!(y&&y[D])&&!(C&&C[D])&&!(S&&S[D])){var T=d(g,D);try{s(x,D,T)}catch{}}}}return x}return pP=m,pP}nGe();var aGe=!0;function iGe(e,t,r){var n="";return r.split(" ").forEach(function(a){e[a]!==void 0?t.push(e[a]+";"):a&&(n+=a+" ")}),n}var zie=function(t,r,n){var a=t.key+"-"+r.name;(n===!1||aGe===!1)&&t.registered[a]===void 0&&(t.registered[a]=r.styles)},oGe=function(t,r,n){zie(t,r,n);var a=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var i=r;do t.insert(r===i?"."+a:"",i,t.sheet,!0),i=i.next;while(i!==void 0)}};function sGe(e){for(var t=0,r,n=0,a=e.length;a>=4;++n,a-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(a){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var lGe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},cGe=/[A-Z]|^ms/g,uGe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Wie=function(t){return t.charCodeAt(1)===45},OH=function(t){return t!=null&&typeof t!="boolean"},mP=VVe(function(e){return Wie(e)?e:e.replace(cGe,"-$&").toLowerCase()}),DH=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(uGe,function(n,a,i){return Ud={name:a,styles:i,next:Ud},a})}return lGe[t]!==1&&!Wie(t)&&typeof r=="number"&&r!==0?r+"px":r};function bw(e,t,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var a=r;if(a.anim===1)return Ud={name:a.name,styles:a.styles,next:Ud},a.name;var i=r;if(i.styles!==void 0){var o=i.next;if(o!==void 0)for(;o!==void 0;)Ud={name:o.name,styles:o.styles,next:Ud},o=o.next;var s=i.styles+";";return s}return dGe(e,t,r)}case"function":{if(e!==void 0){var l=Ud,u=r(e);return Ud=l,bw(e,t,u)}break}}var d=r;return d}function dGe(e,t,r){var n="";if(Array.isArray(r))for(var a=0;a<r.length;a++)n+=bw(e,t,r[a])+";";else for(var i in r){var o=r[i];if(typeof o!="object"){var s=o;OH(s)&&(n+=mP(i)+":"+DH(i,s)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&t==null)for(var l=0;l<o.length;l++)OH(o[l])&&(n+=mP(i)+":"+DH(i,o[l])+";");else{var u=bw(e,t,o);switch(i){case"animation":case"animationName":{n+=mP(i)+":"+u+";";break}default:n+=i+"{"+u+"}"}}}return n}var IH=/label:\s*([^\s;{]+)\s*(;|$)/g,Ud;function Hie(e,t,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var n=!0,a="";Ud=void 0;var i=e[0];if(i==null||i.raw===void 0)n=!1,a+=bw(r,t,i);else{var o=i;a+=o[0]}for(var s=1;s<e.length;s++)if(a+=bw(r,t,e[s]),n){var l=i;a+=l[s]}IH.lastIndex=0;for(var u="",d;(d=IH.exec(a))!==null;)u+="-"+d[1];var f=sGe(a)+u;return{name:f,styles:a,next:Ud}}var fGe=function(t){return t()},hGe=Z2.useInsertionEffect?Z2.useInsertionEffect:!1,pGe=hGe||fGe,Vie=A.createContext(typeof HTMLElement<"u"?eGe({key:"css"}):null);Vie.Provider;var mGe=function(t){return A.forwardRef(function(r,n){var a=A.useContext(Vie);return t(r,a,n)})},gGe=A.createContext({}),p7={}.hasOwnProperty,P8="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",vGe=function(t,r){var n={};for(var a in r)p7.call(r,a)&&(n[a]=r[a]);return n[P8]=t,n},yGe=function(t){var r=t.cache,n=t.serialized,a=t.isStringTag;return zie(r,n,a),pGe(function(){return oGe(r,n,a)}),null},xGe=mGe(function(e,t,r){var n=e.css;typeof n=="string"&&t.registered[n]!==void 0&&(n=t.registered[n]);var a=e[P8],i=[n],o="";typeof e.className=="string"?o=iGe(t.registered,i,e.className):e.className!=null&&(o=e.className+" ");var s=Hie(i,void 0,A.useContext(gGe));o+=t.key+"-"+s.name;var l={};for(var u in e)p7.call(e,u)&&u!=="css"&&u!==P8&&(l[u]=e[u]);return l.className=o,r&&(l.ref=r),A.createElement(A.Fragment,null,A.createElement(yGe,{cache:t,serialized:s,isStringTag:typeof a=="string"}),A.createElement(a,l))}),wGe=xGe,RH=function(t,r){var n=arguments;if(r==null||!p7.call(r,"css"))return A.createElement.apply(void 0,n);var a=n.length,i=new Array(a);i[0]=wGe,i[1]=vGe(t,r);for(var o=2;o<a;o++)i[o]=n[o];return A.createElement.apply(null,i)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(RH||(RH={}));function _Ge(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Hie(t)}function bGe(){var e=_Ge.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}const Fb=e=>{if(!e)return"N/A";try{return new Date(e).toLocaleDateString()}catch{return"Invalid Date"}};bGe`
  0%, 100% { opacity: 1; }
  50% { opacity: 0; }
`;const SGe=({status:e})=>{if(!e)return c(Zu,{variant:"outline",className:"bg-gray-200 text-gray-700",children:"Unknown"});let t="default",r="";switch(e){case"Active":t="default",r="bg-green-100 text-green-800";break;case"Under Maintenance":t="secondary",r="bg-yellow-100 text-yellow-800 animate-blink";break;case"Retired":t="outline",r="bg-gray-200 text-gray-700";break;case"Disposed":t="destructive",r="bg-red-100 text-red-800";break;default:t="outline",r="bg-gray-200 text-gray-700";break}return c(Zu,{variant:t,className:r,children:e})},AGe=({onMarkAsServiced:e,onDisposeAsset:t,refreshTrigger:r,searchTerm:n,categoryFilter:a,statusFilter:i,tagFilter:o,onDataFiltered:s})=>{const[l,u]=A.useState([]),[d,f]=A.useState(!0),[h,m]=A.useState(null),[x,g]=A.useState("asset_name"),[y,_]=A.useState("asc"),{toast:b}=xn(),[S,C]=A.useState(!1),[E,D]=A.useState(null),T=A.useCallback(async()=>{f(!0),m(null);try{let P=Me.from("assets").select(`
        *,
        asset_tags (
          tags (id, name, color)
        )
      `);n&&(P=P.or(`asset_name.ilike.%${n}%,serial_number.ilike.%${n}%`)),a!=="all"&&(P=P.eq("category",a)),i!=="all"&&(P=P.eq("status",i)),o!=="all"&&console.warn("Tag filtering in AssetList is not fully implemented for direct client-side query. Requires RPC or subquery.");const O={ascending:y==="asc"},j=["serial_number","location","purchase_date","warranty_expiry_date","next_maintenance_due_date","status"];j.includes(x)&&y==="asc"?O.nullsFirst=!1:j.includes(x)&&y==="desc"&&(O.nullsFirst=!0),P=P.order(x,O);const{data:G,error:Y}=await P;if(Y)throw Y;const re=(G||[]).map(q=>({...q,tags:Array.isArray(q.asset_tags)?q.asset_tags.map(K=>K.tags).filter(Boolean):[]}));u(re),s(re)}catch(P){console.error("Failed to fetch assets:",P),m(P instanceof Error?P.message:"An unknown error occurred"),b({title:"Error Fetching Assets",description:P instanceof Error?P.message:"Could not load assets.",variant:"destructive"})}finally{f(!1)}},[b,n,a,i,o,x,y,s]),I=P=>{D(P),C(!0)};A.useEffect(()=>{T()},[T,r]),A.useEffect(()=>{if(!Me)return;const P=Me.channel("assets_changes").on("postgres_changes",{event:"*",schema:"public",table:"assets"},O=>{console.log("Asset Realtime change received:",O),T()}).subscribe((O,j)=>{O==="SUBSCRIBED"&&console.log("Subscribed to asset changes!"),(O==="CHANNEL_ERROR"||O==="TIMED_OUT"||O==="CLOSED")&&console.error("Asset Realtime subscription error/closed:",O,j)});return()=>{console.log("Unsubscribing from asset changes"),Me.removeChannel(P)}},[Me,b,T]);const L=P=>{x===P?_(O=>O==="asc"?"desc":"asc"):(g(P),_("asc"))},B=P=>x!==P?c(c5,{className:"ml-2 h-4 w-4 opacity-30 group-hover:opacity-100"}):c(c5,{className:`ml-2 h-4 w-4 ${y==="asc"?"":"rotate-180"}`});return d?c("div",{className:"space-y-2",children:[...Array(5)].map((P,O)=>c(Il,{className:"h-10 w-full"},O))}):h?w(ed,{variant:"destructive",children:[c(dc,{className:"h-4 w-4"}),c(td,{children:"Error"}),c(rd,{children:h})]}):l.length===0?c("p",{className:"text-center text-gray-500 mt-4",children:"No assets found matching the criteria."}):w("div",{className:"rounded-md border",children:[w(Fs,{children:[c(Ls,{children:w(Pn,{children:[c(Wt,{children:w(Fe,{variant:"ghost",onClick:()=>L("asset_name"),className:"px-0 group",children:["Asset Name ",B("asset_name")]})}),c(Wt,{children:w(Fe,{variant:"ghost",onClick:()=>L("category"),className:"px-0 group",children:["Category ",B("category")]})}),c(Wt,{children:"Tags"}),c(Wt,{children:w(Fe,{variant:"ghost",onClick:()=>L("serial_number"),className:"px-0 group",children:["Serial No. ",B("serial_number")]})}),c(Wt,{children:w(Fe,{variant:"ghost",onClick:()=>L("location"),className:"px-0 group",children:["Location ",B("location")]})}),c(Wt,{children:w(Fe,{variant:"ghost",onClick:()=>L("status"),className:"px-0 group",children:["Status ",B("status")]})}),c(Wt,{className:"hidden md:table-cell",children:w(Fe,{variant:"ghost",onClick:()=>L("purchase_date"),className:"px-0 group",children:["Purchase Date ",B("purchase_date")]})}),c(Wt,{className:"hidden md:table-cell",children:w(Fe,{variant:"ghost",onClick:()=>L("warranty_expiry_date"),className:"px-0 group",children:["Warranty Expiry ",B("warranty_expiry_date")]})}),c(Wt,{className:"hidden md:table-cell",children:w(Fe,{variant:"ghost",onClick:()=>L("last_serviced_date"),className:"px-0 group",children:["Last Serviced ",B("last_serviced_date")]})}),c(Wt,{className:"hidden md:table-cell",children:w(Fe,{variant:"ghost",onClick:()=>L("next_maintenance_due_date"),className:"px-0 group",children:["Next Due ",B("next_maintenance_due_date")]})}),c(Wt,{className:"text-right",children:"Actions"})," "]})}),c(js,{children:l.map(P=>w(Pn,{children:[c(jt,{className:"font-medium p-2 text-center text-sm",children:P.asset_name}),c(jt,{className:"p-2 text-center text-sm",children:P.category}),c(jt,{className:"p-2 text-center text-sm",children:P.tags&&P.tags.length>0?P.tags.map(O=>c(Zu,{variant:"outline",className:"mr-1 mb-1 text-xs",style:O.color?{backgroundColor:O.color,color:"#fff",borderColor:O.color}:{},children:O.name},O.id)):"-"}),c(jt,{className:"p-2 text-center text-sm",children:P.serial_number||"N/A"}),c(jt,{className:"p-2 text-center text-sm",children:P.location||"N/A"}),c(jt,{className:"p-2 text-center text-sm",children:c(SGe,{status:P.status})}),c(jt,{className:"hidden md:table-cell p-2 text-center text-sm",children:Fb(P.purchase_date)}),c(jt,{className:"hidden md:table-cell p-2 text-center text-sm",children:Fb(P.warranty_expiry_date)}),c(jt,{className:"hidden md:table-cell p-2 text-center text-sm",children:Fb(P.last_serviced_date)}),c(jt,{className:"hidden md:table-cell p-2 text-center text-sm",children:Fb(P.next_maintenance_due_date)}),c(jt,{className:"text-right p-2 text-sm",children:w("div",{className:"flex items-center justify-end space-x-1",children:[P.service_document_url&&c(Fe,{variant:"ghost",size:"icon",asChild:!0,title:"View Service Document",children:c("a",{href:P.service_document_url,target:"_blank",rel:"noopener noreferrer",children:c(gce,{className:"h-4 w-4"})})}),c(Fe,{variant:"ghost",size:"icon",onClick:()=>e(P),title:"Mark as Serviced",disabled:P.status==="Retired"||P.status==="Disposed",children:c(Ice,{className:"h-4 w-4"})}),c(Fe,{variant:"ghost",size:"icon",asChild:!0,title:"View Details",children:c(Wi,{to:`/assets/${P.id}`,children:c(kw,{className:"h-4 w-4"})})}),c(Fe,{variant:"ghost",size:"icon",onClick:()=>t(P),title:"Dispose Asset",disabled:P.status==="Disposed"||P.status==="Retired",children:c(FV,{className:"h-4 w-4"})}),c(Fe,{variant:"ghost",size:"icon",onClick:()=>I(P),title:"Set Maintenance Interval",children:c(ice,{className:"h-4 w-4"})})]})})]},P.id))})]}),S&&E&&c(AVe,{asset:E,isOpen:S,onOpenChange:C,onIntervalSet:()=>{T(),b({title:"Success",description:"Maintenance interval updated."})}})]})},m7="assets",kGe=async()=>{const{data:e,error:t}=await Me.from(m7).select("*").order("created_at",{ascending:!1});if(t)throw console.error("Error fetching assets:",t),new Error(t.message);return e||[]},NGe=async e=>{const t={...e,serial_number:e.serial_number||null,location:e.location||null,supplier_info:e.supplier_info||null,service_document_url:e.service_document_url||null,barcode_value:e.barcode_value||null},{data:r,error:n}=await Me.from(m7).insert([t]).select().single();if(n)throw console.error("Error adding asset:",n),n.code==="23505"?new Error(`Failed to add asset. ${n.details||"A unique value (like Serial Number or Barcode) might already exist."}`):new Error(n.message);if(!r)throw new Error("Failed to add asset, no data returned.");return r},EGe=async(e,t)=>{const r={...t};r.serial_number===""&&(r.serial_number=null),r.location===""&&(r.location=null),r.supplier_info===""&&(r.supplier_info=null),r.service_document_url===""&&(r.service_document_url=null),r.barcode_value===""&&(r.barcode_value=null);const{data:n,error:a}=await Me.from(m7).update(r).eq("id",e).select().single();if(a)throw console.error(`Error updating asset ${e}:`,a),a.code==="23505"?a.details.includes("serial_number")?new Error("Failed to update asset. The provided Serial Number already exists."):a.details.includes("barcode_value")?new Error("Failed to update asset. The provided Barcode/QR Code Value already exists."):new Error(`Failed to update asset. ${a.details||"A unique value (like Serial Number or Barcode) might already exist."}`):new Error(a.message);if(!n)throw new Error(`Failed to update asset ${e}, no data returned.`);return n},CGe=I3({asset_name:Qo().min(1,{message:"Asset name is required"}),category:iw(["Equipment & Tools","Furniture","IT","Other"],{required_error:"Category is required"}),serial_number:Qo().optional().nullable(),location:Qo().optional().nullable(),purchase_date:Qo().optional().nullable(),purchase_price:oR.number().min(0,{message:"Price must be 0 or greater"}).optional().nullable(),warranty_expiry_date:Qo().optional().nullable(),last_serviced_date:Qo().optional().nullable(),next_maintenance_due_date:Qo().optional().nullable(),status:iw(["Active","Under Maintenance","Retired","Disposed"],{required_error:"Status is required"}),supplier_info:Qo().optional().nullable(),service_document_url:Qo().url({message:"Please enter a valid URL"}).optional().nullable(),barcode_value:Qo().optional().nullable(),requires_maintenance:iR().optional().default(!1)}),TGe=({assetToEdit:e,onSave:t,onCancel:r})=>{const{toast:n}=xn(),a=!!e,i=["Equipment & Tools","Furniture","IT","Other"],o=["Active","Under Maintenance","Retired","Disposed"],s=g=>{if(g&&i.includes(g))return g},l=g=>{if(g&&o.includes(g))return g},u=g=>{if(g)try{return new Date(g).toISOString().split("T")[0]}catch{return}},d=sd({resolver:ld(CGe),defaultValues:{asset_name:(e==null?void 0:e.asset_name)??"",category:s(e==null?void 0:e.category),serial_number:(e==null?void 0:e.serial_number)??"",location:(e==null?void 0:e.location)??"",purchase_date:u(e==null?void 0:e.purchase_date),purchase_price:e!=null&&e.purchase_price?Number(e.purchase_price):null,warranty_expiry_date:u(e==null?void 0:e.warranty_expiry_date),last_serviced_date:u(e==null?void 0:e.last_serviced_date),next_maintenance_due_date:u(e==null?void 0:e.next_maintenance_due_date),status:l(e==null?void 0:e.status)??"Active",supplier_info:(e==null?void 0:e.supplier_info)??"",service_document_url:(e==null?void 0:e.service_document_url)??"",barcode_value:(e==null?void 0:e.barcode_value)??"",requires_maintenance:(e==null?void 0:e.requires_maintenance)??!1}}),{handleSubmit:f,control:h,reset:m}=d;return A.useEffect(()=>{m(e?{asset_name:e.asset_name,category:s(e.category),serial_number:e.serial_number??"",location:e.location??"",purchase_date:u(e.purchase_date),purchase_price:e.purchase_price?Number(e.purchase_price):null,warranty_expiry_date:u(e.warranty_expiry_date),last_serviced_date:u(e.last_serviced_date),next_maintenance_due_date:u(e.next_maintenance_due_date),status:l(e.status),supplier_info:e.supplier_info??"",service_document_url:e.service_document_url??"",barcode_value:e.barcode_value??"",requires_maintenance:e.requires_maintenance??!1}:{asset_name:"",category:void 0,serial_number:"",location:"",purchase_date:"",purchase_price:null,warranty_expiry_date:"",last_serviced_date:"",next_maintenance_due_date:"",status:"Active",supplier_info:"",service_document_url:"",barcode_value:"",requires_maintenance:!1})},[e,m]),c(Dh,{...d,children:w("form",{onSubmit:f(async g=>{try{let y;const _={...g};a&&e?(y=await EGe(e.id,_),n({title:"Success",description:"Asset updated."})):(y=await NGe(_),n({title:"Success",description:"New asset added."})),t(y)}catch(y){console.error("Failed to save asset:",y),n({title:"Error",description:`Failed to save asset: ${y instanceof Error?y.message:"Unknown error"}`,variant:"destructive"})}}),className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4",children:[c(Ge,{control:h,name:"asset_name",render:({field:g})=>w(Pe,{children:[c(Te,{children:"Asset Name *"}),c(Oe,{children:c(ot,{placeholder:"e.g., Dental Chair Unit X1",...g})}),c(Xe,{})]})}),c(Ge,{control:h,name:"category",render:({field:g})=>w(Pe,{children:[c(Te,{children:"Category *"}),w(zr,{onValueChange:g.onChange,value:g.value??"",defaultValue:g.value??"",children:[c(Oe,{children:c(Br,{children:c(Wr,{placeholder:"Select a category"})})}),c(Ur,{children:i.map(y=>c(wt,{value:y,children:y},y))})]}),c(Xe,{})]})}),c(Ge,{control:h,name:"serial_number",render:({field:g})=>w(Pe,{children:[c(Te,{children:"Serial Number"}),c(Oe,{children:c(ot,{placeholder:"Asset Serial Number",...g,value:g.value??""})}),c(Xe,{})]})}),c(Ge,{control:h,name:"location",render:({field:g})=>w(Pe,{children:[c(Te,{children:"Location"}),c(Oe,{children:c(ot,{placeholder:"e.g., Room 3, North Branch",...g,value:g.value??""})}),c(Xe,{})]})}),c(Ge,{control:h,name:"status",render:({field:g})=>w(Pe,{children:[c(Te,{children:"Status *"}),w(zr,{onValueChange:g.onChange,value:g.value??"",defaultValue:g.value??"",children:[c(Oe,{children:c(Br,{children:c(Wr,{placeholder:"Select asset status"})})}),c(Ur,{children:o.map(y=>c(wt,{value:y,children:y},y))})]}),c(Xe,{})]})}),c(Ge,{control:h,name:"warranty_expiry_date",render:({field:g})=>w(Pe,{children:[c(Te,{children:"Warranty Expiry"}),c(Oe,{children:c(ot,{type:"date",...g,value:g.value??""})}),c(Xe,{})]})}),c(Ge,{control:h,name:"requires_maintenance",render:({field:g})=>w(Pe,{className:"md:col-span-2",children:[" ",w("div",{className:"flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4",children:[c(Oe,{children:c(Ps,{checked:g.value,onCheckedChange:g.onChange})}),w("div",{className:"space-y-1 leading-none",children:[c(Te,{children:"Requires Maintenance"}),c(Ai,{children:"Check this box if the asset currently requires maintenance."})]})]})]})}),w("div",{className:"md:col-span-2 space-y-2",children:[" ",c(Kt,{children:"Purchase Details"}),w("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 rounded-md border p-4",children:[" ",c(Ge,{control:h,name:"purchase_date",render:({field:g})=>w(Pe,{children:[c(Te,{children:"Date"}),c(Oe,{children:c(ot,{type:"date",...g,value:g.value??""})}),c(Xe,{})]})}),c(Ge,{control:h,name:"purchase_price",render:({field:g})=>w(Pe,{children:[c(Te,{children:"Price"}),c(Oe,{children:c(ot,{type:"number",step:"0.01",min:"0",placeholder:"0.00",...g,value:String(g.value??"")})}),c(Xe,{})]})})]})]}),w("div",{className:"md:col-span-2 space-y-2",children:[" ",c(Kt,{children:"Maintenance Details"}),w("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 rounded-md border p-4",children:[" ",c(Ge,{control:h,name:"last_serviced_date",render:({field:g})=>w(Pe,{children:[c(Te,{children:"Last Serviced"}),c(Oe,{children:c(ot,{type:"date",...g,value:g.value??""})}),c(Xe,{})]})}),c(Ge,{control:h,name:"next_maintenance_due_date",render:({field:g})=>w(Pe,{children:[c(Te,{children:"Next Due"}),c(Oe,{children:c(ot,{type:"date",...g,value:g.value??""})}),c(Xe,{})]})})]})]}),c(Ge,{control:h,name:"supplier_info",render:({field:g})=>w(Pe,{className:"md:col-span-2",children:[" ",c(Te,{children:"Supplier Info"}),c(Oe,{children:c(Yr,{placeholder:"Supplier name, contact, notes...",...g,value:g.value??""})}),c(Xe,{})]})}),c(Ge,{control:h,name:"service_document_url",render:({field:g})=>w(Pe,{children:[c(Te,{children:"Service Doc URL"}),c(Oe,{children:c(ot,{type:"url",placeholder:"https://example.com/invoice.pdf",...g,value:g.value??""})}),c(Xe,{})]})}),c(Ge,{control:h,name:"barcode_value",render:({field:g})=>w(Pe,{children:[c(Te,{children:"Barcode/QR"}),c(Oe,{children:c(ot,{placeholder:"Scan or enter code",...g,value:g.value??""})}),c(Xe,{})]})}),w("div",{className:"md:col-span-2 space-y-2 pt-2",children:[c(Kt,{children:"Tags"}),c("div",{className:"p-4 border rounded-md min-h-[60px] text-muted-foreground",children:"Tag management UI will be implemented here. (e.g., Multi-select combobox)"})]}),w("div",{className:"md:col-span-2 flex justify-end space-x-2 pt-4",children:[" ",c(Fe,{type:"button",variant:"outline",onClick:r,children:"Cancel"}),c(Fe,{type:"submit",disabled:d.formState.isSubmitting,children:d.formState.isSubmitting?"Saving...":a?"Update Asset":"Add Asset"})]})]})})},PGe=({asset:e,open:t,onOpenChange:r,onSuccess:n})=>{const[a,i]=A.useState(""),[o,s]=A.useState(""),[l,u]=A.useState(void 0),[d,f]=A.useState([]),[h,m]=A.useState(!1),[x,g]=A.useState(!1),{toast:y}=xn();A.useEffect(()=>{(async()=>{if(e!=null&&e.id&&t){g(!0);const{data:S,error:C}=await Me.from("asset_documents").select("id, file_name").eq("asset_id",e.id).order("uploaded_at",{ascending:!1});C?(console.error("Error fetching asset documents for dialog:",C),y({title:"Error",description:"Could not load documents for invoice selection.",variant:"destructive"})):f(S||[]),g(!1)}else t||f([])})()},[e,t,y]),A.useEffect(()=>{t&&(i(""),s(""),u(void 0))},[t,e]);const _=async()=>{if(!e||!e.id){y({title:"Error",description:"No asset selected.",variant:"destructive"});return}if(!e.maintenance_interval_months||e.maintenance_interval_months<=0){y({title:"Configuration Error",description:"Maintenance interval is not set for this asset. Please edit the asset to set a valid maintenance interval.",variant:"destructive"});return}const{data:{user:b},error:S}=await Me.auth.getUser();if(S||!b){y({title:"Authentication Error",description:"Could not get current user. Please ensure you are logged in.",variant:"destructive"});return}const C=b.id,E=parseFloat(o)||0;m(!0);try{const{error:D}=await Me.rpc("mark_asset_as_serviced",{p_asset_id:e.id,p_serviced_by_user_id:C,p_service_notes:a,p_maintenance_cost:E,p_invoice_document_id:l||null});if(D)throw D;y({title:"Success",description:`${e.asset_name} marked as serviced.`}),n(),r(!1)}catch(D){console.error("Error marking asset as serviced:",D),y({title:"Error",description:D.message||"Could not mark asset as serviced.",variant:"destructive"})}finally{m(!1)}};return e?c(ei,{open:t,onOpenChange:r,children:w(Ma,{className:"sm:max-w-md",children:[c(Fa,{children:w(La,{children:["Mark as Serviced: ",e.asset_name]})}),w("div",{className:"py-4 grid gap-4",children:[w("div",{children:[w("p",{children:[c("strong",{children:"Asset:"})," ",e.asset_name]}),w("p",{children:[c("strong",{children:"Last Serviced:"})," ",e.last_serviced_date?new Date(e.last_serviced_date).toLocaleDateString():"N/A"]}),w("p",{children:[c("strong",{children:"Next Due:"})," ",e.next_maintenance_due_date?new Date(e.next_maintenance_due_date).toLocaleDateString():"N/A"]})]}),w("div",{children:[c(Kt,{htmlFor:"maintenance-cost",children:"Maintenance Cost ()"}),c(ot,{id:"maintenance-cost",type:"number",value:o,onChange:b=>s(b.target.value),placeholder:"0.00"})]}),w("div",{children:[c(Kt,{htmlFor:"invoice-document",children:"Link Invoice (Optional)"}),w(zr,{onValueChange:u,value:l,children:[c(Br,{id:"invoice-document",disabled:x||d.length===0,children:c(Wr,{placeholder:x?"Loading documents...":d.length===0?"No documents available":"Select an invoice"})}),w(Ur,{children:[c(wt,{value:"none",children:"None"}),d.map(b=>c(wt,{value:b.id,children:b.file_name},b.id))]})]}),d.length===0&&!x&&c("p",{className:"text-xs text-muted-foreground mt-1",children:"Upload documents on the asset detail page first."})]}),w("div",{children:[c(Kt,{htmlFor:"service-notes",children:"Service Notes (Optional)"}),c(Yr,{id:"service-notes",value:a,onChange:b=>i(b.target.value),placeholder:"Enter any notes about the service performed..."})]}),(!e.maintenance_interval_months||e.maintenance_interval_months<=0)&&c("p",{className:"text-sm text-destructive",children:"Warning: Maintenance interval is not set for this asset. The next due date cannot be calculated automatically. Please edit the asset to set a maintenance interval."})]}),w(lo,{children:[c(k3,{asChild:!0,children:c(Fe,{variant:"outline",children:"Cancel"})}),c(Fe,{onClick:_,disabled:h||!e.maintenance_interval_months||e.maintenance_interval_months<=0,children:h?c(Hn,{className:"mr-2 h-4 w-4 animate-spin"}):"Confirm Service"})]})]})}):null};var rn=function(){return rn=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},rn.apply(this,arguments)};function OGe(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function Gie(e,t,r){for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function a_(e){return e.mode==="multiple"}function i_(e){return e.mode==="range"}function rA(e){return e.mode==="single"}var DGe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function IGe(e,t){return nr(e,"LLLL y",t)}function RGe(e,t){return nr(e,"d",t)}function MGe(e,t){return nr(e,"LLLL",t)}function FGe(e){return"".concat(e)}function LGe(e,t){return nr(e,"cccccc",t)}function jGe(e,t){return nr(e,"yyyy",t)}var $Ge=Object.freeze({__proto__:null,formatCaption:IGe,formatDay:RGe,formatMonthCaption:MGe,formatWeekNumber:FGe,formatWeekdayName:LGe,formatYearCaption:jGe}),BGe=function(e,t,r){return nr(e,"do MMMM (EEEE)",r)},UGe=function(){return"Month: "},qGe=function(){return"Go to next month"},zGe=function(){return"Go to previous month"},WGe=function(e,t){return nr(e,"cccc",t)},HGe=function(e){return"Week n. ".concat(e)},VGe=function(){return"Year: "},GGe=Object.freeze({__proto__:null,labelDay:BGe,labelMonthDropdown:UGe,labelNext:qGe,labelPrevious:zGe,labelWeekNumber:HGe,labelWeekday:WGe,labelYearDropdown:VGe});function KGe(){var e="buttons",t=DGe,r=Fw,n={},a={},i=1,o={},s=new Date;return{captionLayout:e,classNames:t,formatters:$Ge,labels:GGe,locale:r,modifiersClassNames:n,modifiers:a,numberOfMonths:i,styles:o,today:s,mode:"default"}}function YGe(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,a=e.toMonth,i=e.fromDate,o=e.toDate;return n?i=Bo(n):t&&(i=new Date(t,0,1)),a?o=c0(a):r&&(o=new Date(r,11,31)),{fromDate:i?El(i):void 0,toDate:o?El(o):void 0}}var Kie=A.createContext(void 0);function XGe(e){var t,r=e.initialProps,n=KGe(),a=YGe(r),i=a.fromDate,o=a.toDate,s=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;s!=="buttons"&&(!i||!o)&&(s="buttons");var l;(rA(r)||a_(r)||i_(r))&&(l=r.onSelect);var u=rn(rn(rn({},n),r),{captionLayout:s,classNames:rn(rn({},n.classNames),r.classNames),components:rn({},r.components),formatters:rn(rn({},n.formatters),r.formatters),fromDate:i,labels:rn(rn({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:rn(rn({},n.modifiers),r.modifiers),modifiersClassNames:rn(rn({},n.modifiersClassNames),r.modifiersClassNames),onSelect:l,styles:rn(rn({},n.styles),r.styles),toDate:o});return c(Kie.Provider,{value:u,children:e.children})}function ja(){var e=A.useContext(Kie);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function Yie(e){var t=ja(),r=t.locale,n=t.classNames,a=t.styles,i=t.formatters.formatCaption;return c("div",{className:n.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:r})})}function ZGe(e){return c("svg",rn({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:c("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Xie(e){var t,r,n=e.onChange,a=e.value,i=e.children,o=e.caption,s=e.className,l=e.style,u=ja(),d=(r=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:ZGe;return w("div",{className:s,style:l,children:[c("span",{className:u.classNames.vhidden,children:e["aria-label"]}),c("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:a,onChange:n,children:i}),w("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[o,c(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function JGe(e){var t,r=ja(),n=r.fromDate,a=r.toDate,i=r.styles,o=r.locale,s=r.formatters.formatMonthCaption,l=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!n)return c(Dr,{});if(!a)return c(Dr,{});var f=[];if(Fve(n,a))for(var h=Bo(n),m=n.getMonth();m<=a.getMonth();m++)f.push(Nk(h,m));else for(var h=Bo(new Date),m=0;m<=11;m++)f.push(Nk(h,m));var x=function(y){var _=Number(y.target.value),b=Nk(Bo(e.displayMonth),_);e.onChange(b)},g=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:Xie;return c(g,{name:"months","aria-label":d(),className:l.dropdown_month,style:i.dropdown_month,onChange:x,value:e.displayMonth.getMonth(),caption:s(e.displayMonth,{locale:o}),children:f.map(function(y){return c("option",{value:y.getMonth(),children:s(y,{locale:o})},y.getMonth())})})}function QGe(e){var t,r=e.displayMonth,n=ja(),a=n.fromDate,i=n.toDate,o=n.locale,s=n.styles,l=n.classNames,u=n.components,d=n.formatters.formatYearCaption,f=n.labels.labelYearDropdown,h=[];if(!a)return c(Dr,{});if(!i)return c(Dr,{});for(var m=a.getFullYear(),x=i.getFullYear(),g=m;g<=x;g++)h.push(uL(mY(new Date),g));var y=function(b){var S=uL(Bo(r),Number(b.target.value));e.onChange(S)},_=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:Xie;return c(_,{name:"years","aria-label":f(),className:l.dropdown_year,style:s.dropdown_year,onChange:y,value:r.getFullYear(),caption:d(r,{locale:o}),children:h.map(function(b){return c("option",{value:b.getFullYear(),children:d(b,{locale:o})},b.getFullYear())})})}function eKe(e,t){var r=A.useState(e),n=r[0],a=r[1],i=t===void 0?n:t;return[i,a]}function tKe(e){var t=e.month,r=e.defaultMonth,n=e.today,a=t||r||n||new Date,i=e.toDate,o=e.fromDate,s=e.numberOfMonths,l=s===void 0?1:s;if(i&&h1(i,a)<0){var u=-1*(l-1);a=cl(i,u)}return o&&h1(a,o)<0&&(a=o),Bo(a)}function rKe(){var e=ja(),t=tKe(e),r=eKe(t,e.month),n=r[0],a=r[1],i=function(o){var s;if(!e.disableNavigation){var l=Bo(o);a(l),(s=e.onMonthChange)===null||s===void 0||s.call(e,l)}};return[n,i]}function nKe(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,a=Bo(e),i=Bo(cl(a,n)),o=h1(i,a),s=[],l=0;l<o;l++){var u=cl(a,l);s.push(u)}return r&&(s=s.reverse()),s}function aKe(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=n?i:1,s=Bo(e);if(!r)return cl(s,o);var l=h1(r,e);if(!(l<i))return cl(s,o)}}function iKe(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=n?i:1,s=Bo(e);if(!r)return cl(s,-o);var l=h1(s,r);if(!(l<=0))return cl(s,-o)}}var Zie=A.createContext(void 0);function oKe(e){var t=ja(),r=rKe(),n=r[0],a=r[1],i=nKe(n,t),o=aKe(n,t),s=iKe(n,t),l=function(f){return i.some(function(h){return D4(f,h)})},u=function(f,h){l(f)||(h&&$p(f,h)?a(cl(f,1+t.numberOfMonths*-1)):a(f))},d={currentMonth:n,displayMonths:i,goToMonth:a,goToDate:u,previousMonth:s,nextMonth:o,isDateDisplayed:l};return c(Zie.Provider,{value:d,children:e.children})}function o_(){var e=A.useContext(Zie);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function MH(e){var t,r=ja(),n=r.classNames,a=r.styles,i=r.components,o=o_().goToMonth,s=function(d){o(cl(d,e.displayIndex?-e.displayIndex:0))},l=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:Yie,u=c(l,{id:e.id,displayMonth:e.displayMonth});return w("div",{className:n.caption_dropdowns,style:a.caption_dropdowns,children:[c("div",{className:n.vhidden,children:u}),c(JGe,{onChange:s,displayMonth:e.displayMonth}),c(QGe,{onChange:s,displayMonth:e.displayMonth})]})}function sKe(e){return c("svg",rn({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:c("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function lKe(e){return c("svg",rn({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:c("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var i4=A.forwardRef(function(e,t){var r=ja(),n=r.classNames,a=r.styles,i=[n.button_reset,n.button];e.className&&i.push(e.className);var o=i.join(" "),s=rn(rn({},a.button_reset),a.button);return e.style&&Object.assign(s,e.style),c("button",rn({},e,{ref:t,type:"button",className:o,style:s}))});function cKe(e){var t,r,n=ja(),a=n.dir,i=n.locale,o=n.classNames,s=n.styles,l=n.labels,u=l.labelPrevious,d=l.labelNext,f=n.components;if(!e.nextMonth&&!e.previousMonth)return c(Dr,{});var h=u(e.previousMonth,{locale:i}),m=[o.nav_button,o.nav_button_previous].join(" "),x=d(e.nextMonth,{locale:i}),g=[o.nav_button,o.nav_button_next].join(" "),y=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:lKe,_=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:sKe;return w("div",{className:o.nav,style:s.nav,children:[!e.hidePrevious&&c(i4,{name:"previous-month","aria-label":h,className:m,style:s.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?c(y,{className:o.nav_icon,style:s.nav_icon}):c(_,{className:o.nav_icon,style:s.nav_icon})}),!e.hideNext&&c(i4,{name:"next-month","aria-label":x,className:g,style:s.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?c(_,{className:o.nav_icon,style:s.nav_icon}):c(y,{className:o.nav_icon,style:s.nav_icon})})]})}function FH(e){var t=ja().numberOfMonths,r=o_(),n=r.previousMonth,a=r.nextMonth,i=r.goToMonth,o=r.displayMonths,s=o.findIndex(function(x){return D4(e.displayMonth,x)}),l=s===0,u=s===o.length-1,d=t>1&&(l||!u),f=t>1&&(u||!l),h=function(){n&&i(n)},m=function(){a&&i(a)};return c(cKe,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:f,nextMonth:a,previousMonth:n,onPreviousClick:h,onNextClick:m})}function uKe(e){var t,r=ja(),n=r.classNames,a=r.disableNavigation,i=r.styles,o=r.captionLayout,s=r.components,l=(t=s==null?void 0:s.CaptionLabel)!==null&&t!==void 0?t:Yie,u;return a?u=c(l,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?u=c(MH,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?u=w(Dr,{children:[c(MH,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),c(FH,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=w(Dr,{children:[c(l,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),c(FH,{displayMonth:e.displayMonth,id:e.id})]}),c("div",{className:n.caption,style:i.caption,children:u})}function dKe(e){var t=ja(),r=t.footer,n=t.styles,a=t.classNames.tfoot;return r?c("tfoot",{className:a,style:n.tfoot,children:c("tr",{children:c("td",{colSpan:8,children:r})})}):c(Dr,{})}function fKe(e,t,r){for(var n=r?yh(new Date):ns(new Date,{locale:e,weekStartsOn:t}),a=[],i=0;i<7;i++){var o=Ia(n,i);a.push(o)}return a}function hKe(){var e=ja(),t=e.classNames,r=e.styles,n=e.showWeekNumber,a=e.locale,i=e.weekStartsOn,o=e.ISOWeek,s=e.formatters.formatWeekdayName,l=e.labels.labelWeekday,u=fKe(a,i,o);return w("tr",{style:r.head_row,className:t.head_row,children:[n&&c("td",{style:r.head_cell,className:t.head_cell}),u.map(function(d,f){return c("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":l(d,{locale:a}),children:s(d,{locale:a})},f)})]})}function pKe(){var e,t=ja(),r=t.classNames,n=t.styles,a=t.components,i=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:hKe;return c("thead",{style:n.head,className:r.head,children:c(i,{})})}function mKe(e){var t=ja(),r=t.locale,n=t.formatters.formatDay;return c(Dr,{children:n(e.date,{locale:r})})}var g7=A.createContext(void 0);function gKe(e){if(!a_(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return c(g7.Provider,{value:t,children:e.children})}return c(vKe,{initialProps:e.initialProps,children:e.children})}function vKe(e){var t=e.initialProps,r=e.children,n=t.selected,a=t.min,i=t.max,o=function(u,d,f){var h,m;(h=t.onDayClick)===null||h===void 0||h.call(t,u,d,f);var x=!!(d.selected&&a&&(n==null?void 0:n.length)===a);if(!x){var g=!!(!d.selected&&i&&(n==null?void 0:n.length)===i);if(!g){var y=n?Gie([],n):[];if(d.selected){var _=y.findIndex(function(b){return rl(u,b)});y.splice(_,1)}else y.push(u);(m=t.onSelect)===null||m===void 0||m.call(t,y,u,d,f)}}},s={disabled:[]};n&&s.disabled.push(function(u){var d=i&&n.length>i-1,f=n.some(function(h){return rl(h,u)});return!!(d&&!f)});var l={selected:n,onDayClick:o,modifiers:s};return c(g7.Provider,{value:l,children:r})}function v7(){var e=A.useContext(g7);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function yKe(e,t){var r=t||{},n=r.from,a=r.to;return n&&a?rl(a,e)&&rl(n,e)?void 0:rl(a,e)?{from:a,to:void 0}:rl(n,e)?void 0:m6(n,e)?{from:e,to:a}:{from:n,to:e}:a?m6(e,a)?{from:a,to:e}:{from:e,to:a}:n?$p(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var y7=A.createContext(void 0);function xKe(e){if(!i_(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return c(y7.Provider,{value:t,children:e.children})}return c(wKe,{initialProps:e.initialProps,children:e.children})}function wKe(e){var t=e.initialProps,r=e.children,n=t.selected,a=n||{},i=a.from,o=a.to,s=t.min,l=t.max,u=function(m,x,g){var y,_;(y=t.onDayClick)===null||y===void 0||y.call(t,m,x,g);var b=yKe(m,n);(_=t.onSelect)===null||_===void 0||_.call(t,b,m,x,g)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(d.range_start=[i],o?(d.range_end=[o],rl(i,o)||(d.range_middle=[{after:i,before:o}])):d.range_end=[i]):o&&(d.range_start=[o],d.range_end=[o]),s&&(i&&!o&&d.disabled.push({after:Ak(i,s-1),before:Ia(i,s-1)}),i&&o&&d.disabled.push({after:i,before:Ia(i,s-1)}),!i&&o&&d.disabled.push({after:Ak(o,s-1),before:Ia(o,s-1)})),l){if(i&&!o&&(d.disabled.push({before:Ia(i,-l+1)}),d.disabled.push({after:Ia(i,l-1)})),i&&o){var f=$u(o,i)+1,h=l-f;d.disabled.push({before:Ak(i,h)}),d.disabled.push({after:Ia(o,h)})}!i&&o&&(d.disabled.push({before:Ia(o,-l+1)}),d.disabled.push({after:Ia(o,l-1)}))}return c(y7.Provider,{value:{selected:n,onDayClick:u,modifiers:d},children:r})}function x7(){var e=A.useContext(y7);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function i5(e){return Array.isArray(e)?Gie([],e):e!==void 0?[e]:[]}function _Ke(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],a=r[1];t[n]=i5(a)}),t}var nd;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(nd||(nd={}));var bKe=nd.Selected,Qf=nd.Disabled,SKe=nd.Hidden,AKe=nd.Today,gP=nd.RangeEnd,vP=nd.RangeMiddle,yP=nd.RangeStart,kKe=nd.Outside;function NKe(e,t,r){var n,a=(n={},n[bKe]=i5(e.selected),n[Qf]=i5(e.disabled),n[SKe]=i5(e.hidden),n[AKe]=[e.today],n[gP]=[],n[vP]=[],n[yP]=[],n[kKe]=[],n);return e.fromDate&&a[Qf].push({before:e.fromDate}),e.toDate&&a[Qf].push({after:e.toDate}),a_(e)?a[Qf]=a[Qf].concat(t.modifiers[Qf]):i_(e)&&(a[Qf]=a[Qf].concat(r.modifiers[Qf]),a[yP]=r.modifiers[yP],a[vP]=r.modifiers[vP],a[gP]=r.modifiers[gP]),a}var Jie=A.createContext(void 0);function EKe(e){var t=ja(),r=v7(),n=x7(),a=NKe(t,r,n),i=_Ke(t.modifiers),o=rn(rn({},a),i);return c(Jie.Provider,{value:o,children:e.children})}function Qie(){var e=A.useContext(Jie);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function CKe(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function TKe(e){return!!(e&&typeof e=="object"&&"from"in e)}function PKe(e){return!!(e&&typeof e=="object"&&"after"in e)}function OKe(e){return!!(e&&typeof e=="object"&&"before"in e)}function DKe(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function IKe(e,t){var r,n=t.from,a=t.to;if(n&&a){var i=$u(a,n)<0;i&&(r=[a,n],n=r[0],a=r[1]);var o=$u(e,n)>=0&&$u(a,e)>=0;return o}return a?rl(a,e):n?rl(n,e):!1}function RKe(e){return kD(e)}function MKe(e){return Array.isArray(e)&&e.every(kD)}function FKe(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(RKe(r))return rl(e,r);if(MKe(r))return r.includes(e);if(TKe(r))return IKe(e,r);if(DKe(r))return r.dayOfWeek.includes(e.getDay());if(CKe(r)){var n=$u(r.before,e),a=$u(r.after,e),i=n>0,o=a<0,s=m6(r.before,r.after);return s?o&&i:i||o}return PKe(r)?$u(e,r.after)>0:OKe(r)?$u(r.before,e)>0:typeof r=="function"?r(e):!1})}function w7(e,t,r){var n=Object.keys(t).reduce(function(i,o){var s=t[o];return FKe(e,s)&&i.push(o),i},[]),a={};return n.forEach(function(i){return a[i]=!0}),r&&!D4(e,r)&&(a.outside=!0),a}function LKe(e,t){for(var r=Bo(e[0]),n=c0(e[e.length-1]),a,i,o=r;o<=n;){var s=w7(o,t),l=!s.disabled&&!s.hidden;if(!l){o=Ia(o,1);continue}if(s.selected)return o;s.today&&!i&&(i=o),a||(a=o),o=Ia(o,1)}return i||a}var jKe=365;function eoe(e,t){var r=t.moveBy,n=t.direction,a=t.context,i=t.modifiers,o=t.retry,s=o===void 0?{count:0,lastFocused:e}:o,l=a.weekStartsOn,u=a.fromDate,d=a.toDate,f=a.locale,h={day:Ia,week:f1,month:cl,year:Rme,startOfWeek:function(y){return a.ISOWeek?yh(y):ns(y,{locale:f,weekStartsOn:l})},endOfWeek:function(y){return a.ISOWeek?gY(y):Tm(y,{locale:f,weekStartsOn:l})}},m=h[r](e,n==="after"?1:-1);n==="before"&&u?m=Mme([u,m]):n==="after"&&d&&(m=Fme([d,m]));var x=!0;if(i){var g=w7(m,i);x=!g.disabled&&!g.hidden}return x?m:s.count>jKe?s.lastFocused:eoe(m,{moveBy:r,direction:n,context:a,modifiers:i,retry:rn(rn({},s),{count:s.count+1})})}var toe=A.createContext(void 0);function $Ke(e){var t=o_(),r=Qie(),n=A.useState(),a=n[0],i=n[1],o=A.useState(),s=o[0],l=o[1],u=LKe(t.displayMonths,r),d=a??(s&&t.isDateDisplayed(s))?s:u,f=function(){l(a),i(void 0)},h=function(y){i(y)},m=ja(),x=function(y,_){if(a){var b=eoe(a,{moveBy:y,direction:_,context:m,modifiers:r});rl(a,b)||(t.goToDate(b,a),h(b))}},g={focusedDay:a,focusTarget:d,blur:f,focus:h,focusDayAfter:function(){return x("day","after")},focusDayBefore:function(){return x("day","before")},focusWeekAfter:function(){return x("week","after")},focusWeekBefore:function(){return x("week","before")},focusMonthBefore:function(){return x("month","before")},focusMonthAfter:function(){return x("month","after")},focusYearBefore:function(){return x("year","before")},focusYearAfter:function(){return x("year","after")},focusStartOfWeek:function(){return x("startOfWeek","before")},focusEndOfWeek:function(){return x("endOfWeek","after")}};return c(toe.Provider,{value:g,children:e.children})}function _7(){var e=A.useContext(toe);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function BKe(e,t){var r=Qie(),n=w7(e,r,t);return n}var b7=A.createContext(void 0);function UKe(e){if(!rA(e.initialProps)){var t={selected:void 0};return c(b7.Provider,{value:t,children:e.children})}return c(qKe,{initialProps:e.initialProps,children:e.children})}function qKe(e){var t=e.initialProps,r=e.children,n=function(i,o,s){var l,u,d;if((l=t.onDayClick)===null||l===void 0||l.call(t,i,o,s),o.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,i,o,s);return}(d=t.onSelect)===null||d===void 0||d.call(t,i,i,o,s)},a={selected:t.selected,onDayClick:n};return c(b7.Provider,{value:a,children:r})}function roe(){var e=A.useContext(b7);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function zKe(e,t){var r=ja(),n=roe(),a=v7(),i=x7(),o=_7(),s=o.focusDayAfter,l=o.focusDayBefore,u=o.focusWeekAfter,d=o.focusWeekBefore,f=o.blur,h=o.focus,m=o.focusMonthBefore,x=o.focusMonthAfter,g=o.focusYearBefore,y=o.focusYearAfter,_=o.focusStartOfWeek,b=o.focusEndOfWeek,S=function(q){var K,z,te,Q;rA(r)?(K=n.onDayClick)===null||K===void 0||K.call(n,e,t,q):a_(r)?(z=a.onDayClick)===null||z===void 0||z.call(a,e,t,q):i_(r)?(te=i.onDayClick)===null||te===void 0||te.call(i,e,t,q):(Q=r.onDayClick)===null||Q===void 0||Q.call(r,e,t,q)},C=function(q){var K;h(e),(K=r.onDayFocus)===null||K===void 0||K.call(r,e,t,q)},E=function(q){var K;f(),(K=r.onDayBlur)===null||K===void 0||K.call(r,e,t,q)},D=function(q){var K;(K=r.onDayMouseEnter)===null||K===void 0||K.call(r,e,t,q)},T=function(q){var K;(K=r.onDayMouseLeave)===null||K===void 0||K.call(r,e,t,q)},I=function(q){var K;(K=r.onDayPointerEnter)===null||K===void 0||K.call(r,e,t,q)},L=function(q){var K;(K=r.onDayPointerLeave)===null||K===void 0||K.call(r,e,t,q)},B=function(q){var K;(K=r.onDayTouchCancel)===null||K===void 0||K.call(r,e,t,q)},P=function(q){var K;(K=r.onDayTouchEnd)===null||K===void 0||K.call(r,e,t,q)},O=function(q){var K;(K=r.onDayTouchMove)===null||K===void 0||K.call(r,e,t,q)},j=function(q){var K;(K=r.onDayTouchStart)===null||K===void 0||K.call(r,e,t,q)},G=function(q){var K;(K=r.onDayKeyUp)===null||K===void 0||K.call(r,e,t,q)},Y=function(q){var K;switch(q.key){case"ArrowLeft":q.preventDefault(),q.stopPropagation(),r.dir==="rtl"?s():l();break;case"ArrowRight":q.preventDefault(),q.stopPropagation(),r.dir==="rtl"?l():s();break;case"ArrowDown":q.preventDefault(),q.stopPropagation(),u();break;case"ArrowUp":q.preventDefault(),q.stopPropagation(),d();break;case"PageUp":q.preventDefault(),q.stopPropagation(),q.shiftKey?g():m();break;case"PageDown":q.preventDefault(),q.stopPropagation(),q.shiftKey?y():x();break;case"Home":q.preventDefault(),q.stopPropagation(),_();break;case"End":q.preventDefault(),q.stopPropagation(),b();break}(K=r.onDayKeyDown)===null||K===void 0||K.call(r,e,t,q)},re={onClick:S,onFocus:C,onBlur:E,onKeyDown:Y,onKeyUp:G,onMouseEnter:D,onMouseLeave:T,onPointerEnter:I,onPointerLeave:L,onTouchCancel:B,onTouchEnd:P,onTouchMove:O,onTouchStart:j};return re}function WKe(){var e=ja(),t=roe(),r=v7(),n=x7(),a=rA(e)?t.selected:a_(e)?r.selected:i_(e)?n.selected:void 0;return a}function HKe(e){return Object.values(nd).includes(e)}function VKe(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var a=e.modifiersClassNames[n];if(a)r.push(a);else if(HKe(n)){var i=e.classNames["day_".concat(n)];i&&r.push(i)}}),r}function GKe(e,t){var r=rn({},e.styles.day);return Object.keys(t).forEach(function(n){var a;r=rn(rn({},r),(a=e.modifiersStyles)===null||a===void 0?void 0:a[n])}),r}function KKe(e,t,r){var n,a,i,o=ja(),s=_7(),l=BKe(e,t),u=zKe(e,l),d=WKe(),f=!!(o.onDayClick||o.mode!=="default");A.useEffect(function(){var D;l.outside||s.focusedDay&&f&&rl(s.focusedDay,e)&&((D=r.current)===null||D===void 0||D.focus())},[s.focusedDay,e,r,f,l.outside]);var h=VKe(o,l).join(" "),m=GKe(o,l),x=!!(l.outside&&!o.showOutsideDays||l.hidden),g=(i=(a=o.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:mKe,y=c(g,{date:e,displayMonth:t,activeModifiers:l}),_={style:m,className:h,children:y,role:"gridcell"},b=s.focusTarget&&rl(s.focusTarget,e)&&!l.outside,S=s.focusedDay&&rl(s.focusedDay,e),C=rn(rn(rn({},_),(n={disabled:l.disabled,role:"gridcell"},n["aria-selected"]=l.selected,n.tabIndex=S||b?0:-1,n)),u),E={isButton:f,isHidden:x,activeModifiers:l,selectedDays:d,buttonProps:C,divProps:_};return E}function YKe(e){var t=A.useRef(null),r=KKe(e.date,e.displayMonth,t);return r.isHidden?c("div",{role:"gridcell"}):r.isButton?c(i4,rn({name:"day",ref:t},r.buttonProps)):c("div",rn({},r.divProps))}function XKe(e){var t=e.number,r=e.dates,n=ja(),a=n.onWeekNumberClick,i=n.styles,o=n.classNames,s=n.locale,l=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,d=u(Number(t),{locale:s});if(!a)return c("span",{className:o.weeknumber,style:i.weeknumber,children:d});var f=l(Number(t),{locale:s}),h=function(m){a(t,r,m)};return c(i4,{name:"week-number","aria-label":f,className:o.weeknumber,style:i.weeknumber,onClick:h,children:d})}function ZKe(e){var t,r,n=ja(),a=n.styles,i=n.classNames,o=n.showWeekNumber,s=n.components,l=(t=s==null?void 0:s.Day)!==null&&t!==void 0?t:YKe,u=(r=s==null?void 0:s.WeekNumber)!==null&&r!==void 0?r:XKe,d;return o&&(d=c("td",{className:i.cell,style:a.cell,children:c(u,{number:e.weekNumber,dates:e.dates})})),w("tr",{className:i.row,style:a.row,children:[d,e.dates.map(function(f){return c("td",{className:i.cell,style:a.cell,role:"presentation",children:c(l,{displayMonth:e.displayMonth,date:f})},jge(f))})]})}function LH(e,t,r){for(var n=r!=null&&r.ISOWeek?gY(t):Tm(t,r),a=r!=null&&r.ISOWeek?yh(e):ns(e,r),i=$u(n,a),o=[],s=0;s<=i;s++)o.push(Ia(a,s));var l=o.reduce(function(u,d){var f=r!=null&&r.ISOWeek?ND(d):CD(d,r),h=u.find(function(m){return m.weekNumber===f});return h?(h.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return l}function JKe(e,t){var r=LH(Bo(e),c0(e),t);if(t!=null&&t.useFixedWeeks){var n=Bge(e,t);if(n<6){var a=r[r.length-1],i=a.dates[a.dates.length-1],o=f1(i,6-n),s=LH(f1(i,1),o,t);r.push.apply(r,s)}}return r}function QKe(e){var t,r,n,a=ja(),i=a.locale,o=a.classNames,s=a.styles,l=a.hideHead,u=a.fixedWeeks,d=a.components,f=a.weekStartsOn,h=a.firstWeekContainsDate,m=a.ISOWeek,x=JKe(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:m,locale:i,weekStartsOn:f,firstWeekContainsDate:h}),g=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:pKe,y=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:ZKe,_=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:dKe;return w("table",{id:e.id,className:o.table,style:s.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!l&&c(g,{}),c("tbody",{className:o.tbody,style:s.tbody,children:x.map(function(b){return c(y,{displayMonth:e.displayMonth,dates:b.dates,weekNumber:b.weekNumber},b.weekNumber)})}),c(_,{displayMonth:e.displayMonth})]})}function eYe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var tYe=eYe()?A.useLayoutEffect:A.useEffect,xP=!1,rYe=0;function jH(){return"react-day-picker-".concat(++rYe)}function nYe(e){var t,r=e??(xP?jH():null),n=A.useState(r),a=n[0],i=n[1];return tYe(function(){a===null&&i(jH())},[]),A.useEffect(function(){xP===!1&&(xP=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function aYe(e){var t,r,n=ja(),a=n.dir,i=n.classNames,o=n.styles,s=n.components,l=o_().displayMonths,u=nYe(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,f=[i.month],h=o.month,m=e.displayIndex===0,x=e.displayIndex===l.length-1,g=!m&&!x;a==="rtl"&&(t=[m,x],x=t[0],m=t[1]),m&&(f.push(i.caption_start),h=rn(rn({},h),o.caption_start)),x&&(f.push(i.caption_end),h=rn(rn({},h),o.caption_end)),g&&(f.push(i.caption_between),h=rn(rn({},h),o.caption_between));var y=(r=s==null?void 0:s.Caption)!==null&&r!==void 0?r:uKe;return w("div",{className:f.join(" "),style:h,children:[c(y,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),c(QKe,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function iYe(e){var t=ja(),r=t.classNames,n=t.styles;return c("div",{className:r.months,style:n.months,children:e.children})}function oYe(e){var t,r,n=e.initialProps,a=ja(),i=_7(),o=o_(),s=A.useState(!1),l=s[0],u=s[1];A.useEffect(function(){a.initialFocus&&i.focusTarget&&(l||(i.focus(i.focusTarget),u(!0)))},[a.initialFocus,l,i.focus,i.focusTarget,i]);var d=[a.classNames.root,a.className];a.numberOfMonths>1&&d.push(a.classNames.multiple_months),a.showWeekNumber&&d.push(a.classNames.with_weeknumber);var f=rn(rn({},a.styles.root),a.style),h=Object.keys(n).filter(function(x){return x.startsWith("data-")}).reduce(function(x,g){var y;return rn(rn({},x),(y={},y[g]=n[g],y))},{}),m=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:iYe;return c("div",rn({className:d.join(" "),style:f,dir:a.dir,id:a.id,nonce:n.nonce,title:n.title,lang:n.lang},h,{children:c(m,{children:o.displayMonths.map(function(x,g){return c(aYe,{displayIndex:g,displayMonth:x},g)})})}))}function sYe(e){var t=e.children,r=OGe(e,["children"]);return c(XGe,{initialProps:r,children:c(oKe,{children:c(UKe,{initialProps:r,children:c(gKe,{initialProps:r,children:c(xKe,{initialProps:r,children:c(EKe,{children:c($Ke,{children:t})})})})})})})}function lYe(e){return c(sYe,rn({},e,{children:c(oYe,{initialProps:e})}))}function fg({className:e,classNames:t,showOutsideDays:r=!0,...n}){return c(lYe,{showOutsideDays:r,className:It("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:It(rx({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:It(rx({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...a})=>c(f4,{className:"h-4 w-4"}),IconRight:({...a})=>c(n0,{className:"h-4 w-4"})},...n})}fg.displayName="Calendar";var nA="Popover",[noe,LJe]=Xi(nA,[S0]),s_=S0(),[cYe,M0]=noe(nA),aoe=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,s=s_(t),l=A.useRef(null),[u,d]=A.useState(!1),[f,h]=ll({prop:n,defaultProp:a??!1,onChange:i,caller:nA});return c(b4,{...s,children:c(cYe,{scope:t,contentId:Dl(),triggerRef:l,open:f,onOpenChange:h,onOpenToggle:A.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:u,onCustomAnchorAdd:A.useCallback(()=>d(!0),[]),onCustomAnchorRemove:A.useCallback(()=>d(!1),[]),modal:o,children:r})})};aoe.displayName=nA;var ioe="PopoverAnchor",uYe=A.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=M0(ioe,r),i=s_(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:s}=a;return A.useEffect(()=>(o(),()=>s()),[o,s]),c(Pw,{...i,...n,ref:t})});uYe.displayName=ioe;var ooe="PopoverTrigger",soe=A.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=M0(ooe,r),i=s_(r),o=Hr(t,a.triggerRef),s=c(pr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":foe(a.open),...n,ref:o,onClick:Ut(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?s:c(Pw,{asChild:!0,...i,children:s})});soe.displayName=ooe;var S7="PopoverPortal",[dYe,fYe]=noe(S7,{forceMount:void 0}),loe=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,i=M0(S7,t);return c(dYe,{scope:t,forceMount:r,children:c(is,{present:r||i.open,children:c(ay,{asChild:!0,container:a,children:n})})})};loe.displayName=S7;var Y1="PopoverContent",coe=A.forwardRef((e,t)=>{const r=fYe(Y1,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,i=M0(Y1,e.__scopePopover);return c(is,{present:n||i.open,children:i.modal?c(pYe,{...a,ref:t}):c(mYe,{...a,ref:t})})});coe.displayName=Y1;var hYe=i0("PopoverContent.RemoveScroll"),pYe=A.forwardRef((e,t)=>{const r=M0(Y1,e.__scopePopover),n=A.useRef(null),a=Hr(t,n),i=A.useRef(!1);return A.useEffect(()=>{const o=n.current;if(o)return k4(o)},[]),c(Dw,{as:hYe,allowPinchZoom:!0,children:c(uoe,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ut(e.onCloseAutoFocus,o=>{var s;o.preventDefault(),i.current||(s=r.triggerRef.current)==null||s.focus()}),onPointerDownOutside:Ut(e.onPointerDownOutside,o=>{const s=o.detail.originalEvent,l=s.button===0&&s.ctrlKey===!0,u=s.button===2||l;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Ut(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),mYe=A.forwardRef((e,t)=>{const r=M0(Y1,e.__scopePopover),n=A.useRef(!1),a=A.useRef(!1);return c(uoe,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,s;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(s=r.triggerRef.current)==null||s.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var l,u;(l=e.onInteractOutside)==null||l.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),uoe=A.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:u,onInteractOutside:d,...f}=e,h=M0(Y1,r),m=s_(r);return v4(),c(Cw,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:c(gg,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:c(S4,{"data-state":foe(h.open),role:"dialog",id:h.contentId,...m,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),doe="PopoverClose",gYe=A.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=M0(doe,r);return c(pr.button,{type:"button",...n,ref:t,onClick:Ut(e.onClick,()=>a.onOpenChange(!1))})});gYe.displayName=doe;var vYe="PopoverArrow",yYe=A.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=s_(r);return c(A4,{...a,...n,ref:t})});yYe.displayName=vYe;function foe(e){return e?"open":"closed"}var xYe=aoe,wYe=soe,_Ye=loe,hoe=coe;const X1=xYe,Z1=wYe,hg=A.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>c(_Ye,{children:c(hoe,{ref:a,align:t,sideOffset:r,className:It("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));hg.displayName=hoe.displayName;const bYe=["Sold","Scrapped","Donated","Stolen","Obsolete","Other"],SYe=({asset:e,open:t,onOpenChange:r,onSuccess:n})=>{const[a,i]=A.useState(new Date),[o,s]=A.useState(void 0),[l,u]=A.useState(""),[d,f]=A.useState(""),[h,m]=A.useState(!1),{toast:x}=xn();A.useEffect(()=>{t&&(i(new Date),s(void 0),u(""),f(""))},[t,e]);const g=async()=>{if(!e||!e.id){x({title:"Error",description:"No asset selected.",variant:"destructive"});return}if(!a){x({title:"Validation Error",description:"Disposal date is required.",variant:"destructive"});return}if(!o){x({title:"Validation Error",description:"Disposal reason is required.",variant:"destructive"});return}const{data:{user:y},error:_}=await Me.auth.getUser();if(_||!y){x({title:"Authentication Error",description:"Could not get current user.",variant:"destructive"});return}m(!0);try{const b=parseFloat(d)||0,S=nr(a,"yyyy-MM-dd"),{error:C}=await Me.rpc("dispose_asset",{p_asset_id:e.id,p_disposed_by_user_id:y.id,p_disposal_date:S,p_disposal_reason:o,p_salvage_value:b,p_disposal_notes:l});if(C)throw C;x({title:"Success",description:`${e.asset_name} marked as disposed.`}),n(),r(!1)}catch(b){console.error("Error disposing asset:",b),x({title:"Error",description:b.message||"Could not dispose asset.",variant:"destructive"})}finally{m(!1)}};return e?c(ei,{open:t,onOpenChange:r,children:w(Ma,{className:"sm:max-w-[500px]",children:[c(Fa,{children:w(La,{children:["Dispose Asset: ",e.asset_name]})}),w("div",{className:"py-4 grid gap-4",children:[w("div",{children:[c(Kt,{htmlFor:"disposal-date",children:"Disposal Date"}),w(X1,{children:[c(Z1,{asChild:!0,children:w(Fe,{variant:"outline",className:It("w-full justify-start text-left font-normal",!a&&"text-muted-foreground"),children:[c(vo,{className:"mr-2 h-4 w-4"}),a?nr(a,"PPP"):c("span",{children:"Pick a date"})]})}),c(hg,{className:"w-auto p-0",children:c(fg,{mode:"single",selected:a,onSelect:i,initialFocus:!0})})]})]}),w("div",{children:[c(Kt,{htmlFor:"disposal-reason",children:"Reason"}),w(zr,{onValueChange:y=>s(y),value:o,children:[c(Br,{id:"disposal-reason",children:c(Wr,{placeholder:"Select disposal reason"})}),c(Ur,{children:bYe.map(y=>c(wt,{value:y,children:y},y))})]})]}),w("div",{children:[c(Kt,{htmlFor:"salvage-value",children:"Salvage Value ()"}),c(ot,{id:"salvage-value",type:"number",value:d,onChange:y=>f(y.target.value),placeholder:"0.00"})]}),w("div",{children:[c(Kt,{htmlFor:"disposal-notes",children:"Notes (Optional)"}),c(Yr,{id:"disposal-notes",value:l,onChange:y=>u(y.target.value),placeholder:"Enter any additional notes about the disposal..."})]})]}),w(lo,{children:[c(k3,{asChild:!0,children:c(Fe,{variant:"outline",children:"Cancel"})}),c(Fe,{onClick:g,disabled:h||!a||!o,children:h?c(Hn,{className:"mr-2 h-4 w-4 animate-spin"}):"Confirm Disposal"})]})]})}):null},AYe=()=>{const[e,t]=A.useState(!1),[r,n]=A.useState(null),[a,i]=A.useState(null),[o,s]=A.useState(!1),[l,u]=A.useState(null),[d,f]=A.useState(!1),[h,m]=A.useState(0),[x,g]=A.useState(""),[y,_]=A.useState("all"),[b,S]=A.useState("all"),[C,E]=A.useState("all"),[D,T]=A.useState([]),[I,L]=A.useState([]);A.useEffect(()=>{(async()=>{const{data:R,error:H}=await Me.from("tags").select("id, name").order("name");H?console.error("Error fetching tags:",H):T(R||[])})()},[]);const B=Q=>{n(null),t(!0)},P=()=>{t(!1),n(null)},O=Q=>{i(Q),s(!0)},j=Q=>{u(Q),f(!0)},G=()=>{m(Q=>Q+1)},Y=Q=>{console.log("Asset saved:",Q),P(),m(R=>R+1)},re=Q=>{g(Q.target.value),m(R=>R+1)},q=Q=>{_(Q),m(R=>R+1)},K=Q=>{S(Q),m(R=>R+1)},z=Q=>{E(Q),m(R=>R+1)},te=A.useCallback(Q=>{L(Q)},[]);return w("div",{className:"container mx-auto p-4 md:p-6",children:[c(Ca,{heading:"Asset Management"})," ",w("div",{className:"mb-4 flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[w("div",{className:"flex flex-col md:flex-row gap-2 flex-grow",children:[c(ot,{placeholder:"Search by name or serial...",value:x,onChange:re,className:"max-w-sm"}),w(zr,{value:y,onValueChange:q,children:[c(Br,{className:"w-full md:w-[180px]",children:c(Wr,{placeholder:"Filter by Category"})}),w(Ur,{children:[c(wt,{value:"all",children:"All Categories"}),c(wt,{value:"Equipment",children:"Equipment"}),c(wt,{value:"Furniture",children:"Furniture"}),c(wt,{value:"IT",children:"IT"}),c(wt,{value:"Other",children:"Other"})]})]}),w(zr,{value:b,onValueChange:K,children:[c(Br,{className:"w-full md:w-[180px]",children:c(Wr,{placeholder:"Filter by Status"})}),w(Ur,{children:[c(wt,{value:"all",children:"All Statuses"}),c(wt,{value:"Active",children:"Active"}),c(wt,{value:"Under Maintenance",children:"Under Maintenance"}),c(wt,{value:"Retired",children:"Retired"}),c(wt,{value:"Disposed",children:"Disposed"})]})]}),w(zr,{value:C,onValueChange:z,children:[c(Br,{className:"w-full md:w-[180px]",children:c(Wr,{placeholder:"Filter by Tag"})}),w(Ur,{children:[c(wt,{value:"all",children:"All Tags"}),D.map(Q=>c(wt,{value:Q.id,children:Q.name},Q.id))]})]})]}),c("div",{className:"flex gap-2",children:w(ei,{open:e,onOpenChange:t,children:[c(Hw,{asChild:!0,children:w(Fe,{onClick:()=>B(),children:[c(Nh,{className:"mr-2 h-4 w-4"})," Add New Asset"]})}),w(Ma,{className:"sm:max-w-[600px]",children:[c(Fa,{children:c(La,{children:r?"Edit Asset":"Add New Asset"})}),c(TGe,{assetToEdit:r,onSave:Y,onCancel:P})]})]})})]}),c(AGe,{onMarkAsServiced:O,onDisposeAsset:j,refreshTrigger:h,searchTerm:x,categoryFilter:y,statusFilter:b,onDataFiltered:te}),a&&c(PGe,{asset:a,open:o,onOpenChange:s,onSuccess:G}),l&&c(SYe,{asset:l,open:d,onOpenChange:f,onSuccess:G})]})},kYe=()=>{var C,E;const{assetId:e}=ey(),[t,r]=A.useState(null),[n,a]=A.useState([]),[i,o]=A.useState([]),[s,l]=A.useState([]),[u,d]=A.useState(!0),[f,h]=A.useState(null),[m,x]=A.useState(!1),g=Je.useRef(null),{toast:y}=xn(),_=async()=>{if(!e)return;const{data:D,error:T}=await Me.from("asset_documents").select("*").eq("asset_id",e).order("uploaded_at",{ascending:!1});T?console.error("Error fetching documents:",T):o(D||[])};A.useEffect(()=>{(async()=>{if(!e){h("Asset ID is missing."),d(!1);return}d(!0),h(null);try{const{data:T,error:I}=await Me.from("assets").select(`
            *,
            asset_tags (
              tag_id,
              tags (id, name, color)
            )
          `).eq("id",e).single();if(I)throw I;const L=T?{...T,tags:Array.isArray(T.asset_tags)?T.asset_tags.map(G=>G.tags).filter(Boolean):[]}:null;r(L);const{data:B,error:P}=await Me.from("maintenance_log").select("*").eq("asset_id",e).order("serviced_at",{ascending:!1});if(P)throw P;a(B||[]);const{data:O,error:j}=await Me.from("asset_documents").select("*").eq("asset_id",e).order("uploaded_at",{ascending:!1});if(j)throw j;if(o(O||[]),T&&(T.status==="Disposed"||T.status==="Retired")){const{data:G,error:Y}=await Me.from("asset_disposal_log").select("*").eq("asset_id",e).order("disposal_recorded_at",{ascending:!1});if(Y)throw Y;l(G||[])}}catch(T){console.error("Failed to fetch asset details:",T),h(T.message||"An unknown error occurred")}finally{d(!1)}})()},[e]);const b=async D=>{const T=D.target.files;if(!T||T.length===0||!e)return;const I=T[0];x(!0);try{const{data:{user:L},error:B}=await Me.auth.getUser();if(B||!L)throw new Error("User not authenticated.");const P=`public/${e}/${Date.now()}_${I.name}`,{error:O}=await Me.storage.from("asset-documents").upload(P,I);if(O)throw O;const{data:j}=Me.storage.from("asset-documents").getPublicUrl(P);if(!(j!=null&&j.publicUrl))throw new Error("Could not get public URL.");const{error:G}=await Me.from("asset_documents").insert({asset_id:e,file_name:I.name,file_url:j.publicUrl,file_type:I.type,file_size_bytes:I.size,uploaded_by_user_id:L.id});if(G)throw G;y({title:"Success",description:"Document uploaded successfully."}),_()}catch(L){console.error("Error uploading document:",L),y({title:"Upload Error",description:L.message||"Failed to upload document.",variant:"destructive"})}finally{x(!1),g.current&&(g.current.value="")}};if(u)return w("div",{className:"container mx-auto p-4 md:p-6 space-y-4",children:[c(Il,{className:"h-8 w-1/4"}),c(Il,{className:"h-40 w-full"}),c(Il,{className:"h-40 w-full"})]});if(f)return c("div",{className:"container mx-auto p-4 md:p-6",children:w(ed,{variant:"destructive",children:[c(dc,{className:"h-4 w-4"}),c(td,{children:"Error"}),c(rd,{children:f})]})});if(!t)return c("div",{className:"container mx-auto p-4 md:p-6",children:"Asset not found."});const S=D=>{if(!D)return"N/A";try{const T=new Date(D);return D.includes("T")?T.toLocaleString():T.toLocaleDateString()}catch{return"Invalid Date"}};return w("div",{className:"container mx-auto p-4 md:p-6 space-y-6",children:[c(Ca,{heading:`Asset Details: ${t.asset_name}`}),w(ur,{children:[c(wr,{children:c(_r,{children:"Asset Information"})}),w(xr,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[w("div",{children:[c("strong",{children:"Name:"})," ",t.asset_name]}),w("div",{children:[c("strong",{children:"Category:"})," ",t.category]}),w("div",{children:[c("strong",{children:"Serial Number:"})," ",t.serial_number||"N/A"]}),w("div",{children:[c("strong",{children:"Location:"})," ",t.location||"N/A"]}),w("div",{children:[c("strong",{children:"Status:"})," ",t.status]}),w("div",{children:[c("strong",{children:"Purchase Date:"})," ",S(t.purchase_date)]}),w("div",{children:[c("strong",{children:"Warranty Expiry:"})," ",S(t.warranty_expiry_date)]}),w("div",{children:[c("strong",{children:"Supplier Info:"})," ",t.supplier_info||"N/A"]}),w("div",{children:[c("strong",{children:"Maintenance Interval:"})," ",t.maintenance_interval_months?`${t.maintenance_interval_months} months`:"Not Set"]}),w("div",{children:[c("strong",{children:"Last Serviced:"})," ",S(t.last_serviced_date)]}),w("div",{children:[c("strong",{children:"Next Due:"})," ",S(t.next_maintenance_due_date)]}),w("div",{children:[c("strong",{children:"Purchase Cost:"})," ",((C=t.purchase_price)==null?void 0:C.toFixed(2))||"0.00"]}),w("div",{className:"md:col-span-2",children:[c("strong",{children:"Tags:"}),t.tags&&t.tags.length>0?c("span",{className:"ml-2",children:t.tags.map(D=>c(Zu,{variant:"secondary",className:"mr-1 mb-1",style:D.color?{backgroundColor:D.color,color:"#fff"}:{},children:D.name},D.id))}):c("span",{className:"ml-2 text-muted-foreground",children:"No tags"})]})]})]}),w(ur,{children:[c(wr,{children:c(_r,{children:"Cost Tracking"})}),c(xr,{children:(()=>{const D=t.purchase_price||0,T=n.reduce((B,P)=>B+(P.maintenance_cost||0),0),I=(t.status==="Disposed"||t.status==="Retired")&&t.salvage_value||0,L=D+T-I;return w("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[w("div",{children:[c("strong",{children:"Purchase Cost:"})," ",D.toFixed(2)]}),w("div",{children:[c("strong",{children:"Total Maintenance Cost:"})," ",T.toFixed(2)]}),(t.status==="Disposed"||t.status==="Retired")&&w("div",{children:[c("strong",{children:"Salvage Value:"})," ",I.toFixed(2)]}),w("div",{children:[c("strong",{children:"Total Cost of Ownership:"})," ",L.toFixed(2)]})]})})()})]}),(t.status==="Disposed"||t.status==="Retired")&&t.disposal_date&&w(ur,{className:"border-destructive",children:[c(wr,{children:c(_r,{className:"text-destructive",children:"Disposal Information"})}),w(xr,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[w("div",{children:[c("strong",{children:"Disposal Date:"})," ",S(t.disposal_date)]}),w("div",{children:[c("strong",{children:"Reason:"})," ",t.disposal_reason||"N/A"]}),w("div",{children:[c("strong",{children:"Salvage Value:"})," ",((E=t.salvage_value)==null?void 0:E.toFixed(2))||"0.00"]}),t.disposal_notes&&w("div",{className:"md:col-span-2",children:[c("strong",{children:"Notes:"})," ",t.disposal_notes]})]})]}),w(ur,{children:[c(wr,{children:c(_r,{children:"Maintenance History"})}),c(xr,{children:n.length>0?c("div",{className:"overflow-x-auto",children:w("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[c("thead",{className:"bg-gray-50",children:w("tr",{children:[c("th",{scope:"col",className:"px-4 py-2 text-left font-medium text-gray-500 uppercase tracking-wider",children:"Serviced At"}),c("th",{scope:"col",className:"px-4 py-2 text-left font-medium text-gray-500 uppercase tracking-wider",children:"Cost"}),c("th",{scope:"col",className:"px-4 py-2 text-left font-medium text-gray-500 uppercase tracking-wider",children:"Invoice"}),c("th",{scope:"col",className:"px-4 py-2 text-left font-medium text-gray-500 uppercase tracking-wider",children:"Notes"}),c("th",{scope:"col",className:"px-4 py-2 text-left font-medium text-gray-500 uppercase tracking-wider",children:"Prev. Next Due"}),c("th",{scope:"col",className:"px-4 py-2 text-left font-medium text-gray-500 uppercase tracking-wider",children:"New Next Due"})]})}),c("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(D=>{var I;const T=i.find(L=>L.id===D.invoice_document_id);return w("tr",{children:[c("td",{className:"px-4 py-2 whitespace-nowrap",children:S(D.serviced_at)}),w("td",{className:"px-4 py-2 whitespace-nowrap",children:["",((I=D.maintenance_cost)==null?void 0:I.toFixed(2))||"0.00"]}),c("td",{className:"px-4 py-2 whitespace-nowrap",children:T?c("a",{href:T.file_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:T.file_name}):D.invoice_document_id?"Invoice not found":"-"}),c("td",{className:"px-4 py-2",children:D.notes||"-"}),c("td",{className:"px-4 py-2 whitespace-nowrap",children:S(D.previous_next_maintenance_due_date)}),c("td",{className:"px-4 py-2 whitespace-nowrap",children:S(D.new_next_maintenance_due_date)})]},D.id)})})]})}):c("p",{className:"text-gray-500",children:"No maintenance history recorded."})})]}),s.length>0&&w(ur,{children:[c(wr,{children:c(_r,{children:"Disposal Log"})}),c(xr,{children:c("div",{className:"overflow-x-auto",children:w("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[c("thead",{className:"bg-gray-50",children:w("tr",{children:[c("th",{scope:"col",className:"px-4 py-2 text-left font-medium text-gray-500 uppercase tracking-wider",children:"Recorded At"}),c("th",{scope:"col",className:"px-4 py-2 text-left font-medium text-gray-500 uppercase tracking-wider",children:"Disposal Date"}),c("th",{scope:"col",className:"px-4 py-2 text-left font-medium text-gray-500 uppercase tracking-wider",children:"Reason"}),c("th",{scope:"col",className:"px-4 py-2 text-left font-medium text-gray-500 uppercase tracking-wider",children:"Salvage Value ()"}),c("th",{scope:"col",className:"px-4 py-2 text-left font-medium text-gray-500 uppercase tracking-wider",children:"Notes"})]})}),c("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(D=>{var T;return w("tr",{children:[c("td",{className:"px-4 py-2 whitespace-nowrap",children:S(D.disposal_recorded_at)}),c("td",{className:"px-4 py-2 whitespace-nowrap",children:S(D.disposal_date)}),c("td",{className:"px-4 py-2",children:D.disposal_reason}),w("td",{className:"px-4 py-2 whitespace-nowrap",children:["",((T=D.salvage_value)==null?void 0:T.toFixed(2))||"0.00"]}),c("td",{className:"px-4 py-2",children:D.disposal_notes||"-"})]},D.id)})})]})})})]}),w(ur,{children:[c(wr,{children:c(_r,{children:"Documents"})}),w(xr,{children:[i.length>0?c("ul",{children:i.map(D=>w("li",{children:[c("a",{href:D.file_url,target:"_blank",rel:"noopener noreferrer",children:D.file_name})," (Uploaded: ",S(D.uploaded_at),")"]},D.id))}):c("p",{children:"No documents uploaded."}),w("div",{className:"mt-4 border-t pt-4",children:[c("h4",{className:"font-semibold mb-2",children:"Upload New Document"}),w("div",{className:"flex items-center gap-2",children:[c(ot,{type:"file",ref:g,onChange:b,disabled:m,className:"flex-grow"}),w(Fe,{size:"sm",onClick:()=>{var D;return(D=g.current)==null?void 0:D.click()},disabled:m,children:[m?c(Hn,{className:"mr-2 h-4 w-4 animate-spin"}):c(tx,{className:"mr-2 h-4 w-4"}),m?"Uploading...":"Choose File"]})]})]})]})]})]})};function A7({className:e,date:t,onDateChange:r}){return c("div",{className:It("grid gap-2",e),children:w(X1,{children:[c(Z1,{asChild:!0,children:w(Fe,{id:"date",variant:"outline",className:It("w-[300px] justify-start text-left font-normal",!t&&"text-muted-foreground"),children:[c(vo,{className:"mr-2 h-4 w-4"}),t!=null&&t.from?t.to?w(Dr,{children:[nr(t.from,"LLL dd, y")," -"," ",nr(t.to,"LLL dd, y")]}):nr(t.from,"LLL dd, y"):c("span",{children:"Pick a date range"})]})}),c(hg,{className:"w-auto p-0",align:"start",children:c(fg,{initialFocus:!0,mode:"range",defaultMonth:t==null?void 0:t.from,selected:t,onSelect:r,numberOfMonths:2})})]})})}const Lb=["#4F46E5","#60A5FA","#34D399","#FBBF24","#F87171"],$H={"In Stock":"#22C55E","Low Stock":"#FBBF24",Expired:"#F87171"},BH=["#4F46E5","#A5B4FC"],NYe=({inventoryData:e=[],logData:t=[]})=>{const r=A.useMemo(()=>{const l={Medicines:0,Tools:0,Consumables:0};return e.forEach(u=>{const d=u.category;d&&l[d]!==void 0&&l[d]++}),Object.entries(l).map(([u,d])=>({name:u,value:d}))},[e]),n=A.useMemo(()=>{const l={"In Stock":0,"Low Stock":0,Expired:0};return e.forEach(u=>{l[u.stock_status]!==void 0&&l[u.stock_status]++}),Object.entries(l).map(([u,d])=>({name:u,value:d})).filter(u=>u.value>0)},[e]);e.length;const a=r.reduce((l,u)=>l+u.value,0),i=n.reduce((l,u)=>l+u.value,0),o=()=>{var h;const l=e.reduce((m,x)=>m+(x.quantity||0),0),u=[...t].sort((m,x)=>new Date(m.created_at).getTime()-new Date(x.created_at).getTime()),d=new Map;if(u.length===0){const m=Date.now();d.set(m,{timestamp:m,name:new Date(m).toLocaleDateString(),value:l})}else{const m=u.reduce((D,T)=>D+T.quantity_change,0),x=l-m,y=new Date(u[0].created_at).getTime()-1;d.set(y,{timestamp:y,name:new Date(y).toLocaleDateString(),value:x});let _=x;u.forEach(D=>{_+=D.quantity_change;const T=new Date(D.created_at).getTime();d.set(T,{timestamp:T,name:new Date(T).toLocaleDateString(),value:_})});const b=Array.from(d.keys()).pop()??y,S=Date.now(),C=24*60*60*1e3;(((h=d.get(b))==null?void 0:h.value)!==l||S-b>C)&&d.set(S,{timestamp:S,name:new Date(S).toLocaleDateString(),value:l})}return Array.from(d.values())},s=(l,u)=>{const{payload:d}=l;return c("div",{className:"flex flex-wrap justify-center gap-x-4 gap-y-2 w-full mt-4 text-xs",children:d.map((f,h)=>{const m=u>0?(f.payload.value/u*100).toFixed(1):0;return w("div",{className:"flex items-center",children:[c("span",{className:"w-2 h-2 rounded-full mr-1.5",style:{backgroundColor:f.color}}),f.payload.name," (",m,"%)"]},`legend-${f.payload.name}-${h}`)})})};return w("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[" ",w(ur,{children:[c(wr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:c(_r,{className:"text-sm font-medium",children:"Items by Category"})}),w(xr,{className:"flex flex-col items-center pt-4",children:[" ",c(ks,{width:"100%",height:220,children:w(Kp,{children:[c(Is,{data:r,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:1,dataKey:"value",startAngle:90,endAngle:450,children:r.map((l,u)=>c(Hc,{fill:Lb[u%Lb.length],stroke:Lb[u%Lb.length]},`cell-cat-${u}`))}),c(Xa,{formatter:(l,u)=>[`${l} (${a>0?(l/a*100).toFixed(1):0}%)`,u],contentStyle:{fontSize:"12px",padding:"4px 8px",borderRadius:"4px"}}),c(Hu,{content:l=>s(l,a)})]})})]})]}),w(ur,{children:[c(wr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:c(_r,{className:"text-sm font-medium",children:"Items by Status"})}),w(xr,{className:"flex flex-col items-center pt-4",children:[" ",c(ks,{width:"100%",height:220,children:w(Kp,{children:[c(Is,{data:n,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:1,dataKey:"value",startAngle:90,endAngle:450,children:n.map((l,u)=>c(Hc,{fill:$H[l.name],stroke:$H[l.name]},`cell-stat-${u}`))}),c(Xa,{formatter:(l,u)=>[`${l} (${i>0?(l/i*100).toFixed(1):0}%)`,u],contentStyle:{fontSize:"12px",padding:"4px 8px",borderRadius:"4px"}}),c(Hu,{content:l=>s(l,i)})]})})]})]}),w(ur,{className:"md:col-span-2 lg:col-span-3",children:[" ",w(wr,{className:"pb-2",children:[" ",c(_r,{className:"text-sm font-medium",children:"Item Quantities"}),c("p",{className:"text-xs text-muted-foreground",children:"Current stock vs. low stock threshold"})," "]}),w(xr,{className:"pb-4 pl-2 pr-4",children:[" ",c(ks,{width:"100%",height:300,children:w(Wx,{data:e,margin:{top:5,right:5,left:-10,bottom:5},barGap:4,barCategoryGap:"20%",children:[c(Tl,{dataKey:"item_name",axisLine:!1,tickLine:!1,dy:10,style:{fontSize:"10px"},interval:0,angle:-45,textAnchor:"end",height:60}),c(Pl,{axisLine:!1,tickLine:!1,width:30,style:{fontSize:"12px"},allowDecimals:!1}),c(Xa,{cursor:{fill:"rgba(79, 70, 229, 0.1)"},contentStyle:{fontSize:"12px",padding:"4px 8px",borderRadius:"4px"},formatter:(l,u)=>[`${l}`,u==="quantity"?"Quantity":"Low Stock Threshold"]}),c(Qc,{dataKey:"quantity",fill:BH[0],name:"Quantity",radius:[4,4,0,0],barSize:10}),c(Qc,{dataKey:"low_stock_threshold",fill:BH[1],name:"Low Stock Threshold",radius:[4,4,0,0],barSize:10})]})})]})]}),w(ur,{className:"md:col-span-2 lg:col-span-3",children:[w(wr,{className:"flex flex-row items-center justify-between pb-2",children:[" ",w("div",{children:[c(_r,{className:"text-sm font-medium",children:"Overall Inventory Trend"}),c("p",{className:"text-xs text-muted-foreground",children:"Total quantity changes over time"})," "]})]}),w(xr,{className:"pb-4 pl-2 pr-4",children:[" ",c(ks,{width:"100%",height:300,children:w(ree,{data:o(),margin:{top:5,right:10,left:-10,bottom:5},children:[c("defs",{children:w("linearGradient",{id:"colorValue",x1:"0",y1:"0",x2:"0",y2:"1",children:[c("stop",{offset:"5%",stopColor:"#4F46E5",stopOpacity:.8}),c("stop",{offset:"95%",stopColor:"#4F46E5",stopOpacity:0})]})}),c(WI,{strokeDasharray:"3 3",vertical:!1,stroke:"hsl(var(--muted))"}),c(Tl,{dataKey:"timestamp",type:"number",domain:["dataMin","dataMax"],axisLine:!1,tickLine:!1,tickFormatter:l=>new Date(l).toLocaleDateString(),dy:10,style:{fontSize:"12px"}}),c(Pl,{axisLine:!1,tickLine:!1,width:30,style:{fontSize:"12px"},allowDecimals:!1,domain:[0,"dataMax + 10"]}),c(Xa,{contentStyle:{fontSize:"12px",padding:"4px 8px",borderRadius:"4px"},formatter:(l,u,d)=>[`Total Quantity: ${l}`,d.payload.name]}),c(Oh,{type:"monotone",dataKey:"value",connectNulls:!0,stroke:"#4F46E5",fillOpacity:1,fill:"url(#colorValue)",strokeWidth:2,dot:{r:4,fill:"#4F46E5",stroke:"#fff",strokeWidth:2},activeDot:{r:6},name:"Total Quantity"})]})})]})]})]})},EYe=["Medicines","Tools","Consumables"],CYe=()=>{const[e,t]=A.useState([]),[r,n]=A.useState([]),[a,i]=A.useState(!1),[o,s]=A.useState(null),[l,u]=A.useState(void 0),[d,f]=A.useState("all"),[h,m]=A.useState(""),[x,g]=A.useState({inventoryLevelStatus:{},upcomingExpiryItems:[]}),[y,_]=A.useState([]);A.useEffect(()=>{(async()=>{i(!0),s(null);try{const B=(await yR()).map(Y=>({...Y,stock_status:Y.quantity>Y.low_stock_threshold?"In Stock":"Low Stock"}));t(B),n(B);const P=new Date(0).toISOString(),O=new Date().toISOString(),j=await $z(P,O);_(j);const G=await b(B);g(G)}catch(L){const B=L instanceof Error?L.message:"Failed to load initial inventory or log data";s(B),console.error("Error fetching initial data:",L)}finally{i(!1)}})()},[]),A.useEffect(()=>{let I=[...e];l!=null&&l.from&&(l!=null&&l.to)?I=I.filter(L=>{const B=new Date(L.created_at);return B>=l.from&&B<=l.to}):l!=null&&l.from?I=I.filter(L=>new Date(L.created_at)>=l.from):l!=null&&l.to&&(I=I.filter(L=>new Date(L.created_at)<=l.to)),d!=="all"&&(I=I.filter(L=>L.category===d)),h&&(I=I.filter(L=>{var B;return(B=L.supplier_info)==null?void 0:B.toLowerCase().includes(h.toLowerCase())})),n(I)},[l,d,h,e]),A.useEffect(()=>{(async()=>{if(l!=null&&l.from&&(l!=null&&l.to)){i(!0),s(null);try{const L=l.from.toISOString(),B=l.to.toISOString(),P=await $z(L,B);_(P)}catch(L){s(`Error fetching inventory log data: ${L instanceof Error?L.message:String(L)}`)}finally{i(!1)}}else _([])})()},[l]);const b=async I=>{const L=I.reduce((P,O)=>(O.stock_status==="Low Stock"&&(P[O.item_name]=O.quantity),P),{}),B=I.filter(P=>{if(!P.expiry_date)return!1;const O=new Date(P.expiry_date),j=new Date;return j.setDate(j.getDate()+90),O<=j}).sort((P,O)=>new Date(P.expiry_date).getTime()-new Date(O.expiry_date).getTime());return{inventoryLevelStatus:L,upcomingExpiryItems:B}},S=I=>I?new Date(I).toLocaleDateString():"N/A",C=(I,L="Inventory Report")=>{const B=new $r;B.text(L,14,15);const P=["ID","Name","Category","Quantity","Unit Price","Supplier","Expiry Date","Status"],O=[];I.forEach(j=>{const G=[j.id,j.item_name,j.category,j.quantity,j.purchase_price??"N/A",j.supplier_info??"N/A",S(j.expiry_date),j.stock_status];O.push(G)}),u7(B,{head:[P],body:O,startY:20}),B.save(`${L.replace(/\s+/g,"_")}.pdf`)},E=(I,L="Inventory Report")=>{const B=I.map(j=>({ID:j.id,Name:j.item_name,Category:j.category,Quantity:j.quantity,"Unit Price":j.purchase_price??"N/A",Supplier:j.supplier_info??"N/A","Expiry Date":S(j.expiry_date),Status:j.stock_status,"Low Stock Threshold":j.low_stock_threshold,"Created At":S(j.created_at)})),P=rf.json_to_sheet(B),O=rf.book_new();rf.book_append_sheet(O,P,"Inventory"),n7(O,`${L.replace(/\s+/g,"_")}.xlsx`)},D=()=>{if(console.log("Generating Stock Report with data:",r),r.length===0){s("No data available to generate report.");return}s(null);try{C(r,"Stock Report"),E(r,"Stock Report")}catch(I){console.error("Error generating stock report:",I),s(`Error generating stock report: ${I instanceof Error?I.message:String(I)}`)}},T=()=>{const I=new Date,L=new Date;L.setDate(I.getDate()+90);const B=r.filter(P=>P.expiry_date?new Date(P.expiry_date)<=L:!1).sort((P,O)=>{const j=P.expiry_date?new Date(P.expiry_date).getTime():0,G=O.expiry_date?new Date(O.expiry_date).getTime():0;return j-G});if(console.log("Generating Expiry Report with data:",B),B.length===0){s("No items expiring soon to generate report.");return}s(null);try{C(B,"Expiry Report (Next 90 Days)"),E(B,"Expiry Report (Next 90 Days)")}catch(P){console.error("Error generating expiry report:",P),s(`Error generating expiry report: ${P instanceof Error?P.message:String(P)}`)}};return w("div",{className:"space-y-4",children:[w(ur,{children:[c(wr,{children:c(_r,{children:"Filters"})}),w(xr,{className:"flex flex-col md:flex-row gap-4 items-end",children:[" ",w("div",{className:"flex-1",children:[c("label",{className:"block text-sm font-medium text-muted-foreground mb-1",children:"Date Range (Created At)"}),c(A7,{date:l,onDateChange:u})]}),w("div",{className:"flex-1",children:[c("label",{htmlFor:"inv-category-filter",className:"block text-sm font-medium text-muted-foreground mb-1",children:"Category"}),w(zr,{value:d,onValueChange:I=>f(I),children:[c(Br,{id:"inv-category-filter",children:c(Wr,{placeholder:"Filter by Category"})}),w(Ur,{children:[c(wt,{value:"all",children:"All Categories"}),EYe.map(I=>c(wt,{value:I,children:I},I))]})]})]}),w("div",{className:"flex-1",children:[c("label",{htmlFor:"inv-supplier-filter",className:"block text-sm font-medium text-muted-foreground mb-1",children:"Supplier"}),c(ot,{id:"inv-supplier-filter",placeholder:"Filter by supplier...",value:h,onChange:I=>m(I.target.value)})]})]})]}),w("div",{className:"flex gap-2",children:[c(Fe,{onClick:D,disabled:a,children:"Generate Stock Report"}),c(Fe,{onClick:T,variant:"outline",disabled:a,children:"Generate Expiry Report"})]}),a&&c("p",{children:"Loading report data..."}),o&&w(ed,{variant:"destructive",children:[c(dc,{className:"h-4 w-4"}),c(td,{children:"Error"}),c(rd,{children:o})]}),w("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[w(ur,{children:[w(wr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c(_r,{className:"text-sm font-medium",children:"Low Stock Items"}),c(dc,{className:"h-4 w-4 text-muted-foreground text-red-500"})]}),w(xr,{children:[c("div",{className:"text-2xl font-bold",children:Object.keys(x.inventoryLevelStatus).length}),w("ul",{className:"text-xs text-muted-foreground list-disc pl-4",children:[Object.entries(x.inventoryLevelStatus).slice(0,5).map(([I,L])=>w("li",{children:[I," (",L,")"]},I)),Object.keys(x.inventoryLevelStatus).length>5&&c("li",{children:"...and more"})]}),Object.keys(x.inventoryLevelStatus).length===0&&c("p",{className:"text-xs text-muted-foreground",children:"No items currently low on stock."})]})]}),w(ur,{children:[w(wr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c(_r,{className:"text-sm font-medium",children:"Upcoming Expiry (90 days)"}),c(dc,{className:"h-4 w-4 text-muted-foreground text-orange-500"})]}),w(xr,{children:[c("div",{className:"text-2xl font-bold",children:x.upcomingExpiryItems.length}),w("ul",{className:"text-xs text-muted-foreground list-disc pl-4",children:[x.upcomingExpiryItems.slice(0,5).map(I=>w("li",{children:[I.item_name," (",S(I.expiry_date),")"]},I.id)),x.upcomingExpiryItems.length>5&&c("li",{children:"...and more"})]}),x.upcomingExpiryItems.length===0&&c("p",{className:"text-xs text-muted-foreground",children:"No items expiring soon."})]})]})]}),w(ur,{children:[c(wr,{children:c(_r,{children:"Report Data Preview & Charts"})}),w(xr,{children:[w("p",{className:"text-muted-foreground mb-4",children:["Filtered Items: ",r.length]}),c(NYe,{inventoryData:r,logData:y})]})]})]})},jb=["#4F46E5","#60A5FA","#34D399","#FBBF24","#F87171"],UH={Active:"#22C55E","Under Maintenance":"#FBBF24",Retired:"#9CA3AF",Disposed:"#F87171"},TYe="#8B5CF6",PYe="#F59E0B",OYe=({assetData:e=[]})=>{const t=A.useMemo(()=>{const l={"Equipment & Tools":0,Furniture:0,IT:0,Other:0};return e.forEach(u=>{const d=u.category;d&&l[d]!==void 0&&l[d]++}),Object.entries(l).map(([u,d])=>({name:u,value:d})).filter(u=>u.value>0)},[e]),r=A.useMemo(()=>{const l={Active:0,"Under Maintenance":0,Retired:0,Disposed:0};return e.forEach(u=>{const d=u.status;d&&l[d]!==void 0&&l[d]++}),Object.entries(l).map(([u,d])=>({name:u,value:d})).filter(u=>u.value>0)},[e]),n=A.useMemo(()=>{const l={"0-500":0,"501-2000":0,"2001-10000":0,"10001+":0};return e.forEach(u=>{const d=u.purchase_price??0;d<=500?l["0-500"]++:d<=2e3?l["501-2000"]++:d<=1e4?l["2001-10000"]++:l["10001+"]++}),Object.entries(l).map(([u,d])=>({name:u,value:d}))},[e]),a=A.useMemo(()=>{const l=new Date;return e.filter(d=>d.next_maintenance_due_date).map(d=>({...d,daysUntilDue:jme(bn(d.next_maintenance_due_date),l)})).filter(d=>d.daysUntilDue>=0&&d.daysUntilDue<=90).sort((d,f)=>d.daysUntilDue-f.daysUntilDue).slice(0,10).map(d=>({name:d.asset_name,value:d.daysUntilDue}))},[e]),i=t.reduce((l,u)=>l+u.value,0),o=r.reduce((l,u)=>l+u.value,0),s=(l,u)=>{const{payload:d}=l;return c("div",{className:"flex flex-wrap justify-center gap-x-4 gap-y-2 w-full mt-4 text-xs",children:d.map((f,h)=>{const m=u>0?(f.payload.value/u*100).toFixed(1):0;return w("div",{className:"flex items-center",children:[c("span",{className:"w-2 h-2 rounded-full mr-1.5",style:{backgroundColor:f.color}}),f.payload.name," (",m,"%)"]},`legend-${f.payload.name}-${h}`)})})};return w("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-2",children:[" ",w(ur,{children:[c(wr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:c(_r,{className:"text-sm font-medium",children:"Assets by Category"})}),c(xr,{className:"flex flex-col items-center pt-4",children:c(ks,{width:"100%",height:180,children:w(Kp,{children:[c(Is,{data:t,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:1,dataKey:"value",startAngle:90,endAngle:450,children:t.map((l,u)=>c(Hc,{fill:jb[u%jb.length],stroke:jb[u%jb.length]},`cell-asset-cat-${u}`))}),c(Xa,{formatter:(l,u)=>[`${l} (${i>0?(l/i*100).toFixed(1):0}%)`,u],contentStyle:{fontSize:"12px",padding:"4px 8px",borderRadius:"4px"}}),c(Hu,{content:l=>s(l,i)})]})})})]}),w(ur,{children:[c(wr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:c(_r,{className:"text-sm font-medium",children:"Assets by Status"})}),c(xr,{className:"flex flex-col items-center pt-4",children:c(ks,{width:"100%",height:180,children:w(Kp,{children:[c(Is,{data:r,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:1,dataKey:"value",startAngle:90,endAngle:450,children:r.map((l,u)=>c(Hc,{fill:UH[l.name],stroke:UH[l.name]},`cell-asset-stat-${u}`))}),c(Xa,{formatter:(l,u)=>[`${l} (${o>0?(l/o*100).toFixed(1):0}%)`,u],contentStyle:{fontSize:"12px",padding:"4px 8px",borderRadius:"4px"}}),c(Hu,{content:l=>s(l,o)})]})})})]}),w(ur,{children:[w(wr,{className:"pb-2",children:[c(_r,{className:"text-sm font-medium",children:"Asset Value Distribution"}),c("p",{className:"text-xs text-muted-foreground",children:"Count of assets by purchase price range"})]}),c(xr,{className:"pb-4 pl-2 pr-4",children:c(ks,{width:"100%",height:200,children:w(Wx,{data:n,margin:{top:5,right:5,left:-10,bottom:5},barCategoryGap:"20%",children:[c(Tl,{dataKey:"name",axisLine:!1,tickLine:!1,dy:10,style:{fontSize:"12px"}}),c(Pl,{axisLine:!1,tickLine:!1,width:30,style:{fontSize:"12px"},allowDecimals:!1}),c(Xa,{cursor:{fill:"rgba(139, 92, 246, 0.1)"},contentStyle:{fontSize:"12px",padding:"4px 8px",borderRadius:"4px"},formatter:l=>[`${l} Assets`,null]}),c(Qc,{dataKey:"value",fill:TYe,name:"Assets",radius:[4,4,0,0],barSize:12})]})})})]}),w(ur,{children:[w(wr,{className:"pb-2",children:[c(_r,{className:"text-sm font-medium",children:"Upcoming Maintenance (Next 90 Days)"}),c("p",{className:"text-xs text-muted-foreground",children:"Assets needing maintenance soon (max 10 shown)"})]}),c(xr,{className:"pb-4 pl-2 pr-4",children:c(ks,{width:"100%",height:200,children:w(Wx,{data:a,layout:"vertical",margin:{top:5,right:20,left:30,bottom:5},barCategoryGap:"20%",children:[c(Tl,{type:"number",hide:!0}),c(Pl,{dataKey:"name",type:"category",axisLine:!1,tickLine:!1,style:{fontSize:"10px"},width:100,interval:0}),c(Xa,{cursor:{fill:"rgba(245, 158, 11, 0.1)"},contentStyle:{fontSize:"12px",padding:"4px 8px",borderRadius:"4px"},formatter:l=>[`Due in ${l} days`,null]}),c(Qc,{dataKey:"value",fill:PYe,name:"Days Until Due",radius:[0,4,4,0],barSize:10})]})})})]})]})},DYe=["Equipment & Tools","Furniture","IT","Other"],IYe=["Active","Under Maintenance","Retired","Disposed"],RYe=()=>{const[e,t]=A.useState([]),[r,n]=A.useState([]),[a,i]=A.useState(!1),[o,s]=A.useState(null),[l,u]=A.useState(void 0),[d,f]=A.useState("all"),[h,m]=A.useState("all");A.useEffect(()=>{(async()=>{i(!0),s(null);try{const C=await kGe();t(C),n(C)}catch(C){s(C instanceof Error?C.message:"Failed to load asset data")}finally{i(!1)}})()},[]),A.useEffect(()=>{let S=[...e];l!=null&&l.from&&(l!=null&&l.to)?S=S.filter(C=>{if(!C.purchase_date)return!1;const E=new Date(C.purchase_date);return E>=l.from&&E<=l.to}):l!=null&&l.from?S=S.filter(C=>C.purchase_date&&new Date(C.purchase_date)>=l.from):l!=null&&l.to&&(S=S.filter(C=>C.purchase_date&&new Date(C.purchase_date)<=l.to)),d!=="all"&&(S=S.filter(C=>C.category===d)),h!=="all"&&(S=S.filter(C=>C.status===h)),n(S)},[l,d,h,e]);const x=S=>S?new Date(S).toLocaleDateString():"N/A",g=(S,C="Asset Report")=>{const E=new $r;E.text(C,14,15);const D=["ID","Name","Category","Status","Purchase Date","Purchase Price","Supplier"],T=[];S.forEach(I=>{const L=[I.id,I.asset_name,I.category,I.status,x(I.purchase_date),I.purchase_price??"N/A",I.supplier_info??"N/A"];T.push(L)}),u7(E,{head:[D],body:T,startY:20}),E.save(`${C.replace(/\s+/g,"_")}.pdf`)},y=(S,C="Asset Report")=>{const E=S.map(I=>({ID:I.id,Name:I.asset_name,Category:I.category,Status:I.status,"Purchase Date":x(I.purchase_date),"Purchase Price":I.purchase_price??"N/A",Supplier:I.supplier_info??"N/A",Location:I.location,"Next Maintenance":x(I.next_maintenance_due_date)})),D=rf.json_to_sheet(E),T=rf.book_new();rf.book_append_sheet(T,D,"Assets"),n7(T,`${C.replace(/\s+/g,"_")}.xlsx`)},_=()=>{if(console.log("Generating Asset List Report with data:",r),r.length===0){s("No data available to generate report.");return}s(null);try{g(r,"Asset List Report"),y(r,"Asset List Report")}catch(S){console.error("Error generating asset list report:",S),s(`Error generating asset list report: ${S instanceof Error?S.message:String(S)}`)}},b=()=>{const S=r.filter(C=>C.last_serviced_date||C.next_maintenance_due_date);if(console.log("Generating Maintenance History Report with data:",S),S.length===0){s("No assets with maintenance data available to generate report.");return}s(null);try{g(S,"Asset Maintenance Report"),y(S,"Asset Maintenance Report")}catch(C){console.error("Error generating asset maintenance report:",C),s(`Error generating asset maintenance report: ${C instanceof Error?C.message:String(C)}`)}};return w("div",{className:"space-y-4",children:[w(ur,{children:[c(wr,{children:c(_r,{children:"Filters"})}),w(xr,{className:"flex flex-col md:flex-row gap-4 items-end",children:[w("div",{className:"flex-1",children:[c("label",{className:"block text-sm font-medium text-muted-foreground mb-1",children:"Purchase Date Range"}),c(A7,{date:l,onDateChange:u})]}),w("div",{className:"flex-1",children:[c("label",{htmlFor:"asset-category-filter",className:"block text-sm font-medium text-muted-foreground mb-1",children:"Category"}),w(zr,{value:d,onValueChange:S=>f(S),children:[c(Br,{id:"asset-category-filter",children:c(Wr,{placeholder:"Filter by Category"})}),w(Ur,{children:[c(wt,{value:"all",children:"All Categories"}),DYe.map(S=>c(wt,{value:S,children:S},S))]})]})]}),w("div",{className:"flex-1",children:[c("label",{htmlFor:"asset-status-filter",className:"block text-sm font-medium text-muted-foreground mb-1",children:"Status"}),w(zr,{value:h,onValueChange:S=>m(S),children:[c(Br,{id:"asset-status-filter",children:c(Wr,{placeholder:"Filter by Status"})}),w(Ur,{children:[c(wt,{value:"all",children:"All Statuses"}),IYe.map(S=>c(wt,{value:S,children:S},S))]})]})]})]})]}),w("div",{className:"flex gap-2",children:[c(Fe,{onClick:_,disabled:a,children:"Generate Asset List"}),c(Fe,{onClick:b,variant:"outline",disabled:a,children:"Generate Maintenance Report"})]}),a&&c("p",{children:"Loading report data..."}),o&&w(ed,{variant:"destructive",children:[c(dc,{className:"h-4 w-4"}),c(td,{children:"Error"}),c(rd,{children:o})]}),w(ur,{children:[c(wr,{children:c(_r,{children:"Report Data Preview & Charts"})}),w(xr,{children:[w("p",{className:"text-muted-foreground mb-4",children:["Filtered Assets: ",r.length]}),r.length>0?c("div",{className:"overflow-x-auto",children:w("table",{className:"table-auto w-full",children:[c("thead",{children:w("tr",{className:"text-left",children:[c("th",{className:"px-4 py-2",children:"Name"}),c("th",{className:"px-4 py-2",children:"Category"}),c("th",{className:"px-4 py-2",children:"Status"}),c("th",{className:"px-4 py-2",children:"Purchase Date"})]})}),c("tbody",{children:r.map(S=>w("tr",{children:[c("td",{className:"border px-4 py-2",children:S.asset_name}),c("td",{className:"border px-4 py-2",children:S.category}),c("td",{className:"border px-4 py-2",children:S.status}),c("td",{className:"border px-4 py-2",children:x(S.purchase_date)})]},S.id))})]})}):c("div",{className:"h-60 border rounded-md flex items-center justify-center text-muted-foreground",children:"No assets match the selected criteria."}),w("div",{className:"mt-6",children:[" ",c(OYe,{assetData:r})," "]})]})]})]})},MYe=[{name:"Page A",uv:4e3,pv:2400,amt:2400},{name:"Page B",uv:3e3,pv:1398,amt:2210},{name:"Page C",uv:2e3,pv:9800,amt:2290},{name:"Page D",uv:2780,pv:3908,amt:2e3},{name:"Page E",uv:1890,pv:4800,amt:2181},{name:"Page F",uv:2390,pv:3800,amt:2500},{name:"Page G",uv:3490,pv:4300,amt:2100}],FYe=()=>w("div",{className:"mt-4",children:[c("h2",{className:"text-lg font-semibold mb-2",children:"Report Data Preview"}),w(tee,{width:500,height:300,data:MYe,margin:{top:5,right:30,left:20,bottom:5},children:[c(WI,{strokeDasharray:"3 3"}),c(Tl,{dataKey:"name"}),c(Pl,{}),c(Xa,{}),c(Hu,{}),c(u0,{type:"monotone",dataKey:"pv",stroke:"#8884d8",activeDot:{r:8}}),c(u0,{type:"monotone",dataKey:"uv",stroke:"#82ca9d"})]})]}),LYe=()=>w("div",{className:"container mx-auto p-4 md:p-6",children:[c(Ca,{heading:"Reports & Analytics"}),w(kg,{defaultValue:"inventory",className:"mt-4",children:[w(Ng,{className:"grid w-full grid-cols-2 md:w-[400px]",children:[c(ol,{value:"inventory",children:"Inventory Reports"}),c(ol,{value:"assets",children:"Asset Reports"}),c(ol,{value:"report-data-preview",children:"Report Data Preview"})]}),c(Ei,{value:"inventory",className:"mt-4",children:c(CYe,{})}),c(Ei,{value:"assets",className:"mt-4",children:c(RYe,{})}),c(Ei,{value:"report-data-preview",className:"mt-4",children:c(FYe,{})})]})]}),jYe=I3({message:Qo().min(1,"Reminder message is required."),reminder_date:Nte({required_error:"Please select a date."}),reminder_time:Qo().regex(/^([01]\d|2[0-3]):([0-5]\d)$/,{message:"Invalid time format (HH:MM)."}),recurrence_type:iw(["none","daily","weekly","monthly","yearly"]).default("none"),recurrence_interval:$2().int().min(1).optional(),recurrence_days:Ete($2().int().min(0).max(6)).optional(),times_per_day:$2().int().min(1).optional()}).refine(e=>!(e.recurrence_type!=="none"&&!e.recurrence_interval||e.recurrence_type==="weekly"&&(!e.recurrence_days||e.recurrence_days.length===0)),{message:"Interval is required for recurrence. Days are required for weekly recurrence.",path:["recurrence_interval"]}),$Ye=({initialData:e,onSaveSuccess:t})=>{const{user:r}=oi(),{toast:n}=xn(),[a,i]=A.useState(!1),o=sd({resolver:ld(jYe)});A.useEffect(()=>{var l,u,d,f;if(e){const h=new Date(e.reminder_datetime);o.reset({message:e.message,reminder_date:h,reminder_time:nr(h,"HH:mm"),recurrence_type:((l=e.recurrence_config)==null?void 0:l.type)||"none",recurrence_interval:(u=e.recurrence_config)==null?void 0:u.interval,recurrence_days:(d=e.recurrence_config)==null?void 0:d.days,times_per_day:((f=e.recurrence_config)==null?void 0:f.times_per_day)||1})}else o.reset({message:"",reminder_date:void 0,reminder_time:"",recurrence_type:"none",recurrence_interval:1,recurrence_days:[],times_per_day:1})},[e,o]);const s=async l=>{i(!0);const[u,d]=l.reminder_time.split(":").map(Number);let f=Qve(Jve(l.reminder_date,u),d);if(f<new Date){o.setError("reminder_time",{message:"Reminder time cannot be in the past."}),o.setError("reminder_date",{message:"Reminder date/time cannot be in the past."}),i(!1);return}const h={type:l.recurrence_type,interval:l.recurrence_type!=="none"?l.recurrence_interval:void 0,days:l.recurrence_type==="weekly"?l.recurrence_days:void 0,times_per_day:l.recurrence_type==="daily"?l.times_per_day:void 0};Object.keys(h).forEach(g=>h[g]===void 0&&delete h[g]);let m=null,x=null;if(e!=null&&e.id)m={message:l.message,reminder_datetime:f.toISOString(),recurrence_config:h};else{if(!r){n({title:"Error",description:"You must be logged in to create a reminder.",variant:"destructive"}),i(!1);return}x={user_id:r.id,message:l.message,reminder_datetime:f.toISOString(),recurrence_config:h,is_active:!0}}try{if(e!=null&&e.id&&m)await HY(e.id,m),n({title:"Success",description:"Reminder updated successfully."});else if(x)await N1e(x),n({title:"Success",description:"Reminder created successfully."});else throw new Error("Invalid state for saving reminder.");t()}catch(g){console.error("Failed to save reminder:",g),n({title:"Error",description:g.message||"Could not save reminder.",variant:"destructive"})}finally{i(!1)}};return c(Dh,{...o,children:w("form",{onSubmit:o.handleSubmit(s),className:"space-y-4",children:[c(Ge,{control:o.control,name:"message",render:({field:l})=>w(Pe,{children:[c(Te,{children:"Reminder Message"}),c(Oe,{children:c(Yr,{placeholder:"Enter reminder details...",...l})}),c(Xe,{})]})}),w("div",{className:"flex flex-col sm:flex-row gap-4",children:[c(Ge,{control:o.control,name:"reminder_date",render:({field:l})=>w(Pe,{className:"flex flex-col",children:[c(Te,{children:"Date"}),w(X1,{children:[c(Z1,{asChild:!0,children:c(Oe,{children:w(Fe,{variant:"outline",className:It("w-full sm:w-[240px] pl-3 text-left font-normal",!l.value&&"text-muted-foreground"),children:[l.value?nr(l.value,"PPP"):c("span",{children:"Pick a date"}),c(vo,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),c(hg,{className:"w-auto p-0",align:"start",children:c(fg,{mode:"single",selected:l.value,onSelect:l.onChange,disabled:u=>u<new Date(new Date().setHours(0,0,0,0)),initialFocus:!0})})]}),c(Xe,{})]})}),c(Ge,{control:o.control,name:"reminder_time",render:({field:l})=>w(Pe,{className:"flex flex-col",children:[c(Te,{children:"Time (HH:MM)"}),c("div",{className:"relative",children:c(Oe,{children:c(ot,{type:"time",className:"w-full sm:w-[120px] pl-3",...l})})}),c(Xe,{})]})})]}),c(Ge,{control:o.control,name:"recurrence_type",render:({field:l})=>w(Pe,{children:[c(Te,{children:"Recurrence"}),w(zr,{onValueChange:l.onChange,value:l.value??"none",children:[c(Oe,{children:c(Br,{children:c(Wr,{placeholder:"Select recurrence type"})})}),w(Ur,{children:[c(wt,{value:"none",children:"None"}),c(wt,{value:"daily",children:"Daily"}),c(wt,{value:"weekly",children:"Weekly"}),c(wt,{value:"monthly",children:"Monthly"}),c(wt,{value:"yearly",children:"Yearly"})]})]}),c(Xe,{})]})}),o.watch("recurrence_type")!=="none"&&w("div",{className:"p-4 border rounded-md bg-muted/40 space-y-4 mt-2",children:[c(Ge,{control:o.control,name:"recurrence_interval",render:({field:l})=>w(Pe,{children:[c(Te,{children:"Repeat Every"}),w("div",{className:"flex items-center gap-2",children:[c(Oe,{children:c(ot,{type:"number",min:"1",className:"w-20",...l,value:l.value??1,onChange:u=>l.onChange(parseInt(u.target.value,10)||1)})}),w("span",{children:[o.watch("recurrence_type")==="daily"&&"Day(s)",o.watch("recurrence_type")==="weekly"&&"Week(s)",o.watch("recurrence_type")==="monthly"&&"Month(s)",o.watch("recurrence_type")==="yearly"&&"Year(s)"]})]}),c(Xe,{})]})}),o.watch("recurrence_type")==="daily"&&c(Ge,{control:o.control,name:"times_per_day",render:({field:l})=>w(Pe,{children:[c(Te,{children:"Times Per Day"}),w("div",{className:"flex items-center gap-2",children:[c(Oe,{children:c(ot,{type:"number",min:"1",max:"24",className:"w-20",...l,value:l.value??1,onChange:u=>l.onChange(parseInt(u.target.value,10)||1)})}),c("span",{children:"time(s)"})]}),c(Ai,{className:"text-xs",children:"How many times the reminder should trigger each day."}),c(Xe,{})]})}),o.watch("recurrence_type")==="weekly"&&c(Ge,{control:o.control,name:"recurrence_days",render:()=>w(Pe,{children:[c(Te,{children:"Repeat On"}),c("div",{className:"grid grid-cols-4 gap-2 sm:grid-cols-7",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((l,u)=>c(Ge,{control:o.control,name:"recurrence_days",render:({field:d})=>{var f;return w(Pe,{className:"flex flex-row items-start space-x-2 space-y-0",children:[c(Oe,{children:c(Ps,{checked:(f=d.value)==null?void 0:f.includes(u),onCheckedChange:h=>h?d.onChange([...d.value||[],u]):d.onChange((d.value||[]).filter(m=>m!==u))})}),c(Te,{className:"font-normal",children:l})]},u)}},l))}),c(Xe,{})]})}),c("p",{className:"text-xs text-muted-foreground",children:"Monthly/Yearly options and End Date/Count coming soon."})]}),c(Fe,{type:"submit",disabled:a,children:a?"Saving...":e?"Update Reminder":"Create Reminder"}),e&&c(Fe,{type:"button",variant:"outline",onClick:()=>t(),className:"ml-2",children:"Cancel Edit"})]})})},BYe=({onEdit:e,refreshKey:t,activeReminderIds:r})=>{const{toast:n}=xn(),[a,i]=A.useState([]),[o,s]=A.useState(!0),[l,u]=A.useState(null),d=async()=>{s(!0),u(null);try{const x=await WY();i(x||[])}catch(x){console.error("Failed to fetch reminders:",x),u("Failed to load reminders. Please try again."),n({title:"Error",description:"Could not fetch reminders.",variant:"destructive"})}finally{s(!1)}};A.useEffect(()=>{d()},[t]);const f=async x=>{const g=x.is_active;i(y=>y.map(_=>_.id===x.id?{..._,is_active:!g}:_));try{await HY(x.id,{is_active:!g}),n({title:"Success",description:`Reminder ${g?"deactivated":"activated"}.`})}catch(y){console.error("Failed to toggle reminder state:",y),i(_=>_.map(b=>b.id===x.id?{...b,is_active:g}:b)),n({title:"Error",description:"Could not update reminder status.",variant:"destructive"})}},h=async x=>{const g=[...a];i(y=>y.filter(_=>_.id!==x));try{await E1e(x),n({title:"Success",description:"Reminder deleted."})}catch(y){console.error("Failed to delete reminder:",y),i(g),n({title:"Error",description:"Could not delete reminder.",variant:"destructive"})}},m=x=>{e(x)};return o?w("div",{className:"space-y-4",children:[c(Il,{className:"h-24 w-full"}),c(Il,{className:"h-24 w-full"})]}):l?w(ed,{variant:"destructive",children:[c(td,{children:"Error"}),c(rd,{children:l})]}):a.length===0?c("p",{className:"text-muted-foreground",children:"No reminders found."}):c("div",{className:"space-y-4",children:a.map(x=>{var g;return r.has(x.id),w(ur,{className:It(!x.is_active&&"opacity-60"),children:[w(wr,{className:"flex flex-row items-center justify-between pb-2",children:[c(_r,{className:"text-lg font-medium",children:x.message}),w("div",{className:"flex items-center space-x-2",children:[w(Fe,{variant:"ghost",size:"icon",onClick:()=>f(x),title:x.is_active?"Deactivate":"Activate",children:[x.is_active?c(rce,{className:"h-4 w-4"}):c(d4,{className:"h-4 w-4"})," "]}),c(Fe,{variant:"ghost",size:"icon",onClick:()=>m(x),title:"Edit",children:c(Cce,{className:"h-4 w-4"})}),c(Fe,{variant:"ghost",size:"icon",onClick:()=>h(x.id),title:"Delete",children:c(ph,{className:"h-4 w-4 text-destructive"})})]})]}),w(xr,{children:[w("p",{className:"text-sm text-muted-foreground",children:["Next due: ",nr(new Date(x.reminder_datetime),"PPP 'at' HH:mm")]}),((g=x.recurrence_config)==null?void 0:g.type)&&x.recurrence_config.type!=="none"&&w("p",{className:"text-xs text-muted-foreground mt-1 capitalize",children:["Recurring: ",x.recurrence_config.type]}),!x.is_active&&c("p",{className:"text-xs text-amber-600 mt-1",children:"Inactive"})]})]},x.id)})})},UYe=()=>{const[e,t]=A.useState(0),[r,n]=A.useState(null),{activeReminderIds:a}=VY(),i=s=>{n(s),window.scrollTo({top:0,behavior:"smooth"})};return w("div",{className:"container mx-auto p-4",children:[c(Ca,{heading:"Reminders",text:"Create and manage reminders for yourself or the clinic."}),w("div",{className:"mt-6",children:[c("h2",{className:"text-xl font-semibold mb-4",children:r?"Edit Reminder":"Create New Reminder"}),c($Ye,{initialData:r,onSaveSuccess:()=>{n(null),t(s=>s+1)}},(r==null?void 0:r.id)||"new")]}),c(r0,{className:"my-8"}),w("div",{className:"mt-8",children:[c("h2",{className:"text-xl font-semibold mb-4",children:"Existing Reminders"}),c(BYe,{onEdit:i,refreshKey:e,activeReminderIds:a})]})]})},Xo=[];for(let e=0;e<256;++e)Xo.push((e+256).toString(16).slice(1));function qYe(e,t=0){return(Xo[e[t+0]]+Xo[e[t+1]]+Xo[e[t+2]]+Xo[e[t+3]]+"-"+Xo[e[t+4]]+Xo[e[t+5]]+"-"+Xo[e[t+6]]+Xo[e[t+7]]+"-"+Xo[e[t+8]]+Xo[e[t+9]]+"-"+Xo[e[t+10]]+Xo[e[t+11]]+Xo[e[t+12]]+Xo[e[t+13]]+Xo[e[t+14]]+Xo[e[t+15]]).toLowerCase()}let wP;const zYe=new Uint8Array(16);function WYe(){if(!wP){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");wP=crypto.getRandomValues.bind(crypto)}return wP(zYe)}const HYe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),qH={randomUUID:HYe};function Sw(e,t,r){var a;if(qH.randomUUID&&!e)return qH.randomUUID();e=e||{};const n=e.random??((a=e.rng)==null?void 0:a.call(e))??WYe();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,qYe(n)}const VYe=async()=>{const{data:e,error:t}=await Me.from("purchase_orders").select(`
      id,
      po_number,
      order_date,
      expected_delivery_date,
      status,
      total_amount,
      notes,
      created_at,
      updated_at,
      supplier_id,
      created_by,
      suppliers (
        name
      )
    `).order("order_date",{ascending:!1});if(t)throw console.error("Error fetching purchase orders:",t),t;return(e||[]).map(r=>{var n;return{id:r.id,po_number:r.po_number,supplier_id:r.supplier_id,supplier_name:((n=r.suppliers)==null?void 0:n.name)||"N/A",order_date:r.order_date,expected_delivery_date:r.expected_delivery_date,status:r.status,total_amount:r.total_amount,notes:r.notes,created_by:r.created_by,created_at:r.created_at,updated_at:r.updated_at}})},GYe=async()=>{const{data:e,error:t}=await Me.from("suppliers").select("id, name").order("name");if(t)throw console.error("Error fetching suppliers from Supabase:",t),t;return e?e.map(n=>({value:n.id,label:n.name})):[]},k7=async()=>{const{data:e,error:t}=await Me.from("inventory_items").select("id, item_name, category, is_batched, item_code").order("item_name");if(t)throw console.error("Error fetching inventory items from Supabase:",t),t;return e?e.map(n=>({value:n.id,label:n.item_name,category:n.category||void 0,is_batched:n.is_batched||!1,item_code:n.item_code||null})):[]},KYe=async(e,t)=>{const{data:r,error:n}=await Me.rpc("generate_po_number");if(n||!r)throw console.error("Error generating PO number:",n),n||new Error("Failed to generate PO number.");const i={po_number:r,supplier_id:e.supplier_id,order_date:e.order_date.toISOString().split("T")[0],expected_delivery_date:e.expected_delivery_date?e.expected_delivery_date.toISOString().split("T")[0]:null,notes:e.notes||null,status:"Pending",created_by:t||null},{data:o,error:s}=await Me.from("purchase_orders").insert(i).select("id, po_number").single();if(s||!o)throw console.error("Error creating purchase order header:",s),s||new Error("Failed to create purchase order header.");const l=e.items.map(d=>({purchase_order_id:o.id,inventory_item_id:d.inventory_item_id,description:d.description||null,quantity_ordered:d.quantity_ordered,unit_price:d.unit_price})),{error:u}=await Me.from("purchase_order_items").insert(l);if(u)throw console.error("Error creating purchase order items:",u),await Me.from("purchase_orders").delete().match({id:o.id}),u;return{id:o.id,po_number:o.po_number}},poe=async e=>{var o;const{data:t,error:r}=await Me.from("purchase_orders").select(`
      id,
      po_number,
      order_date,
      expected_delivery_date,
      status,
      total_amount,
      notes,
      created_at,
      updated_at,
      supplier_id,
      created_by,
      suppliers ( name )
    `).eq("id",e).single();if(r){if(console.error(`Error fetching purchase order ${e}:`,r),r.code==="PGRST116")return null;throw r}if(!t)return null;const{data:n,error:a}=await Me.from("purchase_order_items").select(`
      id,
      inventory_item_id,
      description,
      quantity_ordered,
      quantity_received,
      unit_price,
      subtotal,
      inventory_items ( item_name )
    `).eq("purchase_order_id",e);if(a)throw console.error(`Error fetching items for purchase order ${e}:`,a),a;const i=(n||[]).map(s=>{var l,u;return{id:s.id,inventory_item_id:s.inventory_item_id,description:s.description||((l=s.inventory_items)==null?void 0:l.item_name)||"N/A",product_name:((u=s.inventory_items)==null?void 0:u.item_name)||"N/A",quantity_ordered:s.quantity_ordered,quantity_received:s.quantity_received,unit_price:s.unit_price,subtotal:s.subtotal}});return{...t,supplier_name:((o=t.suppliers)==null?void 0:o.name)||"N/A",items:i,status:t.status}},YYe=async e=>{const{data:t,error:r}=await Me.rpc("handle_receive_po_item_batch",{p_po_item_id:e.p_po_item_id,p_quantity_received:e.p_quantity_received,p_batch_number:e.p_batch_number,p_expiry_date:e.p_expiry_date,p_purchase_price:e.p_purchase_price,p_received_by_user_id:e.p_received_by_user_id});if(r)throw console.error("Error receiving PO item batch via RPC:",r),r},XYe=async(e,t,r,n)=>{if(!n)throw new Error("User must be logged in to upload invoices.");if(!r)throw new Error("No file selected for upload.");const a=r.name.split(".").pop(),i=`${Sw()}.${a}`,o=`purchase_invoices/${t}/${i}`,{error:s}=await Me.storage.from("invoices").upload(o,r);if(s)throw console.error("Error uploading invoice file:",s),s;const{error:l}=await Me.from("invoices").insert({file_name:r.name,storage_path:o,uploaded_by_user_id:n,purchase_order_id:e});if(l)throw console.error("Error saving invoice record to database:",l),await Me.storage.from("invoices").remove([o]),l;return{storage_path:o}},zH=async e=>{const{data:t,error:r}=await Me.from("invoices").select("id, file_name, storage_path, uploaded_at, uploaded_by_user_id").eq("purchase_order_id",e).order("uploaded_at",{ascending:!1});if(r)throw console.error("Error fetching invoices for PO:",r),r;return t||[]},ZYe=async e=>{const{data:t,error:r}=await Me.storage.from("invoices").createSignedUrl(e,300);return r?(console.error("Error creating signed URL:",r),null):(t==null?void 0:t.signedUrl)||null},JYe=async(e,t)=>{const{error:r}=await Me.from("purchase_orders").update({status:t,updated_at:new Date().toISOString()}).eq("id",e);if(r)throw console.error(`Error updating purchase order ${e} status to ${t}:`,r),r},QYe=()=>{const[e,t]=A.useState([]),[r,n]=A.useState(!0),[a,i]=A.useState(null);A.useEffect(()=>{(async()=>{try{n(!0);const l=await VYe();t(l),i(null)}catch(l){console.error(l),i("Failed to fetch purchase orders.")}finally{n(!1)}})()},[]);const o=s=>{switch(s){case"Pending":return"outline";case"Ordered":return"secondary";case"Partially Received":return"default";case"Received":return"default";case"Cancelled":return"destructive";default:return"outline"}};return w("div",{className:"container mx-auto p-4",children:[c(Ca,{heading:"Purchase Orders",text:"Manage and track all your purchase orders.",children:w(Wi,{to:"/purchases/create",children:[" ",w(Fe,{children:[c(Nh,{className:"mr-2 h-4 w-4"}),"Create New PO"]})]})}),w("div",{className:"mt-6",children:[r&&c("p",{children:"Loading purchase orders..."}),a&&c("p",{className:"text-red-500",children:a}),!r&&!a&&e.length===0&&c("p",{children:"No purchase orders found."}),!r&&!a&&e.length>0&&w(Fs,{children:[c(Ls,{children:w(Pn,{children:[c(Wt,{children:"PO Number"}),c(Wt,{children:"Supplier"}),c(Wt,{children:"Order Date"}),c(Wt,{children:"Status"}),c(Wt,{className:"text-right",children:"Total Amount"}),c(Wt,{children:"Actions"})]})}),c(js,{children:e.map(s=>{var l;return w(Pn,{children:[c(jt,{className:"font-medium",children:s.po_number}),c(jt,{children:s.supplier_name}),c(jt,{children:new Date(s.order_date).toLocaleDateString()}),c(jt,{children:c(Zu,{variant:o(s.status),className:s.status==="Received"?"bg-green-500 hover:bg-green-600 text-white":"",children:s.status})}),c(jt,{className:"text-right",children:((l=s.total_amount)==null?void 0:l.toLocaleString("en-IN",{style:"currency",currency:"INR"}))||"N/A"}),c(jt,{className:"text-right",children:w(Wi,{to:`/purchases/${s.id}`,children:[" ",c(Fe,{variant:"outline",size:"sm",children:"View"})]})})]},s.id)})})]})]})]})},eXe=Le.object({inventory_item_id:Le.string().uuid({message:"Please select an inventory item."}),description:Le.string().optional(),quantity_ordered:Le.number().min(1,{message:"Quantity must be at least 1."}),unit_price:Le.number().min(0,{message:"Unit price cannot be negative."})}),tXe=Le.object({supplier_id:Le.string().uuid({message:"Please select a supplier."}),order_date:Le.date({required_error:"Order date is required.",invalid_type_error:"Invalid date format for order date."}),expected_delivery_date:Le.date().nullable().optional(),notes:Le.string().optional(),items:Le.array(eXe).min(1,{message:"Please add at least one item to the purchase order."}),invoice_file:Le.custom(e=>e==null||e instanceof File,"Invalid file format").refine(e=>!e||e.size<=5*1024*1024,"File size should be less than 5MB.").refine(e=>!e||["application/pdf","image/png","image/jpeg","image/jpg"].includes(e.type),"Only .pdf, .png, .jpg, .jpeg files are accepted.").optional().nullable()});function kh(e){return Array.isArray?Array.isArray(e):voe(e)==="[object Array]"}function rXe(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function nXe(e){return e==null?"":rXe(e)}function Xd(e){return typeof e=="string"}function moe(e){return typeof e=="number"}function aXe(e){return e===!0||e===!1||iXe(e)&&voe(e)=="[object Boolean]"}function goe(e){return typeof e=="object"}function iXe(e){return goe(e)&&e!==null}function oc(e){return e!=null}function _P(e){return!e.trim().length}function voe(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const oXe="Incorrect 'index' type",sXe=e=>`Invalid value for key ${e}`,lXe=e=>`Pattern length exceeds max of ${e}.`,cXe=e=>`Missing ${e} property in key`,uXe=e=>`Property 'weight' in key '${e}' must be a positive integer`,WH=Object.prototype.hasOwnProperty;class dXe{constructor(t){this._keys=[],this._keyMap={};let r=0;t.forEach(n=>{let a=yoe(n);this._keys.push(a),this._keyMap[a.id]=a,r+=a.weight}),this._keys.forEach(n=>{n.weight/=r})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function yoe(e){let t=null,r=null,n=null,a=1,i=null;if(Xd(e)||kh(e))n=e,t=HH(e),r=O8(e);else{if(!WH.call(e,"name"))throw new Error(cXe("name"));const o=e.name;if(n=o,WH.call(e,"weight")&&(a=e.weight,a<=0))throw new Error(uXe(o));t=HH(o),r=O8(o),i=e.getFn}return{path:t,id:r,weight:a,src:n,getFn:i}}function HH(e){return kh(e)?e:e.split(".")}function O8(e){return kh(e)?e.join("."):e}function fXe(e,t){let r=[],n=!1;const a=(i,o,s)=>{if(oc(i))if(!o[s])r.push(i);else{let l=o[s];const u=i[l];if(!oc(u))return;if(s===o.length-1&&(Xd(u)||moe(u)||aXe(u)))r.push(nXe(u));else if(kh(u)){n=!0;for(let d=0,f=u.length;d<f;d+=1)a(u[d],o,s+1)}else o.length&&a(u,o,s+1)}};return a(e,Xd(t)?t.split("."):t,0),n?r:r[0]}const hXe={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},pXe={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},mXe={location:0,threshold:.6,distance:100},gXe={useExtendedSearch:!1,getFn:fXe,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var an={...pXe,...hXe,...mXe,...gXe};const vXe=/[^ ]+/g;function yXe(e=1,t=3){const r=new Map,n=Math.pow(10,t);return{get(a){const i=a.match(vXe).length;if(r.has(i))return r.get(i);const o=1/Math.pow(i,.5*e),s=parseFloat(Math.round(o*n)/n);return r.set(i,s),s},clear(){r.clear()}}}class N7{constructor({getFn:t=an.getFn,fieldNormWeight:r=an.fieldNormWeight}={}){this.norm=yXe(r,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((r,n)=>{this._keysMap[r.id]=n})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Xd(this.docs[0])?this.docs.forEach((t,r)=>{this._addString(t,r)}):this.docs.forEach((t,r)=>{this._addObject(t,r)}),this.norm.clear())}add(t){const r=this.size();Xd(t)?this._addString(t,r):this._addObject(t,r)}removeAt(t){this.records.splice(t,1);for(let r=t,n=this.size();r<n;r+=1)this.records[r].i-=1}getValueForItemAtKeyId(t,r){return t[this._keysMap[r]]}size(){return this.records.length}_addString(t,r){if(!oc(t)||_P(t))return;let n={v:t,i:r,n:this.norm.get(t)};this.records.push(n)}_addObject(t,r){let n={i:r,$:{}};this.keys.forEach((a,i)=>{let o=a.getFn?a.getFn(t):this.getFn(t,a.path);if(oc(o)){if(kh(o)){let s=[];const l=[{nestedArrIndex:-1,value:o}];for(;l.length;){const{nestedArrIndex:u,value:d}=l.pop();if(oc(d))if(Xd(d)&&!_P(d)){let f={v:d,i:u,n:this.norm.get(d)};s.push(f)}else kh(d)&&d.forEach((f,h)=>{l.push({nestedArrIndex:h,value:f})})}n.$[i]=s}else if(Xd(o)&&!_P(o)){let s={v:o,n:this.norm.get(o)};n.$[i]=s}}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function xoe(e,t,{getFn:r=an.getFn,fieldNormWeight:n=an.fieldNormWeight}={}){const a=new N7({getFn:r,fieldNormWeight:n});return a.setKeys(e.map(yoe)),a.setSources(t),a.create(),a}function xXe(e,{getFn:t=an.getFn,fieldNormWeight:r=an.fieldNormWeight}={}){const{keys:n,records:a}=e,i=new N7({getFn:t,fieldNormWeight:r});return i.setKeys(n),i.setIndexRecords(a),i}function $b(e,{errors:t=0,currentLocation:r=0,expectedLocation:n=0,distance:a=an.distance,ignoreLocation:i=an.ignoreLocation}={}){const o=t/e.length;if(i)return o;const s=Math.abs(n-r);return a?o+s/a:s?1:o}function wXe(e=[],t=an.minMatchCharLength){let r=[],n=-1,a=-1,i=0;for(let o=e.length;i<o;i+=1){let s=e[i];s&&n===-1?n=i:!s&&n!==-1&&(a=i-1,a-n+1>=t&&r.push([n,a]),n=-1)}return e[i-1]&&i-n>=t&&r.push([n,i-1]),r}const Em=32;function _Xe(e,t,r,{location:n=an.location,distance:a=an.distance,threshold:i=an.threshold,findAllMatches:o=an.findAllMatches,minMatchCharLength:s=an.minMatchCharLength,includeMatches:l=an.includeMatches,ignoreLocation:u=an.ignoreLocation}={}){if(t.length>Em)throw new Error(lXe(Em));const d=t.length,f=e.length,h=Math.max(0,Math.min(n,f));let m=i,x=h;const g=s>1||l,y=g?Array(f):[];let _;for(;(_=e.indexOf(t,x))>-1;){let T=$b(t,{currentLocation:_,expectedLocation:h,distance:a,ignoreLocation:u});if(m=Math.min(T,m),x=_+d,g){let I=0;for(;I<d;)y[_+I]=1,I+=1}}x=-1;let b=[],S=1,C=d+f;const E=1<<d-1;for(let T=0;T<d;T+=1){let I=0,L=C;for(;I<L;)$b(t,{errors:T,currentLocation:h+L,expectedLocation:h,distance:a,ignoreLocation:u})<=m?I=L:C=L,L=Math.floor((C-I)/2+I);C=L;let B=Math.max(1,h-L+1),P=o?f:Math.min(h+L,f)+d,O=Array(P+2);O[P+1]=(1<<T)-1;for(let G=P;G>=B;G-=1){let Y=G-1,re=r[e.charAt(Y)];if(g&&(y[Y]=+!!re),O[G]=(O[G+1]<<1|1)&re,T&&(O[G]|=(b[G+1]|b[G])<<1|1|b[G+1]),O[G]&E&&(S=$b(t,{errors:T,currentLocation:Y,expectedLocation:h,distance:a,ignoreLocation:u}),S<=m)){if(m=S,x=Y,x<=h)break;B=Math.max(1,2*h-x)}}if($b(t,{errors:T+1,currentLocation:h,expectedLocation:h,distance:a,ignoreLocation:u})>m)break;b=O}const D={isMatch:x>=0,score:Math.max(.001,S)};if(g){const T=wXe(y,s);T.length?l&&(D.indices=T):D.isMatch=!1}return D}function bXe(e){let t={};for(let r=0,n=e.length;r<n;r+=1){const a=e.charAt(r);t[a]=(t[a]||0)|1<<n-r-1}return t}const o4=String.prototype.normalize?e=>e.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):e=>e;class woe{constructor(t,{location:r=an.location,threshold:n=an.threshold,distance:a=an.distance,includeMatches:i=an.includeMatches,findAllMatches:o=an.findAllMatches,minMatchCharLength:s=an.minMatchCharLength,isCaseSensitive:l=an.isCaseSensitive,ignoreDiacritics:u=an.ignoreDiacritics,ignoreLocation:d=an.ignoreLocation}={}){if(this.options={location:r,threshold:n,distance:a,includeMatches:i,findAllMatches:o,minMatchCharLength:s,isCaseSensitive:l,ignoreDiacritics:u,ignoreLocation:d},t=l?t:t.toLowerCase(),t=u?o4(t):t,this.pattern=t,this.chunks=[],!this.pattern.length)return;const f=(m,x)=>{this.chunks.push({pattern:m,alphabet:bXe(m),startIndex:x})},h=this.pattern.length;if(h>Em){let m=0;const x=h%Em,g=h-x;for(;m<g;)f(this.pattern.substr(m,Em),m),m+=Em;if(x){const y=h-Em;f(this.pattern.substr(y),y)}}else f(this.pattern,0)}searchIn(t){const{isCaseSensitive:r,ignoreDiacritics:n,includeMatches:a}=this.options;if(t=r?t:t.toLowerCase(),t=n?o4(t):t,this.pattern===t){let g={isMatch:!0,score:0};return a&&(g.indices=[[0,t.length-1]]),g}const{location:i,distance:o,threshold:s,findAllMatches:l,minMatchCharLength:u,ignoreLocation:d}=this.options;let f=[],h=0,m=!1;this.chunks.forEach(({pattern:g,alphabet:y,startIndex:_})=>{const{isMatch:b,score:S,indices:C}=_Xe(t,g,y,{location:i+_,distance:o,threshold:s,findAllMatches:l,minMatchCharLength:u,includeMatches:a,ignoreLocation:d});b&&(m=!0),h+=S,b&&C&&(f=[...f,...C])});let x={isMatch:m,score:m?h/this.chunks.length:1};return m&&a&&(x.indices=f),x}}class F0{constructor(t){this.pattern=t}static isMultiMatch(t){return VH(t,this.multiRegex)}static isSingleMatch(t){return VH(t,this.singleRegex)}search(){}}function VH(e,t){const r=e.match(t);return r?r[1]:null}class SXe extends F0{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const r=t===this.pattern;return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class AXe extends F0{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const n=t.indexOf(this.pattern)===-1;return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class kXe extends F0{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const r=t.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class NXe extends F0{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const r=!t.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class EXe extends F0{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const r=t.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class CXe extends F0{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const r=!t.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class _oe extends F0{constructor(t,{location:r=an.location,threshold:n=an.threshold,distance:a=an.distance,includeMatches:i=an.includeMatches,findAllMatches:o=an.findAllMatches,minMatchCharLength:s=an.minMatchCharLength,isCaseSensitive:l=an.isCaseSensitive,ignoreDiacritics:u=an.ignoreDiacritics,ignoreLocation:d=an.ignoreLocation}={}){super(t),this._bitapSearch=new woe(t,{location:r,threshold:n,distance:a,includeMatches:i,findAllMatches:o,minMatchCharLength:s,isCaseSensitive:l,ignoreDiacritics:u,ignoreLocation:d})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class boe extends F0{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let r=0,n;const a=[],i=this.pattern.length;for(;(n=t.indexOf(this.pattern,r))>-1;)r=n+i,a.push([n,r-1]);const o=!!a.length;return{isMatch:o,score:o?0:1,indices:a}}}const D8=[SXe,boe,kXe,NXe,CXe,EXe,AXe,_oe],GH=D8.length,TXe=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,PXe="|";function OXe(e,t={}){return e.split(PXe).map(r=>{let n=r.trim().split(TXe).filter(i=>i&&!!i.trim()),a=[];for(let i=0,o=n.length;i<o;i+=1){const s=n[i];let l=!1,u=-1;for(;!l&&++u<GH;){const d=D8[u];let f=d.isMultiMatch(s);f&&(a.push(new d(f,t)),l=!0)}if(!l)for(u=-1;++u<GH;){const d=D8[u];let f=d.isSingleMatch(s);if(f){a.push(new d(f,t));break}}}return a})}const DXe=new Set([_oe.type,boe.type]);class IXe{constructor(t,{isCaseSensitive:r=an.isCaseSensitive,ignoreDiacritics:n=an.ignoreDiacritics,includeMatches:a=an.includeMatches,minMatchCharLength:i=an.minMatchCharLength,ignoreLocation:o=an.ignoreLocation,findAllMatches:s=an.findAllMatches,location:l=an.location,threshold:u=an.threshold,distance:d=an.distance}={}){this.query=null,this.options={isCaseSensitive:r,ignoreDiacritics:n,includeMatches:a,minMatchCharLength:i,findAllMatches:s,ignoreLocation:o,location:l,threshold:u,distance:d},t=r?t:t.toLowerCase(),t=n?o4(t):t,this.pattern=t,this.query=OXe(this.pattern,this.options)}static condition(t,r){return r.useExtendedSearch}searchIn(t){const r=this.query;if(!r)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:a,ignoreDiacritics:i}=this.options;t=a?t:t.toLowerCase(),t=i?o4(t):t;let o=0,s=[],l=0;for(let u=0,d=r.length;u<d;u+=1){const f=r[u];s.length=0,o=0;for(let h=0,m=f.length;h<m;h+=1){const x=f[h],{isMatch:g,indices:y,score:_}=x.search(t);if(g){if(o+=1,l+=_,n){const b=x.constructor.type;DXe.has(b)?s=[...s,...y]:s.push(y)}}else{l=0,o=0,s.length=0;break}}if(o){let h={isMatch:!0,score:l/o};return n&&(h.indices=s),h}}return{isMatch:!1,score:1}}}const I8=[];function RXe(...e){I8.push(...e)}function R8(e,t){for(let r=0,n=I8.length;r<n;r+=1){let a=I8[r];if(a.condition(e,t))return new a(e,t)}return new woe(e,t)}const s4={AND:"$and",OR:"$or"},M8={PATH:"$path",PATTERN:"$val"},F8=e=>!!(e[s4.AND]||e[s4.OR]),MXe=e=>!!e[M8.PATH],FXe=e=>!kh(e)&&goe(e)&&!F8(e),KH=e=>({[s4.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function Soe(e,t,{auto:r=!0}={}){const n=a=>{let i=Object.keys(a);const o=MXe(a);if(!o&&i.length>1&&!F8(a))return n(KH(a));if(FXe(a)){const l=o?a[M8.PATH]:i[0],u=o?a[M8.PATTERN]:a[l];if(!Xd(u))throw new Error(sXe(l));const d={keyId:O8(l),pattern:u};return r&&(d.searcher=R8(u,t)),d}let s={children:[],operator:i[0]};return i.forEach(l=>{const u=a[l];kh(u)&&u.forEach(d=>{s.children.push(n(d))})}),s};return F8(e)||(e=KH(e)),n(e)}function LXe(e,{ignoreFieldNorm:t=an.ignoreFieldNorm}){e.forEach(r=>{let n=1;r.matches.forEach(({key:a,norm:i,score:o})=>{const s=a?a.weight:null;n*=Math.pow(o===0&&s?Number.EPSILON:o,(s||1)*(t?1:i))}),r.score=n})}function jXe(e,t){const r=e.matches;t.matches=[],oc(r)&&r.forEach(n=>{if(!oc(n.indices)||!n.indices.length)return;const{indices:a,value:i}=n;let o={indices:a,value:i};n.key&&(o.key=n.key.src),n.idx>-1&&(o.refIndex=n.idx),t.matches.push(o)})}function $Xe(e,t){t.score=e.score}function BXe(e,t,{includeMatches:r=an.includeMatches,includeScore:n=an.includeScore}={}){const a=[];return r&&a.push(jXe),n&&a.push($Xe),e.map(i=>{const{idx:o}=i,s={item:t[o],refIndex:o};return a.length&&a.forEach(l=>{l(i,s)}),s})}class _y{constructor(t,r={},n){this.options={...an,...r},this.options.useExtendedSearch,this._keyStore=new dXe(this.options.keys),this.setCollection(t,n)}setCollection(t,r){if(this._docs=t,r&&!(r instanceof N7))throw new Error(oXe);this._myIndex=r||xoe(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){oc(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const r=[];for(let n=0,a=this._docs.length;n<a;n+=1){const i=this._docs[n];t(i,n)&&(this.removeAt(n),n-=1,a-=1,r.push(i))}return r}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:r=-1}={}){const{includeMatches:n,includeScore:a,shouldSort:i,sortFn:o,ignoreFieldNorm:s}=this.options;let l=Xd(t)?Xd(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return LXe(l,{ignoreFieldNorm:s}),i&&l.sort(o),moe(r)&&r>-1&&(l=l.slice(0,r)),BXe(l,this._docs,{includeMatches:n,includeScore:a})}_searchStringList(t){const r=R8(t,this.options),{records:n}=this._myIndex,a=[];return n.forEach(({v:i,i:o,n:s})=>{if(!oc(i))return;const{isMatch:l,score:u,indices:d}=r.searchIn(i);l&&a.push({item:i,idx:o,matches:[{score:u,value:i,norm:s,indices:d}]})}),a}_searchLogical(t){const r=Soe(t,this.options),n=(s,l,u)=>{if(!s.children){const{keyId:f,searcher:h}=s,m=this._findMatches({key:this._keyStore.get(f),value:this._myIndex.getValueForItemAtKeyId(l,f),searcher:h});return m&&m.length?[{idx:u,item:l,matches:m}]:[]}const d=[];for(let f=0,h=s.children.length;f<h;f+=1){const m=s.children[f],x=n(m,l,u);if(x.length)d.push(...x);else if(s.operator===s4.AND)return[]}return d},a=this._myIndex.records,i={},o=[];return a.forEach(({$:s,i:l})=>{if(oc(s)){let u=n(r,s,l);u.length&&(i[l]||(i[l]={idx:l,item:s,matches:[]},o.push(i[l])),u.forEach(({matches:d})=>{i[l].matches.push(...d)}))}}),o}_searchObjectList(t){const r=R8(t,this.options),{keys:n,records:a}=this._myIndex,i=[];return a.forEach(({$:o,i:s})=>{if(!oc(o))return;let l=[];n.forEach((u,d)=>{l.push(...this._findMatches({key:u,value:o[d],searcher:r}))}),l.length&&i.push({idx:s,item:o,matches:l})}),i}_findMatches({key:t,value:r,searcher:n}){if(!oc(r))return[];let a=[];if(kh(r))r.forEach(({v:i,i:o,n:s})=>{if(!oc(i))return;const{isMatch:l,score:u,indices:d}=n.searchIn(i);l&&a.push({score:u,key:t,value:i,idx:o,norm:s,indices:d})});else{const{v:i,n:o}=r,{isMatch:s,score:l,indices:u}=n.searchIn(i);s&&a.push({score:l,key:t,value:i,norm:o,indices:u})}return a}}_y.version="7.1.0";_y.createIndex=xoe;_y.parseIndex=xXe;_y.config=an;_y.parseQuery=Soe;RXe(IXe);const UXe={includeScore:!0,shouldSort:!0,minMatchCharLength:2,threshold:.4,keys:["name"]},l4=(e,t)=>{if(!e||t.length===0)return{bestMatch:null,bestMatchScore:void 0,allMatches:[]};const n=new _y(t,UXe).search(e);return n.length>0&&n[0].score!==void 0?{bestMatch:n[0].item,bestMatchScore:n[0].score,allMatches:n}:n.length>0?{bestMatch:n[0].item,bestMatchScore:void 0,allMatches:n}:{bestMatch:null,bestMatchScore:void 0,allMatches:[]}},YH=(e,t)=>e.map((r,n)=>{const{bestMatch:a,bestMatchScore:i,allMatches:o}=l4(r.name,t);return{originalOcrItemName:r.name,ocrItemIndex:n,bestMatch:a,bestMatchScore:i,allMatches:o}}),qXe="purchase_invoices",Aoe=async(e,t)=>{const r=e.name.split(".").pop(),a=`${`${t?t+"_":""}${Date.now()}.${r}`}`,{data:i,error:o}=await Me.storage.from(qXe).upload(a,e,{cacheControl:"3600",upsert:!1});if(o)throw console.error("Error uploading invoice file:",o),new Error(`Failed to upload invoice file: ${o.message}`);if(!i||!i.path)throw console.error("No path returned from storage upload"),new Error("Failed to upload invoice file: No path returned.");return i.path},koe=async e=>{const{data:t,error:r}=await Me.from("invoices").insert({supplier_id:e.supplier_id,invoice_date:e.invoice_date,total_amount:e.total_amount,status:e.status||"pending",notes:e.notes,purchase_order_id:e.purchase_order_id,invoice_url:e.file_path}).select().single();if(r)throw console.error("Error creating invoice record:",r),new Error(`Failed to create invoice record: ${r.message}`);if(!t)throw new Error("Failed to create invoice record: No data returned.");return t},zXe=()=>{const e=as(),{toast:t}=xn(),{user:r}=oi(),[n,a]=A.useState([]),[i,o]=A.useState([]),[s,l]=A.useState([]),[u,d]=A.useState(!1),[f,h]=A.useState(!1),[m,x]=A.useState(null),[g,y]=A.useState(null),_=sd({resolver:ld(tXe),defaultValues:{supplier_id:"",order_date:new Date,expected_delivery_date:null,notes:"",items:[{inventory_item_id:"",quantity_ordered:1,unit_price:0,description:""}],invoice_file:null}}),{fields:b,append:S,remove:C,update:E}=bS({control:_.control,name:"items"});A.useEffect(()=>{(async()=>{try{const[P,O]=await Promise.all([GYe(),k7()]);a(P),o(O),l(O.map(j=>({id:j.value,name:j.label})))}catch{t({variant:"destructive",title:"Error fetching data",description:"Could not load suppliers or inventory items."})}})()},[t]);const D=async B=>{if(!(r!=null&&r.id)){t({variant:"destructive",title:"Authentication Error",description:"User ID not found."});return}d(!0);try{const P=await KYe(B,r.id);if(t({title:"Purchase Order Created",description:`PO #${P.po_number} has been successfully created.`}),B.invoice_file&&m)try{t({title:"Processing Invoice",description:"Uploading invoice file..."});const O=await Aoe(B.invoice_file,P.po_number);await koe({file_path:O,purchase_order_id:P.id,supplier_id:B.supplier_id,invoice_date:m.invoice_date?new Date(m.invoice_date).toISOString().split("T")[0]:null,total_amount:m.total_amount,notes:`Invoice auto-linked from AI OCR. AI OCR Supplier: ${m.supplier_name||"N/A"}. AI OCR Date: ${m.invoice_date||"N/A"}. AI OCR Total: ${m.total_amount||"N/A"}`,file_name:B.invoice_file.name}),t({title:"Invoice Linked",description:`Invoice ${B.invoice_file.name} linked to PO #${P.po_number}.`})}catch(O){console.error("Failed to link invoice to PO:",O),t({variant:"destructive",title:"Invoice Linking Failed",description:(O==null?void 0:O.message)||"Could not link the uploaded invoice to the PO."})}e(`/purchases/${P.id}`)}catch(P){console.error("Failed to create PO:",P),t({variant:"destructive",title:"Failed to create Purchase Order",description:(P==null?void 0:P.message)||"An unexpected error occurred."})}finally{d(!1)}},T=(B,P)=>{const O=i.find(j=>j.value===P);O&&E(B,{..._.getValues(`items.${B}`),inventory_item_id:P,description:O.label})},I=async B=>{if(_.setValue("invoice_file",B,{shouldValidate:!0}),y(null),x(null),B){h(!0),t({title:"Processing Invoice",description:"Extracting data via AI, please wait..."});try{const P=new FileReader;P.readAsDataURL(B),P.onloadend=async()=>{const O=P.result,{data:j,error:G}=await Me.functions.invoke("ocr-invoice-parser",{body:{image_data_urls:[O],file_type:B.type}});if(G)throw G;const Y=j;x(Y);const re=n.map(z=>({id:z.value,name:z.label})),q=Y.supplier_name?l4(Y.supplier_name,re):null,K=(Y.items||[]).map(z=>{const{bestMatch:te,allMatches:Q,bestMatchScore:R}=l4(z.description,s);return{...z,inventoryItemId:(te==null?void 0:te.id.toString())||null,matchDetails:{originalOcrItemName:z.description,ocrItemIndex:-1,bestMatch:te,bestMatchScore:R,allMatches:Q}}});y({...Y,items:K,matchedSupplier:(q==null?void 0:q.bestMatch)||null}),t({title:"Invoice Scanned by AI",description:"Review extracted data below to pre-fill form."}),h(!1)},P.onerror=O=>{console.error("File reading error:",O),t({variant:"destructive",title:"File Error",description:"Could not read file for OCR."}),h(!1)}}catch(P){console.error("AI OCR processing failed:",P),t({variant:"destructive",title:"AI OCR Error",description:P.message||"Failed to process invoice with AI."}),h(!1)}}},L=()=>{var B;if(g){if((B=g.matchedSupplier)!=null&&B.id&&_.setValue("supplier_id",g.matchedSupplier.id.toString(),{shouldValidate:!0}),g.invoice_date)try{const P=new Date(g.invoice_date);isNaN(P.getTime())?t({variant:"destructive",title:"Invalid Date",description:"AI OCR extracted an invalid date format."}):_.setValue("order_date",P,{shouldValidate:!0})}catch{t({variant:"destructive",title:"Date Error",description:"Could not parse AI OCR date."})}g.items.length>0&&(b.forEach((P,O)=>C(O)),g.items.forEach(P=>{var O;S({inventory_item_id:P.inventoryItemId||"",description:P.inventoryItemId&&((O=i.find(j=>j.value===P.inventoryItemId))==null?void 0:O.label)||P.description,quantity_ordered:P.quantity||1,unit_price:P.unit_price||0})})),t({title:"OCR Data Applied",description:"Form has been pre-filled with data from invoice."}),y(null)}};return w("div",{className:"container mx-auto p-4",children:[c(Ca,{heading:"Create New Purchase Order",text:"Fill in the details to create a new purchase order."}),w(Dh,{..._,children:[" ",w("form",{onSubmit:_.handleSubmit(D),className:"space-y-8 mt-6",children:[w("div",{className:"my-6 p-6 border rounded-lg shadow-sm",children:[c("h3",{className:"text-xl font-semibold mb-4",children:"Upload Invoice (Optional)"}),c(Ge,{control:_.control,name:"invoice_file",render:({field:B})=>w(Pe,{children:[c(Te,{children:"Invoice Document"})," ",c(Oe,{children:c(t0,{value:B.value,onFileChange:I,accept:"image/png,image/jpeg,image/jpg,application/pdf",maxSize:5,disabled:f})}),c(Ai,{children:"Upload an invoice image (PNG, JPG) or PDF. OCR pre-fill currently only supports images."}),c(Xe,{})]})}),f&&c("p",{className:"text-sm text-muted-foreground mt-2",children:"Processing invoice..."}),g&&!f&&w("div",{className:"mt-4 p-4 border rounded-md bg-muted/50 space-y-3",children:[c("h4",{className:"text-lg font-medium",children:"Extracted Invoice Data:"}),g.matchedSupplier&&w("p",{children:["Supplier: ",g.matchedSupplier.name," (Matched by AI & Fuzzy Search)"]}),!g.matchedSupplier&&g.supplier_name&&w("p",{children:["Supplier (AI OCR): ",g.supplier_name]}),g.invoice_date&&w("p",{children:["Date: ",g.invoice_date]}),g.total_amount&&w("p",{children:["Total: ",g.total_amount]}),w("p",{className:"font-medium mt-2",children:["Items (",g.items.length,"):"]}),w("ul",{className:"list-disc pl-5 text-sm",children:[g.items.slice(0,5).map((B,P)=>{var O;return w("li",{children:[B.description," (Qty: ",B.quantity??"N/A",", Price: ",B.unit_price??"N/A",")",B.inventoryItemId&&i.find(j=>j.value===B.inventoryItemId)&&w("span",{className:"text-green-600 ml-2",children:["(Matched: ",(O=i.find(j=>j.value===B.inventoryItemId))==null?void 0:O.label,")"]}),!B.inventoryItemId&&c("span",{className:"text-orange-600 ml-2",children:"(No direct match)"})]},P)}),g.items.length>5&&c("li",{children:"...and more"})]}),c(Fe,{type:"button",onClick:L,className:"mt-3",children:"Apply OCR Data to Form"})]})]}),c(r0,{className:"my-8"}),w("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c(Ge,{control:_.control,name:"supplier_id",render:({field:B})=>w(Pe,{children:[c(Te,{children:"Supplier"}),w(zr,{onValueChange:B.onChange,defaultValue:B.value,children:[c(Oe,{children:c(Br,{children:c(Wr,{placeholder:"Select a supplier"})})}),c(Ur,{children:n.map(P=>c(wt,{value:P.value,children:P.label},P.value))})]}),c(Xe,{})]})}),c(Ge,{control:_.control,name:"order_date",render:({field:B})=>w(Pe,{className:"flex flex-col",children:[c(Te,{children:"Order Date"}),w(X1,{children:[c(Z1,{asChild:!0,children:c(Oe,{children:w(Fe,{variant:"outline",className:It("w-full pl-3 text-left font-normal",!B.value&&"text-muted-foreground"),children:[B.value?new Date(B.value).toLocaleDateString():c("span",{children:"Pick a date"}),c(vo,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),c(hg,{className:"w-auto p-0",align:"start",children:c(fg,{mode:"single",selected:B.value,onSelect:B.onChange,initialFocus:!0})})]}),c(Xe,{})]})}),c(Ge,{control:_.control,name:"expected_delivery_date",render:({field:B})=>w(Pe,{className:"flex flex-col",children:[c(Te,{children:"Expected Delivery Date (Optional)"}),w(X1,{children:[c(Z1,{asChild:!0,children:c(Oe,{children:w(Fe,{variant:"outline",className:It("w-full pl-3 text-left font-normal",!B.value&&"text-muted-foreground"),children:[B.value?new Date(B.value).toLocaleDateString():c("span",{children:"Pick a date"}),c(vo,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),c(hg,{className:"w-auto p-0",align:"start",children:c(fg,{mode:"single",selected:B.value||void 0,onSelect:B.onChange})})]}),c(Xe,{})]})})]}),c(Ge,{control:_.control,name:"notes",render:({field:B})=>w(Pe,{children:[c(Te,{children:"Notes (Optional)"}),c(Oe,{children:c(Yr,{placeholder:"Any additional notes for this purchase order",...B})}),c(Xe,{})]})}),w("div",{className:"space-y-4",children:[c(Kt,{className:"text-lg font-semibold",children:"Order Items"}),b.map((B,P)=>w("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4 border p-4 rounded-md relative",children:[c("div",{className:"md:col-span-4",children:c(Ge,{control:_.control,name:`items.${P}.inventory_item_id`,render:({field:O})=>w(Pe,{children:[c(Te,{children:"Item"}),w(zr,{onValueChange:j=>{O.onChange(j),T(P,j)},defaultValue:O.value,children:[c(Oe,{children:c(Br,{children:c(Wr,{placeholder:"Select an item"})})}),c(Ur,{children:i.map(j=>w(wt,{value:j.value,children:[j.label," ",j.category?`(${j.category})`:""]},j.value))})]}),(()=>{const j=_.getValues(`items.${P}.inventory_item_id`),G=i.find(Y=>Y.value===j);return G!=null&&G.item_code?w("p",{className:"text-xs text-muted-foreground mt-1",children:["Code: ",G.item_code]}):null})(),c(Xe,{})]})})}),c("div",{className:"md:col-span-3",children:c(Ge,{control:_.control,name:`items.${P}.description`,render:({field:O})=>w(Pe,{children:[c(Te,{children:"Description"}),c(Oe,{children:c(ot,{placeholder:"Item description",...O})}),c(Xe,{})]})})}),c("div",{className:"md:col-span-2",children:c(Ge,{control:_.control,name:`items.${P}.quantity_ordered`,render:({field:O})=>w(Pe,{children:[c(Te,{children:"Quantity"}),c(Oe,{children:c(ot,{type:"number",placeholder:"Qty",...O,onChange:j=>O.onChange(parseInt(j.target.value,10)||0)})}),c(Xe,{})]})})}),c("div",{className:"md:col-span-2",children:c(Ge,{control:_.control,name:`items.${P}.unit_price`,render:({field:O})=>w(Pe,{children:[c(Te,{children:"Unit Price"}),c(Oe,{children:c(ot,{type:"number",step:"0.01",placeholder:"Price",...O,onChange:j=>O.onChange(parseFloat(j.target.value)||0)})}),c(Xe,{})]})})}),c("div",{className:"md:col-span-1 flex items-end",children:b.length>1&&c(Fe,{type:"button",variant:"destructive",size:"icon",onClick:()=>C(P),children:c(ph,{className:"h-4 w-4"})})})]},B.id)),w(Fe,{type:"button",variant:"outline",onClick:()=>S({inventory_item_id:"",quantity_ordered:1,unit_price:0,description:""}),children:[c(Nh,{className:"mr-2 h-4 w-4"})," Add Item"]})]}),w("div",{className:"flex justify-end space-x-2",children:[c(Fe,{type:"button",variant:"outline",onClick:()=>e("/purchases"),disabled:u,children:"Cancel"}),c(Fe,{type:"submit",disabled:u,children:u?"Creating...":"Create Purchase Order"})]})]})]})]})};var bP={exports:{}},XH;function WXe(){return XH||(XH=1,function(e){var t=function(r){var n=Object.prototype,a=n.hasOwnProperty,i=Object.defineProperty||function(z,te,Q){z[te]=Q.value},o,s=typeof Symbol=="function"?Symbol:{},l=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",d=s.toStringTag||"@@toStringTag";function f(z,te,Q){return Object.defineProperty(z,te,{value:Q,enumerable:!0,configurable:!0,writable:!0}),z[te]}try{f({},"")}catch{f=function(te,Q,R){return te[Q]=R}}function h(z,te,Q,R){var H=te&&te.prototype instanceof S?te:S,X=Object.create(H.prototype),Z=new re(R||[]);return i(X,"_invoke",{value:O(z,Q,Z)}),X}r.wrap=h;function m(z,te,Q){try{return{type:"normal",arg:z.call(te,Q)}}catch(R){return{type:"throw",arg:R}}}var x="suspendedStart",g="suspendedYield",y="executing",_="completed",b={};function S(){}function C(){}function E(){}var D={};f(D,l,function(){return this});var T=Object.getPrototypeOf,I=T&&T(T(q([])));I&&I!==n&&a.call(I,l)&&(D=I);var L=E.prototype=S.prototype=Object.create(D);C.prototype=E,i(L,"constructor",{value:E,configurable:!0}),i(E,"constructor",{value:C,configurable:!0}),C.displayName=f(E,d,"GeneratorFunction");function B(z){["next","throw","return"].forEach(function(te){f(z,te,function(Q){return this._invoke(te,Q)})})}r.isGeneratorFunction=function(z){var te=typeof z=="function"&&z.constructor;return te?te===C||(te.displayName||te.name)==="GeneratorFunction":!1},r.mark=function(z){return Object.setPrototypeOf?Object.setPrototypeOf(z,E):(z.__proto__=E,f(z,d,"GeneratorFunction")),z.prototype=Object.create(L),z},r.awrap=function(z){return{__await:z}};function P(z,te){function Q(X,Z,ie,le){var pe=m(z[X],z,Z);if(pe.type==="throw")le(pe.arg);else{var J=pe.arg,me=J.value;return me&&typeof me=="object"&&a.call(me,"__await")?te.resolve(me.__await).then(function(ve){Q("next",ve,ie,le)},function(ve){Q("throw",ve,ie,le)}):te.resolve(me).then(function(ve){J.value=ve,ie(J)},function(ve){return Q("throw",ve,ie,le)})}}var R;function H(X,Z){function ie(){return new te(function(le,pe){Q(X,Z,le,pe)})}return R=R?R.then(ie,ie):ie()}i(this,"_invoke",{value:H})}B(P.prototype),f(P.prototype,u,function(){return this}),r.AsyncIterator=P,r.async=function(z,te,Q,R,H){H===void 0&&(H=Promise);var X=new P(h(z,te,Q,R),H);return r.isGeneratorFunction(te)?X:X.next().then(function(Z){return Z.done?Z.value:X.next()})};function O(z,te,Q){var R=x;return function(X,Z){if(R===y)throw new Error("Generator is already running");if(R===_){if(X==="throw")throw Z;return K()}for(Q.method=X,Q.arg=Z;;){var ie=Q.delegate;if(ie){var le=j(ie,Q);if(le){if(le===b)continue;return le}}if(Q.method==="next")Q.sent=Q._sent=Q.arg;else if(Q.method==="throw"){if(R===x)throw R=_,Q.arg;Q.dispatchException(Q.arg)}else Q.method==="return"&&Q.abrupt("return",Q.arg);R=y;var pe=m(z,te,Q);if(pe.type==="normal"){if(R=Q.done?_:g,pe.arg===b)continue;return{value:pe.arg,done:Q.done}}else pe.type==="throw"&&(R=_,Q.method="throw",Q.arg=pe.arg)}}}function j(z,te){var Q=te.method,R=z.iterator[Q];if(R===o)return te.delegate=null,Q==="throw"&&z.iterator.return&&(te.method="return",te.arg=o,j(z,te),te.method==="throw")||Q!=="return"&&(te.method="throw",te.arg=new TypeError("The iterator does not provide a '"+Q+"' method")),b;var H=m(R,z.iterator,te.arg);if(H.type==="throw")return te.method="throw",te.arg=H.arg,te.delegate=null,b;var X=H.arg;if(!X)return te.method="throw",te.arg=new TypeError("iterator result is not an object"),te.delegate=null,b;if(X.done)te[z.resultName]=X.value,te.next=z.nextLoc,te.method!=="return"&&(te.method="next",te.arg=o);else return X;return te.delegate=null,b}B(L),f(L,d,"Generator"),f(L,l,function(){return this}),f(L,"toString",function(){return"[object Generator]"});function G(z){var te={tryLoc:z[0]};1 in z&&(te.catchLoc=z[1]),2 in z&&(te.finallyLoc=z[2],te.afterLoc=z[3]),this.tryEntries.push(te)}function Y(z){var te=z.completion||{};te.type="normal",delete te.arg,z.completion=te}function re(z){this.tryEntries=[{tryLoc:"root"}],z.forEach(G,this),this.reset(!0)}r.keys=function(z){var te=Object(z),Q=[];for(var R in te)Q.push(R);return Q.reverse(),function H(){for(;Q.length;){var X=Q.pop();if(X in te)return H.value=X,H.done=!1,H}return H.done=!0,H}};function q(z){if(z){var te=z[l];if(te)return te.call(z);if(typeof z.next=="function")return z;if(!isNaN(z.length)){var Q=-1,R=function H(){for(;++Q<z.length;)if(a.call(z,Q))return H.value=z[Q],H.done=!1,H;return H.value=o,H.done=!0,H};return R.next=R}}return{next:K}}r.values=q;function K(){return{value:o,done:!0}}return re.prototype={constructor:re,reset:function(z){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(Y),!z)for(var te in this)te.charAt(0)==="t"&&a.call(this,te)&&!isNaN(+te.slice(1))&&(this[te]=o)},stop:function(){this.done=!0;var z=this.tryEntries[0],te=z.completion;if(te.type==="throw")throw te.arg;return this.rval},dispatchException:function(z){if(this.done)throw z;var te=this;function Q(le,pe){return X.type="throw",X.arg=z,te.next=le,pe&&(te.method="next",te.arg=o),!!pe}for(var R=this.tryEntries.length-1;R>=0;--R){var H=this.tryEntries[R],X=H.completion;if(H.tryLoc==="root")return Q("end");if(H.tryLoc<=this.prev){var Z=a.call(H,"catchLoc"),ie=a.call(H,"finallyLoc");if(Z&&ie){if(this.prev<H.catchLoc)return Q(H.catchLoc,!0);if(this.prev<H.finallyLoc)return Q(H.finallyLoc)}else if(Z){if(this.prev<H.catchLoc)return Q(H.catchLoc,!0)}else if(ie){if(this.prev<H.finallyLoc)return Q(H.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(z,te){for(var Q=this.tryEntries.length-1;Q>=0;--Q){var R=this.tryEntries[Q];if(R.tryLoc<=this.prev&&a.call(R,"finallyLoc")&&this.prev<R.finallyLoc){var H=R;break}}H&&(z==="break"||z==="continue")&&H.tryLoc<=te&&te<=H.finallyLoc&&(H=null);var X=H?H.completion:{};return X.type=z,X.arg=te,H?(this.method="next",this.next=H.finallyLoc,b):this.complete(X)},complete:function(z,te){if(z.type==="throw")throw z.arg;return z.type==="break"||z.type==="continue"?this.next=z.arg:z.type==="return"?(this.rval=this.arg=z.arg,this.method="return",this.next="end"):z.type==="normal"&&te&&(this.next=te),b},finish:function(z){for(var te=this.tryEntries.length-1;te>=0;--te){var Q=this.tryEntries[te];if(Q.finallyLoc===z)return this.complete(Q.completion,Q.afterLoc),Y(Q),b}},catch:function(z){for(var te=this.tryEntries.length-1;te>=0;--te){var Q=this.tryEntries[te];if(Q.tryLoc===z){var R=Q.completion;if(R.type==="throw"){var H=R.arg;Y(Q)}return H}}throw new Error("illegal catch attempt")},delegateYield:function(z,te,Q){return this.delegate={iterator:q(z),resultName:te,nextLoc:Q},this.method==="next"&&(this.arg=o),b}},r}(e.exports);try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}(bP)),bP.exports}var SP,ZH;function E7(){return ZH||(ZH=1,SP=(e,t)=>`${e}-${t}-${Math.random().toString(16).slice(3,8)}`),SP}var AP,JH;function Noe(){if(JH)return AP;JH=1;const e=E7();let t=0;return AP=({id:r,action:n,payload:a={}})=>{let i=r;return typeof i>"u"&&(i=e("Job",t),t+=1),{id:i,action:n,payload:a}},AP}var f2={},QH;function C7(){if(QH)return f2;QH=1;let e=!1;return f2.logging=e,f2.setLogging=t=>{e=t},f2.log=(...t)=>e?console.log.apply(this,t):null,f2}var kP,eV;function HXe(){if(eV)return kP;eV=1;const e=Noe(),{log:t}=C7(),r=E7();let n=0;return kP=()=>{const a=r("Scheduler",n),i={},o={};let s=[];n+=1;const l=()=>s.length,u=()=>Object.keys(i).length,d=()=>{if(s.length!==0){const g=Object.keys(i);for(let y=0;y<g.length;y+=1)if(typeof o[g[y]]>"u"){s[0](i[g[y]]);break}}},f=(g,y)=>new Promise((_,b)=>{const S=e({action:g,payload:y});s.push(async C=>{s.shift(),o[C.id]=S;try{_(await C[g].apply(this,[...y,S.id]))}catch(E){b(E)}finally{delete o[C.id],d()}}),t(`[${a}]: Add ${S.id} to JobQueue`),t(`[${a}]: JobQueue length=${s.length}`),d()});return{addWorker:g=>(i[g.id]=g,t(`[${a}]: Add ${g.id}`),t(`[${a}]: Number of workers=${u()}`),d(),g.id),addJob:async(g,...y)=>{if(u()===0)throw Error(`[${a}]: You need to have at least one worker before adding jobs`);return f(g,y)},terminate:async()=>{Object.keys(i).forEach(async g=>{await i[g].terminate()}),s=[]},getQueueLen:l,getNumWorkers:u}},kP}function VXe(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var NP,tV;function GXe(){return tV||(tV=1,NP=e=>{const t={};return typeof WorkerGlobalScope<"u"?t.type="webworker":typeof document=="object"?t.type="browser":typeof process=="object"&&typeof VXe=="function"&&(t.type="node"),typeof e>"u"?t:t[e]}),NP}var EP,rV;function KXe(){if(rV)return EP;rV=1;const t=GXe()("type")==="browser"?r=>new URL(r,window.location.href).href:r=>r;return EP=r=>{const n={...r};return["corePath","workerPath","langPath"].forEach(a=>{r[a]&&(n[a]=t(n[a]))}),n},EP}var CP,nV;function Eoe(){return nV||(nV=1,CP={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3}),CP}const YXe="6.0.1",XXe={version:YXe};var TP,aV;function ZXe(){return aV||(aV=1,TP={workerBlobURL:!0,logger:()=>{}}),TP}var PP,iV;function JXe(){if(iV)return PP;iV=1;const e=XXe.version;return PP={...ZXe(),workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${e}/dist/worker.min.js`},PP}var OP,oV;function QXe(){return oV||(oV=1,OP=({workerPath:e,workerBlobURL:t})=>{let r;if(Blob&&URL&&t){const n=new Blob([`importScripts("${e}");`],{type:"application/javascript"});r=new Worker(URL.createObjectURL(n))}else r=new Worker(e);return r}),OP}var DP,sV;function eZe(){return sV||(sV=1,DP=e=>{e.terminate()}),DP}var IP,lV;function tZe(){return lV||(lV=1,IP=(e,t)=>{e.onmessage=({data:r})=>{t(r)}}),IP}var RP,cV;function rZe(){return cV||(cV=1,RP=async(e,t)=>{e.postMessage(t)}),RP}var MP,uV;function nZe(){if(uV)return MP;uV=1;const e=r=>new Promise((n,a)=>{const i=new FileReader;i.onload=()=>{n(i.result)},i.onerror=({target:{error:{code:o}}})=>{a(Error(`File could not be read! Code=${o}`))},i.readAsArrayBuffer(r)}),t=async r=>{let n=r;if(typeof r>"u")return"undefined";if(typeof r=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(r)?n=atob(r.split(",")[1]).split("").map(a=>a.charCodeAt(0)):n=await(await fetch(r)).arrayBuffer();else if(typeof HTMLElement<"u"&&r instanceof HTMLElement)r.tagName==="IMG"&&(n=await t(r.src)),r.tagName==="VIDEO"&&(n=await t(r.poster)),r.tagName==="CANVAS"&&await new Promise(a=>{r.toBlob(async i=>{n=await e(i),a()})});else if(typeof OffscreenCanvas<"u"&&r instanceof OffscreenCanvas){const a=await r.convertToBlob();n=await e(a)}else(r instanceof File||r instanceof Blob)&&(n=await e(r));return new Uint8Array(n)};return MP=t,MP}var FP,dV;function aZe(){if(dV)return FP;dV=1;const e=JXe(),t=QXe(),r=eZe(),n=tZe(),a=rZe(),i=nZe();return FP={defaultOptions:e,spawnWorker:t,terminateWorker:r,onMessage:n,send:a,loadImage:i},FP}var LP,fV;function Coe(){if(fV)return LP;fV=1;const e=KXe(),t=Noe(),{log:r}=C7(),n=E7(),a=Eoe(),{defaultOptions:i,spawnWorker:o,terminateWorker:s,onMessage:l,loadImage:u,send:d}=aZe();let f=0;return LP=async(h="eng",m=a.LSTM_ONLY,x={},g={})=>{const y=n("Worker",f),{logger:_,errorHandler:b,...S}=e({...i,...x}),C={},E=typeof h=="string"?h.split("+"):h;let D=m,T=g;const I=[a.DEFAULT,a.LSTM_ONLY].includes(m)&&!S.legacyCore;let L,B;const P=new Promise((J,me)=>{B=J,L=me}),O=J=>{L(J.message)};let j=o(S);j.onerror=O,f+=1;const G=({id:J,action:me,payload:ve})=>new Promise((ae,Ue)=>{r(`[${y}]: Start ${J}, action=${me}`);const He=`${me}-${J}`;C[He]={resolve:ae,reject:Ue},d(j,{workerId:y,jobId:J,action:me,payload:ve})}),Y=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),re=J=>G(t({id:J,action:"load",payload:{options:{lstmOnly:I,corePath:S.corePath,logging:S.logging}}})),q=(J,me,ve)=>G(t({id:ve,action:"FS",payload:{method:"writeFile",args:[J,me]}})),K=(J,me)=>G(t({id:me,action:"FS",payload:{method:"readFile",args:[J,{encoding:"utf8"}]}})),z=(J,me)=>G(t({id:me,action:"FS",payload:{method:"unlink",args:[J]}})),te=(J,me,ve)=>G(t({id:ve,action:"FS",payload:{method:J,args:me}})),Q=(J,me)=>G(t({id:me,action:"loadLanguage",payload:{langs:J,options:{langPath:S.langPath,dataPath:S.dataPath,cachePath:S.cachePath,cacheMethod:S.cacheMethod,gzip:S.gzip,lstmOnly:[a.DEFAULT,a.LSTM_ONLY].includes(D)&&!S.legacyLang}}})),R=(J,me,ve,ae)=>G(t({id:ae,action:"initialize",payload:{langs:J,oem:me,config:ve}})),H=(J="eng",me,ve,ae)=>{if(I&&[a.TESSERACT_ONLY,a.TESSERACT_LSTM_COMBINED].includes(me))throw Error("Legacy model requested but code missing.");const Ue=me||D;D=Ue;const He=ve||T;T=He;const he=(typeof J=="string"?J.split("+"):J).filter(Ze=>!E.includes(Ze));return E.push(...he),he.length>0?Q(he,ae).then(()=>R(J,Ue,He,ae)):R(J,Ue,He,ae)},X=(J={},me)=>G(t({id:me,action:"setParameters",payload:{params:J}})),Z=async(J,me={},ve={text:!0},ae)=>G(t({id:ae,action:"recognize",payload:{image:await u(J),options:me,output:ve}})),ie=async(J,me)=>{if(I)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return G(t({id:me,action:"detect",payload:{image:await u(J)}}))},le=async()=>(j!==null&&(s(j),j=null),Promise.resolve());l(j,({workerId:J,jobId:me,status:ve,action:ae,data:Ue})=>{const He=`${ae}-${me}`;if(ve==="resolve")r(`[${J}]: Complete ${me}`),C[He].resolve({jobId:me,data:Ue}),delete C[He];else if(ve==="reject")if(C[He].reject(Ue),delete C[He],ae==="load"&&L(Ue),b)b(Ue);else throw Error(Ue);else ve==="progress"&&_({...Ue,userJobId:me})});const pe={id:y,worker:j,load:Y,writeText:q,readText:K,removeFile:z,FS:te,reinitialize:H,setParameters:X,recognize:Z,detect:ie,terminate:le};return re().then(()=>Q(h)).then(()=>R(h,m,g)).then(()=>B(pe)).catch(()=>{}),P},LP}var jP,hV;function iZe(){if(hV)return jP;hV=1;const e=Coe();return jP={recognize:async(n,a,i)=>{const o=await e(a,1,i);return o.recognize(n).finally(async()=>{await o.terminate()})},detect:async(n,a)=>{const i=await e("osd",0,a);return i.detect(n).finally(async()=>{await i.terminate()})}},jP}var $P,pV;function oZe(){return pV||(pV=1,$P={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"}),$P}var BP,mV;function sZe(){return mV||(mV=1,BP={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"}),BP}var UP,gV;function lZe(){if(gV)return UP;gV=1,WXe();const e=HXe(),t=Coe(),r=iZe(),n=oZe(),a=Eoe(),i=sZe(),{setLogging:o}=C7();return UP={languages:n,OEM:a,PSM:i,createScheduler:e,createWorker:t,setLogging:o,...r},UP}var cZe=lZe();let Fu=null,Cm=!1;const uZe=async()=>{if(Fu)return Fu;if(Cm)return new Promise((e,t)=>{const r=setInterval(()=>{Fu?(clearInterval(r),e(Fu)):Cm||(clearInterval(r),t(new Error("Tesseract worker initialization failed.")))},100)});Cm=!0;try{return Fu=await cZe.createWorker("eng",void 0,{logger:t=>console.log(t)}),Cm=!1,Fu}catch(e){throw console.error("Failed to initialize Tesseract worker:",e),Cm=!1,e}},vV=async e=>{if(e.type==="application/pdf")throw console.warn("Attempted OCR on PDF file. Client-side Tesseract.js does not support PDF directly."),new Error("PDF processing via client-side OCR is not supported. Please use an image file (PNG, JPG) or implement server-side PDF OCR.");const t=await uZe();if(!t)throw new Error("Tesseract worker not available.");try{const{data:{text:r}}=await t.recognize(e);return r}catch(r){console.error("Error during OCR processing:",r);const n=Fu;if(Fu=null,Cm=!1,n)try{await n.terminate()}catch(a){console.error("Error terminating worker:",a)}throw new Error("Failed to extract text using OCR.")}},dZe=async()=>{if(Fu){const e=Fu;Fu=null,Cm=!1;try{await e.terminate(),console.log("Tesseract worker terminated.")}catch(t){console.error("Error terminating Tesseract worker:",t)}}},yV=e=>{var u;const t=e.split(`
`).map(d=>d.trim()).filter(d=>d!==""),r={items:[]},n=[/\b(\d{1,2}[-/.\s]\d{1,2}[-/.\s]\d{2,4})\b/,/\b(\d{4}[-/.\s]\d{1,2}[-/.\s]\d{1,2})\b/,/\b((?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)[a-z]*[.\s,]*\d{1,2}[,\s]*\d{2,4})\b/i],a=["supplier","vendor","from:","invoice from","sold by"],i=["total","grand total","amount due","total amount","balance due"];for(const d of t){for(const f of a)if(d.toLowerCase().includes(f)){let h=(u=d.toLowerCase().split(f)[1])==null?void 0:u.trim();if(h!=null&&h.startsWith(":")&&(h=h.substring(1).trim()),h&&h.length>2){r.supplier=h.split(",")[0].trim();break}}if(r.supplier)break}if(!r.supplier&&t.length>0){const d=t[0];!n.some(f=>f.test(d))&&!d.toLowerCase().includes("invoice")&&(/\b(ltd|inc|llc|co)\b/i.test(d)||/^[a-zA-Z\s&]+$/.test(d.split(",")[0].trim()))&&(r.supplier=d.split(",")[0].trim())}for(const d of t){for(const f of n){const h=d.match(f);if(h&&h[1]){r.date=h[1];break}}if(r.date)break}let o=[];t.forEach(d=>{for(const f of i)if(d.toLowerCase().includes(f)){const h=d.match(/[\d,]+\.?\d*/g);h&&h.forEach(m=>{o.push({value:parseFloat(m.replace(/,/g,"")),line:d})})}}),o.length>0&&(o.sort((d,f)=>f.value-d.value),r.totalAmount=o[0].value);const s=["description","item","product","service","qty","quantity","price","unit price","amount","subtotal"],l=/([\d,]*\.?\d+)/g;return t.forEach((d,f)=>{const m=d.toLowerCase().split(/\s+/);if(m.filter(y=>s.includes(y)).length/m.length>.4&&m.length<6||/^[\d\s.,$\-+()%]+$/.test(d.trim())||d.length<10)return;const g=Array.from(d.matchAll(l));if(g.length>=2){const y=g[g.length-1],_=g[g.length-2],b=y[0].replace(/,/g,""),S=_[0].replace(/,/g,""),C=parseFloat(b),E=parseInt(S,10);if(!isNaN(C)&&!isNaN(E)&&E.toString()===S&&!S.includes(".")){const D=_.index;if(D!==void 0&&D>0){let T=d.substring(0,D).trim().replace(/[.,:;]$/,"").trim();T.length>2&&r.items.push({name:T,quantity:E,price:C})}}}}),r.items.length===0&&t.length>0&&console.warn("OCR parsing (old logic) did not find structured item lines. Raw lines:",t),console.log("Parsed OCR Data (Old Logic - Restored):",r),r},fZe=async()=>{console.log("Attempting to fetch inventory items for select/search...");const{data:e,error:t}=await Me.from("inventory_items").select("id, item_name, category, is_batched").order("item_name",{ascending:!0});if(t)throw console.error("Error fetching inventory items for select:",t),new Error(`Failed to fetch inventory items: ${t.message}`);return e?e.map(r=>({value:r.id,label:r.item_name,category:r.category,is_batched:r.is_batched??!1})):(console.warn("No inventory items found for select."),[])},Toe=["application/pdf","image/png","image/jpeg","image/jpg"],Poe=5*1024*1024,hZe=Le.object({quantity_received_now:Le.number().min(1,"Quantity must be at least 1"),batch_number:Le.string().optional(),expiry_date:Le.date().nullable().optional(),invoice_file:Le.custom(e=>e instanceof File||e===null||e===void 0,"Invalid file format").refine(e=>!e||e.size<=Poe,"File size should be less than 5MB.").refine(e=>!e||Toe.includes(e.type),"Only .pdf, .png, .jpg, .jpeg files are accepted.").optional().nullable()}),pZe=({poItem:e,purchaseOrderId:t,poNumber:r,inventoryItemInfo:n,remainingQuantity:a,onReceiveSuccess:i,children:o})=>{const{toast:s}=xn(),{user:l}=oi(),[u,d]=A.useState(!1),[f,h]=A.useState(!1),[m,x]=A.useState(!1),[g,y]=A.useState(null),[_,b]=A.useState(null),[S,C]=A.useState([]),[E,D]=A.useState(!1),T=(n==null?void 0:n.is_batched)??!1,I=sd({resolver:ld(hZe.refine(B=>B.quantity_received_now<=a,{message:`Quantity cannot exceed remaining quantity (${a})`,path:["quantity_received_now"]}).refine(B=>!T||B.batch_number&&B.batch_number.trim()!=="",{message:"Batch number is required for batched items.",path:["batch_number"]}).refine(B=>!T||B.expiry_date,{message:"Expiry date is required for batched items.",path:["expiry_date"]})),defaultValues:{quantity_received_now:a>0?1:0,batch_number:"",expiry_date:null,invoice_file:null}});A.useEffect(()=>{(async()=>{if(u&&S.length===0){D(!0);try{const P=await fZe();C(P.map(O=>({id:O.value,name:O.label})))}catch(P){console.error("Failed to fetch inventory items for search:",P),s({variant:"destructive",title:"Error",description:"Could not load inventory items for matching."})}finally{D(!1)}}})(),u?(I.reset({quantity_received_now:a>0?1:0,batch_number:"",expiry_date:null,invoice_file:null}),y(null),b(null)):m||dZe()},[u,a,I,m,s]);const L=async B=>{if(h(!0),!l||!l.id){s({variant:"destructive",title:"Authentication Error",description:"User ID not found. Cannot record receipt."}),h(!1);return}try{let P=e.unit_price;if(_&&_.items){const j=_.items.find(G=>G.inventoryItemId===e.inventory_item_id);j&&(P=j.price,s({title:"Price Note",description:`Using confirmed invoice price (${P}) for this receipt of "${e.description}".`,duration:4e3}))}await YYe({p_po_item_id:e.id,p_quantity_received:B.quantity_received_now,p_batch_number:B.batch_number||null,p_expiry_date:B.expiry_date?B.expiry_date.toISOString().split("T")[0]:null,p_purchase_price:P,p_received_by_user_id:l.id});let O=null;if(B.invoice_file&&!_){x(!0),s({title:"Processing Invoice",description:"Extracting text from invoice, please wait..."});try{const j=await vV(B.invoice_file),G=yV(j);y(G);const Y=YH(G.items,S),re=G.items.map((q,K)=>{var te;const z=Y.find(Q=>Q.ocrItemIndex===K);return{...q,inventoryItemId:((te=z==null?void 0:z.bestMatch)==null?void 0:te.id.toString())||null,matchDetails:z}});b({...G,items:re}),console.log("OCR Parsed Data:",G),console.log("Fuzzy Matched Items:",re),s({title:"Invoice Processed",description:"Review extracted and matched data below. Confirm to proceed."}),x(!1),h(!1);return}catch(j){console.error("OCR Error or Matching Error:",j),s({variant:"destructive",title:"Processing Failed",description:j.message}),x(!1),h(!1);return}}if(_&&B.invoice_file){console.log("Confirmed OCR Data, attempting to upload invoice and create record:",_),s({title:"Processing Confirmed Invoice",description:"Uploading file and creating invoice record..."});try{const j=await Aoe(B.invoice_file,r);let G=null;try{const Y=await poe(t);Y?G=Y.supplier_id:s({variant:"destructive",title:"Warning",description:"Could not fetch PO details to link supplier to invoice. Supplier will be unlinked."})}catch(Y){console.error("Failed to fetch PO for supplier ID:",Y),s({variant:"destructive",title:"Warning",description:"Error fetching PO details for invoice supplier linking."})}await koe({file_path:j,purchase_order_id:t,supplier_id:G,invoice_date:_.date?new Date(_.date).toISOString().split("T")[0]:null,total_amount:_.totalAmount,notes:`Invoice uploaded for PO: ${r}. OCR Supplier: ${_.supplier||"N/A"}. OCR Date: ${_.date||"N/A"}. OCR Total: ${_.totalAmount||"N/A"}`}),s({title:"Invoice Saved",description:`Invoice for PO ${r} processed and saved.`})}catch(j){console.error("Failed to upload invoice or create record:",j),s({variant:"destructive",title:"Invoice Processing Failed",description:j.message||"Could not save the invoice details."})}}s({title:"Success",description:`${B.quantity_received_now} units of "${e.description}" received.`}),i(),d(!1)}catch(P){console.error("Failed to receive items or process invoice:",P),s({variant:"destructive",title:"Error Receiving Items",description:(P==null?void 0:P.message)||"An unexpected error occurred while recording received items."})}finally{h(!1)}};return w(ei,{open:u,onOpenChange:d,children:[c(Hw,{asChild:!0,children:o}),w(Ma,{className:"sm:max-w-[425px]",children:[w(Fa,{children:[w(La,{children:["Receive Item: ",e.description]}),w(xo,{children:["Record quantity received for this item. Ordered: ",e.quantity_ordered,", Received: ",e.quantity_received,", Remaining: ",a,"."]})]}),c(Dh,{...I,children:w("form",{onSubmit:I.handleSubmit(L),className:"space-y-4",children:[c(Ge,{control:I.control,name:"quantity_received_now",render:({field:B})=>w(Pe,{children:[c(Te,{children:"Quantity Receiving Now"}),c(Oe,{children:c(ot,{type:"number",min:"1",max:a,...B,onChange:P=>B.onChange(parseInt(P.target.value,10)||0)})}),c(Xe,{})]})}),c(Ge,{control:I.control,name:"invoice_file",render:({field:B})=>w(Pe,{children:[c(Te,{children:"Upload Invoice (Optional)"}),c(Oe,{children:c(t0,{value:B.value,onFileChange:async P=>{if(B.onChange(P),b(null),y(null),P){x(!0),s({title:"Scanning Invoice",description:"Extracting text, please wait..."});try{const O=await vV(P),j=yV(O);y(j);const G=YH(j.items,S),Y=j.items.map((K,z)=>{var Q;const te=G.find(R=>R.ocrItemIndex===z);return{...K,inventoryItemId:((Q=te==null?void 0:te.bestMatch)==null?void 0:Q.id.toString())||null,matchDetails:te}});b({...j,items:Y});const re=e.inventory_item_id,q=Y.find(K=>K.inventoryItemId===re);if(q&&Y.filter(K=>K.inventoryItemId===re).length===1){const K=q.quantity,z=Math.min(K,a);z>0&&I.getValues("quantity_received_now")!==z&&(I.setValue("quantity_received_now",z,{shouldValidate:!0}),s({title:"Quantity Pre-filled",description:`Quantity for "${e.description}" pre-filled from invoice.`}))}console.log("Live OCR Parsed Data:",j),console.log("Fuzzy Matched Items on change:",Y),s({title:"Invoice Scanned",description:"Review extracted and matched data below."})}catch(O){console.error("OCR Error on change:",O),s({variant:"destructive",title:"OCR Failed",description:O.message}),b(null)}finally{x(!1)}}else b(null),y(null)},accept:Toe.join(","),maxSize:Poe,disabled:m||f})}),c(Xe,{})]})}),m&&c("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Processing invoice, please wait..."}),_&&!m&&w("div",{className:"space-y-4 p-4 border rounded-md mt-4",children:[c("h4",{className:"text-md font-semibold mb-2",children:"Confirm or Edit Extracted Invoice Data"}),w(Pe,{children:[c(Te,{children:"Invoice Supplier"}),c(Oe,{children:c(ot,{value:_.supplier||"",onChange:B=>b(P=>P?{...P,supplier:B.target.value}:null),placeholder:"Supplier from invoice"})})]}),w(Pe,{children:[c(Te,{children:"Invoice Date"}),c(Oe,{children:c(ot,{value:_.date||"",onChange:B=>b(P=>P?{...P,date:B.target.value}:null),placeholder:"Date from invoice (e.g., YYYY-MM-DD)"})})]}),w(Pe,{children:[c(Te,{children:"Invoice Total Amount"}),c(Oe,{children:c(ot,{type:"number",value:_.totalAmount||"",onChange:B=>b(P=>P?{...P,totalAmount:parseFloat(B.target.value)||void 0}:null),placeholder:"Total amount from invoice"})})]}),w("div",{className:"space-y-2",children:[c(Te,{children:"Invoice Items (Matched)"}),E&&c("p",{className:"text-sm text-muted-foreground",children:"Loading inventory for matching..."}),!E&&_.items.map((B,P)=>{var O;return w("div",{className:"p-3 border rounded-md space-y-2 bg-slate-50 dark:bg-slate-800",children:[w(Pe,{children:[c(Te,{className:"text-xs",children:"OCR Item Name"}),c(ot,{value:B.name,onChange:j=>{const G=_.items.map((Y,re)=>re===P?{...Y,name:j.target.value}:Y);b(Y=>Y?{...Y,items:G}:null)},placeholder:"Item Name from Invoice",className:"text-sm"})]}),w("div",{className:"grid grid-cols-2 gap-2",children:[w(Pe,{children:[c(Te,{className:"text-xs",children:"Qty"}),c(ot,{type:"number",value:B.quantity,onChange:j=>{const G=_.items.map((Y,re)=>re===P?{...Y,quantity:parseInt(j.target.value)||0}:Y);b(Y=>Y?{...Y,items:G}:null)},placeholder:"Qty",className:"text-sm"})]}),w(Pe,{children:[c(Te,{className:"text-xs",children:"Price (Unit)"}),c(ot,{type:"number",value:B.price,onChange:j=>{const G=_.items.map((Y,re)=>re===P?{...Y,price:parseFloat(j.target.value)||0}:Y);b(Y=>Y?{...Y,items:G}:null)},placeholder:"Price",className:"text-sm"})]})]}),w(Pe,{children:[c(Te,{className:"text-xs",children:"Match to Inventory Item"}),w(zr,{value:B.inventoryItemId||"",onValueChange:j=>{const G=[..._.items];G[P].inventoryItemId=j==="NO_MATCH"?null:j,b(Y=>Y?{...Y,items:G}:null)},children:[c(Br,{className:"text-sm",children:c(Wr,{placeholder:"Select inventory match..."})}),w(Ur,{children:[((O=B.matchDetails)==null?void 0:O.bestMatch)&&w(wt,{value:B.matchDetails.bestMatch.id.toString(),children:["Best: ",B.matchDetails.bestMatch.name]}),S.filter(j=>{var G,Y;return j.id!==((Y=(G=B.matchDetails)==null?void 0:G.bestMatch)==null?void 0:Y.id)}).map(j=>c(wt,{value:j.id.toString(),children:j.name},j.id)),c(wt,{value:"NO_MATCH",children:"No Match / Manual Entry"})]})]}),B.matchDetails&&B.matchDetails.allMatches.length>1&&!B.inventoryItemId&&w("p",{className:"text-xs text-muted-foreground mt-1",children:["Other possible matches: ",B.matchDetails.allMatches.slice(1,3).map(j=>j.item.name).join(", ")]})]})]},P)}),_.items.length===0&&c("p",{className:"text-xs text-muted-foreground",children:"No items found or parsed from invoice."})]})]}),T&&!_&&w(Dr,{children:[c(Ge,{control:I.control,name:"batch_number",render:({field:B})=>w(Pe,{children:[c(Te,{children:"Batch Number"}),c(Oe,{children:c(ot,{placeholder:"Enter batch number",...B})}),c(Xe,{})]})}),c(Ge,{control:I.control,name:"expiry_date",render:({field:B})=>w(Pe,{className:"flex flex-col",children:[c(Te,{children:"Expiry Date"}),w(X1,{children:[c(Z1,{asChild:!0,children:c(Oe,{children:w(Fe,{variant:"outline",className:It("w-full pl-3 text-left font-normal",!B.value&&"text-muted-foreground"),children:[B.value?new Date(B.value).toLocaleDateString():c("span",{children:"Pick expiry date"}),c(vo,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),c(hg,{className:"w-auto p-0",align:"start",children:c(fg,{mode:"single",selected:B.value||void 0,onSelect:B.onChange,initialFocus:!0})})]}),c(Xe,{})]})})]}),w(lo,{children:[c(k3,{asChild:!0,children:c(Fe,{type:"button",variant:"outline",disabled:f||m,children:"Cancel"})}),c(Fe,{type:"submit",disabled:f||m||a<=0,children:f?"Saving Receipt...":m?"Processing Invoice...":"Confirm Receipt"})]})]})})]})]})},mZe=()=>{var G;const{id:e}=ey(),t=as(),{toast:r}=xn(),{user:n}=oi(),[a,i]=A.useState(null),[o,s]=A.useState([]),[l,u]=A.useState([]),[d,f]=A.useState(!0),[h,m]=A.useState(!1),[x,g]=A.useState(!1),[y,_]=A.useState(!1),[b,S]=A.useState(null),C=A.useCallback(async Y=>{f(!0),S(null);try{const[re,q,K]=await Promise.all([poe(Y),k7(),zH(Y)]);re?i(re):(S("Purchase order not found."),i(null)),s(q),u(K)}catch(re){console.error(re),S("Failed to fetch purchase order details or related data."),r({variant:"destructive",title:"Error",description:"Could not load purchase order details, items, or invoices."})}finally{f(!1)}},[r]);A.useEffect(()=>{e?C(e):(S("Purchase Order ID is missing."),f(!1))},[e,C]);const E=()=>{e&&(r({title:"Item Received",description:"Refreshing PO details..."}),C(e))},D=async Y=>{var q;const re=(q=Y.target.files)==null?void 0:q[0];if(!re||!e||!(a!=null&&a.po_number)||!(n!=null&&n.id)){r({variant:"destructive",title:"Upload Error",description:"Missing required information for upload."});return}if(!["application/pdf","image/png","image/jpeg"].includes(re.type)){r({variant:"destructive",title:"Invalid File Type",description:"Please upload a PDF, PNG, or JPG file."});return}m(!0);try{await XYe(e,a.po_number,re,n.id),r({title:"Success",description:`Invoice "${re.name}" uploaded.`});const K=await zH(e);u(K)}catch(K){console.error("Invoice upload failed:",K),r({variant:"destructive",title:"Upload Failed",description:(K==null?void 0:K.message)||"Could not upload invoice."})}finally{m(!1),Y.target.value=""}},T=async()=>{if(!(!e||!a)){g(!0);try{console.log(`Simulating approval for PO ID: ${e}`),i(Y=>Y?{...Y,status:"Approved"}:null),r({title:"PO Approved",description:`Purchase Order ${a.po_number} has been approved.`})}catch(Y){console.error("Failed to approve PO:",Y),r({variant:"destructive",title:"Approval Failed",description:(Y==null?void 0:Y.message)||"Could not approve purchase order."})}finally{g(!1)}}},I=async()=>{if(!(!e||!a)){_(!0);try{await JYe(e,"Ordered"),i(Y=>Y?{...Y,status:"Ordered"}:null),r({title:"PO Confirmed",description:`Purchase Order ${a.po_number} has been marked as Ordered.`})}catch(Y){console.error("Failed to confirm PO:",Y),r({variant:"destructive",title:"Confirmation Failed",description:(Y==null?void 0:Y.message)||"Could not confirm purchase order."})}finally{_(!1)}}},L=async Y=>{try{const re=await ZYe(Y.storage_path);re?window.open(re,"_blank"):r({variant:"destructive",title:"Download Error",description:"Could not get download link."})}catch(re){console.error("Download failed:",re),r({variant:"destructive",title:"Download Failed",description:"Could not get download link."})}},B=Y=>{if(!Y)return"outline";switch(Y){case"Pending":return"outline";case"Approved":return"default";case"Ordered":return"secondary";case"Partially Received":return"default";case"Received":return"default";case"Cancelled":return"destructive";default:return"outline"}};if(d)return c("div",{className:"container mx-auto p-4",children:"Loading purchase order details..."});if(b)return w("div",{className:"container mx-auto p-4 text-red-500 flex items-center",children:[c(dc,{className:"mr-2"})," ",b]});if(!a)return c("div",{className:"container mx-auto p-4",children:"Purchase order not found."});const P=a.status==="Ordered"||a.status==="Partially Received",O=a.status==="Pending",j=a.status==="Approved";return w("div",{className:"container mx-auto p-4 space-y-6",children:[c(Ca,{heading:`Purchase Order: ${a.po_number}`,text:`Details for PO from ${a.supplier_name}`}),w(ur,{children:[c(wr,{children:c(_r,{children:"Order Summary"})}),w(xr,{className:"grid md:grid-cols-3 gap-4",children:[w("div",{children:[c("span",{className:"font-semibold",children:"PO Number:"})," ",a.po_number]}),w("div",{children:[c("span",{className:"font-semibold",children:"Supplier:"})," ",a.supplier_name]}),w("div",{children:[c("span",{className:"font-semibold",children:"Order Date:"})," ",new Date(a.order_date).toLocaleDateString()]}),w("div",{children:[c("span",{className:"font-semibold",children:"Expected Delivery:"})," ",a.expected_delivery_date?new Date(a.expected_delivery_date).toLocaleDateString():"N/A"]}),w("div",{children:[c("span",{className:"font-semibold",children:"Status:"})," ",c(Zu,{variant:B(a.status),className:a.status==="Received"?"bg-green-500 hover:bg-green-600 text-white":"",children:a.status})]}),w("div",{children:[c("span",{className:"font-semibold",children:"Total Amount:"})," ",((G=a.total_amount)==null?void 0:G.toLocaleString("en-IN",{style:"currency",currency:"INR"}))||"N/A"]}),a.notes&&w("div",{className:"md:col-span-3",children:[c("span",{className:"font-semibold",children:"Notes:"})," ",a.notes]})]})]}),c(r0,{}),w(ur,{children:[w(wr,{children:[c(_r,{children:"Associated Invoices"}),c(vc,{children:"Manage invoices related to this purchase order."})]}),w(xr,{className:"space-y-4",children:[l.length>0?c("ul",{className:"list-disc pl-5 space-y-2",children:l.map(Y=>w("li",{className:"flex justify-between items-center",children:[w("span",{children:[Y.file_name," ",w("span",{className:"text-xs text-muted-foreground",children:["(",new Date(Y.uploaded_at).toLocaleString(),")"]})]}),w(Fe,{variant:"outline",size:"sm",onClick:()=>L(Y),children:[c(UV,{className:"mr-2 h-4 w-4"})," Download"]})]},Y.id))}):c("p",{className:"text-sm text-muted-foreground",children:"No invoices uploaded yet."}),w("div",{className:"mt-4",children:[c(Kt,{htmlFor:"invoice-upload",className:"mb-2 block",children:"Upload New Invoice (PDF, PNG, JPG)"}),c(ot,{id:"invoice-upload",type:"file",accept:".pdf, image/png, image/jpeg",onChange:D,disabled:h||a.status==="Cancelled",className:"max-w-sm"}),h&&w("p",{className:"text-sm text-muted-foreground mt-2 flex items-center",children:[c(tx,{className:"animate-pulse mr-1 h-4 w-4"})," Uploading..."]})]})]})]}),c(r0,{}),P&&w(ur,{children:[w(wr,{children:[c(_r,{children:"Receive Items"}),c(vc,{children:"Record received quantities for items in this purchase order."})]}),c(xr,{className:"space-y-4",children:a.items.filter(Y=>Y.quantity_ordered-Y.quantity_received>0).length>0?a.items.map(Y=>{const re=Y.quantity_ordered-Y.quantity_received,q=o.find(K=>K.value===Y.inventory_item_id);return re<=0?null:w("div",{className:"flex justify-between items-center p-2 border rounded-md",children:[w("div",{children:[c("p",{className:"font-medium",children:Y.description||Y.product_name}),w("p",{className:"text-sm text-muted-foreground",children:["Ordered: ",Y.quantity_ordered,", Received: ",Y.quantity_received,", Remaining: ",re]})]}),c(pZe,{poItem:Y,purchaseOrderId:a.id,poNumber:a.po_number,inventoryItemInfo:q,remainingQuantity:re,onReceiveSuccess:E,children:w(Fe,{variant:"default",size:"sm",className:"bg-blue-500 hover:bg-blue-600 text-white",children:[c(wce,{className:"mr-1 h-4 w-4"})," Receive"]})})]},`receive-${Y.id}`)}):c("p",{className:"text-sm text-muted-foreground",children:"All items have been fully received or no items are pending receipt."})})]}),c(r0,{}),w("div",{className:"mt-8",children:[c(Ca,{heading:"Order Items Summary"}),w(Fs,{className:"mt-4",children:[c(Ls,{children:w(Pn,{children:[c(Wt,{children:"Item Description"}),c(Wt,{className:"text-right",children:"Ordered"}),c(Wt,{className:"text-right",children:"Received"}),c(Wt,{className:"text-right",children:"Remaining"}),c(Wt,{className:"text-right",children:"Unit Price"}),c(Wt,{className:"text-right",children:"Subtotal"})]})}),c(js,{children:a.items.map(Y=>{const re=Y.quantity_ordered-Y.quantity_received;return w(Pn,{children:[c(jt,{children:Y.description||Y.product_name}),c(jt,{className:"text-right",children:Y.quantity_ordered}),c(jt,{className:"text-right",children:Y.quantity_received}),c(jt,{className:"text-right font-medium",children:re}),c(jt,{className:"text-right",children:Y.unit_price.toLocaleString("en-IN",{style:"currency",currency:"INR"})}),c(jt,{className:"text-right",children:Y.subtotal.toLocaleString("en-IN",{style:"currency",currency:"INR"})})]},Y.id)})})]})]}),w("div",{className:"flex justify-between items-center mt-6",children:[w("div",{children:[" ",O&&w(Fe,{onClick:T,disabled:x||d,variant:"default",className:"bg-green-500 hover:bg-green-600 text-white",children:[c(ex,{className:"mr-2 h-4 w-4"}),x?"Approving...":"Approve Order"]}),j&&w(Fe,{onClick:I,disabled:y||d,variant:"default",children:[c(kce,{className:"mr-2 h-4 w-4"}),y?"Confirming...":"Confirm & Mark Ordered"]})]}),c(Fe,{variant:"outline",onClick:()=>t("/purchases"),children:"Back to Purchase Orders"})]})]})},gZe=async(e,t)=>{if(!e)throw new Error("No file provided for upload.");const r=e.name.split(".").pop(),n=`${Sw()}.${r}`,i=`${t?`urgent_purchase_slips/${t}`:"urgent_purchase_slips"}/${n}`,{error:o}=await Me.storage.from("urgent-purchase-slip").upload(i,e);if(o)throw console.error("Error uploading urgent purchase slip:",o),o;return{filePath:i,fileName:e.name}},xV=async e=>{const{data:t,error:r}=await Me.from("urgent_purchases").insert(e.header).select().single();if(r||!t)throw console.error("Error creating urgent purchase header:",r),r||new Error("Failed to create urgent purchase header.");const n=t;if(e.items&&e.items.length>0){const a=e.items.map(o=>({...o,urgent_purchase_id:n.id})),{error:i}=await Me.from("urgent_purchase_items").insert(a);if(i)throw console.error("Error creating urgent purchase items:",i),await Me.from("urgent_purchases").delete().match({id:n.id}),i}return{...n,items:(e.items||[]).map(a=>({...a,id:Sw(),urgent_purchase_id:n.id}))}},wV=async(e,t)=>{const{data:r,error:n}=await Me.from("urgent_purchases").select("requested_by_user_id, status").eq("id",e).single();if(n||!r)throw console.error("Error fetching urgent purchase for submission:",n),n||new Error("Urgent purchase not found for submission.");const a=r;if(a.requested_by_user_id!==t)throw new Error("User not authorized to submit this purchase for approval.");if(a.status!=="draft")throw new Error(`Urgent purchase is not in draft state (current: ${a.status}).`);const{data:i,error:o}=await Me.from("urgent_purchases").update({status:"pending_approval",updated_at:new Date().toISOString()}).eq("id",e).select().single();if(o||!i)throw console.error("Error submitting urgent purchase for approval:",o),o||new Error("Failed to submit urgent purchase for approval.");return i},vZe=async(e,t,r)=>{const{data:n,error:a}=await Me.from("urgent_purchases").update({status:"approved",reviewed_by_user_id:t,reviewed_at:new Date().toISOString(),reviewer_notes:r,updated_at:new Date().toISOString()}).eq("id",e).eq("status","pending_approval").select().single();if(a||!n)throw console.error("Error approving urgent purchase:",a),a||new Error("Failed to approve urgent purchase or not found/not pending.");const i=n;return await xZe(i.id,t),i},yZe=async(e,t,r)=>{if(!r||r.trim()==="")throw new Error("Reviewer notes are required for rejecting an urgent purchase.");const{data:n,error:a}=await Me.from("urgent_purchases").update({status:"rejected",reviewed_by_user_id:t,reviewed_at:new Date().toISOString(),reviewer_notes:r,updated_at:new Date().toISOString()}).eq("id",e).eq("status","pending_approval").select().single();if(a||!n)throw console.error("Error rejecting urgent purchase:",a),a||new Error("Failed to reject urgent purchase or not found/not pending.");return n},xZe=async(e,t)=>{const{data:r,error:n}=await Me.from("urgent_purchases").select(`
      *,
      urgent_purchase_items (*)
    `).eq("id",e).eq("status","approved").single();if(n||!r)throw console.error(`Error fetching approved urgent purchase ${e} for item processing:`,n),n||new Error("Approved urgent purchase not found or not in correct state for item processing.");const a=r;if(!a.urgent_purchase_items||a.urgent_purchase_items.length===0){console.log(`No items to process for urgent purchase ${e}.`);return}const i=a.urgent_purchase_items;for(const o of i){let s=null,l;const{data:u,error:d}=await Me.from("inventory_items").select("is_batched").eq("id",o.inventory_item_id).single();if(d||!u)throw console.error(`Inventory item ${o.inventory_item_id} not found for urgent purchase item ${o.id}`),d||new Error(`Inventory item ${o.inventory_item_id} not found.`);if(u.is_batched&&o.batch_number){l="BATCH_STOCK_IN";const{data:m,error:x}=await Me.from("inventory_item_batches").select("id").eq("inventory_item_id",o.inventory_item_id).eq("batch_number",o.batch_number).maybeSingle();if(x)throw console.error("Error fetching batch:",x),x;const g=m;if(g)s=g.id;else{const y={inventory_item_id:o.inventory_item_id,batch_number:o.batch_number,expiry_date:o.expiry_date||null,quantity_on_hand:0,purchase_price_at_receipt:0},{data:_,error:b}=await Me.from("inventory_item_batches").insert(y).select("id").single();if(b||!_)throw console.error("Error creating new batch:",b),b||new Error("Failed to create new batch.");s=_.id}}else l="add";const{error:h}=await Me.rpc("adjust_inventory_item_quantity",{p_inventory_item_id:o.inventory_item_id,p_quantity_change:o.quantity,p_change_type:l,p_user_id:t,p_notes:`Urgent purchase approved: ${a.id}. Slip: ${a.slip_filename||"N/A"}`,p_inventory_item_batch_id:s===null?void 0:s});if(h)throw console.error(`Error adjusting inventory for item ${o.inventory_item_id}:`,h),await Me.from("urgent_purchases").update({status:"rejected",reviewer_notes:`Item processing failed: ${h.message}`}).eq("id",e),h}console.log(`Successfully processed items for approved urgent purchase ${e}`)},wZe=async e=>{const{data:t,error:r}=await Me.from("urgent_purchases").select(`
      id,
      slip_image_path,
      slip_filename,
      invoice_delivery_date,
      status,
      confidence_score,
      notes,
      requested_by_user_id,
      requested_at,
      reviewed_by_user_id,
      reviewed_at,
      reviewer_notes,
      updated_at,
      urgent_purchase_items (*)
    `).eq("id",e).single();if(r){if(console.error(`Error fetching urgent purchase ${e}:`,r),r.code==="PGRST116")return null;throw r}if(!t)return null;const n=t;return{...n,items:n.urgent_purchase_items||[]}},aA=async e=>{let t=Me.from("urgent_purchases").select(`
      id,
      slip_filename,
      invoice_delivery_date,
      status,
      requested_by_user_id,
      requested_at,
      updated_at,
      target_approval_role,
      reviewed_by_user_id,
      reviewed_at,
      reviewer_notes
    `).order("updated_at",{ascending:!1});e!=null&&e.status&&(t=t.eq("status",e.status)),e!=null&&e.requested_by_user_id&&(t=t.eq("requested_by_user_id",e.requested_by_user_id));const{data:r,error:n}=await t;if(n)throw console.error("Error fetching urgent purchases list:",n),n;return(r||[]).map(i=>({...i,items:[]}))},_Ze=({onFileSelect:e,processing:t=!1,className:r})=>{const[n,a]=A.useState(null),[i,o]=A.useState(null);return w("div",{className:r,children:[c(t0,{onFileChange:u=>{a(u),e(u),u?(i&&URL.revokeObjectURL(i),o(URL.createObjectURL(u))):(i&&URL.revokeObjectURL(i),o(null))},accept:"image/jpeg, image/png, image/webp, application/pdf",maxSize:10,uploading:t,value:n,preview:i||void 0,onRemove:()=>{a(null),e(null),i&&URL.revokeObjectURL(i),o(null)},id:"urgent-purchase-slip-upload"}),n&&!t&&w(ed,{className:"mt-4",children:[c(ZM,{className:"h-4 w-4"}),c(td,{children:"File Ready"}),w(rd,{children:["Selected: ",n.name," (",(n.size/1024/1024).toFixed(2)," MB). Ready for processing."]})]}),t&&w(ed,{className:"mt-4",children:[c(ZM,{className:"h-4 w-4"}),c(td,{children:"Processing..."}),c(rd,{children:"The slip is being uploaded and analyzed. Please wait."})]})]})},_V="__NO_MATCH_VALUE__",bZe=Le.object({inventory_item_id:Le.string().min(1,"Item selection is required."),quantity:Le.number().min(1,"Quantity must be at least 1."),batch_number:Le.string().optional().nullable(),expiry_date:Le.date().optional().nullable()}),SZe=["admin","owner","doctor"],AZe=Le.object({items:Le.array(bZe).min(1,"At least one item is required."),invoice_delivery_date:Le.date().optional().nullable(),notes:Le.string().optional().nullable(),target_approval_role:Le.string().min(1,"Target approval role is required.")}),kZe=({onClose:e,onSuccess:t})=>{const{toast:r}=xn(),{user:n}=oi(),[a,i]=A.useState("slip_upload"),[o,s]=A.useState(null),[l,u]=A.useState(!1),[d,f]=A.useState(null),[h,m]=A.useState([]),[x,g]=A.useState(""),[y,_]=A.useState([]),[b,S]=A.useState([]),[C,E]=A.useState(!1),D=SZe.filter(q=>q!==(n==null?void 0:n.role)),T=sd({resolver:ld(AZe),defaultValues:{items:[{inventory_item_id:"",quantity:1,batch_number:"",expiry_date:null}],invoice_delivery_date:new Date,notes:"",target_approval_role:""}}),{fields:I,append:L,remove:B}=bS({control:T.control,name:"items"});A.useEffect(()=>{(async()=>{try{const K=await k7();_(K),S(K.map(z=>({id:z.value,name:z.label,item_code:z.item_code})))}catch{r({variant:"destructive",title:"Error",description:"Could not load inventory items."})}})()},[r]);const P=q=>new Promise((K,z)=>{const te=new FileReader;te.onload=()=>K(te.result),te.onerror=Q=>z(Q),te.readAsDataURL(q)}),O=async q=>{if(s(q),f(null),m([]),q){u(!0);try{const K=await P(q),{data:z,error:te}=await Me.functions.invoke("ocr-slip-parser",{body:{image_data_urls:[K],file_type:q.type}});if(te)throw te;const Q=z;let R=0,H=0;const X=Q.items.map(le=>{const{bestMatch:pe,bestMatchScore:J}=l4(le.slip_text,b);let me;return pe&&typeof J=="number"?(me=1-J,me=Math.max(0,Math.min(1,me)),R+=me,H++):pe?(me=.75,R+=me,H++):me=.1,{...le,matched_item_id:(pe==null?void 0:pe.id)||null,matched_item_name:(pe==null?void 0:pe.name)||null,confidence:me}}),Z=H>0?R/H:Q.overall_confidence||0,ie={...Q,items:X,overall_confidence:Z};f(ie),m(ie.items.map(le=>({...le}))),r({title:"Slip Processed by Server",description:"Review the extracted items below."})}catch(K){console.error("Error processing slip with Edge Function:",K),r({variant:"destructive",title:"Processing Error",description:K.message||"Failed to process slip using server function."})}finally{u(!1)}}},j=(q,K,z)=>{const te=[...h];if(K==="matched_item_id")if(z===_V||z==="")te[q][K]=null,te[q].matched_item_name=null;else{te[q][K]=z;const Q=b.find(R=>R.id===z);te[q].matched_item_name=(Q==null?void 0:Q.name)||null}else te[q][K]=z;m(te)},G=q=>{m(K=>K.filter((z,te)=>te!==q))},Y=async()=>{if(!n||!n.id){r({variant:"destructive",title:"Authentication Error",description:"User not logged in."});return}if(!d||h.length===0){r({variant:"destructive",title:"No Data",description:"No items to submit."});return}if(!x){r({variant:"destructive",title:"Validation Error",description:"Please select a target approval role."});return}E(!0);try{let q,K;if(o){const Q=await gZe(o,n.id);q=Q.filePath,K=Q.fileName}const z={header:{slip_image_path:q||null,slip_filename:K||null,invoice_delivery_date:d.invoice_delivery_date?d.invoice_delivery_date:null,status:"draft",confidence_score:d.overall_confidence,notes:`Urgent purchase via slip upload. OCR Confidence: ${((d.overall_confidence||0)*100).toFixed(0)}%`,requested_by_user_id:n.id,target_approval_role:x},items:h.filter(Q=>Q.matched_item_id&&(Q.quantity||0)>0).map(Q=>({inventory_item_id:Q.matched_item_id,slip_text:Q.slip_text,matched_item_name:Q.matched_item_name||"Unknown Item",quantity:Q.quantity||0,batch_number:Q.batch_number||null,expiry_date:Q.expiry_date||null}))};if(z.items.length===0){r({variant:"destructive",title:"No Valid Items",description:"No items with matched inventory ID and quantity > 0."}),E(!1);return}const te=await xV(z);if(te&&te.id)await wV(te.id,n.id),r({title:"Urgent Purchase Submitted",description:`Request ID: ${te.id} submitted for approval.`}),t();else throw new Error("Failed to get ID from created entry for submission.")}catch(q){r({variant:"destructive",title:"Submission Error",description:q.message||"Failed to submit urgent purchase for approval."})}finally{E(!1)}},re=async q=>{if(!n||!n.id){r({variant:"destructive",title:"Authentication Error",description:"User not logged in."});return}E(!0);try{const K={header:{invoice_delivery_date:q.invoice_delivery_date?q.invoice_delivery_date.toISOString().split("T")[0]:null,status:"draft",notes:q.notes||"Urgent purchase via Quick Entry.",requested_by_user_id:n.id,confidence_score:null,target_approval_role:q.target_approval_role},items:q.items.map(te=>{const Q=b.find(R=>R.id===te.inventory_item_id);return{inventory_item_id:te.inventory_item_id,matched_item_name:(Q==null?void 0:Q.name)||"Unknown Item",quantity:te.quantity,batch_number:te.batch_number||null,expiry_date:te.expiry_date?te.expiry_date.toISOString().split("T")[0]:null,slip_text:`Quick Entry: ${Q==null?void 0:Q.name}`}})},z=await xV(K);if(z&&z.id)await wV(z.id,n.id),r({title:"Quick Entry Submitted",description:`Request ID: ${z.id} submitted for approval.`}),T.reset(),t();else throw new Error("Failed to get ID from created quick entry for submission.")}catch(K){r({variant:"destructive",title:"Quick Entry Error",description:K.message||"Failed to submit quick entry for approval."})}finally{E(!1)}};return w(kg,{value:a,onValueChange:q=>i(q),className:"w-full",children:[w(Ng,{className:"grid w-full grid-cols-2",children:[c(ol,{value:"slip_upload",children:"Upload Slip/Invoice"}),c(ol,{value:"quick_entry",children:"Quick Manual Entry"})]}),c(Ei,{value:"slip_upload",children:w(ur,{className:"border-0 shadow-none",children:[w(wr,{children:[c(_r,{children:"Upload Delivery Slip or Invoice"}),c(vc,{children:"Upload an image (PNG, JPG). PDF support requires server-side OCR."})]}),w(xr,{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2",children:[" ",c(_Ze,{onFileSelect:O,processing:l}),l&&w("div",{className:"flex items-center text-muted-foreground",children:[c(Hn,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing slip..."]}),d&&!l&&w("div",{className:"mt-4",children:[c(Kt,{htmlFor:"targetRoleSlip",children:"Send Approval To*"}),w(zr,{value:x,onValueChange:g,children:[c(Br,{id:"targetRoleSlip",children:c(Wr,{placeholder:"Select role for approval..."})}),c(Ur,{children:D.map(q=>c(wt,{value:q,children:q.charAt(0).toUpperCase()+q.slice(1)},q))})]}),!x&&C&&c("p",{className:"text-xs text-destructive mt-1",children:"Target approval role is required."})]}),d&&h.length>0&&!l&&w("div",{className:"space-y-3 mt-4",children:[w("h3",{className:"text-md font-semibold",children:["Review Extracted Items (Confidence: ",((d.overall_confidence||0)*100).toFixed(0),"%)"]}),d.invoice_delivery_date&&w("p",{className:"text-sm",children:["Detected Invoice/Delivery Date: ",d.invoice_delivery_date]}),h.map((q,K)=>c(ur,{className:"p-3 space-y-2 bg-muted/50 border",children:w("div",{className:"grid grid-cols-6 gap-3 items-end",children:[w("div",{className:"col-span-6 sm:col-span-3 md:col-span-2",children:[c(Kt,{htmlFor:`ocr-item-name-${K}`,className:"text-xs",children:"Slip Text"}),c(ot,{id:`ocr-item-name-${K}`,value:q.slip_text||"",onChange:z=>j(K,"slip_text",z.target.value),className:"h-8 text-sm"})]}),w("div",{className:"col-span-6 sm:col-span-3 md:col-span-2",children:[c(Kt,{htmlFor:`ocr-item-inventory-${K}`,className:"text-xs",children:"Matched Item"}),w(zr,{value:q.matched_item_id||"",onValueChange:z=>j(K,"matched_item_id",z),children:[c(Br,{className:"h-8 text-sm",children:c(Wr,{placeholder:"Select item..."})}),w(Ur,{children:[c(wt,{value:_V,className:"text-sm",children:c("em",{children:"No Match / Clear Selection"})}),y.map(z=>w(wt,{value:z.value,className:"text-sm",children:[z.label," ",z.item_code?`(${z.item_code})`:""]},z.value))]})]}),q.confidence!==void 0&&q.confidence!==null&&w("p",{className:"text-xs mt-1",children:["Match Confidence: ",((q.confidence||0)*100).toFixed(0),"%"]})]}),w("div",{className:"col-span-3 sm:col-span-2 md:col-span-1",children:[c(Kt,{htmlFor:`ocr-item-qty-${K}`,className:"text-xs",children:"Quantity"}),c(ot,{id:`ocr-item-qty-${K}`,type:"number",value:q.quantity||0,onChange:z=>j(K,"quantity",parseInt(z.target.value)||0),className:"h-8 text-sm"})]}),w("div",{className:"col-span-3 sm:col-span-2 md:col-span-1",children:[c(Kt,{htmlFor:`ocr-item-batch-${K}`,className:"text-xs",children:"Batch No."}),c(ot,{id:`ocr-item-batch-${K}`,value:q.batch_number||"",onChange:z=>j(K,"batch_number",z.target.value),className:"h-8 text-sm"})]}),w("div",{className:"col-span-3 sm:col-span-2 md:col-span-1",children:[c(Kt,{htmlFor:`ocr-item-expiry-${K}`,className:"text-xs",children:"Expiry Date"}),c(ot,{id:`ocr-item-expiry-${K}`,type:"date",placeholder:"YYYY-MM-DD",value:q.expiry_date||"",onChange:z=>j(K,"expiry_date",z.target.value),className:"h-8 text-sm"})]}),c("div",{className:"col-span-3 sm:col-span-2 md:col-span-1 flex items-end justify-end",children:c(Fe,{variant:"ghost",size:"icon",onClick:()=>G(K),className:"text-destructive h-8 w-8",children:c(ph,{className:"h-4 w-4"})})})]})},K))]})]}),w("div",{className:"flex justify-end space-x-2 p-4 border-t",children:[c(Fe,{variant:"outline",onClick:e,children:"Cancel"}),w(Fe,{onClick:Y,disabled:l||C||!d||h.length===0,children:[C?c(Hn,{className:"mr-2 h-4 w-4 animate-spin"}):c(ex,{className:"mr-2 h-4 w-4"}),"Submit for Approval"]})]})]})}),c(Ei,{value:"quick_entry",children:w(ur,{className:"border-0 shadow-none",children:[w(wr,{children:[c(_r,{children:"Quick Manual Entry"}),c(vc,{children:"Manually add items to stock."})]}),w("form",{onSubmit:T.handleSubmit(re),children:[w(xr,{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2",children:[w("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[w("div",{children:[c(Kt,{htmlFor:"target_approval_role_quick",children:"Send Approval To*"}),c(Up,{name:"target_approval_role",control:T.control,render:({field:q,fieldState:K})=>w(Dr,{children:[w(zr,{onValueChange:q.onChange,defaultValue:q.value,children:[c(Br,{id:"target_approval_role_quick",children:c(Wr,{placeholder:"Select role..."})}),c(Ur,{children:D.map(z=>c(wt,{value:z,children:z.charAt(0).toUpperCase()+z.slice(1)},z))})]}),K.error&&c("p",{className:"text-xs text-destructive mt-1",children:K.error.message})]})})]}),w("div",{children:[c(Kt,{htmlFor:"quick-invoice-date",children:"Invoice/Delivery Date (Optional)"}),c(Up,{name:"invoice_delivery_date",control:T.control,render:({field:q})=>c(ot,{type:"date",value:q.value?new Date(q.value).toISOString().split("T")[0]:"",onChange:K=>q.onChange(K.target.value?new Date(K.target.value):null),className:"h-9"})})]}),w("div",{children:[c(Kt,{htmlFor:"quick-notes",children:"Notes (Optional)"}),c(Yr,{id:"quick-notes",...T.register("notes")})]})]}),c("h4",{className:"text-md font-semibold pt-4",children:"Items"}),I.map((q,K)=>c(ur,{className:"p-3 space-y-2 bg-muted/50",children:w("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-3 items-end",children:[w("div",{className:"sm:col-span-2 md:col-span-2",children:[c(Kt,{htmlFor:`qitem-inventory-${K}`,className:"text-xs",children:"Inventory Item*"}),c(Up,{name:`items.${K}.inventory_item_id`,control:T.control,render:({field:z,fieldState:te})=>w(Dr,{children:[w(zr,{value:z.value||"",onValueChange:z.onChange,children:[c(Br,{className:"h-8 text-sm",children:c(Wr,{placeholder:"Select item..."})}),c(Ur,{children:y.map(Q=>w(wt,{value:Q.value,className:"text-sm",children:[Q.label," ",Q.item_code?`(${Q.item_code})`:""]},Q.value))})]}),te.error&&c("p",{className:"text-xs text-destructive mt-1",children:te.error.message})]})})]}),w("div",{children:[c(Kt,{htmlFor:`qitem-qty-${K}`,className:"text-xs",children:"Quantity*"}),c(Up,{name:`items.${K}.quantity`,control:T.control,render:({field:z,fieldState:te})=>w(Dr,{children:[c(ot,{id:`qitem-qty-${K}`,type:"number",value:z.value||0,onChange:Q=>z.onChange(parseInt(Q.target.value,10)||0),className:"h-8 text-sm"}),te.error&&c("p",{className:"text-xs text-destructive mt-1",children:te.error.message})]})})]}),w("div",{children:[c(Kt,{htmlFor:`qitem-batch-${K}`,className:"text-xs",children:"Batch No."}),c(Up,{name:`items.${K}.batch_number`,control:T.control,render:({field:z})=>c(ot,{id:`qitem-batch-${K}`,...z,value:z.value||"",className:"h-8 text-sm"})})]}),w("div",{children:[c(Kt,{htmlFor:`qitem-expiry-${K}`,className:"text-xs",children:"Expiry Date"}),c(Up,{name:`items.${K}.expiry_date`,control:T.control,render:({field:z})=>c(ot,{type:"date",value:z.value?new Date(z.value).toISOString().split("T")[0]:"",onChange:te=>z.onChange(te.target.value?new Date(te.target.value):null),className:"h-8 text-sm"})})]}),c("div",{className:"flex items-center justify-end",children:I.length>1&&c(Fe,{type:"button",variant:"ghost",size:"icon",onClick:()=>B(K),className:"text-destructive h-8 w-8",children:c(ph,{className:"h-4 w-4"})})})]})},q.id)),w(Fe,{type:"button",variant:"outline",size:"sm",onClick:()=>L({inventory_item_id:"",quantity:1,batch_number:"",expiry_date:null}),children:[c(Nh,{className:"mr-2 h-4 w-4"})," Add Item"]})]}),w("div",{className:"flex justify-end space-x-2 p-4 border-t",children:[c(Fe,{variant:"outline",onClick:e,children:"Cancel"}),w(Fe,{type:"submit",disabled:C,children:[C?c(Hn,{className:"mr-2 h-4 w-4 animate-spin"}):c(ex,{className:"mr-2 h-4 w-4"}),"Submit for Approval"]})]})]})]})})]})},NZe=()=>{const{toast:e}=xn(),[t,r]=A.useState([]),[n,a]=A.useState(!1),[i,o]=A.useState(!1),s=async()=>{a(!0);try{const f=await aA();r(f)}catch(f){e({variant:"destructive",title:"Error fetching urgent purchases",description:f.message||"Could not load urgent purchase entries."})}finally{a(!1)}};A.useEffect(()=>{s()},[e]);const l=()=>{o(!1),s()},u=f=>{switch(f){case"approved":return"default";case"pending_approval":return"secondary";case"rejected":return"destructive";case"draft":return"outline";default:return"outline"}},d=f=>{if(!f)return!1;const h=new Date(f);return!isNaN(h.getTime())};return w("div",{className:"container mx-auto p-4",children:[c(Ca,{heading:"Urgent Purchase Entry",text:"Create or view history of urgent stock entries made without a PO.",children:w("div",{className:"flex gap-2",children:[w(ei,{open:i,onOpenChange:o,children:[c(Hw,{asChild:!0,children:w(Fe,{children:[c(Nh,{className:"mr-2 h-4 w-4"})," Create New Urgent Entry"]})}),w(Ma,{className:"sm:max-w-[80vw] md:max-w-[70vw] lg:max-w-[60vw] xl:max-w-[50vw]",children:[" ",w(Fa,{children:[c(La,{children:"Create Urgent Purchase Entry"}),w(xo,{children:[" ","Upload a slip/invoice image for OCR processing or use the Quick Manual Entry tab."]})]}),c(kZe,{onClose:()=>o(!1),onSuccess:l})]})]}),c(Fe,{variant:"outline",asChild:!0,children:c(Wi,{to:"/purchases/urgent/history",children:"View Modification History"})}),c(Fe,{variant:"outline",asChild:!0,children:c(Wi,{to:"/purchases/urgent/my-requests",children:"View My Requests"})})]})}),n?c("div",{className:"flex justify-center items-center py-10",children:c(Hn,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):c(ur,{className:"mt-6",children:w(xr,{className:"p-0",children:[" ",w(Fs,{children:[c(Ls,{children:w(Pn,{children:[c(Wt,{children:"Delivery Date"}),c(Wt,{children:"Status"}),c(Wt,{children:"Slip Filename"}),c(Wt,{children:"Requested At"}),c(Wt,{children:"Updated At"}),c(Wt,{children:"Actions"})]})}),c(js,{children:t.length===0?c(Pn,{children:c(jt,{colSpan:6,className:"text-center text-muted-foreground py-10",children:"No urgent purchase entries found."})}):t.map(f=>w(Pn,{children:[c(jt,{children:d(f.invoice_delivery_date)?nr(new Date(f.invoice_delivery_date),"PP"):"N/A"}),c(jt,{children:c(Zu,{variant:u(f.status),children:f.status.replace("_"," ").replace(/\b\w/g,h=>h.toUpperCase())})}),c(jt,{children:f.slip_filename||"N/A (Quick Entry)"}),c(jt,{children:d(f.requested_at)?nr(new Date(f.requested_at),"PPpp"):"N/A"}),c(jt,{children:d(f.updated_at)?nr(new Date(f.updated_at),"PPpp"):"N/A"}),c(jt,{children:c(Fe,{variant:"outline",size:"sm",asChild:!0,children:w(Wi,{to:`/purchases/urgent/${f.id}`,children:[c(kw,{className:"mr-2 h-4 w-4"})," View Details"]})})})]},f.id))})]})]})})]})},EZe=()=>{const{id:e}=ey(),{toast:t}=xn(),[r,n]=A.useState(null),[a,i]=A.useState(!1),[o,s]=A.useState(null);A.useEffect(()=>{const u=/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/;(async()=>{if(!e||!u.test(e)){s("Invalid or no purchase ID provided."),i(!1);return}i(!0),s(null);try{const f=await wZe(e);f?n(f):(s("Urgent purchase entry not found."),t({variant:"destructive",title:"Not Found",description:`Urgent purchase with ID ${e} not found.`}))}catch(f){s("Failed to load purchase details."),t({variant:"destructive",title:"Error",description:f.message||"Could not load urgent purchase details."})}finally{i(!1)}})()},[e,t]);const l=u=>{switch(u){case"Auto-Confirmed":case"Manually Confirmed":return"default";case"Pending Review":return"secondary";case"Rejected":case"ProcessingError":return"destructive";default:return"outline"}};return a?c("div",{className:"flex justify-center items-center py-10",children:c(Hn,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):o?w("div",{className:"container mx-auto p-4 text-center text-destructive",children:[c("p",{children:o}),c(Fe,{variant:"link",asChild:!0,className:"mt-4",children:w(Wi,{to:"/purchases/urgent",children:[" ",c(l5,{className:"mr-2 h-4 w-4"})," Back to Log"]})})]}):r?w("div",{className:"container mx-auto p-4 space-y-6",children:[c(Ca,{heading:"Urgent Purchase Details",text:r.requested_at?`Details for entry created on ${nr(new Date(r.requested_at),"PPp")}`:"Details for entry",children:c(Fe,{variant:"outline",asChild:!0,children:w(Wi,{to:"/purchases/urgent",children:[" ",c(l5,{className:"mr-2 h-4 w-4"})," Back to Log"]})})}),w(ur,{children:[c(wr,{children:c(_r,{children:"Summary"})}),w(xr,{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[w("div",{children:[c("strong",{children:"ID:"})," ",r.id]}),w("div",{children:[c("strong",{children:"Status:"})," ",c(Zu,{variant:l(r.status),children:r.status})]}),w("div",{children:[c("strong",{children:"Invoice/Delivery Date:"})," ",r.invoice_delivery_date?nr(new Date(r.invoice_delivery_date),"PP"):"N/A"]}),w("div",{children:[c("strong",{children:"Slip Filename:"})," ",r.slip_filename||"N/A"]}),w("div",{children:[c("strong",{children:"OCR Confidence:"}),r.confidence_score!==null&&r.confidence_score!==void 0?` ${(r.confidence_score*100).toFixed(0)}%`:" N/A"]}),w("div",{children:[c("strong",{children:"Requested By:"})," ",r.requested_by_user_id||"Unknown"]}),w("div",{className:"md:col-span-3",children:[c("strong",{children:"Notes:"})," ",r.notes||"N/A"]})]})]}),w(ur,{children:[c(wr,{children:c(_r,{children:"Items Received"})}),c(xr,{children:w(Fs,{children:[c(Ls,{children:w(Pn,{children:[c(Wt,{children:"Matched Item"}),c(Wt,{children:"Slip Text"}),c(Wt,{children:"Quantity"}),c(Wt,{children:"Batch No."}),c(Wt,{children:"Expiry Date"})]})}),c(js,{children:r.items.length===0?c(Pn,{children:c(jt,{colSpan:5,className:"text-center text-muted-foreground py-10",children:"No items found for this entry."})}):r.items.map(u=>w(Pn,{children:[c(jt,{children:u.matched_item_name}),c(jt,{children:u.slip_text||"N/A"}),c(jt,{children:u.quantity}),c(jt,{children:u.batch_number||"N/A"}),c(jt,{children:u.expiry_date?nr(new Date(u.expiry_date),"PP"):"N/A"})]},u.id))})]})})]})]}):c("div",{className:"container mx-auto p-4 text-center",children:"Urgent purchase not found."})},bV=e=>{if(!e)return!1;const t=new Date(e);return!isNaN(t.getTime())},CZe=()=>{const{user:e}=oi(),{toast:t}=xn(),r=as(),[n,a]=A.useState([]),[i,o]=A.useState(!0),s=A.useCallback(async()=>{o(!0);try{const d=await aA();a(d)}catch(d){console.error("Error fetching urgent purchase history:",d),t({variant:"destructive",title:"Error",description:"Could not load urgent purchase history."})}finally{o(!1)}},[t]);A.useEffect(()=>{s()},[s]);const l=d=>{r(`/purchases/urgent/${d}`)},u=d=>d?d.substring(0,8)+"...":"N/A";return w("div",{className:"container mx-auto p-4 md:p-6",children:[c(Ca,{heading:"Urgent Purchase Modification History",text:"View the history and status of all urgent purchase entries.",children:c(Fe,{variant:"outline",asChild:!0,children:w(Wi,{to:"/purchases/urgent",children:[c(l5,{className:"mr-2 h-4 w-4"})," Back to Urgent Purchases"]})})}),c("div",{className:"mt-6",children:i?c("p",{children:"Loading history..."}):n.length===0?w(ur,{children:[c(wr,{children:c(_r,{children:"No Urgent Purchase History Found"})}),c(xr,{children:c("p",{children:"There are no urgent purchase entries in the system yet."})})]}):w(ur,{children:[w(wr,{children:[c(_r,{children:"Urgent Purchase History"}),w(vc,{children:[n.length," record(s) found."]})]}),c(xr,{children:w(Fs,{children:[c(Ls,{children:w(Pn,{children:[c(Wt,{children:"Request ID / Slip"}),c(Wt,{children:"Status"}),c(Wt,{children:"Requested By"}),c(Wt,{children:"Requested At"}),c(Wt,{children:"Reviewed By"}),c(Wt,{children:"Reviewed At"}),c(Wt,{children:"Reviewer Notes"}),c(Wt,{className:"text-right",children:"Actions"})]})}),c(js,{children:n.map(d=>w(Pn,{children:[c(jt,{children:d.slip_filename||d.id.substring(0,8)+"..."}),c(jt,{children:c(Zu,{variant:d.status==="approved"?"default":d.status==="rejected"?"destructive":d.status==="pending_approval"?"outline":(d.status==="draft","secondary"),className:d.status==="approved"?"bg-green-100 text-green-700 border-green-300":d.status==="rejected"?"bg-red-100 text-red-700 border-red-300":d.status==="pending_approval"?"bg-yellow-100 text-yellow-700 border-yellow-300":"",children:d.status?d.status.replace(/_/g," ").replace(/\b\w/g,f=>f.toUpperCase()):"N/A"})}),c(jt,{children:u(d.requested_by_user_id)}),c(jt,{children:bV(d.requested_at)?nr(new Date(d.requested_at),"PPp"):"N/A"}),c(jt,{children:u(d.reviewed_by_user_id)}),c(jt,{children:bV(d.reviewed_at)?nr(new Date(d.reviewed_at),"PPp"):"N/A"}),c(jt,{className:"max-w-xs truncate",title:d.reviewer_notes||void 0,children:d.reviewer_notes||"N/A"}),c(jt,{className:"text-right",children:w(Fe,{variant:"outline",size:"sm",onClick:()=>l(d.id),children:[c(kw,{className:"mr-1 h-4 w-4"})," View"]})})]},d.id))})]})})]})})]})},SV=e=>{if(!e)return!1;const t=new Date(e);return!isNaN(t.getTime())},TZe=()=>{const{user:e}=oi(),{toast:t}=xn(),r=as(),[n,a]=A.useState([]),[i,o]=A.useState(!0),s=A.useCallback(async()=>{if(!(e!=null&&e.id)){o(!1),t({variant:"destructive",title:"Error",description:"User not found. Please log in."});return}o(!0);try{const u=await aA({requested_by_user_id:e.id});a(u)}catch(u){console.error("Error fetching your urgent purchase requests:",u),t({variant:"destructive",title:"Error",description:"Could not load your urgent purchase requests."})}finally{o(!1)}},[t,e]);A.useEffect(()=>{s()},[s]);const l=u=>{r(`/purchases/urgent/${u}`)};return w("div",{className:"container mx-auto p-4 md:p-6",children:[c(Ca,{heading:"My Urgent Purchase Requests",text:"View your urgent purchase requests and their status.",children:c(Fe,{variant:"outline",asChild:!0,children:w(Wi,{to:"/purchases/urgent",children:[c(l5,{className:"mr-2 h-4 w-4"})," Back to Urgent Purchases"]})})}),c("div",{className:"mt-6",children:i?c("p",{children:"Loading your requests..."}):n.length===0?w(ur,{children:[c(wr,{children:c(_r,{children:"No Urgent Purchase Requests Found"})}),c(xr,{children:c("p",{children:"You have not made any urgent purchase requests yet."})})]}):w(ur,{children:[w(wr,{children:[c(_r,{children:"Your Urgent Purchase Requests"}),w(vc,{children:[n.length," request(s) found."]})]}),c(xr,{children:w(Fs,{children:[c(Ls,{children:w(Pn,{children:[c(Wt,{children:"Request ID / Slip"}),c(Wt,{children:"Status"}),c(Wt,{children:"Requested At"}),c(Wt,{children:"Last Updated"}),c(Wt,{className:"text-right",children:"Actions"})]})}),c(js,{children:n.map(u=>w(Pn,{children:[c(jt,{children:u.slip_filename||u.id.substring(0,8)+"..."}),c(jt,{children:c("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${u.status==="approved"?"bg-green-100 text-green-700":u.status==="rejected"?"bg-red-100 text-red-700":u.status==="pending_approval"?"bg-yellow-100 text-yellow-700":u.status==="draft"?"bg-gray-100 text-gray-700":"bg-blue-100 text-blue-700"}`,children:u.status?u.status.replace(/_/g," ").replace(/\b\w/g,d=>d.toUpperCase()):"N/A"})}),c(jt,{children:SV(u.requested_at)?nr(new Date(u.requested_at),"PPpp"):"N/A"}),c(jt,{children:SV(u.updated_at)?nr(new Date(u.updated_at),"PPpp"):"N/A"}),c(jt,{className:"text-right",children:w(Fe,{variant:"outline",size:"sm",onClick:()=>l(u.id),children:[c(kw,{className:"mr-1 h-4 w-4"})," View"]})})]},u.id))})]})})]})})]})},PZe=[{value:"01",label:"January"},{value:"02",label:"February"},{value:"03",label:"March"},{value:"04",label:"April"},{value:"05",label:"May"},{value:"06",label:"June"},{value:"07",label:"July"},{value:"08",label:"August"},{value:"09",label:"September"},{value:"10",label:"October"},{value:"11",label:"November"},{value:"12",label:"December"}],L8=new Date().getFullYear(),OZe=Array.from({length:5},(e,t)=>L8-t),DZe=()=>{const{toast:e}=xn(),[t,r]=A.useState([]),[n,a]=A.useState([]),[i,o]=A.useState(!0),[s,l]=A.useState({}),[u,d]=A.useState(L8.toString()),[f,h]=A.useState(void 0),m=A.useCallback(async()=>{var _,b;o(!0);try{const S=await bRe({startDate:(_=s.dateRange)==null?void 0:_.from,endDate:(b=s.dateRange)==null?void 0:b.to,searchTerm:s.searchTerm});r(S||[]),a(S||[])}catch(S){console.error("Failed to fetch inventory logs:",S),e({variant:"destructive",title:"Error",description:"Failed to load inventory log history."}),r([]),a([])}finally{o(!1)}},[e,s.dateRange,s.searchTerm]);A.useEffect(()=>{m()},[m]),A.useEffect(()=>{let _=[...t];if(f&&u){const b=`${u}-${f}`;_=_.filter(S=>S.created_at.startsWith(b))}if(s.searchTerm){const b=s.searchTerm.toLowerCase();_=_.filter(S=>{var L,B,P,O,j,G;const C=(B=(L=S.inventory_items)==null?void 0:L.item_name)==null?void 0:B.toLowerCase().includes(b),E=(O=(P=S.inventory_items)==null?void 0:P.item_code)==null?void 0:O.toLowerCase().includes(b),D=S.change_type.toLowerCase().includes(b),T=(j=S.user_id)==null?void 0:j.toLowerCase().includes(b),I=(G=S.notes)==null?void 0:G.toLowerCase().includes(b);return C||E||D||T||I})}a(_)},[t,f,u,s.searchTerm]);const x=(_,b)=>{l(S=>({...S,[_]:b}))},g=()=>{if(u&&f&&!s.dateRange){const _=new Date(parseInt(u),parseInt(f)-1,1),b=new Date(parseInt(u),parseInt(f),0);x("dateRange",{from:_,to:b})}else!f&&!s.dateRange&&x("dateRange",void 0)};A.useEffect(()=>{g()},[f,u]);const y=()=>{l({}),h(void 0),d(L8.toString())};return w("div",{className:"space-y-4",children:[w("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 p-4 border rounded-md bg-muted/40",children:[w("div",{children:[c("label",{className:"text-sm font-medium mb-1 block",children:"Date Range"}),c(A7,{date:s.dateRange,onDateChange:_=>{x("dateRange",_),h(void 0)},className:"w-full"})]}),w("div",{children:[c("label",{className:"text-sm font-medium mb-1 block",children:"Year"}),w(zr,{value:u,onValueChange:d,children:[c(Br,{children:c(Wr,{placeholder:"Select Year"})}),c(Ur,{children:OZe.map(_=>c(wt,{value:_.toString(),children:_},_))})]})]}),w("div",{children:[c("label",{className:"text-sm font-medium mb-1 block",children:"Month"}),w(zr,{value:f,onValueChange:h,children:[c(Br,{children:c(Wr,{placeholder:"Select Month (All)"})}),w(Ur,{children:[c(wt,{value:"ALL_MONTHS",children:"All Months"})," ",PZe.map(_=>c(wt,{value:_.value,children:_.label},_.value))]})]})]}),w("div",{children:[c("label",{className:"text-sm font-medium mb-1 block",children:"Search Logs"}),c(ot,{placeholder:"Search by item, user, notes...",value:s.searchTerm||"",onChange:_=>x("searchTerm",_.target.value),className:"w-full"})]}),c("div",{className:"lg:col-span-4 flex justify-end",children:c(Fe,{variant:"ghost",onClick:y,children:"Clear Filters"})})]}),c(df,{className:"h-[400px] md:h-[500px] border rounded-md",children:w(Fs,{children:[c(Ls,{className:"sticky top-0 bg-card z-10",children:w(Pn,{children:[c(Wt,{children:"Date"}),c(Wt,{children:"Item Name"}),c(Wt,{children:"SKU"}),c(Wt,{className:"text-right",children:"Change"}),c(Wt,{children:"Type"}),c(Wt,{children:"User"}),c(Wt,{children:"Notes"})]})}),c(js,{children:i?c(Pn,{children:c(jt,{colSpan:7,className:"text-center h-32",children:"Loading log history..."})}):n.length===0?c(Pn,{children:c(jt,{colSpan:7,className:"text-center h-32",children:"No log entries match your filters."})}):n.map(_=>{var b,S;return w(Pn,{children:[c(jt,{children:nr(new Date(_.created_at),"MMM d, yyyy HH:mm")}),c(jt,{className:"font-medium",children:((b=_.inventory_items)==null?void 0:b.item_name)||"N/A"}),c(jt,{children:((S=_.inventory_items)==null?void 0:S.item_code)||"N/A"}),c(jt,{className:`text-right font-semibold ${_.quantity_change>0?"text-green-600":"text-red-600"}`,children:_.quantity_change>0?`+${_.quantity_change}`:_.quantity_change}),c(jt,{children:_.change_type.replace(/_/g," ").replace(/\b\w/g,C=>C.toUpperCase())}),c(jt,{children:_.user_id?`User: ${_.user_id.substring(0,8)}...`:"System"}),c(jt,{className:"text-xs max-w-xs truncate",title:_.notes||"",children:_.notes||"N/A"})]},_.id)})})]})})]})},o5=["Expired","Damaged","Lost","Stock Count Correction","Used","Other"],IZe=Le.enum(o5),Ooe=["image/png","image/jpeg","image/jpg"],Doe=2*1024*1024,RZe=["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","text/csv"],MZe=Le.object({quantity_to_decrease:Le.number().int().positive({message:"Quantity must be a positive number."}).optional(),reason:IZe.optional(),notes:Le.string().min(1,{message:"Notes are required for adjustment requests."}),approver_role_target:Le.enum(["admin","doctor","owner"],{message:"Please select an approver role."}).optional(),photo_file:Le.custom(e=>e instanceof File,"Photo proof is required.").refine(e=>!e||e.size<=Doe,"Photo size should be less than 2MB.").refine(e=>Ooe.includes((e==null?void 0:e.type)||""),"Only .png, .jpg, .jpeg files are accepted."),customApproverEmails:Le.string().optional()}),FZe=()=>{var me;const{toast:e}=xn(),{user:t}=oi(),r=as(),[n,a]=A.useState([]),[i,o]=A.useState([]),[s,l]=A.useState(""),[u,d]=A.useState(null),[f,h]=A.useState(!0),[m,x]=A.useState(!1),[g,y]=A.useState(null),[_,b]=A.useState(null),[S,C]=A.useState([]),[E,D]=A.useState(!1),[T,I]=A.useState(!1),[L,B]=A.useState(null),[P,O]=A.useState(!1),[j,G]=A.useState(null),[Y,re]=A.useState(!1),[q,K]=A.useState([]),[z,te]=A.useState(!1),Q=()=>{const ve=t==null?void 0:t.role,ae=[{value:"admin",label:"Admin"},{value:"doctor",label:"Doctor"},{value:"owner",label:"Owner"}];if(!ve)return ae;switch(ve){case"admin":return ae.filter(Ue=>Ue.value==="doctor"||Ue.value==="owner");case"owner":return ae.filter(Ue=>Ue.value==="admin"||Ue.value==="doctor");case"doctor":return ae.filter(Ue=>Ue.value==="admin"||Ue.value==="owner");default:return ae}},R=sd({resolver:ld(MZe),defaultValues:{notes:"",photo_file:null,customApproverEmails:"",approver_role_target:void 0}}),H=Je.useCallback(async()=>{h(!0);try{const ve=await yR();a(ve||[]),o(ve||[])}catch(ve){console.error("Failed to fetch inventory items:",ve),e({variant:"destructive",title:"Error",description:"Failed to load items for selection."})}finally{h(!1)}},[e]);A.useEffect(()=>{H()},[H]),A.useEffect(()=>{const ve=s.toLowerCase(),ae=n.filter(Ue=>Ue.item_name.toLowerCase().includes(ve)||Ue.item_code&&Ue.item_code.toLowerCase().includes(ve)||Ue.category&&Ue.category.toLowerCase().includes(ve));o(ae)},[s,n]);const X=ve=>{d(ve),D(!1),y(null),C([]),b(null),R.reset({quantity_to_decrease:void 0,reason:"Other",notes:R.getValues("notes")||"",photo_file:R.getValues("photo_file")||null,customApproverEmails:R.getValues("customApproverEmails")||""})},Z=A.useCallback(async()=>{if(!g){b("No file selected."),C([]);return}b(null),C([]),h(!0);try{const ve=new FileReader;ve.onload=async ae=>{var Ue;try{const He=(Ue=ae.target)==null?void 0:Ue.result;if(!He){b("Failed to read file data."),h(!1);return}const Ie=h8(He,{type:"array"}),he=Ie.SheetNames[0],Ze=Ie.Sheets[he],pt=rf.sheet_to_json(Ze);if(pt.length===0){b("File is empty or has no data in the first sheet."),h(!1);return}let ht=n;if(ht.length===0){if(await H(),n.length===0){b("Inventory items not loaded. Please try again."),h(!1);return}ht=n}const Pt=[],st=[];pt.forEach((xe,Ee)=>{const We=xe.SKU||xe["Item Name"]||xe.sku||xe.item_name,ft=parseInt(xe["Quantity to Decrease"]||xe.quantity_to_decrease,10),mt=xe.Reason||xe.reason;if(!We){st.push(`Row ${Ee+2}: Missing SKU or Item Name.`);return}if(isNaN(ft)||ft<=0){st.push(`Row ${Ee+2}: Invalid or missing 'Quantity to Decrease' for ${We}. Must be a positive number.`);return}if(!mt||!o5.includes(mt)){st.push(`Row ${Ee+2}: Invalid or missing 'Reason' for ${We}. Valid reasons: ${o5.join(", ")}.`);return}const De=ht.find(Ve=>Ve.item_code&&Ve.item_code.toLowerCase()===String(We).toLowerCase()||Ve.item_name.toLowerCase()===String(We).toLowerCase());if(!De){st.push(`Row ${Ee+2}: Item '${We}' not found in inventory.`);return}if(ft>De.quantity){st.push(`Row ${Ee+2}: Quantity to decrease (${ft}) for '${We}' exceeds current stock (${De.quantity}).`);return}Pt.push({inventory_item_id:De.id,item_name:De.item_name,current_stock:De.quantity,quantity_to_decrease:ft,reason:mt})}),st.length>0?(b(`Validation errors found in the file:
- ${st.join(`
- `)}`),C([])):(C(Pt),e({title:"File Processed",description:`${Pt.length} items ready for adjustment.`}))}catch(He){console.error("Error parsing file content:",He),b(`Error parsing file: ${He.message}`)}finally{h(!1)}},ve.onerror=ae=>{console.error("FileReader error:",ae),b("Failed to read the file."),h(!1)},ve.readAsArrayBuffer(g)}catch(ve){console.error("Error initiating file read:",ve),b(`Error reading file: ${ve.message}`),h(!1)}},[g,n,e,H]),ie=async()=>{if(t!=null&&t.id){te(!0);try{const ve=["pending","approved","rejected"],ae=await kRe(t.id,ve,20);K(ae)}catch(ve){console.error("Error fetching user's adjustment requests:",ve),e({variant:"destructive",title:"Error",description:"Could not load your adjustment requests."})}finally{te(!1)}}},le=()=>{ie(),re(!0)},pe=async(ve,ae,Ue)=>{var He;O(!0),G(null);try{const Ie=await ARe(ve);if(Ie){if(B(Ie),Ie.photo_url){const he=await BS(Ie.photo_url);G(he)}e({title:"Request Submitted Successfully",description:ae?`${Ue} adjustment requests initiated. Displaying details for the first item.`:`Adjustment request for ${((He=Ie.inventory_items)==null?void 0:He.item_name)||"item"} submitted.`})}else e({variant:"destructive",title:"Error",description:"Could not fetch details of the submitted request."})}catch(Ie){console.error("Failed to fetch submitted request details:",Ie),e({variant:"destructive",title:"Error",description:"Failed to load request details after submission."})}finally{R.reset({notes:"",photo_file:null,customApproverEmails:"",quantity_to_decrease:void 0,reason:void 0}),d(null),D(!1),y(null),C([]),b(null),H(),O(!1)}},J=async ve=>{var ae,Ue;x(!0);try{if(!(t!=null&&t.id)){e({variant:"destructive",title:"Error",description:"User not authenticated."});return}if(!ve.photo_file){R.setError("photo_file",{type:"manual",message:"Photo proof is required."});return}if(E&&S.length>0){if(_){e({variant:"destructive",title:"Error",description:"Cannot submit, please fix errors in the uploaded file."});return}try{const He=Sw();e({title:"Uploading Photo...",description:"Please wait."});const Ie=await Uz(ve.photo_file,He);e({title:"Submitting Bulk Request...",description:`Processing ${S.length} items from file.`});const he=((ae=ve.customApproverEmails)==null?void 0:ae.split(",").map(pt=>pt.trim()).filter(pt=>pt.length>0))||null;let Ze=null;for(const pt of S){const ht=await Bz({inventory_item_id:pt.inventory_item_id,quantity_to_decrease:pt.quantity_to_decrease,reason:pt.reason,notes:ve.notes,photo_url:Ie,requested_by_user_id:t.id,custom_approver_emails:he});Ze||(Ze=ht.id)}Ze?await pe(Ze,!0,S.length):(e({title:"Success",description:`Bulk adjustment process completed for ${S.length} items. No specific request to display.`}),R.reset({notes:"",photo_file:null,customApproverEmails:""}),D(!1),y(null),C([]),b(null),H())}catch(He){console.error("Failed to submit file-based bulk adjustment request:",He),e({variant:"destructive",title:"Bulk Adjustment Failed",description:(He==null?void 0:He.message)||"An unexpected error occurred during bulk submission."})}}else if(u&&ve.quantity_to_decrease!==void 0&&ve.reason!==void 0){if(u.quantity-ve.quantity_to_decrease<0){R.setError("quantity_to_decrease",{type:"manual",message:`Decrease quantity (${ve.quantity_to_decrease}) exceeds current stock (${u.quantity}) for ${u.item_name}.`});return}try{const He=Sw();e({title:"Uploading Photo...",description:"Please wait."});const Ie=await Uz(ve.photo_file,He);e({title:"Submitting Request...",description:"Saving adjustment request details."});const he=((Ue=ve.customApproverEmails)==null?void 0:Ue.split(",").map(pt=>pt.trim()).filter(pt=>pt.length>0))||null,Ze=await Bz({inventory_item_id:u.id,quantity_to_decrease:ve.quantity_to_decrease,reason:ve.reason,notes:ve.notes,photo_url:Ie,requested_by_user_id:t.id,custom_approver_emails:he});await pe(Ze.id,!1)}catch(He){console.error("Failed to submit single adjustment request:",He),e({variant:"destructive",title:"Adjustment Failed",description:(He==null?void 0:He.message)||"An unexpected error occurred during single item submission."})}}else{e({variant:"destructive",title:"Error",description:"Form data is incomplete or invalid."});return}}catch(He){console.error("Overall submission process error:",He),e({variant:"destructive",title:"Submission Process Error",description:(He==null?void 0:He.message)||"An unexpected error occurred."})}finally{x(!1)}};return w("div",{className:"container mx-auto p-4 md:p-6",children:[c(Ca,{heading:L?"Adjustment Request Submitted":"Create Stock Adjustment Request",text:L?`Details for request ID: ${L.id}`:E?"Adjust stock via file upload.":u?`Adjusting: ${u.item_name} (Current Stock: ${u.quantity})`:"Select an item or upload a file to adjust stock."}),P?c("div",{className:"flex justify-center items-center h-64",children:c("p",{children:"Loading request details..."})}):L?w(ur,{className:"max-w-2xl mx-auto mt-6",children:[w(wr,{children:[w(_r,{className:"flex items-center",children:["Request Details",L.status==="approved"&&c(oce,{className:"ml-2 h-6 w-6 text-green-500"}),L.status==="pending"&&c(dc,{className:"ml-2 h-6 w-6 text-yellow-500"}),L.status==="rejected"&&c(dc,{className:"ml-2 h-6 w-6 text-red-500"})]}),w(vc,{children:["Item: ",((me=L.inventory_items)==null?void 0:me.item_name)||"N/A"]})]}),w(xr,{className:"space-y-4",children:[w("div",{children:[c("strong",{children:"Request ID:"})," ",L.id]}),w("div",{children:[c("strong",{children:"Quantity Decreased:"})," ",L.quantity_to_decrease]}),w("div",{children:[c("strong",{children:"Reason:"})," ",L.reason]}),w("div",{children:[c("strong",{children:"Notes:"})," ",L.notes]}),w("div",{children:[c("strong",{children:"Status:"}),c("span",{className:`ml-1 font-semibold ${L.status==="approved"?"text-green-600":L.status==="rejected"?"text-red-600":"text-yellow-600"}`,children:L.status.toUpperCase()})]}),w("div",{children:[c("strong",{children:"Requested At:"})," ",new Date(L.requested_at).toLocaleString()]}),w("div",{children:[c("strong",{children:"Requested By:"})," ",L.requester_profile&&`${L.requester_profile.first_name||""} ${L.requester_profile.last_name||""}`.trim()||"N/A"]}),L.reviewed_by_user_id&&w(Dr,{children:[w("div",{children:[c("strong",{children:"Reviewed At:"})," ",L.reviewed_at?new Date(L.reviewed_at).toLocaleString():"N/A"]}),w("div",{children:[c("strong",{children:"Reviewer Notes:"})," ",L.reviewer_notes||"N/A"]})]}),j?w("div",{className:"mt-4",children:[c("strong",{children:"Proof Photo:"}),c("img",{src:j,alt:"Adjustment Proof",className:"rounded-md border max-w-xs max-h-64 mt-2"})]}):L.photo_url?w("div",{className:"mt-4",children:[c("strong",{children:"Proof Photo:"}),w("div",{className:"flex items-center text-muted-foreground",children:[c(zV,{className:"mr-2 h-5 w-5"}),c("span",{children:"Loading photo or photo not available..."})]})]}):null,w("div",{className:"flex justify-end space-x-3 pt-4",children:[w(Fe,{variant:"outline",onClick:()=>{B(null),G(null)},children:[c(Nh,{className:"mr-2 h-4 w-4"})," Make Another Adjustment"]}),w(Fe,{onClick:()=>r("/inventory"),children:[c(pce,{className:"mr-2 h-4 w-4"})," Go to Inventory"]})]})]})]}):!u&&!E?w(Dr,{children:[w("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center my-4 space-y-2 sm:space-y-0",children:[c(ot,{placeholder:"Search items by name, SKU, or category...",value:s,onChange:ve=>l(ve.target.value),className:"max-w-full sm:max-w-sm"}),w("div",{className:"flex space-x-2",children:[" ",w(Fe,{onClick:()=>{D(!0),d(null),C([]),b(null);const ve={notes:R.getValues("notes"),photo_file:R.getValues("photo_file"),customApproverEmails:R.getValues("customApproverEmails")};R.reset({...ve})},children:[c(tx,{className:"mr-2 h-4 w-4"})," Adjust via Bulk Upload"]}),c(Fe,{variant:"outline",onClick:()=>I(!0),children:"View Modification History"}),w(Fe,{variant:"outline",onClick:le,children:[c(WV,{className:"mr-2 h-4 w-4"})," View My Requests"]})]})]}),c(df,{className:"h-[calc(100vh-420px)] border rounded-md",children:w(Fs,{children:[c(Ls,{className:"sticky top-0 bg-card z-10",children:w(Pn,{children:[c(Wt,{children:"Item Name"}),c(Wt,{children:"SKU"}),c(Wt,{children:"Category"}),c(Wt,{className:"text-right",children:"Current Stock"}),c(Wt,{className:"text-right",children:"Actions"})]})}),c(js,{children:f?c(Pn,{children:c(jt,{colSpan:5,className:"text-center",children:"Loading items..."})}):i.length===0?c(Pn,{children:c(jt,{colSpan:5,className:"text-center",children:"No items match your search or no items available."})}):i.map(ve=>w(Pn,{children:[c(jt,{className:"font-medium",children:ve.item_name}),c(jt,{children:ve.item_code||"N/A"}),c(jt,{children:ve.category||"N/A"}),c(jt,{className:"text-right",children:ve.quantity}),c(jt,{className:"text-right",children:c(Fe,{variant:"outline",size:"sm",onClick:()=>X(ve),disabled:m,children:"Adjust"})})]},ve.id))})]})})]}):w("div",{className:"max-w-2xl mx-auto mt-6",children:[E?w("div",{className:"space-y-6 p-6 border rounded-lg shadow-sm bg-card mb-6",children:[" ",w("div",{className:"flex justify-between items-center",children:[c("h3",{className:"text-lg font-semibold",children:"Bulk Adjust via File Upload"}),c(Fe,{variant:"ghost",size:"sm",onClick:()=>{D(!1),y(null),C([]),b(null);const ve={notes:R.getValues("notes"),photo_file:R.getValues("photo_file"),customApproverEmails:R.getValues("customApproverEmails")};R.reset({...ve})},children:"Cancel File Upload"})]}),w("div",{children:[c("label",{htmlFor:"adjustment-file-upload",className:"block text-sm font-medium text-foreground mb-1",children:"Upload Adjustment File (.xlsx, .csv)"}),c("div",{className:"flex items-center justify-center w-full",children:w("label",{htmlFor:"adjustment-file-upload",className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed rounded-lg cursor-pointer bg-card hover:bg-muted/50",children:[w("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[c(tx,{className:"w-8 h-8 mb-4 text-muted-foreground"}),w("p",{className:"mb-2 text-sm text-muted-foreground",children:[c("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),c("p",{className:"text-xs text-muted-foreground",children:"XLSX, CSV (MAX. 5MB)"})]}),c(ot,{id:"adjustment-file-upload",type:"file",className:"hidden",accept:RZe.join(","),onChange:ve=>{y(ve.target.files?ve.target.files[0]:null),C([]),b(null)}})]})}),g&&w("p",{className:"text-sm text-muted-foreground mt-2 text-center",children:["Selected: ",g.name]}),_&&c("p",{className:"text-sm font-medium text-destructive mt-1",children:_}),c("p",{className:"text-xs text-muted-foreground mt-1 text-center",children:"Expected columns: 'SKU' (or 'Item Name'), 'Quantity to Decrease', 'Reason'."})]}),c(Fe,{onClick:Z,disabled:!g||f||m,children:f?"Processing File...":"Process Uploaded File"}),S.length>0&&!_&&w("div",{className:"mt-4 p-3 bg-green-100 border border-green-300 rounded-md",children:[w("p",{className:"text-green-700 font-semibold",children:[S.length," items parsed successfully and ready for adjustment."]}),c("p",{className:"text-xs text-green-600",children:"Review common fields below and submit."})]})]}):null,c(Dh,{...R,children:w("form",{onSubmit:R.handleSubmit(J),className:"space-y-8 p-6 border rounded-lg shadow-sm bg-card",children:[!E&&u&&w("h3",{className:"text-lg font-semibold",children:["Adjusting Single Item: ",u.item_name," (Current: ",u.quantity,")"]}),!E&&u&&w(Dr,{children:[c(Ge,{control:R.control,name:"quantity_to_decrease",render:({field:ve})=>w(Pe,{children:[c(Te,{children:"Quantity to Decrease"}),c(Oe,{children:c(ot,{type:"number",min:"1",placeholder:"Enter positive quantity",...ve,onChange:ae=>ve.onChange(parseInt(ae.target.value,10)||0),disabled:m})}),c(Xe,{})]})}),c(Ge,{control:R.control,name:"reason",render:({field:ve})=>w(Pe,{children:[c(Te,{children:"Reason for Adjustment"}),w(zr,{onValueChange:ve.onChange,defaultValue:ve.value,disabled:m,children:[c(Oe,{children:c(Br,{children:c(Wr,{placeholder:"Select reason"})})}),c(Ur,{children:o5.map(ae=>c(wt,{value:ae,children:ae.replace(/_/g," ").replace(/\b\w/g,Ue=>Ue.toUpperCase())},ae))})]}),c(Xe,{})]})})]}),(u||E&&S.length>0&&!_)&&w(Dr,{children:[c(Ge,{control:R.control,name:"photo_file",render:({field:ve})=>w(Pe,{children:[c(Te,{children:"Photo Proof (Required)"}),c(Oe,{children:c(t0,{value:ve.value,onFileChange:ae=>ve.onChange(ae),accept:Ooe.join(","),maxSize:Doe,disabled:m})}),c(Xe,{})]})}),c(Ge,{control:R.control,name:"notes",render:({field:ve})=>w(Pe,{children:[c(Te,{children:"Notes (Required)"}),c(Oe,{children:c(Yr,{placeholder:"Explain the reason for adjustment...",...ve,disabled:m})}),c(Xe,{})]})}),c(Ge,{control:R.control,name:"approver_role_target",render:({field:ve})=>w(Pe,{children:[c(Te,{children:"Assign Approver To"}),w(zr,{onValueChange:ae=>{ve.onChange(ae);const Ue=Q();Ue.length===1&&Ue[0].value},value:ve.value,disabled:m,children:[c(Oe,{children:c(Br,{children:c(Wr,{placeholder:"Select role to approve this request"})})}),c(Ur,{children:Q().map(ae=>c(wt,{value:ae.value,children:ae.label},ae.value))})]}),c(Xe,{}),c("p",{className:"text-xs text-muted-foreground",children:"Select the role that should approve this request."})]})}),c(Ge,{control:R.control,name:"customApproverEmails",render:({field:ve})=>w(Pe,{children:[c(Te,{children:"Custom Approver Emails (Optional)"}),c(Oe,{children:c(ot,{placeholder:"e.g., approver1@example.com, approver2@example.com",...ve,disabled:m})}),c(Xe,{}),c("p",{className:"text-xs text-muted-foreground",children:"Enter comma-separated email addresses if you want to notify specific people instead of the default role-based approvers."})]})}),w("div",{className:"flex justify-end space-x-3 pt-4",children:[c(Fe,{type:"button",variant:"outline",onClick:()=>{d(null),D(!1),y(null),C([]),b(null),R.reset({notes:"",photo_file:null,customApproverEmails:"",approver_role_target:void 0,quantity_to_decrease:void 0,reason:void 0})},disabled:m,children:"Cancel"}),c(Fe,{type:"submit",disabled:m||!u&&!E||E&&S.length===0,children:m?"Submitting...":"Submit Adjustment Request(s)"})]})]})]})})]}),T&&c(ei,{open:T,onOpenChange:I,children:w(Ma,{className:"sm:max-w-xl md:max-w-2xl lg:max-w-4xl xl:max-w-5xl",children:[" ",c(Fa,{children:c(La,{children:"Inventory Modification Log"})}),w("div",{className:"py-1 max-h-[70vh] overflow-y-auto",children:[" ",c(DZe,{})]}),w(lo,{className:"sm:justify-start",children:[" ",c(Fe,{variant:"outline",onClick:()=>I(!1),className:"mt-2 sm:mt-0",children:"Close"})]})]})}),Y&&c(ei,{open:Y,onOpenChange:re,children:w(Ma,{className:"sm:max-w-2xl md:max-w-3xl lg:max-w-4xl",children:[w(Fa,{children:[c(La,{children:"My Adjustment Requests"}),c(xo,{children:"Showing your most recent adjustment requests. Click a request to view its full details."})]}),c("div",{className:"py-4 max-h-[70vh] overflow-y-auto",children:z?c("p",{children:"Loading your requests..."}):q.length===0?c("p",{children:"You have no adjustment requests."}):w(Fs,{children:[c(Ls,{children:w(Pn,{children:[c(Wt,{children:"Item"}),c(Wt,{children:"Quantity"}),c(Wt,{children:"Reason"}),c(Wt,{children:"Date"}),c(Wt,{children:"Status"}),c(Wt,{className:"text-right",children:"Actions"})]})}),c(js,{children:q.map(ve=>{var ae;return w(Pn,{children:[c(jt,{children:((ae=ve.inventory_items)==null?void 0:ae.item_name)||"N/A"}),c(jt,{children:ve.quantity_to_decrease}),c(jt,{children:ve.reason}),c(jt,{children:new Date(ve.requested_at).toLocaleDateString()}),c(jt,{children:c("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${ve.status==="approved"?"bg-green-100 text-green-700":ve.status==="rejected"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:ve.status.toUpperCase()})}),c(jt,{className:"text-right",children:c(Fe,{variant:"outline",size:"sm",onClick:()=>{B(ve),ve.photo_url?BS(ve.photo_url).then(G):G(null),re(!1)},children:"View Details"})})]},ve.id)})})]})}),c(lo,{children:c(Fe,{variant:"outline",onClick:()=>re(!1),children:"Close"})})]})})]})},LZe=()=>{const{toast:e}=xn(),{user:t}=oi(),r=as(),[n,a]=A.useState([]),[i,o]=A.useState(!0),[s,l]=A.useState(!1),[u,d]=A.useState({}),[f,h]=A.useState(""),m=A.useCallback(async()=>{o(!0);try{const y=await yR();a(y||[]);const _={};(y||[]).forEach(b=>{_[b.id]={physicalCount:void 0,notes:""}}),d(_)}catch(y){console.error("Failed to fetch inventory items:",y),e({variant:"destructive",title:"Error",description:"Failed to load items for stock take."})}finally{o(!1)}},[e]);A.useEffect(()=>{m()},[m]);const x=(y,_,b)=>{d(S=>({...S,[y]:{...S[y],[_]:_==="physicalCount"?b===""?void 0:parseInt(String(b),10):String(b)}}))},g=async()=>{if(!(t!=null&&t.id)){e({variant:"destructive",title:"Error",description:"User not authenticated."});return}l(!0);const y=[];let _=0;if(n.forEach(b=>{const S=u[b.id];if(S&&S.physicalCount!==void 0&&S.physicalCount>=0){_++;const C={inventory_item_id:b.id,system_quantity_at_count:b.quantity,physical_counted_quantity:S.physicalCount,counted_by_user_id:t.id,notes:S.notes||f||null};y.push(ERe(C))}}),_===0){e({variant:"default",title:"No Data",description:"No physical counts entered to submit."}),l(!1);return}try{await Promise.all(y),e({title:"Success",description:`${_} stock take entries recorded successfully.`}),r("/inventory"),m(),h("")}catch(b){console.error("Failed to record one or more stock takes:",b),e({variant:"destructive",title:"Stock Take Submission Failed",description:"An error occurred while saving some entries. Please check and try again."})}finally{l(!1)}};return i?c("div",{className:"p-4",children:"Loading inventory items..."}):w("div",{className:"container mx-auto p-4 md:p-6",children:[c(Ca,{heading:"Perform Stock Take",text:"Enter the physical count for each item. Only items with a physical count will be submitted."}),w("div",{className:"mt-6",children:[c("div",{className:"mb-4",children:c(Yr,{placeholder:"Global notes for this stock take session (optional)",value:f,onChange:y=>h(y.target.value),className:"max-w-xl",disabled:s})}),w(df,{className:"h-[calc(100vh-300px)] border rounded-md",children:[" ",w(Fs,{children:[c(Ls,{className:"sticky top-0 bg-background z-10",children:w(Pn,{children:[c(Wt,{className:"w-[300px]",children:"Item Name"}),c(Wt,{className:"text-right",children:"System Qty"}),c(Wt,{className:"w-[150px] text-right",children:"Physical Count"}),c(Wt,{className:"w-[250px]",children:"Item Notes (Optional)"})]})}),c(js,{children:n.length===0&&!i?c(Pn,{children:c(jt,{colSpan:4,className:"text-center",children:"No inventory items found."})}):n.map(y=>{var _,b;return w(Pn,{children:[c(jt,{className:"font-medium",children:y.item_name}),c(jt,{className:"text-right",children:y.quantity}),c(jt,{className:"text-right",children:c(ot,{type:"number",min:"0",placeholder:"Count",value:((_=u[y.id])==null?void 0:_.physicalCount)??"",onChange:S=>x(y.id,"physicalCount",S.target.value),className:"text-right",disabled:s})}),c(jt,{children:c(ot,{type:"text",placeholder:"Notes for this item",value:((b=u[y.id])==null?void 0:b.notes)??"",onChange:S=>x(y.id,"notes",S.target.value),disabled:s})})]},y.id)})})]})]}),w("div",{className:"mt-6 flex justify-end space-x-3",children:[c(Fe,{type:"button",variant:"outline",onClick:()=>r("/inventory"),disabled:s,children:"Cancel"}),c(Fe,{onClick:g,disabled:s||i,children:s?"Submitting Stock Take...":"Submit Stock Take"})]})]})]})},jZe=({allowedRoles:e,children:t,fallback:r})=>{const{user:n,loading:a}=oi();if(a)return c("div",{className:"flex justify-center items-center h-screen",children:"Loading authentication status..."});if(!n)return c(Dr,{children:r||c("div",{className:"flex justify-center items-center h-screen",children:"Access Denied: Not Logged In."})});const i=n.role;return!i||!e.includes(i)?c(Dr,{children:r||c("div",{className:"flex justify-center items-center h-screen",children:"Access Denied: You do not have the required permissions."})}):c(Dr,{children:t})},qP=e=>{if(!e)return!1;const t=new Date(e);return!isNaN(t.getTime())},$Ze=()=>{var K,z,te,Q;const{user:e}=oi(),{toast:t}=xn(),[r,n]=A.useState([]),[a,i]=A.useState(!0),[o,s]=A.useState(null),[l,u]=A.useState(null),[d,f]=A.useState([]),[h,m]=A.useState(!0),[x,g]=A.useState(null),[y,_]=A.useState(!1),[b,S]=A.useState(null),[C,E]=A.useState(""),[D,T]=A.useState(!1),[I,L]=A.useState(null),B=A.useCallback(async()=>{if(!(e!=null&&e.id)||!(e!=null&&e.role)){i(!1),e!=null&&e.id&&!(e!=null&&e.role)&&t({variant:"destructive",title:"Error",description:"User role not found for adjustments."});return}i(!0);try{const R=await SRe(e.id,e.role);n(R)}catch(R){console.error("Error fetching pending adjustment requests:",R),t({variant:"destructive",title:"Error",description:"Could not load pending adjustment requests."})}finally{i(!1)}},[t,e]),P=A.useCallback(async()=>{if(!(e!=null&&e.id)||!(e!=null&&e.role)){m(!1),e!=null&&e.id&&!(e!=null&&e.role)&&t({variant:"destructive",title:"Error",description:"User role not found for urgent purchases."});return}m(!0);try{const H=(await aA({status:"pending_approval"})).filter(X=>X.requested_by_user_id!==e.id);f(H)}catch(R){console.error("Error fetching pending urgent purchases:",R),t({variant:"destructive",title:"Error",description:"Could not load pending urgent purchases."})}finally{m(!1)}},[t,e]);A.useEffect(()=>{e&&(B(),P())},[B,P,e]);const O=async(R,H)=>{if(s(R),L("adjustment"),S(H),_(!0),E(""),u(null),R.photo_url)try{const X=await BS(R.photo_url);u(X)}catch(X){console.error("Error fetching photo preview for adjustment:",X),t({variant:"destructive",title:"Error",description:"Could not load adjustment proof photo."})}},j=async(R,H)=>{g(R),L("urgent_purchase"),S(H),_(!0),E("")},G=async()=>{if(!(!b||!(e!=null&&e.id))&&!(I==="adjustment"&&!o)&&!(I==="urgent_purchase"&&!x)){T(!0);try{if(I==="adjustment"){const R=o;b==="approve"?(await qre(R.id,e.id,C),t({title:"Success",description:`Adjustment Request ${R.id.substring(0,8)} approved.`})):(await zre(R.id,e.id,C),t({title:"Success",description:`Adjustment Request ${R.id.substring(0,8)} rejected.`})),B()}else if(I==="urgent_purchase"){const R=x;if(b==="approve")await vZe(R.id,e.id,C),t({title:"Success",description:`Urgent Purchase ${R.id.substring(0,8)} approved.`});else{if(!C.trim()&&((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="owner")){t({variant:"destructive",title:"Validation Error",description:"Reviewer notes are required to reject."}),T(!1);return}await yZe(R.id,e.id,C),t({title:"Success",description:`Urgent Purchase ${R.id.substring(0,8)} rejected.`})}P()}_(!1),s(null),g(null),L(null)}catch(R){console.error(`Error ${b}ing request:`,R),t({variant:"destructive",title:"Error",description:R.message||`Failed to ${b} request.`})}finally{T(!1)}}},Y=["admin","owner","doctor"],re=()=>c(Dr,{children:a?c("p",{children:"Loading adjustment requests..."}):r.length===0?w(ur,{children:[c(wr,{children:c(_r,{children:"No Pending Adjustment Requests"})}),c(xr,{children:c("p",{children:"There are currently no inventory adjustment requests awaiting approval."})})]}):w(ur,{children:[w(wr,{children:[c(_r,{children:"Pending Adjustment Requests"}),w(vc,{children:[r.length," request(s) awaiting review."]})]}),c(xr,{children:w(Fs,{children:[c(Ls,{children:w(Pn,{children:[c(Wt,{children:"Item Name"}),c(Wt,{children:"Quantity"}),c(Wt,{children:"Reason"}),c(Wt,{children:"Requested By"}),c(Wt,{children:"Date"}),c(Wt,{className:"text-right",children:"Actions"})]})}),c(js,{children:r.map(R=>{var H,X,Z;return w(Pn,{children:[c(jt,{children:((H=R.inventory_items)==null?void 0:H.item_name)||"N/A"}),c(jt,{children:R.quantity_to_decrease}),c(jt,{children:R.reason}),w(jt,{children:[((X=R.requester_profile)==null?void 0:X.first_name)||""," ",((Z=R.requester_profile)==null?void 0:Z.last_name)||""]}),c(jt,{children:new Date(R.requested_at).toLocaleDateString()}),w(jt,{className:"text-right space-x-2",children:[w(Fe,{variant:"outline",size:"sm",onClick:()=>O(R,"approve"),children:[c(QM,{className:"mr-1 h-4 w-4"})," Approve"]}),((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="owner")&&w(Fe,{variant:"outline",size:"sm",onClick:()=>O(R,"reject"),children:[c(JM,{className:"mr-1 h-4 w-4"})," Reject"]})]})]},R.id)})})]})})]})}),q=()=>c(Dr,{children:h?c("p",{children:"Loading urgent purchase requests..."}):d.length===0?w(ur,{children:[c(wr,{children:c(_r,{children:"No Pending Urgent Purchases"})}),c(xr,{children:c("p",{children:"There are currently no urgent purchase requests awaiting approval."})})]}):w(ur,{children:[w(wr,{children:[c(_r,{children:"Pending Urgent Purchase Requests"}),w(vc,{children:[d.length," request(s) awaiting review."]})]}),c(xr,{children:w(Fs,{children:[c(Ls,{children:w(Pn,{children:[c(Wt,{children:"Slip/Notes"}),c(Wt,{children:"Items"}),c(Wt,{children:"Requested By (ID)"})," ",c(Wt,{children:"Targeted Role"}),c(Wt,{children:"Date"}),c(Wt,{className:"text-right",children:"Actions"})]})}),c(js,{children:d.map(R=>{var H;return w(Pn,{children:[w(jt,{children:[R.slip_filename||((H=R.notes)==null?void 0:H.substring(0,30))||"N/A",R.notes&&R.notes.length>30?"...":""]}),w(jt,{children:[R.items.length," item(s)"]}),w(jt,{className:"font-mono text-xs",children:[R.requested_by_user_id.substring(0,8),"..."]}),c(jt,{children:R.target_approval_role?R.target_approval_role.charAt(0).toUpperCase()+R.target_approval_role.slice(1):"N/A"}),c(jt,{children:qP(R.requested_at)?nr(new Date(R.requested_at),"PP"):"N/A"}),w(jt,{className:"text-right space-x-2",children:[w(Fe,{variant:"outline",size:"sm",onClick:()=>j(R,"approve"),children:[c(QM,{className:"mr-1 h-4 w-4"})," Approve"]}),((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="owner")&&w(Fe,{variant:"outline",size:"sm",onClick:()=>j(R,"reject"),children:[c(JM,{className:"mr-1 h-4 w-4"})," Reject"]})]})]},R.id)})})]})})]})});return w(jZe,{allowedRoles:Y,children:[w("div",{className:"container mx-auto p-4 md:p-6",children:[c(Ca,{heading:"Approval Requests",text:"Review and process pending requests."}),w(kg,{defaultValue:"adjustments",className:"w-full mt-4",children:[w(Ng,{className:"grid w-full grid-cols-2",children:[c(ol,{value:"adjustments",children:"Inventory Adjustments"}),c(ol,{value:"urgent_purchases",children:"Urgent Purchases"})]}),c(Ei,{value:"adjustments",className:"mt-4",children:re()}),c(Ei,{value:"urgent_purchases",className:"mt-4",children:q()})]})]}),y&&c(ei,{open:y,onOpenChange:R=>{_(R),R||(s(null),g(null),L(null))},children:w(Ma,{className:"sm:max-w-lg",children:[w(Fa,{children:[w(La,{children:[b==="approve"?"Approve":"Reject"," ",I==="adjustment"?"Adjustment":"Urgent Purchase"," Request"]}),I==="adjustment"&&o&&w(xo,{children:["Review details for request ID: ",o.id.substring(0,8),"... for item: ",((K=o.inventory_items)==null?void 0:K.item_name)||"N/A"]}),I==="urgent_purchase"&&x&&w(xo,{children:["Review details for urgent purchase ID: ",x.id.substring(0,8),"...",x.slip_filename?` (Slip: ${x.slip_filename})`:""]})]}),w("div",{className:"py-4 space-y-3 max-h-[60vh] overflow-y-auto",children:[I==="adjustment"&&o&&w(Dr,{children:[w("p",{children:[c("strong",{children:"Item:"})," ",(z=o.inventory_items)==null?void 0:z.item_name]}),w("p",{children:[c("strong",{children:"Quantity to Decrease:"})," ",o.quantity_to_decrease]}),w("p",{children:[c("strong",{children:"Reason:"})," ",o.reason]}),w("p",{children:[c("strong",{children:"Notes by Requester:"})," ",o.notes]}),w("p",{children:[c("strong",{children:"Requested By:"})," ",((te=o.requester_profile)==null?void 0:te.first_name)||""," ",((Q=o.requester_profile)==null?void 0:Q.last_name)||""]}),w("p",{children:[c("strong",{children:"Requested At:"})," ",new Date(o.requested_at).toLocaleString()]}),o.photo_url&&w("div",{children:[c("strong",{children:"Proof Photo:"}),l?c("img",{src:l,alt:"Adjustment Proof",className:"rounded-md border max-w-xs max-h-64 mt-1"}):c("p",{className:"text-sm text-muted-foreground",children:"Loading photo..."})]})]}),I==="urgent_purchase"&&x&&w(Dr,{children:[w("p",{children:[c("strong",{children:"Requested By (ID):"})," ",x.requested_by_user_id]})," ",w("p",{children:[c("strong",{children:"Requested At:"})," ",qP(x.requested_at)?nr(new Date(x.requested_at),"PPpp"):"N/A"]}),w("p",{children:[c("strong",{children:"Targeted For Role:"})," ",x.target_approval_role?x.target_approval_role.charAt(0).toUpperCase()+x.target_approval_role.slice(1):"N/A"]}),x.slip_filename&&w("p",{children:[c("strong",{children:"Slip Filename:"})," ",x.slip_filename]}),x.invoice_delivery_date&&w("p",{children:[c("strong",{children:"Invoice/Delivery Date:"})," ",qP(x.invoice_delivery_date)?nr(new Date(x.invoice_delivery_date),"PP"):"N/A"]}),w("p",{children:[c("strong",{children:"Notes:"})," ",x.notes||"N/A"]}),c("p",{children:c("strong",{children:"Items:"})}),c("ul",{className:"list-disc pl-5 space-y-1 text-sm",children:x.items.map(R=>w("li",{children:[R.matched_item_name," (Qty: ",R.quantity,")",R.batch_number&&` - Batch: ${R.batch_number}`,R.expiry_date&&` - Expires: ${new Date(R.expiry_date).toLocaleDateString()}`]},R.id||R.inventory_item_id))})]}),w("div",{children:[w("label",{htmlFor:"reviewerNotes",className:"block text-sm font-medium",children:["Reviewer Notes ",b==="approve"?"(Optional)":"(Required for Reject)",":"]}),c(Yr,{id:"reviewerNotes",value:C,onChange:R=>E(R.target.value),placeholder:"Add any notes for this decision...",className:"mt-1",rows:3})]})]}),w(lo,{children:[c(Fe,{variant:"outline",onClick:()=>_(!1),disabled:D,children:"Cancel"}),c(Fe,{onClick:G,disabled:D||b==="reject"&&((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="owner")&&!C.trim(),variant:b==="reject"&&((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="owner")?"destructive":"default",children:D?"Submitting...":`Confirm ${b==="approve"?"Approve":"Reject"}`})]})]})})]})},BZe=()=>{const{requestId:e,approvalToken:t}=ey(),r=as(),{user:n}=oi(),{toast:a}=xn(),[i,o]=A.useState(null),[s,l]=A.useState(null),[u,d]=A.useState(!0),[f,h]=A.useState(!1),[m,x]=A.useState(""),[g,y]=A.useState(null),_=A.useCallback(async()=>{if(!e||!t){y("Request ID or approval token is missing."),d(!1);return}d(!0);try{const C=await NRe(e,t);C?(o(C),C.photo_url&&BS(C.photo_url).then(E=>l(E)).catch(E=>console.error("Failed to load photo for approval page",E))):y("Invalid or expired approval link, or request not found/pending.")}catch(C){console.error("Error fetching request for approval:",C),y(C.message||"Could not load request details.")}finally{d(!1)}},[e,t]);A.useEffect(()=>{_()},[_]);const b=async()=>{if(!(!(n!=null&&n.id)||!i)){if(n.id===i.requested_by_user_id){a({variant:"destructive",title:"Action Denied",description:"You cannot approve your own request."});return}h(!0);try{await qre(i.id,n.id,m),a({title:"Success",description:"Request approved and stock updated."}),r("/inventory/adjustment-requests")}catch(C){a({variant:"destructive",title:"Approval Failed",description:C.message})}finally{h(!1)}}},S=async()=>{if(!(!(n!=null&&n.id)||!i)){if(n.id===i.requested_by_user_id){a({variant:"destructive",title:"Action Denied",description:"You cannot reject your own request."});return}if(!m.trim()){a({variant:"destructive",title:"Validation Error",description:"Reviewer notes are required for rejection."});return}h(!0);try{await zre(i.id,n.id,m),a({title:"Success",description:"Request rejected."}),r("/inventory/adjustment-requests")}catch(C){a({variant:"destructive",title:"Rejection Failed",description:C.message})}finally{h(!1)}}};return u?c("div",{className:"container mx-auto p-6 flex justify-center items-center min-h-[calc(100vh-200px)]",children:c(Hn,{className:"h-12 w-12 animate-spin text-primary"})}):g?w("div",{className:"container mx-auto p-6 text-center",children:[c(dc,{className:"mx-auto h-12 w-12 text-red-500 mb-4"}),c("h2",{className:"text-xl font-semibold text-red-600",children:"Access Denied or Error"}),c("p",{className:"text-red-500 mt-2",children:g}),c(Fe,{onClick:()=>r("/"),className:"mt-6",children:"Go to Dashboard"})]}):i?w("div",{className:"container mx-auto p-4 md:p-6 max-w-2xl",children:[c(Ca,{heading:"Approve Inventory Adjustment",text:`Review and process adjustment request ID: ...${i.id.slice(-8)}`}),w(ur,{className:"mt-6",children:[w(wr,{children:[w(_r,{children:["Item: ",i.item_name||"N/A"]}),w(vc,{children:["Requested by: ",i.requester_name||i.requested_by_user_id," on ",new Date(i.requested_at).toLocaleDateString()]})]}),w(xr,{className:"space-y-4",children:[w("p",{children:[c("strong",{children:"Quantity to Decrease:"})," ",i.quantity_to_decrease]}),w("p",{children:[c("strong",{children:"Reason:"})," ",i.reason]}),w("p",{children:[c("strong",{children:"Requester Notes:"})," ",i.notes]}),i.photo_url&&w("div",{children:[c("strong",{children:"Photo Proof:"}),c("br",{}),s?c("a",{href:s,target:"_blank",rel:"noopener noreferrer",children:c("img",{src:s,alt:"Adjustment Proof",className:"max-w-full md:max-w-md border rounded mt-1"})}):c("p",{children:"Loading photo..."})]}),w("div",{className:"space-y-1",children:[c("label",{htmlFor:"reviewerNotes",className:"text-sm font-medium",children:"Your Reviewer Notes:"}),c(Yr,{id:"reviewerNotes",value:m,onChange:C=>x(C.target.value),placeholder:"Add notes for approval or rejection (required for rejection)",rows:3,disabled:f||i.status!=="pending"})]})]}),i.status==="pending"&&w(Vm,{className:"flex justify-end space-x-2",children:[w(Fe,{variant:"outline",onClick:S,disabled:f||(n==null?void 0:n.id)===i.requested_by_user_id,className:"text-red-600 border-red-600 hover:bg-red-50 disabled:opacity-50",title:(n==null?void 0:n.id)===i.requested_by_user_id?"Cannot reject your own request":"",children:[c(Rce,{className:"mr-2 h-4 w-4"})," Reject"]}),w(Fe,{onClick:b,disabled:f||(n==null?void 0:n.id)===i.requested_by_user_id,className:"bg-green-600 hover:bg-green-700 text-white disabled:opacity-50",title:(n==null?void 0:n.id)===i.requested_by_user_id?"Cannot approve your own request":"",children:[c(ex,{className:"mr-2 h-4 w-4"})," Approve"]})]}),i.status!=="pending"&&c(Vm,{children:w("p",{className:"text-sm text-muted-foreground",children:["This request has already been processed (Status: ",i.status,")."]})})]})]}):c("div",{className:"container mx-auto p-6 text-center",children:"Request not found."})};function UZe(){const[e]=Xle(),t=e.get("q"),[r,n]=A.useState([]),[a,i]=A.useState(!1),[o,s]=A.useState(null);return A.useEffect(()=>{t?(console.log(`Fetching patient search results for: ${t}`),i(!0),s(null),ir.patients.search(t).then(l=>{n(l||[]),i(!1)}).catch(l=>{console.error("Patient search failed:",l),s(l.message||"Failed to fetch patient search results."),n([]),i(!1)})):(n([]),s(null))},[t]),w("div",{className:"space-y-6",children:[c(Ca,{heading:`Search Results for "${t||""}"`,text:a?"Searching patients...":o?"Error fetching results":`Found ${r.length} patient results.`}),a?c("div",{className:"flex justify-center items-center py-10",children:c(Hn,{className:"w-8 h-8 animate-spin text-primary"})}):o?c("div",{className:"text-center text-red-600 py-10",children:w("p",{children:["Error: ",o]})}):w("div",{className:"space-y-4",children:[r.length>0?r.map(l=>w("div",{className:"border p-4 rounded-md shadow-sm hover:shadow-md transition-shadow",children:[w("h3",{className:"text-lg font-semibold",children:[l.first_name," ",l.last_name]}),l.email&&w("p",{className:"text-sm text-muted-foreground",children:["Email: ",l.email]}),l.phone&&w("p",{className:"text-sm text-muted-foreground",children:["Phone: ",l.phone]}),c(Wi,{to:`/patients/${l.id}`,className:"text-blue-600 hover:underline text-sm mt-1 inline-block",children:"View Details"})]},l.id)):!a&&t&&w("p",{className:"text-center text-muted-foreground",children:['No patient results found for "',t,'".']}),!t&&c("p",{className:"text-center text-muted-foreground",children:"Please enter a search term in the header."})]})]})}const qZe=({children:e})=>{const{user:t,loading:r}=oi();return r?w("div",{className:"p-4",children:[c(Il,{className:"h-8 w-1/4 mb-4"}),c(Il,{className:"h-4 w-full mb-2"}),c(Il,{className:"h-4 w-3/4"})]}):!t||t.role!=="admin"&&t.role!=="owner"?(console.warn(`Access denied: User role '${t==null?void 0:t.role}' is not 'admin' or 'owner'.`),c(HP,{to:"/",replace:!0})):e?c(Dr,{children:e}):c(MV,{})};var T7="ToastProvider",[P7,zZe,WZe]=Ew("Toast"),[Ioe,jJe]=Xi("Toast",[WZe]),[HZe,iA]=Ioe(T7),Roe=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[s,l]=A.useState(null),[u,d]=A.useState(0),f=A.useRef(!1),h=A.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${T7}\`. Expected non-empty \`string\`.`),c(P7.Provider,{scope:t,children:c(HZe,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:u,viewport:s,onViewportChange:l,onToastAdd:A.useCallback(()=>d(m=>m+1),[]),onToastRemove:A.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};Roe.displayName=T7;var Moe="ToastViewport",VZe=["F8"],j8="toast.viewportPause",$8="toast.viewportResume",Foe=A.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=VZe,label:a="Notifications ({hotkey})",...i}=e,o=iA(Moe,r),s=zZe(r),l=A.useRef(null),u=A.useRef(null),d=A.useRef(null),f=A.useRef(null),h=Hr(t,f,o.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;A.useEffect(()=>{const y=_=>{var S;n.length!==0&&n.every(C=>_[C]||_.code===C)&&((S=f.current)==null||S.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[n]),A.useEffect(()=>{const y=l.current,_=f.current;if(x&&y&&_){const b=()=>{if(!o.isClosePausedRef.current){const D=new CustomEvent(j8);_.dispatchEvent(D),o.isClosePausedRef.current=!0}},S=()=>{if(o.isClosePausedRef.current){const D=new CustomEvent($8);_.dispatchEvent(D),o.isClosePausedRef.current=!1}},C=D=>{!y.contains(D.relatedTarget)&&S()},E=()=>{y.contains(document.activeElement)||S()};return y.addEventListener("focusin",b),y.addEventListener("focusout",C),y.addEventListener("pointermove",b),y.addEventListener("pointerleave",E),window.addEventListener("blur",b),window.addEventListener("focus",S),()=>{y.removeEventListener("focusin",b),y.removeEventListener("focusout",C),y.removeEventListener("pointermove",b),y.removeEventListener("pointerleave",E),window.removeEventListener("blur",b),window.removeEventListener("focus",S)}}},[x,o.isClosePausedRef]);const g=A.useCallback(({tabbingDirection:y})=>{const b=s().map(S=>{const C=S.ref.current,E=[C,...iJe(C)];return y==="forwards"?E:E.reverse()});return(y==="forwards"?b.reverse():b).flat()},[s]);return A.useEffect(()=>{const y=f.current;if(y){const _=b=>{var E,D,T;const S=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!S){const I=document.activeElement,L=b.shiftKey;if(b.target===y&&L){(E=u.current)==null||E.focus();return}const O=g({tabbingDirection:L?"backwards":"forwards"}),j=O.findIndex(G=>G===I);zP(O.slice(j+1))?b.preventDefault():L?(D=u.current)==null||D.focus():(T=d.current)==null||T.focus()}};return y.addEventListener("keydown",_),()=>y.removeEventListener("keydown",_)}},[s,g]),w(Rue,{ref:l,role:"region","aria-label":a.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&c(B8,{ref:u,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"forwards"});zP(y)}}),c(P7.Slot,{scope:r,children:c(pr.ol,{tabIndex:-1,...i,ref:h})}),x&&c(B8,{ref:d,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"backwards"});zP(y)}})]})});Foe.displayName=Moe;var Loe="ToastFocusProxy",B8=A.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,i=iA(Loe,r);return c(L4,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const s=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(s))&&n()}})});B8.displayName=Loe;var l_="Toast",GZe="toast.swipeStart",KZe="toast.swipeMove",YZe="toast.swipeCancel",XZe="toast.swipeEnd",joe=A.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...o}=e,[s,l]=ll({prop:n,defaultProp:a??!0,onChange:i,caller:l_});return c(is,{present:r||s,children:c(QZe,{open:s,...o,ref:t,onClose:()=>l(!1),onPause:Ci(e.onPause),onResume:Ci(e.onResume),onSwipeStart:Ut(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ut(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Ut(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ut(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});joe.displayName=l_;var[ZZe,JZe]=Ioe(l_,{onClose(){}}),QZe=A.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:s,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...x}=e,g=iA(l_,r),[y,_]=A.useState(null),b=Hr(t,G=>_(G)),S=A.useRef(null),C=A.useRef(null),E=a||g.duration,D=A.useRef(0),T=A.useRef(E),I=A.useRef(0),{onToastAdd:L,onToastRemove:B}=g,P=Ci(()=>{var Y;(y==null?void 0:y.contains(document.activeElement))&&((Y=g.viewport)==null||Y.focus()),o()}),O=A.useCallback(G=>{!G||G===1/0||(window.clearTimeout(I.current),D.current=new Date().getTime(),I.current=window.setTimeout(P,G))},[P]);A.useEffect(()=>{const G=g.viewport;if(G){const Y=()=>{O(T.current),u==null||u()},re=()=>{const q=new Date().getTime()-D.current;T.current=T.current-q,window.clearTimeout(I.current),l==null||l()};return G.addEventListener(j8,re),G.addEventListener($8,Y),()=>{G.removeEventListener(j8,re),G.removeEventListener($8,Y)}}},[g.viewport,E,l,u,O]),A.useEffect(()=>{i&&!g.isClosePausedRef.current&&O(E)},[i,E,g.isClosePausedRef,O]),A.useEffect(()=>(L(),()=>B()),[L,B]);const j=A.useMemo(()=>y?Hoe(y):null,[y]);return g.viewport?w(Dr,{children:[j&&c(eJe,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:j}),c(ZZe,{scope:r,onClose:P,children:J1.createPortal(c(P7.ItemSlot,{scope:r,children:c(Iue,{asChild:!0,onEscapeKeyDown:Ut(s,()=>{g.isFocusedToastEscapeKeyDownRef.current||P(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:c(pr.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...x,ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ut(e.onKeyDown,G=>{G.key==="Escape"&&(s==null||s(G.nativeEvent),G.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,P()))}),onPointerDown:Ut(e.onPointerDown,G=>{G.button===0&&(S.current={x:G.clientX,y:G.clientY})}),onPointerMove:Ut(e.onPointerMove,G=>{if(!S.current)return;const Y=G.clientX-S.current.x,re=G.clientY-S.current.y,q=!!C.current,K=["left","right"].includes(g.swipeDirection),z=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,te=K?z(0,Y):0,Q=K?0:z(0,re),R=G.pointerType==="touch"?10:2,H={x:te,y:Q},X={originalEvent:G,delta:H};q?(C.current=H,Bb(KZe,f,X,{discrete:!1})):AV(H,g.swipeDirection,R)?(C.current=H,Bb(GZe,d,X,{discrete:!1}),G.target.setPointerCapture(G.pointerId)):(Math.abs(Y)>R||Math.abs(re)>R)&&(S.current=null)}),onPointerUp:Ut(e.onPointerUp,G=>{const Y=C.current,re=G.target;if(re.hasPointerCapture(G.pointerId)&&re.releasePointerCapture(G.pointerId),C.current=null,S.current=null,Y){const q=G.currentTarget,K={originalEvent:G,delta:Y};AV(Y,g.swipeDirection,g.swipeThreshold)?Bb(XZe,m,K,{discrete:!0}):Bb(YZe,h,K,{discrete:!0}),q.addEventListener("click",z=>z.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),eJe=e=>{const{__scopeToast:t,children:r,...n}=e,a=iA(l_,t),[i,o]=A.useState(!1),[s,l]=A.useState(!1);return nJe(()=>o(!0)),A.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),s?null:c(ay,{asChild:!0,children:c(L4,{...n,children:i&&w(Dr,{children:[a.label," ",r]})})})},tJe="ToastTitle",$oe=A.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return c(pr.div,{...n,ref:t})});$oe.displayName=tJe;var rJe="ToastDescription",Boe=A.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return c(pr.div,{...n,ref:t})});Boe.displayName=rJe;var Uoe="ToastAction",qoe=A.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?c(Woe,{altText:r,asChild:!0,children:c(O7,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Uoe}\`. Expected non-empty \`string\`.`),null)});qoe.displayName=Uoe;var zoe="ToastClose",O7=A.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=JZe(zoe,r);return c(Woe,{asChild:!0,children:c(pr.button,{type:"button",...n,ref:t,onClick:Ut(e.onClick,a.onClose)})})});O7.displayName=zoe;var Woe=A.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return c(pr.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function Hoe(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),aJe(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...Hoe(n))}}),t}function Bb(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?X8(a,i):a.dispatchEvent(i)}var AV=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),i=n>a;return t==="left"||t==="right"?i&&n>r:!i&&a>r};function nJe(e=()=>{}){const t=Ci(e);ii(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function aJe(e){return e.nodeType===e.ELEMENT_NODE}function iJe(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function zP(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var oJe=Roe,Voe=Foe,Goe=joe,Koe=$oe,Yoe=Boe,Xoe=qoe,Zoe=O7;const sJe=oJe,Joe=A.forwardRef(({className:e,...t},r)=>c(Voe,{ref:r,className:It("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Joe.displayName=Voe.displayName;const lJe=Nw("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground",warning:"warning group border-yellow-200 bg-yellow-50 text-yellow-800 dark:border-yellow-700/50 dark:bg-yellow-900/30 dark:text-yellow-300"}},defaultVariants:{variant:"default"}}),Qoe=A.forwardRef(({className:e,variant:t,...r},n)=>c(Goe,{ref:n,className:It(lJe({variant:t}),e),...r}));Qoe.displayName=Goe.displayName;const cJe=A.forwardRef(({className:e,...t},r)=>c(Xoe,{ref:r,className:It("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));cJe.displayName=Xoe.displayName;const ese=A.forwardRef(({className:e,...t},r)=>c(Zoe,{ref:r,className:It("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:c(a0,{className:"h-4 w-4"})}));ese.displayName=Zoe.displayName;const tse=A.forwardRef(({className:e,...t},r)=>c(Koe,{ref:r,className:It("text-sm font-semibold",e),...t}));tse.displayName=Koe.displayName;const rse=A.forwardRef(({className:e,...t},r)=>c(Yoe,{ref:r,className:It("text-sm opacity-90",e),...t}));rse.displayName=Yoe.displayName;function uJe(){const{toasts:e}=xn();return w(sJe,{children:[e.map(function({id:t,title:r,description:n,action:a,...i}){return w(Qoe,{...i,children:[w("div",{className:"grid gap-1",children:[r&&c(tse,{children:r}),n&&c(rse,{children:n})]}),a,c(ese,{})]},t)}),c(Joe,{})]})}const dJe="https://i.postimg.cc/cL6vs7qQ/login-1.png",fJe=()=>{const{signIn:e}=oi(),[t,r]=A.useState(""),[n,a]=A.useState(""),[i,o]=A.useState(!1),[s,l]=A.useState(null);return c("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-bl from-brand-dark via-brand-medium to-brand-light p-4",children:w("div",{className:"w-full max-w-4xl bg-white/95 rounded-2xl shadow-2xl overflow-hidden grid grid-cols-1 md:grid-cols-2 border border-white/10 backdrop-blur-sm",children:[w("div",{className:"p-8 md:p-12 flex flex-col justify-center",children:[c("h2",{className:"text-3xl font-bold text-center text-brand-dark mb-2 tracking-tight",children:"LOGIN"}),c("p",{className:"text-center text-gray-500 text-sm mb-8",children:"Access your AI-powered dashboard."}),w("form",{onSubmit:async h=>{h.preventDefault(),l(null),o(!0);try{await e(t,n),"Notification"in window&&Notification.permission!=="granted"&&Notification.requestPermission().then(m=>{m==="granted"&&console.log("Notification permission granted.")})}catch(m){console.error("Login failed:",m),l(m.message||"Failed to log in. Please check your credentials.")}finally{o(!1)}},className:"space-y-5",children:[w("div",{className:"relative group",children:[c(Kt,{htmlFor:"email",className:"sr-only",children:"Email / Username"}),c(io,{className:"absolute left-3.5 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 group-focus-within:text-brand-medium transition-colors duration-200"}),c(ot,{id:"email",type:"email",placeholder:"Email or Username",value:t,onChange:h=>r(h.target.value),required:!0,className:"pl-10 pr-4 py-3 w-full border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-light focus:border-transparent bg-gray-50 text-sm shadow-inner transition-colors duration-200"})]}),w("div",{className:"relative group",children:[c(Kt,{htmlFor:"password",className:"sr-only",children:"Password"}),c(HV,{className:"absolute left-3.5 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 group-focus-within:text-brand-medium transition-colors duration-200"}),c(ot,{id:"password",type:"password",placeholder:"Password",value:n,onChange:h=>a(h.target.value),required:!0,className:"pl-10 pr-4 py-3 w-full border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-light focus:border-transparent bg-gray-50 text-sm shadow-inner transition-colors duration-200"})]}),s&&c("p",{className:"text-sm text-red-600 text-center",children:s}),c(Fe,{type:"submit",className:"w-full bg-gradient-to-r from-brand-medium to-brand-dark hover:from-brand-medium/90 hover:to-brand-dark/90 text-white font-semibold py-3 px-4 rounded-lg shadow-md hover:shadow-lg transition-all duration-300 ease-in-out disabled:opacity-70",disabled:i,children:i?"Authenticating...":"Login Now"})]}),w("div",{className:"mt-8 text-center",children:[c("p",{className:"text-gray-500 text-xs uppercase tracking-wider mb-4",children:"Or login with"}),w("div",{className:"flex justify-center gap-4",children:[w(Fe,{variant:"outline",onClick:()=>console.log("Google login clicked"),className:"flex items-center justify-center gap-2 border-gray-300 hover:border-brand-light hover:bg-gray-100 rounded-lg px-6 py-2 text-sm text-gray-700 transition-colors duration-200 shadow-sm",children:[c($V,{className:"h-4 w-4"})," Google"]}),w(Fe,{variant:"outline",onClick:()=>console.log("Facebook login clicked"),className:"flex items-center justify-center gap-2 border-gray-300 hover:border-brand-light hover:bg-gray-100 rounded-lg px-6 py-2 text-sm text-gray-700 transition-colors duration-200 shadow-sm",children:[c(qV,{className:"h-4 w-4"})," Facebook"]})]})]}),w("p",{className:"mt-8 text-center text-sm text-gray-600",children:["Need an account?"," ",c(Wi,{to:"/signup",className:"font-semibold text-brand-medium hover:text-brand-dark hover:underline",children:"Sign up Free"})]})]}),w("div",{className:"hidden md:flex items-center justify-center p-8 bg-gradient-to-br from-brand-light via-brand-medium to-brand-dark relative overflow-hidden rounded-r-2xl",children:[w("div",{className:"relative w-full max-w-sm aspect-[3/4] bg-white/10 backdrop-blur-xl rounded-xl shadow-xl border border-white/20 p-4 flex items-center justify-center",children:[c("img",{src:dJe,alt:"AI Tech Feature",className:"max-w-full max-h-full object-contain rounded-lg opacity-95"}),c(jV,{className:"absolute top-4 right-4 h-8 w-8 text-white/60 opacity-70"})]}),c("div",{className:"absolute -bottom-1/4 -left-1/4 w-2/3 h-2/3 bg-brand-very-light/5 rounded-full blur-3xl opacity-50 animate-pulse"}),c("div",{className:"absolute -top-1/4 -right-1/3 w-1/2 h-1/2 bg-white/5 rounded-full blur-3xl opacity-40 animate-pulse animation-delay-2000"})]})]})})},hJe="https://i.postimg.cc/cL6vs7qQ/login-1.png",pJe=()=>{const{toast:e}=xn(),[t,r]=A.useState(""),[n,a]=A.useState(""),[i,o]=A.useState(""),[s,l]=A.useState(!1),[u,d]=A.useState(!1),[f,h]=A.useState(null);return c("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-bl from-brand-dark via-brand-medium to-brand-light p-4",children:w("div",{className:"w-full max-w-4xl bg-white/90 rounded-2xl shadow-2xl overflow-hidden grid grid-cols-1 md:grid-cols-2 border border-white/10 backdrop-blur-sm",children:[w("div",{className:"p-8 md:p-12 flex flex-col justify-center",children:[c("h2",{className:"text-3xl font-bold text-center text-brand-dark mb-2 tracking-tight",children:"SIGN UP"}),c("p",{className:"text-center text-gray-500 text-sm mb-8",children:"Create your account to unlock AI features."}),w("form",{onSubmit:async y=>{var _,b;if(y.preventDefault(),h(null),!s){h("You must agree to the Terms & Privacy policy.");return}d(!0);try{const{data:S,error:C}=await Me.auth.signUp({email:n,password:i,options:{data:{full_name:t}}});if(C)throw C;e({title:"Account Created!",description:((b=(_=S.user)==null?void 0:_.identities)==null?void 0:b.length)===0?"Please check your email to confirm your account.":"You can now log in.",variant:"default"}),r(""),a(""),o(""),l(!1)}catch(S){console.error("Sign up failed:",S),h(S.message||"Failed to create account. Please try again."),e({title:"Sign Up Error",description:S.message||"An unexpected error occurred.",variant:"destructive"})}finally{d(!1)}},className:"space-y-5",children:[w("div",{className:"relative group",children:[c(Kt,{htmlFor:"name",className:"sr-only",children:"Full Name"}),c(io,{className:"absolute left-3.5 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 group-focus-within:text-brand-medium transition-colors duration-200"}),c(ot,{id:"name",type:"text",placeholder:"Full Name",value:t,onChange:y=>r(y.target.value),required:!0,className:"pl-10 pr-4 py-3 w-full border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-light focus:border-transparent bg-brand-very-light/20 text-sm shadow-inner transition-colors duration-200"})]}),w("div",{className:"relative group",children:[c(Kt,{htmlFor:"email",className:"sr-only",children:"Email"}),c(h4,{className:"absolute left-3.5 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 group-focus-within:text-brand-medium transition-colors duration-200"}),c(ot,{id:"email",type:"email",placeholder:"Email Address",value:n,onChange:y=>a(y.target.value),required:!0,className:"pl-10 pr-4 py-3 w-full border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-light focus:border-transparent bg-brand-very-light/20 text-sm shadow-inner transition-colors duration-200"})]}),w("div",{className:"relative group",children:[c(Kt,{htmlFor:"password",className:"sr-only",children:"Password"}),c(HV,{className:"absolute left-3.5 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 group-focus-within:text-brand-medium transition-colors duration-200"}),c(ot,{id:"password",type:"password",placeholder:"Password (min 8 characters)",value:i,onChange:y=>o(y.target.value),required:!0,minLength:8,className:"pl-10 pr-4 py-3 w-full border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-light focus:border-transparent bg-brand-very-light/20 text-sm shadow-inner transition-colors duration-200"})]}),w("div",{className:"flex items-center space-x-2 pt-1",children:[c(Ps,{id:"terms",checked:s,onCheckedChange:y=>l(y),className:"border-gray-300 data-[state=checked]:bg-brand-dark data-[state=checked]:border-brand-dark data-[state=checked]:text-white focus:ring-brand-light focus:ring-offset-white"}),w("label",{htmlFor:"terms",className:"text-xs font-medium text-gray-600 leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:["I agree to the ",c("a",{href:"/terms",target:"_blank",rel:"noopener noreferrer",className:"text-brand-medium hover:text-brand-dark hover:underline",children:"Terms"})," & ",c("a",{href:"/privacy",target:"_blank",rel:"noopener noreferrer",className:"text-brand-medium hover:text-brand-dark hover:underline",children:"Privacy Policy"})]})]}),f&&c("p",{className:"text-sm text-red-600 text-center pt-1",children:f}),c(Fe,{type:"submit",className:"w-full bg-gradient-to-r from-brand-medium to-brand-dark hover:shadow-lg hover:opacity-95 text-white font-semibold py-3 px-4 rounded-lg shadow-md transition-all duration-300 ease-in-out disabled:opacity-70",disabled:u||!s,children:u?"Creating Account...":"Sign Up Now"})]}),w("div",{className:"mt-8 text-center",children:[c("p",{className:"text-gray-500 text-xs uppercase tracking-wider mb-4",children:"Or sign up with"}),w("div",{className:"flex justify-center gap-4",children:[w(Fe,{variant:"outline",onClick:()=>console.log("Google login clicked"),className:"flex items-center justify-center gap-2 border-gray-300 hover:border-brand-light hover:bg-brand-very-light/20 rounded-lg px-6 py-2 text-sm text-gray-700 transition-colors duration-200 shadow-sm",children:[c($V,{className:"h-4 w-4"})," Google"]}),w(Fe,{variant:"outline",onClick:()=>console.log("Facebook login clicked"),className:"flex items-center justify-center gap-2 border-gray-300 hover:border-brand-light hover:bg-brand-very-light/20 rounded-lg px-6 py-2 text-sm text-gray-700 transition-colors duration-200 shadow-sm",children:[c(qV,{className:"h-4 w-4"})," Facebook"]})]})]}),w("p",{className:"mt-8 text-center text-sm text-gray-600",children:["Already have an account?"," ",c(Wi,{to:"/login",className:"font-semibold text-brand-medium hover:text-brand-dark hover:underline",children:"Log In"})]})]}),w("div",{className:"hidden md:flex items-center justify-center p-8 bg-gradient-to-br from-brand-light via-brand-medium to-brand-dark relative overflow-hidden rounded-r-2xl",children:[w("div",{className:"relative w-full max-w-sm aspect-[3/4] bg-white/10 backdrop-blur-xl rounded-xl shadow-xl border border-white/20 p-4 flex items-center justify-center",children:[c("img",{src:hJe,alt:"AI Tech Feature",className:"max-w-full max-h-full object-contain rounded-lg opacity-95"}),c(jV,{className:"absolute top-4 right-4 h-8 w-8 text-white/60 opacity-70"})]}),c("div",{className:"absolute -bottom-1/4 -left-1/4 w-2/3 h-2/3 bg-brand-very-light/5 rounded-full blur-3xl opacity-50 animate-pulse"}),c("div",{className:"absolute -top-1/4 -right-1/3 w-1/2 h-1/2 bg-white/5 rounded-full blur-3xl opacity-40 animate-pulse animation-delay-2000"})]})]})})};function mJe(){const{user:e,loading:t}=oi();return t?c("div",{className:"flex items-center justify-center min-h-screen",children:c(Hn,{className:"w-8 h-8 animate-spin text-primary"})}):w(jle,{children:[e?w(Bn,{path:"/",element:c(R1e,{}),children:[c(Bn,{index:!0,element:c(tOe,{})})," ",c(Bn,{path:"appointments",element:c(GDe,{})}),c(Bn,{path:"patients",element:c(Dz,{})}),c(Bn,{path:"patients/:id",element:c(Dz,{})})," ",c(Bn,{path:"treatment-plans",element:c(rRe,{})}),c(Bn,{path:"profile",element:c(fRe,{})}),c(Bn,{path:"settings",element:c(lRe,{})}),c(Bn,{path:"payments-subscription",element:c(pRe,{})}),c(Bn,{path:"patient-medical-records",element:c(mRe,{})}),w(Bn,{element:c(qZe,{}),children:[c(Bn,{path:"inventory",element:c(_Ve,{})}),c(Bn,{path:"inventory/create-adjustment",element:c(FZe,{})})," ",c(Bn,{path:"inventory/stock-take",element:c(LZe,{})})," ",c(Bn,{path:"inventory/invoices",element:c(SVe,{})})," ",c(Bn,{path:"purchases",element:c(QYe,{})})," ",c(Bn,{path:"purchases/create",element:c(zXe,{})})," "," ",c(Bn,{path:"purchases/urgent",element:c(NZe,{})})," ",c(Bn,{path:"purchases/urgent/history",element:c(CZe,{})})," ",c(Bn,{path:"purchases/urgent/my-requests",element:c(TZe,{})})," ",c(Bn,{path:"purchases/urgent/:id",element:c(EZe,{})})," ",c(Bn,{path:"purchases/:id",element:c(mZe,{})})," ",c(Bn,{path:"assets",element:c(AYe,{})}),c(Bn,{path:"assets/:assetId",element:c(kYe,{})})," ",c(Bn,{path:"reports",element:c(LYe,{})}),c(Bn,{path:"reminders",element:c(UYe,{})})]}),c(Bn,{path:"inventory-approvals",element:c($Ze,{})}),c(Bn,{path:"search",element:c(UZe,{})}),c(Bn,{path:"*",element:c(HP,{to:"/",replace:!0})})]}):w(Dr,{children:[c(Bn,{path:"/login",element:c(fJe,{})}),c(Bn,{path:"/signup",element:c(pJe,{})}),c(Bn,{path:"*",element:c(HP,{to:"/login",replace:!0})})]}),c(Bn,{path:"/approve-adjustment/:requestId/:approvalToken",element:c(BZe,{})})]})}function gJe(){return c(bme,{children:w(Vle,{children:[c(mJe,{})," ",c(uJe,{})]})})}Wse.createRoot(document.getElementById("root")).render(c(A.StrictMode,{children:c(gJe,{})}));export{ba as _,z_ as c,oa as g};
