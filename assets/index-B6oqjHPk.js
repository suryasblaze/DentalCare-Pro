var tle=Object.defineProperty;var rle=(e,t,r)=>t in e?tle(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var yr=(e,t,r)=>rle(e,typeof t!="symbol"?t+"":t,r);function nle(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var n_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ma(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ale(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var a3={exports:{}},Tn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H7;function ile(){if(H7)return Tn;H7=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;function h(Q){return Q===null||typeof Q!="object"?null:(Q=f&&Q[f]||Q["@@iterator"],typeof Q=="function"?Q:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,g={};function y(Q,D,K){this.props=Q,this.context=D,this.refs=g,this.updater=K||m}y.prototype.isReactComponent={},y.prototype.setState=function(Q,D){if(typeof Q!="object"&&typeof Q!="function"&&Q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Q,D,"setState")},y.prototype.forceUpdate=function(Q){this.updater.enqueueForceUpdate(this,Q,"forceUpdate")};function b(){}b.prototype=y.prototype;function _(Q,D,K){this.props=Q,this.context=D,this.refs=g,this.updater=K||m}var N=_.prototype=new b;N.constructor=_,w(N,y.prototype),N.isPureReactComponent=!0;var E=Array.isArray,C=Object.prototype.hasOwnProperty,O={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function M(Q,D,K){var J,ne={},ie=null,oe=null;if(D!=null)for(J in D.ref!==void 0&&(oe=D.ref),D.key!==void 0&&(ie=""+D.key),D)C.call(D,J)&&!P.hasOwnProperty(J)&&(ne[J]=D[J]);var ue=arguments.length-2;if(ue===1)ne.children=K;else if(1<ue){for(var V=Array(ue),se=0;se<ue;se++)V[se]=arguments[se+2];ne.children=V}if(Q&&Q.defaultProps)for(J in ue=Q.defaultProps,ue)ne[J]===void 0&&(ne[J]=ue[J]);return{$$typeof:e,type:Q,key:ie,ref:oe,props:ne,_owner:O.current}}function L(Q,D){return{$$typeof:e,type:Q.type,key:D,ref:Q.ref,props:Q.props,_owner:Q._owner}}function j(Q){return typeof Q=="object"&&Q!==null&&Q.$$typeof===e}function T(Q){var D={"=":"=0",":":"=2"};return"$"+Q.replace(/[=:]/g,function(K){return D[K]})}var I=/\/+/g;function B(Q,D){return typeof Q=="object"&&Q!==null&&Q.key!=null?T(""+Q.key):D.toString(36)}function G(Q,D,K,J,ne){var ie=typeof Q;(ie==="undefined"||ie==="boolean")&&(Q=null);var oe=!1;if(Q===null)oe=!0;else switch(ie){case"string":case"number":oe=!0;break;case"object":switch(Q.$$typeof){case e:case t:oe=!0}}if(oe)return oe=Q,ne=ne(oe),Q=J===""?"."+B(oe,0):J,E(ne)?(K="",Q!=null&&(K=Q.replace(I,"$&/")+"/"),G(ne,D,K,"",function(se){return se})):ne!=null&&(j(ne)&&(ne=L(ne,K+(!ne.key||oe&&oe.key===ne.key?"":(""+ne.key).replace(I,"$&/")+"/")+Q)),D.push(ne)),1;if(oe=0,J=J===""?".":J+":",E(Q))for(var ue=0;ue<Q.length;ue++){ie=Q[ue];var V=J+B(ie,ue);oe+=G(ie,D,K,V,ne)}else if(V=h(Q),typeof V=="function")for(Q=V.call(Q),ue=0;!(ie=Q.next()).done;)ie=ie.value,V=J+B(ie,ue++),oe+=G(ie,D,K,V,ne);else if(ie==="object")throw D=String(Q),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(Q).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.");return oe}function Z(Q,D,K){if(Q==null)return Q;var J=[],ne=0;return G(Q,J,"","",function(ie){return D.call(K,ie,ne++)}),J}function re(Q){if(Q._status===-1){var D=Q._result;D=D(),D.then(function(K){(Q._status===0||Q._status===-1)&&(Q._status=1,Q._result=K)},function(K){(Q._status===0||Q._status===-1)&&(Q._status=2,Q._result=K)}),Q._status===-1&&(Q._status=0,Q._result=D)}if(Q._status===1)return Q._result.default;throw Q._result}var W={current:null},z={transition:null},U={ReactCurrentDispatcher:W,ReactCurrentBatchConfig:z,ReactCurrentOwner:O};function Y(){throw Error("act(...) is not supported in production builds of React.")}return Tn.Children={map:Z,forEach:function(Q,D,K){Z(Q,function(){D.apply(this,arguments)},K)},count:function(Q){var D=0;return Z(Q,function(){D++}),D},toArray:function(Q){return Z(Q,function(D){return D})||[]},only:function(Q){if(!j(Q))throw Error("React.Children.only expected to receive a single React element child.");return Q}},Tn.Component=y,Tn.Fragment=r,Tn.Profiler=a,Tn.PureComponent=_,Tn.StrictMode=n,Tn.Suspense=c,Tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U,Tn.act=Y,Tn.cloneElement=function(Q,D,K){if(Q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Q+".");var J=w({},Q.props),ne=Q.key,ie=Q.ref,oe=Q._owner;if(D!=null){if(D.ref!==void 0&&(ie=D.ref,oe=O.current),D.key!==void 0&&(ne=""+D.key),Q.type&&Q.type.defaultProps)var ue=Q.type.defaultProps;for(V in D)C.call(D,V)&&!P.hasOwnProperty(V)&&(J[V]=D[V]===void 0&&ue!==void 0?ue[V]:D[V])}var V=arguments.length-2;if(V===1)J.children=K;else if(1<V){ue=Array(V);for(var se=0;se<V;se++)ue[se]=arguments[se+2];J.children=ue}return{$$typeof:e,type:Q.type,key:ne,ref:ie,props:J,_owner:oe}},Tn.createContext=function(Q){return Q={$$typeof:s,_currentValue:Q,_currentValue2:Q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Q.Provider={$$typeof:i,_context:Q},Q.Consumer=Q},Tn.createElement=M,Tn.createFactory=function(Q){var D=M.bind(null,Q);return D.type=Q,D},Tn.createRef=function(){return{current:null}},Tn.forwardRef=function(Q){return{$$typeof:o,render:Q}},Tn.isValidElement=j,Tn.lazy=function(Q){return{$$typeof:d,_payload:{_status:-1,_result:Q},_init:re}},Tn.memo=function(Q,D){return{$$typeof:u,type:Q,compare:D===void 0?null:D}},Tn.startTransition=function(Q){var D=z.transition;z.transition={};try{Q()}finally{z.transition=D}},Tn.unstable_act=Y,Tn.useCallback=function(Q,D){return W.current.useCallback(Q,D)},Tn.useContext=function(Q){return W.current.useContext(Q)},Tn.useDebugValue=function(){},Tn.useDeferredValue=function(Q){return W.current.useDeferredValue(Q)},Tn.useEffect=function(Q,D){return W.current.useEffect(Q,D)},Tn.useId=function(){return W.current.useId()},Tn.useImperativeHandle=function(Q,D,K){return W.current.useImperativeHandle(Q,D,K)},Tn.useInsertionEffect=function(Q,D){return W.current.useInsertionEffect(Q,D)},Tn.useLayoutEffect=function(Q,D){return W.current.useLayoutEffect(Q,D)},Tn.useMemo=function(Q,D){return W.current.useMemo(Q,D)},Tn.useReducer=function(Q,D,K){return W.current.useReducer(Q,D,K)},Tn.useRef=function(Q){return W.current.useRef(Q)},Tn.useState=function(Q){return W.current.useState(Q)},Tn.useSyncExternalStore=function(Q,D,K){return W.current.useSyncExternalStore(Q,D,K)},Tn.useTransition=function(){return W.current.useTransition()},Tn.version="18.3.1",Tn}var G7;function v4(){return G7||(G7=1,a3.exports=ile()),a3.exports}var S=v4();const tt=ma(S),dx=nle({__proto__:null,default:tt},[S]);var a_={},i3={exports:{}},Pl={},s3={exports:{}},o3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y7;function sle(){return Y7||(Y7=1,function(e){function t(z,U){var Y=z.length;z.push(U);e:for(;0<Y;){var Q=Y-1>>>1,D=z[Q];if(0<a(D,U))z[Q]=U,z[Y]=D,Y=Q;else break e}}function r(z){return z.length===0?null:z[0]}function n(z){if(z.length===0)return null;var U=z[0],Y=z.pop();if(Y!==U){z[0]=Y;e:for(var Q=0,D=z.length,K=D>>>1;Q<K;){var J=2*(Q+1)-1,ne=z[J],ie=J+1,oe=z[ie];if(0>a(ne,Y))ie<D&&0>a(oe,ne)?(z[Q]=oe,z[ie]=Y,Q=ie):(z[Q]=ne,z[J]=Y,Q=J);else if(ie<D&&0>a(oe,Y))z[Q]=oe,z[ie]=Y,Q=ie;else break e}}return U}function a(z,U){var Y=z.sortIndex-U.sortIndex;return Y!==0?Y:z.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var c=[],u=[],d=1,f=null,h=3,m=!1,w=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(z){for(var U=r(u);U!==null;){if(U.callback===null)n(u);else if(U.startTime<=z)n(u),U.sortIndex=U.expirationTime,t(c,U);else break;U=r(u)}}function E(z){if(g=!1,N(z),!w)if(r(c)!==null)w=!0,re(C);else{var U=r(u);U!==null&&W(E,U.startTime-z)}}function C(z,U){w=!1,g&&(g=!1,b(M),M=-1),m=!0;var Y=h;try{for(N(U),f=r(c);f!==null&&(!(f.expirationTime>U)||z&&!T());){var Q=f.callback;if(typeof Q=="function"){f.callback=null,h=f.priorityLevel;var D=Q(f.expirationTime<=U);U=e.unstable_now(),typeof D=="function"?f.callback=D:f===r(c)&&n(c),N(U)}else n(c);f=r(c)}if(f!==null)var K=!0;else{var J=r(u);J!==null&&W(E,J.startTime-U),K=!1}return K}finally{f=null,h=Y,m=!1}}var O=!1,P=null,M=-1,L=5,j=-1;function T(){return!(e.unstable_now()-j<L)}function I(){if(P!==null){var z=e.unstable_now();j=z;var U=!0;try{U=P(!0,z)}finally{U?B():(O=!1,P=null)}}else O=!1}var B;if(typeof _=="function")B=function(){_(I)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,Z=G.port2;G.port1.onmessage=I,B=function(){Z.postMessage(null)}}else B=function(){y(I,0)};function re(z){P=z,O||(O=!0,B())}function W(z,U){M=y(function(){z(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){w||m||(w=!0,re(C))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(z){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var Y=h;h=U;try{return z()}finally{h=Y}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,U){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var Y=h;h=z;try{return U()}finally{h=Y}},e.unstable_scheduleCallback=function(z,U,Y){var Q=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?Q+Y:Q):Y=Q,z){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=Y+D,z={id:d++,callback:U,priorityLevel:z,startTime:Y,expirationTime:D,sortIndex:-1},Y>Q?(z.sortIndex=Y,t(u,z),r(c)===null&&z===r(u)&&(g?(b(M),M=-1):g=!0,W(E,Y-Q))):(z.sortIndex=D,t(c,z),w||m||(w=!0,re(C))),z},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(z){var U=h;return function(){var Y=h;h=U;try{return z.apply(this,arguments)}finally{h=Y}}}}(o3)),o3}var K7;function ole(){return K7||(K7=1,s3.exports=sle()),s3.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X7;function lle(){if(X7)return Pl;X7=1;var e=v4(),t=ole();function r(p){for(var v="https://reactjs.org/docs/error-decoder.html?invariant="+p,A=1;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A]);return"Minified React error #"+p+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,a={};function i(p,v){s(p,v),s(p+"Capture",v)}function s(p,v){for(a[p]=v,p=0;p<v.length;p++)n.add(v[p])}var o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},f={};function h(p){return c.call(f,p)?!0:c.call(d,p)?!1:u.test(p)?f[p]=!0:(d[p]=!0,!1)}function m(p,v,A,R){if(A!==null&&A.type===0)return!1;switch(typeof v){case"function":case"symbol":return!0;case"boolean":return R?!1:A!==null?!A.acceptsBooleans:(p=p.toLowerCase().slice(0,5),p!=="data-"&&p!=="aria-");default:return!1}}function w(p,v,A,R){if(v===null||typeof v>"u"||m(p,v,A,R))return!0;if(R)return!1;if(A!==null)switch(A.type){case 3:return!v;case 4:return v===!1;case 5:return isNaN(v);case 6:return isNaN(v)||1>v}return!1}function g(p,v,A,R,H,ee,pe){this.acceptsBooleans=v===2||v===3||v===4,this.attributeName=R,this.attributeNamespace=H,this.mustUseProperty=A,this.propertyName=p,this.type=v,this.sanitizeURL=ee,this.removeEmptyString=pe}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(p){y[p]=new g(p,0,!1,p,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(p){var v=p[0];y[v]=new g(v,1,!1,p[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(p){y[p]=new g(p,2,!1,p.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(p){y[p]=new g(p,2,!1,p,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(p){y[p]=new g(p,3,!1,p.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(p){y[p]=new g(p,3,!0,p,null,!1,!1)}),["capture","download"].forEach(function(p){y[p]=new g(p,4,!1,p,null,!1,!1)}),["cols","rows","size","span"].forEach(function(p){y[p]=new g(p,6,!1,p,null,!1,!1)}),["rowSpan","start"].forEach(function(p){y[p]=new g(p,5,!1,p.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function _(p){return p[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(p){var v=p.replace(b,_);y[v]=new g(v,1,!1,p,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(p){var v=p.replace(b,_);y[v]=new g(v,1,!1,p,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(p){var v=p.replace(b,_);y[v]=new g(v,1,!1,p,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(p){y[p]=new g(p,1,!1,p.toLowerCase(),null,!1,!1)}),y.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(p){y[p]=new g(p,1,!1,p.toLowerCase(),null,!0,!0)});function N(p,v,A,R){var H=y.hasOwnProperty(v)?y[v]:null;(H!==null?H.type!==0:R||!(2<v.length)||v[0]!=="o"&&v[0]!=="O"||v[1]!=="n"&&v[1]!=="N")&&(w(v,A,H,R)&&(A=null),R||H===null?h(v)&&(A===null?p.removeAttribute(v):p.setAttribute(v,""+A)):H.mustUseProperty?p[H.propertyName]=A===null?H.type===3?!1:"":A:(v=H.attributeName,R=H.attributeNamespace,A===null?p.removeAttribute(v):(H=H.type,A=H===3||H===4&&A===!0?"":""+A,R?p.setAttributeNS(R,v,A):p.setAttribute(v,A))))}var E=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C=Symbol.for("react.element"),O=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),T=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),W=Symbol.for("react.offscreen"),z=Symbol.iterator;function U(p){return p===null||typeof p!="object"?null:(p=z&&p[z]||p["@@iterator"],typeof p=="function"?p:null)}var Y=Object.assign,Q;function D(p){if(Q===void 0)try{throw Error()}catch(A){var v=A.stack.trim().match(/\n( *(at )?)/);Q=v&&v[1]||""}return`
`+Q+p}var K=!1;function J(p,v){if(!p||K)return"";K=!0;var A=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(v)if(v=function(){throw Error()},Object.defineProperty(v.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(v,[])}catch(xt){var R=xt}Reflect.construct(p,[],v)}else{try{v.call()}catch(xt){R=xt}p.call(v.prototype)}else{try{throw Error()}catch(xt){R=xt}p()}}catch(xt){if(xt&&R&&typeof xt.stack=="string"){for(var H=xt.stack.split(`
`),ee=R.stack.split(`
`),pe=H.length-1,Oe=ee.length-1;1<=pe&&0<=Oe&&H[pe]!==ee[Oe];)Oe--;for(;1<=pe&&0<=Oe;pe--,Oe--)if(H[pe]!==ee[Oe]){if(pe!==1||Oe!==1)do if(pe--,Oe--,0>Oe||H[pe]!==ee[Oe]){var Ue=`
`+H[pe].replace(" at new "," at ");return p.displayName&&Ue.includes("<anonymous>")&&(Ue=Ue.replace("<anonymous>",p.displayName)),Ue}while(1<=pe&&0<=Oe);break}}}finally{K=!1,Error.prepareStackTrace=A}return(p=p?p.displayName||p.name:"")?D(p):""}function ne(p){switch(p.tag){case 5:return D(p.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return p=J(p.type,!1),p;case 11:return p=J(p.type.render,!1),p;case 1:return p=J(p.type,!0),p;default:return""}}function ie(p){if(p==null)return null;if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p;switch(p){case P:return"Fragment";case O:return"Portal";case L:return"Profiler";case M:return"StrictMode";case B:return"Suspense";case G:return"SuspenseList"}if(typeof p=="object")switch(p.$$typeof){case T:return(p.displayName||"Context")+".Consumer";case j:return(p._context.displayName||"Context")+".Provider";case I:var v=p.render;return p=p.displayName,p||(p=v.displayName||v.name||"",p=p!==""?"ForwardRef("+p+")":"ForwardRef"),p;case Z:return v=p.displayName||null,v!==null?v:ie(p.type)||"Memo";case re:v=p._payload,p=p._init;try{return ie(p(v))}catch{}}return null}function oe(p){var v=p.type;switch(p.tag){case 24:return"Cache";case 9:return(v.displayName||"Context")+".Consumer";case 10:return(v._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return p=v.render,p=p.displayName||p.name||"",v.displayName||(p!==""?"ForwardRef("+p+")":"ForwardRef");case 7:return"Fragment";case 5:return v;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ie(v);case 8:return v===M?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof v=="function")return v.displayName||v.name||null;if(typeof v=="string")return v}return null}function ue(p){switch(typeof p){case"boolean":case"number":case"string":case"undefined":return p;case"object":return p;default:return""}}function V(p){var v=p.type;return(p=p.nodeName)&&p.toLowerCase()==="input"&&(v==="checkbox"||v==="radio")}function se(p){var v=V(p)?"checked":"value",A=Object.getOwnPropertyDescriptor(p.constructor.prototype,v),R=""+p[v];if(!p.hasOwnProperty(v)&&typeof A<"u"&&typeof A.get=="function"&&typeof A.set=="function"){var H=A.get,ee=A.set;return Object.defineProperty(p,v,{configurable:!0,get:function(){return H.call(this)},set:function(pe){R=""+pe,ee.call(this,pe)}}),Object.defineProperty(p,v,{enumerable:A.enumerable}),{getValue:function(){return R},setValue:function(pe){R=""+pe},stopTracking:function(){p._valueTracker=null,delete p[v]}}}}function fe(p){p._valueTracker||(p._valueTracker=se(p))}function te(p){if(!p)return!1;var v=p._valueTracker;if(!v)return!0;var A=v.getValue(),R="";return p&&(R=V(p)?p.checked?"true":"false":p.value),p=R,p!==A?(v.setValue(p),!0):!1}function Ee(p){if(p=p||(typeof document<"u"?document:void 0),typeof p>"u")return null;try{return p.activeElement||p.body}catch{return p.body}}function Fe(p,v){var A=v.checked;return Y({},v,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:A??p._wrapperState.initialChecked})}function Pe(p,v){var A=v.defaultValue==null?"":v.defaultValue,R=v.checked!=null?v.checked:v.defaultChecked;A=ue(v.value!=null?v.value:A),p._wrapperState={initialChecked:R,initialValue:A,controlled:v.type==="checkbox"||v.type==="radio"?v.checked!=null:v.value!=null}}function ve(p,v){v=v.checked,v!=null&&N(p,"checked",v,!1)}function Ge(p,v){ve(p,v);var A=ue(v.value),R=v.type;if(A!=null)R==="number"?(A===0&&p.value===""||p.value!=A)&&(p.value=""+A):p.value!==""+A&&(p.value=""+A);else if(R==="submit"||R==="reset"){p.removeAttribute("value");return}v.hasOwnProperty("value")?at(p,v.type,A):v.hasOwnProperty("defaultValue")&&at(p,v.type,ue(v.defaultValue)),v.checked==null&&v.defaultChecked!=null&&(p.defaultChecked=!!v.defaultChecked)}function ht(p,v,A){if(v.hasOwnProperty("value")||v.hasOwnProperty("defaultValue")){var R=v.type;if(!(R!=="submit"&&R!=="reset"||v.value!==void 0&&v.value!==null))return;v=""+p._wrapperState.initialValue,A||v===p.value||(p.value=v),p.defaultValue=v}A=p.name,A!==""&&(p.name=""),p.defaultChecked=!!p._wrapperState.initialChecked,A!==""&&(p.name=A)}function at(p,v,A){(v!=="number"||Ee(p.ownerDocument)!==p)&&(A==null?p.defaultValue=""+p._wrapperState.initialValue:p.defaultValue!==""+A&&(p.defaultValue=""+A))}var St=Array.isArray;function wt(p,v,A,R){if(p=p.options,v){v={};for(var H=0;H<A.length;H++)v["$"+A[H]]=!0;for(A=0;A<p.length;A++)H=v.hasOwnProperty("$"+p[A].value),p[A].selected!==H&&(p[A].selected=H),H&&R&&(p[A].defaultSelected=!0)}else{for(A=""+ue(A),v=null,H=0;H<p.length;H++){if(p[H].value===A){p[H].selected=!0,R&&(p[H].defaultSelected=!0);return}v!==null||p[H].disabled||(v=p[H])}v!==null&&(v.selected=!0)}}function _e(p,v){if(v.dangerouslySetInnerHTML!=null)throw Error(r(91));return Y({},v,{value:void 0,defaultValue:void 0,children:""+p._wrapperState.initialValue})}function ge(p,v){var A=v.value;if(A==null){if(A=v.children,v=v.defaultValue,A!=null){if(v!=null)throw Error(r(92));if(St(A)){if(1<A.length)throw Error(r(93));A=A[0]}v=A}v==null&&(v=""),A=v}p._wrapperState={initialValue:ue(A)}}function Ce(p,v){var A=ue(v.value),R=ue(v.defaultValue);A!=null&&(A=""+A,A!==p.value&&(p.value=A),v.defaultValue==null&&p.defaultValue!==A&&(p.defaultValue=A)),R!=null&&(p.defaultValue=""+R)}function Je(p){var v=p.textContent;v===p._wrapperState.initialValue&&v!==""&&v!==null&&(p.value=v)}function Qe(p){switch(p){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xe(p,v){return p==null||p==="http://www.w3.org/1999/xhtml"?Qe(v):p==="http://www.w3.org/2000/svg"&&v==="foreignObject"?"http://www.w3.org/1999/xhtml":p}var Ke,At=function(p){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(v,A,R,H){MSApp.execUnsafeLocalFunction(function(){return p(v,A,R,H)})}:p}(function(p,v){if(p.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in p)p.innerHTML=v;else{for(Ke=Ke||document.createElement("div"),Ke.innerHTML="<svg>"+v.valueOf().toString()+"</svg>",v=Ke.firstChild;p.firstChild;)p.removeChild(p.firstChild);for(;v.firstChild;)p.appendChild(v.firstChild)}});function Nt(p,v){if(v){var A=p.firstChild;if(A&&A===p.lastChild&&A.nodeType===3){A.nodeValue=v;return}}p.textContent=v}var vt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tr=["Webkit","ms","Moz","O"];Object.keys(vt).forEach(function(p){Tr.forEach(function(v){v=v+p.charAt(0).toUpperCase()+p.substring(1),vt[v]=vt[p]})});function cr(p,v,A){return v==null||typeof v=="boolean"||v===""?"":A||typeof v!="number"||v===0||vt.hasOwnProperty(p)&&vt[p]?(""+v).trim():v+"px"}function Nn(p,v){p=p.style;for(var A in v)if(v.hasOwnProperty(A)){var R=A.indexOf("--")===0,H=cr(A,v[A],R);A==="float"&&(A="cssFloat"),R?p.setProperty(A,H):p[A]=H}}var ct=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dt(p,v){if(v){if(ct[p]&&(v.children!=null||v.dangerouslySetInnerHTML!=null))throw Error(r(137,p));if(v.dangerouslySetInnerHTML!=null){if(v.children!=null)throw Error(r(60));if(typeof v.dangerouslySetInnerHTML!="object"||!("__html"in v.dangerouslySetInnerHTML))throw Error(r(61))}if(v.style!=null&&typeof v.style!="object")throw Error(r(62))}}function Vr(p,v){if(p.indexOf("-")===-1)return typeof v.is=="string";switch(p){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gr=null;function Kr(p){return p=p.target||p.srcElement||window,p.correspondingUseElement&&(p=p.correspondingUseElement),p.nodeType===3?p.parentNode:p}var fr=null,Er=null,hn=null;function Mr(p){if(p=hp(p)){if(typeof fr!="function")throw Error(r(280));var v=p.stateNode;v&&(v=c0(v),fr(p.stateNode,p.type,v))}}function hr(p){Er?hn?hn.push(p):hn=[p]:Er=p}function Zr(){if(Er){var p=Er,v=hn;if(hn=Er=null,Mr(p),v)for(p=0;p<v.length;p++)Mr(v[p])}}function Fi(p,v){return p(v)}function la(){}var Wa=!1;function lt(p,v,A){if(Wa)return p(v,A);Wa=!0;try{return Fi(p,v,A)}finally{Wa=!1,(Er!==null||hn!==null)&&(la(),Zr())}}function yt(p,v){var A=p.stateNode;if(A===null)return null;var R=c0(A);if(R===null)return null;A=R[v];e:switch(v){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(R=!R.disabled)||(p=p.type,R=!(p==="button"||p==="input"||p==="select"||p==="textarea")),p=!R;break e;default:p=!1}if(p)return null;if(A&&typeof A!="function")throw Error(r(231,v,typeof A));return A}var Fr=!1;if(o)try{var ta={};Object.defineProperty(ta,"passive",{get:function(){Fr=!0}}),window.addEventListener("test",ta,ta),window.removeEventListener("test",ta,ta)}catch{Fr=!1}function bt(p,v,A,R,H,ee,pe,Oe,Ue){var xt=Array.prototype.slice.call(arguments,3);try{v.apply(A,xt)}catch(Ut){this.onError(Ut)}}var gt=!1,Jt=null,ce=!1,we=null,xe={onError:function(p){gt=!0,Jt=p}};function Se(p,v,A,R,H,ee,pe,Oe,Ue){gt=!1,Jt=null,bt.apply(xe,arguments)}function Ae(p,v,A,R,H,ee,pe,Oe,Ue){if(Se.apply(this,arguments),gt){if(gt){var xt=Jt;gt=!1,Jt=null}else throw Error(r(198));ce||(ce=!0,we=xt)}}function Ne(p){var v=p,A=p;if(p.alternate)for(;v.return;)v=v.return;else{p=v;do v=p,(v.flags&4098)!==0&&(A=v.return),p=v.return;while(p)}return v.tag===3?A:null}function We(p){if(p.tag===13){var v=p.memoizedState;if(v===null&&(p=p.alternate,p!==null&&(v=p.memoizedState)),v!==null)return v.dehydrated}return null}function ft(p){if(Ne(p)!==p)throw Error(r(188))}function rt(p){var v=p.alternate;if(!v){if(v=Ne(p),v===null)throw Error(r(188));return v!==p?null:p}for(var A=p,R=v;;){var H=A.return;if(H===null)break;var ee=H.alternate;if(ee===null){if(R=H.return,R!==null){A=R;continue}break}if(H.child===ee.child){for(ee=H.child;ee;){if(ee===A)return ft(H),p;if(ee===R)return ft(H),v;ee=ee.sibling}throw Error(r(188))}if(A.return!==R.return)A=H,R=ee;else{for(var pe=!1,Oe=H.child;Oe;){if(Oe===A){pe=!0,A=H,R=ee;break}if(Oe===R){pe=!0,R=H,A=ee;break}Oe=Oe.sibling}if(!pe){for(Oe=ee.child;Oe;){if(Oe===A){pe=!0,A=ee,R=H;break}if(Oe===R){pe=!0,R=ee,A=H;break}Oe=Oe.sibling}if(!pe)throw Error(r(189))}}if(A.alternate!==R)throw Error(r(190))}if(A.tag!==3)throw Error(r(188));return A.stateNode.current===A?p:v}function ot(p){return p=rt(p),p!==null?Ze(p):null}function Ze(p){if(p.tag===5||p.tag===6)return p;for(p=p.child;p!==null;){var v=Ze(p);if(v!==null)return v;p=p.sibling}return null}var Ft=t.unstable_scheduleCallback,Zt=t.unstable_cancelCallback,lr=t.unstable_shouldYield,Wt=t.unstable_requestPaint,qt=t.unstable_now,rn=t.unstable_getCurrentPriorityLevel,zn=t.unstable_ImmediatePriority,ca=t.unstable_UserBlockingPriority,Va=t.unstable_NormalPriority,Hl=t.unstable_LowPriority,Ac=t.unstable_IdlePriority,Go=null,_i=null;function kc(p){if(_i&&typeof _i.onCommitFiberRoot=="function")try{_i.onCommitFiberRoot(Go,p,void 0,(p.current.flags&128)===128)}catch{}}var Ha=Math.clz32?Math.clz32:Ug,fi=Math.log,Bg=Math.LN2;function Ug(p){return p>>>=0,p===0?32:31-(fi(p)/Bg|0)|0}var Sf=64,yd=4194304;function Nf(p){switch(p&-p){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return p&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return p}}function fo(p,v){var A=p.pendingLanes;if(A===0)return 0;var R=0,H=p.suspendedLanes,ee=p.pingedLanes,pe=A&268435455;if(pe!==0){var Oe=pe&~H;Oe!==0?R=Nf(Oe):(ee&=pe,ee!==0&&(R=Nf(ee)))}else pe=A&~H,pe!==0?R=Nf(pe):ee!==0&&(R=Nf(ee));if(R===0)return 0;if(v!==0&&v!==R&&(v&H)===0&&(H=R&-R,ee=v&-v,H>=ee||H===16&&(ee&4194240)!==0))return v;if((R&4)!==0&&(R|=A&16),v=p.entangledLanes,v!==0)for(p=p.entanglements,v&=R;0<v;)A=31-Ha(v),H=1<<A,R|=p[A],v&=~H;return R}function Bh(p,v){switch(p){case 1:case 2:case 4:return v+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return v+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ho(p,v){for(var A=p.suspendedLanes,R=p.pingedLanes,H=p.expirationTimes,ee=p.pendingLanes;0<ee;){var pe=31-Ha(ee),Oe=1<<pe,Ue=H[pe];Ue===-1?((Oe&A)===0||(Oe&R)!==0)&&(H[pe]=Bh(Oe,v)):Ue<=v&&(p.expiredLanes|=Oe),ee&=~Oe}}function Af(p){return p=p.pendingLanes&-1073741825,p!==0?p:p&1073741824?1073741824:0}function Wm(){var p=Sf;return Sf<<=1,(Sf&4194240)===0&&(Sf=64),p}function Vm(p){for(var v=[],A=0;31>A;A++)v.push(p);return v}function xd(p,v,A){p.pendingLanes|=v,v!==536870912&&(p.suspendedLanes=0,p.pingedLanes=0),p=p.eventTimes,v=31-Ha(v),p[v]=A}function Fy(p,v){var A=p.pendingLanes&~v;p.pendingLanes=v,p.suspendedLanes=0,p.pingedLanes=0,p.expiredLanes&=v,p.mutableReadLanes&=v,p.entangledLanes&=v,v=p.entanglements;var R=p.eventTimes;for(p=p.expirationTimes;0<A;){var H=31-Ha(A),ee=1<<H;v[H]=0,R[H]=-1,p[H]=-1,A&=~ee}}function Uh(p,v){var A=p.entangledLanes|=v;for(p=p.entanglements;A;){var R=31-Ha(A),H=1<<R;H&v|p[R]&v&&(p[R]|=v),A&=~H}}var Yn=0;function qh(p){return p&=-p,1<p?4<p?(p&268435455)!==0?16:536870912:4:1}var qg,Hm,zg,Ec,kf,wd=!1,Ef=[],Ga=null,Cc=null,Gl=null,Xr=new Map,Cf=new Map,Pc=[],Tc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gm(p,v){switch(p){case"focusin":case"focusout":Ga=null;break;case"dragenter":case"dragleave":Cc=null;break;case"mouseover":case"mouseout":Gl=null;break;case"pointerover":case"pointerout":Xr.delete(v.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cf.delete(v.pointerId)}}function bd(p,v,A,R,H,ee){return p===null||p.nativeEvent!==ee?(p={blockedOn:v,domEventName:A,eventSystemFlags:R,nativeEvent:ee,targetContainers:[H]},v!==null&&(v=hp(v),v!==null&&Hm(v)),p):(p.eventSystemFlags|=R,v=p.targetContainers,H!==null&&v.indexOf(H)===-1&&v.push(H),p)}function zh(p,v,A,R,H){switch(v){case"focusin":return Ga=bd(Ga,p,v,A,R,H),!0;case"dragenter":return Cc=bd(Cc,p,v,A,R,H),!0;case"mouseover":return Gl=bd(Gl,p,v,A,R,H),!0;case"pointerover":var ee=H.pointerId;return Xr.set(ee,bd(Xr.get(ee)||null,p,v,A,R,H)),!0;case"gotpointercapture":return ee=H.pointerId,Cf.set(ee,bd(Cf.get(ee)||null,p,v,A,R,H)),!0}return!1}function Wh(p){var v=Dd(p.target);if(v!==null){var A=Ne(v);if(A!==null){if(v=A.tag,v===13){if(v=We(A),v!==null){p.blockedOn=v,kf(p.priority,function(){zg(A)});return}}else if(v===3&&A.stateNode.current.memoizedState.isDehydrated){p.blockedOn=A.tag===3?A.stateNode.containerInfo:null;return}}}p.blockedOn=null}function Vh(p){if(p.blockedOn!==null)return!1;for(var v=p.targetContainers;0<v.length;){var A=Gh(p.domEventName,p.eventSystemFlags,v[0],p.nativeEvent);if(A===null){A=p.nativeEvent;var R=new A.constructor(A.type,A);gr=R,A.target.dispatchEvent(R),gr=null}else return v=hp(A),v!==null&&Hm(v),p.blockedOn=A,!1;v.shift()}return!0}function Wg(p,v,A){Vh(p)&&A.delete(v)}function Ly(){wd=!1,Ga!==null&&Vh(Ga)&&(Ga=null),Cc!==null&&Vh(Cc)&&(Cc=null),Gl!==null&&Vh(Gl)&&(Gl=null),Xr.forEach(Wg),Cf.forEach(Wg)}function uu(p,v){p.blockedOn===v&&(p.blockedOn=null,wd||(wd=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Ly)))}function Yl(p){function v(H){return uu(H,p)}if(0<Ef.length){uu(Ef[0],p);for(var A=1;A<Ef.length;A++){var R=Ef[A];R.blockedOn===p&&(R.blockedOn=null)}}for(Ga!==null&&uu(Ga,p),Cc!==null&&uu(Cc,p),Gl!==null&&uu(Gl,p),Xr.forEach(v),Cf.forEach(v),A=0;A<Pc.length;A++)R=Pc[A],R.blockedOn===p&&(R.blockedOn=null);for(;0<Pc.length&&(A=Pc[0],A.blockedOn===null);)Wh(A),A.blockedOn===null&&Pc.shift()}var Yo=E.ReactCurrentBatchConfig,Hh=!0;function Pf(p,v,A,R){var H=Yn,ee=Yo.transition;Yo.transition=null;try{Yn=1,_d(p,v,A,R)}finally{Yn=H,Yo.transition=ee}}function Ym(p,v,A,R){var H=Yn,ee=Yo.transition;Yo.transition=null;try{Yn=4,_d(p,v,A,R)}finally{Yn=H,Yo.transition=ee}}function _d(p,v,A,R){if(Hh){var H=Gh(p,v,A,R);if(H===null)s0(p,v,R,Tf,A),Gm(p,R);else if(zh(H,p,v,A,R))R.stopPropagation();else if(Gm(p,R),v&4&&-1<Tc.indexOf(p)){for(;H!==null;){var ee=hp(H);if(ee!==null&&qg(ee),ee=Gh(p,v,A,R),ee===null&&s0(p,v,R,Tf,A),ee===H)break;H=ee}H!==null&&R.stopPropagation()}else s0(p,v,R,null,A)}}var Tf=null;function Gh(p,v,A,R){if(Tf=null,p=Kr(R),p=Dd(p),p!==null)if(v=Ne(p),v===null)p=null;else if(A=v.tag,A===13){if(p=We(v),p!==null)return p;p=null}else if(A===3){if(v.stateNode.current.memoizedState.isDehydrated)return v.tag===3?v.stateNode.containerInfo:null;p=null}else v!==p&&(p=null);return Tf=p,null}function Km(p){switch(p){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rn()){case zn:return 1;case ca:return 4;case Va:case Hl:return 16;case Ac:return 536870912;default:return 16}default:return 16}}var Kl=null,vl=null,yl=null;function Vg(){if(yl)return yl;var p,v=vl,A=v.length,R,H="value"in Kl?Kl.value:Kl.textContent,ee=H.length;for(p=0;p<A&&v[p]===H[p];p++);var pe=A-p;for(R=1;R<=pe&&v[A-R]===H[ee-R];R++);return yl=H.slice(p,1<R?1-R:void 0)}function Xl(p){var v=p.keyCode;return"charCode"in p?(p=p.charCode,p===0&&v===13&&(p=13)):p=v,p===10&&(p=13),32<=p||p===13?p:0}function po(){return!0}function Yh(){return!1}function Li(p){function v(A,R,H,ee,pe){this._reactName=A,this._targetInst=H,this.type=R,this.nativeEvent=ee,this.target=pe,this.currentTarget=null;for(var Oe in p)p.hasOwnProperty(Oe)&&(A=p[Oe],this[Oe]=A?A(ee):ee[Oe]);return this.isDefaultPrevented=(ee.defaultPrevented!=null?ee.defaultPrevented:ee.returnValue===!1)?po:Yh,this.isPropagationStopped=Yh,this}return Y(v.prototype,{preventDefault:function(){this.defaultPrevented=!0;var A=this.nativeEvent;A&&(A.preventDefault?A.preventDefault():typeof A.returnValue!="unknown"&&(A.returnValue=!1),this.isDefaultPrevented=po)},stopPropagation:function(){var A=this.nativeEvent;A&&(A.stopPropagation?A.stopPropagation():typeof A.cancelBubble!="unknown"&&(A.cancelBubble=!0),this.isPropagationStopped=po)},persist:function(){},isPersistent:po}),v}var Sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(p){return p.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nd=Li(Sd),Of=Y({},Sd,{view:0,detail:0}),Xm=Li(Of),Df,Kh,Oc,Ad=Y({},Of,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ur,button:0,buttons:0,relatedTarget:function(p){return p.relatedTarget===void 0?p.fromElement===p.srcElement?p.toElement:p.fromElement:p.relatedTarget},movementX:function(p){return"movementX"in p?p.movementX:(p!==Oc&&(Oc&&p.type==="mousemove"?(Df=p.screenX-Oc.screenX,Kh=p.screenY-Oc.screenY):Kh=Df=0,Oc=p),Df)},movementY:function(p){return"movementY"in p?p.movementY:Kh}}),Xh=Li(Ad),Hg=Y({},Ad,{dataTransfer:0}),jy=Li(Hg),Jh=Y({},Of,{relatedTarget:0}),du=Li(Jh),Jm=Y({},Sd,{animationName:0,elapsedTime:0,pseudoElement:0}),kd=Li(Jm),Zm=Y({},Sd,{clipboardData:function(p){return"clipboardData"in p?p.clipboardData:window.clipboardData}}),q=Li(Zm),de=Y({},Sd,{data:0}),Te=Li(de),$e={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $t(p){var v=this.nativeEvent;return v.getModifierState?v.getModifierState(p):(p=kt[p])?!!v[p]:!1}function ur(){return $t}var Lr=Y({},Of,{key:function(p){if(p.key){var v=$e[p.key]||p.key;if(v!=="Unidentified")return v}return p.type==="keypress"?(p=Xl(p),p===13?"Enter":String.fromCharCode(p)):p.type==="keydown"||p.type==="keyup"?nt[p.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ur,charCode:function(p){return p.type==="keypress"?Xl(p):0},keyCode:function(p){return p.type==="keydown"||p.type==="keyup"?p.keyCode:0},which:function(p){return p.type==="keypress"?Xl(p):p.type==="keydown"||p.type==="keyup"?p.keyCode:0}}),gn=Li(Lr),mn=Y({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),In=Li(mn),Ya=Y({},Of,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ur}),si=Li(Ya),Si=Y({},Sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),As=Li(Si),ns=Y({},Ad,{deltaX:function(p){return"deltaX"in p?p.deltaX:"wheelDeltaX"in p?-p.wheelDeltaX:0},deltaY:function(p){return"deltaY"in p?p.deltaY:"wheelDeltaY"in p?-p.wheelDeltaY:"wheelDelta"in p?-p.wheelDelta:0},deltaZ:0,deltaMode:0}),Jl=Li(ns),Ko=[9,13,27,32],xl=o&&"CompositionEvent"in window,Ed=null;o&&"documentMode"in document&&(Ed=document.documentMode);var Qm=o&&"TextEvent"in window&&!Ed,Zh=o&&(!xl||Ed&&8<Ed&&11>=Ed),If=" ",Qh=!1;function ep(p,v){switch(p){case"keyup":return Ko.indexOf(v.keyCode)!==-1;case"keydown":return v.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rf(p){return p=p.detail,typeof p=="object"&&"data"in p?p.data:null}var oi=!1;function tp(p,v){switch(p){case"compositionend":return Rf(v);case"keypress":return v.which!==32?null:(Qh=!0,If);case"textInput":return p=v.data,p===If&&Qh?null:p;default:return null}}function rp(p,v){if(oi)return p==="compositionend"||!xl&&ep(p,v)?(p=Vg(),yl=vl=Kl=null,oi=!1,p):null;switch(p){case"paste":return null;case"keypress":if(!(v.ctrlKey||v.altKey||v.metaKey)||v.ctrlKey&&v.altKey){if(v.char&&1<v.char.length)return v.char;if(v.which)return String.fromCharCode(v.which)}return null;case"compositionend":return Zh&&v.locale!=="ko"?null:v.data;default:return null}}var np={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ap(p){var v=p&&p.nodeName&&p.nodeName.toLowerCase();return v==="input"?!!np[p.type]:v==="textarea"}function Vs(p,v,A,R){hr(R),v=Xg(v,"onChange"),0<v.length&&(A=new Nd("onChange","change",null,A,R),p.push({event:A,listeners:v}))}var Mf=null,fu=null;function Gg(p){a0(p,0)}function Hs(p){var v=Wf(p);if(te(v))return p}function ip(p,v){if(p==="change")return v}var e0=!1;if(o){var sp;if(o){var Dc="oninput"in document;if(!Dc){var Cd=document.createElement("div");Cd.setAttribute("oninput","return;"),Dc=typeof Cd.oninput=="function"}sp=Dc}else sp=!1;e0=sp&&(!document.documentMode||9<document.documentMode)}function Gs(){Mf&&(Mf.detachEvent("onpropertychange",ks),fu=Mf=null)}function ks(p){if(p.propertyName==="value"&&Hs(fu)){var v=[];Vs(v,fu,p,Kr(p)),lt(Gg,v)}}function Pd(p,v,A){p==="focusin"?(Gs(),Mf=v,fu=A,Mf.attachEvent("onpropertychange",ks)):p==="focusout"&&Gs()}function hu(p){if(p==="selectionchange"||p==="keyup"||p==="keydown")return Hs(fu)}function pu(p,v){if(p==="click")return Hs(v)}function op(p,v){if(p==="input"||p==="change")return Hs(v)}function mu(p,v){return p===v&&(p!==0||1/p===1/v)||p!==p&&v!==v}var Kn=typeof Object.is=="function"?Object.is:mu;function gu(p,v){if(Kn(p,v))return!0;if(typeof p!="object"||p===null||typeof v!="object"||v===null)return!1;var A=Object.keys(p),R=Object.keys(v);if(A.length!==R.length)return!1;for(R=0;R<A.length;R++){var H=A[R];if(!c.call(v,H)||!Kn(p[H],v[H]))return!1}return!0}function Es(p){for(;p&&p.firstChild;)p=p.firstChild;return p}function Xo(p,v){var A=Es(p);p=0;for(var R;A;){if(A.nodeType===3){if(R=p+A.textContent.length,p<=v&&R>=v)return{node:A,offset:v-p};p=R}e:{for(;A;){if(A.nextSibling){A=A.nextSibling;break e}A=A.parentNode}A=void 0}A=Es(A)}}function Ff(p,v){return p&&v?p===v?!0:p&&p.nodeType===3?!1:v&&v.nodeType===3?Ff(p,v.parentNode):"contains"in p?p.contains(v):p.compareDocumentPosition?!!(p.compareDocumentPosition(v)&16):!1:!1}function t0(){for(var p=window,v=Ee();v instanceof p.HTMLIFrameElement;){try{var A=typeof v.contentWindow.location.href=="string"}catch{A=!1}if(A)p=v.contentWindow;else break;v=Ee(p.document)}return v}function Lf(p){var v=p&&p.nodeName&&p.nodeName.toLowerCase();return v&&(v==="input"&&(p.type==="text"||p.type==="search"||p.type==="tel"||p.type==="url"||p.type==="password")||v==="textarea"||p.contentEditable==="true")}function jf(p){var v=t0(),A=p.focusedElem,R=p.selectionRange;if(v!==A&&A&&A.ownerDocument&&Ff(A.ownerDocument.documentElement,A)){if(R!==null&&Lf(A)){if(v=R.start,p=R.end,p===void 0&&(p=v),"selectionStart"in A)A.selectionStart=v,A.selectionEnd=Math.min(p,A.value.length);else if(p=(v=A.ownerDocument||document)&&v.defaultView||window,p.getSelection){p=p.getSelection();var H=A.textContent.length,ee=Math.min(R.start,H);R=R.end===void 0?ee:Math.min(R.end,H),!p.extend&&ee>R&&(H=R,R=ee,ee=H),H=Xo(A,ee);var pe=Xo(A,R);H&&pe&&(p.rangeCount!==1||p.anchorNode!==H.node||p.anchorOffset!==H.offset||p.focusNode!==pe.node||p.focusOffset!==pe.offset)&&(v=v.createRange(),v.setStart(H.node,H.offset),p.removeAllRanges(),ee>R?(p.addRange(v),p.extend(pe.node,pe.offset)):(v.setEnd(pe.node,pe.offset),p.addRange(v)))}}for(v=[],p=A;p=p.parentNode;)p.nodeType===1&&v.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<v.length;A++)p=v[A],p.element.scrollLeft=p.left,p.element.scrollTop=p.top}}var $f=o&&"documentMode"in document&&11>=document.documentMode,Jo=null,vu=null,Ic=null,yu=!1;function xu(p,v,A){var R=A.window===A?A.document:A.nodeType===9?A:A.ownerDocument;yu||Jo==null||Jo!==Ee(R)||(R=Jo,"selectionStart"in R&&Lf(R)?R={start:R.selectionStart,end:R.selectionEnd}:(R=(R.ownerDocument&&R.ownerDocument.defaultView||window).getSelection(),R={anchorNode:R.anchorNode,anchorOffset:R.anchorOffset,focusNode:R.focusNode,focusOffset:R.focusOffset}),Ic&&gu(Ic,R)||(Ic=R,R=Xg(vu,"onSelect"),0<R.length&&(v=new Nd("onSelect","select",null,v,A),p.push({event:v,listeners:R}),v.target=Jo)))}function Td(p,v){var A={};return A[p.toLowerCase()]=v.toLowerCase(),A["Webkit"+p]="webkit"+v,A["Moz"+p]="moz"+v,A}var ps={animationend:Td("Animation","AnimationEnd"),animationiteration:Td("Animation","AnimationIteration"),animationstart:Td("Animation","AnimationStart"),transitionend:Td("Transition","TransitionEnd")},mo={},Na={};o&&(Na=document.createElement("div").style,"AnimationEvent"in window||(delete ps.animationend.animation,delete ps.animationiteration.animation,delete ps.animationstart.animation),"TransitionEvent"in window||delete ps.transitionend.transition);function ua(p){if(mo[p])return mo[p];if(!ps[p])return p;var v=ps[p],A;for(A in v)if(v.hasOwnProperty(A)&&A in Na)return mo[p]=v[A];return p}var li=ua("animationend"),Ni=ua("animationiteration"),Rc=ua("animationstart"),lp=ua("transitionend"),Bf=new Map,r0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mc(p,v){Bf.set(p,v),i(v,[p])}for(var cp=0;cp<r0.length;cp++){var Ys=r0[cp],wl=Ys.toLowerCase(),Yg=Ys[0].toUpperCase()+Ys.slice(1);Mc(wl,"on"+Yg)}Mc(li,"onAnimationEnd"),Mc(Ni,"onAnimationIteration"),Mc(Rc,"onAnimationStart"),Mc("dblclick","onDoubleClick"),Mc("focusin","onFocus"),Mc("focusout","onBlur"),Mc(lp,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Od="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sb=new Set("cancel close invalid load scroll toggle".split(" ").concat(Od));function n0(p,v,A){var R=p.type||"unknown-event";p.currentTarget=A,Ae(R,v,void 0,p),p.currentTarget=null}function a0(p,v){v=(v&4)!==0;for(var A=0;A<p.length;A++){var R=p[A],H=R.event;R=R.listeners;e:{var ee=void 0;if(v)for(var pe=R.length-1;0<=pe;pe--){var Oe=R[pe],Ue=Oe.instance,xt=Oe.currentTarget;if(Oe=Oe.listener,Ue!==ee&&H.isPropagationStopped())break e;n0(H,Oe,xt),ee=Ue}else for(pe=0;pe<R.length;pe++){if(Oe=R[pe],Ue=Oe.instance,xt=Oe.currentTarget,Oe=Oe.listener,Ue!==ee&&H.isPropagationStopped())break e;n0(H,Oe,xt),ee=Ue}}}if(ce)throw p=we,ce=!1,we=null,p}function Aa(p,v){var A=v[vo];A===void 0&&(A=v[vo]=new Set);var R=p+"__bubble";A.has(R)||(i0(v,p,2,!1),A.add(R))}function Kg(p,v,A){var R=0;v&&(R|=4),i0(A,p,R,v)}var up="_reactListening"+Math.random().toString(36).slice(2);function Uf(p){if(!p[up]){p[up]=!0,n.forEach(function(A){A!=="selectionchange"&&(Sb.has(A)||Kg(A,!1,p),Kg(A,!0,p))});var v=p.nodeType===9?p:p.ownerDocument;v===null||v[up]||(v[up]=!0,Kg("selectionchange",!1,v))}}function i0(p,v,A,R){switch(Km(v)){case 1:var H=Pf;break;case 4:H=Ym;break;default:H=_d}A=H.bind(null,v,A,p),H=void 0,!Fr||v!=="touchstart"&&v!=="touchmove"&&v!=="wheel"||(H=!0),R?H!==void 0?p.addEventListener(v,A,{capture:!0,passive:H}):p.addEventListener(v,A,!0):H!==void 0?p.addEventListener(v,A,{passive:H}):p.addEventListener(v,A,!1)}function s0(p,v,A,R,H){var ee=R;if((v&1)===0&&(v&2)===0&&R!==null)e:for(;;){if(R===null)return;var pe=R.tag;if(pe===3||pe===4){var Oe=R.stateNode.containerInfo;if(Oe===H||Oe.nodeType===8&&Oe.parentNode===H)break;if(pe===4)for(pe=R.return;pe!==null;){var Ue=pe.tag;if((Ue===3||Ue===4)&&(Ue=pe.stateNode.containerInfo,Ue===H||Ue.nodeType===8&&Ue.parentNode===H))return;pe=pe.return}for(;Oe!==null;){if(pe=Dd(Oe),pe===null)return;if(Ue=pe.tag,Ue===5||Ue===6){R=ee=pe;continue e}Oe=Oe.parentNode}}R=R.return}lt(function(){var xt=ee,Ut=Kr(A),Vt=[];e:{var Bt=Bf.get(p);if(Bt!==void 0){var br=Nd,Cr=p;switch(p){case"keypress":if(Xl(A)===0)break e;case"keydown":case"keyup":br=gn;break;case"focusin":Cr="focus",br=du;break;case"focusout":Cr="blur",br=du;break;case"beforeblur":case"afterblur":br=du;break;case"click":if(A.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":br=Xh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":br=jy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":br=si;break;case li:case Ni:case Rc:br=kd;break;case lp:br=As;break;case"scroll":br=Xm;break;case"wheel":br=Jl;break;case"copy":case"cut":case"paste":br=q;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":br=In}var Or=(v&4)!==0,Ui=!Or&&p==="scroll",ut=Or?Bt!==null?Bt+"Capture":null:Bt;Or=[];for(var He=xt,pt;He!==null;){pt=He;var Qt=pt.stateNode;if(pt.tag===5&&Qt!==null&&(pt=Qt,ut!==null&&(Qt=yt(He,ut),Qt!=null&&Or.push(o0(He,Qt,pt)))),Ui)break;He=He.return}0<Or.length&&(Bt=new br(Bt,Cr,null,A,Ut),Vt.push({event:Bt,listeners:Or}))}}if((v&7)===0){e:{if(Bt=p==="mouseover"||p==="pointerover",br=p==="mouseout"||p==="pointerout",Bt&&A!==gr&&(Cr=A.relatedTarget||A.fromElement)&&(Dd(Cr)||Cr[Cs]))break e;if((br||Bt)&&(Bt=Ut.window===Ut?Ut:(Bt=Ut.ownerDocument)?Bt.defaultView||Bt.parentWindow:window,br?(Cr=A.relatedTarget||A.toElement,br=xt,Cr=Cr?Dd(Cr):null,Cr!==null&&(Ui=Ne(Cr),Cr!==Ui||Cr.tag!==5&&Cr.tag!==6)&&(Cr=null)):(br=null,Cr=xt),br!==Cr)){if(Or=Xh,Qt="onMouseLeave",ut="onMouseEnter",He="mouse",(p==="pointerout"||p==="pointerover")&&(Or=In,Qt="onPointerLeave",ut="onPointerEnter",He="pointer"),Ui=br==null?Bt:Wf(br),pt=Cr==null?Bt:Wf(Cr),Bt=new Or(Qt,He+"leave",br,A,Ut),Bt.target=Ui,Bt.relatedTarget=pt,Qt=null,Dd(Ut)===xt&&(Or=new Or(ut,He+"enter",Cr,A,Ut),Or.target=pt,Or.relatedTarget=Ui,Qt=Or),Ui=Qt,br&&Cr)t:{for(Or=br,ut=Cr,He=0,pt=Or;pt;pt=qf(pt))He++;for(pt=0,Qt=ut;Qt;Qt=qf(Qt))pt++;for(;0<He-pt;)Or=qf(Or),He--;for(;0<pt-He;)ut=qf(ut),pt--;for(;He--;){if(Or===ut||ut!==null&&Or===ut.alternate)break t;Or=qf(Or),ut=qf(ut)}Or=null}else Or=null;br!==null&&Nb(Vt,Bt,br,Or,!1),Cr!==null&&Ui!==null&&Nb(Vt,Ui,Cr,Or,!0)}}e:{if(Bt=xt?Wf(xt):window,br=Bt.nodeName&&Bt.nodeName.toLowerCase(),br==="select"||br==="input"&&Bt.type==="file")var Dr=ip;else if(ap(Bt))if(e0)Dr=op;else{Dr=hu;var Gr=Pd}else(br=Bt.nodeName)&&br.toLowerCase()==="input"&&(Bt.type==="checkbox"||Bt.type==="radio")&&(Dr=pu);if(Dr&&(Dr=Dr(p,xt))){Vs(Vt,Dr,A,Ut);break e}Gr&&Gr(p,Bt,xt),p==="focusout"&&(Gr=Bt._wrapperState)&&Gr.controlled&&Bt.type==="number"&&at(Bt,"number",Bt.value)}switch(Gr=xt?Wf(xt):window,p){case"focusin":(ap(Gr)||Gr.contentEditable==="true")&&(Jo=Gr,vu=xt,Ic=null);break;case"focusout":Ic=vu=Jo=null;break;case"mousedown":yu=!0;break;case"contextmenu":case"mouseup":case"dragend":yu=!1,xu(Vt,A,Ut);break;case"selectionchange":if($f)break;case"keydown":case"keyup":xu(Vt,A,Ut)}var Yr;if(xl)e:{switch(p){case"compositionstart":var pn="onCompositionStart";break e;case"compositionend":pn="onCompositionEnd";break e;case"compositionupdate":pn="onCompositionUpdate";break e}pn=void 0}else oi?ep(p,A)&&(pn="onCompositionEnd"):p==="keydown"&&A.keyCode===229&&(pn="onCompositionStart");pn&&(Zh&&A.locale!=="ko"&&(oi||pn!=="onCompositionStart"?pn==="onCompositionEnd"&&oi&&(Yr=Vg()):(Kl=Ut,vl="value"in Kl?Kl.value:Kl.textContent,oi=!0)),Gr=Xg(xt,pn),0<Gr.length&&(pn=new Te(pn,p,null,A,Ut),Vt.push({event:pn,listeners:Gr}),Yr?pn.data=Yr:(Yr=Rf(A),Yr!==null&&(pn.data=Yr)))),(Yr=Qm?tp(p,A):rp(p,A))&&(xt=Xg(xt,"onBeforeInput"),0<xt.length&&(Ut=new Te("onBeforeInput","beforeinput",null,A,Ut),Vt.push({event:Ut,listeners:xt}),Ut.data=Yr))}a0(Vt,v)})}function o0(p,v,A){return{instance:p,listener:v,currentTarget:A}}function Xg(p,v){for(var A=v+"Capture",R=[];p!==null;){var H=p,ee=H.stateNode;H.tag===5&&ee!==null&&(H=ee,ee=yt(p,A),ee!=null&&R.unshift(o0(p,ee,H)),ee=yt(p,v),ee!=null&&R.push(o0(p,ee,H))),p=p.return}return R}function qf(p){if(p===null)return null;do p=p.return;while(p&&p.tag!==5);return p||null}function Nb(p,v,A,R,H){for(var ee=v._reactName,pe=[];A!==null&&A!==R;){var Oe=A,Ue=Oe.alternate,xt=Oe.stateNode;if(Ue!==null&&Ue===R)break;Oe.tag===5&&xt!==null&&(Oe=xt,H?(Ue=yt(A,ee),Ue!=null&&pe.unshift(o0(A,Ue,Oe))):H||(Ue=yt(A,ee),Ue!=null&&pe.push(o0(A,Ue,Oe)))),A=A.return}pe.length!==0&&p.push({event:v,listeners:pe})}var yA=/\r\n?/g,xA=/\u0000|\uFFFD/g;function Ab(p){return(typeof p=="string"?p:""+p).replace(yA,`
`).replace(xA,"")}function Jg(p,v,A){if(v=Ab(v),Ab(p)!==v&&A)throw Error(r(425))}function dp(){}var l0=null,zf=null;function $y(p,v){return p==="textarea"||p==="noscript"||typeof v.children=="string"||typeof v.children=="number"||typeof v.dangerouslySetInnerHTML=="object"&&v.dangerouslySetInnerHTML!==null&&v.dangerouslySetInnerHTML.__html!=null}var By=typeof setTimeout=="function"?setTimeout:void 0,kb=typeof clearTimeout=="function"?clearTimeout:void 0,Eb=typeof Promise=="function"?Promise:void 0,wA=typeof queueMicrotask=="function"?queueMicrotask:typeof Eb<"u"?function(p){return Eb.resolve(null).then(p).catch(bA)}:By;function bA(p){setTimeout(function(){throw p})}function Uy(p,v){var A=v,R=0;do{var H=A.nextSibling;if(p.removeChild(A),H&&H.nodeType===8)if(A=H.data,A==="/$"){if(R===0){p.removeChild(H),Yl(v);return}R--}else A!=="$"&&A!=="$?"&&A!=="$!"||R++;A=H}while(A);Yl(v)}function Ks(p){for(;p!=null;p=p.nextSibling){var v=p.nodeType;if(v===1||v===3)break;if(v===8){if(v=p.data,v==="$"||v==="$!"||v==="$?")break;if(v==="/$")return null}}return p}function bl(p){p=p.previousSibling;for(var v=0;p;){if(p.nodeType===8){var A=p.data;if(A==="$"||A==="$!"||A==="$?"){if(v===0)return p;v--}else A==="/$"&&v++}p=p.previousSibling}return null}var go=Math.random().toString(36).slice(2),Fc="__reactFiber$"+go,fp="__reactProps$"+go,Cs="__reactContainer$"+go,vo="__reactEvents$"+go,_A="__reactListeners$"+go,SA="__reactHandles$"+go;function Dd(p){var v=p[Fc];if(v)return v;for(var A=p.parentNode;A;){if(v=A[Cs]||A[Fc]){if(A=v.alternate,v.child!==null||A!==null&&A.child!==null)for(p=bl(p);p!==null;){if(A=p[Fc])return A;p=bl(p)}return v}p=A,A=p.parentNode}return null}function hp(p){return p=p[Fc]||p[Cs],!p||p.tag!==5&&p.tag!==6&&p.tag!==13&&p.tag!==3?null:p}function Wf(p){if(p.tag===5||p.tag===6)return p.stateNode;throw Error(r(33))}function c0(p){return p[fp]||null}var qy=[],wu=-1;function Zl(p){return{current:p}}function da(p){0>wu||(p.current=qy[wu],qy[wu]=null,wu--)}function va(p,v){wu++,qy[wu]=p.current,p.current=v}var Id={},ms=Zl(Id),yo=Zl(!1),Vf=Id;function pp(p,v){var A=p.type.contextTypes;if(!A)return Id;var R=p.stateNode;if(R&&R.__reactInternalMemoizedUnmaskedChildContext===v)return R.__reactInternalMemoizedMaskedChildContext;var H={},ee;for(ee in A)H[ee]=v[ee];return R&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=v,p.__reactInternalMemoizedMaskedChildContext=H),H}function xo(p){return p=p.childContextTypes,p!=null}function Zg(){da(yo),da(ms)}function Cb(p,v,A){if(ms.current!==Id)throw Error(r(168));va(ms,v),va(yo,A)}function zy(p,v,A){var R=p.stateNode;if(v=v.childContextTypes,typeof R.getChildContext!="function")return A;R=R.getChildContext();for(var H in R)if(!(H in v))throw Error(r(108,oe(p)||"Unknown",H));return Y({},A,R)}function Hf(p){return p=(p=p.stateNode)&&p.__reactInternalMemoizedMergedChildContext||Id,Vf=ms.current,va(ms,p),va(yo,yo.current),!0}function Pb(p,v,A){var R=p.stateNode;if(!R)throw Error(r(169));A?(p=zy(p,v,Vf),R.__reactInternalMemoizedMergedChildContext=p,da(yo),da(ms),va(ms,p)):da(yo),va(yo,A)}var bu=null,u0=!1,k=!1;function F(p){bu===null?bu=[p]:bu.push(p)}function X(p){u0=!0,F(p)}function ae(){if(!k&&bu!==null){k=!0;var p=0,v=Yn;try{var A=bu;for(Yn=1;p<A.length;p++){var R=A[p];do R=R(!0);while(R!==null)}bu=null,u0=!1}catch(H){throw bu!==null&&(bu=bu.slice(p+1)),Ft(zn,ae),H}finally{Yn=v,k=!1}}return null}var le=[],he=0,me=null,ye=0,be=[],ke=0,Be=null,it=1,st="";function Ye(p,v){le[he++]=ye,le[he++]=me,me=p,ye=v}function Mt(p,v,A){be[ke++]=it,be[ke++]=st,be[ke++]=Be,Be=p;var R=it;p=st;var H=32-Ha(R)-1;R&=~(1<<H),A+=1;var ee=32-Ha(v)+H;if(30<ee){var pe=H-H%5;ee=(R&(1<<pe)-1).toString(32),R>>=pe,H-=pe,it=1<<32-Ha(v)+H|A<<H|R,st=ee+p}else it=1<<ee|A<<H|R,st=p}function _t(p){p.return!==null&&(Ye(p,1),Mt(p,1,0))}function qe(p){for(;p===me;)me=le[--he],le[he]=null,ye=le[--he],le[he]=null;for(;p===Be;)Be=be[--ke],be[ke]=null,st=be[--ke],be[ke]=null,it=be[--ke],be[ke]=null}var ze=null,Ct=null,Et=!1,Tt=null;function vr(p,v){var A=qc(5,null,null,0);A.elementType="DELETED",A.stateNode=v,A.return=p,v=p.deletions,v===null?(p.deletions=[A],p.flags|=16):v.push(A)}function ir(p,v){switch(p.tag){case 5:var A=p.type;return v=v.nodeType!==1||A.toLowerCase()!==v.nodeName.toLowerCase()?null:v,v!==null?(p.stateNode=v,ze=p,Ct=Ks(v.firstChild),!0):!1;case 6:return v=p.pendingProps===""||v.nodeType!==3?null:v,v!==null?(p.stateNode=v,ze=p,Ct=null,!0):!1;case 13:return v=v.nodeType!==8?null:v,v!==null?(A=Be!==null?{id:it,overflow:st}:null,p.memoizedState={dehydrated:v,treeContext:A,retryLane:1073741824},A=qc(18,null,null,0),A.stateNode=v,A.return=p,p.child=A,ze=p,Ct=null,!0):!1;default:return!1}}function Br(p){return(p.mode&1)!==0&&(p.flags&128)===0}function sr(p){if(Et){var v=Ct;if(v){var A=v;if(!ir(p,v)){if(Br(p))throw Error(r(418));v=Ks(A.nextSibling);var R=ze;v&&ir(p,v)?vr(R,A):(p.flags=p.flags&-4097|2,Et=!1,ze=p)}}else{if(Br(p))throw Error(r(418));p.flags=p.flags&-4097|2,Et=!1,ze=p}}}function Wn(p){for(p=p.return;p!==null&&p.tag!==5&&p.tag!==3&&p.tag!==13;)p=p.return;ze=p}function Vn(p){if(p!==ze)return!1;if(!Et)return Wn(p),Et=!0,!1;var v;if((v=p.tag!==3)&&!(v=p.tag!==5)&&(v=p.type,v=v!=="head"&&v!=="body"&&!$y(p.type,p.memoizedProps)),v&&(v=Ct)){if(Br(p))throw jn(),Error(r(418));for(;v;)vr(p,v),v=Ks(v.nextSibling)}if(Wn(p),p.tag===13){if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));e:{for(p=p.nextSibling,v=0;p;){if(p.nodeType===8){var A=p.data;if(A==="/$"){if(v===0){Ct=Ks(p.nextSibling);break e}v--}else A!=="$"&&A!=="$!"&&A!=="$?"||v++}p=p.nextSibling}Ct=null}}else Ct=ze?Ks(p.stateNode.nextSibling):null;return!0}function jn(){for(var p=Ct;p;)p=Ks(p.nextSibling)}function wn(){Ct=ze=null,Et=!1}function fa(p){Tt===null?Tt=[p]:Tt.push(p)}var ya=E.ReactCurrentBatchConfig;function on(p,v,A){if(p=A.ref,p!==null&&typeof p!="function"&&typeof p!="object"){if(A._owner){if(A=A._owner,A){if(A.tag!==1)throw Error(r(309));var R=A.stateNode}if(!R)throw Error(r(147,p));var H=R,ee=""+p;return v!==null&&v.ref!==null&&typeof v.ref=="function"&&v.ref._stringRef===ee?v.ref:(v=function(pe){var Oe=H.refs;pe===null?delete Oe[ee]:Oe[ee]=pe},v._stringRef=ee,v)}if(typeof p!="string")throw Error(r(284));if(!A._owner)throw Error(r(290,p))}return p}function Ka(p,v){throw p=Object.prototype.toString.call(v),Error(r(31,p==="[object Object]"?"object with keys {"+Object.keys(v).join(", ")+"}":p))}function Xs(p){var v=p._init;return v(p._payload)}function hi(p){function v(ut,He){if(p){var pt=ut.deletions;pt===null?(ut.deletions=[He],ut.flags|=16):pt.push(He)}}function A(ut,He){if(!p)return null;for(;He!==null;)v(ut,He),He=He.sibling;return null}function R(ut,He){for(ut=new Map;He!==null;)He.key!==null?ut.set(He.key,He):ut.set(He.index,He),He=He.sibling;return ut}function H(ut,He){return ut=kp(ut,He),ut.index=0,ut.sibling=null,ut}function ee(ut,He,pt){return ut.index=pt,p?(pt=ut.alternate,pt!==null?(pt=pt.index,pt<He?(ut.flags|=2,He):pt):(ut.flags|=2,He)):(ut.flags|=1048576,He)}function pe(ut){return p&&ut.alternate===null&&(ut.flags|=2),ut}function Oe(ut,He,pt,Qt){return He===null||He.tag!==6?(He=ZA(pt,ut.mode,Qt),He.return=ut,He):(He=H(He,pt),He.return=ut,He)}function Ue(ut,He,pt,Qt){var Dr=pt.type;return Dr===P?Ut(ut,He,pt.props.children,Qt,pt.key):He!==null&&(He.elementType===Dr||typeof Dr=="object"&&Dr!==null&&Dr.$$typeof===re&&Xs(Dr)===He.type)?(Qt=H(He,pt.props),Qt.ref=on(ut,He,pt),Qt.return=ut,Qt):(Qt=Kb(pt.type,pt.key,pt.props,null,ut.mode,Qt),Qt.ref=on(ut,He,pt),Qt.return=ut,Qt)}function xt(ut,He,pt,Qt){return He===null||He.tag!==4||He.stateNode.containerInfo!==pt.containerInfo||He.stateNode.implementation!==pt.implementation?(He=QA(pt,ut.mode,Qt),He.return=ut,He):(He=H(He,pt.children||[]),He.return=ut,He)}function Ut(ut,He,pt,Qt,Dr){return He===null||He.tag!==7?(He=y0(pt,ut.mode,Qt,Dr),He.return=ut,He):(He=H(He,pt),He.return=ut,He)}function Vt(ut,He,pt){if(typeof He=="string"&&He!==""||typeof He=="number")return He=ZA(""+He,ut.mode,pt),He.return=ut,He;if(typeof He=="object"&&He!==null){switch(He.$$typeof){case C:return pt=Kb(He.type,He.key,He.props,null,ut.mode,pt),pt.ref=on(ut,null,He),pt.return=ut,pt;case O:return He=QA(He,ut.mode,pt),He.return=ut,He;case re:var Qt=He._init;return Vt(ut,Qt(He._payload),pt)}if(St(He)||U(He))return He=y0(He,ut.mode,pt,null),He.return=ut,He;Ka(ut,He)}return null}function Bt(ut,He,pt,Qt){var Dr=He!==null?He.key:null;if(typeof pt=="string"&&pt!==""||typeof pt=="number")return Dr!==null?null:Oe(ut,He,""+pt,Qt);if(typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case C:return pt.key===Dr?Ue(ut,He,pt,Qt):null;case O:return pt.key===Dr?xt(ut,He,pt,Qt):null;case re:return Dr=pt._init,Bt(ut,He,Dr(pt._payload),Qt)}if(St(pt)||U(pt))return Dr!==null?null:Ut(ut,He,pt,Qt,null);Ka(ut,pt)}return null}function br(ut,He,pt,Qt,Dr){if(typeof Qt=="string"&&Qt!==""||typeof Qt=="number")return ut=ut.get(pt)||null,Oe(He,ut,""+Qt,Dr);if(typeof Qt=="object"&&Qt!==null){switch(Qt.$$typeof){case C:return ut=ut.get(Qt.key===null?pt:Qt.key)||null,Ue(He,ut,Qt,Dr);case O:return ut=ut.get(Qt.key===null?pt:Qt.key)||null,xt(He,ut,Qt,Dr);case re:var Gr=Qt._init;return br(ut,He,pt,Gr(Qt._payload),Dr)}if(St(Qt)||U(Qt))return ut=ut.get(pt)||null,Ut(He,ut,Qt,Dr,null);Ka(He,Qt)}return null}function Cr(ut,He,pt,Qt){for(var Dr=null,Gr=null,Yr=He,pn=He=0,Ds=null;Yr!==null&&pn<pt.length;pn++){Yr.index>pn?(Ds=Yr,Yr=null):Ds=Yr.sibling;var aa=Bt(ut,Yr,pt[pn],Qt);if(aa===null){Yr===null&&(Yr=Ds);break}p&&Yr&&aa.alternate===null&&v(ut,Yr),He=ee(aa,He,pn),Gr===null?Dr=aa:Gr.sibling=aa,Gr=aa,Yr=Ds}if(pn===pt.length)return A(ut,Yr),Et&&Ye(ut,pn),Dr;if(Yr===null){for(;pn<pt.length;pn++)Yr=Vt(ut,pt[pn],Qt),Yr!==null&&(He=ee(Yr,He,pn),Gr===null?Dr=Yr:Gr.sibling=Yr,Gr=Yr);return Et&&Ye(ut,pn),Dr}for(Yr=R(ut,Yr);pn<pt.length;pn++)Ds=br(Yr,ut,pn,pt[pn],Qt),Ds!==null&&(p&&Ds.alternate!==null&&Yr.delete(Ds.key===null?pn:Ds.key),He=ee(Ds,He,pn),Gr===null?Dr=Ds:Gr.sibling=Ds,Gr=Ds);return p&&Yr.forEach(function(Ep){return v(ut,Ep)}),Et&&Ye(ut,pn),Dr}function Or(ut,He,pt,Qt){var Dr=U(pt);if(typeof Dr!="function")throw Error(r(150));if(pt=Dr.call(pt),pt==null)throw Error(r(151));for(var Gr=Dr=null,Yr=He,pn=He=0,Ds=null,aa=pt.next();Yr!==null&&!aa.done;pn++,aa=pt.next()){Yr.index>pn?(Ds=Yr,Yr=null):Ds=Yr.sibling;var Ep=Bt(ut,Yr,aa.value,Qt);if(Ep===null){Yr===null&&(Yr=Ds);break}p&&Yr&&Ep.alternate===null&&v(ut,Yr),He=ee(Ep,He,pn),Gr===null?Dr=Ep:Gr.sibling=Ep,Gr=Ep,Yr=Ds}if(aa.done)return A(ut,Yr),Et&&Ye(ut,pn),Dr;if(Yr===null){for(;!aa.done;pn++,aa=pt.next())aa=Vt(ut,aa.value,Qt),aa!==null&&(He=ee(aa,He,pn),Gr===null?Dr=aa:Gr.sibling=aa,Gr=aa);return Et&&Ye(ut,pn),Dr}for(Yr=R(ut,Yr);!aa.done;pn++,aa=pt.next())aa=br(Yr,ut,pn,aa.value,Qt),aa!==null&&(p&&aa.alternate!==null&&Yr.delete(aa.key===null?pn:aa.key),He=ee(aa,He,pn),Gr===null?Dr=aa:Gr.sibling=aa,Gr=aa);return p&&Yr.forEach(function(ele){return v(ut,ele)}),Et&&Ye(ut,pn),Dr}function Ui(ut,He,pt,Qt){if(typeof pt=="object"&&pt!==null&&pt.type===P&&pt.key===null&&(pt=pt.props.children),typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case C:e:{for(var Dr=pt.key,Gr=He;Gr!==null;){if(Gr.key===Dr){if(Dr=pt.type,Dr===P){if(Gr.tag===7){A(ut,Gr.sibling),He=H(Gr,pt.props.children),He.return=ut,ut=He;break e}}else if(Gr.elementType===Dr||typeof Dr=="object"&&Dr!==null&&Dr.$$typeof===re&&Xs(Dr)===Gr.type){A(ut,Gr.sibling),He=H(Gr,pt.props),He.ref=on(ut,Gr,pt),He.return=ut,ut=He;break e}A(ut,Gr);break}else v(ut,Gr);Gr=Gr.sibling}pt.type===P?(He=y0(pt.props.children,ut.mode,Qt,pt.key),He.return=ut,ut=He):(Qt=Kb(pt.type,pt.key,pt.props,null,ut.mode,Qt),Qt.ref=on(ut,He,pt),Qt.return=ut,ut=Qt)}return pe(ut);case O:e:{for(Gr=pt.key;He!==null;){if(He.key===Gr)if(He.tag===4&&He.stateNode.containerInfo===pt.containerInfo&&He.stateNode.implementation===pt.implementation){A(ut,He.sibling),He=H(He,pt.children||[]),He.return=ut,ut=He;break e}else{A(ut,He);break}else v(ut,He);He=He.sibling}He=QA(pt,ut.mode,Qt),He.return=ut,ut=He}return pe(ut);case re:return Gr=pt._init,Ui(ut,He,Gr(pt._payload),Qt)}if(St(pt))return Cr(ut,He,pt,Qt);if(U(pt))return Or(ut,He,pt,Qt);Ka(ut,pt)}return typeof pt=="string"&&pt!==""||typeof pt=="number"?(pt=""+pt,He!==null&&He.tag===6?(A(ut,He.sibling),He=H(He,pt),He.return=ut,ut=He):(A(ut,He),He=ZA(pt,ut.mode,Qt),He.return=ut,ut=He),pe(ut)):A(ut,He)}return Ui}var ji=hi(!0),ra=hi(!1),Ps=Zl(null),Ts=null,Xa=null,$i=null;function gs(){$i=Xa=Ts=null}function wo(p){var v=Ps.current;da(Ps),p._currentValue=v}function _l(p,v,A){for(;p!==null;){var R=p.alternate;if((p.childLanes&v)!==v?(p.childLanes|=v,R!==null&&(R.childLanes|=v)):R!==null&&(R.childLanes&v)!==v&&(R.childLanes|=v),p===A)break;p=p.return}}function Ja(p,v){Ts=p,$i=Xa=null,p=p.dependencies,p!==null&&p.firstContext!==null&&((p.lanes&v)!==0&&(kl=!0),p.firstContext=null)}function Ai(p){var v=p._currentValue;if($i!==p)if(p={context:p,memoizedValue:v,next:null},Xa===null){if(Ts===null)throw Error(r(308));Xa=p,Ts.dependencies={lanes:0,firstContext:p}}else Xa=Xa.next=p;return v}var Zo=null;function Rd(p){Zo===null?Zo=[p]:Zo.push(p)}function _u(p,v,A,R){var H=v.interleaved;return H===null?(A.next=A,Rd(v)):(A.next=H.next,H.next=A),v.interleaved=A,na(p,R)}function na(p,v){p.lanes|=v;var A=p.alternate;for(A!==null&&(A.lanes|=v),A=p,p=p.return;p!==null;)p.childLanes|=v,A=p.alternate,A!==null&&(A.childLanes|=v),A=p,p=p.return;return A.tag===3?A.stateNode:null}var Lc=!1;function Qg(p){p.updateQueue={baseState:p.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wy(p,v){p=p.updateQueue,v.updateQueue===p&&(v.updateQueue={baseState:p.baseState,firstBaseUpdate:p.firstBaseUpdate,lastBaseUpdate:p.lastBaseUpdate,shared:p.shared,effects:p.effects})}function Sl(p,v){return{eventTime:p,lane:v,tag:0,payload:null,callback:null,next:null}}function Nl(p,v,A){var R=p.updateQueue;if(R===null)return null;if(R=R.shared,(Xn&2)!==0){var H=R.pending;return H===null?v.next=v:(v.next=H.next,H.next=v),R.pending=v,na(p,A)}return H=R.interleaved,H===null?(v.next=v,Rd(R)):(v.next=H.next,H.next=v),R.interleaved=v,na(p,A)}function Gf(p,v,A){if(v=v.updateQueue,v!==null&&(v=v.shared,(A&4194240)!==0)){var R=v.lanes;R&=p.pendingLanes,A|=R,v.lanes=A,Uh(p,A)}}function Al(p,v){var A=p.updateQueue,R=p.alternate;if(R!==null&&(R=R.updateQueue,A===R)){var H=null,ee=null;if(A=A.firstBaseUpdate,A!==null){do{var pe={eventTime:A.eventTime,lane:A.lane,tag:A.tag,payload:A.payload,callback:A.callback,next:null};ee===null?H=ee=pe:ee=ee.next=pe,A=A.next}while(A!==null);ee===null?H=ee=v:ee=ee.next=v}else H=ee=v;A={baseState:R.baseState,firstBaseUpdate:H,lastBaseUpdate:ee,shared:R.shared,effects:R.effects},p.updateQueue=A;return}p=A.lastBaseUpdate,p===null?A.firstBaseUpdate=v:p.next=v,A.lastBaseUpdate=v}function Su(p,v,A,R){var H=p.updateQueue;Lc=!1;var ee=H.firstBaseUpdate,pe=H.lastBaseUpdate,Oe=H.shared.pending;if(Oe!==null){H.shared.pending=null;var Ue=Oe,xt=Ue.next;Ue.next=null,pe===null?ee=xt:pe.next=xt,pe=Ue;var Ut=p.alternate;Ut!==null&&(Ut=Ut.updateQueue,Oe=Ut.lastBaseUpdate,Oe!==pe&&(Oe===null?Ut.firstBaseUpdate=xt:Oe.next=xt,Ut.lastBaseUpdate=Ue))}if(ee!==null){var Vt=H.baseState;pe=0,Ut=xt=Ue=null,Oe=ee;do{var Bt=Oe.lane,br=Oe.eventTime;if((R&Bt)===Bt){Ut!==null&&(Ut=Ut.next={eventTime:br,lane:0,tag:Oe.tag,payload:Oe.payload,callback:Oe.callback,next:null});e:{var Cr=p,Or=Oe;switch(Bt=v,br=A,Or.tag){case 1:if(Cr=Or.payload,typeof Cr=="function"){Vt=Cr.call(br,Vt,Bt);break e}Vt=Cr;break e;case 3:Cr.flags=Cr.flags&-65537|128;case 0:if(Cr=Or.payload,Bt=typeof Cr=="function"?Cr.call(br,Vt,Bt):Cr,Bt==null)break e;Vt=Y({},Vt,Bt);break e;case 2:Lc=!0}}Oe.callback!==null&&Oe.lane!==0&&(p.flags|=64,Bt=H.effects,Bt===null?H.effects=[Oe]:Bt.push(Oe))}else br={eventTime:br,lane:Bt,tag:Oe.tag,payload:Oe.payload,callback:Oe.callback,next:null},Ut===null?(xt=Ut=br,Ue=Vt):Ut=Ut.next=br,pe|=Bt;if(Oe=Oe.next,Oe===null){if(Oe=H.shared.pending,Oe===null)break;Bt=Oe,Oe=Bt.next,Bt.next=null,H.lastBaseUpdate=Bt,H.shared.pending=null}}while(!0);if(Ut===null&&(Ue=Vt),H.baseState=Ue,H.firstBaseUpdate=xt,H.lastBaseUpdate=Ut,v=H.shared.interleaved,v!==null){H=v;do pe|=H.lane,H=H.next;while(H!==v)}else ee===null&&(H.shared.lanes=0);p0|=pe,p.lanes=pe,p.memoizedState=Vt}}function Yf(p,v,A){if(p=v.effects,v.effects=null,p!==null)for(v=0;v<p.length;v++){var R=p[v],H=R.callback;if(H!==null){if(R.callback=null,R=A,typeof H!="function")throw Error(r(191,H));H.call(R)}}}var mp={},Qo=Zl(mp),gp=Zl(mp),Md=Zl(mp);function Nu(p){if(p===mp)throw Error(r(174));return p}function vp(p,v){switch(va(Md,v),va(gp,p),va(Qo,mp),p=v.nodeType,p){case 9:case 11:v=(v=v.documentElement)?v.namespaceURI:Xe(null,"");break;default:p=p===8?v.parentNode:v,v=p.namespaceURI||null,p=p.tagName,v=Xe(v,p)}da(Qo),va(Qo,v)}function jc(){da(Qo),da(gp),da(Md)}function Tb(p){Nu(Md.current);var v=Nu(Qo.current),A=Xe(v,p.type);v!==A&&(va(gp,p),va(Qo,A))}function Vy(p){gp.current===p&&(da(Qo),da(gp))}var Ia=Zl(0);function Ql(p){for(var v=p;v!==null;){if(v.tag===13){var A=v.memoizedState;if(A!==null&&(A=A.dehydrated,A===null||A.data==="$?"||A.data==="$!"))return v}else if(v.tag===19&&v.memoizedProps.revealOrder!==void 0){if((v.flags&128)!==0)return v}else if(v.child!==null){v.child.return=v,v=v.child;continue}if(v===p)break;for(;v.sibling===null;){if(v.return===null||v.return===p)return null;v=v.return}v.sibling.return=v.return,v=v.sibling}return null}var Hy=[];function Gy(){for(var p=0;p<Hy.length;p++)Hy[p]._workInProgressVersionPrimary=null;Hy.length=0}var ev=E.ReactCurrentDispatcher,tv=E.ReactCurrentBatchConfig,$c=0,La=null,ki=null,pi=null,yp=!1,Au=!1,xp=0,NA=0;function Bi(){throw Error(r(321))}function rv(p,v){if(v===null)return!1;for(var A=0;A<v.length&&A<p.length;A++)if(!Kn(p[A],v[A]))return!1;return!0}function d0(p,v,A,R,H,ee){if($c=ee,La=v,v.memoizedState=null,v.updateQueue=null,v.lanes=0,ev.current=p===null||p.memoizedState===null?koe:Eoe,p=A(R,H),Au){ee=0;do{if(Au=!1,xp=0,25<=ee)throw Error(r(301));ee+=1,pi=ki=null,v.updateQueue=null,ev.current=Coe,p=A(R,H)}while(Au)}if(ev.current=Mb,v=ki!==null&&ki.next!==null,$c=0,pi=ki=La=null,yp=!1,v)throw Error(r(300));return p}function Bc(){var p=xp!==0;return xp=0,p}function ec(){var p={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pi===null?La.memoizedState=pi=p:pi=pi.next=p,pi}function el(){if(ki===null){var p=La.alternate;p=p!==null?p.memoizedState:null}else p=ki.next;var v=pi===null?La.memoizedState:pi.next;if(v!==null)pi=v,ki=p;else{if(p===null)throw Error(r(310));ki=p,p={memoizedState:ki.memoizedState,baseState:ki.baseState,baseQueue:ki.baseQueue,queue:ki.queue,next:null},pi===null?La.memoizedState=pi=p:pi=pi.next=p}return pi}function f0(p,v){return typeof v=="function"?v(p):v}function nv(p){var v=el(),A=v.queue;if(A===null)throw Error(r(311));A.lastRenderedReducer=p;var R=ki,H=R.baseQueue,ee=A.pending;if(ee!==null){if(H!==null){var pe=H.next;H.next=ee.next,ee.next=pe}R.baseQueue=H=ee,A.pending=null}if(H!==null){ee=H.next,R=R.baseState;var Oe=pe=null,Ue=null,xt=ee;do{var Ut=xt.lane;if(($c&Ut)===Ut)Ue!==null&&(Ue=Ue.next={lane:0,action:xt.action,hasEagerState:xt.hasEagerState,eagerState:xt.eagerState,next:null}),R=xt.hasEagerState?xt.eagerState:p(R,xt.action);else{var Vt={lane:Ut,action:xt.action,hasEagerState:xt.hasEagerState,eagerState:xt.eagerState,next:null};Ue===null?(Oe=Ue=Vt,pe=R):Ue=Ue.next=Vt,La.lanes|=Ut,p0|=Ut}xt=xt.next}while(xt!==null&&xt!==ee);Ue===null?pe=R:Ue.next=Oe,Kn(R,v.memoizedState)||(kl=!0),v.memoizedState=R,v.baseState=pe,v.baseQueue=Ue,A.lastRenderedState=R}if(p=A.interleaved,p!==null){H=p;do ee=H.lane,La.lanes|=ee,p0|=ee,H=H.next;while(H!==p)}else H===null&&(A.lanes=0);return[v.memoizedState,A.dispatch]}function Fd(p){var v=el(),A=v.queue;if(A===null)throw Error(r(311));A.lastRenderedReducer=p;var R=A.dispatch,H=A.pending,ee=v.memoizedState;if(H!==null){A.pending=null;var pe=H=H.next;do ee=p(ee,pe.action),pe=pe.next;while(pe!==H);Kn(ee,v.memoizedState)||(kl=!0),v.memoizedState=ee,v.baseQueue===null&&(v.baseState=ee),A.lastRenderedState=ee}return[ee,R]}function Ob(){}function Yy(p,v){var A=La,R=el(),H=v(),ee=!Kn(R.memoizedState,H);if(ee&&(R.memoizedState=H,kl=!0),R=R.queue,sv(Ib.bind(null,A,R,p),[p]),R.getSnapshot!==v||ee||pi!==null&&pi.memoizedState.tag&1){if(A.flags|=2048,tl(9,Ky.bind(null,A,R,H,v),void 0,null),Os===null)throw Error(r(349));($c&30)!==0||Db(A,v,H)}return H}function Db(p,v,A){p.flags|=16384,p={getSnapshot:v,value:A},v=La.updateQueue,v===null?(v={lastEffect:null,stores:null},La.updateQueue=v,v.stores=[p]):(A=v.stores,A===null?v.stores=[p]:A.push(p))}function Ky(p,v,A,R){v.value=A,v.getSnapshot=R,wp(v)&&av(p)}function Ib(p,v,A){return A(function(){wp(v)&&av(p)})}function wp(p){var v=p.getSnapshot;p=p.value;try{var A=v();return!Kn(p,A)}catch{return!0}}function av(p){var v=na(p,1);v!==null&&Tu(v,p,1,-1)}function h0(p){var v=ec();return typeof p=="function"&&(p=p()),v.memoizedState=v.baseState=p,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:f0,lastRenderedState:p},v.queue=p,p=p.dispatch=Aoe.bind(null,La,p),[v.memoizedState,p]}function tl(p,v,A,R){return p={tag:p,create:v,destroy:A,deps:R,next:null},v=La.updateQueue,v===null?(v={lastEffect:null,stores:null},La.updateQueue=v,v.lastEffect=p.next=p):(A=v.lastEffect,A===null?v.lastEffect=p.next=p:(R=A.next,A.next=p,p.next=R,v.lastEffect=p)),p}function ku(){return el().memoizedState}function tc(p,v,A,R){var H=ec();La.flags|=p,H.memoizedState=tl(1|v,A,void 0,R===void 0?null:R)}function Kf(p,v,A,R){var H=el();R=R===void 0?null:R;var ee=void 0;if(ki!==null){var pe=ki.memoizedState;if(ee=pe.destroy,R!==null&&rv(R,pe.deps)){H.memoizedState=tl(v,A,ee,R);return}}La.flags|=p,H.memoizedState=tl(1|v,A,ee,R)}function iv(p,v){return tc(8390656,8,p,v)}function sv(p,v){return Kf(2048,8,p,v)}function Rb(p,v){return Kf(4,2,p,v)}function ov(p,v){return Kf(4,4,p,v)}function lv(p,v){if(typeof v=="function")return p=p(),v(p),function(){v(null)};if(v!=null)return p=p(),v.current=p,function(){v.current=null}}function WM(p,v,A){return A=A!=null?A.concat([p]):null,Kf(4,4,lv.bind(null,v,p),A)}function AA(){}function VM(p,v){var A=el();v=v===void 0?null:v;var R=A.memoizedState;return R!==null&&v!==null&&rv(v,R[1])?R[0]:(A.memoizedState=[p,v],p)}function HM(p,v){var A=el();v=v===void 0?null:v;var R=A.memoizedState;return R!==null&&v!==null&&rv(v,R[1])?R[0]:(p=p(),A.memoizedState=[p,v],p)}function GM(p,v,A){return($c&21)===0?(p.baseState&&(p.baseState=!1,kl=!0),p.memoizedState=A):(Kn(A,v)||(A=Wm(),La.lanes|=A,p0|=A,p.baseState=!0),v)}function Soe(p,v){var A=Yn;Yn=A!==0&&4>A?A:4,p(!0);var R=tv.transition;tv.transition={};try{p(!1),v()}finally{Yn=A,tv.transition=R}}function YM(){return el().memoizedState}function Noe(p,v,A){var R=Np(p);if(A={lane:R,action:A,hasEagerState:!1,eagerState:null,next:null},KM(p))XM(v,A);else if(A=_u(p,v,A,R),A!==null){var H=nl();Tu(A,p,R,H),JM(A,v,R)}}function Aoe(p,v,A){var R=Np(p),H={lane:R,action:A,hasEagerState:!1,eagerState:null,next:null};if(KM(p))XM(v,H);else{var ee=p.alternate;if(p.lanes===0&&(ee===null||ee.lanes===0)&&(ee=v.lastRenderedReducer,ee!==null))try{var pe=v.lastRenderedState,Oe=ee(pe,A);if(H.hasEagerState=!0,H.eagerState=Oe,Kn(Oe,pe)){var Ue=v.interleaved;Ue===null?(H.next=H,Rd(v)):(H.next=Ue.next,Ue.next=H),v.interleaved=H;return}}catch{}finally{}A=_u(p,v,H,R),A!==null&&(H=nl(),Tu(A,p,R,H),JM(A,v,R))}}function KM(p){var v=p.alternate;return p===La||v!==null&&v===La}function XM(p,v){Au=yp=!0;var A=p.pending;A===null?v.next=v:(v.next=A.next,A.next=v),p.pending=v}function JM(p,v,A){if((A&4194240)!==0){var R=v.lanes;R&=p.pendingLanes,A|=R,v.lanes=A,Uh(p,A)}}var Mb={readContext:Ai,useCallback:Bi,useContext:Bi,useEffect:Bi,useImperativeHandle:Bi,useInsertionEffect:Bi,useLayoutEffect:Bi,useMemo:Bi,useReducer:Bi,useRef:Bi,useState:Bi,useDebugValue:Bi,useDeferredValue:Bi,useTransition:Bi,useMutableSource:Bi,useSyncExternalStore:Bi,useId:Bi,unstable_isNewReconciler:!1},koe={readContext:Ai,useCallback:function(p,v){return ec().memoizedState=[p,v===void 0?null:v],p},useContext:Ai,useEffect:iv,useImperativeHandle:function(p,v,A){return A=A!=null?A.concat([p]):null,tc(4194308,4,lv.bind(null,v,p),A)},useLayoutEffect:function(p,v){return tc(4194308,4,p,v)},useInsertionEffect:function(p,v){return tc(4,2,p,v)},useMemo:function(p,v){var A=ec();return v=v===void 0?null:v,p=p(),A.memoizedState=[p,v],p},useReducer:function(p,v,A){var R=ec();return v=A!==void 0?A(v):v,R.memoizedState=R.baseState=v,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:p,lastRenderedState:v},R.queue=p,p=p.dispatch=Noe.bind(null,La,p),[R.memoizedState,p]},useRef:function(p){var v=ec();return p={current:p},v.memoizedState=p},useState:h0,useDebugValue:AA,useDeferredValue:function(p){return ec().memoizedState=p},useTransition:function(){var p=h0(!1),v=p[0];return p=Soe.bind(null,p[1]),ec().memoizedState=p,[v,p]},useMutableSource:function(){},useSyncExternalStore:function(p,v,A){var R=La,H=ec();if(Et){if(A===void 0)throw Error(r(407));A=A()}else{if(A=v(),Os===null)throw Error(r(349));($c&30)!==0||Db(R,v,A)}H.memoizedState=A;var ee={value:A,getSnapshot:v};return H.queue=ee,iv(Ib.bind(null,R,ee,p),[p]),R.flags|=2048,tl(9,Ky.bind(null,R,ee,A,v),void 0,null),A},useId:function(){var p=ec(),v=Os.identifierPrefix;if(Et){var A=st,R=it;A=(R&~(1<<32-Ha(R)-1)).toString(32)+A,v=":"+v+"R"+A,A=xp++,0<A&&(v+="H"+A.toString(32)),v+=":"}else A=NA++,v=":"+v+"r"+A.toString(32)+":";return p.memoizedState=v},unstable_isNewReconciler:!1},Eoe={readContext:Ai,useCallback:VM,useContext:Ai,useEffect:sv,useImperativeHandle:WM,useInsertionEffect:Rb,useLayoutEffect:ov,useMemo:HM,useReducer:nv,useRef:ku,useState:function(){return nv(f0)},useDebugValue:AA,useDeferredValue:function(p){var v=el();return GM(v,ki.memoizedState,p)},useTransition:function(){var p=nv(f0)[0],v=el().memoizedState;return[p,v]},useMutableSource:Ob,useSyncExternalStore:Yy,useId:YM,unstable_isNewReconciler:!1},Coe={readContext:Ai,useCallback:VM,useContext:Ai,useEffect:sv,useImperativeHandle:WM,useInsertionEffect:Rb,useLayoutEffect:ov,useMemo:HM,useReducer:Fd,useRef:ku,useState:function(){return Fd(f0)},useDebugValue:AA,useDeferredValue:function(p){var v=el();return ki===null?v.memoizedState=p:GM(v,ki.memoizedState,p)},useTransition:function(){var p=Fd(f0)[0],v=el().memoizedState;return[p,v]},useMutableSource:Ob,useSyncExternalStore:Yy,useId:YM,unstable_isNewReconciler:!1};function Eu(p,v){if(p&&p.defaultProps){v=Y({},v),p=p.defaultProps;for(var A in p)v[A]===void 0&&(v[A]=p[A]);return v}return v}function kA(p,v,A,R){v=p.memoizedState,A=A(R,v),A=A==null?v:Y({},v,A),p.memoizedState=A,p.lanes===0&&(p.updateQueue.baseState=A)}var Fb={isMounted:function(p){return(p=p._reactInternals)?Ne(p)===p:!1},enqueueSetState:function(p,v,A){p=p._reactInternals;var R=nl(),H=Np(p),ee=Sl(R,H);ee.payload=v,A!=null&&(ee.callback=A),v=Nl(p,ee,H),v!==null&&(Tu(v,p,H,R),Gf(v,p,H))},enqueueReplaceState:function(p,v,A){p=p._reactInternals;var R=nl(),H=Np(p),ee=Sl(R,H);ee.tag=1,ee.payload=v,A!=null&&(ee.callback=A),v=Nl(p,ee,H),v!==null&&(Tu(v,p,H,R),Gf(v,p,H))},enqueueForceUpdate:function(p,v){p=p._reactInternals;var A=nl(),R=Np(p),H=Sl(A,R);H.tag=2,v!=null&&(H.callback=v),v=Nl(p,H,R),v!==null&&(Tu(v,p,R,A),Gf(v,p,R))}};function ZM(p,v,A,R,H,ee,pe){return p=p.stateNode,typeof p.shouldComponentUpdate=="function"?p.shouldComponentUpdate(R,ee,pe):v.prototype&&v.prototype.isPureReactComponent?!gu(A,R)||!gu(H,ee):!0}function QM(p,v,A){var R=!1,H=Id,ee=v.contextType;return typeof ee=="object"&&ee!==null?ee=Ai(ee):(H=xo(v)?Vf:ms.current,R=v.contextTypes,ee=(R=R!=null)?pp(p,H):Id),v=new v(A,ee),p.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Fb,p.stateNode=v,v._reactInternals=p,R&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=H,p.__reactInternalMemoizedMaskedChildContext=ee),v}function e7(p,v,A,R){p=v.state,typeof v.componentWillReceiveProps=="function"&&v.componentWillReceiveProps(A,R),typeof v.UNSAFE_componentWillReceiveProps=="function"&&v.UNSAFE_componentWillReceiveProps(A,R),v.state!==p&&Fb.enqueueReplaceState(v,v.state,null)}function EA(p,v,A,R){var H=p.stateNode;H.props=A,H.state=p.memoizedState,H.refs={},Qg(p);var ee=v.contextType;typeof ee=="object"&&ee!==null?H.context=Ai(ee):(ee=xo(v)?Vf:ms.current,H.context=pp(p,ee)),H.state=p.memoizedState,ee=v.getDerivedStateFromProps,typeof ee=="function"&&(kA(p,v,ee,A),H.state=p.memoizedState),typeof v.getDerivedStateFromProps=="function"||typeof H.getSnapshotBeforeUpdate=="function"||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(v=H.state,typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount(),v!==H.state&&Fb.enqueueReplaceState(H,H.state,null),Su(p,A,H,R),H.state=p.memoizedState),typeof H.componentDidMount=="function"&&(p.flags|=4194308)}function cv(p,v){try{var A="",R=v;do A+=ne(R),R=R.return;while(R);var H=A}catch(ee){H=`
Error generating stack: `+ee.message+`
`+ee.stack}return{value:p,source:v,stack:H,digest:null}}function CA(p,v,A){return{value:p,source:null,stack:A??null,digest:v??null}}function PA(p,v){try{console.error(v.value)}catch(A){setTimeout(function(){throw A})}}var Poe=typeof WeakMap=="function"?WeakMap:Map;function t7(p,v,A){A=Sl(-1,A),A.tag=3,A.payload={element:null};var R=v.value;return A.callback=function(){zb||(zb=!0,WA=R),PA(p,v)},A}function r7(p,v,A){A=Sl(-1,A),A.tag=3;var R=p.type.getDerivedStateFromError;if(typeof R=="function"){var H=v.value;A.payload=function(){return R(H)},A.callback=function(){PA(p,v)}}var ee=p.stateNode;return ee!==null&&typeof ee.componentDidCatch=="function"&&(A.callback=function(){PA(p,v),typeof R!="function"&&(_p===null?_p=new Set([this]):_p.add(this));var pe=v.stack;this.componentDidCatch(v.value,{componentStack:pe!==null?pe:""})}),A}function n7(p,v,A){var R=p.pingCache;if(R===null){R=p.pingCache=new Poe;var H=new Set;R.set(v,H)}else H=R.get(v),H===void 0&&(H=new Set,R.set(v,H));H.has(A)||(H.add(A),p=zoe.bind(null,p,v,A),v.then(p,p))}function a7(p){do{var v;if((v=p.tag===13)&&(v=p.memoizedState,v=v!==null?v.dehydrated!==null:!0),v)return p;p=p.return}while(p!==null);return null}function i7(p,v,A,R,H){return(p.mode&1)===0?(p===v?p.flags|=65536:(p.flags|=128,A.flags|=131072,A.flags&=-52805,A.tag===1&&(A.alternate===null?A.tag=17:(v=Sl(-1,1),v.tag=2,Nl(A,v,1))),A.lanes|=1),p):(p.flags|=65536,p.lanes=H,p)}var Toe=E.ReactCurrentOwner,kl=!1;function rl(p,v,A,R){v.child=p===null?ra(v,null,A,R):ji(v,p.child,A,R)}function s7(p,v,A,R,H){A=A.render;var ee=v.ref;return Ja(v,H),R=d0(p,v,A,R,ee,H),A=Bc(),p!==null&&!kl?(v.updateQueue=p.updateQueue,v.flags&=-2053,p.lanes&=~H,Xf(p,v,H)):(Et&&A&&_t(v),v.flags|=1,rl(p,v,R,H),v.child)}function o7(p,v,A,R,H){if(p===null){var ee=A.type;return typeof ee=="function"&&!JA(ee)&&ee.defaultProps===void 0&&A.compare===null&&A.defaultProps===void 0?(v.tag=15,v.type=ee,l7(p,v,ee,R,H)):(p=Kb(A.type,null,R,v,v.mode,H),p.ref=v.ref,p.return=v,v.child=p)}if(ee=p.child,(p.lanes&H)===0){var pe=ee.memoizedProps;if(A=A.compare,A=A!==null?A:gu,A(pe,R)&&p.ref===v.ref)return Xf(p,v,H)}return v.flags|=1,p=kp(ee,R),p.ref=v.ref,p.return=v,v.child=p}function l7(p,v,A,R,H){if(p!==null){var ee=p.memoizedProps;if(gu(ee,R)&&p.ref===v.ref)if(kl=!1,v.pendingProps=R=ee,(p.lanes&H)!==0)(p.flags&131072)!==0&&(kl=!0);else return v.lanes=p.lanes,Xf(p,v,H)}return TA(p,v,A,R,H)}function c7(p,v,A){var R=v.pendingProps,H=R.children,ee=p!==null?p.memoizedState:null;if(R.mode==="hidden")if((v.mode&1)===0)v.memoizedState={baseLanes:0,cachePool:null,transitions:null},va(dv,rc),rc|=A;else{if((A&1073741824)===0)return p=ee!==null?ee.baseLanes|A:A,v.lanes=v.childLanes=1073741824,v.memoizedState={baseLanes:p,cachePool:null,transitions:null},v.updateQueue=null,va(dv,rc),rc|=p,null;v.memoizedState={baseLanes:0,cachePool:null,transitions:null},R=ee!==null?ee.baseLanes:A,va(dv,rc),rc|=R}else ee!==null?(R=ee.baseLanes|A,v.memoizedState=null):R=A,va(dv,rc),rc|=R;return rl(p,v,H,A),v.child}function u7(p,v){var A=v.ref;(p===null&&A!==null||p!==null&&p.ref!==A)&&(v.flags|=512,v.flags|=2097152)}function TA(p,v,A,R,H){var ee=xo(A)?Vf:ms.current;return ee=pp(v,ee),Ja(v,H),A=d0(p,v,A,R,ee,H),R=Bc(),p!==null&&!kl?(v.updateQueue=p.updateQueue,v.flags&=-2053,p.lanes&=~H,Xf(p,v,H)):(Et&&R&&_t(v),v.flags|=1,rl(p,v,A,H),v.child)}function d7(p,v,A,R,H){if(xo(A)){var ee=!0;Hf(v)}else ee=!1;if(Ja(v,H),v.stateNode===null)jb(p,v),QM(v,A,R),EA(v,A,R,H),R=!0;else if(p===null){var pe=v.stateNode,Oe=v.memoizedProps;pe.props=Oe;var Ue=pe.context,xt=A.contextType;typeof xt=="object"&&xt!==null?xt=Ai(xt):(xt=xo(A)?Vf:ms.current,xt=pp(v,xt));var Ut=A.getDerivedStateFromProps,Vt=typeof Ut=="function"||typeof pe.getSnapshotBeforeUpdate=="function";Vt||typeof pe.UNSAFE_componentWillReceiveProps!="function"&&typeof pe.componentWillReceiveProps!="function"||(Oe!==R||Ue!==xt)&&e7(v,pe,R,xt),Lc=!1;var Bt=v.memoizedState;pe.state=Bt,Su(v,R,pe,H),Ue=v.memoizedState,Oe!==R||Bt!==Ue||yo.current||Lc?(typeof Ut=="function"&&(kA(v,A,Ut,R),Ue=v.memoizedState),(Oe=Lc||ZM(v,A,Oe,R,Bt,Ue,xt))?(Vt||typeof pe.UNSAFE_componentWillMount!="function"&&typeof pe.componentWillMount!="function"||(typeof pe.componentWillMount=="function"&&pe.componentWillMount(),typeof pe.UNSAFE_componentWillMount=="function"&&pe.UNSAFE_componentWillMount()),typeof pe.componentDidMount=="function"&&(v.flags|=4194308)):(typeof pe.componentDidMount=="function"&&(v.flags|=4194308),v.memoizedProps=R,v.memoizedState=Ue),pe.props=R,pe.state=Ue,pe.context=xt,R=Oe):(typeof pe.componentDidMount=="function"&&(v.flags|=4194308),R=!1)}else{pe=v.stateNode,Wy(p,v),Oe=v.memoizedProps,xt=v.type===v.elementType?Oe:Eu(v.type,Oe),pe.props=xt,Vt=v.pendingProps,Bt=pe.context,Ue=A.contextType,typeof Ue=="object"&&Ue!==null?Ue=Ai(Ue):(Ue=xo(A)?Vf:ms.current,Ue=pp(v,Ue));var br=A.getDerivedStateFromProps;(Ut=typeof br=="function"||typeof pe.getSnapshotBeforeUpdate=="function")||typeof pe.UNSAFE_componentWillReceiveProps!="function"&&typeof pe.componentWillReceiveProps!="function"||(Oe!==Vt||Bt!==Ue)&&e7(v,pe,R,Ue),Lc=!1,Bt=v.memoizedState,pe.state=Bt,Su(v,R,pe,H);var Cr=v.memoizedState;Oe!==Vt||Bt!==Cr||yo.current||Lc?(typeof br=="function"&&(kA(v,A,br,R),Cr=v.memoizedState),(xt=Lc||ZM(v,A,xt,R,Bt,Cr,Ue)||!1)?(Ut||typeof pe.UNSAFE_componentWillUpdate!="function"&&typeof pe.componentWillUpdate!="function"||(typeof pe.componentWillUpdate=="function"&&pe.componentWillUpdate(R,Cr,Ue),typeof pe.UNSAFE_componentWillUpdate=="function"&&pe.UNSAFE_componentWillUpdate(R,Cr,Ue)),typeof pe.componentDidUpdate=="function"&&(v.flags|=4),typeof pe.getSnapshotBeforeUpdate=="function"&&(v.flags|=1024)):(typeof pe.componentDidUpdate!="function"||Oe===p.memoizedProps&&Bt===p.memoizedState||(v.flags|=4),typeof pe.getSnapshotBeforeUpdate!="function"||Oe===p.memoizedProps&&Bt===p.memoizedState||(v.flags|=1024),v.memoizedProps=R,v.memoizedState=Cr),pe.props=R,pe.state=Cr,pe.context=Ue,R=xt):(typeof pe.componentDidUpdate!="function"||Oe===p.memoizedProps&&Bt===p.memoizedState||(v.flags|=4),typeof pe.getSnapshotBeforeUpdate!="function"||Oe===p.memoizedProps&&Bt===p.memoizedState||(v.flags|=1024),R=!1)}return OA(p,v,A,R,ee,H)}function OA(p,v,A,R,H,ee){u7(p,v);var pe=(v.flags&128)!==0;if(!R&&!pe)return H&&Pb(v,A,!1),Xf(p,v,ee);R=v.stateNode,Toe.current=v;var Oe=pe&&typeof A.getDerivedStateFromError!="function"?null:R.render();return v.flags|=1,p!==null&&pe?(v.child=ji(v,p.child,null,ee),v.child=ji(v,null,Oe,ee)):rl(p,v,Oe,ee),v.memoizedState=R.state,H&&Pb(v,A,!0),v.child}function f7(p){var v=p.stateNode;v.pendingContext?Cb(p,v.pendingContext,v.pendingContext!==v.context):v.context&&Cb(p,v.context,!1),vp(p,v.containerInfo)}function h7(p,v,A,R,H){return wn(),fa(H),v.flags|=256,rl(p,v,A,R),v.child}var DA={dehydrated:null,treeContext:null,retryLane:0};function IA(p){return{baseLanes:p,cachePool:null,transitions:null}}function p7(p,v,A){var R=v.pendingProps,H=Ia.current,ee=!1,pe=(v.flags&128)!==0,Oe;if((Oe=pe)||(Oe=p!==null&&p.memoizedState===null?!1:(H&2)!==0),Oe?(ee=!0,v.flags&=-129):(p===null||p.memoizedState!==null)&&(H|=1),va(Ia,H&1),p===null)return sr(v),p=v.memoizedState,p!==null&&(p=p.dehydrated,p!==null)?((v.mode&1)===0?v.lanes=1:p.data==="$!"?v.lanes=8:v.lanes=1073741824,null):(pe=R.children,p=R.fallback,ee?(R=v.mode,ee=v.child,pe={mode:"hidden",children:pe},(R&1)===0&&ee!==null?(ee.childLanes=0,ee.pendingProps=pe):ee=Xb(pe,R,0,null),p=y0(p,R,A,null),ee.return=v,p.return=v,ee.sibling=p,v.child=ee,v.child.memoizedState=IA(A),v.memoizedState=DA,p):RA(v,pe));if(H=p.memoizedState,H!==null&&(Oe=H.dehydrated,Oe!==null))return Ooe(p,v,pe,R,Oe,H,A);if(ee){ee=R.fallback,pe=v.mode,H=p.child,Oe=H.sibling;var Ue={mode:"hidden",children:R.children};return(pe&1)===0&&v.child!==H?(R=v.child,R.childLanes=0,R.pendingProps=Ue,v.deletions=null):(R=kp(H,Ue),R.subtreeFlags=H.subtreeFlags&14680064),Oe!==null?ee=kp(Oe,ee):(ee=y0(ee,pe,A,null),ee.flags|=2),ee.return=v,R.return=v,R.sibling=ee,v.child=R,R=ee,ee=v.child,pe=p.child.memoizedState,pe=pe===null?IA(A):{baseLanes:pe.baseLanes|A,cachePool:null,transitions:pe.transitions},ee.memoizedState=pe,ee.childLanes=p.childLanes&~A,v.memoizedState=DA,R}return ee=p.child,p=ee.sibling,R=kp(ee,{mode:"visible",children:R.children}),(v.mode&1)===0&&(R.lanes=A),R.return=v,R.sibling=null,p!==null&&(A=v.deletions,A===null?(v.deletions=[p],v.flags|=16):A.push(p)),v.child=R,v.memoizedState=null,R}function RA(p,v){return v=Xb({mode:"visible",children:v},p.mode,0,null),v.return=p,p.child=v}function Lb(p,v,A,R){return R!==null&&fa(R),ji(v,p.child,null,A),p=RA(v,v.pendingProps.children),p.flags|=2,v.memoizedState=null,p}function Ooe(p,v,A,R,H,ee,pe){if(A)return v.flags&256?(v.flags&=-257,R=CA(Error(r(422))),Lb(p,v,pe,R)):v.memoizedState!==null?(v.child=p.child,v.flags|=128,null):(ee=R.fallback,H=v.mode,R=Xb({mode:"visible",children:R.children},H,0,null),ee=y0(ee,H,pe,null),ee.flags|=2,R.return=v,ee.return=v,R.sibling=ee,v.child=R,(v.mode&1)!==0&&ji(v,p.child,null,pe),v.child.memoizedState=IA(pe),v.memoizedState=DA,ee);if((v.mode&1)===0)return Lb(p,v,pe,null);if(H.data==="$!"){if(R=H.nextSibling&&H.nextSibling.dataset,R)var Oe=R.dgst;return R=Oe,ee=Error(r(419)),R=CA(ee,R,void 0),Lb(p,v,pe,R)}if(Oe=(pe&p.childLanes)!==0,kl||Oe){if(R=Os,R!==null){switch(pe&-pe){case 4:H=2;break;case 16:H=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:H=32;break;case 536870912:H=268435456;break;default:H=0}H=(H&(R.suspendedLanes|pe))!==0?0:H,H!==0&&H!==ee.retryLane&&(ee.retryLane=H,na(p,H),Tu(R,p,H,-1))}return XA(),R=CA(Error(r(421))),Lb(p,v,pe,R)}return H.data==="$?"?(v.flags|=128,v.child=p.child,v=Woe.bind(null,p),H._reactRetry=v,null):(p=ee.treeContext,Ct=Ks(H.nextSibling),ze=v,Et=!0,Tt=null,p!==null&&(be[ke++]=it,be[ke++]=st,be[ke++]=Be,it=p.id,st=p.overflow,Be=v),v=RA(v,R.children),v.flags|=4096,v)}function m7(p,v,A){p.lanes|=v;var R=p.alternate;R!==null&&(R.lanes|=v),_l(p.return,v,A)}function MA(p,v,A,R,H){var ee=p.memoizedState;ee===null?p.memoizedState={isBackwards:v,rendering:null,renderingStartTime:0,last:R,tail:A,tailMode:H}:(ee.isBackwards=v,ee.rendering=null,ee.renderingStartTime=0,ee.last=R,ee.tail=A,ee.tailMode=H)}function g7(p,v,A){var R=v.pendingProps,H=R.revealOrder,ee=R.tail;if(rl(p,v,R.children,A),R=Ia.current,(R&2)!==0)R=R&1|2,v.flags|=128;else{if(p!==null&&(p.flags&128)!==0)e:for(p=v.child;p!==null;){if(p.tag===13)p.memoizedState!==null&&m7(p,A,v);else if(p.tag===19)m7(p,A,v);else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===v)break e;for(;p.sibling===null;){if(p.return===null||p.return===v)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}R&=1}if(va(Ia,R),(v.mode&1)===0)v.memoizedState=null;else switch(H){case"forwards":for(A=v.child,H=null;A!==null;)p=A.alternate,p!==null&&Ql(p)===null&&(H=A),A=A.sibling;A=H,A===null?(H=v.child,v.child=null):(H=A.sibling,A.sibling=null),MA(v,!1,H,A,ee);break;case"backwards":for(A=null,H=v.child,v.child=null;H!==null;){if(p=H.alternate,p!==null&&Ql(p)===null){v.child=H;break}p=H.sibling,H.sibling=A,A=H,H=p}MA(v,!0,A,null,ee);break;case"together":MA(v,!1,null,null,void 0);break;default:v.memoizedState=null}return v.child}function jb(p,v){(v.mode&1)===0&&p!==null&&(p.alternate=null,v.alternate=null,v.flags|=2)}function Xf(p,v,A){if(p!==null&&(v.dependencies=p.dependencies),p0|=v.lanes,(A&v.childLanes)===0)return null;if(p!==null&&v.child!==p.child)throw Error(r(153));if(v.child!==null){for(p=v.child,A=kp(p,p.pendingProps),v.child=A,A.return=v;p.sibling!==null;)p=p.sibling,A=A.sibling=kp(p,p.pendingProps),A.return=v;A.sibling=null}return v.child}function Doe(p,v,A){switch(v.tag){case 3:f7(v),wn();break;case 5:Tb(v);break;case 1:xo(v.type)&&Hf(v);break;case 4:vp(v,v.stateNode.containerInfo);break;case 10:var R=v.type._context,H=v.memoizedProps.value;va(Ps,R._currentValue),R._currentValue=H;break;case 13:if(R=v.memoizedState,R!==null)return R.dehydrated!==null?(va(Ia,Ia.current&1),v.flags|=128,null):(A&v.child.childLanes)!==0?p7(p,v,A):(va(Ia,Ia.current&1),p=Xf(p,v,A),p!==null?p.sibling:null);va(Ia,Ia.current&1);break;case 19:if(R=(A&v.childLanes)!==0,(p.flags&128)!==0){if(R)return g7(p,v,A);v.flags|=128}if(H=v.memoizedState,H!==null&&(H.rendering=null,H.tail=null,H.lastEffect=null),va(Ia,Ia.current),R)break;return null;case 22:case 23:return v.lanes=0,c7(p,v,A)}return Xf(p,v,A)}var v7,FA,y7,x7;v7=function(p,v){for(var A=v.child;A!==null;){if(A.tag===5||A.tag===6)p.appendChild(A.stateNode);else if(A.tag!==4&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===v)break;for(;A.sibling===null;){if(A.return===null||A.return===v)return;A=A.return}A.sibling.return=A.return,A=A.sibling}},FA=function(){},y7=function(p,v,A,R){var H=p.memoizedProps;if(H!==R){p=v.stateNode,Nu(Qo.current);var ee=null;switch(A){case"input":H=Fe(p,H),R=Fe(p,R),ee=[];break;case"select":H=Y({},H,{value:void 0}),R=Y({},R,{value:void 0}),ee=[];break;case"textarea":H=_e(p,H),R=_e(p,R),ee=[];break;default:typeof H.onClick!="function"&&typeof R.onClick=="function"&&(p.onclick=dp)}Dt(A,R);var pe;A=null;for(xt in H)if(!R.hasOwnProperty(xt)&&H.hasOwnProperty(xt)&&H[xt]!=null)if(xt==="style"){var Oe=H[xt];for(pe in Oe)Oe.hasOwnProperty(pe)&&(A||(A={}),A[pe]="")}else xt!=="dangerouslySetInnerHTML"&&xt!=="children"&&xt!=="suppressContentEditableWarning"&&xt!=="suppressHydrationWarning"&&xt!=="autoFocus"&&(a.hasOwnProperty(xt)?ee||(ee=[]):(ee=ee||[]).push(xt,null));for(xt in R){var Ue=R[xt];if(Oe=H!=null?H[xt]:void 0,R.hasOwnProperty(xt)&&Ue!==Oe&&(Ue!=null||Oe!=null))if(xt==="style")if(Oe){for(pe in Oe)!Oe.hasOwnProperty(pe)||Ue&&Ue.hasOwnProperty(pe)||(A||(A={}),A[pe]="");for(pe in Ue)Ue.hasOwnProperty(pe)&&Oe[pe]!==Ue[pe]&&(A||(A={}),A[pe]=Ue[pe])}else A||(ee||(ee=[]),ee.push(xt,A)),A=Ue;else xt==="dangerouslySetInnerHTML"?(Ue=Ue?Ue.__html:void 0,Oe=Oe?Oe.__html:void 0,Ue!=null&&Oe!==Ue&&(ee=ee||[]).push(xt,Ue)):xt==="children"?typeof Ue!="string"&&typeof Ue!="number"||(ee=ee||[]).push(xt,""+Ue):xt!=="suppressContentEditableWarning"&&xt!=="suppressHydrationWarning"&&(a.hasOwnProperty(xt)?(Ue!=null&&xt==="onScroll"&&Aa("scroll",p),ee||Oe===Ue||(ee=[])):(ee=ee||[]).push(xt,Ue))}A&&(ee=ee||[]).push("style",A);var xt=ee;(v.updateQueue=xt)&&(v.flags|=4)}},x7=function(p,v,A,R){A!==R&&(v.flags|=4)};function Xy(p,v){if(!Et)switch(p.tailMode){case"hidden":v=p.tail;for(var A=null;v!==null;)v.alternate!==null&&(A=v),v=v.sibling;A===null?p.tail=null:A.sibling=null;break;case"collapsed":A=p.tail;for(var R=null;A!==null;)A.alternate!==null&&(R=A),A=A.sibling;R===null?v||p.tail===null?p.tail=null:p.tail.sibling=null:R.sibling=null}}function bo(p){var v=p.alternate!==null&&p.alternate.child===p.child,A=0,R=0;if(v)for(var H=p.child;H!==null;)A|=H.lanes|H.childLanes,R|=H.subtreeFlags&14680064,R|=H.flags&14680064,H.return=p,H=H.sibling;else for(H=p.child;H!==null;)A|=H.lanes|H.childLanes,R|=H.subtreeFlags,R|=H.flags,H.return=p,H=H.sibling;return p.subtreeFlags|=R,p.childLanes=A,v}function Ioe(p,v,A){var R=v.pendingProps;switch(qe(v),v.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bo(v),null;case 1:return xo(v.type)&&Zg(),bo(v),null;case 3:return R=v.stateNode,jc(),da(yo),da(ms),Gy(),R.pendingContext&&(R.context=R.pendingContext,R.pendingContext=null),(p===null||p.child===null)&&(Vn(v)?v.flags|=4:p===null||p.memoizedState.isDehydrated&&(v.flags&256)===0||(v.flags|=1024,Tt!==null&&(GA(Tt),Tt=null))),FA(p,v),bo(v),null;case 5:Vy(v);var H=Nu(Md.current);if(A=v.type,p!==null&&v.stateNode!=null)y7(p,v,A,R,H),p.ref!==v.ref&&(v.flags|=512,v.flags|=2097152);else{if(!R){if(v.stateNode===null)throw Error(r(166));return bo(v),null}if(p=Nu(Qo.current),Vn(v)){R=v.stateNode,A=v.type;var ee=v.memoizedProps;switch(R[Fc]=v,R[fp]=ee,p=(v.mode&1)!==0,A){case"dialog":Aa("cancel",R),Aa("close",R);break;case"iframe":case"object":case"embed":Aa("load",R);break;case"video":case"audio":for(H=0;H<Od.length;H++)Aa(Od[H],R);break;case"source":Aa("error",R);break;case"img":case"image":case"link":Aa("error",R),Aa("load",R);break;case"details":Aa("toggle",R);break;case"input":Pe(R,ee),Aa("invalid",R);break;case"select":R._wrapperState={wasMultiple:!!ee.multiple},Aa("invalid",R);break;case"textarea":ge(R,ee),Aa("invalid",R)}Dt(A,ee),H=null;for(var pe in ee)if(ee.hasOwnProperty(pe)){var Oe=ee[pe];pe==="children"?typeof Oe=="string"?R.textContent!==Oe&&(ee.suppressHydrationWarning!==!0&&Jg(R.textContent,Oe,p),H=["children",Oe]):typeof Oe=="number"&&R.textContent!==""+Oe&&(ee.suppressHydrationWarning!==!0&&Jg(R.textContent,Oe,p),H=["children",""+Oe]):a.hasOwnProperty(pe)&&Oe!=null&&pe==="onScroll"&&Aa("scroll",R)}switch(A){case"input":fe(R),ht(R,ee,!0);break;case"textarea":fe(R),Je(R);break;case"select":case"option":break;default:typeof ee.onClick=="function"&&(R.onclick=dp)}R=H,v.updateQueue=R,R!==null&&(v.flags|=4)}else{pe=H.nodeType===9?H:H.ownerDocument,p==="http://www.w3.org/1999/xhtml"&&(p=Qe(A)),p==="http://www.w3.org/1999/xhtml"?A==="script"?(p=pe.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild)):typeof R.is=="string"?p=pe.createElement(A,{is:R.is}):(p=pe.createElement(A),A==="select"&&(pe=p,R.multiple?pe.multiple=!0:R.size&&(pe.size=R.size))):p=pe.createElementNS(p,A),p[Fc]=v,p[fp]=R,v7(p,v,!1,!1),v.stateNode=p;e:{switch(pe=Vr(A,R),A){case"dialog":Aa("cancel",p),Aa("close",p),H=R;break;case"iframe":case"object":case"embed":Aa("load",p),H=R;break;case"video":case"audio":for(H=0;H<Od.length;H++)Aa(Od[H],p);H=R;break;case"source":Aa("error",p),H=R;break;case"img":case"image":case"link":Aa("error",p),Aa("load",p),H=R;break;case"details":Aa("toggle",p),H=R;break;case"input":Pe(p,R),H=Fe(p,R),Aa("invalid",p);break;case"option":H=R;break;case"select":p._wrapperState={wasMultiple:!!R.multiple},H=Y({},R,{value:void 0}),Aa("invalid",p);break;case"textarea":ge(p,R),H=_e(p,R),Aa("invalid",p);break;default:H=R}Dt(A,H),Oe=H;for(ee in Oe)if(Oe.hasOwnProperty(ee)){var Ue=Oe[ee];ee==="style"?Nn(p,Ue):ee==="dangerouslySetInnerHTML"?(Ue=Ue?Ue.__html:void 0,Ue!=null&&At(p,Ue)):ee==="children"?typeof Ue=="string"?(A!=="textarea"||Ue!=="")&&Nt(p,Ue):typeof Ue=="number"&&Nt(p,""+Ue):ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&ee!=="autoFocus"&&(a.hasOwnProperty(ee)?Ue!=null&&ee==="onScroll"&&Aa("scroll",p):Ue!=null&&N(p,ee,Ue,pe))}switch(A){case"input":fe(p),ht(p,R,!1);break;case"textarea":fe(p),Je(p);break;case"option":R.value!=null&&p.setAttribute("value",""+ue(R.value));break;case"select":p.multiple=!!R.multiple,ee=R.value,ee!=null?wt(p,!!R.multiple,ee,!1):R.defaultValue!=null&&wt(p,!!R.multiple,R.defaultValue,!0);break;default:typeof H.onClick=="function"&&(p.onclick=dp)}switch(A){case"button":case"input":case"select":case"textarea":R=!!R.autoFocus;break e;case"img":R=!0;break e;default:R=!1}}R&&(v.flags|=4)}v.ref!==null&&(v.flags|=512,v.flags|=2097152)}return bo(v),null;case 6:if(p&&v.stateNode!=null)x7(p,v,p.memoizedProps,R);else{if(typeof R!="string"&&v.stateNode===null)throw Error(r(166));if(A=Nu(Md.current),Nu(Qo.current),Vn(v)){if(R=v.stateNode,A=v.memoizedProps,R[Fc]=v,(ee=R.nodeValue!==A)&&(p=ze,p!==null))switch(p.tag){case 3:Jg(R.nodeValue,A,(p.mode&1)!==0);break;case 5:p.memoizedProps.suppressHydrationWarning!==!0&&Jg(R.nodeValue,A,(p.mode&1)!==0)}ee&&(v.flags|=4)}else R=(A.nodeType===9?A:A.ownerDocument).createTextNode(R),R[Fc]=v,v.stateNode=R}return bo(v),null;case 13:if(da(Ia),R=v.memoizedState,p===null||p.memoizedState!==null&&p.memoizedState.dehydrated!==null){if(Et&&Ct!==null&&(v.mode&1)!==0&&(v.flags&128)===0)jn(),wn(),v.flags|=98560,ee=!1;else if(ee=Vn(v),R!==null&&R.dehydrated!==null){if(p===null){if(!ee)throw Error(r(318));if(ee=v.memoizedState,ee=ee!==null?ee.dehydrated:null,!ee)throw Error(r(317));ee[Fc]=v}else wn(),(v.flags&128)===0&&(v.memoizedState=null),v.flags|=4;bo(v),ee=!1}else Tt!==null&&(GA(Tt),Tt=null),ee=!0;if(!ee)return v.flags&65536?v:null}return(v.flags&128)!==0?(v.lanes=A,v):(R=R!==null,R!==(p!==null&&p.memoizedState!==null)&&R&&(v.child.flags|=8192,(v.mode&1)!==0&&(p===null||(Ia.current&1)!==0?vs===0&&(vs=3):XA())),v.updateQueue!==null&&(v.flags|=4),bo(v),null);case 4:return jc(),FA(p,v),p===null&&Uf(v.stateNode.containerInfo),bo(v),null;case 10:return wo(v.type._context),bo(v),null;case 17:return xo(v.type)&&Zg(),bo(v),null;case 19:if(da(Ia),ee=v.memoizedState,ee===null)return bo(v),null;if(R=(v.flags&128)!==0,pe=ee.rendering,pe===null)if(R)Xy(ee,!1);else{if(vs!==0||p!==null&&(p.flags&128)!==0)for(p=v.child;p!==null;){if(pe=Ql(p),pe!==null){for(v.flags|=128,Xy(ee,!1),R=pe.updateQueue,R!==null&&(v.updateQueue=R,v.flags|=4),v.subtreeFlags=0,R=A,A=v.child;A!==null;)ee=A,p=R,ee.flags&=14680066,pe=ee.alternate,pe===null?(ee.childLanes=0,ee.lanes=p,ee.child=null,ee.subtreeFlags=0,ee.memoizedProps=null,ee.memoizedState=null,ee.updateQueue=null,ee.dependencies=null,ee.stateNode=null):(ee.childLanes=pe.childLanes,ee.lanes=pe.lanes,ee.child=pe.child,ee.subtreeFlags=0,ee.deletions=null,ee.memoizedProps=pe.memoizedProps,ee.memoizedState=pe.memoizedState,ee.updateQueue=pe.updateQueue,ee.type=pe.type,p=pe.dependencies,ee.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),A=A.sibling;return va(Ia,Ia.current&1|2),v.child}p=p.sibling}ee.tail!==null&&qt()>fv&&(v.flags|=128,R=!0,Xy(ee,!1),v.lanes=4194304)}else{if(!R)if(p=Ql(pe),p!==null){if(v.flags|=128,R=!0,A=p.updateQueue,A!==null&&(v.updateQueue=A,v.flags|=4),Xy(ee,!0),ee.tail===null&&ee.tailMode==="hidden"&&!pe.alternate&&!Et)return bo(v),null}else 2*qt()-ee.renderingStartTime>fv&&A!==1073741824&&(v.flags|=128,R=!0,Xy(ee,!1),v.lanes=4194304);ee.isBackwards?(pe.sibling=v.child,v.child=pe):(A=ee.last,A!==null?A.sibling=pe:v.child=pe,ee.last=pe)}return ee.tail!==null?(v=ee.tail,ee.rendering=v,ee.tail=v.sibling,ee.renderingStartTime=qt(),v.sibling=null,A=Ia.current,va(Ia,R?A&1|2:A&1),v):(bo(v),null);case 22:case 23:return KA(),R=v.memoizedState!==null,p!==null&&p.memoizedState!==null!==R&&(v.flags|=8192),R&&(v.mode&1)!==0?(rc&1073741824)!==0&&(bo(v),v.subtreeFlags&6&&(v.flags|=8192)):bo(v),null;case 24:return null;case 25:return null}throw Error(r(156,v.tag))}function Roe(p,v){switch(qe(v),v.tag){case 1:return xo(v.type)&&Zg(),p=v.flags,p&65536?(v.flags=p&-65537|128,v):null;case 3:return jc(),da(yo),da(ms),Gy(),p=v.flags,(p&65536)!==0&&(p&128)===0?(v.flags=p&-65537|128,v):null;case 5:return Vy(v),null;case 13:if(da(Ia),p=v.memoizedState,p!==null&&p.dehydrated!==null){if(v.alternate===null)throw Error(r(340));wn()}return p=v.flags,p&65536?(v.flags=p&-65537|128,v):null;case 19:return da(Ia),null;case 4:return jc(),null;case 10:return wo(v.type._context),null;case 22:case 23:return KA(),null;case 24:return null;default:return null}}var $b=!1,_o=!1,Moe=typeof WeakSet=="function"?WeakSet:Set,Ar=null;function uv(p,v){var A=p.ref;if(A!==null)if(typeof A=="function")try{A(null)}catch(R){Ei(p,v,R)}else A.current=null}function LA(p,v,A){try{A()}catch(R){Ei(p,v,R)}}var w7=!1;function Foe(p,v){if(l0=Hh,p=t0(),Lf(p)){if("selectionStart"in p)var A={start:p.selectionStart,end:p.selectionEnd};else e:{A=(A=p.ownerDocument)&&A.defaultView||window;var R=A.getSelection&&A.getSelection();if(R&&R.rangeCount!==0){A=R.anchorNode;var H=R.anchorOffset,ee=R.focusNode;R=R.focusOffset;try{A.nodeType,ee.nodeType}catch{A=null;break e}var pe=0,Oe=-1,Ue=-1,xt=0,Ut=0,Vt=p,Bt=null;t:for(;;){for(var br;Vt!==A||H!==0&&Vt.nodeType!==3||(Oe=pe+H),Vt!==ee||R!==0&&Vt.nodeType!==3||(Ue=pe+R),Vt.nodeType===3&&(pe+=Vt.nodeValue.length),(br=Vt.firstChild)!==null;)Bt=Vt,Vt=br;for(;;){if(Vt===p)break t;if(Bt===A&&++xt===H&&(Oe=pe),Bt===ee&&++Ut===R&&(Ue=pe),(br=Vt.nextSibling)!==null)break;Vt=Bt,Bt=Vt.parentNode}Vt=br}A=Oe===-1||Ue===-1?null:{start:Oe,end:Ue}}else A=null}A=A||{start:0,end:0}}else A=null;for(zf={focusedElem:p,selectionRange:A},Hh=!1,Ar=v;Ar!==null;)if(v=Ar,p=v.child,(v.subtreeFlags&1028)!==0&&p!==null)p.return=v,Ar=p;else for(;Ar!==null;){v=Ar;try{var Cr=v.alternate;if((v.flags&1024)!==0)switch(v.tag){case 0:case 11:case 15:break;case 1:if(Cr!==null){var Or=Cr.memoizedProps,Ui=Cr.memoizedState,ut=v.stateNode,He=ut.getSnapshotBeforeUpdate(v.elementType===v.type?Or:Eu(v.type,Or),Ui);ut.__reactInternalSnapshotBeforeUpdate=He}break;case 3:var pt=v.stateNode.containerInfo;pt.nodeType===1?pt.textContent="":pt.nodeType===9&&pt.documentElement&&pt.removeChild(pt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Qt){Ei(v,v.return,Qt)}if(p=v.sibling,p!==null){p.return=v.return,Ar=p;break}Ar=v.return}return Cr=w7,w7=!1,Cr}function Jy(p,v,A){var R=v.updateQueue;if(R=R!==null?R.lastEffect:null,R!==null){var H=R=R.next;do{if((H.tag&p)===p){var ee=H.destroy;H.destroy=void 0,ee!==void 0&&LA(v,A,ee)}H=H.next}while(H!==R)}}function Bb(p,v){if(v=v.updateQueue,v=v!==null?v.lastEffect:null,v!==null){var A=v=v.next;do{if((A.tag&p)===p){var R=A.create;A.destroy=R()}A=A.next}while(A!==v)}}function jA(p){var v=p.ref;if(v!==null){var A=p.stateNode;switch(p.tag){case 5:p=A;break;default:p=A}typeof v=="function"?v(p):v.current=p}}function b7(p){var v=p.alternate;v!==null&&(p.alternate=null,b7(v)),p.child=null,p.deletions=null,p.sibling=null,p.tag===5&&(v=p.stateNode,v!==null&&(delete v[Fc],delete v[fp],delete v[vo],delete v[_A],delete v[SA])),p.stateNode=null,p.return=null,p.dependencies=null,p.memoizedProps=null,p.memoizedState=null,p.pendingProps=null,p.stateNode=null,p.updateQueue=null}function _7(p){return p.tag===5||p.tag===3||p.tag===4}function S7(p){e:for(;;){for(;p.sibling===null;){if(p.return===null||_7(p.return))return null;p=p.return}for(p.sibling.return=p.return,p=p.sibling;p.tag!==5&&p.tag!==6&&p.tag!==18;){if(p.flags&2||p.child===null||p.tag===4)continue e;p.child.return=p,p=p.child}if(!(p.flags&2))return p.stateNode}}function $A(p,v,A){var R=p.tag;if(R===5||R===6)p=p.stateNode,v?A.nodeType===8?A.parentNode.insertBefore(p,v):A.insertBefore(p,v):(A.nodeType===8?(v=A.parentNode,v.insertBefore(p,A)):(v=A,v.appendChild(p)),A=A._reactRootContainer,A!=null||v.onclick!==null||(v.onclick=dp));else if(R!==4&&(p=p.child,p!==null))for($A(p,v,A),p=p.sibling;p!==null;)$A(p,v,A),p=p.sibling}function BA(p,v,A){var R=p.tag;if(R===5||R===6)p=p.stateNode,v?A.insertBefore(p,v):A.appendChild(p);else if(R!==4&&(p=p.child,p!==null))for(BA(p,v,A),p=p.sibling;p!==null;)BA(p,v,A),p=p.sibling}var Js=null,Cu=!1;function bp(p,v,A){for(A=A.child;A!==null;)N7(p,v,A),A=A.sibling}function N7(p,v,A){if(_i&&typeof _i.onCommitFiberUnmount=="function")try{_i.onCommitFiberUnmount(Go,A)}catch{}switch(A.tag){case 5:_o||uv(A,v);case 6:var R=Js,H=Cu;Js=null,bp(p,v,A),Js=R,Cu=H,Js!==null&&(Cu?(p=Js,A=A.stateNode,p.nodeType===8?p.parentNode.removeChild(A):p.removeChild(A)):Js.removeChild(A.stateNode));break;case 18:Js!==null&&(Cu?(p=Js,A=A.stateNode,p.nodeType===8?Uy(p.parentNode,A):p.nodeType===1&&Uy(p,A),Yl(p)):Uy(Js,A.stateNode));break;case 4:R=Js,H=Cu,Js=A.stateNode.containerInfo,Cu=!0,bp(p,v,A),Js=R,Cu=H;break;case 0:case 11:case 14:case 15:if(!_o&&(R=A.updateQueue,R!==null&&(R=R.lastEffect,R!==null))){H=R=R.next;do{var ee=H,pe=ee.destroy;ee=ee.tag,pe!==void 0&&((ee&2)!==0||(ee&4)!==0)&&LA(A,v,pe),H=H.next}while(H!==R)}bp(p,v,A);break;case 1:if(!_o&&(uv(A,v),R=A.stateNode,typeof R.componentWillUnmount=="function"))try{R.props=A.memoizedProps,R.state=A.memoizedState,R.componentWillUnmount()}catch(Oe){Ei(A,v,Oe)}bp(p,v,A);break;case 21:bp(p,v,A);break;case 22:A.mode&1?(_o=(R=_o)||A.memoizedState!==null,bp(p,v,A),_o=R):bp(p,v,A);break;default:bp(p,v,A)}}function A7(p){var v=p.updateQueue;if(v!==null){p.updateQueue=null;var A=p.stateNode;A===null&&(A=p.stateNode=new Moe),v.forEach(function(R){var H=Voe.bind(null,p,R);A.has(R)||(A.add(R),R.then(H,H))})}}function Pu(p,v){var A=v.deletions;if(A!==null)for(var R=0;R<A.length;R++){var H=A[R];try{var ee=p,pe=v,Oe=pe;e:for(;Oe!==null;){switch(Oe.tag){case 5:Js=Oe.stateNode,Cu=!1;break e;case 3:Js=Oe.stateNode.containerInfo,Cu=!0;break e;case 4:Js=Oe.stateNode.containerInfo,Cu=!0;break e}Oe=Oe.return}if(Js===null)throw Error(r(160));N7(ee,pe,H),Js=null,Cu=!1;var Ue=H.alternate;Ue!==null&&(Ue.return=null),H.return=null}catch(xt){Ei(H,v,xt)}}if(v.subtreeFlags&12854)for(v=v.child;v!==null;)k7(v,p),v=v.sibling}function k7(p,v){var A=p.alternate,R=p.flags;switch(p.tag){case 0:case 11:case 14:case 15:if(Pu(v,p),Ld(p),R&4){try{Jy(3,p,p.return),Bb(3,p)}catch(Or){Ei(p,p.return,Or)}try{Jy(5,p,p.return)}catch(Or){Ei(p,p.return,Or)}}break;case 1:Pu(v,p),Ld(p),R&512&&A!==null&&uv(A,A.return);break;case 5:if(Pu(v,p),Ld(p),R&512&&A!==null&&uv(A,A.return),p.flags&32){var H=p.stateNode;try{Nt(H,"")}catch(Or){Ei(p,p.return,Or)}}if(R&4&&(H=p.stateNode,H!=null)){var ee=p.memoizedProps,pe=A!==null?A.memoizedProps:ee,Oe=p.type,Ue=p.updateQueue;if(p.updateQueue=null,Ue!==null)try{Oe==="input"&&ee.type==="radio"&&ee.name!=null&&ve(H,ee),Vr(Oe,pe);var xt=Vr(Oe,ee);for(pe=0;pe<Ue.length;pe+=2){var Ut=Ue[pe],Vt=Ue[pe+1];Ut==="style"?Nn(H,Vt):Ut==="dangerouslySetInnerHTML"?At(H,Vt):Ut==="children"?Nt(H,Vt):N(H,Ut,Vt,xt)}switch(Oe){case"input":Ge(H,ee);break;case"textarea":Ce(H,ee);break;case"select":var Bt=H._wrapperState.wasMultiple;H._wrapperState.wasMultiple=!!ee.multiple;var br=ee.value;br!=null?wt(H,!!ee.multiple,br,!1):Bt!==!!ee.multiple&&(ee.defaultValue!=null?wt(H,!!ee.multiple,ee.defaultValue,!0):wt(H,!!ee.multiple,ee.multiple?[]:"",!1))}H[fp]=ee}catch(Or){Ei(p,p.return,Or)}}break;case 6:if(Pu(v,p),Ld(p),R&4){if(p.stateNode===null)throw Error(r(162));H=p.stateNode,ee=p.memoizedProps;try{H.nodeValue=ee}catch(Or){Ei(p,p.return,Or)}}break;case 3:if(Pu(v,p),Ld(p),R&4&&A!==null&&A.memoizedState.isDehydrated)try{Yl(v.containerInfo)}catch(Or){Ei(p,p.return,Or)}break;case 4:Pu(v,p),Ld(p);break;case 13:Pu(v,p),Ld(p),H=p.child,H.flags&8192&&(ee=H.memoizedState!==null,H.stateNode.isHidden=ee,!ee||H.alternate!==null&&H.alternate.memoizedState!==null||(zA=qt())),R&4&&A7(p);break;case 22:if(Ut=A!==null&&A.memoizedState!==null,p.mode&1?(_o=(xt=_o)||Ut,Pu(v,p),_o=xt):Pu(v,p),Ld(p),R&8192){if(xt=p.memoizedState!==null,(p.stateNode.isHidden=xt)&&!Ut&&(p.mode&1)!==0)for(Ar=p,Ut=p.child;Ut!==null;){for(Vt=Ar=Ut;Ar!==null;){switch(Bt=Ar,br=Bt.child,Bt.tag){case 0:case 11:case 14:case 15:Jy(4,Bt,Bt.return);break;case 1:uv(Bt,Bt.return);var Cr=Bt.stateNode;if(typeof Cr.componentWillUnmount=="function"){R=Bt,A=Bt.return;try{v=R,Cr.props=v.memoizedProps,Cr.state=v.memoizedState,Cr.componentWillUnmount()}catch(Or){Ei(R,A,Or)}}break;case 5:uv(Bt,Bt.return);break;case 22:if(Bt.memoizedState!==null){P7(Vt);continue}}br!==null?(br.return=Bt,Ar=br):P7(Vt)}Ut=Ut.sibling}e:for(Ut=null,Vt=p;;){if(Vt.tag===5){if(Ut===null){Ut=Vt;try{H=Vt.stateNode,xt?(ee=H.style,typeof ee.setProperty=="function"?ee.setProperty("display","none","important"):ee.display="none"):(Oe=Vt.stateNode,Ue=Vt.memoizedProps.style,pe=Ue!=null&&Ue.hasOwnProperty("display")?Ue.display:null,Oe.style.display=cr("display",pe))}catch(Or){Ei(p,p.return,Or)}}}else if(Vt.tag===6){if(Ut===null)try{Vt.stateNode.nodeValue=xt?"":Vt.memoizedProps}catch(Or){Ei(p,p.return,Or)}}else if((Vt.tag!==22&&Vt.tag!==23||Vt.memoizedState===null||Vt===p)&&Vt.child!==null){Vt.child.return=Vt,Vt=Vt.child;continue}if(Vt===p)break e;for(;Vt.sibling===null;){if(Vt.return===null||Vt.return===p)break e;Ut===Vt&&(Ut=null),Vt=Vt.return}Ut===Vt&&(Ut=null),Vt.sibling.return=Vt.return,Vt=Vt.sibling}}break;case 19:Pu(v,p),Ld(p),R&4&&A7(p);break;case 21:break;default:Pu(v,p),Ld(p)}}function Ld(p){var v=p.flags;if(v&2){try{e:{for(var A=p.return;A!==null;){if(_7(A)){var R=A;break e}A=A.return}throw Error(r(160))}switch(R.tag){case 5:var H=R.stateNode;R.flags&32&&(Nt(H,""),R.flags&=-33);var ee=S7(p);BA(p,ee,H);break;case 3:case 4:var pe=R.stateNode.containerInfo,Oe=S7(p);$A(p,Oe,pe);break;default:throw Error(r(161))}}catch(Ue){Ei(p,p.return,Ue)}p.flags&=-3}v&4096&&(p.flags&=-4097)}function Loe(p,v,A){Ar=p,E7(p)}function E7(p,v,A){for(var R=(p.mode&1)!==0;Ar!==null;){var H=Ar,ee=H.child;if(H.tag===22&&R){var pe=H.memoizedState!==null||$b;if(!pe){var Oe=H.alternate,Ue=Oe!==null&&Oe.memoizedState!==null||_o;Oe=$b;var xt=_o;if($b=pe,(_o=Ue)&&!xt)for(Ar=H;Ar!==null;)pe=Ar,Ue=pe.child,pe.tag===22&&pe.memoizedState!==null?T7(H):Ue!==null?(Ue.return=pe,Ar=Ue):T7(H);for(;ee!==null;)Ar=ee,E7(ee),ee=ee.sibling;Ar=H,$b=Oe,_o=xt}C7(p)}else(H.subtreeFlags&8772)!==0&&ee!==null?(ee.return=H,Ar=ee):C7(p)}}function C7(p){for(;Ar!==null;){var v=Ar;if((v.flags&8772)!==0){var A=v.alternate;try{if((v.flags&8772)!==0)switch(v.tag){case 0:case 11:case 15:_o||Bb(5,v);break;case 1:var R=v.stateNode;if(v.flags&4&&!_o)if(A===null)R.componentDidMount();else{var H=v.elementType===v.type?A.memoizedProps:Eu(v.type,A.memoizedProps);R.componentDidUpdate(H,A.memoizedState,R.__reactInternalSnapshotBeforeUpdate)}var ee=v.updateQueue;ee!==null&&Yf(v,ee,R);break;case 3:var pe=v.updateQueue;if(pe!==null){if(A=null,v.child!==null)switch(v.child.tag){case 5:A=v.child.stateNode;break;case 1:A=v.child.stateNode}Yf(v,pe,A)}break;case 5:var Oe=v.stateNode;if(A===null&&v.flags&4){A=Oe;var Ue=v.memoizedProps;switch(v.type){case"button":case"input":case"select":case"textarea":Ue.autoFocus&&A.focus();break;case"img":Ue.src&&(A.src=Ue.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(v.memoizedState===null){var xt=v.alternate;if(xt!==null){var Ut=xt.memoizedState;if(Ut!==null){var Vt=Ut.dehydrated;Vt!==null&&Yl(Vt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}_o||v.flags&512&&jA(v)}catch(Bt){Ei(v,v.return,Bt)}}if(v===p){Ar=null;break}if(A=v.sibling,A!==null){A.return=v.return,Ar=A;break}Ar=v.return}}function P7(p){for(;Ar!==null;){var v=Ar;if(v===p){Ar=null;break}var A=v.sibling;if(A!==null){A.return=v.return,Ar=A;break}Ar=v.return}}function T7(p){for(;Ar!==null;){var v=Ar;try{switch(v.tag){case 0:case 11:case 15:var A=v.return;try{Bb(4,v)}catch(Ue){Ei(v,A,Ue)}break;case 1:var R=v.stateNode;if(typeof R.componentDidMount=="function"){var H=v.return;try{R.componentDidMount()}catch(Ue){Ei(v,H,Ue)}}var ee=v.return;try{jA(v)}catch(Ue){Ei(v,ee,Ue)}break;case 5:var pe=v.return;try{jA(v)}catch(Ue){Ei(v,pe,Ue)}}}catch(Ue){Ei(v,v.return,Ue)}if(v===p){Ar=null;break}var Oe=v.sibling;if(Oe!==null){Oe.return=v.return,Ar=Oe;break}Ar=v.return}}var joe=Math.ceil,Ub=E.ReactCurrentDispatcher,UA=E.ReactCurrentOwner,Uc=E.ReactCurrentBatchConfig,Xn=0,Os=null,as=null,Zs=0,rc=0,dv=Zl(0),vs=0,Zy=null,p0=0,qb=0,qA=0,Qy=null,El=null,zA=0,fv=1/0,Jf=null,zb=!1,WA=null,_p=null,Wb=!1,Sp=null,Vb=0,e2=0,VA=null,Hb=-1,Gb=0;function nl(){return(Xn&6)!==0?qt():Hb!==-1?Hb:Hb=qt()}function Np(p){return(p.mode&1)===0?1:(Xn&2)!==0&&Zs!==0?Zs&-Zs:ya.transition!==null?(Gb===0&&(Gb=Wm()),Gb):(p=Yn,p!==0||(p=window.event,p=p===void 0?16:Km(p.type)),p)}function Tu(p,v,A,R){if(50<e2)throw e2=0,VA=null,Error(r(185));xd(p,A,R),((Xn&2)===0||p!==Os)&&(p===Os&&((Xn&2)===0&&(qb|=A),vs===4&&Ap(p,Zs)),Cl(p,R),A===1&&Xn===0&&(v.mode&1)===0&&(fv=qt()+500,u0&&ae()))}function Cl(p,v){var A=p.callbackNode;ho(p,v);var R=fo(p,p===Os?Zs:0);if(R===0)A!==null&&Zt(A),p.callbackNode=null,p.callbackPriority=0;else if(v=R&-R,p.callbackPriority!==v){if(A!=null&&Zt(A),v===1)p.tag===0?X(D7.bind(null,p)):F(D7.bind(null,p)),wA(function(){(Xn&6)===0&&ae()}),A=null;else{switch(qh(R)){case 1:A=zn;break;case 4:A=ca;break;case 16:A=Va;break;case 536870912:A=Ac;break;default:A=Va}A=B7(A,O7.bind(null,p))}p.callbackPriority=v,p.callbackNode=A}}function O7(p,v){if(Hb=-1,Gb=0,(Xn&6)!==0)throw Error(r(327));var A=p.callbackNode;if(hv()&&p.callbackNode!==A)return null;var R=fo(p,p===Os?Zs:0);if(R===0)return null;if((R&30)!==0||(R&p.expiredLanes)!==0||v)v=Yb(p,R);else{v=R;var H=Xn;Xn|=2;var ee=R7();(Os!==p||Zs!==v)&&(Jf=null,fv=qt()+500,g0(p,v));do try{Uoe();break}catch(Oe){I7(p,Oe)}while(!0);gs(),Ub.current=ee,Xn=H,as!==null?v=0:(Os=null,Zs=0,v=vs)}if(v!==0){if(v===2&&(H=Af(p),H!==0&&(R=H,v=HA(p,H))),v===1)throw A=Zy,g0(p,0),Ap(p,R),Cl(p,qt()),A;if(v===6)Ap(p,R);else{if(H=p.current.alternate,(R&30)===0&&!$oe(H)&&(v=Yb(p,R),v===2&&(ee=Af(p),ee!==0&&(R=ee,v=HA(p,ee))),v===1))throw A=Zy,g0(p,0),Ap(p,R),Cl(p,qt()),A;switch(p.finishedWork=H,p.finishedLanes=R,v){case 0:case 1:throw Error(r(345));case 2:v0(p,El,Jf);break;case 3:if(Ap(p,R),(R&130023424)===R&&(v=zA+500-qt(),10<v)){if(fo(p,0)!==0)break;if(H=p.suspendedLanes,(H&R)!==R){nl(),p.pingedLanes|=p.suspendedLanes&H;break}p.timeoutHandle=By(v0.bind(null,p,El,Jf),v);break}v0(p,El,Jf);break;case 4:if(Ap(p,R),(R&4194240)===R)break;for(v=p.eventTimes,H=-1;0<R;){var pe=31-Ha(R);ee=1<<pe,pe=v[pe],pe>H&&(H=pe),R&=~ee}if(R=H,R=qt()-R,R=(120>R?120:480>R?480:1080>R?1080:1920>R?1920:3e3>R?3e3:4320>R?4320:1960*joe(R/1960))-R,10<R){p.timeoutHandle=By(v0.bind(null,p,El,Jf),R);break}v0(p,El,Jf);break;case 5:v0(p,El,Jf);break;default:throw Error(r(329))}}}return Cl(p,qt()),p.callbackNode===A?O7.bind(null,p):null}function HA(p,v){var A=Qy;return p.current.memoizedState.isDehydrated&&(g0(p,v).flags|=256),p=Yb(p,v),p!==2&&(v=El,El=A,v!==null&&GA(v)),p}function GA(p){El===null?El=p:El.push.apply(El,p)}function $oe(p){for(var v=p;;){if(v.flags&16384){var A=v.updateQueue;if(A!==null&&(A=A.stores,A!==null))for(var R=0;R<A.length;R++){var H=A[R],ee=H.getSnapshot;H=H.value;try{if(!Kn(ee(),H))return!1}catch{return!1}}}if(A=v.child,v.subtreeFlags&16384&&A!==null)A.return=v,v=A;else{if(v===p)break;for(;v.sibling===null;){if(v.return===null||v.return===p)return!0;v=v.return}v.sibling.return=v.return,v=v.sibling}}return!0}function Ap(p,v){for(v&=~qA,v&=~qb,p.suspendedLanes|=v,p.pingedLanes&=~v,p=p.expirationTimes;0<v;){var A=31-Ha(v),R=1<<A;p[A]=-1,v&=~R}}function D7(p){if((Xn&6)!==0)throw Error(r(327));hv();var v=fo(p,0);if((v&1)===0)return Cl(p,qt()),null;var A=Yb(p,v);if(p.tag!==0&&A===2){var R=Af(p);R!==0&&(v=R,A=HA(p,R))}if(A===1)throw A=Zy,g0(p,0),Ap(p,v),Cl(p,qt()),A;if(A===6)throw Error(r(345));return p.finishedWork=p.current.alternate,p.finishedLanes=v,v0(p,El,Jf),Cl(p,qt()),null}function YA(p,v){var A=Xn;Xn|=1;try{return p(v)}finally{Xn=A,Xn===0&&(fv=qt()+500,u0&&ae())}}function m0(p){Sp!==null&&Sp.tag===0&&(Xn&6)===0&&hv();var v=Xn;Xn|=1;var A=Uc.transition,R=Yn;try{if(Uc.transition=null,Yn=1,p)return p()}finally{Yn=R,Uc.transition=A,Xn=v,(Xn&6)===0&&ae()}}function KA(){rc=dv.current,da(dv)}function g0(p,v){p.finishedWork=null,p.finishedLanes=0;var A=p.timeoutHandle;if(A!==-1&&(p.timeoutHandle=-1,kb(A)),as!==null)for(A=as.return;A!==null;){var R=A;switch(qe(R),R.tag){case 1:R=R.type.childContextTypes,R!=null&&Zg();break;case 3:jc(),da(yo),da(ms),Gy();break;case 5:Vy(R);break;case 4:jc();break;case 13:da(Ia);break;case 19:da(Ia);break;case 10:wo(R.type._context);break;case 22:case 23:KA()}A=A.return}if(Os=p,as=p=kp(p.current,null),Zs=rc=v,vs=0,Zy=null,qA=qb=p0=0,El=Qy=null,Zo!==null){for(v=0;v<Zo.length;v++)if(A=Zo[v],R=A.interleaved,R!==null){A.interleaved=null;var H=R.next,ee=A.pending;if(ee!==null){var pe=ee.next;ee.next=H,R.next=pe}A.pending=R}Zo=null}return p}function I7(p,v){do{var A=as;try{if(gs(),ev.current=Mb,yp){for(var R=La.memoizedState;R!==null;){var H=R.queue;H!==null&&(H.pending=null),R=R.next}yp=!1}if($c=0,pi=ki=La=null,Au=!1,xp=0,UA.current=null,A===null||A.return===null){vs=1,Zy=v,as=null;break}e:{var ee=p,pe=A.return,Oe=A,Ue=v;if(v=Zs,Oe.flags|=32768,Ue!==null&&typeof Ue=="object"&&typeof Ue.then=="function"){var xt=Ue,Ut=Oe,Vt=Ut.tag;if((Ut.mode&1)===0&&(Vt===0||Vt===11||Vt===15)){var Bt=Ut.alternate;Bt?(Ut.updateQueue=Bt.updateQueue,Ut.memoizedState=Bt.memoizedState,Ut.lanes=Bt.lanes):(Ut.updateQueue=null,Ut.memoizedState=null)}var br=a7(pe);if(br!==null){br.flags&=-257,i7(br,pe,Oe,ee,v),br.mode&1&&n7(ee,xt,v),v=br,Ue=xt;var Cr=v.updateQueue;if(Cr===null){var Or=new Set;Or.add(Ue),v.updateQueue=Or}else Cr.add(Ue);break e}else{if((v&1)===0){n7(ee,xt,v),XA();break e}Ue=Error(r(426))}}else if(Et&&Oe.mode&1){var Ui=a7(pe);if(Ui!==null){(Ui.flags&65536)===0&&(Ui.flags|=256),i7(Ui,pe,Oe,ee,v),fa(cv(Ue,Oe));break e}}ee=Ue=cv(Ue,Oe),vs!==4&&(vs=2),Qy===null?Qy=[ee]:Qy.push(ee),ee=pe;do{switch(ee.tag){case 3:ee.flags|=65536,v&=-v,ee.lanes|=v;var ut=t7(ee,Ue,v);Al(ee,ut);break e;case 1:Oe=Ue;var He=ee.type,pt=ee.stateNode;if((ee.flags&128)===0&&(typeof He.getDerivedStateFromError=="function"||pt!==null&&typeof pt.componentDidCatch=="function"&&(_p===null||!_p.has(pt)))){ee.flags|=65536,v&=-v,ee.lanes|=v;var Qt=r7(ee,Oe,v);Al(ee,Qt);break e}}ee=ee.return}while(ee!==null)}F7(A)}catch(Dr){v=Dr,as===A&&A!==null&&(as=A=A.return);continue}break}while(!0)}function R7(){var p=Ub.current;return Ub.current=Mb,p===null?Mb:p}function XA(){(vs===0||vs===3||vs===2)&&(vs=4),Os===null||(p0&268435455)===0&&(qb&268435455)===0||Ap(Os,Zs)}function Yb(p,v){var A=Xn;Xn|=2;var R=R7();(Os!==p||Zs!==v)&&(Jf=null,g0(p,v));do try{Boe();break}catch(H){I7(p,H)}while(!0);if(gs(),Xn=A,Ub.current=R,as!==null)throw Error(r(261));return Os=null,Zs=0,vs}function Boe(){for(;as!==null;)M7(as)}function Uoe(){for(;as!==null&&!lr();)M7(as)}function M7(p){var v=$7(p.alternate,p,rc);p.memoizedProps=p.pendingProps,v===null?F7(p):as=v,UA.current=null}function F7(p){var v=p;do{var A=v.alternate;if(p=v.return,(v.flags&32768)===0){if(A=Ioe(A,v,rc),A!==null){as=A;return}}else{if(A=Roe(A,v),A!==null){A.flags&=32767,as=A;return}if(p!==null)p.flags|=32768,p.subtreeFlags=0,p.deletions=null;else{vs=6,as=null;return}}if(v=v.sibling,v!==null){as=v;return}as=v=p}while(v!==null);vs===0&&(vs=5)}function v0(p,v,A){var R=Yn,H=Uc.transition;try{Uc.transition=null,Yn=1,qoe(p,v,A,R)}finally{Uc.transition=H,Yn=R}return null}function qoe(p,v,A,R){do hv();while(Sp!==null);if((Xn&6)!==0)throw Error(r(327));A=p.finishedWork;var H=p.finishedLanes;if(A===null)return null;if(p.finishedWork=null,p.finishedLanes=0,A===p.current)throw Error(r(177));p.callbackNode=null,p.callbackPriority=0;var ee=A.lanes|A.childLanes;if(Fy(p,ee),p===Os&&(as=Os=null,Zs=0),(A.subtreeFlags&2064)===0&&(A.flags&2064)===0||Wb||(Wb=!0,B7(Va,function(){return hv(),null})),ee=(A.flags&15990)!==0,(A.subtreeFlags&15990)!==0||ee){ee=Uc.transition,Uc.transition=null;var pe=Yn;Yn=1;var Oe=Xn;Xn|=4,UA.current=null,Foe(p,A),k7(A,p),jf(zf),Hh=!!l0,zf=l0=null,p.current=A,Loe(A),Wt(),Xn=Oe,Yn=pe,Uc.transition=ee}else p.current=A;if(Wb&&(Wb=!1,Sp=p,Vb=H),ee=p.pendingLanes,ee===0&&(_p=null),kc(A.stateNode),Cl(p,qt()),v!==null)for(R=p.onRecoverableError,A=0;A<v.length;A++)H=v[A],R(H.value,{componentStack:H.stack,digest:H.digest});if(zb)throw zb=!1,p=WA,WA=null,p;return(Vb&1)!==0&&p.tag!==0&&hv(),ee=p.pendingLanes,(ee&1)!==0?p===VA?e2++:(e2=0,VA=p):e2=0,ae(),null}function hv(){if(Sp!==null){var p=qh(Vb),v=Uc.transition,A=Yn;try{if(Uc.transition=null,Yn=16>p?16:p,Sp===null)var R=!1;else{if(p=Sp,Sp=null,Vb=0,(Xn&6)!==0)throw Error(r(331));var H=Xn;for(Xn|=4,Ar=p.current;Ar!==null;){var ee=Ar,pe=ee.child;if((Ar.flags&16)!==0){var Oe=ee.deletions;if(Oe!==null){for(var Ue=0;Ue<Oe.length;Ue++){var xt=Oe[Ue];for(Ar=xt;Ar!==null;){var Ut=Ar;switch(Ut.tag){case 0:case 11:case 15:Jy(8,Ut,ee)}var Vt=Ut.child;if(Vt!==null)Vt.return=Ut,Ar=Vt;else for(;Ar!==null;){Ut=Ar;var Bt=Ut.sibling,br=Ut.return;if(b7(Ut),Ut===xt){Ar=null;break}if(Bt!==null){Bt.return=br,Ar=Bt;break}Ar=br}}}var Cr=ee.alternate;if(Cr!==null){var Or=Cr.child;if(Or!==null){Cr.child=null;do{var Ui=Or.sibling;Or.sibling=null,Or=Ui}while(Or!==null)}}Ar=ee}}if((ee.subtreeFlags&2064)!==0&&pe!==null)pe.return=ee,Ar=pe;else e:for(;Ar!==null;){if(ee=Ar,(ee.flags&2048)!==0)switch(ee.tag){case 0:case 11:case 15:Jy(9,ee,ee.return)}var ut=ee.sibling;if(ut!==null){ut.return=ee.return,Ar=ut;break e}Ar=ee.return}}var He=p.current;for(Ar=He;Ar!==null;){pe=Ar;var pt=pe.child;if((pe.subtreeFlags&2064)!==0&&pt!==null)pt.return=pe,Ar=pt;else e:for(pe=He;Ar!==null;){if(Oe=Ar,(Oe.flags&2048)!==0)try{switch(Oe.tag){case 0:case 11:case 15:Bb(9,Oe)}}catch(Dr){Ei(Oe,Oe.return,Dr)}if(Oe===pe){Ar=null;break e}var Qt=Oe.sibling;if(Qt!==null){Qt.return=Oe.return,Ar=Qt;break e}Ar=Oe.return}}if(Xn=H,ae(),_i&&typeof _i.onPostCommitFiberRoot=="function")try{_i.onPostCommitFiberRoot(Go,p)}catch{}R=!0}return R}finally{Yn=A,Uc.transition=v}}return!1}function L7(p,v,A){v=cv(A,v),v=t7(p,v,1),p=Nl(p,v,1),v=nl(),p!==null&&(xd(p,1,v),Cl(p,v))}function Ei(p,v,A){if(p.tag===3)L7(p,p,A);else for(;v!==null;){if(v.tag===3){L7(v,p,A);break}else if(v.tag===1){var R=v.stateNode;if(typeof v.type.getDerivedStateFromError=="function"||typeof R.componentDidCatch=="function"&&(_p===null||!_p.has(R))){p=cv(A,p),p=r7(v,p,1),v=Nl(v,p,1),p=nl(),v!==null&&(xd(v,1,p),Cl(v,p));break}}v=v.return}}function zoe(p,v,A){var R=p.pingCache;R!==null&&R.delete(v),v=nl(),p.pingedLanes|=p.suspendedLanes&A,Os===p&&(Zs&A)===A&&(vs===4||vs===3&&(Zs&130023424)===Zs&&500>qt()-zA?g0(p,0):qA|=A),Cl(p,v)}function j7(p,v){v===0&&((p.mode&1)===0?v=1:(v=yd,yd<<=1,(yd&130023424)===0&&(yd=4194304)));var A=nl();p=na(p,v),p!==null&&(xd(p,v,A),Cl(p,A))}function Woe(p){var v=p.memoizedState,A=0;v!==null&&(A=v.retryLane),j7(p,A)}function Voe(p,v){var A=0;switch(p.tag){case 13:var R=p.stateNode,H=p.memoizedState;H!==null&&(A=H.retryLane);break;case 19:R=p.stateNode;break;default:throw Error(r(314))}R!==null&&R.delete(v),j7(p,A)}var $7;$7=function(p,v,A){if(p!==null)if(p.memoizedProps!==v.pendingProps||yo.current)kl=!0;else{if((p.lanes&A)===0&&(v.flags&128)===0)return kl=!1,Doe(p,v,A);kl=(p.flags&131072)!==0}else kl=!1,Et&&(v.flags&1048576)!==0&&Mt(v,ye,v.index);switch(v.lanes=0,v.tag){case 2:var R=v.type;jb(p,v),p=v.pendingProps;var H=pp(v,ms.current);Ja(v,A),H=d0(null,v,R,p,H,A);var ee=Bc();return v.flags|=1,typeof H=="object"&&H!==null&&typeof H.render=="function"&&H.$$typeof===void 0?(v.tag=1,v.memoizedState=null,v.updateQueue=null,xo(R)?(ee=!0,Hf(v)):ee=!1,v.memoizedState=H.state!==null&&H.state!==void 0?H.state:null,Qg(v),H.updater=Fb,v.stateNode=H,H._reactInternals=v,EA(v,R,p,A),v=OA(null,v,R,!0,ee,A)):(v.tag=0,Et&&ee&&_t(v),rl(null,v,H,A),v=v.child),v;case 16:R=v.elementType;e:{switch(jb(p,v),p=v.pendingProps,H=R._init,R=H(R._payload),v.type=R,H=v.tag=Goe(R),p=Eu(R,p),H){case 0:v=TA(null,v,R,p,A);break e;case 1:v=d7(null,v,R,p,A);break e;case 11:v=s7(null,v,R,p,A);break e;case 14:v=o7(null,v,R,Eu(R.type,p),A);break e}throw Error(r(306,R,""))}return v;case 0:return R=v.type,H=v.pendingProps,H=v.elementType===R?H:Eu(R,H),TA(p,v,R,H,A);case 1:return R=v.type,H=v.pendingProps,H=v.elementType===R?H:Eu(R,H),d7(p,v,R,H,A);case 3:e:{if(f7(v),p===null)throw Error(r(387));R=v.pendingProps,ee=v.memoizedState,H=ee.element,Wy(p,v),Su(v,R,null,A);var pe=v.memoizedState;if(R=pe.element,ee.isDehydrated)if(ee={element:R,isDehydrated:!1,cache:pe.cache,pendingSuspenseBoundaries:pe.pendingSuspenseBoundaries,transitions:pe.transitions},v.updateQueue.baseState=ee,v.memoizedState=ee,v.flags&256){H=cv(Error(r(423)),v),v=h7(p,v,R,A,H);break e}else if(R!==H){H=cv(Error(r(424)),v),v=h7(p,v,R,A,H);break e}else for(Ct=Ks(v.stateNode.containerInfo.firstChild),ze=v,Et=!0,Tt=null,A=ra(v,null,R,A),v.child=A;A;)A.flags=A.flags&-3|4096,A=A.sibling;else{if(wn(),R===H){v=Xf(p,v,A);break e}rl(p,v,R,A)}v=v.child}return v;case 5:return Tb(v),p===null&&sr(v),R=v.type,H=v.pendingProps,ee=p!==null?p.memoizedProps:null,pe=H.children,$y(R,H)?pe=null:ee!==null&&$y(R,ee)&&(v.flags|=32),u7(p,v),rl(p,v,pe,A),v.child;case 6:return p===null&&sr(v),null;case 13:return p7(p,v,A);case 4:return vp(v,v.stateNode.containerInfo),R=v.pendingProps,p===null?v.child=ji(v,null,R,A):rl(p,v,R,A),v.child;case 11:return R=v.type,H=v.pendingProps,H=v.elementType===R?H:Eu(R,H),s7(p,v,R,H,A);case 7:return rl(p,v,v.pendingProps,A),v.child;case 8:return rl(p,v,v.pendingProps.children,A),v.child;case 12:return rl(p,v,v.pendingProps.children,A),v.child;case 10:e:{if(R=v.type._context,H=v.pendingProps,ee=v.memoizedProps,pe=H.value,va(Ps,R._currentValue),R._currentValue=pe,ee!==null)if(Kn(ee.value,pe)){if(ee.children===H.children&&!yo.current){v=Xf(p,v,A);break e}}else for(ee=v.child,ee!==null&&(ee.return=v);ee!==null;){var Oe=ee.dependencies;if(Oe!==null){pe=ee.child;for(var Ue=Oe.firstContext;Ue!==null;){if(Ue.context===R){if(ee.tag===1){Ue=Sl(-1,A&-A),Ue.tag=2;var xt=ee.updateQueue;if(xt!==null){xt=xt.shared;var Ut=xt.pending;Ut===null?Ue.next=Ue:(Ue.next=Ut.next,Ut.next=Ue),xt.pending=Ue}}ee.lanes|=A,Ue=ee.alternate,Ue!==null&&(Ue.lanes|=A),_l(ee.return,A,v),Oe.lanes|=A;break}Ue=Ue.next}}else if(ee.tag===10)pe=ee.type===v.type?null:ee.child;else if(ee.tag===18){if(pe=ee.return,pe===null)throw Error(r(341));pe.lanes|=A,Oe=pe.alternate,Oe!==null&&(Oe.lanes|=A),_l(pe,A,v),pe=ee.sibling}else pe=ee.child;if(pe!==null)pe.return=ee;else for(pe=ee;pe!==null;){if(pe===v){pe=null;break}if(ee=pe.sibling,ee!==null){ee.return=pe.return,pe=ee;break}pe=pe.return}ee=pe}rl(p,v,H.children,A),v=v.child}return v;case 9:return H=v.type,R=v.pendingProps.children,Ja(v,A),H=Ai(H),R=R(H),v.flags|=1,rl(p,v,R,A),v.child;case 14:return R=v.type,H=Eu(R,v.pendingProps),H=Eu(R.type,H),o7(p,v,R,H,A);case 15:return l7(p,v,v.type,v.pendingProps,A);case 17:return R=v.type,H=v.pendingProps,H=v.elementType===R?H:Eu(R,H),jb(p,v),v.tag=1,xo(R)?(p=!0,Hf(v)):p=!1,Ja(v,A),QM(v,R,H),EA(v,R,H,A),OA(null,v,R,!0,p,A);case 19:return g7(p,v,A);case 22:return c7(p,v,A)}throw Error(r(156,v.tag))};function B7(p,v){return Ft(p,v)}function Hoe(p,v,A,R){this.tag=p,this.key=A,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=v,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=R,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qc(p,v,A,R){return new Hoe(p,v,A,R)}function JA(p){return p=p.prototype,!(!p||!p.isReactComponent)}function Goe(p){if(typeof p=="function")return JA(p)?1:0;if(p!=null){if(p=p.$$typeof,p===I)return 11;if(p===Z)return 14}return 2}function kp(p,v){var A=p.alternate;return A===null?(A=qc(p.tag,v,p.key,p.mode),A.elementType=p.elementType,A.type=p.type,A.stateNode=p.stateNode,A.alternate=p,p.alternate=A):(A.pendingProps=v,A.type=p.type,A.flags=0,A.subtreeFlags=0,A.deletions=null),A.flags=p.flags&14680064,A.childLanes=p.childLanes,A.lanes=p.lanes,A.child=p.child,A.memoizedProps=p.memoizedProps,A.memoizedState=p.memoizedState,A.updateQueue=p.updateQueue,v=p.dependencies,A.dependencies=v===null?null:{lanes:v.lanes,firstContext:v.firstContext},A.sibling=p.sibling,A.index=p.index,A.ref=p.ref,A}function Kb(p,v,A,R,H,ee){var pe=2;if(R=p,typeof p=="function")JA(p)&&(pe=1);else if(typeof p=="string")pe=5;else e:switch(p){case P:return y0(A.children,H,ee,v);case M:pe=8,H|=8;break;case L:return p=qc(12,A,v,H|2),p.elementType=L,p.lanes=ee,p;case B:return p=qc(13,A,v,H),p.elementType=B,p.lanes=ee,p;case G:return p=qc(19,A,v,H),p.elementType=G,p.lanes=ee,p;case W:return Xb(A,H,ee,v);default:if(typeof p=="object"&&p!==null)switch(p.$$typeof){case j:pe=10;break e;case T:pe=9;break e;case I:pe=11;break e;case Z:pe=14;break e;case re:pe=16,R=null;break e}throw Error(r(130,p==null?p:typeof p,""))}return v=qc(pe,A,v,H),v.elementType=p,v.type=R,v.lanes=ee,v}function y0(p,v,A,R){return p=qc(7,p,R,v),p.lanes=A,p}function Xb(p,v,A,R){return p=qc(22,p,R,v),p.elementType=W,p.lanes=A,p.stateNode={isHidden:!1},p}function ZA(p,v,A){return p=qc(6,p,null,v),p.lanes=A,p}function QA(p,v,A){return v=qc(4,p.children!==null?p.children:[],p.key,v),v.lanes=A,v.stateNode={containerInfo:p.containerInfo,pendingChildren:null,implementation:p.implementation},v}function Yoe(p,v,A,R,H){this.tag=v,this.containerInfo=p,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vm(0),this.expirationTimes=Vm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vm(0),this.identifierPrefix=R,this.onRecoverableError=H,this.mutableSourceEagerHydrationData=null}function e3(p,v,A,R,H,ee,pe,Oe,Ue){return p=new Yoe(p,v,A,Oe,Ue),v===1?(v=1,ee===!0&&(v|=8)):v=0,ee=qc(3,null,null,v),p.current=ee,ee.stateNode=p,ee.memoizedState={element:R,isDehydrated:A,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qg(ee),p}function Koe(p,v,A){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:R==null?null:""+R,children:p,containerInfo:v,implementation:A}}function U7(p){if(!p)return Id;p=p._reactInternals;e:{if(Ne(p)!==p||p.tag!==1)throw Error(r(170));var v=p;do{switch(v.tag){case 3:v=v.stateNode.context;break e;case 1:if(xo(v.type)){v=v.stateNode.__reactInternalMemoizedMergedChildContext;break e}}v=v.return}while(v!==null);throw Error(r(171))}if(p.tag===1){var A=p.type;if(xo(A))return zy(p,A,v)}return v}function q7(p,v,A,R,H,ee,pe,Oe,Ue){return p=e3(A,R,!0,p,H,ee,pe,Oe,Ue),p.context=U7(null),A=p.current,R=nl(),H=Np(A),ee=Sl(R,H),ee.callback=v??null,Nl(A,ee,H),p.current.lanes=H,xd(p,H,R),Cl(p,R),p}function Jb(p,v,A,R){var H=v.current,ee=nl(),pe=Np(H);return A=U7(A),v.context===null?v.context=A:v.pendingContext=A,v=Sl(ee,pe),v.payload={element:p},R=R===void 0?null:R,R!==null&&(v.callback=R),p=Nl(H,v,pe),p!==null&&(Tu(p,H,pe,ee),Gf(p,H,pe)),pe}function Zb(p){if(p=p.current,!p.child)return null;switch(p.child.tag){case 5:return p.child.stateNode;default:return p.child.stateNode}}function z7(p,v){if(p=p.memoizedState,p!==null&&p.dehydrated!==null){var A=p.retryLane;p.retryLane=A!==0&&A<v?A:v}}function t3(p,v){z7(p,v),(p=p.alternate)&&z7(p,v)}function Xoe(){return null}var W7=typeof reportError=="function"?reportError:function(p){console.error(p)};function r3(p){this._internalRoot=p}Qb.prototype.render=r3.prototype.render=function(p){var v=this._internalRoot;if(v===null)throw Error(r(409));Jb(p,v,null,null)},Qb.prototype.unmount=r3.prototype.unmount=function(){var p=this._internalRoot;if(p!==null){this._internalRoot=null;var v=p.containerInfo;m0(function(){Jb(null,p,null,null)}),v[Cs]=null}};function Qb(p){this._internalRoot=p}Qb.prototype.unstable_scheduleHydration=function(p){if(p){var v=Ec();p={blockedOn:null,target:p,priority:v};for(var A=0;A<Pc.length&&v!==0&&v<Pc[A].priority;A++);Pc.splice(A,0,p),A===0&&Wh(p)}};function n3(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)}function e_(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11&&(p.nodeType!==8||p.nodeValue!==" react-mount-point-unstable "))}function V7(){}function Joe(p,v,A,R,H){if(H){if(typeof R=="function"){var ee=R;R=function(){var xt=Zb(pe);ee.call(xt)}}var pe=q7(v,R,p,0,null,!1,!1,"",V7);return p._reactRootContainer=pe,p[Cs]=pe.current,Uf(p.nodeType===8?p.parentNode:p),m0(),pe}for(;H=p.lastChild;)p.removeChild(H);if(typeof R=="function"){var Oe=R;R=function(){var xt=Zb(Ue);Oe.call(xt)}}var Ue=e3(p,0,!1,null,null,!1,!1,"",V7);return p._reactRootContainer=Ue,p[Cs]=Ue.current,Uf(p.nodeType===8?p.parentNode:p),m0(function(){Jb(v,Ue,A,R)}),Ue}function t_(p,v,A,R,H){var ee=A._reactRootContainer;if(ee){var pe=ee;if(typeof H=="function"){var Oe=H;H=function(){var Ue=Zb(pe);Oe.call(Ue)}}Jb(v,pe,p,H)}else pe=Joe(A,v,p,H,R);return Zb(pe)}qg=function(p){switch(p.tag){case 3:var v=p.stateNode;if(v.current.memoizedState.isDehydrated){var A=Nf(v.pendingLanes);A!==0&&(Uh(v,A|1),Cl(v,qt()),(Xn&6)===0&&(fv=qt()+500,ae()))}break;case 13:m0(function(){var R=na(p,1);if(R!==null){var H=nl();Tu(R,p,1,H)}}),t3(p,1)}},Hm=function(p){if(p.tag===13){var v=na(p,134217728);if(v!==null){var A=nl();Tu(v,p,134217728,A)}t3(p,134217728)}},zg=function(p){if(p.tag===13){var v=Np(p),A=na(p,v);if(A!==null){var R=nl();Tu(A,p,v,R)}t3(p,v)}},Ec=function(){return Yn},kf=function(p,v){var A=Yn;try{return Yn=p,v()}finally{Yn=A}},fr=function(p,v,A){switch(v){case"input":if(Ge(p,A),v=A.name,A.type==="radio"&&v!=null){for(A=p;A.parentNode;)A=A.parentNode;for(A=A.querySelectorAll("input[name="+JSON.stringify(""+v)+'][type="radio"]'),v=0;v<A.length;v++){var R=A[v];if(R!==p&&R.form===p.form){var H=c0(R);if(!H)throw Error(r(90));te(R),Ge(R,H)}}}break;case"textarea":Ce(p,A);break;case"select":v=A.value,v!=null&&wt(p,!!A.multiple,v,!1)}},Fi=YA,la=m0;var Zoe={usingClientEntryPoint:!1,Events:[hp,Wf,c0,hr,Zr,YA]},t2={findFiberByHostInstance:Dd,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Qoe={bundleType:t2.bundleType,version:t2.version,rendererPackageName:t2.rendererPackageName,rendererConfig:t2.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(p){return p=ot(p),p===null?null:p.stateNode},findFiberByHostInstance:t2.findFiberByHostInstance||Xoe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var r_=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!r_.isDisabled&&r_.supportsFiber)try{Go=r_.inject(Qoe),_i=r_}catch{}}return Pl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zoe,Pl.createPortal=function(p,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!n3(v))throw Error(r(200));return Koe(p,v,null,A)},Pl.createRoot=function(p,v){if(!n3(p))throw Error(r(299));var A=!1,R="",H=W7;return v!=null&&(v.unstable_strictMode===!0&&(A=!0),v.identifierPrefix!==void 0&&(R=v.identifierPrefix),v.onRecoverableError!==void 0&&(H=v.onRecoverableError)),v=e3(p,1,!1,null,null,A,!1,R,H),p[Cs]=v.current,Uf(p.nodeType===8?p.parentNode:p),new r3(v)},Pl.findDOMNode=function(p){if(p==null)return null;if(p.nodeType===1)return p;var v=p._reactInternals;if(v===void 0)throw typeof p.render=="function"?Error(r(188)):(p=Object.keys(p).join(","),Error(r(268,p)));return p=ot(v),p=p===null?null:p.stateNode,p},Pl.flushSync=function(p){return m0(p)},Pl.hydrate=function(p,v,A){if(!e_(v))throw Error(r(200));return t_(null,p,v,!0,A)},Pl.hydrateRoot=function(p,v,A){if(!n3(p))throw Error(r(405));var R=A!=null&&A.hydratedSources||null,H=!1,ee="",pe=W7;if(A!=null&&(A.unstable_strictMode===!0&&(H=!0),A.identifierPrefix!==void 0&&(ee=A.identifierPrefix),A.onRecoverableError!==void 0&&(pe=A.onRecoverableError)),v=q7(v,null,p,1,A??null,H,!1,ee,pe),p[Cs]=v.current,Uf(p),R)for(p=0;p<R.length;p++)A=R[p],H=A._getVersion,H=H(A._source),v.mutableSourceEagerHydrationData==null?v.mutableSourceEagerHydrationData=[A,H]:v.mutableSourceEagerHydrationData.push(A,H);return new Qb(v)},Pl.render=function(p,v,A){if(!e_(v))throw Error(r(200));return t_(null,p,v,!1,A)},Pl.unmountComponentAtNode=function(p){if(!e_(p))throw Error(r(40));return p._reactRootContainer?(m0(function(){t_(null,null,p,!1,function(){p._reactRootContainer=null,p[Cs]=null})}),!0):!1},Pl.unstable_batchedUpdates=YA,Pl.unstable_renderSubtreeIntoContainer=function(p,v,A,R){if(!e_(A))throw Error(r(200));if(p==null||p._reactInternals===void 0)throw Error(r(38));return t_(p,v,A,!1,R)},Pl.version="18.3.1-next-f1338f8080-20240426",Pl}var J7;function LH(){if(J7)return i3.exports;J7=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),i3.exports=lle(),i3.exports}var Z7;function cle(){if(Z7)return a_;Z7=1;var e=LH();return a_.createRoot=e.createRoot,a_.hydrateRoot=e.hydrateRoot,a_}var ule=cle(),fy=LH();const dle=ma(fy);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fx(){return fx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fx.apply(this,arguments)}var Yp;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Yp||(Yp={}));const Q7="popstate";function fle(e){e===void 0&&(e={});function t(a,i){let{pathname:s="/",search:o="",hash:c=""}=_g(a.location.hash.substr(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),i6("",{pathname:s,search:o,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(a,i){let s=a.document.querySelector("base"),o="";if(s&&s.getAttribute("href")){let c=a.location.href,u=c.indexOf("#");o=u===-1?c:c.slice(0,u)}return o+"#"+(typeof i=="string"?i:b5(i))}function n(a,i){nD(a.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return ple(t,r,n,e)}function Zi(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function nD(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function hle(){return Math.random().toString(36).substr(2,8)}function eF(e,t){return{usr:e.state,key:e.key,idx:t}}function i6(e,t,r,n){return r===void 0&&(r=null),fx({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?_g(t):t,{state:r,key:t&&t.key||n||hle()})}function b5(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function _g(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function ple(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,s=a.history,o=Yp.Pop,c=null,u=d();u==null&&(u=0,s.replaceState(fx({},s.state,{idx:u}),""));function d(){return(s.state||{idx:null}).idx}function f(){o=Yp.Pop;let y=d(),b=y==null?null:y-u;u=y,c&&c({action:o,location:g.location,delta:b})}function h(y,b){o=Yp.Push;let _=i6(g.location,y,b);r&&r(_,y),u=d()+1;let N=eF(_,u),E=g.createHref(_);try{s.pushState(N,"",E)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;a.location.assign(E)}i&&c&&c({action:o,location:g.location,delta:1})}function m(y,b){o=Yp.Replace;let _=i6(g.location,y,b);r&&r(_,y),u=d();let N=eF(_,u),E=g.createHref(_);s.replaceState(N,"",E),i&&c&&c({action:o,location:g.location,delta:0})}function w(y){let b=a.location.origin!=="null"?a.location.origin:a.location.href,_=typeof y=="string"?y:b5(y);return _=_.replace(/ $/,"%20"),Zi(b,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,b)}let g={get action(){return o},get location(){return e(a,s)},listen(y){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Q7,f),c=y,()=>{a.removeEventListener(Q7,f),c=null}},createHref(y){return t(a,y)},createURL:w,encodeLocation(y){let b=w(y);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:m,go(y){return s.go(y)}};return g}var tF;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(tF||(tF={}));function mle(e,t,r){return r===void 0&&(r="/"),gle(e,t,r)}function gle(e,t,r,n){let a=typeof t=="string"?_g(t):t,i=aD(a.pathname||"/",r);if(i==null)return null;let s=jH(e);vle(s);let o=null;for(let c=0;o==null&&c<s.length;++c){let u=Ple(i);o=kle(s[c],u)}return o}function jH(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,s,o)=>{let c={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};c.relativePath.startsWith("/")&&(Zi(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=tm([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(Zi(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),jH(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:Nle(u,i.index),routesMeta:d})};return e.forEach((i,s)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))a(i,s);else for(let c of $H(i.path))a(i,s,c)}),t}function $H(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let s=$H(n.join("/")),o=[];return o.push(...s.map(c=>c===""?i:[i,c].join("/"))),a&&o.push(...s),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function vle(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Ale(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const yle=/^:[\w-]+$/,xle=3,wle=2,ble=1,_le=10,Sle=-2,rF=e=>e==="*";function Nle(e,t){let r=e.split("/"),n=r.length;return r.some(rF)&&(n+=Sle),t&&(n+=wle),r.filter(a=>!rF(a)).reduce((a,i)=>a+(yle.test(i)?xle:i===""?ble:_le),n)}function Ale(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function kle(e,t,r){let{routesMeta:n}=e,a={},i="/",s=[];for(let o=0;o<n.length;++o){let c=n[o],u=o===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=Ele({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(a,f.params),s.push({params:a,pathname:tm([i,f.pathname]),pathnameBase:Ile(tm([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=tm([i,f.pathnameBase]))}return s}function Ele(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Cle(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let g=o[f]||"";s=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const w=o[f];return m&&!w?u[h]=void 0:u[h]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:s,pattern:e}}function Cle(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),nD(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function Ple(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return nD(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function aD(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Tle(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?_g(e):e;return{pathname:r?r.startsWith("/")?r:Ole(r,t):t,search:Rle(n),hash:Mle(a)}}function Ole(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function l3(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Dle(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function iD(e,t){let r=Dle(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function sD(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=_g(e):(a=fx({},e),Zi(!a.pathname||!a.pathname.includes("?"),l3("?","pathname","search",a)),Zi(!a.pathname||!a.pathname.includes("#"),l3("#","pathname","hash",a)),Zi(!a.search||!a.search.includes("#"),l3("#","search","hash",a)));let i=e===""||a.pathname==="",s=i?"/":a.pathname,o;if(s==null)o=r;else{let f=t.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}o=f>=0?t[f]:"/"}let c=Tle(a,o),u=s&&s!=="/"&&s.endsWith("/"),d=(i||s===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const tm=e=>e.join("/").replace(/\/\/+/g,"/"),Ile=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Rle=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Mle=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Fle(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const BH=["post","put","patch","delete"];new Set(BH);const Lle=["get",...BH];new Set(Lle);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hx(){return hx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hx.apply(this,arguments)}const oD=S.createContext(null),jle=S.createContext(null),Em=S.createContext(null),y4=S.createContext(null),mf=S.createContext({outlet:null,matches:[],isDataRoute:!1}),UH=S.createContext(null);function $le(e,t){let{relative:r}=t===void 0?{}:t;hy()||Zi(!1);let{basename:n,navigator:a}=S.useContext(Em),{hash:i,pathname:s,search:o}=zH(e,{relative:r}),c=s;return n!=="/"&&(c=s==="/"?n:tm([n,s])),a.createHref({pathname:c,search:o,hash:i})}function hy(){return S.useContext(y4)!=null}function Cm(){return hy()||Zi(!1),S.useContext(y4).location}function qH(e){S.useContext(Em).static||S.useLayoutEffect(e)}function Ss(){let{isDataRoute:e}=S.useContext(mf);return e?ece():Ble()}function Ble(){hy()||Zi(!1);let e=S.useContext(oD),{basename:t,future:r,navigator:n}=S.useContext(Em),{matches:a}=S.useContext(mf),{pathname:i}=Cm(),s=JSON.stringify(iD(a,r.v7_relativeSplatPath)),o=S.useRef(!1);return qH(()=>{o.current=!0}),S.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let f=sD(u,JSON.parse(s),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:tm([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,s,i,e])}const Ule=S.createContext(null);function qle(e){let t=S.useContext(mf).outlet;return t&&S.createElement(Ule.Provider,{value:e},t)}function py(){let{matches:e}=S.useContext(mf),t=e[e.length-1];return t?t.params:{}}function zH(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=S.useContext(Em),{matches:a}=S.useContext(mf),{pathname:i}=Cm(),s=JSON.stringify(iD(a,n.v7_relativeSplatPath));return S.useMemo(()=>sD(e,JSON.parse(s),i,r==="path"),[e,s,i,r])}function zle(e,t){return Wle(e,t)}function Wle(e,t,r,n){hy()||Zi(!1);let{navigator:a,static:i}=S.useContext(Em),{matches:s}=S.useContext(mf),o=s[s.length-1],c=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let d=Cm(),f;if(t){var h;let b=typeof t=="string"?_g(t):t;u==="/"||(h=b.pathname)!=null&&h.startsWith(u)||Zi(!1),f=b}else f=d;let m=f.pathname||"/",w=m;if(u!=="/"){let b=u.replace(/^\//,"").split("/");w="/"+m.replace(/^\//,"").split("/").slice(b.length).join("/")}let g=mle(e,{pathname:w}),y=Kle(g&&g.map(b=>Object.assign({},b,{params:Object.assign({},c,b.params),pathname:tm([u,a.encodeLocation?a.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?u:tm([u,a.encodeLocation?a.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,r,n);return t&&y?S.createElement(y4.Provider,{value:{location:hx({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Yp.Pop}},y):y}function Vle(){let e=Qle(),t=Fle(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),r?S.createElement("pre",{style:a},r):null,null)}const Hle=S.createElement(Vle,null);class Gle extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?S.createElement(mf.Provider,{value:this.props.routeContext},S.createElement(UH.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Yle(e){let{routeContext:t,match:r,children:n}=e,a=S.useContext(oD);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),S.createElement(mf.Provider,{value:t},n)}function Kle(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,o=(a=r)==null?void 0:a.errors;if(o!=null){let d=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||Zi(!1),s=s.slice(0,Math.min(s.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,w=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||w){c=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((d,f,h)=>{let m,w=!1,g=null,y=null;r&&(m=o&&f.route.id?o[f.route.id]:void 0,g=f.route.errorElement||Hle,c&&(u<0&&h===0?(tce("route-fallback"),w=!0,y=null):u===h&&(w=!0,y=f.route.hydrateFallbackElement||null)));let b=t.concat(s.slice(0,h+1)),_=()=>{let N;return m?N=g:w?N=y:f.route.Component?N=S.createElement(f.route.Component,null):f.route.element?N=f.route.element:N=d,S.createElement(Yle,{match:f,routeContext:{outlet:d,matches:b,isDataRoute:r!=null},children:N})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?S.createElement(Gle,{location:r.location,revalidation:r.revalidation,component:g,error:m,children:_(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):_()},null)}var WH=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(WH||{}),VH=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(VH||{});function Xle(e){let t=S.useContext(oD);return t||Zi(!1),t}function Jle(e){let t=S.useContext(jle);return t||Zi(!1),t}function Zle(e){let t=S.useContext(mf);return t||Zi(!1),t}function HH(e){let t=Zle(),r=t.matches[t.matches.length-1];return r.route.id||Zi(!1),r.route.id}function Qle(){var e;let t=S.useContext(UH),r=Jle(),n=HH();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function ece(){let{router:e}=Xle(WH.UseNavigateStable),t=HH(VH.UseNavigateStable),r=S.useRef(!1);return qH(()=>{r.current=!0}),S.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,hx({fromRouteId:t},i)))},[e,t])}const nF={};function tce(e,t,r){nF[e]||(nF[e]=!0)}function rce(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function s6(e){let{to:t,replace:r,state:n,relative:a}=e;hy()||Zi(!1);let{future:i,static:s}=S.useContext(Em),{matches:o}=S.useContext(mf),{pathname:c}=Cm(),u=Ss(),d=sD(t,iD(o,i.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return S.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function GH(e){return qle(e.context)}function $n(e){Zi(!1)}function nce(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Yp.Pop,navigator:i,static:s=!1,future:o}=e;hy()&&Zi(!1);let c=t.replace(/^\/*/,"/"),u=S.useMemo(()=>({basename:c,navigator:i,static:s,future:hx({v7_relativeSplatPath:!1},o)}),[c,o,i,s]);typeof n=="string"&&(n=_g(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:w="default"}=n,g=S.useMemo(()=>{let y=aD(d,c);return y==null?null:{location:{pathname:y,search:f,hash:h,state:m,key:w},navigationType:a}},[c,d,f,h,m,w,a]);return g==null?null:S.createElement(Em.Provider,{value:u},S.createElement(y4.Provider,{children:r,value:g}))}function ace(e){let{children:t,location:r}=e;return zle(o6(t),r)}new Promise(()=>{});function o6(e,t){t===void 0&&(t=[]);let r=[];return S.Children.forEach(e,(n,a)=>{if(!S.isValidElement(n))return;let i=[...t,a];if(n.type===S.Fragment){r.push.apply(r,o6(n.props.children,i));return}n.type!==$n&&Zi(!1),!n.props.index||!n.props.children||Zi(!1);let s={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=o6(n.props.children,i)),r.push(s)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function l6(){return l6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l6.apply(this,arguments)}function ice(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function sce(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function oce(e,t){return e.button===0&&(!t||t==="_self")&&!sce(e)}function c6(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function lce(e,t){let r=c6(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}const cce=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],uce="6";try{window.__reactRouterVersion=uce}catch{}const dce="startTransition",aF=dx[dce];function fce(e){let{basename:t,children:r,future:n,window:a}=e,i=S.useRef();i.current==null&&(i.current=fle({window:a,v5Compat:!0}));let s=i.current,[o,c]=S.useState({action:s.action,location:s.location}),{v7_startTransition:u}=n||{},d=S.useCallback(f=>{u&&aF?aF(()=>c(f)):c(f)},[c,u]);return S.useLayoutEffect(()=>s.listen(d),[s,d]),S.useEffect(()=>rce(n),[n]),S.createElement(nce,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:s,future:n})}const hce=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",pce=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ki=S.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:s,state:o,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=ice(t,cce),{basename:m}=S.useContext(Em),w,g=!1;if(typeof u=="string"&&pce.test(u)&&(w=u,hce))try{let N=new URL(window.location.href),E=u.startsWith("//")?new URL(N.protocol+u):new URL(u),C=aD(E.pathname,m);E.origin===N.origin&&C!=null?u=C+E.search+E.hash:g=!0}catch{}let y=$le(u,{relative:a}),b=mce(u,{replace:s,state:o,target:c,preventScrollReset:d,relative:a,viewTransition:f});function _(N){n&&n(N),N.defaultPrevented||b(N)}return S.createElement("a",l6({},h,{href:w||y,onClick:g||i?n:_,ref:r,target:c}))});var iF;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(iF||(iF={}));var sF;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(sF||(sF={}));function mce(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:s,viewTransition:o}=t===void 0?{}:t,c=Ss(),u=Cm(),d=zH(e,{relative:s});return S.useCallback(f=>{if(oce(f,r)){f.preventDefault();let h=n!==void 0?n:b5(u)===b5(d);c(e,{replace:h,state:a,preventScrollReset:i,relative:s,viewTransition:o})}},[u,c,d,n,a,r,e,i,s,o])}function YH(e){let t=S.useRef(c6(e)),r=S.useRef(!1),n=Cm(),a=S.useMemo(()=>lce(n.search,r.current?null:t.current),[n.search]),i=Ss(),s=S.useCallback((o,c)=>{const u=c6(typeof o=="function"?o(a):o);r.current=!0,i("?"+u,c)},[i,a]);return[a,s]}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gce={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vce=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Yt=(e,t)=>{const r=S.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:c,...u},d)=>S.createElement("svg",{ref:d,...gce,width:a,height:a,stroke:n,strokeWidth:s?Number(i)*24/Number(a):i,className:["lucide",`lucide-${vce(e)}`,o].join(" "),...u},[...t.map(([f,h])=>S.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rm=Yt("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jl=Yt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yce=Yt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KH=Yt("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=Yt("Armchair",[["path",{d:"M19 9V6a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v3",key:"irtipd"}],["path",{d:"M3 16a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v2H7v-2a2 2 0 0 0-4 0Z",key:"1e01m0"}],["path",{d:"M5 18v2",key:"ppbyun"}],["path",{d:"M19 18v2",key:"gy7782"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i_=Yt("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _5=Yt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S5=Yt("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xce=Yt("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s_=Yt("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=Yt("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wce=Yt("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bce=Yt("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=Yt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XH=Yt("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JH=Yt("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0=Yt("BrainCog",[["path",{d:"M12 5a3 3 0 1 0-5.997.142 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588 4 4 0 0 0 7.636 2.106 3.2 3.2 0 0 0 .164-.546c.028-.13.306-.13.335 0a3.2 3.2 0 0 0 .163.546 4 4 0 0 0 7.636-2.106 4 4 0 0 0 .556-6.588 4 4 0 0 0-2.526-5.77A3 3 0 1 0 12 5",key:"1kgmhc"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"m15.7 10.4-.9.4",key:"ayzo6p"}],["path",{d:"m9.2 13.2-.9.4",key:"1uzb3g"}],["path",{d:"m13.6 15.7-.4-.9",key:"11ifqf"}],["path",{d:"m10.8 9.2-.4-.9",key:"1pmk2v"}],["path",{d:"m15.7 13.5-.9-.4",key:"7ng02m"}],["path",{d:"m9.2 10.9-.9-.4",key:"1x66zd"}],["path",{d:"m10.5 15.7.4-.9",key:"3js94g"}],["path",{d:"m13.1 9.2.4-.9",key:"18n7mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ce=Yt("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sce=Yt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nce=Yt("CalendarCheck2",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 14V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"bce9hv"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m16 20 2 2 4-4",key:"13tcca"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ace=Yt("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=Yt("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oi=Yt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZH=Yt("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=Yt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kce=Yt("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=Yt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=Yt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=Yt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=Yt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ece=Yt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QH=Yt("Chrome",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cce=Yt("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=Yt("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eG=Yt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N5=Yt("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=Yt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=Yt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tG=Yt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pce=Yt("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $w=Yt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rG=Yt("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oF=Yt("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=Yt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nG=Yt("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tce=Yt("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oce=Yt("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=Yt("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dce=Yt("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=Yt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ice=Yt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rce=Yt("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aG=Yt("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fn=Yt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iG=Yt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=Yt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mce=Yt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fce=Yt("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lce=Yt("MoveVertical",[["polyline",{points:"8 18 12 22 16 18",key:"1uutw3"}],["polyline",{points:"8 6 12 2 16 6",key:"d60sxy"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jce=Yt("PackageCheck",[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sG=Yt("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ce=Yt("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bce=Yt("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A5=Yt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uce=Yt("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ch=Yt("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qu=Yt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qce=Yt("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=Yt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oG=Yt("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zce=Yt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=Yt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wce=Yt("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vce=Yt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hce=Yt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=Yt("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lF=Yt("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gce=Yt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=Yt("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=Yt("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cF=Yt("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uF=Yt("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22h0a3.13 3.13 0 0 1-3-3.88Z",key:"s6e0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dF=Yt("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lm=Yt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yce=Yt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0=Yt("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lG=Yt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=Yt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=Yt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kce=Yt("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xce=Yt("Weight",[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jce=Yt("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zce=Yt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ed=Yt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qce=Yt("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);function fF(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function A4(...e){return t=>{let r=!1;const n=e.map(a=>{const i=fF(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():fF(e[a],null)}}}}function Jr(...e){return S.useCallback(A4(...e),e)}var h3={exports:{}},r2={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hF;function eue(){if(hF)return r2;hF=1;var e=v4(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function s(o,c,u){var d,f={},h=null,m=null;u!==void 0&&(h=""+u),c.key!==void 0&&(h=""+c.key),c.ref!==void 0&&(m=c.ref);for(d in c)n.call(c,d)&&!i.hasOwnProperty(d)&&(f[d]=c[d]);if(o&&o.defaultProps)for(d in c=o.defaultProps,c)f[d]===void 0&&(f[d]=c[d]);return{$$typeof:t,type:o,key:h,ref:m,props:f,_owner:a.current}}return r2.Fragment=r,r2.jsx=s,r2.jsxs=s,r2}var pF;function tue(){return pF||(pF=1,h3.exports=eue()),h3.exports}var dD=tue();const l=dD.jsx,x=dD.jsxs,Nr=dD.Fragment;function cm(e){const t=rue(e),r=S.forwardRef((n,a)=>{const{children:i,...s}=n,o=S.Children.toArray(i),c=o.find(nue);if(c){const u=c.props.children,d=o.map(f=>f===c?S.Children.count(u)>1?S.Children.only(null):S.isValidElement(u)?u.props.children:null:f);return l(t,{...s,ref:a,children:S.isValidElement(u)?S.cloneElement(u,void 0,d):null})}return l(t,{...s,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var cG=cm("Slot");function rue(e){const t=S.forwardRef((r,n)=>{const{children:a,...i}=r;if(S.isValidElement(a)){const s=iue(a),o=aue(i,a.props);return a.type!==S.Fragment&&(o.ref=n?A4(n,s):s),S.cloneElement(a,o)}return S.Children.count(a)>1?S.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var uG=Symbol("radix.slottable");function dG(e){const t=({children:r})=>l(Nr,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=uG,t}function nue(e){return S.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===uG}function aue(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...o)=>{i(...o),a(...o)}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function iue(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function fG(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=fG(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function yn(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=fG(e))&&(n&&(n+=" "),n+=t);return n}const mF=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,gF=yn,Bw=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return gF(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,s=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const h=mF(d)||mF(f);return a[u][h]}),o=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(w=>{let[g,y]=w;return Array.isArray(y)?y.includes({...i,...o}[g]):{...i,...o}[g]===y})?[...u,f,h]:u},[]);return gF(e,s,c,r==null?void 0:r.class,r==null?void 0:r.className)},fD="-",sue=e=>{const t=lue(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:s=>{const o=s.split(fD);return o[0]===""&&o.length!==1&&o.shift(),hG(o,t)||oue(s)},getConflictingClassGroupIds:(s,o)=>{const c=r[s]||[];return o&&n[s]?[...c,...n[s]]:c}}},hG=(e,t)=>{var s;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?hG(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(fD);return(s=t.validators.find(({validator:o})=>o(i)))==null?void 0:s.classGroupId},vF=/^\[(.+)\]$/,oue=e=>{if(vF.test(e)){const t=vF.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},lue=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return uue(Object.entries(e.classGroups),r).forEach(([i,s])=>{f6(s,n,i,t)}),n},f6=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:yF(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(cue(a)){f6(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,s])=>{f6(s,yF(t,i),r,n)})})},yF=(e,t)=>{let r=e;return t.split(fD).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},cue=e=>e.isThemeGetter,uue=(e,t)=>t?e.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([s,o])=>[t+s,o])):i);return[r,a]}):e,due=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,s)=>{r.set(i,s),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let s=r.get(i);if(s!==void 0)return s;if((s=n.get(i))!==void 0)return a(i,s),s},set(i,s){r.has(i)?r.set(i,s):a(i,s)}}},pG="!",fue=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],i=t.length,s=o=>{const c=[];let u=0,d=0,f;for(let y=0;y<o.length;y++){let b=o[y];if(u===0){if(b===a&&(n||o.slice(y,y+i)===t)){c.push(o.slice(d,y)),d=y+i;continue}if(b==="/"){f=y;continue}}b==="["?u++:b==="]"&&u--}const h=c.length===0?o:o.substring(d),m=h.startsWith(pG),w=m?h.substring(1):h,g=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:w,maybePostfixModifierPosition:g}};return r?o=>r({className:o,parseClassName:s}):s},hue=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},pue=e=>({cache:due(e.cacheSize),parseClassName:fue(e),...sue(e)}),mue=/\s+/,gue=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],s=e.trim().split(mue);let o="";for(let c=s.length-1;c>=0;c-=1){const u=s[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let w=!!m,g=n(w?h.substring(0,m):h);if(!g){if(!w){o=u+(o.length>0?" "+o:o);continue}if(g=n(h),!g){o=u+(o.length>0?" "+o:o);continue}w=!1}const y=hue(d).join(":"),b=f?y+pG:y,_=b+g;if(i.includes(_))continue;i.push(_);const N=a(g,w);for(let E=0;E<N.length;++E){const C=N[E];i.push(b+C)}o=u+(o.length>0?" "+o:o)}return o};function vue(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=mG(t))&&(n&&(n+=" "),n+=r);return n}const mG=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=mG(e[n]))&&(r&&(r+=" "),r+=t);return r};function yue(e,...t){let r,n,a,i=s;function s(c){const u=t.reduce((d,f)=>f(d),e());return r=pue(u),n=r.cache.get,a=r.cache.set,i=o,o(c)}function o(c){const u=n(c);if(u)return u;const d=gue(c,r);return a(c,d),d}return function(){return i(vue.apply(null,arguments))}}const Za=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},gG=/^\[(?:([a-z-]+):)?(.+)\]$/i,xue=/^\d+\/\d+$/,wue=new Set(["px","full","screen"]),bue=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,_ue=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Sue=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Nue=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Aue=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Zf=e=>Kv(e)||wue.has(e)||xue.test(e),Cp=e=>my(e,"length",Iue),Kv=e=>!!e&&!Number.isNaN(Number(e)),p3=e=>my(e,"number",Kv),n2=e=>!!e&&Number.isInteger(Number(e)),kue=e=>e.endsWith("%")&&Kv(e.slice(0,-1)),An=e=>gG.test(e),Pp=e=>bue.test(e),Eue=new Set(["length","size","percentage"]),Cue=e=>my(e,Eue,vG),Pue=e=>my(e,"position",vG),Tue=new Set(["image","url"]),Oue=e=>my(e,Tue,Mue),Due=e=>my(e,"",Rue),a2=()=>!0,my=(e,t,r)=>{const n=gG.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},Iue=e=>_ue.test(e)&&!Sue.test(e),vG=()=>!1,Rue=e=>Nue.test(e),Mue=e=>Aue.test(e),Fue=()=>{const e=Za("colors"),t=Za("spacing"),r=Za("blur"),n=Za("brightness"),a=Za("borderColor"),i=Za("borderRadius"),s=Za("borderSpacing"),o=Za("borderWidth"),c=Za("contrast"),u=Za("grayscale"),d=Za("hueRotate"),f=Za("invert"),h=Za("gap"),m=Za("gradientColorStops"),w=Za("gradientColorStopPositions"),g=Za("inset"),y=Za("margin"),b=Za("opacity"),_=Za("padding"),N=Za("saturate"),E=Za("scale"),C=Za("sepia"),O=Za("skew"),P=Za("space"),M=Za("translate"),L=()=>["auto","contain","none"],j=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto",An,t],I=()=>[An,t],B=()=>["",Zf,Cp],G=()=>["auto",Kv,An],Z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],re=()=>["solid","dashed","dotted","double","none"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],z=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",An],Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>[Kv,An];return{cacheSize:500,separator:":",theme:{colors:[a2],spacing:[Zf,Cp],blur:["none","",Pp,An],brightness:Q(),borderColor:[e],borderRadius:["none","","full",Pp,An],borderSpacing:I(),borderWidth:B(),contrast:Q(),grayscale:U(),hueRotate:Q(),invert:U(),gap:I(),gradientColorStops:[e],gradientColorStopPositions:[kue,Cp],inset:T(),margin:T(),opacity:Q(),padding:I(),saturate:Q(),scale:Q(),sepia:U(),skew:Q(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",An]}],container:["container"],columns:[{columns:[Pp]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Z(),An]}],overflow:[{overflow:j()}],"overflow-x":[{"overflow-x":j()}],"overflow-y":[{"overflow-y":j()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",n2,An]}],basis:[{basis:T()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",An]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",n2,An]}],"grid-cols":[{"grid-cols":[a2]}],"col-start-end":[{col:["auto",{span:["full",n2,An]},An]}],"col-start":[{"col-start":G()}],"col-end":[{"col-end":G()}],"grid-rows":[{"grid-rows":[a2]}],"row-start-end":[{row:["auto",{span:[n2,An]},An]}],"row-start":[{"row-start":G()}],"row-end":[{"row-end":G()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",An]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",An]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",An,t]}],"min-w":[{"min-w":[An,t,"min","max","fit"]}],"max-w":[{"max-w":[An,t,"none","full","min","max","fit","prose",{screen:[Pp]},Pp]}],h:[{h:[An,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[An,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[An,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[An,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Pp,Cp]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",p3]}],"font-family":[{font:[a2]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",An]}],"line-clamp":[{"line-clamp":["none",Kv,p3]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Zf,An]}],"list-image":[{"list-image":["none",An]}],"list-style-type":[{list:["none","disc","decimal",An]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...re(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Zf,Cp]}],"underline-offset":[{"underline-offset":["auto",Zf,An]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",An]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",An]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Z(),Pue]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Cue]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Oue]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...re(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:re()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...re()]}],"outline-offset":[{"outline-offset":[Zf,An]}],"outline-w":[{outline:[Zf,Cp]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:B()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Zf,Cp]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Pp,Due]}],"shadow-color":[{shadow:[a2]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...W(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Pp,An]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[N]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[N]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",An]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",An]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",An]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[n2,An]}],"translate-x":[{"translate-x":[M]}],"translate-y":[{"translate-y":[M]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",An]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",An]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",An]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Zf,Cp,p3]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Lue=yue(Fue);function Lt(...e){return Lue(yn(e))}const gx=Bw("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Me=S.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>l(n?cG:"button",{className:Lt(gx({variant:t,size:r,className:e})),ref:i,...a}));Me.displayName="Button";function Ht(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function jue(e,t){const r=S.createContext(t),n=i=>{const{children:s,...o}=i,c=S.useMemo(()=>o,Object.values(o));return l(r.Provider,{value:c,children:s})};n.displayName=e+"Provider";function a(i){const s=S.useContext(r);if(s)return s;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function ts(e,t=[]){let r=[];function n(i,s){const o=S.createContext(s),c=r.length;r=[...r,s];const u=f=>{var b;const{scope:h,children:m,...w}=f,g=((b=h==null?void 0:h[e])==null?void 0:b[c])||o,y=S.useMemo(()=>w,Object.values(w));return l(g.Provider,{value:y,children:m})};u.displayName=i+"Provider";function d(f,h){var g;const m=((g=h==null?void 0:h[e])==null?void 0:g[c])||o,w=S.useContext(m);if(w)return w;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(s=>S.createContext(s));return function(o){const c=(o==null?void 0:o[e])||i;return S.useMemo(()=>({[`__scope${e}`]:{...o,[e]:c}}),[o,c])}};return a.scopeName=e,[n,$ue(a,...t)]}function $ue(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const s=n.reduce((o,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...o,...f}},{});return S.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return r.scopeName=t.scopeName,r}var ui=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{},Bue=dx[" useInsertionEffect ".trim().toString()]||ui;function hl({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,s]=Uue({defaultProp:t,onChange:r}),o=e!==void 0,c=o?e:a;{const d=S.useRef(e!==void 0);S.useEffect(()=>{const f=d.current;f!==o&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=o},[o,n])}const u=S.useCallback(d=>{var f;if(o){const h=que(d)?d(e):d;h!==e&&((f=s.current)==null||f.call(s,h))}else i(d)},[o,e,i,s]);return[c,u]}function Uue({defaultProp:e,onChange:t}){const[r,n]=S.useState(e),a=S.useRef(r),i=S.useRef(t);return Bue(()=>{i.current=t},[t]),S.useEffect(()=>{var s;a.current!==r&&((s=i.current)==null||s.call(i,r),a.current=r)},[r,a]),[r,n,i]}function que(e){return typeof e=="function"}var zue=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],xr=zue.reduce((e,t)=>{const r=cm(`Primitive.${t}`),n=S.forwardRef((a,i)=>{const{asChild:s,...o}=a,c=s?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l(c,{...o,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function hD(e,t){e&&fy.flushSync(()=>e.dispatchEvent(t))}function Uw(e){const t=e+"CollectionProvider",[r,n]=ts(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),s=g=>{const{scope:y,children:b}=g,_=tt.useRef(null),N=tt.useRef(new Map).current;return l(a,{scope:y,itemMap:N,collectionRef:_,children:b})};s.displayName=t;const o=e+"CollectionSlot",c=cm(o),u=tt.forwardRef((g,y)=>{const{scope:b,children:_}=g,N=i(o,b),E=Jr(y,N.collectionRef);return l(c,{ref:E,children:_})});u.displayName=o;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=cm(d),m=tt.forwardRef((g,y)=>{const{scope:b,children:_,...N}=g,E=tt.useRef(null),C=Jr(y,E),O=i(d,b);return tt.useEffect(()=>(O.itemMap.set(E,{ref:E,...N}),()=>void O.itemMap.delete(E))),l(h,{[f]:"",ref:C,children:_})});m.displayName=d;function w(g){const y=i(e+"CollectionConsumer",g);return tt.useCallback(()=>{const _=y.collectionRef.current;if(!_)return[];const N=Array.from(_.querySelectorAll(`[${f}]`));return Array.from(y.itemMap.values()).sort((O,P)=>N.indexOf(O.ref.current)-N.indexOf(P.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:s,Slot:u,ItemSlot:m},w,n]}var Wue=S.createContext(void 0);function Sg(e){const t=S.useContext(Wue);return e||t||"ltr"}function Di(e){const t=S.useRef(e);return S.useEffect(()=>{t.current=e}),S.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function Vue(e,t=globalThis==null?void 0:globalThis.document){const r=Di(e);S.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var Hue="DismissableLayer",h6="dismissableLayer.update",Gue="dismissableLayer.pointerDownOutside",Yue="dismissableLayer.focusOutside",xF,yG=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ng=S.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:s,onDismiss:o,...c}=e,u=S.useContext(yG),[d,f]=S.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=S.useState({}),w=Jr(t,P=>f(P)),g=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=g.indexOf(y),_=d?g.indexOf(d):-1,N=u.layersWithOutsidePointerEventsDisabled.size>0,E=_>=b,C=Xue(P=>{const M=P.target,L=[...u.branches].some(j=>j.contains(M));!E||L||(a==null||a(P),s==null||s(P),P.defaultPrevented||o==null||o())},h),O=Jue(P=>{const M=P.target;[...u.branches].some(j=>j.contains(M))||(i==null||i(P),s==null||s(P),P.defaultPrevented||o==null||o())},h);return Vue(P=>{_===u.layers.size-1&&(n==null||n(P),!P.defaultPrevented&&o&&(P.preventDefault(),o()))},h),S.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(xF=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),wF(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=xF)}},[d,h,r,u]),S.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),wF())},[d,u]),S.useEffect(()=>{const P=()=>m({});return document.addEventListener(h6,P),()=>document.removeEventListener(h6,P)},[]),l(xr.div,{...c,ref:w,style:{pointerEvents:N?E?"auto":"none":void 0,...e.style},onFocusCapture:Ht(e.onFocusCapture,O.onFocusCapture),onBlurCapture:Ht(e.onBlurCapture,O.onBlurCapture),onPointerDownCapture:Ht(e.onPointerDownCapture,C.onPointerDownCapture)})});Ng.displayName=Hue;var Kue="DismissableLayerBranch",xG=S.forwardRef((e,t)=>{const r=S.useContext(yG),n=S.useRef(null),a=Jr(t,n);return S.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),l(xr.div,{...e,ref:a})});xG.displayName=Kue;function Xue(e,t=globalThis==null?void 0:globalThis.document){const r=Di(e),n=S.useRef(!1),a=S.useRef(()=>{});return S.useEffect(()=>{const i=o=>{if(o.target&&!n.current){let c=function(){wG(Gue,r,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Jue(e,t=globalThis==null?void 0:globalThis.document){const r=Di(e),n=S.useRef(!1);return S.useEffect(()=>{const a=i=>{i.target&&!n.current&&wG(Yue,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function wF(){const e=new CustomEvent(h6);document.dispatchEvent(e)}function wG(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?hD(a,i):a.dispatchEvent(i)}var Zue=Ng,Que=xG,m3=0;function k4(){S.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??bF()),document.body.insertAdjacentElement("beforeend",e[1]??bF()),m3++,()=>{m3===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),m3--}},[])}function bF(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var g3="focusScope.autoFocusOnMount",v3="focusScope.autoFocusOnUnmount",_F={bubbles:!1,cancelable:!0},ede="FocusScope",qw=S.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...s}=e,[o,c]=S.useState(null),u=Di(a),d=Di(i),f=S.useRef(null),h=Jr(t,g=>c(g)),m=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(n){let g=function(N){if(m.paused||!o)return;const E=N.target;o.contains(E)?f.current=E:Lp(f.current,{select:!0})},y=function(N){if(m.paused||!o)return;const E=N.relatedTarget;E!==null&&(o.contains(E)||Lp(f.current,{select:!0}))},b=function(N){if(document.activeElement===document.body)for(const C of N)C.removedNodes.length>0&&Lp(o)};document.addEventListener("focusin",g),document.addEventListener("focusout",y);const _=new MutationObserver(b);return o&&_.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",y),_.disconnect()}}},[n,o,m.paused]),S.useEffect(()=>{if(o){NF.add(m);const g=document.activeElement;if(!o.contains(g)){const b=new CustomEvent(g3,_F);o.addEventListener(g3,u),o.dispatchEvent(b),b.defaultPrevented||(tde(sde(bG(o)),{select:!0}),document.activeElement===g&&Lp(o))}return()=>{o.removeEventListener(g3,u),setTimeout(()=>{const b=new CustomEvent(v3,_F);o.addEventListener(v3,d),o.dispatchEvent(b),b.defaultPrevented||Lp(g??document.body,{select:!0}),o.removeEventListener(v3,d),NF.remove(m)},0)}}},[o,u,d,m]);const w=S.useCallback(g=>{if(!r&&!n||m.paused)return;const y=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,b=document.activeElement;if(y&&b){const _=g.currentTarget,[N,E]=rde(_);N&&E?!g.shiftKey&&b===E?(g.preventDefault(),r&&Lp(N,{select:!0})):g.shiftKey&&b===N&&(g.preventDefault(),r&&Lp(E,{select:!0})):b===_&&g.preventDefault()}},[r,n,m.paused]);return l(xr.div,{tabIndex:-1,...s,ref:h,onKeyDown:w})});qw.displayName=ede;function tde(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Lp(n,{select:t}),document.activeElement!==r)return}function rde(e){const t=bG(e),r=SF(t,e),n=SF(t.reverse(),e);return[r,n]}function bG(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function SF(e,t){for(const r of e)if(!nde(r,{upTo:t}))return r}function nde(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function ade(e){return e instanceof HTMLInputElement&&"select"in e}function Lp(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&ade(e)&&t&&e.select()}}var NF=ide();function ide(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=AF(e,t),e.unshift(t)},remove(t){var r;e=AF(e,t),(r=e[0])==null||r.resume()}}}function AF(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function sde(e){return e.filter(t=>t.tagName!=="A")}var ode=dx[" useId ".trim().toString()]||(()=>{}),lde=0;function $l(e){const[t,r]=S.useState(ode());return ui(()=>{r(n=>n??String(lde++))},[e]),t?`radix-${t}`:""}const cde=["top","right","bottom","left"],um=Math.min,cc=Math.max,k5=Math.round,o_=Math.floor,tf=e=>({x:e,y:e}),ude={left:"right",right:"left",bottom:"top",top:"bottom"},dde={start:"end",end:"start"};function p6(e,t,r){return cc(e,um(t,r))}function yh(e,t){return typeof e=="function"?e(t):e}function xh(e){return e.split("-")[0]}function gy(e){return e.split("-")[1]}function pD(e){return e==="x"?"y":"x"}function mD(e){return e==="y"?"height":"width"}function dm(e){return["top","bottom"].includes(xh(e))?"y":"x"}function gD(e){return pD(dm(e))}function fde(e,t,r){r===void 0&&(r=!1);const n=gy(e),a=gD(e),i=mD(a);let s=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=E5(s)),[s,E5(s)]}function hde(e){const t=E5(e);return[m6(e),t,m6(t)]}function m6(e){return e.replace(/start|end/g,t=>dde[t])}function pde(e,t,r){const n=["left","right"],a=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return r?t?a:n:t?n:a;case"left":case"right":return t?i:s;default:return[]}}function mde(e,t,r,n){const a=gy(e);let i=pde(xh(e),r==="start",n);return a&&(i=i.map(s=>s+"-"+a),t&&(i=i.concat(i.map(m6)))),i}function E5(e){return e.replace(/left|right|bottom|top/g,t=>ude[t])}function gde(e){return{top:0,right:0,bottom:0,left:0,...e}}function _G(e){return typeof e!="number"?gde(e):{top:e,right:e,bottom:e,left:e}}function C5(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function kF(e,t,r){let{reference:n,floating:a}=e;const i=dm(t),s=gD(t),o=mD(s),c=xh(t),u=i==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[o]/2-a[o]/2;let m;switch(c){case"top":m={x:d,y:n.y-a.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-a.width,y:f};break;default:m={x:n.x,y:n.y}}switch(gy(t)){case"start":m[s]-=h*(r&&u?-1:1);break;case"end":m[s]+=h*(r&&u?-1:1);break}return m}const vde=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:s}=r,o=i.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=kF(u,n,c),h=n,m={},w=0;for(let g=0;g<o.length;g++){const{name:y,fn:b}=o[g],{x:_,y:N,data:E,reset:C}=await b({x:d,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:m,rects:u,platform:s,elements:{reference:e,floating:t}});d=_??d,f=N??f,m={...m,[y]:{...m[y],...E}},C&&w<=50&&(w++,typeof C=="object"&&(C.placement&&(h=C.placement),C.rects&&(u=C.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:a}):C.rects),{x:d,y:f}=kF(u,h,c)),g=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:m}};async function vx(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:s,elements:o,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=yh(t,e),w=_G(m),y=o[h?f==="floating"?"reference":"floating":f],b=C5(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(y)))==null||r?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(o.floating)),boundary:u,rootBoundary:d,strategy:c})),_=f==="floating"?{x:n,y:a,width:s.floating.width,height:s.floating.height}:s.reference,N=await(i.getOffsetParent==null?void 0:i.getOffsetParent(o.floating)),E=await(i.isElement==null?void 0:i.isElement(N))?await(i.getScale==null?void 0:i.getScale(N))||{x:1,y:1}:{x:1,y:1},C=C5(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:_,offsetParent:N,strategy:c}):_);return{top:(b.top-C.top+w.top)/E.y,bottom:(C.bottom-b.bottom+w.bottom)/E.y,left:(b.left-C.left+w.left)/E.x,right:(C.right-b.right+w.right)/E.x}}const yde=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:s,elements:o,middlewareData:c}=t,{element:u,padding:d=0}=yh(e,t)||{};if(u==null)return{};const f=_G(d),h={x:r,y:n},m=gD(a),w=mD(m),g=await s.getDimensions(u),y=m==="y",b=y?"top":"left",_=y?"bottom":"right",N=y?"clientHeight":"clientWidth",E=i.reference[w]+i.reference[m]-h[m]-i.floating[w],C=h[m]-i.reference[m],O=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let P=O?O[N]:0;(!P||!await(s.isElement==null?void 0:s.isElement(O)))&&(P=o.floating[N]||i.floating[w]);const M=E/2-C/2,L=P/2-g[w]/2-1,j=um(f[b],L),T=um(f[_],L),I=j,B=P-g[w]-T,G=P/2-g[w]/2+M,Z=p6(I,G,B),re=!c.arrow&&gy(a)!=null&&G!==Z&&i.reference[w]/2-(G<I?j:T)-g[w]/2<0,W=re?G<I?G-I:G-B:0;return{[m]:h[m]+W,data:{[m]:Z,centerOffset:G-Z-W,...re&&{alignmentOffset:W}},reset:re}}}),xde=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:s,initialPlacement:o,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:g=!0,...y}=yh(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const b=xh(a),_=dm(o),N=xh(o)===o,E=await(c.isRTL==null?void 0:c.isRTL(u.floating)),C=h||(N||!g?[E5(o)]:hde(o)),O=w!=="none";!h&&O&&C.push(...mde(o,g,w,E));const P=[o,...C],M=await vx(t,y),L=[];let j=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&L.push(M[b]),f){const G=fde(a,s,E);L.push(M[G[0]],M[G[1]])}if(j=[...j,{placement:a,overflows:L}],!L.every(G=>G<=0)){var T,I;const G=(((T=i.flip)==null?void 0:T.index)||0)+1,Z=P[G];if(Z)return{data:{index:G,overflows:j},reset:{placement:Z}};let re=(I=j.filter(W=>W.overflows[0]<=0).sort((W,z)=>W.overflows[1]-z.overflows[1])[0])==null?void 0:I.placement;if(!re)switch(m){case"bestFit":{var B;const W=(B=j.filter(z=>{if(O){const U=dm(z.placement);return U===_||U==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(U=>U>0).reduce((U,Y)=>U+Y,0)]).sort((z,U)=>z[1]-U[1])[0])==null?void 0:B[0];W&&(re=W);break}case"initialPlacement":re=o;break}if(a!==re)return{reset:{placement:re}}}return{}}}};function EF(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function CF(e){return cde.some(t=>e[t]>=0)}const wde=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=yh(e,t);switch(n){case"referenceHidden":{const i=await vx(t,{...a,elementContext:"reference"}),s=EF(i,r.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:CF(s)}}}case"escaped":{const i=await vx(t,{...a,altBoundary:!0}),s=EF(i,r.floating);return{data:{escapedOffsets:s,escaped:CF(s)}}}default:return{}}}}};async function bde(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),s=xh(r),o=gy(r),c=dm(r)==="y",u=["left","top"].includes(s)?-1:1,d=i&&c?-1:1,f=yh(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:w}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return o&&typeof w=="number"&&(m=o==="end"?w*-1:w),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const _de=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:s,middlewareData:o}=t,c=await bde(t,e);return s===((r=o.offset)==null?void 0:r.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:s}}}}},Sde=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:o={fn:y=>{let{x:b,y:_}=y;return{x:b,y:_}}},...c}=yh(e,t),u={x:r,y:n},d=await vx(t,c),f=dm(xh(a)),h=pD(f);let m=u[h],w=u[f];if(i){const y=h==="y"?"top":"left",b=h==="y"?"bottom":"right",_=m+d[y],N=m-d[b];m=p6(_,m,N)}if(s){const y=f==="y"?"top":"left",b=f==="y"?"bottom":"right",_=w+d[y],N=w-d[b];w=p6(_,w,N)}const g=o.fn({...t,[h]:m,[f]:w});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[h]:i,[f]:s}}}}}},Nde=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:s}=t,{offset:o=0,mainAxis:c=!0,crossAxis:u=!0}=yh(e,t),d={x:r,y:n},f=dm(a),h=pD(f);let m=d[h],w=d[f];const g=yh(o,t),y=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const N=h==="y"?"height":"width",E=i.reference[h]-i.floating[N]+y.mainAxis,C=i.reference[h]+i.reference[N]-y.mainAxis;m<E?m=E:m>C&&(m=C)}if(u){var b,_;const N=h==="y"?"width":"height",E=["top","left"].includes(xh(a)),C=i.reference[f]-i.floating[N]+(E&&((b=s.offset)==null?void 0:b[f])||0)+(E?0:y.crossAxis),O=i.reference[f]+i.reference[N]+(E?0:((_=s.offset)==null?void 0:_[f])||0)-(E?y.crossAxis:0);w<C?w=C:w>O&&(w=O)}return{[h]:m,[f]:w}}}},Ade=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:s,elements:o}=t,{apply:c=()=>{},...u}=yh(e,t),d=await vx(t,u),f=xh(a),h=gy(a),m=dm(a)==="y",{width:w,height:g}=i.floating;let y,b;f==="top"||f==="bottom"?(y=f,b=h===(await(s.isRTL==null?void 0:s.isRTL(o.floating))?"start":"end")?"left":"right"):(b=f,y=h==="end"?"top":"bottom");const _=g-d.top-d.bottom,N=w-d.left-d.right,E=um(g-d[y],_),C=um(w-d[b],N),O=!t.middlewareData.shift;let P=E,M=C;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(M=N),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(P=_),O&&!h){const j=cc(d.left,0),T=cc(d.right,0),I=cc(d.top,0),B=cc(d.bottom,0);m?M=w-2*(j!==0||T!==0?j+T:cc(d.left,d.right)):P=g-2*(I!==0||B!==0?I+B:cc(d.top,d.bottom))}await c({...t,availableWidth:M,availableHeight:P});const L=await s.getDimensions(o.floating);return w!==L.width||g!==L.height?{reset:{rects:!0}}:{}}}};function E4(){return typeof window<"u"}function vy(e){return SG(e)?(e.nodeName||"").toLowerCase():"#document"}function vc(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function gf(e){var t;return(t=(SG(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function SG(e){return E4()?e instanceof Node||e instanceof vc(e).Node:!1}function td(e){return E4()?e instanceof Element||e instanceof vc(e).Element:!1}function uf(e){return E4()?e instanceof HTMLElement||e instanceof vc(e).HTMLElement:!1}function PF(e){return!E4()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof vc(e).ShadowRoot}function zw(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=rd(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(a)}function kde(e){return["table","td","th"].includes(vy(e))}function C4(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function vD(e){const t=yD(),r=td(e)?rd(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function Ede(e){let t=fm(e);for(;uf(t)&&!x1(t);){if(vD(t))return t;if(C4(t))return null;t=fm(t)}return null}function yD(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function x1(e){return["html","body","#document"].includes(vy(e))}function rd(e){return vc(e).getComputedStyle(e)}function P4(e){return td(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function fm(e){if(vy(e)==="html")return e;const t=e.assignedSlot||e.parentNode||PF(e)&&e.host||gf(e);return PF(t)?t.host:t}function NG(e){const t=fm(e);return x1(t)?e.ownerDocument?e.ownerDocument.body:e.body:uf(t)&&zw(t)?t:NG(t)}function yx(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=NG(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),s=vc(a);if(i){const o=g6(s);return t.concat(s,s.visualViewport||[],zw(a)?a:[],o&&r?yx(o):[])}return t.concat(a,yx(a,[],r))}function g6(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function AG(e){const t=rd(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=uf(e),i=a?e.offsetWidth:r,s=a?e.offsetHeight:n,o=k5(r)!==i||k5(n)!==s;return o&&(r=i,n=s),{width:r,height:n,$:o}}function xD(e){return td(e)?e:e.contextElement}function Xv(e){const t=xD(e);if(!uf(t))return tf(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=AG(t);let s=(i?k5(r.width):r.width)/n,o=(i?k5(r.height):r.height)/a;return(!s||!Number.isFinite(s))&&(s=1),(!o||!Number.isFinite(o))&&(o=1),{x:s,y:o}}const Cde=tf(0);function kG(e){const t=vc(e);return!yD()||!t.visualViewport?Cde:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Pde(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==vc(e)?!1:t}function Q0(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=xD(e);let s=tf(1);t&&(n?td(n)&&(s=Xv(n)):s=Xv(e));const o=Pde(i,r,n)?kG(i):tf(0);let c=(a.left+o.x)/s.x,u=(a.top+o.y)/s.y,d=a.width/s.x,f=a.height/s.y;if(i){const h=vc(i),m=n&&td(n)?vc(n):n;let w=h,g=g6(w);for(;g&&n&&m!==w;){const y=Xv(g),b=g.getBoundingClientRect(),_=rd(g),N=b.left+(g.clientLeft+parseFloat(_.paddingLeft))*y.x,E=b.top+(g.clientTop+parseFloat(_.paddingTop))*y.y;c*=y.x,u*=y.y,d*=y.x,f*=y.y,c+=N,u+=E,w=vc(g),g=g6(w)}}return C5({width:d,height:f,x:c,y:u})}function wD(e,t){const r=P4(e).scrollLeft;return t?t.left+r:Q0(gf(e)).left+r}function EG(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:wD(e,n)),i=n.top+t.scrollTop;return{x:a,y:i}}function Tde(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",s=gf(n),o=t?C4(t.floating):!1;if(n===s||o&&i)return r;let c={scrollLeft:0,scrollTop:0},u=tf(1);const d=tf(0),f=uf(n);if((f||!f&&!i)&&((vy(n)!=="body"||zw(s))&&(c=P4(n)),uf(n))){const m=Q0(n);u=Xv(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const h=s&&!f&&!i?EG(s,c,!0):tf(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function Ode(e){return Array.from(e.getClientRects())}function Dde(e){const t=gf(e),r=P4(e),n=e.ownerDocument.body,a=cc(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=cc(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let s=-r.scrollLeft+wD(e);const o=-r.scrollTop;return rd(n).direction==="rtl"&&(s+=cc(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:s,y:o}}function Ide(e,t){const r=vc(e),n=gf(e),a=r.visualViewport;let i=n.clientWidth,s=n.clientHeight,o=0,c=0;if(a){i=a.width,s=a.height;const u=yD();(!u||u&&t==="fixed")&&(o=a.offsetLeft,c=a.offsetTop)}return{width:i,height:s,x:o,y:c}}function Rde(e,t){const r=Q0(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=uf(e)?Xv(e):tf(1),s=e.clientWidth*i.x,o=e.clientHeight*i.y,c=a*i.x,u=n*i.y;return{width:s,height:o,x:c,y:u}}function TF(e,t,r){let n;if(t==="viewport")n=Ide(e,r);else if(t==="document")n=Dde(gf(e));else if(td(t))n=Rde(t,r);else{const a=kG(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return C5(n)}function CG(e,t){const r=fm(e);return r===t||!td(r)||x1(r)?!1:rd(r).position==="fixed"||CG(r,t)}function Mde(e,t){const r=t.get(e);if(r)return r;let n=yx(e,[],!1).filter(o=>td(o)&&vy(o)!=="body"),a=null;const i=rd(e).position==="fixed";let s=i?fm(e):e;for(;td(s)&&!x1(s);){const o=rd(s),c=vD(s);!c&&o.position==="fixed"&&(a=null),(i?!c&&!a:!c&&o.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||zw(s)&&!c&&CG(e,s))?n=n.filter(d=>d!==s):a=o,s=fm(s)}return t.set(e,n),n}function Fde(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const s=[...r==="clippingAncestors"?C4(t)?[]:Mde(t,this._c):[].concat(r),n],o=s[0],c=s.reduce((u,d)=>{const f=TF(t,d,a);return u.top=cc(f.top,u.top),u.right=um(f.right,u.right),u.bottom=um(f.bottom,u.bottom),u.left=cc(f.left,u.left),u},TF(t,o,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Lde(e){const{width:t,height:r}=AG(e);return{width:t,height:r}}function jde(e,t,r){const n=uf(t),a=gf(t),i=r==="fixed",s=Q0(e,!0,i,t);let o={scrollLeft:0,scrollTop:0};const c=tf(0);if(n||!n&&!i)if((vy(t)!=="body"||zw(a))&&(o=P4(t)),n){const h=Q0(t,!0,i,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else a&&(c.x=wD(a));const u=a&&!n&&!i?EG(a,o):tf(0),d=s.left+o.scrollLeft-c.x-u.x,f=s.top+o.scrollTop-c.y-u.y;return{x:d,y:f,width:s.width,height:s.height}}function y3(e){return rd(e).position==="static"}function OF(e,t){if(!uf(e)||rd(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return gf(e)===r&&(r=r.ownerDocument.body),r}function PG(e,t){const r=vc(e);if(C4(e))return r;if(!uf(e)){let a=fm(e);for(;a&&!x1(a);){if(td(a)&&!y3(a))return a;a=fm(a)}return r}let n=OF(e,t);for(;n&&kde(n)&&y3(n);)n=OF(n,t);return n&&x1(n)&&y3(n)&&!vD(n)?r:n||Ede(e)||r}const $de=async function(e){const t=this.getOffsetParent||PG,r=this.getDimensions,n=await r(e.floating);return{reference:jde(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Bde(e){return rd(e).direction==="rtl"}const Ude={convertOffsetParentRelativeRectToViewportRelativeRect:Tde,getDocumentElement:gf,getClippingRect:Fde,getOffsetParent:PG,getElementRects:$de,getClientRects:Ode,getDimensions:Lde,getScale:Xv,isElement:td,isRTL:Bde};function TG(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function qde(e,t){let r=null,n;const a=gf(e);function i(){var o;clearTimeout(n),(o=r)==null||o.disconnect(),r=null}function s(o,c){o===void 0&&(o=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(o||t(),!h||!m)return;const w=o_(f),g=o_(a.clientWidth-(d+h)),y=o_(a.clientHeight-(f+m)),b=o_(d),N={rootMargin:-w+"px "+-g+"px "+-y+"px "+-b+"px",threshold:cc(0,um(1,c))||1};let E=!0;function C(O){const P=O[0].intersectionRatio;if(P!==c){if(!E)return s();P?s(!1,P):n=setTimeout(()=>{s(!1,1e-7)},1e3)}P===1&&!TG(u,e.getBoundingClientRect())&&s(),E=!1}try{r=new IntersectionObserver(C,{...N,root:a.ownerDocument})}catch{r=new IntersectionObserver(C,N)}r.observe(e)}return s(!0),i}function zde(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=xD(e),d=a||i?[...u?yx(u):[],...yx(t)]:[];d.forEach(b=>{a&&b.addEventListener("scroll",r,{passive:!0}),i&&b.addEventListener("resize",r)});const f=u&&o?qde(u,r):null;let h=-1,m=null;s&&(m=new ResizeObserver(b=>{let[_]=b;_&&_.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var N;(N=m)==null||N.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let w,g=c?Q0(e):null;c&&y();function y(){const b=Q0(e);g&&!TG(g,b)&&r(),g=b,w=requestAnimationFrame(y)}return r(),()=>{var b;d.forEach(_=>{a&&_.removeEventListener("scroll",r),i&&_.removeEventListener("resize",r)}),f==null||f(),(b=m)==null||b.disconnect(),m=null,c&&cancelAnimationFrame(w)}}const Wde=_de,Vde=Sde,Hde=xde,Gde=Ade,Yde=wde,DF=yde,Kde=Nde,Xde=(e,t,r)=>{const n=new Map,a={platform:Ude,...r},i={...a.platform,_c:n};return vde(e,t,{...a,platform:i})};var t5=typeof document<"u"?S.useLayoutEffect:S.useEffect;function P5(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!P5(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!P5(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function OG(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function IF(e,t){const r=OG(e);return Math.round(t*r)/r}function x3(e){const t=S.useRef(e);return t5(()=>{t.current=e}),t}function Jde(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:s}={},transform:o=!0,whileElementsMounted:c,open:u}=e,[d,f]=S.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=S.useState(n);P5(h,n)||m(n);const[w,g]=S.useState(null),[y,b]=S.useState(null),_=S.useCallback(z=>{z!==O.current&&(O.current=z,g(z))},[]),N=S.useCallback(z=>{z!==P.current&&(P.current=z,b(z))},[]),E=i||w,C=s||y,O=S.useRef(null),P=S.useRef(null),M=S.useRef(d),L=c!=null,j=x3(c),T=x3(a),I=x3(u),B=S.useCallback(()=>{if(!O.current||!P.current)return;const z={placement:t,strategy:r,middleware:h};T.current&&(z.platform=T.current),Xde(O.current,P.current,z).then(U=>{const Y={...U,isPositioned:I.current!==!1};G.current&&!P5(M.current,Y)&&(M.current=Y,fy.flushSync(()=>{f(Y)}))})},[h,t,r,T,I]);t5(()=>{u===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,f(z=>({...z,isPositioned:!1})))},[u]);const G=S.useRef(!1);t5(()=>(G.current=!0,()=>{G.current=!1}),[]),t5(()=>{if(E&&(O.current=E),C&&(P.current=C),E&&C){if(j.current)return j.current(E,C,B);B()}},[E,C,B,j,L]);const Z=S.useMemo(()=>({reference:O,floating:P,setReference:_,setFloating:N}),[_,N]),re=S.useMemo(()=>({reference:E,floating:C}),[E,C]),W=S.useMemo(()=>{const z={position:r,left:0,top:0};if(!re.floating)return z;const U=IF(re.floating,d.x),Y=IF(re.floating,d.y);return o?{...z,transform:"translate("+U+"px, "+Y+"px)",...OG(re.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:U,top:Y}},[r,o,re.floating,d.x,d.y]);return S.useMemo(()=>({...d,update:B,refs:Z,elements:re,floatingStyles:W}),[d,B,Z,re,W])}const Zde=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?DF({element:n.current,padding:a}).fn(r):{}:n?DF({element:n,padding:a}).fn(r):{}}}},Qde=(e,t)=>({...Wde(e),options:[e,t]}),efe=(e,t)=>({...Vde(e),options:[e,t]}),tfe=(e,t)=>({...Kde(e),options:[e,t]}),rfe=(e,t)=>({...Hde(e),options:[e,t]}),nfe=(e,t)=>({...Gde(e),options:[e,t]}),afe=(e,t)=>({...Yde(e),options:[e,t]}),ife=(e,t)=>({...Zde(e),options:[e,t]});var sfe="Arrow",DG=S.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return l(xr.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:l("polygon",{points:"0,0 30,0 15,10"})})});DG.displayName=sfe;var ofe=DG;function T4(e){const[t,r]=S.useState(void 0);return ui(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let s,o;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;s=u.inlineSize,o=u.blockSize}else s=e.offsetWidth,o=e.offsetHeight;r({width:s,height:o})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var bD="Popper",[IG,Pm]=ts(bD),[lfe,RG]=IG(bD),MG=e=>{const{__scopePopper:t,children:r}=e,[n,a]=S.useState(null);return l(lfe,{scope:t,anchor:n,onAnchorChange:a,children:r})};MG.displayName=bD;var FG="PopperAnchor",LG=S.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=RG(FG,r),s=S.useRef(null),o=Jr(t,s);return S.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||s.current)}),n?null:l(xr.div,{...a,ref:o})});LG.displayName=FG;var _D="PopperContent",[cfe,ufe]=IG(_D),jG=S.forwardRef((e,t)=>{var oe,ue,V,se,fe,te;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:s=0,arrowPadding:o=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:w,...g}=e,y=RG(_D,r),[b,_]=S.useState(null),N=Jr(t,Ee=>_(Ee)),[E,C]=S.useState(null),O=T4(E),P=(O==null?void 0:O.width)??0,M=(O==null?void 0:O.height)??0,L=n+(i!=="center"?"-"+i:""),j=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},T=Array.isArray(u)?u:[u],I=T.length>0,B={padding:j,boundary:T.filter(ffe),altBoundary:I},{refs:G,floatingStyles:Z,placement:re,isPositioned:W,middlewareData:z}=Jde({strategy:"fixed",placement:L,whileElementsMounted:(...Ee)=>zde(...Ee,{animationFrame:m==="always"}),elements:{reference:y.anchor},middleware:[Qde({mainAxis:a+M,alignmentAxis:s}),c&&efe({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?tfe():void 0,...B}),c&&rfe({...B}),nfe({...B,apply:({elements:Ee,rects:Fe,availableWidth:Pe,availableHeight:ve})=>{const{width:Ge,height:ht}=Fe.reference,at=Ee.floating.style;at.setProperty("--radix-popper-available-width",`${Pe}px`),at.setProperty("--radix-popper-available-height",`${ve}px`),at.setProperty("--radix-popper-anchor-width",`${Ge}px`),at.setProperty("--radix-popper-anchor-height",`${ht}px`)}}),E&&ife({element:E,padding:o}),hfe({arrowWidth:P,arrowHeight:M}),h&&afe({strategy:"referenceHidden",...B})]}),[U,Y]=UG(re),Q=Di(w);ui(()=>{W&&(Q==null||Q())},[W,Q]);const D=(oe=z.arrow)==null?void 0:oe.x,K=(ue=z.arrow)==null?void 0:ue.y,J=((V=z.arrow)==null?void 0:V.centerOffset)!==0,[ne,ie]=S.useState();return ui(()=>{b&&ie(window.getComputedStyle(b).zIndex)},[b]),l("div",{ref:G.setFloating,"data-radix-popper-content-wrapper":"",style:{...Z,transform:W?Z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ne,"--radix-popper-transform-origin":[(se=z.transformOrigin)==null?void 0:se.x,(fe=z.transformOrigin)==null?void 0:fe.y].join(" "),...((te=z.hide)==null?void 0:te.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l(cfe,{scope:r,placedSide:U,onArrowChange:C,arrowX:D,arrowY:K,shouldHideArrow:J,children:l(xr.div,{"data-side":U,"data-align":Y,...g,ref:N,style:{...g.style,animation:W?void 0:"none"}})})})});jG.displayName=_D;var $G="PopperArrow",dfe={top:"bottom",right:"left",bottom:"top",left:"right"},BG=S.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=ufe($G,n),s=dfe[i.placedSide];return l("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:l(ofe,{...a,ref:r,style:{...a.style,display:"block"}})})});BG.displayName=$G;function ffe(e){return e!==null}var hfe=e=>({name:"transformOrigin",options:e,fn(t){var y,b,_;const{placement:r,rects:n,middlewareData:a}=t,s=((y=a.arrow)==null?void 0:y.centerOffset)!==0,o=s?0:e.arrowWidth,c=s?0:e.arrowHeight,[u,d]=UG(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((b=a.arrow)==null?void 0:b.x)??0)+o/2,m=(((_=a.arrow)==null?void 0:_.y)??0)+c/2;let w="",g="";return u==="bottom"?(w=s?f:`${h}px`,g=`${-c}px`):u==="top"?(w=s?f:`${h}px`,g=`${n.floating.height+c}px`):u==="right"?(w=`${-c}px`,g=s?f:`${m}px`):u==="left"&&(w=`${n.floating.width+c}px`,g=s?f:`${m}px`),{data:{x:w,y:g}}}});function UG(e){const[t,r="center"]=e.split("-");return[t,r]}var O4=MG,Ww=LG,D4=jG,I4=BG,pfe="Portal",yy=S.forwardRef((e,t)=>{var o;const{container:r,...n}=e,[a,i]=S.useState(!1);ui(()=>i(!0),[]);const s=r||a&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return s?dle.createPortal(l(xr.div,{...n,ref:t}),s):null});yy.displayName=pfe;function mfe(e,t){return S.useReducer((r,n)=>t[r][n]??r,e)}var uo=e=>{const{present:t,children:r}=e,n=gfe(t),a=typeof r=="function"?r({present:n.isPresent}):S.Children.only(r),i=Jr(n.ref,vfe(a));return typeof r=="function"||n.isPresent?S.cloneElement(a,{ref:i}):null};uo.displayName="Presence";function gfe(e){const[t,r]=S.useState(),n=S.useRef({}),a=S.useRef(e),i=S.useRef("none"),s=e?"mounted":"unmounted",[o,c]=mfe(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const u=l_(n.current);i.current=o==="mounted"?u:"none"},[o]),ui(()=>{const u=n.current,d=a.current;if(d!==e){const h=i.current,m=l_(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),ui(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const g=l_(n.current).includes(m.animationName);if(m.target===t&&g&&(c("ANIMATION_END"),!a.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},h=m=>{m.target===t&&(i.current=l_(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:S.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function l_(e){return(e==null?void 0:e.animationName)||"none"}function vfe(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var w3="rovingFocusGroup.onEntryFocus",yfe={bubbles:!1,cancelable:!0},Vw="RovingFocusGroup",[v6,qG,xfe]=Uw(Vw),[wfe,xy]=ts(Vw,[xfe]),[bfe,_fe]=wfe(Vw),zG=S.forwardRef((e,t)=>l(v6.Provider,{scope:e.__scopeRovingFocusGroup,children:l(v6.Slot,{scope:e.__scopeRovingFocusGroup,children:l(Sfe,{...e,ref:t})})}));zG.displayName=Vw;var Sfe=S.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:s,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=S.useRef(null),m=Jr(t,h),w=Sg(i),[g,y]=hl({prop:s,defaultProp:o??null,onChange:c,caller:Vw}),[b,_]=S.useState(!1),N=Di(u),E=qG(r),C=S.useRef(!1),[O,P]=S.useState(0);return S.useEffect(()=>{const M=h.current;if(M)return M.addEventListener(w3,N),()=>M.removeEventListener(w3,N)},[N]),l(bfe,{scope:r,orientation:n,dir:w,loop:a,currentTabStopId:g,onItemFocus:S.useCallback(M=>y(M),[y]),onItemShiftTab:S.useCallback(()=>_(!0),[]),onFocusableItemAdd:S.useCallback(()=>P(M=>M+1),[]),onFocusableItemRemove:S.useCallback(()=>P(M=>M-1),[]),children:l(xr.div,{tabIndex:b||O===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:Ht(e.onMouseDown,()=>{C.current=!0}),onFocus:Ht(e.onFocus,M=>{const L=!C.current;if(M.target===M.currentTarget&&L&&!b){const j=new CustomEvent(w3,yfe);if(M.currentTarget.dispatchEvent(j),!j.defaultPrevented){const T=E().filter(re=>re.focusable),I=T.find(re=>re.active),B=T.find(re=>re.id===g),Z=[I,B,...T].filter(Boolean).map(re=>re.ref.current);HG(Z,d)}}C.current=!1}),onBlur:Ht(e.onBlur,()=>_(!1))})})}),WG="RovingFocusGroupItem",VG=S.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:s,...o}=e,c=$l(),u=i||c,d=_fe(WG,r),f=d.currentTabStopId===u,h=qG(r),{onFocusableItemAdd:m,onFocusableItemRemove:w,currentTabStopId:g}=d;return S.useEffect(()=>{if(n)return m(),()=>w()},[n,m,w]),l(v6.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:l(xr.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...o,ref:t,onMouseDown:Ht(e.onMouseDown,y=>{n?d.onItemFocus(u):y.preventDefault()}),onFocus:Ht(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:Ht(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){d.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const b=kfe(y,d.orientation,d.dir);if(b!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let N=h().filter(E=>E.focusable).map(E=>E.ref.current);if(b==="last")N.reverse();else if(b==="prev"||b==="next"){b==="prev"&&N.reverse();const E=N.indexOf(y.currentTarget);N=d.loop?Efe(N,E+1):N.slice(E+1)}setTimeout(()=>HG(N))}}),children:typeof s=="function"?s({isCurrentTabStop:f,hasTabStop:g!=null}):s})})});VG.displayName=WG;var Nfe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Afe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function kfe(e,t,r){const n=Afe(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Nfe[n]}function HG(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function Efe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var SD=zG,ND=VG,Cfe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},pv=new WeakMap,c_=new WeakMap,u_={},b3=0,GG=function(e){return e&&(e.host||GG(e.parentNode))},Pfe=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=GG(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Tfe=function(e,t,r,n){var a=Pfe(t,Array.isArray(e)?e:[e]);u_[r]||(u_[r]=new WeakMap);var i=u_[r],s=[],o=new Set,c=new Set(a),u=function(f){!f||o.has(f)||(o.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(o.has(h))d(h);else try{var m=h.getAttribute(n),w=m!==null&&m!=="false",g=(pv.get(h)||0)+1,y=(i.get(h)||0)+1;pv.set(h,g),i.set(h,y),s.push(h),g===1&&w&&c_.set(h,!0),y===1&&h.setAttribute(r,"true"),w||h.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",h,b)}})};return d(t),o.clear(),b3++,function(){s.forEach(function(f){var h=pv.get(f)-1,m=i.get(f)-1;pv.set(f,h),i.set(f,m),h||(c_.has(f)||f.removeAttribute(n),c_.delete(f)),m||f.removeAttribute(r)}),b3--,b3||(pv=new WeakMap,pv=new WeakMap,c_=new WeakMap,u_={})}},R4=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=Cfe(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),Tfe(n,a,r,"aria-hidden")):function(){return null}},Hd=function(){return Hd=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Hd.apply(this,arguments)};function YG(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function Ofe(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var r5="right-scroll-bar-position",n5="width-before-scroll-bar",Dfe="with-scroll-bars-hidden",Ife="--removed-body-scroll-bar-size";function _3(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Rfe(e,t){var r=S.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var Mfe=typeof window<"u"?S.useLayoutEffect:S.useEffect,RF=new WeakMap;function Ffe(e,t){var r=Rfe(null,function(n){return e.forEach(function(a){return _3(a,n)})});return Mfe(function(){var n=RF.get(r);if(n){var a=new Set(n),i=new Set(e),s=r.current;a.forEach(function(o){i.has(o)||_3(o,null)}),i.forEach(function(o){a.has(o)||_3(o,s)})}RF.set(r,e)},[e]),r}function Lfe(e){return e}function jfe(e,t){t===void 0&&(t=Lfe);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var s=t(i,n);return r.push(s),function(){r=r.filter(function(o){return o!==s})}},assignSyncMedium:function(i){for(n=!0;r.length;){var s=r;r=[],s.forEach(i)}r={push:function(o){return i(o)},filter:function(){return r}}},assignMedium:function(i){n=!0;var s=[];if(r.length){var o=r;r=[],o.forEach(i),s=r}var c=function(){var d=s;s=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){s.push(d),u()},filter:function(d){return s=s.filter(d),r}}}};return a}function $fe(e){e===void 0&&(e={});var t=jfe(null);return t.options=Hd({async:!0,ssr:!1},e),t}var KG=function(e){var t=e.sideCar,r=YG(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return S.createElement(n,Hd({},r))};KG.isSideCarExport=!0;function Bfe(e,t){return e.useMedium(t),KG}var XG=$fe(),S3=function(){},M4=S.forwardRef(function(e,t){var r=S.useRef(null),n=S.useState({onScrollCapture:S3,onWheelCapture:S3,onTouchMoveCapture:S3}),a=n[0],i=n[1],s=e.forwardProps,o=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noIsolation,w=e.inert,g=e.allowPinchZoom,y=e.as,b=y===void 0?"div":y,_=e.gapMode,N=YG(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=h,C=Ffe([r,t]),O=Hd(Hd({},N),a);return S.createElement(S.Fragment,null,d&&S.createElement(E,{sideCar:XG,removeScrollBar:u,shards:f,noIsolation:m,inert:w,setCallbacks:i,allowPinchZoom:!!g,lockRef:r,gapMode:_}),s?S.cloneElement(S.Children.only(o),Hd(Hd({},O),{ref:C})):S.createElement(b,Hd({},O,{className:c,ref:C}),o))});M4.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};M4.classNames={fullWidth:n5,zeroRight:r5};var Ufe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function qfe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Ufe();return t&&e.setAttribute("nonce",t),e}function zfe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Wfe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Vfe=function(){var e=0,t=null;return{add:function(r){e==0&&(t=qfe())&&(zfe(t,r),Wfe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Hfe=function(){var e=Vfe();return function(t,r){S.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},JG=function(){var e=Hfe(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},Gfe={left:0,top:0,right:0,gap:0},N3=function(e){return parseInt(e||"",10)||0},Yfe=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[N3(r),N3(n),N3(a)]},Kfe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Gfe;var t=Yfe(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},Xfe=JG(),Jv="data-scroll-locked",Jfe=function(e,t,r,n){var a=e.left,i=e.top,s=e.right,o=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Dfe,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(o,"px ").concat(n,`;
  }
  body[`).concat(Jv,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(o,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(r5,` {
    right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(n5,` {
    margin-right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(r5," .").concat(r5,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(n5," .").concat(n5,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Jv,`] {
    `).concat(Ife,": ").concat(o,`px;
  }
`)},MF=function(){var e=parseInt(document.body.getAttribute(Jv)||"0",10);return isFinite(e)?e:0},Zfe=function(){S.useEffect(function(){return document.body.setAttribute(Jv,(MF()+1).toString()),function(){var e=MF()-1;e<=0?document.body.removeAttribute(Jv):document.body.setAttribute(Jv,e.toString())}},[])},Qfe=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;Zfe();var i=S.useMemo(function(){return Kfe(a)},[a]);return S.createElement(Xfe,{styles:Jfe(i,!t,a,r?"":"!important")})},y6=!1;if(typeof window<"u")try{var d_=Object.defineProperty({},"passive",{get:function(){return y6=!0,!0}});window.addEventListener("test",d_,d_),window.removeEventListener("test",d_,d_)}catch{y6=!1}var mv=y6?{passive:!1}:!1,ehe=function(e){return e.tagName==="TEXTAREA"},ZG=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!ehe(e)&&r[t]==="visible")},the=function(e){return ZG(e,"overflowY")},rhe=function(e){return ZG(e,"overflowX")},FF=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=QG(e,n);if(a){var i=eY(e,n),s=i[1],o=i[2];if(s>o)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},nhe=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},ahe=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},QG=function(e,t){return e==="v"?the(t):rhe(t)},eY=function(e,t){return e==="v"?nhe(t):ahe(t)},ihe=function(e,t){return e==="h"&&t==="rtl"?-1:1},she=function(e,t,r,n,a){var i=ihe(e,window.getComputedStyle(t).direction),s=i*n,o=r.target,c=t.contains(o),u=!1,d=s>0,f=0,h=0;do{var m=eY(e,o),w=m[0],g=m[1],y=m[2],b=g-y-i*w;(w||b)&&QG(e,o)&&(f+=b,h+=w),o instanceof ShadowRoot?o=o.host:o=o.parentNode}while(!c&&o!==document.body||c&&(t.contains(o)||t===o));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},f_=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},LF=function(e){return[e.deltaX,e.deltaY]},jF=function(e){return e&&"current"in e?e.current:e},ohe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},lhe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},che=0,gv=[];function uhe(e){var t=S.useRef([]),r=S.useRef([0,0]),n=S.useRef(),a=S.useState(che++)[0],i=S.useState(JG)[0],s=S.useRef(e);S.useEffect(function(){s.current=e},[e]),S.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var g=Ofe([e.lockRef.current],(e.shards||[]).map(jF),!0).filter(Boolean);return g.forEach(function(y){return y.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),g.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var o=S.useCallback(function(g,y){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!s.current.allowPinchZoom;var b=f_(g),_=r.current,N="deltaX"in g?g.deltaX:_[0]-b[0],E="deltaY"in g?g.deltaY:_[1]-b[1],C,O=g.target,P=Math.abs(N)>Math.abs(E)?"h":"v";if("touches"in g&&P==="h"&&O.type==="range")return!1;var M=FF(P,O);if(!M)return!0;if(M?C=P:(C=P==="v"?"h":"v",M=FF(P,O)),!M)return!1;if(!n.current&&"changedTouches"in g&&(N||E)&&(n.current=C),!C)return!0;var L=n.current||C;return she(L,y,g,L==="h"?N:E)},[]),c=S.useCallback(function(g){var y=g;if(!(!gv.length||gv[gv.length-1]!==i)){var b="deltaY"in y?LF(y):f_(y),_=t.current.filter(function(C){return C.name===y.type&&(C.target===y.target||y.target===C.shadowParent)&&ohe(C.delta,b)})[0];if(_&&_.should){y.cancelable&&y.preventDefault();return}if(!_){var N=(s.current.shards||[]).map(jF).filter(Boolean).filter(function(C){return C.contains(y.target)}),E=N.length>0?o(y,N[0]):!s.current.noIsolation;E&&y.cancelable&&y.preventDefault()}}},[]),u=S.useCallback(function(g,y,b,_){var N={name:g,delta:y,target:b,should:_,shadowParent:dhe(b)};t.current.push(N),setTimeout(function(){t.current=t.current.filter(function(E){return E!==N})},1)},[]),d=S.useCallback(function(g){r.current=f_(g),n.current=void 0},[]),f=S.useCallback(function(g){u(g.type,LF(g),g.target,o(g,e.lockRef.current))},[]),h=S.useCallback(function(g){u(g.type,f_(g),g.target,o(g,e.lockRef.current))},[]);S.useEffect(function(){return gv.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,mv),document.addEventListener("touchmove",c,mv),document.addEventListener("touchstart",d,mv),function(){gv=gv.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,mv),document.removeEventListener("touchmove",c,mv),document.removeEventListener("touchstart",d,mv)}},[]);var m=e.removeScrollBar,w=e.inert;return S.createElement(S.Fragment,null,w?S.createElement(i,{styles:lhe(a)}):null,m?S.createElement(Qfe,{gapMode:e.gapMode}):null)}function dhe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const fhe=Bfe(XG,uhe);var Hw=S.forwardRef(function(e,t){return S.createElement(M4,Hd({},e,{ref:t,sideCar:fhe}))});Hw.classNames=M4.classNames;var x6=["Enter"," "],hhe=["ArrowDown","PageUp","Home"],tY=["ArrowUp","PageDown","End"],phe=[...hhe,...tY],mhe={ltr:[...x6,"ArrowRight"],rtl:[...x6,"ArrowLeft"]},ghe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Gw="Menu",[xx,vhe,yhe]=Uw(Gw),[Ag,rY]=ts(Gw,[yhe,Pm,xy]),F4=Pm(),nY=xy(),[xhe,kg]=Ag(Gw),[whe,Yw]=Ag(Gw),aY=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:i,modal:s=!0}=e,o=F4(t),[c,u]=S.useState(null),d=S.useRef(!1),f=Di(i),h=Sg(a);return S.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),l(O4,{...o,children:l(xhe,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:l(whe,{scope:t,onClose:S.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:s,children:n})})})};aY.displayName=Gw;var bhe="MenuAnchor",AD=S.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=F4(r);return l(Ww,{...a,...n,ref:t})});AD.displayName=bhe;var kD="MenuPortal",[_he,iY]=Ag(kD,{forceMount:void 0}),sY=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,i=kg(kD,t);return l(_he,{scope:t,forceMount:r,children:l(uo,{present:r||i.open,children:l(yy,{asChild:!0,container:a,children:n})})})};sY.displayName=kD;var tu="MenuContent",[She,ED]=Ag(tu),oY=S.forwardRef((e,t)=>{const r=iY(tu,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=kg(tu,e.__scopeMenu),s=Yw(tu,e.__scopeMenu);return l(xx.Provider,{scope:e.__scopeMenu,children:l(uo,{present:n||i.open,children:l(xx.Slot,{scope:e.__scopeMenu,children:s.modal?l(Nhe,{...a,ref:t}):l(Ahe,{...a,ref:t})})})})}),Nhe=S.forwardRef((e,t)=>{const r=kg(tu,e.__scopeMenu),n=S.useRef(null),a=Jr(t,n);return S.useEffect(()=>{const i=n.current;if(i)return R4(i)},[]),l(CD,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Ht(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Ahe=S.forwardRef((e,t)=>{const r=kg(tu,e.__scopeMenu);return l(CD,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),khe=cm("MenuContent.ScrollLock"),CD=S.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:w,...g}=e,y=kg(tu,r),b=Yw(tu,r),_=F4(r),N=nY(r),E=vhe(r),[C,O]=S.useState(null),P=S.useRef(null),M=Jr(t,P,y.onContentChange),L=S.useRef(0),j=S.useRef(""),T=S.useRef(0),I=S.useRef(null),B=S.useRef("right"),G=S.useRef(0),Z=w?Hw:S.Fragment,re=w?{as:khe,allowPinchZoom:!0}:void 0,W=U=>{var oe,ue;const Y=j.current+U,Q=E().filter(V=>!V.disabled),D=document.activeElement,K=(oe=Q.find(V=>V.ref.current===D))==null?void 0:oe.textValue,J=Q.map(V=>V.textValue),ne=jhe(J,Y,K),ie=(ue=Q.find(V=>V.textValue===ne))==null?void 0:ue.ref.current;(function V(se){j.current=se,window.clearTimeout(L.current),se!==""&&(L.current=window.setTimeout(()=>V(""),1e3))})(Y),ie&&setTimeout(()=>ie.focus())};S.useEffect(()=>()=>window.clearTimeout(L.current),[]),k4();const z=S.useCallback(U=>{var Q,D;return B.current===((Q=I.current)==null?void 0:Q.side)&&Bhe(U,(D=I.current)==null?void 0:D.area)},[]);return l(She,{scope:r,searchRef:j,onItemEnter:S.useCallback(U=>{z(U)&&U.preventDefault()},[z]),onItemLeave:S.useCallback(U=>{var Y;z(U)||((Y=P.current)==null||Y.focus(),O(null))},[z]),onTriggerLeave:S.useCallback(U=>{z(U)&&U.preventDefault()},[z]),pointerGraceTimerRef:T,onPointerGraceIntentChange:S.useCallback(U=>{I.current=U},[]),children:l(Z,{...re,children:l(qw,{asChild:!0,trapped:a,onMountAutoFocus:Ht(i,U=>{var Y;U.preventDefault(),(Y=P.current)==null||Y.focus({preventScroll:!0})}),onUnmountAutoFocus:s,children:l(Ng,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:l(SD,{asChild:!0,...N,dir:b.dir,orientation:"vertical",loop:n,currentTabStopId:C,onCurrentTabStopIdChange:O,onEntryFocus:Ht(c,U=>{b.isUsingKeyboardRef.current||U.preventDefault()}),preventScrollOnEntryFocus:!0,children:l(D4,{role:"menu","aria-orientation":"vertical","data-state":SY(y.open),"data-radix-menu-content":"",dir:b.dir,..._,...g,ref:M,style:{outline:"none",...g.style},onKeyDown:Ht(g.onKeyDown,U=>{const Q=U.target.closest("[data-radix-menu-content]")===U.currentTarget,D=U.ctrlKey||U.altKey||U.metaKey,K=U.key.length===1;Q&&(U.key==="Tab"&&U.preventDefault(),!D&&K&&W(U.key));const J=P.current;if(U.target!==J||!phe.includes(U.key))return;U.preventDefault();const ie=E().filter(oe=>!oe.disabled).map(oe=>oe.ref.current);tY.includes(U.key)&&ie.reverse(),Fhe(ie)}),onBlur:Ht(e.onBlur,U=>{U.currentTarget.contains(U.target)||(window.clearTimeout(L.current),j.current="")}),onPointerMove:Ht(e.onPointerMove,wx(U=>{const Y=U.target,Q=G.current!==U.clientX;if(U.currentTarget.contains(Y)&&Q){const D=U.clientX>G.current?"right":"left";B.current=D,G.current=U.clientX}}))})})})})})})});oY.displayName=tu;var Ehe="MenuGroup",PD=S.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return l(xr.div,{role:"group",...n,ref:t})});PD.displayName=Ehe;var Che="MenuLabel",lY=S.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return l(xr.div,{...n,ref:t})});lY.displayName=Che;var T5="MenuItem",$F="menu.itemSelect",L4=S.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,i=S.useRef(null),s=Yw(T5,e.__scopeMenu),o=ED(T5,e.__scopeMenu),c=Jr(t,i),u=S.useRef(!1),d=()=>{const f=i.current;if(!r&&f){const h=new CustomEvent($F,{bubbles:!0,cancelable:!0});f.addEventListener($F,m=>n==null?void 0:n(m),{once:!0}),hD(f,h),h.defaultPrevented?u.current=!1:s.onClose()}};return l(cY,{...a,ref:c,disabled:r,onClick:Ht(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:Ht(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:Ht(e.onKeyDown,f=>{const h=o.searchRef.current!=="";r||h&&f.key===" "||x6.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});L4.displayName=T5;var cY=S.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...i}=e,s=ED(T5,r),o=nY(r),c=S.useRef(null),u=Jr(t,c),[d,f]=S.useState(!1),[h,m]=S.useState("");return S.useEffect(()=>{const w=c.current;w&&m((w.textContent??"").trim())},[i.children]),l(xx.ItemSlot,{scope:r,disabled:n,textValue:a??h,children:l(ND,{asChild:!0,...o,focusable:!n,children:l(xr.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:Ht(e.onPointerMove,wx(w=>{n?s.onItemLeave(w):(s.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ht(e.onPointerLeave,wx(w=>s.onItemLeave(w))),onFocus:Ht(e.onFocus,()=>f(!0)),onBlur:Ht(e.onBlur,()=>f(!1))})})})}),Phe="MenuCheckboxItem",uY=S.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return l(mY,{scope:e.__scopeMenu,checked:r,children:l(L4,{role:"menuitemcheckbox","aria-checked":O5(r)?"mixed":r,...a,ref:t,"data-state":OD(r),onSelect:Ht(a.onSelect,()=>n==null?void 0:n(O5(r)?!0:!r),{checkForDefaultPrevented:!1})})})});uY.displayName=Phe;var dY="MenuRadioGroup",[The,Ohe]=Ag(dY,{value:void 0,onValueChange:()=>{}}),fY=S.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,i=Di(n);return l(The,{scope:e.__scopeMenu,value:r,onValueChange:i,children:l(PD,{...a,ref:t})})});fY.displayName=dY;var hY="MenuRadioItem",pY=S.forwardRef((e,t)=>{const{value:r,...n}=e,a=Ohe(hY,e.__scopeMenu),i=r===a.value;return l(mY,{scope:e.__scopeMenu,checked:i,children:l(L4,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":OD(i),onSelect:Ht(n.onSelect,()=>{var s;return(s=a.onValueChange)==null?void 0:s.call(a,r)},{checkForDefaultPrevented:!1})})})});pY.displayName=hY;var TD="MenuItemIndicator",[mY,Dhe]=Ag(TD,{checked:!1}),gY=S.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,i=Dhe(TD,r);return l(uo,{present:n||O5(i.checked)||i.checked===!0,children:l(xr.span,{...a,ref:t,"data-state":OD(i.checked)})})});gY.displayName=TD;var Ihe="MenuSeparator",vY=S.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return l(xr.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});vY.displayName=Ihe;var Rhe="MenuArrow",yY=S.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=F4(r);return l(I4,{...a,...n,ref:t})});yY.displayName=Rhe;var Mhe="MenuSub",[HZe,xY]=Ag(Mhe),C2="MenuSubTrigger",wY=S.forwardRef((e,t)=>{const r=kg(C2,e.__scopeMenu),n=Yw(C2,e.__scopeMenu),a=xY(C2,e.__scopeMenu),i=ED(C2,e.__scopeMenu),s=S.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},d=S.useCallback(()=>{s.current&&window.clearTimeout(s.current),s.current=null},[]);return S.useEffect(()=>d,[d]),S.useEffect(()=>{const f=o.current;return()=>{window.clearTimeout(f),c(null)}},[o,c]),l(AD,{asChild:!0,...u,children:l(cY,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":SY(r.open),...e,ref:A4(t,a.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Ht(e.onPointerMove,wx(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!s.current&&(i.onPointerGraceIntentChange(null),s.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:Ht(e.onPointerLeave,wx(f=>{var m,w;d();const h=(m=r.content)==null?void 0:m.getBoundingClientRect();if(h){const g=(w=r.content)==null?void 0:w.dataset.side,y=g==="right",b=y?-5:5,_=h[y?"left":"right"],N=h[y?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+b,y:f.clientY},{x:_,y:h.top},{x:N,y:h.top},{x:N,y:h.bottom},{x:_,y:h.bottom}],side:g}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Ht(e.onKeyDown,f=>{var m;const h=i.searchRef.current!=="";e.disabled||h&&f.key===" "||mhe[n.dir].includes(f.key)&&(r.onOpenChange(!0),(m=r.content)==null||m.focus(),f.preventDefault())})})})});wY.displayName=C2;var bY="MenuSubContent",_Y=S.forwardRef((e,t)=>{const r=iY(tu,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=kg(tu,e.__scopeMenu),s=Yw(tu,e.__scopeMenu),o=xY(bY,e.__scopeMenu),c=S.useRef(null),u=Jr(t,c);return l(xx.Provider,{scope:e.__scopeMenu,children:l(uo,{present:n||i.open,children:l(xx.Slot,{scope:e.__scopeMenu,children:l(CD,{id:o.contentId,"aria-labelledby":o.triggerId,...a,ref:u,align:"start",side:s.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;s.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Ht(e.onFocusOutside,d=>{d.target!==o.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Ht(e.onEscapeKeyDown,d=>{s.onClose(),d.preventDefault()}),onKeyDown:Ht(e.onKeyDown,d=>{var m;const f=d.currentTarget.contains(d.target),h=ghe[s.dir].includes(d.key);f&&h&&(i.onOpenChange(!1),(m=o.trigger)==null||m.focus(),d.preventDefault())})})})})})});_Y.displayName=bY;function SY(e){return e?"open":"closed"}function O5(e){return e==="indeterminate"}function OD(e){return O5(e)?"indeterminate":e?"checked":"unchecked"}function Fhe(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function Lhe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function jhe(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let s=Lhe(e,Math.max(i,0));a.length===1&&(s=s.filter(u=>u!==r));const c=s.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function $he(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,s=t.length-1;i<t.length;s=i++){const o=t[i],c=t[s],u=o.x,d=o.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(a=!a)}return a}function Bhe(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return $he(r,t)}function wx(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Uhe=aY,qhe=AD,zhe=sY,Whe=oY,Vhe=PD,Hhe=lY,Ghe=L4,Yhe=uY,Khe=fY,Xhe=pY,Jhe=gY,Zhe=vY,Qhe=yY,epe=wY,tpe=_Y,j4="DropdownMenu",[rpe,GZe]=ts(j4,[rY]),gl=rY(),[npe,NY]=rpe(j4),AY=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:i,onOpenChange:s,modal:o=!0}=e,c=gl(t),u=S.useRef(null),[d,f]=hl({prop:a,defaultProp:i??!1,onChange:s,caller:j4});return l(npe,{scope:t,triggerId:$l(),triggerRef:u,contentId:$l(),open:d,onOpenChange:f,onOpenToggle:S.useCallback(()=>f(h=>!h),[f]),modal:o,children:l(Uhe,{...c,open:d,onOpenChange:f,dir:n,modal:o,children:r})})};AY.displayName=j4;var kY="DropdownMenuTrigger",EY=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,i=NY(kY,r),s=gl(r);return l(qhe,{asChild:!0,...s,children:l(xr.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:A4(t,i.triggerRef),onPointerDown:Ht(e.onPointerDown,o=>{!n&&o.button===0&&o.ctrlKey===!1&&(i.onOpenToggle(),i.open||o.preventDefault())}),onKeyDown:Ht(e.onKeyDown,o=>{n||(["Enter"," "].includes(o.key)&&i.onOpenToggle(),o.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})})});EY.displayName=kY;var ape="DropdownMenuPortal",CY=e=>{const{__scopeDropdownMenu:t,...r}=e,n=gl(t);return l(zhe,{...n,...r})};CY.displayName=ape;var PY="DropdownMenuContent",TY=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=NY(PY,r),i=gl(r),s=S.useRef(!1);return l(Whe,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...n,ref:t,onCloseAutoFocus:Ht(e.onCloseAutoFocus,o=>{var c;s.current||(c=a.triggerRef.current)==null||c.focus(),s.current=!1,o.preventDefault()}),onInteractOutside:Ht(e.onInteractOutside,o=>{const c=o.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!a.modal||d)&&(s.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});TY.displayName=PY;var ipe="DropdownMenuGroup",spe=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=gl(r);return l(Vhe,{...a,...n,ref:t})});spe.displayName=ipe;var ope="DropdownMenuLabel",OY=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=gl(r);return l(Hhe,{...a,...n,ref:t})});OY.displayName=ope;var lpe="DropdownMenuItem",DY=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=gl(r);return l(Ghe,{...a,...n,ref:t})});DY.displayName=lpe;var cpe="DropdownMenuCheckboxItem",IY=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=gl(r);return l(Yhe,{...a,...n,ref:t})});IY.displayName=cpe;var upe="DropdownMenuRadioGroup",dpe=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=gl(r);return l(Khe,{...a,...n,ref:t})});dpe.displayName=upe;var fpe="DropdownMenuRadioItem",RY=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=gl(r);return l(Xhe,{...a,...n,ref:t})});RY.displayName=fpe;var hpe="DropdownMenuItemIndicator",MY=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=gl(r);return l(Jhe,{...a,...n,ref:t})});MY.displayName=hpe;var ppe="DropdownMenuSeparator",FY=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=gl(r);return l(Zhe,{...a,...n,ref:t})});FY.displayName=ppe;var mpe="DropdownMenuArrow",gpe=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=gl(r);return l(Qhe,{...a,...n,ref:t})});gpe.displayName=mpe;var vpe="DropdownMenuSubTrigger",LY=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=gl(r);return l(epe,{...a,...n,ref:t})});LY.displayName=vpe;var ype="DropdownMenuSubContent",jY=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=gl(r);return l(tpe,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});jY.displayName=ype;var xpe=AY,wpe=EY,bpe=CY,$Y=TY,BY=OY,UY=DY,qY=IY,zY=RY,WY=MY,VY=FY,HY=LY,GY=jY;const _pe=xpe,Spe=wpe,Npe=S.forwardRef(({className:e,inset:t,children:r,...n},a)=>x(HY,{ref:a,className:Lt("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,l(om,{className:"ml-auto h-4 w-4"})]}));Npe.displayName=HY.displayName;const Ape=S.forwardRef(({className:e,...t},r)=>l(GY,{ref:r,className:Lt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));Ape.displayName=GY.displayName;const YY=S.forwardRef(({className:e,sideOffset:t=4,...r},n)=>l(bpe,{children:l($Y,{ref:n,sideOffset:t,className:Lt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));YY.displayName=$Y.displayName;const P2=S.forwardRef(({className:e,inset:t,...r},n)=>l(UY,{ref:n,className:Lt("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));P2.displayName=UY.displayName;const kpe=S.forwardRef(({className:e,children:t,checked:r,...n},a)=>x(qY,{ref:a,className:Lt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[l("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l(WY,{children:l(v1,{className:"h-4 w-4"})})}),t]}));kpe.displayName=qY.displayName;const Epe=S.forwardRef(({className:e,children:t,...r},n)=>x(zY,{ref:n,className:Lt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[l("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l(WY,{children:l(eG,{className:"h-2 w-2 fill-current"})})}),t]}));Epe.displayName=zY.displayName;const KY=S.forwardRef(({className:e,inset:t,...r},n)=>l(BY,{ref:n,className:Lt("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));KY.displayName=BY.displayName;const w6=S.forwardRef(({className:e,...t},r)=>l(VY,{ref:r,className:Lt("-mx-1 my-1 h-px bg-muted",e),...t}));w6.displayName=VY.displayName;const dt=S.forwardRef(({className:e,type:t,...r},n)=>l("input",{type:t,className:Lt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));dt.displayName="Input";var A3={exports:{}},k3={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BF;function Cpe(){if(BF)return k3;BF=1;var e=v4();function t(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,i=e.useLayoutEffect,s=e.useDebugValue;function o(f,h){var m=h(),w=n({inst:{value:m,getSnapshot:h}}),g=w[0].inst,y=w[1];return i(function(){g.value=m,g.getSnapshot=h,c(g)&&y({inst:g})},[f,m,h]),a(function(){return c(g)&&y({inst:g}),f(function(){c(g)&&y({inst:g})})},[f]),s(m),m}function c(f){var h=f.getSnapshot;f=f.value;try{var m=h();return!r(f,m)}catch{return!0}}function u(f,h){return h()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:o;return k3.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:d,k3}var UF;function Ppe(){return UF||(UF=1,A3.exports=Cpe()),A3.exports}var Tpe=Ppe();function Ope(){return Tpe.useSyncExternalStore(Dpe,()=>!0,()=>!1)}function Dpe(){return()=>{}}var DD="Avatar",[Ipe,YZe]=ts(DD),[Rpe,XY]=Ipe(DD),JY=S.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,i]=S.useState("idle");return l(Rpe,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:l(xr.span,{...n,ref:t})})});JY.displayName=DD;var ZY="AvatarImage",QY=S.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=e,s=XY(ZY,r),o=Mpe(n,i),c=Di(u=>{a(u),s.onImageLoadingStatusChange(u)});return ui(()=>{o!=="idle"&&c(o)},[o,c]),o==="loaded"?l(xr.img,{...i,ref:t,src:n}):null});QY.displayName=ZY;var eK="AvatarFallback",tK=S.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,i=XY(eK,r),[s,o]=S.useState(n===void 0);return S.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>o(!0),n);return()=>window.clearTimeout(c)}},[n]),s&&i.imageLoadingStatus!=="loaded"?l(xr.span,{...a,ref:t}):null});tK.displayName=eK;function qF(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Mpe(e,{referrerPolicy:t,crossOrigin:r}){const n=Ope(),a=S.useRef(null),i=n?(a.current||(a.current=new window.Image),a.current):null,[s,o]=S.useState(()=>qF(i,e));return ui(()=>{o(qF(i,e))},[i,e]),ui(()=>{const c=f=>()=>{o(f)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,r,t]),s}var rK=JY,nK=QY,aK=tK;const $4=S.forwardRef(({className:e,...t},r)=>l(rK,{ref:r,className:Lt("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));$4.displayName=rK.displayName;const ID=S.forwardRef(({className:e,...t},r)=>l(nK,{ref:r,className:Lt("aspect-square h-full w-full",e),...t}));ID.displayName=nK.displayName;const B4=S.forwardRef(({className:e,...t},r)=>l(aK,{ref:r,className:Lt("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));B4.displayName=aK.displayName;const Fpe="modulepreload",Lpe=function(e){return"/DentalCare-Pro/"+e},zF={},nd=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){let s=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=s(r.map(u=>{if(u=Lpe(u),u in zF)return;zF[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":Fpe,d||(h.as="script"),h.crossOrigin="",h.href=u,c&&h.setAttribute("nonce",c),document.head.appendChild(h),d)return new Promise((m,w)=>{h.addEventListener("load",m),h.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return a.then(s=>{for(const o of s||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})},jpe=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>nd(async()=>{const{default:n}=await Promise.resolve().then(()=>wy);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class RD extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class $pe extends RD{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Bpe extends RD{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Upe extends RD{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var b6;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(b6||(b6={}));var qpe=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};class zpe{constructor(t,{headers:r={},customFetch:n,region:a=b6.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=jpe(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return qpe(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:s}=r;let o={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(o["x-region"]=c);let u;s&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",u=s):typeof s=="string"?(o["Content-Type"]="text/plain",u=s):typeof FormData<"u"&&s instanceof FormData?u=s:(o["Content-Type"]="application/json",u=JSON.stringify(s)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),a),body:u}).catch(w=>{throw new $pe(w)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new Bpe(d);if(!d.ok)throw new Upe(d);let h=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),m;return h==="application/json"?m=yield d.json():h==="application/octet-stream"?m=yield d.blob():h==="text/event-stream"?m=d:h==="multipart/form-data"?m=yield d.formData():m=yield d.text(),{data:m,error:null}}catch(a){return{data:null,error:a}}})}}var Is={},vv={},yv={},xv={},wv={},bv={},Wpe=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},w1=Wpe();const Vpe=w1.fetch,iK=w1.fetch.bind(w1),sK=w1.Headers,Hpe=w1.Request,Gpe=w1.Response,wy=Object.freeze(Object.defineProperty({__proto__:null,Headers:sK,Request:Hpe,Response:Gpe,default:iK,fetch:Vpe},Symbol.toStringTag,{value:"Module"})),Ype=ale(wy);var h_={},WF;function oK(){if(WF)return h_;WF=1,Object.defineProperty(h_,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return h_.default=e,h_}var VF;function lK(){if(VF)return bv;VF=1;var e=bv&&bv.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(bv,"__esModule",{value:!0});const t=e(Ype),r=e(oK());class n{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,s){return this.headers=Object.assign({},this.headers),this.headers[i]=s,this}then(i,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const o=this.fetch;let c=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,f,h;let m=null,w=null,g=null,y=u.status,b=u.statusText;if(u.ok){if(this.method!=="HEAD"){const C=await u.text();C===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?w=C:w=JSON.parse(C))}const N=(d=this.headers.Prefer)===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),E=(f=u.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");N&&E&&E.length>1&&(g=parseInt(E[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(m={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,g=null,y=406,b="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const N=await u.text();try{m=JSON.parse(N),Array.isArray(m)&&u.status===404&&(w=[],m=null,y=200,b="OK")}catch{u.status===404&&N===""?(y=204,b="No Content"):m={message:N}}if(m&&this.isMaybeSingle&&(!((h=m==null?void 0:m.details)===null||h===void 0)&&h.includes("0 rows"))&&(m=null,y=200,b="OK"),m&&this.shouldThrowOnError)throw new r.default(m)}return{error:m,data:w,count:g,status:y,statusText:b}});return this.shouldThrowOnError||(c=c.catch(u=>{var d,f,h;return{error:{message:`${(d=u==null?void 0:u.name)!==null&&d!==void 0?d:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(f=u==null?void 0:u.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(h=u==null?void 0:u.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),c.then(i,s)}returns(){return this}overrideTypes(){return this}}return bv.default=n,bv}var HF;function cK(){if(HF)return wv;HF=1;var e=wv&&wv.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(wv,"__esModule",{value:!0});const t=e(lK());class r extends t.default{select(a){let i=!1;const s=(a??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(a,{ascending:i=!0,nullsFirst:s,foreignTable:o,referencedTable:c=o}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${a}.${i?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:s=i}={}){const o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${a}`),this}range(a,i,{foreignTable:s,referencedTable:o=s}={}){const c=typeof o>"u"?"offset":`${o}.offset`,u=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(c,`${a}`),this.url.searchParams.set(u,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:a=!1,verbose:i=!1,settings:s=!1,buffers:o=!1,wal:c=!1,format:u="text"}={}){var d;const f=[a?"analyze":null,i?"verbose":null,s?"settings":null,o?"buffers":null,c?"wal":null].filter(Boolean).join("|"),h=(d=this.headers.Accept)!==null&&d!==void 0?d:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${h}"; options=${f};`,u==="json"?this:this}rollback(){var a;return((a=this.headers.Prefer)!==null&&a!==void 0?a:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return wv.default=r,wv}var GF;function MD(){if(GF)return xv;GF=1;var e=xv&&xv.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(xv,"__esModule",{value:!0});const t=e(cK());class r extends t.default{eq(a,i){return this.url.searchParams.append(a,`eq.${i}`),this}neq(a,i){return this.url.searchParams.append(a,`neq.${i}`),this}gt(a,i){return this.url.searchParams.append(a,`gt.${i}`),this}gte(a,i){return this.url.searchParams.append(a,`gte.${i}`),this}lt(a,i){return this.url.searchParams.append(a,`lt.${i}`),this}lte(a,i){return this.url.searchParams.append(a,`lte.${i}`),this}like(a,i){return this.url.searchParams.append(a,`like.${i}`),this}likeAllOf(a,i){return this.url.searchParams.append(a,`like(all).{${i.join(",")}}`),this}likeAnyOf(a,i){return this.url.searchParams.append(a,`like(any).{${i.join(",")}}`),this}ilike(a,i){return this.url.searchParams.append(a,`ilike.${i}`),this}ilikeAllOf(a,i){return this.url.searchParams.append(a,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(a,i){return this.url.searchParams.append(a,`ilike(any).{${i.join(",")}}`),this}is(a,i){return this.url.searchParams.append(a,`is.${i}`),this}in(a,i){const s=Array.from(new Set(i)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(a,`in.(${s})`),this}contains(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cs.{${i.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(i)}`),this}containedBy(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cd.{${i.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(i)}`),this}rangeGt(a,i){return this.url.searchParams.append(a,`sr.${i}`),this}rangeGte(a,i){return this.url.searchParams.append(a,`nxl.${i}`),this}rangeLt(a,i){return this.url.searchParams.append(a,`sl.${i}`),this}rangeLte(a,i){return this.url.searchParams.append(a,`nxr.${i}`),this}rangeAdjacent(a,i){return this.url.searchParams.append(a,`adj.${i}`),this}overlaps(a,i){return typeof i=="string"?this.url.searchParams.append(a,`ov.${i}`):this.url.searchParams.append(a,`ov.{${i.join(",")}}`),this}textSearch(a,i,{config:s,type:o}={}){let c="";o==="plain"?c="pl":o==="phrase"?c="ph":o==="websearch"&&(c="w");const u=s===void 0?"":`(${s})`;return this.url.searchParams.append(a,`${c}fts${u}.${i}`),this}match(a){return Object.entries(a).forEach(([i,s])=>{this.url.searchParams.append(i,`eq.${s}`)}),this}not(a,i,s){return this.url.searchParams.append(a,`not.${i}.${s}`),this}or(a,{foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.or`:"or";return this.url.searchParams.append(o,`(${a})`),this}filter(a,i,s){return this.url.searchParams.append(a,`${i}.${s}`),this}}return xv.default=r,xv}var YF;function uK(){if(YF)return yv;YF=1;var e=yv&&yv.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(yv,"__esModule",{value:!0});const t=e(MD());class r{constructor(a,{headers:i={},schema:s,fetch:o}){this.url=a,this.headers=i,this.schema=s,this.fetch=o}select(a,{head:i=!1,count:s}={}){const o=i?"HEAD":"GET";let c=!1;const u=(a??"*").split("").map(d=>/\s/.test(d)&&!c?"":(d==='"'&&(c=!c),d)).join("");return this.url.searchParams.set("select",u),s&&(this.headers.Prefer=`count=${s}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(a,{count:i,defaultToNull:s=!0}={}){const o="POST",c=[];if(this.headers.Prefer&&c.push(this.headers.Prefer),i&&c.push(`count=${i}`),s||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(a)){const u=a.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}upsert(a,{onConflict:i,ignoreDuplicates:s=!1,count:o,defaultToNull:c=!0}={}){const u="POST",d=[`resolution=${s?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&d.push(this.headers.Prefer),o&&d.push(`count=${o}`),c||d.push("missing=default"),this.headers.Prefer=d.join(","),Array.isArray(a)){const f=a.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(f.length>0){const h=[...new Set(f)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}update(a,{count:i}={}){const s="PATCH",o=[];return this.headers.Prefer&&o.push(this.headers.Prefer),i&&o.push(`count=${i}`),this.headers.Prefer=o.join(","),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}delete({count:a}={}){const i="DELETE",s=[];return a&&s.push(`count=${a}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new t.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return yv.default=r,yv}var i2={},s2={},KF;function Kpe(){return KF||(KF=1,Object.defineProperty(s2,"__esModule",{value:!0}),s2.version=void 0,s2.version="0.0.0-automated"),s2}var XF;function Xpe(){if(XF)return i2;XF=1,Object.defineProperty(i2,"__esModule",{value:!0}),i2.DEFAULT_HEADERS=void 0;const e=Kpe();return i2.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},i2}var JF;function Jpe(){if(JF)return vv;JF=1;var e=vv&&vv.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(vv,"__esModule",{value:!0});const t=e(uK()),r=e(MD()),n=Xpe();class a{constructor(s,{headers:o={},schema:c,fetch:u}={}){this.url=s,this.headers=Object.assign(Object.assign({},n.DEFAULT_HEADERS),o),this.schemaName=c,this.fetch=u}from(s){const o=new URL(`${this.url}/${s}`);return new t.default(o,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new a(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,o={},{head:c=!1,get:u=!1,count:d}={}){let f;const h=new URL(`${this.url}/rpc/${s}`);let m;c||u?(f=c?"HEAD":"GET",Object.entries(o).filter(([g,y])=>y!==void 0).map(([g,y])=>[g,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([g,y])=>{h.searchParams.append(g,y)})):(f="POST",m=o);const w=Object.assign({},this.headers);return d&&(w.Prefer=`count=${d}`),new r.default({method:f,url:h,headers:w,schema:this.schemaName,body:m,fetch:this.fetch,allowEmpty:!1})}}return vv.default=a,vv}var ZF;function Zpe(){if(ZF)return Is;ZF=1;var e=Is&&Is.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Is,"__esModule",{value:!0}),Is.PostgrestError=Is.PostgrestBuilder=Is.PostgrestTransformBuilder=Is.PostgrestFilterBuilder=Is.PostgrestQueryBuilder=Is.PostgrestClient=void 0;const t=e(Jpe());Is.PostgrestClient=t.default;const r=e(uK());Is.PostgrestQueryBuilder=r.default;const n=e(MD());Is.PostgrestFilterBuilder=n.default;const a=e(cK());Is.PostgrestTransformBuilder=a.default;const i=e(lK());Is.PostgrestBuilder=i.default;const s=e(oK());return Is.PostgrestError=s.default,Is.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:i.default,PostgrestError:s.default},Is}var Qpe=Zpe();const eme=ma(Qpe),{PostgrestClient:tme,PostgrestQueryBuilder:KZe,PostgrestFilterBuilder:XZe,PostgrestTransformBuilder:JZe,PostgrestBuilder:ZZe,PostgrestError:QZe}=eme,rme="2.11.2",nme={"X-Client-Info":`realtime-js/${rme}`},ame="1.0.0",dK=1e4,ime=1e3;var Zv;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Zv||(Zv={}));var ac;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ac||(ac={}));var ju;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ju||(ju={}));var _6;(function(e){e.websocket="websocket"})(_6||(_6={}));var T0;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(T0||(T0={}));class sme{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let s=this.HEADER_LENGTH+2;const o=n.decode(t.slice(s,s+a));s=s+a;const c=n.decode(t.slice(s,s+i));s=s+i;const u=JSON.parse(n.decode(t.slice(s,t.byteLength)));return{ref:null,topic:o,event:c,payload:u}}}class fK{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ja;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ja||(ja={}));const QF=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,s)=>(i[s]=ome(s,e,t,a),i),{})},ome=(e,t,r,n)=>{const a=t.find(o=>o.name===e),i=a==null?void 0:a.type,s=r[e];return i&&!n.includes(i)?hK(i,s):S6(s)},hK=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return dme(t,r)}switch(e){case ja.bool:return lme(t);case ja.float4:case ja.float8:case ja.int2:case ja.int4:case ja.int8:case ja.numeric:case ja.oid:return cme(t);case ja.json:case ja.jsonb:return ume(t);case ja.timestamp:return fme(t);case ja.abstime:case ja.date:case ja.daterange:case ja.int4range:case ja.int8range:case ja.money:case ja.reltime:case ja.text:case ja.time:case ja.timestamptz:case ja.timetz:case ja.tsrange:case ja.tstzrange:return S6(t);default:return S6(t)}},S6=e=>e,lme=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},cme=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},ume=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},dme=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const s=e.slice(1,r);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(o=>hK(t,o))}return e},fme=e=>typeof e=="string"?e.replace(" ","T"):e,pK=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class E3{constructor(t,r,n={},a=dK){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var eL;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(eL||(eL={}));class q2{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=q2.syncState(this.state,a,i,s),this.pendingDiffs.forEach(c=>{this.state=q2.syncDiff(this.state,c,i,s)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=q2.syncDiff(this.state,a,i,s),o())}),this.onJoin((a,i,s)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:s})}),this.onLeave((a,i,s)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),s=this.transformState(r),o={},c={};return this.map(i,(u,d)=>{s[u]||(c[u]=d)}),this.map(s,(u,d)=>{const f=i[u];if(f){const h=d.map(y=>y.presence_ref),m=f.map(y=>y.presence_ref),w=d.filter(y=>m.indexOf(y.presence_ref)<0),g=f.filter(y=>h.indexOf(y.presence_ref)<0);w.length>0&&(o[u]=w),g.length>0&&(c[u]=g)}else o[u]=d}),this.syncDiff(i,{joins:o,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(o,c)=>{var u;const d=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(c),d.length>0){const f=t[o].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[o].unshift(...h)}n(o,d,c)}),this.map(s,(o,c)=>{let u=t[o];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[o]=u,a(o,u,c),u.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var tL;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(tL||(tL={}));var rL;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(rL||(rL={}));var oc;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(oc||(oc={}));class FD{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=ac.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new E3(this,ju.join,this.params,this.timeout),this.rejoinTimer=new fK(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ac.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ac.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ac.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ac.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ju.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new q2(this),this.broadcastEndpointURL=pK(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:s,private:o}}=this.params;this._onError(d=>t==null?void 0:t(oc.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(oc.CLOSED));const c={},u={broadcast:i,presence:s,postgres_changes:(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&a!==void 0?a:[],private:o};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(oc.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,m=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,w=[];for(let g=0;g<m;g++){const y=h[g],{filter:{event:b,schema:_,table:N,filter:E}}=y,C=d&&d[g];if(C&&C.event===b&&C.schema===_&&C.table===N&&C.filter===E)w.push(Object.assign(Object.assign({},y),{id:C.id}));else{this.unsubscribe(),t==null||t(oc.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(oc.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(oc.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(oc.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:s}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,o,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ac.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ju.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const a=new E3(this,ju.leave,{},t);a.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),s=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),s}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new E3(this,t,r,n);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const s=t.toLocaleLowerCase(),{close:o,error:c,leave:u,join:d}=ju;if(n&&[o,c,u,d].indexOf(s)>=0&&n!==this._joinRef())return;let h=this._onMessage(s,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var w,g,y;return((w=m.filter)===null||w===void 0?void 0:w.event)==="*"||((y=(g=m.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===s}).map(m=>m.callback(h,n)):(i=this.bindings[s])===null||i===void 0||i.filter(m=>{var w,g,y,b,_,N;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in m){const E=m.id,C=(w=m.filter)===null||w===void 0?void 0:w.event;return E&&((g=r.ids)===null||g===void 0?void 0:g.includes(E))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const E=(_=(b=m==null?void 0:m.filter)===null||b===void 0?void 0:b.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return E==="*"||E===((N=r==null?void 0:r.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===s}).map(m=>{if(typeof h=="object"&&"ids"in h){const w=h.data,{schema:g,table:y,commit_timestamp:b,type:_,errors:N}=w;h=Object.assign(Object.assign({},{schema:g,table:y,commit_timestamp:b,eventType:_,new:{},old:{},errors:N}),this._getPayloadRecords(w))}m.callback(h,n)})}_isClosed(){return this.state===ac.closed}_isJoined(){return this.state===ac.joined}_isJoining(){return this.state===ac.joining}_isLeaving(){return this.state===ac.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&FD.isEqual(a.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ju.close,{},t)}_onError(t){this._on(ju.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ac.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=QF(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=QF(t.columns,t.old_record)),r}}const hme=()=>{},pme=typeof WebSocket<"u",mme=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class gme{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=nme,this.params={},this.timeout=dK,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=hme,this.conn=null,this.sendBuffer=[],this.serializer=new sme,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...o)=>nd(async()=>{const{default:c}=await Promise.resolve().then(()=>wy);return{default:c}},void 0).then(({default:c})=>c(...o)):s=fetch,(...o)=>s(...o)},this.endPoint=`${t}/${_6.websocket}`,this.httpEndpoint=pK(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const a=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,s)=>s(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new fK(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(pme){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new vme(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),nd(async()=>{const{default:t}=await import("./browser-BByXf1_1.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:ame}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Zv.connecting:return T0.Connecting;case Zv.open:return T0.Open;case Zv.closing:return T0.Closing;default:return T0.Closed}}isConnected(){return this.connectionState()===T0.Open}channel(t,r={config:{}}){const n=new FD(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:a,ref:i}=t,s=()=>{this.encode(t,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(a=>{r&&a.updateJoinPayload({access_token:r}),a.joinedOnce&&a._isJoined()&&a._push(ju.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(ime,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:a,payload:i,ref:s}=r;s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${a} ${s&&"("+s+")"||""}`,i),this.channels.filter(o=>o._isMember(n)).forEach(o=>o._trigger(a,i,s)),this.stateChangeCallbacks.message.forEach(o=>o(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(ju.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([mme],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class vme{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Zv.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class LD extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Rs(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class yme extends LD{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class N6 extends LD{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var xme=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const mK=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>nd(async()=>{const{default:n}=await Promise.resolve().then(()=>wy);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},wme=()=>xme(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield nd(()=>Promise.resolve().then(()=>wy),void 0)).Response:Response}),A6=e=>{if(Array.isArray(e))return e.map(r=>A6(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=A6(n)}),t};var Eg=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const C3=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),bme=(e,t,r)=>Eg(void 0,void 0,void 0,function*(){const n=yield wme();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{t(new yme(C3(a),e.status||500))}).catch(a=>{t(new N6(C3(a),a))}):t(new N6(C3(e),e))}),_me=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(a.body=JSON.stringify(n)),Object.assign(Object.assign({},a),r))};function Kw(e,t,r,n,a,i){return Eg(this,void 0,void 0,function*(){return new Promise((s,o)=>{e(r,_me(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>bme(c,o,n))})})}function D5(e,t,r,n){return Eg(this,void 0,void 0,function*(){return Kw(e,"GET",t,r,n)})}function qp(e,t,r,n,a){return Eg(this,void 0,void 0,function*(){return Kw(e,"POST",t,n,a,r)})}function Sme(e,t,r,n,a){return Eg(this,void 0,void 0,function*(){return Kw(e,"PUT",t,n,a,r)})}function Nme(e,t,r,n){return Eg(this,void 0,void 0,function*(){return Kw(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function gK(e,t,r,n,a){return Eg(this,void 0,void 0,function*(){return Kw(e,"DELETE",t,n,a,r)})}var Tl=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const Ame={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},nL={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class kme{constructor(t,r={},n,a){this.url=t,this.headers=r,this.bucketId=n,this.fetch=mK(a)}uploadOrUpdate(t,r,n,a){return Tl(this,void 0,void 0,function*(){try{let i;const s=Object.assign(Object.assign({},nL),a);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const c=s.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(o=Object.assign(Object.assign({},o),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(Rs(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Tl(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return Tl(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),s=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:nL.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(o.toString(),{method:"PUT",body:c,headers:d}),h=yield f.json();return f.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(Rs(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Tl(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield qp(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),s=new URL(this.url+i.url),o=s.searchParams.get("token");if(!o)throw new LD("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:o},error:null}}catch(n){if(Rs(n))return{data:null,error:n};throw n}})}update(t,r,n){return Tl(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Tl(this,void 0,void 0,function*(){try{return{data:yield qp(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(Rs(a))return{data:null,error:a};throw a}})}copy(t,r,n){return Tl(this,void 0,void 0,function*(){try{return{data:{path:(yield qp(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(Rs(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return Tl(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield qp(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(a){if(Rs(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return Tl(this,void 0,void 0,function*(){try{const a=yield qp(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(a){if(Rs(a))return{data:null,error:a};throw a}})}download(t,r){return Tl(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=i?`?${i}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield D5(this.fetch,`${this.url}/${a}/${o}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(Rs(o))return{data:null,error:o};throw o}})}info(t){return Tl(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield D5(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:A6(n),error:null}}catch(n){if(Rs(n))return{data:null,error:n};throw n}})}exists(t){return Tl(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Nme(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Rs(n)&&n instanceof N6){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}remove(t){return Tl(this,void 0,void 0,function*(){try{return{data:yield gK(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Rs(r))return{data:null,error:r};throw r}})}list(t,r,n){return Tl(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},Ame),r),{prefix:t||""});return{data:yield qp(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(Rs(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Eme="2.7.1",Cme={"X-Client-Info":`storage-js/${Eme}`};var _v=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};class Pme{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},Cme),r),this.fetch=mK(n)}listBuckets(){return _v(this,void 0,void 0,function*(){try{return{data:yield D5(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Rs(t))return{data:null,error:t};throw t}})}getBucket(t){return _v(this,void 0,void 0,function*(){try{return{data:yield D5(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Rs(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return _v(this,void 0,void 0,function*(){try{return{data:yield qp(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Rs(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return _v(this,void 0,void 0,function*(){try{return{data:yield Sme(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Rs(n))return{data:null,error:n};throw n}})}emptyBucket(t){return _v(this,void 0,void 0,function*(){try{return{data:yield qp(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Rs(r))return{data:null,error:r};throw r}})}deleteBucket(t){return _v(this,void 0,void 0,function*(){try{return{data:yield gK(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Rs(r))return{data:null,error:r};throw r}})}}class Tme extends Pme{constructor(t,r={},n){super(t,r,n)}from(t){return new kme(this.url,this.headers,t,this.fetch)}}const Ome="2.49.4";let T2="";typeof Deno<"u"?T2="deno":typeof document<"u"?T2="web":typeof navigator<"u"&&navigator.product==="ReactNative"?T2="react-native":T2="node";const Dme={"X-Client-Info":`supabase-js-${T2}/${Ome}`},Ime={headers:Dme},Rme={schema:"public"},Mme={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Fme={};var Lme=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const jme=e=>{let t;return e?t=e:typeof fetch>"u"?t=iK:t=fetch,(...r)=>t(...r)},$me=()=>typeof Headers>"u"?sK:Headers,Bme=(e,t,r)=>{const n=jme(r),a=$me();return(i,s)=>Lme(void 0,void 0,void 0,function*(){var o;const c=(o=yield t())!==null&&o!==void 0?o:e;let u=new a(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},s),{headers:u}))})};var Ume=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};function qme(e){return e.replace(/\/$/,"")}function zme(e,t){const{db:r,auth:n,realtime:a,global:i}=e,{db:s,auth:o,realtime:c,global:u}=t,d={db:Object.assign(Object.assign({},s),r),auth:Object.assign(Object.assign({},o),n),realtime:Object.assign(Object.assign({},c),a),global:Object.assign(Object.assign({},u),i),accessToken:()=>Ume(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const vK="2.69.1",Lv=30*1e3,k6=3,P3=k6*Lv,Wme="http://localhost:9999",Vme="supabase.auth.token",Hme={"X-Client-Info":`gotrue-js/${vK}`},E6="X-Supabase-Api-Version",yK={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Gme=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Yme=6e5;class jD extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function kn(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Kme extends jD{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Xme(e){return kn(e)&&e.name==="AuthApiError"}class xK extends jD{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Tm extends jD{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class jp extends Tm{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Jme(e){return kn(e)&&e.name==="AuthSessionMissingError"}class T3 extends Tm{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class p_ extends Tm{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class m_ extends Tm{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Zme(e){return kn(e)&&e.name==="AuthImplicitGrantRedirectError"}class aL extends Tm{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class C6 extends Tm{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function O3(e){return kn(e)&&e.name==="AuthRetryableFetchError"}class iL extends Tm{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class z2 extends Tm{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const sL="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),oL=` 	
\r=`.split(""),Qme=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<oL.length;t+=1)e[oL[t].charCodeAt(0)]=-2;for(let t=0;t<sL.length;t+=1)e[sL[t].charCodeAt(0)]=t;return e})();function wK(e,t,r){const n=Qme[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function lL(e){const t=[],r=s=>{t.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=s=>{r0e(s,n,r)};for(let s=0;s<e.length;s+=1)wK(e.charCodeAt(s),a,i);return t.join("")}function e0e(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function t0e(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}e0e(n,t)}}function r0e(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function n0e(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)wK(e.charCodeAt(a),r,n);return new Uint8Array(t)}function a0e(e){const t=[];return t0e(e,r=>t.push(r)),new Uint8Array(t)}function i0e(e){return Math.round(Date.now()/1e3)+e}function s0e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Bd=()=>typeof window<"u"&&typeof document<"u",x0={tested:!1,writable:!1},W2=()=>{if(!Bd())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(x0.tested)return x0.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),x0.tested=!0,x0.writable=!0}catch{x0.tested=!0,x0.writable=!1}return x0.writable};function o0e(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const bK=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>nd(async()=>{const{default:n}=await Promise.resolve().then(()=>wy);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},l0e=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",_K=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},g_=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},v_=async(e,t)=>{await e.removeItem(t)};class U4{constructor(){this.promise=new U4.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}U4.promiseConstructor=Promise;function D3(e){const t=e.split(".");if(t.length!==3)throw new z2("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Gme.test(t[n]))throw new z2("JWT not in base64url format");return{header:JSON.parse(lL(t[0])),payload:JSON.parse(lL(t[1])),signature:n0e(t[2]),raw:{header:t[0],payload:t[1]}}}async function c0e(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function u0e(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const s=await e(i);if(!t(i,null,s)){n(s);return}}catch(s){if(!t(i,s)){a(s);return}}})()})}function d0e(e){return("0"+e.toString(16)).substr(-2)}function f0e(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,d0e).join("")}async function h0e(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function p0e(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await h0e(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Sv(e,t,r=!1){const n=f0e();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await _K(e,`${t}-code-verifier`,a);const i=await p0e(n);return[i,n===i?"plain":"s256"]}const m0e=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function g0e(e){const t=e.headers.get(E6);if(!t||!t.match(m0e))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function v0e(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function y0e(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var x0e=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const A0=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),w0e=[502,503,504];async function cL(e){var t;if(!l0e(e))throw new C6(A0(e),0);if(w0e.includes(e.status))throw new C6(A0(e),e.status);let r;try{r=await e.json()}catch(i){throw new xK(A0(i),i)}let n;const a=g0e(e);if(a&&a.getTime()>=yK["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new iL(A0(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new jp}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new iL(A0(r),e.status,r.weak_password.reasons);throw new Kme(A0(r),e.status||500,n)}const b0e=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Bn(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[E6]||(i[E6]=yK["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const s=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await _0e(e,t,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function _0e(e,t,r,n,a,i){const s=b0e(t,n,a,i);let o;try{o=await e(r,Object.assign({},s))}catch(c){throw console.error(c),new C6(A0(c),0)}if(o.ok||await cL(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(c){await cL(c)}}function $p(e){var t;let r=null;k0e(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=i0e(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function uL(e){const t=$p(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Hp(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function S0e(e){return{data:e,error:null}}function N0e(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,s=x0e(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},s);return{data:{properties:o,user:c},error:null}}function A0e(e){return e}function k0e(e){return e.access_token&&e.refresh_token&&e.expires_in}var E0e=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class C0e{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=bK(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await Bn(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(kn(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Bn(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Hp})}catch(n){if(kn(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=E0e(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await Bn(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:N0e,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(kn(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Bn(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Hp})}catch(r){if(kn(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,s,o,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Bn(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:A0e});if(d.error)throw d.error;const f=await d.json(),h=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,m=(c=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(w=>{const g=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(w.split(";")[1].split("=")[1]);u[`${y}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(kn(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await Bn(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Hp})}catch(r){if(kn(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await Bn(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Hp})}catch(n){if(kn(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await Bn(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Hp})}catch(n){if(kn(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await Bn(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(kn(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await Bn(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(kn(r))return{data:null,error:r};throw r}}}const P0e={getItem:e=>W2()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{W2()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{W2()&&globalThis.localStorage.removeItem(e)}};function dL(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function T0e(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Nv={debug:!!(globalThis&&W2()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class SK extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class O0e extends SK{}async function D0e(e,t,r){Nv.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Nv.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Nv.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Nv.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Nv.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new O0e(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Nv.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}T0e();const I0e={url:Wme,storageKey:Vme,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Hme,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function fL(e,t,r){return await r()}class bx{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=bx.nextInstanceID,bx.nextInstanceID+=1,this.instanceID>0&&Bd()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},I0e),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new C0e({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=bK(a.fetch),this.lock=a.lock||fL,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Bd()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=D0e:this.lock=fL,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:W2()?this.storage=P0e:(this.memoryStorage={},this.storage=dL(this.memoryStorage)):(this.memoryStorage={},this.storage=dL(this.memoryStorage)),Bd()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${vK}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=o0e(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Bd()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Zme(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:s,redirectType:o}=a;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return kn(r)?{error:r}:{error:new xK("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await Bn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:$p}),{data:s,error:o}=i;if(o||!s)return{data:{user:null,session:null},error:o};const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(kn(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,w=null;this.flowType==="pkce"&&([m,w]=await Sv(this.storage,this.storageKey)),i=await Bn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:w},xform:$p})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await Bn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:$p})}else throw new p_("You must provide either an email or phone number and a password");const{data:s,error:o}=i;if(o||!s)return{data:{user:null,session:null},error:o};const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(kn(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:s,options:o}=t;r=await Bn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:uL})}else if("phone"in t){const{phone:i,password:s,options:o}=t;r=await Bn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:uL})}else throw new p_("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new T3}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(kn(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await g_(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:s}=await Bn(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:$p});if(await v_(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new T3}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:s})}catch(i){if(kn(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:s}=t,o=await Bn(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:$p}),{data:c,error:u}=o;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new T3}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(kn(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,s;try{if("email"in t){const{email:o,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Sv(this.storage,this.storageKey));const{error:f}=await Bn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:o,options:c}=t,{data:u,error:d}=await Bn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(s=c==null?void 0:c.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new p_("You must provide either an email or phone number.")}catch(o){if(kn(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:o}=await Bn(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:$p});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const c=s.session,u=s.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(kn(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,s=null;return this.flowType==="pkce"&&([i,s]=await Sv(this.storage,this.storageKey)),await Bn(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:s}),headers:this.headers,xform:S0e})}catch(i){if(kn(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new jp;const{error:a}=await Bn(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(kn(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:s}=await Bn(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:s,error:o}=await Bn(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o}}throw new p_("You must provide either an email or phone number and a type")}catch(r){if(kn(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await g_(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<P3:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let s=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!s&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Bn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Hp}):await this._useSession(async r=>{var n,a,i;const{data:s,error:o}=r;if(o)throw o;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new jp}:await Bn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=s.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Hp})})}catch(r){if(kn(r))return Jme(r)&&(await this._removeSession(),await v_(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new jp;const s=a.session;let o=null,c=null;this.flowType==="pkce"&&t.email!=null&&([o,c]=await Sv(this.storage,this.storageKey));const{data:u,error:d}=await Bn(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:c}),jwt:s.access_token,xform:Hp});if(d)throw d;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(n){if(kn(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new jp;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:s}=D3(t.access_token);if(s.exp&&(n=s.exp,a=n<=r),a){const{session:o,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(kn(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:s,error:o}=r;if(o)throw o;t=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new jp;const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(kn(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Bd())throw new m_("No browser detected.");if(t.error||t.error_description||t.error_code)throw new m_(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new aL("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new m_("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new aL("No code detected.");const{data:_,error:N}=await this._exchangeCodeForSession(t.code);if(N)throw N;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:_.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:s,expires_in:o,expires_at:c,token_type:u}=t;if(!i||!o||!s||!u)throw new m_("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(o);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=Lv&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const w=h-f;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,h,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,h,d);const{data:g,error:y}=await this._getUser(i);if(y)throw y;const b={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:h,refresh_token:s,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:t.type},error:null}}catch(n){if(kn(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await g_(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const s=(n=a.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:o}=await this.admin.signOut(s,t);if(o&&!(Xme(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await v_(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=s0e(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Sv(this.storage,this.storageKey,!0));try{return await Bn(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(kn(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(kn(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var s,o,c,u,d;const{data:f,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Bn(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return Bd()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(kn(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)throw s;return await Bn(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(kn(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await u0e(async a=>(a>0&&await c0e(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Bn(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:$p})),(a,i)=>{const s=200*Math.pow(2,a);return i&&O3(i)&&Date.now()+s-n<Lv})}catch(n){if(this._debug(r,"error",n),kn(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Bd()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await g_(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const a=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<P3;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${P3}s`),a){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),O3(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new jp;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new U4;const{data:i,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!i.session)throw new jp;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(a,"error",i),kn(i)){const s={session:null,error:i};return O3(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(s),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await _K(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await v_(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Bd()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Lv);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Lv);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Lv}ms, refresh threshold is ${k6} ticks`),a<=k6&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof SK)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Bd()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,s]=await Sv(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(s)}`});a.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Bn(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(kn(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)return{data:null,error:s};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await Bn(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(kn(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:s,error:o}=await Bn(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:o})})}catch(r){if(kn(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Bn(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(kn(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],a=n.filter(s=>s.factor_type==="totp"&&s.status==="verified"),i=n.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:n,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=D3(a.access_token);let o=null;s.aal&&(o=s.aal);let c=o;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=s.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(s=>s.kid===t);if(n||(n=this.jwks.keys.find(s=>s.kid===t),n&&this.jwks_cached_at+Yme>Date.now()))return n;const{data:a,error:i}=await Bn(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!a.keys||a.keys.length===0)throw new z2("JWKS is empty");if(this.jwks=a,this.jwks_cached_at=Date.now(),n=a.keys.find(s=>s.kid===t),!n)throw new z2("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:m,error:w}=await this.getSession();if(w||!m.session)return{data:null,error:w};n=m.session.access_token}const{header:a,payload:i,signature:s,raw:{header:o,payload:c}}=D3(n);if(v0e(i.exp),!a.kid||a.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:a,signature:s},error:null}}const u=y0e(a.alg),d=await this.fetchJwk(a.kid,r),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,s,a0e(`${o}.${c}`)))throw new z2("Invalid JWT signature");return{data:{claims:i,header:a,signature:s},error:null}}catch(n){if(kn(n))return{data:null,error:n};throw n}}}bx.nextInstanceID=0;const R0e=bx;class M0e extends R0e{constructor(t){super(t)}}var F0e=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};class L0e{constructor(t,r,n){var a,i,s;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=qme(t);this.realtimeUrl=`${o}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${o}/auth/v1`,this.storageUrl=`${o}/storage/v1`,this.functionsUrl=`${o}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:Rme,realtime:Fme,auth:Object.assign(Object.assign({},Mme),{storageKey:c}),global:Ime},d=zme(n??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=d.auth)!==null&&s!==void 0?s:{},this.headers,d.global.fetch),this.fetch=Bme(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new tme(`${o}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new zpe(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Tme(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return F0e(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,storageKey:i,flowType:s,lock:o,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new M0e({url:this.authUrl,headers:Object.assign(Object.assign({},f),u),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,flowType:s,lock:o,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new gme(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const j0e=(e,t,r)=>new L0e(e,t,r),$0e="https://syevxwuraxjpvkcclmjj.supabase.co",B0e="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InN5ZXZ4d3VyYXhqcHZrY2NsbWpqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDMwOTM0MjksImV4cCI6MjA1ODY2OTQyOX0.Uog7kEtPXYQJDZ3TqKanmteMRK0c_qEIBnmCxFgQTv0",je=j0e($0e,B0e,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),NK=S.createContext(void 0);function U0e({children:e}){const[t,r]=S.useState(null),[n,a]=S.useState(!0),i=S.useCallback(async(c,u)=>{let d=null,f=null;try{const h=await je.from("profiles").select("*").eq("id",c).single();if(d=h.data,f=h.error,f)console.error("[fetchUserProfile] Error during profile fetch:",f.message),r(null);else if(d){const m=d,w=m.role??"doctor",g={...m,role:w,email:u};r(g)}else console.warn(`[fetchUserProfile] Profile query succeeded but returned no data for user: ${c}`),r(null)}catch(h){console.error("[fetchUserProfile] UNEXPECTED EXCEPTION caught:",h.message),r(null)}},[]),s=S.useRef(!1);S.useEffect(()=>{s.current=!1;let c=!0;const u=async(f,h)=>{c&&(f==="TOKEN_REFRESHED"?console.log("[AuthContext] Token refreshed successfully."):f==="SIGNED_OUT"?(console.log("[AuthContext] SIGNED_OUT event received. Setting user to null."),r(null)):h!=null&&h.user?(!t||t.id!==h.user.id)&&await i(h.user.id,h.user.email):f==="INITIAL_SESSION"&&!s.current&&r(null),s.current||(a(!1),s.current=!0))},{data:{subscription:d}}=je.auth.onAuthStateChange((f,h)=>{u(f,h).catch(m=>{console.error(`[AuthContext] Error in handleAuthStateChange for Event: ${f}`,m),c&&(r(null),s.current||(a(!1),s.current=!0))})});return()=>{c=!1,d.unsubscribe()}},[i]);const o={user:t,loading:n,signIn:async(c,u)=>{const{error:d}=await je.auth.signInWithPassword({email:c,password:u});if(d)throw d},signOut:async()=>{const{error:c}=await je.auth.signOut();if(r(null),c)throw console.error("Error signing out:",c),c}};return l(NK.Provider,{value:o,children:e})}function di(){const e=S.useContext(NK);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const q0e=1,z0e=1e6;let I3=0;function W0e(){return I3=(I3+1)%Number.MAX_VALUE,I3.toString()}const R3=new Map,hL=e=>{if(R3.has(e))return;const t=setTimeout(()=>{R3.delete(e),V2({type:"REMOVE_TOAST",toastId:e})},z0e);R3.set(e,t)},V0e=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,q0e)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?hL(r):e.toasts.forEach(n=>{hL(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},a5=[];let i5={toasts:[]};function V2(e){i5=V0e(i5,e),a5.forEach(t=>{t(i5)})}function Wi({...e}){const t=W0e(),r=a=>V2({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>V2({type:"DISMISS_TOAST",toastId:t});return V2({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function bn(){const[e,t]=S.useState(i5);return S.useEffect(()=>(a5.push(t),()=>{const r=a5.indexOf(t);r>-1&&a5.splice(r,1)}),[e]),{...e,toast:Wi,dismiss:r=>V2({type:"DISMISS_TOAST",toastId:r})}}const H0e=()=>{const{user:e}=di(),[t,r]=S.useState([]),n=S.useRef(null);return S.useEffect(()=>{if(!e){r([]);return}if((async()=>{const{data:c,error:u}=await je.from("notifications").select("*").eq("user_id",e.id).eq("is_read",!1).order("created_at",{ascending:!1});u?(console.error("Error fetching notifications from `notifications` table:",u),Wi({title:"Error",description:"Could not fetch notifications.",variant:"destructive"})):(console.log("Fetched notifications:",c),r(c||[]))})(),!n.current&&e){const c=`notifications-channel-${e.id}`;console.log(`Attempting to subscribe to channel: ${c}`),n.current=je.channel(c),n.current.on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${e.id}`},u=>{if(console.log("[useNotifications] Realtime event received:",u),u.eventType==="INSERT"&&u.new){const d=u.new;console.log("[useNotifications] Realtime INSERT detected:",d),r(f=>{if(console.log("[useNotifications] Attempting state update via realtime. Prev length:",f.length),f.some(m=>m.id===d.id))return console.log(`[useNotifications] Duplicate notification ID ${d.id} detected in realtime update, skipping state update.`),f;const h=[d,...f];return console.log("[useNotifications] State update successful via realtime. New length:",h.length),h})}else console.log("[useNotifications] Received non-insert or unexpected payload via realtime:",u)}).subscribe((u,d)=>{console.log(`Channel ${c} subscription status: ${u}`),u===oc.SUBSCRIBED?console.log(`Successfully subscribed to notifications channel: ${c}`):u===oc.CHANNEL_ERROR?(console.error(`Notifications subscription error on channel ${c}:`,d),Wi({title:"Realtime Error",description:`Connection error for notifications: ${(d==null?void 0:d.message)||"Unknown error"}`,variant:"destructive"})):u===oc.TIMED_OUT?(console.warn(`Notifications subscription timed out on channel ${c}.`),Wi({title:"Realtime Warning",description:"Notification connection timed out.",variant:"default"})):u===oc.CLOSED&&console.log(`Notifications channel closed: ${c}.`)})}return()=>{if(n.current){const c=n.current,u=c.topic;console.log(`Attempting to unsubscribe from channel: ${u}`),je.removeChannel(c).then(d=>{console.log(`Unsubscribed from notifications channel ${u}:`,d)}).catch(d=>{console.error(`Error removing notifications channel ${u}:`,d)}).finally(()=>{n.current===c&&(n.current=null)})}}},[e]),{notifications:t,markAsRead:async o=>{const{error:c}=await je.from("notifications").update({is_read:!0}).eq("id",o);c?console.error("Error marking notification as read:",c):r(u=>u.map(d=>d.id===o?{...d,is_read:!0}:d))},createNotification:async(o,c,u)=>{try{const d=new Date;d.setHours(d.getHours()-2);const f=d.toISOString(),{count:h,error:m}=await je.from("notifications").select("*",{count:"exact",head:!0}).eq("user_id",o).eq("message",c).gte("created_at",f);if(m&&console.error("Error checking for existing notifications:",m),h&&h>0){console.log(`Skipping notification creation: Identical notification found within the last 2 hours for message: "${c}"`);return}const w={user_id:o,message:c,link_url:u,is_read:!1},{data:g,error:y}=await je.from("notifications").insert([w]).select();y?(console.error("Error creating notification:",y),Wi({title:"Error",description:`Could not create notification: ${y.message}`,variant:"destructive"})):(console.log("Notification created:",g),"Notification"in window&&Notification.permission==="granted"?new Notification("New Notification",{body:c,icon:"/dentalcarelogo.png"}):"Notification"in window&&Notification.permission!=="denied"&&Notification.requestPermission().then(b=>{b==="granted"&&new Notification("New Notification",{body:c,icon:"/dentalcarelogo.png"})}))}catch(d){console.error("Error creating notification:",d)}},clearNotification:async o=>{r(u=>u.map(d=>d.id===o?{...d,is_read:!0}:d).filter(d=>!(d.id===o&&d.is_read)));const{error:c}=await je.from("notifications").update({is_read:!0}).eq("id",o).eq("user_id",e==null?void 0:e.id);c?(console.error("Error marking notification as read (clearing):",c),Wi({title:"Error",description:"Could not clear notification. It may reappear.",variant:"destructive"})):r(u=>u.filter(d=>d.id!==o))}}},or=S.forwardRef(({className:e,...t},r)=>l("div",{ref:r,className:Lt("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));or.displayName="Card";const wr=S.forwardRef(({className:e,...t},r)=>l("div",{ref:r,className:Lt("flex flex-col space-y-1.5 p-6",e),...t}));wr.displayName="CardHeader";const _r=S.forwardRef(({className:e,...t},r)=>l("h3",{ref:r,className:Lt("text-2xl font-semibold leading-none tracking-tight",e),...t}));_r.displayName="CardTitle";const Sc=S.forwardRef(({className:e,...t},r)=>l("p",{ref:r,className:Lt("text-sm text-muted-foreground",e),...t}));Sc.displayName="CardDescription";const pr=S.forwardRef(({className:e,...t},r)=>l("div",{ref:r,className:Lt("p-6 pt-0",e),...t}));pr.displayName="CardContent";const eg=S.forwardRef(({className:e,...t},r)=>l("div",{ref:r,className:Lt("flex items-center p-6 pt-0",e),...t}));eg.displayName="CardFooter";function mr(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Sa(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Ua(e,t){const r=mr(e);return isNaN(t)?Sa(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function pl(e,t){const r=mr(e);if(isNaN(t))return Sa(e,NaN);if(!t)return r;const n=r.getDate(),a=Sa(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const i=a.getDate();return n>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}function AK(e,t){const{years:r=0,months:n=0,weeks:a=0,days:i=0,hours:s=0,minutes:o=0,seconds:c=0}=t,u=mr(e),d=n||r?pl(u,n+r*12):u,f=i||a?Ua(d,i+a*7):d,h=o+s*60,w=(c+h*60)*1e3;return Sa(e,f.getTime()+w)}function G0e(e,t){const r=+mr(e);return Sa(e,r+t)}const $D=6048e5,Y0e=864e5,_x=6e4,q4=36e5,K0e=1e3,pL=525600,qv=43200,I5=1440;function kK(e,t){return G0e(e,t*q4)}let X0e={};function Ph(){return X0e}function co(e,t){var o,c,u,d;const r=Ph(),n=(t==null?void 0:t.weekStartsOn)??((c=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=mr(e),i=a.getDay(),s=(i<n?7:0)+i-n;return a.setDate(a.getDate()-s),a.setHours(0,0,0,0),a}function wh(e){return co(e,{weekStartsOn:1})}function EK(e){const t=mr(e),r=t.getFullYear(),n=Sa(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=wh(n),i=Sa(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const s=wh(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=s.getTime()?r:r-1}function Dl(e){const t=mr(e);return t.setHours(0,0,0,0),t}function df(e){const t=mr(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Wu(e,t){const r=Dl(e),n=Dl(t),a=+r-df(r),i=+n-df(n);return Math.round((a-i)/Y0e)}function J0e(e){const t=EK(e),r=Sa(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),wh(r)}function b1(e,t){const r=t*7;return Ua(e,r)}function Z0e(e,t){return pl(e,t*12)}function Q0e(e){let t;return e.forEach(function(r){const n=mr(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function ege(e){let t;return e.forEach(r=>{const n=mr(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function H2(e,t){const r=mr(e),n=mr(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function CK(e){return Sa(e,Date.now())}function ll(e,t){const r=Dl(e),n=Dl(t);return+r==+n}function BD(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Bp(e){if(!BD(e)&&typeof e!="number")return!1;const t=mr(e);return!isNaN(Number(t))}function _1(e,t){const r=mr(e),n=mr(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function tge(e,t,r){const n=co(e,r),a=co(t,r),i=+n-df(n),s=+a-df(a);return Math.round((i-s)/$D)}function rge(e,t){const r=mr(e),n=mr(t),a=mL(r,n),i=Math.abs(Wu(r,n));r.setDate(r.getDate()-a*i);const s=+(mL(r,n)===-a),o=a*(i-s);return o===0?0:o}function mL(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function PK(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function s5(e,t){return+mr(e)-+mr(t)}function Qv(e){const t=mr(e);return t.setHours(23,59,59,999),t}function hm(e){const t=mr(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function nge(e){const t=mr(e);return+Qv(t)==+hm(t)}function age(e,t){const r=mr(e),n=mr(t),a=H2(r,n),i=Math.abs(_1(r,n));let s;if(i<1)s=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);let o=H2(r,n)===-a;nge(mr(e))&&i===1&&H2(e,n)===1&&(o=!1),s=a*(i-Number(o))}return s===0?0:s}function TK(e,t,r){const n=s5(e,t)/1e3;return PK(r==null?void 0:r.roundingMethod)(n)}function G2(e,t){const r=mr(e.start),n=mr(e.end);let a=+r>+n;const i=a?+r:+n,s=a?n:r;s.setHours(0,0,0,0);let o=1;const c=[];for(;+s<=i;)c.push(mr(s)),s.setDate(s.getDate()+o),s.setHours(0,0,0,0);return a?c.reverse():c}function ige(e,t){const r=mr(e.start),n=mr(e.end);let a=+r>+n;const i=a?+r:+n;let s=a?n:r;s.setMinutes(0,0,0);let o=1;const c=[];for(;+s<=i;)c.push(mr(s)),s=kK(s,o);return a?c.reverse():c}function zs(e){const t=mr(e);return t.setDate(1),t.setHours(0,0,0,0),t}function OK(e){const t=mr(e),r=Sa(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function M0(e,t){var o,c,u,d;const r=Ph(),n=(t==null?void 0:t.weekStartsOn)??((c=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=mr(e),i=a.getDay(),s=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+s),a.setHours(23,59,59,999),a}function DK(e){return M0(e,{weekStartsOn:1})}const sge={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},oge=(e,t,r)=>{let n;const a=sge[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function M3(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const lge={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},cge={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},uge={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},dge={date:M3({formats:lge,defaultWidth:"full"}),time:M3({formats:cge,defaultWidth:"full"}),dateTime:M3({formats:uge,defaultWidth:"full"})},fge={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},hge=(e,t,r,n)=>fge[e];function o2(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const s=e.defaultFormattingWidth||e.defaultWidth,o=r!=null&&r.width?String(r.width):s;a=e.formattingValues[o]||e.formattingValues[s]}else{const s=e.defaultWidth,o=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[o]||e.values[s]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const pge={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},mge={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},gge={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},vge={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},yge={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},xge={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},wge=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},bge={ordinalNumber:wge,era:o2({values:pge,defaultWidth:"wide"}),quarter:o2({values:mge,defaultWidth:"wide",argumentCallback:e=>e-1}),month:o2({values:gge,defaultWidth:"wide"}),day:o2({values:vge,defaultWidth:"wide"}),dayPeriod:o2({values:yge,defaultWidth:"wide",formattingValues:xge,defaultFormattingWidth:"wide"})};function l2(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const s=i[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(o)?Sge(o,f=>f.test(s)):_ge(o,f=>f.test(s));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(s.length);return{value:u,rest:d}}}function _ge(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Sge(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Nge(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let s=e.valueCallback?e.valueCallback(i[0]):i[0];s=r.valueCallback?r.valueCallback(s):s;const o=t.slice(a.length);return{value:s,rest:o}}}const Age=/^(\d+)(th|st|nd|rd)?/i,kge=/\d+/i,Ege={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Cge={any:[/^b/i,/^(a|c)/i]},Pge={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Tge={any:[/1/i,/2/i,/3/i,/4/i]},Oge={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Dge={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ige={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Rge={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Mge={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Fge={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Lge={ordinalNumber:Nge({matchPattern:Age,parsePattern:kge,valueCallback:e=>parseInt(e,10)}),era:l2({matchPatterns:Ege,defaultMatchWidth:"wide",parsePatterns:Cge,defaultParseWidth:"any"}),quarter:l2({matchPatterns:Pge,defaultMatchWidth:"wide",parsePatterns:Tge,defaultParseWidth:"any",valueCallback:e=>e+1}),month:l2({matchPatterns:Oge,defaultMatchWidth:"wide",parsePatterns:Dge,defaultParseWidth:"any"}),day:l2({matchPatterns:Ige,defaultMatchWidth:"wide",parsePatterns:Rge,defaultParseWidth:"any"}),dayPeriod:l2({matchPatterns:Mge,defaultMatchWidth:"any",parsePatterns:Fge,defaultParseWidth:"any"})},Xw={code:"en-US",formatDistance:oge,formatLong:dge,formatRelative:hge,localize:bge,match:Lge,options:{weekStartsOn:0,firstWeekContainsDate:1}};function jge(e){const t=mr(e);return Wu(t,OK(t))+1}function UD(e){const t=mr(e),r=+wh(t)-+J0e(t);return Math.round(r/$D)+1}function qD(e,t){var d,f,h,m;const r=mr(e),n=r.getFullYear(),a=Ph(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((m=(h=a.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,s=Sa(e,0);s.setFullYear(n+1,0,i),s.setHours(0,0,0,0);const o=co(s,t),c=Sa(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=co(c,t);return r.getTime()>=o.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function $ge(e,t){var o,c,u,d;const r=Ph(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=qD(e,t),i=Sa(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),co(i,t)}function zD(e,t){const r=mr(e),n=+co(r,t)-+$ge(r,t);return Math.round(n/$D)+1}function Rn(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Tp={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Rn(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Rn(r+1,2)},d(e,t){return Rn(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Rn(e.getHours()%12||12,t.length)},H(e,t){return Rn(e.getHours(),t.length)},m(e,t){return Rn(e.getMinutes(),t.length)},s(e,t){return Rn(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Rn(a,t.length)}},Av={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},gL={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Tp.y(e,t)},Y:function(e,t,r,n){const a=qD(e,n),i=a>0?a:1-a;if(t==="YY"){const s=i%100;return Rn(s,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Rn(i,t.length)},R:function(e,t){const r=EK(e);return Rn(r,t.length)},u:function(e,t){const r=e.getFullYear();return Rn(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Rn(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Rn(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Tp.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Rn(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=zD(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Rn(a,t.length)},I:function(e,t,r){const n=UD(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Rn(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Tp.d(e,t)},D:function(e,t,r){const n=jge(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Rn(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Rn(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Rn(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Rn(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Av.noon:n===0?a=Av.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Av.evening:n>=12?a=Av.afternoon:n>=4?a=Av.morning:a=Av.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Tp.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Tp.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Rn(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Rn(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Tp.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Tp.s(e,t)},S:function(e,t){return Tp.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return yL(n);case"XXXX":case"XX":return k0(n);case"XXXXX":case"XXX":default:return k0(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return yL(n);case"xxxx":case"xx":return k0(n);case"xxxxx":case"xxx":default:return k0(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+vL(n,":");case"OOOO":default:return"GMT"+k0(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+vL(n,":");case"zzzz":default:return"GMT"+k0(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Rn(n,t.length)},T:function(e,t,r){const n=e.getTime();return Rn(n,t.length)}};function vL(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+Rn(i,2)}function yL(e,t){return e%60===0?(e>0?"-":"+")+Rn(Math.abs(e)/60,2):k0(e,t)}function k0(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Rn(Math.trunc(n/60),2),i=Rn(n%60,2);return r+a+t+i}const xL=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},IK=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Bge=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return xL(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",xL(n,t)).replace("{{time}}",IK(a,t))},P6={p:IK,P:Bge},Uge=/^D+$/,qge=/^Y+$/,zge=["D","DD","YY","YYYY"];function RK(e){return Uge.test(e)}function MK(e){return qge.test(e)}function T6(e,t,r){const n=Wge(e,t,r);if(console.warn(n),zge.includes(e))throw new RangeError(n)}function Wge(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Vge=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Hge=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Gge=/^'([^]*?)'?$/,Yge=/''/g,Kge=/[a-zA-Z]/;function Rt(e,t,r){var d,f,h,m,w,g,y,b;const n=Ph(),a=(r==null?void 0:r.locale)??n.locale??Xw,i=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,s=(r==null?void 0:r.weekStartsOn)??((g=(w=r==null?void 0:r.locale)==null?void 0:w.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((b=(y=n.locale)==null?void 0:y.options)==null?void 0:b.weekStartsOn)??0,o=mr(e);if(!Bp(o))throw new RangeError("Invalid time value");let c=t.match(Hge).map(_=>{const N=_[0];if(N==="p"||N==="P"){const E=P6[N];return E(_,a.formatLong)}return _}).join("").match(Vge).map(_=>{if(_==="''")return{isToken:!1,value:"'"};const N=_[0];if(N==="'")return{isToken:!1,value:Xge(_)};if(gL[N])return{isToken:!0,value:_};if(N.match(Kge))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return{isToken:!1,value:_}});a.localize.preprocessor&&(c=a.localize.preprocessor(o,c));const u={firstWeekContainsDate:i,weekStartsOn:s,locale:a};return c.map(_=>{if(!_.isToken)return _.value;const N=_.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&MK(N)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&RK(N))&&T6(N,t,String(e));const E=gL[N[0]];return E(o,N,a.localize,u)}).join("")}function Xge(e){const t=e.match(Gge);return t?t[1].replace(Yge,"'"):e}function Jge(e,t,r){const n=Ph(),a=(r==null?void 0:r.locale)??n.locale??Xw,i=2520,s=H2(e,t);if(isNaN(s))throw new RangeError("Invalid time value");const o=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:s});let c,u;s>0?(c=mr(t),u=mr(e)):(c=mr(e),u=mr(t));const d=TK(u,c),f=(df(u)-df(c))/1e3,h=Math.round((d-f)/60);let m;if(h<2)return r!=null&&r.includeSeconds?d<5?a.formatDistance("lessThanXSeconds",5,o):d<10?a.formatDistance("lessThanXSeconds",10,o):d<20?a.formatDistance("lessThanXSeconds",20,o):d<40?a.formatDistance("halfAMinute",0,o):d<60?a.formatDistance("lessThanXMinutes",1,o):a.formatDistance("xMinutes",1,o):h===0?a.formatDistance("lessThanXMinutes",1,o):a.formatDistance("xMinutes",h,o);if(h<45)return a.formatDistance("xMinutes",h,o);if(h<90)return a.formatDistance("aboutXHours",1,o);if(h<I5){const w=Math.round(h/60);return a.formatDistance("aboutXHours",w,o)}else{if(h<i)return a.formatDistance("xDays",1,o);if(h<qv){const w=Math.round(h/I5);return a.formatDistance("xDays",w,o)}else if(h<qv*2)return m=Math.round(h/qv),a.formatDistance("aboutXMonths",m,o)}if(m=age(u,c),m<12){const w=Math.round(h/qv);return a.formatDistance("xMonths",w,o)}else{const w=m%12,g=Math.trunc(m/12);return w<3?a.formatDistance("aboutXYears",g,o):w<9?a.formatDistance("overXYears",g,o):a.formatDistance("almostXYears",g+1,o)}}function FK(e,t,r){const n=Ph(),a=(r==null?void 0:r.locale)??n.locale??Xw,i=H2(e,t);if(isNaN(i))throw new RangeError("Invalid time value");const s=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:i});let o,c;i>0?(o=mr(t),c=mr(e)):(o=mr(e),c=mr(t));const u=PK((r==null?void 0:r.roundingMethod)??"round"),d=c.getTime()-o.getTime(),f=d/_x,h=df(c)-df(o),m=(d-h)/_x,w=r==null?void 0:r.unit;let g;if(w?g=w:f<1?g="second":f<60?g="minute":f<I5?g="hour":m<qv?g="day":m<pL?g="month":g="year",g==="second"){const y=u(d/1e3);return a.formatDistance("xSeconds",y,s)}else if(g==="minute"){const y=u(f);return a.formatDistance("xMinutes",y,s)}else if(g==="hour"){const y=u(f/60);return a.formatDistance("xHours",y,s)}else if(g==="day"){const y=u(m/I5);return a.formatDistance("xDays",y,s)}else if(g==="month"){const y=u(m/qv);return y===12&&w!=="month"?a.formatDistance("xYears",1,s):a.formatDistance("xMonths",y,s)}else{const y=u(m/pL);return a.formatDistance("xYears",y,s)}}function Zge(e,t){return Jge(e,CK(e),t)}function wL(e,t){const r=mr(e);if(isNaN(r.getTime()))throw new RangeError("Invalid time value");let n="",a="";const i="-",s=":";{const o=Rn(r.getDate(),2),c=Rn(r.getMonth()+1,2);n=`${Rn(r.getFullYear(),4)}${i}${c}${i}${o}`}{const o=r.getTimezoneOffset();if(o!==0){const m=Math.abs(o),w=Rn(Math.trunc(m/60),2),g=Rn(m%60,2);a=`${o<0?"+":"-"}${w}:${g}`}else a="Z";const c=Rn(r.getHours(),2),u=Rn(r.getMinutes(),2),d=Rn(r.getSeconds(),2),f=n===""?"":"T",h=[c,u,d].join(s);n=`${n}${f}${h}${a}`}return n}function Qge(e){const t=mr(e),r=t.getFullYear(),n=t.getMonth(),a=Sa(e,0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}function eve(){return Object.assign({},Ph())}function tve(e){let r=mr(e).getDay();return r===0&&(r=7),r}function rve(e){return Math.trunc(+mr(e)/1e3)}function nve(e){const t=mr(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function ave(e,t){return tge(nve(e),zs(e),t)+1}function O6(e,t){const r=mr(e),n=mr(t);return r.getTime()>n.getTime()}function ah(e,t){const r=mr(e),n=mr(t);return+r<+n}function ive(e,t){const r=t instanceof Date?Sa(t,0):new t(0);return r.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),r.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),r}const sve=10;class LK{constructor(){yr(this,"subPriority",0)}validate(t,r){return!0}}class ove extends LK{constructor(t,r,n,a,i){super(),this.value=t,this.validateValue=r,this.setValue=n,this.priority=a,i&&(this.subPriority=i)}validate(t,r){return this.validateValue(t,this.value,r)}set(t,r,n){return this.setValue(t,r,this.value,n)}}class lve extends LK{constructor(){super(...arguments);yr(this,"priority",sve);yr(this,"subPriority",-1)}set(r,n){return n.timestampIsSet?r:Sa(r,ive(r,Date))}}class ga{run(t,r,n,a){const i=this.parse(t,r,n,a);return i?{setter:new ove(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(t,r,n){return!0}}class cve extends ga{constructor(){super(...arguments);yr(this,"priority",140);yr(this,"incompatibleTokens",["R","u","t","T"])}parse(r,n,a){switch(n){case"G":case"GG":case"GGG":return a.era(r,{width:"abbreviated"})||a.era(r,{width:"narrow"});case"GGGGG":return a.era(r,{width:"narrow"});case"GGGG":default:return a.era(r,{width:"wide"})||a.era(r,{width:"abbreviated"})||a.era(r,{width:"narrow"})}}set(r,n,a){return n.era=a,r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}}const Xi={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Gd={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Ji(e,t){return e&&{value:t(e.value),rest:e.rest}}function xi(e,t){const r=t.match(e);return r?{value:parseInt(r[0],10),rest:t.slice(r[0].length)}:null}function Yd(e,t){const r=t.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:t.slice(1)};const n=r[1]==="+"?1:-1,a=r[2]?parseInt(r[2],10):0,i=r[3]?parseInt(r[3],10):0,s=r[5]?parseInt(r[5],10):0;return{value:n*(a*q4+i*_x+s*K0e),rest:t.slice(r[0].length)}}function jK(e){return xi(Xi.anyDigitsSigned,e)}function Ri(e,t){switch(e){case 1:return xi(Xi.singleDigit,t);case 2:return xi(Xi.twoDigits,t);case 3:return xi(Xi.threeDigits,t);case 4:return xi(Xi.fourDigits,t);default:return xi(new RegExp("^\\d{1,"+e+"}"),t)}}function R5(e,t){switch(e){case 1:return xi(Xi.singleDigitSigned,t);case 2:return xi(Xi.twoDigitsSigned,t);case 3:return xi(Xi.threeDigitsSigned,t);case 4:return xi(Xi.fourDigitsSigned,t);default:return xi(new RegExp("^-?\\d{1,"+e+"}"),t)}}function WD(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function $K(e,t){const r=t>0,n=r?t:1-t;let a;if(n<=50)a=e||100;else{const i=n+50,s=Math.trunc(i/100)*100,o=e>=i%100;a=e+s-(o?100:0)}return r?a:1-a}function BK(e){return e%400===0||e%4===0&&e%100!==0}class uve extends ga{constructor(){super(...arguments);yr(this,"priority",130);yr(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(r,n,a){const i=s=>({year:s,isTwoDigitYear:n==="yy"});switch(n){case"y":return Ji(Ri(4,r),i);case"yo":return Ji(a.ordinalNumber(r,{unit:"year"}),i);default:return Ji(Ri(n.length,r),i)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,a){const i=r.getFullYear();if(a.isTwoDigitYear){const o=$K(a.year,i);return r.setFullYear(o,0,1),r.setHours(0,0,0,0),r}const s=!("era"in n)||n.era===1?a.year:1-a.year;return r.setFullYear(s,0,1),r.setHours(0,0,0,0),r}}class dve extends ga{constructor(){super(...arguments);yr(this,"priority",130);yr(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(r,n,a){const i=s=>({year:s,isTwoDigitYear:n==="YY"});switch(n){case"Y":return Ji(Ri(4,r),i);case"Yo":return Ji(a.ordinalNumber(r,{unit:"year"}),i);default:return Ji(Ri(n.length,r),i)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,a,i){const s=qD(r,i);if(a.isTwoDigitYear){const c=$K(a.year,s);return r.setFullYear(c,0,i.firstWeekContainsDate),r.setHours(0,0,0,0),co(r,i)}const o=!("era"in n)||n.era===1?a.year:1-a.year;return r.setFullYear(o,0,i.firstWeekContainsDate),r.setHours(0,0,0,0),co(r,i)}}class fve extends ga{constructor(){super(...arguments);yr(this,"priority",130);yr(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(r,n){return R5(n==="R"?4:n.length,r)}set(r,n,a){const i=Sa(r,0);return i.setFullYear(a,0,4),i.setHours(0,0,0,0),wh(i)}}class hve extends ga{constructor(){super(...arguments);yr(this,"priority",130);yr(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(r,n){return R5(n==="u"?4:n.length,r)}set(r,n,a){return r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}}class pve extends ga{constructor(){super(...arguments);yr(this,"priority",120);yr(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"Q":case"QQ":return Ri(n.length,r);case"Qo":return a.ordinalNumber(r,{unit:"quarter"});case"QQQ":return a.quarter(r,{width:"abbreviated",context:"formatting"})||a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(r,{width:"wide",context:"formatting"})||a.quarter(r,{width:"abbreviated",context:"formatting"})||a.quarter(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=1&&n<=4}set(r,n,a){return r.setMonth((a-1)*3,1),r.setHours(0,0,0,0),r}}class mve extends ga{constructor(){super(...arguments);yr(this,"priority",120);yr(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"q":case"qq":return Ri(n.length,r);case"qo":return a.ordinalNumber(r,{unit:"quarter"});case"qqq":return a.quarter(r,{width:"abbreviated",context:"standalone"})||a.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(r,{width:"wide",context:"standalone"})||a.quarter(r,{width:"abbreviated",context:"standalone"})||a.quarter(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=1&&n<=4}set(r,n,a){return r.setMonth((a-1)*3,1),r.setHours(0,0,0,0),r}}class gve extends ga{constructor(){super(...arguments);yr(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);yr(this,"priority",110)}parse(r,n,a){const i=s=>s-1;switch(n){case"M":return Ji(xi(Xi.month,r),i);case"MM":return Ji(Ri(2,r),i);case"Mo":return Ji(a.ordinalNumber(r,{unit:"month"}),i);case"MMM":return a.month(r,{width:"abbreviated",context:"formatting"})||a.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(r,{width:"wide",context:"formatting"})||a.month(r,{width:"abbreviated",context:"formatting"})||a.month(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.setMonth(a,1),r.setHours(0,0,0,0),r}}class vve extends ga{constructor(){super(...arguments);yr(this,"priority",110);yr(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(r,n,a){const i=s=>s-1;switch(n){case"L":return Ji(xi(Xi.month,r),i);case"LL":return Ji(Ri(2,r),i);case"Lo":return Ji(a.ordinalNumber(r,{unit:"month"}),i);case"LLL":return a.month(r,{width:"abbreviated",context:"standalone"})||a.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(r,{width:"wide",context:"standalone"})||a.month(r,{width:"abbreviated",context:"standalone"})||a.month(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.setMonth(a,1),r.setHours(0,0,0,0),r}}function yve(e,t,r){const n=mr(e),a=zD(n,r)-t;return n.setDate(n.getDate()-a*7),n}class xve extends ga{constructor(){super(...arguments);yr(this,"priority",100);yr(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(r,n,a){switch(n){case"w":return xi(Xi.week,r);case"wo":return a.ordinalNumber(r,{unit:"week"});default:return Ri(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,a,i){return co(yve(r,a,i),i)}}function wve(e,t){const r=mr(e),n=UD(r)-t;return r.setDate(r.getDate()-n*7),r}class bve extends ga{constructor(){super(...arguments);yr(this,"priority",100);yr(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(r,n,a){switch(n){case"I":return xi(Xi.week,r);case"Io":return a.ordinalNumber(r,{unit:"week"});default:return Ri(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,a){return wh(wve(r,a))}}const _ve=[31,28,31,30,31,30,31,31,30,31,30,31],Sve=[31,29,31,30,31,30,31,31,30,31,30,31];class Nve extends ga{constructor(){super(...arguments);yr(this,"priority",90);yr(this,"subPriority",1);yr(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"d":return xi(Xi.date,r);case"do":return a.ordinalNumber(r,{unit:"date"});default:return Ri(n.length,r)}}validate(r,n){const a=r.getFullYear(),i=BK(a),s=r.getMonth();return i?n>=1&&n<=Sve[s]:n>=1&&n<=_ve[s]}set(r,n,a){return r.setDate(a),r.setHours(0,0,0,0),r}}class Ave extends ga{constructor(){super(...arguments);yr(this,"priority",90);yr(this,"subpriority",1);yr(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(r,n,a){switch(n){case"D":case"DD":return xi(Xi.dayOfYear,r);case"Do":return a.ordinalNumber(r,{unit:"date"});default:return Ri(n.length,r)}}validate(r,n){const a=r.getFullYear();return BK(a)?n>=1&&n<=366:n>=1&&n<=365}set(r,n,a){return r.setMonth(0,a),r.setHours(0,0,0,0),r}}function VD(e,t,r){var f,h,m,w;const n=Ph(),a=(r==null?void 0:r.weekStartsOn)??((h=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:h.weekStartsOn)??n.weekStartsOn??((w=(m=n.locale)==null?void 0:m.options)==null?void 0:w.weekStartsOn)??0,i=mr(e),s=i.getDay(),c=(t%7+7)%7,u=7-a,d=t<0||t>6?t-(s+u)%7:(c+u)%7-(s+u)%7;return Ua(i,d)}class kve extends ga{constructor(){super(...arguments);yr(this,"priority",90);yr(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"E":case"EE":case"EEE":return a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,i){return r=VD(r,a,i),r.setHours(0,0,0,0),r}}class Eve extends ga{constructor(){super(...arguments);yr(this,"priority",90);yr(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(r,n,a,i){const s=o=>{const c=Math.floor((o-1)/7)*7;return(o+i.weekStartsOn+6)%7+c};switch(n){case"e":case"ee":return Ji(Ri(n.length,r),s);case"eo":return Ji(a.ordinalNumber(r,{unit:"day"}),s);case"eee":return a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"eeeee":return a.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,i){return r=VD(r,a,i),r.setHours(0,0,0,0),r}}class Cve extends ga{constructor(){super(...arguments);yr(this,"priority",90);yr(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(r,n,a,i){const s=o=>{const c=Math.floor((o-1)/7)*7;return(o+i.weekStartsOn+6)%7+c};switch(n){case"c":case"cc":return Ji(Ri(n.length,r),s);case"co":return Ji(a.ordinalNumber(r,{unit:"day"}),s);case"ccc":return a.day(r,{width:"abbreviated",context:"standalone"})||a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"});case"ccccc":return a.day(r,{width:"narrow",context:"standalone"});case"cccccc":return a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(r,{width:"wide",context:"standalone"})||a.day(r,{width:"abbreviated",context:"standalone"})||a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,i){return r=VD(r,a,i),r.setHours(0,0,0,0),r}}function Pve(e,t){const r=mr(e),n=tve(r),a=t-n;return Ua(r,a)}class Tve extends ga{constructor(){super(...arguments);yr(this,"priority",90);yr(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(r,n,a){const i=s=>s===0?7:s;switch(n){case"i":case"ii":return Ri(n.length,r);case"io":return a.ordinalNumber(r,{unit:"day"});case"iii":return Ji(a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),i);case"iiiii":return Ji(a.day(r,{width:"narrow",context:"formatting"}),i);case"iiiiii":return Ji(a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),i);case"iiii":default:return Ji(a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),i)}}validate(r,n){return n>=1&&n<=7}set(r,n,a){return r=Pve(r,a),r.setHours(0,0,0,0),r}}class Ove extends ga{constructor(){super(...arguments);yr(this,"priority",80);yr(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(r,n,a){switch(n){case"a":case"aa":case"aaa":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(WD(a),0,0,0),r}}class Dve extends ga{constructor(){super(...arguments);yr(this,"priority",80);yr(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(r,n,a){switch(n){case"b":case"bb":case"bbb":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(WD(a),0,0,0),r}}class Ive extends ga{constructor(){super(...arguments);yr(this,"priority",80);yr(this,"incompatibleTokens",["a","b","t","T"])}parse(r,n,a){switch(n){case"B":case"BB":case"BBB":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(WD(a),0,0,0),r}}class Rve extends ga{constructor(){super(...arguments);yr(this,"priority",70);yr(this,"incompatibleTokens",["H","K","k","t","T"])}parse(r,n,a){switch(n){case"h":return xi(Xi.hour12h,r);case"ho":return a.ordinalNumber(r,{unit:"hour"});default:return Ri(n.length,r)}}validate(r,n){return n>=1&&n<=12}set(r,n,a){const i=r.getHours()>=12;return i&&a<12?r.setHours(a+12,0,0,0):!i&&a===12?r.setHours(0,0,0,0):r.setHours(a,0,0,0),r}}class Mve extends ga{constructor(){super(...arguments);yr(this,"priority",70);yr(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(r,n,a){switch(n){case"H":return xi(Xi.hour23h,r);case"Ho":return a.ordinalNumber(r,{unit:"hour"});default:return Ri(n.length,r)}}validate(r,n){return n>=0&&n<=23}set(r,n,a){return r.setHours(a,0,0,0),r}}class Fve extends ga{constructor(){super(...arguments);yr(this,"priority",70);yr(this,"incompatibleTokens",["h","H","k","t","T"])}parse(r,n,a){switch(n){case"K":return xi(Xi.hour11h,r);case"Ko":return a.ordinalNumber(r,{unit:"hour"});default:return Ri(n.length,r)}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.getHours()>=12&&a<12?r.setHours(a+12,0,0,0):r.setHours(a,0,0,0),r}}class Lve extends ga{constructor(){super(...arguments);yr(this,"priority",70);yr(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(r,n,a){switch(n){case"k":return xi(Xi.hour24h,r);case"ko":return a.ordinalNumber(r,{unit:"hour"});default:return Ri(n.length,r)}}validate(r,n){return n>=1&&n<=24}set(r,n,a){const i=a<=24?a%24:a;return r.setHours(i,0,0,0),r}}class jve extends ga{constructor(){super(...arguments);yr(this,"priority",60);yr(this,"incompatibleTokens",["t","T"])}parse(r,n,a){switch(n){case"m":return xi(Xi.minute,r);case"mo":return a.ordinalNumber(r,{unit:"minute"});default:return Ri(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,a){return r.setMinutes(a,0,0),r}}class $ve extends ga{constructor(){super(...arguments);yr(this,"priority",50);yr(this,"incompatibleTokens",["t","T"])}parse(r,n,a){switch(n){case"s":return xi(Xi.second,r);case"so":return a.ordinalNumber(r,{unit:"second"});default:return Ri(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,a){return r.setSeconds(a,0),r}}class Bve extends ga{constructor(){super(...arguments);yr(this,"priority",30);yr(this,"incompatibleTokens",["t","T"])}parse(r,n){const a=i=>Math.trunc(i*Math.pow(10,-n.length+3));return Ji(Ri(n.length,r),a)}set(r,n,a){return r.setMilliseconds(a),r}}class Uve extends ga{constructor(){super(...arguments);yr(this,"priority",10);yr(this,"incompatibleTokens",["t","T","x"])}parse(r,n){switch(n){case"X":return Yd(Gd.basicOptionalMinutes,r);case"XX":return Yd(Gd.basic,r);case"XXXX":return Yd(Gd.basicOptionalSeconds,r);case"XXXXX":return Yd(Gd.extendedOptionalSeconds,r);case"XXX":default:return Yd(Gd.extended,r)}}set(r,n,a){return n.timestampIsSet?r:Sa(r,r.getTime()-df(r)-a)}}class qve extends ga{constructor(){super(...arguments);yr(this,"priority",10);yr(this,"incompatibleTokens",["t","T","X"])}parse(r,n){switch(n){case"x":return Yd(Gd.basicOptionalMinutes,r);case"xx":return Yd(Gd.basic,r);case"xxxx":return Yd(Gd.basicOptionalSeconds,r);case"xxxxx":return Yd(Gd.extendedOptionalSeconds,r);case"xxx":default:return Yd(Gd.extended,r)}}set(r,n,a){return n.timestampIsSet?r:Sa(r,r.getTime()-df(r)-a)}}class zve extends ga{constructor(){super(...arguments);yr(this,"priority",40);yr(this,"incompatibleTokens","*")}parse(r){return jK(r)}set(r,n,a){return[Sa(r,a*1e3),{timestampIsSet:!0}]}}class Wve extends ga{constructor(){super(...arguments);yr(this,"priority",20);yr(this,"incompatibleTokens","*")}parse(r){return jK(r)}set(r,n,a){return[Sa(r,a),{timestampIsSet:!0}]}}const Vve={G:new cve,y:new uve,Y:new dve,R:new fve,u:new hve,Q:new pve,q:new mve,M:new gve,L:new vve,w:new xve,I:new bve,d:new Nve,D:new Ave,E:new kve,e:new Eve,c:new Cve,i:new Tve,a:new Ove,b:new Dve,B:new Ive,h:new Rve,H:new Mve,K:new Fve,k:new Lve,m:new jve,s:new $ve,S:new Bve,X:new Uve,x:new qve,t:new zve,T:new Wve},Hve=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Gve=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Yve=/^'([^]*?)'?$/,Kve=/''/g,Xve=/\S/,Jve=/[a-zA-Z]/;function bL(e,t,r,n){var g,y,b,_;const a=eve(),i=a.locale??Xw,s=a.firstWeekContainsDate??((y=(g=a.locale)==null?void 0:g.options)==null?void 0:y.firstWeekContainsDate)??1,o=a.weekStartsOn??((_=(b=a.locale)==null?void 0:b.options)==null?void 0:_.weekStartsOn)??0;if(t==="")return e===""?mr(r):Sa(r,NaN);const c={firstWeekContainsDate:s,weekStartsOn:o,locale:i},u=[new lve],d=t.match(Gve).map(N=>{const E=N[0];if(E in P6){const C=P6[E];return C(N,i.formatLong)}return N}).join("").match(Hve),f=[];for(let N of d){MK(N)&&T6(N,t,e),RK(N)&&T6(N,t,e);const E=N[0],C=Vve[E];if(C){const{incompatibleTokens:O}=C;if(Array.isArray(O)){const M=f.find(L=>O.includes(L.token)||L.token===E);if(M)throw new RangeError(`The format string mustn't contain \`${M.fullToken}\` and \`${N}\` at the same time`)}else if(C.incompatibleTokens==="*"&&f.length>0)throw new RangeError(`The format string mustn't contain \`${N}\` and any other token at the same time`);f.push({token:E,fullToken:N});const P=C.run(e,N,i.match,c);if(!P)return Sa(r,NaN);u.push(P.setter),e=P.rest}else{if(E.match(Jve))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");if(N==="''"?N="'":E==="'"&&(N=Zve(N)),e.indexOf(N)===0)e=e.slice(N.length);else return Sa(r,NaN)}}if(e.length>0&&Xve.test(e))return Sa(r,NaN);const h=u.map(N=>N.priority).sort((N,E)=>E-N).filter((N,E,C)=>C.indexOf(N)===E).map(N=>u.filter(E=>E.priority===N).sort((E,C)=>C.subPriority-E.subPriority)).map(N=>N[0]);let m=mr(r);if(isNaN(m.getTime()))return Sa(r,NaN);const w={};for(const N of h){if(!N.validate(m,c))return Sa(r,NaN);const E=N.set(m,w,c);Array.isArray(E)?(m=E[0],Object.assign(w,E[1])):m=E}return Sa(r,m)}function Zve(e){return e.match(Yve)[1].replace(Kve,"'")}function Qve(e){return+mr(e)<Date.now()}function z4(e,t){const r=mr(e),n=mr(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function e1e(e,t){const r=mr(e),n=mr(t);return r.getFullYear()===n.getFullYear()}function Op(e){return ll(e,CK(e))}function w0(e,t){const r=+mr(e),[n,a]=[+mr(t.start),+mr(t.end)].sort((i,s)=>i-s);return r>=n&&r<=a}function F3(e,t){return Ua(e,-t)}function Wr(e,t){const n=a1e(e);let a;if(n.date){const c=i1e(n.date,2);a=s1e(c.restDateString,c.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const i=a.getTime();let s=0,o;if(n.time&&(s=o1e(n.time),isNaN(s)))return new Date(NaN);if(n.timezone){if(o=l1e(n.timezone),isNaN(o))return new Date(NaN)}else{const c=new Date(i+s),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(i+s+o)}const y_={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},t1e=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,r1e=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,n1e=/^([+-])(\d{2})(?::?(\d{2}))?$/;function a1e(e){const t={},r=e.split(y_.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],y_.timeZoneDelimiter.test(t.date)&&(t.date=e.split(y_.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const a=y_.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function i1e(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function s1e(e,t){if(t===null)return new Date(NaN);const r=e.match(t1e);if(!r)return new Date(NaN);const n=!!r[4],a=c2(r[1]),i=c2(r[2])-1,s=c2(r[3]),o=c2(r[4]),c=c2(r[5])-1;if(n)return h1e(t,o,c)?c1e(t,o,c):new Date(NaN);{const u=new Date(0);return!d1e(t,i,s)||!f1e(t,a)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(a,s)),u)}}function c2(e){return e?parseInt(e):1}function o1e(e){const t=e.match(r1e);if(!t)return NaN;const r=L3(t[1]),n=L3(t[2]),a=L3(t[3]);return p1e(r,n,a)?r*q4+n*_x+a*1e3:NaN}function L3(e){return e&&parseFloat(e.replace(",","."))||0}function l1e(e){if(e==="Z")return 0;const t=e.match(n1e);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return m1e(n,a)?r*(n*q4+a*_x):NaN}function c1e(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const a=n.getUTCDay()||7,i=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}const u1e=[31,null,31,30,31,30,31,31,30,31,30,31];function UK(e){return e%400===0||e%4===0&&e%100!==0}function d1e(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(u1e[t]||(UK(e)?29:28))}function f1e(e,t){return t>=1&&t<=(UK(e)?366:365)}function h1e(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function p1e(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function m1e(e,t){return t>=0&&t<=59}function j3(e,t){const r=mr(e),n=r.getFullYear(),a=r.getDate(),i=Sa(e,0);i.setFullYear(n,t,15),i.setHours(0,0,0,0);const s=Qge(i);return r.setMonth(t,Math.min(a,s)),r}function g1e(e,t){const r=mr(e);return r.setHours(t),r}function v1e(e,t){const r=mr(e);return r.setMinutes(t),r}function _L(e,t){const r=mr(e);return isNaN(+r)?Sa(e,NaN):(r.setFullYear(t),r)}function D6(e,t){return pl(e,-t)}function Sx(e,t){return kK(e,-t)}function y1e(e,t){return b1(e,-1)}function x1e({notifications:e,onClose:t,onMarkAsRead:r,onClearNotification:n}){const a=i=>{i.is_read||r(i.id)};return x(or,{className:"fixed top-16 right-4 z-50 w-96 shadow-lg border bg-card text-card-foreground",children:[" ",x(wr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l(_r,{className:"text-lg font-medium",children:"Notifications"}),l(Me,{variant:"ghost",size:"icon",onClick:t,"aria-label":"Close notifications",children:l(ed,{className:"h-4 w-4"})})]}),l(pr,{className:"p-0",children:x("div",{className:"max-h-[calc(100vh-10rem)] overflow-y-auto",children:[" ",e.length===0?l("p",{className:"text-sm text-muted-foreground text-center p-4",children:"No new notifications."}):e.map(i=>x("div",{className:Lt("flex flex-col border-b p-3 hover:bg-muted/50 cursor-pointer",i.is_read===!0?"opacity-70":"font-medium"),onClick:()=>a(i),role:"button",tabIndex:0,onKeyDown:s=>s.key==="Enter"&&a(i),children:[x("div",{className:"flex justify-between items-center w-full",children:[" ",l("span",{className:"text-sm flex-grow mr-2",children:i.message})," ",l(Me,{variant:"ghost",size:"icon",className:"h-6 w-6 flex-shrink-0",onClick:s=>{s.stopPropagation(),n(i.id)},"aria-label":"Clear notification",children:l(ed,{className:"h-3 w-3"})})]}),x("div",{className:"flex justify-between items-center mt-1",children:[l("span",{className:"text-xs text-muted-foreground",children:i.created_at?Zge(new Date(i.created_at),{addSuffix:!0}):"Just now"}),i.is_read!==!0&&l("span",{title:"Mark as read",className:"text-primary"})]})]},i.id))]})})]})}const w1e=Bw("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function yc({className:e,variant:t,...r}){return l("div",{className:Lt(w1e({variant:t}),e),...r})}const b1e=(e,t)=>{if(e){const r=e.split(" ");if(r.length>1)return`${r[0][0]}${r[r.length-1][0]}`.toUpperCase();if(r.length===1&&r[0].length>0)return r[0].substring(0,2).toUpperCase()}return t?t.substring(0,2).toUpperCase():"U"};function _1e({user:e}){const{toast:t}=bn(),r=Ss(),{user:n,signOut:a}=di(),[i,s]=S.useState(""),[o,c]=S.useState(!1),{notifications:u,markAsRead:d,clearNotification:f}=H0e(),h=S.useMemo(()=>u.filter(P=>P.is_read!==!0).length,[u]),m=P=>{s(P.target.value)},w=P=>{if(P.key==="Enter"&&i.trim()){const M=i.trim();r(`/search?q=${encodeURIComponent(M)}`),s("")}},g=async()=>{try{await a(),t({title:"Logged out successfully"}),r("/login")}catch(P){console.error("Logout failed:",P),t({title:"Logout Failed",description:P.message||"An unexpected error occurred.",variant:"destructive"})}},y=()=>{c(P=>!P)},b=()=>{c(!1)};S.useEffect(()=>{const P=M=>{const L=document.getElementById("notification-panel"),j=document.getElementById("notification-trigger");L&&!L.contains(M.target)&&j&&!j.contains(M.target)&&b()};return o?document.addEventListener("mousedown",P):document.removeEventListener("mousedown",P),()=>{document.removeEventListener("mousedown",P)}},[o]);const _=e==null?void 0:e.display_name,N=e==null?void 0:e.avatar_url,E=e==null?void 0:e.email,[C,O]=S.useState("https://i.postimg.cc/j2qGSXwJ/facetslogo.png");return S.useEffect(()=>{const P=()=>{const L=localStorage.getItem("customClinicLogo");O(L||"https://i.postimg.cc/j2qGSXwJ/facetslogo.png")};P();const M=L=>{L.key==="customClinicLogo"&&P()};return window.addEventListener("storage",M),()=>{window.removeEventListener("storage",M)}},[]),x(Nr,{children:[l("header",{className:"sticky top-0 z-40 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:x("div",{className:"container flex h-14 items-center",children:[l("div",{className:"mr-4 hidden md:flex",children:l("div",{className:"flex items-center",children:l(Ki,{to:"/dashboard",className:"flex items-center space-x-2",children:l("img",{src:C,alt:"Facets Dental Logo",className:"h-10"})})})}),x("div",{className:"flex flex-1 items-center justify-between space-x-2 md:justify-end",children:[l("div",{className:"w-full flex-1 md:w-auto md:flex-none",children:x("div",{className:"relative",children:[l(_4,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),l(dt,{placeholder:"Search...",className:"pl-8 md:w-[300px] lg:w-[400px]",value:i,onChange:m,onKeyDown:w})]})}),x("div",{className:"flex items-center gap-2",children:[x(Me,{id:"notification-trigger",variant:"ghost",size:"icon",className:"relative","aria-label":"Notifications",onClick:y,children:[l(x4,{className:"h-4 w-4"}),h>0&&l(yc,{variant:"destructive",className:"absolute -top-1 -right-1 h-4 w-4 justify-center rounded-full p-0 text-xs",children:h>9?"9+":h})]}),x(_pe,{children:[l(Spe,{asChild:!0,children:l(Me,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:x($4,{className:"h-8 w-8",children:[l(ID,{src:N||"https://syevxwuraxjpvkcclmjj.supabase.co/storage/v1/object/public/avatars/68f6a588-b802-4e33-8c6b-3de2d070d3bf-1744191950747.jpg",alt:_||E||"User"}),l(B4,{children:b1e(_,E)})]})})}),x(YY,{className:"w-56",align:"end",forceMount:!0,children:[l(KY,{className:"font-normal",children:x("div",{className:"flex flex-col space-y-1",children:[l("p",{className:"text-sm font-medium leading-none",children:_||"User Name"}),l("p",{className:"text-xs leading-none text-muted-foreground",children:E||"user@example.com"})]})}),l(w6,{}),l(P2,{asChild:!0,children:l(Ki,{to:"/profile",children:"Profile"})}),l(P2,{asChild:!0,children:l(Ki,{to:"/settings",children:"Settings"})}),l(P2,{asChild:!0,children:l(Ki,{to:"/payments-subscription",children:"Payments & Subscription"})}),l(w6,{}),l(P2,{onClick:g,className:"cursor-pointer",children:"Log out"})]})]})]})]})]})}),o&&l("div",{id:"notification-panel",className:"absolute top-0 right-0 z-50 mt-14 mr-4",children:l(x1e,{notifications:u,onClose:b,onMarkAsRead:d,onClearNotification:f})})]})}var W4="Collapsible",[S1e,qK]=ts(W4),[N1e,HD]=S1e(W4),zK=S.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:a,disabled:i,onOpenChange:s,...o}=e,[c,u]=hl({prop:n,defaultProp:a??!1,onChange:s,caller:W4});return l(N1e,{scope:r,disabled:i,contentId:$l(),open:c,onOpenToggle:S.useCallback(()=>u(d=>!d),[u]),children:l(xr.div,{"data-state":YD(c),"data-disabled":i?"":void 0,...o,ref:t})})});zK.displayName=W4;var WK="CollapsibleTrigger",VK=S.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,a=HD(WK,r);return l(xr.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":YD(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...n,ref:t,onClick:Ht(e.onClick,a.onOpenToggle)})});VK.displayName=WK;var GD="CollapsibleContent",HK=S.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=HD(GD,e.__scopeCollapsible);return l(uo,{present:r||a.open,children:({present:i})=>l(A1e,{...n,ref:t,present:i})})});HK.displayName=GD;var A1e=S.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:a,...i}=e,s=HD(GD,r),[o,c]=S.useState(n),u=S.useRef(null),d=Jr(t,u),f=S.useRef(0),h=f.current,m=S.useRef(0),w=m.current,g=s.open||o,y=S.useRef(g),b=S.useRef(void 0);return S.useEffect(()=>{const _=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(_)},[]),ui(()=>{const _=u.current;if(_){b.current=b.current||{transitionDuration:_.style.transitionDuration,animationName:_.style.animationName},_.style.transitionDuration="0s",_.style.animationName="none";const N=_.getBoundingClientRect();f.current=N.height,m.current=N.width,y.current||(_.style.transitionDuration=b.current.transitionDuration,_.style.animationName=b.current.animationName),c(n)}},[s.open,n]),l(xr.div,{"data-state":YD(s.open),"data-disabled":s.disabled?"":void 0,id:s.contentId,hidden:!g,...i,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":w?`${w}px`:void 0,...e.style},children:g&&a})});function YD(e){return e?"open":"closed"}var k1e=zK,E1e=VK,C1e=HK,dd="Accordion",P1e=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[KD,T1e,O1e]=Uw(dd),[V4,eQe]=ts(dd,[O1e,qK]),XD=qK(),GK=tt.forwardRef((e,t)=>{const{type:r,...n}=e,a=n,i=n;return l(KD.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?l(M1e,{...i,ref:t}):l(R1e,{...a,ref:t})})});GK.displayName=dd;var[YK,D1e]=V4(dd),[KK,I1e]=V4(dd,{collapsible:!1}),R1e=tt.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},collapsible:i=!1,...s}=e,[o,c]=hl({prop:r,defaultProp:n??"",onChange:a,caller:dd});return l(YK,{scope:e.__scopeAccordion,value:tt.useMemo(()=>o?[o]:[],[o]),onItemOpen:c,onItemClose:tt.useCallback(()=>i&&c(""),[i,c]),children:l(KK,{scope:e.__scopeAccordion,collapsible:i,children:l(XK,{...s,ref:t})})})}),M1e=tt.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...i}=e,[s,o]=hl({prop:r,defaultProp:n??[],onChange:a,caller:dd}),c=tt.useCallback(d=>o((f=[])=>[...f,d]),[o]),u=tt.useCallback(d=>o((f=[])=>f.filter(h=>h!==d)),[o]);return l(YK,{scope:e.__scopeAccordion,value:s,onItemOpen:c,onItemClose:u,children:l(KK,{scope:e.__scopeAccordion,collapsible:!0,children:l(XK,{...i,ref:t})})})}),[F1e,H4]=V4(dd),XK=tt.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:a,orientation:i="vertical",...s}=e,o=tt.useRef(null),c=Jr(o,t),u=T1e(r),f=Sg(a)==="ltr",h=Ht(e.onKeyDown,m=>{var M;if(!P1e.includes(m.key))return;const w=m.target,g=u().filter(L=>{var j;return!((j=L.ref.current)!=null&&j.disabled)}),y=g.findIndex(L=>L.ref.current===w),b=g.length;if(y===-1)return;m.preventDefault();let _=y;const N=0,E=b-1,C=()=>{_=y+1,_>E&&(_=N)},O=()=>{_=y-1,_<N&&(_=E)};switch(m.key){case"Home":_=N;break;case"End":_=E;break;case"ArrowRight":i==="horizontal"&&(f?C():O());break;case"ArrowDown":i==="vertical"&&C();break;case"ArrowLeft":i==="horizontal"&&(f?O():C());break;case"ArrowUp":i==="vertical"&&O();break}const P=_%b;(M=g[P].ref.current)==null||M.focus()});return l(F1e,{scope:r,disabled:n,direction:a,orientation:i,children:l(KD.Slot,{scope:r,children:l(xr.div,{...s,"data-orientation":i,ref:c,onKeyDown:n?void 0:h})})})}),M5="AccordionItem",[L1e,JD]=V4(M5),JK=tt.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...a}=e,i=H4(M5,r),s=D1e(M5,r),o=XD(r),c=$l(),u=n&&s.value.includes(n)||!1,d=i.disabled||e.disabled;return l(L1e,{scope:r,open:u,disabled:d,triggerId:c,children:l(k1e,{"data-orientation":i.orientation,"data-state":nX(u),...o,...a,ref:t,disabled:d,open:u,onOpenChange:f=>{f?s.onItemOpen(n):s.onItemClose(n)}})})});JK.displayName=M5;var ZK="AccordionHeader",QK=tt.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=H4(dd,r),i=JD(ZK,r);return l(xr.h3,{"data-orientation":a.orientation,"data-state":nX(i.open),"data-disabled":i.disabled?"":void 0,...n,ref:t})});QK.displayName=ZK;var I6="AccordionTrigger",eX=tt.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=H4(dd,r),i=JD(I6,r),s=I1e(I6,r),o=XD(r);return l(KD.ItemSlot,{scope:r,children:l(E1e,{"aria-disabled":i.open&&!s.collapsible||void 0,"data-orientation":a.orientation,id:i.triggerId,...o,...n,ref:t})})});eX.displayName=I6;var tX="AccordionContent",rX=tt.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=H4(dd,r),i=JD(tX,r),s=XD(r);return l(C1e,{role:"region","aria-labelledby":i.triggerId,"data-orientation":a.orientation,...s,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});rX.displayName=tX;function nX(e){return e?"open":"closed"}var j1e=GK,$1e=JK,B1e=QK,aX=eX,iX=rX;const G4=j1e,no=S.forwardRef(({className:e,...t},r)=>l($1e,{ref:r,className:Lt("border-b",e),...t}));no.displayName="AccordionItem";const ao=S.forwardRef(({className:e,children:t,...r},n)=>l(B1e,{className:"flex",children:x(aX,{ref:n,className:Lt("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,l(cD,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));ao.displayName=aX.displayName;const io=S.forwardRef(({className:e,children:t,...r},n)=>l(iX,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:l("div",{className:Lt("pb-4 pt-0",e),children:t})}));io.displayName=iX.displayName;const U1e=[{name:"Dashboard",href:"/",icon:Ice},{name:"Appointments",href:"/appointments",icon:Oi},{name:"Patients",href:"/patients",icon:N4},{name:"Treatment Plans",href:"/treatment-plans",icon:S4},{name:"Patient Medical Record",href:"/patient-medical-records",icon:N5},{name:"Inventory",href:"/inventory",icon:sG,children:[{name:"Purchases",href:"/purchases"},{name:"Urgent Purchase Entry",href:"/purchases/urgent"},{name:"Invoices",href:"/inventory/invoices"},{name:"Create Adjustment",href:"/inventory/create-adjustment"},{name:"Stock Take",href:"/inventory/stock-take"}]},{name:"Assets",href:"/assets",icon:KH},{name:"Reports",href:"/reports",icon:wce},{name:"Reminders",href:"/reminders",icon:x4},{name:"Settings",href:"/settings",icon:Vce},{name:"Inv. Approvals",href:"/inventory-approvals",icon:aG,roles:["admin","owner","doctor"]}],q1e=["Inventory","Assets","Reports","Reminders"];function z1e(){const e=Cm(),{user:t}=di(),r=U1e.filter(n=>!t||!t.role?!1:n.roles&&Array.isArray(n.roles)?n.roles.includes(t.role):t.role==="admin"||t.role==="owner"?!0:t.role==="doctor"?!q1e.includes(n.name):!1);return!t||r.length===0?null:l("div",{className:"hidden border-r bg-background md:block md:w-64",children:x("div",{className:"flex h-full flex-col gap-2",children:[l("div",{className:"flex h-14 items-center border-b px-4",children:x(Ki,{to:"/",className:"flex items-center gap-2 font-semibold",children:[l("img",{src:"https://i.postimg.cc/bwDhkb5H/dentalcare.png",alt:"Dental Care Logo",className:"h-12"})," "]})}),l("div",{className:"flex-1 overflow-auto py-2",children:l("nav",{className:"grid items-start px-2 text-sm font-medium",children:r.map(n=>{const a=n.icon,i=n.children&&n.children.some(s=>e.pathname.startsWith(s.href))||e.pathname.startsWith(n.href);if(n.children){const s=i?n.name:"";return l(G4,{type:"single",collapsible:!0,defaultValue:s,className:"w-full",children:x(no,{value:n.name,className:"border-b-0",children:[l(ao,{className:Lt("w-full justify-start gap-2 rounded-md px-3 py-2 text-sm font-medium hover:bg-accent hover:text-accent-foreground [&[data-state=open]>svg]:rotate-180",e.pathname===n.href?"bg-secondary text-secondary-foreground":"hover:bg-muted"),children:x(Ki,{to:n.href,className:"flex items-center flex-grow gap-2",onClick:o=>o.stopPropagation(),children:[" ",l(a,{className:"h-4 w-4"}),l("span",{children:n.name})]})}),x(io,{className:"pt-1 pb-0 pl-7",children:[" ",l("nav",{className:"grid gap-1",children:n.children.map(o=>{const c=e.pathname===o.href;return l(Ki,{to:o.href,children:l(Me,{variant:c?"secondary":"ghost",size:"sm",className:Lt("w-full justify-start gap-2 pl-2",{"bg-secondary text-secondary-foreground":c}),children:o.name})},o.href)})})]})]})},n.name)}return l(Ki,{to:n.href,children:x(Me,{variant:i?"secondary":"ghost",className:Lt("w-full justify-start gap-2 rounded-md px-3 py-2 text-sm font-medium",{"bg-secondary text-secondary-foreground":i}),children:[l(a,{className:"h-4 w-4"}),n.name]})},n.href)})})})]})})}const sX=async()=>{const{data:e,error:t}=await je.from("reminders").select("*").order("reminder_datetime",{ascending:!0});if(t)throw console.error("Error fetching reminders:",t),new Error("Failed to fetch reminders.");return e.map(r=>({...r,recurrence_config:typeof r.recurrence_config=="string"?JSON.parse(r.recurrence_config):r.recurrence_config||{type:"none"}}))},W1e=async e=>{const{data:t,error:r}=await je.from("reminders").insert(e).select().single();if(r)throw console.error("Error creating reminder:",r),new Error("Failed to create reminder.");return t},oX=async(e,t)=>{const{data:r,error:n}=await je.from("reminders").update(t).eq("id",e).select().single();if(n)throw console.error("Error updating reminder:",n),new Error("Failed to update reminder.");return r},V1e=async e=>{const{error:t}=await je.from("reminders").delete().eq("id",e);if(t)throw console.error("Error deleting reminder:",t),new Error("Failed to delete reminder.")},x_=60*1e3;function lX(){const{user:e}=di(),{toast:t}=bn(),[r,n]=S.useState("Notification"in window?Notification.permission:"default"),a=S.useRef(new Map),[i,s]=S.useState(new Set),o=S.useRef(null);return S.useEffect(()=>{if(!("Notification"in window))return;const c=Notification.permission;n(c),c!=="granted"&&c!=="denied"&&Notification.requestPermission().then(u=>{n(u)})},[]),S.useEffect(()=>{if(!e)return;const c=setInterval(async()=>{try{const u=await sX(),d=new Date;u.forEach(f=>{var w;if(!f.is_active)return;let h=[];const m=new Date(f.reminder_datetime);if(((w=f.recurrence_config)==null?void 0:w.type)==="daily"){const g=H1e(f,d);g&&(h=G1e(f,g))}else(!f.recurrence_config||f.recurrence_config.type==="none")&&(m>=d&&s5(d,m)<x_?h=[m]:Qve(m)&&s5(d,m)<x_&&(h=[m]));h.forEach(g=>{const y=s5(d,g),b=`${f.id}-${g.toISOString()}`,_=a.current.has(b);if(y>=0&&y<x_&&!_){"Notification"in window&&Notification.permission==="granted"&&new Notification("Dental Care Reminder",{body:f.message,icon:"/ransferent.svg",tag:b}),t({title:"Reminder Due",description:f.message,duration:1e4}),a.current.set(b,d.getTime()),s(E=>new Set(E).add(f.id)),o.current&&clearTimeout(o.current),o.current=setTimeout(()=>{s(new Set),o.current=null},6e4);const N=d.getTime()-24*60*60*1e3;for(const[E,C]of a.current.entries())C<N&&a.current.delete(E)}})})}catch(u){console.error("Error checking reminders for notifications:",u)}},x_);return()=>{clearInterval(c)}},[e,r,t]),S.useEffect(()=>()=>{o.current&&clearTimeout(o.current)},[]),{permission:r,activeReminderIds:i}}function H1e(e,t){if(!e.recurrence_config||e.recurrence_config.type!=="daily")return null;const r=new Date(e.reminder_datetime),n=e.recurrence_config.interval||1,a=new Date(r);if(a.setHours(0,0,0,0),a>t)return null;let i=a;for(;;){const s=Ua(i,n);if(s>t)break;i=s}return i}function G1e(e,t){var o;const r=new Date(e.reminder_datetime),n=((o=e.recurrence_config)==null?void 0:o.times_per_day)||1;if(n<=0)return[];const a=[],i=new Date(t);i.setHours(0,0,0,0);let s=new Date(i);if(s.setHours(r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()),s<r&&s.toDateString()===r.toDateString()&&(s=r),n===1)s>=r&&s.toDateString()===t.toDateString()&&a.push(s);else{const c=864e5/n;for(let u=0;u<n;u++){const d=new Date(s.getTime()+u*c);d.getDate()===t.getDate()&&d>=r&&a.push(d)}}return a}const SL=e=>new Promise(t=>setTimeout(t,e)),NL=e=>{const t=new Date;if(t.setHours(0,0,0,0),e.expiry_date){const r=new Date(e.expiry_date);if(r.setHours(0,0,0,0),r<t)return"Expired"}return(e.quantity??0)<=(e.low_stock_threshold??0)?"Low Stock":"In Stock"},Y1e=30;function K1e(){const{toast:e}=bn(),{user:t}=di(),r=S.useRef(new Set),n=S.useRef(new Set),a=S.useRef(null),i=S.useCallback((o,c)=>{if(!("Notification"in window)){console.warn("This browser does not support desktop notification");return}const u=()=>{Notification.requestPermission().then(d=>{d==="granted"?new Notification(o,c):console.warn("Desktop notification permission denied.")})};Notification.permission==="granted"?new Notification(o,c):Notification.permission!=="denied"&&u()},[]),s=S.useCallback(async o=>{if(!t)return;const c=new Date;c.setHours(0,0,0,0);const u=new Date(c);u.setDate(c.getDate()+Y1e),console.log(`[InventoryAlerts] Check running. Today (normalized): ${c.toISOString()}, Threshold Date: ${u.toISOString()}`);const d=new Set,f=new Set,h=[];for(const m of o){const w=NL(m),g=m.id;if(w==="Low Stock"){const y="low_stock",b=Sx(new Date,12),{count:_,error:N}=await je.from("notifications").select("id",{count:"exact",head:!0}).eq("user_id",t.id).eq("item_id",g).eq("item_type","inventory").eq("notification_type",y).gte("created_at",b.toISOString());if(N&&console.error("Error checking recent low stock notifications:",N),!N&&_===0){console.log(`[InventoryAlerts] PASSED low stock check for item "${m.item_name}". Queueing notification.`),d.add(g);const E=`Item "${m.item_name}" is low on stock (${m.quantity??0} remaining).`,C=`/inventory?highlight=${g}`,O=`low-stock-${g}`;h.push({title:"Low Stock Alert",description:E,variant:"warning",tag:O}),i("Low Stock Alert",{body:E,tag:O});try{const{error:P}=await je.from("notifications").insert({user_id:t.id,message:E,link_url:C,item_id:g,item_type:"inventory",notification_type:y});if(P)throw P}catch(P){console.error("Error inserting low stock notification:",P)}}else!N&&_&&_>0&&console.log(`[InventoryAlerts] Skipped low stock notification for item "${m.item_name}" (sent recently).`)}if(m.expiry_date){const y=new Date(m.expiry_date),b=new Date(y.getFullYear(),y.getMonth(),y.getDate());if(console.log(`[InventoryAlerts] Checking expiry for item "${m.item_name}" (ID: ${g}). Expiry Date (normalized): ${b.toISOString()}`),b>=c&&b<=u){const _="expiry_soon",N=Sx(new Date,12),{count:E,error:C}=await je.from("notifications").select("id",{count:"exact",head:!0}).eq("user_id",t.id).eq("item_id",g).eq("item_type","inventory").eq("notification_type",_).gte("created_at",N.toISOString());if(C&&console.error("Error checking recent expiry notifications:",C),!C&&E===0){console.log(`[InventoryAlerts] PASSED expiry check for item "${m.item_name}". Queueing notification.`),f.add(g);const O=`Item "${m.item_name}" is expiring on ${b.toLocaleDateString()}.`,P=`/inventory?highlight=${g}`,M=`expiry-soon-${g}`;h.push({title:"Expiry Soon Alert",description:O,variant:"default",tag:M}),i("Expiry Soon Alert",{body:O,tag:M});try{const{error:L}=await je.from("notifications").insert({user_id:t.id,message:O,link_url:P,item_id:g,item_type:"inventory",notification_type:_});if(L)throw L}catch(L){console.error("Error inserting expiry soon notification:",L)}}else!C&&E&&E>0&&console.log(`[InventoryAlerts] Skipped expiry soon notification for item "${m.item_name}" (sent recently).`)}}}if(d.size>0&&(r.current=new Set([...r.current,...d])),f.size>0&&(n.current=new Set([...n.current,...f])),h.length>0){console.log(`[InventoryAlerts] Processing ${h.length} queued toasts...`),await SL(2e3);for(const m of h)console.log(`[InventoryAlerts] >>> Showing toast: ${m.title} - ${m.description}`),e({title:m.title,description:m.description,variant:m.variant,duration:1/0}),console.log(`[InventoryAlerts] <<< Shown toast: ${m.title}`),await SL(2e3);console.log("[InventoryAlerts] Finished processing queued toasts.")}},[e,t,i]);return S.useEffect(()=>{t&&(async()=>{try{const{data:c,error:u}=await je.from("inventory_items").select("*");if(u)throw u;c&&s(c)}catch(c){console.error("Error fetching initial inventory for alerts:",c)}})()},[s,t]),S.useEffect(()=>{if(!je)return;const o=c=>{const u=c.new;u&&(s([u]),NL(u)==="In Stock"&&r.current.has(u.id)&&r.current.delete(u.id))};return a.current=je.channel("inventory_items_alerts").on("postgres_changes",{event:"*",schema:"public",table:"inventory_items"},o).subscribe((c,u)=>{c==="SUBSCRIBED"||(c==="CHANNEL_ERROR"||c==="TIMED_OUT"||c==="CLOSED"?console.error(`Inventory Alert Realtime subscription ${c}:`,u):c==="CHANNEL_ERROR"?console.error("Realtime channel error, attempting to resubscribe...",u):(c==="TIMED_OUT"||c==="CLOSED")&&console.warn(`Inventory Alert Realtime subscription ${c}.`,u))}),()=>{const c=a.current;c&&(je.removeChannel(c).catch(u=>console.error("Error removing inventory alert channel:",u)),a.current=null)}},[je,s,t]),null}const AL=e=>new Promise(t=>setTimeout(t,e)),X1e=30;function J1e(){console.log("[AssetAlerts] Hook initializing...");const{toast:e}=bn(),{user:t}=di(),r=S.useRef(new Set),n=S.useRef(new Set),a=S.useRef(null),i=S.useCallback((o,c)=>{if(!("Notification"in window)){console.warn("This browser does not support desktop notification");return}const u=()=>{Notification.requestPermission().then(d=>{d==="granted"?new Notification(o,c):console.warn("Desktop notification permission denied.")})};Notification.permission==="granted"?new Notification(o,c):Notification.permission!=="denied"&&u()},[]),s=S.useCallback(async o=>{if(console.log("[AssetAlerts] checkAndNotifyAssets called with:",o),!t){console.log("[AssetAlerts] checkAndNotifyAssets skipped (no user).");return}const c=new Date;c.setHours(0,0,0,0);const u=new Date(c);u.setDate(c.getDate()+X1e),console.log(`[AssetAlerts] Check running. Today (normalized): ${c.toISOString()}, Threshold Date: ${u.toISOString()}`);const d=new Set,f=new Set,h=[];for(const m of o){const w=m.id;if(m.next_maintenance_due_date){const g=new Date(m.next_maintenance_due_date),y=new Date(g.getFullYear(),g.getMonth(),g.getDate());if(console.log(`[AssetAlerts] Checking maintenance for asset "${m.asset_name}" (ID: ${w}). Due Date (normalized): ${y.toISOString()}`),y>=c&&y<=u){const b="maintenance_due",_=Sx(new Date,12),{count:N,error:E}=await je.from("notifications").select("id",{count:"exact",head:!0}).eq("user_id",t.id).eq("item_id",w).eq("item_type","asset").eq("notification_type",b).gte("created_at",_.toISOString());if(E?console.error("Error checking recent maintenance notifications:",E):console.log(`[AssetAlerts] Maintenance Throttling Check Result for ${m.asset_name}: Count=${N}`),!E&&N===0){console.log(`[AssetAlerts] PASSED maintenance check for asset "${m.asset_name}". Triggering notification.`),d.add(w);const C=`Asset "${m.asset_name}" requires maintenance by ${y.toLocaleDateString()}.`,O=`/assets?highlight=${w}`,P=`maintenance-due-${w}`;h.push({title:"Maintenance Due Soon",description:C,variant:"default",tag:P}),i("Maintenance Due Soon",{body:C,tag:P});try{const{error:M}=await je.from("notifications").insert({user_id:t.id,message:C,link_url:O,item_id:w,item_type:"asset",notification_type:b});if(M)throw M}catch(M){console.error("Error inserting maintenance notification:",M)}}else!E&&N&&N>0&&console.log(`[AssetAlerts] Skipped maintenance notification for asset "${m.asset_name}" (sent recently).`)}}if(m.warranty_expiry_date){const g=new Date(m.warranty_expiry_date),y=new Date(g.getFullYear(),g.getMonth(),g.getDate());if(console.log(`[AssetAlerts] Checking warranty for asset "${m.asset_name}" (ID: ${w}). Expiry Date (normalized): ${y.toISOString()}`),y>=c&&y<=u){const b="warranty_expiry",_=Sx(new Date,12),{count:N,error:E}=await je.from("notifications").select("id",{count:"exact",head:!0}).eq("user_id",t.id).eq("item_id",w).eq("item_type","asset").eq("notification_type",b).gte("created_at",_.toISOString());if(E?console.error("Error checking recent warranty notifications:",E):console.log(`[AssetAlerts] Warranty Throttling Check Result for ${m.asset_name}: Count=${N}`),!E&&N===0){console.log(`[AssetAlerts] PASSED warranty check for asset "${m.asset_name}". Triggering notification.`),f.add(w);const C=`Warranty for asset "${m.asset_name}" expires on ${y.toLocaleDateString()}.`,O=`/assets?highlight=${w}`,P=`warranty-expiry-${w}`;h.push({title:"Warranty Expiring Soon",description:C,variant:"default",tag:P}),i("Warranty Expiring Soon",{body:C,tag:P});try{const{error:M}=await je.from("notifications").insert({user_id:t.id,message:C,link_url:O,item_id:w,item_type:"asset",notification_type:b});if(M)throw M}catch(M){console.error("Error inserting warranty notification:",M)}}else!E&&N&&N>0&&console.log(`[AssetAlerts] Skipped warranty notification for asset "${m.asset_name}" (sent recently).`)}}}if(d.size>0&&(r.current=new Set([...r.current,...d])),f.size>0&&(n.current=new Set([...n.current,...f])),h.length>0){console.log(`[AssetAlerts] Processing ${h.length} queued toasts...`),await AL(2e3);for(const m of h)console.log(`[AssetAlerts] >>> Showing toast: ${m.title} - ${m.description}`),e({title:m.title,description:m.description,variant:m.variant,duration:1/0}),console.log(`[AssetAlerts] <<< Shown toast: ${m.title}`),await AL(2e3);console.log("[AssetAlerts] Finished processing queued toasts.")}},[e,t,i]);return S.useEffect(()=>{const o=async()=>{console.log("[AssetAlerts] Starting initial fetch...");try{const{data:c,error:u}=await je.from("assets").select("*");if(u)throw console.error("Error fetching initial assets for alerts:",u),u;c?(console.log("[AssetAlerts] Initial fetch successful, data:",c),s(c)):console.log("[AssetAlerts] Initial fetch returned no data.")}catch{}};t&&(console.log("[AssetAlerts] User found, calling fetchInitialData."),o())},[s,t]),S.useEffect(()=>{if(!je||!t)return;const o=u=>{console.log("[AssetAlerts] Asset change detected:",u);const d=u.new;d&&s([d])},c=`asset-alerts-channel-${t.id}`;return console.log(`[AssetAlerts] Attempting to subscribe to channel: ${c}`),a.current=je.channel(c).on("postgres_changes",{event:"*",schema:"public",table:"assets"},o).subscribe((u,d)=>{console.log(`[AssetAlerts] Channel ${c} subscription status: ${u}`),u==="SUBSCRIBED"||(u==="CHANNEL_ERROR"||u==="TIMED_OUT"||u==="CLOSED")&&console.error(`[AssetAlerts] Asset Alert Realtime subscription ${u} on ${c}:`,d)}),()=>{const u=a.current;if(u){const d=u.topic;console.log(`[AssetAlerts] Attempting to unsubscribe from channel: ${d}`),je.removeChannel(u).catch(f=>console.error(`[AssetAlerts] Error removing asset alert channel ${d}:`,f)).finally(()=>{a.current===u&&(a.current=null)})}}},[je,s,t]),null}function Z1e(){return lX(),K1e(),J1e(),x("div",{className:"min-h-screen bg-background",children:[" ",x("div",{className:"flex h-screen",children:[l(z1e,{}),x("div",{className:"flex flex-col flex-1 overflow-hidden",children:[l(_1e,{}),l("main",{className:"flex-1 overflow-y-auto",children:l("div",{className:"container py-6",children:l(GH,{})})})]})]})]})}class $3 extends Error{constructor(r,n,a){super(`Transaction failed during ${r}: ${n.message}`);yr(this,"operation");yr(this,"partialData");yr(this,"originalError");this.name="TransactionError",this.operation=r,this.originalError=n,this.partialData=a}}async function kL(e,t){const r=[];let n=!0,a;try{await je.rpc("begin_transaction");for(let i=0;i<e.length;i++)try{const s=await e[i]();r.push(s)}catch(s){throw n=!1,a=new $3(`Operation ${i}`,s,r),t&&i>0,a}return await je.rpc("commit_transaction"),{success:!0,data:r.length===1?r[0]:r}}catch(i){try{await je.rpc("rollback_transaction")}catch(s){console.error("Transaction rollback failed:",s)}return{success:!1,error:i instanceof $3?i:new $3("Unknown",i)}}}class Q1e{constructor(t=5*60*1e3){yr(this,"cache");yr(this,"defaultTTL");this.cache=new Map,this.defaultTTL=t}set(t,r,n){this.cache.set(t,{data:r,timestamp:Date.now()+(n??this.defaultTTL)})}get(t){const r=this.cache.get(t);if(r){if(r.timestamp<Date.now()){this.invalidate(t);return}return r.data}}invalidate(t){this.cache.delete(t)}invalidatePattern(t){this.cache.forEach((r,n)=>{t.test(n)&&this.invalidate(n)})}clear(){this.cache.clear()}}const er=new Q1e;function Y4(e,t){return je.channel(`public:${e}`).on("postgres_changes",{event:"*",schema:"public",table:e},r=>{er.invalidatePattern(new RegExp(`^${e}`)),t(r)}).subscribe()}const It={storage:{async uploadFile(e,t){try{const r=e.name.split(".").pop(),n=`${t}/${Date.now()}-${Math.random().toString(36).substring(2,15)}.${r}`,{data:a,error:i}=await je.storage.from("medical-records").upload(n,e,{cacheControl:"3600",upsert:!1});if(i)throw i;const{data:{publicUrl:s}}=je.storage.from("medical-records").getPublicUrl(a.path);return{path:a.path,url:s,name:e.name,size:e.size,type:e.type}}catch(r){throw console.error("Error uploading file:",r),r}},async deleteFile(e,t){try{const{error:r}=await je.storage.from(t).remove([e]);if(r)throw r;return!0}catch(r){throw console.error(`Error deleting file from bucket ${t}:`,r),r}},async uploadInventoryPhoto(e,t){const r="inventory-photos";try{const n=e.name.split(".").pop(),a=`${t}/${Date.now()}-${Math.random().toString(36).substring(2,15)}.${n}`,{data:i,error:s}=await je.storage.from(r).upload(a,e,{cacheControl:"3600",upsert:!1});if(s)throw s;const{data:{publicUrl:o}}=je.storage.from(r).getPublicUrl(i.path);return{path:i.path,url:o,name:e.name,size:e.size,type:e.type}}catch(n){throw console.error(`Error uploading to ${r}:`,n),n}},async uploadAssetPhoto(e,t){const r="asset-photos";try{const n=e.name.split(".").pop(),a=`${t}/${Date.now()}-${Math.random().toString(36).substring(2,15)}.${n}`,{data:i,error:s}=await je.storage.from(r).upload(a,e,{cacheControl:"3600",upsert:!1});if(s)throw s;const{data:{publicUrl:o}}=je.storage.from(r).getPublicUrl(i.path);return{path:i.path,url:o,name:e.name,size:e.size,type:e.type}}catch(n){throw console.error(`Error uploading to ${r}:`,n),n}}},staff:{async getAll(){const e=er.get("staff:all");if(e)return e;const{data:t,error:r}=await je.from("staff").select("*").order("created_at",{ascending:!1});if(r)throw r;return er.set("staff:all",t),t||[]},async getDoctors(){const e=er.get("staff:doctors");if(e)return e;const{data:t,error:r}=await je.from("staff").select("*").eq("role","doctor").order("created_at",{ascending:!1});if(r)throw r;return er.set("staff:doctors",t),t||[]},async getAvailableDoctors(e,t){try{const r=new Date(e),n=new Date(t),a=r.toLocaleDateString("en-US",{weekday:"long"}).toLowerCase(),i=`${String(r.getHours()).padStart(2,"0")}:${String(r.getMinutes()).padStart(2,"0")}`,s=`${String(n.getHours()).padStart(2,"0")}:${String(n.getMinutes()).padStart(2,"0")}`,o=await It.staff.getDoctors(),{data:c,error:u}=await je.from("absences").select("staff_id").lt("start_time",t).gt("end_time",e);u&&console.error("Error fetching overlapping absences:",u);const d=new Set((c==null?void 0:c.map(h=>h.staff_id))||[]);return o.filter(h=>{if(d.has(h.id))return!1;try{let m=[];if(typeof h.working_hours=="string")m=JSON.parse(h.working_hours);else if(Array.isArray(h.working_hours))m=h.working_hours;else return!1;const w=m.find(y=>y.day.toLowerCase()===a);return!(!w||w.is_open===!1||!(i>=w.start&&s<=w.end))}catch(m){return console.error(`Error processing working hours for doctor ${h.id}:`,h.working_hours,m),!1}})}catch(r){return console.error("Error getting available doctors:",r),[]}},async create(e){typeof e.working_hours=="object"&&e.working_hours!==null&&(e.working_hours=JSON.stringify(e.working_hours));const{data:t,error:r}=await je.from("staff").insert(e).select().single();if(r)throw r;return er.invalidatePattern(/^staff/),t},async update(e,t){const{data:r,error:n}=await je.from("staff").update(t).eq("id",e).select().single();if(n)throw n;return er.invalidatePattern(/^staff/),r}},absences:{async getAll(){const e="absences:all",t=er.get(e);if(t)return t;try{const{data:r,error:n}=await je.from("absences").select("*").order("start_time",{ascending:!1});if(n)throw n;if(!r)return[];const a=await It.staff.getAll(),i=new Map(a.map(o=>[o.id,o])),s=r.map(o=>{const c=o.staff_id?i.get(o.staff_id):null;return{...o,staff:c?{id:c.id,first_name:c.first_name,last_name:c.last_name}:null}});return er.set(e,s),s}catch(r){throw console.error("Error in api.absences.getAll:",r),r}},async create(e){if(!e.staff_id||!e.start_time||!e.end_time)throw new Error("Missing required fields for absence creation.");if(new Date(e.end_time)<=new Date(e.start_time))throw new Error("End time must be after start time.");const{data:t,error:r}=await je.from("absences").insert(e).select().single();if(r)throw r;if(!t)throw new Error("Absence creation returned no data");return er.invalidate("absences:all"),t},async delete(e){const{error:t}=await je.from("absences").delete().eq("id",e);if(t)throw t;er.invalidate("absences:all")}},patients:{async schedulePatientCommunication(e){const{data:t,error:r}=await je.from("patient_communications").insert(e).select().single();if(r)throw r;return er.invalidate(`patient_communications:${e.patient_id}`),t},async getPatientCommunications(e){const t=`patient_communications:${e}`,r=er.get(t);if(r)return r;const{data:n,error:a}=await je.from("patient_communications").select("*").eq("patient_id",e).order("created_at",{ascending:!1});if(a)throw a;return er.set(t,n),n||[]},async generateTreatmentPlan(e,t){var r,n;try{const[a,i]=await Promise.all([It.patients.getMedicalRecords(e),It.patients.getTreatmentPlans(e)]),s=[],o=[],c=await je.auth.getSession(),u=(n=(r=c==null?void 0:c.data)==null?void 0:r.session)==null?void 0:n.access_token;if(!u)throw new Error("User not authenticated");const d=await fetch("/functions/v1/treatment-ai",{method:"POST",headers:{Authorization:`Bearer ${u}`,"Content-Type":"application/json"},body:JSON.stringify({patientId:e,currentIssue:t,medicalHistory:a,previousTreatments:i,assessments:s,diagnosticImages:o})});if(!d.ok)throw new Error("Failed to generate treatment plan");return await d.json()}catch(a){throw console.error("Error generating treatment plan:",a),a}},async getAll(){const e="patients:all",t=er.get("patients:all");if(t)return t;const{data:r,error:n}=await je.from("patients").select("*").order("created_at",{ascending:!1});if(n)throw n;return er.set(e,r),r},async getById(e){const t=`patients:${e}`,r=er.get(t);if(r)return r;const{data:n,error:a}=await je.from("patients").select("*").eq("id",e).single();if(a&&a.code!=="PGRST116")throw a;return n&&er.set(t,n),n},async search(e){const{data:t,error:r}=await je.from("patients").select().or(`first_name.ilike.%${e}%,last_name.ilike.%${e}%,phone.ilike.%${e}%,registration_number.ilike.%${e}%`).order("created_at",{ascending:!1});if(r)throw r;return t},async create(e){const{data:t,error:r}=await je.from("patients").insert(e).select().single();if(r)throw r;return er.invalidatePattern(/^patients/),t},async update(e,t){const{data:r,error:n}=await je.from("patients").update(t).eq("id",e).select().single();if(n)throw n;return er.invalidate(`patients:${e}`),er.invalidate("patients:all"),r},async getMedicalRecords(e){const t=e?`medical_records:${e}`:"medical_records:all",r=er.get(t);if(r)return r;let n=je.from("medical_records").select(`
          *,
          staff:created_by ( first_name, last_name ),
          medical_record_teeth (
            teeth ( id, description )
          )
        `).order("record_date",{ascending:!1});e&&(n=n.eq("patient_id",e));const{data:a,error:i}=await n;if(i)throw i;er.set(t,a);const s=(a==null?void 0:a.map(o=>{const c=Array.isArray(o.medical_record_teeth)?o.medical_record_teeth.map(d=>d.teeth).filter(d=>d!==null):[],u={...o};return delete u.medical_record_teeth,u.teeth=c,u}))||[];return console.log("API getMedicalRecords processedData:",s),s},async getTreatmentPlans(e=null){let t=je.from("treatment_plans").select(`
          *,
          treatments (*),
          metadata:treatment_plan_metadata(*),
          visits:treatment_visits(*),
          teeth:treatment_plan_teeth(
            tooth_id
          ),
          patient:patients!treatment_plans_patient_id_fkey (
            id,
            first_name,
            last_name,
            gender,
            age,
            registration_number
          )
        `).order("created_at",{ascending:!1});e&&(t=t.eq("patient_id",e));const{data:r,error:n}=await t;if(n)throw console.error("Error fetching treatment plans:",n),n;return r==null?void 0:r.map(i=>({...i,patient:i.patient?{full_name:`${i.patient.first_name} ${i.patient.last_name}`,age:i.patient.age,gender:i.patient.gender,registration_number:i.patient.registration_number}:void 0}))},async createMedicalRecord(e,t){const n={...e,record_type:(o=>{switch(o){case"consultation":return"examination";case"diagnosis":return"examination";case"treatment":return"procedure";case"prescription":return"prescription";case"lab_result":return"lab_result";case"other":return"note";default:return"note"}})(e.record_type)};console.log("API inserting mapped record:",n);const{data:a,error:i}=await je.from("medical_records").insert(n).select().single();if(i)throw console.error("Error creating medical record:",i),i;if(!a)throw new Error("Failed to create medical record: No data returned.");const s=a.id;if(t&&t.length>0){const o=t.map(u=>({medical_record_id:s,tooth_id:u})),{error:c}=await je.from("medical_record_teeth").insert(o);if(c)throw console.error("Error linking teeth to medical record:",c),c}return e.patient_id&&er.invalidate(`medical_records:${e.patient_id}`),er.invalidate("medical_records:all"),a},async updateMedicalRecord(e,t){const{data:r,error:n}=await je.from("medical_records").update(t).eq("id",e).select().single();if(n)throw n;return er.invalidate(`medical_records:${t.patient_id}`),er.invalidate("medical_records:all"),r},async deleteMedicalRecord(e){const{data:t}=await je.from("medical_records").select("patient_id").eq("id",e).single(),{error:r}=await je.from("medical_records").delete().eq("id",e);if(r)throw r;t&&er.invalidate(`medical_records:${t.patient_id}`),er.invalidate("medical_records:all")},async getPatientDentalHistoryTeeth(e){if(!e)return console.warn("getPatientDentalHistoryTeeth called without patientId"),[];const t=`patient_dental_history_teeth:${e}`,r=er.get(t);if(r)return r;const{data:n,error:a}=await je.from("patient_dental_history_teeth").select("tooth_id, conditions").eq("patient_id",e);if(a)throw console.error(`Error fetching dental history teeth for patient ${e}:`,a),a;const i=(n||[]).map(s=>({tooth_id:s.tooth_id,conditions:Array.isArray(s.conditions)?s.conditions.filter(o=>typeof o=="string"):[]}));return er.set(t,i,60*1e3),console.log(`Fetched dental history teeth list for patient ${e}:`,JSON.stringify(i)),i},async savePatientDentalHistoryTeethWithConditions(e,t){if(!e)throw new Error("Patient ID is required to save dental history teeth with conditions.");console.log(`Saving dental history teeth map (with conditions) for patient ${e}:`,JSON.stringify(t));const r=Object.keys(t).map(Number),n=je.from("patient_dental_history_teeth").delete().eq("patient_id",e);r.length>0&&n.not("tooth_id","in",`(${r.join(",")})`);const{error:a}=await n;if(a)throw console.error(`Error deleting old dental history teeth (with conditions) for patient ${e}:`,a),a;if(console.log(`Deleted stale dental history teeth (with conditions) for patient ${e}.`),r.length>0){const i=r.map(o=>{var c;return{patient_id:e,tooth_id:o,conditions:(c=t[o])!=null&&c.conditions&&Array.isArray(t[o].conditions)?t[o].conditions:["healthy"]}}),{error:s}=await je.from("patient_dental_history_teeth").upsert(i,{onConflict:"patient_id, tooth_id"});if(s)throw console.error(`Error upserting dental history teeth (with conditions) for patient ${e}:`,s),s;console.log(`Upserted dental history teeth (with conditions) for patient ${e}.`)}else console.log(`No dental history teeth in map for patient ${e}, only performed delete (with conditions).`);return er.invalidate(`patient_dental_history_teeth:${e}`),{success:!0}},async getPatientDentalHistoryTeethMap(e){if(!e)return console.warn("getPatientDentalHistoryTeethMap called without patientId"),{};const{data:t,error:r}=await je.from("patient_dental_history_teeth").select("tooth_id, conditions").eq("patient_id",e);if(r)throw console.error(`Error fetching dental history teeth map for patient ${e}:`,r),r;const n={};return t&&t.forEach(a=>{const i=Array.isArray(a.conditions)&&a.conditions.length>0?a.conditions:["healthy"];n[a.tooth_id]={conditions:i}}),console.log(`Fetched and formatted dental history teeth map for patient ${e}:`,JSON.stringify(n)),n},async getPatientToothConditions(e){if(!e)return console.warn("getPatientToothConditions called without patientId"),[];const t=`patient_tooth_conditions:${e}`,r=er.get(t);if(r)return r;const{data:n,error:a}=await je.from("patient_tooth_conditions").select("*").eq("patient_id",e);if(a)throw console.error(`Error fetching tooth conditions for patient ${e}:`,a),a;const i=n||[];return er.set(t,i,60*1e3),i},async savePatientToothConditionsDetailed(e,t){if(!e)throw new Error("Patient ID is required for savePatientToothConditionsDetailed.");if(!Array.isArray(t))throw new Error("Invalid conditions input: must be an array.");console.log(`Executing savePatientToothConditionsDetailed for patient ${e} with conditions:`,t);const n=await kL([async()=>{console.log(`Transaction Step 1: Deleting existing conditions for patient ${e}`);const{error:a}=await je.from("patient_tooth_conditions").delete().eq("patient_id",e);if(a)throw console.error(`Transaction Step 1 FAILED: Error deleting conditions for patient ${e}:`,a),a;return console.log(`Transaction Step 1 SUCCESS: Deleted existing conditions for patient ${e}`),!0},async()=>{if(t.length===0)return console.log(`Transaction Step 2: No new conditions to insert for patient ${e}. Skipping insert.`),[];const a=t.map(o=>({...o,patient_id:e}));console.log(`Transaction Step 2: Inserting ${a.length} new conditions for patient ${e}:`,a);const{data:i,error:s}=await je.from("patient_tooth_conditions").insert(a).select();if(s)throw console.error(`Transaction Step 2 FAILED: Error inserting conditions for patient ${e}:`,s),s;return console.log(`Transaction Step 2 SUCCESS: Inserted conditions for patient ${e}. Result:`,i),i||[]}]);if(n.success)return console.log(`Transaction successful for patient ${e}.`),er.invalidate(`patient_tooth_conditions:${e}`),{success:!0,data:n.data?n.data[1]:[]};throw console.error(`Transaction failed for patient ${e}:`,n.error),n.error||new Error("Unknown transaction error saving tooth conditions.")},async createTreatmentPlan(e,t){const{data:r,error:n}=await je.from("treatment_plans").insert(e).select().single();if(n)return console.error("Error creating treatment plan:",n),{error:n};if(!r)return{error:new Error("Failed to create treatment plan: No data returned.")};if(t&&t.length>0){const a=t.map(s=>({treatment_plan_id:r.id,tooth_id:s})),{error:i}=await je.from("treatment_plan_teeth").insert(a);if(i)return console.error("Error linking teeth to treatment plan:",i),{error:i}}return{data:r,error:null}},async getVisitsByPlanId(e){if(!e)return console.warn("[api.patients.getVisitsByPlanId] planId is required, exiting."),[];console.log(`[api.patients.getVisitsByPlanId] Attempting for planId: ${e} (Querying 'treatments' table)`);const t=`treatments_as_visits:plan:${e}`,r=er.get(t);if(r)return console.log(`[api.patients.getVisitsByPlanId] Cache hit for planId: ${e}`,r),r;console.log(`[api.patients.getVisitsByPlanId] Cache miss for planId: ${e}`),console.log(`[api.patients.getVisitsByPlanId] PRE-SUPABASE call for planId: ${e} (Targeting 'treatments')`);let n,a;try{const s=await je.from("treatments").select("id").eq("plan_id",e);n=s.data,a=s.error,console.log(`[api.patients.getVisitsByPlanId] POST-SUPABASE call for planId: ${e}. Response data from 'treatments':`,n,"Response error:",a)}catch(s){throw console.error(`[api.patients.getVisitsByPlanId] NATIVE ERROR during Supabase call for planId ${e} (Targeting 'treatments'):`,s),s}if(a)throw console.error(`[api.patients.getVisitsByPlanId] Supabase returned error for plan ${e} (Targeting 'treatments'):`,a),a;const i=n||[];return console.log(`[api.patients.getVisitsByPlanId] Result for planId ${e} from 'treatments' before caching and returning:`,i),er.set(t,i),i},async createTreatmentPlanMetadata(e){const{data:t,error:r}=await je.from("treatment_plan_metadata").insert(e).select().single();return{data:t,error:r}},async createTreatmentVisit(e){const t={...e,scheduled_date:e.scheduled_date?e.scheduled_date.toISOString().split("T")[0]:null},{data:r,error:n}=await je.from("treatment_visits").insert([t]).select().single();if(n)throw n;return r},async createTreatmentVisitsBatch(e){const{data:t,error:r}=await je.from("treatment_visits").insert(e).select();return r?(console.error("Error in createTreatmentVisitsBatch:",r),{data:null,error:r}):{data:t,error:null}},async getTreatmentPlanDetails(e){const{data:t,error:r}=await je.from("treatment_plans").select(`
          *,
          metadata:treatment_plan_metadata(*),
          visits:treatment_visits(*),
          teeth:treatment_plan_teeth(
            tooth_id
          )
        `).eq("id",e).single();return r?(console.error("Error fetching treatment plan details:",r),{error:r}):{data:t,error:null}},async updateTreatmentPlan(e,t){const{data:r,error:n}=await je.from("treatment_plans").update(t).eq("id",e).select().single();if(n)throw n;return er.invalidatePattern(/^treatment_plans/),r},async deleteTreatmentPlan(e){const{data:t}=await je.from("treatment_plans").select("patient_id").eq("id",e).single(),{error:r}=await je.from("treatment_plans").delete().eq("id",e);if(r)throw r;t&&er.invalidate(`treatment_plans:${t.patient_id}`),er.invalidate("treatment_plans:all")},async createTreatmentPlanWithTreatments(e,t){const r=[async()=>{const{data:a,error:i}=await je.from("treatment_plans").insert(e).select().single();if(i)throw i;if(!a)throw new Error("Treatment plan creation returned no data");return a},async a=>{if(!a||!a.id)throw new Error("Failed to get ID from created treatment plan");const i=t.map(c=>({...c,plan_id:a.id}));if(i.length===0)return[];const{data:s,error:o}=await je.from("treatments").insert(i).select();if(o)throw o;if(!s)throw new Error("Treatment creation returned no data");return s}],n=await kL([()=>r[0](),()=>r[1]({})]);if(n.success&&n.data){const a=n.data[0];a&&a.patient_id&&(er.invalidate(`treatment_plans:${a.patient_id}`),er.invalidate("treatment_plans:all"))}return n},async createTreatment(e){const{data:t,error:r}=await je.from("treatments").insert(e).select().single();if(r)throw r;return er.invalidatePattern(/^treatment_plans/),t},async updateTreatment(e,t){const{data:r,error:n}=await je.from("treatments").update(t).eq("id",e).select().single();if(n)throw n;return er.invalidatePattern(/^treatment_plans/),r},async deleteTreatment(e){const{error:t}=await je.from("treatments").delete().eq("id",e);if(t)throw t;er.invalidatePattern(/^treatment_plans/)},async uploadProfilePhoto(e,t){try{const r=await It.storage.uploadFile(e,t);return await It.patients.update(t,{profile_photo_url:r.url}),r}catch(r){throw console.error("Error uploading profile photo:",r),r}},async uploadSignature(e,t){try{const r=await It.storage.uploadFile(e,t);return await It.patients.update(t,{signature_url:r.url}),r}catch(r){throw console.error("Error uploading signature:",r),r}},async addDocument(e,t,r,n=""){try{const a=await It.storage.uploadFile(e,t),i=await It.patients.getById(t);if(!i)throw new Error("Patient not found");const s=Array.isArray(i.documents)?i.documents:[];return s.push({...a,docType:r,notes:n,dateAdded:new Date().toISOString()}),await It.patients.update(t,{documents:s}),a}catch(a){throw console.error("Error adding document:",a),a}},async removeDocument(e,t){try{const r=await It.patients.getById(e);if(!r)throw new Error("Patient not found");const n=(Array.isArray(r.documents)?r.documents:[]).filter(a=>a.path!==t);return await It.patients.update(e,{documents:n}),await It.storage.deleteFile(t,"medical-records"),!0}catch(r){throw console.error("Error removing document:",r),r}},async getTreatmentVisitById(e){const t=`treatment_visit:${e}`,r=er.get(t);if(r)return r;const{data:n,error:a}=await je.from("treatment_visits").select("*").eq("id",e).single();if(a&&a.code!=="PGRST116")throw console.error("Error fetching treatment visit by ID:",a),a;return n&&er.set(t,n),n},async savePatientDentalHistoryTeethWithConditions(e,t){if(!e)throw new Error("Patient ID is required to save dental history teeth with conditions.");console.log(`Saving dental history teeth map (with conditions) for patient ${e}:`,JSON.stringify(t));const r=Object.keys(t).map(Number),n=je.from("patient_dental_history_teeth").delete().eq("patient_id",e);r.length>0&&n.not("tooth_id","in",`(${r.join(",")})`);const{error:a}=await n;if(a)throw console.error(`Error deleting old dental history teeth (with conditions) for patient ${e}:`,a),a;if(console.log(`Deleted stale dental history teeth (with conditions) for patient ${e}.`),r.length>0){const i=r.map(o=>{var c;return{patient_id:e,tooth_id:o,conditions:(c=t[o])!=null&&c.conditions&&Array.isArray(t[o].conditions)?t[o].conditions:["healthy"]}}),{error:s}=await je.from("patient_dental_history_teeth").upsert(i,{onConflict:"patient_id, tooth_id"});if(s)throw console.error(`Error upserting dental history teeth (with conditions) for patient ${e}:`,s),s;console.log(`Upserted dental history teeth (with conditions) for patient ${e}.`)}else console.log(`No dental history teeth in map for patient ${e}, only performed delete (with conditions).`);return er.invalidate(`patient_dental_history_teeth:${e}`),{success:!0}}},inventory:{async getAll(){const e="inventory:all",t=er.get(e);if(t)return t;const{data:r,error:n}=await je.from("inventory_items").select("*").order("created_at",{ascending:!1});if(n)throw n;return er.set(e,r||[]),r||[]},async getById(e){const t=`inventory:${e}`,r=er.get(t);if(r)return r;const{data:n,error:a}=await je.from("inventory_items").select("*").eq("id",e).single();if(a&&a.code!=="PGRST116")throw a;return n&&er.set(t,n),n},async create(e){const{data:t,error:r}=await je.from("inventory_items").insert(e).select().single();if(r)throw r;return er.invalidatePattern(/^inventory/),t},async update(e,t){const{data:r,error:n}=await je.from("inventory_items").update(t).eq("id",e).select().single();if(n)throw n;return er.invalidate(`inventory:${e}`),er.invalidate("inventory:all"),r},async delete(e){const t=await It.inventory.getById(e);if(t!=null&&t.photo_url)try{const a=new URL(t.photo_url).pathname.split("/inventory-photos/")[1];a&&await It.storage.deleteFile(a,"inventory-photos")}catch(n){console.error("Error parsing/deleting inventory photo URL:",n)}const{error:r}=await je.from("inventory_items").delete().eq("id",e);if(r)throw r;er.invalidate(`inventory:${e}`),er.invalidate("inventory:all")},async uploadPhoto(e,t){const r=await It.storage.uploadInventoryPhoto(e,t);return await It.inventory.update(t,{photo_url:r.url}),r}},assets:{async getAll(){const e="assets:all",t=er.get(e);if(t)return t;const{data:r,error:n}=await je.from("assets").select("*").order("created_at",{ascending:!1});if(n)throw n;return er.set(e,r||[]),r||[]},async getById(e){const t=`assets:${e}`,r=er.get(t);if(r)return r;const{data:n,error:a}=await je.from("assets").select("*").eq("id",e).single();if(a&&a.code!=="PGRST116")throw a;return n&&er.set(t,n),n},async create(e){const{data:t,error:r}=await je.from("assets").insert(e).select().single();if(r)throw r;return er.invalidatePattern(/^assets/),t},async update(e,t){const{data:r,error:n}=await je.from("assets").update(t).eq("id",e).select().single();if(n)throw n;return er.invalidate(`assets:${e}`),er.invalidate("assets:all"),r},async delete(e){const t=await It.assets.getById(e);if(t!=null&&t.photo_url)try{const a=new URL(t.photo_url).pathname.split("/asset-photos/")[1];a&&await It.storage.deleteFile(a,"asset-photos")}catch(n){console.error("Error parsing/deleting asset photo URL:",n)}const{error:r}=await je.from("assets").delete().eq("id",e);if(r)throw r;er.invalidate(`assets:${e}`),er.invalidate("assets:all")},async uploadPhoto(e,t){const r=await It.storage.uploadAssetPhoto(e,t);return await It.assets.update(t,{photo_url:r.url}),r}},communications:{async schedule(e){var t,r;try{const n=await je.auth.getSession(),a=(r=(t=n==null?void 0:n.data)==null?void 0:t.session)==null?void 0:r.access_token;a||console.warn("No access token found for scheduling communication.");const i=await fetch("/functions/v1/patient-communication",{method:"POST",headers:{"Content-Type":"application/json",...a?{Authorization:`Bearer ${a}`}:{}},body:JSON.stringify(e)});if(!i.ok){const o=await i.json();throw new Error(o.error||`Failed to schedule communication: ${i.statusText}`)}const s=await i.json();return console.log("Communication scheduled successfully:",s),s}catch(n){throw console.error("Error scheduling communication:",n),n}},async cancelByAppointment(e){var t,r;try{const n=await je.auth.getSession(),a=(r=(t=n==null?void 0:n.data)==null?void 0:t.session)==null?void 0:r.access_token;a||console.warn("No access token found for cancelling communication.");const i=await fetch("/functions/v1/patient-communication/cancel-by-appointment",{method:"POST",headers:{"Content-Type":"application/json",...a?{Authorization:`Bearer ${a}`}:{}},body:JSON.stringify({appointmentId:e})});if(!i.ok){const o=await i.json();throw new Error(o.error||`Failed to cancel communications: ${i.statusText}`)}const s=await i.json();return console.log(`Communications cancellation requested for appointment ${e}:`,s),s}catch(n){throw console.error(`Error cancelling communications for appointment ${e}:`,n),n}}},appointments:{async getAll(){const e="appointments:all",t=er.get("appointments:all");if(t)return t;const{data:r,error:n}=await je.from("appointments").select(`
          *,
          patients (id, first_name, last_name, email, phone),
          staff (id, first_name, last_name, role) 
        `).order("start_time",{ascending:!0});if(n)throw n;return er.set(e,r),r||[]},async getByDateRange(e,t){const r=`appointments:range:${e}:${t}`,n=er.get("appointments:range");if(n)return n;const{data:a,error:i}=await je.from("appointments").select(`
         *,
         patients (id, first_name, last_name, email, phone),
         staff (id, first_name, last_name, role, specialization)
       `).gte("start_time",e).lte("start_time",t).order("start_time",{ascending:!0});if(i)throw i;return er.set(r,a,60*1e3),a||[]},async getByPatientId(e){const t=`appointments:patient:${e}`,r=er.get(t);if(r)return r;const{data:n,error:a}=await je.from("appointments").select(`
          *,
          patients (id, first_name, last_name),
          staff (id, first_name, last_name)
        `).eq("patient_id",e).order("start_time",{ascending:!1});if(a)throw a;return er.set(t,n||[],60*1e3),n||[]},async create(e){const{data:t,error:r}=await je.from("appointments").insert(e).select().single();if(r)throw r;return er.invalidatePattern(/^appointments/),t},async update(e,t){const{data:r,error:n}=await je.from("appointments").update(t).eq("id",e).select().single();if(n)throw n;return er.invalidatePattern(/^appointments/),r},async cancel(e){const{data:t,error:r}=await je.from("appointments").update({status:"cancelled"}).eq("id",e).select().single();if(r)throw r;return er.invalidatePattern(/^appointments/),t},async getAppointmentsByTreatmentIds(e){if(!e||e.length===0)return[];const{data:t,error:r}=await je.from("appointments").select(`
          *,
          staff:staff_id (
            id,
            first_name,
            last_name,
            role,
            specialization
          )
        `).in("treatment_id",e);if(r)throw console.error("Error fetching appointments by treatment IDs:",r),r;return t||[]}},settings:{async get(){const e="clinic_settings",t=er.get(e);if(t)return t;const{data:r,error:n}=await je.from("clinic_settings").select().order("created_at",{ascending:!1}).limit(1);if(n&&n.code!=="PGRST116")throw n;const a=(r==null?void 0:r[0])||{id:"",name:"DentalCare Pro",address:"123 Healthcare Avenue",phone:"+1234567890",email:"info@dentalcarepro.com",website:"https://dentalcarepro.com",working_hours:[{day:"monday",start:"09:00",end:"17:00",is_open:!0},{day:"tuesday",start:"09:00",end:"17:00",is_open:!0},{day:"wednesday",start:"09:00",end:"17:00",is_open:!0},{day:"thursday",start:"09:00",end:"17:00",is_open:!0},{day:"friday",start:"09:00",end:"17:00",is_open:!0},{day:"saturday",start:"10:00",end:"14:00",is_open:!1},{day:"sunday",start:"10:00",end:"14:00",is_open:!1}],notification_preferences:{reminder_time:"24h",system_updates:!0,sms_notifications:!0,email_notifications:!0,appointment_reminders:!0},created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return er.set(e,a),a},async update(e){if(!e.id){const i={...e,name:e.name||"Default Clinic Name"},{data:s,error:o}=await je.from("clinic_settings").insert(i).select().single();if(o)throw o;return er.invalidate("clinic_settings"),s}const{id:t,...r}=e,{data:n,error:a}=await je.from("clinic_settings").update(r).eq("id",t).select().single();if(a)throw a;return er.invalidate("clinic_settings"),n}},async getTreatmentMatrixOptions(){const e="treatmentMatrixOptionsPairs",t=er.get(e);if(t)return t;try{const{data:r,error:n}=await je.from("ai_treatment_planning_matrix").select("domain, condition").not("domain","is",null).not("condition","is",null);if(n)throw n;const a=r?Array.from(new Map(r.map(s=>[`${s.domain}-${s.condition}`,s])).values()):[];a.sort((s,o)=>s.domain<o.domain?-1:s.domain>o.domain?1:s.condition<o.condition?-1:s.condition>o.condition?1:0);const i=a;return er.set(e,i,60*60*1e3),i}catch(r){return console.error("Error fetching treatment matrix options pairs:",r),[]}},async getMatrixDetails(e,t){const r=`matrixDetails:${e}:${t}`,n=er.get(r);if(n!==void 0)return n;try{const{data:a,error:i}=await je.from("ai_treatment_planning_matrix").select("*").eq("domain",e).eq("condition",t).limit(1).maybeSingle();if(i&&i.code!=="PGRST116")throw i;return er.set(r,a,5*60*1e3),a}catch(a){return console.error(`Error fetching matrix details for ${e}/${t}:`,a),null}},async getVisitsByPlanId(e){if(!e)return[];const{data:t,error:r}=await je.from("treatment_visits").select("id").eq("treatment_plan_id",e);if(r)throw console.error(`Error fetching visits for plan ${e}:`,r),r;return t||[]},async uploadProfilePhoto(e,t){try{const r=await It.storage.uploadFile(e,t);return await It.patients.update(t,{profile_photo_url:r.url}),r}catch(r){throw console.error("Error uploading profile photo:",r),r}},async uploadSignature(e,t){try{const r=await It.storage.uploadFile(e,t);return await It.patients.update(t,{signature_url:r.url}),r}catch(r){throw console.error("Error uploading signature:",r),r}},async addDocument(e,t,r,n=""){try{const a=await It.storage.uploadFile(e,t),i=await It.patients.getById(t);if(!i)throw new Error("Patient not found");const s=Array.isArray(i.documents)?i.documents:[];return s.push({...a,docType:r,notes:n,dateAdded:new Date().toISOString()}),await It.patients.update(t,{documents:s}),a}catch(a){throw console.error("Error adding document:",a),a}},async removeDocument(e,t){try{const r=await It.patients.getById(e);if(!r)throw new Error("Patient not found");const n=(Array.isArray(r.documents)?r.documents:[]).filter(a=>a.path!==t);return await It.patients.update(e,{documents:n}),await It.storage.deleteFile(t,"medical-records"),!0}catch(r){throw console.error("Error removing document:",r),r}}},eye=Object.freeze(Object.defineProperty({__proto__:null,api:It,subscribeToChanges:Y4},Symbol.toStringTag,{value:"Module"}));function Fa({heading:e,text:t,children:r,className:n}){return x("div",{className:Lt("grid gap-1",n),children:[l("h1",{className:"text-2xl font-semibold tracking-tight",children:e}),t&&l("p",{className:"text-muted-foreground",children:t}),r]})}function R6(e,[t,r]){return Math.min(r,Math.max(t,e))}function K4(e){const t=S.useRef({value:e,previous:e});return S.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var cX=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),tye="VisuallyHidden",X4=S.forwardRef((e,t)=>l(xr.span,{...e,ref:t,style:{...cX,...e.style}}));X4.displayName=tye;var rye=X4,nye=[" ","Enter","ArrowUp","ArrowDown"],aye=[" ","Enter"],tg="Select",[J4,Z4,iye]=Uw(tg),[by,tQe]=ts(tg,[iye,Pm]),Q4=Pm(),[sye,Om]=by(tg),[oye,lye]=by(tg),uX=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:s,defaultValue:o,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:w}=e,g=Q4(t),[y,b]=S.useState(null),[_,N]=S.useState(null),[E,C]=S.useState(!1),O=Sg(u),[P,M]=hl({prop:n,defaultProp:a??!1,onChange:i,caller:tg}),[L,j]=hl({prop:s,defaultProp:o,onChange:c,caller:tg}),T=S.useRef(null),I=y?w||!!y.closest("form"):!0,[B,G]=S.useState(new Set),Z=Array.from(B).map(re=>re.props.value).join(";");return l(O4,{...g,children:x(sye,{required:m,scope:t,trigger:y,onTriggerChange:b,valueNode:_,onValueNodeChange:N,valueNodeHasChildren:E,onValueNodeHasChildrenChange:C,contentId:$l(),value:L,onValueChange:j,open:P,onOpenChange:M,dir:O,triggerPointerDownPosRef:T,disabled:h,children:[l(J4.Provider,{scope:t,children:l(oye,{scope:e.__scopeSelect,onNativeOptionAdd:S.useCallback(re=>{G(W=>new Set(W).add(re))},[]),onNativeOptionRemove:S.useCallback(re=>{G(W=>{const z=new Set(W);return z.delete(re),z})},[]),children:r})}),I?x(RX,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:L,onChange:re=>j(re.target.value),disabled:h,form:w,children:[L===void 0?l("option",{value:""}):null,Array.from(B)]},Z):null]})})};uX.displayName=tg;var dX="SelectTrigger",fX=S.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=Q4(r),s=Om(dX,r),o=s.disabled||n,c=Jr(t,s.onTriggerChange),u=Z4(r),d=S.useRef("touch"),[f,h,m]=FX(g=>{const y=u().filter(N=>!N.disabled),b=y.find(N=>N.value===s.value),_=LX(y,g,b);_!==void 0&&s.onValueChange(_.value)}),w=g=>{o||(s.onOpenChange(!0),m()),g&&(s.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return l(Ww,{asChild:!0,...i,children:l(xr.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":MX(s.value)?"":void 0,...a,ref:c,onClick:Ht(a.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&w(g)}),onPointerDown:Ht(a.onPointerDown,g=>{d.current=g.pointerType;const y=g.target;y.hasPointerCapture(g.pointerId)&&y.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(w(g),g.preventDefault())}),onKeyDown:Ht(a.onKeyDown,g=>{const y=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(y&&g.key===" ")&&nye.includes(g.key)&&(w(),g.preventDefault())})})})});fX.displayName=dX;var hX="SelectValue",pX=S.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:s="",...o}=e,c=Om(hX,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=Jr(t,c.onValueNodeChange);return ui(()=>{u(d)},[u,d]),l(xr.span,{...o,ref:f,style:{pointerEvents:"none"},children:MX(c.value)?l(Nr,{children:s}):i})});pX.displayName=hX;var cye="SelectIcon",mX=S.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return l(xr.span,{"aria-hidden":!0,...a,ref:t,children:n||"▼"})});mX.displayName=cye;var uye="SelectPortal",gX=e=>l(yy,{asChild:!0,...e});gX.displayName=uye;var rg="SelectContent",vX=S.forwardRef((e,t)=>{const r=Om(rg,e.__scopeSelect),[n,a]=S.useState();if(ui(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?fy.createPortal(l(yX,{scope:e.__scopeSelect,children:l(J4.Slot,{scope:e.__scopeSelect,children:l("div",{children:e.children})})}),i):null}return l(xX,{...e,ref:t})});vX.displayName=rg;var Fu=10,[yX,Dm]=by(rg),dye="SelectContentImpl",fye=cm("SelectContent.RemoveScroll"),xX=S.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:s,side:o,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:w,hideWhenDetached:g,avoidCollisions:y,...b}=e,_=Om(rg,r),[N,E]=S.useState(null),[C,O]=S.useState(null),P=Jr(t,oe=>E(oe)),[M,L]=S.useState(null),[j,T]=S.useState(null),I=Z4(r),[B,G]=S.useState(!1),Z=S.useRef(!1);S.useEffect(()=>{if(N)return R4(N)},[N]),k4();const re=S.useCallback(oe=>{const[ue,...V]=I().map(te=>te.ref.current),[se]=V.slice(-1),fe=document.activeElement;for(const te of oe)if(te===fe||(te==null||te.scrollIntoView({block:"nearest"}),te===ue&&C&&(C.scrollTop=0),te===se&&C&&(C.scrollTop=C.scrollHeight),te==null||te.focus(),document.activeElement!==fe))return},[I,C]),W=S.useCallback(()=>re([M,N]),[re,M,N]);S.useEffect(()=>{B&&W()},[B,W]);const{onOpenChange:z,triggerPointerDownPosRef:U}=_;S.useEffect(()=>{if(N){let oe={x:0,y:0};const ue=se=>{var fe,te;oe={x:Math.abs(Math.round(se.pageX)-(((fe=U.current)==null?void 0:fe.x)??0)),y:Math.abs(Math.round(se.pageY)-(((te=U.current)==null?void 0:te.y)??0))}},V=se=>{oe.x<=10&&oe.y<=10?se.preventDefault():N.contains(se.target)||z(!1),document.removeEventListener("pointermove",ue),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",ue),document.addEventListener("pointerup",V,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ue),document.removeEventListener("pointerup",V,{capture:!0})}}},[N,z,U]),S.useEffect(()=>{const oe=()=>z(!1);return window.addEventListener("blur",oe),window.addEventListener("resize",oe),()=>{window.removeEventListener("blur",oe),window.removeEventListener("resize",oe)}},[z]);const[Y,Q]=FX(oe=>{const ue=I().filter(fe=>!fe.disabled),V=ue.find(fe=>fe.ref.current===document.activeElement),se=LX(ue,oe,V);se&&setTimeout(()=>se.ref.current.focus())}),D=S.useCallback((oe,ue,V)=>{const se=!Z.current&&!V;(_.value!==void 0&&_.value===ue||se)&&(L(oe),se&&(Z.current=!0))},[_.value]),K=S.useCallback(()=>N==null?void 0:N.focus(),[N]),J=S.useCallback((oe,ue,V)=>{const se=!Z.current&&!V;(_.value!==void 0&&_.value===ue||se)&&T(oe)},[_.value]),ne=n==="popper"?M6:wX,ie=ne===M6?{side:o,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:w,hideWhenDetached:g,avoidCollisions:y}:{};return l(yX,{scope:r,content:N,viewport:C,onViewportChange:O,itemRefCallback:D,selectedItem:M,onItemLeave:K,itemTextRefCallback:J,focusSelectedItem:W,selectedItemText:j,position:n,isPositioned:B,searchRef:Y,children:l(Hw,{as:fye,allowPinchZoom:!0,children:l(qw,{asChild:!0,trapped:_.open,onMountAutoFocus:oe=>{oe.preventDefault()},onUnmountAutoFocus:Ht(a,oe=>{var ue;(ue=_.trigger)==null||ue.focus({preventScroll:!0}),oe.preventDefault()}),children:l(Ng,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:oe=>oe.preventDefault(),onDismiss:()=>_.onOpenChange(!1),children:l(ne,{role:"listbox",id:_.contentId,"data-state":_.open?"open":"closed",dir:_.dir,onContextMenu:oe=>oe.preventDefault(),...b,...ie,onPlaced:()=>G(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:Ht(b.onKeyDown,oe=>{const ue=oe.ctrlKey||oe.altKey||oe.metaKey;if(oe.key==="Tab"&&oe.preventDefault(),!ue&&oe.key.length===1&&Q(oe.key),["ArrowUp","ArrowDown","Home","End"].includes(oe.key)){let se=I().filter(fe=>!fe.disabled).map(fe=>fe.ref.current);if(["ArrowUp","End"].includes(oe.key)&&(se=se.slice().reverse()),["ArrowUp","ArrowDown"].includes(oe.key)){const fe=oe.target,te=se.indexOf(fe);se=se.slice(te+1)}setTimeout(()=>re(se)),oe.preventDefault()}})})})})})})});xX.displayName=dye;var hye="SelectItemAlignedPosition",wX=S.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=Om(rg,r),s=Dm(rg,r),[o,c]=S.useState(null),[u,d]=S.useState(null),f=Jr(t,P=>d(P)),h=Z4(r),m=S.useRef(!1),w=S.useRef(!0),{viewport:g,selectedItem:y,selectedItemText:b,focusSelectedItem:_}=s,N=S.useCallback(()=>{if(i.trigger&&i.valueNode&&o&&u&&g&&y&&b){const P=i.trigger.getBoundingClientRect(),M=u.getBoundingClientRect(),L=i.valueNode.getBoundingClientRect(),j=b.getBoundingClientRect();if(i.dir!=="rtl"){const fe=j.left-M.left,te=L.left-fe,Ee=P.left-te,Fe=P.width+Ee,Pe=Math.max(Fe,M.width),ve=window.innerWidth-Fu,Ge=R6(te,[Fu,Math.max(Fu,ve-Pe)]);o.style.minWidth=Fe+"px",o.style.left=Ge+"px"}else{const fe=M.right-j.right,te=window.innerWidth-L.right-fe,Ee=window.innerWidth-P.right-te,Fe=P.width+Ee,Pe=Math.max(Fe,M.width),ve=window.innerWidth-Fu,Ge=R6(te,[Fu,Math.max(Fu,ve-Pe)]);o.style.minWidth=Fe+"px",o.style.right=Ge+"px"}const T=h(),I=window.innerHeight-Fu*2,B=g.scrollHeight,G=window.getComputedStyle(u),Z=parseInt(G.borderTopWidth,10),re=parseInt(G.paddingTop,10),W=parseInt(G.borderBottomWidth,10),z=parseInt(G.paddingBottom,10),U=Z+re+B+z+W,Y=Math.min(y.offsetHeight*5,U),Q=window.getComputedStyle(g),D=parseInt(Q.paddingTop,10),K=parseInt(Q.paddingBottom,10),J=P.top+P.height/2-Fu,ne=I-J,ie=y.offsetHeight/2,oe=y.offsetTop+ie,ue=Z+re+oe,V=U-ue;if(ue<=J){const fe=T.length>0&&y===T[T.length-1].ref.current;o.style.bottom="0px";const te=u.clientHeight-g.offsetTop-g.offsetHeight,Ee=Math.max(ne,ie+(fe?K:0)+te+W),Fe=ue+Ee;o.style.height=Fe+"px"}else{const fe=T.length>0&&y===T[0].ref.current;o.style.top="0px";const Ee=Math.max(J,Z+g.offsetTop+(fe?D:0)+ie)+V;o.style.height=Ee+"px",g.scrollTop=ue-J+g.offsetTop}o.style.margin=`${Fu}px 0`,o.style.minHeight=Y+"px",o.style.maxHeight=I+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[h,i.trigger,i.valueNode,o,u,g,y,b,i.dir,n]);ui(()=>N(),[N]);const[E,C]=S.useState();ui(()=>{u&&C(window.getComputedStyle(u).zIndex)},[u]);const O=S.useCallback(P=>{P&&w.current===!0&&(N(),_==null||_(),w.current=!1)},[N,_]);return l(mye,{scope:r,contentWrapper:o,shouldExpandOnScrollRef:m,onScrollButtonChange:O,children:l("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:l(xr.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});wX.displayName=hye;var pye="SelectPopperPosition",M6=S.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Fu,...i}=e,s=Q4(r);return l(D4,{...s,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});M6.displayName=pye;var[mye,ZD]=by(rg,{}),F6="SelectViewport",bX=S.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=Dm(F6,r),s=ZD(F6,r),o=Jr(t,i.onViewportChange),c=S.useRef(0);return x(Nr,{children:[l("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),l(J4.Slot,{scope:r,children:l(xr.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Ht(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=s;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const w=window.innerHeight-Fu*2,g=parseFloat(f.style.minHeight),y=parseFloat(f.style.height),b=Math.max(g,y);if(b<w){const _=b+m,N=Math.min(w,_),E=_-N;f.style.height=N+"px",f.style.bottom==="0px"&&(d.scrollTop=E>0?E:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});bX.displayName=F6;var _X="SelectGroup",[gye,vye]=by(_X),yye=S.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=$l();return l(gye,{scope:r,id:a,children:l(xr.div,{role:"group","aria-labelledby":a,...n,ref:t})})});yye.displayName=_X;var SX="SelectLabel",NX=S.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=vye(SX,r);return l(xr.div,{id:a.id,...n,ref:t})});NX.displayName=SX;var F5="SelectItem",[xye,AX]=by(F5),kX=S.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...s}=e,o=Om(F5,r),c=Dm(F5,r),u=o.value===n,[d,f]=S.useState(i??""),[h,m]=S.useState(!1),w=Jr(t,_=>{var N;return(N=c.itemRefCallback)==null?void 0:N.call(c,_,n,a)}),g=$l(),y=S.useRef("touch"),b=()=>{a||(o.onValueChange(n),o.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l(xye,{scope:r,value:n,disabled:a,textId:g,isSelected:u,onItemTextChange:S.useCallback(_=>{f(N=>N||((_==null?void 0:_.textContent)??"").trim())},[]),children:l(J4.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:l(xr.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...s,ref:w,onFocus:Ht(s.onFocus,()=>m(!0)),onBlur:Ht(s.onBlur,()=>m(!1)),onClick:Ht(s.onClick,()=>{y.current!=="mouse"&&b()}),onPointerUp:Ht(s.onPointerUp,()=>{y.current==="mouse"&&b()}),onPointerDown:Ht(s.onPointerDown,_=>{y.current=_.pointerType}),onPointerMove:Ht(s.onPointerMove,_=>{var N;y.current=_.pointerType,a?(N=c.onItemLeave)==null||N.call(c):y.current==="mouse"&&_.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ht(s.onPointerLeave,_=>{var N;_.currentTarget===document.activeElement&&((N=c.onItemLeave)==null||N.call(c))}),onKeyDown:Ht(s.onKeyDown,_=>{var E;((E=c.searchRef)==null?void 0:E.current)!==""&&_.key===" "||(aye.includes(_.key)&&b(),_.key===" "&&_.preventDefault())})})})})});kX.displayName=F5;var O2="SelectItemText",EX=S.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,s=Om(O2,r),o=Dm(O2,r),c=AX(O2,r),u=lye(O2,r),[d,f]=S.useState(null),h=Jr(t,b=>f(b),c.onItemTextChange,b=>{var _;return(_=o.itemTextRefCallback)==null?void 0:_.call(o,b,c.value,c.disabled)}),m=d==null?void 0:d.textContent,w=S.useMemo(()=>l("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:y}=u;return ui(()=>(g(w),()=>y(w)),[g,y,w]),x(Nr,{children:[l(xr.span,{id:c.textId,...i,ref:h}),c.isSelected&&s.valueNode&&!s.valueNodeHasChildren?fy.createPortal(i.children,s.valueNode):null]})});EX.displayName=O2;var CX="SelectItemIndicator",PX=S.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return AX(CX,r).isSelected?l(xr.span,{"aria-hidden":!0,...n,ref:t}):null});PX.displayName=CX;var L6="SelectScrollUpButton",TX=S.forwardRef((e,t)=>{const r=Dm(L6,e.__scopeSelect),n=ZD(L6,e.__scopeSelect),[a,i]=S.useState(!1),s=Jr(t,n.onScrollButtonChange);return ui(()=>{if(r.viewport&&r.isPositioned){let o=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),a?l(DX,{...e,ref:s,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=r;o&&c&&(o.scrollTop=o.scrollTop-c.offsetHeight)}}):null});TX.displayName=L6;var j6="SelectScrollDownButton",OX=S.forwardRef((e,t)=>{const r=Dm(j6,e.__scopeSelect),n=ZD(j6,e.__scopeSelect),[a,i]=S.useState(!1),s=Jr(t,n.onScrollButtonChange);return ui(()=>{if(r.viewport&&r.isPositioned){let o=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),a?l(DX,{...e,ref:s,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=r;o&&c&&(o.scrollTop=o.scrollTop+c.offsetHeight)}}):null});OX.displayName=j6;var DX=S.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=Dm("SelectScrollButton",r),s=S.useRef(null),o=Z4(r),c=S.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return S.useEffect(()=>()=>c(),[c]),ui(()=>{var d;const u=o().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[o]),l(xr.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:Ht(a.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(n,50))}),onPointerMove:Ht(a.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),s.current===null&&(s.current=window.setInterval(n,50))}),onPointerLeave:Ht(a.onPointerLeave,()=>{c()})})}),wye="SelectSeparator",IX=S.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return l(xr.div,{"aria-hidden":!0,...n,ref:t})});IX.displayName=wye;var $6="SelectArrow",bye=S.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Q4(r),i=Om($6,r),s=Dm($6,r);return i.open&&s.position==="popper"?l(I4,{...a,...n,ref:t}):null});bye.displayName=$6;var _ye="SelectBubbleInput",RX=S.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=S.useRef(null),i=Jr(n,a),s=K4(t);return S.useEffect(()=>{const o=a.current;if(!o)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(s!==t&&d){const f=new Event("change",{bubbles:!0});d.call(o,t),o.dispatchEvent(f)}},[s,t]),l(xr.select,{...r,style:{...cX,...r.style},ref:i,defaultValue:t})});RX.displayName=_ye;function MX(e){return e===""||e===void 0}function FX(e){const t=Di(e),r=S.useRef(""),n=S.useRef(0),a=S.useCallback(s=>{const o=r.current+s;t(o),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(o)},[t]),i=S.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return S.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function LX(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let s=Sye(e,Math.max(i,0));a.length===1&&(s=s.filter(u=>u!==r));const c=s.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function Sye(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Nye=uX,jX=fX,Aye=pX,kye=mX,Eye=gX,$X=vX,Cye=bX,BX=NX,UX=kX,Pye=EX,Tye=PX,qX=TX,zX=OX,WX=IX;const Ur=Nye,qr=Aye,jr=S.forwardRef(({className:e,children:t,...r},n)=>x(jX,{ref:n,className:Lt("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,l(kye,{asChild:!0,children:l(cD,{className:"h-4 w-4 opacity-50"})})]}));jr.displayName=jX.displayName;const VX=S.forwardRef(({className:e,...t},r)=>l(qX,{ref:r,className:Lt("flex cursor-default items-center justify-center py-1",e),...t,children:l(Ece,{className:"h-4 w-4"})}));VX.displayName=qX.displayName;const HX=S.forwardRef(({className:e,...t},r)=>l(zX,{ref:r,className:Lt("flex cursor-default items-center justify-center py-1",e),...t,children:l(cD,{className:"h-4 w-4"})}));HX.displayName=zX.displayName;const $r=S.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>l(Eye,{children:x($X,{ref:a,className:Lt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[l(VX,{}),l(Cye,{className:Lt("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),l(HX,{})]})}));$r.displayName=$X.displayName;const Oye=S.forwardRef(({className:e,...t},r)=>l(BX,{ref:r,className:Lt("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Oye.displayName=BX.displayName;const mt=S.forwardRef(({className:e,children:t,...r},n)=>x(UX,{ref:n,className:Lt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[l("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l(Tye,{children:l(v1,{className:"h-4 w-4"})})}),l(Pye,{children:t})]}));mt.displayName=UX.displayName;const Dye=S.forwardRef(({className:e,...t},r)=>l(WX,{ref:r,className:Lt("-mx-1 my-1 h-px bg-muted",e),...t}));Dye.displayName=WX.displayName;var B3,EL;function Wl(){if(EL)return B3;EL=1;var e=Array.isArray;return B3=e,B3}var U3,CL;function GX(){if(CL)return U3;CL=1;var e=typeof n_=="object"&&n_&&n_.Object===Object&&n_;return U3=e,U3}var q3,PL;function vf(){if(PL)return q3;PL=1;var e=GX(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return q3=r,q3}var z3,TL;function Jw(){if(TL)return z3;TL=1;var e=vf(),t=e.Symbol;return z3=t,z3}var W3,OL;function Iye(){if(OL)return W3;OL=1;var e=Jw(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,a=e?e.toStringTag:void 0;function i(s){var o=r.call(s,a),c=s[a];try{s[a]=void 0;var u=!0}catch{}var d=n.call(s);return u&&(o?s[a]=c:delete s[a]),d}return W3=i,W3}var V3,DL;function Rye(){if(DL)return V3;DL=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return V3=r,V3}var H3,IL;function Th(){if(IL)return H3;IL=1;var e=Jw(),t=Iye(),r=Rye(),n="[object Null]",a="[object Undefined]",i=e?e.toStringTag:void 0;function s(o){return o==null?o===void 0?a:n:i&&i in Object(o)?t(o):r(o)}return H3=s,H3}var G3,RL;function Oh(){if(RL)return G3;RL=1;function e(t){return t!=null&&typeof t=="object"}return G3=e,G3}var Y3,ML;function _y(){if(ML)return Y3;ML=1;var e=Th(),t=Oh(),r="[object Symbol]";function n(a){return typeof a=="symbol"||t(a)&&e(a)==r}return Y3=n,Y3}var K3,FL;function QD(){if(FL)return K3;FL=1;var e=Wl(),t=_y(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,s){if(e(i))return!1;var o=typeof i;return o=="number"||o=="symbol"||o=="boolean"||i==null||t(i)?!0:n.test(i)||!r.test(i)||s!=null&&i in Object(s)}return K3=a,K3}var X3,LL;function Im(){if(LL)return X3;LL=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return X3=e,X3}var J3,jL;function eI(){if(jL)return J3;jL=1;var e=Th(),t=Im(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function s(o){if(!t(o))return!1;var c=e(o);return c==n||c==a||c==r||c==i}return J3=s,J3}var Z3,$L;function Mye(){if($L)return Z3;$L=1;var e=vf(),t=e["__core-js_shared__"];return Z3=t,Z3}var Q3,BL;function Fye(){if(BL)return Q3;BL=1;var e=Mye(),t=function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!t&&t in n}return Q3=r,Q3}var ek,UL;function YX(){if(UL)return ek;UL=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return ek=r,ek}var tk,qL;function Lye(){if(qL)return tk;qL=1;var e=eI(),t=Fye(),r=Im(),n=YX(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,s=Function.prototype,o=Object.prototype,c=s.toString,u=o.hasOwnProperty,d=RegExp("^"+c.call(u).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(h){if(!r(h)||t(h))return!1;var m=e(h)?d:i;return m.test(n(h))}return tk=f,tk}var rk,zL;function jye(){if(zL)return rk;zL=1;function e(t,r){return t==null?void 0:t[r]}return rk=e,rk}var nk,WL;function Cg(){if(WL)return nk;WL=1;var e=Lye(),t=jye();function r(n,a){var i=t(n,a);return e(i)?i:void 0}return nk=r,nk}var ak,VL;function eN(){if(VL)return ak;VL=1;var e=Cg(),t=e(Object,"create");return ak=t,ak}var ik,HL;function $ye(){if(HL)return ik;HL=1;var e=eN();function t(){this.__data__=e?e(null):{},this.size=0}return ik=t,ik}var sk,GL;function Bye(){if(GL)return sk;GL=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return sk=e,sk}var ok,YL;function Uye(){if(YL)return ok;YL=1;var e=eN(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(i){var s=this.__data__;if(e){var o=s[i];return o===t?void 0:o}return n.call(s,i)?s[i]:void 0}return ok=a,ok}var lk,KL;function qye(){if(KL)return lk;KL=1;var e=eN(),t=Object.prototype,r=t.hasOwnProperty;function n(a){var i=this.__data__;return e?i[a]!==void 0:r.call(i,a)}return lk=n,lk}var ck,XL;function zye(){if(XL)return ck;XL=1;var e=eN(),t="__lodash_hash_undefined__";function r(n,a){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=e&&a===void 0?t:a,this}return ck=r,ck}var uk,JL;function Wye(){if(JL)return uk;JL=1;var e=$ye(),t=Bye(),r=Uye(),n=qye(),a=zye();function i(s){var o=-1,c=s==null?0:s.length;for(this.clear();++o<c;){var u=s[o];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,uk=i,uk}var dk,ZL;function Vye(){if(ZL)return dk;ZL=1;function e(){this.__data__=[],this.size=0}return dk=e,dk}var fk,QL;function tI(){if(QL)return fk;QL=1;function e(t,r){return t===r||t!==t&&r!==r}return fk=e,fk}var hk,e9;function tN(){if(e9)return hk;e9=1;var e=tI();function t(r,n){for(var a=r.length;a--;)if(e(r[a][0],n))return a;return-1}return hk=t,hk}var pk,t9;function Hye(){if(t9)return pk;t9=1;var e=tN(),t=Array.prototype,r=t.splice;function n(a){var i=this.__data__,s=e(i,a);if(s<0)return!1;var o=i.length-1;return s==o?i.pop():r.call(i,s,1),--this.size,!0}return pk=n,pk}var mk,r9;function Gye(){if(r9)return mk;r9=1;var e=tN();function t(r){var n=this.__data__,a=e(n,r);return a<0?void 0:n[a][1]}return mk=t,mk}var gk,n9;function Yye(){if(n9)return gk;n9=1;var e=tN();function t(r){return e(this.__data__,r)>-1}return gk=t,gk}var vk,a9;function Kye(){if(a9)return vk;a9=1;var e=tN();function t(r,n){var a=this.__data__,i=e(a,r);return i<0?(++this.size,a.push([r,n])):a[i][1]=n,this}return vk=t,vk}var yk,i9;function rN(){if(i9)return yk;i9=1;var e=Vye(),t=Hye(),r=Gye(),n=Yye(),a=Kye();function i(s){var o=-1,c=s==null?0:s.length;for(this.clear();++o<c;){var u=s[o];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,yk=i,yk}var xk,s9;function rI(){if(s9)return xk;s9=1;var e=Cg(),t=vf(),r=e(t,"Map");return xk=r,xk}var wk,o9;function Xye(){if(o9)return wk;o9=1;var e=Wye(),t=rN(),r=rI();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return wk=n,wk}var bk,l9;function Jye(){if(l9)return bk;l9=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return bk=e,bk}var _k,c9;function nN(){if(c9)return _k;c9=1;var e=Jye();function t(r,n){var a=r.__data__;return e(n)?a[typeof n=="string"?"string":"hash"]:a.map}return _k=t,_k}var Sk,u9;function Zye(){if(u9)return Sk;u9=1;var e=nN();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return Sk=t,Sk}var Nk,d9;function Qye(){if(d9)return Nk;d9=1;var e=nN();function t(r){return e(this,r).get(r)}return Nk=t,Nk}var Ak,f9;function e2e(){if(f9)return Ak;f9=1;var e=nN();function t(r){return e(this,r).has(r)}return Ak=t,Ak}var kk,h9;function t2e(){if(h9)return kk;h9=1;var e=nN();function t(r,n){var a=e(this,r),i=a.size;return a.set(r,n),this.size+=a.size==i?0:1,this}return kk=t,kk}var Ek,p9;function nI(){if(p9)return Ek;p9=1;var e=Xye(),t=Zye(),r=Qye(),n=e2e(),a=t2e();function i(s){var o=-1,c=s==null?0:s.length;for(this.clear();++o<c;){var u=s[o];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,Ek=i,Ek}var Ck,m9;function KX(){if(m9)return Ck;m9=1;var e=nI(),t="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(t);var i=function(){var s=arguments,o=a?a.apply(this,s):s[0],c=i.cache;if(c.has(o))return c.get(o);var u=n.apply(this,s);return i.cache=c.set(o,u)||c,u};return i.cache=new(r.Cache||e),i}return r.Cache=e,Ck=r,Ck}var Pk,g9;function r2e(){if(g9)return Pk;g9=1;var e=KX(),t=500;function r(n){var a=e(n,function(s){return i.size===t&&i.clear(),s}),i=a.cache;return a}return Pk=r,Pk}var Tk,v9;function n2e(){if(v9)return Tk;v9=1;var e=r2e(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(t,function(s,o,c,u){i.push(c?u.replace(r,"$1"):o||s)}),i});return Tk=n,Tk}var Ok,y9;function aI(){if(y9)return Ok;y9=1;function e(t,r){for(var n=-1,a=t==null?0:t.length,i=Array(a);++n<a;)i[n]=r(t[n],n,t);return i}return Ok=e,Ok}var Dk,x9;function a2e(){if(x9)return Dk;x9=1;var e=Jw(),t=aI(),r=Wl(),n=_y(),a=e?e.prototype:void 0,i=a?a.toString:void 0;function s(o){if(typeof o=="string")return o;if(r(o))return t(o,s)+"";if(n(o))return i?i.call(o):"";var c=o+"";return c=="0"&&1/o==-1/0?"-0":c}return Dk=s,Dk}var Ik,w9;function XX(){if(w9)return Ik;w9=1;var e=a2e();function t(r){return r==null?"":e(r)}return Ik=t,Ik}var Rk,b9;function JX(){if(b9)return Rk;b9=1;var e=Wl(),t=QD(),r=n2e(),n=XX();function a(i,s){return e(i)?i:t(i,s)?[i]:r(n(i))}return Rk=a,Rk}var Mk,_9;function aN(){if(_9)return Mk;_9=1;var e=_y();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return Mk=t,Mk}var Fk,S9;function iI(){if(S9)return Fk;S9=1;var e=JX(),t=aN();function r(n,a){a=e(a,n);for(var i=0,s=a.length;n!=null&&i<s;)n=n[t(a[i++])];return i&&i==s?n:void 0}return Fk=r,Fk}var Lk,N9;function ZX(){if(N9)return Lk;N9=1;var e=iI();function t(r,n,a){var i=r==null?void 0:e(r,n);return i===void 0?a:i}return Lk=t,Lk}var i2e=ZX();const xc=ma(i2e);var jk,A9;function s2e(){if(A9)return jk;A9=1;function e(t){return t==null}return jk=e,jk}var o2e=s2e();const vn=ma(o2e);var $k,k9;function l2e(){if(k9)return $k;k9=1;var e=Th(),t=Wl(),r=Oh(),n="[object String]";function a(i){return typeof i=="string"||!t(i)&&r(i)&&e(i)==n}return $k=a,$k}var c2e=l2e();const ng=ma(c2e);var u2e=eI();const tn=ma(u2e);var d2e=Im();const Sy=ma(d2e);var Bk={exports:{}},xa={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E9;function f2e(){if(E9)return xa;E9=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),s=Symbol.for("react.context"),o=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen"),w;w=Symbol.for("react.module.reference");function g(y){if(typeof y=="object"&&y!==null){var b=y.$$typeof;switch(b){case e:switch(y=y.type,y){case r:case a:case n:case u:case d:return y;default:switch(y=y&&y.$$typeof,y){case o:case s:case c:case h:case f:case i:return y;default:return b}}case t:return b}}}return xa.ContextConsumer=s,xa.ContextProvider=i,xa.Element=e,xa.ForwardRef=c,xa.Fragment=r,xa.Lazy=h,xa.Memo=f,xa.Portal=t,xa.Profiler=a,xa.StrictMode=n,xa.Suspense=u,xa.SuspenseList=d,xa.isAsyncMode=function(){return!1},xa.isConcurrentMode=function(){return!1},xa.isContextConsumer=function(y){return g(y)===s},xa.isContextProvider=function(y){return g(y)===i},xa.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===e},xa.isForwardRef=function(y){return g(y)===c},xa.isFragment=function(y){return g(y)===r},xa.isLazy=function(y){return g(y)===h},xa.isMemo=function(y){return g(y)===f},xa.isPortal=function(y){return g(y)===t},xa.isProfiler=function(y){return g(y)===a},xa.isStrictMode=function(y){return g(y)===n},xa.isSuspense=function(y){return g(y)===u},xa.isSuspenseList=function(y){return g(y)===d},xa.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===r||y===a||y===n||y===u||y===d||y===m||typeof y=="object"&&y!==null&&(y.$$typeof===h||y.$$typeof===f||y.$$typeof===i||y.$$typeof===s||y.$$typeof===c||y.$$typeof===w||y.getModuleId!==void 0)},xa.typeOf=g,xa}var C9;function h2e(){return C9||(C9=1,Bk.exports=f2e()),Bk.exports}var p2e=h2e(),Uk,P9;function QX(){if(P9)return Uk;P9=1;var e=Th(),t=Oh(),r="[object Number]";function n(a){return typeof a=="number"||t(a)&&e(a)==r}return Uk=n,Uk}var qk,T9;function m2e(){if(T9)return qk;T9=1;var e=QX();function t(r){return e(r)&&r!=+r}return qk=t,qk}var g2e=m2e();const Ny=ma(g2e);var v2e=QX();const y2e=ma(v2e);var cl=function(t){return t===0?0:t>0?1:-1},F0=function(t){return ng(t)&&t.indexOf("%")===t.length-1},Xt=function(t){return y2e(t)&&!Ny(t)},bs=function(t){return Xt(t)||ng(t)},x2e=0,Pg=function(t){var r=++x2e;return"".concat(t||"").concat(r)},ul=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Xt(t)&&!ng(t))return n;var i;if(F0(t)){var s=t.indexOf("%");i=r*parseFloat(t.slice(0,s))/100}else i=+t;return Ny(i)&&(i=n),a&&i>r&&(i=r),i},Gp=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},w2e=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},xs=function(t,r){return Xt(t)&&Xt(r)?function(n){return t+n*(r-t)}:function(){return r}};function L5(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):xc(n,t))===r})}var b2e=function(t,r){return Xt(t)&&Xt(r)?t-r:ng(t)&&ng(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function e1(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function B6(e){"@babel/helpers - typeof";return B6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B6(e)}var _2e=["viewBox","children"],S2e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],O9=["points","pathLength"],zk={svg:_2e,polygon:O9,polyline:O9},sI=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],j5=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(S.isValidElement(t)&&(n=t.props),!Sy(n))return null;var a={};return Object.keys(n).forEach(function(i){sI.includes(i)&&(a[i]=r||function(s){return n[i](n,s)})}),a},N2e=function(t,r,n){return function(a){return t(r,n,a),null}},ag=function(t,r,n){if(!Sy(t)||B6(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var s=t[i];sI.includes(i)&&typeof s=="function"&&(a||(a={}),a[i]=N2e(s,r,n))}),a},A2e=["children"],k2e=["children"];function D9(e,t){if(e==null)return{};var r=E2e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function E2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function U6(e){"@babel/helpers - typeof";return U6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U6(e)}var I9={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},hh=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},R9=null,Wk=null,oI=function e(t){if(t===R9&&Array.isArray(Wk))return Wk;var r=[];return S.Children.forEach(t,function(n){vn(n)||(p2e.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Wk=r,R9=t,r};function wc(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return hh(a)}):n=[hh(t)],oI(e).forEach(function(a){var i=xc(a,"type.displayName")||xc(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function sc(e,t){var r=wc(e,t);return r&&r[0]}var M9=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!Xt(n)||n<=0||!Xt(a)||a<=0)},C2e=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],P2e=function(t){return t&&t.type&&ng(t.type)&&C2e.indexOf(t.type)>=0},eJ=function(t){return t&&U6(t)==="object"&&"clipDot"in t},T2e=function(t,r,n,a){var i,s=(i=zk==null?void 0:zk[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!tn(t)&&(a&&s.includes(r)||S2e.includes(r))||n&&sI.includes(r)},Rr=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(S.isValidElement(t)&&(a=t.props),!Sy(a))return null;var i={};return Object.keys(a).forEach(function(s){var o;T2e((o=a)===null||o===void 0?void 0:o[s],s,r,n)&&(i[s]=a[s])}),i},q6=function e(t,r){if(t===r)return!0;var n=S.Children.count(t);if(n!==S.Children.count(r))return!1;if(n===0)return!0;if(n===1)return F9(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],s=r[a];if(Array.isArray(i)||Array.isArray(s)){if(!e(i,s))return!1}else if(!F9(i,s))return!1}return!0},F9=function(t,r){if(vn(t)&&vn(r))return!0;if(!vn(t)&&!vn(r)){var n=t.props||{},a=n.children,i=D9(n,A2e),s=r.props||{},o=s.children,c=D9(s,k2e);return a&&o?e1(i,c)&&q6(a,o):!a&&!o?e1(i,c):!1}return!1},L9=function(t,r){var n=[],a={};return oI(t).forEach(function(i,s){if(P2e(i))n.push(i);else if(i){var o=hh(i.type),c=r[o]||{},u=c.handler,d=c.once;if(u&&(!d||!a[o])){var f=u(i,o,s);n.push(f),a[o]=!0}}}),n},O2e=function(t){var r=t&&t.type;return r&&I9[r]?I9[r]:null},D2e=function(t,r){return oI(r).indexOf(t)},I2e=["children","width","height","viewBox","className","style","title","desc"];function z6(){return z6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},z6.apply(this,arguments)}function R2e(e,t){if(e==null)return{};var r=M2e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function M2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function W6(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,s=e.style,o=e.title,c=e.desc,u=R2e(e,I2e),d=a||{width:r,height:n,x:0,y:0},f=yn("recharts-surface",i);return tt.createElement("svg",z6({},Rr(u,!0,"svg"),{className:f,width:r,height:n,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),tt.createElement("title",null,o),tt.createElement("desc",null,c),t)}var F2e=["children","className"];function V6(){return V6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},V6.apply(this,arguments)}function L2e(e,t){if(e==null)return{};var r=j2e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function j2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Ln=tt.forwardRef(function(e,t){var r=e.children,n=e.className,a=L2e(e,F2e),i=yn("recharts-layer",n);return tt.createElement("g",V6({className:i},Rr(a,!0),{ref:t}),r)}),Yu=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]},Vk,j9;function $2e(){if(j9)return Vk;j9=1;function e(t,r,n){var a=-1,i=t.length;r<0&&(r=-r>i?0:i+r),n=n>i?i:n,n<0&&(n+=i),i=r>n?0:n-r>>>0,r>>>=0;for(var s=Array(i);++a<i;)s[a]=t[a+r];return s}return Vk=e,Vk}var Hk,$9;function B2e(){if($9)return Hk;$9=1;var e=$2e();function t(r,n,a){var i=r.length;return a=a===void 0?i:a,!n&&a>=i?r:e(r,n,a)}return Hk=t,Hk}var Gk,B9;function tJ(){if(B9)return Gk;B9=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=t+r+n,i="\\ufe0e\\ufe0f",s="\\u200d",o=RegExp("["+s+e+a+i+"]");function c(u){return o.test(u)}return Gk=c,Gk}var Yk,U9;function U2e(){if(U9)return Yk;U9=1;function e(t){return t.split("")}return Yk=e,Yk}var Kk,q9;function q2e(){if(q9)return Kk;q9=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=t+r+n,i="\\ufe0e\\ufe0f",s="["+e+"]",o="["+a+"]",c="\\ud83c[\\udffb-\\udfff]",u="(?:"+o+"|"+c+")",d="[^"+e+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",m="\\u200d",w=u+"?",g="["+i+"]?",y="(?:"+m+"(?:"+[d,f,h].join("|")+")"+g+w+")*",b=g+w+y,_="(?:"+[d+o+"?",o,f,h,s].join("|")+")",N=RegExp(c+"(?="+c+")|"+_+b,"g");function E(C){return C.match(N)||[]}return Kk=E,Kk}var Xk,z9;function z2e(){if(z9)return Xk;z9=1;var e=U2e(),t=tJ(),r=q2e();function n(a){return t(a)?r(a):e(a)}return Xk=n,Xk}var Jk,W9;function W2e(){if(W9)return Jk;W9=1;var e=B2e(),t=tJ(),r=z2e(),n=XX();function a(i){return function(s){s=n(s);var o=t(s)?r(s):void 0,c=o?o[0]:s.charAt(0),u=o?e(o,1).join(""):s.slice(1);return c[i]()+u}}return Jk=a,Jk}var Zk,V9;function V2e(){if(V9)return Zk;V9=1;var e=W2e(),t=e("toUpperCase");return Zk=t,Zk}var H2e=V2e();const iN=ma(H2e);function Ba(e){return function(){return e}}const rJ=Math.cos,$5=Math.sin,fd=Math.sqrt,B5=Math.PI,sN=2*B5,H6=Math.PI,G6=2*H6,E0=1e-6,G2e=G6-E0;function nJ(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Y2e(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return nJ;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class K2e{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?nJ:Y2e(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,s){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,o=this._y1,c=n-t,u=a-r,d=s-t,f=o-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>E0)if(!(Math.abs(f*c-u*d)>E0)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-s,w=a-o,g=c*c+u*u,y=m*m+w*w,b=Math.sqrt(g),_=Math.sqrt(h),N=i*Math.tan((H6-Math.acos((g+h-y)/(2*b*_)))/2),E=N/_,C=N/b;Math.abs(E-1)>E0&&this._append`L${t+E*d},${r+E*f}`,this._append`A${i},${i},0,0,${+(f*m>d*w)},${this._x1=t+C*c},${this._y1=r+C*u}`}}arc(t,r,n,a,i,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),c=n*Math.sin(a),u=t+o,d=r+c,f=1^s,h=s?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>E0||Math.abs(this._y1-d)>E0)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%G6+G6),h>G2e?this._append`A${n},${n},0,1,${f},${t-o},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>E0&&this._append`A${n},${n},0,${+(h>=H6)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function lI(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new K2e(t)}function cI(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function aJ(e){this._context=e}aJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function oN(e){return new aJ(e)}function iJ(e){return e[0]}function sJ(e){return e[1]}function oJ(e,t){var r=Ba(!0),n=null,a=oN,i=null,s=lI(o);e=typeof e=="function"?e:e===void 0?iJ:Ba(e),t=typeof t=="function"?t:t===void 0?sJ:Ba(t);function o(c){var u,d=(c=cI(c)).length,f,h=!1,m;for(n==null&&(i=a(m=s())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(m)return i=null,m+""||null}return o.x=function(c){return arguments.length?(e=typeof c=="function"?c:Ba(+c),o):e},o.y=function(c){return arguments.length?(t=typeof c=="function"?c:Ba(+c),o):t},o.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ba(!!c),o):r},o.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),o):a},o.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),o):n},o}function w_(e,t,r){var n=null,a=Ba(!0),i=null,s=oN,o=null,c=lI(u);e=typeof e=="function"?e:e===void 0?iJ:Ba(+e),t=typeof t=="function"?t:Ba(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?sJ:Ba(+r);function u(f){var h,m,w,g=(f=cI(f)).length,y,b=!1,_,N=new Array(g),E=new Array(g);for(i==null&&(o=s(_=c())),h=0;h<=g;++h){if(!(h<g&&a(y=f[h],h,f))===b)if(b=!b)m=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),w=h-1;w>=m;--w)o.point(N[w],E[w]);o.lineEnd(),o.areaEnd()}b&&(N[h]=+e(y,h,f),E[h]=+t(y,h,f),o.point(n?+n(y,h,f):N[h],r?+r(y,h,f):E[h]))}if(_)return o=null,_+""||null}function d(){return oJ().defined(a).curve(s).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Ba(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Ba(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ba(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Ba(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Ba(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ba(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Ba(!!f),u):a},u.curve=function(f){return arguments.length?(s=f,i!=null&&(o=s(i)),u):s},u.context=function(f){return arguments.length?(f==null?i=o=null:o=s(i=f),u):i},u}class lJ{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function X2e(e){return new lJ(e,!0)}function J2e(e){return new lJ(e,!1)}const uI={draw(e,t){const r=fd(t/B5);e.moveTo(r,0),e.arc(0,0,r,0,sN)}},Z2e={draw(e,t){const r=fd(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},cJ=fd(1/3),Q2e=cJ*2,exe={draw(e,t){const r=fd(t/Q2e),n=r*cJ;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},txe={draw(e,t){const r=fd(t),n=-r/2;e.rect(n,n,r,r)}},rxe=.8908130915292852,uJ=$5(B5/10)/$5(7*B5/10),nxe=$5(sN/10)*uJ,axe=-rJ(sN/10)*uJ,ixe={draw(e,t){const r=fd(t*rxe),n=nxe*r,a=axe*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const s=sN*i/5,o=rJ(s),c=$5(s);e.lineTo(c*r,-o*r),e.lineTo(o*n-c*a,c*n+o*a)}e.closePath()}},Qk=fd(3),sxe={draw(e,t){const r=-fd(t/(Qk*3));e.moveTo(0,r*2),e.lineTo(-Qk*r,-r),e.lineTo(Qk*r,-r),e.closePath()}},zc=-.5,Wc=fd(3)/2,Y6=1/fd(12),oxe=(Y6/2+1)*3,lxe={draw(e,t){const r=fd(t/oxe),n=r/2,a=r*Y6,i=n,s=r*Y6+r,o=-i,c=s;e.moveTo(n,a),e.lineTo(i,s),e.lineTo(o,c),e.lineTo(zc*n-Wc*a,Wc*n+zc*a),e.lineTo(zc*i-Wc*s,Wc*i+zc*s),e.lineTo(zc*o-Wc*c,Wc*o+zc*c),e.lineTo(zc*n+Wc*a,zc*a-Wc*n),e.lineTo(zc*i+Wc*s,zc*s-Wc*i),e.lineTo(zc*o+Wc*c,zc*c-Wc*o),e.closePath()}};function cxe(e,t){let r=null,n=lI(a);e=typeof e=="function"?e:Ba(e||uI),t=typeof t=="function"?t:Ba(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Ba(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Ba(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function U5(){}function q5(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function dJ(e){this._context=e}dJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:q5(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:q5(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function uxe(e){return new dJ(e)}function fJ(e){this._context=e}fJ.prototype={areaStart:U5,areaEnd:U5,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:q5(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function dxe(e){return new fJ(e)}function hJ(e){this._context=e}hJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:q5(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function fxe(e){return new hJ(e)}function pJ(e){this._context=e}pJ.prototype={areaStart:U5,areaEnd:U5,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function hxe(e){return new pJ(e)}function H9(e){return e<0?-1:1}function G9(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),s=(r-e._y1)/(a||n<0&&-0),o=(i*a+s*n)/(n+a);return(H9(i)+H9(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(o))||0}function Y9(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function eE(e,t,r){var n=e._x0,a=e._y0,i=e._x1,s=e._y1,o=(i-n)/3;e._context.bezierCurveTo(n+o,a+o*t,i-o,s-o*r,i,s)}function z5(e){this._context=e}z5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:eE(this,this._t0,Y9(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,eE(this,Y9(this,r=G9(this,e,t)),r);break;default:eE(this,this._t0,r=G9(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function mJ(e){this._context=new gJ(e)}(mJ.prototype=Object.create(z5.prototype)).point=function(e,t){z5.prototype.point.call(this,t,e)};function gJ(e){this._context=e}gJ.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function pxe(e){return new z5(e)}function mxe(e){return new mJ(e)}function vJ(e){this._context=e}vJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=K9(e),a=K9(t),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function K9(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,s[t]-=n*s[t-1];for(a[r-1]=s[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function gxe(e){return new vJ(e)}function lN(e,t){this._context=e,this._t=t}lN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function vxe(e){return new lN(e,.5)}function yxe(e){return new lN(e,0)}function xxe(e){return new lN(e,1)}function S1(e,t){if((s=e.length)>1)for(var r=1,n,a,i=e[t[0]],s,o=i.length;r<s;++r)for(a=i,i=e[t[r]],n=0;n<o;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function K6(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function wxe(e,t){return e[t]}function bxe(e){const t=[];return t.key=e,t}function _xe(){var e=Ba([]),t=K6,r=S1,n=wxe;function a(i){var s=Array.from(e.apply(this,arguments),bxe),o,c=s.length,u=-1,d;for(const f of i)for(o=0,++u;o<c;++o)(s[o][u]=[0,+n(f,s[o].key,u,i)]).data=f;for(o=0,d=cI(t(s));o<c;++o)s[d[o]].index=o;return r(s,d),s}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Ba(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Ba(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?K6:typeof i=="function"?i:Ba(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??S1,a):r},a}function Sxe(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=e[r][a][1]||0;if(s)for(r=0;r<n;++r)e[r][a][1]/=s}S1(e,t)}}function Nxe(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var s=0,o=0;s<a;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}S1(e,t)}}function Axe(e,t){if(!(!((s=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var o=0,c=0,u=0;o<s;++o){for(var d=e[t[o]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,w=0;w<o;++w){var g=e[t[w]],y=g[n][1]||0,b=g[n-1][1]||0;m+=y-b}c+=f,u+=m*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,S1(e,t)}}function Nx(e){"@babel/helpers - typeof";return Nx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nx(e)}var kxe=["type","size","sizeType"];function X6(){return X6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},X6.apply(this,arguments)}function X9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function J9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X9(Object(r),!0).forEach(function(n){Exe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X9(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Exe(e,t,r){return t=Cxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cxe(e){var t=Pxe(e,"string");return Nx(t)=="symbol"?t:t+""}function Pxe(e,t){if(Nx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Txe(e,t){if(e==null)return{};var r=Oxe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Oxe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var yJ={symbolCircle:uI,symbolCross:Z2e,symbolDiamond:exe,symbolSquare:txe,symbolStar:ixe,symbolTriangle:sxe,symbolWye:lxe},Dxe=Math.PI/180,Ixe=function(t){var r="symbol".concat(iN(t));return yJ[r]||uI},Rxe=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*Dxe;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Mxe=function(t,r){yJ["symbol".concat(iN(t))]=r},dI=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,s=t.sizeType,o=s===void 0?"area":s,c=Txe(t,kxe),u=J9(J9({},c),{},{type:n,size:i,sizeType:o}),d=function(){var y=Ixe(n),b=cxe().type(y).size(Rxe(i,o,n));return b()},f=u.className,h=u.cx,m=u.cy,w=Rr(u,!0);return h===+h&&m===+m&&i===+i?tt.createElement("path",X6({},w,{className:yn("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};dI.registerSymbol=Mxe;function N1(e){"@babel/helpers - typeof";return N1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N1(e)}function Z9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fxe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z9(Object(r),!0).forEach(function(n){Ax(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z9(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jxe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wJ(n.key),n)}}function $xe(e,t,r){return t&&jxe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bxe(e,t,r){return t=W5(t),Uxe(e,xJ()?Reflect.construct(t,r||[],W5(e).constructor):t.apply(e,r))}function Uxe(e,t){if(t&&(N1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qxe(e)}function qxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xJ=function(){return!!e})()}function W5(e){return W5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},W5(e)}function zxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J6(e,t)}function J6(e,t){return J6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},J6(e,t)}function Ax(e,t,r){return t=wJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wJ(e){var t=Wxe(e,"string");return N1(t)=="symbol"?t:t+""}function Wxe(e,t){if(N1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(N1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ou=32,fI=function(e){function t(){return Lxe(this,t),Bxe(this,t,arguments)}return zxe(t,e),$xe(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=Ou/2,s=Ou/6,o=Ou/3,c=n.inactive?a:n.color;if(n.type==="plainline")return l("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Ou,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return l("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(Ou,"M").concat(2*o,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return l("path",{stroke:"none",fill:c,d:"M0,".concat(Ou/8,"h").concat(Ou,"v").concat(Ou*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(tt.isValidElement(n.legendIcon)){var u=Fxe({},n);return delete u.legendIcon,tt.cloneElement(n.legendIcon,u)}return l(dI,{fill:c,cx:i,cy:i,size:Ou,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,s=a.iconSize,o=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:Ou,height:Ou},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(m,w){var g=m.formatter||c,y=yn(Ax(Ax({"recharts-legend-item":!0},"legend-item-".concat(w),!0),"inactive",m.inactive));if(m.type==="none")return null;var b=tn(m.value)?null:m.value;Yu(!tn(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _=m.inactive?u:m.color;return x("li",{className:y,style:f,...ag(n.props,m,w),children:[l(W6,{width:s,height:s,viewBox:d,style:h,children:n.renderIcon(m)}),l("span",{className:"recharts-legend-item-text",style:{color:_},children:g?g(b,m,w):b})]},"legend-item-".concat(w))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,s=n.align;if(!a||!a.length)return null;var o={padding:0,margin:0,textAlign:i==="horizontal"?s:"left"};return l("ul",{className:"recharts-default-legend",style:o,children:this.renderItems()})}}])}(S.PureComponent);Ax(fI,"displayName","Legend");Ax(fI,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var tE,Q9;function Vxe(){if(Q9)return tE;Q9=1;var e=rN();function t(){this.__data__=new e,this.size=0}return tE=t,tE}var rE,ej;function Hxe(){if(ej)return rE;ej=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return rE=e,rE}var nE,tj;function Gxe(){if(tj)return nE;tj=1;function e(t){return this.__data__.get(t)}return nE=e,nE}var aE,rj;function Yxe(){if(rj)return aE;rj=1;function e(t){return this.__data__.has(t)}return aE=e,aE}var iE,nj;function Kxe(){if(nj)return iE;nj=1;var e=rN(),t=rI(),r=nI(),n=200;function a(i,s){var o=this.__data__;if(o instanceof e){var c=o.__data__;if(!t||c.length<n-1)return c.push([i,s]),this.size=++o.size,this;o=this.__data__=new r(c)}return o.set(i,s),this.size=o.size,this}return iE=a,iE}var sE,aj;function bJ(){if(aj)return sE;aj=1;var e=rN(),t=Vxe(),r=Hxe(),n=Gxe(),a=Yxe(),i=Kxe();function s(o){var c=this.__data__=new e(o);this.size=c.size}return s.prototype.clear=t,s.prototype.delete=r,s.prototype.get=n,s.prototype.has=a,s.prototype.set=i,sE=s,sE}var oE,ij;function Xxe(){if(ij)return oE;ij=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return oE=t,oE}var lE,sj;function Jxe(){if(sj)return lE;sj=1;function e(t){return this.__data__.has(t)}return lE=e,lE}var cE,oj;function _J(){if(oj)return cE;oj=1;var e=nI(),t=Xxe(),r=Jxe();function n(a){var i=-1,s=a==null?0:a.length;for(this.__data__=new e;++i<s;)this.add(a[i])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,cE=n,cE}var uE,lj;function SJ(){if(lj)return uE;lj=1;function e(t,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(r(t[n],n,t))return!0;return!1}return uE=e,uE}var dE,cj;function NJ(){if(cj)return dE;cj=1;function e(t,r){return t.has(r)}return dE=e,dE}var fE,uj;function AJ(){if(uj)return fE;uj=1;var e=_J(),t=SJ(),r=NJ(),n=1,a=2;function i(s,o,c,u,d,f){var h=c&n,m=s.length,w=o.length;if(m!=w&&!(h&&w>m))return!1;var g=f.get(s),y=f.get(o);if(g&&y)return g==o&&y==s;var b=-1,_=!0,N=c&a?new e:void 0;for(f.set(s,o),f.set(o,s);++b<m;){var E=s[b],C=o[b];if(u)var O=h?u(C,E,b,o,s,f):u(E,C,b,s,o,f);if(O!==void 0){if(O)continue;_=!1;break}if(N){if(!t(o,function(P,M){if(!r(N,M)&&(E===P||d(E,P,c,u,f)))return N.push(M)})){_=!1;break}}else if(!(E===C||d(E,C,c,u,f))){_=!1;break}}return f.delete(s),f.delete(o),_}return fE=i,fE}var hE,dj;function Zxe(){if(dj)return hE;dj=1;var e=vf(),t=e.Uint8Array;return hE=t,hE}var pE,fj;function Qxe(){if(fj)return pE;fj=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(a,i){n[++r]=[i,a]}),n}return pE=e,pE}var mE,hj;function hI(){if(hj)return mE;hj=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(a){n[++r]=a}),n}return mE=e,mE}var gE,pj;function ewe(){if(pj)return gE;pj=1;var e=Jw(),t=Zxe(),r=tI(),n=AJ(),a=Qxe(),i=hI(),s=1,o=2,c="[object Boolean]",u="[object Date]",d="[object Error]",f="[object Map]",h="[object Number]",m="[object RegExp]",w="[object Set]",g="[object String]",y="[object Symbol]",b="[object ArrayBuffer]",_="[object DataView]",N=e?e.prototype:void 0,E=N?N.valueOf:void 0;function C(O,P,M,L,j,T,I){switch(M){case _:if(O.byteLength!=P.byteLength||O.byteOffset!=P.byteOffset)return!1;O=O.buffer,P=P.buffer;case b:return!(O.byteLength!=P.byteLength||!T(new t(O),new t(P)));case c:case u:case h:return r(+O,+P);case d:return O.name==P.name&&O.message==P.message;case m:case g:return O==P+"";case f:var B=a;case w:var G=L&s;if(B||(B=i),O.size!=P.size&&!G)return!1;var Z=I.get(O);if(Z)return Z==P;L|=o,I.set(O,P);var re=n(B(O),B(P),L,j,T,I);return I.delete(O),re;case y:if(E)return E.call(O)==E.call(P)}return!1}return gE=C,gE}var vE,mj;function kJ(){if(mj)return vE;mj=1;function e(t,r){for(var n=-1,a=r.length,i=t.length;++n<a;)t[i+n]=r[n];return t}return vE=e,vE}var yE,gj;function twe(){if(gj)return yE;gj=1;var e=kJ(),t=Wl();function r(n,a,i){var s=a(n);return t(n)?s:e(s,i(n))}return yE=r,yE}var xE,vj;function rwe(){if(vj)return xE;vj=1;function e(t,r){for(var n=-1,a=t==null?0:t.length,i=0,s=[];++n<a;){var o=t[n];r(o,n,t)&&(s[i++]=o)}return s}return xE=e,xE}var wE,yj;function nwe(){if(yj)return wE;yj=1;function e(){return[]}return wE=e,wE}var bE,xj;function awe(){if(xj)return bE;xj=1;var e=rwe(),t=nwe(),r=Object.prototype,n=r.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(s){return s==null?[]:(s=Object(s),e(a(s),function(o){return n.call(s,o)}))}:t;return bE=i,bE}var _E,wj;function iwe(){if(wj)return _E;wj=1;function e(t,r){for(var n=-1,a=Array(t);++n<t;)a[n]=r(n);return a}return _E=e,_E}var SE,bj;function swe(){if(bj)return SE;bj=1;var e=Th(),t=Oh(),r="[object Arguments]";function n(a){return t(a)&&e(a)==r}return SE=n,SE}var NE,_j;function pI(){if(_j)return NE;_j=1;var e=swe(),t=Oh(),r=Object.prototype,n=r.hasOwnProperty,a=r.propertyIsEnumerable,i=e(function(){return arguments}())?e:function(s){return t(s)&&n.call(s,"callee")&&!a.call(s,"callee")};return NE=i,NE}var D2={exports:{}},AE,Sj;function owe(){if(Sj)return AE;Sj=1;function e(){return!1}return AE=e,AE}D2.exports;var Nj;function EJ(){return Nj||(Nj=1,function(e,t){var r=vf(),n=owe(),a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===a,o=s?r.Buffer:void 0,c=o?o.isBuffer:void 0,u=c||n;e.exports=u}(D2,D2.exports)),D2.exports}var kE,Aj;function mI(){if(Aj)return kE;Aj=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,a){var i=typeof n;return a=a??e,!!a&&(i=="number"||i!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<a}return kE=r,kE}var EE,kj;function gI(){if(kj)return EE;kj=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return EE=t,EE}var CE,Ej;function lwe(){if(Ej)return CE;Ej=1;var e=Th(),t=gI(),r=Oh(),n="[object Arguments]",a="[object Array]",i="[object Boolean]",s="[object Date]",o="[object Error]",c="[object Function]",u="[object Map]",d="[object Number]",f="[object Object]",h="[object RegExp]",m="[object Set]",w="[object String]",g="[object WeakMap]",y="[object ArrayBuffer]",b="[object DataView]",_="[object Float32Array]",N="[object Float64Array]",E="[object Int8Array]",C="[object Int16Array]",O="[object Int32Array]",P="[object Uint8Array]",M="[object Uint8ClampedArray]",L="[object Uint16Array]",j="[object Uint32Array]",T={};T[_]=T[N]=T[E]=T[C]=T[O]=T[P]=T[M]=T[L]=T[j]=!0,T[n]=T[a]=T[y]=T[i]=T[b]=T[s]=T[o]=T[c]=T[u]=T[d]=T[f]=T[h]=T[m]=T[w]=T[g]=!1;function I(B){return r(B)&&t(B.length)&&!!T[e(B)]}return CE=I,CE}var PE,Cj;function CJ(){if(Cj)return PE;Cj=1;function e(t){return function(r){return t(r)}}return PE=e,PE}var I2={exports:{}};I2.exports;var Pj;function cwe(){return Pj||(Pj=1,function(e,t){var r=GX(),n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,s=i&&r.process,o=function(){try{var c=a&&a.require&&a.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();e.exports=o}(I2,I2.exports)),I2.exports}var TE,Tj;function PJ(){if(Tj)return TE;Tj=1;var e=lwe(),t=CJ(),r=cwe(),n=r&&r.isTypedArray,a=n?t(n):e;return TE=a,TE}var OE,Oj;function uwe(){if(Oj)return OE;Oj=1;var e=iwe(),t=pI(),r=Wl(),n=EJ(),a=mI(),i=PJ(),s=Object.prototype,o=s.hasOwnProperty;function c(u,d){var f=r(u),h=!f&&t(u),m=!f&&!h&&n(u),w=!f&&!h&&!m&&i(u),g=f||h||m||w,y=g?e(u.length,String):[],b=y.length;for(var _ in u)(d||o.call(u,_))&&!(g&&(_=="length"||m&&(_=="offset"||_=="parent")||w&&(_=="buffer"||_=="byteLength"||_=="byteOffset")||a(_,b)))&&y.push(_);return y}return OE=c,OE}var DE,Dj;function dwe(){if(Dj)return DE;Dj=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,a=typeof n=="function"&&n.prototype||e;return r===a}return DE=t,DE}var IE,Ij;function TJ(){if(Ij)return IE;Ij=1;function e(t,r){return function(n){return t(r(n))}}return IE=e,IE}var RE,Rj;function fwe(){if(Rj)return RE;Rj=1;var e=TJ(),t=e(Object.keys,Object);return RE=t,RE}var ME,Mj;function hwe(){if(Mj)return ME;Mj=1;var e=dwe(),t=fwe(),r=Object.prototype,n=r.hasOwnProperty;function a(i){if(!e(i))return t(i);var s=[];for(var o in Object(i))n.call(i,o)&&o!="constructor"&&s.push(o);return s}return ME=a,ME}var FE,Fj;function Zw(){if(Fj)return FE;Fj=1;var e=eI(),t=gI();function r(n){return n!=null&&t(n.length)&&!e(n)}return FE=r,FE}var LE,Lj;function cN(){if(Lj)return LE;Lj=1;var e=uwe(),t=hwe(),r=Zw();function n(a){return r(a)?e(a):t(a)}return LE=n,LE}var jE,jj;function pwe(){if(jj)return jE;jj=1;var e=twe(),t=awe(),r=cN();function n(a){return e(a,r,t)}return jE=n,jE}var $E,$j;function mwe(){if($j)return $E;$j=1;var e=pwe(),t=1,r=Object.prototype,n=r.hasOwnProperty;function a(i,s,o,c,u,d){var f=o&t,h=e(i),m=h.length,w=e(s),g=w.length;if(m!=g&&!f)return!1;for(var y=m;y--;){var b=h[y];if(!(f?b in s:n.call(s,b)))return!1}var _=d.get(i),N=d.get(s);if(_&&N)return _==s&&N==i;var E=!0;d.set(i,s),d.set(s,i);for(var C=f;++y<m;){b=h[y];var O=i[b],P=s[b];if(c)var M=f?c(P,O,b,s,i,d):c(O,P,b,i,s,d);if(!(M===void 0?O===P||u(O,P,o,c,d):M)){E=!1;break}C||(C=b=="constructor")}if(E&&!C){var L=i.constructor,j=s.constructor;L!=j&&"constructor"in i&&"constructor"in s&&!(typeof L=="function"&&L instanceof L&&typeof j=="function"&&j instanceof j)&&(E=!1)}return d.delete(i),d.delete(s),E}return $E=a,$E}var BE,Bj;function gwe(){if(Bj)return BE;Bj=1;var e=Cg(),t=vf(),r=e(t,"DataView");return BE=r,BE}var UE,Uj;function vwe(){if(Uj)return UE;Uj=1;var e=Cg(),t=vf(),r=e(t,"Promise");return UE=r,UE}var qE,qj;function OJ(){if(qj)return qE;qj=1;var e=Cg(),t=vf(),r=e(t,"Set");return qE=r,qE}var zE,zj;function ywe(){if(zj)return zE;zj=1;var e=Cg(),t=vf(),r=e(t,"WeakMap");return zE=r,zE}var WE,Wj;function xwe(){if(Wj)return WE;Wj=1;var e=gwe(),t=rI(),r=vwe(),n=OJ(),a=ywe(),i=Th(),s=YX(),o="[object Map]",c="[object Object]",u="[object Promise]",d="[object Set]",f="[object WeakMap]",h="[object DataView]",m=s(e),w=s(t),g=s(r),y=s(n),b=s(a),_=i;return(e&&_(new e(new ArrayBuffer(1)))!=h||t&&_(new t)!=o||r&&_(r.resolve())!=u||n&&_(new n)!=d||a&&_(new a)!=f)&&(_=function(N){var E=i(N),C=E==c?N.constructor:void 0,O=C?s(C):"";if(O)switch(O){case m:return h;case w:return o;case g:return u;case y:return d;case b:return f}return E}),WE=_,WE}var VE,Vj;function wwe(){if(Vj)return VE;Vj=1;var e=bJ(),t=AJ(),r=ewe(),n=mwe(),a=xwe(),i=Wl(),s=EJ(),o=PJ(),c=1,u="[object Arguments]",d="[object Array]",f="[object Object]",h=Object.prototype,m=h.hasOwnProperty;function w(g,y,b,_,N,E){var C=i(g),O=i(y),P=C?d:a(g),M=O?d:a(y);P=P==u?f:P,M=M==u?f:M;var L=P==f,j=M==f,T=P==M;if(T&&s(g)){if(!s(y))return!1;C=!0,L=!1}if(T&&!L)return E||(E=new e),C||o(g)?t(g,y,b,_,N,E):r(g,y,P,b,_,N,E);if(!(b&c)){var I=L&&m.call(g,"__wrapped__"),B=j&&m.call(y,"__wrapped__");if(I||B){var G=I?g.value():g,Z=B?y.value():y;return E||(E=new e),N(G,Z,b,_,E)}}return T?(E||(E=new e),n(g,y,b,_,N,E)):!1}return VE=w,VE}var HE,Hj;function vI(){if(Hj)return HE;Hj=1;var e=wwe(),t=Oh();function r(n,a,i,s,o){return n===a?!0:n==null||a==null||!t(n)&&!t(a)?n!==n&&a!==a:e(n,a,i,s,r,o)}return HE=r,HE}var GE,Gj;function bwe(){if(Gj)return GE;Gj=1;var e=bJ(),t=vI(),r=1,n=2;function a(i,s,o,c){var u=o.length,d=u,f=!c;if(i==null)return!d;for(i=Object(i);u--;){var h=o[u];if(f&&h[2]?h[1]!==i[h[0]]:!(h[0]in i))return!1}for(;++u<d;){h=o[u];var m=h[0],w=i[m],g=h[1];if(f&&h[2]){if(w===void 0&&!(m in i))return!1}else{var y=new e;if(c)var b=c(w,g,m,i,s,y);if(!(b===void 0?t(g,w,r|n,c,y):b))return!1}}return!0}return GE=a,GE}var YE,Yj;function DJ(){if(Yj)return YE;Yj=1;var e=Im();function t(r){return r===r&&!e(r)}return YE=t,YE}var KE,Kj;function _we(){if(Kj)return KE;Kj=1;var e=DJ(),t=cN();function r(n){for(var a=t(n),i=a.length;i--;){var s=a[i],o=n[s];a[i]=[s,o,e(o)]}return a}return KE=r,KE}var XE,Xj;function IJ(){if(Xj)return XE;Xj=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return XE=e,XE}var JE,Jj;function Swe(){if(Jj)return JE;Jj=1;var e=bwe(),t=_we(),r=IJ();function n(a){var i=t(a);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(s){return s===a||e(s,a,i)}}return JE=n,JE}var ZE,Zj;function Nwe(){if(Zj)return ZE;Zj=1;function e(t,r){return t!=null&&r in Object(t)}return ZE=e,ZE}var QE,Qj;function Awe(){if(Qj)return QE;Qj=1;var e=JX(),t=pI(),r=Wl(),n=mI(),a=gI(),i=aN();function s(o,c,u){c=e(c,o);for(var d=-1,f=c.length,h=!1;++d<f;){var m=i(c[d]);if(!(h=o!=null&&u(o,m)))break;o=o[m]}return h||++d!=f?h:(f=o==null?0:o.length,!!f&&a(f)&&n(m,f)&&(r(o)||t(o)))}return QE=s,QE}var eC,e$;function kwe(){if(e$)return eC;e$=1;var e=Nwe(),t=Awe();function r(n,a){return n!=null&&t(n,a,e)}return eC=r,eC}var tC,t$;function Ewe(){if(t$)return tC;t$=1;var e=vI(),t=ZX(),r=kwe(),n=QD(),a=DJ(),i=IJ(),s=aN(),o=1,c=2;function u(d,f){return n(d)&&a(f)?i(s(d),f):function(h){var m=t(h,d);return m===void 0&&m===f?r(h,d):e(f,m,o|c)}}return tC=u,tC}var rC,r$;function Ay(){if(r$)return rC;r$=1;function e(t){return t}return rC=e,rC}var nC,n$;function Cwe(){if(n$)return nC;n$=1;function e(t){return function(r){return r==null?void 0:r[t]}}return nC=e,nC}var aC,a$;function Pwe(){if(a$)return aC;a$=1;var e=iI();function t(r){return function(n){return e(n,r)}}return aC=t,aC}var iC,i$;function Twe(){if(i$)return iC;i$=1;var e=Cwe(),t=Pwe(),r=QD(),n=aN();function a(i){return r(i)?e(n(i)):t(i)}return iC=a,iC}var sC,s$;function yf(){if(s$)return sC;s$=1;var e=Swe(),t=Ewe(),r=Ay(),n=Wl(),a=Twe();function i(s){return typeof s=="function"?s:s==null?r:typeof s=="object"?n(s)?t(s[0],s[1]):e(s):a(s)}return sC=i,sC}var oC,o$;function RJ(){if(o$)return oC;o$=1;function e(t,r,n,a){for(var i=t.length,s=n+(a?1:-1);a?s--:++s<i;)if(r(t[s],s,t))return s;return-1}return oC=e,oC}var lC,l$;function Owe(){if(l$)return lC;l$=1;function e(t){return t!==t}return lC=e,lC}var cC,c$;function Dwe(){if(c$)return cC;c$=1;function e(t,r,n){for(var a=n-1,i=t.length;++a<i;)if(t[a]===r)return a;return-1}return cC=e,cC}var uC,u$;function Iwe(){if(u$)return uC;u$=1;var e=RJ(),t=Owe(),r=Dwe();function n(a,i,s){return i===i?r(a,i,s):e(a,t,s)}return uC=n,uC}var dC,d$;function Rwe(){if(d$)return dC;d$=1;var e=Iwe();function t(r,n){var a=r==null?0:r.length;return!!a&&e(r,n,0)>-1}return dC=t,dC}var fC,f$;function Mwe(){if(f$)return fC;f$=1;function e(t,r,n){for(var a=-1,i=t==null?0:t.length;++a<i;)if(n(r,t[a]))return!0;return!1}return fC=e,fC}var hC,h$;function Fwe(){if(h$)return hC;h$=1;function e(){}return hC=e,hC}var pC,p$;function Lwe(){if(p$)return pC;p$=1;var e=OJ(),t=Fwe(),r=hI(),n=1/0,a=e&&1/r(new e([,-0]))[1]==n?function(i){return new e(i)}:t;return pC=a,pC}var mC,m$;function jwe(){if(m$)return mC;m$=1;var e=_J(),t=Rwe(),r=Mwe(),n=NJ(),a=Lwe(),i=hI(),s=200;function o(c,u,d){var f=-1,h=t,m=c.length,w=!0,g=[],y=g;if(d)w=!1,h=r;else if(m>=s){var b=u?null:a(c);if(b)return i(b);w=!1,h=n,y=new e}else y=u?[]:g;e:for(;++f<m;){var _=c[f],N=u?u(_):_;if(_=d||_!==0?_:0,w&&N===N){for(var E=y.length;E--;)if(y[E]===N)continue e;u&&y.push(N),g.push(_)}else h(y,N,d)||(y!==g&&y.push(N),g.push(_))}return g}return mC=o,mC}var gC,g$;function $we(){if(g$)return gC;g$=1;var e=yf(),t=jwe();function r(n,a){return n&&n.length?t(n,e(a,2)):[]}return gC=r,gC}var Bwe=$we();const v$=ma(Bwe);function MJ(e,t,r){return t===!0?v$(e,r):tn(t)?v$(e,t):e}function A1(e){"@babel/helpers - typeof";return A1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A1(e)}var Uwe=["ref"];function y$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y$(Object(r),!0).forEach(function(n){uN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LJ(n.key),n)}}function zwe(e,t,r){return t&&x$(e.prototype,t),r&&x$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wwe(e,t,r){return t=V5(t),Vwe(e,FJ()?Reflect.construct(t,r||[],V5(e).constructor):t.apply(e,r))}function Vwe(e,t){if(t&&(A1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hwe(e)}function Hwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FJ=function(){return!!e})()}function V5(e){return V5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},V5(e)}function Gwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z6(e,t)}function Z6(e,t){return Z6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Z6(e,t)}function uN(e,t,r){return t=LJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LJ(e){var t=Ywe(e,"string");return A1(t)=="symbol"?t:t+""}function Ywe(e,t){if(A1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(A1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Kwe(e,t){if(e==null)return{};var r=Xwe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Xwe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Jwe(e){return e.value}function Zwe(e,t){if(tt.isValidElement(e))return tt.cloneElement(e,t);if(typeof e=="function")return tt.createElement(e,t);t.ref;var r=Kwe(t,Uwe);return l(fI,{...r})}var w$=1,Ku=function(e){function t(){var r;qwe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Wwe(this,t,[].concat(a)),uN(r,"lastBoundingBox",{width:-1,height:-1}),r}return Gwe(t,e),zwe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>w$||Math.abs(a.height-this.lastBoundingBox.height)>w$)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Qf({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,s=a.align,o=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&i==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var w=this.getBBoxSnapshot();h={top:((d||0)-w.height)/2}}else h=o==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Qf(Qf({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,s=a.width,o=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=Qf(Qf({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(c)),c);return l("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){n.wrapperNode=m},children:Zwe(i,Qf(Qf({},this.props),{},{payload:MJ(d,u,Jwe)}))})}}],[{key:"getWithHeight",value:function(n,a){var i=Qf(Qf({},this.defaultProps),n.props),s=i.layout;return s==="vertical"&&Xt(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||a}:null}}])}(S.PureComponent);uN(Ku,"displayName","Legend");uN(Ku,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var vC,b$;function Qwe(){if(b$)return vC;b$=1;var e=Jw(),t=pI(),r=Wl(),n=e?e.isConcatSpreadable:void 0;function a(i){return r(i)||t(i)||!!(n&&i&&i[n])}return vC=a,vC}var yC,_$;function jJ(){if(_$)return yC;_$=1;var e=kJ(),t=Qwe();function r(n,a,i,s,o){var c=-1,u=n.length;for(i||(i=t),o||(o=[]);++c<u;){var d=n[c];a>0&&i(d)?a>1?r(d,a-1,i,s,o):e(o,d):s||(o[o.length]=d)}return o}return yC=r,yC}var xC,S$;function ebe(){if(S$)return xC;S$=1;function e(t){return function(r,n,a){for(var i=-1,s=Object(r),o=a(r),c=o.length;c--;){var u=o[t?c:++i];if(n(s[u],u,s)===!1)break}return r}}return xC=e,xC}var wC,N$;function tbe(){if(N$)return wC;N$=1;var e=ebe(),t=e();return wC=t,wC}var bC,A$;function $J(){if(A$)return bC;A$=1;var e=tbe(),t=cN();function r(n,a){return n&&e(n,a,t)}return bC=r,bC}var _C,k$;function rbe(){if(k$)return _C;k$=1;var e=Zw();function t(r,n){return function(a,i){if(a==null)return a;if(!e(a))return r(a,i);for(var s=a.length,o=n?s:-1,c=Object(a);(n?o--:++o<s)&&i(c[o],o,c)!==!1;);return a}}return _C=t,_C}var SC,E$;function yI(){if(E$)return SC;E$=1;var e=$J(),t=rbe(),r=t(e);return SC=r,SC}var NC,C$;function BJ(){if(C$)return NC;C$=1;var e=yI(),t=Zw();function r(n,a){var i=-1,s=t(n)?Array(n.length):[];return e(n,function(o,c,u){s[++i]=a(o,c,u)}),s}return NC=r,NC}var AC,P$;function nbe(){if(P$)return AC;P$=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return AC=e,AC}var kC,T$;function abe(){if(T$)return kC;T$=1;var e=_y();function t(r,n){if(r!==n){var a=r!==void 0,i=r===null,s=r===r,o=e(r),c=n!==void 0,u=n===null,d=n===n,f=e(n);if(!u&&!f&&!o&&r>n||o&&c&&d&&!u&&!f||i&&c&&d||!a&&d||!s)return 1;if(!i&&!o&&!f&&r<n||f&&a&&s&&!i&&!o||u&&a&&s||!c&&s||!d)return-1}return 0}return kC=t,kC}var EC,O$;function ibe(){if(O$)return EC;O$=1;var e=abe();function t(r,n,a){for(var i=-1,s=r.criteria,o=n.criteria,c=s.length,u=a.length;++i<c;){var d=e(s[i],o[i]);if(d){if(i>=u)return d;var f=a[i];return d*(f=="desc"?-1:1)}}return r.index-n.index}return EC=t,EC}var CC,D$;function sbe(){if(D$)return CC;D$=1;var e=aI(),t=iI(),r=yf(),n=BJ(),a=nbe(),i=CJ(),s=ibe(),o=Ay(),c=Wl();function u(d,f,h){f.length?f=e(f,function(g){return c(g)?function(y){return t(y,g.length===1?g[0]:g)}:g}):f=[o];var m=-1;f=e(f,i(r));var w=n(d,function(g,y,b){var _=e(f,function(N){return N(g)});return{criteria:_,index:++m,value:g}});return a(w,function(g,y){return s(g,y,h)})}return CC=u,CC}var PC,I$;function obe(){if(I$)return PC;I$=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return PC=e,PC}var TC,R$;function lbe(){if(R$)return TC;R$=1;var e=obe(),t=Math.max;function r(n,a,i){return a=t(a===void 0?n.length-1:a,0),function(){for(var s=arguments,o=-1,c=t(s.length-a,0),u=Array(c);++o<c;)u[o]=s[a+o];o=-1;for(var d=Array(a+1);++o<a;)d[o]=s[o];return d[a]=i(u),e(n,this,d)}}return TC=r,TC}var OC,M$;function cbe(){if(M$)return OC;M$=1;function e(t){return function(){return t}}return OC=e,OC}var DC,F$;function UJ(){if(F$)return DC;F$=1;var e=Cg(),t=function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}}();return DC=t,DC}var IC,L$;function ube(){if(L$)return IC;L$=1;var e=cbe(),t=UJ(),r=Ay(),n=t?function(a,i){return t(a,"toString",{configurable:!0,enumerable:!1,value:e(i),writable:!0})}:r;return IC=n,IC}var RC,j$;function dbe(){if(j$)return RC;j$=1;var e=800,t=16,r=Date.now;function n(a){var i=0,s=0;return function(){var o=r(),c=t-(o-s);if(s=o,c>0){if(++i>=e)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return RC=n,RC}var MC,$$;function fbe(){if($$)return MC;$$=1;var e=ube(),t=dbe(),r=t(e);return MC=r,MC}var FC,B$;function hbe(){if(B$)return FC;B$=1;var e=Ay(),t=lbe(),r=fbe();function n(a,i){return r(t(a,i,e),a+"")}return FC=n,FC}var LC,U$;function dN(){if(U$)return LC;U$=1;var e=tI(),t=Zw(),r=mI(),n=Im();function a(i,s,o){if(!n(o))return!1;var c=typeof s;return(c=="number"?t(o)&&r(s,o.length):c=="string"&&s in o)?e(o[s],i):!1}return LC=a,LC}var jC,q$;function pbe(){if(q$)return jC;q$=1;var e=jJ(),t=sbe(),r=hbe(),n=dN(),a=r(function(i,s){if(i==null)return[];var o=s.length;return o>1&&n(i,s[0],s[1])?s=[]:o>2&&n(s[0],s[1],s[2])&&(s=[s[0]]),t(i,e(s,1),[])});return jC=a,jC}var mbe=pbe();const xI=ma(mbe);function kx(e){"@babel/helpers - typeof";return kx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kx(e)}function Q6(){return Q6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Q6.apply(this,arguments)}function gbe(e,t){return wbe(e)||xbe(e,t)||ybe(e,t)||vbe()}function vbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ybe(e,t){if(e){if(typeof e=="string")return z$(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z$(e,t)}}function z$(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xbe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function wbe(e){if(Array.isArray(e))return e}function W$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $C(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W$(Object(r),!0).forEach(function(n){bbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bbe(e,t,r){return t=_be(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _be(e){var t=Sbe(e,"string");return kx(t)=="symbol"?t:t+""}function Sbe(e,t){if(kx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nbe(e){return Array.isArray(e)&&bs(e[0])&&bs(e[1])?e.join(" ~ "):e}var Abe=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,s=t.itemStyle,o=s===void 0?{}:s,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,m=t.wrapperClassName,w=t.labelClassName,g=t.label,y=t.labelFormatter,b=t.accessibilityLayer,_=b===void 0?!1:b,N=function(){if(d&&d.length){var I={padding:0,margin:0},B=(h?xI(d,h):d).map(function(G,Z){if(G.type==="none")return null;var re=$C({display:"block",paddingTop:4,paddingBottom:4,color:G.color||"#000"},o),W=G.formatter||f||Nbe,z=G.value,U=G.name,Y=z,Q=U;if(W&&Y!=null&&Q!=null){var D=W(z,U,G,Z,d);if(Array.isArray(D)){var K=gbe(D,2);Y=K[0],Q=K[1]}else Y=D}return tt.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Z),style:re},bs(Q)?tt.createElement("span",{className:"recharts-tooltip-item-name"},Q):null,bs(Q)?tt.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,tt.createElement("span",{className:"recharts-tooltip-item-value"},Y),tt.createElement("span",{className:"recharts-tooltip-item-unit"},G.unit||""))});return tt.createElement("ul",{className:"recharts-tooltip-item-list",style:I},B)}return null},E=$C({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),C=$C({margin:0},u),O=!vn(g),P=O?g:"",M=yn("recharts-default-tooltip",m),L=yn("recharts-tooltip-label",w);O&&y&&d!==void 0&&d!==null&&(P=y(g,d));var j=_?{role:"status","aria-live":"assertive"}:{};return tt.createElement("div",Q6({className:M,style:E},j),tt.createElement("p",{className:L,style:C},tt.isValidElement(P)?P:"".concat(P)),N())};function Ex(e){"@babel/helpers - typeof";return Ex=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ex(e)}function b_(e,t,r){return t=kbe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kbe(e){var t=Ebe(e,"string");return Ex(t)=="symbol"?t:t+""}function Ebe(e,t){if(Ex(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ex(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var u2="recharts-tooltip-wrapper",Cbe={visibility:"hidden"};function Pbe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return yn(u2,b_(b_(b_(b_({},"".concat(u2,"-right"),Xt(r)&&t&&Xt(t.x)&&r>=t.x),"".concat(u2,"-left"),Xt(r)&&t&&Xt(t.x)&&r<t.x),"".concat(u2,"-bottom"),Xt(n)&&t&&Xt(t.y)&&n>=t.y),"".concat(u2,"-top"),Xt(n)&&t&&Xt(t.y)&&n<t.y))}function V$(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,s=e.reverseDirection,o=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&Xt(i[n]))return i[n];var d=r[n]-o-a,f=r[n]+a;if(t[n])return s[n]?d:f;if(s[n]){var h=d,m=c[n];return h<m?Math.max(f,c[n]):Math.max(d,c[n])}var w=f+o,g=c[n]+u;return w>g?Math.max(d,c[n]):Math.max(f,c[n])}function Tbe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Obe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,s=e.tooltipBox,o=e.useTranslate3d,c=e.viewBox,u,d,f;return s.height>0&&s.width>0&&r?(d=V$({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),f=V$({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),u=Tbe({translateX:d,translateY:f,useTranslate3d:o})):u=Cbe,{cssProperties:u,cssClasses:Pbe({translateX:d,translateY:f,coordinate:r})}}function k1(e){"@babel/helpers - typeof";return k1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k1(e)}function H$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function G$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H$(Object(r),!0).forEach(function(n){t8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ibe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zJ(n.key),n)}}function Rbe(e,t,r){return t&&Ibe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mbe(e,t,r){return t=H5(t),Fbe(e,qJ()?Reflect.construct(t,r||[],H5(e).constructor):t.apply(e,r))}function Fbe(e,t){if(t&&(k1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lbe(e)}function Lbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qJ=function(){return!!e})()}function H5(e){return H5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},H5(e)}function jbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&e8(e,t)}function e8(e,t){return e8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},e8(e,t)}function t8(e,t,r){return t=zJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zJ(e){var t=$be(e,"string");return k1(t)=="symbol"?t:t+""}function $be(e,t){if(k1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(k1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Y$=1,Bbe=function(e){function t(){var r;Dbe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Mbe(this,t,[].concat(a)),t8(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),t8(r,"handleKeyDown",function(s){if(s.key==="Escape"){var o,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&o!==void 0?o:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return jbe(t,e),Rbe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>Y$||Math.abs(n.height-this.state.lastBoundingBox.height)>Y$)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,m=a.offset,w=a.position,g=a.reverseDirection,y=a.useTranslate3d,b=a.viewBox,_=a.wrapperStyle,N=Obe({allowEscapeViewBox:s,coordinate:d,offsetTopLeft:m,position:w,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:b}),E=N.cssClasses,C=N.cssProperties,O=G$(G$({transition:h&&i?"transform ".concat(o,"ms ").concat(c):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},_);return l("div",{tabIndex:-1,className:E,style:O,ref:function(M){n.wrapperNode=M},children:u})}}])}(S.PureComponent),Ube=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Rm={isSsr:Ube()};function E1(e){"@babel/helpers - typeof";return E1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E1(e)}function K$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function X$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K$(Object(r),!0).forEach(function(n){wI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zbe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VJ(n.key),n)}}function Wbe(e,t,r){return t&&zbe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vbe(e,t,r){return t=G5(t),Hbe(e,WJ()?Reflect.construct(t,r||[],G5(e).constructor):t.apply(e,r))}function Hbe(e,t){if(t&&(E1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gbe(e)}function Gbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WJ=function(){return!!e})()}function G5(e){return G5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},G5(e)}function Ybe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r8(e,t)}function r8(e,t){return r8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},r8(e,t)}function wI(e,t,r){return t=VJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VJ(e){var t=Kbe(e,"string");return E1(t)=="symbol"?t:t+""}function Kbe(e,t){if(E1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(E1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Xbe(e){return e.dataKey}function Jbe(e,t){return tt.isValidElement(e)?tt.cloneElement(e,t):typeof e=="function"?tt.createElement(e,t):l(Abe,{...t})}var ri=function(e){function t(){return qbe(this,t),Vbe(this,t,arguments)}return Ybe(t,e),Wbe(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,m=a.offset,w=a.payload,g=a.payloadUniqBy,y=a.position,b=a.reverseDirection,_=a.useTranslate3d,N=a.viewBox,E=a.wrapperStyle,C=w??[];f&&C.length&&(C=MJ(w.filter(function(P){return P.value!=null&&(P.hide!==!0||n.props.includeHidden)}),g,Xbe));var O=C.length>0;return l(Bbe,{allowEscapeViewBox:s,animationDuration:o,animationEasing:c,isAnimationActive:h,active:i,coordinate:d,hasPayload:O,offset:m,position:y,reverseDirection:b,useTranslate3d:_,viewBox:N,wrapperStyle:E,children:Jbe(u,X$(X$({},this.props),{},{payload:C}))})}}])}(S.PureComponent);wI(ri,"displayName","Tooltip");wI(ri,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Rm.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var BC,J$;function Zbe(){if(J$)return BC;J$=1;var e=vf(),t=function(){return e.Date.now()};return BC=t,BC}var UC,Z$;function Qbe(){if(Z$)return UC;Z$=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return UC=t,UC}var qC,Q$;function e_e(){if(Q$)return qC;Q$=1;var e=Qbe(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return qC=r,qC}var zC,eB;function HJ(){if(eB)return zC;eB=1;var e=e_e(),t=Im(),r=_y(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,s=/^0o[0-7]+$/i,o=parseInt;function c(u){if(typeof u=="number")return u;if(r(u))return n;if(t(u)){var d=typeof u.valueOf=="function"?u.valueOf():u;u=t(d)?d+"":d}if(typeof u!="string")return u===0?u:+u;u=e(u);var f=i.test(u);return f||s.test(u)?o(u.slice(2),f?2:8):a.test(u)?n:+u}return zC=c,zC}var WC,tB;function t_e(){if(tB)return WC;tB=1;var e=Im(),t=Zbe(),r=HJ(),n="Expected a function",a=Math.max,i=Math.min;function s(o,c,u){var d,f,h,m,w,g,y=0,b=!1,_=!1,N=!0;if(typeof o!="function")throw new TypeError(n);c=r(c)||0,e(u)&&(b=!!u.leading,_="maxWait"in u,h=_?a(r(u.maxWait)||0,c):h,N="trailing"in u?!!u.trailing:N);function E(B){var G=d,Z=f;return d=f=void 0,y=B,m=o.apply(Z,G),m}function C(B){return y=B,w=setTimeout(M,c),b?E(B):m}function O(B){var G=B-g,Z=B-y,re=c-G;return _?i(re,h-Z):re}function P(B){var G=B-g,Z=B-y;return g===void 0||G>=c||G<0||_&&Z>=h}function M(){var B=t();if(P(B))return L(B);w=setTimeout(M,O(B))}function L(B){return w=void 0,N&&d?E(B):(d=f=void 0,m)}function j(){w!==void 0&&clearTimeout(w),y=0,d=g=f=w=void 0}function T(){return w===void 0?m:L(t())}function I(){var B=t(),G=P(B);if(d=arguments,f=this,g=B,G){if(w===void 0)return C(g);if(_)return clearTimeout(w),w=setTimeout(M,c),E(g)}return w===void 0&&(w=setTimeout(M,c)),m}return I.cancel=j,I.flush=T,I}return WC=s,WC}var VC,rB;function r_e(){if(rB)return VC;rB=1;var e=t_e(),t=Im(),r="Expected a function";function n(a,i,s){var o=!0,c=!0;if(typeof a!="function")throw new TypeError(r);return t(s)&&(o="leading"in s?!!s.leading:o,c="trailing"in s?!!s.trailing:c),e(a,i,{leading:o,maxWait:i,trailing:c})}return VC=n,VC}var n_e=r_e();const GJ=ma(n_e);function Cx(e){"@babel/helpers - typeof";return Cx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cx(e)}function nB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function __(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nB(Object(r),!0).forEach(function(n){a_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function a_e(e,t,r){return t=i_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i_e(e){var t=s_e(e,"string");return Cx(t)=="symbol"?t:t+""}function s_e(e,t){if(Cx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function o_e(e,t){return d_e(e)||u_e(e,t)||c_e(e,t)||l_e()}function l_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c_e(e,t){if(e){if(typeof e=="string")return aB(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aB(e,t)}}function aB(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u_e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function d_e(e){if(Array.isArray(e))return e}var Oo=S.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,s=i===void 0?"100%":i,o=e.height,c=o===void 0?"100%":o,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,m=e.children,w=e.debounce,g=w===void 0?0:w,y=e.id,b=e.className,_=e.onResize,N=e.style,E=N===void 0?{}:N,C=S.useRef(null),O=S.useRef();O.current=_,S.useImperativeHandle(t,function(){return Object.defineProperty(C.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),C.current},configurable:!0})});var P=S.useState({containerWidth:a.width,containerHeight:a.height}),M=o_e(P,2),L=M[0],j=M[1],T=S.useCallback(function(B,G){j(function(Z){var re=Math.round(B),W=Math.round(G);return Z.containerWidth===re&&Z.containerHeight===W?Z:{containerWidth:re,containerHeight:W}})},[]);S.useEffect(function(){var B=function(U){var Y,Q=U[0].contentRect,D=Q.width,K=Q.height;T(D,K),(Y=O.current)===null||Y===void 0||Y.call(O,D,K)};g>0&&(B=GJ(B,g,{trailing:!0,leading:!1}));var G=new ResizeObserver(B),Z=C.current.getBoundingClientRect(),re=Z.width,W=Z.height;return T(re,W),G.observe(C.current),function(){G.disconnect()}},[T,g]);var I=S.useMemo(function(){var B=L.containerWidth,G=L.containerHeight;if(B<0||G<0)return null;Yu(F0(s)||F0(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),Yu(!r||r>0,"The aspect(%s) must be greater than zero.",r);var Z=F0(s)?B:s,re=F0(c)?G:c;r&&r>0&&(Z?re=Z/r:re&&(Z=re*r),h&&re>h&&(re=h)),Yu(Z>0||re>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Z,re,s,c,d,f,r);var W=!Array.isArray(m)&&hh(m.type).endsWith("Chart");return tt.Children.map(m,function(z){return tt.isValidElement(z)?S.cloneElement(z,__({width:Z,height:re},W?{style:__({height:"100%",width:"100%",maxHeight:re,maxWidth:Z},z.props.style)}:{})):z})},[r,m,c,h,f,d,L,s]);return l("div",{id:y?"".concat(y):void 0,className:yn("recharts-responsive-container",b),style:__(__({},E),{},{width:s,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:C,children:I})}),Jc=function(t){return null};Jc.displayName="Cell";function Px(e){"@babel/helpers - typeof";return Px=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Px(e)}function iB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function n8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iB(Object(r),!0).forEach(function(n){f_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function f_e(e,t,r){return t=h_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h_e(e){var t=p_e(e,"string");return Px(t)=="symbol"?t:t+""}function p_e(e,t){if(Px(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Px(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kv={widthCache:{},cacheCount:0},m_e=2e3,g_e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},sB="recharts_measurement_span";function v_e(e){var t=n8({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Y2=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Rm.isSsr)return{width:0,height:0};var n=v_e(r),a=JSON.stringify({text:t,copyStyle:n});if(kv.widthCache[a])return kv.widthCache[a];try{var i=document.getElementById(sB);i||(i=document.createElement("span"),i.setAttribute("id",sB),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var s=n8(n8({},g_e),n);Object.assign(i.style,s),i.textContent="".concat(t);var o=i.getBoundingClientRect(),c={width:o.width,height:o.height};return kv.widthCache[a]=c,++kv.cacheCount>m_e&&(kv.cacheCount=0,kv.widthCache={}),c}catch{return{width:0,height:0}}},y_e=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Tx(e){"@babel/helpers - typeof";return Tx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tx(e)}function Y5(e,t){return __e(e)||b_e(e,t)||w_e(e,t)||x_e()}function x_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w_e(e,t){if(e){if(typeof e=="string")return oB(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oB(e,t)}}function oB(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b_e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function __e(e){if(Array.isArray(e))return e}function S_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lB(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,A_e(n.key),n)}}function N_e(e,t,r){return t&&lB(e.prototype,t),r&&lB(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function A_e(e){var t=k_e(e,"string");return Tx(t)=="symbol"?t:t+""}function k_e(e,t){if(Tx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var cB=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,uB=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,E_e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,C_e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,YJ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},P_e=Object.keys(YJ),zv="NaN";function T_e(e,t){return e*YJ[t]}var S_=function(){function e(t,r){S_e(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!E_e.test(r)&&(this.num=NaN,this.unit=""),P_e.includes(r)&&(this.num=T_e(t,r),this.unit="px")}return N_e(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=C_e.exec(r))!==null&&n!==void 0?n:[],i=Y5(a,3),s=i[1],o=i[2];return new e(parseFloat(s),o??"")}}])}();function KJ(e){if(e.includes(zv))return zv;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=cB.exec(t))!==null&&r!==void 0?r:[],a=Y5(n,4),i=a[1],s=a[2],o=a[3],c=S_.parse(i??""),u=S_.parse(o??""),d=s==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return zv;t=t.replace(cB,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=uB.exec(t))!==null&&f!==void 0?f:[],m=Y5(h,4),w=m[1],g=m[2],y=m[3],b=S_.parse(w??""),_=S_.parse(y??""),N=g==="+"?b.add(_):b.subtract(_);if(N.isNaN())return zv;t=t.replace(uB,N.toString())}return t}var dB=/\(([^()]*)\)/;function O_e(e){for(var t=e;t.includes("(");){var r=dB.exec(t),n=Y5(r,2),a=n[1];t=t.replace(dB,KJ(a))}return t}function D_e(e){var t=e.replace(/\s+/g,"");return t=O_e(t),t=KJ(t),t}function I_e(e){try{return D_e(e)}catch{return zv}}function HC(e){var t=I_e(e.slice(5,-1));return t===zv?"":t}var R_e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],M_e=["dx","dy","angle","className","breakAll"];function fB(e,t){if(e==null)return{};var r=F_e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function F_e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function hB(e,t){return B_e(e)||$_e(e,t)||j_e(e,t)||L_e()}function L_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j_e(e,t){if(e){if(typeof e=="string")return pB(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pB(e,t)}}function pB(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $_e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function B_e(e){if(Array.isArray(e))return e}var XJ=/[ \f\n\r\t\v\u2028\u2029]+/,JJ=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];vn(r)||(n?i=r.toString().split(""):i=r.toString().split(XJ));var s=i.map(function(c){return{word:c,width:Y2(c,a).width}}),o=n?0:Y2(" ",a).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},U_e=function(t,r,n,a,i){var s=t.maxLines,o=t.children,c=t.style,u=t.breakAll,d=Xt(s),f=o,h=function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Z.reduce(function(re,W){var z=W.word,U=W.width,Y=re[re.length-1];if(Y&&(a==null||i||Y.width+U+n<Number(a)))Y.words.push(z),Y.width+=U+n;else{var Q={words:[z],width:U};re.push(Q)}return re},[])},m=h(r),w=function(Z){return Z.reduce(function(re,W){return re.width>W.width?re:W})};if(!d)return m;for(var g="…",y=function(Z){var re=f.slice(0,Z),W=JJ({breakAll:u,style:c,children:re+g}).wordsWithComputedWidth,z=h(W),U=z.length>s||w(z).width>Number(a);return[U,z]},b=0,_=f.length-1,N=0,E;b<=_&&N<=f.length-1;){var C=Math.floor((b+_)/2),O=C-1,P=y(O),M=hB(P,2),L=M[0],j=M[1],T=y(C),I=hB(T,1),B=I[0];if(!L&&!B&&(b=C+1),L&&B&&(_=C-1),!L&&B){E=j;break}N++}return E||m},mB=function(t){var r=vn(t)?[]:t.toString().split(XJ);return[{words:r}]},q_e=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,s=t.breakAll,o=t.maxLines;if((r||n)&&!Rm.isSsr){var c,u,d=JJ({breakAll:s,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return mB(a);return U_e({breakAll:s,children:a,maxLines:o,style:i},c,u,r,n)}return mB(a)},gB="#808080",ig=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.lineHeight,o=s===void 0?"1em":s,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,m=h===void 0?"start":h,w=t.verticalAnchor,g=w===void 0?"end":w,y=t.fill,b=y===void 0?gB:y,_=fB(t,R_e),N=S.useMemo(function(){return q_e({breakAll:_.breakAll,children:_.children,maxLines:_.maxLines,scaleToFit:f,style:_.style,width:_.width})},[_.breakAll,_.children,_.maxLines,f,_.style,_.width]),E=_.dx,C=_.dy,O=_.angle,P=_.className,M=_.breakAll,L=fB(_,M_e);if(!bs(n)||!bs(i))return null;var j=n+(Xt(E)?E:0),T=i+(Xt(C)?C:0),I;switch(g){case"start":I=HC("calc(".concat(u,")"));break;case"middle":I=HC("calc(".concat((N.length-1)/2," * -").concat(o," + (").concat(u," / 2))"));break;default:I=HC("calc(".concat(N.length-1," * -").concat(o,")"));break}var B=[];if(f){var G=N[0].width,Z=_.width;B.push("scale(".concat((Xt(Z)?Z/G:1)/G,")"))}return O&&B.push("rotate(".concat(O,", ").concat(j,", ").concat(T,")")),B.length&&(L.transform=B.join(" ")),l("text",{...Rr(L,!0),x:j,y:T,className:yn("recharts-text",P),textAnchor:m,fill:b.includes("url")?gB:b,children:N.map(function(re,W){var z=re.words.join(M?"":" ");return l("tspan",{x:j,dy:W===0?I:o,children:z},"".concat(z,"-").concat(W))})})};function nm(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function z_e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function bI(e){let t,r,n;e.length!==2?(t=nm,r=(o,c)=>nm(e(o),c),n=(o,c)=>e(o)-c):(t=e===nm||e===z_e?e:W_e,r=e,n=e);function a(o,c,u=0,d=o.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(o[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(o,c,u=0,d=o.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(o[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function s(o,c,u=0,d=o.length){const f=a(o,c,u,d-1);return f>u&&n(o[f-1],c)>-n(o[f],c)?f-1:f}return{left:a,center:s,right:i}}function W_e(){return 0}function ZJ(e){return e===null?NaN:+e}function*V_e(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const H_e=bI(nm),Qw=H_e.right;bI(ZJ).center;class vB extends Map{constructor(t,r=K_e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(yB(this,t))}has(t){return super.has(yB(this,t))}set(t,r){return super.set(G_e(this,t),r)}delete(t){return super.delete(Y_e(this,t))}}function yB({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function G_e({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Y_e({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function K_e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function X_e(e=nm){if(e===nm)return QJ;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function QJ(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const J_e=Math.sqrt(50),Z_e=Math.sqrt(10),Q_e=Math.sqrt(2);function K5(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=J_e?10:i>=Z_e?5:i>=Q_e?2:1;let o,c,u;return a<0?(u=Math.pow(10,-a)/s,o=Math.round(e*u),c=Math.round(t*u),o/u<e&&++o,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*s,o=Math.round(e/u),c=Math.round(t/u),o*u<e&&++o,c*u>t&&--c),c<o&&.5<=r&&r<2?K5(e,t,r*2):[o,c,u]}function a8(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,s]=n?K5(t,e,r):K5(e,t,r);if(!(i>=a))return[];const o=i-a+1,c=new Array(o);if(n)if(s<0)for(let u=0;u<o;++u)c[u]=(i-u)/-s;else for(let u=0;u<o;++u)c[u]=(i-u)*s;else if(s<0)for(let u=0;u<o;++u)c[u]=(a+u)/-s;else for(let u=0;u<o;++u)c[u]=(a+u)*s;return c}function i8(e,t,r){return t=+t,e=+e,r=+r,K5(e,t,r)[2]}function s8(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?i8(t,e,r):i8(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function xB(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function wB(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function eZ(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?QJ:X_e(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),w=Math.min(n,Math.floor(t+(c-u)*f/c+h));eZ(e,t,m,w,a)}const i=e[t];let s=r,o=n;for(d2(e,r,t),a(e[n],i)>0&&d2(e,r,n);s<o;){for(d2(e,s,o),++s,--o;a(e[s],i)<0;)++s;for(;a(e[o],i)>0;)--o}a(e[r],i)===0?d2(e,r,o):(++o,d2(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function d2(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function e5e(e,t,r){if(e=Float64Array.from(V_e(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return wB(e);if(t>=1)return xB(e);var n,a=(n-1)*t,i=Math.floor(a),s=xB(eZ(e,i).subarray(0,i+1)),o=wB(e.subarray(i+1));return s+(o-s)*(a-i)}}function t5e(e,t,r=ZJ){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),s=+r(e[i],i,e),o=+r(e[i+1],i+1,e);return s+(o-s)*(a-i)}}function r5e(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function su(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Dh(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const o8=Symbol("implicit");function _I(){var e=new vB,t=[],r=[],n=o8;function a(i){let s=e.get(i);if(s===void 0){if(n!==o8)return n;e.set(i,s=t.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new vB;for(const s of i)e.has(s)||e.set(s,t.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return _I(t,r).unknown(n)},su.apply(a,arguments),a}function Ox(){var e=_I().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,s,o=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=a<n,w=m?a:n,g=m?n:a;i=(g-w)/Math.max(1,h-c+u*2),o&&(i=Math.floor(i)),w+=(g-w-i*(h-c))*d,s=i*(1-c),o&&(w=Math.round(w),s=Math.round(s));var y=r5e(h).map(function(b){return w+i*b});return r(m?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Ox(t(),[n,a]).round(o).paddingInner(c).paddingOuter(u).align(d)},su.apply(f(),arguments)}function tZ(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return tZ(t())},e}function K2(){return tZ(Ox.apply(null,arguments).paddingInner(1))}function SI(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function rZ(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function eb(){}var Dx=.7,X5=1/Dx,t1="\\s*([+-]?\\d+)\\s*",Ix="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",rf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",n5e=/^#([0-9a-f]{3,8})$/,a5e=new RegExp(`^rgb\\(${t1},${t1},${t1}\\)$`),i5e=new RegExp(`^rgb\\(${rf},${rf},${rf}\\)$`),s5e=new RegExp(`^rgba\\(${t1},${t1},${t1},${Ix}\\)$`),o5e=new RegExp(`^rgba\\(${rf},${rf},${rf},${Ix}\\)$`),l5e=new RegExp(`^hsl\\(${Ix},${rf},${rf}\\)$`),c5e=new RegExp(`^hsla\\(${Ix},${rf},${rf},${Ix}\\)$`),bB={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};SI(eb,Rx,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:_B,formatHex:_B,formatHex8:u5e,formatHsl:d5e,formatRgb:SB,toString:SB});function _B(){return this.rgb().formatHex()}function u5e(){return this.rgb().formatHex8()}function d5e(){return nZ(this).formatHsl()}function SB(){return this.rgb().formatRgb()}function Rx(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=n5e.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?NB(t):r===3?new Il(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?N_(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?N_(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=a5e.exec(e))?new Il(t[1],t[2],t[3],1):(t=i5e.exec(e))?new Il(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=s5e.exec(e))?N_(t[1],t[2],t[3],t[4]):(t=o5e.exec(e))?N_(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=l5e.exec(e))?EB(t[1],t[2]/100,t[3]/100,1):(t=c5e.exec(e))?EB(t[1],t[2]/100,t[3]/100,t[4]):bB.hasOwnProperty(e)?NB(bB[e]):e==="transparent"?new Il(NaN,NaN,NaN,0):null}function NB(e){return new Il(e>>16&255,e>>8&255,e&255,1)}function N_(e,t,r,n){return n<=0&&(e=t=r=NaN),new Il(e,t,r,n)}function f5e(e){return e instanceof eb||(e=Rx(e)),e?(e=e.rgb(),new Il(e.r,e.g,e.b,e.opacity)):new Il}function l8(e,t,r,n){return arguments.length===1?f5e(e):new Il(e,t,r,n??1)}function Il(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}SI(Il,l8,rZ(eb,{brighter(e){return e=e==null?X5:Math.pow(X5,e),new Il(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Dx:Math.pow(Dx,e),new Il(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Il(z0(this.r),z0(this.g),z0(this.b),J5(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:AB,formatHex:AB,formatHex8:h5e,formatRgb:kB,toString:kB}));function AB(){return`#${L0(this.r)}${L0(this.g)}${L0(this.b)}`}function h5e(){return`#${L0(this.r)}${L0(this.g)}${L0(this.b)}${L0((isNaN(this.opacity)?1:this.opacity)*255)}`}function kB(){const e=J5(this.opacity);return`${e===1?"rgb(":"rgba("}${z0(this.r)}, ${z0(this.g)}, ${z0(this.b)}${e===1?")":`, ${e})`}`}function J5(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function z0(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function L0(e){return e=z0(e),(e<16?"0":"")+e.toString(16)}function EB(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new qu(e,t,r,n)}function nZ(e){if(e instanceof qu)return new qu(e.h,e.s,e.l,e.opacity);if(e instanceof eb||(e=Rx(e)),!e)return new qu;if(e instanceof qu)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),s=NaN,o=i-a,c=(i+a)/2;return o?(t===i?s=(r-n)/o+(r<n)*6:r===i?s=(n-t)/o+2:s=(t-r)/o+4,o/=c<.5?i+a:2-i-a,s*=60):o=c>0&&c<1?0:s,new qu(s,o,c,e.opacity)}function p5e(e,t,r,n){return arguments.length===1?nZ(e):new qu(e,t,r,n??1)}function qu(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}SI(qu,p5e,rZ(eb,{brighter(e){return e=e==null?X5:Math.pow(X5,e),new qu(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Dx:Math.pow(Dx,e),new qu(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Il(GC(e>=240?e-240:e+120,a,n),GC(e,a,n),GC(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new qu(CB(this.h),A_(this.s),A_(this.l),J5(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=J5(this.opacity);return`${e===1?"hsl(":"hsla("}${CB(this.h)}, ${A_(this.s)*100}%, ${A_(this.l)*100}%${e===1?")":`, ${e})`}`}}));function CB(e){return e=(e||0)%360,e<0?e+360:e}function A_(e){return Math.max(0,Math.min(1,e||0))}function GC(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const NI=e=>()=>e;function m5e(e,t){return function(r){return e+r*t}}function g5e(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function v5e(e){return(e=+e)==1?aZ:function(t,r){return r-t?g5e(t,r,e):NI(isNaN(t)?r:t)}}function aZ(e,t){var r=t-e;return r?m5e(e,r):NI(isNaN(e)?t:e)}const PB=function e(t){var r=v5e(t);function n(a,i){var s=r((a=l8(a)).r,(i=l8(i)).r),o=r(a.g,i.g),c=r(a.b,i.b),u=aZ(a.opacity,i.opacity);return function(d){return a.r=s(d),a.g=o(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function y5e(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function x5e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function w5e(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=ky(e[s],t[s]);for(;s<r;++s)i[s]=t[s];return function(o){for(s=0;s<n;++s)i[s]=a[s](o);return i}}function b5e(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Z5(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function _5e(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=ky(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var c8=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,YC=new RegExp(c8.source,"g");function S5e(e){return function(){return e}}function N5e(e){return function(t){return e(t)+""}}function A5e(e,t){var r=c8.lastIndex=YC.lastIndex=0,n,a,i,s=-1,o=[],c=[];for(e=e+"",t=t+"";(n=c8.exec(e))&&(a=YC.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),o[s]?o[s]+=i:o[++s]=i),(n=n[0])===(a=a[0])?o[s]?o[s]+=a:o[++s]=a:(o[++s]=null,c.push({i:s,x:Z5(n,a)})),r=YC.lastIndex;return r<t.length&&(i=t.slice(r),o[s]?o[s]+=i:o[++s]=i),o.length<2?c[0]?N5e(c[0].x):S5e(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)o[(f=c[d]).i]=f.x(u);return o.join("")})}function ky(e,t){var r=typeof t,n;return t==null||r==="boolean"?NI(t):(r==="number"?Z5:r==="string"?(n=Rx(t))?(t=n,PB):A5e:t instanceof Rx?PB:t instanceof Date?b5e:x5e(t)?y5e:Array.isArray(t)?w5e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?_5e:Z5)(e,t)}function AI(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function k5e(e,t){t===void 0&&(t=e,e=ky);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[o](s-o)}}function E5e(e){return function(){return e}}function Q5(e){return+e}var TB=[0,1];function dl(e){return e}function u8(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:E5e(isNaN(t)?NaN:.5)}function C5e(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function P5e(e,t,r){var n=e[0],a=e[1],i=t[0],s=t[1];return a<n?(n=u8(a,n),i=r(s,i)):(n=u8(n,a),i=r(i,s)),function(o){return i(n(o))}}function T5e(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)a[s]=u8(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(o){var c=Qw(e,o,1,n)-1;return i[c](a[c](o))}}function tb(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function fN(){var e=TB,t=TB,r=ky,n,a,i,s=dl,o,c,u;function d(){var h=Math.min(e.length,t.length);return s!==dl&&(s=C5e(e[0],e[h-1])),o=h>2?T5e:P5e,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=o(e.map(n),t,r)))(n(s(h)))}return f.invert=function(h){return s(a((u||(u=o(t,e.map(n),Z5)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Q5),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=AI,d()},f.clamp=function(h){return arguments.length?(s=h?!0:dl,d()):s!==dl},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,m){return n=h,a=m,d()}}function kI(){return fN()(dl,dl)}function O5e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function eS(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function C1(e){return e=eS(Math.abs(e)),e?e[1]:NaN}function D5e(e,t){return function(r,n){for(var a=r.length,i=[],s=0,o=e[0],c=0;a>0&&o>0&&(c+o+1>n&&(o=Math.max(1,n-c)),i.push(r.substring(a-=o,a+o)),!((c+=o+1)>n));)o=e[s=(s+1)%e.length];return i.reverse().join(t)}}function I5e(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var R5e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Mx(e){if(!(t=R5e.exec(e)))throw new Error("invalid format: "+e);var t;return new EI({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Mx.prototype=EI.prototype;function EI(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}EI.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function M5e(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var iZ;function F5e(e,t){var r=eS(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(iZ=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+eS(e,Math.max(0,t+i-1))[0]}function OB(e,t){var r=eS(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const DB={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:O5e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>OB(e*100,t),r:OB,s:F5e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function IB(e){return e}var RB=Array.prototype.map,MB=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function L5e(e){var t=e.grouping===void 0||e.thousands===void 0?IB:D5e(RB.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?IB:I5e(RB.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Mx(f);var h=f.fill,m=f.align,w=f.sign,g=f.symbol,y=f.zero,b=f.width,_=f.comma,N=f.precision,E=f.trim,C=f.type;C==="n"?(_=!0,C="g"):DB[C]||(N===void 0&&(N=12),E=!0,C="g"),(y||h==="0"&&m==="=")&&(y=!0,h="0",m="=");var O=g==="$"?r:g==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",P=g==="$"?n:/[%p]/.test(C)?s:"",M=DB[C],L=/[defgprs%]/.test(C);N=N===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function j(T){var I=O,B=P,G,Z,re;if(C==="c")B=M(T)+B,T="";else{T=+T;var W=T<0||1/T<0;if(T=isNaN(T)?c:M(Math.abs(T),N),E&&(T=M5e(T)),W&&+T==0&&w!=="+"&&(W=!1),I=(W?w==="("?w:o:w==="-"||w==="("?"":w)+I,B=(C==="s"?MB[8+iZ/3]:"")+B+(W&&w==="("?")":""),L){for(G=-1,Z=T.length;++G<Z;)if(re=T.charCodeAt(G),48>re||re>57){B=(re===46?a+T.slice(G+1):T.slice(G))+B,T=T.slice(0,G);break}}}_&&!y&&(T=t(T,1/0));var z=I.length+T.length+B.length,U=z<b?new Array(b-z+1).join(h):"";switch(_&&y&&(T=t(U+T,U.length?b-B.length:1/0),U=""),m){case"<":T=I+T+B+U;break;case"=":T=I+U+T+B;break;case"^":T=U.slice(0,z=U.length>>1)+I+T+B+U.slice(z);break;default:T=U+I+T+B;break}return i(T)}return j.toString=function(){return f+""},j}function d(f,h){var m=u((f=Mx(f),f.type="f",f)),w=Math.max(-8,Math.min(8,Math.floor(C1(h)/3)))*3,g=Math.pow(10,-w),y=MB[8+w/3];return function(b){return m(g*b)+y}}return{format:u,formatPrefix:d}}var k_,CI,sZ;j5e({thousands:",",grouping:[3],currency:["$",""]});function j5e(e){return k_=L5e(e),CI=k_.format,sZ=k_.formatPrefix,k_}function $5e(e){return Math.max(0,-C1(Math.abs(e)))}function B5e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(C1(t)/3)))*3-C1(Math.abs(e)))}function U5e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,C1(t)-C1(e))+1}function oZ(e,t,r,n){var a=s8(e,t,r),i;switch(n=Mx(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=B5e(a,s))&&(n.precision=i),sZ(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=U5e(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=$5e(a))&&(n.precision=i-(n.type==="%")*2);break}}return CI(n)}function Mm(e){var t=e.domain;return e.ticks=function(r){var n=t();return a8(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return oZ(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,s=n[a],o=n[i],c,u,d=10;for(o<s&&(u=s,s=o,o=u,u=a,a=i,i=u);d-- >0;){if(u=i8(s,o,r),u===c)return n[a]=s,n[i]=o,t(n);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;c=u}return e},e}function tS(){var e=kI();return e.copy=function(){return tb(e,tS())},su.apply(e,arguments),Mm(e)}function lZ(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Q5),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return lZ(e).unknown(t)},e=arguments.length?Array.from(e,Q5):[0,1],Mm(r)}function cZ(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),e[r]=t.floor(a),e[n]=t.ceil(i),e}function FB(e){return Math.log(e)}function LB(e){return Math.exp(e)}function q5e(e){return-Math.log(-e)}function z5e(e){return-Math.exp(-e)}function W5e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function V5e(e){return e===10?W5e:e===Math.E?Math.exp:t=>Math.pow(e,t)}function H5e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function jB(e){return(t,r)=>-e(-t,r)}function PI(e){const t=e(FB,LB),r=t.domain;let n=10,a,i;function s(){return a=H5e(n),i=V5e(n),r()[0]<0?(a=jB(a),i=jB(i),e(q5e,z5e)):e(FB,LB),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),m=a(d),w,g;const y=o==null?10:+o;let b=[];if(!(n%1)&&m-h<y){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(w=1;w<n;++w)if(g=h<0?w/i(-h):w*i(h),!(g<u)){if(g>d)break;b.push(g)}}else for(;h<=m;++h)for(w=n-1;w>=1;--w)if(g=h>0?w/i(-h):w*i(h),!(g<u)){if(g>d)break;b.push(g)}b.length*2<y&&(b=a8(u,d,y))}else b=a8(h,m,Math.min(m-h,y)).map(i);return f?b.reverse():b},t.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Mx(c)).precision==null&&(c.trim=!0),c=CI(c)),o===1/0)return c;const u=Math.max(1,n*o/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(cZ(r(),{floor:o=>i(Math.floor(a(o))),ceil:o=>i(Math.ceil(a(o)))})),t}function uZ(){const e=PI(fN()).domain([1,10]);return e.copy=()=>tb(e,uZ()).base(e.base()),su.apply(e,arguments),e}function $B(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function BB(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function TI(e){var t=1,r=e($B(t),BB(t));return r.constant=function(n){return arguments.length?e($B(t=+n),BB(t)):t},Mm(r)}function dZ(){var e=TI(fN());return e.copy=function(){return tb(e,dZ()).constant(e.constant())},su.apply(e,arguments)}function UB(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function G5e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Y5e(e){return e<0?-e*e:e*e}function OI(e){var t=e(dl,dl),r=1;function n(){return r===1?e(dl,dl):r===.5?e(G5e,Y5e):e(UB(r),UB(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Mm(t)}function DI(){var e=OI(fN());return e.copy=function(){return tb(e,DI()).exponent(e.exponent())},su.apply(e,arguments),e}function K5e(){return DI.apply(null,arguments).exponent(.5)}function qB(e){return Math.sign(e)*e*e}function X5e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function fZ(){var e=kI(),t=[0,1],r=!1,n;function a(i){var s=X5e(e(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return e.invert(qB(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Q5)).map(qB)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return fZ(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},su.apply(a,arguments),Mm(a)}function hZ(){var e=[],t=[],r=[],n;function a(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=t5e(e,s/o);return i}function i(s){return s==null||isNaN(s=+s)?n:t[Qw(r,s)]}return i.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},i.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(nm),a()},i.range=function(s){return arguments.length?(t=Array.from(s),a()):t.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return hZ().domain(e).range(t).unknown(n)},su.apply(i,arguments)}function pZ(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function s(c){return c!=null&&c<=c?a[Qw(n,c,0,r)]:i}function o(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return s}return s.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,o()):[e,t]},s.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,o()):a.slice()},s.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},s.unknown=function(c){return arguments.length&&(i=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return pZ().domain([e,t]).range(a).unknown(i)},su.apply(Mm(s),arguments)}function mZ(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Qw(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var s=t.indexOf(i);return[e[s-1],e[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return mZ().domain(e).range(t).unknown(r)},su.apply(a,arguments)}const KC=new Date,XC=new Date;function Ns(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const s=a(i),o=a.ceil(i);return i-s<o-i?s:o},a.offset=(i,s)=>(t(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,o)=>{const c=[];if(i=a.ceil(i),o=o==null?1:Math.floor(o),!(i<s)||!(o>0))return c;let u;do c.push(u=new Date(+i)),t(i,o),e(i);while(u<i&&i<s);return c},a.filter=i=>Ns(s=>{if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!i(s););else for(;--o>=0;)for(;t(s,1),!i(s););}),r&&(a.count=(i,s)=>(KC.setTime(+i),XC.setTime(+s),e(KC),e(XC),Math.floor(r(KC,XC))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const rS=Ns(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);rS.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ns(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):rS);rS.range;const lh=1e3,eu=lh*60,ch=eu*60,bh=ch*24,II=bh*7,zB=bh*30,JC=bh*365,j0=Ns(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*lh)},(e,t)=>(t-e)/lh,e=>e.getUTCSeconds());j0.range;const RI=Ns(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*lh)},(e,t)=>{e.setTime(+e+t*eu)},(e,t)=>(t-e)/eu,e=>e.getMinutes());RI.range;const MI=Ns(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*eu)},(e,t)=>(t-e)/eu,e=>e.getUTCMinutes());MI.range;const FI=Ns(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*lh-e.getMinutes()*eu)},(e,t)=>{e.setTime(+e+t*ch)},(e,t)=>(t-e)/ch,e=>e.getHours());FI.range;const LI=Ns(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ch)},(e,t)=>(t-e)/ch,e=>e.getUTCHours());LI.range;const rb=Ns(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*eu)/bh,e=>e.getDate()-1);rb.range;const hN=Ns(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/bh,e=>e.getUTCDate()-1);hN.range;const gZ=Ns(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/bh,e=>Math.floor(e/bh));gZ.range;function Tg(e){return Ns(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*eu)/II)}const pN=Tg(0),nS=Tg(1),J5e=Tg(2),Z5e=Tg(3),P1=Tg(4),Q5e=Tg(5),eSe=Tg(6);pN.range;nS.range;J5e.range;Z5e.range;P1.range;Q5e.range;eSe.range;function Og(e){return Ns(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/II)}const mN=Og(0),aS=Og(1),tSe=Og(2),rSe=Og(3),T1=Og(4),nSe=Og(5),aSe=Og(6);mN.range;aS.range;tSe.range;rSe.range;T1.range;nSe.range;aSe.range;const jI=Ns(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());jI.range;const $I=Ns(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());$I.range;const _h=Ns(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());_h.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ns(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});_h.range;const Sh=Ns(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Sh.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ns(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Sh.range;function vZ(e,t,r,n,a,i){const s=[[j0,1,lh],[j0,5,5*lh],[j0,15,15*lh],[j0,30,30*lh],[i,1,eu],[i,5,5*eu],[i,15,15*eu],[i,30,30*eu],[a,1,ch],[a,3,3*ch],[a,6,6*ch],[a,12,12*ch],[n,1,bh],[n,2,2*bh],[r,1,II],[t,1,zB],[t,3,3*zB],[e,1,JC]];function o(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),w=m?m.range(u,+d+1):[];return h?w.reverse():w}function c(u,d,f){const h=Math.abs(d-u)/f,m=bI(([,,y])=>y).right(s,h);if(m===s.length)return e.every(s8(u/JC,d/JC,f));if(m===0)return rS.every(Math.max(s8(u,d,f),1));const[w,g]=s[h/s[m-1][2]<s[m][2]/h?m-1:m];return w.every(g)}return[o,c]}const[iSe,sSe]=vZ(Sh,$I,mN,gZ,LI,MI),[oSe,lSe]=vZ(_h,jI,pN,rb,FI,RI);function ZC(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function QC(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function f2(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function cSe(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,o=e.months,c=e.shortMonths,u=h2(a),d=p2(a),f=h2(i),h=p2(i),m=h2(s),w=p2(s),g=h2(o),y=p2(o),b=h2(c),_=p2(c),N={a:W,A:z,b:U,B:Y,c:null,d:KB,e:KB,f:DSe,g:qSe,G:WSe,H:PSe,I:TSe,j:OSe,L:yZ,m:ISe,M:RSe,p:Q,q:D,Q:ZB,s:QB,S:MSe,u:FSe,U:LSe,V:jSe,w:$Se,W:BSe,x:null,X:null,y:USe,Y:zSe,Z:VSe,"%":JB},E={a:K,A:J,b:ne,B:ie,c:null,d:XB,e:XB,f:KSe,g:i4e,G:o4e,H:HSe,I:GSe,j:YSe,L:wZ,m:XSe,M:JSe,p:oe,q:ue,Q:ZB,s:QB,S:ZSe,u:QSe,U:e4e,V:t4e,w:r4e,W:n4e,x:null,X:null,y:a4e,Y:s4e,Z:l4e,"%":JB},C={a:j,A:T,b:I,B,c:G,d:GB,e:GB,f:ASe,g:HB,G:VB,H:YB,I:YB,j:bSe,L:NSe,m:wSe,M:_Se,p:L,q:xSe,Q:ESe,s:CSe,S:SSe,u:pSe,U:mSe,V:gSe,w:hSe,W:vSe,x:Z,X:re,y:HB,Y:VB,Z:ySe,"%":kSe};N.x=O(r,N),N.X=O(n,N),N.c=O(t,N),E.x=O(r,E),E.X=O(n,E),E.c=O(t,E);function O(V,se){return function(fe){var te=[],Ee=-1,Fe=0,Pe=V.length,ve,Ge,ht;for(fe instanceof Date||(fe=new Date(+fe));++Ee<Pe;)V.charCodeAt(Ee)===37&&(te.push(V.slice(Fe,Ee)),(Ge=WB[ve=V.charAt(++Ee)])!=null?ve=V.charAt(++Ee):Ge=ve==="e"?" ":"0",(ht=se[ve])&&(ve=ht(fe,Ge)),te.push(ve),Fe=Ee+1);return te.push(V.slice(Fe,Ee)),te.join("")}}function P(V,se){return function(fe){var te=f2(1900,void 0,1),Ee=M(te,V,fe+="",0),Fe,Pe;if(Ee!=fe.length)return null;if("Q"in te)return new Date(te.Q);if("s"in te)return new Date(te.s*1e3+("L"in te?te.L:0));if(se&&!("Z"in te)&&(te.Z=0),"p"in te&&(te.H=te.H%12+te.p*12),te.m===void 0&&(te.m="q"in te?te.q:0),"V"in te){if(te.V<1||te.V>53)return null;"w"in te||(te.w=1),"Z"in te?(Fe=QC(f2(te.y,0,1)),Pe=Fe.getUTCDay(),Fe=Pe>4||Pe===0?aS.ceil(Fe):aS(Fe),Fe=hN.offset(Fe,(te.V-1)*7),te.y=Fe.getUTCFullYear(),te.m=Fe.getUTCMonth(),te.d=Fe.getUTCDate()+(te.w+6)%7):(Fe=ZC(f2(te.y,0,1)),Pe=Fe.getDay(),Fe=Pe>4||Pe===0?nS.ceil(Fe):nS(Fe),Fe=rb.offset(Fe,(te.V-1)*7),te.y=Fe.getFullYear(),te.m=Fe.getMonth(),te.d=Fe.getDate()+(te.w+6)%7)}else("W"in te||"U"in te)&&("w"in te||(te.w="u"in te?te.u%7:"W"in te?1:0),Pe="Z"in te?QC(f2(te.y,0,1)).getUTCDay():ZC(f2(te.y,0,1)).getDay(),te.m=0,te.d="W"in te?(te.w+6)%7+te.W*7-(Pe+5)%7:te.w+te.U*7-(Pe+6)%7);return"Z"in te?(te.H+=te.Z/100|0,te.M+=te.Z%100,QC(te)):ZC(te)}}function M(V,se,fe,te){for(var Ee=0,Fe=se.length,Pe=fe.length,ve,Ge;Ee<Fe;){if(te>=Pe)return-1;if(ve=se.charCodeAt(Ee++),ve===37){if(ve=se.charAt(Ee++),Ge=C[ve in WB?se.charAt(Ee++):ve],!Ge||(te=Ge(V,fe,te))<0)return-1}else if(ve!=fe.charCodeAt(te++))return-1}return te}function L(V,se,fe){var te=u.exec(se.slice(fe));return te?(V.p=d.get(te[0].toLowerCase()),fe+te[0].length):-1}function j(V,se,fe){var te=m.exec(se.slice(fe));return te?(V.w=w.get(te[0].toLowerCase()),fe+te[0].length):-1}function T(V,se,fe){var te=f.exec(se.slice(fe));return te?(V.w=h.get(te[0].toLowerCase()),fe+te[0].length):-1}function I(V,se,fe){var te=b.exec(se.slice(fe));return te?(V.m=_.get(te[0].toLowerCase()),fe+te[0].length):-1}function B(V,se,fe){var te=g.exec(se.slice(fe));return te?(V.m=y.get(te[0].toLowerCase()),fe+te[0].length):-1}function G(V,se,fe){return M(V,t,se,fe)}function Z(V,se,fe){return M(V,r,se,fe)}function re(V,se,fe){return M(V,n,se,fe)}function W(V){return s[V.getDay()]}function z(V){return i[V.getDay()]}function U(V){return c[V.getMonth()]}function Y(V){return o[V.getMonth()]}function Q(V){return a[+(V.getHours()>=12)]}function D(V){return 1+~~(V.getMonth()/3)}function K(V){return s[V.getUTCDay()]}function J(V){return i[V.getUTCDay()]}function ne(V){return c[V.getUTCMonth()]}function ie(V){return o[V.getUTCMonth()]}function oe(V){return a[+(V.getUTCHours()>=12)]}function ue(V){return 1+~~(V.getUTCMonth()/3)}return{format:function(V){var se=O(V+="",N);return se.toString=function(){return V},se},parse:function(V){var se=P(V+="",!1);return se.toString=function(){return V},se},utcFormat:function(V){var se=O(V+="",E);return se.toString=function(){return V},se},utcParse:function(V){var se=P(V+="",!0);return se.toString=function(){return V},se}}}var WB={"-":"",_:" ",0:"0"},Ws=/^\s*\d+/,uSe=/^%/,dSe=/[\\^$*+?|[\]().{}]/g;function oa(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function fSe(e){return e.replace(dSe,"\\$&")}function h2(e){return new RegExp("^(?:"+e.map(fSe).join("|")+")","i")}function p2(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function hSe(e,t,r){var n=Ws.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function pSe(e,t,r){var n=Ws.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function mSe(e,t,r){var n=Ws.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function gSe(e,t,r){var n=Ws.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function vSe(e,t,r){var n=Ws.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function VB(e,t,r){var n=Ws.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function HB(e,t,r){var n=Ws.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function ySe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function xSe(e,t,r){var n=Ws.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function wSe(e,t,r){var n=Ws.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function GB(e,t,r){var n=Ws.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function bSe(e,t,r){var n=Ws.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function YB(e,t,r){var n=Ws.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function _Se(e,t,r){var n=Ws.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function SSe(e,t,r){var n=Ws.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function NSe(e,t,r){var n=Ws.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function ASe(e,t,r){var n=Ws.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function kSe(e,t,r){var n=uSe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function ESe(e,t,r){var n=Ws.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function CSe(e,t,r){var n=Ws.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function KB(e,t){return oa(e.getDate(),t,2)}function PSe(e,t){return oa(e.getHours(),t,2)}function TSe(e,t){return oa(e.getHours()%12||12,t,2)}function OSe(e,t){return oa(1+rb.count(_h(e),e),t,3)}function yZ(e,t){return oa(e.getMilliseconds(),t,3)}function DSe(e,t){return yZ(e,t)+"000"}function ISe(e,t){return oa(e.getMonth()+1,t,2)}function RSe(e,t){return oa(e.getMinutes(),t,2)}function MSe(e,t){return oa(e.getSeconds(),t,2)}function FSe(e){var t=e.getDay();return t===0?7:t}function LSe(e,t){return oa(pN.count(_h(e)-1,e),t,2)}function xZ(e){var t=e.getDay();return t>=4||t===0?P1(e):P1.ceil(e)}function jSe(e,t){return e=xZ(e),oa(P1.count(_h(e),e)+(_h(e).getDay()===4),t,2)}function $Se(e){return e.getDay()}function BSe(e,t){return oa(nS.count(_h(e)-1,e),t,2)}function USe(e,t){return oa(e.getFullYear()%100,t,2)}function qSe(e,t){return e=xZ(e),oa(e.getFullYear()%100,t,2)}function zSe(e,t){return oa(e.getFullYear()%1e4,t,4)}function WSe(e,t){var r=e.getDay();return e=r>=4||r===0?P1(e):P1.ceil(e),oa(e.getFullYear()%1e4,t,4)}function VSe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+oa(t/60|0,"0",2)+oa(t%60,"0",2)}function XB(e,t){return oa(e.getUTCDate(),t,2)}function HSe(e,t){return oa(e.getUTCHours(),t,2)}function GSe(e,t){return oa(e.getUTCHours()%12||12,t,2)}function YSe(e,t){return oa(1+hN.count(Sh(e),e),t,3)}function wZ(e,t){return oa(e.getUTCMilliseconds(),t,3)}function KSe(e,t){return wZ(e,t)+"000"}function XSe(e,t){return oa(e.getUTCMonth()+1,t,2)}function JSe(e,t){return oa(e.getUTCMinutes(),t,2)}function ZSe(e,t){return oa(e.getUTCSeconds(),t,2)}function QSe(e){var t=e.getUTCDay();return t===0?7:t}function e4e(e,t){return oa(mN.count(Sh(e)-1,e),t,2)}function bZ(e){var t=e.getUTCDay();return t>=4||t===0?T1(e):T1.ceil(e)}function t4e(e,t){return e=bZ(e),oa(T1.count(Sh(e),e)+(Sh(e).getUTCDay()===4),t,2)}function r4e(e){return e.getUTCDay()}function n4e(e,t){return oa(aS.count(Sh(e)-1,e),t,2)}function a4e(e,t){return oa(e.getUTCFullYear()%100,t,2)}function i4e(e,t){return e=bZ(e),oa(e.getUTCFullYear()%100,t,2)}function s4e(e,t){return oa(e.getUTCFullYear()%1e4,t,4)}function o4e(e,t){var r=e.getUTCDay();return e=r>=4||r===0?T1(e):T1.ceil(e),oa(e.getUTCFullYear()%1e4,t,4)}function l4e(){return"+0000"}function JB(){return"%"}function ZB(e){return+e}function QB(e){return Math.floor(+e/1e3)}var Ev,_Z,SZ;c4e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function c4e(e){return Ev=cSe(e),_Z=Ev.format,Ev.parse,SZ=Ev.utcFormat,Ev.utcParse,Ev}function u4e(e){return new Date(e)}function d4e(e){return e instanceof Date?+e:+new Date(+e)}function BI(e,t,r,n,a,i,s,o,c,u){var d=kI(),f=d.invert,h=d.domain,m=u(".%L"),w=u(":%S"),g=u("%I:%M"),y=u("%I %p"),b=u("%a %d"),_=u("%b %d"),N=u("%B"),E=u("%Y");function C(O){return(c(O)<O?m:o(O)<O?w:s(O)<O?g:i(O)<O?y:n(O)<O?a(O)<O?b:_:r(O)<O?N:E)(O)}return d.invert=function(O){return new Date(f(O))},d.domain=function(O){return arguments.length?h(Array.from(O,d4e)):h().map(u4e)},d.ticks=function(O){var P=h();return e(P[0],P[P.length-1],O??10)},d.tickFormat=function(O,P){return P==null?C:u(P)},d.nice=function(O){var P=h();return(!O||typeof O.range!="function")&&(O=t(P[0],P[P.length-1],O??10)),O?h(cZ(P,O)):d},d.copy=function(){return tb(d,BI(e,t,r,n,a,i,s,o,c,u))},d}function f4e(){return su.apply(BI(oSe,lSe,_h,jI,pN,rb,FI,RI,j0,_Z).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function h4e(){return su.apply(BI(iSe,sSe,Sh,$I,mN,hN,LI,MI,j0,SZ).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function gN(){var e=0,t=1,r,n,a,i,s=dl,o=!1,c;function u(f){return f==null||isNaN(f=+f)?c:s(a===0?.5:(f=(i(f)-r)*a,o?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(o=!!f,u):o},u.interpolator=function(f){return arguments.length?(s=f,u):s};function d(f){return function(h){var m,w;return arguments.length?([m,w]=h,s=f(m,w),u):[s(0),s(1)]}}return u.range=d(ky),u.rangeRound=d(AI),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function Fm(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function NZ(){var e=Mm(gN()(dl));return e.copy=function(){return Fm(e,NZ())},Dh.apply(e,arguments)}function AZ(){var e=PI(gN()).domain([1,10]);return e.copy=function(){return Fm(e,AZ()).base(e.base())},Dh.apply(e,arguments)}function kZ(){var e=TI(gN());return e.copy=function(){return Fm(e,kZ()).constant(e.constant())},Dh.apply(e,arguments)}function UI(){var e=OI(gN());return e.copy=function(){return Fm(e,UI()).exponent(e.exponent())},Dh.apply(e,arguments)}function p4e(){return UI.apply(null,arguments).exponent(.5)}function EZ(){var e=[],t=dl;function r(n){if(n!=null&&!isNaN(n=+n))return t((Qw(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(nm),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>e5e(e,i/n))},r.copy=function(){return EZ(t).domain(e)},Dh.apply(r,arguments)}function vN(){var e=0,t=.5,r=1,n=1,a,i,s,o,c,u=dl,d,f=!1,h;function m(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-i)*(n*g<n*i?o:c),u(f?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([e,t,r]=g,a=d(e=+e),i=d(t=+t),s=d(r=+r),o=a===i?0:.5/(i-a),c=i===s?0:.5/(s-i),n=i<a?-1:1,m):[e,t,r]},m.clamp=function(g){return arguments.length?(f=!!g,m):f},m.interpolator=function(g){return arguments.length?(u=g,m):u};function w(g){return function(y){var b,_,N;return arguments.length?([b,_,N]=y,u=k5e(g,[b,_,N]),m):[u(0),u(.5),u(1)]}}return m.range=w(ky),m.rangeRound=w(AI),m.unknown=function(g){return arguments.length?(h=g,m):h},function(g){return d=g,a=g(e),i=g(t),s=g(r),o=a===i?0:.5/(i-a),c=i===s?0:.5/(s-i),n=i<a?-1:1,m}}function CZ(){var e=Mm(vN()(dl));return e.copy=function(){return Fm(e,CZ())},Dh.apply(e,arguments)}function PZ(){var e=PI(vN()).domain([.1,1,10]);return e.copy=function(){return Fm(e,PZ()).base(e.base())},Dh.apply(e,arguments)}function TZ(){var e=TI(vN());return e.copy=function(){return Fm(e,TZ()).constant(e.constant())},Dh.apply(e,arguments)}function qI(){var e=OI(vN());return e.copy=function(){return Fm(e,qI()).exponent(e.exponent())},Dh.apply(e,arguments)}function m4e(){return qI.apply(null,arguments).exponent(.5)}const eU=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ox,scaleDiverging:CZ,scaleDivergingLog:PZ,scaleDivergingPow:qI,scaleDivergingSqrt:m4e,scaleDivergingSymlog:TZ,scaleIdentity:lZ,scaleImplicit:o8,scaleLinear:tS,scaleLog:uZ,scaleOrdinal:_I,scalePoint:K2,scalePow:DI,scaleQuantile:hZ,scaleQuantize:pZ,scaleRadial:fZ,scaleSequential:NZ,scaleSequentialLog:AZ,scaleSequentialPow:UI,scaleSequentialQuantile:EZ,scaleSequentialSqrt:p4e,scaleSequentialSymlog:kZ,scaleSqrt:K5e,scaleSymlog:dZ,scaleThreshold:mZ,scaleTime:f4e,scaleUtc:h4e,tickFormat:oZ},Symbol.toStringTag,{value:"Module"}));var eP,tU;function yN(){if(tU)return eP;tU=1;var e=_y();function t(r,n,a){for(var i=-1,s=r.length;++i<s;){var o=r[i],c=n(o);if(c!=null&&(u===void 0?c===c&&!e(c):a(c,u)))var u=c,d=o}return d}return eP=t,eP}var tP,rU;function OZ(){if(rU)return tP;rU=1;function e(t,r){return t>r}return tP=e,tP}var rP,nU;function g4e(){if(nU)return rP;nU=1;var e=yN(),t=OZ(),r=Ay();function n(a){return a&&a.length?e(a,r,t):void 0}return rP=n,rP}var v4e=g4e();const Kp=ma(v4e);var nP,aU;function DZ(){if(aU)return nP;aU=1;function e(t,r){return t<r}return nP=e,nP}var aP,iU;function y4e(){if(iU)return aP;iU=1;var e=yN(),t=DZ(),r=Ay();function n(a){return a&&a.length?e(a,r,t):void 0}return aP=n,aP}var x4e=y4e();const xN=ma(x4e);var iP,sU;function w4e(){if(sU)return iP;sU=1;var e=aI(),t=yf(),r=BJ(),n=Wl();function a(i,s){var o=n(i)?e:r;return o(i,t(s,3))}return iP=a,iP}var sP,oU;function b4e(){if(oU)return sP;oU=1;var e=jJ(),t=w4e();function r(n,a){return e(t(n,a),1)}return sP=r,sP}var _4e=b4e();const S4e=ma(_4e);var oP,lU;function N4e(){if(lU)return oP;lU=1;var e=vI();function t(r,n){return e(r,n)}return oP=t,oP}var A4e=N4e();const sg=ma(A4e);var Ey=1e9,k4e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},WI,ci=!0,nu="[DecimalError] ",W0=nu+"Invalid argument: ",zI=nu+"Exponent out of range: ",Cy=Math.floor,C0=Math.pow,E4e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,hc,Ms=1e7,Qa=7,IZ=9007199254740991,iS=Cy(IZ/Qa),kr={};kr.absoluteValue=kr.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};kr.comparedTo=kr.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};kr.decimalPlaces=kr.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Qa;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};kr.dividedBy=kr.div=function(e){return ph(this,new this.constructor(e))};kr.dividedToIntegerBy=kr.idiv=function(e){var t=this,r=t.constructor;return Ma(ph(t,new r(e),0,1),r.precision)};kr.equals=kr.eq=function(e){return!this.cmp(e)};kr.exponent=function(){return fs(this)};kr.greaterThan=kr.gt=function(e){return this.cmp(e)>0};kr.greaterThanOrEqualTo=kr.gte=function(e){return this.cmp(e)>=0};kr.isInteger=kr.isint=function(){return this.e>this.d.length-2};kr.isNegative=kr.isneg=function(){return this.s<0};kr.isPositive=kr.ispos=function(){return this.s>0};kr.isZero=function(){return this.s===0};kr.lessThan=kr.lt=function(e){return this.cmp(e)<0};kr.lessThanOrEqualTo=kr.lte=function(e){return this.cmp(e)<1};kr.logarithm=kr.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(hc))throw Error(nu+"NaN");if(r.s<1)throw Error(nu+(r.s?"NaN":"-Infinity"));return r.eq(hc)?new n(0):(ci=!1,t=ph(Fx(r,i),Fx(e,i),i),ci=!0,Ma(t,a))};kr.minus=kr.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?FZ(t,e):RZ(t,(e.s=-e.s,e))};kr.modulo=kr.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(nu+"NaN");return r.s?(ci=!1,t=ph(r,e,0,1).times(e),ci=!0,r.minus(t)):Ma(new n(r),a)};kr.naturalExponential=kr.exp=function(){return MZ(this)};kr.naturalLogarithm=kr.ln=function(){return Fx(this)};kr.negated=kr.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};kr.plus=kr.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?RZ(t,e):FZ(t,(e.s=-e.s,e))};kr.precision=kr.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(W0+e);if(t=fs(a)+1,n=a.d.length-1,r=n*Qa+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};kr.squareRoot=kr.sqrt=function(){var e,t,r,n,a,i,s,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(nu+"NaN")}for(e=fs(o),ci=!1,a=Math.sqrt(+o),a==0||a==1/0?(t=Kd(o.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Cy((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=s=r+3;;)if(i=n,n=i.plus(ph(o,i,s+2)).times(.5),Kd(i.d).slice(0,s)===(t=Kd(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&t=="4999"){if(Ma(i,r+1,0),i.times(i).eq(o)){n=i;break}}else if(t!="9999")break;s+=4}return ci=!0,Ma(n,r)};kr.times=kr.mul=function(e){var t,r,n,a,i,s,o,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(i=h,h=m,m=i,s=c,c=u,u=s),i=[],s=c+u,n=s;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)o=i[a]+m[n]*h[a-n-1]+t,i[a--]=o%Ms|0,t=o/Ms|0;i[a]=(i[a]+t)%Ms|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,ci?Ma(e,f.precision):e};kr.toDecimalPlaces=kr.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(ff(e,0,Ey),t===void 0?t=n.rounding:ff(t,0,8),Ma(r,e+fs(r)+1,t))};kr.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=og(n,!0):(ff(e,0,Ey),t===void 0?t=a.rounding:ff(t,0,8),n=Ma(new a(n),e+1,t),r=og(n,!0,e+1)),r};kr.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?og(a):(ff(e,0,Ey),t===void 0?t=i.rounding:ff(t,0,8),n=Ma(new i(a),e+fs(a)+1,t),r=og(n.abs(),!1,e+fs(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};kr.toInteger=kr.toint=function(){var e=this,t=e.constructor;return Ma(new t(e),fs(e)+1,t.rounding)};kr.toNumber=function(){return+this};kr.toPower=kr.pow=function(e){var t,r,n,a,i,s,o=this,c=o.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(hc);if(o=new c(o),!o.s){if(e.s<1)throw Error(nu+"Infinity");return o}if(o.eq(hc))return o;if(n=c.precision,e.eq(hc))return Ma(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,i=o.s,s){if((r=d<0?-d:d)<=IZ){for(a=new c(hc),t=Math.ceil(n/Qa+4),ci=!1;r%2&&(a=a.times(o),uU(a.d,t)),r=Cy(r/2),r!==0;)o=o.times(o),uU(o.d,t);return ci=!0,e.s<0?new c(hc).div(a):Ma(a,n)}}else if(i<0)throw Error(nu+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,ci=!1,a=e.times(Fx(o,n+u)),ci=!0,a=MZ(a),a.s=i,a};kr.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=fs(a),n=og(a,r<=i.toExpNeg||r>=i.toExpPos)):(ff(e,1,Ey),t===void 0?t=i.rounding:ff(t,0,8),a=Ma(new i(a),e,t),r=fs(a),n=og(a,e<=r||r<=i.toExpNeg,e)),n};kr.toSignificantDigits=kr.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ff(e,1,Ey),t===void 0?t=n.rounding:ff(t,0,8)),Ma(new n(r),e,t)};kr.toString=kr.valueOf=kr.val=kr.toJSON=kr[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=fs(e),r=e.constructor;return og(e,t<=r.toExpNeg||t>=r.toExpPos)};function RZ(e,t){var r,n,a,i,s,o,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),ci?Ma(t,f):t;if(c=e.d,u=t.d,s=e.e,a=t.e,c=c.slice(),i=s-a,i){for(i<0?(n=c,i=-i,o=u.length):(n=u,a=s,o=c.length),s=Math.ceil(f/Qa),o=s>o?s+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=c.length,i=u.length,o-i<0&&(i=o,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/Ms|0,c[i]%=Ms;for(r&&(c.unshift(r),++a),o=c.length;c[--o]==0;)c.pop();return t.d=c,t.e=a,ci?Ma(t,f):t}function ff(e,t,r){if(e!==~~e||e<t||e>r)throw Error(W0+e)}function Kd(e){var t,r,n,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)n=e[t]+"",r=Qa-n.length,r&&(i+=zp(r)),i+=n;s=e[t],n=s+"",r=Qa-n.length,r&&(i+=zp(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var ph=function(){function e(n,a){var i,s=0,o=n.length;for(n=n.slice();o--;)i=n[o]*a+s,n[o]=i%Ms|0,s=i/Ms|0;return s&&n.unshift(s),n}function t(n,a,i,s){var o,c;if(i!=s)c=i>s?1:-1;else for(o=c=0;o<i;o++)if(n[o]!=a[o]){c=n[o]>a[o]?1:-1;break}return c}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*Ms+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var o,c,u,d,f,h,m,w,g,y,b,_,N,E,C,O,P,M,L=n.constructor,j=n.s==a.s?1:-1,T=n.d,I=a.d;if(!n.s)return new L(n);if(!a.s)throw Error(nu+"Division by zero");for(c=n.e-a.e,P=I.length,C=T.length,m=new L(j),w=m.d=[],u=0;I[u]==(T[u]||0);)++u;if(I[u]>(T[u]||0)&&--c,i==null?_=i=L.precision:s?_=i+(fs(n)-fs(a))+1:_=i,_<0)return new L(0);if(_=_/Qa+2|0,u=0,P==1)for(d=0,I=I[0],_++;(u<C||d)&&_--;u++)N=d*Ms+(T[u]||0),w[u]=N/I|0,d=N%I|0;else{for(d=Ms/(I[0]+1)|0,d>1&&(I=e(I,d),T=e(T,d),P=I.length,C=T.length),E=P,g=T.slice(0,P),y=g.length;y<P;)g[y++]=0;M=I.slice(),M.unshift(0),O=I[0],I[1]>=Ms/2&&++O;do d=0,o=t(I,g,P,y),o<0?(b=g[0],P!=y&&(b=b*Ms+(g[1]||0)),d=b/O|0,d>1?(d>=Ms&&(d=Ms-1),f=e(I,d),h=f.length,y=g.length,o=t(f,g,h,y),o==1&&(d--,r(f,P<h?M:I,h))):(d==0&&(o=d=1),f=I.slice()),h=f.length,h<y&&f.unshift(0),r(g,f,y),o==-1&&(y=g.length,o=t(I,g,P,y),o<1&&(d++,r(g,P<y?M:I,y))),y=g.length):o===0&&(d++,g=[0]),w[u++]=d,o&&g[0]?g[y++]=T[E]||0:(g=[T[E]],y=1);while((E++<C||g[0]!==void 0)&&_--)}return w[0]||w.shift(),m.e=c,Ma(m,s?i+fs(m)+1:i)}}();function MZ(e,t){var r,n,a,i,s,o,c=0,u=0,d=e.constructor,f=d.precision;if(fs(e)>16)throw Error(zI+fs(e));if(!e.s)return new d(hc);for(ci=!1,o=f,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(n=Math.log(C0(2,u))/Math.LN10*2+5|0,o+=n,r=a=i=new d(hc),d.precision=o;;){if(a=Ma(a.times(e),o),r=r.times(++c),s=i.plus(ph(a,r,o)),Kd(s.d).slice(0,o)===Kd(i.d).slice(0,o)){for(;u--;)i=Ma(i.times(i),o);return d.precision=f,t==null?(ci=!0,Ma(i,f)):i}i=s}}function fs(e){for(var t=e.e*Qa,r=e.d[0];r>=10;r/=10)t++;return t}function lP(e,t,r){if(t>e.LN10.sd())throw ci=!0,r&&(e.precision=r),Error(nu+"LN10 precision limit exceeded");return Ma(new e(e.LN10),t)}function zp(e){for(var t="";e--;)t+="0";return t}function Fx(e,t){var r,n,a,i,s,o,c,u,d,f=1,h=10,m=e,w=m.d,g=m.constructor,y=g.precision;if(m.s<1)throw Error(nu+(m.s?"NaN":"-Infinity"));if(m.eq(hc))return new g(0);if(t==null?(ci=!1,u=y):u=t,m.eq(10))return t==null&&(ci=!0),lP(g,u);if(u+=h,g.precision=u,r=Kd(w),n=r.charAt(0),i=fs(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=Kd(m.d),n=r.charAt(0),f++;i=fs(m),n>1?(m=new g("0."+r),i++):m=new g(n+"."+r.slice(1))}else return c=lP(g,u+2,y).times(i+""),m=Fx(new g(n+"."+r.slice(1)),u-h).plus(c),g.precision=y,t==null?(ci=!0,Ma(m,y)):m;for(o=s=m=ph(m.minus(hc),m.plus(hc),u),d=Ma(m.times(m),u),a=3;;){if(s=Ma(s.times(d),u),c=o.plus(ph(s,new g(a),u)),Kd(c.d).slice(0,u)===Kd(o.d).slice(0,u))return o=o.times(2),i!==0&&(o=o.plus(lP(g,u+2,y).times(i+""))),o=ph(o,new g(f),u),g.precision=y,t==null?(ci=!0,Ma(o,y)):o;o=c,a+=2}}function cU(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Cy(r/Qa),e.d=[],n=(r+1)%Qa,r<0&&(n+=Qa),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Qa;n<a;)e.d.push(+t.slice(n,n+=Qa));t=t.slice(n),n=Qa-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),ci&&(e.e>iS||e.e<-iS))throw Error(zI+r)}else e.s=0,e.e=0,e.d=[0];return e}function Ma(e,t,r){var n,a,i,s,o,c,u,d,f=e.d;for(s=1,i=f[0];i>=10;i/=10)s++;if(n=t-s,n<0)n+=Qa,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Qa),i=f.length,d>=i)return e;for(u=i=f[d],s=1;i>=10;i/=10)s++;n%=Qa,a=n-Qa+s}if(r!==void 0&&(i=C0(10,s-a-1),o=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(o||c)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||c||r==6&&(n>0?a>0?u/C0(10,s-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=fs(e),f.length=1,t=t-i-1,f[0]=C0(10,(Qa-t%Qa)%Qa),e.e=Cy(-t/Qa)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=C0(10,Qa-n),f[d]=a>0?(u/C0(10,s-a)%C0(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==Ms&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=Ms)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(ci&&(e.e>iS||e.e<-iS))throw Error(zI+fs(e));return e}function FZ(e,t){var r,n,a,i,s,o,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),ci?Ma(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),s=u-n,s){for(d=s<0,d?(r=c,s=-s,o=f.length):(r=f,n=u,o=c.length),a=Math.max(Math.ceil(m/Qa),o)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=c.length,o=f.length,d=a<o,d&&(o=a),a=0;a<o;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}s=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),o=c.length,a=f.length-o;a>0;--a)c[o++]=0;for(a=f.length;a>s;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=Ms-1;--c[i],c[a]+=Ms}c[a]-=f[a]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,ci?Ma(t,m):t):new h(0)}function og(e,t,r){var n,a=fs(e),i=Kd(e.d),s=i.length;return t?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+zp(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+zp(-a-1)+i,r&&(n=r-s)>0&&(i+=zp(n))):a>=s?(i+=zp(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+zp(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=zp(n))),e.s<0?"-"+i:i}function uU(e,t){if(e.length>t)return e.length=t,!0}function LZ(e){var t,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(W0+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return cU(s,i.toString())}else if(typeof i!="string")throw Error(W0+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,E4e.test(i))cU(s,i);else throw Error(W0+i)}if(a.prototype=kr,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=LZ,a.config=a.set=C4e,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function C4e(e){if(!e||typeof e!="object")throw Error(nu+"Object expected");var t,r,n,a=["precision",1,Ey,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Cy(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(W0+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(W0+r+": "+n);return this}var WI=LZ(k4e);hc=new WI(1);const Ta=WI;function P4e(e){return I4e(e)||D4e(e)||O4e(e)||T4e()}function T4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O4e(e,t){if(e){if(typeof e=="string")return d8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d8(e,t)}}function D4e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function I4e(e){if(Array.isArray(e))return d8(e)}function d8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var R4e=function(t){return t},jZ={},$Z=function(t){return t===jZ},dU=function(t){return function r(){return arguments.length===0||arguments.length===1&&$Z(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},M4e=function e(t,r){return t===1?r:dU(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var s=a.filter(function(o){return o!==jZ}).length;return s>=t?r.apply(void 0,a):e(t-s,dU(function(){for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];var d=a.map(function(f){return $Z(f)?c.shift():f});return r.apply(void 0,P4e(d).concat(c))}))})},wN=function(t){return M4e(t.length,t)},f8=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},F4e=wN(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),L4e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return R4e;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce(function(o,c){return c(o)},i.apply(void 0,arguments))}},h8=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},BZ=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r&&i.every(function(o,c){return o===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function j4e(e){var t;return e===0?t=1:t=Math.floor(new Ta(e).abs().log(10).toNumber())+1,t}function $4e(e,t,r){for(var n=new Ta(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var B4e=wN(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),U4e=wN(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),q4e=wN(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const bN={rangeStep:$4e,getDigitCount:j4e,interpolateNumber:B4e,uninterpolateNumber:U4e,uninterpolateTruncation:q4e};function p8(e){return V4e(e)||W4e(e)||UZ(e)||z4e()}function z4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W4e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function V4e(e){if(Array.isArray(e))return m8(e)}function Lx(e,t){return Y4e(e)||G4e(e,t)||UZ(e,t)||H4e()}function H4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UZ(e,t){if(e){if(typeof e=="string")return m8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m8(e,t)}}function m8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function G4e(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var s=e[Symbol.iterator](),o;!(n=(o=s.next()).done)&&(r.push(o.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&s.return!=null&&s.return()}finally{if(a)throw i}}return r}}function Y4e(e){if(Array.isArray(e))return e}function qZ(e){var t=Lx(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function zZ(e,t,r){if(e.lte(0))return new Ta(0);var n=bN.getDigitCount(e.toNumber()),a=new Ta(10).pow(n),i=e.div(a),s=n!==1?.05:.1,o=new Ta(Math.ceil(i.div(s).toNumber())).add(r).mul(s),c=o.mul(a);return t?c:new Ta(Math.ceil(c))}function K4e(e,t,r){var n=1,a=new Ta(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Ta(10).pow(bN.getDigitCount(e)-1),a=new Ta(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Ta(Math.floor(e)))}else e===0?a=new Ta(Math.floor((t-1)/2)):r||(a=new Ta(Math.floor(e)));var s=Math.floor((t-1)/2),o=L4e(F4e(function(c){return a.add(new Ta(c-s).mul(n)).toNumber()}),f8);return o(0,t)}function WZ(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Ta(0),tickMin:new Ta(0),tickMax:new Ta(0)};var i=zZ(new Ta(t).sub(e).div(r-1),n,a),s;e<=0&&t>=0?s=new Ta(0):(s=new Ta(e).add(t).div(2),s=s.sub(new Ta(s).mod(i)));var o=Math.ceil(s.sub(e).div(i).toNumber()),c=Math.ceil(new Ta(t).sub(s).div(i).toNumber()),u=o+c+1;return u>r?WZ(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,o=t>0?o:o+(r-u)),{step:i,tickMin:s.sub(new Ta(o).mul(i)),tickMax:s.add(new Ta(c).mul(i))})}function X4e(e){var t=Lx(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),o=qZ([r,n]),c=Lx(o,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(p8(f8(0,a-1).map(function(){return 1/0}))):[].concat(p8(f8(0,a-1).map(function(){return-1/0})),[d]);return r>n?h8(f):f}if(u===d)return K4e(u,a,i);var h=WZ(u,d,s,i),m=h.step,w=h.tickMin,g=h.tickMax,y=bN.rangeStep(w,g.add(new Ta(.1).mul(m)),m);return r>n?h8(y):y}function J4e(e,t){var r=Lx(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=qZ([n,a]),o=Lx(s,2),c=o[0],u=o[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=zZ(new Ta(u).sub(c).div(d-1),i,0),h=[].concat(p8(bN.rangeStep(new Ta(c),new Ta(u).sub(new Ta(.99).mul(f)),f)),[u]);return n>a?h8(h):h}var Z4e=BZ(X4e),Q4e=BZ(J4e),eNe="Invariant failed";function lg(e,t){throw new Error(eNe)}var tNe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function O1(e){"@babel/helpers - typeof";return O1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O1(e)}function sS(){return sS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sS.apply(this,arguments)}function rNe(e,t){return sNe(e)||iNe(e,t)||aNe(e,t)||nNe()}function nNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aNe(e,t){if(e){if(typeof e=="string")return fU(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fU(e,t)}}function fU(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function iNe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function sNe(e){if(Array.isArray(e))return e}function oNe(e,t){if(e==null)return{};var r=lNe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lNe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function cNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uNe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GZ(n.key),n)}}function dNe(e,t,r){return t&&uNe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fNe(e,t,r){return t=oS(t),hNe(e,VZ()?Reflect.construct(t,r||[],oS(e).constructor):t.apply(e,r))}function hNe(e,t){if(t&&(O1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pNe(e)}function pNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VZ=function(){return!!e})()}function oS(e){return oS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},oS(e)}function mNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g8(e,t)}function g8(e,t){return g8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},g8(e,t)}function HZ(e,t,r){return t=GZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GZ(e){var t=gNe(e,"string");return O1(t)=="symbol"?t:t+""}function gNe(e,t){if(O1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(O1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var nb=function(e){function t(){return cNe(this,t),fNe(this,t,arguments)}return mNe(t,e),dNe(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,s=n.width,o=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=oNe(n,tNe),m=Rr(h,!1);this.props.direction==="x"&&d.type!=="number"&&lg();var w=c.map(function(g){var y=u(g,o),b=y.x,_=y.y,N=y.value,E=y.errorVal;if(!E)return null;var C=[],O,P;if(Array.isArray(E)){var M=rNe(E,2);O=M[0],P=M[1]}else O=P=E;if(i==="vertical"){var L=d.scale,j=_+a,T=j+s,I=j-s,B=L(N-O),G=L(N+P);C.push({x1:G,y1:T,x2:G,y2:I}),C.push({x1:B,y1:j,x2:G,y2:j}),C.push({x1:B,y1:T,x2:B,y2:I})}else if(i==="horizontal"){var Z=f.scale,re=b+a,W=re-s,z=re+s,U=Z(N-O),Y=Z(N+P);C.push({x1:W,y1:Y,x2:z,y2:Y}),C.push({x1:re,y1:U,x2:re,y2:Y}),C.push({x1:W,y1:U,x2:z,y2:U})}return tt.createElement(Ln,sS({className:"recharts-errorBar",key:"bar-".concat(C.map(function(Q){return"".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))},m),C.map(function(Q){return tt.createElement("line",sS({},Q,{key:"line-".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))}))});return tt.createElement(Ln,{className:"recharts-errorBars"},w)}}])}(tt.Component);HZ(nb,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});HZ(nb,"displayName","ErrorBar");function jx(e){"@babel/helpers - typeof";return jx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jx(e)}function hU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function b0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hU(Object(r),!0).forEach(function(n){vNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vNe(e,t,r){return t=yNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yNe(e){var t=xNe(e,"string");return jx(t)=="symbol"?t:t+""}function xNe(e,t){if(jx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YZ=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,s=sc(r,Ku);if(!s)return null;var o=Ku.defaultProps,c=o!==void 0?b0(b0({},o),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,m=f.props,w=m.sectors||m.data||[];return d.concat(w.map(function(g){return{type:s.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?b0(b0({},h),f.props):{},w=m.dataKey,g=m.name,y=m.legendType,b=m.hide;return{inactive:b,dataKey:w,type:c.iconType||y||"square",color:VI(f),value:g||w,payload:m}}),b0(b0(b0({},c),Ku.getWithHeight(s,a)),{},{payload:u,item:s})};function $x(e){"@babel/helpers - typeof";return $x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$x(e)}function pU(e){return SNe(e)||_Ne(e)||bNe(e)||wNe()}function wNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bNe(e,t){if(e){if(typeof e=="string")return v8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v8(e,t)}}function _Ne(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function SNe(e){if(Array.isArray(e))return v8(e)}function v8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mU(Object(r),!0).forEach(function(n){r1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r1(e,t,r){return t=NNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NNe(e){var t=ANe(e,"string");return $x(t)=="symbol"?t:t+""}function ANe(e,t){if($x(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($x(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yi(e,t,r){return vn(e)||vn(t)?r:bs(t)?xc(e,t,r):tn(t)?t(e):r}function X2(e,t,r,n){var a=S4e(e,function(o){return Yi(o,t)});if(r==="number"){var i=a.filter(function(o){return Xt(o)||parseFloat(o)});return i.length?[xN(i),Kp(i)]:[1/0,-1/0]}var s=n?a.filter(function(o){return!vn(o)}):a;return s.map(function(o){return bs(o)||o instanceof Date?o:""})}var kNe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=-1,o=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<o;u++){var d=u>0?a[u-1].coordinate:a[o-1].coordinate,f=a[u].coordinate,h=u>=o-1?a[0].coordinate:a[u+1].coordinate,m=void 0;if(cl(f-d)!==cl(h-f)){var w=[];if(cl(h-f)===cl(c[1]-c[0])){m=h;var g=f+c[1]-c[0];w[0]=Math.min(g,(g+d)/2),w[1]=Math.max(g,(g+d)/2)}else{m=d;var y=h+c[1]-c[0];w[0]=Math.min(f,(y+f)/2),w[1]=Math.max(f,(y+f)/2)}var b=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(t>b[0]&&t<=b[1]||t>=w[0]&&t<=w[1]){s=a[u].index;break}}else{var _=Math.min(d,h),N=Math.max(d,h);if(t>(_+f)/2&&t<=(N+f)/2){s=a[u].index;break}}}else for(var E=0;E<o;E++)if(E===0&&t<=(n[E].coordinate+n[E+1].coordinate)/2||E>0&&E<o-1&&t>(n[E].coordinate+n[E-1].coordinate)/2&&t<=(n[E].coordinate+n[E+1].coordinate)/2||E===o-1&&t>(n[E].coordinate+n[E-1].coordinate)/2){s=n[E].index;break}return s},VI=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Pi(Pi({},t.type.defaultProps),t.props):t.props,s=i.stroke,o=i.fill,c;switch(a){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:o;break;default:c=o;break}return c},ENe=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var s={},o=Object.keys(i),c=0,u=o.length;c<u;c++)for(var d=i[o[c]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var w=d[f[h]],g=w.items,y=w.cateAxisId,b=g.filter(function(P){return hh(P.type).indexOf("Bar")>=0});if(b&&b.length){var _=b[0].type.defaultProps,N=_!==void 0?Pi(Pi({},_),b[0].props):b[0].props,E=N.barSize,C=N[y];s[C]||(s[C]=[]);var O=vn(E)?r:E;s[C].push({item:b[0],stackList:b.slice(1),barSize:vn(O)?void 0:ul(O,n,0)})}}return s},CNe=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,s=i===void 0?[]:i,o=t.maxBarSize,c=s.length;if(c<1)return null;var u=ul(r,a,0,!0),d,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,m=a/c,w=s.reduce(function(E,C){return E+C.barSize||0},0);w+=(c-1)*u,w>=a&&(w-=(c-1)*u,u=0),w>=a&&m>0&&(h=!0,m*=.9,w=c*m);var g=(a-w)/2>>0,y={offset:g-u,size:0};d=s.reduce(function(E,C){var O={item:C.item,position:{offset:y.offset+y.size+u,size:h?m:C.barSize}},P=[].concat(pU(E),[O]);return y=P[P.length-1].position,C.stackList&&C.stackList.length&&C.stackList.forEach(function(M){P.push({item:M,position:y})}),P},f)}else{var b=ul(n,a,0,!0);a-2*b-(c-1)*u<=0&&(u=0);var _=(a-2*b-(c-1)*u)/c;_>1&&(_>>=0);var N=o===+o?Math.min(_,o):_;d=s.reduce(function(E,C,O){var P=[].concat(pU(E),[{item:C.item,position:{offset:b+(_+u)*O+(_-N)/2,size:N}}]);return C.stackList&&C.stackList.length&&C.stackList.forEach(function(M){P.push({item:M,position:P[P.length-1].position})}),P},f)}return d},PNe=function(t,r,n,a){var i=n.children,s=n.width,o=n.margin,c=s-(o.left||0)-(o.right||0),u=YZ({children:i,legendWidth:c});if(u){var d=a||{},f=d.width,h=d.height,m=u.align,w=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&w==="middle")&&m!=="center"&&Xt(t[m]))return Pi(Pi({},t),{},r1({},m,t[m]+(f||0)));if((g==="horizontal"||g==="vertical"&&m==="center")&&w!=="middle"&&Xt(t[w]))return Pi(Pi({},t),{},r1({},w,t[w]+(h||0)))}return t},TNe=function(t,r,n){return vn(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},KZ=function(t,r,n,a,i){var s=r.props.children,o=wc(s,nb).filter(function(u){return TNe(a,i,u.props.direction)});if(o&&o.length){var c=o.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=Yi(d,n);if(vn(f))return u;var h=Array.isArray(f)?[xN(f),Kp(f)]:[f,f],m=c.reduce(function(w,g){var y=Yi(d,g,0),b=h[0]-Math.abs(Array.isArray(y)?y[0]:y),_=h[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(b,w[0]),Math.max(_,w[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},ONe=function(t,r,n,a,i){var s=r.map(function(o){return KZ(t,o,n,i,a)}).filter(function(o){return!vn(o)});return s&&s.length?s.reduce(function(o,c){return[Math.min(o[0],c[0]),Math.max(o[1],c[1])]},[1/0,-1/0]):null},XZ=function(t,r,n,a,i){var s=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&KZ(t,c,u,a)||X2(t,u,n,i)});if(n==="number")return s.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var o={};return s.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)o[u[d]]||(o[u[d]]=!0,c.push(u[d]));return c},[])},JZ=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},ZZ=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var i,s,o=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(s=!0),c.coordinate});return i||o.push(r),s||o.push(n),o},uh=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,s=t.type,o=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&s==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?cl(o[0]-o[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!Ny(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:i?i[f]:f,index:h,offset:u}})},cP=new WeakMap,E_=function(t,r){if(typeof r!="function")return t;cP.has(t)||cP.set(t,new WeakMap);var n=cP.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},QZ=function(t,r,n){var a=t.scale,i=t.type,s=t.layout,o=t.axisType;if(a==="auto")return s==="radial"&&o==="radiusAxis"?{scale:Ox(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:tS(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:K2(),realScaleType:"point"}:i==="category"?{scale:Ox(),realScaleType:"band"}:{scale:tS(),realScaleType:"linear"};if(ng(a)){var c="scale".concat(iN(a));return{scale:(eU[c]||K2)(),realScaleType:eU[c]?c:"point"}}return tn(a)?{scale:a}:{scale:K2(),realScaleType:"point"}},gU=1e-4,eQ=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-gU,s=Math.max(a[0],a[1])+gU,o=t(r[0]),c=t(r[n-1]);(o<i||o>s||c<i||c>s)&&t.domain([r[0],r[n-1]])}},DNe=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},INe=function(t,r){if(!r||r.length!==2||!Xt(r[0])||!Xt(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!Xt(t[0])||t[0]<n)&&(i[0]=n),(!Xt(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},RNe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0,o=0;o<r;++o){var c=Ny(t[o][n][1])?t[o][n][0]:t[o][n][1];c>=0?(t[o][n][0]=i,t[o][n][1]=i+c,i=t[o][n][1]):(t[o][n][0]=s,t[o][n][1]=s+c,s=t[o][n][1])}},MNe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0;s<r;++s){var o=Ny(t[s][n][1])?t[s][n][0]:t[s][n][1];o>=0?(t[s][n][0]=i,t[s][n][1]=i+o,i=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},FNe={sign:RNe,expand:Sxe,none:S1,silhouette:Nxe,wiggle:Axe,positive:MNe},LNe=function(t,r,n){var a=r.map(function(o){return o.props.dataKey}),i=FNe[n],s=_xe().keys(a).value(function(o,c){return+Yi(o,c,0)}).order(K6).offset(i);return s(t)},jNe=function(t,r,n,a,i,s){if(!t)return null;var o=s?r.reverse():r,c={},u=o.reduce(function(f,h){var m,w=(m=h.type)!==null&&m!==void 0&&m.defaultProps?Pi(Pi({},h.type.defaultProps),h.props):h.props,g=w.stackId,y=w.hide;if(y)return f;var b=w[n],_=f[b]||{hasStack:!1,stackGroups:{}};if(bs(g)){var N=_.stackGroups[g]||{numericAxisId:n,cateAxisId:a,items:[]};N.items.push(h),_.hasStack=!0,_.stackGroups[g]=N}else _.stackGroups[Pg("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return Pi(Pi({},f),{},r1({},b,_))},c),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var w={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(g,y){var b=m.stackGroups[y];return Pi(Pi({},g),{},r1({},y,{numericAxisId:n,cateAxisId:a,items:b.items,stackedData:LNe(t,b.items,i)}))},w)}return Pi(Pi({},f),{},r1({},h,m))},d)},tQ=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,s=r.originalDomain,o=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=Z4e(u,i,o);return t.domain([xN(d),Kp(d)]),{niceTicks:d}}if(i&&a==="number"){var f=t.domain(),h=Q4e(f,i,o);return{niceTicks:h}}return null};function lS(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,s=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!vn(a[t.dataKey])){var o=L5(r,"value",a[t.dataKey]);if(o)return o.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=Yi(a,vn(s)?t.dataKey:s);return vn(c)?null:t.scale(c)}var vU=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,s=t.entry,o=t.index;if(r.type==="category")return n[o]?n[o].coordinate+a:null;var c=Yi(s,r.dataKey,r.domain[o]);return vn(c)?null:r.scale(c)-i/2+a},$Ne=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},BNe=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Pi(Pi({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(bs(i)){var s=r[i];if(s){var o=s.items.indexOf(t);return o>=0?s.stackedData[o]:null}}return null},UNe=function(t){return t.reduce(function(r,n){return[xN(n.concat([r[0]]).filter(Xt)),Kp(n.concat([r[1]]).filter(Xt))]},[1/0,-1/0])},rQ=function(t,r,n){return Object.keys(t).reduce(function(a,i){var s=t[i],o=s.stackedData,c=o.reduce(function(u,d){var f=UNe(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},yU=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,xU=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,y8=function(t,r,n){if(tn(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(Xt(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(yU.test(t[0])){var i=+yU.exec(t[0])[1];a[0]=r[0]-i}else tn(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(Xt(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(xU.test(t[1])){var s=+xU.exec(t[1])[1];a[1]=r[1]+s}else tn(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},cS=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=xI(r,function(f){return f.coordinate}),s=1/0,o=1,c=i.length;o<c;o++){var u=i[o],d=i[o-1];s=Math.min((u.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},wU=function(t,r,n){return!t||!t.length||sg(t,xc(n,"type.defaultProps.domain"))?r:t},nQ=function(t,r){var n=t.type.defaultProps?Pi(Pi({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,s=n.unit,o=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Pi(Pi({},Rr(t,!1)),{},{dataKey:a,unit:s,formatter:o,name:i||a,color:VI(t),value:Yi(r,a),type:c,payload:r,chartType:u,hide:d})};function Bx(e){"@babel/helpers - typeof";return Bx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bx(e)}function bU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ih(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bU(Object(r),!0).forEach(function(n){aQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aQ(e,t,r){return t=qNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qNe(e){var t=zNe(e,"string");return Bx(t)=="symbol"?t:t+""}function zNe(e,t){if(Bx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WNe(e,t){return YNe(e)||GNe(e,t)||HNe(e,t)||VNe()}function VNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HNe(e,t){if(e){if(typeof e=="string")return _U(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _U(e,t)}}function _U(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function GNe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function YNe(e){if(Array.isArray(e))return e}var uS=Math.PI/180,KNe=function(t){return t*180/Math.PI},qa=function(t,r,n,a){return{x:t+Math.cos(-uS*a)*n,y:r+Math.sin(-uS*a)*n}},iQ=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},XNe=function(t,r,n,a,i){var s=t.width,o=t.height,c=t.startAngle,u=t.endAngle,d=ul(t.cx,s,s/2),f=ul(t.cy,o,o/2),h=iQ(s,o,n),m=ul(t.innerRadius,h,0),w=ul(t.outerRadius,h,h*.8),g=Object.keys(r);return g.reduce(function(y,b){var _=r[b],N=_.domain,E=_.reversed,C;if(vn(_.range))a==="angleAxis"?C=[c,u]:a==="radiusAxis"&&(C=[m,w]),E&&(C=[C[1],C[0]]);else{C=_.range;var O=C,P=WNe(O,2);c=P[0],u=P[1]}var M=QZ(_,i),L=M.realScaleType,j=M.scale;j.domain(N).range(C),eQ(j);var T=tQ(j,ih(ih({},_),{},{realScaleType:L})),I=ih(ih(ih({},_),T),{},{range:C,radius:w,realScaleType:L,scale:j,cx:d,cy:f,innerRadius:m,outerRadius:w,startAngle:c,endAngle:u});return ih(ih({},y),{},aQ({},b,I))},{})},JNe=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-s,2))},ZNe=function(t,r){var n=t.x,a=t.y,i=r.cx,s=r.cy,o=JNe({x:n,y:a},{x:i,y:s});if(o<=0)return{radius:o};var c=(n-i)/o,u=Math.acos(c);return a>s&&(u=2*Math.PI-u),{radius:o,angle:KNe(u),angleInRadian:u}},QNe=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return{startAngle:r-s*360,endAngle:n-s*360}},eAe=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),s=Math.floor(a/360),o=Math.min(i,s);return t+o*360},SU=function(t,r){var n=t.x,a=t.y,i=ZNe({x:n,y:a},r),s=i.radius,o=i.angle,c=r.innerRadius,u=r.outerRadius;if(s<c||s>u)return!1;if(s===0)return!0;var d=QNe(r),f=d.startAngle,h=d.endAngle,m=o,w;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;w=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;w=m>=h&&m<=f}return w?ih(ih({},r),{},{radius:s,angle:eAe(m,r)}):null},sQ=function(t){return!S.isValidElement(t)&&!tn(t)&&typeof t!="boolean"?t.className:""};function Ux(e){"@babel/helpers - typeof";return Ux=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ux(e)}var tAe=["offset"];function rAe(e){return sAe(e)||iAe(e)||aAe(e)||nAe()}function nAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aAe(e,t){if(e){if(typeof e=="string")return x8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x8(e,t)}}function iAe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sAe(e){if(Array.isArray(e))return x8(e)}function x8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oAe(e,t){if(e==null)return{};var r=lAe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function NU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ys(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NU(Object(r),!0).forEach(function(n){cAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cAe(e,t,r){return t=uAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uAe(e){var t=dAe(e,"string");return Ux(t)=="symbol"?t:t+""}function dAe(e,t){if(Ux(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ux(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fAe=function(t){var r=t.value,n=t.formatter,a=vn(t.children)?r:t.children;return tn(n)?n(a):a},hAe=function(t,r){var n=cl(r-t),a=Math.min(Math.abs(r-t),360);return n*a},pAe=function(t,r,n){var a=t.position,i=t.viewBox,s=t.offset,o=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,m=c.startAngle,w=c.endAngle,g=c.clockWise,y=(f+h)/2,b=hAe(m,w),_=b>=0?1:-1,N,E;a==="insideStart"?(N=m+_*s,E=g):a==="insideEnd"?(N=w-_*s,E=!g):a==="end"&&(N=w+_*s,E=g),E=b<=0?E:!E;var C=qa(u,d,y,N),O=qa(u,d,y,N+(E?1:-1)*359),P="M".concat(C.x,",").concat(C.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(E?0:1,`,
    `).concat(O.x,",").concat(O.y),M=vn(t.id)?Pg("recharts-radial-line-"):t.id;return x("text",{...n,dominantBaseline:"central",className:yn("recharts-radial-bar-label",o),children:[l("defs",{children:l("path",{id:M,d:P})}),l("textPath",{xlinkHref:"#".concat(M),children:r})]})},mAe=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,s=i.cx,o=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(a==="outside"){var m=qa(s,o,u+n,h),w=m.x,g=m.y;return{x:w,y:g,textAnchor:w>=s?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var y=(c+u)/2,b=qa(s,o,y,h),_=b.x,N=b.y;return{x:_,y:N,textAnchor:"middle",verticalAnchor:"middle"}},gAe=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,s=r,o=s.x,c=s.y,u=s.width,d=s.height,f=d>=0?1:-1,h=f*a,m=f>0?"end":"start",w=f>0?"start":"end",g=u>=0?1:-1,y=g*a,b=g>0?"end":"start",_=g>0?"start":"end";if(i==="top"){var N={x:o+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:m};return ys(ys({},N),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var E={x:o+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:w};return ys(ys({},E),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var C={x:o-y,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return ys(ys({},C),n?{width:Math.max(C.x-n.x,0),height:d}:{})}if(i==="right"){var O={x:o+u+y,y:c+d/2,textAnchor:_,verticalAnchor:"middle"};return ys(ys({},O),n?{width:Math.max(n.x+n.width-O.x,0),height:d}:{})}var P=n?{width:u,height:d}:{};return i==="insideLeft"?ys({x:o+y,y:c+d/2,textAnchor:_,verticalAnchor:"middle"},P):i==="insideRight"?ys({x:o+u-y,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},P):i==="insideTop"?ys({x:o+u/2,y:c+h,textAnchor:"middle",verticalAnchor:w},P):i==="insideBottom"?ys({x:o+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:m},P):i==="insideTopLeft"?ys({x:o+y,y:c+h,textAnchor:_,verticalAnchor:w},P):i==="insideTopRight"?ys({x:o+u-y,y:c+h,textAnchor:b,verticalAnchor:w},P):i==="insideBottomLeft"?ys({x:o+y,y:c+d-h,textAnchor:_,verticalAnchor:m},P):i==="insideBottomRight"?ys({x:o+u-y,y:c+d-h,textAnchor:b,verticalAnchor:m},P):Sy(i)&&(Xt(i.x)||F0(i.x))&&(Xt(i.y)||F0(i.y))?ys({x:o+ul(i.x,u),y:c+ul(i.y,d),textAnchor:"end",verticalAnchor:"end"},P):ys({x:o+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},P)},vAe=function(t){return"cx"in t&&Xt(t.cx)};function $s(e){var t=e.offset,r=t===void 0?5:t,n=oAe(e,tAe),a=ys({offset:r},n),i=a.viewBox,s=a.position,o=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!i||vn(o)&&vn(c)&&!S.isValidElement(u)&&!tn(u))return null;if(S.isValidElement(u))return S.cloneElement(u,a);var m;if(tn(u)){if(m=S.createElement(u,a),S.isValidElement(m))return m}else m=fAe(a);var w=vAe(i),g=Rr(a,!0);if(w&&(s==="insideStart"||s==="insideEnd"||s==="end"))return pAe(a,m,g);var y=w?mAe(a):gAe(a);return l(ig,{className:yn("recharts-label",f),...g,...y,breakAll:h,children:m})}$s.displayName="Label";var oQ=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,s=t.endAngle,o=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,m=t.top,w=t.left,g=t.width,y=t.height,b=t.clockWise,_=t.labelViewBox;if(_)return _;if(Xt(g)&&Xt(y)){if(Xt(f)&&Xt(h))return{x:f,y:h,width:g,height:y};if(Xt(m)&&Xt(w))return{x:m,y:w,width:g,height:y}}return Xt(f)&&Xt(h)?{x:f,y:h,width:0,height:0}:Xt(r)&&Xt(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:s||a||0,innerRadius:u||0,outerRadius:d||c||o||0,clockWise:b}:t.viewBox?t.viewBox:{}},yAe=function(t,r){return t?t===!0?l($s,{viewBox:r},"label-implicit"):bs(t)?l($s,{viewBox:r,value:t},"label-implicit"):S.isValidElement(t)?t.type===$s?S.cloneElement(t,{key:"label-implicit",viewBox:r}):l($s,{content:t,viewBox:r},"label-implicit"):tn(t)?l($s,{content:t,viewBox:r},"label-implicit"):Sy(t)?S.createElement($s,{viewBox:r,...t,key:"label-implicit"}):null:null},xAe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=oQ(t),s=wc(a,$s).map(function(c,u){return S.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return s;var o=yAe(t.label,r||i);return[o].concat(rAe(s))};$s.parseViewBox=oQ;$s.renderCallByParent=xAe;var uP,AU;function wAe(){if(AU)return uP;AU=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return uP=e,uP}var bAe=wAe();const _Ae=ma(bAe);function qx(e){"@babel/helpers - typeof";return qx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qx(e)}var SAe=["valueAccessor"],NAe=["data","dataKey","clockWise","id","textBreakAll"];function AAe(e){return PAe(e)||CAe(e)||EAe(e)||kAe()}function kAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EAe(e,t){if(e){if(typeof e=="string")return w8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w8(e,t)}}function CAe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function PAe(e){if(Array.isArray(e))return w8(e)}function w8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function EU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kU(Object(r),!0).forEach(function(n){TAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TAe(e,t,r){return t=OAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OAe(e){var t=DAe(e,"string");return qx(t)=="symbol"?t:t+""}function DAe(e,t){if(qx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CU(e,t){if(e==null)return{};var r=IAe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function IAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var RAe=function(t){return Array.isArray(t.value)?_Ae(t.value):t.value};function nf(e){var t=e.valueAccessor,r=t===void 0?RAe:t,n=CU(e,SAe),a=n.data,i=n.dataKey,s=n.clockWise,o=n.id,c=n.textBreakAll,u=CU(n,NAe);return!a||!a.length?null:l(Ln,{className:"recharts-label-list",children:a.map(function(d,f){var h=vn(i)?r(d,f):Yi(d&&d.payload,i),m=vn(o)?{}:{id:"".concat(o,"-").concat(f)};return S.createElement($s,{...Rr(d,!0),...u,...m,parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:$s.parseViewBox(vn(s)?d:EU(EU({},d),{},{clockWise:s})),key:"label-".concat(f),index:f})})})}nf.displayName="LabelList";function MAe(e,t){return e?e===!0?l(nf,{data:t},"labelList-implicit"):tt.isValidElement(e)||tn(e)?l(nf,{data:t,content:e},"labelList-implicit"):Sy(e)?S.createElement(nf,{data:t,...e,key:"labelList-implicit"}):null:null}function FAe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=wc(n,nf).map(function(s,o){return S.cloneElement(s,{data:t,key:"labelList-".concat(o)})});if(!r)return a;var i=MAe(e.label,t);return[i].concat(AAe(a))}nf.renderCallByParent=FAe;function zx(e){"@babel/helpers - typeof";return zx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zx(e)}function b8(){return b8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},b8.apply(this,arguments)}function PU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function TU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PU(Object(r),!0).forEach(function(n){LAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LAe(e,t,r){return t=jAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jAe(e){var t=$Ae(e,"string");return zx(t)=="symbol"?t:t+""}function $Ae(e,t){if(zx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BAe=function(t,r){var n=cl(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},C_=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,s=t.sign,o=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(o?1:-1)+a,f=Math.asin(c/d)/uS,h=u?i:i+s*f,m=qa(r,n,d,h),w=qa(r,n,a,h),g=u?i-s*f:i,y=qa(r,n,d*Math.cos(f*uS),g);return{center:m,circleTangency:w,lineTangency:y,theta:f}},lQ=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.startAngle,o=t.endAngle,c=BAe(s,o),u=s+c,d=qa(r,n,i,s),f=qa(r,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var m=qa(r,n,a,s),w=qa(r,n,a,u);h+="L ".concat(w.x,",").concat(w.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},UAe=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.cornerRadius,o=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=cl(d-u),h=C_({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:s,cornerIsExternal:c}),m=h.circleTangency,w=h.lineTangency,g=h.theta,y=C_({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:s,cornerIsExternal:c}),b=y.circleTangency,_=y.lineTangency,N=y.theta,E=c?Math.abs(u-d):Math.abs(u-d)-g-N;if(E<0)return o?"M ".concat(w.x,",").concat(w.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):lQ({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var C="M ".concat(w.x,",").concat(w.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(E>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
  `);if(a>0){var O=C_({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),P=O.circleTangency,M=O.lineTangency,L=O.theta,j=C_({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),T=j.circleTangency,I=j.lineTangency,B=j.theta,G=c?Math.abs(u-d):Math.abs(u-d)-L-B;if(G<0&&s===0)return"".concat(C,"L").concat(r,",").concat(n,"Z");C+="L".concat(I.x,",").concat(I.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(G>180),",").concat(+(f>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(M.x,",").concat(M.y,"Z")}else C+="L".concat(r,",").concat(n,"Z");return C},qAe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},cQ=function(t){var r=TU(TU({},qAe),t),n=r.cx,a=r.cy,i=r.innerRadius,s=r.outerRadius,o=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(s<i||d===f)return null;var m=yn("recharts-sector",h),w=s-i,g=ul(o,w,0,!0),y;return g>0&&Math.abs(d-f)<360?y=UAe({cx:n,cy:a,innerRadius:i,outerRadius:s,cornerRadius:Math.min(g,w/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):y=lQ({cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:d,endAngle:f}),tt.createElement("path",b8({},Rr(r,!0),{className:m,d:y,role:"img"}))};function Wx(e){"@babel/helpers - typeof";return Wx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wx(e)}function _8(){return _8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_8.apply(this,arguments)}function OU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function DU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OU(Object(r),!0).forEach(function(n){zAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zAe(e,t,r){return t=WAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WAe(e){var t=VAe(e,"string");return Wx(t)=="symbol"?t:t+""}function VAe(e,t){if(Wx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IU={curveBasisClosed:dxe,curveBasisOpen:fxe,curveBasis:uxe,curveBumpX:X2e,curveBumpY:J2e,curveLinearClosed:hxe,curveLinear:oN,curveMonotoneX:pxe,curveMonotoneY:mxe,curveNatural:gxe,curveStep:vxe,curveStepAfter:xxe,curveStepBefore:yxe},P_=function(t){return t.x===+t.x&&t.y===+t.y},m2=function(t){return t.x},g2=function(t){return t.y},HAe=function(t,r){if(tn(t))return t;var n="curve".concat(iN(t));return(n==="curveMonotone"||n==="curveBump")&&r?IU["".concat(n).concat(r==="vertical"?"Y":"X")]:IU[n]||oN},GAe=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,s=t.baseLine,o=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=HAe(n,o),f=u?i.filter(function(g){return P_(g)}):i,h;if(Array.isArray(s)){var m=u?s.filter(function(g){return P_(g)}):s,w=f.map(function(g,y){return DU(DU({},g),{},{base:m[y]})});return o==="vertical"?h=w_().y(g2).x1(m2).x0(function(g){return g.base.x}):h=w_().x(m2).y1(g2).y0(function(g){return g.base.y}),h.defined(P_).curve(d),h(w)}return o==="vertical"&&Xt(s)?h=w_().y(g2).x1(m2).x0(s):Xt(s)?h=w_().x(m2).y1(g2).y0(s):h=oJ().x(m2).y(g2),h.defined(P_).curve(d),h(f)},V0=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var s=n&&n.length?GAe(t):a;return tt.createElement("path",_8({},Rr(t,!1),j5(t),{className:yn("recharts-curve",r),d:s,ref:i}))},dP={exports:{}},fP,RU;function YAe(){if(RU)return fP;RU=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return fP=e,fP}var hP,MU;function KAe(){if(MU)return hP;MU=1;var e=YAe();function t(){}function r(){}return r.resetWarningCache=t,hP=function(){function n(s,o,c,u,d,f){if(f!==e){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}n.isRequired=n;function a(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:t};return i.PropTypes=i,i},hP}var FU;function XAe(){return FU||(FU=1,dP.exports=KAe()()),dP.exports}var JAe=XAe();const wa=ma(JAe);var ZAe=Object.getOwnPropertyNames,QAe=Object.getOwnPropertySymbols,e3e=Object.prototype.hasOwnProperty;function LU(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function T_(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,s=i.get(r),o=i.get(n);if(s&&o)return s===n&&o===r;i.set(r,n),i.set(n,r);var c=e(r,n,a);return i.delete(r),i.delete(n),c}}function jU(e){return ZAe(e).concat(QAe(e))}var t3e=Object.hasOwn||function(e,t){return e3e.call(e,t)};function Dg(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var r3e="__v",n3e="__o",a3e="_owner",$U=Object.getOwnPropertyDescriptor,BU=Object.keys;function i3e(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function s3e(e,t){return Dg(e.getTime(),t.getTime())}function o3e(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function l3e(e,t){return e===t}function UU(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),s,o,c=0;(s=i.next())&&!s.done;){for(var u=t.entries(),d=!1,f=0;(o=u.next())&&!o.done;){if(a[f]){f++;continue}var h=s.value,m=o.value;if(r.equals(h[0],m[0],c,f,e,t,r)&&r.equals(h[1],m[1],h[0],m[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var c3e=Dg;function u3e(e,t,r){var n=BU(e),a=n.length;if(BU(t).length!==a)return!1;for(;a-- >0;)if(!uQ(e,t,r,n[a]))return!1;return!0}function v2(e,t,r){var n=jU(e),a=n.length;if(jU(t).length!==a)return!1;for(var i,s,o;a-- >0;)if(i=n[a],!uQ(e,t,r,i)||(s=$U(e,i),o=$U(t,i),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function d3e(e,t){return Dg(e.valueOf(),t.valueOf())}function f3e(e,t){return e.source===t.source&&e.flags===t.flags}function qU(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),s,o;(s=i.next())&&!s.done;){for(var c=t.values(),u=!1,d=0;(o=c.next())&&!o.done;){if(!a[d]&&r.equals(s.value,o.value,s.value,o.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function h3e(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function p3e(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function uQ(e,t,r,n){return(n===a3e||n===n3e||n===r3e)&&(e.$$typeof||t.$$typeof)?!0:t3e(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var m3e="[object Arguments]",g3e="[object Boolean]",v3e="[object Date]",y3e="[object Error]",x3e="[object Map]",w3e="[object Number]",b3e="[object Object]",_3e="[object RegExp]",S3e="[object Set]",N3e="[object String]",A3e="[object URL]",k3e=Array.isArray,zU=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,WU=Object.assign,E3e=Object.prototype.toString.call.bind(Object.prototype.toString);function C3e(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,s=e.areNumbersEqual,o=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(w,g,y){if(w===g)return!0;if(w==null||g==null)return!1;var b=typeof w;if(b!==typeof g)return!1;if(b!=="object")return b==="number"?s(w,g,y):b==="function"?a(w,g,y):!1;var _=w.constructor;if(_!==g.constructor)return!1;if(_===Object)return o(w,g,y);if(k3e(w))return t(w,g,y);if(zU!=null&&zU(w))return f(w,g,y);if(_===Date)return r(w,g,y);if(_===RegExp)return u(w,g,y);if(_===Map)return i(w,g,y);if(_===Set)return d(w,g,y);var N=E3e(w);return N===v3e?r(w,g,y):N===_3e?u(w,g,y):N===x3e?i(w,g,y):N===S3e?d(w,g,y):N===b3e?typeof w.then!="function"&&typeof g.then!="function"&&o(w,g,y):N===A3e?h(w,g,y):N===y3e?n(w,g,y):N===m3e?o(w,g,y):N===g3e||N===w3e||N===N3e?c(w,g,y):!1}}function P3e(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?v2:i3e,areDatesEqual:s3e,areErrorsEqual:o3e,areFunctionsEqual:l3e,areMapsEqual:n?LU(UU,v2):UU,areNumbersEqual:c3e,areObjectsEqual:n?v2:u3e,arePrimitiveWrappersEqual:d3e,areRegExpsEqual:f3e,areSetsEqual:n?LU(qU,v2):qU,areTypedArraysEqual:n?v2:h3e,areUrlsEqual:p3e};if(r&&(a=WU({},a,r(a))),t){var i=T_(a.areArraysEqual),s=T_(a.areMapsEqual),o=T_(a.areObjectsEqual),c=T_(a.areSetsEqual);a=WU({},a,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:c})}return a}function T3e(e){return function(t,r,n,a,i,s,o){return e(t,r,o)}}function O3e(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,m=d.meta;return r(c,u,{cache:h,equals:a,meta:m,strict:i})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var s={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,u){return r(c,u,s)}}var D3e=Lm();Lm({strict:!0});Lm({circular:!0});Lm({circular:!0,strict:!0});Lm({createInternalComparator:function(){return Dg}});Lm({strict:!0,createInternalComparator:function(){return Dg}});Lm({circular:!0,createInternalComparator:function(){return Dg}});Lm({circular:!0,createInternalComparator:function(){return Dg},strict:!0});function Lm(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,s=i===void 0?!1:i,o=P3e(e),c=C3e(o),u=n?n(c):T3e(c);return O3e({circular:r,comparator:c,createState:a,equals:u,strict:s})}function I3e(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function VU(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):I3e(a)};requestAnimationFrame(n)}function S8(e){"@babel/helpers - typeof";return S8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S8(e)}function R3e(e){return j3e(e)||L3e(e)||F3e(e)||M3e()}function M3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F3e(e,t){if(e){if(typeof e=="string")return HU(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HU(e,t)}}function HU(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function L3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function j3e(e){if(Array.isArray(e))return e}function $3e(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var s=i,o=R3e(s),c=o[0],u=o.slice(1);if(typeof c=="number"){VU(a.bind(null,u),c);return}a(c),VU(a.bind(null,u));return}S8(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Vx(e){"@babel/helpers - typeof";return Vx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vx(e)}function GU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function YU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GU(Object(r),!0).forEach(function(n){dQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dQ(e,t,r){return t=B3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B3e(e){var t=U3e(e,"string");return Vx(t)==="symbol"?t:String(t)}function U3e(e,t){if(Vx(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vx(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var q3e=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},z3e=function(t){return t},W3e=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},J2=function(t,r){return Object.keys(r).reduce(function(n,a){return YU(YU({},n),{},dQ({},a,t(a,r[a])))},{})},KU=function(t,r,n){return t.map(function(a){return"".concat(W3e(a)," ").concat(r,"ms ").concat(n)}).join(",")};function V3e(e,t){return Y3e(e)||G3e(e,t)||fQ(e,t)||H3e()}function H3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G3e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function Y3e(e){if(Array.isArray(e))return e}function K3e(e){return Z3e(e)||J3e(e)||fQ(e)||X3e()}function X3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fQ(e,t){if(e){if(typeof e=="string")return N8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N8(e,t)}}function J3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Z3e(e){if(Array.isArray(e))return N8(e)}function N8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var dS=1e-4,hQ=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},pQ=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},XU=function(t,r){return function(n){var a=hQ(t,r);return pQ(a,n)}},Q3e=function(t,r){return function(n){var a=hQ(t,r),i=[].concat(K3e(a.map(function(s,o){return s*o}).slice(1)),[0]);return pQ(i,n)}},JU=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],s=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,s=1,o=1;break;case"ease":a=.25,i=.1,s=.25,o=1;break;case"ease-in":a=.42,i=0,s=1,o=1;break;case"ease-out":a=.42,i=0,s=.58,o=1;break;case"ease-in-out":a=0,i=0,s=.58,o=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),d=V3e(u,4);a=d[0],i=d[1],s=d[2],o=d[3]}}}var f=XU(a,s),h=XU(i,o),m=Q3e(a,s),w=function(b){return b>1?1:b<0?0:b},g=function(b){for(var _=b>1?1:b,N=_,E=0;E<8;++E){var C=f(N)-_,O=m(N);if(Math.abs(C-_)<dS||O<dS)return h(N);N=w(N-C/O)}return h(N)};return g.isStepper=!1,g},eke=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,s=t.dt,o=s===void 0?17:s,c=function(d,f,h){var m=-(d-f)*n,w=h*i,g=h+(m-w)*o/1e3,y=h*o/1e3+d;return Math.abs(y-f)<dS&&Math.abs(g)<dS?[f,0]:[y,g]};return c.isStepper=!0,c.dt=o,c},tke=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return JU(a);case"spring":return eke();default:if(a.split("(")[0]==="cubic-bezier")return JU(a)}return typeof a=="function"?a:null};function Hx(e){"@babel/helpers - typeof";return Hx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hx(e)}function ZU(e){return ake(e)||nke(e)||mQ(e)||rke()}function rke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ake(e){if(Array.isArray(e))return k8(e)}function QU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function to(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QU(Object(r),!0).forEach(function(n){A8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function A8(e,t,r){return t=ike(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ike(e){var t=ske(e,"string");return Hx(t)==="symbol"?t:String(t)}function ske(e,t){if(Hx(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hx(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oke(e,t){return uke(e)||cke(e,t)||mQ(e,t)||lke()}function lke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mQ(e,t){if(e){if(typeof e=="string")return k8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k8(e,t)}}function k8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cke(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function uke(e){if(Array.isArray(e))return e}var fS=function(t,r,n){return t+(r-t)*n},E8=function(t){var r=t.from,n=t.to;return r!==n},dke=function e(t,r,n){var a=J2(function(i,s){if(E8(s)){var o=t(s.from,s.to,s.velocity),c=oke(o,2),u=c[0],d=c[1];return to(to({},s),{},{from:u,velocity:d})}return s},r);return n<1?J2(function(i,s){return E8(s)?to(to({},s),{},{velocity:fS(s.velocity,a[i].velocity,n),from:fS(s.from,a[i].from,n)}):s},r):e(t,a,n-1)};const fke=function(e,t,r,n,a){var i=q3e(e,t),s=i.reduce(function(y,b){return to(to({},y),{},A8({},b,[e[b],t[b]]))},{}),o=i.reduce(function(y,b){return to(to({},y),{},A8({},b,{from:e[b],velocity:0,to:t[b]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return J2(function(b,_){return _.from},o)},m=function(){return!Object.values(o).filter(E8).length},w=function(b){u||(u=b);var _=b-u,N=_/r.dt;o=dke(r,o,N),a(to(to(to({},e),t),h())),u=b,m()||(c=requestAnimationFrame(f))},g=function(b){d||(d=b);var _=(b-d)/n,N=J2(function(C,O){return fS.apply(void 0,ZU(O).concat([r(_)]))},s);if(a(to(to(to({},e),t),N)),_<1)c=requestAnimationFrame(f);else{var E=J2(function(C,O){return fS.apply(void 0,ZU(O).concat([r(1)]))},s);a(to(to(to({},e),t),E))}};return f=r.isStepper?w:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function D1(e){"@babel/helpers - typeof";return D1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D1(e)}var hke=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function pke(e,t){if(e==null)return{};var r=mke(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mke(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function pP(e){return xke(e)||yke(e)||vke(e)||gke()}function gke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vke(e,t){if(e){if(typeof e=="string")return C8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C8(e,t)}}function yke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xke(e){if(Array.isArray(e))return C8(e)}function C8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Du(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eq(Object(r),!0).forEach(function(n){R2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function R2(e,t,r){return t=gQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bke(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gQ(n.key),n)}}function _ke(e,t,r){return t&&bke(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function gQ(e){var t=Ske(e,"string");return D1(t)==="symbol"?t:String(t)}function Ske(e,t){if(D1(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(D1(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P8(e,t)}function P8(e,t){return P8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},P8(e,t)}function Ake(e){var t=kke();return function(){var n=hS(e),a;if(t){var i=hS(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return T8(this,a)}}function T8(e,t){if(t&&(D1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O8(e)}function O8(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kke(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function hS(e){return hS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hS(e)}var ad=function(e){Nke(r,e);var t=Ake(r);function r(n,a){var i;wke(this,r),i=t.call(this,n,a);var s=i.props,o=s.isActive,c=s.attributeName,u=s.from,d=s.to,f=s.steps,h=s.children,m=s.duration;if(i.handleStyleChange=i.handleStyleChange.bind(O8(i)),i.changeStyle=i.changeStyle.bind(O8(i)),!o||m<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),T8(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},T8(i);i.state={style:c?R2({},c,u):u}}else i.state={style:{}};return i}return _ke(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,s=a.canBegin;this.mounted=!0,!(!i||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,s=i.isActive,o=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(o){if(!s){var m={style:c?R2({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(m);return}if(!(D3e(a.to,d)&&a.canBegin&&a.isActive)){var w=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=w||u?f:a.to;if(this.state&&h){var y={style:c?R2({},c,g):g};(c&&h[c]!==g||!c&&h!==g)&&this.setState(y)}this.runAnimation(Du(Du({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,s=a.from,o=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,m=fke(s,o,tke(u),c,this.changeStyle),w=function(){i.stopJSAnimation=m()};this.manager.start([h,d,w,c,f])}},{key:"runStepAnimation",value:function(a){var i=this,s=a.steps,o=a.begin,c=a.onAnimationStart,u=s[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(g,y,b){if(b===0)return g;var _=y.duration,N=y.easing,E=N===void 0?"ease":N,C=y.style,O=y.properties,P=y.onAnimationEnd,M=b>0?s[b-1]:y,L=O||Object.keys(C);if(typeof E=="function"||E==="spring")return[].concat(pP(g),[i.runJSAnimation.bind(i,{from:M.style,to:C,duration:_,easing:E}),_]);var j=KU(L,_,E),T=Du(Du(Du({},M.style),C),{},{transition:j});return[].concat(pP(g),[T,_,P]).filter(z3e)};return this.manager.start([c].concat(pP(s.reduce(m,[d,Math.max(h,o)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=$3e());var i=a.begin,s=a.duration,o=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,m=a.children,w=this.manager;if(this.unSubscribe=w.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var g=o?R2({},o,c):c,y=KU(Object.keys(g),s,u);w.start([d,i,Du(Du({},g),{},{transition:y}),s,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var s=a.duration;a.attributeName,a.easing;var o=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=pke(a,hke),u=S.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!o||u===0||s<=0)return i;var f=function(m){var w=m.props,g=w.style,y=g===void 0?{}:g,b=w.className,_=S.cloneElement(m,Du(Du({},c),{},{style:Du(Du({},y),d),className:b}));return _};return u===1?f(S.Children.only(i)):l("div",{children:S.Children.map(i,function(h){return f(h)})})}}]),r}(S.PureComponent);ad.displayName="Animate";ad.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ad.propTypes={from:wa.oneOfType([wa.object,wa.string]),to:wa.oneOfType([wa.object,wa.string]),attributeName:wa.string,duration:wa.number,begin:wa.number,easing:wa.oneOfType([wa.string,wa.func]),steps:wa.arrayOf(wa.shape({duration:wa.number.isRequired,style:wa.object.isRequired,easing:wa.oneOfType([wa.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),wa.func]),properties:wa.arrayOf("string"),onAnimationEnd:wa.func})),children:wa.oneOfType([wa.node,wa.func]),isActive:wa.bool,canBegin:wa.bool,onAnimationEnd:wa.func,shouldReAnimate:wa.bool,onAnimationStart:wa.func,onAnimationReStart:wa.func};function Gx(e){"@babel/helpers - typeof";return Gx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gx(e)}function Eke(e,t){return Oke(e)||Tke(e,t)||Pke(e,t)||Cke()}function Cke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pke(e,t){if(e){if(typeof e=="string")return tq(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tq(e,t)}}function tq(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Tke(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function Oke(e){if(Array.isArray(e))return e}function rq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rq(Object(r),!0).forEach(function(n){Dke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dke(e,t,r){return t=Ike(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ike(e){var t=Rke(e,"string");return Gx(t)=="symbol"?t:t+""}function Rke(e,t){if(Gx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aq=function(t,r,n,a,i){var s=Math.min(Math.abs(n)/2,Math.abs(a)/2),o=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(s>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=i[h]>s?s:i[h];d="M".concat(t,",").concat(r+o*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+o*f[1])),d+="L ".concat(t+n,",").concat(r+a-o*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-o*f[3])),d+="Z"}else if(s>0&&i===+i&&i>0){var w=Math.min(s,i);d="M ".concat(t,",").concat(r+o*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(u,",").concat(t+c*w,",").concat(r,`
            L `).concat(t+n-c*w,",").concat(r,`
            A `).concat(w,",").concat(w,",0,0,").concat(u,",").concat(t+n,",").concat(r+o*w,`
            L `).concat(t+n,",").concat(r+a-o*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(u,",").concat(t+n-c*w,",").concat(r+a,`
            L `).concat(t+c*w,",").concat(r+a,`
            A `).concat(w,",").concat(w,",0,0,").concat(u,",").concat(t,",").concat(r+a-o*w," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},Mke=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,s=r.y,o=r.width,c=r.height;if(Math.abs(o)>0&&Math.abs(c)>0){var u=Math.min(i,i+o),d=Math.max(i,i+o),f=Math.min(s,s+c),h=Math.max(s,s+c);return n>=u&&n<=d&&a>=f&&a<=h}return!1},Fke={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},HI=function(t){var r=nq(nq({},Fke),t),n=S.useRef(),a=S.useState(-1),i=Eke(a,2),s=i[0],o=i[1];S.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var E=n.current.getTotalLength();E&&o(E)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,m=r.className,w=r.animationEasing,g=r.animationDuration,y=r.animationBegin,b=r.isAnimationActive,_=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var N=yn("recharts-rectangle",m);return _?l(ad,{canBegin:s>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:g,animationEasing:w,isActive:_,children:function(E){var C=E.width,O=E.height,P=E.x,M=E.y;return l(ad,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,isActive:b,easing:w,children:l("path",{...Rr(r,!0),className:N,d:aq(P,M,C,O,h),ref:n})})}}):l("path",{...Rr(r,!0),className:N,d:aq(c,u,d,f,h)})},Lke=["points","className","baseLinePoints","connectNulls"];function Wv(){return Wv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wv.apply(this,arguments)}function jke(e,t){if(e==null)return{};var r=$ke(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $ke(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function iq(e){return zke(e)||qke(e)||Uke(e)||Bke()}function Bke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uke(e,t){if(e){if(typeof e=="string")return D8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D8(e,t)}}function qke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zke(e){if(Array.isArray(e))return D8(e)}function D8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var sq=function(t){return t&&t.x===+t.x&&t.y===+t.y},Wke=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){sq(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),sq(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Z2=function(t,r){var n=Wke(t);r&&(n=[n.reduce(function(i,s){return[].concat(iq(i),iq(s))},[])]);var a=n.map(function(i){return i.reduce(function(s,o,c){return"".concat(s).concat(c===0?"M":"L").concat(o.x,",").concat(o.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},Vke=function(t,r,n){var a=Z2(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Z2(r.reverse(),n).slice(1))},Hke=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,i=t.connectNulls,s=jke(t,Lke);if(!r||!r.length)return null;var o=yn("recharts-polygon",n);if(a&&a.length){var c=s.stroke&&s.stroke!=="none",u=Vke(r,a,i);return tt.createElement("g",{className:o},tt.createElement("path",Wv({},Rr(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:u})),c?tt.createElement("path",Wv({},Rr(s,!0),{fill:"none",d:Z2(r,i)})):null,c?tt.createElement("path",Wv({},Rr(s,!0),{fill:"none",d:Z2(a,i)})):null)}var d=Z2(r,i);return tt.createElement("path",Wv({},Rr(s,!0),{fill:d.slice(-1)==="Z"?s.fill:"none",className:o,d}))};function I8(){return I8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},I8.apply(this,arguments)}var ab=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,s=yn("recharts-dot",i);return r===+r&&n===+n&&a===+a?tt.createElement("circle",I8({},Rr(t,!1),j5(t),{className:s,cx:r,cy:n,r:a})):null};function Yx(e){"@babel/helpers - typeof";return Yx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yx(e)}var Gke=["x","y","top","left","width","height","className"];function R8(){return R8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},R8.apply(this,arguments)}function oq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yke(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oq(Object(r),!0).forEach(function(n){Kke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kke(e,t,r){return t=Xke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xke(e){var t=Jke(e,"string");return Yx(t)=="symbol"?t:t+""}function Jke(e,t){if(Yx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zke(e,t){if(e==null)return{};var r=Qke(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Qke(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var eEe=function(t,r,n,a,i,s){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(s,",").concat(r,"h").concat(n)},tEe=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.top,o=s===void 0?0:s,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,m=h===void 0?0:h,w=t.className,g=Zke(t,Gke),y=Yke({x:n,y:i,top:o,left:u,width:f,height:m},g);return!Xt(n)||!Xt(i)||!Xt(f)||!Xt(m)||!Xt(o)||!Xt(u)?null:tt.createElement("path",R8({},Rr(y,!0),{className:yn("recharts-cross",w),d:eEe(n,i,f,m,o,u)}))},mP,lq;function rEe(){if(lq)return mP;lq=1;var e=yN(),t=OZ(),r=yf();function n(a,i){return a&&a.length?e(a,r(i,2),t):void 0}return mP=n,mP}var nEe=rEe();const aEe=ma(nEe);var gP,cq;function iEe(){if(cq)return gP;cq=1;var e=yN(),t=yf(),r=DZ();function n(a,i){return a&&a.length?e(a,t(i,2),r):void 0}return gP=n,gP}var sEe=iEe();const oEe=ma(sEe);var lEe=["cx","cy","angle","ticks","axisLine"],cEe=["ticks","tick","angle","tickFormatter","stroke"];function I1(e){"@babel/helpers - typeof";return I1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I1(e)}function uq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uq(Object(r),!0).forEach(function(n){_N(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dq(e,t){if(e==null)return{};var r=uEe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uEe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function dEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yQ(n.key),n)}}function fEe(e,t,r){return t&&fq(e.prototype,t),r&&fq(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function hEe(e,t,r){return t=pS(t),pEe(e,vQ()?Reflect.construct(t,r||[],pS(e).constructor):t.apply(e,r))}function pEe(e,t){if(t&&(I1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mEe(e)}function mEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vQ=function(){return!!e})()}function pS(e){return pS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pS(e)}function gEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M8(e,t)}function M8(e,t){return M8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},M8(e,t)}function _N(e,t,r){return t=yQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yQ(e){var t=vEe(e,"string");return I1(t)=="symbol"?t:t+""}function vEe(e,t){if(I1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(I1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var SN=function(e){function t(){return dEe(this,t),hEe(this,t,arguments)}return gEe(t,e),fEe(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,s=i.angle,o=i.cx,c=i.cy;return qa(o,c,a,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.angle,o=n.ticks,c=aEe(o,function(d){return d.coordinate||0}),u=oEe(o,function(d){return d.coordinate||0});return{cx:a,cy:i,startAngle:s,endAngle:s,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.angle,o=n.ticks,c=n.axisLine,u=dq(n,lEe),d=o.reduce(function(w,g){return[Math.min(w[0],g.coordinate),Math.max(w[1],g.coordinate)]},[1/0,-1/0]),f=qa(a,i,d[0],s),h=qa(a,i,d[1],s),m=_0(_0(_0({},Rr(u,!1)),{},{fill:"none"},Rr(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return l("line",{className:"recharts-polar-radius-axis-line",...m})}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,s=a.tick,o=a.angle,c=a.tickFormatter,u=a.stroke,d=dq(a,cEe),f=this.getTickTextAnchor(),h=Rr(d,!1),m=Rr(s,!1),w=i.map(function(g,y){var b=n.getTickValueCoord(g),_=_0(_0(_0(_0({textAnchor:f,transform:"rotate(".concat(90-o,", ").concat(b.x,", ").concat(b.y,")")},h),{},{stroke:"none",fill:u},m),{},{index:y},b),{},{payload:g});return l(Ln,{className:yn("recharts-polar-radius-axis-tick",sQ(s)),...ag(n.props,g,y),children:t.renderTickItem(s,_,c?c(g.value,y):g.value)},"tick-".concat(g.coordinate))});return l(Ln,{className:"recharts-polar-radius-axis-ticks",children:w})}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,s=n.tick;return!a||!a.length?null:x(Ln,{className:yn("recharts-polar-radius-axis",this.props.className),children:[i&&this.renderAxisLine(),s&&this.renderTicks(),$s.renderCallByParent(this.props,this.getViewBox())]})}}],[{key:"renderTickItem",value:function(n,a,i){var s;return tt.isValidElement(n)?s=tt.cloneElement(n,a):tn(n)?s=n(a):s=l(ig,{...a,className:"recharts-polar-radius-axis-tick-value",children:i}),s}}])}(S.PureComponent);_N(SN,"displayName","PolarRadiusAxis");_N(SN,"axisType","radiusAxis");_N(SN,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function R1(e){"@babel/helpers - typeof";return R1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R1(e)}function hq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function S0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hq(Object(r),!0).forEach(function(n){NN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wQ(n.key),n)}}function xEe(e,t,r){return t&&pq(e.prototype,t),r&&pq(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function wEe(e,t,r){return t=mS(t),bEe(e,xQ()?Reflect.construct(t,r||[],mS(e).constructor):t.apply(e,r))}function bEe(e,t){if(t&&(R1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Ee(e)}function _Ee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xQ=function(){return!!e})()}function mS(e){return mS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mS(e)}function SEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F8(e,t)}function F8(e,t){return F8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},F8(e,t)}function NN(e,t,r){return t=wQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wQ(e){var t=NEe(e,"string");return R1(t)=="symbol"?t:t+""}function NEe(e,t){if(R1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(R1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var AEe=Math.PI/180,kEe=1e-5,AN=function(e){function t(){return yEe(this,t),wEe(this,t,arguments)}return SEe(t,e),xEe(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,s=a.cy,o=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=qa(i,s,o,n.coordinate),h=qa(i,s,o+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*AEe),s;return i>kEe?s=a==="outer"?"start":"end":i<-1e-5?s=a==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.radius,o=n.axisLine,c=n.axisLineType,u=S0(S0({},Rr(this.props,!1)),{},{fill:"none"},Rr(o,!1));if(c==="circle")return l(ab,{className:"recharts-polar-angle-axis-line",...u,cx:a,cy:i,r:s});var d=this.props.ticks,f=d.map(function(h){return qa(a,i,s,h.coordinate)});return l(Hke,{className:"recharts-polar-angle-axis-line",...u,points:f})}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,s=a.tick,o=a.tickLine,c=a.tickFormatter,u=a.stroke,d=Rr(this.props,!1),f=Rr(s,!1),h=S0(S0({},d),{},{fill:"none"},Rr(o,!1)),m=i.map(function(w,g){var y=n.getTickLineCoord(w),b=n.getTickTextAnchor(w),_=S0(S0(S0({textAnchor:b},d),{},{stroke:"none",fill:u},f),{},{index:g,payload:w,x:y.x2,y:y.y2});return x(Ln,{className:yn("recharts-polar-angle-axis-tick",sQ(s)),...ag(n.props,w,g),children:[o&&l("line",{className:"recharts-polar-angle-axis-tick-line",...h,...y}),s&&t.renderTickItem(s,_,c?c(w.value,g):w.value)]},"tick-".concat(w.coordinate))});return l(Ln,{className:"recharts-polar-angle-axis-ticks",children:m})}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,s=n.axisLine;return i<=0||!a||!a.length?null:x(Ln,{className:yn("recharts-polar-angle-axis",this.props.className),children:[s&&this.renderAxisLine(),this.renderTicks()]})}}],[{key:"renderTickItem",value:function(n,a,i){var s;return tt.isValidElement(n)?s=tt.cloneElement(n,a):tn(n)?s=n(a):s=l(ig,{...a,className:"recharts-polar-angle-axis-tick-value",children:i}),s}}])}(S.PureComponent);NN(AN,"displayName","PolarAngleAxis");NN(AN,"axisType","angleAxis");NN(AN,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var vP,mq;function EEe(){if(mq)return vP;mq=1;var e=TJ(),t=e(Object.getPrototypeOf,Object);return vP=t,vP}var yP,gq;function CEe(){if(gq)return yP;gq=1;var e=Th(),t=EEe(),r=Oh(),n="[object Object]",a=Function.prototype,i=Object.prototype,s=a.toString,o=i.hasOwnProperty,c=s.call(Object);function u(d){if(!r(d)||e(d)!=n)return!1;var f=t(d);if(f===null)return!0;var h=o.call(f,"constructor")&&f.constructor;return typeof h=="function"&&h instanceof h&&s.call(h)==c}return yP=u,yP}var PEe=CEe();const TEe=ma(PEe);var xP,vq;function OEe(){if(vq)return xP;vq=1;var e=Th(),t=Oh(),r="[object Boolean]";function n(a){return a===!0||a===!1||t(a)&&e(a)==r}return xP=n,xP}var DEe=OEe();const IEe=ma(DEe);function Kx(e){"@babel/helpers - typeof";return Kx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kx(e)}function REe(e,t){return jEe(e)||LEe(e,t)||FEe(e,t)||MEe()}function MEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FEe(e,t){if(e){if(typeof e=="string")return yq(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yq(e,t)}}function yq(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function LEe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function jEe(e){if(Array.isArray(e))return e}function xq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xq(Object(r),!0).forEach(function(n){$Ee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $Ee(e,t,r){return t=BEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BEe(e){var t=UEe(e,"string");return Kx(t)=="symbol"?t:t+""}function UEe(e,t){if(Kx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bq=function(t,r,n,a,i){var s=n-a,o;return o="M ".concat(t,",").concat(r),o+="L ".concat(t+n,",").concat(r),o+="L ".concat(t+n-s/2,",").concat(r+i),o+="L ".concat(t+n-s/2-a,",").concat(r+i),o+="L ".concat(t,",").concat(r," Z"),o},qEe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},zEe=function(t){var r=wq(wq({},qEe),t),n=S.useRef(),a=S.useState(-1),i=REe(a,2),s=i[0],o=i[1];S.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var N=n.current.getTotalLength();N&&o(N)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,m=r.className,w=r.animationEasing,g=r.animationDuration,y=r.animationBegin,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var _=yn("recharts-trapezoid",m);return b?l(ad,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:g,animationEasing:w,isActive:b,children:function(N){var E=N.upperWidth,C=N.lowerWidth,O=N.height,P=N.x,M=N.y;return l(ad,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,easing:w,children:l("path",{...Rr(r,!0),className:_,d:bq(P,M,E,C,O),ref:n})})}}):l("g",{children:l("path",{...Rr(r,!0),className:_,d:bq(c,u,d,f,h)})})},WEe=["option","shapeType","propTransformer","activeClassName","isActive"];function Xx(e){"@babel/helpers - typeof";return Xx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xx(e)}function VEe(e,t){if(e==null)return{};var r=HEe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function HEe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function _q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_q(Object(r),!0).forEach(function(n){GEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_q(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GEe(e,t,r){return t=YEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YEe(e){var t=KEe(e,"string");return Xx(t)=="symbol"?t:t+""}function KEe(e,t){if(Xx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XEe(e,t){return gS(gS({},t),e)}function JEe(e,t){return e==="symbols"}function Sq(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return l(HI,{...r});case"trapezoid":return l(zEe,{...r});case"sector":return l(cQ,{...r});case"symbols":if(JEe(t))return l(dI,{...r});break;default:return null}}function ZEe(e){return S.isValidElement(e)?e.props:e}function bQ(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?XEe:n,i=e.activeClassName,s=i===void 0?"recharts-active-shape":i,o=e.isActive,c=VEe(e,WEe),u;if(S.isValidElement(t))u=S.cloneElement(t,gS(gS({},c),ZEe(t)));else if(tn(t))u=t(c);else if(TEe(t)&&!IEe(t)){var d=a(t,c);u=l(Sq,{shapeType:r,elementProps:d})}else{var f=c;u=l(Sq,{shapeType:r,elementProps:f})}return o?l(Ln,{className:s,children:u}):u}function kN(e,t){return t!=null&&"trapezoids"in e.props}function EN(e,t){return t!=null&&"sectors"in e.props}function Jx(e,t){return t!=null&&"points"in e.props}function QEe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function eCe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function tCe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function rCe(e,t){var r;return kN(e,t)?r=QEe:EN(e,t)?r=eCe:Jx(e,t)&&(r=tCe),r}function nCe(e,t){var r;return kN(e,t)?r="trapezoids":EN(e,t)?r="sectors":Jx(e,t)&&(r="points"),r}function aCe(e,t){if(kN(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(EN(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Jx(e,t)?t.payload:{}}function iCe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=nCe(r,t),i=aCe(r,t),s=n.filter(function(c,u){var d=sg(i,c),f=r.props[a].filter(function(w){var g=rCe(r,t);return g(w,t)}),h=r.props[a].indexOf(f[f.length-1]),m=u===h;return d&&m}),o=n.indexOf(s[s.length-1]);return o}var o5;function M1(e){"@babel/helpers - typeof";return M1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M1(e)}function Nq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $a(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nq(Object(r),!0).forEach(function(n){Zc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Aq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SQ(n.key),n)}}function oCe(e,t,r){return t&&Aq(e.prototype,t),r&&Aq(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function lCe(e,t,r){return t=vS(t),cCe(e,_Q()?Reflect.construct(t,r||[],vS(e).constructor):t.apply(e,r))}function cCe(e,t){if(t&&(M1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uCe(e)}function uCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _Q(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_Q=function(){return!!e})()}function vS(e){return vS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vS(e)}function dCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L8(e,t)}function L8(e,t){return L8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},L8(e,t)}function Zc(e,t,r){return t=SQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SQ(e){var t=fCe(e,"string");return M1(t)=="symbol"?t:t+""}function fCe(e,t){if(M1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(M1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var $o=function(e){function t(r){var n;return sCe(this,t),n=lCe(this,t,[r]),Zc(n,"pieRef",null),Zc(n,"sectorRefs",[]),Zc(n,"id",Pg("recharts-pie-")),Zc(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),tn(a)&&a()}),Zc(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),tn(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return dCe(t,e),oCe(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.label,o=i.labelLine,c=i.dataKey,u=i.valueKey,d=Rr(this.props,!1),f=Rr(s,!1),h=Rr(o,!1),m=s&&s.offsetRadius||20,w=n.map(function(g,y){var b=(g.startAngle+g.endAngle)/2,_=qa(g.cx,g.cy,g.outerRadius+m,b),N=$a($a($a($a({},d),g),{},{stroke:"none"},f),{},{index:y,textAnchor:t.getTextAnchor(_.x,g.cx)},_),E=$a($a($a($a({},d),g),{},{fill:"none",stroke:g.fill},h),{},{index:y,points:[qa(g.cx,g.cy,g.outerRadius,b),_]}),C=c;return vn(c)&&vn(u)?C="value":vn(c)&&(C=u),x(Ln,{children:[o&&t.renderLabelLineItem(o,E,"line"),t.renderLabelItem(s,N,Yi(g,C))]},"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(y))});return l(Ln,{className:"recharts-pie-labels",children:w})}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,s=i.activeShape,o=i.blendStroke,c=i.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),h=c&&a.hasActiveIndex()?c:null,m=f?s:h,w=$a($a({},u),{},{stroke:o?u.fill:u.stroke,tabIndex:-1});return S.createElement(Ln,{ref:function(y){y&&!a.sectorRefs.includes(y)&&a.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector",...ag(a.props,u,d),key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)},l(bQ,{option:m,isActive:f,shapeType:"sector",...w}))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,s=a.isAnimationActive,o=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,h=f.prevSectors,m=f.prevIsAnimationActive;return l(ad,{begin:o,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd,children:function(w){var g=w.t,y=[],b=i&&i[0],_=b.startAngle;return i.forEach(function(N,E){var C=h&&h[E],O=E>0?xc(N,"paddingAngle",0):0;if(C){var P=xs(C.endAngle-C.startAngle,N.endAngle-N.startAngle),M=$a($a({},N),{},{startAngle:_+O,endAngle:_+P(g)+O});y.push(M),_=M.endAngle}else{var L=N.endAngle,j=N.startAngle,T=xs(0,L-j),I=T(g),B=$a($a({},N),{},{startAngle:_+O,endAngle:_+I+O});y.push(B),_=B.endAngle}}),l(Ln,{children:n.renderSectorsStatically(y)})}},"pie-".concat(d,"-").concat(m))}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var s=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[s].focus(),a.setState({sectorToFocus:s});break}case"ArrowRight":{var o=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,s=this.state.prevSectors;return i&&a&&a.length&&(!s||!sg(s,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,s=a.sectors,o=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,h=a.outerRadius,m=a.isAnimationActive,w=this.state.isAnimationFinished;if(i||!s||!s.length||!Xt(u)||!Xt(d)||!Xt(f)||!Xt(h))return null;var g=yn("recharts-pie",o);return x(Ln,{tabIndex:this.props.rootTabIndex,className:g,ref:function(b){n.pieRef=b},children:[this.renderSectors(),c&&this.renderLabels(s),$s.renderCallByParent(this.props,null,!1),(!m||w)&&nf.renderCallByParent(this.props,s,!1)]})}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(tt.isValidElement(n))return tt.cloneElement(n,a);if(tn(n))return n(a);var s=yn("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return S.createElement(V0,{...a,key:i,type:"linear",className:s})}},{key:"renderLabelItem",value:function(n,a,i){if(tt.isValidElement(n))return tt.cloneElement(n,a);var s=i;if(tn(n)&&(s=n(a),tt.isValidElement(s)))return s;var o=yn("recharts-pie-label-text",typeof n!="boolean"&&!tn(n)?n.className:"");return l(ig,{...a,alignmentBaseline:"middle",className:o,children:s})}}])}(S.PureComponent);o5=$o;Zc($o,"displayName","Pie");Zc($o,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Rm.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Zc($o,"parseDeltaAngle",function(e,t){var r=cl(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Zc($o,"getRealPieData",function(e){var t=e.data,r=e.children,n=Rr(e,!1),a=wc(r,Jc);return t&&t.length?t.map(function(i,s){return $a($a($a({payload:i},n),i),a&&a[s]&&a[s].props)}):a&&a.length?a.map(function(i){return $a($a({},n),i.props)}):[]});Zc($o,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,s=iQ(a,i),o=n+ul(e.cx,a,a/2),c=r+ul(e.cy,i,i/2),u=ul(e.innerRadius,s,0),d=ul(e.outerRadius,s,s*.8),f=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:o,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Zc($o,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?$a($a({},t.type.defaultProps),t.props):t.props,a=o5.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,s=n.startAngle,o=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,m=Math.abs(n.minAngle),w=o5.parseCoordinateOfPie(n,r),g=o5.parseDeltaAngle(s,o),y=Math.abs(g),b=u;vn(u)&&vn(f)?(Yu(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):vn(u)&&(Yu(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=f);var _=a.filter(function(M){return Yi(M,b,0)!==0}).length,N=(y>=360?_:_-1)*c,E=y-_*m-N,C=a.reduce(function(M,L){var j=Yi(L,b,0);return M+(Xt(j)?j:0)},0),O;if(C>0){var P;O=a.map(function(M,L){var j=Yi(M,b,0),T=Yi(M,d,L),I=(Xt(j)?j:0)/C,B;L?B=P.endAngle+cl(g)*c*(j!==0?1:0):B=s;var G=B+cl(g)*((j!==0?m:0)+I*E),Z=(B+G)/2,re=(w.innerRadius+w.outerRadius)/2,W=[{name:T,value:j,payload:M,dataKey:b,type:h}],z=qa(w.cx,w.cy,re,Z);return P=$a($a($a({percent:I,cornerRadius:i,name:T,tooltipPayload:W,midAngle:Z,middleRadius:re,tooltipPosition:z},M),w),{},{value:Yi(M,b),startAngle:B,endAngle:G,payload:M,paddingAngle:cl(g)*c}),P})}return $a($a({},w),{},{sectors:O,data:a})});var wP,kq;function hCe(){if(kq)return wP;kq=1;var e=Math.ceil,t=Math.max;function r(n,a,i,s){for(var o=-1,c=t(e((a-n)/(i||1)),0),u=Array(c);c--;)u[s?c:++o]=n,n+=i;return u}return wP=r,wP}var bP,Eq;function NQ(){if(Eq)return bP;Eq=1;var e=HJ(),t=1/0,r=17976931348623157e292;function n(a){if(!a)return a===0?a:0;if(a=e(a),a===t||a===-1/0){var i=a<0?-1:1;return i*r}return a===a?a:0}return bP=n,bP}var _P,Cq;function pCe(){if(Cq)return _P;Cq=1;var e=hCe(),t=dN(),r=NQ();function n(a){return function(i,s,o){return o&&typeof o!="number"&&t(i,s,o)&&(s=o=void 0),i=r(i),s===void 0?(s=i,i=0):s=r(s),o=o===void 0?i<s?1:-1:r(o),e(i,s,o,a)}}return _P=n,_P}var SP,Pq;function mCe(){if(Pq)return SP;Pq=1;var e=pCe(),t=e();return SP=t,SP}var gCe=mCe();const yS=ma(gCe);function Zx(e){"@babel/helpers - typeof";return Zx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zx(e)}function Tq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Oq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tq(Object(r),!0).forEach(function(n){AQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AQ(e,t,r){return t=vCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vCe(e){var t=yCe(e,"string");return Zx(t)=="symbol"?t:t+""}function yCe(e,t){if(Zx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xCe=["Webkit","Moz","O","ms"],wCe=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=xCe.reduce(function(i,s){return Oq(Oq({},i),{},AQ({},s+n,r))},{});return a[t]=r,a};function F1(e){"@babel/helpers - typeof";return F1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F1(e)}function Dq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function NP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dq(Object(r),!0).forEach(function(n){ic(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Iq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,EQ(n.key),n)}}function _Ce(e,t,r){return t&&Iq(e.prototype,t),r&&Iq(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function SCe(e,t,r){return t=xS(t),NCe(e,kQ()?Reflect.construct(t,r||[],xS(e).constructor):t.apply(e,r))}function NCe(e,t){if(t&&(F1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ACe(e)}function ACe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kQ=function(){return!!e})()}function xS(e){return xS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xS(e)}function kCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&j8(e,t)}function j8(e,t){return j8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},j8(e,t)}function ic(e,t,r){return t=EQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EQ(e){var t=ECe(e,"string");return F1(t)=="symbol"?t:t+""}function ECe(e,t){if(F1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(F1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var CCe=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,s=t.width,o=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=K2().domain(yS(0,c)).range([i,i+s-o]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},Rq=function(t){return t.changedTouches&&!!t.changedTouches.length},L1=function(e){function t(r){var n;return bCe(this,t),n=SCe(this,t,[r]),ic(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),ic(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),ic(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,s=a.onDragEnd,o=a.startIndex;s==null||s({endIndex:i,startIndex:o})}),n.detachDragEndListener()}),ic(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),ic(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),ic(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),ic(n,"handleSlideDragStart",function(a){var i=Rq(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return kCe(t,e),_Ce(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,s=this.state.scaleValues,o=this.props,c=o.gap,u=o.data,d=u.length-1,f=Math.min(a,i),h=Math.max(a,i),m=t.getIndexInRange(s,f),w=t.getIndexInRange(s,h);return{startIndex:m-m%c,endIndex:w===d?d:w-w%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,s=a.tickFormatter,o=a.dataKey,c=Yi(i[n],o,n);return tn(s)?s(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,s=a.startX,o=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,m=c.endIndex,w=c.onChange,g=n.pageX-i;g>0?g=Math.min(g,u+d-f-o,u+d-f-s):g<0&&(g=Math.max(g,u-s,u-o));var y=this.getIndex({startX:s+g,endX:o+g});(y.startIndex!==h||y.endIndex!==m)&&w&&w(y),this.setState({startX:s+g,endX:o+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=Rq(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,s=a.movingTravellerId,o=a.endX,c=a.startX,u=this.state[s],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,w=d.onChange,g=d.gap,y=d.data,b={startX:this.state.startX,endX:this.state.endX},_=n.pageX-i;_>0?_=Math.min(_,f+h-m-u):_<0&&(_=Math.max(_,f-u)),b[s]=u+_;var N=this.getIndex(b),E=N.startIndex,C=N.endIndex,O=function(){var M=y.length-1;return s==="startX"&&(o>c?E%g===0:C%g===0)||o<c&&C===M||s==="endX"&&(o>c?C%g===0:E%g===0)||o>c&&C===M};this.setState(ic(ic({},s,u+_),"brushMoveStartX",n.pageX),function(){w&&O()&&w(N)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,s=this.state,o=s.scaleValues,c=s.startX,u=s.endX,d=this.state[a],f=o.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=o.length)){var m=o[h];a==="startX"&&m>=u||a==="endX"&&m<=c||this.setState(ic({},a,m),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,c=n.fill,u=n.stroke;return l("rect",{stroke:u,fill:c,x:a,y:i,width:s,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,c=n.data,u=n.children,d=n.padding,f=S.Children.only(u);return f?tt.cloneElement(f,{x:a,y:i,width:s,height:o,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,s,o=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,m=c.ariaLabel,w=c.data,g=c.startIndex,y=c.endIndex,b=Math.max(n,this.props.x),_=NP(NP({},Rr(this.props,!1)),{},{x:b,y:u,width:d,height:f}),N=m||"Min value: ".concat((i=w[g])===null||i===void 0?void 0:i.name,", Max value: ").concat((s=w[y])===null||s===void 0?void 0:s.name);return l(Ln,{tabIndex:0,role:"slider","aria-label":N,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(C){["ArrowLeft","ArrowRight"].includes(C.key)&&(C.preventDefault(),C.stopPropagation(),o.handleTravellerMoveKeyboard(C.key==="ArrowRight"?1:-1,a))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"},children:t.renderTraveller(h,_)})}},{key:"renderSlide",value:function(n,a){var i=this.props,s=i.y,o=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return l("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:s,width:f,height:o})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,s=n.y,o=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,m=5,w={pointerEvents:"none",fill:u};return x(Ln,{className:"recharts-brush-texts",children:[l(ig,{textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:s+o/2,...w,children:this.getTextOfTick(a)}),l(ig,{textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+m,y:s+o/2,...w,children:this.getTextOfTick(i)})]})}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,s=n.children,o=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,m=h.startX,w=h.endX,g=h.isTextActive,y=h.isSlideMoving,b=h.isTravellerMoving,_=h.isTravellerFocused;if(!a||!a.length||!Xt(o)||!Xt(c)||!Xt(u)||!Xt(d)||u<=0||d<=0)return null;var N=yn("recharts-brush",i),E=tt.Children.count(s)===1,C=wCe("userSelect","none");return x(Ln,{className:N,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C,children:[this.renderBackground(),E&&this.renderPanorama(),this.renderSlide(m,w),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(w,"endX"),(g||y||b||_||f)&&this.renderText()]})}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,s=n.width,o=n.height,c=n.stroke,u=Math.floor(i+o/2)-1;return x(Nr,{children:[l("rect",{x:a,y:i,width:s,height:o,fill:c,stroke:"none"}),l("line",{x1:a+1,y1:u,x2:a+s-1,y2:u,fill:"none",stroke:"#fff"}),l("line",{x1:a+1,y1:u+2,x2:a+s-1,y2:u+2,fill:"none",stroke:"#fff"})]})}},{key:"renderTraveller",value:function(n,a){var i;return tt.isValidElement(n)?i=tt.cloneElement(n,a):tn(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,s=n.width,o=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return NP({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:o,prevWidth:s},i&&i.length?CCe({data:i,width:s,x:o,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(s!==a.prevWidth||o!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([o,o+s-c]);var h=a.scale.domain().map(function(m){return a.scale(m)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:o,prevWidth:s,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,s=0,o=i-1;o-s>1;){var c=Math.floor((s+o)/2);n[c]>a?o=c:s=c}return a>=n[o]?o:s}}])}(S.PureComponent);ic(L1,"displayName","Brush");ic(L1,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var AP,Mq;function PCe(){if(Mq)return AP;Mq=1;var e=yI();function t(r,n){var a;return e(r,function(i,s,o){return a=n(i,s,o),!a}),!!a}return AP=t,AP}var kP,Fq;function TCe(){if(Fq)return kP;Fq=1;var e=SJ(),t=yf(),r=PCe(),n=Wl(),a=dN();function i(s,o,c){var u=n(s)?e:r;return c&&a(s,o,c)&&(o=void 0),u(s,t(o,3))}return kP=i,kP}var OCe=TCe();const DCe=ma(OCe);var af=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},EP,Lq;function ICe(){if(Lq)return EP;Lq=1;var e=UJ();function t(r,n,a){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return EP=t,EP}var CP,jq;function RCe(){if(jq)return CP;jq=1;var e=ICe(),t=$J(),r=yf();function n(a,i){var s={};return i=r(i,3),t(a,function(o,c,u){e(s,c,i(o,c,u))}),s}return CP=n,CP}var MCe=RCe();const FCe=ma(MCe);var PP,$q;function LCe(){if($q)return PP;$q=1;function e(t,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(!r(t[n],n,t))return!1;return!0}return PP=e,PP}var TP,Bq;function jCe(){if(Bq)return TP;Bq=1;var e=yI();function t(r,n){var a=!0;return e(r,function(i,s,o){return a=!!n(i,s,o),a}),a}return TP=t,TP}var OP,Uq;function $Ce(){if(Uq)return OP;Uq=1;var e=LCe(),t=jCe(),r=yf(),n=Wl(),a=dN();function i(s,o,c){var u=n(s)?e:t;return c&&a(s,o,c)&&(o=void 0),u(s,r(o,3))}return OP=i,OP}var BCe=$Ce();const CQ=ma(BCe);var UCe=["x","y"];function Qx(e){"@babel/helpers - typeof";return Qx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qx(e)}function $8(){return $8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$8.apply(this,arguments)}function qq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function y2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qq(Object(r),!0).forEach(function(n){qCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qCe(e,t,r){return t=zCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zCe(e){var t=WCe(e,"string");return Qx(t)=="symbol"?t:t+""}function WCe(e,t){if(Qx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VCe(e,t){if(e==null)return{};var r=HCe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function HCe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function GCe(e,t){var r=e.x,n=e.y,a=VCe(e,UCe),i="".concat(r),s=parseInt(i,10),o="".concat(n),c=parseInt(o,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return y2(y2(y2(y2(y2({},t),a),s?{x:s}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function zq(e){return tt.createElement(bQ,$8({shapeType:"rectangle",propTransformer:GCe,activeClassName:"recharts-active-bar"},e))}var YCe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=typeof n=="number";return i?t(n,a):(i||lg(),r)}},KCe=["value","background"],PQ;function j1(e){"@babel/helpers - typeof";return j1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j1(e)}function XCe(e,t){if(e==null)return{};var r=JCe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function JCe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Wq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function os(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wq(Object(r),!0).forEach(function(n){Xp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,OQ(n.key),n)}}function QCe(e,t,r){return t&&Vq(e.prototype,t),r&&Vq(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ePe(e,t,r){return t=wS(t),tPe(e,TQ()?Reflect.construct(t,r||[],wS(e).constructor):t.apply(e,r))}function tPe(e,t){if(t&&(j1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rPe(e)}function rPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TQ=function(){return!!e})()}function wS(e){return wS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wS(e)}function nPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B8(e,t)}function B8(e,t){return B8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},B8(e,t)}function Xp(e,t,r){return t=OQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OQ(e){var t=aPe(e,"string");return j1(t)=="symbol"?t:t+""}function aPe(e,t){if(j1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(j1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var au=function(e){function t(){var r;ZCe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=ePe(this,t,[].concat(a)),Xp(r,"state",{isAnimationFinished:!1}),Xp(r,"id",Pg("recharts-bar-")),Xp(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),Xp(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return nPe(t,e),QCe(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,s=i.shape,o=i.dataKey,c=i.activeIndex,u=i.activeBar,d=Rr(this.props,!1);return n&&n.map(function(f,h){var m=h===c,w=m?u:s,g=os(os(os({},d),f),{},{isActive:m,option:w,index:h,dataKey:o,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return S.createElement(Ln,{className:"recharts-bar-rectangle",...ag(a.props,f,h),key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)},l(zq,{...g}))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,s=a.layout,o=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return l(ad,{begin:c,duration:u,isActive:o,easing:d,from:{t:0},to:{t:1},onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart,children:function(m){var w=m.t,g=i.map(function(y,b){var _=h&&h[b];if(_){var N=xs(_.x,y.x),E=xs(_.y,y.y),C=xs(_.width,y.width),O=xs(_.height,y.height);return os(os({},y),{},{x:N(w),y:E(w),width:C(w),height:O(w)})}if(s==="horizontal"){var P=xs(0,y.height),M=P(w);return os(os({},y),{},{y:y.y+y.height-M,height:M})}var L=xs(0,y.width),j=L(w);return os(os({},y),{},{width:j})});return l(Ln,{children:n.renderRectanglesStatically(g)})}},"bar-".concat(f))}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,s=this.state.prevData;return i&&a&&a.length&&(!s||!sg(s,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,s=a.dataKey,o=a.activeIndex,c=Rr(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=XCe(u,KCe);if(!f)return null;var m=os(os(os(os(os({},h),{},{fill:"#eee"},f),c),ag(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:d,className:"recharts-bar-background-rectangle"});return l(zq,{option:n.props.background,isActive:d===o,...m},"background-bar-".concat(d))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.data,o=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=wc(d,nb);if(!f)return null;var h=u==="vertical"?s[0].height/2:s[0].width/2,m=function(y,b){var _=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:_,errorVal:Yi(y,b)}},w={clipPath:n?"url(#clipPath-".concat(a,")"):null};return l(Ln,{...w,children:f.map(function(g){return tt.cloneElement(g,{key:"error-bar-".concat(a,"-").concat(g.props.dataKey),data:s,xAxis:o,yAxis:c,layout:u,offset:h,dataPointFormatter:m})})})}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,s=n.className,o=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,m=n.isAnimationActive,w=n.background,g=n.id;if(a||!i||!i.length)return null;var y=this.state.isAnimationFinished,b=yn("recharts-bar",s),_=o&&o.allowDataOverflow,N=c&&c.allowDataOverflow,E=_||N,C=vn(g)?this.id:g;return x(Ln,{className:b,children:[_||N?l("defs",{children:l("clipPath",{id:"clipPath-".concat(C),children:l("rect",{x:_?u:u-f/2,y:N?d:d-h/2,width:_?f:f*2,height:N?h:h*2})})}):null,x(Ln,{className:"recharts-bar-rectangles",clipPath:E?"url(#clipPath-".concat(C,")"):null,children:[w?this.renderBackground():null,this.renderRectangles()]}),this.renderErrorBar(E,C),(!m||y)&&nf.renderCallByParent(this.props,i)]})}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(S.PureComponent);PQ=au;Xp(au,"displayName","Bar");Xp(au,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Rm.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Xp(au,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,s=e.yAxis,o=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=DNe(n,r);if(!m)return null;var w=t.layout,g=r.type.defaultProps,y=g!==void 0?os(os({},g),r.props):r.props,b=y.dataKey,_=y.children,N=y.minPointSize,E=w==="horizontal"?s:i,C=u?E.scale.domain():null,O=$Ne({numericAxis:E}),P=wc(_,Jc),M=f.map(function(L,j){var T,I,B,G,Z,re;u?T=INe(u[d+j],C):(T=Yi(L,b),Array.isArray(T)||(T=[O,T]));var W=YCe(N,PQ.defaultProps.minPointSize)(T[1],j);if(w==="horizontal"){var z,U=[s.scale(T[0]),s.scale(T[1])],Y=U[0],Q=U[1];I=vU({axis:i,ticks:o,bandSize:a,offset:m.offset,entry:L,index:j}),B=(z=Q??Y)!==null&&z!==void 0?z:void 0,G=m.size;var D=Y-Q;if(Z=Number.isNaN(D)?0:D,re={x:I,y:s.y,width:G,height:s.height},Math.abs(W)>0&&Math.abs(Z)<Math.abs(W)){var K=cl(Z||W)*(Math.abs(W)-Math.abs(Z));B-=K,Z+=K}}else{var J=[i.scale(T[0]),i.scale(T[1])],ne=J[0],ie=J[1];if(I=ne,B=vU({axis:s,ticks:c,bandSize:a,offset:m.offset,entry:L,index:j}),G=ie-ne,Z=m.size,re={x:i.x,y:B,width:i.width,height:Z},Math.abs(W)>0&&Math.abs(G)<Math.abs(W)){var oe=cl(G||W)*(Math.abs(W)-Math.abs(G));G+=oe}}return os(os(os({},L),{},{x:I,y:B,width:G,height:Z,value:u?T:T[1],payload:L,background:re},P&&P[j]&&P[j].props),{},{tooltipPayload:[nQ(r,L)],tooltipPosition:{x:I+G/2,y:B+Z/2}})});return os({data:M,layout:w},h)});function ew(e){"@babel/helpers - typeof";return ew=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ew(e)}function iPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DQ(n.key),n)}}function sPe(e,t,r){return t&&Hq(e.prototype,t),r&&Hq(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $u(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gq(Object(r),!0).forEach(function(n){CN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CN(e,t,r){return t=DQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DQ(e){var t=oPe(e,"string");return ew(t)=="symbol"?t:t+""}function oPe(e,t){if(ew(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ew(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GI=function(t,r,n,a,i){var s=t.width,o=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},h=!!sc(u,au);return d.reduce(function(m,w){var g=r[w],y=g.orientation,b=g.domain,_=g.padding,N=_===void 0?{}:_,E=g.mirror,C=g.reversed,O="".concat(y).concat(E?"Mirror":""),P,M,L,j,T;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var I=b[1]-b[0],B=1/0,G=g.categoricalDomain.sort(b2e);if(G.forEach(function(J,ne){ne>0&&(B=Math.min((J||0)-(G[ne-1]||0),B))}),Number.isFinite(B)){var Z=B/I,re=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(P=Z*re/2),g.padding==="no-gap"){var W=ul(t.barCategoryGap,Z*re),z=Z*re/2;P=z-W-(z-W)/re*W}}}a==="xAxis"?M=[n.left+(N.left||0)+(P||0),n.left+n.width-(N.right||0)-(P||0)]:a==="yAxis"?M=c==="horizontal"?[n.top+n.height-(N.bottom||0),n.top+(N.top||0)]:[n.top+(N.top||0)+(P||0),n.top+n.height-(N.bottom||0)-(P||0)]:M=g.range,C&&(M=[M[1],M[0]]);var U=QZ(g,i,h),Y=U.scale,Q=U.realScaleType;Y.domain(b).range(M),eQ(Y);var D=tQ(Y,$u($u({},g),{},{realScaleType:Q}));a==="xAxis"?(T=y==="top"&&!E||y==="bottom"&&E,L=n.left,j=f[O]-T*g.height):a==="yAxis"&&(T=y==="left"&&!E||y==="right"&&E,L=f[O]-T*g.width,j=n.top);var K=$u($u($u({},g),D),{},{realScaleType:Q,x:L,y:j,scale:Y,width:a==="xAxis"?n.width:g.width,height:a==="yAxis"?n.height:g.height});return K.bandSize=cS(K,D),!g.hide&&a==="xAxis"?f[O]+=(T?-1:1)*K.height:g.hide||(f[O]+=(T?-1:1)*K.width),$u($u({},m),{},CN({},w,K))},{})},IQ=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return{x:Math.min(n,i),y:Math.min(a,s),width:Math.abs(i-n),height:Math.abs(s-a)}},lPe=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return IQ({x:r,y:n},{x:a,y:i})},RQ=function(){function e(t){iPe(this,e),this.scale=t}return sPe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();CN(RQ,"EPS",1e-4);var YI=function(t){var r=Object.keys(t).reduce(function(n,a){return $u($u({},n),{},CN({},a,RQ.create(t[a])))},{});return $u($u({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.bandAware,o=i.position;return FCe(a,function(c,u){return r[u].apply(c,{bandAware:s,position:o})})},isInRange:function(a){return CQ(a,function(i,s){return r[s].isInRange(i)})}})};function cPe(e){return(e%180+180)%180}var uPe=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=cPe(a),s=i*Math.PI/180,o=Math.atan(n/r),c=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(c)},DP,Yq;function dPe(){if(Yq)return DP;Yq=1;var e=yf(),t=Zw(),r=cN();function n(a){return function(i,s,o){var c=Object(i);if(!t(i)){var u=e(s,3);i=r(i),s=function(f){return u(c[f],f,c)}}var d=a(i,s,o);return d>-1?c[u?i[d]:d]:void 0}}return DP=n,DP}var IP,Kq;function fPe(){if(Kq)return IP;Kq=1;var e=NQ();function t(r){var n=e(r),a=n%1;return n===n?a?n-a:n:0}return IP=t,IP}var RP,Xq;function hPe(){if(Xq)return RP;Xq=1;var e=RJ(),t=yf(),r=fPe(),n=Math.max;function a(i,s,o){var c=i==null?0:i.length;if(!c)return-1;var u=o==null?0:r(o);return u<0&&(u=n(c+u,0)),e(i,t(s,3),u)}return RP=a,RP}var MP,Jq;function pPe(){if(Jq)return MP;Jq=1;var e=dPe(),t=hPe(),r=e(t);return MP=r,MP}var mPe=pPe();const gPe=ma(mPe);var vPe=KX();const yPe=ma(vPe);var xPe=yPe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),KI=S.createContext(void 0),XI=S.createContext(void 0),MQ=S.createContext(void 0),FQ=S.createContext({}),LQ=S.createContext(void 0),jQ=S.createContext(0),$Q=S.createContext(0),Zq=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,s=t.clipPathId,o=t.children,c=t.width,u=t.height,d=xPe(i);return l(KI.Provider,{value:n,children:l(XI.Provider,{value:a,children:l(FQ.Provider,{value:i,children:l(MQ.Provider,{value:d,children:l(LQ.Provider,{value:s,children:l(jQ.Provider,{value:u,children:l($Q.Provider,{value:c,children:o})})})})})})})},wPe=function(){return S.useContext(LQ)},BQ=function(t){var r=S.useContext(KI);r==null&&lg();var n=r[t];return n==null&&lg(),n},bPe=function(){var t=S.useContext(KI);return Gp(t)},_Pe=function(){var t=S.useContext(XI),r=gPe(t,function(n){return CQ(n.domain,Number.isFinite)});return r||Gp(t)},UQ=function(t){var r=S.useContext(XI);r==null&&lg();var n=r[t];return n==null&&lg(),n},SPe=function(){var t=S.useContext(MQ);return t},NPe=function(){return S.useContext(FQ)},JI=function(){return S.useContext($Q)},ZI=function(){return S.useContext(jQ)};function $1(e){"@babel/helpers - typeof";return $1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$1(e)}function APe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kPe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zQ(n.key),n)}}function EPe(e,t,r){return t&&kPe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function CPe(e,t,r){return t=bS(t),PPe(e,qQ()?Reflect.construct(t,r||[],bS(e).constructor):t.apply(e,r))}function PPe(e,t){if(t&&($1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TPe(e)}function TPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qQ=function(){return!!e})()}function bS(e){return bS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bS(e)}function OPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&U8(e,t)}function U8(e,t){return U8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},U8(e,t)}function Qq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ez(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qq(Object(r),!0).forEach(function(n){QI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QI(e,t,r){return t=zQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zQ(e){var t=DPe(e,"string");return $1(t)=="symbol"?t:t+""}function DPe(e,t){if($1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function IPe(e,t){return LPe(e)||FPe(e,t)||MPe(e,t)||RPe()}function RPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MPe(e,t){if(e){if(typeof e=="string")return tz(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tz(e,t)}}function tz(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function FPe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function LPe(e){if(Array.isArray(e))return e}function q8(){return q8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},q8.apply(this,arguments)}var jPe=function(t,r){var n;return tt.isValidElement(t)?n=tt.cloneElement(t,r):tn(t)?n=t(r):n=tt.createElement("line",q8({},r,{className:"recharts-reference-line-line"})),n},$Pe=function(t,r,n,a,i,s,o,c,u){var d=i.x,f=i.y,h=i.width,m=i.height;if(n){var w=u.y,g=t.y.apply(w,{position:s});if(af(u,"discard")&&!t.y.isInRange(g))return null;var y=[{x:d+h,y:g},{x:d,y:g}];return c==="left"?y.reverse():y}if(r){var b=u.x,_=t.x.apply(b,{position:s});if(af(u,"discard")&&!t.x.isInRange(_))return null;var N=[{x:_,y:f+m},{x:_,y:f}];return o==="top"?N.reverse():N}if(a){var E=u.segment,C=E.map(function(O){return t.apply(O,{position:s})});return af(u,"discard")&&DCe(C,function(O){return!t.isInRange(O)})?null:C}return null};function BPe(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,s=e.shape,o=e.className,c=e.alwaysShow,u=wPe(),d=BQ(a),f=UQ(i),h=SPe();if(!u||!h)return null;Yu(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=YI({x:d.scale,y:f.scale}),w=bs(t),g=bs(r),y=n&&n.length===2,b=$Pe(m,w,g,y,h,e.position,d.orientation,f.orientation,e);if(!b)return null;var _=IPe(b,2),N=_[0],E=N.x,C=N.y,O=_[1],P=O.x,M=O.y,L=af(e,"hidden")?"url(#".concat(u,")"):void 0,j=ez(ez({clipPath:L},Rr(e,!0)),{},{x1:E,y1:C,x2:P,y2:M});return tt.createElement(Ln,{className:yn("recharts-reference-line",o)},jPe(s,j),$s.renderCallByParent(e,lPe({x1:E,y1:C,x2:P,y2:M})))}var eR=function(e){function t(){return APe(this,t),CPe(this,t,arguments)}return OPe(t,e),EPe(t,[{key:"render",value:function(){return tt.createElement(BPe,this.props)}}])}(tt.Component);QI(eR,"displayName","ReferenceLine");QI(eR,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function z8(){return z8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},z8.apply(this,arguments)}function B1(e){"@babel/helpers - typeof";return B1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B1(e)}function rz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rz(Object(r),!0).forEach(function(n){PN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qPe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VQ(n.key),n)}}function zPe(e,t,r){return t&&qPe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function WPe(e,t,r){return t=_S(t),VPe(e,WQ()?Reflect.construct(t,r||[],_S(e).constructor):t.apply(e,r))}function VPe(e,t){if(t&&(B1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HPe(e)}function HPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WQ=function(){return!!e})()}function _S(e){return _S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_S(e)}function GPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W8(e,t)}function W8(e,t){return W8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},W8(e,t)}function PN(e,t,r){return t=VQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VQ(e){var t=YPe(e,"string");return B1(t)=="symbol"?t:t+""}function YPe(e,t){if(B1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(B1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var KPe=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,s=YI({x:a.scale,y:i.scale}),o=s.apply({x:r,y:n},{bandAware:!0});return af(t,"discard")&&!s.isInRange(o)?null:o},TN=function(e){function t(){return UPe(this,t),WPe(this,t,arguments)}return GPe(t,e),zPe(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,s=n.r,o=n.alwaysShow,c=n.clipPathId,u=bs(a),d=bs(i);if(Yu(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=KPe(this.props);if(!f)return null;var h=f.x,m=f.y,w=this.props,g=w.shape,y=w.className,b=af(this.props,"hidden")?"url(#".concat(c,")"):void 0,_=nz(nz({clipPath:b},Rr(this.props,!0)),{},{cx:h,cy:m});return tt.createElement(Ln,{className:yn("recharts-reference-dot",y)},t.renderDot(g,_),$s.renderCallByParent(this.props,{x:h-s,y:m-s,width:2*s,height:2*s}))}}])}(tt.Component);PN(TN,"displayName","ReferenceDot");PN(TN,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});PN(TN,"renderDot",function(e,t){var r;return tt.isValidElement(e)?r=tt.cloneElement(e,t):tn(e)?r=e(t):r=tt.createElement(ab,z8({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function V8(){return V8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},V8.apply(this,arguments)}function U1(e){"@babel/helpers - typeof";return U1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U1(e)}function az(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?az(Object(r),!0).forEach(function(n){ON(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):az(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JPe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GQ(n.key),n)}}function ZPe(e,t,r){return t&&JPe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function QPe(e,t,r){return t=SS(t),eTe(e,HQ()?Reflect.construct(t,r||[],SS(e).constructor):t.apply(e,r))}function eTe(e,t){if(t&&(U1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tTe(e)}function tTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HQ=function(){return!!e})()}function SS(e){return SS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},SS(e)}function rTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&H8(e,t)}function H8(e,t){return H8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},H8(e,t)}function ON(e,t,r){return t=GQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GQ(e){var t=nTe(e,"string");return U1(t)=="symbol"?t:t+""}function nTe(e,t){if(U1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(U1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var aTe=function(t,r,n,a,i){var s=i.x1,o=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=YI({x:d.scale,y:f.scale}),m={x:t?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},w={x:r?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return af(i,"discard")&&(!h.isInRange(m)||!h.isInRange(w))?null:IQ(m,w)},DN=function(e){function t(){return XPe(this,t),QPe(this,t,arguments)}return rTe(t,e),ZPe(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,s=n.y1,o=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Yu(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=bs(a),h=bs(i),m=bs(s),w=bs(o),g=this.props.shape;if(!f&&!h&&!m&&!w&&!g)return null;var y=aTe(f,h,m,w,this.props);if(!y&&!g)return null;var b=af(this.props,"hidden")?"url(#".concat(d,")"):void 0;return tt.createElement(Ln,{className:yn("recharts-reference-area",c)},t.renderRect(g,iz(iz({clipPath:b},Rr(this.props,!0)),y)),$s.renderCallByParent(this.props,y))}}])}(tt.Component);ON(DN,"displayName","ReferenceArea");ON(DN,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});ON(DN,"renderRect",function(e,t){var r;return tt.isValidElement(e)?r=tt.cloneElement(e,t):tn(e)?r=e(t):r=tt.createElement(HI,V8({},t,{className:"recharts-reference-area-rect"})),r});function YQ(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function iTe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return uPe(n,r)}function sTe(e,t,r){var n=r==="width",a=e.x,i=e.y,s=e.width,o=e.height;return t===1?{start:n?a:i,end:n?a+s:i+o}:{start:n?a+s:i+o,end:n?a:i}}function NS(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function oTe(e,t){return YQ(e,t+1)}function lTe(e,t,r,n,a){for(var i=(n||[]).slice(),s=t.start,o=t.end,c=0,u=1,d=s,f=function(){var w=n==null?void 0:n[c];if(w===void 0)return{v:YQ(n,u)};var g=c,y,b=function(){return y===void 0&&(y=r(w,g)),y},_=w.coordinate,N=c===0||NS(e,_,b,d,o);N||(c=0,d=s,u+=1),N&&(d=_+e*(b()/2+a),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function tw(e){"@babel/helpers - typeof";return tw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tw(e)}function sz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Po(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sz(Object(r),!0).forEach(function(n){cTe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cTe(e,t,r){return t=uTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uTe(e){var t=dTe(e,"string");return tw(t)=="symbol"?t:t+""}function dTe(e,t){if(tw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fTe(e,t,r,n,a){for(var i=(n||[]).slice(),s=i.length,o=t.start,c=t.end,u=function(h){var m=i[h],w,g=function(){return w===void 0&&(w=r(m,h)),w};if(h===s-1){var y=e*(m.coordinate+e*g()/2-c);i[h]=m=Po(Po({},m),{},{tickCoord:y>0?m.coordinate-y*e:m.coordinate})}else i[h]=m=Po(Po({},m),{},{tickCoord:m.coordinate});var b=NS(e,m.tickCoord,g,o,c);b&&(c=m.tickCoord-e*(g()/2+a),i[h]=Po(Po({},m),{},{isShow:!0}))},d=s-1;d>=0;d--)u(d);return i}function hTe(e,t,r,n,a,i){var s=(n||[]).slice(),o=s.length,c=t.start,u=t.end;if(i){var d=n[o-1],f=r(d,o-1),h=e*(d.coordinate+e*f/2-u);s[o-1]=d=Po(Po({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=NS(e,d.tickCoord,function(){return f},c,u);m&&(u=d.tickCoord-e*(f/2+a),s[o-1]=Po(Po({},d),{},{isShow:!0}))}for(var w=i?o-1:o,g=function(_){var N=s[_],E,C=function(){return E===void 0&&(E=r(N,_)),E};if(_===0){var O=e*(N.coordinate-e*C()/2-c);s[_]=N=Po(Po({},N),{},{tickCoord:O<0?N.coordinate-O*e:N.coordinate})}else s[_]=N=Po(Po({},N),{},{tickCoord:N.coordinate});var P=NS(e,N.tickCoord,C,c,u);P&&(c=N.tickCoord+e*(C()/2+a),s[_]=Po(Po({},N),{},{isShow:!0}))},y=0;y<w;y++)g(y);return s}function tR(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,s=e.minTickGap,o=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(Xt(c)||Rm.isSsr)return oTe(a,typeof c=="number"&&Xt(c)?c:0);var h=[],m=o==="top"||o==="bottom"?"width":"height",w=d&&m==="width"?Y2(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=function(N,E){var C=tn(u)?u(N.value,E):N.value;return m==="width"?iTe(Y2(C,{fontSize:t,letterSpacing:r}),w,f):Y2(C,{fontSize:t,letterSpacing:r})[m]},y=a.length>=2?cl(a[1].coordinate-a[0].coordinate):1,b=sTe(i,y,m);return c==="equidistantPreserveStart"?lTe(y,b,g,a,s):(c==="preserveStart"||c==="preserveStartEnd"?h=hTe(y,b,g,a,s,c==="preserveStartEnd"):h=fTe(y,b,g,a,s),h.filter(function(_){return _.isShow}))}var pTe=["viewBox"],mTe=["viewBox"],gTe=["ticks"];function q1(e){"@babel/helpers - typeof";return q1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q1(e)}function oz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function al(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oz(Object(r),!0).forEach(function(n){rR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FP(e,t){if(e==null)return{};var r=vTe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vTe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function yTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lz(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XQ(n.key),n)}}function xTe(e,t,r){return t&&lz(e.prototype,t),r&&lz(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function wTe(e,t,r){return t=AS(t),bTe(e,KQ()?Reflect.construct(t,r||[],AS(e).constructor):t.apply(e,r))}function bTe(e,t){if(t&&(q1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Te(e)}function _Te(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KQ=function(){return!!e})()}function AS(e){return AS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},AS(e)}function STe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&G8(e,t)}function G8(e,t){return G8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},G8(e,t)}function rR(e,t,r){return t=XQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XQ(e){var t=NTe(e,"string");return q1(t)=="symbol"?t:t+""}function NTe(e,t){if(q1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(q1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Py=function(e){function t(r){var n;return yTe(this,t),n=wTe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return STe(t,e),xTe(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,s=FP(n,pTe),o=this.props,c=o.viewBox,u=FP(o,mTe);return!e1(i,c)||!e1(s,u)||!e1(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,s=a.y,o=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,m,w,g,y,b,_,N=f?-1:1,E=n.tickSize||d,C=Xt(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=w=n.coordinate,y=s+ +!f*c,g=y-N*E,_=g-N*h,b=C;break;case"left":g=y=n.coordinate,w=i+ +!f*o,m=w-N*E,b=m-N*h,_=C;break;case"right":g=y=n.coordinate,w=i+ +f*o,m=w+N*E,b=m+N*h,_=C;break;default:m=w=n.coordinate,y=s+ +f*c,g=y+N*E,_=g+N*h,b=C;break}return{line:{x1:m,y1:g,x2:w,y2:y},tick:{x:b,y:_}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s;switch(a){case"left":s=i?"start":"end";break;case"right":s=i?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s="end";switch(a){case"left":case"right":s="middle";break;case"top":s=i?"start":"end";break;default:s=i?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=al(al(al({},Rr(this.props,!1)),Rr(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=al(al({},f),{},{x1:a,y1:i+h*o,x2:a+s,y2:i+h*o})}else{var m=+(c==="left"&&!u||c==="right"&&u);f=al(al({},f),{},{x1:a+m*s,y1:i,x2:a+m*s,y2:i+o})}return l("line",{...f,className:yn("recharts-cartesian-axis-line",xc(d,"className"))})}},{key:"renderTicks",value:function(n,a,i){var s=this,o=this.props,c=o.tickLine,u=o.stroke,d=o.tick,f=o.tickFormatter,h=o.unit,m=tR(al(al({},this.props),{},{ticks:n}),a,i),w=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),y=Rr(this.props,!1),b=Rr(d,!1),_=al(al({},y),{},{fill:"none"},Rr(c,!1)),N=m.map(function(E,C){var O=s.getTickLineCoord(E),P=O.line,M=O.tick,L=al(al(al(al({textAnchor:w,verticalAnchor:g},y),{},{stroke:"none",fill:u},b),M),{},{index:C,payload:E,visibleTicksCount:m.length,tickFormatter:f});return x(Ln,{className:"recharts-cartesian-axis-tick",...ag(s.props,E,C),children:[c&&l("line",{..._,...P,className:yn("recharts-cartesian-axis-tick-line",xc(c,"className"))}),d&&t.renderTickItem(d,L,"".concat(tn(f)?f(E.value,C):E.value).concat(h||""))]},"tick-".concat(E.value,"-").concat(E.coordinate,"-").concat(E.tickCoord))});return l("g",{className:"recharts-cartesian-axis-ticks",children:N})}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,s=a.width,o=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,m=FP(f,gTe),w=h;return tn(c)&&(w=h&&h.length>0?c(this.props):c(m)),s<=0||o<=0||!w||!w.length?null:x(Ln,{className:yn("recharts-cartesian-axis",u),ref:function(y){n.layerReference=y},children:[i&&this.renderAxisLine(),this.renderTicks(w,this.state.fontSize,this.state.letterSpacing),$s.renderCallByParent(this.props)]})}}],[{key:"renderTickItem",value:function(n,a,i){var s;return tt.isValidElement(n)?s=tt.cloneElement(n,a):tn(n)?s=n(a):s=l(ig,{...a,className:"recharts-cartesian-axis-tick-value",children:i}),s}}])}(S.Component);rR(Py,"displayName","CartesianAxis");rR(Py,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var ATe=["x1","y1","x2","y2","key"],kTe=["offset"];function cg(e){"@babel/helpers - typeof";return cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cg(e)}function cz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ro(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cz(Object(r),!0).forEach(function(n){ETe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ETe(e,t,r){return t=CTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CTe(e){var t=PTe(e,"string");return cg(t)=="symbol"?t:t+""}function PTe(e,t){if(cg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $0(){return $0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$0.apply(this,arguments)}function uz(e,t){if(e==null)return{};var r=TTe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function TTe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var OTe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,s=t.width,o=t.height,c=t.ry;return tt.createElement("rect",{x:a,y:i,ry:c,width:s,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function JQ(e,t){var r;if(tt.isValidElement(e))r=tt.cloneElement(e,t);else if(tn(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,s=t.y2,o=t.key,c=uz(t,ATe),u=Rr(c,!1);u.offset;var d=uz(u,kTe);r=tt.createElement("line",$0({},d,{x1:n,y1:a,x2:i,y2:s,fill:"none",key:o}))}return r}function DTe(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(o,c){var u=Ro(Ro({},e),{},{x1:t,y1:o,x2:t+r,y2:o,key:"line-".concat(c),index:c});return JQ(a,u)});return tt.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function ITe(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(o,c){var u=Ro(Ro({},e),{},{x1:o,y1:t,x2:o,y2:t+r,key:"line-".concat(c),index:c});return JQ(a,u)});return tt.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function RTe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,s=e.height,o=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=o.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var w=!d[m+1],g=w?a+s-h:d[m+1]-h;if(g<=0)return null;var y=m%t.length;return tt.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:g,width:i,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return tt.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function MTe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,s=e.y,o=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,m){return h-m});i!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var w=!d[m+1],g=w?i+o-h:d[m+1]-h;if(g<=0)return null;var y=m%n.length;return tt.createElement("rect",{key:"react-".concat(m),x:h,y:s,width:g,height:c,stroke:"none",fill:n[y],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return tt.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var FTe=function(t,r){var n=t.xAxis,a=t.width,i=t.height,s=t.offset;return ZZ(tR(Ro(Ro(Ro({},Py.defaultProps),n),{},{ticks:uh(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.left,s.left+s.width,r)},LTe=function(t,r){var n=t.yAxis,a=t.width,i=t.height,s=t.offset;return ZZ(tR(Ro(Ro(Ro({},Py.defaultProps),n),{},{ticks:uh(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.top,s.top+s.height,r)},Cv={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function nR(e){var t,r,n,a,i,s,o=JI(),c=ZI(),u=NPe(),d=Ro(Ro({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Cv.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Cv.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Cv.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Cv.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Cv.vertical,verticalFill:(s=e.verticalFill)!==null&&s!==void 0?s:Cv.verticalFill,x:Xt(e.x)?e.x:u.left,y:Xt(e.y)?e.y:u.top,width:Xt(e.width)?e.width:u.width,height:Xt(e.height)?e.height:u.height}),f=d.x,h=d.y,m=d.width,w=d.height,g=d.syncWithTicks,y=d.horizontalValues,b=d.verticalValues,_=bPe(),N=_Pe();if(!Xt(m)||m<=0||!Xt(w)||w<=0||!Xt(f)||f!==+f||!Xt(h)||h!==+h)return null;var E=d.verticalCoordinatesGenerator||FTe,C=d.horizontalCoordinatesGenerator||LTe,O=d.horizontalPoints,P=d.verticalPoints;if((!O||!O.length)&&tn(C)){var M=y&&y.length,L=C({yAxis:N?Ro(Ro({},N),{},{ticks:M?y:N.ticks}):void 0,width:o,height:c,offset:u},M?!0:g);Yu(Array.isArray(L),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(cg(L),"]")),Array.isArray(L)&&(O=L)}if((!P||!P.length)&&tn(E)){var j=b&&b.length,T=E({xAxis:_?Ro(Ro({},_),{},{ticks:j?b:_.ticks}):void 0,width:o,height:c,offset:u},j?!0:g);Yu(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(cg(T),"]")),Array.isArray(T)&&(P=T)}return tt.createElement("g",{className:"recharts-cartesian-grid"},tt.createElement(OTe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),tt.createElement(DTe,$0({},d,{offset:u,horizontalPoints:O,xAxis:_,yAxis:N})),tt.createElement(ITe,$0({},d,{offset:u,verticalPoints:P,xAxis:_,yAxis:N})),tt.createElement(RTe,$0({},d,{horizontalPoints:O})),tt.createElement(MTe,$0({},d,{verticalPoints:P})))}nR.displayName="CartesianGrid";var jTe=["type","layout","connectNulls","ref"],$Te=["key"];function z1(e){"@babel/helpers - typeof";return z1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z1(e)}function dz(e,t){if(e==null)return{};var r=BTe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function BTe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function fz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fz(Object(r),!0).forEach(function(n){Bu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pv(e){return WTe(e)||zTe(e)||qTe(e)||UTe()}function UTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qTe(e,t){if(e){if(typeof e=="string")return Y8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y8(e,t)}}function zTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function WTe(e){if(Array.isArray(e))return Y8(e)}function Y8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function VTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hz(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,QQ(n.key),n)}}function HTe(e,t,r){return t&&hz(e.prototype,t),r&&hz(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function GTe(e,t,r){return t=kS(t),YTe(e,ZQ()?Reflect.construct(t,r||[],kS(e).constructor):t.apply(e,r))}function YTe(e,t){if(t&&(z1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KTe(e)}function KTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZQ=function(){return!!e})()}function kS(e){return kS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kS(e)}function XTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&K8(e,t)}function K8(e,t){return K8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},K8(e,t)}function Bu(e,t,r){return t=QQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QQ(e){var t=JTe(e,"string");return z1(t)=="symbol"?t:t+""}function JTe(e,t){if(z1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(z1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var pm=function(e){function t(){var r;VTe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=GTe(this,t,[].concat(a)),Bu(r,"state",{isAnimationFinished:!0,totalLength:0}),Bu(r,"generateSimpleStrokeDasharray",function(s,o){return"".concat(o,"px ").concat(s-o,"px")}),Bu(r,"getStrokeDasharray",function(s,o,c){var u=c.reduce(function(b,_){return b+_});if(!u)return r.generateSimpleStrokeDasharray(o,s);for(var d=Math.floor(s/u),f=s%u,h=o-s,m=[],w=0,g=0;w<c.length;g+=c[w],++w)if(g+c[w]>f){m=[].concat(Pv(c.slice(0,w)),[f-g]);break}var y=m.length%2===0?[0,h]:[h];return[].concat(Pv(t.repeat(c,d)),Pv(m),y).map(function(b){return"".concat(b,"px")}).join(", ")}),Bu(r,"id",Pg("recharts-line-")),Bu(r,"pathRef",function(s){r.mainCurve=s}),Bu(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Bu(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return XTe(t,e),HTe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.points,o=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=wc(d,nb);if(!f)return null;var h=function(g,y){return{x:g.x,y:g.y,value:g.value,errorVal:Yi(g.payload,y)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return l(Ln,{...m,children:f.map(function(w){return tt.cloneElement(w,{key:"bar-".concat(w.props.dataKey),data:s,xAxis:o,yAxis:c,layout:u,dataPointFormatter:h})})})}},{key:"renderDots",value:function(n,a,i){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,c=o.dot,u=o.points,d=o.dataKey,f=Rr(this.props,!1),h=Rr(c,!0),m=u.map(function(g,y){var b=nc(nc(nc({key:"dot-".concat(y),r:3},f),h),{},{index:y,cx:g.x,cy:g.y,value:g.value,dataKey:d,payload:g.payload,points:u});return t.renderDotItem(c,b)}),w={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return l(Ln,{className:"recharts-line-dots",...w,children:m},"dots")}},{key:"renderCurveStatically",value:function(n,a,i,s){var o=this.props,c=o.type,u=o.layout,d=o.connectNulls;o.ref;var f=dz(o,jTe),h=nc(nc(nc({},Rr(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},s),{},{type:c,layout:u,connectNulls:d});return l(V0,{...h,pathRef:this.pathRef})}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,s=this.props,o=s.points,c=s.strokeDasharray,u=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,h=s.animationEasing,m=s.animationId,w=s.animateNewValues,g=s.width,y=s.height,b=this.state,_=b.prevPoints,N=b.totalLength;return l(ad,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart,children:function(E){var C=E.t;if(_){var O=_.length/o.length,P=o.map(function(I,B){var G=Math.floor(B*O);if(_[G]){var Z=_[G],re=xs(Z.x,I.x),W=xs(Z.y,I.y);return nc(nc({},I),{},{x:re(C),y:W(C)})}if(w){var z=xs(g*2,I.x),U=xs(y/2,I.y);return nc(nc({},I),{},{x:z(C),y:U(C)})}return nc(nc({},I),{},{x:I.x,y:I.y})});return i.renderCurveStatically(P,n,a)}var M=xs(0,N),L=M(C),j;if(c){var T="".concat(c).split(/[,\s]+/gim).map(function(I){return parseFloat(I)});j=i.getStrokeDasharray(L,N,T)}else j=i.generateSimpleStrokeDasharray(N,L);return i.renderCurveStatically(o,n,a,{strokeDasharray:j})}},"line-".concat(m))}},{key:"renderCurve",value:function(n,a){var i=this.props,s=i.points,o=i.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return o&&s&&s.length&&(!u&&d>0||!sg(u,s))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(s,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,s=a.dot,o=a.points,c=a.className,u=a.xAxis,d=a.yAxis,f=a.top,h=a.left,m=a.width,w=a.height,g=a.isAnimationActive,y=a.id;if(i||!o||!o.length)return null;var b=this.state.isAnimationFinished,_=o.length===1,N=yn("recharts-line",c),E=u&&u.allowDataOverflow,C=d&&d.allowDataOverflow,O=E||C,P=vn(y)?this.id:y,M=(n=Rr(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},L=M.r,j=L===void 0?3:L,T=M.strokeWidth,I=T===void 0?2:T,B=eJ(s)?s:{},G=B.clipDot,Z=G===void 0?!0:G,re=j*2+I;return x(Ln,{className:N,children:[E||C?x("defs",{children:[l("clipPath",{id:"clipPath-".concat(P),children:l("rect",{x:E?h:h-m/2,y:C?f:f-w/2,width:E?m:m*2,height:C?w:w*2})}),!Z&&l("clipPath",{id:"clipPath-dots-".concat(P),children:l("rect",{x:h-re/2,y:f-re/2,width:m+re,height:w+re})})]}):null,!_&&this.renderCurve(O,P),this.renderErrorBar(O,P),(_||s)&&this.renderDots(O,Z,P),(!g||b)&&nf.renderCallByParent(this.props,o)]})}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(Pv(n),[0]):n,s=[],o=0;o<a;++o)s=[].concat(Pv(s),Pv(i));return s}},{key:"renderDotItem",value:function(n,a){var i;if(tt.isValidElement(n))i=tt.cloneElement(n,a);else if(tn(n))i=n(a);else{var s=a.key,o=dz(a,$Te),c=yn("recharts-line-dot",typeof n!="boolean"?n.className:"");i=l(ab,{...o,className:c},s)}return i}}])}(S.PureComponent);Bu(pm,"displayName","Line");Bu(pm,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Rm.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Bu(pm,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,s=e.dataKey,o=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,m){var w=Yi(h,s);return d==="horizontal"?{x:lS({axis:r,ticks:a,bandSize:o,entry:h,index:m}),y:vn(w)?null:n.scale(w),value:w,payload:h}:{x:vn(w)?null:r.scale(w),y:lS({axis:n,ticks:i,bandSize:o,entry:h,index:m}),value:w,payload:h}});return nc({points:f,layout:d},u)});var ZTe=["layout","type","stroke","connectNulls","isRange","ref"],QTe=["key"],eee;function W1(e){"@babel/helpers - typeof";return W1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W1(e)}function tee(e,t){if(e==null)return{};var r=e6e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function e6e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function pz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Up(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pz(Object(r),!0).forEach(function(n){Xd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function t6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mz(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nee(n.key),n)}}function r6e(e,t,r){return t&&mz(e.prototype,t),r&&mz(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function n6e(e,t,r){return t=ES(t),a6e(e,ree()?Reflect.construct(t,r||[],ES(e).constructor):t.apply(e,r))}function a6e(e,t){if(t&&(W1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i6e(e)}function i6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ree(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ree=function(){return!!e})()}function ES(e){return ES=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ES(e)}function s6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X8(e,t)}function X8(e,t){return X8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},X8(e,t)}function Xd(e,t,r){return t=nee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nee(e){var t=o6e(e,"string");return W1(t)=="symbol"?t:t+""}function o6e(e,t){if(W1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(W1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ih=function(e){function t(){var r;t6e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=n6e(this,t,[].concat(a)),Xd(r,"state",{isAnimationFinished:!0}),Xd(r,"id",Pg("recharts-area-")),Xd(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),tn(s)&&s()}),Xd(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),tn(s)&&s()}),r}return s6e(t,e),r6e(t,[{key:"renderDots",value:function(n,a,i){var s=this.props.isAnimationActive,o=this.state.isAnimationFinished;if(s&&!o)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,h=Rr(this.props,!1),m=Rr(u,!0),w=d.map(function(y,b){var _=Up(Up(Up({key:"dot-".concat(b),r:3},h),m),{},{index:b,cx:y.x,cy:y.y,dataKey:f,value:y.value,payload:y.payload,points:d});return t.renderDotItem(u,_)}),g={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return l(Ln,{className:"recharts-area-dots",...g,children:w})}},{key:"renderHorizontalRect",value:function(n){var a=this.props,i=a.baseLine,s=a.points,o=a.strokeWidth,c=s[0].x,u=s[s.length-1].x,d=n*Math.abs(c-u),f=Kp(s.map(function(h){return h.y||0}));return Xt(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(Kp(i.map(function(h){return h.y||0})),f)),Xt(f)?l("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(o?parseInt("".concat(o),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,i=a.baseLine,s=a.points,o=a.strokeWidth,c=s[0].y,u=s[s.length-1].y,d=n*Math.abs(c-u),f=Kp(s.map(function(h){return h.x||0}));return Xt(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(Kp(i.map(function(h){return h.x||0})),f)),Xt(f)?l("rect",{x:0,y:c<u?c:c-d,width:f+(o?parseInt("".concat(o),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,i,s){var o=this.props,c=o.layout,u=o.type,d=o.stroke,f=o.connectNulls,h=o.isRange;o.ref;var m=tee(o,ZTe);return x(Ln,{clipPath:i?"url(#clipPath-".concat(s,")"):null,children:[l(V0,{...Rr(m,!0),points:n,connectNulls:f,type:u,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"}),d!=="none"&&l(V0,{...Rr(this.props,!1),className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:n}),d!=="none"&&h&&l(V0,{...Rr(this.props,!1),className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:a})]})}},{key:"renderAreaWithAnimation",value:function(n,a){var i=this,s=this.props,o=s.points,c=s.baseLine,u=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,h=s.animationEasing,m=s.animationId,w=this.state,g=w.prevPoints,y=w.prevBaseLine;return l(ad,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart,children:function(b){var _=b.t;if(g){var N=g.length/o.length,E=o.map(function(M,L){var j=Math.floor(L*N);if(g[j]){var T=g[j],I=xs(T.x,M.x),B=xs(T.y,M.y);return Up(Up({},M),{},{x:I(_),y:B(_)})}return M}),C;if(Xt(c)&&typeof c=="number"){var O=xs(y,c);C=O(_)}else if(vn(c)||Ny(c)){var P=xs(y,0);C=P(_)}else C=c.map(function(M,L){var j=Math.floor(L*N);if(y[j]){var T=y[j],I=xs(T.x,M.x),B=xs(T.y,M.y);return Up(Up({},M),{},{x:I(_),y:B(_)})}return M});return i.renderAreaStatically(E,C,n,a)}return x(Ln,{children:[l("defs",{children:l("clipPath",{id:"animationClipPath-".concat(a),children:i.renderClipRect(_)})}),l(Ln,{clipPath:"url(#animationClipPath-".concat(a,")"),children:i.renderAreaStatically(o,c,n,a)})]})}},"area-".concat(m))}},{key:"renderArea",value:function(n,a){var i=this.props,s=i.points,o=i.baseLine,c=i.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return c&&s&&s.length&&(!d&&h>0||!sg(d,s)||!sg(f,o))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(s,o,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,s=a.dot,o=a.points,c=a.className,u=a.top,d=a.left,f=a.xAxis,h=a.yAxis,m=a.width,w=a.height,g=a.isAnimationActive,y=a.id;if(i||!o||!o.length)return null;var b=this.state.isAnimationFinished,_=o.length===1,N=yn("recharts-area",c),E=f&&f.allowDataOverflow,C=h&&h.allowDataOverflow,O=E||C,P=vn(y)?this.id:y,M=(n=Rr(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},L=M.r,j=L===void 0?3:L,T=M.strokeWidth,I=T===void 0?2:T,B=eJ(s)?s:{},G=B.clipDot,Z=G===void 0?!0:G,re=j*2+I;return x(Ln,{className:N,children:[E||C?x("defs",{children:[l("clipPath",{id:"clipPath-".concat(P),children:l("rect",{x:E?d:d-m/2,y:C?u:u-w/2,width:E?m:m*2,height:C?w:w*2})}),!Z&&l("clipPath",{id:"clipPath-dots-".concat(P),children:l("rect",{x:d-re/2,y:u-re/2,width:m+re,height:w+re})})]}):null,_?null:this.renderArea(O,P),(s||_)&&this.renderDots(O,Z,P),(!g||b)&&nf.renderCallByParent(this.props,o)]})}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(S.PureComponent);eee=Ih;Xd(Ih,"displayName","Area");Xd(Ih,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Rm.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Xd(Ih,"getBaseValue",function(e,t,r,n){var a=e.layout,i=e.baseValue,s=t.props.baseValue,o=s??i;if(Xt(o)&&typeof o=="number")return o;var c=a==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return o==="dataMin"?f:o==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return o==="dataMin"?u[0]:o==="dataMax"?u[1]:u[0]});Xd(Ih,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,i=e.xAxisTicks,s=e.yAxisTicks,o=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=t.layout,w=u&&u.length,g=eee.getBaseValue(t,r,n,a),y=m==="horizontal",b=!1,_=f.map(function(E,C){var O;w?O=u[d+C]:(O=Yi(E,c),Array.isArray(O)?b=!0:O=[g,O]);var P=O[1]==null||w&&Yi(E,c)==null;return y?{x:lS({axis:n,ticks:i,bandSize:o,entry:E,index:C}),y:P?null:a.scale(O[1]),value:O,payload:E}:{x:P?null:n.scale(O[1]),y:lS({axis:a,ticks:s,bandSize:o,entry:E,index:C}),value:O,payload:E}}),N;return w||b?N=_.map(function(E){var C=Array.isArray(E.value)?E.value[0]:null;return y?{x:E.x,y:C!=null&&E.y!=null?a.scale(C):null}:{x:C!=null?n.scale(C):null,y:E.y}}):N=y?a.scale(g):n.scale(g),Up({points:_,baseLine:N,layout:m,isRange:b},h)});Xd(Ih,"renderDotItem",function(e,t){var r;if(tt.isValidElement(e))r=tt.cloneElement(e,t);else if(tn(e))r=e(t);else{var n=yn("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,i=tee(t,QTe);r=S.createElement(ab,{...i,key:a,className:n})}return r});function V1(e){"@babel/helpers - typeof";return V1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V1(e)}function l6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c6e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,see(n.key),n)}}function u6e(e,t,r){return t&&c6e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function d6e(e,t,r){return t=CS(t),f6e(e,aee()?Reflect.construct(t,r||[],CS(e).constructor):t.apply(e,r))}function f6e(e,t){if(t&&(V1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h6e(e)}function h6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aee(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aee=function(){return!!e})()}function CS(e){return CS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},CS(e)}function p6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J8(e,t)}function J8(e,t){return J8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},J8(e,t)}function iee(e,t,r){return t=see(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function see(e){var t=m6e(e,"string");return V1(t)=="symbol"?t:t+""}function m6e(e,t){if(V1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(V1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Z8(){return Z8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Z8.apply(this,arguments)}function g6e(e){var t=e.xAxisId,r=JI(),n=ZI(),a=BQ(t);return a==null?null:tt.createElement(Py,Z8({},a,{className:yn("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return uh(s,!0)}}))}var Rl=function(e){function t(){return l6e(this,t),d6e(this,t,arguments)}return p6e(t,e),u6e(t,[{key:"render",value:function(){return tt.createElement(g6e,this.props)}}])}(tt.Component);iee(Rl,"displayName","XAxis");iee(Rl,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function H1(e){"@babel/helpers - typeof";return H1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H1(e)}function v6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y6e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cee(n.key),n)}}function x6e(e,t,r){return t&&y6e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function w6e(e,t,r){return t=PS(t),b6e(e,oee()?Reflect.construct(t,r||[],PS(e).constructor):t.apply(e,r))}function b6e(e,t){if(t&&(H1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _6e(e)}function _6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oee(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oee=function(){return!!e})()}function PS(e){return PS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},PS(e)}function S6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Q8(e,t)}function Q8(e,t){return Q8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Q8(e,t)}function lee(e,t,r){return t=cee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cee(e){var t=N6e(e,"string");return H1(t)=="symbol"?t:t+""}function N6e(e,t){if(H1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(H1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function eO(){return eO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eO.apply(this,arguments)}var A6e=function(t){var r=t.yAxisId,n=JI(),a=ZI(),i=UQ(r);return i==null?null:tt.createElement(Py,eO({},i,{className:yn("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(o){return uh(o,!0)}}))},Ml=function(e){function t(){return v6e(this,t),w6e(this,t,arguments)}return S6e(t,e),x6e(t,[{key:"render",value:function(){return tt.createElement(A6e,this.props)}}])}(tt.Component);lee(Ml,"displayName","YAxis");lee(Ml,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function gz(e){return P6e(e)||C6e(e)||E6e(e)||k6e()}function k6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E6e(e,t){if(e){if(typeof e=="string")return tO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tO(e,t)}}function C6e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function P6e(e){if(Array.isArray(e))return tO(e)}function tO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var rO=function(t,r,n,a,i){var s=wc(t,eR),o=wc(t,TN),c=[].concat(gz(s),gz(o)),u=wc(t,DN),d="".concat(a,"Id"),f=a[0],h=r;if(c.length&&(h=c.reduce(function(g,y){if(y.props[d]===n&&af(y.props,"extendDomain")&&Xt(y.props[f])){var b=y.props[f];return[Math.min(g[0],b),Math.max(g[1],b)]}return g},h)),u.length){var m="".concat(f,"1"),w="".concat(f,"2");h=u.reduce(function(g,y){if(y.props[d]===n&&af(y.props,"extendDomain")&&Xt(y.props[m])&&Xt(y.props[w])){var b=y.props[m],_=y.props[w];return[Math.min(g[0],b,_),Math.max(g[1],b,_)]}return g},h)}return i&&i.length&&(h=i.reduce(function(g,y){return Xt(y)?[Math.min(g[0],y),Math.max(g[1],y)]:g},h)),h},LP={exports:{}},vz;function T6e(){return vz||(vz=1,function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||c,h),w=r?r+u:u;return c._events[w]?c._events[w].fn?c._events[w]=[c._events[w],m]:c._events[w].push(m):(c._events[w]=m,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,w=new Array(m);h<m;h++)w[h]=f[h].fn;return w},o.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,d,f,h,m,w){var g=r?r+u:u;if(!this._events[g])return!1;var y=this._events[g],b=arguments.length,_,N;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),b){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,h),!0;case 5:return y.fn.call(y.context,d,f,h,m),!0;case 6:return y.fn.call(y.context,d,f,h,m,w),!0}for(N=1,_=new Array(b-1);N<b;N++)_[N-1]=arguments[N];y.fn.apply(y.context,_)}else{var E=y.length,C;for(N=0;N<E;N++)switch(y[N].once&&this.removeListener(u,y[N].fn,void 0,!0),b){case 1:y[N].fn.call(y[N].context);break;case 2:y[N].fn.call(y[N].context,d);break;case 3:y[N].fn.call(y[N].context,d,f);break;case 4:y[N].fn.call(y[N].context,d,f,h);break;default:if(!_)for(C=1,_=new Array(b-1);C<b;C++)_[C-1]=arguments[C];y[N].fn.apply(y[N].context,_)}}return!0},o.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},o.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},o.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return s(this,m),this;var w=this._events[m];if(w.fn)w.fn===d&&(!h||w.once)&&(!f||w.context===f)&&s(this,m);else{for(var g=0,y=[],b=w.length;g<b;g++)(w[g].fn!==d||h&&!w[g].once||f&&w[g].context!==f)&&y.push(w[g]);y.length?this._events[m]=y.length===1?y[0]:y:s(this,m)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o}(LP)),LP.exports}var O6e=T6e();const D6e=ma(O6e);var jP=new D6e,$P="recharts.syncMouseEvents";function rw(e){"@babel/helpers - typeof";return rw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rw(e)}function I6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R6e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uee(n.key),n)}}function M6e(e,t,r){return t&&R6e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function BP(e,t,r){return t=uee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uee(e){var t=F6e(e,"string");return rw(t)=="symbol"?t:t+""}function F6e(e,t){if(rw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var L6e=function(){function e(){I6e(this,e),BP(this,"activeIndex",0),BP(this,"coordinateList",[]),BP(this,"layout","horizontal")}return M6e(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,s=r.container,o=s===void 0?null:s,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,s=a.y,o=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,h=s+this.offset.top+o/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function j6e(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&Xt(n)&&Xt(a))return!0}return!1}function $6e(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function dee(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,s=qa(t,r,n,a),o=qa(t,r,n,i);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function B6e(e,t,r){var n,a,i,s;if(e==="horizontal")n=t.x,i=n,a=r.top,s=r.top+r.height;else if(e==="vertical")a=t.y,s=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var o=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=qa(o,c,u,f),m=qa(o,c,d,f);n=h.x,a=h.y,i=m.x,s=m.y}else return dee(t);return[{x:n,y:a},{x:i,y:s}]}function nw(e){"@babel/helpers - typeof";return nw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nw(e)}function yz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function O_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yz(Object(r),!0).forEach(function(n){U6e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function U6e(e,t,r){return t=q6e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q6e(e){var t=z6e(e,"string");return nw(t)=="symbol"?t:t+""}function z6e(e,t){if(nw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function W6e(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,s=e.activeCoordinate,o=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!i||!s||h!=="ScatterChart"&&a!=="axis")return null;var w,g=V0;if(h==="ScatterChart")w=s,g=tEe;else if(h==="BarChart")w=$6e(f,s,c,d),g=HI;else if(f==="radial"){var y=dee(s),b=y.cx,_=y.cy,N=y.radius,E=y.startAngle,C=y.endAngle;w={cx:b,cy:_,startAngle:E,endAngle:C,innerRadius:N,outerRadius:N},g=cQ}else w={points:B6e(f,s,c)},g=V0;var O=O_(O_(O_(O_({stroke:"#ccc",pointerEvents:"none"},c),w),Rr(m,!1)),{},{payload:o,payloadIndex:u,className:yn("recharts-tooltip-cursor",m.className)});return S.isValidElement(m)?S.cloneElement(m,O):S.createElement(g,O)}var V6e=["item"],H6e=["children","className","width","height","style","compact","title","desc"];function G1(e){"@babel/helpers - typeof";return G1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G1(e)}function xz(e,t){return K6e(e)||Y6e(e,t)||hee(e,t)||G6e()}function G6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y6e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function K6e(e){if(Array.isArray(e))return e}function wz(e,t){if(e==null)return{};var r=X6e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function X6e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function J6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z6e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pee(n.key),n)}}function Q6e(e,t,r){return t&&Z6e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function e8e(e,t,r){return t=TS(t),t8e(e,fee()?Reflect.construct(t,r||[],TS(e).constructor):t.apply(e,r))}function t8e(e,t){if(t&&(G1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r8e(e)}function r8e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fee(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fee=function(){return!!e})()}function TS(e){return TS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},TS(e)}function n8e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nO(e,t)}function nO(e,t){return nO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},nO(e,t)}function Y1(e){return s8e(e)||i8e(e)||hee(e)||a8e()}function a8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hee(e,t){if(e){if(typeof e=="string")return aO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aO(e,t)}}function i8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function s8e(e){if(Array.isArray(e))return aO(e)}function aO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ot(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bz(Object(r),!0).forEach(function(n){Qr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qr(e,t,r){return t=pee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pee(e){var t=o8e(e,"string");return G1(t)=="symbol"?t:t+""}function o8e(e,t){if(G1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(G1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var l8e={xAxis:["bottom","top"],yAxis:["left","right"]},c8e={width:"100%",height:"100%"},mee={x:0,y:0};function D_(e){return e}var u8e=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},d8e=function(t,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var s=i.coordinate,o=a.radius;return Ot(Ot(Ot({},a),qa(a.cx,a.cy,o,s)),{},{angle:s,radius:o})}var c=i.coordinate,u=a.angle;return Ot(Ot(Ot({},a),qa(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return mee},IN=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,s=(n??[]).reduce(function(o,c){var u=c.props.data;return u&&u.length?[].concat(Y1(o),Y1(u)):o},[]);return s.length>0?s:t&&t.length&&Xt(a)&&Xt(i)?t.slice(a,i+1):[]};function gee(e){return e==="number"?[0,"auto"]:void 0}var iO=function(t,r,n,a){var i=t.graphicalItems,s=t.tooltipAxis,o=IN(r,t);return n<0||!i||!i.length||n>=o.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var m=f===void 0?o:f;h=L5(m,s.dataKey,a)}else h=f&&f[n]||o[n];return h?[].concat(Y1(c),[nQ(u,h)]):c},[])},_z=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},s=u8e(i,n),o=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=kNe(s,o,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=iO(t,r,d,f),m=d8e(n,o,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},f8e=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,s=r.axisIdKey,o=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,m=JZ(d,i);return n.reduce(function(w,g){var y,b=g.type.defaultProps!==void 0?Ot(Ot({},g.type.defaultProps),g.props):g.props,_=b.type,N=b.dataKey,E=b.allowDataOverflow,C=b.allowDuplicatedCategory,O=b.scale,P=b.ticks,M=b.includeHidden,L=b[s];if(w[L])return w;var j=IN(t.data,{graphicalItems:a.filter(function(D){var K,J=s in D.props?D.props[s]:(K=D.type.defaultProps)===null||K===void 0?void 0:K[s];return J===L}),dataStartIndex:c,dataEndIndex:u}),T=j.length,I,B,G;j6e(b.domain,E,_)&&(I=y8(b.domain,null,E),m&&(_==="number"||O!=="auto")&&(G=X2(j,N,"category")));var Z=gee(_);if(!I||I.length===0){var re,W=(re=b.domain)!==null&&re!==void 0?re:Z;if(N){if(I=X2(j,N,_),_==="category"&&m){var z=w2e(I);C&&z?(B=I,I=yS(0,T)):C||(I=wU(W,I,g).reduce(function(D,K){return D.indexOf(K)>=0?D:[].concat(Y1(D),[K])},[]))}else if(_==="category")C?I=I.filter(function(D){return D!==""&&!vn(D)}):I=wU(W,I,g).reduce(function(D,K){return D.indexOf(K)>=0||K===""||vn(K)?D:[].concat(Y1(D),[K])},[]);else if(_==="number"){var U=ONe(j,a.filter(function(D){var K,J,ne=s in D.props?D.props[s]:(K=D.type.defaultProps)===null||K===void 0?void 0:K[s],ie="hide"in D.props?D.props.hide:(J=D.type.defaultProps)===null||J===void 0?void 0:J.hide;return ne===L&&(M||!ie)}),N,i,d);U&&(I=U)}m&&(_==="number"||O!=="auto")&&(G=X2(j,N,"category"))}else m?I=yS(0,T):o&&o[L]&&o[L].hasStack&&_==="number"?I=h==="expand"?[0,1]:rQ(o[L].stackGroups,c,u):I=XZ(j,a.filter(function(D){var K=s in D.props?D.props[s]:D.type.defaultProps[s],J="hide"in D.props?D.props.hide:D.type.defaultProps.hide;return K===L&&(M||!J)}),_,d,!0);if(_==="number")I=rO(f,I,L,i,P),W&&(I=y8(W,I,E));else if(_==="category"&&W){var Y=W,Q=I.every(function(D){return Y.indexOf(D)>=0});Q&&(I=Y)}}return Ot(Ot({},w),{},Qr({},L,Ot(Ot({},b),{},{axisType:i,domain:I,categoricalDomain:G,duplicateDomain:B,originalDomain:(y=b.domain)!==null&&y!==void 0?y:Z,isCategorical:m,layout:d})))},{})},h8e=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,s=r.axisIdKey,o=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=IN(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),m=h.length,w=JZ(d,i),g=-1;return n.reduce(function(y,b){var _=b.type.defaultProps!==void 0?Ot(Ot({},b.type.defaultProps),b.props):b.props,N=_[s],E=gee("number");if(!y[N]){g++;var C;return w?C=yS(0,m):o&&o[N]&&o[N].hasStack?(C=rQ(o[N].stackGroups,c,u),C=rO(f,C,N,i)):(C=y8(E,XZ(h,n.filter(function(O){var P,M,L=s in O.props?O.props[s]:(P=O.type.defaultProps)===null||P===void 0?void 0:P[s],j="hide"in O.props?O.props.hide:(M=O.type.defaultProps)===null||M===void 0?void 0:M.hide;return L===N&&!j}),"number",d),a.defaultProps.allowDataOverflow),C=rO(f,C,N,i)),Ot(Ot({},y),{},Qr({},N,Ot(Ot({axisType:i},a.defaultProps),{},{hide:!0,orientation:xc(l8e,"".concat(i,".").concat(g%2),null),domain:C,originalDomain:E,isCategorical:w,layout:d})))}return y},{})},p8e=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,s=r.graphicalItems,o=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=wc(d,i),m={};return h&&h.length?m=f8e(t,{axes:h,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:o,dataStartIndex:c,dataEndIndex:u}):s&&s.length&&(m=h8e(t,{Axis:i,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:o,dataStartIndex:c,dataEndIndex:u})),m},m8e=function(t){var r=Gp(t),n=uh(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:xI(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:cS(r,n)}},Sz=function(t){var r=t.children,n=t.defaultShowTooltip,a=sc(r,L1),i=0,s=0;return t.data&&t.data.length!==0&&(s=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(s=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},g8e=function(t){return!t||!t.length?!1:t.some(function(r){var n=hh(r&&r.type);return n&&n.indexOf("Bar")>=0})},Nz=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},v8e=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,s=i===void 0?{}:i,o=t.yAxisMap,c=o===void 0?{}:o,u=n.width,d=n.height,f=n.children,h=n.margin||{},m=sc(f,L1),w=sc(f,Ku),g=Object.keys(c).reduce(function(C,O){var P=c[O],M=P.orientation;return!P.mirror&&!P.hide?Ot(Ot({},C),{},Qr({},M,C[M]+P.width)):C},{left:h.left||0,right:h.right||0}),y=Object.keys(s).reduce(function(C,O){var P=s[O],M=P.orientation;return!P.mirror&&!P.hide?Ot(Ot({},C),{},Qr({},M,xc(C,"".concat(M))+P.height)):C},{top:h.top||0,bottom:h.bottom||0}),b=Ot(Ot({},y),g),_=b.bottom;m&&(b.bottom+=m.props.height||L1.defaultProps.height),w&&r&&(b=PNe(b,a,n,r));var N=u-b.left-b.right,E=d-b.top-b.bottom;return Ot(Ot({brushBottom:_},b),{},{width:Math.max(N,0),height:Math.max(E,0)})},y8e=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},RN=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,s=t.validateTooltipEventTypes,o=s===void 0?["axis"]:s,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(b,_){var N=_.graphicalItems,E=_.stackGroups,C=_.offset,O=_.updateId,P=_.dataStartIndex,M=_.dataEndIndex,L=b.barSize,j=b.layout,T=b.barGap,I=b.barCategoryGap,B=b.maxBarSize,G=Nz(j),Z=G.numericAxisName,re=G.cateAxisName,W=g8e(N),z=[];return N.forEach(function(U,Y){var Q=IN(b.data,{graphicalItems:[U],dataStartIndex:P,dataEndIndex:M}),D=U.type.defaultProps!==void 0?Ot(Ot({},U.type.defaultProps),U.props):U.props,K=D.dataKey,J=D.maxBarSize,ne=D["".concat(Z,"Id")],ie=D["".concat(re,"Id")],oe={},ue=c.reduce(function(wt,_e){var ge=_["".concat(_e.axisType,"Map")],Ce=D["".concat(_e.axisType,"Id")];ge&&ge[Ce]||_e.axisType==="zAxis"||lg();var Je=ge[Ce];return Ot(Ot({},wt),{},Qr(Qr({},_e.axisType,Je),"".concat(_e.axisType,"Ticks"),uh(Je)))},oe),V=ue[re],se=ue["".concat(re,"Ticks")],fe=E&&E[ne]&&E[ne].hasStack&&BNe(U,E[ne].stackGroups),te=hh(U.type).indexOf("Bar")>=0,Ee=cS(V,se),Fe=[],Pe=W&&ENe({barSize:L,stackGroups:E,totalSize:y8e(ue,re)});if(te){var ve,Ge,ht=vn(J)?B:J,at=(ve=(Ge=cS(V,se,!0))!==null&&Ge!==void 0?Ge:ht)!==null&&ve!==void 0?ve:0;Fe=CNe({barGap:T,barCategoryGap:I,bandSize:at!==Ee?at:Ee,sizeList:Pe[ie],maxBarSize:ht}),at!==Ee&&(Fe=Fe.map(function(wt){return Ot(Ot({},wt),{},{position:Ot(Ot({},wt.position),{},{offset:wt.position.offset-at/2})})}))}var St=U&&U.type&&U.type.getComposedData;St&&z.push({props:Ot(Ot({},St(Ot(Ot({},ue),{},{displayedData:Q,props:b,dataKey:K,item:U,bandSize:Ee,barPosition:Fe,offset:C,stackedData:fe,layout:j,dataStartIndex:P,dataEndIndex:M}))),{},Qr(Qr(Qr({key:U.key||"item-".concat(Y)},Z,ue[Z]),re,ue[re]),"animationId",O)),childIndex:D2e(U,b.children),item:U})}),z},m=function(b,_){var N=b.props,E=b.dataStartIndex,C=b.dataEndIndex,O=b.updateId;if(!M9({props:N}))return null;var P=N.children,M=N.layout,L=N.stackOffset,j=N.data,T=N.reverseStackOrder,I=Nz(M),B=I.numericAxisName,G=I.cateAxisName,Z=wc(P,n),re=jNe(j,Z,"".concat(B,"Id"),"".concat(G,"Id"),L,T),W=c.reduce(function(D,K){var J="".concat(K.axisType,"Map");return Ot(Ot({},D),{},Qr({},J,p8e(N,Ot(Ot({},K),{},{graphicalItems:Z,stackGroups:K.axisType===B&&re,dataStartIndex:E,dataEndIndex:C}))))},{}),z=v8e(Ot(Ot({},W),{},{props:N,graphicalItems:Z}),_==null?void 0:_.legendBBox);Object.keys(W).forEach(function(D){W[D]=d(N,W[D],z,D.replace("Map",""),r)});var U=W["".concat(G,"Map")],Y=m8e(U),Q=h(N,Ot(Ot({},W),{},{dataStartIndex:E,dataEndIndex:C,updateId:O,graphicalItems:Z,stackGroups:re,offset:z}));return Ot(Ot({formattedGraphicalItems:Q,graphicalItems:Z,offset:z,stackGroups:re},Y),W)},w=function(y){function b(_){var N,E,C;return J6e(this,b),C=e8e(this,b,[_]),Qr(C,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Qr(C,"accessibilityManager",new L6e),Qr(C,"handleLegendBBoxUpdate",function(O){if(O){var P=C.state,M=P.dataStartIndex,L=P.dataEndIndex,j=P.updateId;C.setState(Ot({legendBBox:O},m({props:C.props,dataStartIndex:M,dataEndIndex:L,updateId:j},Ot(Ot({},C.state),{},{legendBBox:O}))))}}),Qr(C,"handleReceiveSyncEvent",function(O,P,M){if(C.props.syncId===O){if(M===C.eventEmitterSymbol&&typeof C.props.syncMethod!="function")return;C.applySyncEvent(P)}}),Qr(C,"handleBrushChange",function(O){var P=O.startIndex,M=O.endIndex;if(P!==C.state.dataStartIndex||M!==C.state.dataEndIndex){var L=C.state.updateId;C.setState(function(){return Ot({dataStartIndex:P,dataEndIndex:M},m({props:C.props,dataStartIndex:P,dataEndIndex:M,updateId:L},C.state))}),C.triggerSyncEvent({dataStartIndex:P,dataEndIndex:M})}}),Qr(C,"handleMouseEnter",function(O){var P=C.getMouseInfo(O);if(P){var M=Ot(Ot({},P),{},{isTooltipActive:!0});C.setState(M),C.triggerSyncEvent(M);var L=C.props.onMouseEnter;tn(L)&&L(M,O)}}),Qr(C,"triggeredAfterMouseMove",function(O){var P=C.getMouseInfo(O),M=P?Ot(Ot({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};C.setState(M),C.triggerSyncEvent(M);var L=C.props.onMouseMove;tn(L)&&L(M,O)}),Qr(C,"handleItemMouseEnter",function(O){C.setState(function(){return{isTooltipActive:!0,activeItem:O,activePayload:O.tooltipPayload,activeCoordinate:O.tooltipPosition||{x:O.cx,y:O.cy}}})}),Qr(C,"handleItemMouseLeave",function(){C.setState(function(){return{isTooltipActive:!1}})}),Qr(C,"handleMouseMove",function(O){O.persist(),C.throttleTriggeredAfterMouseMove(O)}),Qr(C,"handleMouseLeave",function(O){C.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};C.setState(P),C.triggerSyncEvent(P);var M=C.props.onMouseLeave;tn(M)&&M(P,O)}),Qr(C,"handleOuterEvent",function(O){var P=O2e(O),M=xc(C.props,"".concat(P));if(P&&tn(M)){var L,j;/.*touch.*/i.test(P)?j=C.getMouseInfo(O.changedTouches[0]):j=C.getMouseInfo(O),M((L=j)!==null&&L!==void 0?L:{},O)}}),Qr(C,"handleClick",function(O){var P=C.getMouseInfo(O);if(P){var M=Ot(Ot({},P),{},{isTooltipActive:!0});C.setState(M),C.triggerSyncEvent(M);var L=C.props.onClick;tn(L)&&L(M,O)}}),Qr(C,"handleMouseDown",function(O){var P=C.props.onMouseDown;if(tn(P)){var M=C.getMouseInfo(O);P(M,O)}}),Qr(C,"handleMouseUp",function(O){var P=C.props.onMouseUp;if(tn(P)){var M=C.getMouseInfo(O);P(M,O)}}),Qr(C,"handleTouchMove",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&C.throttleTriggeredAfterMouseMove(O.changedTouches[0])}),Qr(C,"handleTouchStart",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&C.handleMouseDown(O.changedTouches[0])}),Qr(C,"handleTouchEnd",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&C.handleMouseUp(O.changedTouches[0])}),Qr(C,"handleDoubleClick",function(O){var P=C.props.onDoubleClick;if(tn(P)){var M=C.getMouseInfo(O);P(M,O)}}),Qr(C,"handleContextMenu",function(O){var P=C.props.onContextMenu;if(tn(P)){var M=C.getMouseInfo(O);P(M,O)}}),Qr(C,"triggerSyncEvent",function(O){C.props.syncId!==void 0&&jP.emit($P,C.props.syncId,O,C.eventEmitterSymbol)}),Qr(C,"applySyncEvent",function(O){var P=C.props,M=P.layout,L=P.syncMethod,j=C.state.updateId,T=O.dataStartIndex,I=O.dataEndIndex;if(O.dataStartIndex!==void 0||O.dataEndIndex!==void 0)C.setState(Ot({dataStartIndex:T,dataEndIndex:I},m({props:C.props,dataStartIndex:T,dataEndIndex:I,updateId:j},C.state)));else if(O.activeTooltipIndex!==void 0){var B=O.chartX,G=O.chartY,Z=O.activeTooltipIndex,re=C.state,W=re.offset,z=re.tooltipTicks;if(!W)return;if(typeof L=="function")Z=L(z,O);else if(L==="value"){Z=-1;for(var U=0;U<z.length;U++)if(z[U].value===O.activeLabel){Z=U;break}}var Y=Ot(Ot({},W),{},{x:W.left,y:W.top}),Q=Math.min(B,Y.x+Y.width),D=Math.min(G,Y.y+Y.height),K=z[Z]&&z[Z].value,J=iO(C.state,C.props.data,Z),ne=z[Z]?{x:M==="horizontal"?z[Z].coordinate:Q,y:M==="horizontal"?D:z[Z].coordinate}:mee;C.setState(Ot(Ot({},O),{},{activeLabel:K,activeCoordinate:ne,activePayload:J,activeTooltipIndex:Z}))}else C.setState(O)}),Qr(C,"renderCursor",function(O){var P,M=C.state,L=M.isTooltipActive,j=M.activeCoordinate,T=M.activePayload,I=M.offset,B=M.activeTooltipIndex,G=M.tooltipAxisBandSize,Z=C.getTooltipEventType(),re=(P=O.props.active)!==null&&P!==void 0?P:L,W=C.props.layout,z=O.key||"_recharts-cursor";return l(W6e,{activeCoordinate:j,activePayload:T,activeTooltipIndex:B,chartName:r,element:O,isActive:re,layout:W,offset:I,tooltipAxisBandSize:G,tooltipEventType:Z},z)}),Qr(C,"renderPolarAxis",function(O,P,M){var L=xc(O,"type.axisType"),j=xc(C.state,"".concat(L,"Map")),T=O.type.defaultProps,I=T!==void 0?Ot(Ot({},T),O.props):O.props,B=j&&j[I["".concat(L,"Id")]];return S.cloneElement(O,Ot(Ot({},B),{},{className:yn(L,B.className),key:O.key||"".concat(P,"-").concat(M),ticks:uh(B,!0)}))}),Qr(C,"renderPolarGrid",function(O){var P=O.props,M=P.radialLines,L=P.polarAngles,j=P.polarRadius,T=C.state,I=T.radiusAxisMap,B=T.angleAxisMap,G=Gp(I),Z=Gp(B),re=Z.cx,W=Z.cy,z=Z.innerRadius,U=Z.outerRadius;return S.cloneElement(O,{polarAngles:Array.isArray(L)?L:uh(Z,!0).map(function(Y){return Y.coordinate}),polarRadius:Array.isArray(j)?j:uh(G,!0).map(function(Y){return Y.coordinate}),cx:re,cy:W,innerRadius:z,outerRadius:U,key:O.key||"polar-grid",radialLines:M})}),Qr(C,"renderLegend",function(){var O=C.state.formattedGraphicalItems,P=C.props,M=P.children,L=P.width,j=P.height,T=C.props.margin||{},I=L-(T.left||0)-(T.right||0),B=YZ({children:M,formattedGraphicalItems:O,legendWidth:I,legendContent:u});if(!B)return null;var G=B.item,Z=wz(B,V6e);return S.cloneElement(G,Ot(Ot({},Z),{},{chartWidth:L,chartHeight:j,margin:T,onBBoxUpdate:C.handleLegendBBoxUpdate}))}),Qr(C,"renderTooltip",function(){var O,P=C.props,M=P.children,L=P.accessibilityLayer,j=sc(M,ri);if(!j)return null;var T=C.state,I=T.isTooltipActive,B=T.activeCoordinate,G=T.activePayload,Z=T.activeLabel,re=T.offset,W=(O=j.props.active)!==null&&O!==void 0?O:I;return S.cloneElement(j,{viewBox:Ot(Ot({},re),{},{x:re.left,y:re.top}),active:W,label:Z,payload:W?G:[],coordinate:B,accessibilityLayer:L})}),Qr(C,"renderBrush",function(O){var P=C.props,M=P.margin,L=P.data,j=C.state,T=j.offset,I=j.dataStartIndex,B=j.dataEndIndex,G=j.updateId;return S.cloneElement(O,{key:O.key||"_recharts-brush",onChange:E_(C.handleBrushChange,O.props.onChange),data:L,x:Xt(O.props.x)?O.props.x:T.left,y:Xt(O.props.y)?O.props.y:T.top+T.height+T.brushBottom-(M.bottom||0),width:Xt(O.props.width)?O.props.width:T.width,startIndex:I,endIndex:B,updateId:"brush-".concat(G)})}),Qr(C,"renderReferenceElement",function(O,P,M){if(!O)return null;var L=C,j=L.clipPathId,T=C.state,I=T.xAxisMap,B=T.yAxisMap,G=T.offset,Z=O.type.defaultProps||{},re=O.props,W=re.xAxisId,z=W===void 0?Z.xAxisId:W,U=re.yAxisId,Y=U===void 0?Z.yAxisId:U;return S.cloneElement(O,{key:O.key||"".concat(P,"-").concat(M),xAxis:I[z],yAxis:B[Y],viewBox:{x:G.left,y:G.top,width:G.width,height:G.height},clipPathId:j})}),Qr(C,"renderActivePoints",function(O){var P=O.item,M=O.activePoint,L=O.basePoint,j=O.childIndex,T=O.isRange,I=[],B=P.props.key,G=P.item.type.defaultProps!==void 0?Ot(Ot({},P.item.type.defaultProps),P.item.props):P.item.props,Z=G.activeDot,re=G.dataKey,W=Ot(Ot({index:j,dataKey:re,cx:M.x,cy:M.y,r:4,fill:VI(P.item),strokeWidth:2,stroke:"#fff",payload:M.payload,value:M.value},Rr(Z,!1)),j5(Z));return I.push(b.renderActiveDot(Z,W,"".concat(B,"-activePoint-").concat(j))),L?I.push(b.renderActiveDot(Z,Ot(Ot({},W),{},{cx:L.x,cy:L.y}),"".concat(B,"-basePoint-").concat(j))):T&&I.push(null),I}),Qr(C,"renderGraphicChild",function(O,P,M){var L=C.filterFormatItem(O,P,M);if(!L)return null;var j=C.getTooltipEventType(),T=C.state,I=T.isTooltipActive,B=T.tooltipAxis,G=T.activeTooltipIndex,Z=T.activeLabel,re=C.props.children,W=sc(re,ri),z=L.props,U=z.points,Y=z.isRange,Q=z.baseLine,D=L.item.type.defaultProps!==void 0?Ot(Ot({},L.item.type.defaultProps),L.item.props):L.item.props,K=D.activeDot,J=D.hide,ne=D.activeBar,ie=D.activeShape,oe=!!(!J&&I&&W&&(K||ne||ie)),ue={};j!=="axis"&&W&&W.props.trigger==="click"?ue={onClick:E_(C.handleItemMouseEnter,O.props.onClick)}:j!=="axis"&&(ue={onMouseLeave:E_(C.handleItemMouseLeave,O.props.onMouseLeave),onMouseEnter:E_(C.handleItemMouseEnter,O.props.onMouseEnter)});var V=S.cloneElement(O,Ot(Ot({},L.props),ue));function se(_e){return typeof B.dataKey=="function"?B.dataKey(_e.payload):null}if(oe)if(G>=0){var fe,te;if(B.dataKey&&!B.allowDuplicatedCategory){var Ee=typeof B.dataKey=="function"?se:"payload.".concat(B.dataKey.toString());fe=L5(U,Ee,Z),te=Y&&Q&&L5(Q,Ee,Z)}else fe=U==null?void 0:U[G],te=Y&&Q&&Q[G];if(ie||ne){var Fe=O.props.activeIndex!==void 0?O.props.activeIndex:G;return[S.cloneElement(O,Ot(Ot(Ot({},L.props),ue),{},{activeIndex:Fe})),null,null]}if(!vn(fe))return[V].concat(Y1(C.renderActivePoints({item:L,activePoint:fe,basePoint:te,childIndex:G,isRange:Y})))}else{var Pe,ve=(Pe=C.getItemByXY(C.state.activeCoordinate))!==null&&Pe!==void 0?Pe:{graphicalItem:V},Ge=ve.graphicalItem,ht=Ge.item,at=ht===void 0?O:ht,St=Ge.childIndex,wt=Ot(Ot(Ot({},L.props),ue),{},{activeIndex:St});return[S.cloneElement(at,wt),null,null]}return Y?[V,null,null]:[V,null]}),Qr(C,"renderCustomized",function(O,P,M){return S.cloneElement(O,Ot(Ot({key:"recharts-customized-".concat(M)},C.props),C.state))}),Qr(C,"renderMap",{CartesianGrid:{handler:D_,once:!0},ReferenceArea:{handler:C.renderReferenceElement},ReferenceLine:{handler:D_},ReferenceDot:{handler:C.renderReferenceElement},XAxis:{handler:D_},YAxis:{handler:D_},Brush:{handler:C.renderBrush,once:!0},Bar:{handler:C.renderGraphicChild},Line:{handler:C.renderGraphicChild},Area:{handler:C.renderGraphicChild},Radar:{handler:C.renderGraphicChild},RadialBar:{handler:C.renderGraphicChild},Scatter:{handler:C.renderGraphicChild},Pie:{handler:C.renderGraphicChild},Funnel:{handler:C.renderGraphicChild},Tooltip:{handler:C.renderCursor,once:!0},PolarGrid:{handler:C.renderPolarGrid,once:!0},PolarAngleAxis:{handler:C.renderPolarAxis},PolarRadiusAxis:{handler:C.renderPolarAxis},Customized:{handler:C.renderCustomized}}),C.clipPathId="".concat((N=_.id)!==null&&N!==void 0?N:Pg("recharts"),"-clip"),C.throttleTriggeredAfterMouseMove=GJ(C.triggeredAfterMouseMove,(E=_.throttleDelay)!==null&&E!==void 0?E:1e3/60),C.state={},C}return n8e(b,y),Q6e(b,[{key:"componentDidMount",value:function(){var N,E;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var N=this.props,E=N.children,C=N.data,O=N.height,P=N.layout,M=sc(E,ri);if(M){var L=M.props.defaultIndex;if(!(typeof L!="number"||L<0||L>this.state.tooltipTicks.length-1)){var j=this.state.tooltipTicks[L]&&this.state.tooltipTicks[L].value,T=iO(this.state,C,L,j),I=this.state.tooltipTicks[L].coordinate,B=(this.state.offset.top+O)/2,G=P==="horizontal",Z=G?{x:I,y:B}:{y:I,x:B},re=this.state.formattedGraphicalItems.find(function(z){var U=z.item;return U.type.name==="Scatter"});re&&(Z=Ot(Ot({},Z),re.props.points[L].tooltipPosition),T=re.props.points[L].tooltipPayload);var W={activeTooltipIndex:L,isTooltipActive:!0,activeLabel:j,activePayload:T,activeCoordinate:Z};this.setState(W),this.renderCursor(M),this.accessibilityManager.setIndex(L)}}}},{key:"getSnapshotBeforeUpdate",value:function(N,E){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==E.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==N.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==N.margin){var C,O;this.accessibilityManager.setDetails({offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0}})}return null}},{key:"componentDidUpdate",value:function(N){q6([sc(N.children,ri)],[sc(this.props.children,ri)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var N=sc(this.props.children,ri);if(N&&typeof N.props.shared=="boolean"){var E=N.props.shared?"axis":"item";return o.indexOf(E)>=0?E:i}return i}},{key:"getMouseInfo",value:function(N){if(!this.container)return null;var E=this.container,C=E.getBoundingClientRect(),O=y_e(C),P={chartX:Math.round(N.pageX-O.left),chartY:Math.round(N.pageY-O.top)},M=C.width/E.offsetWidth||1,L=this.inRange(P.chartX,P.chartY,M);if(!L)return null;var j=this.state,T=j.xAxisMap,I=j.yAxisMap,B=this.getTooltipEventType(),G=_z(this.state,this.props.data,this.props.layout,L);if(B!=="axis"&&T&&I){var Z=Gp(T).scale,re=Gp(I).scale,W=Z&&Z.invert?Z.invert(P.chartX):null,z=re&&re.invert?re.invert(P.chartY):null;return Ot(Ot({},P),{},{xValue:W,yValue:z},G)}return G?Ot(Ot({},P),G):null}},{key:"inRange",value:function(N,E){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,O=this.props.layout,P=N/C,M=E/C;if(O==="horizontal"||O==="vertical"){var L=this.state.offset,j=P>=L.left&&P<=L.left+L.width&&M>=L.top&&M<=L.top+L.height;return j?{x:P,y:M}:null}var T=this.state,I=T.angleAxisMap,B=T.radiusAxisMap;if(I&&B){var G=Gp(I);return SU({x:P,y:M},G)}return null}},{key:"parseEventsOfWrapper",value:function(){var N=this.props.children,E=this.getTooltipEventType(),C=sc(N,ri),O={};C&&E==="axis"&&(C.props.trigger==="click"?O={onClick:this.handleClick}:O={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var P=j5(this.props,this.handleOuterEvent);return Ot(Ot({},P),O)}},{key:"addListener",value:function(){jP.on($P,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){jP.removeListener($P,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(N,E,C){for(var O=this.state.formattedGraphicalItems,P=0,M=O.length;P<M;P++){var L=O[P];if(L.item===N||L.props.key===N.key||E===hh(L.item.type)&&C===L.childIndex)return L}return null}},{key:"renderClipPath",value:function(){var N=this.clipPathId,E=this.state.offset,C=E.left,O=E.top,P=E.height,M=E.width;return l("defs",{children:l("clipPath",{id:N,children:l("rect",{x:C,y:O,height:P,width:M})})})}},{key:"getXScales",value:function(){var N=this.state.xAxisMap;return N?Object.entries(N).reduce(function(E,C){var O=xz(C,2),P=O[0],M=O[1];return Ot(Ot({},E),{},Qr({},P,M.scale))},{}):null}},{key:"getYScales",value:function(){var N=this.state.yAxisMap;return N?Object.entries(N).reduce(function(E,C){var O=xz(C,2),P=O[0],M=O[1];return Ot(Ot({},E),{},Qr({},P,M.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(N){var E;return(E=this.state.xAxisMap)===null||E===void 0||(E=E[N])===null||E===void 0?void 0:E.scale}},{key:"getYScaleByAxisId",value:function(N){var E;return(E=this.state.yAxisMap)===null||E===void 0||(E=E[N])===null||E===void 0?void 0:E.scale}},{key:"getItemByXY",value:function(N){var E=this.state,C=E.formattedGraphicalItems,O=E.activeItem;if(C&&C.length)for(var P=0,M=C.length;P<M;P++){var L=C[P],j=L.props,T=L.item,I=T.type.defaultProps!==void 0?Ot(Ot({},T.type.defaultProps),T.props):T.props,B=hh(T.type);if(B==="Bar"){var G=(j.data||[]).find(function(z){return Mke(N,z)});if(G)return{graphicalItem:L,payload:G}}else if(B==="RadialBar"){var Z=(j.data||[]).find(function(z){return SU(N,z)});if(Z)return{graphicalItem:L,payload:Z}}else if(kN(L,O)||EN(L,O)||Jx(L,O)){var re=iCe({graphicalItem:L,activeTooltipItem:O,itemData:I.data}),W=I.activeIndex===void 0?re:I.activeIndex;return{graphicalItem:Ot(Ot({},L),{},{childIndex:W}),payload:Jx(L,O)?I.data[re]:L.props.data[re]}}}return null}},{key:"render",value:function(){var N=this;if(!M9(this))return null;var E=this.props,C=E.children,O=E.className,P=E.width,M=E.height,L=E.style,j=E.compact,T=E.title,I=E.desc,B=wz(E,H6e),G=Rr(B,!1);if(j)return l(Zq,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId,children:x(W6,{...G,width:P,height:M,title:T,desc:I,children:[this.renderClipPath(),L9(C,this.renderMap)]})});if(this.props.accessibilityLayer){var Z,re;G.tabIndex=(Z=this.props.tabIndex)!==null&&Z!==void 0?Z:0,G.role=(re=this.props.role)!==null&&re!==void 0?re:"application",G.onKeyDown=function(z){N.accessibilityManager.keyboardEvent(z)},G.onFocus=function(){N.accessibilityManager.focus()}}var W=this.parseEventsOfWrapper();return l(Zq,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId,children:x("div",{className:yn("recharts-wrapper",O),style:Ot({position:"relative",cursor:"default",width:P,height:M},L),...W,ref:function(U){N.container=U},children:[x(W6,{...G,width:P,height:M,title:T,desc:I,style:c8e,children:[this.renderClipPath(),L9(C,this.renderMap)]}),this.renderLegend(),this.renderTooltip()]})})}}])}(S.Component);Qr(w,"displayName",r),Qr(w,"defaultProps",Ot({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Qr(w,"getDerivedStateFromProps",function(y,b){var _=y.dataKey,N=y.data,E=y.children,C=y.width,O=y.height,P=y.layout,M=y.stackOffset,L=y.margin,j=b.dataStartIndex,T=b.dataEndIndex;if(b.updateId===void 0){var I=Sz(y);return Ot(Ot(Ot({},I),{},{updateId:0},m(Ot(Ot({props:y},I),{},{updateId:0}),b)),{},{prevDataKey:_,prevData:N,prevWidth:C,prevHeight:O,prevLayout:P,prevStackOffset:M,prevMargin:L,prevChildren:E})}if(_!==b.prevDataKey||N!==b.prevData||C!==b.prevWidth||O!==b.prevHeight||P!==b.prevLayout||M!==b.prevStackOffset||!e1(L,b.prevMargin)){var B=Sz(y),G={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},Z=Ot(Ot({},_z(b,N,P)),{},{updateId:b.updateId+1}),re=Ot(Ot(Ot({},B),G),Z);return Ot(Ot(Ot({},re),m(Ot({props:y},re),b)),{},{prevDataKey:_,prevData:N,prevWidth:C,prevHeight:O,prevLayout:P,prevStackOffset:M,prevMargin:L,prevChildren:E})}if(!q6(E,b.prevChildren)){var W,z,U,Y,Q=sc(E,L1),D=Q&&(W=(z=Q.props)===null||z===void 0?void 0:z.startIndex)!==null&&W!==void 0?W:j,K=Q&&(U=(Y=Q.props)===null||Y===void 0?void 0:Y.endIndex)!==null&&U!==void 0?U:T,J=D!==j||K!==T,ne=!vn(N),ie=ne&&!J?b.updateId:b.updateId+1;return Ot(Ot({updateId:ie},m(Ot(Ot({props:y},b),{},{updateId:ie,dataStartIndex:D,dataEndIndex:K}),b)),{},{prevChildren:E,dataStartIndex:D,dataEndIndex:K})}return null}),Qr(w,"renderActiveDot",function(y,b,_){var N;return S.isValidElement(y)?N=S.cloneElement(y,b):tn(y)?N=y(b):N=l(ab,{...b}),l(Ln,{className:"recharts-active-dot",children:N},_)});var g=S.forwardRef(function(b,_){return l(w,{...b,ref:_})});return g.displayName=w.displayName,g},vee=RN({chartName:"LineChart",GraphicalChild:pm,axisComponents:[{axisType:"xAxis",AxisComp:Rl},{axisType:"yAxis",AxisComp:Ml}],formatAxisMap:GI}),aw=RN({chartName:"BarChart",GraphicalChild:au,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Rl},{axisType:"yAxis",AxisComp:Ml}],formatAxisMap:GI}),Jp=RN({chartName:"PieChart",GraphicalChild:$o,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:AN},{axisType:"radiusAxis",AxisComp:SN}],formatAxisMap:XNe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),yee=RN({chartName:"AreaChart",GraphicalChild:Ih,axisComponents:[{axisType:"xAxis",AxisComp:Rl},{axisType:"yAxis",AxisComp:Ml}],formatAxisMap:GI});const Tv=["#4F46E5","#60A5FA","#34D399","#FBBF24","#F87171"],x8e=({revenueData:e=[],appointmentTypeData:t=[],dailyAppointmentData:r=[],treatmentStatusData:n=[],profitEstimationData:a={conversionRate:0,estimatedSales:0,estimatedProfit:0},totalRevenue:i=0,dailyVisitors:s=0,revenueChangePercentage:o=0,dailyAppointmentsChangePercentage:c=0,overallTreatmentProgress:u=0,patientAgeData:d=[],appointmentStatusData:f=[],treatmentPlanStatusData:h=[],upcomingWeeklyAppointmentTrendData:m=[]})=>{const w=t.reduce((N,E)=>N+E.value,0),g=f.reduce((N,E)=>N+E.value,0),y=h.reduce((N,E)=>N+E.value,0),b=["#FBBF24","#34D399","#F87171","#9CA3AF"],_=["#60A5FA","#34D399","#FBBF24","#F87171"];return x("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3",children:[x(or,{className:"col-span-1 md:col-span-2 xl:col-span-2",children:[x(wr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[x("div",{children:[x(_r,{className:"text-3xl font-bold",children:["₹",i?i.toLocaleString():"0"]}),l("p",{className:"text-xs text-muted-foreground",children:"Overall Revenue / Appointments"})]}),x("div",{className:"flex items-center space-x-2",children:[x("span",{className:`text-xs flex items-center ${o>=0?"text-green-500":"text-red-500"}`,children:[l(Yce,{className:"h-3 w-3 mr-1"})," ",o>=0?"+":"",o.toFixed(2),"%"]}),x(Ur,{defaultValue:"monthly",children:[l(jr,{className:"w-[110px] h-8 text-xs",children:l(qr,{placeholder:"Select"})}),x($r,{children:[l(mt,{value:"monthly",children:"Monthly"}),l(mt,{value:"yearly",children:"Yearly"})]})]})]})]}),l(pr,{className:"pl-2 pr-6",children:l(Oo,{width:"100%",height:250,children:x(vee,{data:e,children:[l(Rl,{dataKey:"name",axisLine:!1,tickLine:!1,dy:10,style:{fontSize:"12px"}}),l(Ml,{hide:!0}),l(ri,{contentStyle:{fontSize:"12px",padding:"4px 8px",borderRadius:"4px"},formatter:(N,E)=>[`${N} ${E==="uv"?"Appointments":"Revenue"}`,null]}),l(pm,{type:"monotone",dataKey:"uv",name:"Appointments",stroke:"#60A5FA",strokeWidth:2,dot:{r:4,fill:"#60A5FA",stroke:"#fff",strokeWidth:2},activeDot:{r:6}}),l(pm,{type:"monotone",dataKey:"pv",name:"Revenue",stroke:"#4F46E5",strokeWidth:2,dot:!1})]})})})]}),x(or,{children:[x(wr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l(_r,{className:"text-sm font-medium",children:"Appointment Types"}),x(Ur,{defaultValue:"monthly",children:[l(jr,{className:"w-[110px] h-8 text-xs",children:l(qr,{placeholder:"Select"})}),x($r,{children:[l(mt,{value:"monthly",children:"Monthly"}),l(mt,{value:"yearly",children:"Yearly"})]})]})]}),x(pr,{className:"flex flex-col items-center",children:[l(Oo,{width:"100%",height:180,children:x(Jp,{children:[l($o,{data:t,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:1,dataKey:"value",startAngle:90,endAngle:450,children:t.map((N,E)=>l(Jc,{fill:Tv[E%Tv.length],stroke:Tv[E%Tv.length]},`cell-${E}`))}),l(ri,{formatter:(N,E)=>[`${N} (${(N/w*100).toFixed(1)}%)`,E]})]})}),l("div",{className:"flex flex-wrap justify-center gap-x-4 gap-y-2 w-full mt-4 text-xs",children:t.map((N,E)=>x("div",{className:"flex items-center",children:[l("span",{className:"w-2 h-2 rounded-full mr-2",style:{backgroundColor:Tv[E%Tv.length]}}),N.name," ",(N.value/w*100).toFixed(1),"%"]},`legend-${E}`))})]})]}),x(or,{children:[x(wr,{className:"pb-2",children:[l("div",{className:"flex flex-row items-center justify-between space-y-0",children:l(_r,{className:"text-sm font-medium",children:"Appointments Trend"})}),l("p",{className:"text-xs text-muted-foreground",children:"Total scheduled appointments per day over the next 7 days"})]}),l(pr,{className:"pb-4 pl-2 pr-4",children:l(Oo,{width:"100%",height:150,children:x(aw,{data:m,children:[l(Rl,{dataKey:"name",axisLine:!1,tickLine:!1,dy:10,style:{fontSize:"12px"}}),l(Ml,{allowDecimals:!1,axisLine:!1,tickLine:!1,width:30,style:{fontSize:"12px"}}),l(ri,{cursor:{fill:"rgba(79, 70, 229, 0.1)"},contentStyle:{fontSize:"12px",padding:"4px 8px",borderRadius:"4px"},formatter:N=>[`${N} Appointments`,null]}),l(au,{dataKey:"value",name:"Appointments",fill:"#22C55E",radius:[4,4,0,0],barSize:12})]})})})]}),x(or,{children:[x(wr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l(_r,{className:"text-sm font-medium",children:"Treatment Plan Status"}),l(Me,{variant:"ghost",size:"sm",className:"w-8 h-8 p-0",children:l(Fce,{className:"h-4 w-4"})})]}),x(pr,{children:[x("div",{className:"flex items-center justify-between mb-4",children:[x("div",{className:"flex items-center space-x-3",children:[l("div",{className:"p-2 bg-indigo-100 rounded-lg",children:l(rm,{className:"h-5 w-5 text-indigo-600"})}),x("div",{children:[l("p",{className:"text-sm font-medium",children:"Overall Progress"}),l("p",{className:"text-xs text-muted-foreground",children:"Across Active Plans"})]})]}),x("div",{className:"text-lg font-semibold",children:[u.toFixed(0),"%"]})]}),l(Oo,{width:"100%",height:100,children:x(yee,{data:n,margin:{top:5,right:0,left:0,bottom:0},children:[l("defs",{children:x("linearGradient",{id:"colorStatus",x1:"0",y1:"0",x2:"0",y2:"1",children:[l("stop",{offset:"5%",stopColor:"#4F46E5",stopOpacity:.1}),l("stop",{offset:"95%",stopColor:"#4F46E5",stopOpacity:0})]})}),l(Rl,{dataKey:"name",axisLine:!1,tickLine:!1,dy:10,style:{fontSize:"12px"}}),l(Ml,{hide:!0,domain:[0,100]})," ",l(ri,{formatter:N=>[`${N}% Complete`,null]}),l(Ih,{type:"monotone",dataKey:"value",name:"Completion Rate",stroke:"#4F46E5",fillOpacity:1,fill:"url(#colorStatus)",strokeWidth:2,dot:{r:4,fill:"#4F46E5",stroke:"#fff",strokeWidth:2},activeDot:{r:6}})]})})]})]}),x(or,{children:[x(wr,{className:"pb-4",children:[l(_r,{className:"text-sm font-medium",children:"Profit Estimation"}),l("p",{className:"text-xs text-muted-foreground",children:"Based on completed treatments"})]}),x(pr,{className:"flex flex-col items-center",children:[l(Oo,{width:"100%",height:120,children:x(Jp,{children:[x($o,{data:[{name:"Conversion",value:a.conversionRate},{name:"Remaining",value:100-a.conversionRate}],cx:"50%",cy:"50%",innerRadius:45,outerRadius:60,startAngle:90,endAngle:90+360*(a.conversionRate/100),dataKey:"value",stroke:"none",children:[l(Jc,{fill:"#4F46E5"}),l(Jc,{fill:"#E5E7EB"})]}),l("text",{x:"50%",y:"50%",textAnchor:"middle",dominantBaseline:"middle",fontSize:"10",fill:"#6B7280",children:"Conversion"}),x("text",{x:"50%",y:"65%",textAnchor:"middle",dominantBaseline:"middle",fontSize:"18",fontWeight:"bold",fill:"#111827",children:[a.conversionRate.toFixed(0),"%"]})]})}),x("div",{className:"flex justify-around w-full mt-4 text-xs border-t pt-4",children:[x("div",{className:"text-center",children:[l("p",{className:"text-muted-foreground",children:"Est. Sales"}),l("p",{className:"font-semibold",children:a.estimatedSales.toLocaleString()})]}),x("div",{className:"text-center",children:[l("p",{className:"text-muted-foreground",children:"Est. Profit"}),x("p",{className:"font-semibold",children:["₹",a.estimatedProfit.toLocaleString()]})]})]})]})]}),x(or,{children:[l(wr,{className:"pb-2",children:l(_r,{className:"text-sm font-medium",children:"Patient Age Distribution"})}),l(pr,{className:"pb-4 pl-2 pr-4",children:l(Oo,{width:"100%",height:200,children:x(aw,{data:d,layout:"vertical",barCategoryGap:"20%",children:[l(Rl,{type:"number",hide:!0}),l(Ml,{dataKey:"name",type:"category",axisLine:!1,tickLine:!1,style:{fontSize:"12px"},width:60}),l(ri,{cursor:{fill:"rgba(79, 70, 229, 0.1)"},contentStyle:{fontSize:"12px",padding:"4px 8px",borderRadius:"4px"}}),l(au,{dataKey:"value",name:"Patients",fill:"#8B5CF6",radius:[0,4,4,0],barSize:10})]})})})]}),x(or,{children:[l(wr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:l(_r,{className:"text-sm font-medium",children:"Appointment Status"})}),x(pr,{className:"flex flex-col items-center",children:[l(Oo,{width:"100%",height:180,children:x(Jp,{children:[l($o,{data:f,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:1,dataKey:"value",startAngle:90,endAngle:450,children:f.map((N,E)=>l(Jc,{fill:b[E%b.length],stroke:b[E%b.length]},`cell-apt-status-${E}`))}),l(ri,{formatter:(N,E)=>[`${N} (${g>0?(N/g*100).toFixed(1):0}%)`,E]})]})}),l("div",{className:"flex flex-wrap justify-center gap-x-4 gap-y-2 w-full mt-4 text-xs",children:f.map((N,E)=>x("div",{className:"flex items-center",children:[l("span",{className:"w-2 h-2 rounded-full mr-2",style:{backgroundColor:b[E%b.length]}}),N.name," (",g>0?(N.value/g*100).toFixed(1):0,"%)"]},`legend-apt-status-${E}`))})]})]}),x(or,{children:[l(wr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:l(_r,{className:"text-sm font-medium",children:"Treatment Plan Status"})}),x(pr,{className:"flex flex-col items-center",children:[l(Oo,{width:"100%",height:180,children:x(Jp,{children:[l($o,{data:h,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:1,dataKey:"value",startAngle:90,endAngle:450,children:h.map((N,E)=>l(Jc,{fill:_[E%_.length],stroke:_[E%_.length]},`cell-tp-status-${E}`))}),l(ri,{formatter:(N,E)=>[`${N} (${y>0?(N/y*100).toFixed(1):0}%)`,E]})]})}),l("div",{className:"flex flex-wrap justify-center gap-x-4 gap-y-2 w-full mt-4 text-xs",children:h.map((N,E)=>x("div",{className:"flex items-center",children:[l("span",{className:"w-2 h-2 rounded-full mr-2",style:{backgroundColor:_[E%_.length]}}),N.name," (",y>0?(N.value/y*100).toFixed(1):0,"%)"]},`legend-tp-status-${E}`))})]})]})]})};function w8e(e,t){return S.useReducer((r,n)=>t[r][n]??r,e)}var MN=e=>{const{present:t,children:r}=e,n=b8e(t),a=typeof r=="function"?r({present:n.isPresent}):S.Children.only(r),i=Jr(n.ref,_8e(a));return typeof r=="function"||n.isPresent?S.cloneElement(a,{ref:i}):null};MN.displayName="Presence";function b8e(e){const[t,r]=S.useState(),n=S.useRef(null),a=S.useRef(e),i=S.useRef("none"),s=e?"mounted":"unmounted",[o,c]=w8e(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const u=I_(n.current);i.current=o==="mounted"?u:"none"},[o]),ui(()=>{const u=n.current,d=a.current;if(d!==e){const h=i.current,m=I_(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),ui(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const g=I_(n.current).includes(m.animationName);if(m.target===t&&g&&(c("ANIMATION_END"),!a.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},h=m=>{m.target===t&&(i.current=I_(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:S.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function I_(e){return(e==null?void 0:e.animationName)||"none"}function _8e(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var FN="Dialog",[xee,wee]=ts(FN),[S8e,hd]=xee(FN),bee=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:s=!0}=e,o=S.useRef(null),c=S.useRef(null),[u,d]=hl({prop:n,defaultProp:a??!1,onChange:i,caller:FN});return l(S8e,{scope:t,triggerRef:o,contentRef:c,contentId:$l(),titleId:$l(),descriptionId:$l(),open:u,onOpenChange:d,onOpenToggle:S.useCallback(()=>d(f=>!f),[d]),modal:s,children:r})};bee.displayName=FN;var _ee="DialogTrigger",See=S.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=hd(_ee,r),i=Jr(t,a.triggerRef);return l(xr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":sR(a.open),...n,ref:i,onClick:Ht(e.onClick,a.onOpenToggle)})});See.displayName=_ee;var aR="DialogPortal",[N8e,Nee]=xee(aR,{forceMount:void 0}),Aee=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=hd(aR,t);return l(N8e,{scope:t,forceMount:r,children:S.Children.map(n,s=>l(MN,{present:r||i.open,children:l(yy,{asChild:!0,container:a,children:s})}))})};Aee.displayName=aR;var OS="DialogOverlay",kee=S.forwardRef((e,t)=>{const r=Nee(OS,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=hd(OS,e.__scopeDialog);return i.modal?l(MN,{present:n||i.open,children:l(k8e,{...a,ref:t})}):null});kee.displayName=OS;var A8e=cm("DialogOverlay.RemoveScroll"),k8e=S.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=hd(OS,r);return l(Hw,{as:A8e,allowPinchZoom:!0,shards:[a.contentRef],children:l(xr.div,{"data-state":sR(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),ug="DialogContent",Eee=S.forwardRef((e,t)=>{const r=Nee(ug,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=hd(ug,e.__scopeDialog);return l(MN,{present:n||i.open,children:i.modal?l(E8e,{...a,ref:t}):l(C8e,{...a,ref:t})})});Eee.displayName=ug;var E8e=S.forwardRef((e,t)=>{const r=hd(ug,e.__scopeDialog),n=S.useRef(null),a=Jr(t,r.contentRef,n);return S.useEffect(()=>{const i=n.current;if(i)return R4(i)},[]),l(Cee,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ht(e.onCloseAutoFocus,i=>{var s;i.preventDefault(),(s=r.triggerRef.current)==null||s.focus()}),onPointerDownOutside:Ht(e.onPointerDownOutside,i=>{const s=i.detail.originalEvent,o=s.button===0&&s.ctrlKey===!0;(s.button===2||o)&&i.preventDefault()}),onFocusOutside:Ht(e.onFocusOutside,i=>i.preventDefault())})}),C8e=S.forwardRef((e,t)=>{const r=hd(ug,e.__scopeDialog),n=S.useRef(!1),a=S.useRef(!1);return l(Cee,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var s,o;(s=e.onCloseAutoFocus)==null||s.call(e,i),i.defaultPrevented||(n.current||(o=r.triggerRef.current)==null||o.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const s=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(s))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),Cee=S.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...s}=e,o=hd(ug,r),c=S.useRef(null),u=Jr(t,c);return k4(),x(Nr,{children:[l(qw,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:l(Ng,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":sR(o.open),...s,ref:u,onDismiss:()=>o.onOpenChange(!1)})}),x(Nr,{children:[l(T8e,{titleId:o.titleId}),l(D8e,{contentRef:c,descriptionId:o.descriptionId})]})]})}),iR="DialogTitle",Pee=S.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=hd(iR,r);return l(xr.h2,{id:a.titleId,...n,ref:t})});Pee.displayName=iR;var Tee="DialogDescription",Oee=S.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=hd(Tee,r);return l(xr.p,{id:a.descriptionId,...n,ref:t})});Oee.displayName=Tee;var Dee="DialogClose",Iee=S.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=hd(Dee,r);return l(xr.button,{type:"button",...n,ref:t,onClick:Ht(e.onClick,()=>a.onOpenChange(!1))})});Iee.displayName=Dee;function sR(e){return e?"open":"closed"}var Ree="DialogTitleWarning",[P8e,Mee]=jue(Ree,{contentName:ug,titleName:iR,docsSlug:"dialog"}),T8e=({titleId:e})=>{const t=Mee(Ree),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return S.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},O8e="DialogDescriptionWarning",D8e=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Mee(O8e).contentName}}.`;return S.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},Fee=bee,Lee=See,jee=Aee,oR=kee,lR=Eee,cR=Pee,uR=Oee,LN=Iee;const Hn=Fee,ib=Lee,I8e=jee,jN=LN,$ee=S.forwardRef(({className:e,...t},r)=>l(oR,{ref:r,className:Lt("fixed inset-0 z-50 bg-black/40 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));$ee.displayName=oR.displayName;const qn=S.forwardRef(({className:e,children:t,...r},n)=>x(I8e,{children:[l($ee,{}),x(lR,{ref:n,className:Lt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[l(ds,{children:r["aria-describedby"]}),t,x(LN,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l(ed,{className:"h-4 w-4"}),l("span",{className:"sr-only",children:"Close"})]})]})]}));qn.displayName=lR.displayName;const Jn=({className:e,...t})=>l("div",{className:Lt("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Jn.displayName="DialogHeader";const hs=({className:e,...t})=>l("div",{className:Lt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});hs.displayName="DialogFooter";const Zn=S.forwardRef(({className:e,...t},r)=>l(cR,{ref:r,className:Lt("text-lg font-semibold leading-none tracking-tight",e),...t}));Zn.displayName=cR.displayName;const ds=S.forwardRef(({className:e,...t},r)=>l(uR,{ref:r,className:Lt("text-sm text-muted-foreground",e),...t}));ds.displayName=uR.displayName;function R8e(e,t){return S.useReducer((r,n)=>t[r][n]??r,e)}var dR="ScrollArea",[Bee,rQe]=ts(dR),[M8e,ou]=Bee(dR),Uee=S.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...s}=e,[o,c]=S.useState(null),[u,d]=S.useState(null),[f,h]=S.useState(null),[m,w]=S.useState(null),[g,y]=S.useState(null),[b,_]=S.useState(0),[N,E]=S.useState(0),[C,O]=S.useState(!1),[P,M]=S.useState(!1),L=Jr(t,T=>c(T)),j=Sg(a);return l(M8e,{scope:r,type:n,dir:j,scrollHideDelay:i,scrollArea:o,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:w,scrollbarXEnabled:C,onScrollbarXEnabledChange:O,scrollbarY:g,onScrollbarYChange:y,scrollbarYEnabled:P,onScrollbarYEnabledChange:M,onCornerWidthChange:_,onCornerHeightChange:E,children:l(xr.div,{dir:j,...s,ref:L,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":N+"px",...e.style}})})});Uee.displayName=dR;var qee="ScrollAreaViewport",zee=S.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=e,s=ou(qee,r),o=S.useRef(null),c=Jr(t,o,s.onViewportChange);return x(Nr,{children:[l("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),l(xr.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...e.style},children:l("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});zee.displayName=qee;var xf="ScrollAreaScrollbar",fR=S.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=ou(xf,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:s}=a,o=e.orientation==="horizontal";return S.useEffect(()=>(o?i(!0):s(!0),()=>{o?i(!1):s(!1)}),[o,i,s]),a.type==="hover"?l(F8e,{...n,ref:t,forceMount:r}):a.type==="scroll"?l(L8e,{...n,ref:t,forceMount:r}):a.type==="auto"?l(Wee,{...n,ref:t,forceMount:r}):a.type==="always"?l(hR,{...n,ref:t}):null});fR.displayName=xf;var F8e=S.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=ou(xf,e.__scopeScrollArea),[i,s]=S.useState(!1);return S.useEffect(()=>{const o=a.scrollArea;let c=0;if(o){const u=()=>{window.clearTimeout(c),s(!0)},d=()=>{c=window.setTimeout(()=>s(!1),a.scrollHideDelay)};return o.addEventListener("pointerenter",u),o.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),o.removeEventListener("pointerenter",u),o.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),l(uo,{present:r||i,children:l(Wee,{"data-state":i?"visible":"hidden",...n,ref:t})})}),L8e=S.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=ou(xf,e.__scopeScrollArea),i=e.orientation==="horizontal",s=BN(()=>c("SCROLL_END"),100),[o,c]=R8e("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return S.useEffect(()=>{if(o==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[o,a.scrollHideDelay,c]),S.useEffect(()=>{const u=a.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const m=u[d];f!==m&&(c("SCROLL"),s()),f=m};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[a.viewport,i,c,s]),l(uo,{present:r||o!=="hidden",children:l(hR,{"data-state":o==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Ht(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Ht(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),Wee=S.forwardRef((e,t)=>{const r=ou(xf,e.__scopeScrollArea),{forceMount:n,...a}=e,[i,s]=S.useState(!1),o=e.orientation==="horizontal",c=BN(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;s(o?u:d)}},10);return K1(r.viewport,c),K1(r.content,c),l(uo,{present:n||i,children:l(hR,{"data-state":i?"visible":"hidden",...a,ref:t})})}),hR=S.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=ou(xf,e.__scopeScrollArea),i=S.useRef(null),s=S.useRef(0),[o,c]=S.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=Kee(o.viewport,o.content),d={...n,sizes:o,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:h=>s.current=h};function f(h,m){return z8e(h,s.current,o,m)}return r==="horizontal"?l(j8e,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollLeft,m=Az(h,o,a.dir);i.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=f(h,a.dir))}}):r==="vertical"?l($8e,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollTop,m=Az(h,o);i.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=f(h))}}):null}),j8e=S.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=ou(xf,e.__scopeScrollArea),[s,o]=S.useState(),c=S.useRef(null),u=Jr(t,c,i.onScrollbarXChange);return S.useEffect(()=>{c.current&&o(getComputedStyle(c.current))},[c]),l(Hee,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":$N(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),Jee(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&s&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:IS(s.paddingLeft),paddingEnd:IS(s.paddingRight)}})}})}),$8e=S.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=ou(xf,e.__scopeScrollArea),[s,o]=S.useState(),c=S.useRef(null),u=Jr(t,c,i.onScrollbarYChange);return S.useEffect(()=>{c.current&&o(getComputedStyle(c.current))},[c]),l(Hee,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":$N(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),Jee(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&s&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:IS(s.paddingTop),paddingEnd:IS(s.paddingBottom)}})}})}),[B8e,Vee]=Bee(xf),Hee=S.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:s,onThumbPointerDown:o,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,m=ou(xf,r),[w,g]=S.useState(null),y=Jr(t,L=>g(L)),b=S.useRef(null),_=S.useRef(""),N=m.viewport,E=n.content-n.viewport,C=Di(d),O=Di(c),P=BN(f,10);function M(L){if(b.current){const j=L.clientX-b.current.left,T=L.clientY-b.current.top;u({x:j,y:T})}}return S.useEffect(()=>{const L=j=>{const T=j.target;(w==null?void 0:w.contains(T))&&C(j,E)};return document.addEventListener("wheel",L,{passive:!1}),()=>document.removeEventListener("wheel",L,{passive:!1})},[N,w,E,C]),S.useEffect(O,[n,O]),K1(w,P),K1(m.content,P),l(B8e,{scope:r,scrollbar:w,hasThumb:a,onThumbChange:Di(i),onThumbPointerUp:Di(s),onThumbPositionChange:O,onThumbPointerDown:Di(o),children:l(xr.div,{...h,ref:y,style:{position:"absolute",...h.style},onPointerDown:Ht(e.onPointerDown,L=>{L.button===0&&(L.target.setPointerCapture(L.pointerId),b.current=w.getBoundingClientRect(),_.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),M(L))}),onPointerMove:Ht(e.onPointerMove,M),onPointerUp:Ht(e.onPointerUp,L=>{const j=L.target;j.hasPointerCapture(L.pointerId)&&j.releasePointerCapture(L.pointerId),document.body.style.webkitUserSelect=_.current,m.viewport&&(m.viewport.style.scrollBehavior=""),b.current=null})})})}),DS="ScrollAreaThumb",Gee=S.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Vee(DS,e.__scopeScrollArea);return l(uo,{present:r||a.hasThumb,children:l(U8e,{ref:t,...n})})}),U8e=S.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,i=ou(DS,r),s=Vee(DS,r),{onThumbPositionChange:o}=s,c=Jr(t,f=>s.onThumbChange(f)),u=S.useRef(void 0),d=BN(()=>{u.current&&(u.current(),u.current=void 0)},100);return S.useEffect(()=>{const f=i.viewport;if(f){const h=()=>{if(d(),!u.current){const m=W8e(f,o);u.current=m,o()}};return o(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[i.viewport,d,o]),l(xr.div,{"data-state":s.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Ht(e.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),w=f.clientX-m.left,g=f.clientY-m.top;s.onThumbPointerDown({x:w,y:g})}),onPointerUp:Ht(e.onPointerUp,s.onThumbPointerUp)})});Gee.displayName=DS;var pR="ScrollAreaCorner",Yee=S.forwardRef((e,t)=>{const r=ou(pR,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?l(q8e,{...e,ref:t}):null});Yee.displayName=pR;var q8e=S.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=ou(pR,r),[i,s]=S.useState(0),[o,c]=S.useState(0),u=!!(i&&o);return K1(a.scrollbarX,()=>{var f;const d=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(d),c(d)}),K1(a.scrollbarY,()=>{var f;const d=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(d),s(d)}),u?l(xr.div,{...n,ref:t,style:{width:i,height:o,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function IS(e){return e?parseInt(e,10):0}function Kee(e,t){const r=e/t;return isNaN(r)?0:r}function $N(e){const t=Kee(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function z8e(e,t,r,n="ltr"){const a=$N(r),i=a/2,s=t||i,o=a-s,c=r.scrollbar.paddingStart+s,u=r.scrollbar.size-r.scrollbar.paddingEnd-o,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return Xee([c,u],f)(e)}function Az(e,t,r="ltr"){const n=$N(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,s=t.content-t.viewport,o=i-n,c=r==="ltr"?[0,s]:[s*-1,0],u=R6(e,c);return Xee([0,s],[0,o])(u)}function Xee(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function Jee(e,t){return e>0&&e<t}var W8e=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},s=r.left!==i.left,o=r.top!==i.top;(s||o)&&t(),r=i,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function BN(e,t){const r=Di(e),n=S.useRef(0);return S.useEffect(()=>()=>window.clearTimeout(n.current),[]),S.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function K1(e,t){const r=Di(t);ui(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var Zee=Uee,V8e=zee,H8e=Yee;const id=S.forwardRef(({className:e,children:t,...r},n)=>x(Zee,{ref:n,className:Lt("relative overflow-hidden",e),...r,children:[l(V8e,{className:"h-full w-full rounded-[inherit]",children:t}),l(Qee,{}),l(H8e,{})]}));id.displayName=Zee.displayName;const Qee=S.forwardRef(({className:e,orientation:t="vertical",...r},n)=>l(fR,{ref:n,orientation:t,className:Lt("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:l(Gee,{className:"relative flex-1 rounded-full bg-border"})}));Qee.displayName=fR.displayName;const G8e=({isOpen:e,onClose:t,appointments:r})=>l(Hn,{open:e,onOpenChange:t,children:x(qn,{className:"sm:max-w-[600px] md:max-w-[800px] lg:max-w-[1000px] max-h-[90vh] flex flex-col p-0",children:[x(Jn,{className:"p-6 pb-4",children:[l(Zn,{className:"text-2xl",children:"All Upcoming Appointments"}),l(ds,{children:"Browse through all scheduled upcoming appointments."})]}),l(id,{className:"flex-grow border-t border-b",children:l("div",{className:"space-y-4 p-6",children:r.length>0?r.map(n=>x(or,{className:"shadow-sm hover:shadow-md transition-shadow bg-card",children:[l(wr,{className:"pb-3 pt-4",children:x(_r,{className:"text-lg flex items-center font-medium",children:[l(yi,{className:"w-5 h-5 mr-3 text-primary flex-shrink-0"}),n.patient]})}),x(pr,{className:"grid grid-cols-1 md:grid-cols-3 gap-x-6 gap-y-3 text-sm pl-12 pr-6 pb-4",children:[x("div",{children:[l("p",{className:"text-xs text-muted-foreground font-semibold uppercase tracking-wider",children:"Type"}),l("p",{className:"mt-1",children:n.type})]}),x("div",{children:[l("p",{className:"text-xs text-muted-foreground font-semibold uppercase tracking-wider",children:"Date & Time"}),x("p",{className:"flex items-center mt-1",children:[l(lD,{className:"w-4 h-4 mr-2 text-muted-foreground flex-shrink-0"}),n.start_time?Rt(Wr(n.start_time),"EEEE, MMM d, yyyy"):n.date]}),x("p",{className:"flex items-center mt-1",children:[l(Us,{className:"w-4 h-4 mr-2 text-muted-foreground flex-shrink-0"}),n.start_time?Rt(Wr(n.start_time),"h:mm a"):n.time]})]}),x("div",{children:[l("p",{className:"text-xs text-muted-foreground font-semibold uppercase tracking-wider",children:"Status"}),l("p",{className:"mt-1 capitalize",children:n.status})]})]})]},n.id)):l("div",{className:"text-center py-12 text-muted-foreground",children:"No upcoming appointments found."})})}),l(hs,{className:"p-6 pt-4 border-t",children:l(Me,{variant:"outline",onClick:t,children:"Close"})})]})});function Y8e(){const e=Ss(),[t,r]=S.useState({todaysAppointmentsCount:0,totalPatients:0,avgWaitTime:0,treatmentSuccessRate:0,appointmentsChange:0,patientsChange:0,waitTimeChange:0,successRateChange:0}),[n,a]=S.useState([]),[i,s]=S.useState([]),[o,c]=S.useState(!1),[u,d]=S.useState([]),[f,h]=S.useState(!0),[m,w]=S.useState({revenueData:[],appointmentTypeData:[],dailyAppointmentData:[],treatmentStatusData:[],profitEstimationData:{conversionRate:0,estimatedSales:0,estimatedProfit:0},totalRevenue:0,dailyVisitors:0,patientAgeData:[],appointmentStatusData:[],treatmentPlanStatusData:[],upcomingWeeklyAppointmentTrendData:[]});S.useEffect(()=>{g();const b=["appointments","patients","treatment_plans","treatments","medical_records"].map(_=>Y4(_,N=>{console.log(`Dashboard detected change in ${_}:`,N),g()}));return()=>{b.forEach(_=>_.unsubscribe())}},[]);const g=async()=>{try{h(!0);const y=new Date,b=Dl(y),_=Qv(y),N=zs(D6(y,5)),E=hm(y),C=Dl(Ua(y,-6)),O=Qv(y),P=Qv(Ua(y,6)),[M,L,j,T]=await Promise.all([It.patients.getAll(),It.patients.getTreatmentPlans(null),It.patients.getMedicalRecords(null),It.appointments.getAll()]),I=M.length,G=T.filter(lt=>{if(!lt.start_time)return!1;const yt=Wr(lt.start_time);return w0(yt,{start:b,end:_})}).length;let Z=0,re=0;L.forEach(lt=>{lt.treatments&&lt.treatments.length>0&&(re+=lt.treatments.length,Z+=lt.treatments.filter(yt=>yt.status==="completed").length)});const W=re>0?Math.round(Z/re*100):0;r({todaysAppointmentsCount:G,totalPatients:I,avgWaitTime:15,treatmentSuccessRate:W,appointmentsChange:0,patientsChange:0,waitTimeChange:0,successRateChange:0});const K=T.filter(lt=>lt.status==="scheduled"&&lt.start_time&&Wr(lt.start_time)>=b).sort((lt,yt)=>(lt.start_time?Wr(lt.start_time).getTime():0)-(yt.start_time?Wr(yt.start_time).getTime():0)).map(lt=>({id:lt.id,patient:lt.patients?`${lt.patients.first_name} ${lt.patients.last_name}`:"Unknown Patient",time:lt.start_time?Rt(Wr(lt.start_time),"h:mm a"):"No time",date:lt.start_time?Rt(Wr(lt.start_time),"MMM d"):"No date",type:lt.type||"Appointment",status:lt.status,start_time:lt.start_time}));s(K),a(K.slice(0,5));const J=lt=>{if(!lt)return"Unknown Patient";const yt=M.find(Fr=>Fr.id===lt);return yt?`${yt.first_name} ${yt.last_name}`:"Unknown Patient"},ne=T.filter(lt=>lt.status==="completed"&&lt.start_time).map(lt=>({id:lt.id,type:"appointment",title:`Appointment ${lt.type||""} Completed`,patientName:lt.patients?`${lt.patients.first_name} ${lt.patients.last_name}`:"Unknown Patient",itemName:lt.type||"Appointment",staffName:lt.staff?`${lt.staff.first_name} ${lt.staff.last_name}`:void 0,timestamp:Wr(lt.start_time),icon:yi,details:`Notes: ${lt.notes||"N/A"}`})),ie=L.flatMap(lt=>{const yt=J(lt.patient_id);return(lt.treatments||[]).filter(Fr=>Fr.status==="completed"&&Fr.updated_at).map(Fr=>({id:Fr.id,type:"treatment",title:"Treatment Completed",patientName:yt,itemName:Fr.type||"Treatment",timestamp:Wr(Fr.updated_at),icon:rm,details:`Notes: ${Fr.notes||"N/A"}`}))}),oe=j.filter(lt=>lt.created_at).map(lt=>({id:lt.id,type:"record",title:"Medical Record Added",patientName:J(lt.patient_id),itemName:lt.record_type||"Medical Record",timestamp:Wr(lt.created_at),icon:Us,details:`Summary: ${lt.summary||"N/A"}`})),ue=[...ne,...ie,...oe].sort((lt,yt)=>yt.timestamp.getTime()-lt.timestamp.getTime());d(ue.slice(0,3));const V={},se=new Intl.DateTimeFormat("en",{month:"short"});for(let lt=0;lt<6;lt++){const yt=D6(y,lt),Fr=Rt(yt,"yyyy-MM");V[Fr]={count:0,revenue:0}}T.forEach(lt=>{if(lt.start_time){const yt=Wr(lt.start_time);if(w0(yt,{start:N,end:E})){const Fr=Rt(yt,"yyyy-MM");V[Fr]&&(V[Fr].count+=1)}}});const fe=Object.keys(V).map(lt=>({name:se.format(Wr(lt+"-01")),uv:V[lt].count,pv:V[lt].revenue,monthKey:lt})).sort((lt,yt)=>lt.monthKey.localeCompare(yt.monthKey)),te=fe.reduce((lt,yt)=>lt+(yt.pv||0),0),Ee=0,Fe=fe.map(({name:lt,uv:yt,pv:Fr})=>({name:lt,uv:yt,pv:Fr})),Pe=zs(y),ve=hm(y),Ge={};T.forEach(lt=>{var Fr;const yt=((Fr=lt.staff)==null?void 0:Fr.role)||"General";if(lt.start_time){const ta=Wr(lt.start_time);w0(ta,{start:Pe,end:ve})&&(Ge[yt]=(Ge[yt]||0)+1)}});const ht=Object.entries(Ge).map(([lt,yt])=>({name:lt,value:yt})),at=ige({start:b,end:_}),St={};at.forEach(lt=>{St[Rt(lt,"HH")]=0}),T.forEach(lt=>{if(lt.start_time){const yt=Wr(lt.start_time);if(w0(yt,{start:b,end:_})){const Fr=Rt(yt,"HH");St[Fr]=(St[Fr]||0)+1}}});const _e=["00","04","08","12","14","16","18"].map(lt=>({name:lt,value:St[lt]||0})),ge=Object.values(St).reduce((lt,yt)=>lt+yt,0),Ce=0,Je=G2({start:C,end:O}),Qe={},Xe=new Intl.DateTimeFormat("en",{weekday:"short"});Je.forEach(lt=>{Qe[Rt(lt,"yyyy-MM-dd")]={completed:0,total:0}}),L.forEach(lt=>{(lt.treatments||[]).forEach(yt=>{if(yt.updated_at){const Fr=Wr(yt.updated_at);if(w0(Fr,{start:C,end:O})){const ta=Rt(Fr,"yyyy-MM-dd");Qe[ta]&&(Qe[ta].total+=1,yt.status==="completed"&&(Qe[ta].completed+=1))}}})});const Ke=Object.keys(Qe).map(lt=>{const yt=Qe[lt],Fr=yt.total>0?Math.round(yt.completed/yt.total*100):0;return{name:Xe.format(Wr(lt)),value:Fr,dayKey:lt}}).sort((lt,yt)=>lt.dayKey.localeCompare(yt.dayKey)),At=Ke.length>0?Math.round(Ke.reduce((lt,yt)=>lt+(yt.value||0),0)/Ke.length):0,Nt=Ke.map(({name:lt,value:yt})=>({name:lt,value:yt})),cr={conversionRate:W,estimatedSales:Z,estimatedProfit:0},Nn={"0-18":0,"19-35":0,"36-50":0,"51-65":0,"65+":0,Unknown:0};M.forEach(lt=>{const yt=lt.age;yt==null?Nn.Unknown++:yt<=18?Nn["0-18"]++:yt<=35?Nn["19-35"]++:yt<=50?Nn["36-50"]++:yt<=65?Nn["51-65"]++:Nn["65+"]++});const ct=Object.entries(Nn).map(([lt,yt])=>({name:lt,value:yt})),Dt={};T.forEach(lt=>{const yt=lt.status||"Unknown";Dt[yt]=(Dt[yt]||0)+1});const Vr=Object.entries(Dt).map(([lt,yt])=>({name:lt.charAt(0).toUpperCase()+lt.slice(1),value:yt})),gr=G2({start:C,end:O}),Kr={},fr=new Intl.DateTimeFormat("en",{weekday:"short"});gr.forEach(lt=>{Kr[Rt(lt,"yyyy-MM-dd")]=0}),T.forEach(lt=>{if(lt.start_time){const yt=Wr(lt.start_time);if(w0(yt,{start:C,end:O})){const Fr=Rt(yt,"yyyy-MM-dd");Kr.hasOwnProperty(Fr)&&Kr[Fr]++}}});const hn=Object.keys(Kr).map(lt=>({name:fr.format(Wr(lt)),value:Kr[lt],dayKey:lt})).sort((lt,yt)=>lt.dayKey.localeCompare(yt.dayKey)).map(({name:lt,value:yt})=>({name:lt,value:yt})),Mr=G2({start:b,end:P}),hr={};Mr.forEach(lt=>{hr[Rt(lt,"yyyy-MM-dd")]=0}),T.forEach(lt=>{if(lt.start_time&&lt.status==="scheduled"){const yt=Wr(lt.start_time);if(w0(yt,{start:b,end:P})){const Fr=Rt(yt,"yyyy-MM-dd");hr.hasOwnProperty(Fr)&&hr[Fr]++}}});const Fi=Object.keys(hr).map(lt=>({name:fr.format(Wr(lt)),value:hr[lt],dayKey:lt})).sort((lt,yt)=>lt.dayKey.localeCompare(yt.dayKey)).map(({name:lt,value:yt})=>({name:lt,value:yt})),la={};L.forEach(lt=>{const yt=lt.status||"Unknown";la[yt]=(la[yt]||0)+1});const Wa=Object.entries(la).map(([lt,yt])=>({name:lt.charAt(0).toUpperCase()+lt.slice(1),value:yt}));w({revenueData:Fe,appointmentTypeData:ht,dailyAppointmentData:_e,treatmentStatusData:Nt,profitEstimationData:cr,totalRevenue:te,dailyVisitors:ge,revenueChangePercentage:Ee,dailyAppointmentsChangePercentage:Ce,overallTreatmentProgress:At,patientAgeData:ct,appointmentStatusData:Vr,treatmentPlanStatusData:Wa,upcomingWeeklyAppointmentTrendData:Fi}),h(!1)}catch(y){console.error("Error fetching dashboard data:",y),h(!1)}};return x("div",{className:"space-y-6",children:[l(Fa,{heading:"Dashboard",text:"Overview of your dental practice"}),x("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4",children:[x(or,{children:[x(wr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l(_r,{className:"text-sm font-medium",children:"Today's Appointments"}),l(Oi,{className:"h-4 w-4 text-muted-foreground"})]}),x(pr,{children:[l("div",{className:"text-2xl font-bold",children:t.todaysAppointmentsCount}),t.appointmentsChange!==0&&x("div",{className:"flex items-center text-xs text-muted-foreground",children:[t.appointmentsChange>0?l(s_,{className:"mr-1 h-4 w-4 text-emerald-500"}):l(i_,{className:"mr-1 h-4 w-4 text-red-500"}),x("span",{className:t.appointmentsChange>0?"text-emerald-500":"text-red-500",children:[Math.abs(t.appointmentsChange),"%"]}),l("span",{className:"ml-1",children:"from last week"})]})]})]}),x(or,{children:[x(wr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l(_r,{className:"text-sm font-medium",children:"Active Patients"}),l(N4,{className:"h-4 w-4 text-muted-foreground"})]}),x(pr,{children:[l("div",{className:"text-2xl font-bold",children:t.totalPatients}),t.patientsChange!==0&&x("div",{className:"flex items-center text-xs text-muted-foreground",children:[t.patientsChange>0?l(s_,{className:"mr-1 h-4 w-4 text-emerald-500"}):l(i_,{className:"mr-1 h-4 w-4 text-red-500"}),x("span",{className:t.patientsChange>0?"text-emerald-500":"text-red-500",children:[Math.abs(t.patientsChange),"%"]}),l("span",{className:"ml-1",children:"from last month"})]})]})]}),x(or,{children:[x(wr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l(_r,{className:"text-sm font-medium",children:"Avg. Wait Time"}),l(Us,{className:"h-4 w-4 text-muted-foreground"})]}),x(pr,{children:[x("div",{className:"text-2xl font-bold",children:[t.avgWaitTime,"m"]}),t.waitTimeChange!==0&&x("div",{className:"flex items-center text-xs text-muted-foreground",children:[t.waitTimeChange<0?l(i_,{className:"mr-1 h-4 w-4 text-emerald-500"}):l(s_,{className:"mr-1 h-4 w-4 text-red-500"}),x("span",{className:t.waitTimeChange<0?"text-emerald-500":"text-red-500",children:[Math.abs(t.waitTimeChange),"%"]}),l("span",{className:"ml-1",children:t.waitTimeChange<0?"improved":"worse"})]})]})]}),x(or,{children:[x(wr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l(_r,{className:"text-sm font-medium",children:"Treatment Success"}),l(rm,{className:"h-4 w-4 text-muted-foreground"})]}),x(pr,{children:[x("div",{className:"text-2xl font-bold",children:[t.treatmentSuccessRate,"%"]}),t.successRateChange!==0&&x("div",{className:"flex items-center text-xs text-muted-foreground",children:[t.successRateChange>0?l(s_,{className:"mr-1 h-4 w-4 text-emerald-500"}):l(i_,{className:"mr-1 h-4 w-4 text-red-500"}),x("span",{className:t.successRateChange>0?"text-emerald-500":"text-red-500",children:[Math.abs(t.successRateChange),"%"]}),l("span",{className:"ml-1",children:"from last quarter"})]})]})]})]}),x("div",{className:"grid gap-4 md:grid-cols-2",children:[x(or,{children:[l(wr,{children:x("div",{className:"flex items-center justify-between",children:[l(_r,{children:"Upcoming Appointments"}),x(Me,{variant:"ghost",size:"sm",className:"text-sm",onClick:()=>c(!0),children:["View all",l(om,{className:"ml-1 h-4 w-4"})]})]})}),l(pr,{children:f?l("div",{className:"py-8 text-center text-muted-foreground",children:"Loading appointments..."}):n.length>0?l("div",{className:"space-y-4",children:n.map(y=>x("div",{className:"flex items-center rounded-lg border p-4",children:[l("div",{className:"flex h-9 w-9 items-center justify-center rounded-full bg-primary/10",children:l(yi,{className:"h-5 w-5 text-primary"})}),x("div",{className:"ml-4 flex-1",children:[l("p",{className:"text-sm font-medium",children:y.patient}),l("p",{className:"text-sm text-muted-foreground",children:y.type})]}),x("div",{className:"text-right",children:[l("p",{className:"text-sm font-medium",children:y.date}),l("p",{className:"text-sm text-muted-foreground",children:y.time})]})]},y.id))}):l("div",{className:"py-8 text-center text-muted-foreground",children:"No upcoming appointments"})})]}),x(or,{children:[l(wr,{children:x("div",{className:"flex items-center justify-between",children:[l(_r,{children:"Recent Activity"}),x(Me,{variant:"ghost",size:"sm",className:"text-sm",onClick:()=>e("/activity-log"),children:["View all",l(om,{className:"ml-1 h-4 w-4"})]})]})}),l(pr,{children:f?l("div",{className:"py-8 text-center text-muted-foreground",children:"Loading activity..."}):u.length>0?l("div",{className:"space-y-8",children:u.map((y,b)=>{const _=y.icon||rm;return x("div",{className:"flex items-start",children:[l("div",{className:`flex h-9 w-9 items-center justify-center rounded-full ${y.type==="appointment"?"bg-emerald-100":y.type==="treatment"?"bg-blue-100":"bg-purple-100"}`,children:l(_,{className:`h-5 w-5 ${y.type==="appointment"?"text-emerald-600":y.type==="treatment"?"text-blue-600":"text-purple-600"}`})}),x("div",{className:"ml-4 flex-1",children:[l("p",{className:"text-sm font-medium",children:y.title}),y.patientName&&x("p",{className:"text-xs text-muted-foreground",children:["Patient: ",y.patientName]}),y.itemName&&x("p",{className:"text-xs text-muted-foreground",children:["Item: ",y.itemName]}),y.staffName&&x("p",{className:"text-xs text-muted-foreground",children:["Staff: ",y.staffName]}),y.details&&l("p",{className:"text-xs text-muted-foreground italic",children:y.details}),l("p",{className:"text-xs text-muted-foreground mt-0.5",children:Rt(y.timestamp,"MMM d, h:mm a")})]})]},b)})}):l("div",{className:"py-8 text-center text-muted-foreground",children:"No recent activity"})})]})]}),x("div",{className:"mt-6",children:[" ",l(x8e,{revenueData:m.revenueData||[],appointmentTypeData:m.appointmentTypeData||[],dailyAppointmentData:m.dailyAppointmentData||[],treatmentStatusData:m.treatmentStatusData||[],profitEstimationData:m.profitEstimationData||{conversionRate:0,estimatedSales:0,estimatedProfit:0},totalRevenue:m.totalRevenue,dailyVisitors:m.dailyVisitors,revenueChangePercentage:0,dailyAppointmentsChangePercentage:0,overallTreatmentProgress:m.overallTreatmentProgress,patientAgeData:m.patientAgeData||[],appointmentStatusData:m.appointmentStatusData||[],treatmentPlanStatusData:m.treatmentPlanStatusData||[],upcomingWeeklyAppointmentTrendData:m.upcomingWeeklyAppointmentTrendData||[]})]}),l(G8e,{isOpen:o,onClose:()=>c(!1),appointments:i})]})}var K8e="Label",ete=S.forwardRef((e,t)=>l(xr.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));ete.displayName=K8e;var tte=ete;const X8e=Bw("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),tr=S.forwardRef(({className:e,...t},r)=>l(tte,{ref:r,className:Lt(X8e(),e),...t}));tr.displayName=tte.displayName;const un=S.forwardRef(({className:e,...t},r)=>l("textarea",{className:Lt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));un.displayName="Textarea";var UN="Tabs",[J8e,nQe]=ts(UN,[xy]),rte=xy(),[Z8e,mR]=J8e(UN),nte=S.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:s="horizontal",dir:o,activationMode:c="automatic",...u}=e,d=Sg(o),[f,h]=hl({prop:n,onChange:a,defaultProp:i??"",caller:UN});return l(Z8e,{scope:r,baseId:$l(),value:f,onValueChange:h,orientation:s,dir:d,activationMode:c,children:l(xr.div,{dir:d,"data-orientation":s,...u,ref:t})})});nte.displayName=UN;var ate="TabsList",ite=S.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=mR(ate,r),s=rte(r);return l(SD,{asChild:!0,...s,orientation:i.orientation,dir:i.dir,loop:n,children:l(xr.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});ite.displayName=ate;var ste="TabsTrigger",ote=S.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,s=mR(ste,r),o=rte(r),c=ute(s.baseId,n),u=dte(s.baseId,n),d=n===s.value;return l(ND,{asChild:!0,...o,focusable:!a,active:d,children:l(xr.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:Ht(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?s.onValueChange(n):f.preventDefault()}),onKeyDown:Ht(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&s.onValueChange(n)}),onFocus:Ht(e.onFocus,()=>{const f=s.activationMode!=="manual";!d&&!a&&f&&s.onValueChange(n)})})})});ote.displayName=ste;var lte="TabsContent",cte=S.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...s}=e,o=mR(lte,r),c=ute(o.baseId,n),u=dte(o.baseId,n),d=n===o.value,f=S.useRef(d);return S.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),l(uo,{present:a||d,children:({present:h})=>l(xr.div,{"data-state":d?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...s,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});cte.displayName=lte;function ute(e,t){return`${e}-trigger-${t}`}function dte(e,t){return`${e}-content-${t}`}var Q8e=nte,fte=ite,hte=ote,pte=cte;const jm=Q8e,Rh=S.forwardRef(({className:e,...t},r)=>l(fte,{ref:r,className:Lt("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Rh.displayName=fte.displayName;const Oa=S.forwardRef(({className:e,...t},r)=>l(hte,{ref:r,className:Lt("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Oa.displayName=hte.displayName;const _a=S.forwardRef(({className:e,...t},r)=>l(pte,{ref:r,className:Lt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));_a.displayName=pte.displayName;var[qN,aQe]=ts("Tooltip",[Pm]),zN=Pm(),mte="TooltipProvider",eOe=700,sO="tooltip.open",[tOe,gR]=qN(mte),gte=e=>{const{__scopeTooltip:t,delayDuration:r=eOe,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=e,s=S.useRef(!0),o=S.useRef(!1),c=S.useRef(0);return S.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),l(tOe,{scope:t,isOpenDelayedRef:s,delayDuration:r,onOpen:S.useCallback(()=>{window.clearTimeout(c.current),s.current=!1},[]),onClose:S.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>s.current=!0,n)},[n]),isPointerInTransitRef:o,onPointerInTransitChange:S.useCallback(u=>{o.current=u},[]),disableHoverableContent:a,children:i})};gte.displayName=mte;var iw="Tooltip",[rOe,WN]=qN(iw),vte=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:a,onOpenChange:i,disableHoverableContent:s,delayDuration:o}=e,c=gR(iw,e.__scopeTooltip),u=zN(t),[d,f]=S.useState(null),h=$l(),m=S.useRef(0),w=s??c.disableHoverableContent,g=o??c.delayDuration,y=S.useRef(!1),[b,_]=hl({prop:n,defaultProp:a??!1,onChange:P=>{P?(c.onOpen(),document.dispatchEvent(new CustomEvent(sO))):c.onClose(),i==null||i(P)},caller:iw}),N=S.useMemo(()=>b?y.current?"delayed-open":"instant-open":"closed",[b]),E=S.useCallback(()=>{window.clearTimeout(m.current),m.current=0,y.current=!1,_(!0)},[_]),C=S.useCallback(()=>{window.clearTimeout(m.current),m.current=0,_(!1)},[_]),O=S.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{y.current=!0,_(!0),m.current=0},g)},[g,_]);return S.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),l(O4,{...u,children:l(rOe,{scope:t,contentId:h,open:b,stateAttribute:N,trigger:d,onTriggerChange:f,onTriggerEnter:S.useCallback(()=>{c.isOpenDelayedRef.current?O():E()},[c.isOpenDelayedRef,O,E]),onTriggerLeave:S.useCallback(()=>{w?C():(window.clearTimeout(m.current),m.current=0)},[C,w]),onOpen:E,onClose:C,disableHoverableContent:w,children:r})})};vte.displayName=iw;var oO="TooltipTrigger",yte=S.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=WN(oO,r),i=gR(oO,r),s=zN(r),o=S.useRef(null),c=Jr(t,o,a.onTriggerChange),u=S.useRef(!1),d=S.useRef(!1),f=S.useCallback(()=>u.current=!1,[]);return S.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),l(Ww,{asChild:!0,...s,children:l(xr.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:Ht(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:Ht(e.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:Ht(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Ht(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:Ht(e.onBlur,a.onClose),onClick:Ht(e.onClick,a.onClose)})})});yte.displayName=oO;var nOe="TooltipPortal",[iQe,aOe]=qN(nOe,{forceMount:void 0}),X1="TooltipContent",xte=S.forwardRef((e,t)=>{const r=aOe(X1,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=e,s=WN(X1,e.__scopeTooltip);return l(uo,{present:n||s.open,children:s.disableHoverableContent?l(wte,{side:a,...i,ref:t}):l(iOe,{side:a,...i,ref:t})})}),iOe=S.forwardRef((e,t)=>{const r=WN(X1,e.__scopeTooltip),n=gR(X1,e.__scopeTooltip),a=S.useRef(null),i=Jr(t,a),[s,o]=S.useState(null),{trigger:c,onClose:u}=r,d=a.current,{onPointerInTransitChange:f}=n,h=S.useCallback(()=>{o(null),f(!1)},[f]),m=S.useCallback((w,g)=>{const y=w.currentTarget,b={x:w.clientX,y:w.clientY},_=uOe(b,y.getBoundingClientRect()),N=dOe(b,_),E=fOe(g.getBoundingClientRect()),C=pOe([...N,...E]);o(C),f(!0)},[f]);return S.useEffect(()=>()=>h(),[h]),S.useEffect(()=>{if(c&&d){const w=y=>m(y,d),g=y=>m(y,c);return c.addEventListener("pointerleave",w),d.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",w),d.removeEventListener("pointerleave",g)}}},[c,d,m,h]),S.useEffect(()=>{if(s){const w=g=>{const y=g.target,b={x:g.clientX,y:g.clientY},_=(c==null?void 0:c.contains(y))||(d==null?void 0:d.contains(y)),N=!hOe(b,s);_?h():N&&(h(),u())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[c,d,s,u,h]),l(wte,{...e,ref:i})}),[sOe,oOe]=qN(iw,{isInside:!1}),lOe=dG("TooltipContent"),wte=S.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:s,...o}=e,c=WN(X1,r),u=zN(r),{onClose:d}=c;return S.useEffect(()=>(document.addEventListener(sO,d),()=>document.removeEventListener(sO,d)),[d]),S.useEffect(()=>{if(c.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),l(Ng,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:x(D4,{"data-state":c.stateAttribute,...u,...o,ref:t,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l(lOe,{children:n}),l(sOe,{scope:r,isInside:!0,children:l(rye,{id:c.contentId,role:"tooltip",children:a||n})})]})})});xte.displayName=X1;var bte="TooltipArrow",cOe=S.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=zN(r);return oOe(bte,r).isInside?null:l(I4,{...a,...n,ref:t})});cOe.displayName=bte;function uOe(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function dOe(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function fOe(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function hOe(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,s=t.length-1;i<t.length;s=i++){const o=t[i],c=t[s],u=o.x,d=o.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(a=!a)}return a}function pOe(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),mOe(t)}function mOe(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const i=t[t.length-1],s=t[t.length-2];if((i.x-s.x)*(a.y-s.y)>=(i.y-s.y)*(a.x-s.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const i=r[r.length-1],s=r[r.length-2];if((i.x-s.x)*(a.y-s.y)>=(i.y-s.y)*(a.x-s.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var gOe=gte,vOe=vte,yOe=yte,_te=xte;const l5=gOe,c5=vOe,u5=yOe,Q2=S.forwardRef(({className:e,sideOffset:t=4,...r},n)=>l(_te,{ref:n,sideOffset:t,className:Lt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...r}));Q2.displayName=_te.displayName;var sb=e=>e.type==="checkbox",B0=e=>e instanceof Date,il=e=>e==null;const Ste=e=>typeof e=="object";var Qi=e=>!il(e)&&!Array.isArray(e)&&Ste(e)&&!B0(e),Nte=e=>Qi(e)&&e.target?sb(e.target)?e.target.checked:e.target.value:e,xOe=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Ate=(e,t)=>e.has(xOe(t)),wOe=e=>{const t=e.constructor&&e.constructor.prototype;return Qi(t)&&t.hasOwnProperty("isPrototypeOf")},vR=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function mi(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(vR&&(e instanceof Blob||n))&&(r||Qi(e)))if(t=r?[]:{},!r&&!wOe(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=mi(e[a]));else return e;return t}var ob=e=>Array.isArray(e)?e.filter(Boolean):[],ei=e=>e===void 0,ar=(e,t,r)=>{if(!t||!Qi(e))return r;const n=ob(t.split(/[,[\].]+?/)).reduce((a,i)=>il(a)?a:a[i],e);return ei(n)||n===e?ei(e[t])?r:e[t]:n},lc=e=>typeof e=="boolean",yR=e=>/^\w*$/.test(e),kte=e=>ob(e.replace(/["|']|\]/g,"").split(/\.|\[/)),ia=(e,t,r)=>{let n=-1;const a=yR(t)?[t]:kte(t),i=a.length,s=i-1;for(;++n<i;){const o=a[n];let c=r;if(n!==s){const u=e[o];c=Qi(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;e[o]=c,e=e[o]}};const RS={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Qc={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},eh={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Ete=tt.createContext(null),lu=()=>tt.useContext(Ete),Cte=e=>{const{children:t,...r}=e;return l(Ete.Provider,{value:r,children:t})};var Pte=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const s=i;return t._proxyFormState[s]!==Qc.all&&(t._proxyFormState[s]=!n||Qc.all),r&&(r[s]=!0),e[s]}});return a},lO=e=>il(e)||!Ste(e);function oh(e,t){if(lO(e)||lO(t))return e===t;if(B0(e)&&B0(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const a of r){const i=e[a];if(!n.includes(a))return!1;if(a!=="ref"){const s=t[a];if(B0(i)&&B0(s)||Qi(i)&&Qi(s)||Array.isArray(i)&&Array.isArray(s)?!oh(i,s):i!==s)return!1}}return!0}const Tte=(e,t)=>{const r=S.useRef(t);oh(t,r.current)||(r.current=t),S.useEffect(e,r.current)};function bOe(e){const t=lu(),{control:r=t.control,disabled:n,name:a,exact:i}=e||{},[s,o]=tt.useState(r._formState),c=tt.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Tte(()=>r._subscribe({name:a,formState:c.current,exact:i,callback:u=>{!n&&o({...r._formState,...u})}}),[a,n,i]),tt.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),tt.useMemo(()=>Pte(s,r,c.current,!1),[s,r])}var Jd=e=>typeof e=="string",Ote=(e,t,r,n,a)=>Jd(e)?(n&&t.watch.add(e),ar(r,e,a)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),ar(r,i))):(n&&(t.watchAll=!0),r);function _Oe(e){const t=lu(),{control:r=t.control,name:n,defaultValue:a,disabled:i,exact:s}=e||{},[o,c]=tt.useState(r._getWatch(n,a));return Tte(()=>r._subscribe({name:n,formState:{values:!0},exact:s,callback:u=>!i&&c(Ote(n,r._names,u.values||r._formValues,!1,a))}),[n,a,i,s]),tt.useEffect(()=>r._removeUnmounted()),o}function SOe(e){const t=lu(),{name:r,disabled:n,control:a=t.control,shouldUnregister:i}=e,s=Ate(a._names.array,r),o=_Oe({control:a,name:r,defaultValue:ar(a._formValues,r,ar(a._defaultValues,r,e.defaultValue)),exact:!0}),c=bOe({control:a,name:r,exact:!0}),u=tt.useRef(e),d=tt.useRef(a.register(r,{...e.rules,value:o,...lc(e.disabled)?{disabled:e.disabled}:{}})),f=tt.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ar(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!ar(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!ar(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!ar(c.validatingFields,r)},error:{enumerable:!0,get:()=>ar(c.errors,r)}}),[c,r]),h=tt.useCallback(y=>d.current.onChange({target:{value:Nte(y),name:r},type:RS.CHANGE}),[r]),m=tt.useCallback(()=>d.current.onBlur({target:{value:ar(a._formValues,r),name:r},type:RS.BLUR}),[r,a._formValues]),w=tt.useCallback(y=>{const b=ar(a._fields,r);b&&y&&(b._f.ref={focus:()=>y.focus(),select:()=>y.select(),setCustomValidity:_=>y.setCustomValidity(_),reportValidity:()=>y.reportValidity()})},[a._fields,r]),g=tt.useMemo(()=>({name:r,value:o,...lc(n)||c.disabled?{disabled:c.disabled||n}:{},onChange:h,onBlur:m,ref:w}),[r,n,c.disabled,h,m,w,o]);return tt.useEffect(()=>{const y=a._options.shouldUnregister||i;a.register(r,{...u.current.rules,...lc(u.current.disabled)?{disabled:u.current.disabled}:{}});const b=(_,N)=>{const E=ar(a._fields,_);E&&E._f&&(E._f.mount=N)};if(b(r,!0),y){const _=mi(ar(a._options.defaultValues,r));ia(a._defaultValues,r,_),ei(ar(a._formValues,r))&&ia(a._formValues,r,_)}return!s&&a.register(r),()=>{(s?y&&!a._state.action:y)?a.unregister(r):b(r,!1)}},[r,a,s,i]),tt.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),tt.useMemo(()=>({field:g,formState:c,fieldState:f}),[g,c,f])}const Wp=e=>e.render(SOe(e));var Dte=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},Fl=e=>Array.isArray(e)?e:[e],kz=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},To=e=>Qi(e)&&!Object.keys(e).length,xR=e=>e.type==="file",zu=e=>typeof e=="function",MS=e=>{if(!vR)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Ite=e=>e.type==="select-multiple",wR=e=>e.type==="radio",NOe=e=>wR(e)||sb(e),UP=e=>MS(e)&&e.isConnected;function AOe(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=ei(e)?n++:e[t[n++]];return e}function kOe(e){for(const t in e)if(e.hasOwnProperty(t)&&!ei(e[t]))return!1;return!0}function ss(e,t){const r=Array.isArray(t)?t:yR(t)?[t]:kte(t),n=r.length===1?e:AOe(e,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(Qi(n)&&To(n)||Array.isArray(n)&&kOe(n))&&ss(e,r.slice(0,-1)),e}var Rte=e=>{for(const t in e)if(zu(e[t]))return!0;return!1};function FS(e,t={}){const r=Array.isArray(e);if(Qi(e)||r)for(const n in e)Array.isArray(e[n])||Qi(e[n])&&!Rte(e[n])?(t[n]=Array.isArray(e[n])?[]:{},FS(e[n],t[n])):il(e[n])||(t[n]=!0);return t}function Mte(e,t,r){const n=Array.isArray(e);if(Qi(e)||n)for(const a in e)Array.isArray(e[a])||Qi(e[a])&&!Rte(e[a])?ei(t)||lO(r[a])?r[a]=Array.isArray(e[a])?FS(e[a],[]):{...FS(e[a])}:Mte(e[a],il(t)?{}:t[a],r[a]):r[a]=!oh(e[a],t[a]);return r}var x2=(e,t)=>Mte(e,t,FS(t));const Ez={value:!1,isValid:!1},Cz={value:!0,isValid:!0};var Fte=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!ei(e[0].attributes.value)?ei(e[0].value)||e[0].value===""?Cz:{value:e[0].value,isValid:!0}:Cz:Ez}return Ez},Lte=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>ei(e)?e:t?e===""?NaN:e&&+e:r&&Jd(e)?new Date(e):n?n(e):e;const Pz={isValid:!1,value:null};var jte=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,Pz):Pz;function Tz(e){const t=e.ref;return xR(t)?t.files:wR(t)?jte(e.refs).value:Ite(t)?[...t.selectedOptions].map(({value:r})=>r):sb(t)?Fte(e.refs).value:Lte(ei(t.value)?e.ref.value:t.value,e)}var EOe=(e,t,r,n)=>{const a={};for(const i of e){const s=ar(t,i);s&&ia(a,i,s._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},LS=e=>e instanceof RegExp,w2=e=>ei(e)?e:LS(e)?e.source:Qi(e)?LS(e.value)?e.value.source:e.value:e,Vv=e=>({isOnSubmit:!e||e===Qc.onSubmit,isOnBlur:e===Qc.onBlur,isOnChange:e===Qc.onChange,isOnAll:e===Qc.all,isOnTouch:e===Qc.onTouched});const Oz="AsyncFunction";var COe=e=>!!e&&!!e.validate&&!!(zu(e.validate)&&e.validate.constructor.name===Oz||Qi(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Oz)),POe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),cO=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const n1=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const i=ar(e,a);if(i){const{_f:s,...o}=i;if(s){if(s.refs&&s.refs[0]&&t(s.refs[0],a)&&!n)return!0;if(s.ref&&t(s.ref,s.name)&&!n)return!0;if(n1(o,t))break}else if(Qi(o)&&n1(o,t))break}}};function Dz(e,t,r){const n=ar(e,r);if(n||yR(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),s=ar(t,i),o=ar(e,i);if(s&&!Array.isArray(s)&&r!==i)return{name:r};if(o&&o.type)return{name:i,error:o};a.pop()}return{name:r}}var TOe=(e,t,r,n)=>{r(e);const{name:a,...i}=e;return To(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(s=>t[s]===(!n||Qc.all))},OOe=(e,t,r)=>!e||!t||e===t||Fl(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),DOe=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,IOe=(e,t)=>!ob(ar(e,t)).length&&ss(e,t),$te=(e,t,r)=>{const n=Fl(ar(e,r));return ia(n,"root",t[r]),ia(e,r,n),e},d5=e=>Jd(e);function Iz(e,t,r="validate"){if(d5(e)||Array.isArray(e)&&e.every(d5)||lc(e)&&!e)return{type:r,message:d5(e)?e:"",ref:t}}var Ov=e=>Qi(e)&&!LS(e)?e:{value:e,message:""},uO=async(e,t,r,n,a,i)=>{const{ref:s,refs:o,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:m,validate:w,name:g,valueAsNumber:y,mount:b}=e._f,_=ar(r,g);if(!b||t.has(g))return{};const N=o?o[0]:s,E=I=>{a&&N.reportValidity&&(N.setCustomValidity(lc(I)?"":I||""),N.reportValidity())},C={},O=wR(s),P=sb(s),M=O||P,L=(y||xR(s))&&ei(s.value)&&ei(_)||MS(s)&&s.value===""||_===""||Array.isArray(_)&&!_.length,j=Dte.bind(null,g,n,C),T=(I,B,G,Z=eh.maxLength,re=eh.minLength)=>{const W=I?B:G;C[g]={type:I?Z:re,message:W,ref:s,...j(I?Z:re,W)}};if(i?!Array.isArray(_)||!_.length:c&&(!M&&(L||il(_))||lc(_)&&!_||P&&!Fte(o).isValid||O&&!jte(o).isValid)){const{value:I,message:B}=d5(c)?{value:!!c,message:c}:Ov(c);if(I&&(C[g]={type:eh.required,message:B,ref:N,...j(eh.required,B)},!n))return E(B),C}if(!L&&(!il(f)||!il(h))){let I,B;const G=Ov(h),Z=Ov(f);if(!il(_)&&!isNaN(_)){const re=s.valueAsNumber||_&&+_;il(G.value)||(I=re>G.value),il(Z.value)||(B=re<Z.value)}else{const re=s.valueAsDate||new Date(_),W=Y=>new Date(new Date().toDateString()+" "+Y),z=s.type=="time",U=s.type=="week";Jd(G.value)&&_&&(I=z?W(_)>W(G.value):U?_>G.value:re>new Date(G.value)),Jd(Z.value)&&_&&(B=z?W(_)<W(Z.value):U?_<Z.value:re<new Date(Z.value))}if((I||B)&&(T(!!I,G.message,Z.message,eh.max,eh.min),!n))return E(C[g].message),C}if((u||d)&&!L&&(Jd(_)||i&&Array.isArray(_))){const I=Ov(u),B=Ov(d),G=!il(I.value)&&_.length>+I.value,Z=!il(B.value)&&_.length<+B.value;if((G||Z)&&(T(G,I.message,B.message),!n))return E(C[g].message),C}if(m&&!L&&Jd(_)){const{value:I,message:B}=Ov(m);if(LS(I)&&!_.match(I)&&(C[g]={type:eh.pattern,message:B,ref:s,...j(eh.pattern,B)},!n))return E(B),C}if(w){if(zu(w)){const I=await w(_,r),B=Iz(I,N);if(B&&(C[g]={...B,...j(eh.validate,B.message)},!n))return E(B.message),C}else if(Qi(w)){let I={};for(const B in w){if(!To(I)&&!n)break;const G=Iz(await w[B](_,r),N,B);G&&(I={...G,...j(B,G.message)},E(G.message),n&&(C[g]=I))}if(!To(I)&&(C[g]={ref:N,...I},!n))return C}}return E(!0),C};const ROe={mode:Qc.onSubmit,reValidateMode:Qc.onChange,shouldFocusError:!0};function MOe(e={}){let t={...ROe,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:zu(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const n={};let a=Qi(t.defaultValues)||Qi(t.values)?mi(t.values||t.defaultValues)||{}:{},i=t.shouldUnregister?{}:mi(a),s={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:kz(),state:kz()},m=Vv(t.mode),w=Vv(t.reValidateMode),g=t.criteriaMode===Qc.all,y=_e=>ge=>{clearTimeout(u),u=setTimeout(_e,ge)},b=async _e=>{if(!t.disabled&&(d.isValid||f.isValid||_e)){const ge=t.resolver?To((await L()).errors):await T(n,!0);ge!==r.isValid&&h.state.next({isValid:ge})}},_=(_e,ge)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((_e||Array.from(o.mount)).forEach(Ce=>{Ce&&(ge?ia(r.validatingFields,Ce,ge):ss(r.validatingFields,Ce))}),h.state.next({validatingFields:r.validatingFields,isValidating:!To(r.validatingFields)}))},N=(_e,ge=[],Ce,Je,Qe=!0,Xe=!0)=>{if(Je&&Ce&&!t.disabled){if(s.action=!0,Xe&&Array.isArray(ar(n,_e))){const Ke=Ce(ar(n,_e),Je.argA,Je.argB);Qe&&ia(n,_e,Ke)}if(Xe&&Array.isArray(ar(r.errors,_e))){const Ke=Ce(ar(r.errors,_e),Je.argA,Je.argB);Qe&&ia(r.errors,_e,Ke),IOe(r.errors,_e)}if((d.touchedFields||f.touchedFields)&&Xe&&Array.isArray(ar(r.touchedFields,_e))){const Ke=Ce(ar(r.touchedFields,_e),Je.argA,Je.argB);Qe&&ia(r.touchedFields,_e,Ke)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=x2(a,i)),h.state.next({name:_e,isDirty:B(_e,ge),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else ia(i,_e,ge)},E=(_e,ge)=>{ia(r.errors,_e,ge),h.state.next({errors:r.errors})},C=_e=>{r.errors=_e,h.state.next({errors:r.errors,isValid:!1})},O=(_e,ge,Ce,Je)=>{const Qe=ar(n,_e);if(Qe){const Xe=ar(i,_e,ei(Ce)?ar(a,_e):Ce);ei(Xe)||Je&&Je.defaultChecked||ge?ia(i,_e,ge?Xe:Tz(Qe._f)):re(_e,Xe),s.mount&&b()}},P=(_e,ge,Ce,Je,Qe)=>{let Xe=!1,Ke=!1;const At={name:_e};if(!t.disabled){if(!Ce||Je){(d.isDirty||f.isDirty)&&(Ke=r.isDirty,r.isDirty=At.isDirty=B(),Xe=Ke!==At.isDirty);const Nt=oh(ar(a,_e),ge);Ke=!!ar(r.dirtyFields,_e),Nt?ss(r.dirtyFields,_e):ia(r.dirtyFields,_e,!0),At.dirtyFields=r.dirtyFields,Xe=Xe||(d.dirtyFields||f.dirtyFields)&&Ke!==!Nt}if(Ce){const Nt=ar(r.touchedFields,_e);Nt||(ia(r.touchedFields,_e,Ce),At.touchedFields=r.touchedFields,Xe=Xe||(d.touchedFields||f.touchedFields)&&Nt!==Ce)}Xe&&Qe&&h.state.next(At)}return Xe?At:{}},M=(_e,ge,Ce,Je)=>{const Qe=ar(r.errors,_e),Xe=(d.isValid||f.isValid)&&lc(ge)&&r.isValid!==ge;if(t.delayError&&Ce?(c=y(()=>E(_e,Ce)),c(t.delayError)):(clearTimeout(u),c=null,Ce?ia(r.errors,_e,Ce):ss(r.errors,_e)),(Ce?!oh(Qe,Ce):Qe)||!To(Je)||Xe){const Ke={...Je,...Xe&&lc(ge)?{isValid:ge}:{},errors:r.errors,name:_e};r={...r,...Ke},h.state.next(Ke)}},L=async _e=>{_(_e,!0);const ge=await t.resolver(i,t.context,EOe(_e||o.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return _(_e),ge},j=async _e=>{const{errors:ge}=await L(_e);if(_e)for(const Ce of _e){const Je=ar(ge,Ce);Je?ia(r.errors,Ce,Je):ss(r.errors,Ce)}else r.errors=ge;return ge},T=async(_e,ge,Ce={valid:!0})=>{for(const Je in _e){const Qe=_e[Je];if(Qe){const{_f:Xe,...Ke}=Qe;if(Xe){const At=o.array.has(Xe.name),Nt=Qe._f&&COe(Qe._f);Nt&&d.validatingFields&&_([Je],!0);const vt=await uO(Qe,o.disabled,i,g,t.shouldUseNativeValidation&&!ge,At);if(Nt&&d.validatingFields&&_([Je]),vt[Xe.name]&&(Ce.valid=!1,ge))break;!ge&&(ar(vt,Xe.name)?At?$te(r.errors,vt,Xe.name):ia(r.errors,Xe.name,vt[Xe.name]):ss(r.errors,Xe.name))}!To(Ke)&&await T(Ke,ge,Ce)}}return Ce.valid},I=()=>{for(const _e of o.unMount){const ge=ar(n,_e);ge&&(ge._f.refs?ge._f.refs.every(Ce=>!UP(Ce)):!UP(ge._f.ref))&&V(_e)}o.unMount=new Set},B=(_e,ge)=>!t.disabled&&(_e&&ge&&ia(i,_e,ge),!oh(D(),a)),G=(_e,ge,Ce)=>Ote(_e,o,{...s.mount?i:ei(ge)?a:Jd(_e)?{[_e]:ge}:ge},Ce,ge),Z=_e=>ob(ar(s.mount?i:a,_e,t.shouldUnregister?ar(a,_e,[]):[])),re=(_e,ge,Ce={})=>{const Je=ar(n,_e);let Qe=ge;if(Je){const Xe=Je._f;Xe&&(!Xe.disabled&&ia(i,_e,Lte(ge,Xe)),Qe=MS(Xe.ref)&&il(ge)?"":ge,Ite(Xe.ref)?[...Xe.ref.options].forEach(Ke=>Ke.selected=Qe.includes(Ke.value)):Xe.refs?sb(Xe.ref)?Xe.refs.length>1?Xe.refs.forEach(Ke=>(!Ke.defaultChecked||!Ke.disabled)&&(Ke.checked=Array.isArray(Qe)?!!Qe.find(At=>At===Ke.value):Qe===Ke.value)):Xe.refs[0]&&(Xe.refs[0].checked=!!Qe):Xe.refs.forEach(Ke=>Ke.checked=Ke.value===Qe):xR(Xe.ref)?Xe.ref.value="":(Xe.ref.value=Qe,Xe.ref.type||h.state.next({name:_e,values:mi(i)})))}(Ce.shouldDirty||Ce.shouldTouch)&&P(_e,Qe,Ce.shouldTouch,Ce.shouldDirty,!0),Ce.shouldValidate&&Q(_e)},W=(_e,ge,Ce)=>{for(const Je in ge){const Qe=ge[Je],Xe=`${_e}.${Je}`,Ke=ar(n,Xe);(o.array.has(_e)||Qi(Qe)||Ke&&!Ke._f)&&!B0(Qe)?W(Xe,Qe,Ce):re(Xe,Qe,Ce)}},z=(_e,ge,Ce={})=>{const Je=ar(n,_e),Qe=o.array.has(_e),Xe=mi(ge);ia(i,_e,Xe),Qe?(h.array.next({name:_e,values:mi(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&Ce.shouldDirty&&h.state.next({name:_e,dirtyFields:x2(a,i),isDirty:B(_e,Xe)})):Je&&!Je._f&&!il(Xe)?W(_e,Xe,Ce):re(_e,Xe,Ce),cO(_e,o)&&h.state.next({...r}),h.state.next({name:s.mount?_e:void 0,values:mi(i)})},U=async _e=>{s.mount=!0;const ge=_e.target;let Ce=ge.name,Je=!0;const Qe=ar(n,Ce),Xe=Ke=>{Je=Number.isNaN(Ke)||B0(Ke)&&isNaN(Ke.getTime())||oh(Ke,ar(i,Ce,Ke))};if(Qe){let Ke,At;const Nt=ge.type?Tz(Qe._f):Nte(_e),vt=_e.type===RS.BLUR||_e.type===RS.FOCUS_OUT,Tr=!POe(Qe._f)&&!t.resolver&&!ar(r.errors,Ce)&&!Qe._f.deps||DOe(vt,ar(r.touchedFields,Ce),r.isSubmitted,w,m),cr=cO(Ce,o,vt);ia(i,Ce,Nt),vt?(Qe._f.onBlur&&Qe._f.onBlur(_e),c&&c(0)):Qe._f.onChange&&Qe._f.onChange(_e);const Nn=P(Ce,Nt,vt),ct=!To(Nn)||cr;if(!vt&&h.state.next({name:Ce,type:_e.type,values:mi(i)}),Tr)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?vt&&b():vt||b()),ct&&h.state.next({name:Ce,...cr?{}:Nn});if(!vt&&cr&&h.state.next({...r}),t.resolver){const{errors:Dt}=await L([Ce]);if(Xe(Nt),Je){const Vr=Dz(r.errors,n,Ce),gr=Dz(Dt,n,Vr.name||Ce);Ke=gr.error,Ce=gr.name,At=To(Dt)}}else _([Ce],!0),Ke=(await uO(Qe,o.disabled,i,g,t.shouldUseNativeValidation))[Ce],_([Ce]),Xe(Nt),Je&&(Ke?At=!1:(d.isValid||f.isValid)&&(At=await T(n,!0)));Je&&(Qe._f.deps&&Q(Qe._f.deps),M(Ce,At,Ke,Nn))}},Y=(_e,ge)=>{if(ar(r.errors,ge)&&_e.focus)return _e.focus(),1},Q=async(_e,ge={})=>{let Ce,Je;const Qe=Fl(_e);if(t.resolver){const Xe=await j(ei(_e)?_e:Qe);Ce=To(Xe),Je=_e?!Qe.some(Ke=>ar(Xe,Ke)):Ce}else _e?(Je=(await Promise.all(Qe.map(async Xe=>{const Ke=ar(n,Xe);return await T(Ke&&Ke._f?{[Xe]:Ke}:Ke)}))).every(Boolean),!(!Je&&!r.isValid)&&b()):Je=Ce=await T(n);return h.state.next({...!Jd(_e)||(d.isValid||f.isValid)&&Ce!==r.isValid?{}:{name:_e},...t.resolver||!_e?{isValid:Ce}:{},errors:r.errors}),ge.shouldFocus&&!Je&&n1(n,Y,_e?Qe:o.mount),Je},D=_e=>{const ge={...s.mount?i:a};return ei(_e)?ge:Jd(_e)?ar(ge,_e):_e.map(Ce=>ar(ge,Ce))},K=(_e,ge)=>({invalid:!!ar((ge||r).errors,_e),isDirty:!!ar((ge||r).dirtyFields,_e),error:ar((ge||r).errors,_e),isValidating:!!ar(r.validatingFields,_e),isTouched:!!ar((ge||r).touchedFields,_e)}),J=_e=>{_e&&Fl(_e).forEach(ge=>ss(r.errors,ge)),h.state.next({errors:_e?r.errors:{}})},ne=(_e,ge,Ce)=>{const Je=(ar(n,_e,{_f:{}})._f||{}).ref,Qe=ar(r.errors,_e)||{},{ref:Xe,message:Ke,type:At,...Nt}=Qe;ia(r.errors,_e,{...Nt,...ge,ref:Je}),h.state.next({name:_e,errors:r.errors,isValid:!1}),Ce&&Ce.shouldFocus&&Je&&Je.focus&&Je.focus()},ie=(_e,ge)=>zu(_e)?h.state.subscribe({next:Ce=>_e(G(void 0,ge),Ce)}):G(_e,ge,!0),oe=_e=>h.state.subscribe({next:ge=>{OOe(_e.name,ge.name,_e.exact)&&TOe(ge,_e.formState||d,at,_e.reRenderRoot)&&_e.callback({values:{...i},...r,...ge})}}).unsubscribe,ue=_e=>(s.mount=!0,f={...f,..._e.formState},oe({..._e,formState:f})),V=(_e,ge={})=>{for(const Ce of _e?Fl(_e):o.mount)o.mount.delete(Ce),o.array.delete(Ce),ge.keepValue||(ss(n,Ce),ss(i,Ce)),!ge.keepError&&ss(r.errors,Ce),!ge.keepDirty&&ss(r.dirtyFields,Ce),!ge.keepTouched&&ss(r.touchedFields,Ce),!ge.keepIsValidating&&ss(r.validatingFields,Ce),!t.shouldUnregister&&!ge.keepDefaultValue&&ss(a,Ce);h.state.next({values:mi(i)}),h.state.next({...r,...ge.keepDirty?{isDirty:B()}:{}}),!ge.keepIsValid&&b()},se=({disabled:_e,name:ge})=>{(lc(_e)&&s.mount||_e||o.disabled.has(ge))&&(_e?o.disabled.add(ge):o.disabled.delete(ge))},fe=(_e,ge={})=>{let Ce=ar(n,_e);const Je=lc(ge.disabled)||lc(t.disabled);return ia(n,_e,{...Ce||{},_f:{...Ce&&Ce._f?Ce._f:{ref:{name:_e}},name:_e,mount:!0,...ge}}),o.mount.add(_e),Ce?se({disabled:lc(ge.disabled)?ge.disabled:t.disabled,name:_e}):O(_e,!0,ge.value),{...Je?{disabled:ge.disabled||t.disabled}:{},...t.progressive?{required:!!ge.required,min:w2(ge.min),max:w2(ge.max),minLength:w2(ge.minLength),maxLength:w2(ge.maxLength),pattern:w2(ge.pattern)}:{},name:_e,onChange:U,onBlur:U,ref:Qe=>{if(Qe){fe(_e,ge),Ce=ar(n,_e);const Xe=ei(Qe.value)&&Qe.querySelectorAll&&Qe.querySelectorAll("input,select,textarea")[0]||Qe,Ke=NOe(Xe),At=Ce._f.refs||[];if(Ke?At.find(Nt=>Nt===Xe):Xe===Ce._f.ref)return;ia(n,_e,{_f:{...Ce._f,...Ke?{refs:[...At.filter(UP),Xe,...Array.isArray(ar(a,_e))?[{}]:[]],ref:{type:Xe.type,name:_e}}:{ref:Xe}}}),O(_e,!1,void 0,Xe)}else Ce=ar(n,_e,{}),Ce._f&&(Ce._f.mount=!1),(t.shouldUnregister||ge.shouldUnregister)&&!(Ate(o.array,_e)&&s.action)&&o.unMount.add(_e)}}},te=()=>t.shouldFocusError&&n1(n,Y,o.mount),Ee=_e=>{lc(_e)&&(h.state.next({disabled:_e}),n1(n,(ge,Ce)=>{const Je=ar(n,Ce);Je&&(ge.disabled=Je._f.disabled||_e,Array.isArray(Je._f.refs)&&Je._f.refs.forEach(Qe=>{Qe.disabled=Je._f.disabled||_e}))},0,!1))},Fe=(_e,ge)=>async Ce=>{let Je;Ce&&(Ce.preventDefault&&Ce.preventDefault(),Ce.persist&&Ce.persist());let Qe=mi(i);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:Xe,values:Ke}=await L();r.errors=Xe,Qe=Ke}else await T(n);if(o.disabled.size)for(const Xe of o.disabled)ia(Qe,Xe,void 0);if(ss(r.errors,"root"),To(r.errors)){h.state.next({errors:{}});try{await _e(Qe,Ce)}catch(Xe){Je=Xe}}else ge&&await ge({...r.errors},Ce),te(),setTimeout(te);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:To(r.errors)&&!Je,submitCount:r.submitCount+1,errors:r.errors}),Je)throw Je},Pe=(_e,ge={})=>{ar(n,_e)&&(ei(ge.defaultValue)?z(_e,mi(ar(a,_e))):(z(_e,ge.defaultValue),ia(a,_e,mi(ge.defaultValue))),ge.keepTouched||ss(r.touchedFields,_e),ge.keepDirty||(ss(r.dirtyFields,_e),r.isDirty=ge.defaultValue?B(_e,mi(ar(a,_e))):B()),ge.keepError||(ss(r.errors,_e),d.isValid&&b()),h.state.next({...r}))},ve=(_e,ge={})=>{const Ce=_e?mi(_e):a,Je=mi(Ce),Qe=To(_e),Xe=Qe?a:Je;if(ge.keepDefaultValues||(a=Ce),!ge.keepValues){if(ge.keepDirtyValues){const Ke=new Set([...o.mount,...Object.keys(x2(a,i))]);for(const At of Array.from(Ke))ar(r.dirtyFields,At)?ia(Xe,At,ar(i,At)):z(At,ar(Xe,At))}else{if(vR&&ei(_e))for(const Ke of o.mount){const At=ar(n,Ke);if(At&&At._f){const Nt=Array.isArray(At._f.refs)?At._f.refs[0]:At._f.ref;if(MS(Nt)){const vt=Nt.closest("form");if(vt){vt.reset();break}}}}for(const Ke of o.mount)z(Ke,ar(Xe,Ke))}i=mi(Xe),h.array.next({values:{...Xe}}),h.state.next({values:{...Xe}})}o={mount:ge.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!d.isValid||!!ge.keepIsValid||!!ge.keepDirtyValues,s.watch=!!t.shouldUnregister,h.state.next({submitCount:ge.keepSubmitCount?r.submitCount:0,isDirty:Qe?!1:ge.keepDirty?r.isDirty:!!(ge.keepDefaultValues&&!oh(_e,a)),isSubmitted:ge.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Qe?{}:ge.keepDirtyValues?ge.keepDefaultValues&&i?x2(a,i):r.dirtyFields:ge.keepDefaultValues&&_e?x2(a,_e):ge.keepDirty?r.dirtyFields:{},touchedFields:ge.keepTouched?r.touchedFields:{},errors:ge.keepErrors?r.errors:{},isSubmitSuccessful:ge.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Ge=(_e,ge)=>ve(zu(_e)?_e(i):_e,ge),ht=(_e,ge={})=>{const Ce=ar(n,_e),Je=Ce&&Ce._f;if(Je){const Qe=Je.refs?Je.refs[0]:Je.ref;Qe.focus&&(Qe.focus(),ge.shouldSelect&&zu(Qe.select)&&Qe.select())}},at=_e=>{r={...r,..._e}},wt={control:{register:fe,unregister:V,getFieldState:K,handleSubmit:Fe,setError:ne,_subscribe:oe,_runSchema:L,_getWatch:G,_getDirty:B,_setValid:b,_setFieldArray:N,_setDisabledField:se,_setErrors:C,_getFieldArray:Z,_reset:ve,_resetDefaultValues:()=>zu(t.defaultValues)&&t.defaultValues().then(_e=>{Ge(_e,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:I,_disableForm:Ee,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return s},set _state(_e){s=_e},get _defaultValues(){return a},get _names(){return o},set _names(_e){o=_e},get _formState(){return r},get _options(){return t},set _options(_e){t={...t,..._e}}},subscribe:ue,trigger:Q,register:fe,handleSubmit:Fe,watch:ie,setValue:z,getValues:D,reset:Ge,resetField:Pe,clearErrors:J,unregister:V,setError:ne,setFocus:ht,getFieldState:K};return{...wt,formControl:wt}}var Dp=()=>{const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const r=(Math.random()*16+e)%16|0;return(t=="x"?r:r&3|8).toString(16)})},qP=(e,t,r={})=>r.shouldFocus||ei(r.shouldFocus)?r.focusName||`${e}.${ei(r.focusIndex)?t:r.focusIndex}.`:"",zP=(e,t)=>[...e,...Fl(t)],WP=e=>Array.isArray(e)?e.map(()=>{}):void 0;function VP(e,t,r){return[...e.slice(0,t),...Fl(r),...e.slice(t)]}var HP=(e,t,r)=>Array.isArray(e)?(ei(e[r])&&(e[r]=void 0),e.splice(r,0,e.splice(t,1)[0]),e):[],GP=(e,t)=>[...Fl(t),...Fl(e)];function FOe(e,t){let r=0;const n=[...e];for(const a of t)n.splice(a-r,1),r++;return ob(n).length?n:[]}var YP=(e,t)=>ei(t)?[]:FOe(e,Fl(t).sort((r,n)=>r-n)),KP=(e,t,r)=>{[e[t],e[r]]=[e[r],e[t]]},Rz=(e,t,r)=>(e[t]=r,e);function jS(e){const t=lu(),{control:r=t.control,name:n,keyName:a="id",shouldUnregister:i,rules:s}=e,[o,c]=tt.useState(r._getFieldArray(n)),u=tt.useRef(r._getFieldArray(n).map(Dp)),d=tt.useRef(o),f=tt.useRef(n),h=tt.useRef(!1);f.current=n,d.current=o,r._names.array.add(n),s&&r.register(n,s),tt.useEffect(()=>r._subjects.array.subscribe({next:({values:O,name:P})=>{if(P===f.current||!P){const M=ar(O,f.current);Array.isArray(M)&&(c(M),u.current=M.map(Dp))}}}).unsubscribe,[r]);const m=tt.useCallback(O=>{h.current=!0,r._setFieldArray(n,O)},[r,n]),w=(O,P)=>{const M=Fl(mi(O)),L=zP(r._getFieldArray(n),M);r._names.focus=qP(n,L.length-1,P),u.current=zP(u.current,M.map(Dp)),m(L),c(L),r._setFieldArray(n,L,zP,{argA:WP(O)})},g=(O,P)=>{const M=Fl(mi(O)),L=GP(r._getFieldArray(n),M);r._names.focus=qP(n,0,P),u.current=GP(u.current,M.map(Dp)),m(L),c(L),r._setFieldArray(n,L,GP,{argA:WP(O)})},y=O=>{const P=YP(r._getFieldArray(n),O);u.current=YP(u.current,O),m(P),c(P),!Array.isArray(ar(r._fields,n))&&ia(r._fields,n,void 0),r._setFieldArray(n,P,YP,{argA:O})},b=(O,P,M)=>{const L=Fl(mi(P)),j=VP(r._getFieldArray(n),O,L);r._names.focus=qP(n,O,M),u.current=VP(u.current,O,L.map(Dp)),m(j),c(j),r._setFieldArray(n,j,VP,{argA:O,argB:WP(P)})},_=(O,P)=>{const M=r._getFieldArray(n);KP(M,O,P),KP(u.current,O,P),m(M),c(M),r._setFieldArray(n,M,KP,{argA:O,argB:P},!1)},N=(O,P)=>{const M=r._getFieldArray(n);HP(M,O,P),HP(u.current,O,P),m(M),c(M),r._setFieldArray(n,M,HP,{argA:O,argB:P},!1)},E=(O,P)=>{const M=mi(P),L=Rz(r._getFieldArray(n),O,M);u.current=[...L].map((j,T)=>!j||T===O?Dp():u.current[T]),m(L),c([...L]),r._setFieldArray(n,L,Rz,{argA:O,argB:M},!0,!1)},C=O=>{const P=Fl(mi(O));u.current=P.map(Dp),m([...P]),c([...P]),r._setFieldArray(n,[...P],M=>M,{},!0,!1)};return tt.useEffect(()=>{if(r._state.action=!1,cO(n,r._names)&&r._subjects.state.next({...r._formState}),h.current&&(!Vv(r._options.mode).isOnSubmit||r._formState.isSubmitted)&&!Vv(r._options.reValidateMode).isOnSubmit)if(r._options.resolver)r._runSchema([n]).then(O=>{const P=ar(O.errors,n),M=ar(r._formState.errors,n);(M?!P&&M.type||P&&(M.type!==P.type||M.message!==P.message):P&&P.type)&&(P?ia(r._formState.errors,n,P):ss(r._formState.errors,n),r._subjects.state.next({errors:r._formState.errors}))});else{const O=ar(r._fields,n);O&&O._f&&!(Vv(r._options.reValidateMode).isOnSubmit&&Vv(r._options.mode).isOnSubmit)&&uO(O,r._names.disabled,r._formValues,r._options.criteriaMode===Qc.all,r._options.shouldUseNativeValidation,!0).then(P=>!To(P)&&r._subjects.state.next({errors:$te(r._formState.errors,P,n)}))}r._subjects.state.next({name:n,values:mi(r._formValues)}),r._names.focus&&n1(r._fields,(O,P)=>{if(r._names.focus&&P.startsWith(r._names.focus)&&O.focus)return O.focus(),1}),r._names.focus="",r._setValid(),h.current=!1},[o,n,r]),tt.useEffect(()=>(!ar(r._formValues,n)&&r._setFieldArray(n),()=>{const O=(P,M)=>{const L=ar(r._fields,P);L&&L._f&&(L._f.mount=M)};r._options.shouldUnregister||i?r.unregister(n):O(n,!1)}),[n,r,a,i]),{swap:tt.useCallback(_,[m,n,r]),move:tt.useCallback(N,[m,n,r]),prepend:tt.useCallback(g,[m,n,r]),append:tt.useCallback(w,[m,n,r]),remove:tt.useCallback(y,[m,n,r]),insert:tt.useCallback(b,[m,n,r]),update:tt.useCallback(E,[m,n,r]),replace:tt.useCallback(C,[m,n,r]),fields:tt.useMemo(()=>o.map((O,P)=>({...O,[a]:u.current[P]||Dp()})),[o,a])}}const LOe=typeof window<"u"?tt.useLayoutEffect:tt.useEffect;function pd(e={}){const t=tt.useRef(void 0),r=tt.useRef(void 0),[n,a]=tt.useState({isDirty:!1,isValidating:!1,isLoading:zu(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:zu(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:MOe(e),formState:n},e.formControl&&e.defaultValues&&!zu(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const i=t.current.control;return i._options=e,LOe(()=>{const s=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(o=>({...o,isReady:!0})),s},[i]),tt.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),tt.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode),e.errors&&!To(e.errors)&&i._setErrors(e.errors)},[i,e.errors,e.mode,e.reValidateMode]),tt.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),tt.useEffect(()=>{if(i._proxyFormState.isDirty){const s=i._getDirty();s!==n.isDirty&&i._subjects.state.next({isDirty:s})}},[i,n.isDirty]),tt.useEffect(()=>{e.values&&!oh(e.values,r.current)?(i._reset(e.values,i._options.resetOptions),r.current=e.values,a(s=>({...s}))):i._resetDefaultValues()},[i,e.values]),tt.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=Pte(n,i),t.current}const Mz=(e,t,r)=>{if(e&&"reportValidity"in e){const n=ar(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},Bte=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?Mz(n.ref,r,e):n.refs&&n.refs.forEach(a=>Mz(a,r,e))}},jOe=(e,t)=>{t.shouldUseNativeValidation&&Bte(e,t);const r={};for(const n in e){const a=ar(t.fields,n),i=Object.assign(e[n]||{},{ref:a&&a.ref});if($Oe(t.names||Object.keys(e),n)){const s=Object.assign({},ar(r,n));ia(s,"root",i),ia(r,n,s)}else ia(r,n,i)}return r},$Oe=(e,t)=>e.some(r=>r.startsWith(t+"."));var BOe=function(e,t){for(var r={};e.length;){var n=e[0],a=n.code,i=n.message,s=n.path.join(".");if(!r[s])if("unionErrors"in n){var o=n.unionErrors[0].errors[0];r[s]={message:o.message,type:o.code}}else r[s]={message:i,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[s].types,u=c&&c[n.code];r[s]=Dte(s,t,r,a,u?[].concat(u,n.message):n.message)}e.shift()}return r},md=function(e,t,r){return r===void 0&&(r={}),function(n,a,i){try{return Promise.resolve(function(s,o){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return i.shouldUseNativeValidation&&Bte({},i),{errors:{},values:r.raw?n:u}})}catch(u){return o(u)}return c&&c.then?c.then(void 0,o):c}(0,function(s){if(function(o){return Array.isArray(o==null?void 0:o.errors)}(s))return{values:{},errors:jOe(BOe(s.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw s}))}catch(s){return Promise.reject(s)}}},VN="Checkbox",[UOe,sQe]=ts(VN),[qOe,zOe]=UOe(VN),Ute=S.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:s,disabled:o,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=S.useState(null),w=Jr(t,E=>m(E)),g=S.useRef(!1),y=h?d||!!h.closest("form"):!0,[b,_]=hl({prop:a,defaultProp:i??!1,onChange:u,caller:VN}),N=S.useRef(b);return S.useEffect(()=>{const E=h==null?void 0:h.form;if(E){const C=()=>_(N.current);return E.addEventListener("reset",C),()=>E.removeEventListener("reset",C)}},[h,_]),x(qOe,{scope:r,state:b,disabled:o,children:[l(xr.button,{type:"button",role:"checkbox","aria-checked":am(b)?"mixed":b,"aria-required":s,"data-state":Vte(b),"data-disabled":o?"":void 0,disabled:o,value:c,...f,ref:w,onKeyDown:Ht(e.onKeyDown,E=>{E.key==="Enter"&&E.preventDefault()}),onClick:Ht(e.onClick,E=>{_(C=>am(C)?!0:!C),y&&(g.current=E.isPropagationStopped(),g.current||E.stopPropagation())})}),y&&l(Wte,{control:h,bubbles:!g.current,name:n,value:c,checked:b,required:s,disabled:o,form:d,style:{transform:"translateX(-100%)"},defaultChecked:am(i)?!1:i})]})});Ute.displayName=VN;var qte="CheckboxIndicator",zte=S.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,i=zOe(qte,r);return l(uo,{present:n||am(i.state)||i.state===!0,children:l(xr.span,{"data-state":Vte(i.state),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});zte.displayName=qte;var WOe="CheckboxBubbleInput",Wte=S.forwardRef(({__scopeCheckbox:e,control:t,checked:r,bubbles:n=!0,defaultChecked:a,...i},s)=>{const o=S.useRef(null),c=Jr(o,s),u=K4(r),d=T4(t);S.useEffect(()=>{const h=o.current;if(!h)return;const m=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(m,"checked").set;if(u!==r&&g){const y=new Event("click",{bubbles:n});h.indeterminate=am(r),g.call(h,am(r)?!1:r),h.dispatchEvent(y)}},[u,r,n]);const f=S.useRef(am(r)?!1:r);return l(xr.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??f.current,...i,tabIndex:-1,ref:c,style:{...i.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Wte.displayName=WOe;function am(e){return e==="indeterminate"}function Vte(e){return am(e)?"indeterminate":e?"checked":"unchecked"}var Hte=Ute,VOe=zte;const Fo=S.forwardRef(({className:e,...t},r)=>l(Hte,{ref:r,className:Lt("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:l(VOe,{className:Lt("flex items-center justify-center text-current"),children:l(v1,{className:"h-4 w-4"})})}));Fo.displayName=Hte.displayName;const Mh=Cte,Gte=S.createContext({}),Ve=({...e})=>l(Gte.Provider,{value:{name:e.name},children:l(Wp,{...e})}),HN=()=>{const e=S.useContext(Gte),t=S.useContext(Yte),{getFieldState:r,formState:n}=lu(),a=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},Yte=S.createContext({}),Ie=S.forwardRef(({className:e,...t},r)=>{const n=S.useId();return l(Yte.Provider,{value:{id:n},children:l("div",{ref:r,className:Lt("space-y-2",e),...t})})});Ie.displayName="FormItem";const De=S.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:a}=HN();return l(tr,{ref:r,className:Lt(n&&"text-destructive",e),htmlFor:a,...t})});De.displayName="FormLabel";const Le=S.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:i}=HN();return l(cG,{ref:t,id:n,"aria-describedby":r?`${a} ${i}`:`${a}`,"aria-invalid":!!r,...e})});Le.displayName="FormControl";const gi=S.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=HN();return l("p",{ref:r,id:n,className:Lt("text-sm text-muted-foreground",e),...t})});gi.displayName="FormDescription";const et=S.forwardRef(({className:e,children:t,...r},n)=>{const{error:a,formMessageId:i}=HN(),s=a?String(a==null?void 0:a.message):t;return s?l("p",{ref:n,id:i,className:Lt("text-sm font-medium text-destructive",e),...r,children:s}):null});et.displayName="FormMessage";var Gn;(function(e){e.assertEqual=a=>a;function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const s of a)i[s]=s;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(o=>typeof a[a[o]]!="number"),s={};for(const o of i)s[o]=a[o];return e.objectValues(s)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const s in a)Object.prototype.hasOwnProperty.call(a,s)&&i.push(s);return i},e.find=(a,i)=>{for(const s of a)if(i(s))return s},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(s=>typeof s=="string"?`'${s}'`:s).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(Gn||(Gn={}));var dO;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(dO||(dO={}));const Sr=Gn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),sh=e=>{switch(typeof e){case"undefined":return Sr.undefined;case"string":return Sr.string;case"number":return isNaN(e)?Sr.nan:Sr.number;case"boolean":return Sr.boolean;case"function":return Sr.function;case"bigint":return Sr.bigint;case"symbol":return Sr.symbol;case"object":return Array.isArray(e)?Sr.array:e===null?Sr.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Sr.promise:typeof Map<"u"&&e instanceof Map?Sr.map:typeof Set<"u"&&e instanceof Set?Sr.set:typeof Date<"u"&&e instanceof Date?Sr.date:Sr.object;default:return Sr.unknown}},Gt=Gn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),HOe=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class bc extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},a=i=>{for(const s of i.issues)if(s.code==="invalid_union")s.unionErrors.map(a);else if(s.code==="invalid_return_type")a(s.returnTypeError);else if(s.code==="invalid_arguments")a(s.argumentsError);else if(s.path.length===0)n._errors.push(r(s));else{let o=n,c=0;for(;c<s.path.length;){const u=s.path[c];c===s.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(r(s))):o[u]=o[u]||{_errors:[]},o=o[u],c++}}};return a(this),n}static assert(t){if(!(t instanceof bc))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Gn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(t(a))):n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}bc.create=e=>new bc(e);const J1=(e,t)=>{let r;switch(e.code){case Gt.invalid_type:e.received===Sr.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case Gt.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Gn.jsonStringifyReplacer)}`;break;case Gt.unrecognized_keys:r=`Unrecognized key(s) in object: ${Gn.joinValues(e.keys,", ")}`;break;case Gt.invalid_union:r="Invalid input";break;case Gt.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Gn.joinValues(e.options)}`;break;case Gt.invalid_enum_value:r=`Invalid enum value. Expected ${Gn.joinValues(e.options)}, received '${e.received}'`;break;case Gt.invalid_arguments:r="Invalid function arguments";break;case Gt.invalid_return_type:r="Invalid function return type";break;case Gt.invalid_date:r="Invalid date";break;case Gt.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Gn.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case Gt.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case Gt.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case Gt.custom:r="Invalid input";break;case Gt.invalid_intersection_types:r="Intersection results could not be merged";break;case Gt.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case Gt.not_finite:r="Number must be finite";break;default:r=t.defaultError,Gn.assertNever(e)}return{message:r}};let Kte=J1;function GOe(e){Kte=e}function $S(){return Kte}const BS=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,i=[...r,...a.path||[]],s={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let o="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)o=u(s,{data:t,defaultError:o}).message;return{...a,path:i,message:o}},YOe=[];function dr(e,t){const r=$S(),n=BS({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===J1?void 0:J1].filter(a=>!!a)});e.common.issues.push(n)}class Uo{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return fn;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const i=await a.key,s=await a.value;n.push({key:i,value:s})}return Uo.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:i,value:s}=a;if(i.status==="aborted"||s.status==="aborted")return fn;i.status==="dirty"&&t.dirty(),s.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof s.value<"u"||a.alwaysSet)&&(n[i.value]=s.value)}return{status:t.value,value:n}}}const fn=Object.freeze({status:"aborted"}),Hv=e=>({status:"dirty",value:e}),ml=e=>({status:"valid",value:e}),fO=e=>e.status==="aborted",hO=e=>e.status==="dirty",dg=e=>e.status==="valid",sw=e=>typeof Promise<"u"&&e instanceof Promise;function US(e,t,r,n){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function Xte(e,t,r,n,a){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var Ir;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Ir||(Ir={}));var M2,F2;class hf{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Fz=(e,t)=>{if(dg(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new bc(e.common.issues);return this._error=r,this._error}}};function Sn(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(s,o)=>{var c,u;const{message:d}=e;return s.code==="invalid_enum_value"?{message:d??o.defaultError}:typeof o.data>"u"?{message:(c=d??n)!==null&&c!==void 0?c:o.defaultError}:s.code!=="invalid_type"?{message:o.defaultError}:{message:(u=d??r)!==null&&u!==void 0?u:o.defaultError}},description:a}}class Cn{get description(){return this._def.description}_getType(t){return sh(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:sh(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Uo,ctx:{common:t.parent.common,data:t.data,parsedType:sh(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(sw(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;const a={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:sh(t)},i=this._parseSync({data:t,path:a.path,parent:a});return Fz(a,i)}"~validate"(t){var r,n;const a={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:sh(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:a});return dg(i)?{value:i.value}:{issues:a.common.issues}}catch(i){!((n=(r=i==null?void 0:i.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),a.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:a}).then(i=>dg(i)?{value:i.value}:{issues:a.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:sh(t)},a=this._parse({data:t,path:n.path,parent:n}),i=await(sw(a)?a:Promise.resolve(a));return Fz(n,i)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const s=t(a),o=()=>i.addIssue({code:Gt.custom,...n(a)});return typeof Promise<"u"&&s instanceof Promise?s.then(c=>c?!0:(o(),!1)):s?!0:(o(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new sd({schema:this,typeName:sn.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return sf.create(this,this._def)}nullable(){return ym.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Xu.create(this)}promise(){return Q1.create(this,this._def)}or(t){return uw.create([this,t],this._def)}and(t){return dw.create(this,t,this._def)}transform(t){return new sd({...Sn(this._def),schema:this,typeName:sn.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new gw({...Sn(this._def),innerType:this,defaultValue:r,typeName:sn.ZodDefault})}brand(){return new bR({typeName:sn.ZodBranded,type:this,...Sn(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new vw({...Sn(this._def),innerType:this,catchValue:r,typeName:sn.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return lb.create(this,t)}readonly(){return yw.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const KOe=/^c[^\s-]{8,}$/i,XOe=/^[0-9a-z]+$/,JOe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,ZOe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,QOe=/^[a-z0-9_-]{21}$/i,eDe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,tDe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,rDe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,nDe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let XP;const aDe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,iDe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,sDe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,oDe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,lDe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,cDe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Jte="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",uDe=new RegExp(`^${Jte}$`);function Zte(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function dDe(e){return new RegExp(`^${Zte(e)}$`)}function Qte(e){let t=`${Jte}T${Zte(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function fDe(e,t){return!!((t==="v4"||!t)&&aDe.test(e)||(t==="v6"||!t)&&sDe.test(e))}function hDe(e,t){if(!eDe.test(e))return!1;try{const[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||!a.typ||!a.alg||t&&a.alg!==t)}catch{return!1}}function pDe(e,t){return!!((t==="v4"||!t)&&iDe.test(e)||(t==="v6"||!t)&&oDe.test(e))}class Vu extends Cn{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Sr.string){const i=this._getOrReturnCtx(t);return dr(i,{code:Gt.invalid_type,expected:Sr.string,received:i.parsedType}),fn}const n=new Uo;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),dr(a,{code:Gt.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),dr(a,{code:Gt.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const s=t.data.length>i.value,o=t.data.length<i.value;(s||o)&&(a=this._getOrReturnCtx(t,a),s?dr(a,{code:Gt.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&dr(a,{code:Gt.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")rDe.test(t.data)||(a=this._getOrReturnCtx(t,a),dr(a,{validation:"email",code:Gt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")XP||(XP=new RegExp(nDe,"u")),XP.test(t.data)||(a=this._getOrReturnCtx(t,a),dr(a,{validation:"emoji",code:Gt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")ZOe.test(t.data)||(a=this._getOrReturnCtx(t,a),dr(a,{validation:"uuid",code:Gt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")QOe.test(t.data)||(a=this._getOrReturnCtx(t,a),dr(a,{validation:"nanoid",code:Gt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")KOe.test(t.data)||(a=this._getOrReturnCtx(t,a),dr(a,{validation:"cuid",code:Gt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")XOe.test(t.data)||(a=this._getOrReturnCtx(t,a),dr(a,{validation:"cuid2",code:Gt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")JOe.test(t.data)||(a=this._getOrReturnCtx(t,a),dr(a,{validation:"ulid",code:Gt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),dr(a,{validation:"url",code:Gt.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),dr(a,{validation:"regex",code:Gt.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),dr(a,{code:Gt.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),dr(a,{code:Gt.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),dr(a,{code:Gt.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?Qte(i).test(t.data)||(a=this._getOrReturnCtx(t,a),dr(a,{code:Gt.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?uDe.test(t.data)||(a=this._getOrReturnCtx(t,a),dr(a,{code:Gt.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?dDe(i).test(t.data)||(a=this._getOrReturnCtx(t,a),dr(a,{code:Gt.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?tDe.test(t.data)||(a=this._getOrReturnCtx(t,a),dr(a,{validation:"duration",code:Gt.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?fDe(t.data,i.version)||(a=this._getOrReturnCtx(t,a),dr(a,{validation:"ip",code:Gt.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?hDe(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),dr(a,{validation:"jwt",code:Gt.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?pDe(t.data,i.version)||(a=this._getOrReturnCtx(t,a),dr(a,{validation:"cidr",code:Gt.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?lDe.test(t.data)||(a=this._getOrReturnCtx(t,a),dr(a,{validation:"base64",code:Gt.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?cDe.test(t.data)||(a=this._getOrReturnCtx(t,a),dr(a,{validation:"base64url",code:Gt.invalid_string,message:i.message}),n.dirty()):Gn.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:Gt.invalid_string,...Ir.errToObj(n)})}_addCheck(t){return new Vu({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Ir.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Ir.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Ir.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Ir.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Ir.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Ir.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Ir.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Ir.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Ir.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Ir.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Ir.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Ir.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Ir.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(n=t==null?void 0:t.local)!==null&&n!==void 0?n:!1,...Ir.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Ir.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Ir.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Ir.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Ir.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Ir.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Ir.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Ir.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Ir.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Ir.errToObj(r)})}nonempty(t){return this.min(1,Ir.errToObj(t))}trim(){return new Vu({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Vu({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Vu({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Vu.create=e=>{var t;return new Vu({checks:[],typeName:sn.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Sn(e)})};function mDe(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,i=parseInt(e.toFixed(a).replace(".","")),s=parseInt(t.toFixed(a).replace(".",""));return i%s/Math.pow(10,a)}class mm extends Cn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Sr.number){const i=this._getOrReturnCtx(t);return dr(i,{code:Gt.invalid_type,expected:Sr.number,received:i.parsedType}),fn}let n;const a=new Uo;for(const i of this._def.checks)i.kind==="int"?Gn.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),dr(n,{code:Gt.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),dr(n,{code:Gt.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),dr(n,{code:Gt.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?mDe(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),dr(n,{code:Gt.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),dr(n,{code:Gt.not_finite,message:i.message}),a.dirty()):Gn.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Ir.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ir.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ir.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ir.toString(r))}setLimit(t,r,n,a){return new mm({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ir.toString(a)}]})}_addCheck(t){return new mm({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Ir.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ir.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ir.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ir.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ir.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ir.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Ir.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ir.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ir.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Gn.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}mm.create=e=>new mm({checks:[],typeName:sn.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Sn(e)});class gm extends Cn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Sr.bigint)return this._getInvalidInput(t);let n;const a=new Uo;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),dr(n,{code:Gt.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),dr(n,{code:Gt.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),dr(n,{code:Gt.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):Gn.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return dr(r,{code:Gt.invalid_type,expected:Sr.bigint,received:r.parsedType}),fn}gte(t,r){return this.setLimit("min",t,!0,Ir.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ir.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ir.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ir.toString(r))}setLimit(t,r,n,a){return new gm({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ir.toString(a)}]})}_addCheck(t){return new gm({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ir.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ir.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ir.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ir.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ir.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}gm.create=e=>{var t;return new gm({checks:[],typeName:sn.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Sn(e)})};class ow extends Cn{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Sr.boolean){const n=this._getOrReturnCtx(t);return dr(n,{code:Gt.invalid_type,expected:Sr.boolean,received:n.parsedType}),fn}return ml(t.data)}}ow.create=e=>new ow({typeName:sn.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Sn(e)});class fg extends Cn{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Sr.date){const i=this._getOrReturnCtx(t);return dr(i,{code:Gt.invalid_type,expected:Sr.date,received:i.parsedType}),fn}if(isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return dr(i,{code:Gt.invalid_date}),fn}const n=new Uo;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),dr(a,{code:Gt.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),dr(a,{code:Gt.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Gn.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new fg({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Ir.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Ir.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}fg.create=e=>new fg({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:sn.ZodDate,...Sn(e)});class qS extends Cn{_parse(t){if(this._getType(t)!==Sr.symbol){const n=this._getOrReturnCtx(t);return dr(n,{code:Gt.invalid_type,expected:Sr.symbol,received:n.parsedType}),fn}return ml(t.data)}}qS.create=e=>new qS({typeName:sn.ZodSymbol,...Sn(e)});class lw extends Cn{_parse(t){if(this._getType(t)!==Sr.undefined){const n=this._getOrReturnCtx(t);return dr(n,{code:Gt.invalid_type,expected:Sr.undefined,received:n.parsedType}),fn}return ml(t.data)}}lw.create=e=>new lw({typeName:sn.ZodUndefined,...Sn(e)});class cw extends Cn{_parse(t){if(this._getType(t)!==Sr.null){const n=this._getOrReturnCtx(t);return dr(n,{code:Gt.invalid_type,expected:Sr.null,received:n.parsedType}),fn}return ml(t.data)}}cw.create=e=>new cw({typeName:sn.ZodNull,...Sn(e)});class Z1 extends Cn{constructor(){super(...arguments),this._any=!0}_parse(t){return ml(t.data)}}Z1.create=e=>new Z1({typeName:sn.ZodAny,...Sn(e)});class H0 extends Cn{constructor(){super(...arguments),this._unknown=!0}_parse(t){return ml(t.data)}}H0.create=e=>new H0({typeName:sn.ZodUnknown,...Sn(e)});class Nh extends Cn{_parse(t){const r=this._getOrReturnCtx(t);return dr(r,{code:Gt.invalid_type,expected:Sr.never,received:r.parsedType}),fn}}Nh.create=e=>new Nh({typeName:sn.ZodNever,...Sn(e)});class zS extends Cn{_parse(t){if(this._getType(t)!==Sr.undefined){const n=this._getOrReturnCtx(t);return dr(n,{code:Gt.invalid_type,expected:Sr.void,received:n.parsedType}),fn}return ml(t.data)}}zS.create=e=>new zS({typeName:sn.ZodVoid,...Sn(e)});class Xu extends Cn{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==Sr.array)return dr(r,{code:Gt.invalid_type,expected:Sr.array,received:r.parsedType}),fn;if(a.exactLength!==null){const s=r.data.length>a.exactLength.value,o=r.data.length<a.exactLength.value;(s||o)&&(dr(r,{code:s?Gt.too_big:Gt.too_small,minimum:o?a.exactLength.value:void 0,maximum:s?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(dr(r,{code:Gt.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(dr(r,{code:Gt.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((s,o)=>a.type._parseAsync(new hf(r,s,r.path,o)))).then(s=>Uo.mergeArray(n,s));const i=[...r.data].map((s,o)=>a.type._parseSync(new hf(r,s,r.path,o)));return Uo.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new Xu({...this._def,minLength:{value:t,message:Ir.toString(r)}})}max(t,r){return new Xu({...this._def,maxLength:{value:t,message:Ir.toString(r)}})}length(t,r){return new Xu({...this._def,exactLength:{value:t,message:Ir.toString(r)}})}nonempty(t){return this.min(1,t)}}Xu.create=(e,t)=>new Xu({type:e,minLength:null,maxLength:null,exactLength:null,typeName:sn.ZodArray,...Sn(t)});function jv(e){if(e instanceof vi){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=sf.create(jv(n))}return new vi({...e._def,shape:()=>t})}else return e instanceof Xu?new Xu({...e._def,type:jv(e.element)}):e instanceof sf?sf.create(jv(e.unwrap())):e instanceof ym?ym.create(jv(e.unwrap())):e instanceof pf?pf.create(e.items.map(t=>jv(t))):e}class vi extends Cn{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Gn.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==Sr.object){const u=this._getOrReturnCtx(t);return dr(u,{code:Gt.invalid_type,expected:Sr.object,received:u.parsedType}),fn}const{status:n,ctx:a}=this._processInputParams(t),{shape:i,keys:s}=this._getCached(),o=[];if(!(this._def.catchall instanceof Nh&&this._def.unknownKeys==="strip"))for(const u in a.data)s.includes(u)||o.push(u);const c=[];for(const u of s){const d=i[u],f=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new hf(a,f,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof Nh){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of o)c.push({key:{status:"valid",value:d},value:{status:"valid",value:a.data[d]}});else if(u==="strict")o.length>0&&(dr(a,{code:Gt.unrecognized_keys,keys:o}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of o){const f=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new hf(a,f,a.path,d)),alwaysSet:d in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>Uo.mergeObjectSync(n,u)):Uo.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return Ir.errToObj,new vi({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var a,i,s,o;const c=(s=(i=(a=this._def).errorMap)===null||i===void 0?void 0:i.call(a,r,n).message)!==null&&s!==void 0?s:n.defaultError;return r.code==="unrecognized_keys"?{message:(o=Ir.errToObj(t).message)!==null&&o!==void 0?o:c}:{message:c}}}:{}})}strip(){return new vi({...this._def,unknownKeys:"strip"})}passthrough(){return new vi({...this._def,unknownKeys:"passthrough"})}extend(t){return new vi({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new vi({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:sn.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new vi({...this._def,catchall:t})}pick(t){const r={};return Gn.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new vi({...this._def,shape:()=>r})}omit(t){const r={};return Gn.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new vi({...this._def,shape:()=>r})}deepPartial(){return jv(this)}partial(t){const r={};return Gn.objectKeys(this.shape).forEach(n=>{const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}),new vi({...this._def,shape:()=>r})}required(t){const r={};return Gn.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof sf;)i=i._def.innerType;r[n]=i}}),new vi({...this._def,shape:()=>r})}keyof(){return ere(Gn.objectKeys(this.shape))}}vi.create=(e,t)=>new vi({shape:()=>e,unknownKeys:"strip",catchall:Nh.create(),typeName:sn.ZodObject,...Sn(t)});vi.strictCreate=(e,t)=>new vi({shape:()=>e,unknownKeys:"strict",catchall:Nh.create(),typeName:sn.ZodObject,...Sn(t)});vi.lazycreate=(e,t)=>new vi({shape:e,unknownKeys:"strip",catchall:Nh.create(),typeName:sn.ZodObject,...Sn(t)});class uw extends Cn{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(i){for(const o of i)if(o.result.status==="valid")return o.result;for(const o of i)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const s=i.map(o=>new bc(o.ctx.common.issues));return dr(r,{code:Gt.invalid_union,unionErrors:s}),fn}if(r.common.async)return Promise.all(n.map(async i=>{const s={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:s}),ctx:s}})).then(a);{let i;const s=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&s.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const o=s.map(c=>new bc(c));return dr(r,{code:Gt.invalid_union,unionErrors:o}),fn}}get options(){return this._def.options}}uw.create=(e,t)=>new uw({options:e,typeName:sn.ZodUnion,...Sn(t)});const nh=e=>e instanceof hw?nh(e.schema):e instanceof sd?nh(e.innerType()):e instanceof pw?[e.value]:e instanceof vm?e.options:e instanceof mw?Gn.objectValues(e.enum):e instanceof gw?nh(e._def.innerType):e instanceof lw?[void 0]:e instanceof cw?[null]:e instanceof sf?[void 0,...nh(e.unwrap())]:e instanceof ym?[null,...nh(e.unwrap())]:e instanceof bR||e instanceof yw?nh(e.unwrap()):e instanceof vw?nh(e._def.innerType):[];class GN extends Cn{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Sr.object)return dr(r,{code:Gt.invalid_type,expected:Sr.object,received:r.parsedType}),fn;const n=this.discriminator,a=r.data[n],i=this.optionsMap.get(a);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(dr(r,{code:Gt.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),fn)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){const a=new Map;for(const i of r){const s=nh(i.shape[t]);if(!s.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const o of s){if(a.has(o))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(o)}`);a.set(o,i)}}return new GN({typeName:sn.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:a,...Sn(n)})}}function pO(e,t){const r=sh(e),n=sh(t);if(e===t)return{valid:!0,data:e};if(r===Sr.object&&n===Sr.object){const a=Gn.objectKeys(t),i=Gn.objectKeys(e).filter(o=>a.indexOf(o)!==-1),s={...e,...t};for(const o of i){const c=pO(e[o],t[o]);if(!c.valid)return{valid:!1};s[o]=c.data}return{valid:!0,data:s}}else if(r===Sr.array&&n===Sr.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const s=e[i],o=t[i],c=pO(s,o);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===Sr.date&&n===Sr.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class dw extends Cn{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(i,s)=>{if(fO(i)||fO(s))return fn;const o=pO(i.value,s.value);return o.valid?((hO(i)||hO(s))&&r.dirty(),{status:r.value,value:o.data}):(dr(n,{code:Gt.invalid_intersection_types}),fn)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,s])=>a(i,s)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}dw.create=(e,t,r)=>new dw({left:e,right:t,typeName:sn.ZodIntersection,...Sn(r)});class pf extends Cn{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Sr.array)return dr(n,{code:Gt.invalid_type,expected:Sr.array,received:n.parsedType}),fn;if(n.data.length<this._def.items.length)return dr(n,{code:Gt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),fn;!this._def.rest&&n.data.length>this._def.items.length&&(dr(n,{code:Gt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((s,o)=>{const c=this._def.items[o]||this._def.rest;return c?c._parse(new hf(n,s,n.path,o)):null}).filter(s=>!!s);return n.common.async?Promise.all(i).then(s=>Uo.mergeArray(r,s)):Uo.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new pf({...this._def,rest:t})}}pf.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new pf({items:e,typeName:sn.ZodTuple,rest:null,...Sn(t)})};class fw extends Cn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Sr.object)return dr(n,{code:Gt.invalid_type,expected:Sr.object,received:n.parsedType}),fn;const a=[],i=this._def.keyType,s=this._def.valueType;for(const o in n.data)a.push({key:i._parse(new hf(n,o,n.path,o)),value:s._parse(new hf(n,n.data[o],n.path,o)),alwaysSet:o in n.data});return n.common.async?Uo.mergeObjectAsync(r,a):Uo.mergeObjectSync(r,a)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof Cn?new fw({keyType:t,valueType:r,typeName:sn.ZodRecord,...Sn(n)}):new fw({keyType:Vu.create(),valueType:t,typeName:sn.ZodRecord,...Sn(r)})}}class WS extends Cn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Sr.map)return dr(n,{code:Gt.invalid_type,expected:Sr.map,received:n.parsedType}),fn;const a=this._def.keyType,i=this._def.valueType,s=[...n.data.entries()].map(([o,c],u)=>({key:a._parse(new hf(n,o,n.path,[u,"key"])),value:i._parse(new hf(n,c,n.path,[u,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const c of s){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return fn;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),o.set(u.value,d.value)}return{status:r.value,value:o}})}else{const o=new Map;for(const c of s){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return fn;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),o.set(u.value,d.value)}return{status:r.value,value:o}}}}WS.create=(e,t,r)=>new WS({valueType:t,keyType:e,typeName:sn.ZodMap,...Sn(r)});class hg extends Cn{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Sr.set)return dr(n,{code:Gt.invalid_type,expected:Sr.set,received:n.parsedType}),fn;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(dr(n,{code:Gt.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(dr(n,{code:Gt.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function s(c){const u=new Set;for(const d of c){if(d.status==="aborted")return fn;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const o=[...n.data.values()].map((c,u)=>i._parse(new hf(n,c,n.path,u)));return n.common.async?Promise.all(o).then(c=>s(c)):s(o)}min(t,r){return new hg({...this._def,minSize:{value:t,message:Ir.toString(r)}})}max(t,r){return new hg({...this._def,maxSize:{value:t,message:Ir.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}hg.create=(e,t)=>new hg({valueType:e,minSize:null,maxSize:null,typeName:sn.ZodSet,...Sn(t)});class a1 extends Cn{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Sr.function)return dr(r,{code:Gt.invalid_type,expected:Sr.function,received:r.parsedType}),fn;function n(o,c){return BS({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,$S(),J1].filter(u=>!!u),issueData:{code:Gt.invalid_arguments,argumentsError:c}})}function a(o,c){return BS({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,$S(),J1].filter(u=>!!u),issueData:{code:Gt.invalid_return_type,returnTypeError:c}})}const i={errorMap:r.common.contextualErrorMap},s=r.data;if(this._def.returns instanceof Q1){const o=this;return ml(async function(...c){const u=new bc([]),d=await o._def.args.parseAsync(c,i).catch(m=>{throw u.addIssue(n(c,m)),u}),f=await Reflect.apply(s,this,d);return await o._def.returns._def.type.parseAsync(f,i).catch(m=>{throw u.addIssue(a(f,m)),u})})}else{const o=this;return ml(function(...c){const u=o._def.args.safeParse(c,i);if(!u.success)throw new bc([n(c,u.error)]);const d=Reflect.apply(s,this,u.data),f=o._def.returns.safeParse(d,i);if(!f.success)throw new bc([a(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new a1({...this._def,args:pf.create(t).rest(H0.create())})}returns(t){return new a1({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new a1({args:t||pf.create([]).rest(H0.create()),returns:r||H0.create(),typeName:sn.ZodFunction,...Sn(n)})}}class hw extends Cn{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}hw.create=(e,t)=>new hw({getter:e,typeName:sn.ZodLazy,...Sn(t)});class pw extends Cn{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return dr(r,{received:r.data,code:Gt.invalid_literal,expected:this._def.value}),fn}return{status:"valid",value:t.data}}get value(){return this._def.value}}pw.create=(e,t)=>new pw({value:e,typeName:sn.ZodLiteral,...Sn(t)});function ere(e,t){return new vm({values:e,typeName:sn.ZodEnum,...Sn(t)})}class vm extends Cn{constructor(){super(...arguments),M2.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return dr(r,{expected:Gn.joinValues(n),received:r.parsedType,code:Gt.invalid_type}),fn}if(US(this,M2)||Xte(this,M2,new Set(this._def.values)),!US(this,M2).has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return dr(r,{received:r.data,code:Gt.invalid_enum_value,options:n}),fn}return ml(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return vm.create(t,{...this._def,...r})}exclude(t,r=this._def){return vm.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}M2=new WeakMap;vm.create=ere;class mw extends Cn{constructor(){super(...arguments),F2.set(this,void 0)}_parse(t){const r=Gn.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Sr.string&&n.parsedType!==Sr.number){const a=Gn.objectValues(r);return dr(n,{expected:Gn.joinValues(a),received:n.parsedType,code:Gt.invalid_type}),fn}if(US(this,F2)||Xte(this,F2,new Set(Gn.getValidEnumValues(this._def.values))),!US(this,F2).has(t.data)){const a=Gn.objectValues(r);return dr(n,{received:n.data,code:Gt.invalid_enum_value,options:a}),fn}return ml(t.data)}get enum(){return this._def.values}}F2=new WeakMap;mw.create=(e,t)=>new mw({values:e,typeName:sn.ZodNativeEnum,...Sn(t)});class Q1 extends Cn{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Sr.promise&&r.common.async===!1)return dr(r,{code:Gt.invalid_type,expected:Sr.promise,received:r.parsedType}),fn;const n=r.parsedType===Sr.promise?r.data:Promise.resolve(r.data);return ml(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Q1.create=(e,t)=>new Q1({type:e,typeName:sn.ZodPromise,...Sn(t)});class sd extends Cn{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===sn.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:s=>{dr(n,s),s.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const s=a.transform(n.data,i);if(n.common.async)return Promise.resolve(s).then(async o=>{if(r.value==="aborted")return fn;const c=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return c.status==="aborted"?fn:c.status==="dirty"||r.value==="dirty"?Hv(c.value):c});{if(r.value==="aborted")return fn;const o=this._def.schema._parseSync({data:s,path:n.path,parent:n});return o.status==="aborted"?fn:o.status==="dirty"||r.value==="dirty"?Hv(o.value):o}}if(a.type==="refinement"){const s=o=>{const c=a.refinement(o,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?fn:(o.status==="dirty"&&r.dirty(),s(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?fn:(o.status==="dirty"&&r.dirty(),s(o.value).then(()=>({status:r.value,value:o.value}))))}if(a.type==="transform")if(n.common.async===!1){const s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!dg(s))return s;const o=a.transform(s.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>dg(s)?Promise.resolve(a.transform(s.value,i)).then(o=>({status:r.value,value:o})):s);Gn.assertNever(a)}}sd.create=(e,t,r)=>new sd({schema:e,typeName:sn.ZodEffects,effect:t,...Sn(r)});sd.createWithPreprocess=(e,t,r)=>new sd({schema:t,effect:{type:"preprocess",transform:e},typeName:sn.ZodEffects,...Sn(r)});class sf extends Cn{_parse(t){return this._getType(t)===Sr.undefined?ml(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}sf.create=(e,t)=>new sf({innerType:e,typeName:sn.ZodOptional,...Sn(t)});class ym extends Cn{_parse(t){return this._getType(t)===Sr.null?ml(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ym.create=(e,t)=>new ym({innerType:e,typeName:sn.ZodNullable,...Sn(t)});class gw extends Cn{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Sr.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}gw.create=(e,t)=>new gw({innerType:e,typeName:sn.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Sn(t)});class vw extends Cn{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return sw(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new bc(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new bc(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}vw.create=(e,t)=>new vw({innerType:e,typeName:sn.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Sn(t)});class VS extends Cn{_parse(t){if(this._getType(t)!==Sr.nan){const n=this._getOrReturnCtx(t);return dr(n,{code:Gt.invalid_type,expected:Sr.nan,received:n.parsedType}),fn}return{status:"valid",value:t.data}}}VS.create=e=>new VS({typeName:sn.ZodNaN,...Sn(e)});const gDe=Symbol("zod_brand");class bR extends Cn{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class lb extends Cn{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?fn:i.status==="dirty"?(r.dirty(),Hv(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?fn:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new lb({in:t,out:r,typeName:sn.ZodPipeline})}}class yw extends Cn{_parse(t){const r=this._def.innerType._parse(t),n=a=>(dg(a)&&(a.value=Object.freeze(a.value)),a);return sw(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}yw.create=(e,t)=>new yw({innerType:e,typeName:sn.ZodReadonly,...Sn(t)});function Lz(e,t){const r=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof r=="string"?{message:r}:r}function tre(e,t={},r){return e?Z1.create().superRefine((n,a)=>{var i,s;const o=e(n);if(o instanceof Promise)return o.then(c=>{var u,d;if(!c){const f=Lz(t,n),h=(d=(u=f.fatal)!==null&&u!==void 0?u:r)!==null&&d!==void 0?d:!0;a.addIssue({code:"custom",...f,fatal:h})}});if(!o){const c=Lz(t,n),u=(s=(i=c.fatal)!==null&&i!==void 0?i:r)!==null&&s!==void 0?s:!0;a.addIssue({code:"custom",...c,fatal:u})}}):Z1.create()}const vDe={object:vi.lazycreate};var sn;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(sn||(sn={}));const yDe=(e,t={message:`Input not instance of ${e.name}`})=>tre(r=>r instanceof e,t),ro=Vu.create,ex=mm.create,xDe=VS.create,wDe=gm.create,_R=ow.create,rre=fg.create,bDe=qS.create,_De=lw.create,SDe=cw.create,NDe=Z1.create,ADe=H0.create,kDe=Nh.create,EDe=zS.create,nre=Xu.create,YN=vi.create,CDe=vi.strictCreate,PDe=uw.create,TDe=GN.create,ODe=dw.create,DDe=pf.create,IDe=fw.create,RDe=WS.create,MDe=hg.create,FDe=a1.create,LDe=hw.create,jDe=pw.create,xw=vm.create,$De=mw.create,BDe=Q1.create,jz=sd.create,UDe=sf.create,qDe=ym.create,zDe=sd.createWithPreprocess,WDe=lb.create,VDe=()=>ro().optional(),HDe=()=>ex().optional(),GDe=()=>_R().optional(),SR={string:e=>Vu.create({...e,coerce:!0}),number:e=>mm.create({...e,coerce:!0}),boolean:e=>ow.create({...e,coerce:!0}),bigint:e=>gm.create({...e,coerce:!0}),date:e=>fg.create({...e,coerce:!0})},YDe=fn;var Re=Object.freeze({__proto__:null,defaultErrorMap:J1,setErrorMap:GOe,getErrorMap:$S,makeIssue:BS,EMPTY_PATH:YOe,addIssueToContext:dr,ParseStatus:Uo,INVALID:fn,DIRTY:Hv,OK:ml,isAborted:fO,isDirty:hO,isValid:dg,isAsync:sw,get util(){return Gn},get objectUtil(){return dO},ZodParsedType:Sr,getParsedType:sh,ZodType:Cn,datetimeRegex:Qte,ZodString:Vu,ZodNumber:mm,ZodBigInt:gm,ZodBoolean:ow,ZodDate:fg,ZodSymbol:qS,ZodUndefined:lw,ZodNull:cw,ZodAny:Z1,ZodUnknown:H0,ZodNever:Nh,ZodVoid:zS,ZodArray:Xu,ZodObject:vi,ZodUnion:uw,ZodDiscriminatedUnion:GN,ZodIntersection:dw,ZodTuple:pf,ZodRecord:fw,ZodMap:WS,ZodSet:hg,ZodFunction:a1,ZodLazy:hw,ZodLiteral:pw,ZodEnum:vm,ZodNativeEnum:mw,ZodPromise:Q1,ZodEffects:sd,ZodTransformer:sd,ZodOptional:sf,ZodNullable:ym,ZodDefault:gw,ZodCatch:vw,ZodNaN:VS,BRAND:gDe,ZodBranded:bR,ZodPipeline:lb,ZodReadonly:yw,custom:tre,Schema:Cn,ZodSchema:Cn,late:vDe,get ZodFirstPartyTypeKind(){return sn},coerce:SR,any:NDe,array:nre,bigint:wDe,boolean:_R,date:rre,discriminatedUnion:TDe,effect:jz,enum:xw,function:FDe,instanceof:yDe,intersection:ODe,lazy:LDe,literal:jDe,map:RDe,nan:xDe,nativeEnum:$De,never:kDe,null:SDe,nullable:qDe,number:ex,object:YN,oboolean:GDe,onumber:HDe,optional:UDe,ostring:VDe,pipeline:WDe,preprocess:zDe,promise:BDe,record:IDe,set:MDe,strictObject:CDe,string:ro,symbol:bDe,transformer:jz,tuple:DDe,undefined:_De,union:PDe,unknown:ADe,void:EDe,NEVER:YDe,ZodIssueCode:Gt,quotelessJson:HOe,ZodError:bc});const Vp=Re.object({first_name:Re.string().min(1,"First name is required"),last_name:Re.string().min(1,"Last name is required"),middle_name:Re.string().optional(),gender:Re.enum(["male","female","other"]),age:Re.preprocess(e=>e===""||e===null||e===void 0?null:Number(e),Re.number().int().positive("Age must be a positive number").nullable().optional()),marital_status:Re.enum(["single","married","divorced","widowed","separated","other"]).optional(),occupation:Re.string().optional()});function KDe(){const e=lu();return x("div",{className:"space-y-6",children:[x("div",{className:"space-y-2",children:[l("h3",{className:"text-lg font-medium",children:"Basic Information"}),l("p",{className:"text-sm text-muted-foreground",children:"Enter the patient's basic personal information."})]}),x("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[l(Ve,{control:e.control,name:"first_name",render:({field:t})=>x(Ie,{children:[l(De,{children:"First Name"}),l(Le,{children:l(dt,{placeholder:"John",...t})}),l(et,{})]})}),l(Ve,{control:e.control,name:"middle_name",render:({field:t})=>x(Ie,{children:[l(De,{children:"Middle Name"}),l(Le,{children:l(dt,{placeholder:"Michael",...t})}),l(et,{})]})}),l(Ve,{control:e.control,name:"last_name",render:({field:t})=>x(Ie,{children:[l(De,{children:"Last Name"}),l(Le,{children:l(dt,{placeholder:"Doe",...t})}),l(et,{})]})}),l(Ve,{control:e.control,name:"gender",render:({field:t})=>x(Ie,{children:[l(De,{children:"Gender"}),x(Ur,{onValueChange:t.onChange,defaultValue:t.value,children:[l(Le,{children:l(jr,{children:l(qr,{placeholder:"Select gender"})})}),x($r,{children:[l(mt,{value:"male",children:"Male"}),l(mt,{value:"female",children:"Female"}),l(mt,{value:"other",children:"Other"})]})]}),l(et,{})]})}),l(Ve,{control:e.control,name:"age",render:({field:t})=>x(Ie,{children:[l(De,{children:"Age"}),l(Le,{children:l(dt,{type:"number",placeholder:"25",...t,value:t.value??"",onChange:r=>t.onChange(r.target.value===""?null:r.target.valueAsNumber)})}),l(et,{})]})}),l(Ve,{control:e.control,name:"marital_status",render:({field:t})=>x(Ie,{children:[l(De,{children:"Marital Status"}),x(Ur,{onValueChange:t.onChange,defaultValue:t.value,children:[l(Le,{children:l(jr,{children:l(qr,{placeholder:"Select status"})})}),x($r,{children:[l(mt,{value:"single",children:"Single"}),l(mt,{value:"married",children:"Married"}),l(mt,{value:"divorced",children:"Divorced"}),l(mt,{value:"widowed",children:"Widowed"}),l(mt,{value:"separated",children:"Separated"}),l(mt,{value:"other",children:"Other"})]})]}),l(et,{})]})}),l(Ve,{control:e.control,name:"occupation",render:({field:t})=>x(Ie,{children:[l(De,{children:"Occupation"}),l(Le,{children:l(dt,{placeholder:"Software Engineer",...t})}),l(et,{})]})})]})]})}const NR=Re.object({phone:Re.string().min(1,"Phone number is required").regex(/^\+?[1-9]\d{1,14}$/,"Invalid phone number format. Use E.164 format: +1234567890"),email:Re.string().email("Invalid email address").optional().nullable(),address:Re.string().optional(),city:Re.string().optional(),state:Re.string().optional(),postal_code:Re.string().optional(),country:Re.string().default("USA"),emergency_contact_name:Re.string().optional(),emergency_contact_phone:Re.string().regex(/^\+?[1-9]\d{1,14}$/,"Invalid phone number format").optional(),emergency_contact_relationship:Re.string().optional()});function XDe(){const e=lu();return x("div",{className:"space-y-6",children:[x("div",{className:"space-y-2",children:[l("h3",{className:"text-lg font-medium",children:"Contact Information"}),l("p",{className:"text-sm text-muted-foreground",children:"Provide contact details for communication."})]}),x("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l(Ve,{control:e.control,name:"phone",render:({field:t})=>x(Ie,{children:[l(De,{children:"Phone Number"}),l(Le,{children:l(dt,{placeholder:"+1234567890",...t})}),l(et,{})]})}),l(Ve,{control:e.control,name:"email",render:({field:t})=>x(Ie,{children:[l(De,{children:"Email Address"}),l(Le,{children:l(dt,{type:"email",placeholder:"john@example.com",...t})}),l(et,{})]})})]}),x("div",{className:"space-y-2",children:[l("h3",{className:"text-lg font-medium",children:"Address Information"}),l("p",{className:"text-sm text-muted-foreground",children:"Enter the patient's residential address."})]}),x("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l(Ve,{control:e.control,name:"address",render:({field:t})=>x(Ie,{className:"col-span-2",children:[l(De,{children:"Street Address"}),l(Le,{children:l(dt,{placeholder:"123 Main St",...t})}),l(et,{})]})}),l(Ve,{control:e.control,name:"city",render:({field:t})=>x(Ie,{children:[l(De,{children:"City"}),l(Le,{children:l(dt,{placeholder:"New York",...t})}),l(et,{})]})}),l(Ve,{control:e.control,name:"state",render:({field:t})=>x(Ie,{children:[l(De,{children:"State"}),l(Le,{children:l(dt,{placeholder:"NY",...t})}),l(et,{})]})}),l(Ve,{control:e.control,name:"postal_code",render:({field:t})=>x(Ie,{children:[l(De,{children:"Postal Code"}),l(Le,{children:l(dt,{placeholder:"10001",...t})}),l(et,{})]})}),l(Ve,{control:e.control,name:"country",render:({field:t})=>x(Ie,{children:[l(De,{children:"Country"}),l(Le,{children:l(dt,{placeholder:"USA",...t})}),l(et,{})]})})]}),x("div",{className:"space-y-2",children:[l("h3",{className:"text-lg font-medium",children:"Emergency Contact"}),l("p",{className:"text-sm text-muted-foreground",children:"Provide emergency contact information."})]}),x("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l(Ve,{control:e.control,name:"emergency_contact_name",render:({field:t})=>x(Ie,{children:[l(De,{children:"Contact Name"}),l(Le,{children:l(dt,{placeholder:"Jane Doe",...t})}),l(et,{})]})}),l(Ve,{control:e.control,name:"emergency_contact_phone",render:({field:t})=>x(Ie,{children:[l(De,{children:"Contact Phone"}),l(Le,{children:l(dt,{placeholder:"+1234567890",...t})}),l(et,{})]})}),l(Ve,{control:e.control,name:"emergency_contact_relationship",render:({field:t})=>x(Ie,{children:[l(De,{children:"Relationship"}),l(Le,{children:l(dt,{placeholder:"Spouse",...t})}),l(et,{})]})})]})]})}var AR="Radio",[JDe,are]=ts(AR),[ZDe,QDe]=JDe(AR),ire=S.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:a=!1,required:i,disabled:s,value:o="on",onCheck:c,form:u,...d}=e,[f,h]=S.useState(null),m=Jr(t,y=>h(y)),w=S.useRef(!1),g=f?u||!!f.closest("form"):!0;return x(ZDe,{scope:r,checked:a,disabled:s,children:[l(xr.button,{type:"button",role:"radio","aria-checked":a,"data-state":cre(a),"data-disabled":s?"":void 0,disabled:s,value:o,...d,ref:m,onClick:Ht(e.onClick,y=>{a||c==null||c(),g&&(w.current=y.isPropagationStopped(),w.current||y.stopPropagation())})}),g&&l(lre,{control:f,bubbles:!w.current,name:n,value:o,checked:a,required:i,disabled:s,form:u,style:{transform:"translateX(-100%)"}})]})});ire.displayName=AR;var sre="RadioIndicator",ore=S.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...a}=e,i=QDe(sre,r);return l(uo,{present:n||i.checked,children:l(xr.span,{"data-state":cre(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t})})});ore.displayName=sre;var eIe="RadioBubbleInput",lre=S.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const s=S.useRef(null),o=Jr(s,i),c=K4(r),u=T4(t);return S.useEffect(()=>{const d=s.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&m){const w=new Event("click",{bubbles:n});m.call(d,r),d.dispatchEvent(w)}},[c,r,n]),l(xr.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:o,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});lre.displayName=eIe;function cre(e){return e?"checked":"unchecked"}var tIe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],KN="RadioGroup",[rIe,oQe]=ts(KN,[xy,are]),ure=xy(),dre=are(),[nIe,aIe]=rIe(KN),fre=S.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:a,value:i,required:s=!1,disabled:o=!1,orientation:c,dir:u,loop:d=!0,onValueChange:f,...h}=e,m=ure(r),w=Sg(u),[g,y]=hl({prop:i,defaultProp:a??"",onChange:f,caller:KN});return l(nIe,{scope:r,name:n,required:s,disabled:o,value:g,onValueChange:y,children:l(SD,{asChild:!0,...m,orientation:c,dir:w,loop:d,children:l(xr.div,{role:"radiogroup","aria-required":s,"aria-orientation":c,"data-disabled":o?"":void 0,dir:w,...h,ref:t})})})});fre.displayName=KN;var hre="RadioGroupItem",pre=S.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...a}=e,i=aIe(hre,r),s=i.disabled||n,o=ure(r),c=dre(r),u=S.useRef(null),d=Jr(t,u),f=i.value===a.value,h=S.useRef(!1);return S.useEffect(()=>{const m=g=>{tIe.includes(g.key)&&(h.current=!0)},w=()=>h.current=!1;return document.addEventListener("keydown",m),document.addEventListener("keyup",w),()=>{document.removeEventListener("keydown",m),document.removeEventListener("keyup",w)}},[]),l(ND,{asChild:!0,...o,focusable:!s,active:f,children:l(ire,{disabled:s,required:i.required,checked:f,...c,...a,name:i.name,ref:d,onCheck:()=>i.onValueChange(a.value),onKeyDown:Ht(m=>{m.key==="Enter"&&m.preventDefault()}),onFocus:Ht(a.onFocus,()=>{var m;h.current&&((m=u.current)==null||m.click())})})})});pre.displayName=hre;var iIe="RadioGroupIndicator",mre=S.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,a=dre(r);return l(ore,{...a,...n,ref:t})});mre.displayName=iIe;var gre=fre,vre=pre,sIe=mre;const js=S.forwardRef(({className:e,...t},r)=>l(gre,{className:Lt("grid gap-2",e),...t,ref:r}));js.displayName=gre.displayName;const Mn=S.forwardRef(({className:e,...t},r)=>l(vre,{ref:r,className:Lt("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:l(sIe,{className:"flex items-center justify-center",children:l(eG,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Mn.displayName=vre.displayName;const oIe=[{id:"penicillin",label:"Penicillin"},{id:"amoxicillin",label:"Amoxicillin"},{id:"aspirin",label:"Aspirin"},{id:"ibuprofen",label:"Ibuprofen"},{id:"codeine",label:"Codeine"},{id:"sulfa_drugs",label:"Sulfa Drugs"},{id:"local_anesthetics",label:"Local Anesthetics (e.g., Lidocaine)"},{id:"other_medications",label:"Other Medications (please specify)"}],lIe=[{id:"peanuts",label:"Peanuts"},{id:"tree_nuts",label:"Tree Nuts (e.g., almonds, walnuts)"},{id:"dairy",label:"Dairy Products"},{id:"eggs",label:"Eggs"},{id:"shellfish",label:"Shellfish"},{id:"gluten",label:"Gluten"},{id:"soy",label:"Soy"},{id:"other_food",label:"Other Food Allergies (please specify)"}],cIe=[{id:"pollen",label:"Pollen"},{id:"dust_mites",label:"Dust Mites"},{id:"mold",label:"Mold"},{id:"pet_dander",label:"Pet Dander"},{id:"insect_stings",label:"Insect Stings"},{id:"latex",label:"Latex"},{id:"fragrances",label:"Fragrances/Perfumes"},{id:"other_environmental",label:"Other Environmental Allergies (please specify)"}],uIe=[{id:"nickel_metals",label:"Nickel or Metals"},{id:"chlorhexidine",label:"Chlorhexidine (mouthwash/antiseptic)"},{id:"other",label:"Other (please describe)"}],yre=Re.object({blood_group:Re.enum(["A+","A-","B+","B-","AB+","AB-","O+","O-","unknown"]).optional(),height:Re.preprocess(e=>e===""||e===null||e===void 0?null:Number(e),Re.number().positive("Height must be a positive number").nullable().optional()),weight:Re.preprocess(e=>e===""||e===null||e===void 0?null:Number(e),Re.number().positive("Weight must be a positive number").nullable().optional()),has_allergies:Re.enum(["yes","no"]).optional(),medication_allergies:Re.array(Re.string()).optional(),other_medication_allergy_details:Re.string().optional(),food_allergies:Re.array(Re.string()).optional(),other_food_allergy_details:Re.string().optional(),environmental_allergies:Re.array(Re.string()).optional(),other_environmental_allergy_details:Re.string().optional(),other_allergies:Re.array(Re.string()).optional(),other_allergy_details:Re.string().optional(),other_allergies_manual_input:Re.string().optional(),diagnosed_conditions:Re.array(Re.string()).optional(),other_diagnosed_condition:Re.string().optional(),has_implants:Re.enum(["yes","no"]).optional(),implants_details:Re.string().optional(),taking_medications:Re.enum(["yes","no"]).optional(),current_medications:Re.array(Re.object({name:Re.string().min(1,"Medication name is required"),dosage:Re.string().optional(),frequency:Re.string().optional()})).optional(),recent_health_changes:Re.enum(["yes","no"]).optional(),health_changes_details:Re.string().optional(),previous_surgeries:Re.array(Re.object({type:Re.string().min(1,"Surgery type is required"),date:Re.string().optional(),notes:Re.string().optional()})).optional(),immunizations_up_to_date:Re.enum(["yes","no","not_sure"]).optional(),recent_immunizations:Re.string().optional(),recent_medical_screenings:Re.enum(["yes","no"]).optional(),screenings_details:Re.string().optional(),dental_material_allergies:Re.enum(["yes","no"]).optional(),dental_material_allergies_details:Re.string().optional(),notes:Re.string().optional()}),dIe=[{id:"diabetes",label:"Diabetes"},{id:"heart_disease",label:"Heart Disease"},{id:"hypertension",label:"Hypertension"},{id:"asthma",label:"Asthma"},{id:"bleeding_disorders",label:"Bleeding Disorders"},{id:"kidney_liver_disease",label:"Kidney/Liver Disease"},{id:"respiratory_problems",label:"Respiratory Problems"},{id:"autoimmune_disorders",label:"Autoimmune Disorders"},{id:"osteoporosis",label:"Osteoporosis"}];function fIe(){var o,c,u,d;const e=lu(),{fields:t,append:r,remove:n}=jS({control:e.control,name:"current_medications"}),{fields:a,append:i,remove:s}=jS({control:e.control,name:"previous_surgeries"});return x("div",{className:"space-y-8",children:[" ",x("div",{className:"space-y-2",children:[l("h2",{className:"text-xl font-semibold",children:"Medical Information"}),l("p",{className:"text-sm text-muted-foreground",children:"Provide relevant medical information for the patient."})]}),x("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[l(Ve,{control:e.control,name:"blood_group",render:({field:f})=>x(Ie,{children:[l(De,{children:"Blood Group"}),x(Ur,{onValueChange:f.onChange,defaultValue:f.value||"unknown",children:[l(Le,{children:l(jr,{children:l(qr,{placeholder:"Select blood group"})})}),l($r,{children:["A+","A-","B+","B-","AB+","AB-","O+","O-","unknown"].map(h=>l(mt,{value:h,children:h==="unknown"?"Unknown":h},h))})]}),l(et,{})]})}),l(Ve,{control:e.control,name:"height",render:({field:f})=>x(Ie,{children:[l(De,{children:"Height (cm)"}),l(Le,{children:l(dt,{type:"number",placeholder:"175",...f,value:f.value??"",onChange:h=>f.onChange(h.target.value===""?null:h.target.valueAsNumber)})}),l(et,{})]})}),l(Ve,{control:e.control,name:"weight",render:({field:f})=>x(Ie,{children:[l(De,{children:"Weight (kg)"}),l(Le,{children:l(dt,{type:"number",placeholder:"70",...f,value:f.value??"",onChange:h=>f.onChange(h.target.value===""?null:h.target.valueAsNumber)})}),l(et,{})]})})]})," ",x("div",{className:"space-y-4 p-4 border rounded-md",children:[l("h4",{className:"font-medium",children:"Allergies"}),l(Ve,{control:e.control,name:"has_allergies",render:({field:f})=>x(Ie,{className:"space-y-3",children:[l(De,{children:"Do you have any allergies?"}),l(Le,{children:x(js,{onValueChange:f.onChange,value:f.value,className:"flex space-x-4",children:[x(Ie,{className:"flex items-center space-x-2 space-y-0",children:[l(Le,{children:l(Mn,{value:"yes"})}),l(De,{className:"font-normal",children:"Yes"})]}),x(Ie,{className:"flex items-center space-x-2 space-y-0",children:[l(Le,{children:l(Mn,{value:"no"})}),l(De,{className:"font-normal",children:"No"})]})]})}),l(et,{})]})}),e.watch("has_allergies")==="yes"&&x("div",{className:"space-y-6 mt-4",children:[" ",l(Ve,{control:e.control,name:"medication_allergies",render:()=>x(Ie,{children:[x("div",{className:"mb-2",children:[l(De,{className:"text-base font-medium",children:"Medication Allergies"}),l(gi,{children:"Select all that apply."})]}),l("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:oIe.map(f=>l(Ve,{control:e.control,name:"medication_allergies",render:({field:h})=>{var m;return x(Ie,{className:"flex flex-row items-start space-x-3 space-y-0",children:[l(Le,{children:l(Fo,{checked:(m=h.value)==null?void 0:m.includes(f.id),onCheckedChange:w=>w?h.onChange([...h.value||[],f.id]):h.onChange((h.value||[]).filter(g=>g!==f.id))})}),l(De,{className:"font-normal",children:f.label})]})}},f.id))}),l(et,{})]})}),((o=e.watch("medication_allergies"))==null?void 0:o.includes("other_medications"))&&l(Ve,{control:e.control,name:"other_medication_allergy_details",render:({field:f})=>x(Ie,{children:[l(De,{children:"Specify Other Medication Allergies:"}),l(Le,{children:l(dt,{placeholder:"Details...",...f})}),l(et,{})]})}),l(Ve,{control:e.control,name:"food_allergies",render:()=>x(Ie,{children:[x("div",{className:"mb-2",children:[l(De,{className:"text-base font-medium",children:"Food Allergies"}),l(gi,{children:"Select all that apply."})]}),l("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:lIe.map(f=>l(Ve,{control:e.control,name:"food_allergies",render:({field:h})=>{var m;return x(Ie,{className:"flex flex-row items-start space-x-3 space-y-0",children:[l(Le,{children:l(Fo,{checked:(m=h.value)==null?void 0:m.includes(f.id),onCheckedChange:w=>w?h.onChange([...h.value||[],f.id]):h.onChange((h.value||[]).filter(g=>g!==f.id))})}),l(De,{className:"font-normal",children:f.label})]})}},f.id))}),l(et,{})]})}),((c=e.watch("food_allergies"))==null?void 0:c.includes("other_food"))&&l(Ve,{control:e.control,name:"other_food_allergy_details",render:({field:f})=>x(Ie,{children:[l(De,{children:"Specify Other Food Allergies:"}),l(Le,{children:l(dt,{placeholder:"Details...",...f})}),l(et,{})]})}),l(Ve,{control:e.control,name:"environmental_allergies",render:()=>x(Ie,{children:[x("div",{className:"mb-2",children:[l(De,{className:"text-base font-medium",children:"Environmental Allergies"}),l(gi,{children:"Select all that apply."})]}),l("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:cIe.map(f=>l(Ve,{control:e.control,name:"environmental_allergies",render:({field:h})=>{var m;return x(Ie,{className:"flex flex-row items-start space-x-3 space-y-0",children:[l(Le,{children:l(Fo,{checked:(m=h.value)==null?void 0:m.includes(f.id),onCheckedChange:w=>w?h.onChange([...h.value||[],f.id]):h.onChange((h.value||[]).filter(g=>g!==f.id))})}),l(De,{className:"font-normal",children:f.label})]})}},f.id))}),l(et,{})]})}),((u=e.watch("environmental_allergies"))==null?void 0:u.includes("other_environmental"))&&l(Ve,{control:e.control,name:"other_environmental_allergy_details",render:({field:f})=>x(Ie,{children:[l(De,{children:"Specify Other Environmental Allergies:"}),l(Le,{children:l(dt,{placeholder:"Details...",...f})}),l(et,{})]})}),l(Ve,{control:e.control,name:"other_allergies",render:()=>x(Ie,{children:[x("div",{className:"mb-2",children:[l(De,{className:"text-base font-medium",children:"Other Allergies"}),l(gi,{children:"Select all that apply."})]}),l("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:uIe.map(f=>l(Ve,{control:e.control,name:"other_allergies",render:({field:h})=>{var m;return x(Ie,{className:"flex flex-row items-start space-x-3 space-y-0",children:[l(Le,{children:l(Fo,{checked:(m=h.value)==null?void 0:m.includes(f.id),onCheckedChange:w=>w?h.onChange([...h.value||[],f.id]):h.onChange((h.value||[]).filter(g=>g!==f.id))})}),l(De,{className:"font-normal",children:f.label})]})}},f.id))}),l(et,{})]})}),((d=e.watch("other_allergies"))==null?void 0:d.includes("other"))&&l(Ve,{control:e.control,name:"other_allergy_details",render:({field:f})=>x(Ie,{children:[l(De,{children:"Describe Other Allergies:"}),l(Le,{children:l(un,{placeholder:"Details...",...f})}),l(et,{})]})}),l(Ve,{control:e.control,name:"other_allergies_manual_input",render:({field:f})=>x(Ie,{children:[l(De,{children:"Manually List Any Other Allergies:"}),l(Le,{children:l(un,{placeholder:"e.g., Specific chemical, rare reaction...",...f,value:f.value||""})}),l(et,{})]})})]})," "]})," ",x("div",{className:"space-y-4 p-4 border rounded-md",children:[l("h4",{className:"font-medium",children:"Medical Conditions"}),l(Ve,{control:e.control,name:"diagnosed_conditions",render:()=>x(Ie,{children:[x("div",{className:"mb-4",children:[l(De,{className:"text-base",children:"Have you been diagnosed with any of the following?"}),l(gi,{children:"Select all that apply."})]}),l("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:dIe.map(f=>l(Ve,{control:e.control,name:"diagnosed_conditions",render:({field:h})=>{var m;return x(Ie,{className:"flex flex-row items-start space-x-3 space-y-0",children:[l(Le,{children:l(Fo,{checked:(m=h.value)==null?void 0:m.includes(f.id),onCheckedChange:w=>w?h.onChange([...h.value||[],f.id]):h.onChange((h.value||[]).filter(g=>g!==f.id))})}),l(De,{className:"font-normal",children:f.label})]},f.id)}},f.id))}),l(et,{})]})}),l(Ve,{control:e.control,name:"other_diagnosed_condition",render:({field:f})=>x(Ie,{children:[l(De,{children:"Other Medical Conditions (if any):"}),l(Le,{children:l(dt,{placeholder:"Specify other conditions",...f})}),l(et,{})]})}),l(Ve,{control:e.control,name:"has_implants",render:({field:f})=>x(Ie,{className:"space-y-3",children:[l(De,{children:"Do you have any implanted devices or prosthetics?"}),l(Le,{children:x(js,{onValueChange:f.onChange,value:f.value,className:"flex space-x-4",children:[x(Ie,{className:"flex items-center space-x-2 space-y-0",children:[l(Le,{children:l(Mn,{value:"yes"})}),l(De,{className:"font-normal",children:"Yes"})]}),x(Ie,{className:"flex items-center space-x-2 space-y-0",children:[l(Le,{children:l(Mn,{value:"no"})}),l(De,{className:"font-normal",children:"No"})]})]})}),l(et,{})]})}),e.watch("has_implants")==="yes"&&l(Ve,{control:e.control,name:"implants_details",render:({field:f})=>x(Ie,{children:[l(De,{children:"If yes, specify (e.g., pacemaker, joint replacement):"}),l(Le,{children:l(dt,{placeholder:"e.g., Pacemaker, Hip Replacement",...f})}),l(et,{})]})})]}),x("div",{className:"space-y-4 p-4 border rounded-md",children:[l("h4",{className:"font-medium",children:"Current Medications"}),l(Ve,{control:e.control,name:"taking_medications",render:({field:f})=>x(Ie,{className:"space-y-3",children:[l(De,{children:"Are you currently taking any medications?"}),l(Le,{children:x(js,{onValueChange:f.onChange,value:f.value,className:"flex space-x-4",children:[x(Ie,{className:"flex items-center space-x-2 space-y-0",children:[l(Le,{children:l(Mn,{value:"yes"})}),l(De,{className:"font-normal",children:"Yes"})]}),x(Ie,{className:"flex items-center space-x-2 space-y-0",children:[l(Le,{children:l(Mn,{value:"no"})}),l(De,{className:"font-normal",children:"No"})]})]})}),l(et,{})]})}),e.watch("taking_medications")==="yes"&&x("div",{className:"space-y-4",children:[t.map((f,h)=>x("div",{className:"flex items-start space-x-2 p-3 border rounded-md relative",children:[x("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 flex-grow",children:[l(Ve,{control:e.control,name:`current_medications.${h}.name`,render:({field:m})=>x(Ie,{children:[l(De,{children:"Name"}),l(Le,{children:l(dt,{placeholder:"e.g., Lisinopril",...m})}),l(et,{})]})}),l(Ve,{control:e.control,name:`current_medications.${h}.dosage`,render:({field:m})=>x(Ie,{children:[l(De,{children:"Dosage"}),l(Le,{children:l(dt,{placeholder:"e.g., 10mg",...m})}),l(et,{})]})}),l(Ve,{control:e.control,name:`current_medications.${h}.frequency`,render:({field:m})=>x(Ie,{children:[l(De,{children:"Frequency"}),l(Le,{children:l(dt,{placeholder:"e.g., Daily",...m})}),l(et,{})]})})]}),x(Me,{type:"button",variant:"ghost",size:"icon",className:"absolute top-1 right-1 h-6 w-6 text-muted-foreground hover:text-destructive",onClick:()=>n(h),children:[l(ed,{className:"h-4 w-4"}),l("span",{className:"sr-only",children:"Remove Medication"})]})]},f.id)),l(Me,{type:"button",variant:"outline",size:"sm",onClick:()=>r({name:"",dosage:"",frequency:""}),children:"Add Medication"})]})]}),x("div",{className:"space-y-4 p-4 border rounded-md",children:[l("h4",{className:"font-medium",children:"Recent Health Changes"}),l(Ve,{control:e.control,name:"recent_health_changes",render:({field:f})=>x(Ie,{className:"space-y-3",children:[l(De,{children:"Have you experienced any recent health changes (e.g., surgeries, hospitalizations, changes in medications)?"}),l(Le,{children:x(js,{onValueChange:f.onChange,value:f.value,className:"flex space-x-4",children:[x(Ie,{className:"flex items-center space-x-2 space-y-0",children:[l(Le,{children:l(Mn,{value:"yes"})}),l(De,{className:"font-normal",children:"Yes"})]}),x(Ie,{className:"flex items-center space-x-2 space-y-0",children:[l(Le,{children:l(Mn,{value:"no"})}),l(De,{className:"font-normal",children:"No"})]})]})}),l(et,{})]})}),e.watch("recent_health_changes")==="yes"&&l(Ve,{control:e.control,name:"health_changes_details",render:({field:f})=>x(Ie,{children:[l(De,{children:"If yes, please describe and provide dates if applicable:"}),l(Le,{children:l(un,{placeholder:"e.g., Knee surgery on 2024-01-15, Started new blood pressure medication last month",...f})}),l(et,{})]})})]}),x("div",{className:"space-y-4 p-4 border rounded-md",children:[l("h4",{className:"font-medium",children:"Previous Surgeries / Hospitalizations"}),x("div",{className:"space-y-4",children:[a.map((f,h)=>x("div",{className:"flex items-start space-x-2 p-3 border rounded-md relative",children:[x("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 flex-grow",children:[l(Ve,{control:e.control,name:`previous_surgeries.${h}.type`,render:({field:m})=>x(Ie,{children:[l(De,{children:"Type / Reason"}),l(Le,{children:l(dt,{placeholder:"e.g., Appendectomy",...m})}),l(et,{})]})}),l(Ve,{control:e.control,name:`previous_surgeries.${h}.date`,render:({field:m})=>x(Ie,{children:[l(De,{children:"Approx. Date"}),l(Le,{children:l(dt,{placeholder:"e.g., 2010",...m})}),l(et,{})]})}),l(Ve,{control:e.control,name:`previous_surgeries.${h}.notes`,render:({field:m})=>x(Ie,{children:[l(De,{children:"Notes"}),l(Le,{children:l(dt,{placeholder:"Optional notes",...m})}),l(et,{})]})})]}),x(Me,{type:"button",variant:"ghost",size:"icon",className:"absolute top-1 right-1 h-6 w-6 text-muted-foreground hover:text-destructive",onClick:()=>s(h),children:[l(ed,{className:"h-4 w-4"}),l("span",{className:"sr-only",children:"Remove Surgery"})]})]},f.id)),l(Me,{type:"button",variant:"outline",size:"sm",onClick:()=>i({type:"",date:"",notes:""}),children:"Add Surgery / Hospitalization"})]})]}),x("div",{className:"space-y-4 p-4 border rounded-md",children:[l("h4",{className:"font-medium",children:"Immunizations & Screenings"}),l(Ve,{control:e.control,name:"immunizations_up_to_date",render:({field:f})=>x(Ie,{className:"space-y-3",children:[l(De,{children:"Are your immunizations up to date?"}),l(Le,{children:x(js,{onValueChange:f.onChange,value:f.value,className:"flex space-x-4",children:[x(Ie,{className:"flex items-center space-x-2 space-y-0",children:[l(Le,{children:l(Mn,{value:"yes"})}),l(De,{className:"font-normal",children:"Yes"})]}),x(Ie,{className:"flex items-center space-x-2 space-y-0",children:[l(Le,{children:l(Mn,{value:"no"})}),l(De,{className:"font-normal",children:"No"})]}),x(Ie,{className:"flex items-center space-x-2 space-y-0",children:[l(Le,{children:l(Mn,{value:"not_sure"})}),l(De,{className:"font-normal",children:"Not Sure"})]})]})}),l(et,{})]})}),l(Ve,{control:e.control,name:"recent_immunizations",render:({field:f})=>x(Ie,{children:[l(De,{children:"If applicable, list recent immunizations (e.g., tetanus, influenza, COVID-19):"}),l(Le,{children:l(dt,{placeholder:"e.g., Flu shot (Oct 2024), COVID Booster (Dec 2024)",...f})}),l(et,{})]})}),l(Ve,{control:e.control,name:"recent_medical_screenings",render:({field:f})=>x(Ie,{className:"space-y-3",children:[l(De,{children:"Have you had any recent medical screenings (e.g., blood work, blood pressure checks)?"}),l(Le,{children:x(js,{onValueChange:f.onChange,value:f.value,className:"flex space-x-4",children:[x(Ie,{className:"flex items-center space-x-2 space-y-0",children:[l(Le,{children:l(Mn,{value:"yes"})}),l(De,{className:"font-normal",children:"Yes"})]}),x(Ie,{className:"flex items-center space-x-2 space-y-0",children:[l(Le,{children:l(Mn,{value:"no"})}),l(De,{className:"font-normal",children:"No"})]})]})}),l(et,{})]})}),e.watch("recent_medical_screenings")==="yes"&&l(Ve,{control:e.control,name:"screenings_details",render:({field:f})=>x(Ie,{children:[l(De,{children:"If yes, list the screenings and dates:"}),l(Le,{children:l(dt,{placeholder:"e.g., Blood work (Jan 2025), Colonoscopy (Mar 2024)",...f})}),l(et,{})]})})]}),x("div",{className:"space-y-4 p-4 border rounded-md",children:[l("h4",{className:"font-medium",children:"Allergic Reactions to Dental Materials"}),l(Ve,{control:e.control,name:"dental_material_allergies",render:({field:f})=>x(Ie,{className:"space-y-3",children:[l(De,{children:"Have you ever had an allergic reaction to dental materials (e.g., latex, metals, local anesthetics)?"}),l(Le,{children:x(js,{onValueChange:f.onChange,value:f.value,className:"flex space-x-4",children:[x(Ie,{className:"flex items-center space-x-2 space-y-0",children:[l(Le,{children:l(Mn,{value:"yes"})}),l(De,{className:"font-normal",children:"Yes"})]}),x(Ie,{className:"flex items-center space-x-2 space-y-0",children:[l(Le,{children:l(Mn,{value:"no"})}),l(De,{className:"font-normal",children:"No"})]})]})}),l(et,{})]})}),e.watch("dental_material_allergies")==="yes"&&l(Ve,{control:e.control,name:"dental_material_allergies_details",render:({field:f})=>x(Ie,{children:[l(De,{children:"If yes, please describe the reaction:"}),l(Le,{children:l(un,{placeholder:"e.g., Rash from latex gloves, Swelling after local anesthetic",...f})}),l(et,{})]})})]}),l(Ve,{control:e.control,name:"notes",render:({field:f})=>x(Ie,{children:[l(De,{children:"Additional Medical Notes"}),l(Le,{children:l(un,{placeholder:"Any other relevant medical information...",...f,value:f.value||""})}),l(et,{})]})})]})}const hIe=e=>S.createElement("svg",{id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 698.9 980.66",...e},S.createElement("g",{id:"ID_17","data-name":"ID 17"},S.createElement("path",{d:"M209,373.39c-3.57,2.53-15.52,11.69-18.35,27.51-3.87,21.69,11.85,42.1,27.21,48,.8.31,0,0,18,3.37,18.54,3.5,21.73,4.31,27.52,4,5.38-.31,13.3-.78,20.79-5.81,12.44-8.35,14.88-23.37,16.2-31.49,1.45-8.95,3-18.28-2.75-26.9-1.19-1.8-4.1-5.71-18-11.93s-29-12.95-49.53-11.31A81.45,81.45,0,0,0,209,373.39Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M254.25,394A20.4,20.4,0,0,0,246,404.06c-1.7,4.7-1,8.73-.46,11.92a33.92,33.92,0,0,0,8.25,16.51",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M235.45,391.68c2,.58,6.56,2.2,8.71,6.42,1.05,2,1,4.5,1,9.34-.09,6.56-.13,9.84-1.43,12.67a18.74,18.74,0,0,1-8.71,8.71",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),S.createElement("g",{id:"ID_16","data-name":"ID 16"},S.createElement("path",{d:"M232,304.6c-13.55,7.4-17.19,22.76-17.43,23.85-.37,1.67-3.36,16.22,5.5,28.43,6.21,8.55,14.57,10.9,31.19,15.59,13.92,3.93,26.26,7.41,41.27,3.67,8.41-2.09,20.34-5.06,24.77-15.59,5.05-12-4-25.25-5.51-27.52-4.47-6.55-10.08-10.25-16.51-13.76C272.23,306.71,250.15,294.66,232,304.6Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M271.12,366.22l-6.42-13.76",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M278.91,319l-11.46,12.38",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M256.9,317.61A35.06,35.06,0,0,1,265.61,335c.88,5,1.92,11-1.37,15.59-1.76,2.45-4.06,3.54-7.34,8.26a38.82,38.82,0,0,0-2.75,4.58",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),S.createElement("g",{id:"ID_15","data-name":"ID 15"},S.createElement("path",{d:"M266.76,235c19.82-.05,51.93,9.27,61.54,35.89,4.83,13.37,5,33.86-6.41,42.31-6.07,4.51-14.39,3.49-30.77,1.28-23.23-3.13-38.41-5.18-48.72-17.94a43,43,0,0,1-9-23.08c-.3-3.27-2-21.81,10.26-32.05C251.17,235.19,260.23,235,266.76,235Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M295.36,259.52a35,35,0,0,0-8.71,6,21.36,21.36,0,0,0-5.5,6.88c-.79,1.71-3.06,6.61-.92,11.92a14.12,14.12,0,0,0,7.34,7.34",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M275.64,253.1a6.23,6.23,0,0,0,.46,4.12c1.07,2,2.93,2.09,4.59,4.13a9.76,9.76,0,0,1,1.83,4.59c1.08,5.26.08,15.5-6.88,18.8a11.49,11.49,0,0,1-6.42.92",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),S.createElement("g",{id:"ID_14","data-name":"ID 14"},S.createElement("path",{d:"M286.26,162.42c19.81,0,51.92,9.27,61.53,35.9,4.83,13.36,5,33.85-6.41,42.31-6.07,4.5-14.38,3.49-30.77,1.28-23.23-3.14-38.41-5.18-48.71-17.95a42.88,42.88,0,0,1-9-23.08c-.3-3.26-2-21.8,10.26-32C270.66,162.59,279.73,162.44,286.26,162.42Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M290.73,212.05l12.38-2.76",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M303.57,186.36a8.18,8.18,0,0,0-.92,5c.43,2.46,1.93,2.82,3,5.5,1.24,3.27.43,6.51,0,8.26-.88,3.52-2.13,3.86-2.49,6.42-.25,1.78-.05,4.53,2.49,8.25",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M317.78,196c-1,.47-2,.93-3.21,1.37a40.83,40.83,0,0,1-6.42,1.84",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),S.createElement("g",{id:"ID_13","data-name":"ID 13"},S.createElement("path",{d:"M290.1,149.57c-6.52-17.36,17.07-40.24,24.76-47.69,6.51-6.32,14.95-14.28,24.76-12.84,3.14.45,7.85,2.08,16.51,12.84a110.08,110.08,0,0,1,22.93,51.36c2.19,14.85,3.9,26.47-3.67,34.85-4.54,5-12.4,10.16-19.26,8.26-5.72-1.59-8.54-7.38-10.09-10.09C332.18,161.94,297.12,168.3,290.1,149.57Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M317.08,138.09a20.24,20.24,0,0,1,1.38-9.63c4.37-10.6,16.62-13.06,17.88-13.3",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),S.createElement("g",{id:"ID_12","data-name":"ID 12"},S.createElement("path",{d:"M385.64,69.87c13.07-5.52,19.61-8.28,25.64-7.69,9.48.93,18.52,7.29,23.08,15.39,1.37,2.43,3.34,6.79,1.28,32.05-2.07,25.49-5,32.77-6.41,35.9-3.77,8.51-7.58,17.09-15.38,19.23-9.16,2.5-18.3-5.38-26.93-12.82s-20.62-17.8-24.36-35.9c-.75-3.66-5.09-26.65,7.7-38.46C372.63,75.37,377,73.54,385.64,69.87Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M382.15,91.43a64.37,64.37,0,0,1,33.48-4.59",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),S.createElement("g",{id:"ID_11","data-name":"ID 11"},S.createElement("path",{d:"M458.72,49.36c7.44-2.23,22.93-5.54,43.59,0a29.66,29.66,0,0,1,11.58,4.82c8.37,5.86,11,14.38,11.93,17.43,1.27,4.32,1.73,9,.91,16.51C526.2,93,523.79,111.6,509.31,134c-9.71,15-15.62,17.46-18.35,18.34a27.34,27.34,0,0,1-15.59,0c-10.69-2.84-16.62-11.11-21.1-17.42-7.27-10.27-9.62-19.26-13.75-35.77-5-20-7.42-30.15-2.76-37.61C442.29,54.28,450.26,51.89,458.72,49.36Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M461.71,74.52a72.72,72.72,0,0,1,14.22-2.3A73.82,73.82,0,0,1,500.69,75",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),S.createElement("g",{id:"ID_21","data-name":"ID 21"},S.createElement("path",{d:"M543.24,52.35c6.47-.31,14.19-.64,22.93-.92,20.38-.64,26.93-.4,34.86,1.84,7.38,2.08,15.13,4.38,18.34,11,2.27,4.68,1.1,9.11-.92,17.43-7.69,31.72-4.94,25.9-8.25,35.77-6.14,18.25-9.37,27.49-17.43,33a30.4,30.4,0,0,1-17.43,5.5c-9.35-.13-15.92-5-20.17-8.25-11-8.36-15.49-18.93-20.18-30.27-6.51-15.71-10.81-26.09-8-39.18C530,64.92,538.7,56.24,543.24,52.35Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M554.57,73.94a168.57,168.57,0,0,1,17.43,0,165.25,165.25,0,0,1,20.17,2.3",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),S.createElement("g",{id:"ID_22","data-name":"ID 22"},S.createElement("path",{d:"M639.55,65.19a60.47,60.47,0,0,1,27.51,2.75c7.13,2.48,18.66,6.5,22.93,16.51,1.25,2.93,2.19,7.1-1.83,22.93-5.54,21.77-9.17,36.08-22,46.78-3.81,3.16-9.8,8-18.35,8.25a27.12,27.12,0,0,1-16.51-5.5c-14.42-10.54-14.61-31.73-14.67-38.52,0-4.91.55-1.41,3.67-25.69,1.12-8.73,1.52-12.93,4.58-17.42C629,69.19,635.41,66.47,639.55,65.19Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M641.74,84.51a79.65,79.65,0,0,1,13.76,1.38,80.7,80.7,0,0,1,21.55,7.33",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),S.createElement("g",{id:"ID_23","data-name":"ID 23"},S.createElement("path",{d:"M735.85,98.21a94.57,94.57,0,0,1,13.76,14.67c5.33,7.05,11.93,15.8,13.76,28.44.89,6.17,2.13,14.73-2.75,21.09-4.68,6.1-10,3.73-22,9.17-13.94,6.34-12.92,12.37-27.52,19.26-8.13,3.84-17,8-24.77,4.59-11.59-5.1-12.53-24.47-12.84-30.27-1.05-20.32,8.6-35.3,18.35-50.44,7.67-11.92,12.27-14.92,15.59-16.51C719.13,92.59,731.45,96.55,735.85,98.21Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M727.26,118.63a56.8,56.8,0,0,1,8.71,4.58c4.93,3.17,7.92,5.09,9.63,8.72.65,1.36,2.25,5.37.46,11.46",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),S.createElement("g",{id:"ID_24","data-name":"ID 24"},S.createElement("path",{d:"M778.44,178.21c7.22,5.63,7.75,15.37,8.26,24.77.41,7.47.72,21.63-7.34,28.43-2.25,1.9-3.7,2.12-11,4.59-17,5.74-17.24,7.26-26.6,10.08-14.44,4.35-21.77,6.67-31.19,4.59-4.23-.94-12.31-2.72-17.42-10.09-6-8.6-3.44-19.15-2.76-22,4.16-17.37,21-26.46,34.86-33.94,14.31-7.73,25.74-9.7,33.93-10.09C766.56,174.2,773,174,778.44,178.21Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M743.86,196.4c-5.12,4.17-6.05,7.43-6,9.63.11,2.71,1.74,3.06,2.75,7.34a18.6,18.6,0,0,1-.45,10.55,17.63,17.63,0,0,1-3.21,5.5",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M727.36,206a7.7,7.7,0,0,1,11,9.17",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M755.33,222.08l-14.13-3.71",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),S.createElement("g",{id:"ID_25","data-name":"ID 25"},S.createElement("path",{d:"M798.71,239.77c7.21,5.62,7.74,15.37,8.26,24.76.4,7.47.72,21.64-7.34,28.43-2.26,1.9-3.7,2.12-11,4.59-17,5.74-17.23,7.27-26.6,10.09-14.43,4.35-21.76,6.67-31.18,4.58-4.23-.93-12.31-2.72-17.43-10.09-6-8.6-3.43-19.15-2.75-22,4.16-17.37,21-26.46,34.85-33.93,14.32-7.73,25.75-9.71,33.94-10.09C786.83,235.75,793.3,235.54,798.71,239.77Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M766.15,257.59a13.94,13.94,0,0,0-4.13,3.67,14.71,14.71,0,0,0-2.75,7.8c-.65,7.94,4.63,10.64,3.67,16.05-.4,2.24-2,5.45-7.8,8.71",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M745.51,262.18c6.41,1.89,9.67,4.92,11.46,7.34,5,6.69,2.9,14.35,8.26,17.88a10.94,10.94,0,0,0,7.34,1.38",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),S.createElement("g",{id:"ID_26","data-name":"ID 26"},S.createElement("path",{d:"M821.64,308.55c8.76,6.88,7.09,21.59,6.42,27.52-.69,6.1-2.19,19.37-11.92,25.68-3.57,2.31-4.75,1.43-15.59,3.67-16.74,3.46-17.4,6.3-30.27,8.26-6.75,1-14.37,2.11-23.85,0-6.85-1.53-12.87-2.57-17.43-7.34-7-7.31-6.88-18.95-4.58-26.6,3.72-12.4,14.5-18.47,25.68-24.76,14.72-8.29,27.81-9.91,36.69-11a72.9,72.9,0,0,1,24.76.92C816.54,306,819.09,306.55,821.64,308.55Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M764.14,318c1.25.53,12.13,5.36,15.13,17.43A26.08,26.08,0,0,1,771,361.12",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M783.4,317.09a72.3,72.3,0,0,0-3.21,11c-.93,4.49-5,24.31,2.75,28.89a7.69,7.69,0,0,0,4.59.92",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),S.createElement("g",{id:"ID_27","data-name":"ID 27"},S.createElement("path",{d:"M829,370c13.65,6.58,18.38,24.79,18.34,36.69a46,46,0,0,1-10.09,28.43c-5.67,6.9-11.9,10.05-17.42,12.84a71.66,71.66,0,0,1-42.19,7.34c-9.8-1.37-20.8-2.91-29.35-11.93-10.9-11.49-10.37-27.28-10.09-35.77.22-6.76.5-12.78,4.58-18.34,2.25-3.07,5.8-6.2,21.1-11a196.68,196.68,0,0,1,34.39-7.56C815.21,368.54,823.69,367.46,829,370Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M802.1,394.82a23.37,23.37,0,0,0-7.34,9.63c-.65,1.61-3.69,9.13,0,17a20.09,20.09,0,0,0,7.34,8.25",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M787,397.11a14.91,14.91,0,0,1,5.51,4.59c4.55,6.34,3.24,16.12-1.84,22a18.1,18.1,0,0,1-7.33,5",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),S.createElement("g",{id:"ID_28","data-name":"ID 28"},S.createElement("path",{d:"M854,468.38c8.92,18.95,2.44,37.45.69,42-1.93,5-5.3,13.3-13.76,19.26-5.45,3.84-10.55,4.95-16.51,6.19-6.83,1.42-19.41,4-34.39-.69-7-2.19-19.86-6.26-28.21-19.26s-6.72-26.8-6.19-30.27c.75-4.83,1.91-13.4,8.95-20.63a31.66,31.66,0,0,1,18-9.13c2.76-.34,2.92.06,8.11.18,8.61.2,19.85.46,30.26-4.81,5.7-2.88,5.12-4.37,8.26-4.82C839,445,849.43,458.73,854,468.38Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M817.16,475.29a20.27,20.27,0,0,0-6,6A20,20,0,0,0,808,492.72a19.55,19.55,0,0,0,3.21,10.09,18.39,18.39,0,0,0,6,5.5",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M800.19,475.75a27,27,0,0,1,6,7.8c1.58,3.14,5.39,10.68,1.83,17.43-3.14,6-10.05,7.51-11.46,7.79",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),S.createElement("g",{id:"ID_38","data-name":"ID 38"},S.createElement("path",{d:"M794.8,595.84c4.56.34,11.48.72,20,.69,12.33,0,13.91-.93,18.58,0,14.58,2.9,23.07,16.26,24.07,17.88,7.38,12,5.91,24,4.82,33-1.23,10.09-2.65,21.77-11.7,28.89-7.15,5.64-15.2,5.36-30.95,4.82-16.73-.58-28.5-4.81-37.84-8.26-10.11-3.73-15.23-5.69-18.57-10.31-5.77-8-4.25-18.12-2.75-28.21,1.32-8.83,2.53-17,8.94-24.76C778.14,598.94,790.51,596.49,794.8,595.84Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M822,625.1a17.84,17.84,0,0,0-7.34,6c-3.45,4.92-5.1,13-.92,18.8a15,15,0,0,0,8.26,5.5",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M809.13,621.89a31.31,31.31,0,0,1,2.75,5c1.19,2.78,3.64,8.51,2.29,14.68-1.84,8.39-9.63,12.58-11,13.3",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),S.createElement("g",{id:"ID_37","data-name":"ID 37"},S.createElement("path",{d:"M835.39,690.08c10.91,9.79,13.31,22.74,13.76,25.45,3.91,23.72-13.92,40.85-16.51,43.34-3.83,3.68-9.95,9.56-19.26,11-5,.77-7.51-.23-24.08-5.5-23.88-7.6-27-8.18-32.33-12.39-3.57-2.79-9.58-7.51-13.07-15.82-6.43-15.32.81-30.7,4.81-39.21,3.26-6.92,6-12.73,12.39-16.51,6.16-3.64,12.36-3.41,24.07-2.06C813.62,681.67,827.85,683.31,835.39,690.08Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M798.43,705.68a19.18,19.18,0,0,1,5.5,10.55c.22,1.37,1.43,9.09-4.13,14.67a16.46,16.46,0,0,1-11.46,4.59",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M815.86,711.18a13.44,13.44,0,0,0-8.72,2.75c-5.58,4.55-4.93,13.19-4.58,17.89a35.23,35.23,0,0,0,2.29,10.09",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),S.createElement("g",{id:"ID_36","data-name":"ID 36"},S.createElement("path",{d:"M820.26,802.9c-1,16.59-15.15,26.65-19.26,29.58s-11.42,8.13-21.33,8.25c-5.79.07-12.57-3.39-26.14-10.32-13.92-7.11-18.55-11.07-21.32-13.75-4.13-4-6.87-6.63-9-11-7.1-14.95,2.18-31.71,4.82-36.46,3.12-5.64,6.34-11.44,13.07-14.45,6.05-2.69,12-1.8,21,.51,25.88,6.63,38.82,9.94,47.79,20.82C813,779.77,821.08,789.58,820.26,802.9Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M788.67,791.63c-2,1.64-4.57,3.19-7.33,2.76-2.92-.46-4-2.81-5.51-2.3-2.17.73-2.45,6.31-1.83,10.09a19.93,19.93,0,0,0,4.13,9.17",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M771.25,782.46a28,28,0,0,1,3.66,6.42c1.59,3.91,3.7,9.09,1.38,12.84-2.15,3.48-7.57,4.91-13.3,3.67",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),S.createElement("g",{id:"ID_35","data-name":"ID 35"},S.createElement("path",{d:"M797.89,857c2,11-4.28,22-11.38,28.12-14.45,12.53-34,6.58-38.21,5.29-15.81-4.81-23.86-16.68-28.32-23.25-5.36-7.91-11.45-16.88-8.73-27,2.85-10.65,13.5-15.53,15.08-16.23,11.65-5.12,23.18-.45,35.18,4.41C778.65,835.29,795.18,842,797.89,857Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M790,864.21a36.18,36.18,0,0,1-4.13,6,38.73,38.73,0,0,1-17.42,11.46",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),S.createElement("g",{id:"ID_34","data-name":"ID 34"},S.createElement("path",{d:"M765.78,914.21c-.15,11.2-8.37,20.76-16.51,25.45-16.57,9.55-34.61,0-38.52-2.06-14.61-7.73-20.27-20.91-23.39-28.21-3.77-8.78-8-18.75-3.44-28.2,4.82-9.92,16.2-12.69,17.88-13.07,12.42-2.82,22.84,4,33.71,11C751,889.2,766,898.91,765.78,914.21Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M753,922.06a42.52,42.52,0,0,1-6.66,7A43.14,43.14,0,0,1,734.74,936",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),S.createElement("g",{id:"ID_31","data-name":"ID 31"},S.createElement("path",{d:"M576.88,1024.34c-5.54.29-13.07.64-22,.92-14.61.46-16.4.23-18.34-.92-8.75-5.15-7.85-21.21-6.88-38.52,1.18-21.11,2.08-37.23,13.75-44.94.77-.51,10.05-6.44,19.27-3.21,5.07,1.78,7.76,5.51,11.92,11.46,1.39,2,7.91,11.51,12.38,27.06.49,1.69,1.7,9.84,4.13,26.14,1,7.07,1.54,10.68-.46,14.22C587.41,1022.28,580.15,1023.85,576.88,1024.34Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M551.53,1015.86l19.72-.46",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),S.createElement("g",{id:"ID_41","data-name":"ID 41"},S.createElement("path",{d:"M514.51,948.22c5.39,12.13,7,24.44,8.72,37.6,2.06,16.22,3.1,24.47,0,29.81-1.13,1.94-4.15,7.15-10.55,9.63-2.8,1.09-4,.69-12.84.46-13.92-.36-15.73.48-22-.92-5.47-1.21-8.2-1.81-10.55-3.67-7.71-6-6.41-19.24-5-33,1.12-11.29,2.52-24,11-37.14,4.55-7.05,9-14,17.43-15.59a22.57,22.57,0,0,1,19.26,6A21.19,21.19,0,0,1,514.51,948.22Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M482,1014.25c3.07.71,6.44,1.35,10.09,1.84a110,110,0,0,0,11,.92",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),S.createElement("g",{id:"ID_42","data-name":"ID 42"},S.createElement("path",{d:"M438.84,1015.63a127.59,127.59,0,0,1-24.76-3.21c-12-2.76-14.34-5.1-15.13-6-6.8-7.39-3.59-20.37-1.38-29.35,2.4-9.75,6.28-16.18,11.47-24.77,5.65-9.37,8.71-14.29,15.13-17.88,2.73-1.53,9.64-5.39,17.88-3.21,9.44,2.5,13.6,11,14.22,12.38,1.16,2.48,1.55,6.42,2.29,14.22a141.45,141.45,0,0,1,.92,16.51,87.13,87.13,0,0,1-1.83,19.26c-1.48,6.72-2.24,10.17-5,13.76C448.22,1013,442,1014.91,438.84,1015.63Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M414,998.25a29.24,29.24,0,0,0,20.17,4.59",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),S.createElement("g",{id:"ID_45","data-name":"ID 45"},S.createElement("path",{d:"M259.15,886.31c-.87-.72-16.53-13.95-13.3-30.27,1.45-7.33,6-11.72,12.38-17.89,11.64-11.24,24.16-15,31.19-17,8.66-2.46,13.79-3.84,20.18-1.83,1.13.36,10.77,3.57,15.13,13.3,3,6.68,1.86,12.79.92,17.89-1.51,8.13-5,13.62-7.8,17.88a70.54,70.54,0,0,1-16.51,17.43c-6.21,4.71-9.32,7.06-14.22,8.25C273.17,897.5,260.76,887.63,259.15,886.31Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M278.17,880.63a32.49,32.49,0,0,0-10.54-6c-2.28-.75-3.79-.94-5.05-2.29-2.3-2.47-1.78-6.73-.92-10.09",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),S.createElement("g",{id:"ID_46","data-name":"ID 46"},S.createElement("path",{d:"M220.63,765.24a104,104,0,0,1,18.8-8.72A95.14,95.14,0,0,1,272,751c11.72.23,17.58.35,22.93,4.59,10.31,8.16,9.5,24.24,9.17,30.72-.29,5.75-.43,15.89-7.34,24.77a40.08,40.08,0,0,1-7.33,6.87c-5.32,4.11-16.43,12.47-33,15.14-10.1,1.62-19.78,3.17-28.89-2.29-8.61-5.16-11.83-13.65-16-24.77-3.59-9.43-6.36-16.74-3.67-25.22C210.55,772.12,217.48,767.19,220.63,765.24Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M263.51,773a17.11,17.11,0,0,0-6.88,11c-.06.43-1.29,9.92,5,13.76a11.09,11.09,0,0,0,6.88,1.37",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M242.41,783.12a16.66,16.66,0,0,1,9.17,3.67,16.44,16.44,0,0,1,2.76,22.47",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),S.createElement("g",{id:"ID_47","data-name":"ID 47"},S.createElement("path",{d:"M262.82,673.06c12.52,6.46,18.06,18.41,19.72,22.47a45.83,45.83,0,0,1,1.83,28.89c-1.47,5.59-4.29,18.65-14.21,22.93a17.6,17.6,0,0,1-6.88,1.38c-21.73.49-29,15.15-45.86,14.21a35.53,35.53,0,0,1-17.89-6.42c-15.44-10.41-17.91-29.07-18.8-35.77-1.09-8.19-2.48-18.74,3.67-28,1.72-2.59,5.91-7.88,24.76-14.22C233.41,670.41,248.11,665.47,262.82,673.06Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M237,698.48a29.53,29.53,0,0,0-6.16,10.09c-1.39,3.9-3.25,9.1-.92,11.93,2.61,3.16,7.94.29,12.84,4.12a12,12,0,0,1,3.67,5",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M220.25,705.36a22.28,22.28,0,0,1,6,3.67c4.92,4.25,9.86,12.4,7.34,19.72a13.39,13.39,0,0,1-3.21,5",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),S.createElement("g",{id:"ID_48","data-name":"ID 48"},S.createElement("path",{d:"M196.32,591.43a232.08,232.08,0,0,1,24.31-.46c11.62.38,17.53.63,22.93,3.21,10.85,5.2,15.85,15.2,17.88,19.26,4.72,9.42,5,17.8,5.05,22.93.13,7.83.29,16.64-5.51,23.39-3,3.48-6.19,4.82-12.38,7.34-14.56,5.91-19.36,2.62-37.14,7.79-7.81,2.27-9.59,3.69-14.22,3.21-8.67-.9-14.63-7.14-17.89-10.55a50.16,50.16,0,0,1-11.92-22.47c-1.6-6.53-6-24.31,5-39C180.34,595.62,191.8,592.42,196.32,591.43Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M221.38,614.27a35.13,35.13,0,0,0-5,10.09c-1.75,5.64-4.07,12-.91,17.42.67,1.16,3,4.69,9.17,6.42",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M207.16,616.56a40.13,40.13,0,0,1,4.59,6c2.69,4.28,5.47,8.7,5,13.76-.63,7.5-7.9,12.07-9.17,12.84",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),S.createElement("g",{id:"ID_18","data-name":"ID 18"},S.createElement("path",{d:"M229.21,453.18c18.65,1.39,28.18,2.2,38.53,8.26,5.7,3.34,13.13,7.69,17,16.51,6.15,14.14-1.68,28.91-4.59,34.39-2,3.71-8.35,15.37-22,22-14.83,7.21-29.06,4.07-45.4.46-11.09-2.45-16.63-3.68-21.1-7.8-12.74-11.75-9.7-33.58-7.8-47.24,1.66-11.85,2.53-18.09,7.8-22.93C198,451,208.49,451.65,229.21,453.18Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M242.79,478.45c-1.57.69-7.71,3.63-9.17,9.63-1,4.12.69,7.64,3.21,12.84a47.29,47.29,0,0,0,7.79,11.46",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M224.44,478.45A26,26,0,0,1,230,484c1,1.37,8.49,11.55,4.12,20.18-.63,1.26-2.6,4.61-7.79,6.88",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),S.createElement("g",{id:"ID_44","data-name":"ID 44"},S.createElement("path",{d:"M299.78,936.84c-.87-.71-16.54-13.94-13.3-30.26,1.45-7.33,6-11.73,12.38-17.89,11.63-11.24,24.16-15,31.18-17,8.67-2.46,13.8-3.84,20.18-1.83,1.14.36,10.78,3.57,15.14,13.3,3,6.68,1.86,12.79.91,17.88-1.5,8.14-5,13.62-7.79,17.89A70.54,70.54,0,0,1,342,936.39c-6.22,4.7-9.32,7.06-14.22,8.25C313.8,948,301.39,938.17,299.78,936.84Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M319.31,932.09a35.51,35.51,0,0,1-5.5-4.73,38.75,38.75,0,0,1-9.58-18.53",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),S.createElement("g",{id:"ID_43","data-name":"ID 43"},S.createElement("path",{d:"M369.6,995c-2,0-24.09-1-32.56-17.42-5.16-10-2.45-20.35-.92-26.14,4.47-17,16.77-26,30.72-36.23,5.59-4.1,10.55-6.91,17-7.34,2.36-.16,10.27-.68,15.59,4.59,3.91,3.85,4.39,8.8,5.05,15.59.51,5.24.1,8.71-1.38,20.64-1.53,12.36-2.3,18.56-2.55,19.45-2,7.2-4.85,17.56-14,23.2C380.19,995.27,373.67,995.1,369.6,995Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M377.68,978.48a35.56,35.56,0,0,1-7.25.17,38.69,38.69,0,0,1-19.51-7.36",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),S.createElement("g",{id:"ID_33","data-name":"ID 33"},S.createElement("path",{d:"M714.92,979.17a56.7,56.7,0,0,1-15.82,9.63c-6,2.42-21,8.4-32.33,2.07-8.18-4.56-10.5-13.82-15.14-32.33-2.89-11.56-5.73-23.51-1.37-37.15,1.94-6.07,4-12.5,9.63-15.14,9.39-4.38,21.84,5,31.64,12.39a82.83,82.83,0,0,1,22.7,26.14c4.69,8.52,9.3,17.2,6.19,26.14A20.67,20.67,0,0,1,714.92,979.17Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M706.18,967.57a42.81,42.81,0,0,1-19,12.91",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),S.createElement("g",{id:"ID_32","data-name":"ID 32"},S.createElement("path",{d:"M652.32,1007.38c-3.43,1.25-8.65,3-15.13,4.81-13.83,3.79-20.77,5.34-26.83,3.44-8.8-2.76-13.5-10.42-15.13-13.07-2.31-3.74-4.06-8.85-2.07-35.08,1.94-25.5,4.31-29.14,6.88-31.65,5.16-5,14.7-9,23.39-5.5,2.9,1.17,5.13,3,10.32,9.63,6.58,8.44,11.3,14.49,16.51,25.45,7.06,14.88,11.51,24.24,7.79,33.71A22.67,22.67,0,0,1,652.32,1007.38Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M638.35,997.28a42.05,42.05,0,0,1-8.64,4.28,43.14,43.14,0,0,1-13.26,2.53",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),S.createElement("g",{id:"ID_54","data-name":"ID 54"},S.createElement("path",{d:"M343.25,453.41c-2.43,1.73-10.58,8-12.51,18.76-2.64,14.79,8.08,28.71,18.56,32.74.55.21,0,0,12.3,2.29,12.65,2.39,14.82,2.94,18.77,2.71,3.67-.21,9.07-.53,14.18-4C403,500.26,404.7,490,405.6,484.48c1-6.11,2-12.47-1.88-18.35-.81-1.23-2.8-3.89-12.3-8.13s-19.8-8.84-33.78-7.72A55.63,55.63,0,0,0,343.25,453.41Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M374.09,467.44a14,14,0,0,0-5.63,6.88,14.79,14.79,0,0,0-.31,8.14,23.13,23.13,0,0,0,5.63,11.25",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M361.27,465.88c1.37.4,4.47,1.51,5.94,4.38.71,1.39.71,3.07.66,6.37-.06,4.47-.09,6.71-1,8.64a12.84,12.84,0,0,1-5.94,5.94",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),S.createElement("g",{id:"ID_55","data-name":"ID 55"},S.createElement("path",{d:"M357,507.83c12.71.94,19.21,1.49,26.27,5.63,3.89,2.27,8.95,5.24,11.57,11.26,4.19,9.64-1.15,19.71-3.13,23.45a34.27,34.27,0,0,1-15,15c-10.11,4.92-19.82,2.78-31,.32-7.56-1.67-11.34-2.51-14.39-5.32-8.69-8-6.62-22.9-5.32-32.21,1.13-8.09,1.72-12.34,5.32-15.64C335.72,506.34,342.88,506.78,357,507.83Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M366.27,525.06c-1.06.47-5.25,2.47-6.25,6.56-.69,2.82.47,5.21,2.19,8.76a32.45,32.45,0,0,0,5.31,7.82",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M353.76,525.06a17.39,17.39,0,0,1,3.75,3.75c.69.93,5.79,7.87,2.82,13.76a10.2,10.2,0,0,1-5.32,4.69",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),S.createElement("g",{id:"ID_53","data-name":"ID 53"},S.createElement("path",{d:"M365.84,441.28c-4.45-11.84,11.64-27.44,16.89-32.52,4.44-4.31,10.19-9.74,16.88-8.76,2.14.31,5.36,1.42,11.26,8.76a75,75,0,0,1,15.64,35c1.49,10.13,2.66,18-2.5,23.77-3.1,3.43-8.46,6.92-13.14,5.63-3.9-1.09-5.82-5-6.88-6.89C394.54,449.72,370.63,454.06,365.84,441.28Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M384.24,433.46a13.89,13.89,0,0,1,.94-6.57c3-7.23,11.34-8.91,12.2-9.07",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),S.createElement("g",{id:"ID_52","data-name":"ID 52"},S.createElement("path",{d:"M430.16,376.92c8.91-3.77,13.37-5.66,17.48-5.25a21.24,21.24,0,0,1,15.74,10.49c.94,1.66,2.28,4.63.88,21.86-1.42,17.38-3.43,22.35-4.37,24.48-2.58,5.81-5.18,11.66-10.5,13.11-6.24,1.71-12.48-3.66-18.36-8.74S417,420.74,414.42,408.39c-.51-2.49-3.47-18.18,5.25-26.23C421.29,380.67,424.24,379.42,430.16,376.92Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M427.78,388.61a44.76,44.76,0,0,1,15-3.44,43.72,43.72,0,0,1,7.82.32",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),S.createElement("g",{id:"ID_51","data-name":"ID 51"},S.createElement("path",{d:"M480,362.93c5.08-1.52,15.65-3.78,29.73,0a20.11,20.11,0,0,1,7.9,3.28,21.58,21.58,0,0,1,8.13,11.89c.87,2.94,1.18,6.11.63,11.26-.36,3.36-2,16-11.89,31.27-6.62,10.23-10.64,11.91-12.51,12.51a18.65,18.65,0,0,1-10.63,0c-7.29-1.94-11.33-7.57-14.39-11.88-5-7-6.56-13.13-9.38-24.4-3.41-13.63-5.05-20.55-1.88-25.64S474.23,364.65,480,362.93Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M485,375.08a49,49,0,0,1,9.69-1.56,50.15,50.15,0,0,1,16.89,1.87",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),S.createElement("g",{id:"ID_61","data-name":"ID 61"},S.createElement("path",{d:"M537.64,365c4.41-.21,9.68-.43,15.63-.62,13.9-.44,18.37-.28,23.77,1.25,5,1.42,10.32,3,12.51,7.5,1.55,3.2.76,6.21-.62,11.89-5.25,21.63-3.37,17.66-5.63,24.39-4.18,12.45-6.39,18.75-11.89,22.52a20.69,20.69,0,0,1-11.88,3.75c-6.38-.09-10.86-3.41-13.76-5.63-7.47-5.7-10.56-12.9-13.76-20.64-4.44-10.71-7.37-17.79-5.43-26.71C528.57,373.53,534.54,367.62,537.64,365Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M548.36,374.69a112.07,112.07,0,0,1,11.89,0A114.47,114.47,0,0,1,574,376.25",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),S.createElement("g",{id:"ID_62","data-name":"ID 62"},S.createElement("path",{d:"M603.32,373.72a41.27,41.27,0,0,1,18.76,1.88c4.86,1.69,12.73,4.43,15.64,11.26.85,2,1.49,4.84-1.25,15.63-3.78,14.85-6.26,24.61-15,31.9-2.59,2.16-6.67,5.47-12.51,5.63a18.52,18.52,0,0,1-11.25-3.75c-9.84-7.19-10-21.64-10-26.27,0-3.35.37-1,2.5-17.52.76-6,1-8.82,3.13-11.88A18.47,18.47,0,0,1,603.32,373.72Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M604.81,383.9a54.48,54.48,0,0,1,24.08,5.94",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),S.createElement("g",{id:"ID_64","data-name":"ID 64"},S.createElement("path",{d:"M696.66,447.68C706.45,451,711.14,463,712.09,471a31.38,31.38,0,0,1-4.49,20.08c-3.28,5.14-7.24,7.78-10.75,10.12a48.79,48.79,0,0,1-28,8.43c-6.75-.12-14.32-.26-20.85-5.66-8.32-6.89-9.26-17.63-9.76-23.39-.41-4.6-.71-8.7,1.59-12.8,1.28-2.26,3.42-4.67,13.38-9.18a134.51,134.51,0,0,1,22.67-7.95C687.22,447.81,692.87,446.38,696.66,447.68Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M680.5,466.68a16,16,0,0,0-4.18,7.12c-.31,1.15-1.74,6.49,1.4,11.49a13.69,13.69,0,0,0,5.64,5",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M670.44,469.47a10.18,10.18,0,0,1,4.11,2.66c3.6,3.92,3.51,10.65.56,15.05a12.5,12.5,0,0,1-4.55,4",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),S.createElement("g",{id:"ID_65","data-name":"ID 65"},S.createElement("path",{d:"M721.66,512.22c7.59,12.1,4.72,25.16,3.91,28.36-.9,3.52-2.5,9.44-7.74,14.16-3.37,3-6.74,4.22-10.67,5.55-4.5,1.52-12.81,4.32-23.34,2.36-4.89-.92-14-2.61-20.67-10.73a30.34,30.34,0,0,1-6.68-20c.11-3.33.19-9.24,4.36-14.71a21.7,21.7,0,0,1,11.46-7.66c1.84-.45,2-.19,5.51-.54,5.84-.57,13.47-1.31,20.09-5.74,3.62-2.42,3.1-3.38,5.2-3.94C709.61,497.6,717.79,506.07,721.66,512.22Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M697.3,516.93a13.66,13.66,0,0,0-4.78,12.55,13.35,13.35,0,0,0,3,6.57,12.59,12.59,0,0,0,4.49,3.23",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M685.85,518.63a18.65,18.65,0,0,1,4.68,4.79c1.32,2,4.52,6.79,2.67,11.65-1.64,4.31-6.2,5.91-7.12,6.22",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),S.createElement("g",{id:"ID_63","data-name":"ID 63"},S.createElement("path",{d:"M673.15,398a65.26,65.26,0,0,1,8,11.15c3,5.24,6.66,11.74,6.77,20.45.06,4.25.13,10.15-3.73,14-3.71,3.71-7.12,1.63-15.7,4.24-10,3-9.84,7.22-20.32,10.58-5.84,1.87-12.19,3.9-17.15.89-7.39-4.48-6.3-17.66-6-21.61,1.09-13.83,9-23.1,16.89-32.47,6.25-7.38,9.63-9,12-9.78C662.34,392.75,670.32,396.52,673.15,398Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M666.24,410.38a38.69,38.69,0,0,1,5.48,3.87c3,2.58,4.9,4.14,5.74,6.75a10.86,10.86,0,0,1-.71,7.79",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),S.createElement("g",{id:"ID_71","data-name":"ID 71"},S.createElement("path",{d:"M559.58,786.61c-3.78.2-8.92.44-15,.63-10,.31-11.19.15-12.51-.63-6-3.51-5.36-14.46-4.7-26.27.81-14.4,1.43-25.39,9.39-30.65.52-.34,6.85-4.39,13.13-2.19,3.46,1.22,5.29,3.76,8.13,7.82a63,63,0,0,1,8.45,18.45c.33,1.16,1.16,6.71,2.81,17.83.72,4.82,1.05,7.28-.31,9.7C566.76,785.2,561.8,786.28,559.58,786.61Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M542.29,780.83l13.45-.32",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),S.createElement("g",{id:"ID_81","data-name":"ID 81"},S.createElement("path",{d:"M517,734.7c3.68,8.27,4.8,16.66,6,25.64,1.4,11.06,2.11,16.69,0,20.33a14.42,14.42,0,0,1-7.2,6.57c-1.91.74-2.74.47-8.75.31-9.49-.24-10.73.33-15-.62-3.72-.83-5.58-1.24-7.19-2.51-5.25-4.12-4.37-13.12-3.44-22.51.76-7.7,1.71-16.37,7.51-25.34,3.1-4.8,6.16-9.55,11.88-10.63A15.42,15.42,0,0,1,513.92,730,14.53,14.53,0,0,1,517,734.7Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M494.9,779.73c2.09.48,4.39.92,6.88,1.25,2.7.36,5.21.55,7.5.63",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),S.createElement("g",{id:"ID_82","data-name":"ID 82"},S.createElement("path",{d:"M465.44,780.67a86.77,86.77,0,0,1-16.89-2.19c-8.17-1.88-9.78-3.48-10.32-4.06-4.63-5-2.45-13.9-.94-20,1.64-6.65,4.29-11,7.82-16.89,3.86-6.39,5.94-9.74,10.32-12.2,1.87-1,6.57-3.67,12.2-2.19,6.43,1.71,9.27,7.54,9.69,8.45.79,1.69,1.06,4.38,1.57,9.69a99.45,99.45,0,0,1,.62,11.26,59.38,59.38,0,0,1-1.25,13.14c-1,4.58-1.53,6.93-3.44,9.38A16.52,16.52,0,0,1,465.44,780.67Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M448.47,768.82A19.9,19.9,0,0,0,462.23,772",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),S.createElement("g",{id:"ID_83","data-name":"ID 83"},S.createElement("path",{d:"M418.21,766.6c-1.38,0-16.43-.65-22.2-11.89-3.52-6.84-1.67-13.87-.63-17.82,3.05-11.58,11.44-17.73,21-24.71,3.81-2.8,7.19-4.71,11.57-5,1.61-.1,7-.46,10.63,3.13,2.66,2.63,3,6,3.44,10.64.35,3.57.07,5.93-.94,14.07-1,8.43-1.57,12.66-1.74,13.27-1.35,4.91-3.3,12-9.51,15.81C425.44,766.78,421,766.67,418.21,766.6Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M423.73,755.34a24.81,24.81,0,0,1-4.94.11,26.43,26.43,0,0,1-13.32-5",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),S.createElement("g",{id:"ID_72","data-name":"ID 72"},S.createElement("path",{d:"M611,775c-2.34.86-5.9,2.08-10.32,3.28-9.43,2.59-14.16,3.65-18.29,2.35-6-1.88-9.21-7.1-10.32-8.91-1.58-2.55-2.77-6-1.41-23.93,1.32-17.38,2.94-19.87,4.69-21.58,3.52-3.43,10-6.14,16-3.75,2,.8,3.5,2,7,6.57,4.49,5.75,7.7,9.87,11.26,17.35,4.82,10.15,7.85,16.53,5.31,23A15.32,15.32,0,0,1,611,775Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M601.5,768.16a29.16,29.16,0,0,1-14.94,4.64",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),S.createElement("g",{id:"ID_75","data-name":"ID 75"},S.createElement("path",{d:"M690.21,615.19c2.91,1.12,7.35,2.74,12.89,4.38,8,2.4,9.26,2.14,12.12,3.67,8.95,4.77,11.86,15.17,12.19,16.42,2.46,9.27-.88,16.85-3.37,22.51-2.78,6.34-6,13.69-13.33,16.55-5.78,2.27-11,.5-21.16-3-10.8-3.68-17.65-8.76-23.07-12.85-5.86-4.43-8.82-6.72-10.09-10.4-2.19-6.35.8-12.66,3.77-19,2.6-5.51,5-10.6,10.72-14.41C678.72,613.93,687.28,614.76,690.21,615.19Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M702.17,639.65a12.25,12.25,0,0,0-6,2.44c-3.23,2.53-5.89,7.45-4.31,12.1a10.25,10.25,0,0,0,4.3,5.22",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M694.42,635a19.94,19.94,0,0,1,.8,3.84c.23,2,.71,6.27-1.39,10-2.86,5.12-8.77,6.32-9.81,6.51",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),S.createElement("g",{id:"ID_74","data-name":"ID 74"},S.createElement("path",{d:"M698.12,684.72a30.75,30.75,0,0,1,4,19.33c-2.13,16.25-17.14,23.92-19.32,25-3.23,1.65-8.38,4.28-14.75,3.39-3.39-.47-4.85-1.63-14.63-8.34-14.1-9.67-16-10.66-18.67-14.46-1.77-2.53-4.77-6.79-5.41-12.91-1.17-11.26,6.59-19.88,10.88-24.64,3.49-3.88,6.42-7.13,11.34-8.34,4.74-1.16,8.74.21,16.12,3.4C685.57,674.94,694.53,678.81,698.12,684.72Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M670.91,687.61a13.07,13.07,0,0,1,1.52,8c-.13.94-.87,6.22-5.59,8.77a11.21,11.21,0,0,1-8.39.73",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M681.2,694.64a9.14,9.14,0,0,0-6.23.08c-4.54,1.86-5.82,7.64-6.52,10.77a24.24,24.24,0,0,0-.49,7",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),S.createElement("g",{id:"ID_84","data-name":"ID 84"},S.createElement("path",{d:"M393.1,667.59c9.56.93,16.09,7.1,18.16,9.26a31.31,31.31,0,0,1,8.45,17.84c.48,3.91,2,12.9-3.22,18.12a12.1,12.1,0,0,1-4,2.61C398.83,721.21,397.91,732.34,387,736a24.09,24.09,0,0,1-12.95.44c-12.41-2.7-18.68-13.89-20.94-17.92-2.75-4.92-6.3-11.25-4.73-18.65.44-2.07,1.76-6.48,12.11-15.25C373.8,673.33,381.86,666.49,393.1,667.59Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M383.12,690.22a20,20,0,0,0-1.35,7.95c.1,2.82.23,6.58,2.42,7.78,2.45,1.35,5.11-1.81,9.18-.62a8.36,8.36,0,0,1,3.6,2.27",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M374.27,698.79a15.47,15.47,0,0,1,4.71.82c4.18,1.45,9.37,5.37,9.62,10.65a9.14,9.14,0,0,1-.76,4",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),S.createElement("g",{id:"ID_85","data-name":"ID 85"},S.createElement("path",{d:"M330.37,632.64a156.5,156.5,0,0,1,15.29-6.42c7.45-2.69,11.27-4,15.33-3.75,8.19.55,13.88,5.63,16.2,7.69a34.52,34.52,0,0,1,9,13.26c2.06,4.92,4.38,10.47,2.41,16.2-1,3-2.71,4.62-6,7.78-7.73,7.42-11.6,6.54-21.57,14.31-4.37,3.4-5.14,4.75-8.19,5.62-5.72,1.61-11.07-.84-14-2.18a34.12,34.12,0,0,1-13.22-11.23c-2.66-3.73-9.91-13.9-6.64-26C321.31,639.33,327.76,634.41,330.37,632.64Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M352,640.79a24.06,24.06,0,0,0-.65,7.67c.31,4,.46,8.65,3.81,11.27.72.56,3.09,2.21,7.43,1.75",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M343.58,645.83a27.77,27.77,0,0,1,4.41,2.62c2.79,2,5.66,4.13,6.67,7.45,1.49,4.9-2,9.64-2.58,10.45",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),S.createElement("g",{id:"ID_73","data-name":"ID 73"},S.createElement("path",{d:"M653.72,755.81a38.58,38.58,0,0,1-10.79,6.56c-4.12,1.65-14.3,5.73-22,1.41-5.58-3.11-7.16-9.42-10.32-22-2-7.88-3.91-16-.94-25.33,1.32-4.14,2.72-8.53,6.57-10.32,6.4-3,14.89,3.41,21.57,8.44a56.62,56.62,0,0,1,15.49,17.83c3.19,5.81,6.34,11.73,4.22,17.83A14.22,14.22,0,0,1,653.72,755.81Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),S.createElement("path",{d:"M648.06,750.66a29.16,29.16,0,0,1-14.94,4.64",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}))),$z=e=>({11:"UR Central Incisor",12:"UR Lateral Incisor",13:"UR Canine",14:"UR 1st Premolar",15:"UR 2nd Premolar",16:"UR 1st Molar",17:"UR 2nd Molar",18:"UR 3rd Molar",21:"UL Central Incisor",22:"UL Lateral Incisor",23:"UL Canine",24:"UL 1st Premolar",25:"UL 2nd Premolar",26:"UL 1st Molar",27:"UL 2nd Molar",28:"UL 3rd Molar",31:"LR Central Incisor",32:"LR Lateral Incisor",33:"LR Canine",34:"LR 1st Premolar",35:"LR 2nd Premolar",36:"LR 1st Molar",37:"LR 2nd Molar",38:"LR 3rd Molar",41:"LL Central Incisor",42:"LL Lateral Incisor",43:"LL Canine",44:"LL 1st Premolar",45:"LL 2nd Premolar",46:"LL 1st Molar",47:"LL 2nd Molar",48:"LL 3rd Molar",51:"UR Primary Central Incisor",52:"UR Primary Lateral Incisor",53:"UR Primary Canine",54:"UR Primary 1st Molar",55:"UR Primary 2nd Molar",61:"UL Primary Central Incisor",62:"UL Primary Lateral Incisor",63:"UL Primary Canine",64:"UL Primary 1st Molar",65:"UL Primary 2nd Molar",71:"LR Primary Central Incisor",72:"LR Primary Lateral Incisor",73:"LR Primary Canine",74:"LR Primary 1st Molar",75:"LR Primary 2nd Molar",81:"LL Primary Central Incisor",82:"LL Primary Lateral Incisor",83:"LL Primary Canine",84:"LL Primary 1st Molar",85:"LL Primary 2nd Molar"})[e]||`Tooth ${e}`,b2={healthy:"#10B981",decayed:"#DC2626",filled:"#6B7280",missing:"#6B7280","treatment-planned":"#F97316","root-canal":"#8B5CF6",extraction:"#EF4444",crown:"#F59E0B","has-treatment-before":"#3B82F6","recommended-to-be-treated":"#FBBF24",selected:"#BFDBFE",default:"#D1D5DB"},pIe=e=>{const t={},r="healthy",n=i=>{var s,o,c;return((o=(s=e==null?void 0:e[i])==null?void 0:s.conditions)==null?void 0:o.length)>0?e[i].conditions[0]:((c=e==null?void 0:e[i])==null?void 0:c.condition)||r},a=i=>{var s;return((s=e==null?void 0:e[i])==null?void 0:s.isSelected)===!0};for(let i=11;i<=18;i++)t[i]={id:i,condition:n(i),isPrimary:!1,isSelected:a(i)};for(let i=21;i<=28;i++)t[i]={id:i,condition:n(i),isPrimary:!1,isSelected:a(i)};for(let i=31;i<=38;i++)t[i]={id:i,condition:n(i),isPrimary:!1,isSelected:a(i)};for(let i=41;i<=48;i++)t[i]={id:i,condition:n(i),isPrimary:!1,isSelected:a(i)};for(let i=51;i<=55;i++)t[i]={id:i,condition:n(i),isPrimary:!0,isSelected:a(i)};for(let i=61;i<=65;i++)t[i]={id:i,condition:n(i),isPrimary:!0,isSelected:a(i)};for(let i=71;i<=75;i++)t[i]={id:i,condition:n(i),isPrimary:!0,isSelected:a(i)};for(let i=81;i<=85;i++)t[i]={id:i,condition:n(i),isPrimary:!0,isSelected:a(i)};return t},Bz=[{label:"Healthy",value:"healthy"},{label:"Decayed",value:"decayed"},{label:"Filled",value:"filled"},{label:"Missing",value:"missing"},{label:"Planned Tx",value:"treatment-planned"},{label:"Root Canal",value:"root-canal"},{label:"Extraction",value:"extraction"},{label:"Crown",value:"crown"},{label:"Prior Tx",value:"has-treatment-before"},{label:"Recommend Tx",value:"recommended-to-be-treated"}],kR=S.forwardRef(({initialState:e,onToothSelect:t,readOnly:r=!1,domain:n,domainConditions:a},i)=>{console.log("DentalChart: Render triggered. Initial prop value:",JSON.stringify(e)),console.log("DentalChart: Domain received:",n),console.log("DentalChart: DomainConditions received:",a);const[s,o]=S.useState({}),[c,u]=S.useState(null),[d,f]=S.useState(null),[h,m]=S.useState(new Set),[w,g]=S.useState(null),[y,b]=S.useState(null),_=S.useRef(null);S.useEffect(()=>{console.log("DentalChart: useEffect for initialState triggered. Prop value:",JSON.stringify(e));const T=pIe(e);console.log("DentalChart: Regenerated initialTeeth based on prop:",JSON.stringify(T)),o(T),console.log("DentalChart: setTeethData called with regenerated state."),Object.entries(T).filter(([,I])=>I.isSelected).map(([I])=>parseInt(I,10))},[e]),S.useImperativeHandle(i,()=>({getTeethData:()=>{const T={};return Object.entries(s).forEach(([I,B])=>{T[parseInt(I,10)]={...B,conditions:B.isSelected?[B.condition]:["healthy"]}}),T},getLastActiveCondition:()=>c}));const N=S.useCallback(T=>{let I=T;for(;I&&I.tagName!=="svg";){if(I.tagName==="g"&&I.id.startsWith("ID_")){const B=I.id.substring(3),G=parseInt(B,10);if(!isNaN(G)&&s[G])return I}I=I.parentNode}return null},[s]),E=S.useCallback(T=>{const I=N(T);if(I){const B=I.id.substring(3);return parseInt(B,10)}return null},[N]);S.useCallback((T,I)=>{o(B=>{const G=B[T];if(!G)return B;const Z=I;let re=G.isSelected;if(I==="missing"&&(re=!1),G.condition!==Z){const z={...B,[T]:{...G,condition:Z,isSelected:re}};if(w&&w.id===T&&g(U=>U?{...U,condition:Z}:null),I==="missing"&&G.isSelected&&!re){const U=Object.values(z).filter(Y=>Y.isSelected).map(Y=>Y.id);t==null||t(U)}return m(U=>{const Y=new Set(U);return Y.add(T),Y}),z}return B})},[w,t]);const C=S.useCallback(T=>{var G;if(r)return;let I=[],B=!1;if(o(Z=>{const re=Z[T];if(!re)return Z;const W=!re.isSelected;B=W;const z={...Z,[T]:{...re,isSelected:W,condition:W?re.condition:"healthy"}};return I=Object.values(z).filter(U=>U.isSelected).map(U=>U.id),z}),B||m(Z=>{const re=new Set(Z);return re.delete(T),re}),t==null||t(I),B){const Z=s[T];if(!Z)return;const re=(G=_.current)==null?void 0:G.querySelector(`#ID_${T}`);if(re&&_.current){const W=_.current.getBoundingClientRect(),z=re.getBoundingClientRect(),U=z.top-W.top+z.height/2+_.current.scrollTop,Y=z.left-W.left+z.width/2+_.current.scrollLeft;g({id:T,name:$z(T),condition:Z.condition,top:U,left:Y}),b({top:U,left:Y})}}else g(null),d!==T&&b(null);return B},[r,t,s,d]),O=S.useCallback(T=>{if(r)return;const I=T;u(B=>{const G=B===I?null:I;return G&&o(Z=>{let re=!1;const W={...Z},z=Object.entries(Z).filter(([U,Y])=>{const Q=parseInt(U,10);return Y.isSelected&&!h.has(Q)});return z.length>0&&z.forEach(([U,Y])=>{const Q=parseInt(U,10);W[Q]={...Y,condition:G},m(D=>new Set(D).add(Q)),re=!0}),re?W:Z}),G})},[r,h]),P=S.useCallback(T=>{if(r)return;const I=E(T.target);I!==null&&(C(I),h.has(I)||u(null))},[r,C,h]),M=S.useCallback(T=>{if(r)return;const I=E(T.target);if(I!==null){f(I);const B=N(T.target);if(B&&_.current){const G=_.current.getBoundingClientRect(),Z=B.getBoundingClientRect(),re=Z.top-G.top+Z.height/2+_.current.scrollTop,W=Z.left-G.left+Z.width/2+_.current.scrollLeft;b({top:re,left:W})}}},[r,N]),L=S.useCallback(()=>{f(null),w||b(null)},[w]);S.useEffect(()=>{var I;const T=(I=_.current)==null?void 0:I.querySelector("svg");T&&(T.querySelectorAll(".condition-indicator-dot").forEach(B=>B.remove()),T.querySelectorAll(".tooth-number-text").forEach(B=>B.remove()),Object.entries(s).forEach(([B,G])=>{const Z=parseInt(B,10),re=T.querySelector(`#ID_${Z}`);if(!re)return;re.dataset.toothId=B,re.classList.remove("tooth-selected","tooth-missing","tooth-hovered","tooth-selection-processed");const W=re.querySelector("path:first-of-type");if(W&&W.setAttribute("fill","var(--tooth-default-fill, #fff)"),W){let z="var(--tooth-default-fill, #fff)";G.condition!=="healthy"&&(z=b2[G.condition]||"var(--tooth-default-fill, #fff)"),G.condition==="missing"?W.setAttribute("fill","transparent"):W.setAttribute("fill",z)}G.isSelected&&!r&&(h.has(Z)?re.classList.add("tooth-selection-processed"):re.classList.add("tooth-selected")),!r&&Z===d&&re.classList.add("tooth-hovered"),G.condition==="missing"&&re.classList.add("tooth-missing")}),r?T.classList.add("opacity-75","cursor-default"):(T.classList.remove("opacity-75","cursor-default"),T.classList.add("cursor-pointer")))},[s,r,h,d]);const j=({tooth:T,name:I,condition:B})=>{const G=(a&&a.length>0?a.map(Z=>({label:Z.charAt(0).toUpperCase()+Z.slice(1),value:Z})):Bz).find(Z=>Z.value===B);return x("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200 p-4 min-w-[240px] relative",children:[l("div",{className:"absolute -top-2 left-1/2 w-4 h-4 bg-white transform rotate-45 -translate-x-1/2 border-t border-l border-gray-200"}),x("div",{className:"relative",children:[x("div",{className:"flex items-start justify-between mb-2",children:[x("div",{children:[x("h3",{className:"font-medium text-gray-900 text-base",children:["Tooth ",T]}),l("p",{className:"text-sm text-gray-500",children:I})]}),l("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-blue-50",children:l("span",{className:"text-blue-600 text-sm font-medium",children:T})})]}),l("div",{className:"mt-3 pt-3 border-t border-gray-100",children:x("div",{className:"flex items-center gap-2",children:[l("span",{className:"w-3 h-3 rounded-full border border-gray-200",style:{backgroundColor:b2[B]??b2.default}}),l("span",{className:"text-sm text-gray-600 font-medium",children:(G==null?void 0:G.label)||B})]})})]})]})};return l(l5,{delayDuration:100,children:l("div",{className:"dental-chart-dialog-content relative",children:x("div",{className:"flex flex-row",children:[!r&&x("div",{className:"w-[200px] flex-shrink-0 pr-2 self-stretch",children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2 sticky top-0 bg-background z-10",children:"Select Conditions to Apply:"}),l("div",{className:"flex flex-wrap gap-2",children:(a&&a.length>0?a.map(T=>({label:T.charAt(0).toUpperCase()+T.slice(1),value:T})):Bz).map(T=>{const I=!Object.values(s).some(Z=>Z.isSelected),B=c===T.value,G=b2[T.value]||b2.default;return x(Me,{variant:"ghost",size:"sm",disabled:I&&!c,onClick:()=>O(T.value),className:Lt("w-full text-sm h-auto px-3 py-2.5 rounded-md flex items-center justify-start gap-3 transition-all duration-150 ease-in-out font-medium","focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-blue-500",B?"bg-blue-500 text-white shadow-md":"bg-slate-100 hover:bg-slate-200 text-slate-700",I&&!c?"opacity-50 cursor-not-allowed hover:bg-slate-100":""),children:[l("span",{className:"flex items-center justify-center w-5 h-5 border rounded-full shrink-0",style:B?{backgroundColor:"white",borderColor:"white"}:{borderColor:G},children:B&&l("span",{className:"w-2.5 h-2.5 bg-blue-500 rounded-full"})}),l("span",{children:T.label})]},T.value)})})]}),l("div",{className:Lt("relative w-full flex-grow pt-2 pb-2 overflow-y-auto max-h-[350px]",r?"cursor-default":"cursor-pointer"),ref:_,onClick:P,onMouseMove:M,onMouseLeave:L,children:l(hIe,{width:"100%",height:"100%",viewBox:"0 0 698.9 980.66"})}),x(c5,{open:y!==null,children:[l(u5,{asChild:!0,children:l("span",{style:{position:"absolute",top:(y==null?void 0:y.top)??0,left:(y==null?void 0:y.left)??0,width:"1px",height:"1px",padding:0,margin:0,pointerEvents:"none",transform:"translate(-50%, -50%)",zIndex:40}})}),l(Q2,{side:(()=>{const T=d??(w==null?void 0:w.id);if(T===null)return"top";const I=Math.floor(T/10);return[1,2,5,6].includes(I)?"top":"bottom"})(),align:"center",sideOffset:15,className:"z-50 p-0 border-none shadow-none bg-transparent",avoidCollisions:!0,children:(()=>{const T=d??(w==null?void 0:w.id);if(T===null)return null;const I=s[T];return I?l(j,{tooth:T,name:$z(T),condition:I.condition}):null})()})]})]})})})});kR.displayName="DentalChart";const ER=({value:e={},onChange:t,placeholder:r="Select Teeth...",disabled:n=!1})=>{const[a,i]=S.useState(!1),[s,o]=S.useState(e),c=S.useRef(null);S.useEffect(()=>{o(e)},[e]);const u=g=>{const y={};return Object.entries(g).forEach(([b,_])=>{const N=parseInt(b,10);isNaN(N)||(y[N]={isSelected:!0,conditions:_.conditions})}),y},d=()=>{if(c.current){const g=c.current.getTeethData(),y={};Object.entries(g).forEach(([b,_])=>{var N;_.isSelected&&(y[parseInt(b,10)]={conditions:((N=_.conditions)==null?void 0:N.length)>0?_.conditions:["healthy"]})}),t==null||t(y),o(y)}else console.error("DentalChart ref not available to get data.");i(!1)},f=()=>{i(!1)},h=g=>{n||i(g)},m=Object.keys(e).map(Number).sort((g,y)=>g-y),w=m.length>0?`Selected: ${m.join(", ")}`:"";return x(Hn,{open:a,onOpenChange:h,children:[l(ib,{asChild:!0,children:x("div",{className:"flex items-center gap-2",children:[x(Me,{variant:"outline",className:"flex items-center gap-1.5",disabled:n,type:"button",children:[l("span",{role:"img","aria-label":"tooth icon",children:"🦷"}),r]}),w&&l("span",{className:"text-sm text-muted-foreground",children:w})]})}),x(qn,{className:"max-w-4xl",children:[" ",x(Jn,{children:[l(Zn,{children:"Select Affected Teeth"}),l(ds,{children:"Use the interactive chart below to select or deselect teeth. Click Confirm to save your selection."})]}),l(kR,{ref:c,initialState:u(s),readOnly:!1},a?"open":"closed"),x(hs,{children:[l(Me,{variant:"outline",onClick:f,children:"Cancel"}),l(Me,{onClick:d,children:"Confirm"})]})]})]})};ER.displayName="ToothSelector";const xre=Re.object({dh_reason_for_visit:Re.enum(["routine_checkup","tooth_pain","gum_issues","sensitivity","cosmetic_concerns","other"]).optional(),dh_reason_for_visit_other:Re.string().optional(),dh_chief_complaint:Re.string().optional(),dh_has_pain:Re.enum(["yes","no"]).optional(),dh_pain_description:Re.string().optional(),dh_pain_scale:Re.enum(["1","2","3","4","5","6","7","8","9","10"]).optional(),dh_pain_duration_onset:Re.string().optional(),dh_past_treatments:Re.array(Re.string()).optional(),dh_past_treatments_other:Re.string().optional(),dh_brushing_frequency:Re.enum(["less_than_once","once_a_day","twice_a_day","more_than_twice"]).optional(),dh_flossing_habits:Re.enum(["yes_daily","no","occasionally"]).optional(),dh_additional_hygiene_products:Re.string().optional(),dh_technique_tools:Re.string().optional(),dh_orthodontic_history:Re.enum(["yes","no"]).optional(),dh_orthodontic_details:Re.string().optional(),dh_has_records:Re.enum(["yes","no"]).optional(),dh_xray_frequency:Re.string().optional(),dh_bite_issues:Re.enum(["yes","no"]).optional(),dh_bite_symptoms:Re.string().optional(),dh_cosmetic_concerns:Re.enum(["yes","no"]).optional(),dh_cosmetic_issues_details:Re.string().optional(),dh_functional_concerns:Re.string().optional(),dh_emergency_history:Re.enum(["yes","no"]).optional(),dh_emergency_details:Re.string().optional(),dh_additional_summary:Re.string().optional(),dh_future_goals:Re.string().optional(),dh_selected_teeth:Re.record(Re.string(),Re.object({conditions:Re.array(Re.enum(["healthy","decayed","filled","missing","treatment-planned","root-canal","extraction","crown","has-treatment-before","recommended-to-be-treated"]))})).optional().default({})}),mIe=[{id:"regular_cleanings",label:"Regular Dental Cleanings (Scaling & Polishing)"},{id:"deep_cleaning",label:"Deep Cleaning (Full Mouth Debridement or SRP)"},{id:"fillings",label:"Fillings",subOptions:[{id:"fillings_composite",label:"Composite (White)"},{id:"fillings_amalgam",label:"Amalgam (Silver)"}]},{id:"extractions",label:"Tooth Extractions",subOptions:[{id:"extraction_simple",label:"Simple Extraction"},{id:"extraction_surgical",label:"Surgical Extraction"}]},{id:"crowns",label:"Crowns (Caps)",subOptions:[{id:"crown_porcelain",label:"Porcelain"},{id:"crown_metal",label:"Metal"},{id:"crown_zirconia",label:"Zirconia"}]},{id:"bridges",label:"Bridges"},{id:"rct",label:"Root Canal Treatment (RCT)",subOptions:[{id:"rct_anterior",label:"Anterior Teeth"},{id:"rct_posterior",label:"Posterior Teeth"}]},{id:"implants",label:"Dental Implants",subOptions:[{id:"implant_single",label:"Single Implant"},{id:"implant_multiple",label:"Multiple Implants"}]},{id:"dentures",label:"Dentures",subOptions:[{id:"denture_full",label:"Full Dentures"},{id:"denture_partial",label:"Partial Dentures"}]},{id:"veneers",label:"Veneers"},{id:"whitening",label:"Teeth Whitening"},{id:"orthodontics",label:"Orthodontic Treatment",subOptions:[{id:"ortho_braces",label:"Braces (Metal or Ceramic)"},{id:"ortho_aligners",label:"Clear Aligners (e.g., Invisalign)"}]},{id:"gum_treatments",label:"Gum Treatments",subOptions:[{id:"gum_surgery",label:"Gum Surgery"},{id:"gum_laser",label:"Laser Gum Therapy"}]},{id:"jaw_treatment",label:"Jaw Treatment",subOptions:[{id:"jaw_tmj",label:"TMJ/TMD Therapy"},{id:"jaw_bite_adjustment",label:"Bite Adjustment / Occlusal Correction"}]},{id:"guards",label:"Night Guards or Mouthguards"},{id:"other_treatment",label:"Other (please specify)"}];function gIe({}){var t;const e=lu();return x("div",{className:"space-y-8",children:[x("div",{className:"space-y-2",children:[l("h2",{className:"text-xl font-semibold",children:"Dental History"}),l("p",{className:"text-sm text-muted-foreground",children:"Please provide your detailed dental history."})]}),x("div",{className:"space-y-4 p-4 border rounded-md",children:[l("h4",{className:"font-medium",children:"Reason for Visit & Chief Complaint"}),l(Ve,{control:e.control,name:"dh_reason_for_visit",render:({field:r})=>x(Ie,{children:[l(De,{children:"Primary Reason for Visit"}),x(Ur,{onValueChange:r.onChange,value:r.value,children:[l(Le,{children:l(jr,{children:l(qr,{placeholder:"Select reason"})})}),x($r,{children:[l(mt,{value:"routine_checkup",children:"Routine Checkup"}),l(mt,{value:"tooth_pain",children:"Tooth Pain"}),l(mt,{value:"gum_issues",children:"Gum Issues"}),l(mt,{value:"sensitivity",children:"Sensitivity"}),l(mt,{value:"cosmetic_concerns",children:"Cosmetic Concerns"}),l(mt,{value:"other",children:"Other"})]})]}),l(et,{})]})}),e.watch("dh_reason_for_visit")==="other"&&l(Ve,{control:e.control,name:"dh_reason_for_visit_other",render:({field:r})=>x(Ie,{children:[l(De,{children:"If Other, please describe:"}),l(Le,{children:l(dt,{placeholder:"Explain reason",...r})}),l(et,{})]})}),l(Ve,{control:e.control,name:"dh_chief_complaint",render:({field:r})=>x(Ie,{children:[l(De,{children:"Chief Complaint Description"}),l(gi,{children:"Please provide a detailed description of the issue that brought you here. Include when the problem began, how it has progressed, and any pain or discomfort experienced."}),l(Le,{children:l(un,{rows:4,placeholder:"Describe your main concern...",...r})}),l(et,{})]})})]}),x("div",{className:"space-y-4 p-4 border rounded-md",children:[l("h4",{className:"font-medium",children:"Pain & Sensitivity Details"}),l(Ve,{control:e.control,name:"dh_has_pain",render:({field:r})=>x(Ie,{className:"space-y-3",children:[l(De,{children:"Do you experience any dental pain or sensitivity?"}),l(Le,{children:x(js,{onValueChange:r.onChange,value:r.value,className:"flex space-x-4",children:[x(Ie,{className:"flex items-center space-x-2 space-y-0",children:[l(Le,{children:l(Mn,{value:"yes"})}),l(De,{className:"font-normal",children:"Yes"})]}),x(Ie,{className:"flex items-center space-x-2 space-y-0",children:[l(Le,{children:l(Mn,{value:"no"})}),l(De,{className:"font-normal",children:"No"})]})]})}),l(et,{})]})}),e.watch("dh_has_pain")==="yes"&&x(Nr,{children:[l(Ve,{control:e.control,name:"dh_pain_description",render:({field:r})=>x(Ie,{children:[l(De,{children:"Pain Description"}),l(gi,{children:"Specify location(s), intensity, frequency, and triggers (temperature, chewing, stress)."}),l(Le,{children:l(un,{rows:3,placeholder:"e.g., Upper left molar, sharp pain (7/10) when chewing cold items, intermittent.",...r})}),l(et,{})]})}),l(Ve,{control:e.control,name:"dh_pain_scale",render:({field:r})=>x(Ie,{children:[l(De,{children:"Pain Scale (1=Mild, 10=Severe)"}),x(Ur,{onValueChange:r.onChange,value:r.value,children:[l(Le,{children:l(jr,{children:l(qr,{placeholder:"Select pain level"})})}),l($r,{children:[...Array(10)].map((n,a)=>l(mt,{value:(a+1).toString(),children:a+1},a+1))})]}),l(et,{})]})}),l(Ve,{control:e.control,name:"dh_pain_duration_onset",render:({field:r})=>x(Ie,{children:[l(De,{children:"Duration & Onset"}),l(gi,{children:"When did you first notice the pain/sensitivity? Is it constant or intermittent?"}),l(Le,{children:l(dt,{placeholder:"e.g., Started 2 weeks ago, comes and goes",...r})}),l(et,{})]})})]})]}),x("div",{className:"space-y-4 p-4 border rounded-md",children:[l("h4",{className:"font-medium",children:"Previous Dental Treatments & Procedures"}),l(Ve,{control:e.control,name:"dh_past_treatments",render:()=>x(Ie,{children:[x("div",{className:"mb-4",children:[l(De,{className:"text-base",children:"Past Treatments"}),l(gi,{children:"Please select or describe all that apply."})]}),x("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-x-6 gap-y-4",children:[" ",mIe.map(r=>{var n;return x("div",{children:[" ",l(Ve,{control:e.control,name:"dh_past_treatments",render:({field:a})=>{var i;return x(Ie,{className:"flex flex-row items-start space-x-3 space-y-0",children:[l(Le,{children:l(Fo,{checked:(i=a.value)==null?void 0:i.includes(r.id),onCheckedChange:s=>s===!0?a.onChange([...a.value||[],r.id]):a.onChange((a.value||[]).filter(o=>o!==r.id))})}),l(De,{className:"font-normal",children:r.label})]})}}),r.subOptions&&((n=e.watch("dh_past_treatments"))==null?void 0:n.includes(r.id))&&x("div",{className:"ml-6 mt-1 space-y-1",children:[" ",r.subOptions.map(a=>l(Ve,{control:e.control,name:"dh_past_treatments",render:({field:i})=>{var s;return x(Ie,{className:"flex flex-row items-start space-x-3 space-y-0",children:[l(Le,{children:l(Fo,{checked:(s=i.value)==null?void 0:s.includes(a.id),onCheckedChange:o=>{const c=o===!0?[...i.value||[],a.id]:(i.value||[]).filter(u=>u!==a.id);i.onChange(c)}})}),l(De,{className:"text-sm font-normal",children:a.label})]})}},a.id))]})]},r.id)})]}),l(et,{})]})}),((t=e.watch("dh_past_treatments"))==null?void 0:t.includes("other_treatment"))&&l(Ve,{control:e.control,name:"dh_past_treatments_other",render:({field:r})=>x(Ie,{className:"mt-4",children:[" ",l(De,{children:"Specify Other Treatments:"}),l(Le,{children:l(un,{placeholder:"Describe other treatments...",...r,value:r.value||""})})]})})]}),x("div",{className:"space-y-4 p-4 border rounded-md",children:[l("h4",{className:"font-medium",children:"Affected Teeth & Conditions"}),l(gi,{children:"Click the button to select the teeth involved. The specific conditions for these teeth can be detailed in the treatment plan later."}),l(Ve,{control:e.control,name:"dh_selected_teeth",render:({field:r})=>x(Ie,{children:[l(De,{children:"Affected Teeth"}),l(Le,{children:l(ER,{value:r.value||{},onChange:r.onChange,placeholder:"Select Affected Teeth..."})}),l(et,{})]})})]}),x("div",{className:"space-y-4 p-4 border rounded-md",children:[l("h4",{className:"font-medium",children:"Oral Hygiene Routine & Home Care"}),l(Ve,{control:e.control,name:"dh_brushing_frequency",render:({field:r})=>x(Ie,{children:[l(De,{children:"Brushing Frequency"}),x(Ur,{onValueChange:r.onChange,value:r.value,children:[l(Le,{children:l(jr,{children:l(qr,{placeholder:"Select frequency"})})}),x($r,{children:[l(mt,{value:"less_than_once",children:"Less than once a day"}),l(mt,{value:"once_a_day",children:"Once a day"}),l(mt,{value:"twice_a_day",children:"Twice a day"}),l(mt,{value:"more_than_twice",children:"More than twice a day"})]})]}),l(et,{})]})}),l(Ve,{control:e.control,name:"dh_flossing_habits",render:({field:r})=>x(Ie,{children:[l(De,{children:"Flossing Habits"}),x(Ur,{onValueChange:r.onChange,value:r.value,children:[l(Le,{children:l(jr,{children:l(qr,{placeholder:"Select habit"})})}),x($r,{children:[l(mt,{value:"yes_daily",children:"Yes, daily"}),l(mt,{value:"occasionally",children:"Occasionally"}),l(mt,{value:"no",children:"No"})]})]}),l(et,{})]})}),l(Ve,{control:e.control,name:"dh_additional_hygiene_products",render:({field:r})=>x(Ie,{children:[l(De,{children:"Additional Oral Hygiene Products"}),l(gi,{children:"List products used besides brushing/flossing (mouthwash, water flosser, etc.)."}),l(Le,{children:l(dt,{placeholder:"e.g., Listerine mouthwash, Waterpik",...r})}),l(et,{})]})}),l(Ve,{control:e.control,name:"dh_technique_tools",render:({field:r})=>x(Ie,{children:[l(De,{children:"Technique & Tools"}),l(gi,{children:"Describe your brushing technique and any special tools (e.g., electric toothbrush)."}),l(Le,{children:l(dt,{placeholder:"e.g., Soft bristle brush, circular motions, Sonicare toothbrush",...r})}),l(et,{})]})})]}),x("div",{className:"space-y-4 p-4 border rounded-md",children:[l("h4",{className:"font-medium",children:"History of Orthodontic Treatment"}),l(Ve,{control:e.control,name:"dh_orthodontic_history",render:({field:r})=>x(Ie,{className:"space-y-3",children:[l(De,{children:"Have you had braces, clear aligners, or other orthodontic treatments?"}),l(Le,{children:x(js,{onValueChange:r.onChange,value:r.value,className:"flex space-x-4",children:[x(Ie,{className:"flex items-center space-x-2 space-y-0",children:[l(Le,{children:l(Mn,{value:"yes"})}),l(De,{className:"font-normal",children:"Yes"})]}),x(Ie,{className:"flex items-center space-x-2 space-y-0",children:[l(Le,{children:l(Mn,{value:"no"})}),l(De,{className:"font-normal",children:"No"})]})]})}),l(et,{})]})}),e.watch("dh_orthodontic_history")==="yes"&&l(Ve,{control:e.control,name:"dh_orthodontic_details",render:({field:r})=>x(Ie,{children:[l(De,{children:"If yes, specify type, duration, outcomes, challenges:"}),l(Le,{children:l(un,{rows:3,placeholder:"e.g., Traditional braces (2 years), results good, wore retainer.",...r})}),l(et,{})]})})]}),x("div",{className:"space-y-4 p-4 border rounded-md",children:[l("h4",{className:"font-medium",children:"Dental Records & X-Rays"}),l(Ve,{control:e.control,name:"dh_has_records",render:({field:r})=>x(Ie,{className:"space-y-3",children:[l(De,{children:"Do you have copies of previous dental records or X-rays available?"}),l(Le,{children:x(js,{onValueChange:r.onChange,value:r.value,className:"flex space-x-4",children:[x(Ie,{className:"flex items-center space-x-2 space-y-0",children:[l(Le,{children:l(Mn,{value:"yes"})}),l(De,{className:"font-normal",children:"Yes"})]}),x(Ie,{className:"flex items-center space-x-2 space-y-0",children:[l(Le,{children:l(Mn,{value:"no"})}),l(De,{className:"font-normal",children:"No"})]})]})}),l(et,{})]})}),l(Ve,{control:e.control,name:"dh_xray_frequency",render:({field:r})=>x(Ie,{children:[l(De,{children:"X-Ray Frequency"}),l(gi,{children:"How often have you had dental X-rays? (Approximate dates if known)."}),l(Le,{children:l(dt,{placeholder:"e.g., Yearly bitewings, Full mouth series (2020)",...r})}),l(et,{})]})})]}),x("div",{className:"space-y-4 p-4 border rounded-md",children:[l("h4",{className:"font-medium",children:"Occlusal & Bite Concerns"}),l(Ve,{control:e.control,name:"dh_bite_issues",render:({field:r})=>x(Ie,{className:"space-y-3",children:[l(De,{children:"Do you have issues with your bite or TMJ pain?"}),l(Le,{children:x(js,{onValueChange:r.onChange,value:r.value,className:"flex space-x-4",children:[x(Ie,{className:"flex items-center space-x-2 space-y-0",children:[l(Le,{children:l(Mn,{value:"yes"})}),l(De,{className:"font-normal",children:"Yes"})]}),x(Ie,{className:"flex items-center space-x-2 space-y-0",children:[l(Le,{children:l(Mn,{value:"no"})}),l(De,{className:"font-normal",children:"No"})]})]})}),l(et,{})]})}),e.watch("dh_bite_issues")==="yes"&&l(Ve,{control:e.control,name:"dh_bite_symptoms",render:({field:r})=>x(Ie,{children:[l(De,{children:"If yes, describe symptoms (jaw pain, clicking, difficulty chewing):"}),l(Le,{children:l(un,{rows:3,placeholder:"e.g., Jaw clicks when opening wide, occasional pain on left side",...r})}),l(et,{})]})})]}),x("div",{className:"space-y-4 p-4 border rounded-md",children:[l("h4",{className:"font-medium",children:"Aesthetic & Functional Concerns"}),l(Ve,{control:e.control,name:"dh_cosmetic_concerns",render:({field:r})=>x(Ie,{className:"space-y-3",children:[l(De,{children:"Are you concerned about the appearance of your teeth?"}),l(Le,{children:x(js,{onValueChange:r.onChange,value:r.value,className:"flex space-x-4",children:[x(Ie,{className:"flex items-center space-x-2 space-y-0",children:[l(Le,{children:l(Mn,{value:"yes"})}),l(De,{className:"font-normal",children:"Yes"})]}),x(Ie,{className:"flex items-center space-x-2 space-y-0",children:[l(Le,{children:l(Mn,{value:"no"})}),l(De,{className:"font-normal",children:"No"})]})]})}),l(et,{})]})}),e.watch("dh_cosmetic_concerns")==="yes"&&l(Ve,{control:e.control,name:"dh_cosmetic_issues_details",render:({field:r})=>x(Ie,{children:[l(De,{children:"Specify concerns (color, shape, alignment, spacing):"}),l(Le,{children:l(un,{rows:3,placeholder:"e.g., Teeth are slightly yellow, gap between front teeth",...r})}),l(et,{})]})}),l(Ve,{control:e.control,name:"dh_functional_concerns",render:({field:r})=>x(Ie,{children:[l(De,{children:"Functional Concerns"}),l(gi,{children:"Describe difficulties with eating, speaking, etc."}),l(Le,{children:l(un,{rows:3,placeholder:"e.g., Difficulty chewing hard foods on the right side",...r})}),l(et,{})]})})]}),x("div",{className:"space-y-4 p-4 border rounded-md",children:[l("h4",{className:"font-medium",children:"Previous Dental Emergencies & Urgent Care"}),l(Ve,{control:e.control,name:"dh_emergency_history",render:({field:r})=>x(Ie,{className:"space-y-3",children:[l(De,{children:"Have you experienced any dental emergencies?"}),l(Le,{children:x(js,{onValueChange:r.onChange,value:r.value,className:"flex space-x-4",children:[x(Ie,{className:"flex items-center space-x-2 space-y-0",children:[l(Le,{children:l(Mn,{value:"yes"})}),l(De,{className:"font-normal",children:"Yes"})]}),x(Ie,{className:"flex items-center space-x-2 space-y-0",children:[l(Le,{children:l(Mn,{value:"no"})}),l(De,{className:"font-normal",children:"No"})]})]})}),l(et,{})]})}),e.watch("dh_emergency_history")==="yes"&&l(Ve,{control:e.control,name:"dh_emergency_details",render:({field:r})=>x(Ie,{children:[l(De,{children:"If yes, provide details (when, how managed):"}),l(Le,{children:l(un,{rows:3,placeholder:"e.g., Broken tooth (2022), fixed with a crown",...r})}),l(et,{})]})})]}),x("div",{className:"space-y-4 p-4 border rounded-md",children:[l("h4",{className:"font-medium",children:"Additional Comments & Future Dental Goals"}),l(Ve,{control:e.control,name:"dh_additional_summary",render:({field:r})=>x(Ie,{children:[l(De,{children:"Overall Dental History Summary"}),l(gi,{children:"Any additional information not covered above."}),l(Le,{children:l(un,{rows:4,placeholder:"Additional notes...",...r})}),l(et,{})]})}),l(Ve,{control:e.control,name:"dh_future_goals",render:({field:r})=>x(Ie,{children:[l(De,{children:"Future Treatment Goals & Expectations"}),l(gi,{children:"What outcomes are you hoping for?"}),l(Le,{children:l(un,{rows:4,placeholder:"e.g., Whiter teeth, replace missing tooth",...r})}),l(et,{})]})})]})]})}const wre=Re.object({family_medical_conditions:Re.array(Re.string()).optional(),family_medical_conditions_other:Re.string().optional(),family_dental_issues:Re.array(Re.string()).optional(),family_dental_issues_other:Re.string().optional()}),vIe=[{id:"family_heart_disease",label:"Heart Disease"},{id:"family_diabetes",label:"Diabetes"},{id:"family_high_cholesterol",label:"High Cholesterol"},{id:"family_hypertension",label:"Hypertension"},{id:"family_cancer",label:"Cancer"},{id:"family_osteoporosis",label:"Osteoporosis"}],yIe=[{id:"family_gum_disease",label:"Gum Disease"},{id:"family_tooth_loss",label:"Tooth Loss"},{id:"family_orthodontic_issues",label:"Orthodontic Issues"}];function xIe(){const e=lu();return x("div",{className:"space-y-8",children:[x("div",{className:"space-y-2",children:[l("h2",{className:"text-xl font-semibold",children:"Family Medical & Dental History"}),l("p",{className:"text-sm text-muted-foreground",children:"Information about medical and dental conditions in your family."})]}),x("div",{className:"space-y-4 p-4 border rounded-md",children:[l("h4",{className:"font-medium",children:"Family Medical History"}),l(Ve,{control:e.control,name:"family_medical_conditions",render:()=>x(Ie,{children:[x("div",{className:"mb-4",children:[l(De,{className:"text-base",children:"Has anyone in your family been diagnosed with the following?"}),l(gi,{children:"Select all that apply."})]}),l("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:vIe.map(t=>l(Ve,{control:e.control,name:"family_medical_conditions",render:({field:r})=>{var n;return x(Ie,{className:"flex flex-row items-start space-x-3 space-y-0",children:[l(Le,{children:l(Fo,{checked:(n=r.value)==null?void 0:n.includes(t.id),onCheckedChange:a=>a?r.onChange([...r.value||[],t.id]):r.onChange((r.value||[]).filter(i=>i!==t.id))})}),l(De,{className:"font-normal",children:t.label})]},t.id)}},t.id))}),l(et,{})]})}),l(Ve,{control:e.control,name:"family_medical_conditions_other",render:({field:t})=>x(Ie,{children:[l(De,{children:"Other family medical conditions:"}),l(Le,{children:l(dt,{placeholder:"Specify other conditions",...t})}),l(et,{})]})})]}),x("div",{className:"space-y-4 p-4 border rounded-md",children:[l("h4",{className:"font-medium",children:"Family Dental History"}),l(Ve,{control:e.control,name:"family_dental_issues",render:()=>x(Ie,{children:[x("div",{className:"mb-4",children:[l(De,{className:"text-base",children:"Does your family have a history of dental issues?"}),l(gi,{children:"Select all that apply."})]}),l("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:yIe.map(t=>l(Ve,{control:e.control,name:"family_dental_issues",render:({field:r})=>{var n;return x(Ie,{className:"flex flex-row items-start space-x-3 space-y-0",children:[l(Le,{children:l(Fo,{checked:(n=r.value)==null?void 0:n.includes(t.id),onCheckedChange:a=>a?r.onChange([...r.value||[],t.id]):r.onChange((r.value||[]).filter(i=>i!==t.id))})}),l(De,{className:"font-normal",children:t.label})]},t.id)}},t.id))}),l(et,{})]})}),l(Ve,{control:e.control,name:"family_dental_issues_other",render:({field:t})=>x(Ie,{children:[l(De,{children:"Other family dental issues:"}),l(Le,{children:l(dt,{placeholder:"Specify other issues",...t})}),l(et,{})]})})]})]})}const bre=Re.object({diet_description:Re.string().optional().nullable(),exercise_frequency:Re.preprocess(e=>typeof e=="string"||e===null||e===void 0?e:void 0,Re.enum(["never","occasionally","1-2_per_week","3-4_per_week","daily"]).optional().nullable()),stress_level:Re.enum(["low","moderate","high"]).optional().nullable(),has_sleep_issues:Re.enum(["yes","no"]).optional().nullable(),sleep_issues_details:Re.string().optional().nullable(),pregnancy_status:Re.enum(["yes","no","not_applicable"]).optional().nullable(),pregnancy_comments:Re.string().optional().nullable(),has_mental_health_conditions:Re.enum(["yes","no"]).optional().nullable(),mental_health_details:Re.string().optional().nullable(),additional_concerns:Re.string().optional().nullable(),additional_comments:Re.string().optional().nullable()});function wIe(){const e=lu();return x("div",{className:"space-y-8",children:[x("div",{className:"space-y-2",children:[l("h2",{className:"text-xl font-semibold",children:"Lifestyle & Special Considerations"}),l("p",{className:"text-sm text-muted-foreground",children:"Information about your lifestyle that may be relevant to your health."})]}),x("div",{className:"space-y-4 p-4 border rounded-md",children:[l("h4",{className:"font-medium",children:"Diet and Nutrition"}),l(Ve,{control:e.control,name:"diet_description",render:({field:t})=>x(Ie,{children:[l(De,{children:"Describe your typical diet (include details on sugar consumption, acidic foods, etc.):"}),l(Le,{children:l(un,{placeholder:"e.g., Balanced diet, occasional sugary snacks, drink coffee daily...",...t,value:t.value??""})}),l(et,{})]})})]}),x("div",{className:"space-y-4 p-4 border rounded-md",children:[l("h4",{className:"font-medium",children:"Exercise & Stress Levels"}),l(Ve,{control:e.control,name:"exercise_frequency",render:({field:t})=>x(Ie,{children:[l(De,{children:"How often do you exercise?"}),x(Ur,{onValueChange:t.onChange,value:typeof t.value=="boolean"?void 0:t.value??void 0,children:[l(Le,{children:l(jr,{children:l(qr,{placeholder:"Select frequency"})})}),x($r,{children:[l(mt,{value:"never",children:"Never"}),l(mt,{value:"occasionally",children:"Occasionally"}),l(mt,{value:"1-2_per_week",children:"1-2 times per week"}),l(mt,{value:"3-4_per_week",children:"3-4 times per week"}),l(mt,{value:"daily",children:"Daily"})]})]}),l(et,{})]})}),l(Ve,{control:e.control,name:"stress_level",render:({field:t})=>x(Ie,{children:[l(De,{children:"Rate your overall stress level:"}),x(Ur,{onValueChange:t.onChange,value:t.value??void 0,children:[l(Le,{children:l(jr,{children:l(qr,{placeholder:"Select stress level"})})}),x($r,{children:[l(mt,{value:"low",children:"Low"}),l(mt,{value:"moderate",children:"Moderate"}),l(mt,{value:"high",children:"High"})]})]}),l(et,{})]})})]}),x("div",{className:"space-y-4 p-4 border rounded-md",children:[l("h4",{className:"font-medium",children:"Sleep Patterns"}),l(Ve,{control:e.control,name:"has_sleep_issues",render:({field:t})=>x(Ie,{className:"space-y-3",children:[l(De,{children:"Do you have any sleep-related issues?"}),l(Le,{children:x(js,{onValueChange:t.onChange,value:t.value??void 0,className:"flex space-x-4",children:[x(Ie,{className:"flex items-center space-x-2 space-y-0",children:[l(Le,{children:l(Mn,{value:"yes"})}),l(De,{className:"font-normal",children:"Yes"})]}),x(Ie,{className:"flex items-center space-x-2 space-y-0",children:[l(Le,{children:l(Mn,{value:"no"})}),l(De,{className:"font-normal",children:"No"})]})]})}),l(et,{})]})}),e.watch("has_sleep_issues")==="yes"&&l(Ve,{control:e.control,name:"sleep_issues_details",render:({field:t})=>x(Ie,{children:[l(De,{children:"If yes, specify (e.g., sleep apnea, bruxism/teeth grinding):"}),l(Le,{children:l(dt,{placeholder:"e.g., Diagnosed sleep apnea, grind teeth at night",...t,value:t.value??""})}),l(et,{})]})})]}),x("div",{className:"space-y-4 p-4 border rounded-md",children:[l("h4",{className:"font-medium",children:"Pregnancy and/or Lactation"}),l(Ve,{control:e.control,name:"pregnancy_status",render:({field:t})=>x(Ie,{className:"space-y-3",children:[l(De,{children:"Are you pregnant, planning to become pregnant, or currently breastfeeding?"}),l(Le,{children:x(js,{onValueChange:t.onChange,value:t.value??void 0,className:"flex space-x-4",children:[x(Ie,{className:"flex items-center space-x-2 space-y-0",children:[l(Le,{children:l(Mn,{value:"yes"})}),l(De,{className:"font-normal",children:"Yes"})]}),x(Ie,{className:"flex items-center space-x-2 space-y-0",children:[l(Le,{children:l(Mn,{value:"no"})}),l(De,{className:"font-normal",children:"No"})]}),x(Ie,{className:"flex items-center space-x-2 space-y-0",children:[l(Le,{children:l(Mn,{value:"not_applicable"})}),l(De,{className:"font-normal",children:"Not Applicable"})]})]})}),l(et,{})]})}),e.watch("pregnancy_status")==="yes"&&l(Ve,{control:e.control,name:"pregnancy_comments",render:({field:t})=>x(Ie,{children:[l(De,{children:"Additional comments (if applicable):"}),l(Le,{children:l(un,{placeholder:"e.g., Due date, specific concerns...",...t,value:t.value??""})}),l(et,{})]})})]}),x("div",{className:"space-y-4 p-4 border rounded-md",children:[l("h4",{className:"font-medium",children:"Mental Health"}),l(Ve,{control:e.control,name:"has_mental_health_conditions",render:({field:t})=>x(Ie,{className:"space-y-3",children:[l(De,{children:"Do you have any mental health conditions (e.g., anxiety, depression) or medications for such conditions?"}),l(Le,{children:x(js,{onValueChange:t.onChange,value:t.value??void 0,className:"flex space-x-4",children:[x(Ie,{className:"flex items-center space-x-2 space-y-0",children:[l(Le,{children:l(Mn,{value:"yes"})}),l(De,{className:"font-normal",children:"Yes"})]}),x(Ie,{className:"flex items-center space-x-2 space-y-0",children:[l(Le,{children:l(Mn,{value:"no"})}),l(De,{className:"font-normal",children:"No"})]})]})}),l(et,{})]})}),e.watch("has_mental_health_conditions")==="yes"&&l(Ve,{control:e.control,name:"mental_health_details",render:({field:t})=>x(Ie,{children:[l(De,{children:"If yes, provide details:"}),l(Le,{children:l(un,{placeholder:"e.g., Diagnosed with anxiety, taking Sertraline",...t,value:t.value??""})}),l(et,{})]})})]}),x("div",{className:"space-y-4 p-4 border rounded-md",children:[l("h4",{className:"font-medium",children:"Additional Concerns and Comments"}),l(Ve,{control:e.control,name:"additional_concerns",render:({field:t})=>x(Ie,{children:[l(De,{children:"Please list any other issues or concerns:"}),l(Le,{children:l(un,{placeholder:"Any other specific concerns you want to mention?",...t,value:t.value??""})}),l(et,{})]})}),l(Ve,{control:e.control,name:"additional_comments",render:({field:t})=>x(Ie,{children:[l(De,{children:"Additional comments regarding dental or general health:"}),l(Le,{children:l(un,{placeholder:"General comments...",...t,value:t.value??""})}),l(et,{})]})})]})]})}const im=tt.forwardRef(({className:e,onFileChange:t,accept:r,maxSize:n=5,uploading:a=!1,value:i,preview:s,onRemove:o,...c},u)=>{const[d,f]=S.useState(!1),[h,m]=S.useState(null),w=N=>{N.preventDefault(),N.stopPropagation(),N.type==="dragenter"||N.type==="dragover"?f(!0):N.type==="dragleave"&&f(!1)},g=N=>{var E;if(N.size>n*1024*1024)return m(`File size exceeds ${n}MB limit.`),!1;if(r){const C=r.split(",").map(j=>j.trim()),O=N.type,M=(E=N.name.split(".").pop())==null?void 0:E.toLowerCase();if(!C.some(j=>{if(j.startsWith("."))return`.${M}`===j;if(j.includes("*")){const[T]=j.split("/");return O.startsWith(`${T}/`)}else return j===O}))return m("File type not supported."),!1}return m(null),!0},y=N=>{var C;const E=((C=N.target.files)==null?void 0:C[0])||null;if(E&&!g(E)){t&&t(null);return}t&&t(E)},b=N=>{if(N.preventDefault(),N.stopPropagation(),f(!1),N.dataTransfer.files&&N.dataTransfer.files[0]){const E=N.dataTransfer.files[0];g(E)&&t&&t(E)}},_=()=>{if(!i&&!s)return null;const N=s||(i?URL.createObjectURL(i):null),E=(i==null?void 0:i.name)||"File",O=((i==null?void 0:i.type)||"").startsWith("image/")||s&&/\.(jpg|jpeg|png|gif|webp)$/i.test(s);return l("div",{className:"mt-2 relative",children:x("div",{className:"flex items-center p-2 border rounded-md bg-muted",children:[O&&N?l("div",{className:"relative w-16 h-16 mr-3 overflow-hidden rounded",children:l("img",{src:N,alt:"Preview",className:"object-cover w-full h-full"})}):l(nG,{className:"w-12 h-12 mr-3 text-muted-foreground"}),x("div",{className:"flex-1 min-w-0",children:[l("p",{className:"text-sm font-medium truncate",children:E}),l("p",{className:"text-xs text-muted-foreground",children:i!=null&&i.size?`${(i.size/1024/1024).toFixed(2)} MB`:""})]}),o&&l(Me,{variant:"ghost",size:"sm",onClick:o,type:"button",className:"text-destructive hover:text-destructive",children:l(lm,{className:"w-4 h-4"})})]})})};return x("div",{className:Lt("space-y-2",e),children:[!(i||s)&&x("div",{className:Lt("border-2 border-dashed rounded-lg p-6 flex flex-col items-center justify-center cursor-pointer",d?"border-primary bg-primary/5":"border-input",h&&"border-destructive"),onDragEnter:w,onDragOver:w,onDragLeave:w,onDrop:b,onClick:()=>{var N;return(N=document.getElementById(c.id||"file-upload"))==null?void 0:N.click()},children:[a?l(Fn,{className:"w-10 h-10 mb-4 text-muted-foreground animate-spin"}):l(lG,{className:"w-10 h-10 mb-4 text-muted-foreground"}),l("p",{className:"text-sm font-medium",children:"Drag and drop or click to upload"}),l("p",{className:"text-xs text-muted-foreground mt-1",children:r?`Supported formats: ${r}`:"All files are supported"}),x("p",{className:"text-xs text-muted-foreground mt-1",children:["Max size: ",n,"MB"]}),h&&l("p",{className:"text-xs text-destructive mt-2",children:h})]}),l("input",{id:c.id||"file-upload",type:"file",className:"hidden",onChange:y,ref:u,accept:r,disabled:a,...c}),_(),h&&l("p",{className:"text-xs text-destructive",children:h})]})});im.displayName="FileUpload";const _re=Re.object({consent_given:Re.boolean().default(!1),profile_photo:Re.instanceof(File).optional().nullable(),signature:Re.instanceof(File).optional().nullable(),id_document:Re.instanceof(File).optional().nullable(),consent_notes:Re.string().optional()});function bIe(){const e=lu(),[t,r]=S.useState(!1);return x("div",{className:"space-y-6",children:[x("div",{className:"space-y-2",children:[l("h3",{className:"text-lg font-medium",children:"Documents & Consent"}),l("p",{className:"text-sm text-muted-foreground",children:"Upload necessary documents and provide consent for treatment."})]}),l(Ve,{control:e.control,name:"profile_photo",render:({field:n})=>x(Ie,{children:[l(De,{children:"Profile Photo"}),l(Le,{children:l(im,{value:n.value,onFileChange:n.onChange,accept:"image/png,image/jpeg,image/jpg",maxSize:5,uploading:t,onRemove:()=>n.onChange(null)})}),l(et,{})]})}),l(Ve,{control:e.control,name:"signature",render:({field:n})=>x(Ie,{children:[l(De,{children:"Patient Signature"}),l(Le,{children:l(im,{value:n.value,onFileChange:n.onChange,accept:"image/png,image/jpeg,image/jpg",maxSize:2,uploading:t,onRemove:()=>n.onChange(null)})}),l(et,{})]})}),l(Ve,{control:e.control,name:"id_document",render:({field:n})=>x(Ie,{children:[l(De,{children:"ID Document"}),l(Le,{children:l(im,{value:n.value,onFileChange:n.onChange,accept:"image/png,image/jpeg,image/jpg,application/pdf",maxSize:10,uploading:t,onRemove:()=>n.onChange(null)})}),l(et,{})]})}),l(Ve,{control:e.control,name:"consent_given",render:({field:n})=>x(Ie,{className:"flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4",children:[l(Le,{children:l(Fo,{checked:n.value,onCheckedChange:n.onChange})}),x("div",{className:"space-y-1 leading-none",children:[l(De,{children:"I consent to treatment"}),l("p",{className:"text-sm text-muted-foreground",children:"By checking this box, I provide consent for dental treatment and procedures."})]})]})}),l(Ve,{control:e.control,name:"consent_notes",render:({field:n})=>x(Ie,{children:[l(De,{children:"Consent Notes"}),l(Le,{children:l(un,{placeholder:"Any additional notes related to patient consent",...n})}),l(et,{})]})})]})}const _Ie=Re.object({acknowledgment:Re.boolean().refine(e=>e===!0,{message:"You must acknowledge that the information provided is accurate."}),patient_signature_consent:Re.string().optional(),consent_date:Re.date().optional().default(new Date)}),SIe=Re.object({...Vp.shape,...NR.shape,...yre.shape,...xre.shape,...wre.shape,...bre.shape,..._Ie.shape,..._re.shape}),NIe=Re.object({first_name:Vp.shape.first_name,last_name:Vp.shape.last_name,middle_name:Vp.shape.middle_name.optional(),gender:Vp.shape.gender,age:Vp.shape.age,occupation:Vp.shape.occupation.optional(),phone:NR.shape.phone}),jd=["personal","contact","medical","dental","family_lifestyle","documents"],N0=e=>e instanceof Re.ZodObject?Object.keys(e.shape):[],AIe={personal:N0(Vp),contact:N0(NR),medical:N0(yre),dental:N0(xre),family_lifestyle:[...N0(wre),...N0(bre)],documents:N0(_re)};function CR({patient:e,onSuccess:t,onCancel:r,mode:n="full"}){const{toast:a}=bn(),[i,s]=S.useState(!1),[o,c]=S.useState(!1),[u,d]=S.useState(!1),[f,h]=S.useState(""),[m,w]=S.useState(new Date),[g,y]=S.useState(null),[b,_]=S.useState(jd[0]),[N,E]=S.useState(!0),C=n==="simplified",O={first_name:"",last_name:"",middle_name:"",gender:"male",age:null,occupation:"",phone:""},P={...O,marital_status:"single",email:"",address:"",city:"",state:"",postal_code:"",country:"USA",emergency_contact_name:"",emergency_contact_phone:"",emergency_contact_relationship:"",blood_group:"unknown",height:null,weight:null,has_allergies:"no",medication_allergies:[],other_medication_allergy_details:"",food_allergies:[],other_food_allergy_details:"",environmental_allergies:[],other_environmental_allergy_details:"",other_allergies:[],other_allergy_details:"",other_allergies_manual_input:"",diagnosed_conditions:[],other_diagnosed_condition:"",has_implants:"no",implants_details:"",taking_medications:"no",current_medications:[],recent_health_changes:"no",health_changes_details:"",previous_surgeries:[],immunizations_up_to_date:"not_sure",recent_immunizations:"",recent_medical_screenings:"no",screenings_details:"",dental_material_allergies:"no",dental_material_allergies_details:"",notes:"",dh_reason_for_visit:void 0,dh_reason_for_visit_other:"",dh_chief_complaint:"",dh_has_pain:"no",dh_pain_description:"",dh_pain_scale:void 0,dh_pain_duration_onset:"",dh_past_treatments:[],dh_past_treatments_other:"",dh_brushing_frequency:void 0,dh_flossing_habits:void 0,dh_additional_hygiene_products:"",dh_technique_tools:"",dh_orthodontic_history:"no",dh_orthodontic_details:"",dh_has_records:"no",dh_xray_frequency:"",dh_bite_issues:"no",dh_bite_symptoms:"",dh_cosmetic_concerns:"no",dh_cosmetic_issues_details:"",dh_functional_concerns:"",dh_emergency_history:"no",dh_emergency_details:"",dh_additional_summary:"",dh_future_goals:"",dh_selected_teeth:{},family_medical_conditions:[],family_medical_conditions_other:"",family_dental_issues:[],family_dental_issues_other:"",diet_description:"",exercise_frequency:void 0,stress_level:void 0,has_sleep_issues:"no",sleep_issues_details:"",pregnancy_status:"not_applicable",pregnancy_comments:"",has_mental_health_conditions:"no",mental_health_details:"",additional_concerns:"",additional_comments:"",acknowledgment:!1,patient_signature_consent:"",consent_date:new Date,consent_given:!1,consent_notes:"",profile_photo:void 0,signature:void 0,id_document:void 0},M=S.useCallback(W=>{var Y,Q,D,K,J,ne,ie,oe,ue,V,se,fe,te,Ee,Fe,Pe,ve,Ge,ht,at,St,wt,_e,ge,Ce,Je,Qe,Xe,Ke,At,Nt;const z=C?O:P,U=W?{first_name:W.first_name||"",last_name:W.last_name||"",middle_name:W.middle_name||"",gender:W.gender==="male"||W.gender==="female"||W.gender==="other"?W.gender:void 0,age:W.age??null,occupation:W.occupation||"",phone:W.phone||"",...!C&&{marital_status:W.marital_status||"single",email:W.email||"",address:W.address||"",city:W.city||"",state:W.state||"",postal_code:W.postal_code||"",country:W.country||"USA",emergency_contact_name:W.emergency_contact_name||"",emergency_contact_phone:W.emergency_contact_phone||"",emergency_contact_relationship:W.emergency_contact_relationship||"",blood_group:W.blood_group||"unknown",height:W.height??null,weight:W.weight??null,has_allergies:((Y=W.detailed_medical_info)==null?void 0:Y.has_allergies)||"no",medication_allergies:((Q=W.detailed_medical_info)==null?void 0:Q.medication_allergies)||[],other_medication_allergy_details:((D=W.detailed_medical_info)==null?void 0:D.other_medication_allergy_details)||"",food_allergies:((K=W.detailed_medical_info)==null?void 0:K.food_allergies)||[],other_food_allergy_details:((J=W.detailed_medical_info)==null?void 0:J.other_food_allergy_details)||"",environmental_allergies:((ne=W.detailed_medical_info)==null?void 0:ne.environmental_allergies)||[],other_environmental_allergy_details:((ie=W.detailed_medical_info)==null?void 0:ie.other_environmental_allergy_details)||"",other_allergies:((oe=W.detailed_medical_info)==null?void 0:oe.other_allergies)||[],other_allergy_details:((ue=W.detailed_medical_info)==null?void 0:ue.other_allergy_details)||"",other_allergies_manual_input:((V=W.detailed_medical_info)==null?void 0:V.other_allergies_manual_input)||"",diagnosed_conditions:Array.isArray(W.medical_conditions)?W.medical_conditions:[],taking_medications:W.current_medications&&Array.isArray(W.current_medications)&&W.current_medications.length>0?"yes":"no",current_medications:Array.isArray(W.current_medications)?W.current_medications:[],previous_surgeries:Array.isArray(W.previous_surgeries)?W.previous_surgeries:[],notes:W.notes||"",consent_given:W.consent_given||!1,...W.dental_history&&typeof W.dental_history=="object"?{...Object.fromEntries(Object.entries(W.dental_history).filter(([vt])=>vt!=="dh_selected_teeth"))}:{},...W.family_medical_history&&typeof W.family_medical_history=="object"?{...W.family_medical_history}:{},diet_description:((se=W.lifestyle_habits)==null?void 0:se.diet)??"",exercise_frequency:((fe=W.lifestyle_habits)==null?void 0:fe.exercise)??void 0,stress_level:((te=W.lifestyle_habits)==null?void 0:te.stress)??void 0,has_sleep_issues:(Fe=(Ee=W.lifestyle_habits)==null?void 0:Ee.sleep_issues)!=null&&Fe.startsWith("Yes")?"yes":((Pe=W.lifestyle_habits)==null?void 0:Pe.sleep_issues)==="No"?"no":null,sleep_issues_details:(Ge=(ve=W.lifestyle_habits)==null?void 0:ve.sleep_issues)!=null&&Ge.startsWith("Yes")&&((ht=W.lifestyle_habits)==null?void 0:ht.sleep_issues.replace("Yes, ",""))!=="details missing"?(at=W.lifestyle_habits)==null?void 0:at.sleep_issues.replace("Yes, ",""):"",pregnancy_status:((St=W.lifestyle_habits)==null?void 0:St.pregnancy_status)??void 0,pregnancy_comments:((wt=W.lifestyle_habits)==null?void 0:wt.pregnancy_comments)??"",has_mental_health_conditions:(ge=(_e=W.lifestyle_habits)==null?void 0:_e.mental_health)!=null&&ge.startsWith("Yes")?"yes":((Ce=W.lifestyle_habits)==null?void 0:Ce.mental_health)==="No"?"no":void 0,mental_health_details:(Qe=(Je=W.lifestyle_habits)==null?void 0:Je.mental_health)!=null&&Qe.startsWith("Yes")&&((Xe=W.lifestyle_habits)==null?void 0:Xe.mental_health.replace("Yes, ",""))!=="details missing"?(Ke=W.lifestyle_habits)==null?void 0:Ke.mental_health.replace("Yes, ",""):"",additional_concerns:((At=W.lifestyle_habits)==null?void 0:At.additional_concerns)??"",additional_comments:((Nt=W.lifestyle_habits)==null?void 0:Nt.additional_comments)??""}}:{};return{...z,...U}},[e,C]),L=pd({resolver:md(C?NIe:SIe),defaultValues:C?O:P,mode:"onChange"});S.useEffect(()=>{E(!0),console.log(`PatientForm: useEffect triggered. Patient ID: ${e==null?void 0:e.id}, Mode: ${n}`),(async()=>{let z=M(e);if(console.log("PatientForm: Base defaults calculated:",JSON.stringify(z)),e!=null&&e.id&&!C)try{console.log("PatientForm: Fetching dental history teeth map for patient:",e.id);const U=await It.patients.getPatientDentalHistoryTeethMap(e.id);console.log("PatientForm: Fetched dental history teeth map for form:",JSON.stringify(U)),z.dh_selected_teeth=U||{}}catch(U){console.error("Error fetching patient dental history teeth map:",U),a({title:"Error Loading Affected Teeth",description:"Could not load previously selected affected teeth.",variant:"destructive"}),z.dh_selected_teeth={}}else C?C&&delete z.dh_selected_teeth:z.dh_selected_teeth={};console.log("PatientForm: Resetting form with final defaults:",JSON.stringify(z)),L.reset(z),console.log("PatientForm: Form reset complete. Checking form state after reset:",JSON.stringify(L.getValues("dh_selected_teeth"))),E(!1)})()},[e,n,C,M,L,a]);const j=async(W,z,U)=>{if(!(W instanceof File))return null;console.log(`Uploading ${U} for ${z}`);const{data:{session:Y},error:Q}=await je.auth.getSession();if(Q||!Y)throw new Error("Auth failed.");const D=W.name.split(".").pop(),K=`public/${z}/${U}-${Date.now()}.${D}`,{error:J}=await je.storage.from("medical-records").upload(K,W);if(J)throw new Error(`Upload failed: ${J.message}`);const{data:ne}=je.storage.from("medical-records").getPublicUrl(K);if(!(ne!=null&&ne.publicUrl))throw new Error("Failed to get URL.");return{path:K,url:ne.publicUrl,name:W.name,type:U,size:W.size,uploaded_at:new Date().toISOString()}},T=async W=>{s(!0);try{const z=e==null?void 0:e.id,U=W;if(!z&&(U.profile_photo instanceof File||U.signature instanceof File||U.id_document instanceof File))throw new Error("Cannot upload files for a new patient. Save first.");let Y=[],Q=(e==null?void 0:e.profile_photo_url)||null,D=(e==null?void 0:e.signature_url)||null;if(!C&&z){Array.isArray(e==null?void 0:e.documents)&&(Y=e.documents);const V=U;if(V.profile_photo instanceof File){const se=await j(V.profile_photo,z,"profile_photo");se&&(Q=se.url,Y=Y.filter(fe=>fe.type!=="profile_photo"),Y.push(se))}if(V.signature instanceof File){const se=await j(V.signature,z,"signature");se&&(D=se.url,Y=Y.filter(fe=>fe.type!=="signature"),Y.push(se))}if(V.id_document instanceof File){const se=await j(V.id_document,z,"id_document");se&&(Y=Y.filter(fe=>fe.type!=="id_document"),Y.push(se))}}else if(!z&&(U.profile_photo instanceof File||U.signature instanceof File||U.id_document instanceof File))throw new Error("Cannot upload files for a new patient. Save first.");const K={first_name:W.first_name||"",last_name:W.last_name||"",middle_name:W.middle_name||null,gender:W.gender==="male"||W.gender==="female"||W.gender==="other"?W.gender:null,age:W.age??null,occupation:W.occupation||null,phone:W.phone||""};let J;if(C)J=K;else{const V=W;J={...K,marital_status:V.marital_status||null,email:V.email||null,address:V.address||null,city:V.city||null,state:V.state||null,postal_code:V.postal_code||null,country:V.country||null,emergency_contact_name:V.emergency_contact_name||null,emergency_contact_phone:V.emergency_contact_phone||null,emergency_contact_relationship:V.emergency_contact_relationship||null,blood_group:V.blood_group||null,height:V.height??null,weight:V.weight??null,medical_conditions:[...V.diagnosed_conditions||[],...V.other_diagnosed_condition?[V.other_diagnosed_condition]:[]].length>0?[...V.diagnosed_conditions||[],...V.other_diagnosed_condition?[V.other_diagnosed_condition]:[]]:null,current_medications:V.taking_medications==="yes"?V.current_medications||[]:null,previous_surgeries:V.previous_surgeries&&V.previous_surgeries.length>0?V.previous_surgeries:null,detailed_medical_info:{has_implants:V.has_implants,implants_details:V.implants_details||null,recent_health_changes:V.recent_health_changes,health_changes_details:V.health_changes_details||null,immunizations_up_to_date:V.immunizations_up_to_date,recent_immunizations:V.recent_immunizations||null,recent_medical_screenings:V.recent_medical_screenings,screenings_details:V.screenings_details||null,dental_material_allergies:V.dental_material_allergies,dental_material_allergies_details:V.dental_material_allergies_details||null,has_allergies:V.has_allergies,medication_allergies:V.medication_allergies||[],other_medication_allergy_details:V.other_medication_allergy_details||null,food_allergies:V.food_allergies||[],other_food_allergy_details:V.other_food_allergy_details||null,environmental_allergies:V.environmental_allergies||[],other_environmental_allergy_details:V.other_environmental_allergy_details||null,other_allergies:V.other_allergies||[],other_allergy_details:V.other_allergy_details||null,other_allergies_manual_input:V.other_allergies_manual_input||null},dental_history:{reason_for_visit:V.dh_reason_for_visit,reason_for_visit_other:V.dh_reason_for_visit_other||null,chief_complaint:V.dh_chief_complaint||null,has_pain:V.dh_has_pain,pain_description:V.dh_pain_description||null,pain_scale:V.dh_pain_scale,pain_duration_onset:V.dh_pain_duration_onset||null,past_treatments:V.dh_past_treatments||[],past_treatments_other:V.dh_past_treatments_other||null,brushing_frequency:V.dh_brushing_frequency,flossing_habits:V.dh_flossing_habits,additional_hygiene_products:V.dh_additional_hygiene_products||null,technique_tools:V.dh_technique_tools||null,orthodontic_history:V.dh_orthodontic_history,orthodontic_details:V.dh_orthodontic_details||null,has_records:V.dh_has_records,xray_frequency:V.dh_xray_frequency||null,bite_issues:V.dh_bite_issues,bite_symptoms:V.dh_bite_symptoms||null,cosmetic_concerns:V.dh_cosmetic_concerns,cosmetic_issues_details:V.dh_cosmetic_issues_details||null,functional_concerns:V.dh_functional_concerns||null,emergency_history:V.dh_emergency_history,emergency_details:V.dh_emergency_details||null,additional_summary:V.dh_additional_summary||null,future_goals:V.dh_future_goals||null},family_medical_history:{conditions:V.family_medical_conditions||[],other:V.family_medical_conditions_other||null,dental_issues:V.family_dental_issues||[],dental_other:V.family_dental_issues_other||null},lifestyle_habits:{diet:V.diet_description||null,exercise:V.exercise_frequency||null,stress:V.stress_level||null,sleep_issues:V.has_sleep_issues==="yes"?V.sleep_issues_details?`Yes, ${V.sleep_issues_details}`:"Yes, details missing":"No",pregnancy_status:V.pregnancy_status||null,pregnancy_comments:V.pregnancy_comments||null,mental_health:V.has_mental_health_conditions==="yes"?V.mental_health_details?`Yes, ${V.mental_health_details}`:"Yes, details missing":"No",additional_concerns:V.additional_concerns||null,additional_comments:V.additional_comments||null},notes:V.notes||null,consent_given:V.consent_given||null,profile_photo_url:Q,signature_url:D,documents:Y}}let ne=z,ie=null;const oe=J;if(oe.dental_history&&typeof oe.dental_history=="object"&&(delete oe.dental_history.dh_tooth_conditions,oe.dental_history=oe.dental_history),z)console.log(`Updating existing patient (${n} mode):`,z),await It.patients.update(z,oe);else{console.log(`Creating new patient (${n} mode)...`);const V={...oe};delete V.profile_photo_url,delete V.signature_url,delete V.documents,C&&(V.marital_status=null,V.email=null,V.address=null,V.city=null,V.state=null,V.postal_code=null,V.country=null,V.emergency_contact_name=null,V.emergency_contact_phone=null,V.emergency_contact_relationship=null,V.blood_group=null,V.height=null,V.weight=null,V.medical_conditions=null,V.current_medications=null,V.previous_surgeries=null,V.detailed_medical_info=null,V.dental_history=null,V.family_medical_history=null,V.lifestyle_habits=null,V.notes=null,V.consent_given=null);const se={first_name:V.first_name||"",last_name:V.last_name||"",middle_name:V.middle_name||null,gender:V.gender==="male"||V.gender==="female"||V.gender==="other"?V.gender:null,age:V.age??null,occupation:V.occupation||null,phone:V.phone||"",marital_status:V.marital_status||null,email:V.email||null,address:V.address||null,city:V.city||null,state:V.state||null,postal_code:V.postal_code||null,country:V.country||null,emergency_contact_name:V.emergency_contact_name||null,emergency_contact_phone:V.emergency_contact_phone||null,emergency_contact_relationship:V.emergency_contact_relationship||null,blood_group:V.blood_group||null,height:V.height??null,weight:V.weight??null,medical_conditions:V.medical_conditions||null,current_medications:V.current_medications||null,previous_surgeries:V.previous_surgeries||null,detailed_medical_info:V.detailed_medical_info||null,dental_history:V.dental_history||null,family_medical_history:V.family_medical_history||null,lifestyle_habits:V.lifestyle_habits||null,notes:V.notes||null,consent_given:V.consent_given||null};if(ie=await It.patients.create(se),!(ie!=null&&ie.id))throw new Error("Failed to create patient or retrieve new patient ID.");ne=ie.id,console.log("New patient created:",ne)}if(!C&&ne){const V=W.dh_selected_teeth,se=V?Object.keys(V).map(Number):[];console.log("Saving patient dental history teeth map (with conditions):",JSON.stringify(V));try{await It.patients.savePatientDentalHistoryTeethWithConditions(ne,V),console.log("Patient dental history teeth (with conditions) saved successfully.")}catch(fe){console.error("Error saving patient dental history teeth:",fe),a({title:"Warning",description:`Patient info saved, but failed to save dental history teeth: ${fe.message}`,variant:"destructive"})}}a({title:"Success",description:z?"Patient information updated successfully.":C?"Basic patient info saved. Complete profile later.":"Patient created successfully. Edit to add documents."}),t(ne)}catch(z){console.error("Error saving patient:",z);let U="Failed to save patient information.";(z.message.startsWith("Auth")||z.message.startsWith("Failed to upload")||z.message.startsWith("Cannot upload")||z.message.startsWith("Upload succeeded"))&&(U=z.message),a({title:"Error",description:U,variant:"destructive"})}finally{s(!1)}},I=W=>{C?T(W):console.warn("onSubmit called unexpectedly in full mode")},B=async()=>{if(C)return;s(!0);const W=AIe[b]||[];if(console.log(`Validating fields for tab "${b}":`,W),W.length===0&&b!=="documents"&&console.warn(`No fields defined for validation on tab: ${b}`),W.length>0?await L.trigger(W):!0){console.log(`Validation passed for tab: ${b}`);const U=L.getValues();y(U),d(!1),h(U.patient_signature_consent||""),w(new Date),c(!0)}else console.log(`Validation failed for tab: ${b}`),a({title:"Validation Error",description:`Please fix the errors on the "${b.replace(/_/g," ").replace(/\b\w/g,U=>U.toUpperCase())}" tab before saving.`,variant:"destructive"});s(!1)},G=()=>{if(u&&g){const W={...g,acknowledgment:u,patient_signature_consent:f,consent_date:m||new Date,consent_given:u};T(W),c(!1),y(null)}else a({title:"Acknowledgment Required",description:"Please acknowledge and provide signature/date in the dialog to save.",variant:"destructive"})},Z=()=>{const W=jd.indexOf(b);W<jd.length-1&&_(jd[W+1])},re=()=>{const W=jd.indexOf(b);W>0&&_(jd[W-1])};return x(Cte,{...L,children:[l("div",{className:"space-y-6",children:C?x("form",{onSubmit:L.handleSubmit(I),className:"space-y-6",children:[x("div",{className:"space-y-6 pt-6 max-h-[calc(90vh-200px)] overflow-y-auto p-1",children:[x("div",{className:"space-y-2",children:[l("h3",{className:"text-lg font-medium",children:"Basic Patient Information"}),l("p",{className:"text-sm text-muted-foreground",children:"Enter the essential details for the new patient."})]}),x("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[l(Ve,{control:L.control,name:"first_name",render:({field:W})=>x(Ie,{children:[l(De,{children:"First Name"}),l(Le,{children:l(dt,{placeholder:"John",...W})}),l(et,{})]})}),l(Ve,{control:L.control,name:"middle_name",render:({field:W})=>x(Ie,{children:[l(De,{children:"Middle Name"}),l(Le,{children:l(dt,{placeholder:"Michael",...W})}),l(et,{})]})}),l(Ve,{control:L.control,name:"last_name",render:({field:W})=>x(Ie,{children:[l(De,{children:"Last Name"}),l(Le,{children:l(dt,{placeholder:"Doe",...W})}),l(et,{})]})}),l(Ve,{control:L.control,name:"gender",render:({field:W})=>x(Ie,{children:[l(De,{children:"Gender"}),x(Ur,{onValueChange:W.onChange,defaultValue:W.value,children:[l(Le,{children:l(jr,{children:l(qr,{placeholder:"Select gender"})})}),x($r,{children:[l(mt,{value:"male",children:"Male"}),l(mt,{value:"female",children:"Female"}),l(mt,{value:"other",children:"Other"})]})]}),l(et,{})]})}),l(Ve,{control:L.control,name:"age",render:({field:W})=>x(Ie,{children:[l(De,{children:"Age"}),l(Le,{children:l(dt,{type:"number",placeholder:"25",...W,value:W.value??"",onChange:z=>W.onChange(z.target.value===""?null:z.target.valueAsNumber)})}),l(et,{})]})}),l(Ve,{control:L.control,name:"occupation",render:({field:W})=>x(Ie,{children:[l(De,{children:"Occupation"}),l(Le,{children:l(dt,{placeholder:"Software Engineer",...W})}),l(et,{})]})}),l(Ve,{control:L.control,name:"phone",render:({field:W})=>x(Ie,{children:[l(De,{children:"Phone Number"}),l(Le,{children:l(dt,{placeholder:"+1234567890",...W})}),l(et,{})]})})]})]}),x("div",{className:"flex justify-end gap-2 pt-4",children:[l(Me,{type:"button",variant:"outline",onClick:r,children:"Cancel"}),l(Me,{type:"submit",disabled:i||N,children:i?x(Nr,{children:[l("span",{className:"mr-2",children:"Saving..."}),l(Fn,{className:"h-4 w-4 animate-spin"})]}):N?x(Nr,{children:[l("span",{className:"mr-2",children:"Loading..."}),l(Fn,{className:"h-4 w-4 animate-spin"})]}):"Save Changes"})]})]}):x("div",{className:"pt-6",children:[x(jm,{value:b,onValueChange:_,className:"space-y-4",children:[l(Rh,{children:jd.map(W=>l(Oa,{value:W,children:W.replace(/_/g," ").replace(/\b\w/g,z=>z.toUpperCase())},W))}),l(_a,{value:"personal",className:"max-h-[calc(90vh-250px)] overflow-y-auto p-1",children:l(KDe,{})}),l(_a,{value:"contact",className:"max-h-[calc(90vh-250px)] overflow-y-auto p-1",children:l(XDe,{})}),l(_a,{value:"medical",className:"max-h-[calc(90vh-250px)] overflow-y-auto p-1 space-y-8",children:l(fIe,{})}),l(_a,{value:"dental",className:"max-h-[calc(90vh-250px)] overflow-y-auto p-1 space-y-8",children:l(gIe,{})}),x(_a,{value:"family_lifestyle",className:"max-h-[calc(90vh-250px)] overflow-y-auto p-1 space-y-8",children:[l(xIe,{}),l(wIe,{})]}),l(_a,{value:"documents",className:"max-h-[calc(90vh-250px)] overflow-y-auto p-1",children:l(bIe,{})})]}),x("div",{className:"flex justify-between gap-2 pt-4",children:[x("div",{children:[" ",x(Me,{type:"button",variant:"outline",onClick:re,disabled:jd.indexOf(b)===0,children:[l(w4,{className:"mr-2 h-4 w-4"})," Previous"]}),x(Me,{type:"button",variant:"outline",onClick:Z,disabled:jd.indexOf(b)===jd.length-1,className:"ml-2",children:["Next ",l(om,{className:"ml-2 h-4 w-4"})]})]}),x("div",{children:[" ",l(Me,{type:"button",variant:"outline",onClick:r,className:"mr-2",children:"Cancel"}),l(Me,{type:"button",onClick:B,disabled:i||N,children:i?x(Nr,{children:[l("span",{className:"mr-2",children:"Validating..."}),l(Fn,{className:"h-4 w-4 animate-spin"})]}):N?x(Nr,{children:[l("span",{className:"mr-2",children:"Loading..."}),l(Fn,{className:"h-4 w-4 animate-spin"})]}):"Save Changes"})]})]})]})})," ",l(Hn,{open:o,onOpenChange:c,children:x(qn,{className:"sm:max-w-[525px]",children:[x(Jn,{children:[x(Zn,{className:"flex items-center",children:[l(px,{className:"h-5 w-5 text-green-600 mr-2"})," Consent & Acknowledgment"]}),l(ds,{children:"Please review, acknowledge, and sign below before saving the patient information."})]}),x("div",{className:"space-y-4 py-4",children:[x("div",{className:"flex items-start space-x-3 rounded-md border p-4 shadow-sm",children:[l(Fo,{id:"dialog-acknowledgment",checked:u,onCheckedChange:W=>d(W===!0),className:"mt-1"}),x("div",{className:"grid gap-1.5 leading-none",children:[l("label",{htmlFor:"dialog-acknowledgment",className:"text-sm font-medium peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"I confirm that the information provided is complete and accurate to the best of my knowledge."}),!u&&l("p",{className:"text-sm text-destructive",children:"Acknowledgment is required."})]})]}),x("div",{className:"space-y-2",children:[l(tr,{htmlFor:"dialog-signature",children:"Patient Signature (Type full name)"}),l(dt,{id:"dialog-signature",placeholder:"Type your full name",value:f,onChange:W=>h(W.target.value)}),l("p",{className:"text-xs text-muted-foreground",children:"Typing your name here acts as your digital signature."})]}),x("div",{className:"space-y-2",children:[l(tr,{htmlFor:"dialog-consent-date",children:"Date"}),l(dt,{id:"dialog-consent-date",type:"date",value:m?m.toISOString().split("T")[0]:"",onChange:W=>w(W.target.value?new Date(W.target.value):null)})]})]}),x(hs,{children:[l(jN,{asChild:!0,children:l(Me,{type:"button",variant:"outline",children:"Cancel"})}),l(Me,{type:"button",onClick:G,disabled:!u||i,children:i?x(Nr,{children:[l("span",{className:"mr-2",children:"Saving..."}),l(Fn,{className:"h-4 w-4 animate-spin"})]}):"Confirm & Save"})]})]})})]})}function kIe(){var yt,Fr,ta;const[e,t]=YH();Ss();const[r,n]=S.useState(new Date),[a,i]=S.useState("week"),[s,o]=S.useState(null),[c,u]=S.useState(!1),[d,f]=S.useState(!1),[h,m]=S.useState(null),[w,g]=S.useState("patient-select"),[y,b]=S.useState(""),[_,N]=S.useState(null),[E,C]=S.useState(null),[O,P]=S.useState([]),[M,L]=S.useState([]),[j,T]=S.useState([]),[I,B]=S.useState([]),[G,Z]=S.useState(!1),[re,W]=S.useState(""),[z,U]=S.useState(null),[Y,Q]=S.useState(""),[D,K]=S.useState("AM"),{toast:J}=bn(),ne=100,ie="bg-booked-bg text-booked-icon border border-booked-border",oe="bg-canceled-bg text-canceled-icon border border-canceled-border line-through opacity-70",[ue,V]=S.useState(null),[se,fe]=S.useState(!1),[te,Ee]=S.useState({type:"checkup",duration:"30",notes:"",reason_for_visit:"",treatment_id:null}),Fe=Array.from({length:11},(bt,gt)=>{const Jt=gt+8;return Rt(new Date().setHours(Jt,0),"HH:mm")}),[Pe,ve]=S.useState(null),[Ge,ht]=S.useState(null),[at,St]=S.useState(!1),wt=async()=>{try{let bt,gt;if(a==="day"?(bt=Dl(r),gt=Qv(r)):a==="week"?(bt=co(r,{weekStartsOn:1}),gt=M0(r,{weekStartsOn:1})):a==="month"&&(bt=zs(r),gt=hm(r)),!bt||!gt){console.error("Invalid view state, cannot determine date range:",a);return}console.log(`Fetching appointments from ${bt.toISOString()} to ${gt.toISOString()}`);const Jt=await It.appointments.getByDateRange(bt.toISOString(),gt.toISOString());P(Array.isArray(Jt)?Jt:[])}catch(bt){console.error("Error fetching appointments:",bt),P([])}},_e=async()=>{try{const bt=await It.patients.getAll();L(bt||[])}catch(bt){console.error("Error fetching patients:",bt),L([])}},ge=async()=>{try{const bt=await It.staff.getDoctors();T(bt||[])}catch(bt){console.error("Error fetching all doctors:",bt),T([])}},Ce=async(bt,gt,Jt)=>{if(!bt||!gt||isNaN(Jt)||Jt<=0){B([]);return}Z(!0);try{const we=`${Rt(bt,"yyyy-MM-dd")}T${gt}:00`,xe=bL(we,"yyyy-MM-dd'T'HH:mm:ss",new Date);if(!Bp(xe))throw new Error(`Invalid combined date/time string: ${we}`);const Se=new Date(xe.getTime()+Jt*6e4),Ae=wL(xe),Ne=wL(Se),We=await It.staff.getAvailableDoctors(Ae,Ne);B(We||[]),E&&!We.some(ft=>ft.id===E.id)&&C(null)}catch(ce){console.error("Error fetching available doctors:",ce),J({variant:"destructive",title:"Error Fetching Doctors",description:"Could not fetch available doctors for the selected slot."}),B([])}finally{Z(!1)}};S.useEffect(()=>{wt(),_e(),ge();const bt=Y4("appointments",gt=>{console.log("Appointment change detected:",gt),wt()});return()=>{bt.unsubscribe()}},[r,a]),S.useEffect(()=>{const bt=e.get("date"),gt=e.get("patientId"),Jt=e.get("treatmentId"),ce=e.get("description");let we=null;if(bt){const xe=Wr(bt);Bp(xe)?(we=xe,n(we)):(console.warn("Invalid date received from query params:",bt),J({title:"Invalid Date",description:"The date from the treatment plan was invalid.",variant:"destructive"}))}gt&&we?(async()=>{try{const Se=await It.patients.getById(gt);Se?(N(Se),Ee(Ae=>({...Ae,type:"Scheduled Visit",reason_for_visit:ce||"",treatment_id:Jt||null})),U(we),g("appointment-details"),u(!0),V(Jt),t({},{replace:!0})):(J({title:"Patient Not Found",description:"Could not find the patient specified by the treatment plan.",variant:"destructive"}),V(null))}catch(Se){console.error("Error fetching patient from redirect:",Se),J({title:"Error",description:"Could not fetch patient details from the treatment plan.",variant:"destructive"}),V(null)}})():(bt||gt||Jt||ce)&&(console.log("Partial booking parameters received, not auto-opening modal.",{dateStr:bt,patientId:gt,treatmentId:Jt}),V(null))},[e]),S.useEffect(()=>{if(c&&w==="appointment-details"){const bt=parseInt(te.duration);let gt=null,Jt="";if(s)gt=s.date,Jt=s.time;else if(z&&Y){gt=z;const ce=Y.split(":");if(ce.length===2){let we=parseInt(ce[0],10),xe=parseInt(ce[1],10);if(!isNaN(we)&&!isNaN(xe)&&we>=1&&we<=12&&xe>=0&&xe<=59)D==="PM"&&we<12?we+=12:D==="AM"&&we===12&&(we=0),Jt=`${String(we).padStart(2,"0")}:${String(xe).padStart(2,"0")}`;else{B([]);return}}else{B([]);return}}gt&&Jt&&!isNaN(bt)&&bt>0?Ce(gt,Jt,bt):B([])}},[c,w,s,z,Y,D,te.duration]),S.useEffect(()=>{d?(async()=>{if(h&&h.treatment_id){St(!0),ve(null),ht(null);try{const gt=await It.patients.getTreatmentVisitById(h.treatment_id);if(gt)if(ve(gt),gt.treatment_plan_id){const Jt=await It.patients.getTreatmentPlanDetails(gt.treatment_plan_id);Jt&&Jt.data?ht(Jt.data.title||"Unnamed Plan"):(console.warn("Could not fetch plan details for plan ID:",gt.treatment_plan_id),ht("Plan details unavailable"))}else ht("Plan ID missing in visit");else console.warn("Could not fetch treatment visit for ID:",h.treatment_id)}catch(gt){console.error("Error fetching treatment details for appointment:",gt),J({title:"Error",description:"Could not load related treatment details for this appointment.",variant:"destructive"})}finally{St(!1)}}else ve(null),ht(null),St(!1)})():(ve(null),ht(null),St(!1))},[h,d]);const Je=async bt=>{if(b(bt),bt.length>2)try{const gt=await It.patients.search(bt);L(gt||[])}catch(gt){console.error("Error searching patients:",gt),L([])}else bt.length===0&&_e()},Qe=async bt=>{console.log("handleBookAppointment called. selectedDoctor:",E),fe(!0);try{if(!_||!E){console.error("Booking validation failed: Missing patient or doctor",{selectedPatient:_,selectedDoctor:E}),J({variant:"destructive",title:"Missing Information",description:"Please select a patient and a doctor."}),fe(!1);return}let gt;const Jt=Dl(new Date);if(s){gt=new Date(s.date);const[Ne,We]=s.time.split(":").map(Number);gt.setHours(Ne,We,0,0)}else{if(!z||!Y){J({variant:"destructive",title:"Missing Information",description:"Please select a date and time (hh:mm)."}),fe(!1);return}const Ne=Y.split(":");if(Ne.length===2){let We=parseInt(Ne[0],10),ft=parseInt(Ne[1],10);if(!isNaN(We)&&!isNaN(ft)&&We>=1&&We<=12&&ft>=0&&ft<=59){if(D==="PM"&&We<12?We+=12:D==="AM"&&We===12&&(We=0),gt=new Date(z),gt.setHours(We,ft,0,0),!Bp(gt)){J({variant:"destructive",title:"Invalid Date/Time",description:"The constructed date/time is invalid."}),fe(!1);return}}else{J({variant:"destructive",title:"Invalid Time",description:"Please enter a valid time in hh:mm format (01-12 for hours, 00-59 for minutes)."}),fe(!1);return}}else{J({variant:"destructive",title:"Invalid Time Format",description:"Please use hh:mm format for time."}),fe(!1);return}}const ce=new Date;if(ah(Dl(gt),Jt)){J({variant:"destructive",title:"Booking Restricted",description:"Cannot book appointments for past dates."}),fe(!1);return}if(Op(gt)&&ah(gt,ce)){J({variant:"destructive",title:"Booking Restricted",description:"Cannot book appointments for past times on the current day."}),fe(!1);return}const we=parseInt(bt.duration);if(isNaN(we)||we<=0){J({variant:"destructive",title:"Invalid Duration",description:"Invalid appointment duration selected."}),fe(!1);return}const xe=new Date(gt.getTime()+we*6e4),Se={patient_id:_.id,staff_id:E.id,title:bt.treatment_id?"Scheduled Visit":bt.type,start_time:gt.toISOString(),end_time:xe.toISOString(),type:bt.treatment_id?"Scheduled Visit":bt.type,reason_for_visit:bt.reason_for_visit,notes:bt.notes,status:"scheduled",treatment_id:bt.treatment_id||ue||null},Ae=await It.appointments.create(Se);if(Ae!=null&&Ae.id&&Ae.start_time&&Ae.patient_id){const Ne=Ae.id,We=Ae.patient_id,ft=Wr(Ae.start_time);try{await It.communications.schedule({patientId:We,appointmentId:Ne,type:"appointment_reminder",channel:"app",scheduledFor:new Date().toISOString(),customMessage:`Your appointment for ${bt.type==="Scheduled Visit"?bt.reason_for_visit:bt.type} with Dr. ${E==null?void 0:E.first_name} ${E==null?void 0:E.last_name} on ${Rt(ft,"PPP 'at' p")} is confirmed.`})}catch(Ze){console.error("Error scheduling immediate app confirmation:",Ze)}if(_!=null&&_.phone){const Ze=Sx(ft,24);if(ah(new Date,Ze))try{await It.communications.schedule({patientId:We,appointmentId:Ne,type:"appointment_reminder",channel:"sms",scheduledFor:Ze.toISOString(),customMessage:`Reminder: Your appointment for ${bt.type==="Scheduled Visit"?bt.reason_for_visit:bt.type} with Dr. ${E==null?void 0:E.first_name} ${E==null?void 0:E.last_name} is tomorrow at ${Rt(ft,"p")}. Call us if you need to reschedule.`})}catch(Ft){console.error("Error scheduling SMS reminder:",Ft)}}const rt={...Ae,patients:_?{id:_.id,first_name:_.first_name,last_name:_.last_name,email:_.email,phone:_.phone}:null,staff:E?{id:E.id,first_name:E.first_name,last_name:E.last_name,role:E.role,specialization:E.specialization}:null},ot=!!ue;u(!1),m(rt),ot||f(!0),J({title:"Appointment Booked Successfully!",description:`Appointment for ${_==null?void 0:_.first_name} with Dr. ${E==null?void 0:E.first_name} has been scheduled.`}),Ee({type:"checkup",duration:"30",notes:"",reason_for_visit:"",treatment_id:null}),o(null),U(null),Q(""),K("AM"),g("patient-select"),V(null),await wt()}else console.error("Failed to create appointment or missing critical data from response.",Ae),J({variant:"destructive",title:"Booking Failed",description:"Could not create the appointment. Please try again."})}catch(gt){console.error("Error booking appointment:",gt),J({variant:"destructive",title:"Booking Error",description:`An unexpected error occurred: ${gt instanceof Error?gt.message:"Unknown error"}. Please try again.`})}finally{fe(!1)}},Xe=(bt,gt)=>{bt.stopPropagation(),m({...gt,notes:gt.notes||"",type:gt.type||"checkup"}),f(!0)},Ke=async()=>{if(!h||!h.id)return;const bt=h.id;try{await It.appointments.cancel(bt);try{await It.communications.cancelByAppointment(bt),console.log(`Cancellation request sent for communications related to appointment ${bt}`)}catch(gt){console.error(`Failed to cancel communications for appointment ${bt}:`,gt),J({variant:"destructive",title:"Communication Cancellation Failed",description:"Could not cancel scheduled reminders. Please check manually."})}f(!1),await wt(),J({title:"Appointment Cancelled",description:"The appointment and any scheduled reminders have been cancelled."})}catch(gt){console.error("Error cancelling appointment:",gt),J({variant:"destructive",title:"Cancellation Failed",description:`Could not cancel appointment: ${gt instanceof Error?gt.message:"Unknown error"}`})}},At=async bt=>{try{if(!h||!h.id)return;const gt={title:bt.type,type:bt.type,notes:bt.notes};await It.appointments.update(h.id,gt),f(!1),await wt()}catch(gt){console.error("Error updating appointment:",gt),alert(`Failed to update appointment: ${gt instanceof Error?gt.message:"Unknown error"}`)}},Nt=(bt,gt)=>{const Jt=new Date(bt),[ce,we]=gt.split(":").map(Number);Jt.setHours(ce,we,0,0);const xe=new Date(Jt);return xe.setHours(ce+1,we,0,0),Array.isArray(O)?O.filter(Ae=>{if(!Ae||!Ae.start_time||!Ae.end_time)return!1;try{const Ne=Wr(Ae.start_time),We=Wr(Ae.end_time);return!Bp(Ne)||!Bp(We)?(console.warn("Invalid date found in appointment, skipping:",Ae),!1):Ne<xe&&We>Jt}catch(Ne){return console.error("Error parsing appointment dates:",Ae,Ne),!1}}):[]},vt=bt=>{const gt=Dl(bt),Jt=Qv(bt);return Array.isArray(O)?O.filter(ce=>{if(!ce||!ce.start_time)return!1;try{const we=Wr(ce.start_time);return Bp(we)?we>=gt&&we<=Jt:(console.warn("Invalid start date found in appointment, skipping:",ce),!1)}catch(we){return console.error("Error parsing appointment start date:",ce,we),!1}}):[]},Tr=async bt=>{if(!bt){console.error("PatientForm onSuccess called without a patient ID."),g("patient-select");return}try{const gt=await It.patients.getById(bt);if(!gt)throw new Error("Failed to fetch newly created patient details.");N(gt),g("appointment-details")}catch(gt){console.error("Error after creating patient:",gt),alert(`Patient created, but failed to fetch details: ${gt instanceof Error?gt.message:"Unknown error"}. Please select the patient manually.`),g("patient-select")}},cr=()=>{g("patient-select")},Nn=()=>n(y1e(r)),ct=()=>n(b1(r,1)),Dt=()=>n(Ua(r,-1)),Vr=()=>n(Ua(r,1)),gr=()=>n(D6(r,1)),Kr=()=>n(pl(r,1)),fr=()=>{const bt=bL(re,"dd/MM/yyyy",new Date);Bp(bt)?(n(bt),W("")):J({variant:"destructive",title:"Invalid Date Format",description:"Please enter date as DD/MM/YYYY."})},Er=(bt,gt)=>{const Jt=new Date,ce=Dl(Jt),we=Dl(bt);if(ah(we,ce)){J({variant:"destructive",title:"Booking Restricted",description:"Cannot book appointments for past dates."});return}if(Op(bt)){const[Se,Ae]=gt.split(":").map(Number),Ne=new Date(bt);if(Ne.setHours(Se,Ae,0,0),ah(Ne,Jt)){J({variant:"destructive",title:"Booking Restricted",description:"Cannot book appointments for past times on the current day."});return}}o({date:bt,time:gt}),g("patient-select"),N(null),C(null),Ee({type:"checkup",duration:"30",notes:"",reason_for_visit:"",treatment_id:null}),u(!0);const xe=parseInt(te.duration);Ce(bt,gt,xe)},hn=()=>x("div",{className:"space-y-4",children:[x("div",{className:"flex gap-2",children:[l(dt,{placeholder:"Search patients by name, email, or phone...",value:y,onChange:bt=>Je(bt.target.value)}),x(Me,{onClick:()=>{g("new-patient"),C(null)},children:[l(Qu,{className:"h-4 w-4 mr-2"}),"New Patient"]})]}),l("div",{className:"h-[300px] overflow-y-auto space-y-2",children:Array.isArray(M)&&M.map(bt=>l(Me,{variant:"outline",className:"w-full justify-start",onClick:()=>{N(bt),g("appointment-details")},children:x("div",{className:"flex items-center",children:[l(yi,{className:"h-4 w-4 mr-2"}),x("div",{className:"text-left",children:[l("p",{className:"font-medium",children:`${bt.first_name} ${bt.last_name}`}),l("p",{className:"text-sm text-muted-foreground",children:bt.phone||"No phone"})]})]})},bt.id))})]}),Mr=()=>{const bt=!!te.treatment_id;return x("div",{className:"space-y-4",children:[(!s||z)&&x("div",{className:"grid grid-cols-2 gap-4",children:[x("div",{className:"space-y-2",children:[l(tr,{htmlFor:"manual-date",children:"Date"}),l(dt,{id:"manual-date",type:"date",value:z?Rt(z,"yyyy-MM-dd"):"",onChange:gt=>U(gt.target.value?Wr(gt.target.value):null),disabled:!!s&&!bt})]}),x("div",{className:"space-y-2",children:[l(tr,{htmlFor:"manual-time-input",children:"Time"}),x("div",{className:`flex items-stretch border rounded-md overflow-hidden transition-all focus-within:ring-1 focus-within:ring-ring ${Y?"border-input":"border-red-500"}`,children:[l(dt,{id:"manual-time-input",type:"text",value:Y,onChange:gt=>{let Jt=gt.target.value.replace(/[^0-9]/g,"");Y.length>Jt.length&&Y.endsWith(":")&&(Jt=Jt.slice(0,-1)),Jt.length>2&&!Jt.includes(":")&&(Jt=Jt.slice(0,2)+":"+Jt.slice(2)),Q(Jt.slice(0,5))},placeholder:"hh:mm",className:"border-none focus:ring-0 outline-none flex-grow p-2 min-w-[70px] text-sm",required:!0}),x(Ur,{value:D,onValueChange:gt=>K(gt),children:[l(jr,{className:"border-l border-input focus:ring-0 outline-none h-full bg-transparent px-3 text-sm rounded-l-none","aria-label":"Select AM or PM",children:l(qr,{})}),x($r,{children:[l(mt,{value:"AM",children:"AM"}),l(mt,{value:"PM",children:"PM"})]})]})]}),l("p",{className:"text-xs text-muted-foreground pt-1",children:"Time required for the appointment."})]})]}),x("div",{className:"space-y-2",children:[l(tr,{children:"Select Doctor"}),x(Ur,{value:(E==null?void 0:E.id)||"",onValueChange:gt=>{const Jt=I.find(ce=>ce.id===gt);C(Jt||null)},disabled:G,children:[l(jr,{children:l(qr,{placeholder:G?"Loading doctors...":"Choose an available doctor"})}),x($r,{children:[!G&&I.length===0&&l(mt,{value:"no-doctors",disabled:!0,children:"No doctors available for this slot"}),I.map(gt=>x(mt,{value:gt.id,children:["Dr. ",gt.first_name," ",gt.last_name," ",gt.specialization&&`(${gt.specialization})`]},gt.id))]})]})]}),_&&x("div",{className:"flex items-center space-x-4 p-4 bg-muted rounded-lg",children:[l(yi,{className:"h-5 w-5 text-muted-foreground"}),x("div",{children:[l("p",{className:"font-medium",children:`${_.first_name} ${_.last_name}`}),l("p",{className:"text-sm text-muted-foreground",children:_.phone||"No phone"})]})]}),x("div",{className:"space-y-2",children:[l(tr,{children:"Appointment Type"}),x(Ur,{value:bt?"Scheduled Visit":te.type||"",onValueChange:gt=>{bt||Ee({...te,type:gt})},disabled:bt,children:[l(jr,{children:l(qr,{placeholder:"Select type"})}),l($r,{children:bt?l(mt,{value:"Scheduled Visit",children:"Scheduled Visit"}):x(Nr,{children:[l(mt,{value:"checkup",children:"Checkup"}),l(mt,{value:"cleaning",children:"Cleaning"}),l(mt,{value:"filling",children:"Filling"}),l(mt,{value:"root-canal",children:"Root Canal"}),te.type&&!["checkup","cleaning","filling","root-canal","Scheduled Visit"].includes(te.type)&&l(mt,{value:te.type,children:te.type})]})})]})]}),te.reason_for_visit&&x("div",{className:"space-y-2",children:[l(tr,{children:"Reason for Visit"}),l("p",{className:"text-sm p-3 bg-muted rounded-md whitespace-pre-wrap border",children:te.reason_for_visit})]}),x("div",{className:"space-y-2",children:[l(tr,{children:"Duration"}),x(Ur,{value:te.duration,onValueChange:gt=>{Ee({...te,duration:gt});const Jt=parseInt(gt);let ce=null,we="";s&&!bt?(ce=s.date,we=s.time):z&&Y&&(ce=z,we=Y),ce&&we&&!isNaN(Jt)&&Ce(ce,we,Jt)},children:[l(jr,{children:l(qr,{placeholder:"Select duration"})}),x($r,{children:[l(mt,{value:"30",children:"30 minutes"}),l(mt,{value:"60",children:"1 hour"}),l(mt,{value:"90",children:"1.5 hours"}),l(mt,{value:"120",children:"2 hours"})]})]})]}),x("div",{className:"space-y-2",children:[l(tr,{children:"Notes"}),l(un,{value:te.notes,onChange:gt=>Ee({...te,notes:gt.target.value}),placeholder:"Add any notes about the appointment..."})]}),x(hs,{children:[l(Me,{variant:"outline",onClick:()=>g("patient-select"),disabled:se,children:"Back"}),l(Me,{onClick:()=>Qe(te),disabled:se,children:se?x(Nr,{children:[l(Fn,{className:"mr-2 h-4 w-4 animate-spin"})," Booking..."]}):"Book Appointment"})]})]})},hr=()=>a==="day"?la():a==="week"?Fi():a==="month"?Wa():null,Zr=bt=>bt==="cancelled"?oe:ie,Fi=()=>{const bt=co(r,{weekStartsOn:1}),gt=M0(r,{weekStartsOn:1}),Jt=G2({start:bt,end:gt}),ce=new Date;return x(l5,{delayDuration:100,children:[" ",x(or,{children:[x("div",{className:"grid grid-cols-8 border-b",children:[l("div",{className:"p-4 font-medium text-muted-foreground",children:"Time"}),Jt.map(we=>x("div",{className:`p-4 text-center border-l ${Op(we)?"bg-blue-50":""}`,children:[l("div",{className:"font-medium",children:Rt(we,"EEE")}),l("div",{className:"text-sm text-muted-foreground",children:Rt(we,"d")})]},we.toISOString()))]}),l("div",{children:Fe.map(we=>x("div",{className:"grid grid-cols-8 border-b last:border-0",children:[l("div",{className:"p-4 text-sm text-right text-muted-foreground",children:we}),Jt.map(xe=>{const Se=Nt(xe,we);let Ae=!1;if(Op(xe)){const[Ne,We]=we.split(":").map(Number),ft=new Date(xe);ft.setHours(Ne,We,0,0),ah(ft,ce)&&(Ae=!0)}return l("div",{onClick:()=>Er(xe,we),className:`border-l p-1 relative transition-colors overflow-hidden ${Ae?"bg-muted/30 cursor-not-allowed opacity-70":"hover:bg-muted/50 cursor-pointer"}`,style:{height:`${ne}px`},children:x("div",{className:"flex flex-wrap gap-2 h-full items-start content-start p-1.5",children:[" ",Se.map(Ne=>{var We,ft,rt,ot;return x(c5,{children:[l(u5,{asChild:!0,children:l("div",{className:`w-7 h-7 rounded-md flex items-center justify-center cursor-pointer ring-2 transition-all ${Zr(Ne.status)} ${Ne.status==="cancelled"?"ring-canceled-ring animate-shake":"ring-booked-ring animate-pulse hover:ring-offset-1"}`,onClick:Ze=>Xe(Ze,Ne),children:Ne.status==="cancelled"?l(u3,{className:"h-4 w-4 text-canceled-icon"}):l(c3,{className:"h-4 w-4 text-booked-icon"})})}),x(Q2,{side:"top",align:"center",className:"bg-background border shadow-lg rounded-lg p-3 text-sm w-60",children:[x("div",{className:"flex items-center mb-2",children:[l(yi,{className:"h-5 w-5 mr-2 text-muted-foreground flex-shrink-0"})," ",x("span",{className:"font-semibold",children:[(We=Ne.patients)==null?void 0:We.first_name," ",(ft=Ne.patients)==null?void 0:ft.last_name]})]}),x("p",{className:"text-muted-foreground text-xs mb-1",children:["Dr. ",(rt=Ne.staff)==null?void 0:rt.first_name," ",(ot=Ne.staff)==null?void 0:ot.last_name]}),x("p",{className:"text-muted-foreground text-xs mb-1",children:[l(Us,{className:"inline h-3 w-3 mr-1"}),Ne.start_time?Rt(Wr(Ne.start_time),"h:mm a"):"No time"," - ",Ne.end_time?Rt(Wr(Ne.end_time),"h:mm a"):""]}),x("p",{className:"text-muted-foreground text-xs",children:[l(f3,{className:"inline h-3 w-3 mr-1"}),Ne.type]}),Ne.status==="cancelled"&&l("p",{className:"text-red-600 text-xs font-semibold mt-1",children:"(Cancelled)"})]})]},Ne.id)})]})},xe.toISOString())})]},we))})]})]})},la=()=>{const bt=new Date;return x(l5,{delayDuration:100,children:[" ",x(or,{children:[x("div",{className:"grid grid-cols-2 border-b",children:[l("div",{className:"p-4 font-medium text-muted-foreground",children:"Time"}),x("div",{className:`p-4 text-center border-l ${Op(r)?"bg-blue-50":""}`,children:[l("div",{className:"font-medium",children:Rt(r,"EEEE")}),l("div",{className:"text-sm text-muted-foreground",children:Rt(r,"MMMM d, yyyy")})]})]}),l("div",{children:Fe.map(gt=>{const Jt=Nt(r,gt);let ce=!1;if(Op(r)){const[we,xe]=gt.split(":").map(Number),Se=new Date(r);Se.setHours(we,xe,0,0),ah(Se,bt)&&(ce=!0)}return x("div",{className:"grid grid-cols-2 border-b last:border-0",children:[l("div",{className:"p-4 text-sm text-right text-muted-foreground",children:gt}),l("div",{onClick:()=>Er(r,gt),className:`border-l relative transition-colors overflow-hidden ${ce?"bg-muted/30 cursor-not-allowed opacity-70":"hover:bg-muted/50 cursor-pointer"}`,style:{height:`${ne}px`},children:x("div",{className:"flex flex-wrap gap-2 h-full items-start content-start p-1.5",children:[" ",Jt.map(we=>{var xe,Se,Ae,Ne;return x(c5,{children:[l(u5,{asChild:!0,children:l("div",{className:`w-7 h-7 rounded-md flex items-center justify-center cursor-pointer ring-2 transition-all ${Zr(we.status)} ${we.status==="cancelled"?"ring-canceled-ring animate-shake":"ring-booked-ring animate-pulse hover:ring-offset-1"}`,onClick:We=>Xe(We,we),children:we.status==="cancelled"?l(u3,{className:"h-4 w-4 text-canceled-icon"}):l(c3,{className:"h-4 w-4 text-booked-icon"})})}),x(Q2,{side:"top",align:"center",className:"bg-background border shadow-lg rounded-lg p-3 text-sm w-60",children:[x("div",{className:"flex items-center mb-2",children:[l(yi,{className:"h-5 w-5 mr-2 text-muted-foreground flex-shrink-0"})," ",x("span",{className:"font-semibold",children:[(xe=we.patients)==null?void 0:xe.first_name," ",(Se=we.patients)==null?void 0:Se.last_name]})]}),x("p",{className:"text-muted-foreground text-xs mb-1",children:["Dr. ",(Ae=we.staff)==null?void 0:Ae.first_name," ",(Ne=we.staff)==null?void 0:Ne.last_name]}),x("p",{className:"text-muted-foreground text-xs mb-1",children:[l(Us,{className:"inline h-3 w-3 mr-1"}),we.start_time?Rt(Wr(we.start_time),"h:mm a"):"No time"," - ",we.end_time?Rt(Wr(we.end_time),"h:mm a"):""]}),x("p",{className:"text-muted-foreground text-xs",children:[l(f3,{className:"inline h-3 w-3 mr-1"}),we.type]}),we.status==="cancelled"&&l("p",{className:"text-red-600 text-xs font-semibold mt-1",children:"(Cancelled)"})]})]},we.id)})]})})]},gt)})})]})]})},Wa=()=>{const bt=zs(r),gt=hm(r),Jt=co(bt,{weekStartsOn:1}),ce=M0(gt,{weekStartsOn:1}),we=G2({start:Jt,end:ce}),xe=[];let Se=[];return we.forEach(Ae=>{Se.push(Ae),Se.length===7&&(xe.push(Se),Se=[])}),Se.length>0&&xe.push(Se),x(or,{children:[x(l5,{delayDuration:300,children:[" ",l("div",{className:"grid grid-cols-7 border-b",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map(Ae=>l("div",{className:"p-2 text-center font-medium",children:Ae},Ae))}),l("div",{children:xe.map((Ae,Ne)=>l("div",{className:"grid grid-cols-7",children:Ae.map(We=>{const ft=vt(We),rt=z4(We,r),ot=ft.filter(Ze=>Ze.status!=="cancelled");return x("div",{onClick:()=>{n(We),i("day")},className:`border p-2 min-h-[120px] relative ${rt?Op(We)?"bg-blue-50":"":"bg-gray-100 text-gray-400"} hover:bg-muted/50 cursor-pointer transition-colors`,children:[l("div",{className:`text-right font-medium ${Op(We)?"text-blue-600":""}`,children:Rt(We,"d")}),x("div",{className:"mt-1 flex flex-wrap gap-1 overflow-hidden max-h-[80px]",children:[ft.slice(0,3).map(Ze=>{var Ft,Zt,lr,Wt;return x(c5,{children:[l(u5,{asChild:!0,children:l("div",{className:`w-5 h-5 rounded flex items-center justify-center cursor-pointer ring-1 transition-all ${Zr(Ze.status)} ${Ze.status==="cancelled"?"ring-canceled-ring animate-shake":"ring-booked-ring animate-pulse hover:ring-offset-1"}`,onClick:qt=>{qt.stopPropagation(),Xe(qt,Ze)},children:Ze.status==="cancelled"?l(u3,{className:"h-3 w-3 text-canceled-icon"}):l(c3,{className:"h-3 w-3 text-booked-icon"})})}),x(Q2,{side:"top",align:"start",className:"bg-gradient-to-b from-white to-gray-50 border border-gray-200 shadow-xl rounded-lg p-4 text-sm w-64",children:[x("div",{className:"flex items-center mb-2",children:[l(yi,{className:"h-5 w-5 mr-2 text-muted-foreground"})," ",x("span",{className:"font-bold text-gray-800",children:[(Ft=Ze.patients)==null?void 0:Ft.first_name," ",(Zt=Ze.patients)==null?void 0:Zt.last_name]})," "]}),x("p",{className:"text-gray-600 text-xs mb-1 font-medium",children:["Dr. ",(lr=Ze.staff)==null?void 0:lr.first_name," ",(Wt=Ze.staff)==null?void 0:Wt.last_name]})," ",x("p",{className:"text-muted-foreground text-xs mb-1",children:[l(Us,{className:"inline h-3 w-3 mr-1"}),Ze.start_time?Rt(Wr(Ze.start_time),"h:mm a"):"No time"," - ",Ze.end_time?Rt(Wr(Ze.end_time),"h:mm a"):""]}),x("p",{className:"text-muted-foreground text-xs",children:[l(f3,{className:"inline h-3 w-3 mr-1"}),Ze.type]}),Ze.status==="cancelled"&&l("p",{className:"text-red-600 text-xs font-semibold mt-1",children:"(Cancelled)"})]})]},Ze.id)}),ft.length>3&&x("div",{className:"text-xs text-muted-foreground text-center",children:["+",ot.length-3," more"]})]})]},We.toISOString())})},Ne))})]})," "]})};return x("div",{className:"space-y-6",children:[l(Fa,{heading:"Appointments",text:"Manage and schedule patient appointments",children:x("div",{className:"flex items-center gap-4",children:[l(jm,{value:a,onValueChange:bt=>i(bt),className:"w-fit",children:x(Rh,{children:[l(Oa,{value:"month",children:"Month"}),l(Oa,{value:"week",children:"Week"}),l(Oa,{value:"day",children:"Day"})]})}),(()=>{let bt="",gt,Jt;if(a==="day")bt=Rt(r,"MMMM d, yyyy"),gt=Dt,Jt=Vr;else if(a==="week"){const ce=co(r,{weekStartsOn:1}),we=M0(r,{weekStartsOn:1});bt=`${Rt(ce,"MMM d")} - ${Rt(we,"MMM d, yyyy")}`,gt=Nn,Jt=ct}else a==="month"&&(bt=Rt(r,"MMMM yyyy"),gt=gr,Jt=Kr);return x("div",{className:"flex items-center gap-2",children:[l(Me,{variant:"outline",size:"icon",onClick:gt,children:l(w4,{className:"h-4 w-4"})}),l("span",{className:"text-sm font-medium",children:bt}),l(Me,{variant:"outline",size:"icon",onClick:Jt,children:l(om,{className:"h-4 w-4"})})]})})(),x("div",{className:"flex gap-2 ml-auto",children:[l(dt,{className:"w-32",placeholder:"DD/MM/YYYY",value:re,onChange:bt=>W(bt.target.value)}),l(Me,{variant:"outline",onClick:fr,children:"Go to Date"})]}),x(Me,{onClick:()=>{o(null),g("patient-select"),u(!0),B([]),C(null)},children:[l(Qu,{className:"h-4 w-4 mr-2"})," New Appointment"]})]})}),hr(),l(Hn,{open:c,onOpenChange:bt=>{u(bt),bt||(o(null),U(null),Q(""),K("AM"),N(null),C(null),B([]),b(""),g("patient-select"),Ee({type:"checkup",duration:"30",notes:"",reason_for_visit:"",treatment_id:null}),V(null))},children:x(qn,{className:"overflow-y-auto",children:[x(Jn,{children:[l(Zn,{children:w==="patient-select"?"Select Patient":w==="new-patient"?"New Patient Registration":ue?"Book Treatment Visit":"Appointment Details"}),s&&w!=="new-patient"&&!ue&&x(ds,{children:[Rt(s.date,"MMMM d, yyyy")," at ",s.time]}),z&&w!=="new-patient"&&ue&&x(ds,{children:["For Treatment Visit: ",Rt(z,"MMMM d, yyyy"),Y&&` at ${Y} ${D}`]}),w==="new-patient"&&l(ds,{children:"Enter the new patient's details below."})]}),x("div",{className:"max-h-[75vh] overflow-y-auto p-4",children:[w==="patient-select"&&hn(),w==="new-patient"&&l(CR,{mode:"simplified",onSuccess:Tr,onCancel:cr}),w==="appointment-details"&&Mr()]})]})}),l(Hn,{open:d,onOpenChange:f,children:x(qn,{children:[x(Jn,{children:[l(Zn,{children:"Appointment Details"}),h&&h.start_time&&x(ds,{children:[Rt(Wr(h.start_time),"MMMM d, yyyy")," at"," ",Rt(Wr(h.start_time),"h:mm a")]})]}),h&&x("div",{className:"space-y-4",children:[x("div",{className:"flex items-center space-x-4 p-4 bg-muted rounded-lg",children:[l(yi,{className:"h-5 w-5 text-muted-foreground"}),x("div",{children:[x("p",{className:"font-medium",children:[(yt=h.patients)==null?void 0:yt.first_name," ",(Fr=h.patients)==null?void 0:Fr.last_name]}),x("div",{className:"flex items-center text-sm text-muted-foreground",children:[l(A5,{className:"h-3.5 w-3.5 mr-1"}),((ta=h.patients)==null?void 0:ta.phone)||"No phone number"]})]})]}),h.staff&&x("div",{className:"flex items-center space-x-4 p-4 bg-muted rounded-lg",children:[l(_ce,{className:"h-5 w-5 text-muted-foreground"}),x("div",{children:[x("p",{className:"font-medium",children:["Dr. ",h.staff.first_name," ",h.staff.last_name]}),h.staff.specialization&&l("p",{className:"text-sm text-muted-foreground",children:h.staff.specialization})]})]}),x("div",{className:"space-y-2",children:[l(tr,{children:"Status"}),l("div",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${h.status==="completed"?"bg-green-100 text-green-800":h.status==="cancelled"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:h.status})]}),x("div",{className:"space-y-2",children:[l(tr,{children:"Type"}),x(Ur,{value:h.treatment_id?"Scheduled Visit":h.type||"",onValueChange:bt=>{!h.treatment_id&&(h.status==="scheduled"||h.status==="confirmed")&&m({...h,type:bt})},disabled:h.status!=="scheduled"&&h.status!=="confirmed"||!!h.treatment_id,children:[l(jr,{children:l(qr,{placeholder:"Select type"})}),l($r,{children:h.treatment_id?l(mt,{value:"Scheduled Visit",children:"Scheduled Visit"}):x(Nr,{children:[l(mt,{value:"checkup",children:"Checkup"}),l(mt,{value:"cleaning",children:"Cleaning"}),l(mt,{value:"filling",children:"Filling"}),l(mt,{value:"root-canal",children:"Root Canal"}),h.type&&!["checkup","cleaning","filling","root-canal","Scheduled Visit"].includes(h.type)&&l(mt,{value:h.type,children:h.type})]})})]})]}),h.reason_for_visit&&x("div",{className:"space-y-2",children:[l(tr,{children:"Reason for Visit"}),l("p",{className:"text-sm p-3 bg-muted rounded-md whitespace-pre-wrap border",children:h.reason_for_visit})]}),x("div",{className:"space-y-2",children:[l(tr,{children:"Notes"}),l(un,{value:h.notes||"",onChange:bt=>m({...h,notes:bt.target.value}),placeholder:"Add any notes about the appointment...",disabled:h.status!=="scheduled"&&h.status!=="confirmed"})]}),x(hs,{children:[(h.status==="scheduled"||h.status==="confirmed")&&x(Nr,{children:[l(Me,{variant:"destructive",onClick:Ke,children:"Cancel Appointment"}),l(Me,{onClick:()=>At({type:h.type,notes:h.notes||""}),children:"Update Appointment"})]}),h.status!=="scheduled"&&h.status!=="confirmed"&&l(Me,{variant:"outline",onClick:()=>f(!1),children:"Close"})]}),at&&x("div",{className:"p-4 text-center",children:[l(Fn,{className:"h-6 w-6 animate-spin mx-auto text-muted-foreground"}),l("p",{className:"text-sm text-muted-foreground mt-2",children:"Loading treatment details..."})]}),!at&&Pe&&x("div",{className:"border-t pt-4 mt-4",children:[l("h4",{className:"text-md font-semibold mb-2 text-primary",children:"Related Treatment Information"}),Ge&&l("div",{className:"mb-3 p-3 bg-blue-50 border border-blue-200 rounded-md",children:x("p",{className:"text-sm font-medium text-blue-700",children:["Part of Treatment Plan: ",l("span",{className:"font-bold",children:Ge})]})}),x("div",{className:"space-y-2 text-sm p-3 bg-slate-50 rounded-md",children:[x("div",{className:"flex justify-between",children:[l("span",{className:"text-muted-foreground",children:"Visit Number:"}),l("span",{className:"font-medium",children:Pe.visit_number||"N/A"})]}),x("div",{className:"flex justify-between",children:[l("span",{className:"text-muted-foreground",children:"Procedures:"}),l("span",{className:"font-medium text-right break-words max-w-[70%]",children:Pe.procedures||"N/A"})]}),Pe.estimated_duration&&x("div",{className:"flex justify-between",children:[l("span",{className:"text-muted-foreground",children:"Est. Duration:"}),l("span",{className:"font-medium",children:Pe.estimated_duration})]}),Pe.scheduled_date&&x("div",{className:"flex justify-between",children:[l("span",{className:"text-muted-foreground",children:"Originally Scheduled:"}),l("span",{className:"font-medium",children:Rt(Wr(Pe.scheduled_date),"MMM d, yyyy")})]})]})]})]})]})})]})}var PR="Progress",TR=100,[EIe,lQe]=ts(PR),[CIe,PIe]=EIe(PR),Sre=S.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:i=TIe,...s}=e;(a||a===0)&&!Uz(a)&&console.error(OIe(`${a}`,"Progress"));const o=Uz(a)?a:TR;n!==null&&!qz(n,o)&&console.error(DIe(`${n}`,"Progress"));const c=qz(n,o)?n:null,u=HS(c)?i(c,o):void 0;return l(CIe,{scope:r,value:c,max:o,children:l(xr.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":HS(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":kre(c,o),"data-value":c??void 0,"data-max":o,...s,ref:t})})});Sre.displayName=PR;var Nre="ProgressIndicator",Are=S.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=PIe(Nre,r);return l(xr.div,{"data-state":kre(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});Are.displayName=Nre;function TIe(e,t){return`${Math.round(e/t*100)}%`}function kre(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function HS(e){return typeof e=="number"}function Uz(e){return HS(e)&&!isNaN(e)&&e>0}function qz(e,t){return HS(e)&&!isNaN(e)&&e<=t&&e>=0}function OIe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${TR}\`.`}function DIe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${TR} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Ere=Sre,IIe=Are;const Cre=S.forwardRef(({className:e,value:t,...r},n)=>l(Ere,{ref:n,className:Lt("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:l(IIe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Cre.displayName=Ere.displayName;const RIe=e=>{if(!e)return"N/A";try{return new Date(e).toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})}catch{return e}},MIe=e=>e?e.replace(/_/g," ").replace(/\b\w/g,t=>t.toUpperCase()):"Record",FIe=e=>{switch(e.record_type){case"dental":return"Dental Record";case"examination":return"Consultation / Examination";case"procedure":return"Treatment / Procedure";case"prescription":return"Prescription";case"lab_result":return"Lab Result";case"note":return"Note";default:return MIe(e.record_type)}},LIe=(e,t)=>{if(!e||!Array.isArray(t))return e;const r=t.find(n=>n.id===e);return r?`${r.first_name} ${r.last_name}`:e},jIe=({record:e,details:t,doctors:r=[]})=>{var g,y;const n="bg-gradient-to-r from-blue-500 via-blue-400 to-blue-600 text-white";let a=Array.isArray(e.attachments)?e.attachments:[];a.length===0&&(Array.isArray(t.xray_images)&&(a=a.concat(t.xray_images.map(b=>({...b,type:"xray"})))),Array.isArray(t.clinical_photos)&&(a=a.concat(t.clinical_photos.map(b=>({...b,type:"photo"})))),Array.isArray(t.documents)&&(a=a.concat(t.documents.map(b=>({...b,type:"document"})))));const[i,s]=S.useState(!1),[o,c]=S.useState(null),[u,d]=S.useState([]),[f,h]=S.useState(0),m=(b,_=[],N=0)=>{c(b),d(_),h(N),s(!0)},w=()=>{s(!1),c(null),d([]),h(0)};return tt.useEffect(()=>{if(!i)return;const b=_=>{_.key==="Escape"&&w(),u.length>1&&(_.key==="ArrowRight"&&h(N=>(N+1)%u.length),_.key==="ArrowLeft"&&h(N=>(N-1+u.length)%u.length))};return window.addEventListener("keydown",b),()=>window.removeEventListener("keydown",b)},[i,u.length]),tt.useEffect(()=>{u.length&&f>=0&&c(u[f])},[f,u]),x("div",{className:"rounded-xl shadow-lg border overflow-hidden mb-4",children:[l("div",{className:`p-4 ${n}`,children:x("div",{className:"flex items-center gap-3",children:[l(S4,{className:"h-6 w-6"}),l("span",{className:"text-lg font-bold",children:e.displayType}),l("span",{className:"ml-auto text-sm opacity-80",children:(g=RIe(e.record_date))==null?void 0:g.split(", ").pop()})]})}),l("div",{className:"bg-white",children:x(jm,{defaultValue:"overview",className:"w-full",children:[x(Rh,{className:"flex w-full justify-between rounded-none border-b bg-gradient-to-r from-blue-100 to-blue-200",children:[x(Oa,{value:"overview",className:"flex items-center gap-1",children:[l(jl,{className:"h-4 w-4"})," Overview"]}),x(Oa,{value:"diagnosis",className:"flex items-center gap-1",children:[l(y1,{className:"h-4 w-4"})," Diagnosis"]}),x(Oa,{value:"treatment",className:"flex items-center gap-1",children:[l(Cce,{className:"h-4 w-4"})," Treatment"]}),x(Oa,{value:"prescriptions",className:"flex items-center gap-1",children:[l(Uce,{className:"h-4 w-4"})," Prescriptions"]}),x(Oa,{value:"lab",className:"flex items-center gap-1",children:[l(Oce,{className:"h-4 w-4"})," Lab Results"]}),x(Oa,{value:"attachments",className:"flex items-center gap-1",children:[l(U2,{className:"h-4 w-4"})," Attachments"]}),t.doctor&&x(Oa,{value:"doctor",className:"flex items-center gap-1",children:[l(uD,{className:"h-4 w-4"})," Doctor"]}),t.custom_notes&&x(Oa,{value:"custom_notes",className:"flex items-center gap-1",children:[l(y1,{className:"h-4 w-4"})," Custom Notes"]})]}),l(_a,{value:"overview",className:"p-4",children:x("div",{className:"space-y-2",children:[t.chief_complaint&&x("div",{children:[l("strong",{children:"Chief Complaint:"})," ",t.chief_complaint]}),t.vital_signs&&x("div",{children:[l("strong",{children:"Vital Signs:"})," BP: ",t.vital_signs.blood_pressure," | PR: ",t.vital_signs.pulse_rate]}),t.examination&&x("div",{children:[l("strong",{children:"Examination:"}),x("div",{className:"ml-4",children:[t.examination.extra_oral&&x("div",{children:[l("strong",{children:"Extra-oral:"})," ",t.examination.extra_oral]}),t.examination.intra_oral&&x("div",{children:[l("strong",{children:"Intra-oral:"})," ",t.examination.intra_oral]})]})]})]})}),l(_a,{value:"diagnosis",className:"p-4",children:t.diagnosis||t.code||t.notes?x("div",{className:"space-y-1",children:[t.code&&x("div",{children:[l("strong",{children:"Code:"})," ",t.code]}),t.notes&&x("div",{children:[l("strong",{children:"Notes:"})," ",t.notes]}),t.diagnosis&&typeof t.diagnosis=="object"&&Object.entries(t.diagnosis).map(([b,_])=>x("div",{children:[x("strong",{children:[b.replace(/_/g," ").replace(/\b\w/g,N=>N.toUpperCase()),":"]})," ",String(_)]},b)),Object.entries(t).filter(([b])=>b!=="diagnosis"&&(b.includes("diagnosis")||b==="code"||b==="notes")).map(([b,_])=>x("div",{children:[x("strong",{children:[b.replace(/_/g," ").replace(/\b\w/g,N=>N.toUpperCase()),":"]})," ",String(_)]},b))]}):l("div",{className:"text-muted-foreground",children:"No diagnosis recorded."})}),l(_a,{value:"treatment",className:"p-4",children:t.treatment?x("div",{children:[l("strong",{children:"Phase:"})," ",t.treatment.phase,l("br",{}),l("strong",{children:"Procedures:"}),l("ul",{className:"ml-4 list-disc",children:t.treatment.procedures&&t.treatment.procedures.map((b,_)=>x("li",{children:[b.title||b.code,": ",b.description," ",b.tooth_number&&`(Tooth ${b.tooth_number})`," ",b.estimated_cost&&`- Est. Cost: $${b.estimated_cost}`]},_))})]}):l("div",{className:"text-muted-foreground",children:"No treatment recorded."})}),l(_a,{value:"prescriptions",className:"p-4",children:t.prescriptions&&t.prescriptions.length>0?l("ul",{className:"ml-4 list-disc",children:t.prescriptions.map((b,_)=>x("li",{children:[b.medication," ",b.dosage," ",b.frequency&&`- ${b.frequency}`," ",b.duration&&`for ${b.duration}`," ",b.instructions&&`- Instructions: ${b.instructions}`]},_))}):l("div",{className:"text-muted-foreground",children:"No prescriptions recorded."})}),l(_a,{value:"lab",className:"p-4",children:t.lab_results&&t.lab_results.length>0?l("ul",{className:"ml-4 list-disc",children:t.lab_results.map((b,_)=>x("li",{children:[b.test_name,": ",b.result_value," ",b.units&&b.units," ",b.reference_range&&`(Ref: ${b.reference_range})`]},_))}):l("div",{className:"text-muted-foreground",children:"No lab results recorded."})}),x(_a,{value:"attachments",className:"p-4",children:[x("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.filter(b=>b.type==="xray").length>0&&x("div",{children:[x("h5",{className:"text-sm font-medium mb-1 flex items-center gap-1",children:[l(U2,{className:"h-4 w-4 text-blue-500"})," X-ray Images"]}),l("div",{className:"flex flex-wrap gap-2",children:a.filter(b=>b.type==="xray").map((b,_,N)=>l("img",{src:b.url,alt:b.name||`X-ray ${_+1}`,className:"rounded-xl border object-cover w-24 h-24 cursor-pointer hover:scale-110 transition-transform shadow-md",title:b.name,onClick:()=>m(b,N,_)},_))})]}),a.filter(b=>b.type==="photo").length>0&&x("div",{children:[x("h5",{className:"text-sm font-medium mb-1 flex items-center gap-1",children:[l(U2,{className:"h-4 w-4 text-blue-500"})," Clinical Photos"]}),l("div",{className:"flex flex-wrap gap-2",children:a.filter(b=>b.type==="photo").map((b,_,N)=>l("img",{src:b.url,alt:b.name||`Photo ${_+1}`,className:"rounded-xl border object-cover w-24 h-24 cursor-pointer hover:scale-110 transition-transform shadow-md",title:b.name,onClick:()=>m(b,N,_)},_))})]}),a.filter(b=>b.type==="document").length>0&&x("div",{className:"md:col-span-2",children:[x("h5",{className:"text-sm font-medium mb-1 flex items-center gap-1",children:[l(nG,{className:"h-4 w-4 text-blue-500"})," Documents"]}),l("div",{className:"space-y-2",children:a.filter(b=>b.type==="document").map((b,_,N)=>x("div",{className:"flex items-center justify-between p-2 border rounded-lg bg-white/70 hover:bg-blue-50 transition cursor-pointer shadow-sm backdrop-blur-md",onClick:()=>m(b,N,_),children:[l("span",{className:"text-sm truncate max-w-xs font-medium text-gray-900",title:b.name,children:b.name}),l(Me,{variant:"ghost",size:"sm",asChild:!0,children:l("span",{children:"View"})})]},_))})]})]}),l(Hn,{open:i,onOpenChange:s,children:x(qn,{className:"max-w-2xl bg-white/60 backdrop-blur-lg rounded-2xl shadow-2xl p-0 overflow-hidden flex flex-col items-center justify-center border border-blue-200 fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 animate-fade-in",style:{boxShadow:"0 8px 40px 0 rgba(30, 64, 175, 0.18)",minWidth:380},children:[l(Jn,{className:"w-full flex flex-row items-center justify-between px-6 pt-6 pb-2",children:l(Zn,{className:"text-xl font-extrabold text-gray-900 tracking-tight font-sans",children:(o==null?void 0:o.name)||((y=o==null?void 0:o.type)==null?void 0:y.toUpperCase())})}),x("div",{className:"flex-1 w-full flex items-center justify-center p-8",children:[o&&(o.type==="xray"||o.type==="photo")&&l("img",{src:o.url,alt:o.name,className:"max-h-[65vh] max-w-full rounded-xl border-2 border-blue-200 shadow-lg transition-all duration-300 bg-white/70",style:{objectFit:"contain",boxShadow:"0 4px 32px 0 rgba(30, 64, 175, 0.10)"}}),o&&o.type==="document"&&o.url&&o.url.endsWith(".pdf")&&l("iframe",{src:o.url,title:o.name,className:"w-[90vw] max-w-2xl h-[65vh] rounded-xl border-2 border-blue-200 bg-white/90 shadow-lg",style:{boxShadow:"0 4px 32px 0 rgba(30, 64, 175, 0.10)"}}),o&&o.type==="document"&&o.url&&!o.url.endsWith(".pdf")&&l("div",{className:"flex flex-col items-center justify-center w-full",children:x("p",{className:"text-gray-800 mb-4 text-lg font-semibold",children:["Preview not available.",l("br",{}),l("a",{href:o.url,target:"_blank",rel:"noopener noreferrer",className:"underline text-blue-600",children:"Download or View"})]})})]}),u.length>1&&x("div",{className:"absolute bottom-6 left-0 right-0 flex justify-center gap-4",children:[l("button",{className:"bg-white/70 hover:bg-blue-100 text-blue-700 rounded-full p-2 shadow-md transition border border-blue-200",onClick:()=>h((f-1+u.length)%u.length),"aria-label":"Previous",children:l("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:l("path",{d:"M15 18l-6-6 6-6"})})}),l("button",{className:"bg-white/70 hover:bg-blue-100 text-blue-700 rounded-full p-2 shadow-md transition border border-blue-200",onClick:()=>h((f+1)%u.length),"aria-label":"Next",children:l("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:l("path",{d:"M9 6l6 6-6 6"})})})]})]})})]}),l(_a,{value:"doctor",className:"p-4",children:t.doctor?x("div",{children:[l("strong",{children:"Doctor:"})," ",LIe(t.doctor,r)]}):l("div",{className:"text-muted-foreground",children:"No doctor recorded."})}),l(_a,{value:"custom_notes",className:"p-4",children:t.custom_notes?x("div",{children:[l("strong",{children:"Custom Notes:"})," ",t.custom_notes]}):l("div",{className:"text-muted-foreground",children:"No custom notes recorded."})})]})})]})};function Pre({medicalRecords:e=[],onAddMedicalRecord:t,doctors:r=[]}){const[n,a]=S.useState(""),[i,s]=S.useState(null),[o,c]=S.useState(!1),f=e.map(y=>{let b=null;try{typeof y.description=="string"&&(b=JSON.parse(y.description))}catch(_){console.warn(`Failed to parse description for record ${y.id}:`,y.description,_)}return{...y,displayType:FIe(y)}}).filter(y=>{var C;const b=((C=y.teeth)==null?void 0:C.map(O=>O.id).join(" "))||"",_=JSON.stringify({...y,description:"",teeth:""}).toLowerCase(),N=typeof y.description=="string"?y.description.toLowerCase():"",E=n.toLowerCase();return _.includes(E)||N.includes(E)||b.includes(E)}).reduce((y,b)=>{const _=b.record_date?new Date(b.record_date).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}):"Unknown Date";return y[_]||(y[_]=[]),y[_].unshift(b),y},{}),h=Object.keys(f).sort((y,b)=>y==="Unknown Date"?1:b==="Unknown Date"?-1:new Date(b).getTime()-new Date(y).getTime()),[m,w]=S.useState(new Set),g=y=>{w(b=>{const _=new Set(b);return _.has(y)?_.delete(y):_.add(y),_})};return x(or,{children:[x(wr,{className:"flex flex-row items-center justify-between",children:[l(_r,{children:"Medical Records History"}),x(Me,{onClick:t,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-lg px-5 py-2 text-base shadow-md transition-all duration-150 flex items-center gap-2",size:"lg",children:[l(Ch,{className:"h-5 w-5"}),"Add Record"]})]}),x(pr,{children:[l("div",{className:"flex justify-between items-center mb-4",children:l(dt,{type:"search",value:n,onChange:y=>a(y.target.value),placeholder:"Search records (type, details, teeth...)"})}),h.length>0?l("div",{className:"space-y-6",children:h.map(y=>{const b=f[y],_=m.has(y);return x("div",{children:[x("div",{className:"flex justify-between items-center mb-2 pb-2 border-b",children:[l("h3",{className:"text-lg font-medium",children:y}),l(Me,{variant:"ghost",size:"sm",onClick:()=>g(y),children:_?"Hide Details":`View Details (${b.length})`})]}),_&&l("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:b.map(N=>{let E={};try{typeof N.description=="string"&&(E=JSON.parse(N.description))}catch{}return l(jIe,{record:N,details:E,doctors:r},N.id)})})]},y)})}):x("p",{className:"text-sm text-muted-foreground",children:["No medical records found",n?" matching your search":"","."]})]})]})}const $Ie="/DentalCare-Pro/teethselectdiagram.svg",qi=({icon:e,label:t,value:r})=>r?x("div",{className:"flex items-start py-2",children:[l(e,{className:"h-5 w-5 text-muted-foreground mr-3 mt-1 flex-shrink-0"}),x("div",{children:[l("p",{className:"text-sm font-medium text-muted-foreground",children:t}),typeof r=="string"||typeof r=="number"?l("p",{className:"text-base",children:r}):l("div",{className:"text-base",children:r})]})]}):null,JP=e=>{if(!e)return"N/A";try{return new Date(e).toLocaleString()}catch{return e}},BIe=e=>{if(!e||typeof e!="object")return"No significant family history reported.";const t=e==null?void 0:e.conditions,r=e==null?void 0:e.other;let n="",a="";return Array.isArray(t)&&t.length>0&&(n=t.map(i=>i.replace(/_/g," ").replace(/\b\w/g,s=>s.toUpperCase())).join(", ")),r&&typeof r=="string"&&r.trim()!==""&&(a=`Other: ${r.trim()}`),n&&a?`${n}, ${a}`:n||a||"No significant family history reported."},UIe=e=>{if(!e||typeof e!="object")return"No lifestyle habits reported.";const t=[];Object.entries(e).forEach(([n,a])=>{if(a&&typeof a=="string"&&a.trim()!==""){const i=n.replace(/_/g," ").replace(/\b\w/g,s=>s.toUpperCase());t.push(`${i}: ${a.trim()}`)}});const r=t.length>0?t.join("; "):"No lifestyle habits reported.";return console.log("generateLifestyleSummary result:",r,"Input habits:",e),r},qIe=e=>{if(!e||typeof e!="object")return"No specific details reported.";const t=[];return e.has_implants==="yes"&&t.push(`Implants: Yes${e.implants_details?` (${e.implants_details})`:""}`),e.recent_health_changes==="yes"&&t.push(`Recent Health Changes: Yes${e.health_changes_details?` (${e.health_changes_details})`:""}`),e.recent_medical_screenings==="yes"&&t.push(`Screenings: Yes${e.screenings_details?` (${e.screenings_details})`:""}`),e.dental_material_allergies==="yes"&&t.push(`Dental Material Allergies: Yes${e.dental_material_allergies_details?` (${e.dental_material_allergies_details})`:""}`),e.immunizations_up_to_date&&e.immunizations_up_to_date!=="not_sure"&&t.push(`Immunizations Up To Date: ${e.immunizations_up_to_date}`),e.recent_immunizations&&e.recent_immunizations.trim()!==""&&t.push(`Recent Immunizations: ${e.recent_immunizations}`),t.length>0?t.join("; "):"No specific details reported."},zIe=e=>{if(!e||typeof e!="object")return"N/A";const t=[];return e.chief_complaint&&t.push(`Complaint: ${e.chief_complaint}`),(e.has_pain==="yes"||e.has_pain===!0)&&t.push(`Pain: Yes (Scale: ${e.pain_scale||"N/A"}, Desc: ${e.pain_description||"N/A"})`),e.brushing_frequency&&t.push(`Brushing: ${e.brushing_frequency}`),e.flossing_habits&&t.push(`Flossing: ${e.flossing_habits}`),e.past_treatments_details&&t.push(`Past Tx: ${e.past_treatments_details}`),(e.orthodontic_history==="yes"||e.orthodontic_history===!0)&&t.push(`Ortho: Yes (${e.orthodontic_details||"details missing"})`),(e.bite_issues==="yes"||e.bite_issues===!0)&&t.push(`Bite Issues: Yes (${e.bite_symptoms||"details missing"})`),t.length>0?t.join("; "):"No specific dental history reported."},WIe=e=>{if(!Array.isArray(e)||e.length===0)return"None reported.";const t=e.filter(r=>r&&typeof r=="object"&&r.name);return t.length===0?"None reported.":x("ul",{className:"list-disc pl-5 space-y-1 text-sm",children:[" ",t.map((r,n)=>x("li",{children:[l("span",{className:"font-medium",children:r.name}),r.dosage&&` (${r.dosage})`,r.frequency&&` - ${r.frequency}`]},n))]})},VIe=e=>{if(!Array.isArray(e)||e.length===0)return"None reported.";const t=e.filter(r=>r&&typeof r=="object"&&r.type);return t.length===0?"None reported.":x("ul",{className:"list-disc pl-5 space-y-1 text-sm",children:[" ",t.map((r,n)=>x("li",{children:[l("span",{className:"font-medium",children:r.type}),r.date&&` (Approx. ${r.date})`,r.notes&&x("span",{className:"block text-xs text-muted-foreground pl-2",children:["Notes: ",r.notes]})," "]},n))]})};function HIe({patient:e,appointments:t=[],medicalRecords:r=[],dentalHistoryTeeth:n=[],onEdit:a,onBookAppointment:i,onAddMedicalRecord:s}){const[o,c]=S.useState(null),[u,d]=S.useState(!0),[f,h]=S.useState([]);if(S.useEffect(()=>{d(!0),fetch($Ie).then(_=>{if(!_.ok)throw console.error("SVG Fetch Response Status:",_.status,_.statusText),new Error(`Network response was not ok: ${_.status} ${_.statusText}`);return _.text()}).then(_=>{c(_),d(!1)}).catch(_=>{console.error("Error fetching SVG:",_),d(!1)})},[]),S.useEffect(()=>{It.staff.getDoctors().then(h).catch(()=>h([]))},[]),console.log("Patient object received in PatientDetailsView:",e),console.log("Appointments received:",t),console.log("Medical Records received:",r),console.log("PatientDetailsView received dentalHistoryTeeth prop:",JSON.stringify(n,null,2)),!e)return null;const m=Array.isArray(e.documents)?e.documents:[],w=m.find(_=>_.type==="profile_photo"),g=m.filter(_=>_.type!=="profile_photo"),y={healthy:"Healthy",decayed:"Decayed",filled:"Filled",missing:"Missing","treatment-planned":"Planned Tx","root-canal":"Root Canal",extraction:"Extraction",crown:"Crown","has-treatment-before":"Prior Tx","recommended-to-be-treated":"Recommend Tx"},b=_=>y[_]||_.replace(/_/g," ");return x("div",{className:"space-y-6",children:[x(or,{children:[l(wr,{children:l(_r,{children:"Personal Information"})}),x(pr,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l(qi,{icon:yi,label:"Full Name",value:`${e.first_name||""} ${e.last_name||""}`}),l(qi,{icon:yi,label:"Gender",value:e.gender}),l(qi,{icon:yi,label:"Age",value:e.age}),l(qi,{icon:yi,label:"Registration Number",value:e.registration_number})]})]}),x(or,{children:[l(wr,{children:l(_r,{children:"Contact Information"})}),x(pr,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l(qi,{icon:A5,label:"Phone",value:e.phone}),l(qi,{icon:b4,label:"Email",value:e.email}),l(qi,{icon:Mce,label:"Address",value:`${e.address||""}, ${e.city||""}, ${e.state||""} ${e.postal_code||""}`})]})]}),x(or,{children:[l(wr,{children:l(_r,{children:"Emergency Contact"})}),x(pr,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l(qi,{icon:yi,label:"Name",value:e.emergency_contact_name}),l(qi,{icon:A5,label:"Phone",value:e.emergency_contact_phone}),l(qi,{icon:yi,label:"Relationship",value:e.emergency_contact_relationship})]})]}),x(or,{children:[l(wr,{children:l(_r,{children:"Medical & Dental Overview"})}),x(pr,{className:"space-y-6",children:[" ",x("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[l(qi,{icon:Lce,label:"Height",value:e.height?`${e.height} cm`:"N/A"}),l(qi,{icon:Xce,label:"Weight",value:e.weight?`${e.weight} kg`:"N/A"}),l(qi,{icon:Pce,label:"Blood Group",value:e.blood_group})]}),x("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t",children:[l(qi,{icon:yce,label:"Allergies",value:Array.isArray(e.allergies)?e.allergies.join(", "):e.allergies||"None reported"}),l(qi,{icon:d3,label:"Medical Conditions",value:Array.isArray(e.medical_conditions)?e.medical_conditions.join(", "):e.medical_conditions||"None reported"})]}),x("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t",children:[l(qi,{icon:d3,label:"Current Medications",value:WIe(e.current_medications)}),l(qi,{icon:d3,label:"Previous Surgeries / Hospitalizations",value:VIe(e.previous_surgeries)})]}),x("div",{className:"space-y-4 pt-4 border-t",children:[l("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:"History & Habits"}),l(qi,{icon:y1,label:"Detailed Medical Info",value:qIe(e.detailed_medical_info)}),l(qi,{icon:y1,label:"Dental History Summary",value:zIe(e.dental_history)}),l(qi,{icon:N4,label:"Family Medical History",value:BIe(e.family_medical_history)}),l(qi,{icon:rm,label:"Lifestyle Habits",value:UIe(e.lifestyle_habits)})]}),x("div",{className:"pt-4 border-t",children:[l("h4",{className:"text-sm font-medium text-muted-foreground mb-3",children:"Affected Teeth"}),u?l("p",{className:"text-sm text-muted-foreground",children:"Loading tooth chart..."}):o?Array.isArray(n)&&n.length>0?l("div",{className:"grid grid-cols-4 sm:grid-cols-6 md:grid-cols-8 lg:grid-cols-10 gap-2",children:n.sort((_,N)=>_.tooth_id-N.tooth_id).map(_=>{let N='<p class="text-xs text-red-500">Not found</p>';try{const O=new DOMParser().parseFromString(o,"image/svg+xml").getElementById(`ID_${_.tooth_id}`);if(O){const P=O.cloneNode(!0);let M="0 0 50 50",L="scale(0.5) translate(-50, -50)";try{const Z=document.createElementNS("http://www.w3.org/2000/svg","svg");Z.style.position="absolute",Z.style.visibility="hidden",Z.appendChild(P.cloneNode(!0)),document.body.appendChild(Z);const re=Z.firstChild.getBBox();document.body.removeChild(Z),re&&re.width>0&&re.height>0?(M=`${re.x-10} ${re.y-10} ${re.width+10*2} ${re.height+10*2}`,L=""):console.warn(`Could not get valid BBox for tooth ${_.tooth_id}. Using fallback viewBox/transform.`)}catch(Z){console.warn(`Error getting BBox for tooth ${_.tooth_id}:`,Z,". Using fallback viewBox/transform.")}const j="#FFFFFF",T="#666666",I="0.5";P.querySelectorAll("path").forEach(Z=>{Z.setAttribute("fill",j),Z.setAttribute("stroke",T),Z.setAttribute("stroke-width",I)});const G=P.outerHTML;N=`<svg viewBox="${M}" preserveAspectRatio="xMidYMid meet" width="40" height="40"><g ${L?`transform="${L}"`:""}>${G}</g></svg>`}else console.warn(`SVG element for tooth ID_${_.tooth_id} not found.`)}catch(E){console.error("Error parsing SVG content:",E),N='<p class="text-xs text-red-500">Parse error</p>'}return x("div",{className:"flex flex-col items-center border p-2 rounded-md shadow-sm bg-white hover:shadow-md transition-shadow duration-150",title:`Tooth ${_.tooth_id}`,children:[x("span",{className:"text-xs font-bold text-gray-700",children:["T",_.tooth_id]}),l("div",{dangerouslySetInnerHTML:{__html:N},className:"my-1"}),_.conditions&&_.conditions.length>0&&l("div",{className:"mt-1 text-center",children:_.conditions.filter(E=>!(_.conditions&&_.conditions.length>1&&E==="healthy")).map((E,C)=>x("span",{className:"block text-[10px] leading-tight text-blue-600",children:[b(E)," "]},C))})]},_.tooth_id)})}):Array.isArray(n)&&n.length===0?l("p",{className:"text-sm text-muted-foreground",children:"No affected teeth selected in dental history."}):l("p",{className:"text-sm text-muted-foreground",children:"Loading affected teeth data..."}):l("p",{className:"text-sm text-red-500",children:"Error loading tooth chart SVG."})]})]})]}),x(or,{children:[l(wr,{children:l(_r,{children:"Documents & Consent"})}),x(pr,{className:"space-y-4",children:[w&&x("div",{className:"flex items-start py-2",children:[l(U2,{className:"h-5 w-5 text-muted-foreground mr-3 mt-1 flex-shrink-0"}),x("div",{children:[l("p",{className:"text-sm font-medium text-muted-foreground",children:"Profile Photo"}),l("img",{src:w.url,alt:"Profile",className:"mt-1 max-w-xs max-h-40 rounded border"})]})]}),g.length>0&&x("div",{className:"space-y-3 pt-2",children:[l("p",{className:"text-sm font-medium text-muted-foreground",children:"Other Documents"}),g.map(_=>x("div",{className:"flex items-center justify-between p-2 border rounded hover:bg-muted/50",children:[x("div",{className:"flex items-center space-x-2",children:[l($ce,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"}),l("span",{className:"text-sm truncate",title:_.name,children:_.name}),x("span",{className:"text-xs text-muted-foreground",children:["(",_.type,")"]})]}),l("a",{href:_.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline ml-4",children:"View"})]},_.path))]}),x("div",{className:"flex items-start py-2",children:[l(kce,{className:"h-5 w-5 text-muted-foreground mr-3 mt-1 flex-shrink-0"}),x("div",{children:[l("p",{className:"text-sm font-medium text-muted-foreground",children:"Consent Given"}),l("p",{className:"text-base",children:e.consent_given?"Yes":"No"}),e.consent_date&&x("p",{className:"text-sm text-muted-foreground mt-1",children:["Date: ",JP(e.consent_date)]}),e.signature_url&&x("div",{className:"mt-2",children:[l("p",{className:"text-sm font-medium text-muted-foreground",children:"Signature"}),l("img",{src:e.signature_url,alt:"Signature",className:"mt-1 max-w-xs max-h-20 rounded border"})]})]})]}),m.length===0&&!w&&l("p",{className:"text-sm text-muted-foreground",children:"No documents uploaded."})]})]}),l(Pre,{medicalRecords:r,onAddMedicalRecord:s,doctors:f}),x(or,{children:[l(wr,{children:l(_r,{children:"Appointment History"})}),l(pr,{children:t&&t.length>0?l("div",{className:"space-y-4",children:t.map(_=>x("div",{className:"p-3 border rounded",children:[l("p",{className:"font-semibold",children:_.title||"Appointment"}),x("p",{className:"text-sm text-muted-foreground",children:[JP(_.start_time)," - ",JP(_.end_time)]}),x("p",{className:"text-sm",children:["Type: ",_.type]}),x("p",{className:"text-sm",children:["Status: ",_.status]}),_.notes&&x("p",{className:"text-sm mt-1",children:["Notes: ",_.notes]}),_.staff&&x("p",{className:"text-xs text-muted-foreground mt-1",children:["With: ",_.staff.first_name," ",_.staff.last_name]})]},_.id))}):l("p",{className:"text-sm text-muted-foreground",children:"No past appointments found."})})]}),x("div",{className:"flex justify-end space-x-2 mt-6",children:[" ",x(Me,{variant:"outline",onClick:()=>i(e.id),children:[l(Ch,{className:"mr-2 h-4 w-4"})," Book New Appointment"]}),l(Me,{onClick:a,children:"Edit Profile"})]})]})}const GIe=[{value:"qd",label:"Once daily (QD)"},{value:"bid",label:"Twice daily (BID)"},{value:"tid",label:"Three times daily (TID)"},{value:"qid",label:"Four times daily (QID)"},{value:"q4h",label:"Every 4 hours (Q4H)"},{value:"q6h",label:"Every 6 hours (Q6H)"},{value:"q8h",label:"Every 8 hours (Q8H)"},{value:"q12h",label:"Every 12 hours (Q12H)"},{value:"prn",label:"As needed (PRN)"}],YIe=[{value:"amoxicillin_500",label:"Amoxicillin 500mg"},{value:"amoxicillin_875",label:"Amoxicillin 875mg"},{value:"clindamycin_300",label:"Clindamycin 300mg"},{value:"metronidazole_500",label:"Metronidazole 500mg"},{value:"ibuprofen_400",label:"Ibuprofen 400mg"},{value:"ibuprofen_600",label:"Ibuprofen 600mg"},{value:"acetaminophen_500",label:"Acetaminophen 500mg"},{value:"chlorhexidine_0.12",label:"Chlorhexidine 0.12% Mouthwash"}],KIe=[{value:"3d",label:"3 days"},{value:"5d",label:"5 days"},{value:"7d",label:"7 days"},{value:"10d",label:"10 days"},{value:"14d",label:"14 days"},{value:"21d",label:"21 days"},{value:"28d",label:"28 days"},{value:"30d",label:"30 days"}];function XIe({index:e,form:t,onRemove:r}){return x("div",{className:"space-y-4 p-4 border rounded-md relative",children:[l(Me,{type:"button",variant:"ghost",size:"icon",className:"absolute right-2 top-2",onClick:r,children:l(ed,{className:"h-4 w-4"})}),x("div",{className:"grid grid-cols-2 gap-4",children:[l(Ve,{control:t.control,name:`prescriptions.${e}.medication`,render:({field:n})=>x(Ie,{children:[l(De,{children:"Medication"}),x(Ur,{onValueChange:n.onChange,value:n.value,children:[l(Le,{children:l(jr,{children:l(qr,{placeholder:"Select medication"})})}),l($r,{children:YIe.map(a=>l(mt,{value:a.value,children:a.label},a.value))})]}),l(et,{})]})}),l(Ve,{control:t.control,name:`prescriptions.${e}.dosage`,render:({field:n})=>x(Ie,{children:[l(De,{children:"Dosage"}),l(Le,{children:l(dt,{placeholder:"e.g., 1 tablet",...n})}),l(et,{})]})})]}),x("div",{className:"grid grid-cols-2 gap-4",children:[l(Ve,{control:t.control,name:`prescriptions.${e}.frequency`,render:({field:n})=>x(Ie,{children:[l(De,{children:"Frequency"}),x(Ur,{onValueChange:n.onChange,value:n.value,children:[l(Le,{children:l(jr,{children:l(qr,{placeholder:"Select frequency"})})}),l($r,{children:GIe.map(a=>l(mt,{value:a.value,children:a.label},a.value))})]}),l(et,{})]})}),l(Ve,{control:t.control,name:`prescriptions.${e}.duration`,render:({field:n})=>x(Ie,{children:[l(De,{children:"Duration"}),x(Ur,{onValueChange:n.onChange,value:n.value,children:[l(Le,{children:l(jr,{children:l(qr,{placeholder:"Select duration"})})}),l($r,{children:KIe.map(a=>l(mt,{value:a.value,children:a.label},a.value))})]}),l(et,{})]})})]}),l(Ve,{control:t.control,name:`prescriptions.${e}.special_instructions`,render:({field:n})=>x(Ie,{children:[l(De,{children:"Special Instructions"}),l(Le,{children:l(un,{placeholder:"Special instructions for this prescription (e.g., take with food)",...n})}),l(et,{})]})})]})}function ZP({id:e,accept:t,label:r,files:n,onFilesChange:a,maxFiles:i=10}){const[s,o]=S.useState(null),c=h=>{const m=Array.from(h.target.files||[]),w=[...n,...m].slice(0,i);a(w)},u=h=>{const m=n.filter((w,g)=>g!==h);a(m)},d=h=>{const m=URL.createObjectURL(h);o(m)},f=()=>{s&&(URL.revokeObjectURL(s),o(null))};return x("div",{className:"space-y-4",children:[x("div",{className:"grid grid-cols-2 gap-4",children:[x("div",{className:"border-2 border-dashed rounded-lg p-4 text-center",children:[l("input",{type:"file",accept:t,className:"hidden",id:e,onChange:c,multiple:!0}),x("label",{htmlFor:e,className:"cursor-pointer flex flex-col items-center",children:[l(lG,{className:"h-8 w-8 mb-2"}),l("span",{children:r}),x("span",{className:"text-sm text-muted-foreground mt-1",children:[n.length,"/",i," files"]})]})]}),l("div",{className:"grid grid-cols-2 gap-2",children:n.map((h,m)=>l(or,{className:"relative group",children:x(pr,{className:"p-2",children:[h.type.startsWith("image/")?l("img",{src:URL.createObjectURL(h),alt:`Preview ${m+1}`,className:"w-full h-24 object-cover rounded",onLoad:w=>{const g=w.target;URL.revokeObjectURL(g.src)}}):l("div",{className:"w-full h-24 bg-muted flex items-center justify-center rounded",children:l("span",{className:"text-sm text-muted-foreground",children:h.name})}),x("div",{className:"absolute top-1 right-1 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[h.type.startsWith("image/")&&l(Me,{variant:"secondary",size:"icon",className:"h-6 w-6",onClick:()=>d(h),children:l(Qce,{className:"h-4 w-4"})}),l(Me,{variant:"destructive",size:"icon",className:"h-6 w-6",onClick:()=>u(m),children:l(ed,{className:"h-4 w-4"})})]})]})},m))})]}),l(Hn,{open:!!s,onOpenChange:()=>f(),children:x(qn,{className:"max-w-3xl",children:[l(Jn,{children:l(Zn,{children:"Image Preview"})}),s&&l("img",{src:s,alt:"Preview",className:"w-full h-auto"})]})})]})}const JIe={async getAllPatients(){return It.patients.getAll()},async getPatientById(e){return It.patients.getById(e)},async createPatient(e){return It.patients.create(e)},async updatePatient(e,t){return It.patients.update(e,t)},async uploadProfilePhoto(e,t){return It.patients.uploadProfilePhoto(e,t)},async uploadSignature(e,t){return It.patients.uploadSignature(e,t)},async addDocument(e,t,r,n=""){return It.patients.addDocument(e,t,r,n)},async searchPatients(e){return It.patients.search(e)},async getPatientTreatmentPlans(e){return It.patients.getTreatmentPlans(e)},async getPatientMedicalRecords(e){return It.patients.getMedicalRecords(e)},async getPatientDentalHistoryTeeth(e){return It.patients.getPatientDentalHistoryTeeth(e)}},ZIe=Re.object({chief_complaint:Re.string().min(1,"Chief complaint is required"),clinical_findings:Re.string().optional(),blood_pressure:Re.string().optional(),pulse_rate:Re.string().optional(),extra_oral_exam:Re.string().optional(),intra_oral_exam:Re.string().optional(),diagnosis_codes:Re.array(Re.string()).optional(),diagnosis_notes:Re.string().optional(),treatment_phase:Re.enum(["emergency","disease_control","rehabilitation","maintenance"]),treatment_procedures:Re.array(Re.object({code:Re.string().optional(),title:Re.string().optional(),description:Re.string().optional(),tooth_number:Re.number().optional(),estimated_cost:Re.number().optional(),visit_date:Re.string().optional(),duration:Re.string().optional(),next_visit:Re.string().optional(),status:Re.string().optional(),priority:Re.string().optional()})).optional(),prescriptions:Re.array(Re.object({medication:Re.string(),dosage:Re.string(),frequency:Re.string(),duration:Re.string(),special_instructions:Re.string().optional()})).optional(),home_care_instructions:Re.string().optional(),follow_up_date:Re.string().optional(),xray_images:Re.array(Re.any()).optional(),clinical_photos:Re.array(Re.any()).optional(),documents:Re.array(Re.any()).optional(),lab_results:Re.array(Re.object({test_name:Re.string().min(1,"Test name is required"),result_value:Re.string().min(1,"Result value is required"),units:Re.string().optional(),reference_range:Re.string().optional()})).optional(),record_date:Re.string().min(1,"Record date is required"),doctor:Re.string().min(1,"Doctor is required")});function Tre({patientId:e,patientName:t,onSubmit:r,onCancel:n,isLoading:a=!1}){var W;const[i,s]=S.useState("examination"),[o,c]=S.useState(!1),[u,d]=S.useState(!1),[f,h]=S.useState([]),[m,w]=S.useState(null),[g,y]=S.useState([]),[b,_]=S.useState(""),[N,E]=S.useState([]),[C,O]=S.useState(!1),P=pd({resolver:md(ZIe),defaultValues:{treatment_phase:"disease_control",treatment_procedures:[],prescriptions:[],xray_images:[],clinical_photos:[],documents:[],lab_results:[]}});S.useEffect(()=>{O(!0),It.staff.getDoctors().then(z=>{E(z.map(U=>({id:U.id,first_name:U.first_name,last_name:U.last_name})))}).catch(()=>E([])).finally(()=>O(!1))},[]);const M=async(z,U,Y)=>await It.storage.uploadFile(z,U),L=async z=>{const U=async(K,J)=>{const ne=[];for(const ie of K)if(ie instanceof File){const oe=await M(ie,e);oe&&ne.push({...oe,type:J})}else ie&&ie.url&&ne.push(ie);return ne},Y=await U(z.xray_images||[],"xray"),Q=await U(z.clinical_photos||[],"photo"),D=await U(z.documents||[],"document");await r({...z,xray_images:Y,clinical_photos:Q,documents:D},b)},j=["examination","diagnosis","prescription","labresults","attachments"],T=i===j[0],I=i===j[j.length-1],B=()=>{const z=j.indexOf(i);z<j.length-1&&s(j[z+1])},G=()=>{const z=j.indexOf(i);z>0&&s(j[z-1])},Z=async()=>{c(!0),d(!0);try{const z=await JIe.getPatientTreatmentPlans(e);h((z||[]).filter(U=>U.status==="completed"))}catch{h([])}finally{d(!1)}},re=z=>{const U=z.id||z._id;if(U&&z.treatments&&Array.isArray(z.treatments)){y(D=>D.some(K=>K.id===U)?D:[...D,{id:U,title:z.procedure||z.name||"Treatment Plan",createdDate:z.date||z.created_at,treatments:z.treatments}]);const Y=z.treatments.map(D=>({code:D.code||"",title:D.type||D.title||"",description:D.description||D.procedures||"",tooth_number:D.tooth_number||void 0,estimated_cost:D.cost!==void 0?D.cost:void 0,visit_date:D.scheduled_date||D.estimatedVisitDate||"",duration:D.estimated_duration||D.duration||"",next_visit:D.time_gap||D.next_visit||"",status:D.status||"",priority:D.priority||""})),Q=P.getValues("treatment_procedures")||[];P.setValue("treatment_procedures",[...Q,...Y])}};return x("div",{className:"w-full max-w-4xl mx-auto p-2 sm:p-4 md:p-6",children:[l(or,{className:"mb-6 w-full",children:x(wr,{children:[x(_r,{className:"text-2xl",children:["Dental Record - ",t]}),x("p",{className:"text-sm text-muted-foreground",children:["Patient ID: ",e]})]})}),l(or,{className:"w-full",children:l(pr,{children:l(Mh,{...P,children:x("form",{onSubmit:P.handleSubmit(L),className:"space-y-2",children:[x(jm,{value:i,onValueChange:()=>{},className:"w-full",children:[x(Rh,{className:"flex w-full justify-between mb-2 flex-wrap",children:[l(Oa,{value:"examination","data-disabled":!0,children:"Clinical Examination"}),l(Oa,{value:"diagnosis","data-disabled":!0,children:"Diagnosis & Treatment"}),l(Oa,{value:"prescription","data-disabled":!0,children:"Prescription & Instructions"}),l(Oa,{value:"labresults","data-disabled":!0,children:"Lab Results"}),l(Oa,{value:"attachments","data-disabled":!0,children:"Attachments"})]}),x(_a,{value:"examination",className:"space-y-2",children:[x("div",{children:[l("h2",{className:"text-xl font-bold mb-2",children:"Chief Complaint & Clinical Findings"}),l("div",{className:"grid grid-cols-1",children:l(Ve,{control:P.control,name:"chief_complaint",render:({field:z})=>x(Ie,{className:"col-span-3",children:[l(De,{children:"Chief Complaint"}),l(Le,{children:l(un,{placeholder:"Patient's main concern or reason for visit",...z,rows:2})}),l(et,{})]})})}),x("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-2",children:[l(Ve,{control:P.control,name:"blood_pressure",render:({field:z})=>x(Ie,{children:[l(De,{children:"Blood Pressure"}),l(Le,{children:l(dt,{placeholder:"e.g., 120/80",...z})})]})}),l(Ve,{control:P.control,name:"pulse_rate",render:({field:z})=>x(Ie,{children:[l(De,{children:"Pulse Rate"}),l(Le,{children:l(dt,{placeholder:"e.g., 72 bpm",...z})})]})}),l(Ve,{control:P.control,name:"record_date",render:({field:z})=>x(Ie,{children:[l(De,{children:"Record Date"}),l(Le,{children:l(dt,{type:"date",...z})}),l(et,{})]})}),l(Ve,{control:P.control,name:"doctor",render:({field:z})=>x(Ie,{children:[l(De,{children:"Doctor"}),l(Le,{children:x(Ur,{onValueChange:z.onChange,value:z.value,disabled:C,children:[l(jr,{children:l(qr,{placeholder:C?"Loading doctors...":"Select Doctor"})}),l($r,{children:N.map(U=>x(mt,{value:U.id,children:[U.first_name," ",U.last_name]},U.id))})]})}),l(et,{})]})})]})]}),x("div",{children:[l("h2",{className:"text-xl font-bold mb-2",children:"Examination Details"}),x("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l(Ve,{control:P.control,name:"extra_oral_exam",render:({field:z})=>x(Ie,{children:[l(De,{children:"Extra-oral Examination"}),l(Le,{children:l(un,{placeholder:"Record extra-oral findings...",...z,rows:2})})]})}),l(Ve,{control:P.control,name:"intra_oral_exam",render:({field:z})=>x(Ie,{children:[l(De,{children:"Intra-oral Examination"}),l(Le,{children:l(un,{placeholder:"Record intra-oral findings...",...z,rows:2})})]})})]})]})]}),x(_a,{value:"diagnosis",className:"space-y-3",children:[x("div",{children:[l("h2",{className:"text-xl font-bold mb-2",children:"Diagnosis"}),l(Ve,{control:P.control,name:"diagnosis_notes",render:({field:z})=>x(Ie,{children:[l(De,{children:"Diagnosis Notes"}),l(Le,{children:l(un,{placeholder:"Enter detailed diagnosis...",...z})}),l(et,{})]})}),l(Ve,{control:P.control,name:"treatment_phase",render:({field:z})=>x(Ie,{children:[l(De,{children:"Treatment Phase"}),x(Ur,{onValueChange:z.onChange,defaultValue:z.value,children:[l(Le,{children:l(jr,{children:l(qr,{placeholder:"Select treatment phase"})})}),x($r,{children:[l(mt,{value:"emergency",children:"Emergency Care"}),l(mt,{value:"disease_control",children:"Disease Control"}),l(mt,{value:"rehabilitation",children:"Rehabilitation"}),l(mt,{value:"maintenance",children:"Maintenance"})]})]}),l(et,{})]})})]}),x("div",{children:[l("h2",{className:"text-xl font-bold mb-2",children:"Treatment Plan"}),l("div",{className:"flex justify-end mb-2",children:x(Me,{type:"button",variant:"secondary",onClick:Z,children:[l(N5,{className:"w-4 h-4 mr-2"})," View Completed Treatment Plans"]})}),l("div",{className:"mt-2",children:g.map((z,U)=>x("div",{className:"mb-4",children:[x("div",{className:"flex items-center gap-2 mb-1",children:[l("span",{className:"font-bold text-base",children:z.title||"Treatment Plan"}),z.createdDate&&x("span",{className:"text-xs text-muted-foreground ml-2",children:["Created on ",new Date(z.createdDate).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})]})]}),l("div",{className:"space-y-1",children:z.treatments.map((Y,Q)=>x("div",{className:"border bg-white mb-1 p-2 rounded",children:[l("span",{className:"font-semibold",children:Y.title||Y.code||`Treatment ${Q+1}`}),Y.description&&x("div",{className:"text-xs mb-1",children:[l("b",{children:"Description:"})," ",Y.description]}),Y.tooth_number&&x("div",{className:"text-xs mb-1",children:[l("b",{children:"Tooth number:"})," ",Y.tooth_number]}),Y.visit_date&&x("div",{className:"text-xs mb-1",children:[l("b",{children:"Visit Date:"})," ",Y.visit_date]}),Y.duration&&x("div",{className:"text-xs mb-1",children:[l("b",{children:"Duration:"})," ",Y.duration]}),Y.status&&x("div",{className:"text-xs mb-1",children:[l("b",{children:"Status:"})," ",Y.status]}),Y.priority&&x("div",{className:"text-xs mb-1",children:[l("b",{children:"Priority:"})," ",Y.priority]})]},Q))})]},z.id||U))})]})]}),x(_a,{value:"prescription",className:"space-y-3",children:[x("div",{children:[l("h2",{className:"text-xl font-bold mb-2",children:"Prescription"}),l(id,{className:"h-[300px] pr-2 border bg-white rounded-md",children:(W=P.watch("prescriptions"))==null?void 0:W.map((z,U)=>x("div",{className:"mb-4 p-4 border rounded bg-gray-50 relative shadow-sm",children:[x("div",{className:"font-semibold mb-2",children:["Prescription ",U+1]}),l(XIe,{index:U,form:P,onRemove:()=>{const Y=P.getValues("prescriptions")||[];P.setValue("prescriptions",Y.filter((Q,D)=>D!==U),{shouldDirty:!0,shouldTouch:!0,shouldValidate:!0})}})]},U))}),l(Me,{type:"button",variant:"outline",onClick:()=>{const z=P.getValues("prescriptions")||[];P.setValue("prescriptions",[...z,{medication:"",dosage:"",frequency:"",duration:"",special_instructions:""}],{shouldDirty:!0,shouldTouch:!0,shouldValidate:!0})},children:"Add Prescription"})]}),x("div",{children:[l("h2",{className:"text-xl font-bold mb-2",children:"Patient Instructions"}),l(Ve,{control:P.control,name:"home_care_instructions",render:({field:z})=>x(Ie,{children:[l(De,{children:"Home Care Instructions"}),l(Le,{children:l(un,{placeholder:"Enter detailed instructions for the patient...",...z})})]})}),l(Ve,{control:P.control,name:"follow_up_date",render:({field:z})=>x(Ie,{children:[l(De,{children:"Follow-up Date"}),l(Le,{children:l(dt,{type:"date",...z})})]})})]})]}),l(_a,{value:"labresults",className:"space-y-3",children:x("div",{children:[l("h2",{className:"text-xl font-bold mb-2",children:"Lab Result Details"}),l(id,{className:"h-[300px] pr-2 border bg-white",children:(P.watch("lab_results")||[]).map((z,U)=>x("div",{className:"relative grid grid-cols-1 md:grid-cols-4 gap-2 items-end mb-2 border-b pb-2",children:[l("button",{type:"button",className:"absolute right-2 top-2 z-10 text-gray-400 hover:text-red-600",title:"Remove Lab Result",onClick:()=>{const Y=P.getValues("lab_results")||[];P.setValue("lab_results",Y.filter((Q,D)=>D!==U),{shouldDirty:!0,shouldTouch:!0,shouldValidate:!0})},children:l("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),l(Ve,{control:P.control,name:`lab_results.${U}.test_name`,render:({field:Y})=>x(Ie,{children:[l(De,{children:"Test Name"}),l(Le,{children:l(dt,{placeholder:"e.g., Complete Blood Count (CBC)",...Y})})]})}),l(Ve,{control:P.control,name:`lab_results.${U}.result_value`,render:({field:Y})=>x(Ie,{children:[l(De,{children:"Result Value"}),l(Le,{children:l(dt,{placeholder:"e.g., 12.5",...Y})})]})}),l(Ve,{control:P.control,name:`lab_results.${U}.units`,render:({field:Y})=>x(Ie,{children:[l(De,{children:"Units"}),l(Le,{children:l(dt,{placeholder:"e.g., g/dL",...Y})})]})}),l(Ve,{control:P.control,name:`lab_results.${U}.reference_range`,render:({field:Y})=>x(Ie,{children:[l(De,{children:"Reference Range"}),l(Le,{children:l(dt,{placeholder:"e.g., 12.0-15.5 g/dL",...Y})})]})})]},U))}),l(Me,{type:"button",variant:"outline",onClick:()=>{const z=P.getValues("lab_results")||[];P.setValue("lab_results",[...z,{test_name:"",result_value:"",units:"",reference_range:""}],{shouldDirty:!0,shouldTouch:!0,shouldValidate:!0})},children:"Add Result"})]})}),x(_a,{value:"attachments",className:"space-y-3",children:[x("div",{children:[l("h2",{className:"text-xl font-bold mb-2",children:"X-ray Images"}),l(ZP,{id:"xray-upload",accept:"image/*",label:"Upload X-ray Images",files:P.watch("xray_images")||[],onFilesChange:z=>P.setValue("xray_images",z),maxFiles:5})]}),x("div",{children:[l("h2",{className:"text-xl font-bold mb-2",children:"Clinical Photos"}),l(ZP,{id:"photo-upload",accept:"image/*",label:"Upload Clinical Photos",files:P.watch("clinical_photos")||[],onFilesChange:z=>P.setValue("clinical_photos",z),maxFiles:10})]}),x("div",{children:[l("h2",{className:"text-xl font-bold mb-2",children:"Other Documents"}),l(ZP,{id:"document-upload",accept:".pdf,.doc,.docx",label:"Upload Documents",files:P.watch("documents")||[],onFilesChange:z=>P.setValue("documents",z),maxFiles:5})]})]})]}),x("div",{className:"mt-2",children:[l("label",{className:"block text-sm font-medium mb-1",children:"Custom Notes (optional)"}),l(un,{value:b,onChange:z=>_(z.target.value),placeholder:"Add any extra notes for this medical record...",className:"mt-1",rows:2})]}),x("div",{className:"flex justify-end gap-4 mt-3",children:[!T&&l(Me,{type:"button",variant:"outline",onClick:G,children:"Back"}),!I&&l(Me,{type:"button",onClick:B,children:"Next"}),I&&x(Me,{type:"submit",disabled:a,children:[a&&l(Fn,{className:"mr-2 h-4 w-4 animate-spin"}),"Save Record"]})]})]})})})}),l(Hn,{open:o,onOpenChange:c,children:x(qn,{className:"max-w-2xl",children:[l(Jn,{children:l(Zn,{children:"Completed Treatment Plans"})}),u?x("div",{className:"flex items-center justify-center py-8",children:[l(Fn,{className:"w-6 h-6 animate-spin mr-2"})," Loading..."]}):f.length===0?l("div",{className:"text-center text-muted-foreground py-8",children:"No completed treatment plans found."}):l("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto",children:f.map((z,U)=>{const Y=z.id||z._id,Q=g.some(D=>D.id===Y);return x(or,{className:"border shadow-sm mb-4",children:[x(wr,{className:"flex flex-col gap-1 items-start",children:[x("div",{className:"flex flex-row items-center gap-2 w-full",children:[l(mx,{className:"w-5 h-5 text-primary"}),l("span",{className:"font-semibold text-base",children:z.procedure||z.name||"Treatment Plan"}),l(yc,{variant:"outline",className:"ml-auto",children:z.status})]}),(z.date||z.created_at)&&x("div",{className:"text-xs text-muted-foreground mt-1",children:["Created on ",z.date?new Date(z.date).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"}):new Date(z.created_at).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})]})]}),x(pr,{className:"space-y-1",children:[z.teeth&&z.teeth.length>0&&x("div",{className:"text-xs flex items-center gap-1",children:[l(mx,{className:"w-4 h-4"}),"Teeth: ",z.teeth.map(D=>D.tooth_id).join(", ")]}),z.description&&l("div",{className:"text-xs mb-2",children:z.description}),z.treatments&&z.treatments.length>0&&x("div",{className:"mt-2",children:[l("div",{className:"font-semibold text-xs mb-1",children:"Treatments/Visits:"}),l("div",{className:"space-y-1",children:z.treatments.map((D,K)=>x("div",{className:"border rounded p-2 bg-muted/20 mb-1",children:[x("div",{className:"font-bold text-sm mb-1",children:[K+1,". ",D.name||D.title]}),D.scheduled_date&&x("div",{className:"text-xs text-muted-foreground mb-1",children:["Date: ",D.scheduled_date]}),D.description&&l("div",{className:"text-xs mb-1",children:D.description}),D.cost!==void 0&&x("div",{className:"text-xs flex items-center gap-1 mb-1",children:[l("span",{className:"font-bold text-green-700",children:"₹"}),"Cost: ",D.cost]}),D.status&&l(yc,{className:"ml-2",variant:"outline",children:D.status})]},K))})]}),x("div",{className:"text-xs flex items-center gap-1 mt-2",children:[l(ZH,{className:"w-4 h-4 text-green-500"}),"Completed"]}),l("div",{className:"flex justify-end mt-2",children:Q?l(yc,{variant:"secondary",children:"Applied"}):l(Me,{size:"sm",variant:"default",onClick:()=>re(z),children:"Apply to Medical Record"})})]})]},z.id||U)})})]})})]})}function Ll(e,t=2){if(e==null)return"₹ 0.00";const r=typeof e=="string"?parseFloat(e):e;return isNaN(r)?"₹ 0.00":`₹ ${r.toFixed(t)}`}function Ore({plan:e,onViewDetails:t}){const r=a=>{let i="bg-gray-100 text-gray-800";switch(a){case"planned":i="bg-blue-100 text-blue-800";break;case"in_progress":i="bg-yellow-100 text-yellow-800";break;case"completed":i="bg-green-100 text-green-800";break;case"cancelled":i="bg-red-100 text-red-800";break}return l("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${i}`,children:a.replace("_"," ")})},n=a=>{let i="bg-gray-100 text-gray-800";switch(a){case"low":i="bg-green-100 text-green-800";break;case"medium":i="bg-yellow-100 text-yellow-800";break;case"high":i="bg-red-100 text-red-800";break}return l("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${i}`,children:a})};return x(or,{className:"overflow-hidden glass-plan-card",style:{background:"linear-gradient(135deg, rgba(255,255,255,0.45) 0%, rgba(173,216,255,0.18) 100%)",backdropFilter:"blur(18px) saturate(180%)",WebkitBackdropFilter:"blur(18px) saturate(180%)",boxShadow:"0 4px 24px 0 rgba(120,180,255,0.10), 0 1.5px 6px 0 rgba(120,180,255,0.10)",border:"1.5px solid rgba(120,180,255,0.10)",borderRadius:18},children:[x(wr,{className:"pb-2",children:[x("div",{className:"flex justify-between items-start",children:[l(_r,{className:"text-lg",children:e.title}),r(e.status)]}),l(Sc,{className:"line-clamp-2",children:e.description})]}),l(pr,{className:"pb-2",children:x("div",{className:"space-y-4",children:[x("div",{className:"flex items-center text-sm",children:[l(yi,{className:"h-4 w-4 mr-2 text-muted-foreground"}),l("span",{children:e.patientName})]}),x("div",{className:"flex items-center text-sm",children:[l(Oi,{className:"h-4 w-4 mr-2 text-muted-foreground"}),x("span",{children:[Rt(new Date(e.start_date),"MMM d, yyyy"),e.end_date&&` to ${Rt(new Date(e.end_date),"MMM d, yyyy")}`]})]}),x("div",{className:"flex items-center text-sm",children:[l(u6,{className:"h-4 w-4 mr-2 text-muted-foreground"}),x("span",{children:["Total Cost: ",Ll(e.totalCost)]})]}),x("div",{className:"space-y-1",children:[x("div",{className:"flex items-center justify-between text-sm",children:[l("span",{children:"Progress"}),x("span",{children:[e.completedTreatments," of ",e.totalTreatments," treatments"]})]}),l("div",{style:{width:"100%",height:8,borderRadius:8,background:"rgba(200,220,255,0.18)",overflow:"hidden",marginTop:4,position:"relative"},children:l("div",{style:{width:`${e.status==="completed"?100:e.progress??0}%`,height:"100%",borderRadius:8,background:e.status==="completed"?"linear-gradient(90deg, #03C988 0%,rgb(20, 196, 84) 100%)":"linear-gradient(90deg, #3b82f6 0%, #06b6d4 100%)",transition:"width 0.7s cubic-bezier(.4,2,.6,1), background 0.7s cubic-bezier(.4,2,.6,1)"}})})]})]})}),x(eg,{className:"pt-2 flex justify-between",children:[l("div",{className:"flex gap-2",children:e.priority&&n(e.priority)}),x(Me,{variant:"default",size:"sm",onClick:()=>t(e),children:["View Details ",l(om,{className:"h-4 w-4 ml-1"})]})]})]})}var Dre="AlertDialog",[QIe,cQe]=ts(Dre,[wee]),Fh=wee(),Ire=e=>{const{__scopeAlertDialog:t,...r}=e,n=Fh(t);return l(Fee,{...n,...r,modal:!0})};Ire.displayName=Dre;var eRe="AlertDialogTrigger",Rre=S.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Fh(r);return l(Lee,{...a,...n,ref:t})});Rre.displayName=eRe;var tRe="AlertDialogPortal",Mre=e=>{const{__scopeAlertDialog:t,...r}=e,n=Fh(t);return l(jee,{...n,...r})};Mre.displayName=tRe;var rRe="AlertDialogOverlay",Fre=S.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Fh(r);return l(oR,{...a,...n,ref:t})});Fre.displayName=rRe;var i1="AlertDialogContent",[nRe,aRe]=QIe(i1),iRe=dG("AlertDialogContent"),Lre=S.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,i=Fh(r),s=S.useRef(null),o=Jr(t,s),c=S.useRef(null);return l(P8e,{contentName:i1,titleName:jre,docsSlug:"alert-dialog",children:l(nRe,{scope:r,cancelRef:c,children:x(lR,{role:"alertdialog",...i,...a,ref:o,onOpenAutoFocus:Ht(a.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[l(iRe,{children:n}),l(oRe,{contentRef:s})]})})})});Lre.displayName=i1;var jre="AlertDialogTitle",$re=S.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Fh(r);return l(cR,{...a,...n,ref:t})});$re.displayName=jre;var Bre="AlertDialogDescription",Ure=S.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Fh(r);return l(uR,{...a,...n,ref:t})});Ure.displayName=Bre;var sRe="AlertDialogAction",qre=S.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Fh(r);return l(LN,{...a,...n,ref:t})});qre.displayName=sRe;var zre="AlertDialogCancel",Wre=S.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=aRe(zre,r),i=Fh(r),s=Jr(t,a);return l(LN,{...i,...n,ref:s})});Wre.displayName=zre;var oRe=({contentRef:e})=>{const t=`\`${i1}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${i1}\` by passing a \`${Bre}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${i1}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return S.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},lRe=Ire,cRe=Rre,uRe=Mre,Vre=Fre,Hre=Lre,Gre=qre,Yre=Wre,Kre=$re,Xre=Ure;const ww=lRe,zz=cRe,dRe=uRe,Jre=S.forwardRef(({className:e,...t},r)=>l(Vre,{className:Lt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));Jre.displayName=Vre.displayName;const ey=S.forwardRef(({className:e,...t},r)=>x(dRe,{children:[l(Jre,{}),l(Hre,{ref:r,className:Lt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));ey.displayName=Hre.displayName;const ty=({className:e,...t})=>l("div",{className:Lt("flex flex-col space-y-2 text-center sm:text-left",e),...t});ty.displayName="AlertDialogHeader";const ry=({className:e,...t})=>l("div",{className:Lt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});ry.displayName="AlertDialogFooter";const ny=S.forwardRef(({className:e,...t},r)=>l(Kre,{ref:r,className:Lt("text-lg font-semibold",e),...t}));ny.displayName=Kre.displayName;const ay=S.forwardRef(({className:e,...t},r)=>l(Xre,{ref:r,className:Lt("text-sm text-muted-foreground",e),...t}));ay.displayName=Xre.displayName;const iy=S.forwardRef(({className:e,...t},r)=>l(Gre,{ref:r,className:Lt(gx(),e),...t}));iy.displayName=Gre.displayName;const sy=S.forwardRef(({className:e,...t},r)=>l(Yre,{ref:r,className:Lt(gx({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));sy.displayName=Yre.displayName;function fRe({treatment:e,onStatusChange:t,onDelete:r,onEdit:n,loading:a=!1}){const[i,s]=S.useState(!1),[o,c]=S.useState("N/A");S.useEffect(()=>{let y=null;const b=()=>{const _=e.actual_start_time?new Date(e.actual_start_time):null,N=e.actual_end_time?new Date(e.actual_end_time):null;if(N&&_)y&&clearInterval(y),c(FK(N,_));else if(_){const C=TK(new Date,_),O=Math.floor(C/3600),P=Math.floor(C%3600/60),M=C%60;c(`${String(O).padStart(2,"0")}:${String(P).padStart(2,"0")}:${String(M).padStart(2,"0")}`)}else c(u(e.estimated_duration)),y&&clearInterval(y)};return b(),e.actual_start_time&&!e.actual_end_time&&(y=setInterval(b,1e3)),()=>{y&&clearInterval(y)}},[e.actual_start_time,e.actual_end_time,e.estimated_duration]);const u=y=>{if(console.log("Received intervalValue:",y,"Type:",typeof y),!y)return"N/A";if(typeof y=="object"&&y!==null){const{days:b=0,hours:_=0,minutes:N=0,seconds:E=0}=y;let C="";return b>0&&(C+=`${b} day${b>1?"s":""} `),_>0&&(C+=`${_} hour${_>1?"s":""} `),N>0&&(C+=`${N} minute${N>1?"s":""} `),C.trim()||"N/A"}if(typeof y=="string")try{if(typeof y=="string"&&/^\d{2}:\d{2}:\d{2}$/.test(y)){const b=y.split(":").map(Number),_=b[0]||0,N=b[1]||0,E=b[2]||0;if(isNaN(_)||isNaN(N)||isNaN(E))return console.warn(`Could not parse HH:MM:SS interval: ${y}`),y;let C="";return _>0&&(C+=`${_} hour${_>1?"s":""} `),N>0&&(C+=`${N} minute${N>1?"s":""} `),E>0&&_===0&&N===0&&(C+=`${E} second${E>1?"s":""}`),C.trim()||"N/A"}return y}catch(b){return console.error("Error parsing interval string:",y,b),y}return console.warn("Unexpected interval value type:",typeof y,y),"Invalid Duration"},d=y=>{let b="bg-gray-100 text-gray-800";switch(y){case"pending":b="bg-purple-100 text-purple-800";break;case"completed":b="bg-green-100 text-green-800";break;case"cancelled":b="bg-red-100 text-red-800";break}return l("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-semibold ${b}`,children:y.replace("_"," ")})},f=y=>{let b="bg-gray-100 text-gray-800";switch(y){case"low":b="bg-green-100 text-green-800";break;case"medium":b="bg-yellow-100 text-yellow-800";break;case"high":b="bg-red-100 text-red-800";break}return l("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-semibold ${b}`,children:y})};if(!e)return l("div",{className:"text-center text-sm text-gray-500 py-4",children:"No treatment data."});const h=String(e.cost||"0"),m=parseFloat(h),w=isNaN(m)?0:m,g=e.scheduled_date||e.estimatedVisitDate;return x("div",{className:"bg-white shadow-md rounded-lg mb-3 transition-all hover:shadow-lg",children:[x("div",{className:"px-5 py-4",children:[x("div",{className:"flex justify-between items-start mb-2",children:[x("div",{children:[l("h4",{className:"font-semibold text-md text-gray-800 group-hover:text-blue-600 transition-colors duration-200",children:e.type}),l("p",{className:"text-sm text-gray-600 mt-0.5",children:e.description})]}),x("div",{className:"flex items-center space-x-2 shrink-0 ml-4",children:[d(e.status),e.priority&&f(e.priority),l(Me,{variant:"ghost",size:"icon",onClick:n,disabled:a,className:"h-7 w-7 text-gray-500 hover:text-blue-600",title:"Edit Treatment",children:l(Bce,{className:"h-4 w-4"})})]})]}),x("div",{className:"flex items-center text-xs text-gray-500 mt-3 pt-3 border-t border-gray-200",children:[g&&x(Nr,{children:[l(Oi,{className:"mr-1.5 h-3.5 w-3.5 text-gray-400"}),l("span",{className:"font-medium",children:"Visit Date:"}),l("span",{className:"ml-1",children:g}),l("span",{className:"mx-2 text-gray-300",children:"|"})," "]}),l(Us,{className:"mr-1.5 h-3.5 w-3.5 text-gray-400"}),l("span",{className:"font-medium",children:"Duration:"}),l("span",{className:"ml-1",children:o}),e.time_gap&&x(Nr,{children:[l("span",{className:"mx-2 text-gray-300",children:"|"}),l("span",{className:"font-medium",children:"Next visit in:"}),l("span",{className:"ml-1",children:e.time_gap})]})]})]}),l("div",{className:"bg-gray-50 px-5 py-3 border-t border-gray-200",children:x("div",{className:"flex items-center justify-between",children:[x("div",{className:"text-sm font-medium text-gray-700",children:["Cost: ",l("span",{className:"text-gray-900",children:Ll(w,"USD")})]}),x("div",{className:"flex items-center space-x-2",children:[e.status==="pending"&&x(Nr,{children:[x(Me,{variant:"outline",size:"sm",className:"text-xs",title:"Mark this treatment as completed",onClick:()=>t(e.id,"completed"),disabled:a||i,children:[a&&!i?l(Fn,{className:"h-3 w-3 mr-1.5 animate-spin"}):l(v1,{className:"h-3 w-3 mr-1.5"}),"Mark Complete"]}),x(Me,{variant:"outline",size:"sm",className:"text-xs",title:"Cancel this treatment",onClick:()=>t(e.id,"cancelled"),disabled:a||i,children:[a&&!i?l(Fn,{className:"h-3 w-3 mr-1.5 animate-spin"}):l(ed,{className:"h-3 w-3 mr-1.5"}),"Cancel"]})]}),(e.status==="completed"||e.status==="cancelled")&&x(Me,{variant:"outline",size:"sm",className:"text-xs",title:"Reopen this treatment (set to pending)",onClick:()=>t(e.id,"pending"),disabled:a||i,children:[a&&!i?l(Fn,{className:"h-3 w-3 mr-1.5 animate-spin"}):l(oG,{className:"h-3 w-3 mr-1.5"}),"Reopen"]})]})]})})]})}const Wz="#0060df",hRe="#22c55e",Vz="#e0e0e0",Hz="#ffffff",pRe=({steps:e,currentStepId:t,completedStepIds:r})=>{const n=(a,i)=>{const s=i===e.length-1,o=t==="completed";return r.includes(a)?o&&s?"finalComplete":"completed":a===t?o&&s?"finalComplete":"current":"pending"};return x("div",{className:"flex items-start w-full px-2 py-4 bg-white rounded-lg shadow-sm overflow-x-auto",children:[" ",e.map((a,i)=>{const s=n(a.id,i),o=i===e.length-1,c=s==="completed",u=s==="current",d=s==="finalComplete",f=d?hRe:c||u?Wz:Vz;return x(tt.Fragment,{children:[x("div",{className:"flex flex-col items-center min-w-[100px] px-1",children:[" ",l("div",{className:"flex items-center justify-center w-6 h-6 rounded-full transition-colors duration-500 mb-1",style:{backgroundColor:f},children:c||d?x("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:3,stroke:Hz,className:"w-4 h-4",children:[" ",l("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})]}):u?x("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:3,stroke:Hz,className:"w-4 h-4",children:[" ",l("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})]}):l("div",{className:"w-2 h-2 bg-gray-400 rounded-sm"})}),x("div",{className:"text-center",children:[x("div",{className:`text-xs font-medium ${c||u||d?"text-gray-700":"text-gray-400"}`,children:[" ",a.title]}),a.description&&l("div",{className:"text-[10px] text-gray-400",children:a.description})]})]}),!o&&x("div",{className:"flex-1 h-1 mx-1 relative transition-colors duration-500",style:{backgroundColor:Vz},children:[" ",l("div",{className:"absolute top-0 left-0 h-full transition-all duration-1000 ease-out",style:{width:c?"100%":"0%",backgroundColor:Wz}})]})]},a.id)})]})},mRe=(e,t)=>{if(!t)return e;const n=t.toLowerCase().match(/^(\d+)(-(\d+))?\s*(day|week|month)s?$/);if(!n)return console.warn(`Invalid timeGap format: ${t}. Defaulting to 1 day.`),Ua(e,1);const a=parseInt(n[1],10),i=n[4];switch(i){case"day":return Ua(e,a);case"week":return b1(e,a);case"month":return pl(e,a);default:return console.warn(`Unknown timeGap unit: ${i}. Defaulting to 1 day.`),Ua(e,1)}},Un={async getAllTreatmentPlans(){return It.patients.getTreatmentPlans(null)},async getPatientTreatmentPlans(e){return It.patients.getTreatmentPlans(e)},async createTreatmentPlan(e,t){const r={...e,title:e.title||"Untitled Plan",description:e.description||"No description",patient_id:e.patient_id||"",status:e.status||"planned",start_date:e.start_date||Rt(new Date,"yyyy-MM-dd"),priority:e.priority||"medium",ai_generated:e.ai_generated!==void 0?e.ai_generated:!1};return It.patients.createTreatmentPlan(r,t)},async createTreatmentPlanWithTreatments(e,t){const r={...e,title:e.title||"Untitled Plan",description:e.description||"No description",patient_id:e.patient_id||"",status:e.status||"planned",start_date:e.start_date||Rt(new Date,"yyyy-MM-dd"),priority:e.priority||"medium",ai_generated:e.ai_generated!==void 0?e.ai_generated:!1},n=t.map(a=>{const i=parseFloat(a.cost);return{...a,cost:isNaN(i)?0:i}});return It.patients.createTreatmentPlanWithTreatments(r,n)},async updateTreatmentPlan(e,t){return It.patients.updateTreatmentPlan(e,t)},async deleteTreatmentPlan(e){return It.patients.deleteTreatmentPlan(e)},async createTreatment(e){const t=parseFloat(e.cost),r={...e,cost:isNaN(t)?0:t};return It.patients.createTreatment(r)},async updateTreatment(e,t){const r={};for(const i in t)if(i==="cost"&&t.cost!==void 0){const s=parseFloat(t.cost);r.cost=isNaN(s)?void 0:s}else i==="status"&&t.status!==void 0?r.status=t.status:i==="description"&&t.description!==void 0?r.description=t.description:i==="type"&&t.type!==void 0?r.type=t.type:i==="priority"&&t.priority!==void 0?r.priority=t.priority:i==="plan_id"&&t.plan_id!==void 0?r.plan_id=t.plan_id:i==="scheduled_date"&&t.scheduled_date!==void 0?r.scheduled_date=t.scheduled_date?t.scheduled_date:null:i==="time_gap"&&t.time_gap!==void 0&&(r.time_gap=t.time_gap||null);const n=t.status,a=new Date().toISOString();return n==="completed"||n==="cancelled"?r.actual_end_time=a:n==="pending"?(r.actual_start_time=null,r.actual_end_time=null):n==="in_progress"&&(r.actual_start_time=a,r.actual_end_time=null),console.log(`Updating treatment ${e} with payload:`,r),It.patients.updateTreatment(e,r)},async deleteTreatment(e){return It.patients.deleteTreatment(e)},processTreatmentPlanData(e,t){return e.map(r=>{var f,h,m;const n=t.find(w=>w.id===r.patient_id),a=((f=r.treatments)==null?void 0:f.reduce((w,g)=>w+parseFloat(g.cost||0),0))||0,i=((h=r.treatments)==null?void 0:h.filter(w=>w.status==="completed").length)||0,s=((m=r.treatments)==null?void 0:m.length)||0,o=s?Math.round(i/s*100):0,c=Array.isArray(r.teeth)?r.teeth.map(w=>({tooth_id:w.tooth_id})).filter(w=>w.tooth_id!=null):[],u={...r};delete u.treatment_plan_teeth;const d=r.patient||(n?{full_name:`${n.first_name} ${n.last_name}`,age:n.age,gender:n.gender,registration_number:n.registration_number}:void 0);return{...u,patientName:(d==null?void 0:d.full_name)||"Unknown Patient",totalCost:a,progress:o,completedTreatments:i,totalTreatments:s,teeth:c,patient:d}})},async getVisitsByPlanId(e){if(!e)return console.warn("[treatmentService.getVisitsByPlanId] planId is required, exiting."),[];console.log(`[treatmentService.getVisitsByPlanId] Attempting for planId: ${e}`);try{console.log(`[treatmentService.getVisitsByPlanId] PRE-AWAIT for api.patients.getVisitsByPlanId with planId: ${e}`);const t=await It.patients.getVisitsByPlanId(e);if(console.log(`[treatmentService.getVisitsByPlanId] POST-AWAIT for api.patients.getVisitsByPlanId. Result for planId ${e}:`,t),!t)return console.warn(`[treatmentService.getVisitsByPlanId] visitsData is null/undefined for planId ${e}.`),[];if(!Array.isArray(t))return console.error(`[treatmentService.getVisitsByPlanId] visitsData is not an array for planId ${e}. Received:`,t),[];t.length===0&&console.log(`[treatmentService.getVisitsByPlanId] visitsData is an empty array for planId ${e}.`);const r=t.map((n,a)=>typeof n!="object"||n===null||typeof n.id>"u"?(console.warn(`[treatmentService.getVisitsByPlanId] Invalid visit object at index ${a} for planId ${e}:`,n),{id:"INVALID_VISIT_DATA"}):{id:n.id});return console.log(`[treatmentService.getVisitsByPlanId] Mapped visits for planId ${e}:`,r),r}catch(t){throw console.error(`[treatmentService.getVisitsByPlanId] CRITICAL ERROR fetching visits for plan ${e}:`,t),t}},async createMultipleVisits(e,t,r){if(!t||t.length===0)return{data:[],error:null};let n=Wr(r);const a=[];for(let i=0;i<t.length;i++){const s=t[i];i>0&&t[i-1].timeGap&&(n=mRe(n,t[i-1].timeGap));const o={treatment_plan_id:e,visit_number:i+1,procedures:s.procedures||"N/A",estimated_duration:s.estimatedDuration,time_gap:s.timeGap,status:"pending",scheduled_date:Rt(n,"yyyy-MM-dd")};a.push(o)}return It.patients.createTreatmentVisitsBatch(a)},async getAiSuggestionForPlan(e){if(!e.patient_id||!e.description)return null;try{return await It.patients.generateTreatmentPlan(e.patient_id,e.description)}catch(t){return console.error("Error fetching AI suggestion for plan:",t),null}}},gRe=Object.freeze(Object.defineProperty({__proto__:null,treatmentService:Un},Symbol.toStringTag,{value:"Module"}));function Ca(e){"@babel/helpers - typeof";return Ca=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ca(e)}var Lo=Uint8Array,gc=Uint16Array,OR=Int32Array,XN=new Lo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),JN=new Lo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),mO=new Lo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Zre=function(e,t){for(var r=new gc(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new OR(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},Qre=Zre(XN,2),ene=Qre.b,gO=Qre.r;ene[28]=258,gO[258]=28;var tne=Zre(JN,0),vRe=tne.b,Gz=tne.r,vO=new gc(32768);for(var ni=0;ni<32768;++ni){var Ip=(ni&43690)>>1|(ni&21845)<<1;Ip=(Ip&52428)>>2|(Ip&13107)<<2,Ip=(Ip&61680)>>4|(Ip&3855)<<4,vO[ni]=((Ip&65280)>>8|(Ip&255)<<8)>>1}var of=function(e,t,r){for(var n=e.length,a=0,i=new gc(t);a<n;++a)e[a]&&++i[e[a]-1];var s=new gc(t);for(a=1;a<t;++a)s[a]=s[a-1]+i[a-1]<<1;var o;if(r){o=new gc(1<<t);var c=15-t;for(a=0;a<n;++a)if(e[a])for(var u=a<<4|e[a],d=t-e[a],f=s[e[a]-1]++<<d,h=f|(1<<d)-1;f<=h;++f)o[vO[f]>>c]=u}else for(o=new gc(n),a=0;a<n;++a)e[a]&&(o[a]=vO[s[e[a]-1]++]>>15-e[a]);return o},xm=new Lo(288);for(var ni=0;ni<144;++ni)xm[ni]=8;for(var ni=144;ni<256;++ni)xm[ni]=9;for(var ni=256;ni<280;++ni)xm[ni]=7;for(var ni=280;ni<288;++ni)xm[ni]=8;var bw=new Lo(32);for(var ni=0;ni<32;++ni)bw[ni]=5;var yRe=of(xm,9,0),xRe=of(xm,9,1),wRe=of(bw,5,0),bRe=of(bw,5,1),QP=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},Iu=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},eT=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},DR=function(e){return(e+7)/8|0},rne=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Lo(e.subarray(t,r))},_Re=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Lu=function(e,t,r){var n=new Error(t||_Re[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,Lu),!r)throw n;return n},SRe=function(e,t,r,n){var a=e.length,i=0;if(!a||t.f&&!t.l)return r||new Lo(0);var s=!r,o=s||t.i!=2,c=t.i;s&&(r=new Lo(a*3));var u=function(fe){var te=r.length;if(fe>te){var Ee=new Lo(Math.max(te*2,fe));Ee.set(r),r=Ee}},d=t.f||0,f=t.p||0,h=t.b||0,m=t.l,w=t.d,g=t.m,y=t.n,b=a*8;do{if(!m){d=Iu(e,f,1);var _=Iu(e,f+1,3);if(f+=3,_)if(_==1)m=xRe,w=bRe,g=9,y=5;else if(_==2){var O=Iu(e,f,31)+257,P=Iu(e,f+10,15)+4,M=O+Iu(e,f+5,31)+1;f+=14;for(var L=new Lo(M),j=new Lo(19),T=0;T<P;++T)j[mO[T]]=Iu(e,f+T*3,7);f+=P*3;for(var I=QP(j),B=(1<<I)-1,G=of(j,I,1),T=0;T<M;){var Z=G[Iu(e,f,B)];f+=Z&15;var N=Z>>4;if(N<16)L[T++]=N;else{var re=0,W=0;for(N==16?(W=3+Iu(e,f,3),f+=2,re=L[T-1]):N==17?(W=3+Iu(e,f,7),f+=3):N==18&&(W=11+Iu(e,f,127),f+=7);W--;)L[T++]=re}}var z=L.subarray(0,O),U=L.subarray(O);g=QP(z),y=QP(U),m=of(z,g,1),w=of(U,y,1)}else Lu(1);else{var N=DR(f)+4,E=e[N-4]|e[N-3]<<8,C=N+E;if(C>a){c&&Lu(0);break}o&&u(h+E),r.set(e.subarray(N,C),h),t.b=h+=E,t.p=f=C*8,t.f=d;continue}if(f>b){c&&Lu(0);break}}o&&u(h+131072);for(var Y=(1<<g)-1,Q=(1<<y)-1,D=f;;D=f){var re=m[eT(e,f)&Y],K=re>>4;if(f+=re&15,f>b){c&&Lu(0);break}if(re||Lu(2),K<256)r[h++]=K;else if(K==256){D=f,m=null;break}else{var J=K-254;if(K>264){var T=K-257,ne=XN[T];J=Iu(e,f,(1<<ne)-1)+ene[T],f+=ne}var ie=w[eT(e,f)&Q],oe=ie>>4;ie||Lu(3),f+=ie&15;var U=vRe[oe];if(oe>3){var ne=JN[oe];U+=eT(e,f)&(1<<ne)-1,f+=ne}if(f>b){c&&Lu(0);break}o&&u(h+131072);var ue=h+J;if(h<U){var V=i-U,se=Math.min(U,ue);for(V+h<0&&Lu(3);h<se;++h)r[h]=n[V+h]}for(;h<ue;++h)r[h]=r[h-U]}}t.l=m,t.p=D,t.b=h,t.f=d,m&&(d=1,t.m=g,t.d=w,t.n=y)}while(!d);return h!=r.length&&s?rne(r,0,h):r.subarray(0,h)},th=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},_2=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},tT=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,i=r.slice();if(!a)return{t:ane,l:0};if(a==1){var s=new Lo(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(C,O){return C.f-O.f}),r.push({s:-1,f:25001});var o=r[0],c=r[1],u=0,d=1,f=2;for(r[0]={s:-1,f:o.f+c.f,l:o,r:c};d!=a-1;)o=r[r[u].f<r[f].f?u++:f++],c=r[u!=d&&r[u].f<r[f].f?u++:f++],r[d++]={s:-1,f:o.f+c.f,l:o,r:c};for(var h=i[0].s,n=1;n<a;++n)i[n].s>h&&(h=i[n].s);var m=new gc(h+1),w=yO(r[d-1],m,0);if(w>t){var n=0,g=0,y=w-t,b=1<<y;for(i.sort(function(O,P){return m[P.s]-m[O.s]||O.f-P.f});n<a;++n){var _=i[n].s;if(m[_]>t)g+=b-(1<<w-m[_]),m[_]=t;else break}for(g>>=y;g>0;){var N=i[n].s;m[N]<t?g-=1<<t-m[N]++-1:++n}for(;n>=0&&g;--n){var E=i[n].s;m[E]==t&&(--m[E],++g)}w=t}return{t:new Lo(m),l:w}},yO=function(e,t,r){return e.s==-1?Math.max(yO(e.l,t,r+1),yO(e.r,t,r+1)):t[e.s]=r},Yz=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new gc(++t),n=0,a=e[0],i=1,s=function(c){r[n++]=c},o=1;o<=t;++o)if(e[o]==a&&o!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)s(32754);i>2&&(s(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(s(a),--i;i>6;i-=6)s(8304);i>2&&(s(i-3<<5|8208),i=0)}for(;i--;)s(a);i=1,a=e[o]}return{c:r.subarray(0,n),n:t}},S2=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},nne=function(e,t,r){var n=r.length,a=DR(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<n;++i)e[a+i+4]=r[i];return(a+4+n)*8},Kz=function(e,t,r,n,a,i,s,o,c,u,d){th(t,d++,r),++a[256];for(var f=tT(a,15),h=f.t,m=f.l,w=tT(i,15),g=w.t,y=w.l,b=Yz(h),_=b.c,N=b.n,E=Yz(g),C=E.c,O=E.n,P=new gc(19),M=0;M<_.length;++M)++P[_[M]&31];for(var M=0;M<C.length;++M)++P[C[M]&31];for(var L=tT(P,7),j=L.t,T=L.l,I=19;I>4&&!j[mO[I-1]];--I);var B=u+5<<3,G=S2(a,xm)+S2(i,bw)+s,Z=S2(a,h)+S2(i,g)+s+14+3*I+S2(P,j)+2*P[16]+3*P[17]+7*P[18];if(c>=0&&B<=G&&B<=Z)return nne(t,d,e.subarray(c,c+u));var re,W,z,U;if(th(t,d,1+(Z<G)),d+=2,Z<G){re=of(h,m,0),W=h,z=of(g,y,0),U=g;var Y=of(j,T,0);th(t,d,N-257),th(t,d+5,O-1),th(t,d+10,I-4),d+=14;for(var M=0;M<I;++M)th(t,d+3*M,j[mO[M]]);d+=3*I;for(var Q=[_,C],D=0;D<2;++D)for(var K=Q[D],M=0;M<K.length;++M){var J=K[M]&31;th(t,d,Y[J]),d+=j[J],J>15&&(th(t,d,K[M]>>5&127),d+=K[M]>>12)}}else re=yRe,W=xm,z=wRe,U=bw;for(var M=0;M<o;++M){var ne=n[M];if(ne>255){var J=ne>>18&31;_2(t,d,re[J+257]),d+=W[J+257],J>7&&(th(t,d,ne>>23&31),d+=XN[J]);var ie=ne&31;_2(t,d,z[ie]),d+=U[ie],ie>3&&(_2(t,d,ne>>5&8191),d+=JN[ie])}else _2(t,d,re[ne]),d+=W[ne]}return _2(t,d,re[256]),d+W[256]},NRe=new OR([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),ane=new Lo(0),ARe=function(e,t,r,n,a,i){var s=i.z||e.length,o=new Lo(n+s+5*(1+Math.ceil(s/7e3))+a),c=o.subarray(n,o.length-a),u=i.l,d=(i.r||0)&7;if(t){d&&(c[0]=i.r>>3);for(var f=NRe[t-1],h=f>>13,m=f&8191,w=(1<<r)-1,g=i.p||new gc(32768),y=i.h||new gc(w+1),b=Math.ceil(r/3),_=2*b,N=function(Fe){return(e[Fe]^e[Fe+1]<<b^e[Fe+2]<<_)&w},E=new OR(25e3),C=new gc(288),O=new gc(32),P=0,M=0,L=i.i||0,j=0,T=i.w||0,I=0;L+2<s;++L){var B=N(L),G=L&32767,Z=y[B];if(g[G]=Z,y[B]=G,T<=L){var re=s-L;if((P>7e3||j>24576)&&(re>423||!u)){d=Kz(e,c,0,E,C,O,M,j,I,L-I,d),j=P=M=0,I=L;for(var W=0;W<286;++W)C[W]=0;for(var W=0;W<30;++W)O[W]=0}var z=2,U=0,Y=m,Q=G-Z&32767;if(re>2&&B==N(L-Q))for(var D=Math.min(h,re)-1,K=Math.min(32767,L),J=Math.min(258,re);Q<=K&&--Y&&G!=Z;){if(e[L+z]==e[L+z-Q]){for(var ne=0;ne<J&&e[L+ne]==e[L+ne-Q];++ne);if(ne>z){if(z=ne,U=Q,ne>D)break;for(var ie=Math.min(Q,ne-2),oe=0,W=0;W<ie;++W){var ue=L-Q+W&32767,V=g[ue],se=ue-V&32767;se>oe&&(oe=se,Z=ue)}}}G=Z,Z=g[G],Q+=G-Z&32767}if(U){E[j++]=268435456|gO[z]<<18|Gz[U];var fe=gO[z]&31,te=Gz[U]&31;M+=XN[fe]+JN[te],++C[257+fe],++O[te],T=L+z,++P}else E[j++]=e[L],++C[e[L]]}}for(L=Math.max(L,T);L<s;++L)E[j++]=e[L],++C[e[L]];d=Kz(e,c,u,E,C,O,M,j,I,L-I,d),u||(i.r=d&7|c[d/8|0]<<3,d-=7,i.h=y,i.p=g,i.i=L,i.w=T)}else{for(var L=i.w||0;L<s+u;L+=65535){var Ee=L+65535;Ee>=s&&(c[d/8|0]=u,Ee=s),d=nne(c,d+1,e.subarray(L,Ee))}i.i=s}return rne(o,0,n+DR(d)+a)},ine=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,i=r.length|0,s=0;s!=i;){for(var o=Math.min(s+2655,i);s<o;++s)a+=n+=r[s];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},kRe=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),s=new Lo(i.length+e.length);s.set(i),s.set(e,i.length),e=s,a.w=i.length}return ARe(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},sne=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},ERe=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=ine();a.p(t.dictionary),sne(e,2,a.d())}},CRe=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Lu(6,"invalid zlib data"),(e[1]>>5&1)==1&&Lu(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function xO(e,t){t||(t={});var r=ine();r.p(e);var n=kRe(e,t,t.dictionary?6:2,4);return ERe(n,t),sne(n,n.length-4,r.d()),n}function PRe(e,t){return SRe(e.subarray(CRe(e),-4),{i:2},t,t)}var TRe=typeof TextDecoder<"u"&&new TextDecoder,ORe=0;try{TRe.decode(ane,{stream:!0}),ORe=1}catch{}var nn=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function rT(){nn.console&&typeof nn.console.log=="function"&&nn.console.log.apply(nn.console,arguments)}var Ra={log:rT,warn:function(e){nn.console&&(typeof nn.console.warn=="function"?nn.console.warn.apply(nn.console,arguments):rT.call(null,arguments))},error:function(e){nn.console&&(typeof nn.console.error=="function"?nn.console.error.apply(nn.console,arguments):rT(e))}};function nT(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){P0(n.response,t,r)},n.onerror=function(){Ra.error("could not download file")},n.send()}function Xz(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function R_(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var tx,wO,P0=nn.saveAs||((typeof window>"u"?"undefined":Ca(window))!=="object"||window!==nn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=nn.URL||nn.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?Xz(a.href)?nT(e,t,r):R_(a,a.target="_blank"):R_(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){R_(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(Xz(e))nT(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){R_(n)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:Ca(i)!=="object"&&(Ra.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return nT(e,t,r);var a=e.type==="application/octet-stream",i=/constructor/i.test(nn.HTMLElement)||nn.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||a&&i)&&(typeof FileReader>"u"?"undefined":Ca(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var d=o.result;d=s?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},o.readAsDataURL(e)}else{var c=nn.URL||nn.webkitURL,u=c.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function one(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,s=a.exec(e);s&&(t=i(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+o+c+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function aT(e,t){var r=e[0],n=e[1],a=e[2],i=e[3];r=So(r,n,a,i,t[0],7,-680876936),i=So(i,r,n,a,t[1],12,-389564586),a=So(a,i,r,n,t[2],17,606105819),n=So(n,a,i,r,t[3],22,-1044525330),r=So(r,n,a,i,t[4],7,-176418897),i=So(i,r,n,a,t[5],12,1200080426),a=So(a,i,r,n,t[6],17,-1473231341),n=So(n,a,i,r,t[7],22,-45705983),r=So(r,n,a,i,t[8],7,1770035416),i=So(i,r,n,a,t[9],12,-1958414417),a=So(a,i,r,n,t[10],17,-42063),n=So(n,a,i,r,t[11],22,-1990404162),r=So(r,n,a,i,t[12],7,1804603682),i=So(i,r,n,a,t[13],12,-40341101),a=So(a,i,r,n,t[14],17,-1502002290),r=No(r,n=So(n,a,i,r,t[15],22,1236535329),a,i,t[1],5,-165796510),i=No(i,r,n,a,t[6],9,-1069501632),a=No(a,i,r,n,t[11],14,643717713),n=No(n,a,i,r,t[0],20,-373897302),r=No(r,n,a,i,t[5],5,-701558691),i=No(i,r,n,a,t[10],9,38016083),a=No(a,i,r,n,t[15],14,-660478335),n=No(n,a,i,r,t[4],20,-405537848),r=No(r,n,a,i,t[9],5,568446438),i=No(i,r,n,a,t[14],9,-1019803690),a=No(a,i,r,n,t[3],14,-187363961),n=No(n,a,i,r,t[8],20,1163531501),r=No(r,n,a,i,t[13],5,-1444681467),i=No(i,r,n,a,t[2],9,-51403784),a=No(a,i,r,n,t[7],14,1735328473),r=Ao(r,n=No(n,a,i,r,t[12],20,-1926607734),a,i,t[5],4,-378558),i=Ao(i,r,n,a,t[8],11,-2022574463),a=Ao(a,i,r,n,t[11],16,1839030562),n=Ao(n,a,i,r,t[14],23,-35309556),r=Ao(r,n,a,i,t[1],4,-1530992060),i=Ao(i,r,n,a,t[4],11,1272893353),a=Ao(a,i,r,n,t[7],16,-155497632),n=Ao(n,a,i,r,t[10],23,-1094730640),r=Ao(r,n,a,i,t[13],4,681279174),i=Ao(i,r,n,a,t[0],11,-358537222),a=Ao(a,i,r,n,t[3],16,-722521979),n=Ao(n,a,i,r,t[6],23,76029189),r=Ao(r,n,a,i,t[9],4,-640364487),i=Ao(i,r,n,a,t[12],11,-421815835),a=Ao(a,i,r,n,t[15],16,530742520),r=ko(r,n=Ao(n,a,i,r,t[2],23,-995338651),a,i,t[0],6,-198630844),i=ko(i,r,n,a,t[7],10,1126891415),a=ko(a,i,r,n,t[14],15,-1416354905),n=ko(n,a,i,r,t[5],21,-57434055),r=ko(r,n,a,i,t[12],6,1700485571),i=ko(i,r,n,a,t[3],10,-1894986606),a=ko(a,i,r,n,t[10],15,-1051523),n=ko(n,a,i,r,t[1],21,-2054922799),r=ko(r,n,a,i,t[8],6,1873313359),i=ko(i,r,n,a,t[15],10,-30611744),a=ko(a,i,r,n,t[6],15,-1560198380),n=ko(n,a,i,r,t[13],21,1309151649),r=ko(r,n,a,i,t[4],6,-145523070),i=ko(i,r,n,a,t[11],10,-1120210379),a=ko(a,i,r,n,t[2],15,718787259),n=ko(n,a,i,r,t[9],21,-343485551),e[0]=Zp(r,e[0]),e[1]=Zp(n,e[1]),e[2]=Zp(a,e[2]),e[3]=Zp(i,e[3])}function ZN(e,t,r,n,a,i){return t=Zp(Zp(t,e),Zp(n,i)),Zp(t<<a|t>>>32-a,r)}function So(e,t,r,n,a,i,s){return ZN(t&r|~t&n,e,t,a,i,s)}function No(e,t,r,n,a,i,s){return ZN(t&n|r&~n,e,t,a,i,s)}function Ao(e,t,r,n,a,i,s){return ZN(t^r^n,e,t,a,i,s)}function ko(e,t,r,n,a,i,s){return ZN(r^(t|~n),e,t,a,i,s)}function lne(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)aT(n,DRe(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(aT(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,aT(n,a),n}function DRe(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}tx=nn.atob.bind(nn),wO=nn.btoa.bind(nn);var Jz="0123456789abcdef".split("");function IRe(e){for(var t="",r=0;r<4;r++)t+=Jz[e>>8*r+4&15]+Jz[e>>8*r&15];return t}function RRe(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function bO(e){return lne(e).map(RRe).join("")}var MRe=function(e){for(var t=0;t<e.length;t++)e[t]=IRe(e[t]);return e.join("")}(lne("hello"))!="5d41402abc4b2a76b9719d911017c592";function Zp(e,t){if(MRe){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function _O(e,t){var r,n,a,i;if(e!==r){for(var s=(a=e,i=1+(256/e.length>>0),new Array(i+1).join(a)),o=[],c=0;c<256;c++)o[c]=c;var u=0;for(c=0;c<256;c++){var d=o[c];u=(u+d+s.charCodeAt(c))%256,o[c]=o[u],o[u]=d}r=e,n=o}else o=n;var f=t.length,h=0,m=0,w="";for(c=0;c<f;c++)m=(m+(d=o[h=(h+1)%256]))%256,o[h]=o[m],o[m]=d,s=o[(o[h]+o[m])%256],w+=String.fromCharCode(t.charCodeAt(c)^s);return w}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Zz={print:4,modify:8,copy:16,"annot-forms":32};function $v(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(o){if(Zz.perm!==void 0)throw new Error("Invalid permission: "+o);a+=Zz[o]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var i=(t+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,s),this.P=-(1+(255^a)),this.encryptionKey=bO(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=_O(this.encryptionKey,this.padding)}function Bv(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?t+="#"+("0"+a.toString(16)).slice(-2):t+=e[n]}return t}function Qz(e){if(Ca(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[r]){var s=t[r][i];try{s[0].apply(e,n)}catch(o){nn.console&&Ra.error("jsPDF PubSub Error",o.message,o)}s[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function GS(e){if(!(this instanceof GS))return new GS(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function cne(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function O0(e,t,r,n,a){if(!(this instanceof O0))return new O0(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,cne.call(this,n,a)}function Gv(e,t,r,n,a){if(!(this instanceof Gv))return new Gv(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,cne.call(this,n,a)}function Hr(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],s=[],o=1,c=16,u="S",d=null;Ca(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,i=e.compress||e.compressPdf||i,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),u=e.defaultPathOperation||"S"),s=e.filters||(i===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,h={},m={internal:{},__private__:{}};m.__private__.PubSub=Qz;var w="1.3",g=m.__private__.getPdfVersion=function(){return w};m.__private__.setPdfVersion=function(q){w=q};var y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return y};var b=m.__private__.getPageFormat=function(q){return y[q]};a=a||"a4";var _={COMPAT:"compat",ADVANCED:"advanced"},N=_.COMPAT;function E(){this.saveGraphicsState(),ve(new yt(vt,0,0,-vt,0,kd()*vt).toString()+" cm"),this.setFontSize(this.getFontSize()/vt),u="n",N=_.ADVANCED}function C(){this.restoreGraphicsState(),u="S",N=_.COMPAT}var O=m.__private__.combineFontStyleAndFontWeight=function(q,de){if(q=="bold"&&de=="normal"||q=="bold"&&de==400||q=="normal"&&de=="italic"||q=="bold"&&de=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return de&&(q=de==400||de==="normal"?q==="italic"?"italic":"normal":de!=700&&de!=="bold"||q!=="normal"?(de==700?"bold":de)+""+q:"bold"),q};m.advancedAPI=function(q){var de=N===_.COMPAT;return de&&E.call(this),typeof q!="function"||(q(this),de&&C.call(this)),this},m.compatAPI=function(q){var de=N===_.ADVANCED;return de&&C.call(this),typeof q!="function"||(q(this),de&&E.call(this)),this},m.isAdvancedAPI=function(){return N===_.ADVANCED};var P,M=function(q){if(N!==_.ADVANCED)throw new Error(q+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},L=m.roundToPrecision=m.__private__.roundToPrecision=function(q,de){var Te=t||de;if(isNaN(q)||isNaN(Te))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return q.toFixed(Te).replace(/0+$/,"")};P=m.hpf=m.__private__.hpf=typeof c=="number"?function(q){if(isNaN(q))throw new Error("Invalid argument passed to jsPDF.hpf");return L(q,c)}:c==="smart"?function(q){if(isNaN(q))throw new Error("Invalid argument passed to jsPDF.hpf");return L(q,q>-1&&q<1?16:5)}:function(q){if(isNaN(q))throw new Error("Invalid argument passed to jsPDF.hpf");return L(q,16)};var j=m.f2=m.__private__.f2=function(q){if(isNaN(q))throw new Error("Invalid argument passed to jsPDF.f2");return L(q,2)},T=m.__private__.f3=function(q){if(isNaN(q))throw new Error("Invalid argument passed to jsPDF.f3");return L(q,3)},I=m.scale=m.__private__.scale=function(q){if(isNaN(q))throw new Error("Invalid argument passed to jsPDF.scale");return N===_.COMPAT?q*vt:N===_.ADVANCED?q:void 0},B=function(q){return N===_.COMPAT?kd()-q:N===_.ADVANCED?q:void 0},G=function(q){return I(B(q))};m.__private__.setPrecision=m.setPrecision=function(q){typeof parseInt(q,10)=="number"&&(t=parseInt(q,10))};var Z,re="00000000000000000000000000000000",W=m.__private__.getFileId=function(){return re},z=m.__private__.setFileId=function(q){return re=q!==void 0&&/^[a-fA-F0-9]{32}$/.test(q)?q.toUpperCase():re.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Ga=new $v(d.userPermissions,d.userPassword,d.ownerPassword,re)),re};m.setFileId=function(q){return z(q),this},m.getFileId=function(){return W()};var U=m.__private__.convertDateToPDFDate=function(q){var de=q.getTimezoneOffset(),Te=de<0?"+":"-",$e=Math.floor(Math.abs(de/60)),nt=Math.abs(de%60),kt=[Te,J($e),"'",J(nt),"'"].join("");return["D:",q.getFullYear(),J(q.getMonth()+1),J(q.getDate()),J(q.getHours()),J(q.getMinutes()),J(q.getSeconds()),kt].join("")},Y=m.__private__.convertPDFDateToDate=function(q){var de=parseInt(q.substr(2,4),10),Te=parseInt(q.substr(6,2),10)-1,$e=parseInt(q.substr(8,2),10),nt=parseInt(q.substr(10,2),10),kt=parseInt(q.substr(12,2),10),$t=parseInt(q.substr(14,2),10);return new Date(de,Te,$e,nt,kt,$t,0)},Q=m.__private__.setCreationDate=function(q){var de;if(q===void 0&&(q=new Date),q instanceof Date)de=U(q);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(q))throw new Error("Invalid argument passed to jsPDF.setCreationDate");de=q}return Z=de},D=m.__private__.getCreationDate=function(q){var de=Z;return q==="jsDate"&&(de=Y(Z)),de};m.setCreationDate=function(q){return Q(q),this},m.getCreationDate=function(q){return D(q)};var K,J=m.__private__.padd2=function(q){return("0"+parseInt(q)).slice(-2)},ne=m.__private__.padd2Hex=function(q){return("00"+(q=q.toString())).substr(q.length)},ie=0,oe=[],ue=[],V=0,se=[],fe=[],te=!1,Ee=ue,Fe=function(){ie=0,V=0,ue=[],oe=[],se=[],xe=Jt(),Se=Jt()};m.__private__.setCustomOutputDestination=function(q){te=!0,Ee=q};var Pe=function(q){te||(Ee=q)};m.__private__.resetCustomOutputDestination=function(){te=!1,Ee=ue};var ve=m.__private__.out=function(q){return q=q.toString(),V+=q.length+1,Ee.push(q),Ee},Ge=m.__private__.write=function(q){return ve(arguments.length===1?q.toString():Array.prototype.join.call(arguments," "))},ht=m.__private__.getArrayBuffer=function(q){for(var de=q.length,Te=new ArrayBuffer(de),$e=new Uint8Array(Te);de--;)$e[de]=q.charCodeAt(de);return Te},at=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return at};var St=e.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(q){return St=N===_.ADVANCED?q/vt:q,this};var wt,_e=m.__private__.getFontSize=m.getFontSize=function(){return N===_.COMPAT?St:St*vt},ge=e.R2L||!1;m.__private__.setR2L=m.setR2L=function(q){return ge=q,this},m.__private__.getR2L=m.getR2L=function(){return ge};var Ce,Je=m.__private__.setZoomMode=function(q){var de=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(q))wt=q;else if(isNaN(q)){if(de.indexOf(q)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+q+'" is not recognized.');wt=q}else wt=parseInt(q,10)};m.__private__.getZoomMode=function(){return wt};var Qe,Xe=m.__private__.setPageMode=function(q){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(q)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+q+'" is not recognized.');Ce=q};m.__private__.getPageMode=function(){return Ce};var Ke=m.__private__.setLayoutMode=function(q){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(q)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+q+'" is not recognized.');Qe=q};m.__private__.getLayoutMode=function(){return Qe},m.__private__.setDisplayMode=m.setDisplayMode=function(q,de,Te){return Je(q),Ke(de),Xe(Te),this};var At={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(q){if(Object.keys(At).indexOf(q)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return At[q]},m.__private__.getDocumentProperties=function(){return At},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(q){for(var de in At)At.hasOwnProperty(de)&&q[de]&&(At[de]=q[de]);return this},m.__private__.setDocumentProperty=function(q,de){if(Object.keys(At).indexOf(q)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return At[q]=de};var Nt,vt,Tr,cr,Nn,ct={},Dt={},Vr=[],gr={},Kr={},fr={},Er={},hn=null,Mr=0,hr=[],Zr=new Qz(m),Fi=e.hotfixes||[],la={},Wa={},lt=[],yt=function q(de,Te,$e,nt,kt,$t){if(!(this instanceof q))return new q(de,Te,$e,nt,kt,$t);isNaN(de)&&(de=1),isNaN(Te)&&(Te=0),isNaN($e)&&($e=0),isNaN(nt)&&(nt=1),isNaN(kt)&&(kt=0),isNaN($t)&&($t=0),this._matrix=[de,Te,$e,nt,kt,$t]};Object.defineProperty(yt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(q){this._matrix[0]=q}}),Object.defineProperty(yt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(q){this._matrix[1]=q}}),Object.defineProperty(yt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(q){this._matrix[2]=q}}),Object.defineProperty(yt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(q){this._matrix[3]=q}}),Object.defineProperty(yt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(q){this._matrix[4]=q}}),Object.defineProperty(yt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(q){this._matrix[5]=q}}),Object.defineProperty(yt.prototype,"a",{get:function(){return this._matrix[0]},set:function(q){this._matrix[0]=q}}),Object.defineProperty(yt.prototype,"b",{get:function(){return this._matrix[1]},set:function(q){this._matrix[1]=q}}),Object.defineProperty(yt.prototype,"c",{get:function(){return this._matrix[2]},set:function(q){this._matrix[2]=q}}),Object.defineProperty(yt.prototype,"d",{get:function(){return this._matrix[3]},set:function(q){this._matrix[3]=q}}),Object.defineProperty(yt.prototype,"e",{get:function(){return this._matrix[4]},set:function(q){this._matrix[4]=q}}),Object.defineProperty(yt.prototype,"f",{get:function(){return this._matrix[5]},set:function(q){this._matrix[5]=q}}),Object.defineProperty(yt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(yt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(yt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(yt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),yt.prototype.join=function(q){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(P).join(q)},yt.prototype.multiply=function(q){var de=q.sx*this.sx+q.shy*this.shx,Te=q.sx*this.shy+q.shy*this.sy,$e=q.shx*this.sx+q.sy*this.shx,nt=q.shx*this.shy+q.sy*this.sy,kt=q.tx*this.sx+q.ty*this.shx+this.tx,$t=q.tx*this.shy+q.ty*this.sy+this.ty;return new yt(de,Te,$e,nt,kt,$t)},yt.prototype.decompose=function(){var q=this.sx,de=this.shy,Te=this.shx,$e=this.sy,nt=this.tx,kt=this.ty,$t=Math.sqrt(q*q+de*de),ur=(q/=$t)*Te+(de/=$t)*$e;Te-=q*ur,$e-=de*ur;var Lr=Math.sqrt(Te*Te+$e*$e);return ur/=Lr,q*($e/=Lr)<de*(Te/=Lr)&&(q=-q,de=-de,ur=-ur,$t=-$t),{scale:new yt($t,0,0,Lr,0,0),translate:new yt(1,0,0,1,nt,kt),rotate:new yt(q,de,-de,q,0,0),skew:new yt(1,0,ur,1,0,0)}},yt.prototype.toString=function(q){return this.join(" ")},yt.prototype.inversed=function(){var q=this.sx,de=this.shy,Te=this.shx,$e=this.sy,nt=this.tx,kt=this.ty,$t=1/(q*$e-de*Te),ur=$e*$t,Lr=-de*$t,gn=-Te*$t,mn=q*$t;return new yt(ur,Lr,gn,mn,-ur*nt-gn*kt,-Lr*nt-mn*kt)},yt.prototype.applyToPoint=function(q){var de=q.x*this.sx+q.y*this.shx+this.tx,Te=q.x*this.shy+q.y*this.sy+this.ty;return new Oc(de,Te)},yt.prototype.applyToRectangle=function(q){var de=this.applyToPoint(q),Te=this.applyToPoint(new Oc(q.x+q.w,q.y+q.h));return new Ad(de.x,de.y,Te.x-de.x,Te.y-de.y)},yt.prototype.clone=function(){var q=this.sx,de=this.shy,Te=this.shx,$e=this.sy,nt=this.tx,kt=this.ty;return new yt(q,de,Te,$e,nt,kt)},m.Matrix=yt;var Fr=m.matrixMult=function(q,de){return de.multiply(q)},ta=new yt(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=ta;var bt=function(q,de){if(!Kr[q]){var Te=(de instanceof O0?"Sh":"P")+(Object.keys(gr).length+1).toString(10);de.id=Te,Kr[q]=Te,gr[Te]=de,Zr.publish("addPattern",de)}};m.ShadingPattern=O0,m.TilingPattern=Gv,m.addShadingPattern=function(q,de){return M("addShadingPattern()"),bt(q,de),this},m.beginTilingPattern=function(q){M("beginTilingPattern()"),Hg(q.boundingBox[0],q.boundingBox[1],q.boundingBox[2]-q.boundingBox[0],q.boundingBox[3]-q.boundingBox[1],q.matrix)},m.endTilingPattern=function(q,de){M("endTilingPattern()"),de.stream=fe[K].join(`
`),bt(q,de),Zr.publish("endTilingPattern",de),lt.pop().restore()};var gt=m.__private__.newObject=function(){var q=Jt();return ce(q,!0),q},Jt=m.__private__.newObjectDeferred=function(){return ie++,oe[ie]=function(){return V},ie},ce=function(q,de){return de=typeof de=="boolean"&&de,oe[q]=V,de&&ve(q+" 0 obj"),q},we=m.__private__.newAdditionalObject=function(){var q={objId:Jt(),content:""};return se.push(q),q},xe=Jt(),Se=Jt(),Ae=m.__private__.decodeColorString=function(q){var de=q.split(" ");if(de.length!==2||de[1]!=="g"&&de[1]!=="G")de.length===5&&(de[4]==="k"||de[4]==="K")&&(de=[(1-de[0])*(1-de[3]),(1-de[1])*(1-de[3]),(1-de[2])*(1-de[3]),"r"]);else{var Te=parseFloat(de[0]);de=[Te,Te,Te,"r"]}for(var $e="#",nt=0;nt<3;nt++)$e+=("0"+Math.floor(255*parseFloat(de[nt])).toString(16)).slice(-2);return $e},Ne=m.__private__.encodeColorString=function(q){var de;typeof q=="string"&&(q={ch1:q});var Te=q.ch1,$e=q.ch2,nt=q.ch3,kt=q.ch4,$t=q.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Te=="string"&&Te.charAt(0)!=="#"){var ur=new one(Te);if(ur.ok)Te=ur.toHex();else if(!/^\d*\.?\d*$/.test(Te))throw new Error('Invalid color "'+Te+'" passed to jsPDF.encodeColorString.')}if(typeof Te=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Te)&&(Te="#"+Te[1]+Te[1]+Te[2]+Te[2]+Te[3]+Te[3]),typeof Te=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Te)){var Lr=parseInt(Te.substr(1),16);Te=Lr>>16&255,$e=Lr>>8&255,nt=255&Lr}if($e===void 0||kt===void 0&&Te===$e&&$e===nt)if(typeof Te=="string")de=Te+" "+$t[0];else switch(q.precision){case 2:de=j(Te/255)+" "+$t[0];break;case 3:default:de=T(Te/255)+" "+$t[0]}else if(kt===void 0||Ca(kt)==="object"){if(kt&&!isNaN(kt.a)&&kt.a===0)return de=["1.","1.","1.",$t[1]].join(" ");if(typeof Te=="string")de=[Te,$e,nt,$t[1]].join(" ");else switch(q.precision){case 2:de=[j(Te/255),j($e/255),j(nt/255),$t[1]].join(" ");break;default:case 3:de=[T(Te/255),T($e/255),T(nt/255),$t[1]].join(" ")}}else if(typeof Te=="string")de=[Te,$e,nt,kt,$t[2]].join(" ");else switch(q.precision){case 2:de=[j(Te),j($e),j(nt),j(kt),$t[2]].join(" ");break;case 3:default:de=[T(Te),T($e),T(nt),T(kt),$t[2]].join(" ")}return de},We=m.__private__.getFilters=function(){return s},ft=m.__private__.putStream=function(q){var de=(q=q||{}).data||"",Te=q.filters||We(),$e=q.alreadyAppliedFilters||[],nt=q.addLength1||!1,kt=de.length,$t=q.objectId,ur=function(As){return As};if(d!==null&&$t===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(ur=Ga.encryptor($t,0));var Lr={};Te===!0&&(Te=["FlateEncode"]);var gn=q.additionalKeyValues||[],mn=(Lr=Hr.API.processDataByFilters!==void 0?Hr.API.processDataByFilters(de,Te):{data:de,reverseChain:[]}).reverseChain+(Array.isArray($e)?$e.join(" "):$e.toString());if(Lr.data.length!==0&&(gn.push({key:"Length",value:Lr.data.length}),nt===!0&&gn.push({key:"Length1",value:kt})),mn.length!=0)if(mn.split("/").length-1==1)gn.push({key:"Filter",value:mn});else{gn.push({key:"Filter",value:"["+mn+"]"});for(var In=0;In<gn.length;In+=1)if(gn[In].key==="DecodeParms"){for(var Ya=[],si=0;si<Lr.reverseChain.split("/").length-1;si+=1)Ya.push("null");Ya.push(gn[In].value),gn[In].value="["+Ya.join(" ")+"]"}}ve("<<");for(var Si=0;Si<gn.length;Si++)ve("/"+gn[Si].key+" "+gn[Si].value);ve(">>"),Lr.data.length!==0&&(ve("stream"),ve(ur(Lr.data)),ve("endstream"))},rt=m.__private__.putPage=function(q){var de=q.number,Te=q.data,$e=q.objId,nt=q.contentsObjId;ce($e,!0),ve("<</Type /Page"),ve("/Parent "+q.rootDictionaryObjId+" 0 R"),ve("/Resources "+q.resourceDictionaryObjId+" 0 R"),ve("/MediaBox ["+parseFloat(P(q.mediaBox.bottomLeftX))+" "+parseFloat(P(q.mediaBox.bottomLeftY))+" "+P(q.mediaBox.topRightX)+" "+P(q.mediaBox.topRightY)+"]"),q.cropBox!==null&&ve("/CropBox ["+P(q.cropBox.bottomLeftX)+" "+P(q.cropBox.bottomLeftY)+" "+P(q.cropBox.topRightX)+" "+P(q.cropBox.topRightY)+"]"),q.bleedBox!==null&&ve("/BleedBox ["+P(q.bleedBox.bottomLeftX)+" "+P(q.bleedBox.bottomLeftY)+" "+P(q.bleedBox.topRightX)+" "+P(q.bleedBox.topRightY)+"]"),q.trimBox!==null&&ve("/TrimBox ["+P(q.trimBox.bottomLeftX)+" "+P(q.trimBox.bottomLeftY)+" "+P(q.trimBox.topRightX)+" "+P(q.trimBox.topRightY)+"]"),q.artBox!==null&&ve("/ArtBox ["+P(q.artBox.bottomLeftX)+" "+P(q.artBox.bottomLeftY)+" "+P(q.artBox.topRightX)+" "+P(q.artBox.topRightY)+"]"),typeof q.userUnit=="number"&&q.userUnit!==1&&ve("/UserUnit "+q.userUnit),Zr.publish("putPage",{objId:$e,pageContext:hr[de],pageNumber:de,page:Te}),ve("/Contents "+nt+" 0 R"),ve(">>"),ve("endobj");var kt=Te.join(`
`);return N===_.ADVANCED&&(kt+=`
Q`),ce(nt,!0),ft({data:kt,filters:We(),objectId:nt}),ve("endobj"),$e},ot=m.__private__.putPages=function(){var q,de,Te=[];for(q=1;q<=Mr;q++)hr[q].objId=Jt(),hr[q].contentsObjId=Jt();for(q=1;q<=Mr;q++)Te.push(rt({number:q,data:fe[q],objId:hr[q].objId,contentsObjId:hr[q].contentsObjId,mediaBox:hr[q].mediaBox,cropBox:hr[q].cropBox,bleedBox:hr[q].bleedBox,trimBox:hr[q].trimBox,artBox:hr[q].artBox,userUnit:hr[q].userUnit,rootDictionaryObjId:xe,resourceDictionaryObjId:Se}));ce(xe,!0),ve("<</Type /Pages");var $e="/Kids [";for(de=0;de<Mr;de++)$e+=Te[de]+" 0 R ";ve($e+"]"),ve("/Count "+Mr),ve(">>"),ve("endobj"),Zr.publish("postPutPages")},Ze=function(q){Zr.publish("putFont",{font:q,out:ve,newObject:gt,putStream:ft}),q.isAlreadyPutted!==!0&&(q.objectNumber=gt(),ve("<<"),ve("/Type /Font"),ve("/BaseFont /"+Bv(q.postScriptName)),ve("/Subtype /Type1"),typeof q.encoding=="string"&&ve("/Encoding /"+q.encoding),ve("/FirstChar 32"),ve("/LastChar 255"),ve(">>"),ve("endobj"))},Ft=function(){for(var q in ct)ct.hasOwnProperty(q)&&(f===!1||f===!0&&h.hasOwnProperty(q))&&Ze(ct[q])},Zt=function(q){q.objectNumber=gt();var de=[];de.push({key:"Type",value:"/XObject"}),de.push({key:"Subtype",value:"/Form"}),de.push({key:"BBox",value:"["+[P(q.x),P(q.y),P(q.x+q.width),P(q.y+q.height)].join(" ")+"]"}),de.push({key:"Matrix",value:"["+q.matrix.toString()+"]"});var Te=q.pages[1].join(`
`);ft({data:Te,additionalKeyValues:de,objectId:q.objectNumber}),ve("endobj")},lr=function(){for(var q in la)la.hasOwnProperty(q)&&Zt(la[q])},Wt=function(q,de){var Te,$e=[],nt=1/(de-1);for(Te=0;Te<1;Te+=nt)$e.push(Te);if($e.push(1),q[0].offset!=0){var kt={offset:0,color:q[0].color};q.unshift(kt)}if(q[q.length-1].offset!=1){var $t={offset:1,color:q[q.length-1].color};q.push($t)}for(var ur="",Lr=0,gn=0;gn<$e.length;gn++){for(Te=$e[gn];Te>q[Lr+1].offset;)Lr++;var mn=q[Lr].offset,In=(Te-mn)/(q[Lr+1].offset-mn),Ya=q[Lr].color,si=q[Lr+1].color;ur+=ne(Math.round((1-In)*Ya[0]+In*si[0]).toString(16))+ne(Math.round((1-In)*Ya[1]+In*si[1]).toString(16))+ne(Math.round((1-In)*Ya[2]+In*si[2]).toString(16))}return ur.trim()},qt=function(q,de){de||(de=21);var Te=gt(),$e=Wt(q.colors,de),nt=[];nt.push({key:"FunctionType",value:"0"}),nt.push({key:"Domain",value:"[0.0 1.0]"}),nt.push({key:"Size",value:"["+de+"]"}),nt.push({key:"BitsPerSample",value:"8"}),nt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),nt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ft({data:$e,additionalKeyValues:nt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Te}),ve("endobj"),q.objectNumber=gt(),ve("<< /ShadingType "+q.type),ve("/ColorSpace /DeviceRGB");var kt="/Coords ["+P(parseFloat(q.coords[0]))+" "+P(parseFloat(q.coords[1]))+" ";q.type===2?kt+=P(parseFloat(q.coords[2]))+" "+P(parseFloat(q.coords[3])):kt+=P(parseFloat(q.coords[2]))+" "+P(parseFloat(q.coords[3]))+" "+P(parseFloat(q.coords[4]))+" "+P(parseFloat(q.coords[5])),ve(kt+="]"),q.matrix&&ve("/Matrix ["+q.matrix.toString()+"]"),ve("/Function "+Te+" 0 R"),ve("/Extend [true true]"),ve(">>"),ve("endobj")},rn=function(q,de){var Te=Jt(),$e=gt();de.push({resourcesOid:Te,objectOid:$e}),q.objectNumber=$e;var nt=[];nt.push({key:"Type",value:"/Pattern"}),nt.push({key:"PatternType",value:"1"}),nt.push({key:"PaintType",value:"1"}),nt.push({key:"TilingType",value:"1"}),nt.push({key:"BBox",value:"["+q.boundingBox.map(P).join(" ")+"]"}),nt.push({key:"XStep",value:P(q.xStep)}),nt.push({key:"YStep",value:P(q.yStep)}),nt.push({key:"Resources",value:Te+" 0 R"}),q.matrix&&nt.push({key:"Matrix",value:"["+q.matrix.toString()+"]"}),ft({data:q.stream,additionalKeyValues:nt,objectId:q.objectNumber}),ve("endobj")},zn=function(q){var de;for(de in gr)gr.hasOwnProperty(de)&&(gr[de]instanceof O0?qt(gr[de]):gr[de]instanceof Gv&&rn(gr[de],q))},ca=function(q){for(var de in q.objectNumber=gt(),ve("<<"),q)switch(de){case"opacity":ve("/ca "+j(q[de]));break;case"stroke-opacity":ve("/CA "+j(q[de]))}ve(">>"),ve("endobj")},Va=function(){var q;for(q in fr)fr.hasOwnProperty(q)&&ca(fr[q])},Hl=function(){for(var q in ve("/XObject <<"),la)la.hasOwnProperty(q)&&la[q].objectNumber>=0&&ve("/"+q+" "+la[q].objectNumber+" 0 R");Zr.publish("putXobjectDict"),ve(">>")},Ac=function(){Ga.oid=gt(),ve("<<"),ve("/Filter /Standard"),ve("/V "+Ga.v),ve("/R "+Ga.r),ve("/U <"+Ga.toHexString(Ga.U)+">"),ve("/O <"+Ga.toHexString(Ga.O)+">"),ve("/P "+Ga.P),ve(">>"),ve("endobj")},Go=function(){for(var q in ve("/Font <<"),ct)ct.hasOwnProperty(q)&&(f===!1||f===!0&&h.hasOwnProperty(q))&&ve("/"+q+" "+ct[q].objectNumber+" 0 R");ve(">>")},_i=function(){if(Object.keys(gr).length>0){for(var q in ve("/Shading <<"),gr)gr.hasOwnProperty(q)&&gr[q]instanceof O0&&gr[q].objectNumber>=0&&ve("/"+q+" "+gr[q].objectNumber+" 0 R");Zr.publish("putShadingPatternDict"),ve(">>")}},kc=function(q){if(Object.keys(gr).length>0){for(var de in ve("/Pattern <<"),gr)gr.hasOwnProperty(de)&&gr[de]instanceof m.TilingPattern&&gr[de].objectNumber>=0&&gr[de].objectNumber<q&&ve("/"+de+" "+gr[de].objectNumber+" 0 R");Zr.publish("putTilingPatternDict"),ve(">>")}},Ha=function(){if(Object.keys(fr).length>0){var q;for(q in ve("/ExtGState <<"),fr)fr.hasOwnProperty(q)&&fr[q].objectNumber>=0&&ve("/"+q+" "+fr[q].objectNumber+" 0 R");Zr.publish("putGStateDict"),ve(">>")}},fi=function(q){ce(q.resourcesOid,!0),ve("<<"),ve("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Go(),_i(),kc(q.objectOid),Ha(),Hl(),ve(">>"),ve("endobj")},Bg=function(){var q=[];Ft(),Va(),lr(),zn(q),Zr.publish("putResources"),q.forEach(fi),fi({resourcesOid:Se,objectOid:Number.MAX_SAFE_INTEGER}),Zr.publish("postPutResources")},Ug=function(){Zr.publish("putAdditionalObjects");for(var q=0;q<se.length;q++){var de=se[q];ce(de.objId,!0),ve(de.content),ve("endobj")}Zr.publish("postPutAdditionalObjects")},Sf=function(q){Dt[q.fontName]=Dt[q.fontName]||{},Dt[q.fontName][q.fontStyle]=q.id},yd=function(q,de,Te,$e,nt){var kt={id:"F"+(Object.keys(ct).length+1).toString(10),postScriptName:q,fontName:de,fontStyle:Te,encoding:$e,isStandardFont:nt||!1,metadata:{}};return Zr.publish("addFont",{font:kt,instance:this}),ct[kt.id]=kt,Sf(kt),kt.id},Nf=function(q){for(var de=0,Te=at.length;de<Te;de++){var $e=yd.call(this,q[de][0],q[de][1],q[de][2],at[de][3],!0);f===!1&&(h[$e]=!0);var nt=q[de][0].split("-");Sf({id:$e,fontName:nt[0],fontStyle:nt[1]||""})}Zr.publish("addFonts",{fonts:ct,dictionary:Dt})},fo=function(q){return q.foo=function(){try{return q.apply(this,arguments)}catch($e){var de=$e.stack||"";~de.indexOf(" at ")&&(de=de.split(" at ")[1]);var Te="Error in function "+de.split(`
`)[0].split("<")[0]+": "+$e.message;if(!nn.console)throw new Error(Te);nn.console.error(Te,$e),nn.alert&&alert(Te)}},q.foo.bar=q,q.foo},Bh=function(q,de){var Te,$e,nt,kt,$t,ur,Lr,gn,mn;if(nt=(de=de||{}).sourceEncoding||"Unicode",$t=de.outputEncoding,(de.autoencode||$t)&&ct[Nt].metadata&&ct[Nt].metadata[nt]&&ct[Nt].metadata[nt].encoding&&(kt=ct[Nt].metadata[nt].encoding,!$t&&ct[Nt].encoding&&($t=ct[Nt].encoding),!$t&&kt.codePages&&($t=kt.codePages[0]),typeof $t=="string"&&($t=kt[$t]),$t)){for(Lr=!1,ur=[],Te=0,$e=q.length;Te<$e;Te++)(gn=$t[q.charCodeAt(Te)])?ur.push(String.fromCharCode(gn)):ur.push(q[Te]),ur[Te].charCodeAt(0)>>8&&(Lr=!0);q=ur.join("")}for(Te=q.length;Lr===void 0&&Te!==0;)q.charCodeAt(Te-1)>>8&&(Lr=!0),Te--;if(!Lr)return q;for(ur=de.noBOM?[]:[254,255],Te=0,$e=q.length;Te<$e;Te++){if((mn=(gn=q.charCodeAt(Te))>>8)>>8)throw new Error("Character at position "+Te+" of string '"+q+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ur.push(mn),ur.push(gn-(mn<<8))}return String.fromCharCode.apply(void 0,ur)},ho=m.__private__.pdfEscape=m.pdfEscape=function(q,de){return Bh(q,de).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Af=m.__private__.beginPage=function(q){fe[++Mr]=[],hr[Mr]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(q[0]),topRightY:Number(q[1])}},xd(Mr),Pe(fe[K])},Wm=function(q,de){var Te,$e,nt;switch(r=de||r,typeof q=="string"&&(Te=b(q.toLowerCase()),Array.isArray(Te)&&($e=Te[0],nt=Te[1])),Array.isArray(q)&&($e=q[0]*vt,nt=q[1]*vt),isNaN($e)&&($e=a[0],nt=a[1]),($e>14400||nt>14400)&&(Ra.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),$e=Math.min(14400,$e),nt=Math.min(14400,nt)),a=[$e,nt],r.substr(0,1)){case"l":nt>$e&&(a=[nt,$e]);break;case"p":$e>nt&&(a=[nt,$e])}Af(a),Tf(Ym),ve(po),Xm!==0&&ve(Xm+" J"),Df!==0&&ve(Df+" j"),Zr.publish("addPage",{pageNumber:Mr})},Vm=function(q){q>0&&q<=Mr&&(fe.splice(q,1),hr.splice(q,1),Mr--,K>Mr&&(K=Mr),this.setPage(K))},xd=function(q){q>0&&q<=Mr&&(K=q)},Fy=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return fe.length-1},Uh=function(q,de,Te){var $e,nt=void 0;return Te=Te||{},q=q!==void 0?q:ct[Nt].fontName,de=de!==void 0?de:ct[Nt].fontStyle,$e=q.toLowerCase(),Dt[$e]!==void 0&&Dt[$e][de]!==void 0?nt=Dt[$e][de]:Dt[q]!==void 0&&Dt[q][de]!==void 0?nt=Dt[q][de]:Te.disableWarning===!1&&Ra.warn("Unable to look up font label for font '"+q+"', '"+de+"'. Refer to getFontList() for available fonts."),nt||Te.noFallback||(nt=Dt.times[de])==null&&(nt=Dt.times.normal),nt},Yn=m.__private__.putInfo=function(){var q=gt(),de=function($e){return $e};for(var Te in d!==null&&(de=Ga.encryptor(q,0)),ve("<<"),ve("/Producer ("+ho(de("jsPDF "+Hr.version))+")"),At)At.hasOwnProperty(Te)&&At[Te]&&ve("/"+Te.substr(0,1).toUpperCase()+Te.substr(1)+" ("+ho(de(At[Te]))+")");ve("/CreationDate ("+ho(de(Z))+")"),ve(">>"),ve("endobj")},qh=m.__private__.putCatalog=function(q){var de=(q=q||{}).rootDictionaryObjId||xe;switch(gt(),ve("<<"),ve("/Type /Catalog"),ve("/Pages "+de+" 0 R"),wt||(wt="fullwidth"),wt){case"fullwidth":ve("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ve("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ve("/OpenAction [3 0 R /Fit]");break;case"original":ve("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Te=""+wt;Te.substr(Te.length-1)==="%"&&(wt=parseInt(wt)/100),typeof wt=="number"&&ve("/OpenAction [3 0 R /XYZ null null "+j(wt)+"]")}switch(Qe||(Qe="continuous"),Qe){case"continuous":ve("/PageLayout /OneColumn");break;case"single":ve("/PageLayout /SinglePage");break;case"two":case"twoleft":ve("/PageLayout /TwoColumnLeft");break;case"tworight":ve("/PageLayout /TwoColumnRight")}Ce&&ve("/PageMode /"+Ce),Zr.publish("putCatalog"),ve(">>"),ve("endobj")},qg=m.__private__.putTrailer=function(){ve("trailer"),ve("<<"),ve("/Size "+(ie+1)),ve("/Root "+ie+" 0 R"),ve("/Info "+(ie-1)+" 0 R"),d!==null&&ve("/Encrypt "+Ga.oid+" 0 R"),ve("/ID [ <"+re+"> <"+re+"> ]"),ve(">>")},Hm=m.__private__.putHeader=function(){ve("%PDF-"+w),ve("%ºß¬à")},zg=m.__private__.putXRef=function(){var q="0000000000";ve("xref"),ve("0 "+(ie+1)),ve("0000000000 65535 f ");for(var de=1;de<=ie;de++)typeof oe[de]=="function"?ve((q+oe[de]()).slice(-10)+" 00000 n "):oe[de]!==void 0?ve((q+oe[de]).slice(-10)+" 00000 n "):ve("0000000000 00000 n ")},Ec=m.__private__.buildDocument=function(){Fe(),Pe(ue),Zr.publish("buildDocument"),Hm(),ot(),Ug(),Bg(),d!==null&&Ac(),Yn(),qh();var q=V;return zg(),qg(),ve("startxref"),ve(""+q),ve("%%EOF"),Pe(fe[K]),ue.join(`
`)},kf=m.__private__.getBlob=function(q){return new Blob([ht(q)],{type:"application/pdf"})},wd=m.output=m.__private__.output=fo(function(q,de){switch(typeof(de=de||{})=="string"?de={filename:de}:de.filename=de.filename||"generated.pdf",q){case void 0:return Ec();case"save":m.save(de.filename);break;case"arraybuffer":return ht(Ec());case"blob":return kf(Ec());case"bloburi":case"bloburl":if(nn.URL!==void 0&&typeof nn.URL.createObjectURL=="function")return nn.URL&&nn.URL.createObjectURL(kf(Ec()))||void 0;Ra.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Te="",$e=Ec();try{Te=wO($e)}catch{Te=wO(unescape(encodeURIComponent($e)))}return"data:application/pdf;filename="+de.filename+";base64,"+Te;case"pdfobjectnewwindow":if(Object.prototype.toString.call(nn)==="[object Window]"){var nt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",kt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';de.pdfObjectUrl&&(nt=de.pdfObjectUrl,kt="");var $t='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+nt+'"'+kt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(de)+");<\/script></body></html>",ur=nn.open();return ur!==null&&ur.document.write($t),ur}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(nn)==="[object Window]"){var Lr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(de.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+de.filename+'" width="500px" height="400px" /></body></html>',gn=nn.open();if(gn!==null){gn.document.write(Lr);var mn=this;gn.document.documentElement.querySelector("#pdfViewer").onload=function(){gn.document.title=de.filename,gn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(mn.output("bloburl"))}}return gn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(nn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var In='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",de)+'"></iframe></body></html>',Ya=nn.open();if(Ya!==null&&(Ya.document.write(In),Ya.document.title=de.filename),Ya||typeof safari>"u")return Ya;break;case"datauri":case"dataurl":return nn.document.location.href=this.output("datauristring",de);default:return null}}),Ef=function(q){return Array.isArray(Fi)===!0&&Fi.indexOf(q)>-1};switch(n){case"pt":vt=1;break;case"mm":vt=72/25.4;break;case"cm":vt=72/2.54;break;case"in":vt=72;break;case"px":vt=Ef("px_scaling")==1?.75:96/72;break;case"pc":case"em":vt=12;break;case"ex":vt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);vt=n}var Ga=null;Q(),z();var Cc=function(q){return d!==null?Ga.encryptor(q,0):function(de){return de}},Gl=m.__private__.getPageInfo=m.getPageInfo=function(q){if(isNaN(q)||q%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:hr[q].objId,pageNumber:q,pageContext:hr[q]}},Xr=m.__private__.getPageInfoByObjId=function(q){if(isNaN(q)||q%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var de in hr)if(hr[de].objId===q)break;return Gl(de)},Cf=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:hr[K].objId,pageNumber:K,pageContext:hr[K]}};m.addPage=function(){return Wm.apply(this,arguments),this},m.setPage=function(){return xd.apply(this,arguments),Pe.call(this,fe[K]),this},m.insertPage=function(q){return this.addPage(),this.movePage(K,q),this},m.movePage=function(q,de){var Te,$e;if(q>de){Te=fe[q],$e=hr[q];for(var nt=q;nt>de;nt--)fe[nt]=fe[nt-1],hr[nt]=hr[nt-1];fe[de]=Te,hr[de]=$e,this.setPage(de)}else if(q<de){Te=fe[q],$e=hr[q];for(var kt=q;kt<de;kt++)fe[kt]=fe[kt+1],hr[kt]=hr[kt+1];fe[de]=Te,hr[de]=$e,this.setPage(de)}return this},m.deletePage=function(){return Vm.apply(this,arguments),this},m.__private__.text=m.text=function(q,de,Te,$e,nt){var kt,$t,ur,Lr,gn,mn,In,Ya,si,Si=($e=$e||{}).scope||this;if(typeof q=="number"&&typeof de=="number"&&(typeof Te=="string"||Array.isArray(Te))){var As=Te;Te=de,de=q,q=As}if(arguments[3]instanceof yt?(M("The transform parameter of text() with a Matrix value"),si=nt):(ur=arguments[4],Lr=arguments[5],Ca(In=arguments[3])==="object"&&In!==null||(typeof ur=="string"&&(Lr=ur,ur=null),typeof In=="string"&&(Lr=In,In=null),typeof In=="number"&&(ur=In,In=null),$e={flags:In,angle:ur,align:Lr})),isNaN(de)||isNaN(Te)||q==null)throw new Error("Invalid arguments passed to jsPDF.text");if(q.length===0)return Si;var ns="",Jl=!1,Ko=typeof $e.lineHeightFactor=="number"?$e.lineHeightFactor:Pf,xl=Si.internal.scaleFactor;function Ed(Na){return Na=Na.split("	").join(Array($e.TabLen||9).join(" ")),ho(Na,In)}function Qm(Na){for(var ua,li=Na.concat(),Ni=[],Rc=li.length;Rc--;)typeof(ua=li.shift())=="string"?Ni.push(ua):Array.isArray(Na)&&(ua.length===1||ua[1]===void 0&&ua[2]===void 0)?Ni.push(ua[0]):Ni.push([ua[0],ua[1],ua[2]]);return Ni}function Zh(Na,ua){var li;if(typeof Na=="string")li=ua(Na)[0];else if(Array.isArray(Na)){for(var Ni,Rc,lp=Na.concat(),Bf=[],r0=lp.length;r0--;)typeof(Ni=lp.shift())=="string"?Bf.push(ua(Ni)[0]):Array.isArray(Ni)&&typeof Ni[0]=="string"&&(Rc=ua(Ni[0],Ni[1],Ni[2]),Bf.push([Rc[0],Rc[1],Rc[2]]));li=Bf}return li}var If=!1,Qh=!0;if(typeof q=="string")If=!0;else if(Array.isArray(q)){var ep=q.concat();$t=[];for(var Rf,oi=ep.length;oi--;)(typeof(Rf=ep.shift())!="string"||Array.isArray(Rf)&&typeof Rf[0]!="string")&&(Qh=!1);If=Qh}if(If===!1)throw new Error('Type of text must be string or Array. "'+q+'" is not recognized.');typeof q=="string"&&(q=q.match(/[\r?\n]/)?q.split(/\r\n|\r|\n/g):[q]);var tp=St/Si.internal.scaleFactor,rp=tp*(Ko-1);switch($e.baseline){case"bottom":Te-=rp;break;case"top":Te+=tp-rp;break;case"hanging":Te+=tp-2*rp;break;case"middle":Te+=tp/2-rp}if((mn=$e.maxWidth||0)>0&&(typeof q=="string"?q=Si.splitTextToSize(q,mn):Object.prototype.toString.call(q)==="[object Array]"&&(q=q.reduce(function(Na,ua){return Na.concat(Si.splitTextToSize(ua,mn))},[]))),kt={text:q,x:de,y:Te,options:$e,mutex:{pdfEscape:ho,activeFontKey:Nt,fonts:ct,activeFontSize:St}},Zr.publish("preProcessText",kt),q=kt.text,ur=($e=kt.options).angle,!(si instanceof yt)&&ur&&typeof ur=="number"){ur*=Math.PI/180,$e.rotationDirection===0&&(ur=-ur),N===_.ADVANCED&&(ur=-ur);var np=Math.cos(ur),ap=Math.sin(ur);si=new yt(np,ap,-ap,np,0,0)}else ur&&ur instanceof yt&&(si=ur);N!==_.ADVANCED||si||(si=ta),(gn=$e.charSpace||Nd)!==void 0&&(ns+=P(I(gn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ya=$e.horizontalScale)!==void 0&&(ns+=P(100*Ya)+` Tz
`),$e.lang;var Vs=-1,Mf=$e.renderingMode!==void 0?$e.renderingMode:$e.stroke,fu=Si.internal.getCurrentPageInfo().pageContext;switch(Mf){case 0:case!1:case"fill":Vs=0;break;case 1:case!0:case"stroke":Vs=1;break;case 2:case"fillThenStroke":Vs=2;break;case 3:case"invisible":Vs=3;break;case 4:case"fillAndAddForClipping":Vs=4;break;case 5:case"strokeAndAddPathForClipping":Vs=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Vs=6;break;case 7:case"addToPathForClipping":Vs=7}var Gg=fu.usedRenderingMode!==void 0?fu.usedRenderingMode:-1;Vs!==-1?ns+=Vs+` Tr
`:Gg!==-1&&(ns+=`0 Tr
`),Vs!==-1&&(fu.usedRenderingMode=Vs),Lr=$e.align||"left";var Hs,ip=St*Ko,e0=Si.internal.pageSize.getWidth(),sp=ct[Nt];gn=$e.charSpace||Nd,mn=$e.maxWidth||0,In=Object.assign({autoencode:!0,noBOM:!0},$e.flags);var Dc=[],Cd=function(Na){return Si.getStringUnitWidth(Na,{font:sp,charSpace:gn,fontSize:St,doKerning:!1})*St/xl};if(Object.prototype.toString.call(q)==="[object Array]"){var Gs;$t=Qm(q),Lr!=="left"&&(Hs=$t.map(Cd));var ks,Pd=0;if(Lr==="right"){de-=Hs[0],q=[],oi=$t.length;for(var hu=0;hu<oi;hu++)hu===0?(ks=vl(de),Gs=yl(Te)):(ks=I(Pd-Hs[hu]),Gs=-ip),q.push([$t[hu],ks,Gs]),Pd=Hs[hu]}else if(Lr==="center"){de-=Hs[0]/2,q=[],oi=$t.length;for(var pu=0;pu<oi;pu++)pu===0?(ks=vl(de),Gs=yl(Te)):(ks=I((Pd-Hs[pu])/2),Gs=-ip),q.push([$t[pu],ks,Gs]),Pd=Hs[pu]}else if(Lr==="left"){q=[],oi=$t.length;for(var op=0;op<oi;op++)q.push($t[op])}else if(Lr==="justify"&&sp.encoding==="Identity-H"){q=[],oi=$t.length,mn=mn!==0?mn:e0;for(var mu=0,Kn=0;Kn<oi;Kn++)if(Gs=Kn===0?yl(Te):-ip,ks=Kn===0?vl(de):mu,Kn<oi-1){var gu=I((mn-Hs[Kn])/($t[Kn].split(" ").length-1)),Es=$t[Kn].split(" ");q.push([Es[0]+" ",ks,Gs]),mu=0;for(var Xo=1;Xo<Es.length;Xo++){var Ff=(Cd(Es[Xo-1]+" "+Es[Xo])-Cd(Es[Xo]))*xl+gu;Xo==Es.length-1?q.push([Es[Xo],Ff,0]):q.push([Es[Xo]+" ",Ff,0]),mu-=Ff}}else q.push([$t[Kn],ks,Gs]);q.push(["",mu,0])}else{if(Lr!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(q=[],oi=$t.length,mn=mn!==0?mn:e0,Kn=0;Kn<oi;Kn++)Gs=Kn===0?yl(Te):-ip,ks=Kn===0?vl(de):0,Kn<oi-1?Dc.push(P(I((mn-Hs[Kn])/($t[Kn].split(" ").length-1)))):Dc.push(0),q.push([$t[Kn],ks,Gs])}}var t0=typeof $e.R2L=="boolean"?$e.R2L:ge;t0===!0&&(q=Zh(q,function(Na,ua,li){return[Na.split("").reverse().join(""),ua,li]})),kt={text:q,x:de,y:Te,options:$e,mutex:{pdfEscape:ho,activeFontKey:Nt,fonts:ct,activeFontSize:St}},Zr.publish("postProcessText",kt),q=kt.text,Jl=kt.mutex.isHex||!1;var Lf=ct[Nt].encoding;Lf!=="WinAnsiEncoding"&&Lf!=="StandardEncoding"||(q=Zh(q,function(Na,ua,li){return[Ed(Na),ua,li]})),$t=Qm(q),q=[];for(var jf,$f,Jo,vu=0,Ic=1,yu=Array.isArray($t[0])?Ic:vu,xu="",Td=function(Na,ua,li){var Ni="";return li instanceof yt?(li=typeof $e.angle=="number"?Fr(li,new yt(1,0,0,1,Na,ua)):Fr(new yt(1,0,0,1,Na,ua),li),N===_.ADVANCED&&(li=Fr(new yt(1,0,0,-1,0,0),li)),Ni=li.join(" ")+` Tm
`):Ni=P(Na)+" "+P(ua)+` Td
`,Ni},ps=0;ps<$t.length;ps++){switch(xu="",yu){case Ic:Jo=(Jl?"<":"(")+$t[ps][0]+(Jl?">":")"),jf=parseFloat($t[ps][1]),$f=parseFloat($t[ps][2]);break;case vu:Jo=(Jl?"<":"(")+$t[ps]+(Jl?">":")"),jf=vl(de),$f=yl(Te)}Dc!==void 0&&Dc[ps]!==void 0&&(xu=Dc[ps]+` Tw
`),ps===0?q.push(xu+Td(jf,$f,si)+Jo):yu===vu?q.push(xu+Jo):yu===Ic&&q.push(xu+Td(jf,$f,si)+Jo)}q=yu===vu?q.join(` Tj
T* `):q.join(` Tj
`),q+=` Tj
`;var mo=`BT
/`;return mo+=Nt+" "+St+` Tf
`,mo+=P(St*Ko)+` TL
`,mo+=Li+`
`,mo+=ns,mo+=q,ve(mo+="ET"),h[Nt]=!0,Si};var Pc=m.__private__.clip=m.clip=function(q){return ve(q==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return Pc("evenodd")},m.__private__.discardPath=m.discardPath=function(){return ve("n"),this};var Tc=m.__private__.isValidStyle=function(q){var de=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(q)!==-1&&(de=!0),de};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(q){return Tc(q)&&(u=q),this};var Gm=m.__private__.getStyle=m.getStyle=function(q){var de=u;switch(q){case"D":case"S":de="S";break;case"F":de="f";break;case"FD":case"DF":de="B";break;case"f":case"f*":case"B":case"B*":de=q}return de},bd=m.close=function(){return ve("h"),this};m.stroke=function(){return ve("S"),this},m.fill=function(q){return zh("f",q),this},m.fillEvenOdd=function(q){return zh("f*",q),this},m.fillStroke=function(q){return zh("B",q),this},m.fillStrokeEvenOdd=function(q){return zh("B*",q),this};var zh=function(q,de){Ca(de)==="object"?Wg(de,q):ve(q)},Wh=function(q){q===null||N===_.ADVANCED&&q===void 0||(q=Gm(q),ve(q))};function Vh(q,de,Te,$e,nt){var kt=new Gv(de||this.boundingBox,Te||this.xStep,$e||this.yStep,this.gState,nt||this.matrix);kt.stream=this.stream;var $t=q+"$$"+this.cloneIndex+++"$$";return bt($t,kt),kt}var Wg=function(q,de){var Te=Kr[q.key],$e=gr[Te];if($e instanceof O0)ve("q"),ve(Ly(de)),$e.gState&&m.setGState($e.gState),ve(q.matrix.toString()+" cm"),ve("/"+Te+" sh"),ve("Q");else if($e instanceof Gv){var nt=new yt(1,0,0,-1,0,kd());q.matrix&&(nt=nt.multiply(q.matrix||ta),Te=Vh.call($e,q.key,q.boundingBox,q.xStep,q.yStep,nt).id),ve("q"),ve("/Pattern cs"),ve("/"+Te+" scn"),$e.gState&&m.setGState($e.gState),ve(de),ve("Q")}},Ly=function(q){switch(q){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},uu=m.moveTo=function(q,de){return ve(P(I(q))+" "+P(G(de))+" m"),this},Yl=m.lineTo=function(q,de){return ve(P(I(q))+" "+P(G(de))+" l"),this},Yo=m.curveTo=function(q,de,Te,$e,nt,kt){return ve([P(I(q)),P(G(de)),P(I(Te)),P(G($e)),P(I(nt)),P(G(kt)),"c"].join(" ")),this};m.__private__.line=m.line=function(q,de,Te,$e,nt){if(isNaN(q)||isNaN(de)||isNaN(Te)||isNaN($e)||!Tc(nt))throw new Error("Invalid arguments passed to jsPDF.line");return N===_.COMPAT?this.lines([[Te-q,$e-de]],q,de,[1,1],nt||"S"):this.lines([[Te-q,$e-de]],q,de,[1,1]).stroke()},m.__private__.lines=m.lines=function(q,de,Te,$e,nt,kt){var $t,ur,Lr,gn,mn,In,Ya,si,Si,As,ns,Jl;if(typeof q=="number"&&(Jl=Te,Te=de,de=q,q=Jl),$e=$e||[1,1],kt=kt||!1,isNaN(de)||isNaN(Te)||!Array.isArray(q)||!Array.isArray($e)||!Tc(nt)||typeof kt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(uu(de,Te),$t=$e[0],ur=$e[1],gn=q.length,As=de,ns=Te,Lr=0;Lr<gn;Lr++)(mn=q[Lr]).length===2?(As=mn[0]*$t+As,ns=mn[1]*ur+ns,Yl(As,ns)):(In=mn[0]*$t+As,Ya=mn[1]*ur+ns,si=mn[2]*$t+As,Si=mn[3]*ur+ns,As=mn[4]*$t+As,ns=mn[5]*ur+ns,Yo(In,Ya,si,Si,As,ns));return kt&&bd(),Wh(nt),this},m.path=function(q){for(var de=0;de<q.length;de++){var Te=q[de],$e=Te.c;switch(Te.op){case"m":uu($e[0],$e[1]);break;case"l":Yl($e[0],$e[1]);break;case"c":Yo.apply(this,$e);break;case"h":bd()}}return this},m.__private__.rect=m.rect=function(q,de,Te,$e,nt){if(isNaN(q)||isNaN(de)||isNaN(Te)||isNaN($e)||!Tc(nt))throw new Error("Invalid arguments passed to jsPDF.rect");return N===_.COMPAT&&($e=-$e),ve([P(I(q)),P(G(de)),P(I(Te)),P(I($e)),"re"].join(" ")),Wh(nt),this},m.__private__.triangle=m.triangle=function(q,de,Te,$e,nt,kt,$t){if(isNaN(q)||isNaN(de)||isNaN(Te)||isNaN($e)||isNaN(nt)||isNaN(kt)||!Tc($t))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Te-q,$e-de],[nt-Te,kt-$e],[q-nt,de-kt]],q,de,[1,1],$t,!0),this},m.__private__.roundedRect=m.roundedRect=function(q,de,Te,$e,nt,kt,$t){if(isNaN(q)||isNaN(de)||isNaN(Te)||isNaN($e)||isNaN(nt)||isNaN(kt)||!Tc($t))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ur=4/3*(Math.SQRT2-1);return nt=Math.min(nt,.5*Te),kt=Math.min(kt,.5*$e),this.lines([[Te-2*nt,0],[nt*ur,0,nt,kt-kt*ur,nt,kt],[0,$e-2*kt],[0,kt*ur,-nt*ur,kt,-nt,kt],[2*nt-Te,0],[-nt*ur,0,-nt,-kt*ur,-nt,-kt],[0,2*kt-$e],[0,-kt*ur,nt*ur,-kt,nt,-kt]],q+nt,de,[1,1],$t,!0),this},m.__private__.ellipse=m.ellipse=function(q,de,Te,$e,nt){if(isNaN(q)||isNaN(de)||isNaN(Te)||isNaN($e)||!Tc(nt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var kt=4/3*(Math.SQRT2-1)*Te,$t=4/3*(Math.SQRT2-1)*$e;return uu(q+Te,de),Yo(q+Te,de-$t,q+kt,de-$e,q,de-$e),Yo(q-kt,de-$e,q-Te,de-$t,q-Te,de),Yo(q-Te,de+$t,q-kt,de+$e,q,de+$e),Yo(q+kt,de+$e,q+Te,de+$t,q+Te,de),Wh(nt),this},m.__private__.circle=m.circle=function(q,de,Te,$e){if(isNaN(q)||isNaN(de)||isNaN(Te)||!Tc($e))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(q,de,Te,Te,$e)},m.setFont=function(q,de,Te){return Te&&(de=O(de,Te)),Nt=Uh(q,de,{disableWarning:!1}),this};var Hh=m.__private__.getFont=m.getFont=function(){return ct[Uh.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var q,de,Te={};for(q in Dt)if(Dt.hasOwnProperty(q))for(de in Te[q]=[],Dt[q])Dt[q].hasOwnProperty(de)&&Te[q].push(de);return Te},m.addFont=function(q,de,Te,$e,nt){var kt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&kt.indexOf(arguments[3])!==-1?nt=arguments[3]:arguments[3]&&kt.indexOf(arguments[3])==-1&&(Te=O(Te,$e)),nt=nt||"Identity-H",yd.call(this,q,de,Te,nt)};var Pf,Ym=e.lineWidth||.200025,_d=m.__private__.getLineWidth=m.getLineWidth=function(){return Ym},Tf=m.__private__.setLineWidth=m.setLineWidth=function(q){return Ym=q,ve(P(I(q))+" w"),this};m.__private__.setLineDash=Hr.API.setLineDash=Hr.API.setLineDashPattern=function(q,de){if(q=q||[],de=de||0,isNaN(de)||!Array.isArray(q))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return q=q.map(function(Te){return P(I(Te))}).join(" "),de=P(I(de)),ve("["+q+"] "+de+" d"),this};var Gh=m.__private__.getLineHeight=m.getLineHeight=function(){return St*Pf};m.__private__.getLineHeight=m.getLineHeight=function(){return St*Pf};var Km=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(q){return typeof(q=q||1.15)=="number"&&(Pf=q),this},Kl=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return Pf};Km(e.lineHeight);var vl=m.__private__.getHorizontalCoordinate=function(q){return I(q)},yl=m.__private__.getVerticalCoordinate=function(q){return N===_.ADVANCED?q:hr[K].mediaBox.topRightY-hr[K].mediaBox.bottomLeftY-I(q)},Vg=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(q){return P(vl(q))},Xl=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(q){return P(yl(q))},po=e.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return Ae(po)},m.__private__.setStrokeColor=m.setDrawColor=function(q,de,Te,$e){return po=Ne({ch1:q,ch2:de,ch3:Te,ch4:$e,pdfColorType:"draw",precision:2}),ve(po),this};var Yh=e.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return Ae(Yh)},m.__private__.setFillColor=m.setFillColor=function(q,de,Te,$e){return Yh=Ne({ch1:q,ch2:de,ch3:Te,ch4:$e,pdfColorType:"fill",precision:2}),ve(Yh),this};var Li=e.textColor||"0 g",Sd=m.__private__.getTextColor=m.getTextColor=function(){return Ae(Li)};m.__private__.setTextColor=m.setTextColor=function(q,de,Te,$e){return Li=Ne({ch1:q,ch2:de,ch3:Te,ch4:$e,pdfColorType:"text",precision:3}),this};var Nd=e.charSpace,Of=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(Nd||0)};m.__private__.setCharSpace=m.setCharSpace=function(q){if(isNaN(q))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Nd=q,this};var Xm=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(q){var de=m.CapJoinStyles[q];if(de===void 0)throw new Error("Line cap style of '"+q+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Xm=de,ve(de+" J"),this};var Df=0;m.__private__.setLineJoin=m.setLineJoin=function(q){var de=m.CapJoinStyles[q];if(de===void 0)throw new Error("Line join style of '"+q+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Df=de,ve(de+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(q){if(q=q||0,isNaN(q))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ve(P(I(q))+" M"),this},m.GState=GS,m.setGState=function(q){(q=typeof q=="string"?fr[Er[q]]:Kh(null,q)).equals(hn)||(ve("/"+q.id+" gs"),hn=q)};var Kh=function(q,de){if(!q||!Er[q]){var Te=!1;for(var $e in fr)if(fr.hasOwnProperty($e)&&fr[$e].equals(de)){Te=!0;break}if(Te)de=fr[$e];else{var nt="GS"+(Object.keys(fr).length+1).toString(10);fr[nt]=de,de.id=nt}return q&&(Er[q]=de.id),Zr.publish("addGState",de),de}};m.addGState=function(q,de){return Kh(q,de),this},m.saveGraphicsState=function(){return ve("q"),Vr.push({key:Nt,size:St,color:Li}),this},m.restoreGraphicsState=function(){ve("Q");var q=Vr.pop();return Nt=q.key,St=q.size,Li=q.color,hn=null,this},m.setCurrentTransformationMatrix=function(q){return ve(q.toString()+" cm"),this},m.comment=function(q){return ve("#"+q),this};var Oc=function(q,de){var Te=q||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Te},set:function(kt){isNaN(kt)||(Te=parseFloat(kt))}});var $e=de||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return $e},set:function(kt){isNaN(kt)||($e=parseFloat(kt))}});var nt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return nt},set:function(kt){nt=kt.toString()}}),this},Ad=function(q,de,Te,$e){Oc.call(this,q,de),this.type="rect";var nt=Te||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return nt},set:function($t){isNaN($t)||(nt=parseFloat($t))}});var kt=$e||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return kt},set:function($t){isNaN($t)||(kt=parseFloat($t))}}),this},Xh=function(){this.page=Mr,this.currentPage=K,this.pages=fe.slice(0),this.pagesContext=hr.slice(0),this.x=Tr,this.y=cr,this.matrix=Nn,this.width=du(K),this.height=kd(K),this.outputDestination=Ee,this.id="",this.objectNumber=-1};Xh.prototype.restore=function(){Mr=this.page,K=this.currentPage,hr=this.pagesContext,fe=this.pages,Tr=this.x,cr=this.y,Nn=this.matrix,Jm(K,this.width),Zm(K,this.height),Ee=this.outputDestination};var Hg=function(q,de,Te,$e,nt){lt.push(new Xh),Mr=K=0,fe=[],Tr=q,cr=de,Nn=nt,Af([Te,$e])},jy=function(q){if(Wa[q])lt.pop().restore();else{var de=new Xh,Te="Xo"+(Object.keys(la).length+1).toString(10);de.id=Te,Wa[q]=Te,la[Te]=de,Zr.publish("addFormObject",de),lt.pop().restore()}};for(var Jh in m.beginFormObject=function(q,de,Te,$e,nt){return Hg(q,de,Te,$e,nt),this},m.endFormObject=function(q){return jy(q),this},m.doFormObject=function(q,de){var Te=la[Wa[q]];return ve("q"),ve(de.toString()+" cm"),ve("/"+Te.id+" Do"),ve("Q"),this},m.getFormObject=function(q){var de=la[Wa[q]];return{x:de.x,y:de.y,width:de.width,height:de.height,matrix:de.matrix}},m.save=function(q,de){return q=q||"generated.pdf",(de=de||{}).returnPromise=de.returnPromise||!1,de.returnPromise===!1?(P0(kf(Ec()),q),typeof P0.unload=="function"&&nn.setTimeout&&setTimeout(P0.unload,911),this):new Promise(function(Te,$e){try{var nt=P0(kf(Ec()),q);typeof P0.unload=="function"&&nn.setTimeout&&setTimeout(P0.unload,911),Te(nt)}catch(kt){$e(kt.message)}})},Hr.API)Hr.API.hasOwnProperty(Jh)&&(Jh==="events"&&Hr.API.events.length?function(q,de){var Te,$e,nt;for(nt=de.length-1;nt!==-1;nt--)Te=de[nt][0],$e=de[nt][1],q.subscribe.apply(q,[Te].concat(typeof $e=="function"?[$e]:$e))}(Zr,Hr.API.events):m[Jh]=Hr.API[Jh]);var du=m.getPageWidth=function(q){return(hr[q=q||K].mediaBox.topRightX-hr[q].mediaBox.bottomLeftX)/vt},Jm=m.setPageWidth=function(q,de){hr[q].mediaBox.topRightX=de*vt+hr[q].mediaBox.bottomLeftX},kd=m.getPageHeight=function(q){return(hr[q=q||K].mediaBox.topRightY-hr[q].mediaBox.bottomLeftY)/vt},Zm=m.setPageHeight=function(q,de){hr[q].mediaBox.topRightY=de*vt+hr[q].mediaBox.bottomLeftY};return m.internal={pdfEscape:ho,getStyle:Gm,getFont:Hh,getFontSize:_e,getCharSpace:Of,getTextColor:Sd,getLineHeight:Gh,getLineHeightFactor:Kl,getLineWidth:_d,write:Ge,getHorizontalCoordinate:vl,getVerticalCoordinate:yl,getCoordinateString:Vg,getVerticalCoordinateString:Xl,collections:{},newObject:gt,newAdditionalObject:we,newObjectDeferred:Jt,newObjectDeferredBegin:ce,getFilters:We,putStream:ft,events:Zr,scaleFactor:vt,pageSize:{getWidth:function(){return du(K)},setWidth:function(q){Jm(K,q)},getHeight:function(){return kd(K)},setHeight:function(q){Zm(K,q)}},encryptionOptions:d,encryption:Ga,getEncryptor:Cc,output:wd,getNumberOfPages:Fy,pages:fe,out:ve,f2:j,f3:T,getPageInfo:Gl,getPageInfoByObjId:Xr,getCurrentPageInfo:Cf,getPDFVersion:g,Point:Oc,Rectangle:Ad,Matrix:yt,hasHotfix:Ef},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return du(K)},set:function(q){Jm(K,q)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return kd(K)},set:function(q){Zm(K,q)},enumerable:!0,configurable:!0}),Nf.call(m,at),Nt="F1",Wm(a,r),Zr.publish("initialized"),m}$v.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},$v.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},$v.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},$v.prototype.processOwnerPassword=function(e,t){return _O(bO(t).substr(0,5),e)},$v.prototype.encryptor=function(e,t){var r=bO(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return _O(r,n)}},GS.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Ca(e)!==Ca(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Hr.API={events:[]},Hr.version="3.0.1";var Ci=Hr.API,IR=1,Ig=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Dv=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},xn=function(e){return e.toFixed(2)},Rp=function(e){return e.toFixed(5)};Ci.__acroform__={};var Vl=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},eW=function(e){return e*IR},Ud=function(e){var t=new dne,r=Pr.internal.getHeight(e)||0,n=Pr.internal.getWidth(e)||0;return t.BBox=[0,0,Number(xn(n)),Number(xn(r))],t},FRe=Ci.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},LRe=Ci.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},jRe=Ci.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(e&1<<t)==0?0:1},Vi=Ci.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return jRe(e,t-1)},Hi=Ci.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return FRe(e,t-1)},Gi=Ci.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return LRe(e,t-1)},$Re=Ci.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],i=e[1],s=e[2],o=e[3],c={};return c.lowerLeft_X=r(a)||0,c.lowerLeft_Y=n(i+o)||0,c.upperRight_X=r(a+s)||0,c.upperRight_Y=n(i)||0,[Number(xn(c.lowerLeft_X)),Number(xn(c.lowerLeft_Y)),Number(xn(c.upperRight_X)),Number(xn(c.upperRight_Y))]},BRe=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=SO(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+xn(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=Ud(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},SO=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(T){return T.split(`
`)}):a.map(function(T){return[T]});var i=r,s=Pr.internal.getHeight(e)||0;s=s<0?-s:s;var o=Pr.internal.getWidth(e)||0;o=o<0?-o:o;var c=function(T,I,B){if(T+1<a.length){var G=I+" "+a[T+1][0];return M_(G,e,B).width<=o-4}return!1};i++;e:for(;i>0;){t="",i--;var u,d,f=M_("3",e,i).height,h=e.multiline?s-i:(s-f)/2,m=h+=2,w=0,g=0,y=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+M_(t,e,i=12).width+", FieldWidth:"+o+`
`;break}for(var b="",_=0,N=0;N<a.length;N++)if(a.hasOwnProperty(N)){var E=!1;if(a[N].length!==1&&y!==a[N].length-1){if((f+2)*(_+2)+2>s)continue e;b+=a[N][y],E=!0,g=N,N--}else{b=(b+=a[N][y]+" ").substr(b.length-1)==" "?b.substr(0,b.length-1):b;var C=parseInt(N),O=c(C,b,i),P=N>=a.length-1;if(O&&!P){b+=" ",y=0;continue}if(O||P){if(P)g=C;else if(e.multiline&&(f+2)*(_+2)+2>s)continue e}else{if(!e.multiline||(f+2)*(_+2)+2>s)continue e;g=C}}for(var M="",L=w;L<=g;L++){var j=a[L];if(e.multiline){if(L===g){M+=j[y]+" ",y=(y+1)%j.length;continue}if(L===w){M+=j[j.length-1]+" ";continue}}M+=j[0]+" "}switch(M=M.substr(M.length-1)==" "?M.substr(0,M.length-1):M,d=M_(M,e,i).width,e.textAlign){case"right":u=o-d-2;break;case"center":u=(o-d)/2;break;case"left":default:u=2}t+=xn(u)+" "+xn(m)+` Td
`,t+="("+Ig(M)+`) Tj
`,t+=-xn(u)+` 0 Td
`,m=-(i+2),d=0,w=E?g:g+1,_++,b=""}break}return n.text=t,n.fontSize=i,n},M_=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},URe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},qRe=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},zRe=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,a=e[r];t.internal.newObjectDeferredBegin(a.objId,!0),Ca(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete e[n]}},WRe=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(gd.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(URe)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");IR=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new fne,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&qRe(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var s in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var o=n[s],c=[],u=o.Rect;if(o.Rect&&(o.Rect=$Re(o.Rect,a)),a.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Pr.createDefaultAppearanceStream(o),Ca(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(c=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var d=BRe(o);c.push({key:"AP",value:"<</N "+d+">>"}),a.internal.acroformPlugin.xForms.push(d)}if(o.appearanceStreamContent){var f="";for(var h in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(h)){var m=o.appearanceStreamContent[h];if(f+="/"+h+" ",f+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var s in m)if(m.hasOwnProperty(s)){var w=m[s];typeof w=="function"&&(w=w.call(a,o)),f+="/"+s+" "+w+" ",a.internal.acroformPlugin.xForms.indexOf(w)>=0||a.internal.acroformPlugin.xForms.push(w)}}else typeof(w=m)=="function"&&(w=w.call(a,o)),f+="/"+s+" "+w,a.internal.acroformPlugin.xForms.indexOf(w)>=0||a.internal.acroformPlugin.xForms.push(w);f+=">>"}c.push({key:"AP",value:`<<
`+f+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:o.objId}),a.internal.out("endobj")}i&&zRe(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},une=Ci.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(s){return s};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),Ca(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+Ig(n(e[i].toString()))+")"):a+=e[i].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},iT=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Ig(n(e))+")"},Zd=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Zd.prototype.toString=function(){return this.objId+" 0 R"},Zd.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Zd.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:une(a,this.objId,this.scope)}):a instanceof Zd?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var dne=function(){Zd.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Vl(dne,Zd);var fne=function(){Zd.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Ig(r(e))+")"}},set:function(r){e=r}})};Vl(fne,Zd);var gd=function e(){Zd.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute F supplied.');t=b}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Vi(t,3)},set:function(b){b?this.F=Hi(t,3):this.F=Gi(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute Ff supplied.');r=b}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(b){n=b!==void 0?b:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(b){n[0]=b}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(b){n[1]=b}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(b){n[2]=b}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(b){n[3]=b}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(b){switch(b){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=b;break;default:throw new Error('Invalid value "'+b+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof YS)return;i="FieldObject"+e.FieldNum++}var b=function(_){return _};return this.scope&&(b=this.scope.internal.getEncryptor(this.objId)),"("+Ig(b(i))+")"},set:function(b){i=b.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(b){i=b}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(b){s=b}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(b){o=b}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(b){c=b}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/IR:u},set:function(b){u=b}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(b){d=b}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof YS||this instanceof G0))return iT(f,this.objId,this.scope)},set:function(b){b=b.toString(),f=b}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Ls?h:iT(h,this.objId,this.scope)},set:function(b){b=b.toString(),h=this instanceof Ls?b:b.substr(0,1)==="("?Dv(b.substr(1,b.length-2)):Dv(b)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ls?Dv(h.substr(1,h.length-1)):h},set:function(b){b=b.toString(),h=this instanceof Ls?"/"+b:b}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(b){this.V=b}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Ls?m:iT(m,this.objId,this.scope)},set:function(b){b=b.toString(),m=this instanceof Ls?b:b.substr(0,1)==="("?Dv(b.substr(1,b.length-2)):Dv(b)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ls?Dv(m.substr(1,m.length-1)):m},set:function(b){b=b.toString(),m=this instanceof Ls?"/"+b:b}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var w,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(b){b=!!b,g=b}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(w)return w},set:function(b){w=b}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,1)},set:function(b){b?this.Ff=Hi(this.Ff,1):this.Ff=Gi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,2)},set:function(b){b?this.Ff=Hi(this.Ff,2):this.Ff=Gi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,3)},set:function(b){b?this.Ff=Hi(this.Ff,3):this.Ff=Gi(this.Ff,3)}});var y=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(y!==null)return y},set:function(b){if([0,1,2].indexOf(b)===-1)throw new Error('Invalid value "'+b+'" for attribute Q supplied.');y=b}}),Object.defineProperty(this,"textAlign",{get:function(){var b;switch(y){case 0:default:b="left";break;case 1:b="center";break;case 2:b="right"}return b},configurable:!0,enumerable:!0,set:function(b){switch(b){case"right":case 2:y=2;break;case"center":case 1:y=1;break;case"left":case 0:default:y=0}}})};Vl(gd,Zd);var s1=function(){gd.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return une(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(i,s,o){o||(o=1);for(var c,u=[];c=s.exec(i);)u.push(c[o]);return u}(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,18)},set:function(r){r?this.Ff=Hi(this.Ff,18):this.Ff=Gi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Hi(this.Ff,19):this.Ff=Gi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,20)},set:function(r){r?(this.Ff=Hi(this.Ff,20),t.sort()):this.Ff=Gi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,22)},set:function(r){r?this.Ff=Hi(this.Ff,22):this.Ff=Gi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,23)},set:function(r){r?this.Ff=Hi(this.Ff,23):this.Ff=Gi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,27)},set:function(r){r?this.Ff=Hi(this.Ff,27):this.Ff=Gi(this.Ff,27)}}),this.hasAppearanceStream=!1};Vl(s1,gd);var o1=function(){s1.call(this),this.fontName="helvetica",this.combo=!1};Vl(o1,s1);var l1=function(){o1.call(this),this.combo=!0};Vl(l1,o1);var f5=function(){l1.call(this),this.edit=!0};Vl(f5,l1);var Ls=function(){gd.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,15)},set:function(r){r?this.Ff=Hi(this.Ff,15):this.Ff=Gi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,16)},set:function(r){r?this.Ff=Hi(this.Ff,16):this.Ff=Gi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,17)},set:function(r){r?this.Ff=Hi(this.Ff,17):this.Ff=Gi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,26)},set:function(r){r?this.Ff=Hi(this.Ff,26):this.Ff=Gi(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+Ig(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){Ca(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Vl(Ls,gd);var h5=function(){Ls.call(this),this.pushButton=!0};Vl(h5,Ls);var c1=function(){Ls.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Vl(c1,Ls);var YS=function(){var e,t;gd.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(o){return o};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,s=[];for(i in s.push("<<"),n)s.push("/"+i+" ("+Ig(a(n[i]))+")");return s.push(">>"),s.join(`
`)},set:function(a){Ca(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Pr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Vl(YS,gd),c1.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},c1.prototype.createOption=function(e){var t=new YS;return t.Parent=this,t.optionName=e,this.Kids.push(t),VRe.call(this.scope,t),t};var p5=function(){Ls.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Pr.CheckBox.createAppearanceStream()};Vl(p5,Ls);var G0=function(){gd.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,13)},set:function(t){t?this.Ff=Hi(this.Ff,13):this.Ff=Gi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,21)},set:function(t){t?this.Ff=Hi(this.Ff,21):this.Ff=Gi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,23)},set:function(t){t?this.Ff=Hi(this.Ff,23):this.Ff=Gi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,24)},set:function(t){t?this.Ff=Hi(this.Ff,24):this.Ff=Gi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,25)},set:function(t){t?this.Ff=Hi(this.Ff,25):this.Ff=Gi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,26)},set:function(t){t?this.Ff=Hi(this.Ff,26):this.Ff=Gi(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Vl(G0,gd);var m5=function(){G0.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,14)},set:function(e){e?this.Ff=Hi(this.Ff,14):this.Ff=Gi(this.Ff,14)}}),this.password=!0};Vl(m5,G0);var Pr={CheckBox:{createAppearanceStream:function(){return{N:{On:Pr.CheckBox.YesNormal},D:{On:Pr.CheckBox.YesPushDown,Off:Pr.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Ud(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=SO(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+xn(Pr.internal.getWidth(e))+" "+xn(Pr.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+xn(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Ud(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],i=Pr.internal.getHeight(e),s=Pr.internal.getWidth(e),o=SO(e,e.caption);return a.push("1 g"),a.push("0 0 "+xn(s)+" "+xn(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+xn(s-1)+" "+xn(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+xn(o.fontSize)+" Tf "+n),a.push(o.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=Ud(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+xn(Pr.internal.getWidth(e))+" "+xn(Pr.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Pr.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Pr.RadioButton.Circle.YesNormal,t.D[e]=Pr.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Ud(e);t.scope=e.scope;var r=[],n=Pr.internal.getWidth(e)<=Pr.internal.getHeight(e)?Pr.internal.getWidth(e)/4:Pr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Pr.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Rp(Pr.internal.getWidth(e)/2)+" "+Rp(Pr.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Ud(e);t.scope=e.scope;var r=[],n=Pr.internal.getWidth(e)<=Pr.internal.getHeight(e)?Pr.internal.getWidth(e)/4:Pr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Pr.internal.Bezier_C).toFixed(5)),s=Number((n*Pr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Rp(Pr.internal.getWidth(e)/2)+" "+Rp(Pr.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Rp(Pr.internal.getWidth(e)/2)+" "+Rp(Pr.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Ud(e);t.scope=e.scope;var r=[],n=Pr.internal.getWidth(e)<=Pr.internal.getHeight(e)?Pr.internal.getWidth(e)/4:Pr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Pr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Rp(Pr.internal.getWidth(e)/2)+" "+Rp(Pr.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Pr.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Pr.RadioButton.Cross.YesNormal,t.D[e]=Pr.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Ud(e);t.scope=e.scope;var r=[],n=Pr.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+xn(Pr.internal.getWidth(e)-2)+" "+xn(Pr.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(xn(n.x1.x)+" "+xn(n.x1.y)+" m"),r.push(xn(n.x2.x)+" "+xn(n.x2.y)+" l"),r.push(xn(n.x4.x)+" "+xn(n.x4.y)+" m"),r.push(xn(n.x3.x)+" "+xn(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Ud(e);t.scope=e.scope;var r=Pr.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+xn(Pr.internal.getWidth(e))+" "+xn(Pr.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+xn(Pr.internal.getWidth(e)-2)+" "+xn(Pr.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(xn(r.x1.x)+" "+xn(r.x1.y)+" m"),n.push(xn(r.x2.x)+" "+xn(r.x2.y)+" l"),n.push(xn(r.x4.x)+" "+xn(r.x4.y)+" m"),n.push(xn(r.x3.x)+" "+xn(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Ud(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+xn(Pr.internal.getWidth(e))+" "+xn(Pr.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Pr.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Pr.internal.getWidth(e),r=Pr.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Pr.internal.getWidth=function(e){var t=0;return Ca(e)==="object"&&(t=eW(e.Rect[2])),t},Pr.internal.getHeight=function(e){var t=0;return Ca(e)==="object"&&(t=eW(e.Rect[3])),t};var VRe=Ci.addField=function(e){if(WRe(this,e),!(e instanceof gd))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Ci.AcroFormChoiceField=s1,Ci.AcroFormListBox=o1,Ci.AcroFormComboBox=l1,Ci.AcroFormEditBox=f5,Ci.AcroFormButton=Ls,Ci.AcroFormPushButton=h5,Ci.AcroFormRadioButton=c1,Ci.AcroFormCheckBox=p5,Ci.AcroFormTextField=G0,Ci.AcroFormPasswordField=m5,Ci.AcroFormAppearance=Pr,Ci.AcroForm={ChoiceField:s1,ListBox:o1,ComboBox:l1,EditBox:f5,Button:Ls,PushButton:h5,RadioButton:c1,CheckBox:p5,TextField:G0,PasswordField:m5,Appearance:Pr},Hr.AcroForm={ChoiceField:s1,ListBox:o1,ComboBox:l1,EditBox:f5,Button:Ls,PushButton:h5,RadioButton:c1,CheckBox:p5,TextField:G0,PasswordField:m5,Appearance:Pr};Hr.AcroForm;function hne(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(T,I){var B,G,Z,re,W,z=t;if((I=I||t)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(O(T))for(W in r)for(Z=r[W],B=0;B<Z.length;B+=1){for(re=!0,G=0;G<Z[B].length;G+=1)if(Z[B][G]!==void 0&&Z[B][G]!==T[G]){re=!1;break}if(re===!0){z=W;break}}else for(W in r)for(Z=r[W],B=0;B<Z.length;B+=1){for(re=!0,G=0;G<Z[B].length;G+=1)if(Z[B][G]!==void 0&&Z[B][G]!==T.charCodeAt(G)){re=!1;break}if(re===!0){z=W;break}}return z===t&&I!==t&&(z=I),z},a=function T(I){for(var B=this.internal.write,G=this.internal.putStream,Z=(0,this.internal.getFilters)();Z.indexOf("FlateEncode")!==-1;)Z.splice(Z.indexOf("FlateEncode"),1);I.objectId=this.internal.newObject();var re=[];if(re.push({key:"Type",value:"/XObject"}),re.push({key:"Subtype",value:"/Image"}),re.push({key:"Width",value:I.width}),re.push({key:"Height",value:I.height}),I.colorSpace===y.INDEXED?re.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(I.palette.length/3-1)+" "+("sMask"in I&&I.sMask!==void 0?I.objectId+2:I.objectId+1)+" 0 R]"}):(re.push({key:"ColorSpace",value:"/"+I.colorSpace}),I.colorSpace===y.DEVICE_CMYK&&re.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),re.push({key:"BitsPerComponent",value:I.bitsPerComponent}),"decodeParameters"in I&&I.decodeParameters!==void 0&&re.push({key:"DecodeParms",value:"<<"+I.decodeParameters+">>"}),"transparency"in I&&Array.isArray(I.transparency)){for(var W="",z=0,U=I.transparency.length;z<U;z++)W+=I.transparency[z]+" "+I.transparency[z]+" ";re.push({key:"Mask",value:"["+W+"]"})}I.sMask!==void 0&&re.push({key:"SMask",value:I.objectId+1+" 0 R"});var Y=I.filter!==void 0?["/"+I.filter]:void 0;if(G({data:I.data,additionalKeyValues:re,alreadyAppliedFilters:Y,objectId:I.objectId}),B("endobj"),"sMask"in I&&I.sMask!==void 0){var Q="/Predictor "+I.predictor+" /Colors 1 /BitsPerComponent "+I.bitsPerComponent+" /Columns "+I.width,D={width:I.width,height:I.height,colorSpace:"DeviceGray",bitsPerComponent:I.bitsPerComponent,decodeParameters:Q,data:I.sMask};"filter"in I&&(D.filter=I.filter),T.call(this,D)}if(I.colorSpace===y.INDEXED){var K=this.internal.newObject();G({data:M(new Uint8Array(I.palette)),objectId:K}),B("endobj")}},i=function(){var T=this.internal.collections.addImage_images;for(var I in T)a.call(this,T[I])},s=function(){var T,I=this.internal.collections.addImage_images,B=this.internal.write;for(var G in I)B("/I"+(T=I[G]).index,T.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",s))},c=function(){var T=this.internal.collections.addImage_images;return o.call(this),T},u=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(T){return typeof e["process"+T.toUpperCase()]=="function"},f=function(T){return Ca(T)==="object"&&T.nodeType===1},h=function(T,I){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var B=""+T.getAttribute("src");if(B.indexOf("data:image/")===0)return tx(unescape(B).split("base64,").pop());var G=e.loadFile(B,!0);if(G!==void 0)return G}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var Z;switch(I){case"PNG":Z="image/png";break;case"WEBP":Z="image/webp";break;case"JPEG":case"JPG":default:Z="image/jpeg"}return tx(T.toDataURL(Z,1).split("base64,").pop())}},m=function(T){var I=this.internal.collections.addImage_images;if(I){for(var B in I)if(T===I[B].alias)return I[B]}},w=function(T,I,B){return T||I||(T=-96,I=-96),T<0&&(T=-1*B.width*72/T/this.internal.scaleFactor),I<0&&(I=-1*B.height*72/I/this.internal.scaleFactor),T===0&&(T=I*B.width/B.height),I===0&&(I=T*B.height/B.width),[T,I]},g=function(T,I,B,G,Z,re){var W=w.call(this,B,G,Z),z=this.internal.getCoordinateString,U=this.internal.getVerticalCoordinateString,Y=c.call(this);if(B=W[0],G=W[1],Y[Z.index]=Z,re){re*=Math.PI/180;var Q=Math.cos(re),D=Math.sin(re),K=function(ne){return ne.toFixed(4)},J=[K(Q),K(D),K(-1*D),K(Q),0,0,"cm"]}this.internal.write("q"),re?(this.internal.write([1,"0","0",1,z(T),U(I+G),"cm"].join(" ")),this.internal.write(J.join(" ")),this.internal.write([z(B),"0","0",z(G),"0","0","cm"].join(" "))):this.internal.write([z(B),"0","0",z(G),z(T),U(I+G),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Z.index+" Do"),this.internal.write("Q")},y=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var b=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},_=e.__addimage__.sHashCode=function(T){var I,B,G=0;if(typeof T=="string")for(B=T.length,I=0;I<B;I++)G=(G<<5)-G+T.charCodeAt(I),G|=0;else if(O(T))for(B=T.byteLength/2,I=0;I<B;I++)G=(G<<5)-G+T[I],G|=0;return G},N=e.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var I=!0;return T.length===0&&(I=!1),T.length%4!=0&&(I=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(I=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(I=!1),I},E=e.__addimage__.extractImageFromDataUrl=function(T){if(T==null||!(T=T.trim()).startsWith("data:"))return null;var I=T.indexOf(",");return I<0?null:T.substring(0,I).trim().endsWith("base64")?T.substring(I+1):null},C=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(T){return C()&&T instanceof ArrayBuffer};var O=e.__addimage__.isArrayBufferView=function(T){return C()&&typeof Uint32Array<"u"&&(T instanceof Int8Array||T instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array)},P=e.__addimage__.binaryStringToUint8Array=function(T){for(var I=T.length,B=new Uint8Array(I),G=0;G<I;G++)B[G]=T.charCodeAt(G);return B},M=e.__addimage__.arrayBufferToBinaryString=function(T){for(var I="",B=O(T)?T:new Uint8Array(T),G=0;G<B.length;G+=8192)I+=String.fromCharCode.apply(null,B.subarray(G,G+8192));return I};e.addImage=function(){var T,I,B,G,Z,re,W,z,U;if(typeof arguments[1]=="number"?(I=t,B=arguments[1],G=arguments[2],Z=arguments[3],re=arguments[4],W=arguments[5],z=arguments[6],U=arguments[7]):(I=arguments[1],B=arguments[2],G=arguments[3],Z=arguments[4],re=arguments[5],W=arguments[6],z=arguments[7],U=arguments[8]),Ca(T=arguments[0])==="object"&&!f(T)&&"imageData"in T){var Y=T;T=Y.imageData,I=Y.format||I||t,B=Y.x||B||0,G=Y.y||G||0,Z=Y.w||Y.width||Z,re=Y.h||Y.height||re,W=Y.alias||W,z=Y.compression||z,U=Y.rotation||Y.angle||U}var Q=this.internal.getFilters();if(z===void 0&&Q.indexOf("FlateEncode")!==-1&&(z="SLOW"),isNaN(B)||isNaN(G))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var D=L.call(this,T,I,W,z);return g.call(this,B,G,Z,re,D,U),this};var L=function(T,I,B,G){var Z,re,W;if(typeof T=="string"&&n(T)===t){T=unescape(T);var z=j(T,!1);(z!==""||(z=e.loadFile(T,!0))!==void 0)&&(T=z)}if(f(T)&&(T=h(T,I)),I=n(T,I),!d(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(((W=B)==null||W.length===0)&&(B=function(U){return typeof U=="string"||O(U)?_(U):O(U.data)?_(U.data):null}(T)),(Z=m.call(this,B))||(C()&&(T instanceof Uint8Array||I==="RGBA"||(re=T,T=P(T))),Z=this["process"+I.toUpperCase()](T,u.call(this),B,function(U){return U&&typeof U=="string"&&(U=U.toUpperCase()),U in e.image_compression?U:b.NONE}(G),re)),!Z)throw new Error("An unknown error occurred whilst processing the image.");return Z},j=e.__addimage__.convertBase64ToBinaryString=function(T,I){I=typeof I!="boolean"||I;var B,G="";if(typeof T=="string"){var Z;B=(Z=E(T))!==null&&Z!==void 0?Z:T;try{G=tx(B)}catch(re){if(I)throw N(B)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+re.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return G};e.getImageProperties=function(T){var I,B,G="";if(f(T)&&(T=h(T)),typeof T=="string"&&n(T)===t&&((G=j(T,!1))===""&&(G=e.loadFile(T)||""),T=G),B=n(T),!d(B))throw new Error("addImage does not support files of type '"+B+"', please ensure that a plugin for '"+B+"' support is added.");if(!C()||T instanceof Uint8Array||(T=P(T)),!(I=this["process"+B.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return I.fileType=B,I}})(Hr.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Hr.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,i,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,f=0;f<u.length&&!d;f++)switch((n=u[f]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var h=0;h<u.length;h++){n=u[h];var m=this.internal.pdfEscape,w=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),y=this.internal.newAdditionalObject(),b=this.internal.getEncryptor(g.objId),_=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+m(b(n.contents))+")",i+=" /Popup "+y.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+m(b(_))+") >>",g.content=i;var N=g.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+s(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+N,n.open&&(i+=" /Open true"),i+=" >>",y.content=i,this.internal.write(g.objId,"0 R",y.objId,"0 R");break;case"freetext":a="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var E=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+m(w(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+E+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var C=this.annotations._nameMap[n.options.name];n.options.pageNumber=C.page,n.options.top=C.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+m(w(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var O=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+O+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,i,s){var o=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+a),h:u(n+i)},options:s,type:"link"})},e.textWithLink=function(r,n,a,i){var s,o,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var d=this.splitTextToSize(r,o).length;s=Math.ceil(u*d)}else o=c,s=u;return this.text(r,n,a,i),a+=.2*u,i.align==="center"&&(n-=c/2),i.align==="right"&&(n-=c),this.link(n,a-u,o,s,i),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Hr.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(g){return t[g.charCodeAt(0)]!==void 0},s=e.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},o=e.__arabicParser__.isArabicEndLetter=function(g){return s(g)&&i(g)&&t[g.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(g){return s(g)&&a.indexOf(g.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return s(g)&&i(g)&&t[g.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(g){return s(g)&&i(g)&&t[g.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(g){return s(g)&&i(g)&&t[g.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(g){return s(g)&&i(g)&&t[g.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(g){var y=0,b=r,_="",N=0;for(y=0;y<g.length;y+=1)b[g.charCodeAt(y)]!==void 0?(N++,typeof(b=b[g.charCodeAt(y)])=="number"&&(_+=String.fromCharCode(b),b=r,N=0),y===g.length-1&&(b=r,_+=g.charAt(y-(N-1)),y-=N-1,N=0)):(b=r,_+=g.charAt(y-N),y-=N,N=0);return _};e.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&n[g.charCodeAt(0)]!==void 0};var h=e.__arabicParser__.getCorrectForm=function(g,y,b){return s(g)?i(g)===!1?-1:!u(g)||!s(y)&&!s(b)||!s(b)&&o(y)||o(g)&&!s(y)||o(g)&&c(y)||o(g)&&o(y)?0:d(g)&&s(y)&&!o(y)&&s(b)&&u(b)?3:o(g)||!s(b)?1:2:-1},m=function(g){var y=0,b=0,_=0,N="",E="",C="",O=(g=g||"").split("\\s+"),P=[];for(y=0;y<O.length;y+=1){for(P.push(""),b=0;b<O[y].length;b+=1)N=O[y][b],E=O[y][b-1],C=O[y][b+1],s(N)?(_=h(N,E,C),P[y]+=_!==-1?String.fromCharCode(t[N.charCodeAt(0)][_]):N):P[y]+=N;P[y]=f(P[y])}return P.join(" ")},w=e.__arabicParser__.processArabic=e.processArabic=function(){var g,y=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,b=[];if(Array.isArray(y)){var _=0;for(b=[],_=0;_<y.length;_+=1)Array.isArray(y[_])?b.push([m(y[_][0]),y[_][1],y[_][2]]):b.push([m(y[_])]);g=b}else g=m(y);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};e.events.push(["preProcessText",w])}(Hr.API),Hr.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(o){a=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Hr.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(g){m=g}});var w=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return w},set:function(g){w=g}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),h=u.scaleFactor||this.internal.scaleFactor,m=0,w=0,g=0,y=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var b=u.maxWidth;b>0?typeof c=="string"?c=this.splitTextToSize(c,b):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(N,E){return N.concat(y.splitTextToSize(E,b))},[])):c=Array.isArray(c)?c:[c];for(var _=0;_<c.length;_++)m<(g=this.getStringUnitWidth(c[_],{font:f})*d)&&(m=g);return m!==0&&(w=c.length),{w:m/=h,h:Math.max((w*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/h,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,h=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=f.top,m&&h&&(this.printHeaderRow(c.lineNumber,!0),c.y+=h[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};e.table=function(c,u,d,f,h){if(n.call(this),!d)throw new Error("No data for PDF table.");var m,w,g,y,b=[],_=[],N=[],E={},C={},O=[],P=[],M=(h=h||{}).autoSize||!1,L=h.printHeaders!==!1,j=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,T=h.margins||Object.assign({width:this.getPageWidth()},t),I=typeof h.padding=="number"?h.padding:3,B=h.headerBackgroundColor||"#c8c8c8",G=h.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=L,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=j,this.internal.__cell__.padding=I,this.internal.__cell__.headerBackgroundColor=B,this.internal.__cell__.headerTextColor=G,this.setFontSize(j),f==null)_=b=Object.keys(d[0]),N=b.map(function(){return"left"});else if(Array.isArray(f)&&Ca(f[0])==="object")for(b=f.map(function(Y){return Y.name}),_=f.map(function(Y){return Y.prompt||Y.name||""}),N=f.map(function(Y){return Y.align||"left"}),m=0;m<f.length;m+=1)C[f[m].name]=f[m].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(_=b=f,N=b.map(function(){return"left"}));if(M||Array.isArray(f)&&typeof f[0]=="string")for(m=0;m<b.length;m+=1){for(E[y=b[m]]=d.map(function(Y){return Y[y]}),this.setFont(void 0,"bold"),O.push(this.getTextDimensions(_[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),w=E[y],this.setFont(void 0,"normal"),g=0;g<w.length;g+=1)O.push(this.getTextDimensions(w[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);C[y]=Math.max.apply(null,O)+I+I,O=[]}if(L){var Z={};for(m=0;m<b.length;m+=1)Z[b[m]]={},Z[b[m]].text=_[m],Z[b[m]].align=N[m];var re=o.call(this,Z,C);P=b.map(function(Y){return new i(c,u,C[Y],re,Z[Y].text,void 0,Z[Y].align)}),this.setTableHeaderRow(P),this.printHeaderRow(1,!1)}var W=f.reduce(function(Y,Q){return Y[Q.name]=Q.align,Y},{});for(m=0;m<d.length;m+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:m,data:d[m]},this);var z=o.call(this,d[m],C);for(g=0;g<b.length;g+=1){var U=d[m][b[g]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:m,col:g,data:U},this),s.call(this,new i(c,u,C[b[g]],z,U,m+2,W[b[g]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var o=function(c,u){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(c).map(function(m){var w=c[m];return this.splitTextToSize(w.hasOwnProperty("text")?w.text:w,u[m]-d-d)},this).map(function(m){return this.getLineHeightFactor()*m.length*f/h+d+d},this).reduce(function(m,w){return Math.max(m,w)},0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){d=this.internal.__cell__.tableHeaderRow[m].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,h.push(d)),d.lineNumber=c;var w=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,d),this.setTextColor(w)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),r=!1}}(Hr.API);var pne={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},mne=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],NO=hne(mne),gne=[100,200,300,400,500,600,700,800,900],HRe=hne(gne);function AO(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return pne[i=i||"normal"]?i:"normal"}(e.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(e.weight),a=function(i){return typeof NO[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function tW(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var GRe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},rW={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function nW(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function YRe(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},GRe,r.genericFontFamilies||{}),i=null,s=null,o=0;o<t.length;++o)if(a[(i=AO(t[o])).family]&&(i.family=a[i.family]),e.hasOwnProperty(i.family)){s=e[i.family];break}if(!(s=s||e[n]))throw new Error("Could not find a font-family for the rule '"+nW(i)+"' and default family '"+n+"'.");if(s=function(c,u){if(u[c])return u[c];var d=NO[c],f=d<=NO.normal?-1:1,h=tW(u,mne,d,f);if(!h)throw new Error("Could not find a matching font-stretch value for "+c);return h}(i.stretch,s),s=function(c,u){if(u[c])return u[c];for(var d=pne[c],f=0;f<d.length;++f)if(u[d[f]])return u[d[f]];throw new Error("Could not find a matching font-style for "+c)}(i.style,s),!(s=function(c,u){if(u[c])return u[c];if(c===400&&u[500])return u[500];if(c===500&&u[400])return u[400];var d=HRe[c],f=tW(u,gne,d,c<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+c);return f}(i.weight,s)))throw new Error("Failed to resolve a font for the rule '"+nW(i)+"'.");return s}function aW(e){return e.trimLeft()}function KRe(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function XRe(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var F_,iW,sW,sT=["times"];(function(e){var t,r,n,a,i,s,o,c,u,d=function(D){return D=D||{},this.isStrokeTransparent=D.isStrokeTransparent||!1,this.strokeOpacity=D.strokeOpacity||1,this.strokeStyle=D.strokeStyle||"#000000",this.fillStyle=D.fillStyle||"#000000",this.isFillTransparent=D.isFillTransparent||!1,this.fillOpacity=D.fillOpacity||1,this.font=D.font||"10px sans-serif",this.textBaseline=D.textBaseline||"alphabetic",this.textAlign=D.textAlign||"left",this.lineWidth=D.lineWidth||1,this.lineJoin=D.lineJoin||"miter",this.lineCap=D.lineCap||"butt",this.path=D.path||[],this.transform=D.transform!==void 0?D.transform.clone():new c,this.globalCompositeOperation=D.globalCompositeOperation||"normal",this.globalAlpha=D.globalAlpha||1,this.clip_path=D.clip_path||[],this.currentPoint=D.currentPoint||new s,this.miterLimit=D.miterLimit||10,this.lastPoint=D.lastPoint||new s,this.lineDashOffset=D.lineDashOffset||0,this.lineDash=D.lineDash||[],this.margin=D.margin||[0,0,0,0],this.prevPageLastElemOffset=D.prevPageLastElemOffset||0,this.ignoreClearRect=typeof D.ignoreClearRect!="boolean"||D.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var f=function(D){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var K=D;Object.defineProperty(this,"pdf",{get:function(){return K}});var J=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return J},set:function(Pe){J=!!Pe}});var ne=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ne},set:function(Pe){ne=!!Pe}});var ie=0;Object.defineProperty(this,"posX",{get:function(){return ie},set:function(Pe){isNaN(Pe)||(ie=Pe)}});var oe=0;Object.defineProperty(this,"posY",{get:function(){return oe},set:function(Pe){isNaN(Pe)||(oe=Pe)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(Pe){var ve;typeof Pe=="number"?ve=[Pe,Pe,Pe,Pe]:((ve=new Array(4))[0]=Pe[0],ve[1]=Pe.length>=2?Pe[1]:ve[0],ve[2]=Pe.length>=3?Pe[2]:ve[0],ve[3]=Pe.length>=4?Pe[3]:ve[1]),u.margin=ve}});var ue=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ue},set:function(Pe){ue=Pe}});var V=0;Object.defineProperty(this,"lastBreak",{get:function(){return V},set:function(Pe){V=Pe}});var se=[];Object.defineProperty(this,"pageBreaks",{get:function(){return se},set:function(Pe){se=Pe}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(Pe){Pe instanceof d&&(u=Pe)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(Pe){u.path=Pe}});var fe=[];Object.defineProperty(this,"ctxStack",{get:function(){return fe},set:function(Pe){fe=Pe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Pe){var ve;ve=h(Pe),this.ctx.fillStyle=ve.style,this.ctx.isFillTransparent=ve.a===0,this.ctx.fillOpacity=ve.a,this.pdf.setFillColor(ve.r,ve.g,ve.b,{a:ve.a}),this.pdf.setTextColor(ve.r,ve.g,ve.b,{a:ve.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Pe){var ve=h(Pe);this.ctx.strokeStyle=ve.style,this.ctx.isStrokeTransparent=ve.a===0,this.ctx.strokeOpacity=ve.a,ve.a===0?this.pdf.setDrawColor(255,255,255):(ve.a,this.pdf.setDrawColor(ve.r,ve.g,ve.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Pe){["butt","round","square"].indexOf(Pe)!==-1&&(this.ctx.lineCap=Pe,this.pdf.setLineCap(Pe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Pe){isNaN(Pe)||(this.ctx.lineWidth=Pe,this.pdf.setLineWidth(Pe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Pe){["bevel","round","miter"].indexOf(Pe)!==-1&&(this.ctx.lineJoin=Pe,this.pdf.setLineJoin(Pe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Pe){isNaN(Pe)||(this.ctx.miterLimit=Pe,this.pdf.setMiterLimit(Pe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Pe){this.ctx.textBaseline=Pe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Pe){["right","end","center","left","start"].indexOf(Pe)!==-1&&(this.ctx.textAlign=Pe)}});var te=null;function Ee(Pe,ve){if(te===null){var Ge=function(ht){var at=[];return Object.keys(ht).forEach(function(St){ht[St].forEach(function(wt){var _e=null;switch(wt){case"bold":_e={family:St,weight:"bold"};break;case"italic":_e={family:St,style:"italic"};break;case"bolditalic":_e={family:St,weight:"bold",style:"italic"};break;case"":case"normal":_e={family:St}}_e!==null&&(_e.ref={name:St,style:wt},at.push(_e))})}),at}(Pe.getFontList());te=function(ht){for(var at={},St=0;St<ht.length;++St){var wt=AO(ht[St]),_e=wt.family,ge=wt.stretch,Ce=wt.style,Je=wt.weight;at[_e]=at[_e]||{},at[_e][ge]=at[_e][ge]||{},at[_e][ge][Ce]=at[_e][ge][Ce]||{},at[_e][ge][Ce][Je]=wt}return at}(Ge.concat(ve))}return te}var Fe=null;Object.defineProperty(this,"fontFaces",{get:function(){return Fe},set:function(Pe){te=null,Fe=Pe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Pe){var ve;if(this.ctx.font=Pe,(ve=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Pe))!==null){var Ge=ve[1];ve[2];var ht=ve[3],at=ve[4];ve[5];var St=ve[6],wt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(at)[2];at=Math.floor(wt==="px"?parseFloat(at)*this.pdf.internal.scaleFactor:wt==="em"?parseFloat(at)*this.pdf.getFontSize():parseFloat(at)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(at);var _e=function(At){var Nt,vt,Tr=[],cr=At.trim();if(cr==="")return sT;if(cr in rW)return[rW[cr]];for(;cr!=="";){switch(vt=null,Nt=(cr=aW(cr)).charAt(0)){case'"':case"'":vt=KRe(cr.substring(1),Nt);break;default:vt=XRe(cr)}if(vt===null||(Tr.push(vt[0]),(cr=aW(vt[1]))!==""&&cr.charAt(0)!==","))return sT;cr=cr.replace(/^,/,"")}return Tr}(St);if(this.fontFaces){var ge=YRe(Ee(this.pdf,this.fontFaces),_e.map(function(At){return{family:At,stretch:"normal",weight:ht,style:Ge}}));this.pdf.setFont(ge.ref.name,ge.ref.style)}else{var Ce="";(ht==="bold"||parseInt(ht,10)>=700||Ge==="bold")&&(Ce="bold"),Ge==="italic"&&(Ce+="italic"),Ce.length===0&&(Ce="normal");for(var Je="",Qe={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Xe=0;Xe<_e.length;Xe++){if(this.pdf.internal.getFont(_e[Xe],Ce,{noFallback:!0,disableWarning:!0})!==void 0){Je=_e[Xe];break}if(Ce==="bolditalic"&&this.pdf.internal.getFont(_e[Xe],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Je=_e[Xe],Ce="bold";else if(this.pdf.internal.getFont(_e[Xe],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Je=_e[Xe],Ce="normal";break}}if(Je===""){for(var Ke=0;Ke<_e.length;Ke++)if(Qe[_e[Ke]]){Je=Qe[_e[Ke]];break}}Je=Je===""?"Times":Je,this.pdf.setFont(Je,Ce)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Pe){this.ctx.globalCompositeOperation=Pe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Pe){this.ctx.globalAlpha=Pe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Pe){this.ctx.lineDashOffset=Pe,Q.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Pe){this.ctx.lineDash=Pe,Q.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Pe){this.ctx.ignoreClearRect=!!Pe}})};f.prototype.setLineDash=function(D){this.lineDash=D},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){E.call(this,"fill",!1)},f.prototype.stroke=function(){E.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(D,K){if(isNaN(D)||isNaN(K))throw Ra.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var J=this.ctx.transform.applyToPoint(new s(D,K));this.path.push({type:"mt",x:J.x,y:J.y}),this.ctx.lastPoint=new s(D,K)},f.prototype.closePath=function(){var D=new s(0,0),K=0;for(K=this.path.length-1;K!==-1;K--)if(this.path[K].type==="begin"&&Ca(this.path[K+1])==="object"&&typeof this.path[K+1].x=="number"){D=new s(this.path[K+1].x,this.path[K+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(D.x,D.y)},f.prototype.lineTo=function(D,K){if(isNaN(D)||isNaN(K))throw Ra.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var J=this.ctx.transform.applyToPoint(new s(D,K));this.path.push({type:"lt",x:J.x,y:J.y}),this.ctx.lastPoint=new s(J.x,J.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),E.call(this,null,!0)},f.prototype.quadraticCurveTo=function(D,K,J,ne){if(isNaN(J)||isNaN(ne)||isNaN(D)||isNaN(K))throw Ra.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ie=this.ctx.transform.applyToPoint(new s(J,ne)),oe=this.ctx.transform.applyToPoint(new s(D,K));this.path.push({type:"qct",x1:oe.x,y1:oe.y,x:ie.x,y:ie.y}),this.ctx.lastPoint=new s(ie.x,ie.y)},f.prototype.bezierCurveTo=function(D,K,J,ne,ie,oe){if(isNaN(ie)||isNaN(oe)||isNaN(D)||isNaN(K)||isNaN(J)||isNaN(ne))throw Ra.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ue=this.ctx.transform.applyToPoint(new s(ie,oe)),V=this.ctx.transform.applyToPoint(new s(D,K)),se=this.ctx.transform.applyToPoint(new s(J,ne));this.path.push({type:"bct",x1:V.x,y1:V.y,x2:se.x,y2:se.y,x:ue.x,y:ue.y}),this.ctx.lastPoint=new s(ue.x,ue.y)},f.prototype.arc=function(D,K,J,ne,ie,oe){if(isNaN(D)||isNaN(K)||isNaN(J)||isNaN(ne)||isNaN(ie))throw Ra.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(oe=!!oe,!this.ctx.transform.isIdentity){var ue=this.ctx.transform.applyToPoint(new s(D,K));D=ue.x,K=ue.y;var V=this.ctx.transform.applyToPoint(new s(0,J)),se=this.ctx.transform.applyToPoint(new s(0,0));J=Math.sqrt(Math.pow(V.x-se.x,2)+Math.pow(V.y-se.y,2))}Math.abs(ie-ne)>=2*Math.PI&&(ne=0,ie=2*Math.PI),this.path.push({type:"arc",x:D,y:K,radius:J,startAngle:ne,endAngle:ie,counterclockwise:oe})},f.prototype.arcTo=function(D,K,J,ne,ie){throw new Error("arcTo not implemented.")},f.prototype.rect=function(D,K,J,ne){if(isNaN(D)||isNaN(K)||isNaN(J)||isNaN(ne))throw Ra.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(D,K),this.lineTo(D+J,K),this.lineTo(D+J,K+ne),this.lineTo(D,K+ne),this.lineTo(D,K),this.lineTo(D+J,K),this.lineTo(D,K)},f.prototype.fillRect=function(D,K,J,ne){if(isNaN(D)||isNaN(K)||isNaN(J)||isNaN(ne))throw Ra.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var ie={};this.lineCap!=="butt"&&(ie.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ie.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(D,K,J,ne),this.fill(),ie.hasOwnProperty("lineCap")&&(this.lineCap=ie.lineCap),ie.hasOwnProperty("lineJoin")&&(this.lineJoin=ie.lineJoin)}},f.prototype.strokeRect=function(D,K,J,ne){if(isNaN(D)||isNaN(K)||isNaN(J)||isNaN(ne))throw Ra.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");w.call(this)||(this.beginPath(),this.rect(D,K,J,ne),this.stroke())},f.prototype.clearRect=function(D,K,J,ne){if(isNaN(D)||isNaN(K)||isNaN(J)||isNaN(ne))throw Ra.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(D,K,J,ne))},f.prototype.save=function(D){D=typeof D!="boolean"||D;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("q");if(this.pdf.setPage(K),D){this.ctx.fontSize=this.pdf.internal.getFontSize();var ne=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ne}},f.prototype.restore=function(D){D=typeof D!="boolean"||D;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("Q");this.pdf.setPage(K),D&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(D){var K,J,ne,ie;if(D.isCanvasGradient===!0&&(D=D.getColor()),!D)return{r:0,g:0,b:0,a:0,style:D};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(D))K=0,J=0,ne=0,ie=0;else{var oe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(D);if(oe!==null)K=parseInt(oe[1]),J=parseInt(oe[2]),ne=parseInt(oe[3]),ie=1;else if((oe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(D))!==null)K=parseInt(oe[1]),J=parseInt(oe[2]),ne=parseInt(oe[3]),ie=parseFloat(oe[4]);else{if(ie=1,typeof D=="string"&&D.charAt(0)!=="#"){var ue=new one(D);D=ue.ok?ue.toHex():"#000000"}D.length===4?(K=D.substring(1,2),K+=K,J=D.substring(2,3),J+=J,ne=D.substring(3,4),ne+=ne):(K=D.substring(1,3),J=D.substring(3,5),ne=D.substring(5,7)),K=parseInt(K,16),J=parseInt(J,16),ne=parseInt(ne,16)}}return{r:K,g:J,b:ne,a:ie,style:D}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},w=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(D,K,J,ne){if(isNaN(K)||isNaN(J)||typeof D!="string")throw Ra.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ne=isNaN(ne)?void 0:ne,!m.call(this)){var ie=z(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;I.call(this,{text:D,x:K,y:J,scale:oe,angle:ie,align:this.textAlign,maxWidth:ne})}},f.prototype.strokeText=function(D,K,J,ne){if(isNaN(K)||isNaN(J)||typeof D!="string")throw Ra.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!w.call(this)){ne=isNaN(ne)?void 0:ne;var ie=z(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;I.call(this,{text:D,x:K,y:J,scale:oe,renderingMode:"stroke",angle:ie,align:this.textAlign,maxWidth:ne})}},f.prototype.measureText=function(D){if(typeof D!="string")throw Ra.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var K=this.pdf,J=this.pdf.internal.scaleFactor,ne=K.internal.getFontSize(),ie=K.getStringUnitWidth(D)*ne/K.internal.scaleFactor,oe=function(ue){var V=(ue=ue||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return V}}),this};return new oe({width:ie*=Math.round(96*J/72*1e4)/1e4})},f.prototype.scale=function(D,K){if(isNaN(D)||isNaN(K))throw Ra.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var J=new c(D,0,0,K,0,0);this.ctx.transform=this.ctx.transform.multiply(J)},f.prototype.rotate=function(D){if(isNaN(D))throw Ra.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var K=new c(Math.cos(D),Math.sin(D),-Math.sin(D),Math.cos(D),0,0);this.ctx.transform=this.ctx.transform.multiply(K)},f.prototype.translate=function(D,K){if(isNaN(D)||isNaN(K))throw Ra.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var J=new c(1,0,0,1,D,K);this.ctx.transform=this.ctx.transform.multiply(J)},f.prototype.transform=function(D,K,J,ne,ie,oe){if(isNaN(D)||isNaN(K)||isNaN(J)||isNaN(ne)||isNaN(ie)||isNaN(oe))throw Ra.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ue=new c(D,K,J,ne,ie,oe);this.ctx.transform=this.ctx.transform.multiply(ue)},f.prototype.setTransform=function(D,K,J,ne,ie,oe){D=isNaN(D)?1:D,K=isNaN(K)?0:K,J=isNaN(J)?0:J,ne=isNaN(ne)?1:ne,ie=isNaN(ie)?0:ie,oe=isNaN(oe)?0:oe,this.ctx.transform=new c(D,K,J,ne,ie,oe)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(D,K,J,ne,ie,oe,ue,V,se){var fe=this.pdf.getImageProperties(D),te=1,Ee=1,Fe=1,Pe=1;ne!==void 0&&V!==void 0&&(Fe=V/ne,Pe=se/ie,te=fe.width/ne*V/ne,Ee=fe.height/ie*se/ie),oe===void 0&&(oe=K,ue=J,K=0,J=0),ne!==void 0&&V===void 0&&(V=ne,se=ie),ne===void 0&&V===void 0&&(V=fe.width,se=fe.height);for(var ve,Ge=this.ctx.transform.decompose(),ht=z(Ge.rotate.shx),at=new c,St=(at=(at=(at=at.multiply(Ge.translate)).multiply(Ge.skew)).multiply(Ge.scale)).applyToRectangle(new o(oe-K*Fe,ue-J*Pe,ne*te,ie*Ee)),wt=y.call(this,St),_e=[],ge=0;ge<wt.length;ge+=1)_e.indexOf(wt[ge])===-1&&_e.push(wt[ge]);if(N(_e),this.autoPaging)for(var Ce=_e[0],Je=_e[_e.length-1],Qe=Ce;Qe<Je+1;Qe++){this.pdf.setPage(Qe);var Xe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ke=Qe===1?this.posY+this.margin[0]:this.margin[0],At=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Nt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],vt=Qe===1?0:At+(Qe-2)*Nt;if(this.ctx.clip_path.length!==0){var Tr=this.path;ve=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(ve,this.posX+this.margin[3],-vt+Ke+this.ctx.prevPageLastElemOffset),C.call(this,"fill",!0),this.path=Tr}var cr=JSON.parse(JSON.stringify(St));cr=_([cr],this.posX+this.margin[3],-vt+Ke+this.ctx.prevPageLastElemOffset)[0];var Nn=(Qe>Ce||Qe<Je)&&g.call(this);Nn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Xe,Nt,null).clip().discardPath()),this.pdf.addImage(D,"JPEG",cr.x,cr.y,cr.w,cr.h,null,null,ht),Nn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(D,"JPEG",St.x,St.y,St.w,St.h,null,null,ht)};var y=function(D,K,J){var ne=[];K=K||this.pdf.internal.pageSize.width,J=J||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ie=this.posY+this.ctx.prevPageLastElemOffset;switch(D.type){default:case"mt":case"lt":ne.push(Math.floor((D.y+ie)/J)+1);break;case"arc":ne.push(Math.floor((D.y+ie-D.radius)/J)+1),ne.push(Math.floor((D.y+ie+D.radius)/J)+1);break;case"qct":var oe=U(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x,D.y);ne.push(Math.floor((oe.y+ie)/J)+1),ne.push(Math.floor((oe.y+oe.h+ie)/J)+1);break;case"bct":var ue=Y(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x2,D.y2,D.x,D.y);ne.push(Math.floor((ue.y+ie)/J)+1),ne.push(Math.floor((ue.y+ue.h+ie)/J)+1);break;case"rect":ne.push(Math.floor((D.y+ie)/J)+1),ne.push(Math.floor((D.y+D.h+ie)/J)+1)}for(var V=0;V<ne.length;V+=1)for(;this.pdf.internal.getNumberOfPages()<ne[V];)b.call(this);return ne},b=function(){var D=this.fillStyle,K=this.strokeStyle,J=this.font,ne=this.lineCap,ie=this.lineWidth,oe=this.lineJoin;this.pdf.addPage(),this.fillStyle=D,this.strokeStyle=K,this.font=J,this.lineCap=ne,this.lineWidth=ie,this.lineJoin=oe},_=function(D,K,J){for(var ne=0;ne<D.length;ne++)switch(D[ne].type){case"bct":D[ne].x2+=K,D[ne].y2+=J;case"qct":D[ne].x1+=K,D[ne].y1+=J;case"mt":case"lt":case"arc":default:D[ne].x+=K,D[ne].y+=J}return D},N=function(D){return D.sort(function(K,J){return K-J})},E=function(D,K){for(var J,ne,ie=this.fillStyle,oe=this.strokeStyle,ue=this.lineCap,V=this.lineWidth,se=Math.abs(V*this.ctx.transform.scaleX),fe=this.lineJoin,te=JSON.parse(JSON.stringify(this.path)),Ee=JSON.parse(JSON.stringify(this.path)),Fe=[],Pe=0;Pe<Ee.length;Pe++)if(Ee[Pe].x!==void 0)for(var ve=y.call(this,Ee[Pe]),Ge=0;Ge<ve.length;Ge+=1)Fe.indexOf(ve[Ge])===-1&&Fe.push(ve[Ge]);for(var ht=0;ht<Fe.length;ht++)for(;this.pdf.internal.getNumberOfPages()<Fe[ht];)b.call(this);if(N(Fe),this.autoPaging)for(var at=Fe[0],St=Fe[Fe.length-1],wt=at;wt<St+1;wt++){this.pdf.setPage(wt),this.fillStyle=ie,this.strokeStyle=oe,this.lineCap=ue,this.lineWidth=se,this.lineJoin=fe;var _e=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ge=wt===1?this.posY+this.margin[0]:this.margin[0],Ce=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Je=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Qe=wt===1?0:Ce+(wt-2)*Je;if(this.ctx.clip_path.length!==0){var Xe=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(J,this.posX+this.margin[3],-Qe+ge+this.ctx.prevPageLastElemOffset),C.call(this,D,!0),this.path=Xe}if(ne=JSON.parse(JSON.stringify(te)),this.path=_(ne,this.posX+this.margin[3],-Qe+ge+this.ctx.prevPageLastElemOffset),K===!1||wt===0){var Ke=(wt>at||wt<St)&&g.call(this);Ke&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],_e,Je,null).clip().discardPath()),C.call(this,D,K),Ke&&this.pdf.restoreGraphicsState()}this.lineWidth=V}else this.lineWidth=se,C.call(this,D,K),this.lineWidth=V;this.path=te},C=function(D,K){if((D!=="stroke"||K||!w.call(this))&&(D==="stroke"||K||!m.call(this))){for(var J,ne,ie=[],oe=this.path,ue=0;ue<oe.length;ue++){var V=oe[ue];switch(V.type){case"begin":ie.push({begin:!0});break;case"close":ie.push({close:!0});break;case"mt":ie.push({start:V,deltas:[],abs:[]});break;case"lt":var se=ie.length;if(oe[ue-1]&&!isNaN(oe[ue-1].x)&&(J=[V.x-oe[ue-1].x,V.y-oe[ue-1].y],se>0)){for(;se>=0;se--)if(ie[se-1].close!==!0&&ie[se-1].begin!==!0){ie[se-1].deltas.push(J),ie[se-1].abs.push(V);break}}break;case"bct":J=[V.x1-oe[ue-1].x,V.y1-oe[ue-1].y,V.x2-oe[ue-1].x,V.y2-oe[ue-1].y,V.x-oe[ue-1].x,V.y-oe[ue-1].y],ie[ie.length-1].deltas.push(J);break;case"qct":var fe=oe[ue-1].x+2/3*(V.x1-oe[ue-1].x),te=oe[ue-1].y+2/3*(V.y1-oe[ue-1].y),Ee=V.x+2/3*(V.x1-V.x),Fe=V.y+2/3*(V.y1-V.y),Pe=V.x,ve=V.y;J=[fe-oe[ue-1].x,te-oe[ue-1].y,Ee-oe[ue-1].x,Fe-oe[ue-1].y,Pe-oe[ue-1].x,ve-oe[ue-1].y],ie[ie.length-1].deltas.push(J);break;case"arc":ie.push({deltas:[],abs:[],arc:!0}),Array.isArray(ie[ie.length-1].abs)&&ie[ie.length-1].abs.push(V)}}ne=K?null:D==="stroke"?"stroke":"fill";for(var Ge=!1,ht=0;ht<ie.length;ht++)if(ie[ht].arc)for(var at=ie[ht].abs,St=0;St<at.length;St++){var wt=at[St];wt.type==="arc"?M.call(this,wt.x,wt.y,wt.radius,wt.startAngle,wt.endAngle,wt.counterclockwise,void 0,K,!Ge):B.call(this,wt.x,wt.y),Ge=!0}else if(ie[ht].close===!0)this.pdf.internal.out("h"),Ge=!1;else if(ie[ht].begin!==!0){var _e=ie[ht].start.x,ge=ie[ht].start.y;G.call(this,ie[ht].deltas,_e,ge),Ge=!0}ne&&L.call(this,ne),K&&j.call(this)}},O=function(D){var K=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,J=K*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return D-J;case"top":return D+K-J;case"hanging":return D+K-2*J;case"middle":return D+K/2-J;case"ideographic":return D;case"alphabetic":default:return D}},P=function(D){return D+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var D=function(){};return D.colorStops=[],D.addColorStop=function(K,J){this.colorStops.push([K,J])},D.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},D.isCanvasGradient=!0,D},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var M=function(D,K,J,ne,ie,oe,ue,V,se){for(var fe=re.call(this,J,ne,ie,oe),te=0;te<fe.length;te++){var Ee=fe[te];te===0&&(se?T.call(this,Ee.x1+D,Ee.y1+K):B.call(this,Ee.x1+D,Ee.y1+K)),Z.call(this,D,K,Ee.x2,Ee.y2,Ee.x3,Ee.y3,Ee.x4,Ee.y4)}V?j.call(this):L.call(this,ue)},L=function(D){switch(D){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},j=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(D,K){this.pdf.internal.out(r(D)+" "+n(K)+" m")},I=function(D){var K;switch(D.align){case"right":case"end":K="right";break;case"center":K="center";break;case"left":case"start":default:K="left"}var J=this.pdf.getTextDimensions(D.text),ne=O.call(this,D.y),ie=P.call(this,ne)-J.h,oe=this.ctx.transform.applyToPoint(new s(D.x,ne)),ue=this.ctx.transform.decompose(),V=new c;V=(V=(V=V.multiply(ue.translate)).multiply(ue.skew)).multiply(ue.scale);for(var se,fe,te,Ee=this.ctx.transform.applyToRectangle(new o(D.x,ne,J.w,J.h)),Fe=V.applyToRectangle(new o(D.x,ie,J.w,J.h)),Pe=y.call(this,Fe),ve=[],Ge=0;Ge<Pe.length;Ge+=1)ve.indexOf(Pe[Ge])===-1&&ve.push(Pe[Ge]);if(N(ve),this.autoPaging)for(var ht=ve[0],at=ve[ve.length-1],St=ht;St<at+1;St++){this.pdf.setPage(St);var wt=St===1?this.posY+this.margin[0]:this.margin[0],_e=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ge=this.pdf.internal.pageSize.height-this.margin[2],Ce=ge-this.margin[0],Je=this.pdf.internal.pageSize.width-this.margin[1],Qe=Je-this.margin[3],Xe=St===1?0:_e+(St-2)*Ce;if(this.ctx.clip_path.length!==0){var Ke=this.path;se=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(se,this.posX+this.margin[3],-1*Xe+wt),C.call(this,"fill",!0),this.path=Ke}var At=_([JSON.parse(JSON.stringify(Fe))],this.posX+this.margin[3],-Xe+wt+this.ctx.prevPageLastElemOffset)[0];D.scale>=.01&&(fe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(fe*D.scale),te=this.lineWidth,this.lineWidth=te*D.scale);var Nt=this.autoPaging!=="text";if(Nt||At.y+At.h<=ge){if(Nt||At.y>=wt&&At.x<=Je){var vt=Nt?D.text:this.pdf.splitTextToSize(D.text,D.maxWidth||Je-At.x)[0],Tr=_([JSON.parse(JSON.stringify(Ee))],this.posX+this.margin[3],-Xe+wt+this.ctx.prevPageLastElemOffset)[0],cr=Nt&&(St>ht||St<at)&&g.call(this);cr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Qe,Ce,null).clip().discardPath()),this.pdf.text(vt,Tr.x,Tr.y,{angle:D.angle,align:K,renderingMode:D.renderingMode}),cr&&this.pdf.restoreGraphicsState()}}else At.y<ge&&(this.ctx.prevPageLastElemOffset+=ge-At.y);D.scale>=.01&&(this.pdf.setFontSize(fe),this.lineWidth=te)}else D.scale>=.01&&(fe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(fe*D.scale),te=this.lineWidth,this.lineWidth=te*D.scale),this.pdf.text(D.text,oe.x+this.posX,oe.y+this.posY,{angle:D.angle,align:K,renderingMode:D.renderingMode,maxWidth:D.maxWidth}),D.scale>=.01&&(this.pdf.setFontSize(fe),this.lineWidth=te)},B=function(D,K,J,ne){J=J||0,ne=ne||0,this.pdf.internal.out(r(D+J)+" "+n(K+ne)+" l")},G=function(D,K,J){return this.pdf.lines(D,K,J,null,null)},Z=function(D,K,J,ne,ie,oe,ue,V){this.pdf.internal.out([t(a(J+D)),t(i(ne+K)),t(a(ie+D)),t(i(oe+K)),t(a(ue+D)),t(i(V+K)),"c"].join(" "))},re=function(D,K,J,ne){for(var ie=2*Math.PI,oe=Math.PI/2;K>J;)K-=ie;var ue=Math.abs(J-K);ue<ie&&ne&&(ue=ie-ue);for(var V=[],se=ne?-1:1,fe=K;ue>1e-5;){var te=fe+se*Math.min(ue,oe);V.push(W.call(this,D,fe,te)),ue-=Math.abs(te-fe),fe=te}return V},W=function(D,K,J){var ne=(J-K)/2,ie=D*Math.cos(ne),oe=D*Math.sin(ne),ue=ie,V=-oe,se=ue*ue+V*V,fe=se+ue*ie+V*oe,te=4/3*(Math.sqrt(2*se*fe)-fe)/(ue*oe-V*ie),Ee=ue-te*V,Fe=V+te*ue,Pe=Ee,ve=-Fe,Ge=ne+K,ht=Math.cos(Ge),at=Math.sin(Ge);return{x1:D*Math.cos(K),y1:D*Math.sin(K),x2:Ee*ht-Fe*at,y2:Ee*at+Fe*ht,x3:Pe*ht-ve*at,y3:Pe*at+ve*ht,x4:D*Math.cos(J),y4:D*Math.sin(J)}},z=function(D){return 180*D/Math.PI},U=function(D,K,J,ne,ie,oe){var ue=D+.5*(J-D),V=K+.5*(ne-K),se=ie+.5*(J-ie),fe=oe+.5*(ne-oe),te=Math.min(D,ie,ue,se),Ee=Math.max(D,ie,ue,se),Fe=Math.min(K,oe,V,fe),Pe=Math.max(K,oe,V,fe);return new o(te,Fe,Ee-te,Pe-Fe)},Y=function(D,K,J,ne,ie,oe,ue,V){var se,fe,te,Ee,Fe,Pe,ve,Ge,ht,at,St,wt,_e,ge,Ce=J-D,Je=ne-K,Qe=ie-J,Xe=oe-ne,Ke=ue-ie,At=V-oe;for(fe=0;fe<41;fe++)ht=(ve=(te=D+(se=fe/40)*Ce)+se*((Fe=J+se*Qe)-te))+se*(Fe+se*(ie+se*Ke-Fe)-ve),at=(Ge=(Ee=K+se*Je)+se*((Pe=ne+se*Xe)-Ee))+se*(Pe+se*(oe+se*At-Pe)-Ge),fe==0?(St=ht,wt=at,_e=ht,ge=at):(St=Math.min(St,ht),wt=Math.min(wt,at),_e=Math.max(_e,ht),ge=Math.max(ge,at));return new o(Math.round(St),Math.round(wt),Math.round(_e-St),Math.round(ge-wt))},Q=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var D,K,J=(D=this.ctx.lineDash,K=this.ctx.lineDashOffset,JSON.stringify({lineDash:D,lineDashOffset:K}));this.prevLineDash!==J&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=J)}}})(Hr.API),function(e){var t=function(i){var s,o,c,u,d,f,h,m,w,g;for(o=[],c=0,u=(i+=s="\0\0\0\0".slice(i.length%4||4)).length;u>c;c+=4)(d=(i.charCodeAt(c)<<24)+(i.charCodeAt(c+1)<<16)+(i.charCodeAt(c+2)<<8)+i.charCodeAt(c+3))!==0?(f=(d=((d=((d=((d=(d-(g=d%85))/85)-(w=d%85))/85)-(m=d%85))/85)-(h=d%85))/85)%85,o.push(f+33,h+33,m+33,w+33,g+33)):o.push(122);return function(y,b){for(var _=b;_>0;_--)y.pop()}(o,s.length),String.fromCharCode.apply(String,o)+"~>"},r=function(i){var s,o,c,u,d,f=String,h="length",m=255,w="charCodeAt",g="slice",y="replace";for(i[g](-2),i=i[g](0,-2)[y](/\s/g,"")[y]("z","!!!!!"),c=[],u=0,d=(i+=s="uuuuu"[g](i[h]%5||5))[h];d>u;u+=5)o=52200625*(i[w](u)-33)+614125*(i[w](u+1)-33)+7225*(i[w](u+2)-33)+85*(i[w](u+3)-33)+(i[w](u+4)-33),c.push(m&o>>24,m&o>>16,m&o>>8,m&o);return function(b,_){for(var N=_;N>0;N--)b.pop()}(c,s[h]),f.fromCharCode.apply(f,c)},n=function(i){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),s.test(i)===!1)return"";for(var o="",c=0;c<i.length;c+=2)o+=String.fromCharCode("0x"+(i[c]+i[c+1]));return o},a=function(i){for(var s=new Uint8Array(i.length),o=i.length;o--;)s[o]=i.charCodeAt(o);return i=(s=xO(s)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};e.processDataByFilters=function(i,s){var o=0,c=i||"",u=[];for(typeof(s=s||[])=="string"&&(s=[s]),o=0;o<s.length;o+=1)switch(s[o]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=a(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[o]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(Hr.API),function(e){e.loadFile=function(t,r,n){return function(a,i,s){i=i!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=function(c,u,d){var f=new XMLHttpRequest,h=0,m=function(w){var g=w.length,y=[],b=String.fromCharCode;for(h=0;h<g;h+=1)y.push(b(255&w.charCodeAt(h)));return y.join("")};if(f.open("GET",c,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?d(m(this.responseText)):d(void 0)}),f.send(null),u&&f.status===200)return m(f.responseText)}(a,i,s)}catch{}return o}(t,r,n)},e.loadImageFile=e.loadFile}(Hr.API),function(e){function t(){return(nn.html2canvas?Promise.resolve(nn.html2canvas):nd(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function r(){return(nn.DOMPurify?Promise.resolve(nn.DOMPurify):nd(()=>import("./purify.es-Bf0oSh3b.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var n=function(s){var o=Ca(s);return o==="undefined"?"undefined":o==="string"||s instanceof String?"string":o==="number"||s instanceof Number?"number":o==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":o==="object"?"object":"unknown"},a=function(s,o){var c=document.createElement(s);for(var u in o.className&&(c.className=o.className),o.innerHTML&&o.dompurify&&(c.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)c.style[u]=o.style[u];return c},i=function s(o){var c=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),u=s.convert(Promise.resolve(),c);return u=(u=u.setProgress(1,s,1,[s])).set(o)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(s,o){return s.__proto__=o||i.prototype,s},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(s,o){return this.then(function(){switch(o=o||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(r).then(function(c){return this.set({src:a("div",{innerHTML:s,dompurify:c})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},i.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function c(u,d){for(var f=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),h=u.firstChild;h;h=h.nextSibling)d!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||f.appendChild(c(h,d));return u.nodeType===1&&(u.nodeName==="CANVAS"?(f.width=u.width,f.height=u.height,f.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(f.value=u.value),f.addEventListener("load",function(){f.scrollTop=u.scrollTop,f.scrollLeft=u.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(o){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,o(this.prop.container,c)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(o){var c=this.opt.jsPDF,u=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var h=0;h<u.length;++h){var m=u[h],w=m.src.find(function(g){return g.format==="truetype"});w&&c.addFont(w.url,m.ref.name,m.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,c.context2d.save(!0),o(this.prop.container,f)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(s,o,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(s,o):this.outputPdf(s,o)},i.prototype.outputPdf=function(s,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,o)})},i.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},i.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(s){if(n(s)!=="object")return this;var o=Object.keys(s||{}).map(function(c){if(c in i.template.prop)return function(){this.prop[c]=s[c]};switch(c){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[c]=s[c]}}},this);return this.then(function(){return this.thenList(o)})},i.prototype.get=function(s,o){return this.then(function(){var c=s in i.template.prop?this.prop[s]:this.opt[s];return o?o(c):c})},i.prototype.setMargin=function(s){return this.then(function(){switch(n(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},i.prototype.setPageSize=function(s){function o(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(s=s||Hr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:o(s.inner.width,s.k),height:o(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},i.prototype.setProgress=function(s,o,c,u){return s!=null&&(this.progress.val=s),o!=null&&(this.progress.state=o),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(s,o,c,u){return this.setProgress(s?this.progress.val+s:null,o||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},i.prototype.then=function(s,o){var c=this;return this.thenCore(s,o,function(u,d){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(f){return c.updateProgress(null,u),f}).then(u,d).then(function(f){return c.updateProgress(1),f})})},i.prototype.thenCore=function(s,o,c){c=c||Promise.prototype.then,s&&(s=s.bind(this)),o&&(o=o.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),d=c.call(u,s,o);return i.convert(d,this.__proto__)},i.prototype.thenExternal=function(s,o){return Promise.prototype.then.call(this,s,o)},i.prototype.thenList=function(s){var o=this;return s.forEach(function(c){o=o.thenCore(c)}),o},i.prototype.catch=function(s){s&&(s=s.bind(this));var o=Promise.prototype.catch.call(this,s);return i.convert(o,this)},i.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},i.prototype.error=function(s){return this.then(function(){throw new Error(s)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,Hr.getPageSize=function(s,o,c){if(Ca(s)==="object"){var u=s;s=u.orientation,o=u.unit||o,c=u.format||c}o=o||"mm",c=c||"a4",s=(""+(s||"P")).toLowerCase();var d,f=(""+c).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+o}var m,w=0,g=0;if(h.hasOwnProperty(f))w=h[f][1]/d,g=h[f][0]/d;else try{w=c[1],g=c[0]}catch{throw new Error("Invalid format: "+c)}if(s==="p"||s==="portrait")s="p",g>w&&(m=g,g=w,w=m);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",w>g&&(m=g,g=w,w=m)}return{width:g,height:w,unit:o,k:d,orientation:s}},e.html=function(s,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(AO):null;var c=new i(o);return o.worker?c:c.from(s).doCallback()}}(Hr.API),Hr.API.addJS=function(e){return sW=e,this.internal.events.subscribe("postPutResources",function(){F_=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(F_+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),iW=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+sW+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){F_!==void 0&&iW!==void 0&&this.internal.out("/Names <</JavaScript "+F_+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var s=a[i],o=n.exec(s);if(o!=null){var c=o[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(i=0;i<u;i++){var f=r.internal.newObject();d.push(f);var h=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var m=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<d.length;i++)r.internal.write("(page_"+(i+1)+")"+d[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+m+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var s={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var s=n.children[i];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var c=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])}(Hr.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,i,s,o){var c,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(c=function(f){for(var h,m=256*f.charCodeAt(4)+f.charCodeAt(5),w=f.length,g={width:0,height:0,numcomponents:1},y=4;y<w;y+=2){if(y+=m,t.indexOf(f.charCodeAt(y+1))!==-1){h=256*f.charCodeAt(y+5)+f.charCodeAt(y+6),g={width:256*f.charCodeAt(y+7)+f.charCodeAt(y+8),height:h,numcomponents:f.charCodeAt(y+9)};break}m=256*f.charCodeAt(y+2)+f.charCodeAt(y+3)}return g}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}d={data:r,width:c.width,height:c.height,colorSpace:o,bitsPerComponent:8,filter:u,index:n,alias:a}}return d}}(Hr.API);var Iv,L_,oW,lW,cW,JRe=function(){var e,t,r;function n(i){var s,o,c,u,d,f,h,m,w,g,y,b,_,N;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(s=this.readUInt32(),w=(function(){var E,C;for(C=[],E=0;E<4;++E)C.push(String.fromCharCode(this.data[this.pos++]));return C}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),u=this.readUInt16()||100,f.delay=1e3*d/u,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(w==="fdAT"&&(this.pos+=4,s-=4),i=(f!=null?f.data:void 0)||this.imgData,b=0;0<=s?b<s:b>s;0<=s?++b:--b)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((g=c-this.transparency.indexed.length)>0)for(_=0;0<=g?_<g:_>g;0<=g?++_:--_)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":h=(y=this.read(s)).indexOf(0),m=String.fromCharCode.apply(String,y.slice(0,h)),this.text[m]=String.fromCharCode.apply(String,y.slice(h+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(N=this.colorType)===4||N===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var s,o;for(o=[],s=0;0<=i?s<i:s>i;0<=i?++s:--s)o.push(this.data[this.pos++]);return o},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var s=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*s),c=0,u=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function d(f,h,m,w){var g,y,b,_,N,E,C,O,P,M,L,j,T,I,B,G,Z,re,W,z,U,Y=Math.ceil((u.width-f)/m),Q=Math.ceil((u.height-h)/w),D=u.width==Y&&u.height==Q;for(I=s*Y,j=D?o:new Uint8Array(I*Q),E=i.length,T=0,y=0;T<Q&&c<E;){switch(i[c++]){case 0:for(_=Z=0;Z<I;_=Z+=1)j[y++]=i[c++];break;case 1:for(_=re=0;re<I;_=re+=1)g=i[c++],N=_<s?0:j[y-s],j[y++]=(g+N)%256;break;case 2:for(_=W=0;W<I;_=W+=1)g=i[c++],b=(_-_%s)/s,B=T&&j[(T-1)*I+b*s+_%s],j[y++]=(B+g)%256;break;case 3:for(_=z=0;z<I;_=z+=1)g=i[c++],b=(_-_%s)/s,N=_<s?0:j[y-s],B=T&&j[(T-1)*I+b*s+_%s],j[y++]=(g+Math.floor((N+B)/2))%256;break;case 4:for(_=U=0;U<I;_=U+=1)g=i[c++],b=(_-_%s)/s,N=_<s?0:j[y-s],T===0?B=G=0:(B=j[(T-1)*I+b*s+_%s],G=b&&j[(T-1)*I+(b-1)*s+_%s]),C=N+B-G,O=Math.abs(C-N),M=Math.abs(C-B),L=Math.abs(C-G),P=O<=M&&O<=L?N:M<=L?B:G,j[y++]=(g+P)%256;break;default:throw new Error("Invalid filter algorithm: "+i[c-1])}if(!D){var K=((h+T*w)*u.width+f)*s,J=T*I;for(_=0;_<Y;_+=1){for(var ne=0;ne<s;ne+=1)o[K++]=j[J++];K+=(m-1)*s}}T++}}return i=PRe(i),u.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),o},n.prototype.decodePalette=function(){var i,s,o,c,u,d,f,h,m;for(o=this.palette,d=this.transparency.indexed||[],u=new Uint8Array((d.length||0)+o.length),c=0,i=0,s=f=0,h=o.length;f<h;s=f+=3)u[c++]=o[s],u[c++]=o[s+1],u[c++]=o[s+2],u[c++]=(m=d[i++])!=null?m:255;return u},n.prototype.copyToImageData=function(i,s){var o,c,u,d,f,h,m,w,g,y,b;if(c=this.colors,g=null,o=this.hasAlphaChannel,this.palette.length&&(g=(b=this._decodedPalette)!=null?b:this._decodedPalette=this.decodePalette(),c=4,o=!0),w=(u=i.data||i).length,f=g||s,d=h=0,c===1)for(;d<w;)m=g?4*s[d/4]:h,y=f[m++],u[d++]=y,u[d++]=y,u[d++]=y,u[d++]=o?f[m++]:255,h=m;else for(;d<w;)m=g?4*s[d/4]:h,u[d++]=f[m++],u[d++]=f[m++],u[d++]=f[m++],u[d++]=o?f[m++]:255,h=m},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var a=function(){if(Object.prototype.toString.call(nn)==="[object Window]"){try{t=nn.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return a(),e=function(i){var s;if(a()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(s=new Image).src=t.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var s,o,c,u,d,f,h,m;if(this.animation){for(m=[],o=d=0,f=(h=this.animation.frames).length;d<f;o=++d)s=h[o],c=i.createImageData(s.width,s.height),u=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(c,u),s.imageData=c,m.push(s.image=e(c));return m}},n.prototype.renderFrame=function(i,s){var o,c,u;return o=(c=this.animation.frames)[s],u=c[s-1],s===0&&i.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?i.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&i.putImageData(u.imageData,u.xOffset,u.yOffset),o.blendOp===0&&i.clearRect(o.xOffset,o.yOffset,o.width,o.height),i.drawImage(o.image,o.xOffset,o.yOffset)},n.prototype.animate=function(i){var s,o,c,u,d,f,h=this;return o=0,f=this.animation,u=f.numFrames,c=f.frames,d=f.numPlays,(s=function(){var m,w;if(m=o++%u,w=c[m],h.renderFrame(i,m),u>1&&o/u<d)return h.animation._timeout=setTimeout(s,w.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var s,o;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,s=i.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(o=s.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),s.putImageData(o,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function ZRe(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,s=1<<(7&a)+1;e[t++],e[t++];var o=null,c=null;i&&(o=t,c=s,t+=3*s);var u=!0,d=[],f=0,h=null,m=0,w=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,w=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var g=e[t++];f=e[t++]|e[t++]<<8,h=e[t++],(1&g)==0&&(h=null),m=g>>2&7,t++;break;case 254:for(;;){if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var y=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,_=e[t++]|e[t++]<<8,N=e[t++]|e[t++]<<8,E=e[t++],C=E>>6&1,O=1<<(7&E)+1,P=o,M=c,L=!1;E>>7&&(L=!0,P=t,M=O,t+=3*O);var j=t;for(t++;;){var T;if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}d.push({x:y,y:b,width:_,height:N,has_local_palette:L,palette_offset:P,palette_size:M,data_offset:j,data_length:t-j,transparent_index:h,interlaced:!!C,delay:f,disposal:m});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return w},this.frameInfo=function(I){if(I<0||I>=d.length)throw new Error("Frame index out of range.");return d[I]},this.decodeAndBlitFrameBGRA=function(I,B){var G=this.frameInfo(I),Z=G.width*G.height,re=new Uint8Array(Z);uW(e,G.data_offset,re,Z);var W=G.palette_offset,z=G.transparent_index;z===null&&(z=256);var U=G.width,Y=r-U,Q=U,D=4*(G.y*r+G.x),K=4*((G.y+G.height)*r+G.x),J=D,ne=4*Y;G.interlaced===!0&&(ne+=4*r*7);for(var ie=8,oe=0,ue=re.length;oe<ue;++oe){var V=re[oe];if(Q===0&&(Q=U,(J+=ne)>=K&&(ne=4*Y+4*r*(ie-1),J=D+(U+Y)*(ie<<1),ie>>=1)),V===z)J+=4;else{var se=e[W+3*V],fe=e[W+3*V+1],te=e[W+3*V+2];B[J++]=te,B[J++]=fe,B[J++]=se,B[J++]=255}--Q}},this.decodeAndBlitFrameRGBA=function(I,B){var G=this.frameInfo(I),Z=G.width*G.height,re=new Uint8Array(Z);uW(e,G.data_offset,re,Z);var W=G.palette_offset,z=G.transparent_index;z===null&&(z=256);var U=G.width,Y=r-U,Q=U,D=4*(G.y*r+G.x),K=4*((G.y+G.height)*r+G.x),J=D,ne=4*Y;G.interlaced===!0&&(ne+=4*r*7);for(var ie=8,oe=0,ue=re.length;oe<ue;++oe){var V=re[oe];if(Q===0&&(Q=U,(J+=ne)>=K&&(ne=4*Y+4*r*(ie-1),J=D+(U+Y)*(ie<<1),ie>>=1)),V===z)J+=4;else{var se=e[W+3*V],fe=e[W+3*V+1],te=e[W+3*V+2];B[J++]=se,B[J++]=fe,B[J++]=te,B[J++]=255}--Q}}}function uW(e,t,r,n){for(var a=e[t++],i=1<<a,s=i+1,o=s+1,c=a+1,u=(1<<c)-1,d=0,f=0,h=0,m=e[t++],w=new Int32Array(4096),g=null;;){for(;d<16&&m!==0;)f|=e[t++]<<d,d+=8,m===1?m=e[t++]:--m;if(d<c)break;var y=f&u;if(f>>=c,d-=c,y!==i){if(y===s)break;for(var b=y<o?y:g,_=0,N=b;N>i;)N=w[N]>>8,++_;var E=N;if(h+_+(b!==y?1:0)>n)return void Ra.log("Warning, gif stream longer than expected.");r[h++]=E;var C=h+=_;for(b!==y&&(r[h++]=E),N=b;_--;)N=w[N],r[--C]=255&N,N>>=8;g!==null&&o<4096&&(w[o++]=g<<8|E,o>=u+1&&c<12&&(++c,u=u<<1|1)),g=y}else o=s+1,u=(1<<(c=a+1))-1,g=null}return h!==n&&Ra.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function oT(e){var t,r,n,a,i,s=Math.floor,o=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),f=new Array(65535),h=new Array(65535),m=new Array(64),w=new Array(64),g=[],y=0,b=7,_=new Array(64),N=new Array(64),E=new Array(64),C=new Array(256),O=new Array(2048),P=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],M=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],j=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Z=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function re(D,K){for(var J=0,ne=0,ie=new Array,oe=1;oe<=16;oe++){for(var ue=1;ue<=D[oe];ue++)ie[K[ne]]=[],ie[K[ne]][0]=J,ie[K[ne]][1]=oe,ne++,J++;J*=2}return ie}function W(D){for(var K=D[0],J=D[1]-1;J>=0;)K&1<<J&&(y|=1<<b),J--,--b<0&&(y==255?(z(255),z(0)):z(y),b=7,y=0)}function z(D){g.push(D)}function U(D){z(D>>8&255),z(255&D)}function Y(D,K,J,ne,ie){for(var oe,ue=ie[0],V=ie[240],se=function(at,St){var wt,_e,ge,Ce,Je,Qe,Xe,Ke,At,Nt,vt=0;for(At=0;At<8;++At){wt=at[vt],_e=at[vt+1],ge=at[vt+2],Ce=at[vt+3],Je=at[vt+4],Qe=at[vt+5],Xe=at[vt+6];var Tr=wt+(Ke=at[vt+7]),cr=wt-Ke,Nn=_e+Xe,ct=_e-Xe,Dt=ge+Qe,Vr=ge-Qe,gr=Ce+Je,Kr=Ce-Je,fr=Tr+gr,Er=Tr-gr,hn=Nn+Dt,Mr=Nn-Dt;at[vt]=fr+hn,at[vt+4]=fr-hn;var hr=.707106781*(Mr+Er);at[vt+2]=Er+hr,at[vt+6]=Er-hr;var Zr=.382683433*((fr=Kr+Vr)-(Mr=ct+cr)),Fi=.5411961*fr+Zr,la=1.306562965*Mr+Zr,Wa=.707106781*(hn=Vr+ct),lt=cr+Wa,yt=cr-Wa;at[vt+5]=yt+Fi,at[vt+3]=yt-Fi,at[vt+1]=lt+la,at[vt+7]=lt-la,vt+=8}for(vt=0,At=0;At<8;++At){wt=at[vt],_e=at[vt+8],ge=at[vt+16],Ce=at[vt+24],Je=at[vt+32],Qe=at[vt+40],Xe=at[vt+48];var Fr=wt+(Ke=at[vt+56]),ta=wt-Ke,bt=_e+Xe,gt=_e-Xe,Jt=ge+Qe,ce=ge-Qe,we=Ce+Je,xe=Ce-Je,Se=Fr+we,Ae=Fr-we,Ne=bt+Jt,We=bt-Jt;at[vt]=Se+Ne,at[vt+32]=Se-Ne;var ft=.707106781*(We+Ae);at[vt+16]=Ae+ft,at[vt+48]=Ae-ft;var rt=.382683433*((Se=xe+ce)-(We=gt+ta)),ot=.5411961*Se+rt,Ze=1.306562965*We+rt,Ft=.707106781*(Ne=ce+gt),Zt=ta+Ft,lr=ta-Ft;at[vt+40]=lr+ot,at[vt+24]=lr-ot,at[vt+8]=Zt+Ze,at[vt+56]=Zt-Ze,vt++}for(At=0;At<64;++At)Nt=at[At]*St[At],m[At]=Nt>0?Nt+.5|0:Nt-.5|0;return m}(D,K),fe=0;fe<64;++fe)w[P[fe]]=se[fe];var te=w[0]-J;J=w[0],te==0?W(ne[0]):(W(ne[h[oe=32767+te]]),W(f[oe]));for(var Ee=63;Ee>0&&w[Ee]==0;)Ee--;if(Ee==0)return W(ue),J;for(var Fe,Pe=1;Pe<=Ee;){for(var ve=Pe;w[Pe]==0&&Pe<=Ee;)++Pe;var Ge=Pe-ve;if(Ge>=16){Fe=Ge>>4;for(var ht=1;ht<=Fe;++ht)W(V);Ge&=15}oe=32767+w[Pe],W(ie[(Ge<<4)+h[oe]]),W(f[oe]),Pe++}return Ee!=63&&W(ue),J}function Q(D){D=Math.min(Math.max(D,1),100),i!=D&&(function(K){for(var J=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ne=0;ne<64;ne++){var ie=s((J[ne]*K+50)/100);ie=Math.min(Math.max(ie,1),255),o[P[ne]]=ie}for(var oe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ue=0;ue<64;ue++){var V=s((oe[ue]*K+50)/100);V=Math.min(Math.max(V,1),255),c[P[ue]]=V}for(var se=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],fe=0,te=0;te<8;te++)for(var Ee=0;Ee<8;Ee++)u[fe]=1/(o[P[fe]]*se[te]*se[Ee]*8),d[fe]=1/(c[P[fe]]*se[te]*se[Ee]*8),fe++}(D<50?Math.floor(5e3/D):Math.floor(200-2*D)),i=D)}this.encode=function(D,K){K&&Q(K),g=new Array,y=0,b=7,U(65496),U(65504),U(16),z(74),z(70),z(73),z(70),z(0),z(1),z(1),z(0),U(1),U(1),z(0),z(0),function(){U(65499),U(132),z(0);for(var _e=0;_e<64;_e++)z(o[_e]);z(1);for(var ge=0;ge<64;ge++)z(c[ge])}(),function(_e,ge){U(65472),U(17),z(8),U(ge),U(_e),z(3),z(1),z(17),z(0),z(2),z(17),z(1),z(3),z(17),z(1)}(D.width,D.height),function(){U(65476),U(418),z(0);for(var _e=0;_e<16;_e++)z(M[_e+1]);for(var ge=0;ge<=11;ge++)z(L[ge]);z(16);for(var Ce=0;Ce<16;Ce++)z(j[Ce+1]);for(var Je=0;Je<=161;Je++)z(T[Je]);z(1);for(var Qe=0;Qe<16;Qe++)z(I[Qe+1]);for(var Xe=0;Xe<=11;Xe++)z(B[Xe]);z(17);for(var Ke=0;Ke<16;Ke++)z(G[Ke+1]);for(var At=0;At<=161;At++)z(Z[At])}(),U(65498),U(12),z(3),z(1),z(0),z(2),z(17),z(3),z(17),z(0),z(63),z(0);var J=0,ne=0,ie=0;y=0,b=7,this.encode.displayName="_encode_";for(var oe,ue,V,se,fe,te,Ee,Fe,Pe,ve=D.data,Ge=D.width,ht=D.height,at=4*Ge,St=0;St<ht;){for(oe=0;oe<at;){for(fe=at*St+oe,Ee=-1,Fe=0,Pe=0;Pe<64;Pe++)te=fe+(Fe=Pe>>3)*at+(Ee=4*(7&Pe)),St+Fe>=ht&&(te-=at*(St+1+Fe-ht)),oe+Ee>=at&&(te-=oe+Ee-at+4),ue=ve[te++],V=ve[te++],se=ve[te++],_[Pe]=(O[ue]+O[V+256>>0]+O[se+512>>0]>>16)-128,N[Pe]=(O[ue+768>>0]+O[V+1024>>0]+O[se+1280>>0]>>16)-128,E[Pe]=(O[ue+1280>>0]+O[V+1536>>0]+O[se+1792>>0]>>16)-128;J=Y(_,u,J,t,n),ne=Y(N,d,ne,r,a),ie=Y(E,d,ie,r,a),oe+=32}St+=8}if(b>=0){var wt=[];wt[1]=b+1,wt[0]=(1<<b+1)-1,W(wt)}return U(65497),new Uint8Array(g)},e=e||50,function(){for(var D=String.fromCharCode,K=0;K<256;K++)C[K]=D(K)}(),t=re(M,L),r=re(I,B),n=re(j,T),a=re(G,Z),function(){for(var D=1,K=2,J=1;J<=15;J++){for(var ne=D;ne<K;ne++)h[32767+ne]=J,f[32767+ne]=[],f[32767+ne][1]=J,f[32767+ne][0]=ne;for(var ie=-(K-1);ie<=-D;ie++)h[32767+ie]=J,f[32767+ie]=[],f[32767+ie][1]=J,f[32767+ie][0]=K-1+ie;D<<=1,K<<=1}}(),function(){for(var D=0;D<256;D++)O[D]=19595*D,O[D+256>>0]=38470*D,O[D+512>>0]=7471*D+32768,O[D+768>>0]=-11059*D,O[D+1024>>0]=-21709*D,O[D+1280>>0]=32768*D+8421375,O[D+1536>>0]=-27439*D,O[D+1792>>0]=-5329*D}(),Q(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ru(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function dW(e){function t(M){if(!M)throw Error("assert :P")}function r(M,L,j){for(var T=0;4>T;T++)if(M[L+T]!=j.charCodeAt(T))return!0;return!1}function n(M,L,j,T,I){for(var B=0;B<I;B++)M[L+B]=j[T+B]}function a(M,L,j,T){for(var I=0;I<T;I++)M[L+I]=j}function i(M){return new Int32Array(M)}function s(M,L){for(var j=[],T=0;T<M;T++)j.push(new L);return j}function o(M,L){var j=[];return function T(I,B,G){for(var Z=G[B],re=0;re<Z&&(I.push(G.length>B+1?[]:new L),!(G.length<B+1));re++)T(I[re],B+1,G)}(j,0,M),j}var c=function(){var M=this;function L(k,F){for(var X=1<<F-1>>>0;k&X;)X>>>=1;return X?(k&X-1)+X:k}function j(k,F,X,ae,le){t(!(ae%X));do k[F+(ae-=X)]=le;while(0<ae)}function T(k,F,X,ae,le){if(t(2328>=le),512>=le)var he=i(512);else if((he=i(le))==null)return 0;return function(me,ye,be,ke,Be,it){var st,Ye,Mt=ye,_t=1<<be,qe=i(16),ze=i(16);for(t(Be!=0),t(ke!=null),t(me!=null),t(0<be),Ye=0;Ye<Be;++Ye){if(15<ke[Ye])return 0;++qe[ke[Ye]]}if(qe[0]==Be)return 0;for(ze[1]=0,st=1;15>st;++st){if(qe[st]>1<<st)return 0;ze[st+1]=ze[st]+qe[st]}for(Ye=0;Ye<Be;++Ye)st=ke[Ye],0<ke[Ye]&&(it[ze[st]++]=Ye);if(ze[15]==1)return(ke=new I).g=0,ke.value=it[0],j(me,Mt,1,_t,ke),_t;var Ct,Et=-1,Tt=_t-1,vr=0,ir=1,Br=1,sr=1<<be;for(Ye=0,st=1,Be=2;st<=be;++st,Be<<=1){if(ir+=Br<<=1,0>(Br-=qe[st]))return 0;for(;0<qe[st];--qe[st])(ke=new I).g=st,ke.value=it[Ye++],j(me,Mt+vr,Be,sr,ke),vr=L(vr,st)}for(st=be+1,Be=2;15>=st;++st,Be<<=1){if(ir+=Br<<=1,0>(Br-=qe[st]))return 0;for(;0<qe[st];--qe[st]){if(ke=new I,(vr&Tt)!=Et){for(Mt+=sr,Ct=1<<(Et=st)-be;15>Et&&!(0>=(Ct-=qe[Et]));)++Et,Ct<<=1;_t+=sr=1<<(Ct=Et-be),me[ye+(Et=vr&Tt)].g=Ct+be,me[ye+Et].value=Mt-ye-Et}ke.g=st-be,ke.value=it[Ye++],j(me,Mt+(vr>>be),Be,sr,ke),vr=L(vr,st)}}return ir!=2*ze[15]-1?0:_t}(k,F,X,ae,le,he)}function I(){this.value=this.g=0}function B(){this.value=this.g=0}function G(){this.G=s(5,I),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(oi,B)}function Z(k,F,X,ae){t(k!=null),t(F!=null),t(2147483648>ae),k.Ca=254,k.I=0,k.b=-8,k.Ka=0,k.oa=F,k.pa=X,k.Jd=F,k.Yc=X+ae,k.Zc=4<=ae?X+ae-4+1:X,oe(k)}function re(k,F){for(var X=0;0<F--;)X|=V(k,128)<<F;return X}function W(k,F){var X=re(k,F);return ue(k)?-X:X}function z(k,F,X,ae){var le,he=0;for(t(k!=null),t(F!=null),t(4294967288>ae),k.Sb=ae,k.Ra=0,k.u=0,k.h=0,4<ae&&(ae=4),le=0;le<ae;++le)he+=F[X+le]<<8*le;k.Ra=he,k.bb=ae,k.oa=F,k.pa=X}function U(k){for(;8<=k.u&&k.bb<k.Sb;)k.Ra>>>=8,k.Ra+=k.oa[k.pa+k.bb]<<np-8>>>0,++k.bb,k.u-=8;J(k)&&(k.h=1,k.u=0)}function Y(k,F){if(t(0<=F),!k.h&&F<=rp){var X=K(k)&tp[F];return k.u+=F,U(k),X}return k.h=1,k.u=0}function Q(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function D(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function K(k){return k.Ra>>>(k.u&np-1)>>>0}function J(k){return t(k.bb<=k.Sb),k.h||k.bb==k.Sb&&k.u>np}function ne(k,F){k.u=F,k.h=J(k)}function ie(k){k.u>=ap&&(t(k.u>=ap),U(k))}function oe(k){t(k!=null&&k.oa!=null),k.pa<k.Zc?(k.I=(k.oa[k.pa++]|k.I<<8)>>>0,k.b+=8):(t(k!=null&&k.oa!=null),k.pa<k.Yc?(k.b+=8,k.I=k.oa[k.pa++]|k.I<<8):k.Ka?k.b=0:(k.I<<=8,k.b+=8,k.Ka=1))}function ue(k){return re(k,1)}function V(k,F){var X=k.Ca;0>k.b&&oe(k);var ae=k.b,le=X*F>>>8,he=(k.I>>>ae>le)+0;for(he?(X-=le,k.I-=le+1<<ae>>>0):X=le+1,ae=X,le=0;256<=ae;)le+=8,ae>>=8;return ae=7^le+Vs[ae],k.b-=ae,k.Ca=(X<<ae)-1,he}function se(k,F,X){k[F+0]=X>>24&255,k[F+1]=X>>16&255,k[F+2]=X>>8&255,k[F+3]=X>>0&255}function fe(k,F){return k[F+0]<<0|k[F+1]<<8}function te(k,F){return fe(k,F)|k[F+2]<<16}function Ee(k,F){return fe(k,F)|fe(k,F+2)<<16}function Fe(k,F){var X=1<<F;return t(k!=null),t(0<F),k.X=i(X),k.X==null?0:(k.Mb=32-F,k.Xa=F,1)}function Pe(k,F){t(k!=null),t(F!=null),t(k.Xa==F.Xa),n(F.X,0,k.X,0,1<<F.Xa)}function ve(){this.X=[],this.Xa=this.Mb=0}function Ge(k,F,X,ae){t(X!=null),t(ae!=null);var le=X[0],he=ae[0];return le==0&&(le=(k*he+F/2)/F),he==0&&(he=(F*le+k/2)/k),0>=le||0>=he?0:(X[0]=le,ae[0]=he,1)}function ht(k,F){return k+(1<<F)-1>>>F}function at(k,F){return((4278255360&k)+(4278255360&F)>>>0&4278255360)+((16711935&k)+(16711935&F)>>>0&16711935)>>>0}function St(k,F){M[F]=function(X,ae,le,he,me,ye,be){var ke;for(ke=0;ke<me;++ke){var Be=M[k](ye[be+ke-1],le,he+ke);ye[be+ke]=at(X[ae+ke],Be)}}}function wt(){this.ud=this.hd=this.jd=0}function _e(k,F){return((4278124286&(k^F))>>>1)+(k&F)>>>0}function ge(k){return 0<=k&&256>k?k:0>k?0:255<k?255:void 0}function Ce(k,F){return ge(k+(k-F+.5>>1))}function Je(k,F,X){return Math.abs(F-X)-Math.abs(k-X)}function Qe(k,F,X,ae,le,he,me){for(ae=he[me-1],X=0;X<le;++X)he[me+X]=ae=at(k[F+X],ae)}function Xe(k,F,X,ae,le){var he;for(he=0;he<X;++he){var me=k[F+he],ye=me>>8&255,be=16711935&(be=(be=16711935&me)+((ye<<16)+ye));ae[le+he]=(4278255360&me)+be>>>0}}function Ke(k,F){F.jd=k>>0&255,F.hd=k>>8&255,F.ud=k>>16&255}function At(k,F,X,ae,le,he){var me;for(me=0;me<ae;++me){var ye=F[X+me],be=ye>>>8,ke=ye,Be=255&(Be=(Be=ye>>>16)+((k.jd<<24>>24)*(be<<24>>24)>>>5));ke=255&(ke=(ke=ke+((k.hd<<24>>24)*(be<<24>>24)>>>5))+((k.ud<<24>>24)*(Be<<24>>24)>>>5)),le[he+me]=(4278255360&ye)+(Be<<16)+ke}}function Nt(k,F,X,ae,le){M[F]=function(he,me,ye,be,ke,Be,it,st,Ye){for(be=it;be<st;++be)for(it=0;it<Ye;++it)ke[Be++]=le(ye[ae(he[me++])])},M[k]=function(he,me,ye,be,ke,Be,it){var st=8>>he.b,Ye=he.Ea,Mt=he.K[0],_t=he.w;if(8>st)for(he=(1<<he.b)-1,_t=(1<<st)-1;me<ye;++me){var qe,ze=0;for(qe=0;qe<Ye;++qe)qe&he||(ze=ae(be[ke++])),Be[it++]=le(Mt[ze&_t]),ze>>=st}else M["VP8LMapColor"+X](be,ke,Mt,_t,Be,it,me,ye,Ye)}}function vt(k,F,X,ae,le){for(X=F+X;F<X;){var he=k[F++];ae[le++]=he>>16&255,ae[le++]=he>>8&255,ae[le++]=he>>0&255}}function Tr(k,F,X,ae,le){for(X=F+X;F<X;){var he=k[F++];ae[le++]=he>>16&255,ae[le++]=he>>8&255,ae[le++]=he>>0&255,ae[le++]=he>>24&255}}function cr(k,F,X,ae,le){for(X=F+X;F<X;){var he=(me=k[F++])>>16&240|me>>12&15,me=me>>0&240|me>>28&15;ae[le++]=he,ae[le++]=me}}function Nn(k,F,X,ae,le){for(X=F+X;F<X;){var he=(me=k[F++])>>16&248|me>>13&7,me=me>>5&224|me>>3&31;ae[le++]=he,ae[le++]=me}}function ct(k,F,X,ae,le){for(X=F+X;F<X;){var he=k[F++];ae[le++]=he>>0&255,ae[le++]=he>>8&255,ae[le++]=he>>16&255}}function Dt(k,F,X,ae,le,he){if(he==0)for(X=F+X;F<X;)se(ae,((he=k[F++])[0]>>24|he[1]>>8&65280|he[2]<<8&16711680|he[3]<<24)>>>0),le+=32;else n(ae,le,k,F,X)}function Vr(k,F){M[F][0]=M[k+"0"],M[F][1]=M[k+"1"],M[F][2]=M[k+"2"],M[F][3]=M[k+"3"],M[F][4]=M[k+"4"],M[F][5]=M[k+"5"],M[F][6]=M[k+"6"],M[F][7]=M[k+"7"],M[F][8]=M[k+"8"],M[F][9]=M[k+"9"],M[F][10]=M[k+"10"],M[F][11]=M[k+"11"],M[F][12]=M[k+"12"],M[F][13]=M[k+"13"],M[F][14]=M[k+"0"],M[F][15]=M[k+"0"]}function gr(k){return k==up||k==Uf||k==i0||k==s0}function Kr(){this.eb=[],this.size=this.A=this.fb=0}function fr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Er(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Kr,this.f.kb=new fr,this.sd=null}function hn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Mr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function hr(k){return alert("todo:WebPSamplerProcessPlane"),k.T}function Zr(k,F){var X=k.T,ae=F.ba.f.RGBA,le=ae.eb,he=ae.fb+k.ka*ae.A,me=vo[F.ba.S],ye=k.y,be=k.O,ke=k.f,Be=k.N,it=k.ea,st=k.W,Ye=F.cc,Mt=F.dc,_t=F.Mc,qe=F.Nc,ze=k.ka,Ct=k.ka+k.T,Et=k.U,Tt=Et+1>>1;for(ze==0?me(ye,be,null,null,ke,Be,it,st,ke,Be,it,st,le,he,null,null,Et):(me(F.ec,F.fc,ye,be,Ye,Mt,_t,qe,ke,Be,it,st,le,he-ae.A,le,he,Et),++X);ze+2<Ct;ze+=2)Ye=ke,Mt=Be,_t=it,qe=st,Be+=k.Rc,st+=k.Rc,he+=2*ae.A,me(ye,(be+=2*k.fa)-k.fa,ye,be,Ye,Mt,_t,qe,ke,Be,it,st,le,he-ae.A,le,he,Et);return be+=k.fa,k.j+Ct<k.o?(n(F.ec,F.fc,ye,be,Et),n(F.cc,F.dc,ke,Be,Tt),n(F.Mc,F.Nc,it,st,Tt),X--):1&Ct||me(ye,be,null,null,ke,Be,it,st,ke,Be,it,st,le,he+ae.A,null,null,Et),X}function Fi(k,F,X){var ae=k.F,le=[k.J];if(ae!=null){var he=k.U,me=F.ba.S,ye=me==a0||me==i0;F=F.ba.f.RGBA;var be=[0],ke=k.ka;be[0]=k.T,k.Kb&&(ke==0?--be[0]:(--ke,le[0]-=k.width),k.j+k.ka+k.T==k.o&&(be[0]=k.o-k.j-ke));var Be=F.eb;ke=F.fb+ke*F.A,k=ua(ae,le[0],k.width,he,be,Be,ke+(ye?0:3),F.A),t(X==be),k&&gr(me)&&mo(Be,ke,ye,he,be,F.A)}return 0}function la(k){var F=k.ma,X=F.ba.S,ae=11>X,le=X==Od||X==n0||X==a0||X==Aa||X==12||gr(X);if(F.memory=null,F.Ib=null,F.Jb=null,F.Nd=null,!Qh(F.Oa,k,le?11:12))return 0;if(le&&gr(X)&&$t(),k.da)alert("todo:use_scaling");else{if(ae){if(F.Ib=hr,k.Kb){if(X=k.U+1>>1,F.memory=i(k.U+2*X),F.memory==null)return 0;F.ec=F.memory,F.fc=0,F.cc=F.ec,F.dc=F.fc+k.U,F.Mc=F.cc,F.Nc=F.dc+X,F.Ib=Zr,$t()}}else alert("todo:EmitYUV");le&&(F.Jb=Fi,ae&&nt())}if(ae&&!ms){for(k=0;256>k;++k)yo[k]=89858*(k-128)+Zl>>wu,xo[k]=-22014*(k-128)+Zl,pp[k]=-45773*(k-128),Vf[k]=113618*(k-128)+Zl>>wu;for(k=da;k<va;++k)F=76283*(k-16)+Zl>>wu,Zg[k-da]=Ko(F,255),Cb[k-da]=Ko(F+8>>4,15);ms=1}return 1}function Wa(k){var F=k.ma,X=k.U,ae=k.T;return t(!(1&k.ka)),0>=X||0>=ae?0:(X=F.Ib(k,F),F.Jb!=null&&F.Jb(k,F,X),F.Dc+=X,1)}function lt(k){k.ma.memory=null}function yt(k,F,X,ae){return Y(k,8)!=47?0:(F[0]=Y(k,14)+1,X[0]=Y(k,14)+1,ae[0]=Y(k,1),Y(k,3)!=0?0:!k.h)}function Fr(k,F){if(4>k)return k+1;var X=k-2>>1;return(2+(1&k)<<X)+Y(F,X)+1}function ta(k,F){return 120<F?F-120:1<=(X=((X=xA[F-1])>>4)*k+(8-(15&X)))?X:1;var X}function bt(k,F,X){var ae=K(X),le=k[F+=255&ae].g-8;return 0<le&&(ne(X,X.u+8),ae=K(X),F+=k[F].value,F+=ae&(1<<le)-1),ne(X,X.u+k[F].g),k[F].value}function gt(k,F,X){return X.g+=k.g,X.value+=k.value<<F>>>0,t(8>=X.g),k.g}function Jt(k,F,X){var ae=k.xc;return t((F=ae==0?0:k.vc[k.md*(X>>ae)+(F>>ae)])<k.Wb),k.Ya[F]}function ce(k,F,X,ae){var le=k.ab,he=k.c*F,me=k.C;F=me+F;var ye=X,be=ae;for(ae=k.Ta,X=k.Ua;0<le--;){var ke=k.gc[le],Be=me,it=F,st=ye,Ye=be,Mt=(be=ae,ye=X,ke.Ea);switch(t(Be<it),t(it<=ke.nc),ke.hc){case 2:Gg(st,Ye,(it-Be)*Mt,be,ye);break;case 0:var _t=Be,qe=it,ze=be,Ct=ye,Et=(sr=ke).Ea;_t==0&&(Mf(st,Ye,null,null,1,ze,Ct),Qe(st,Ye+1,0,0,Et-1,ze,Ct+1),Ye+=Et,Ct+=Et,++_t);for(var Tt=1<<sr.b,vr=Tt-1,ir=ht(Et,sr.b),Br=sr.K,sr=sr.w+(_t>>sr.b)*ir;_t<qe;){var Wn=Br,Vn=sr,jn=1;for(fu(st,Ye,ze,Ct-Et,1,ze,Ct);jn<Et;){var wn=(jn&~vr)+Tt;wn>Et&&(wn=Et),(0,Dc[Wn[Vn++]>>8&15])(st,Ye+ +jn,ze,Ct+jn-Et,wn-jn,ze,Ct+jn),jn=wn}Ye+=Et,Ct+=Et,++_t&vr||(sr+=ir)}it!=ke.nc&&n(be,ye-Mt,be,ye+(it-Be-1)*Mt,Mt);break;case 1:for(Mt=st,qe=Ye,Et=(st=ke.Ea)-(Ct=st&~(ze=(Ye=1<<ke.b)-1)),_t=ht(st,ke.b),Tt=ke.K,ke=ke.w+(Be>>ke.b)*_t;Be<it;){for(vr=Tt,ir=ke,Br=new wt,sr=qe+Ct,Wn=qe+st;qe<sr;)Ke(vr[ir++],Br),Cd(Br,Mt,qe,Ye,be,ye),qe+=Ye,ye+=Ye;qe<Wn&&(Ke(vr[ir++],Br),Cd(Br,Mt,qe,Et,be,ye),qe+=Et,ye+=Et),++Be&ze||(ke+=_t)}break;case 3:if(st==be&&Ye==ye&&0<ke.b){for(qe=be,st=Mt=ye+(it-Be)*Mt-(Ct=(it-Be)*ht(ke.Ea,ke.b)),Ye=be,ze=ye,_t=[],Ct=(Et=Ct)-1;0<=Ct;--Ct)_t[Ct]=Ye[ze+Ct];for(Ct=Et-1;0<=Ct;--Ct)qe[st+Ct]=_t[Ct];Hs(ke,Be,it,be,Mt,be,ye)}else Hs(ke,Be,it,st,Ye,be,ye)}ye=ae,be=X}be!=X&&n(ae,X,ye,be,he)}function we(k,F){var X=k.V,ae=k.Ba+k.c*k.C,le=F-k.C;if(t(F<=k.l.o),t(16>=le),0<le){var he=k.l,me=k.Ta,ye=k.Ua,be=he.width;if(ce(k,le,X,ae),le=ye=[ye],t((X=k.C)<(ae=F)),t(he.v<he.va),ae>he.o&&(ae=he.o),X<he.j){var ke=he.j-X;X=he.j,le[0]+=ke*be}if(X>=ae?X=0:(le[0]+=4*he.v,he.ka=X-he.j,he.U=he.va-he.v,he.T=ae-X,X=1),X){if(ye=ye[0],11>(X=k.ca).S){var Be=X.f.RGBA,it=(ae=X.S,le=he.U,he=he.T,ke=Be.eb,Be.A),st=he;for(Be=Be.fb+k.Ma*Be.A;0<st--;){var Ye=me,Mt=ye,_t=le,qe=ke,ze=Be;switch(ae){case Yg:Gs(Ye,Mt,_t,qe,ze);break;case Od:ks(Ye,Mt,_t,qe,ze);break;case up:ks(Ye,Mt,_t,qe,ze),mo(qe,ze,0,_t,1,0);break;case Sb:pu(Ye,Mt,_t,qe,ze);break;case n0:Dt(Ye,Mt,_t,qe,ze,1);break;case Uf:Dt(Ye,Mt,_t,qe,ze,1),mo(qe,ze,0,_t,1,0);break;case a0:Dt(Ye,Mt,_t,qe,ze,0);break;case i0:Dt(Ye,Mt,_t,qe,ze,0),mo(qe,ze,1,_t,1,0);break;case Aa:Pd(Ye,Mt,_t,qe,ze);break;case s0:Pd(Ye,Mt,_t,qe,ze),Na(qe,ze,_t,1,0);break;case Kg:hu(Ye,Mt,_t,qe,ze);break;default:t(0)}ye+=be,Be+=it}k.Ma+=he}else alert("todo:EmitRescaledRowsYUVA");t(k.Ma<=X.height)}}k.C=F,t(k.C<=k.i)}function xe(k){var F;if(0<k.ua)return 0;for(F=0;F<k.Wb;++F){var X=k.Ya[F].G,ae=k.Ya[F].H;if(0<X[1][ae[1]+0].g||0<X[2][ae[2]+0].g||0<X[3][ae[3]+0].g)return 0}return 1}function Se(k,F,X,ae,le,he){if(k.Z!=0){var me=k.qd,ye=k.rd;for(t(Cs[k.Z]!=null);F<X;++F)Cs[k.Z](me,ye,ae,le,ae,le,he),me=ae,ye=le,le+=he;k.qd=me,k.rd=ye}}function Ae(k,F){var X=k.l.ma,ae=X.Z==0||X.Z==1?k.l.j:k.C;if(ae=k.C<ae?ae:k.C,t(F<=k.l.o),F>ae){var le=k.l.width,he=X.ca,me=X.tb+le*ae,ye=k.V,be=k.Ba+k.c*ae,ke=k.gc;t(k.ab==1),t(ke[0].hc==3),e0(ke[0],ae,F,ye,be,he,me),Se(X,ae,F,he,me,le)}k.C=k.Ma=F}function Ne(k,F,X,ae,le,he,me){var ye=k.$/ae,be=k.$%ae,ke=k.m,Be=k.s,it=X+k.$,st=it;le=X+ae*le;var Ye=X+ae*he,Mt=280+Be.ua,_t=k.Pb?ye:16777216,qe=0<Be.ua?Be.Wa:null,ze=Be.wc,Ct=it<Ye?Jt(Be,be,ye):null;t(k.C<he),t(Ye<=le);var Et=!1;e:for(;;){for(;Et||it<Ye;){var Tt=0;if(ye>=_t){var vr=it-X;t((_t=k).Pb),_t.wd=_t.m,_t.xd=vr,0<_t.s.ua&&Pe(_t.s.Wa,_t.s.vb),_t=ye+Jg}if(be&ze||(Ct=Jt(Be,be,ye)),t(Ct!=null),Ct.Qb&&(F[it]=Ct.qb,Et=!0),!Et)if(ie(ke),Ct.jc){Tt=ke,vr=F;var ir=it,Br=Ct.pd[K(Tt)&oi-1];t(Ct.jc),256>Br.g?(ne(Tt,Tt.u+Br.g),vr[ir]=Br.value,Tt=0):(ne(Tt,Tt.u+Br.g-256),t(256<=Br.value),Tt=Br.value),Tt==0&&(Et=!0)}else Tt=bt(Ct.G[0],Ct.H[0],ke);if(ke.h)break;if(Et||256>Tt){if(!Et)if(Ct.nd)F[it]=(Ct.qb|Tt<<8)>>>0;else{if(ie(ke),Et=bt(Ct.G[1],Ct.H[1],ke),ie(ke),vr=bt(Ct.G[2],Ct.H[2],ke),ir=bt(Ct.G[3],Ct.H[3],ke),ke.h)break;F[it]=(ir<<24|Et<<16|Tt<<8|vr)>>>0}if(Et=!1,++it,++be>=ae&&(be=0,++ye,me!=null&&ye<=he&&!(ye%16)&&me(k,ye),qe!=null))for(;st<it;)Tt=F[st++],qe.X[(506832829*Tt&4294967295)>>>qe.Mb]=Tt}else if(280>Tt){if(Tt=Fr(Tt-256,ke),vr=bt(Ct.G[4],Ct.H[4],ke),ie(ke),vr=ta(ae,vr=Fr(vr,ke)),ke.h)break;if(it-X<vr||le-it<Tt)break e;for(ir=0;ir<Tt;++ir)F[it+ir]=F[it+ir-vr];for(it+=Tt,be+=Tt;be>=ae;)be-=ae,++ye,me!=null&&ye<=he&&!(ye%16)&&me(k,ye);if(t(it<=le),be&ze&&(Ct=Jt(Be,be,ye)),qe!=null)for(;st<it;)Tt=F[st++],qe.X[(506832829*Tt&4294967295)>>>qe.Mb]=Tt}else{if(!(Tt<Mt))break e;for(Et=Tt-280,t(qe!=null);st<it;)Tt=F[st++],qe.X[(506832829*Tt&4294967295)>>>qe.Mb]=Tt;Tt=it,t(!(Et>>>(vr=qe).Xa)),F[Tt]=vr.X[Et],Et=!0}Et||t(ke.h==J(ke))}if(k.Pb&&ke.h&&it<le)t(k.m.h),k.a=5,k.m=k.wd,k.$=k.xd,0<k.s.ua&&Pe(k.s.vb,k.s.Wa);else{if(ke.h)break e;me!=null&&me(k,ye>he?he:ye),k.a=0,k.$=it-X}return 1}return k.a=3,0}function We(k){t(k!=null),k.vc=null,k.yc=null,k.Ya=null;var F=k.Wa;F!=null&&(F.X=null),k.vb=null,t(k!=null)}function ft(){var k=new jy;return k==null?null:(k.a=0,k.xb=fp,Vr("Predictor","VP8LPredictors"),Vr("Predictor","VP8LPredictors_C"),Vr("PredictorAdd","VP8LPredictorsAdd"),Vr("PredictorAdd","VP8LPredictorsAdd_C"),Gg=Xe,Cd=At,Gs=vt,ks=Tr,Pd=cr,hu=Nn,pu=ct,M.VP8LMapColor32b=ip,M.VP8LMapColor8b=sp,k)}function rt(k,F,X,ae,le){var he=1,me=[k],ye=[F],be=ae.m,ke=ae.s,Be=null,it=0;e:for(;;){if(X)for(;he&&Y(be,1);){var st=me,Ye=ye,Mt=ae,_t=1,qe=Mt.m,ze=Mt.gc[Mt.ab],Ct=Y(qe,2);if(Mt.Oc&1<<Ct)he=0;else{switch(Mt.Oc|=1<<Ct,ze.hc=Ct,ze.Ea=st[0],ze.nc=Ye[0],ze.K=[null],++Mt.ab,t(4>=Mt.ab),Ct){case 0:case 1:ze.b=Y(qe,3)+2,_t=rt(ht(ze.Ea,ze.b),ht(ze.nc,ze.b),0,Mt,ze.K),ze.K=ze.K[0];break;case 3:var Et,Tt=Y(qe,8)+1,vr=16<Tt?0:4<Tt?1:2<Tt?2:3;if(st[0]=ht(ze.Ea,vr),ze.b=vr,Et=_t=rt(Tt,1,0,Mt,ze.K)){var ir,Br=Tt,sr=ze,Wn=1<<(8>>sr.b),Vn=i(Wn);if(Vn==null)Et=0;else{var jn=sr.K[0],wn=sr.w;for(Vn[0]=sr.K[0][0],ir=1;ir<1*Br;++ir)Vn[ir]=at(jn[wn+ir],Vn[ir-1]);for(;ir<4*Wn;++ir)Vn[ir]=0;sr.K[0]=null,sr.K[0]=Vn,Et=1}}_t=Et;break;case 2:break;default:t(0)}he=_t}}if(me=me[0],ye=ye[0],he&&Y(be,1)&&!(he=1<=(it=Y(be,4))&&11>=it)){ae.a=3;break e}var fa;if(fa=he)t:{var ya,on,Ka,Xs=ae,hi=me,ji=ye,ra=it,Ps=X,Ts=Xs.m,Xa=Xs.s,$i=[null],gs=1,wo=0,_l=Ab[ra];r:for(;;){if(Ps&&Y(Ts,1)){var Ja=Y(Ts,3)+2,Ai=ht(hi,Ja),Zo=ht(ji,Ja),Rd=Ai*Zo;if(!rt(Ai,Zo,0,Xs,$i))break r;for($i=$i[0],Xa.xc=Ja,ya=0;ya<Rd;++ya){var _u=$i[ya]>>8&65535;$i[ya]=_u,_u>=gs&&(gs=_u+1)}}if(Ts.h)break r;for(on=0;5>on;++on){var na=qf[on];!on&&0<ra&&(na+=1<<ra),wo<na&&(wo=na)}var Lc=s(gs*_l,I),Qg=gs,Wy=s(Qg,G);if(Wy==null)var Sl=null;else t(65536>=Qg),Sl=Wy;var Nl=i(wo);if(Sl==null||Nl==null||Lc==null){Xs.a=1;break r}var Gf=Lc;for(ya=Ka=0;ya<gs;++ya){var Al=Sl[ya],Su=Al.G,Yf=Al.H,mp=0,Qo=1,gp=0;for(on=0;5>on;++on){na=qf[on],Su[on]=Gf,Yf[on]=Ka,!on&&0<ra&&(na+=1<<ra);a:{var Md,Nu=na,vp=Xs,jc=Nl,Tb=Gf,Vy=Ka,Ia=0,Ql=vp.m,Hy=Y(Ql,1);if(a(jc,0,0,Nu),Hy){var Gy=Y(Ql,1)+1,ev=Y(Ql,1),tv=Y(Ql,ev==0?1:8);jc[tv]=1,Gy==2&&(jc[tv=Y(Ql,8)]=1);var $c=1}else{var La=i(19),ki=Y(Ql,4)+4;if(19<ki){vp.a=3;var pi=0;break a}for(Md=0;Md<ki;++Md)La[yA[Md]]=Y(Ql,3);var yp=void 0,Au=void 0,xp=vp,NA=La,Bi=Nu,rv=jc,d0=0,Bc=xp.m,ec=8,el=s(128,I);n:for(;T(el,0,7,NA,19);){if(Y(Bc,1)){var f0=2+2*Y(Bc,3);if((yp=2+Y(Bc,f0))>Bi)break n}else yp=Bi;for(Au=0;Au<Bi&&yp--;){ie(Bc);var nv=el[0+(127&K(Bc))];ne(Bc,Bc.u+nv.g);var Fd=nv.value;if(16>Fd)rv[Au++]=Fd,Fd!=0&&(ec=Fd);else{var Ob=Fd==16,Yy=Fd-16,Db=Xg[Yy],Ky=Y(Bc,o0[Yy])+Db;if(Au+Ky>Bi)break n;for(var Ib=Ob?ec:0;0<Ky--;)rv[Au++]=Ib}}d0=1;break n}d0||(xp.a=3),$c=d0}($c=$c&&!Ql.h)&&(Ia=T(Tb,Vy,8,jc,Nu)),$c&&Ia!=0?pi=Ia:(vp.a=3,pi=0)}if(pi==0)break r;if(Qo&&Nb[on]==1&&(Qo=Gf[Ka].g==0),mp+=Gf[Ka].g,Ka+=pi,3>=on){var wp,av=Nl[0];for(wp=1;wp<na;++wp)Nl[wp]>av&&(av=Nl[wp]);gp+=av}}if(Al.nd=Qo,Al.Qb=0,Qo&&(Al.qb=(Su[3][Yf[3]+0].value<<24|Su[1][Yf[1]+0].value<<16|Su[2][Yf[2]+0].value)>>>0,mp==0&&256>Su[0][Yf[0]+0].value&&(Al.Qb=1,Al.qb+=Su[0][Yf[0]+0].value<<8)),Al.jc=!Al.Qb&&6>gp,Al.jc){var h0,tl=Al;for(h0=0;h0<oi;++h0){var ku=h0,tc=tl.pd[ku],Kf=tl.G[0][tl.H[0]+ku];256<=Kf.value?(tc.g=Kf.g+256,tc.value=Kf.value):(tc.g=0,tc.value=0,ku>>=gt(Kf,8,tc),ku>>=gt(tl.G[1][tl.H[1]+ku],16,tc),ku>>=gt(tl.G[2][tl.H[2]+ku],0,tc),gt(tl.G[3][tl.H[3]+ku],24,tc))}}}Xa.vc=$i,Xa.Wb=gs,Xa.Ya=Sl,Xa.yc=Lc,fa=1;break t}fa=0}if(!(he=fa)){ae.a=3;break e}if(0<it){if(ke.ua=1<<it,!Fe(ke.Wa,it)){ae.a=1,he=0;break e}}else ke.ua=0;var iv=ae,sv=me,Rb=ye,ov=iv.s,lv=ov.xc;if(iv.c=sv,iv.i=Rb,ov.md=ht(sv,lv),ov.wc=lv==0?-1:(1<<lv)-1,X){ae.xb=Fc;break e}if((Be=i(me*ye))==null){ae.a=1,he=0;break e}he=(he=Ne(ae,Be,0,me,ye,ye,null))&&!be.h;break e}return he?(le!=null?le[0]=Be:(t(Be==null),t(X)),ae.$=0,X||We(ke)):We(ke),he}function ot(k,F){var X=k.c*k.i,ae=X+F+16*F;return t(k.c<=F),k.V=i(ae),k.V==null?(k.Ta=null,k.Ua=0,k.a=1,0):(k.Ta=k.V,k.Ua=k.Ba+X+F,1)}function Ze(k,F){var X=k.C,ae=F-X,le=k.V,he=k.Ba+k.c*X;for(t(F<=k.l.o);0<ae;){var me=16<ae?16:ae,ye=k.l.ma,be=k.l.width,ke=be*me,Be=ye.ca,it=ye.tb+be*X,st=k.Ta,Ye=k.Ua;ce(k,me,le,he),li(st,Ye,Be,it,ke),Se(ye,X,X+me,Be,it,be),ae-=me,le+=me*k.c,X+=me}t(X==F),k.C=k.Ma=F}function Ft(){this.ub=this.yd=this.td=this.Rb=0}function Zt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function lr(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Wt(){this.Yb=function(){var k=[];return function F(X,ae,le){for(var he=le[ae],me=0;me<he&&(X.push(le.length>ae+1?[]:0),!(le.length<ae+1));me++)F(X[me],ae+1,le)}(k,0,[3,11]),k}()}function qt(){this.jb=i(3),this.Wc=o([4,8],Wt),this.Xc=o([4,17],Wt)}function rn(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function zn(){this.ld=this.La=this.dd=this.tc=0}function ca(){this.Na=this.la=0}function Va(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Hl(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ac(){this.uc=this.M=this.Nb=0,this.wa=Array(new zn),this.Y=0,this.ya=Array(new Hl),this.aa=0,this.l=new kc}function Go(){this.y=i(16),this.f=i(8),this.ea=i(8)}function _i(){this.cb=this.a=0,this.sc="",this.m=new Q,this.Od=new Ft,this.Kc=new Zt,this.ed=new rn,this.Qa=new lr,this.Ic=this.$c=this.Aa=0,this.D=new Ac,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,Q),this.ia=0,this.pb=s(4,Va),this.Pa=new qt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Go),this.Hd=0,this.rb=Array(new ca),this.sb=0,this.wa=Array(new zn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Hl),this.L=this.aa=0,this.gd=o([4,2],zn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function kc(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ha(){var k=new _i;return k!=null&&(k.a=0,k.sc="OK",k.cb=0,k.Xb=0,zf||(zf=Sf)),k}function fi(k,F,X){return k.a==0&&(k.a=F,k.sc=X,k.cb=0),0}function Bg(k,F,X){return 3<=X&&k[F+0]==157&&k[F+1]==1&&k[F+2]==42}function Ug(k,F){if(k==null)return 0;if(k.a=0,k.sc="OK",F==null)return fi(k,2,"null VP8Io passed to VP8GetHeaders()");var X=F.data,ae=F.w,le=F.ha;if(4>le)return fi(k,7,"Truncated header.");var he=X[ae+0]|X[ae+1]<<8|X[ae+2]<<16,me=k.Od;if(me.Rb=!(1&he),me.td=he>>1&7,me.yd=he>>4&1,me.ub=he>>5,3<me.td)return fi(k,3,"Incorrect keyframe parameters.");if(!me.yd)return fi(k,4,"Frame not displayable.");ae+=3,le-=3;var ye=k.Kc;if(me.Rb){if(7>le)return fi(k,7,"cannot parse picture header");if(!Bg(X,ae,le))return fi(k,3,"Bad code word");ye.c=16383&(X[ae+4]<<8|X[ae+3]),ye.Td=X[ae+4]>>6,ye.i=16383&(X[ae+6]<<8|X[ae+5]),ye.Ud=X[ae+6]>>6,ae+=7,le-=7,k.za=ye.c+15>>4,k.Ub=ye.i+15>>4,F.width=ye.c,F.height=ye.i,F.Da=0,F.j=0,F.v=0,F.va=F.width,F.o=F.height,F.da=0,F.ib=F.width,F.hb=F.height,F.U=F.width,F.T=F.height,a((he=k.Pa).jb,0,255,he.jb.length),t((he=k.Qa)!=null),he.Cb=0,he.Bb=0,he.Fb=1,a(he.Zb,0,0,he.Zb.length),a(he.Lb,0,0,he.Lb)}if(me.ub>le)return fi(k,7,"bad partition length");Z(he=k.m,X,ae,me.ub),ae+=me.ub,le-=me.ub,me.Rb&&(ye.Ld=ue(he),ye.Kd=ue(he)),ye=k.Qa;var be,ke=k.Pa;if(t(he!=null),t(ye!=null),ye.Cb=ue(he),ye.Cb){if(ye.Bb=ue(he),ue(he)){for(ye.Fb=ue(he),be=0;4>be;++be)ye.Zb[be]=ue(he)?W(he,7):0;for(be=0;4>be;++be)ye.Lb[be]=ue(he)?W(he,6):0}if(ye.Bb)for(be=0;3>be;++be)ke.jb[be]=ue(he)?re(he,8):255}else ye.Bb=0;if(he.Ka)return fi(k,3,"cannot parse segment header");if((ye=k.ed).zd=ue(he),ye.Tb=re(he,6),ye.wb=re(he,3),ye.Pc=ue(he),ye.Pc&&ue(he)){for(ke=0;4>ke;++ke)ue(he)&&(ye.vd[ke]=W(he,6));for(ke=0;4>ke;++ke)ue(he)&&(ye.od[ke]=W(he,6))}if(k.L=ye.Tb==0?0:ye.zd?1:2,he.Ka)return fi(k,3,"cannot parse filter header");var Be=le;if(le=be=ae,ae=be+Be,ye=Be,k.Xb=(1<<re(k.m,2))-1,Be<3*(ke=k.Xb))X=7;else{for(be+=3*ke,ye-=3*ke,Be=0;Be<ke;++Be){var it=X[le+0]|X[le+1]<<8|X[le+2]<<16;it>ye&&(it=ye),Z(k.Jc[+Be],X,be,it),be+=it,ye-=it,le+=3}Z(k.Jc[+ke],X,be,ye),X=be<ae?0:5}if(X!=0)return fi(k,X,"cannot parse partitions");for(X=re(be=k.m,7),le=ue(be)?W(be,4):0,ae=ue(be)?W(be,4):0,ye=ue(be)?W(be,4):0,ke=ue(be)?W(be,4):0,be=ue(be)?W(be,4):0,Be=k.Qa,it=0;4>it;++it){if(Be.Cb){var st=Be.Zb[it];Be.Fb||(st+=X)}else{if(0<it){k.pb[it]=k.pb[0];continue}st=X}var Ye=k.pb[it];Ye.Sc[0]=dp[Ko(st+le,127)],Ye.Sc[1]=l0[Ko(st+0,127)],Ye.Eb[0]=2*dp[Ko(st+ae,127)],Ye.Eb[1]=101581*l0[Ko(st+ye,127)]>>16,8>Ye.Eb[1]&&(Ye.Eb[1]=8),Ye.Qc[0]=dp[Ko(st+ke,117)],Ye.Qc[1]=l0[Ko(st+be,127)],Ye.lc=st+be}if(!me.Rb)return fi(k,4,"Not a key frame.");for(ue(he),me=k.Pa,X=0;4>X;++X){for(le=0;8>le;++le)for(ae=0;3>ae;++ae)for(ye=0;11>ye;++ye)ke=V(he,bA[X][le][ae][ye])?re(he,8):Eb[X][le][ae][ye],me.Wc[X][le].Yb[ae][ye]=ke;for(le=0;17>le;++le)me.Xc[X][le]=me.Wc[X][Uy[le]]}return k.kc=ue(he),k.kc&&(k.Bd=re(he,8)),k.cb=1}function Sf(k,F,X,ae,le,he,me){var ye=F[le].Yb[X];for(X=0;16>le;++le){if(!V(k,ye[X+0]))return le;for(;!V(k,ye[X+1]);)if(ye=F[++le].Yb[0],X=0,le==16)return 16;var be=F[le+1].Yb;if(V(k,ye[X+2])){var ke=k,Be=0;if(V(ke,(st=ye)[(it=X)+3]))if(V(ke,st[it+6])){for(ye=0,it=2*(Be=V(ke,st[it+8]))+(st=V(ke,st[it+9+Be])),Be=0,st=$y[it];st[ye];++ye)Be+=Be+V(ke,st[ye]);Be+=3+(8<<it)}else V(ke,st[it+7])?(Be=7+2*V(ke,165),Be+=V(ke,145)):Be=5+V(ke,159);else Be=V(ke,st[it+4])?3+V(ke,st[it+5]):2;ye=be[2]}else Be=1,ye=be[1];be=me+By[le],0>(ke=k).b&&oe(ke);var it,st=ke.b,Ye=(it=ke.Ca>>1)-(ke.I>>st)>>31;--ke.b,ke.Ca+=Ye,ke.Ca|=1,ke.I-=(it+1&Ye)<<st,he[be]=((Be^Ye)-Ye)*ae[(0<le)+0]}return 16}function yd(k){var F=k.rb[k.sb-1];F.la=0,F.Na=0,a(k.zc,0,0,k.zc.length),k.ja=0}function Nf(k,F){if(k==null)return 0;if(F==null)return fi(k,2,"NULL VP8Io parameter in VP8Decode().");if(!k.cb&&!Ug(k,F))return 0;if(t(k.cb),F.ac==null||F.ac(F)){F.ob&&(k.L=0);var X=Hf[k.L];if(k.L==2?(k.yb=0,k.zb=0):(k.yb=F.v-X>>4,k.zb=F.j-X>>4,0>k.yb&&(k.yb=0),0>k.zb&&(k.zb=0)),k.Va=F.o+15+X>>4,k.Hb=F.va+15+X>>4,k.Hb>k.za&&(k.Hb=k.za),k.Va>k.Ub&&(k.Va=k.Ub),0<k.L){var ae=k.ed;for(X=0;4>X;++X){var le;if(k.Qa.Cb){var he=k.Qa.Lb[X];k.Qa.Fb||(he+=ae.Tb)}else he=ae.Tb;for(le=0;1>=le;++le){var me=k.gd[X][le],ye=he;if(ae.Pc&&(ye+=ae.vd[0],le&&(ye+=ae.od[0])),0<(ye=0>ye?0:63<ye?63:ye)){var be=ye;0<ae.wb&&(be=4<ae.wb?be>>2:be>>1)>9-ae.wb&&(be=9-ae.wb),1>be&&(be=1),me.dd=be,me.tc=2*ye+be,me.ld=40<=ye?2:15<=ye?1:0}else me.tc=0;me.La=le}}}X=0}else fi(k,6,"Frame setup failed"),X=k.a;if(X=X==0){if(X){k.$c=0,0<k.Aa||(k.Ic=bu);e:{X=k.Ic,ae=4*(be=k.za);var ke=32*be,Be=be+1,it=0<k.L?be*(0<k.Aa?2:1):0,st=(k.Aa==2?2:1)*be;if((me=ae+832+(le=3*(16*X+Hf[k.L])/2*ke)+(he=k.Fa!=null&&0<k.Fa.length?k.Kc.c*k.Kc.i:0))!=me)X=0;else{if(me>k.Vb){if(k.Vb=0,k.Ec=i(me),k.Fc=0,k.Ec==null){X=fi(k,1,"no memory during frame initialization.");break e}k.Vb=me}me=k.Ec,ye=k.Fc,k.Ac=me,k.Bc=ye,ye+=ae,k.Gd=s(ke,Go),k.Hd=0,k.rb=s(Be+1,ca),k.sb=1,k.wa=it?s(it,zn):null,k.Y=0,k.D.Nb=0,k.D.wa=k.wa,k.D.Y=k.Y,0<k.Aa&&(k.D.Y+=be),t(!0),k.oc=me,k.pc=ye,ye+=832,k.ya=s(st,Hl),k.aa=0,k.D.ya=k.ya,k.D.aa=k.aa,k.Aa==2&&(k.D.aa+=be),k.R=16*be,k.B=8*be,be=(ke=Hf[k.L])*k.R,ke=ke/2*k.B,k.sa=me,k.ta=ye+be,k.qa=k.sa,k.ra=k.ta+16*X*k.R+ke,k.Ha=k.qa,k.Ia=k.ra+8*X*k.B+ke,k.$c=0,ye+=le,k.mb=he?me:null,k.nb=he?ye:null,t(ye+he<=k.Fc+k.Vb),yd(k),a(k.Ac,k.Bc,0,ae),X=1}}if(X){if(F.ka=0,F.y=k.sa,F.O=k.ta,F.f=k.qa,F.N=k.ra,F.ea=k.Ha,F.Vd=k.Ia,F.fa=k.R,F.Rc=k.B,F.F=null,F.J=0,!r0){for(X=-255;255>=X;++X)Ni[255+X]=0>X?-X:X;for(X=-1020;1020>=X;++X)Rc[1020+X]=-128>X?-128:127<X?127:X;for(X=-112;112>=X;++X)lp[112+X]=-16>X?-16:15<X?15:X;for(X=-255;510>=X;++X)Bf[255+X]=0>X?0:255<X?255:X;r0=1}op=Yn,mu=Vm,gu=xd,Es=Fy,Xo=Uh,Kn=Wm,Ff=Yh,t0=Li,Lf=Of,jf=Xm,$f=Sd,Jo=Nd,vu=Df,Ic=Kh,yu=Kl,xu=vl,Td=yl,ps=Vg,bl[0]=Tc,bl[1]=qg,bl[2]=Cf,bl[3]=Pc,bl[4]=Gm,bl[5]=zh,bl[6]=bd,bl[7]=Wh,bl[8]=Wg,bl[9]=Vh,Ks[0]=Ef,Ks[1]=zg,Ks[2]=Ec,Ks[3]=kf,Ks[4]=Ga,Ks[5]=Cc,Ks[6]=Gl,go[0]=Yo,go[1]=Hm,go[2]=Ly,go[3]=uu,go[4]=Pf,go[5]=Hh,go[6]=Ym,X=1}else X=0}X&&(X=function(Ye,Mt){for(Ye.M=0;Ye.M<Ye.Va;++Ye.M){var _t,qe=Ye.Jc[Ye.M&Ye.Xb],ze=Ye.m,Ct=Ye;for(_t=0;_t<Ct.za;++_t){var Et=ze,Tt=Ct,vr=Tt.Ac,ir=Tt.Bc+4*_t,Br=Tt.zc,sr=Tt.ya[Tt.aa+_t];if(Tt.Qa.Bb?sr.$b=V(Et,Tt.Pa.jb[0])?2+V(Et,Tt.Pa.jb[2]):V(Et,Tt.Pa.jb[1]):sr.$b=0,Tt.kc&&(sr.Ad=V(Et,Tt.Bd)),sr.Za=!V(Et,145)+0,sr.Za){var Wn=sr.Ob,Vn=0;for(Tt=0;4>Tt;++Tt){var jn,wn=Br[0+Tt];for(jn=0;4>jn;++jn){wn=wA[vr[ir+jn]][wn];for(var fa=kb[V(Et,wn[0])];0<fa;)fa=kb[2*fa+V(Et,wn[fa])];wn=-fa,vr[ir+jn]=wn}n(Wn,Vn,vr,ir,4),Vn+=4,Br[0+Tt]=wn}}else wn=V(Et,156)?V(Et,128)?1:3:V(Et,163)?2:0,sr.Ob[0]=wn,a(vr,ir,wn,4),a(Br,0,wn,4);sr.Dd=V(Et,142)?V(Et,114)?V(Et,183)?1:3:2:0}if(Ct.m.Ka)return fi(Ye,7,"Premature end-of-partition0 encountered.");for(;Ye.ja<Ye.za;++Ye.ja){if(Ct=qe,Et=(ze=Ye).rb[ze.sb-1],vr=ze.rb[ze.sb+ze.ja],_t=ze.ya[ze.aa+ze.ja],ir=ze.kc?_t.Ad:0)Et.la=vr.la=0,_t.Za||(Et.Na=vr.Na=0),_t.Hc=0,_t.Gc=0,_t.ia=0;else{var ya,on;if(Et=vr,vr=Ct,ir=ze.Pa.Xc,Br=ze.ya[ze.aa+ze.ja],sr=ze.pb[Br.$b],Tt=Br.ad,Wn=0,Vn=ze.rb[ze.sb-1],wn=jn=0,a(Tt,Wn,0,384),Br.Za)var Ka=0,Xs=ir[3];else{fa=i(16);var hi=Et.Na+Vn.Na;if(hi=zf(vr,ir[1],hi,sr.Eb,0,fa,0),Et.Na=Vn.Na=(0<hi)+0,1<hi)op(fa,0,Tt,Wn);else{var ji=fa[0]+3>>3;for(fa=0;256>fa;fa+=16)Tt[Wn+fa]=ji}Ka=1,Xs=ir[0]}var ra=15&Et.la,Ps=15&Vn.la;for(fa=0;4>fa;++fa){var Ts=1&Ps;for(ji=on=0;4>ji;++ji)ra=ra>>1|(Ts=(hi=zf(vr,Xs,hi=Ts+(1&ra),sr.Sc,Ka,Tt,Wn))>Ka)<<7,on=on<<2|(3<hi?3:1<hi?2:Tt[Wn+0]!=0),Wn+=16;ra>>=4,Ps=Ps>>1|Ts<<7,jn=(jn<<8|on)>>>0}for(Xs=ra,Ka=Ps>>4,ya=0;4>ya;ya+=2){for(on=0,ra=Et.la>>4+ya,Ps=Vn.la>>4+ya,fa=0;2>fa;++fa){for(Ts=1&Ps,ji=0;2>ji;++ji)hi=Ts+(1&ra),ra=ra>>1|(Ts=0<(hi=zf(vr,ir[2],hi,sr.Qc,0,Tt,Wn)))<<3,on=on<<2|(3<hi?3:1<hi?2:Tt[Wn+0]!=0),Wn+=16;ra>>=2,Ps=Ps>>1|Ts<<5}wn|=on<<4*ya,Xs|=ra<<4<<ya,Ka|=(240&Ps)<<ya}Et.la=Xs,Vn.la=Ka,Br.Hc=jn,Br.Gc=wn,Br.ia=43690&wn?0:sr.ia,ir=!(jn|wn)}if(0<ze.L&&(ze.wa[ze.Y+ze.ja]=ze.gd[_t.$b][_t.Za],ze.wa[ze.Y+ze.ja].La|=!ir),Ct.Ka)return fi(Ye,7,"Premature end-of-file encountered.")}if(yd(Ye),ze=Mt,Ct=1,_t=(qe=Ye).D,Et=0<qe.L&&qe.M>=qe.zb&&qe.M<=qe.Va,qe.Aa==0)e:{if(_t.M=qe.M,_t.uc=Et,Zh(qe,_t),Ct=1,_t=(on=qe.D).Nb,Et=(wn=Hf[qe.L])*qe.R,vr=wn/2*qe.B,fa=16*_t*qe.R,ji=8*_t*qe.B,ir=qe.sa,Br=qe.ta-Et+fa,sr=qe.qa,Tt=qe.ra-vr+ji,Wn=qe.Ha,Vn=qe.Ia-vr+ji,Ps=(ra=on.M)==0,jn=ra>=qe.Va-1,qe.Aa==2&&Zh(qe,on),on.uc)for(Ts=(hi=qe).D.M,t(hi.D.uc),on=hi.yb;on<hi.Hb;++on){Ka=on,Xs=Ts;var Xa=($i=(na=hi).D).Nb;ya=na.R;var $i=$i.wa[$i.Y+Ka],gs=na.sa,wo=na.ta+16*Xa*ya+16*Ka,_l=$i.dd,Ja=$i.tc;if(Ja!=0)if(t(3<=Ja),na.L==1)0<Ka&&xu(gs,wo,ya,Ja+4),$i.La&&ps(gs,wo,ya,Ja),0<Xs&&yu(gs,wo,ya,Ja+4),$i.La&&Td(gs,wo,ya,Ja);else{var Ai=na.B,Zo=na.qa,Rd=na.ra+8*Xa*Ai+8*Ka,_u=na.Ha,na=na.Ia+8*Xa*Ai+8*Ka;Xa=$i.ld,0<Ka&&(t0(gs,wo,ya,Ja+4,_l,Xa),jf(Zo,Rd,_u,na,Ai,Ja+4,_l,Xa)),$i.La&&(Jo(gs,wo,ya,Ja,_l,Xa),Ic(Zo,Rd,_u,na,Ai,Ja,_l,Xa)),0<Xs&&(Ff(gs,wo,ya,Ja+4,_l,Xa),Lf(Zo,Rd,_u,na,Ai,Ja+4,_l,Xa)),$i.La&&($f(gs,wo,ya,Ja,_l,Xa),vu(Zo,Rd,_u,na,Ai,Ja,_l,Xa))}}if(qe.ia&&alert("todo:DitherRow"),ze.put!=null){if(on=16*ra,ra=16*(ra+1),Ps?(ze.y=qe.sa,ze.O=qe.ta+fa,ze.f=qe.qa,ze.N=qe.ra+ji,ze.ea=qe.Ha,ze.W=qe.Ia+ji):(on-=wn,ze.y=ir,ze.O=Br,ze.f=sr,ze.N=Tt,ze.ea=Wn,ze.W=Vn),jn||(ra-=wn),ra>ze.o&&(ra=ze.o),ze.F=null,ze.J=null,qe.Fa!=null&&0<qe.Fa.length&&on<ra&&(ze.J=Zm(qe,ze,on,ra-on),ze.F=qe.mb,ze.F==null&&ze.F.length==0)){Ct=fi(qe,3,"Could not decode alpha data.");break e}on<ze.j&&(wn=ze.j-on,on=ze.j,t(!(1&wn)),ze.O+=qe.R*wn,ze.N+=qe.B*(wn>>1),ze.W+=qe.B*(wn>>1),ze.F!=null&&(ze.J+=ze.width*wn)),on<ra&&(ze.O+=ze.v,ze.N+=ze.v>>1,ze.W+=ze.v>>1,ze.F!=null&&(ze.J+=ze.v),ze.ka=on-ze.j,ze.U=ze.va-ze.v,ze.T=ra-on,Ct=ze.put(ze))}_t+1!=qe.Ic||jn||(n(qe.sa,qe.ta-Et,ir,Br+16*qe.R,Et),n(qe.qa,qe.ra-vr,sr,Tt+8*qe.B,vr),n(qe.Ha,qe.Ia-vr,Wn,Vn+8*qe.B,vr))}if(!Ct)return fi(Ye,6,"Output aborted.")}return 1}(k,F)),F.bc!=null&&F.bc(F),X&=1}return X?(k.cb=0,X):0}function fo(k,F,X,ae,le){le=k[F+X+32*ae]+(le>>3),k[F+X+32*ae]=-256&le?0>le?0:255:le}function Bh(k,F,X,ae,le,he){fo(k,F,0,X,ae+le),fo(k,F,1,X,ae+he),fo(k,F,2,X,ae-he),fo(k,F,3,X,ae-le)}function ho(k){return(20091*k>>16)+k}function Af(k,F,X,ae){var le,he=0,me=i(16);for(le=0;4>le;++le){var ye=k[F+0]+k[F+8],be=k[F+0]-k[F+8],ke=(35468*k[F+4]>>16)-ho(k[F+12]),Be=ho(k[F+4])+(35468*k[F+12]>>16);me[he+0]=ye+Be,me[he+1]=be+ke,me[he+2]=be-ke,me[he+3]=ye-Be,he+=4,F++}for(le=he=0;4>le;++le)ye=(k=me[he+0]+4)+me[he+8],be=k-me[he+8],ke=(35468*me[he+4]>>16)-ho(me[he+12]),fo(X,ae,0,0,ye+(Be=ho(me[he+4])+(35468*me[he+12]>>16))),fo(X,ae,1,0,be+ke),fo(X,ae,2,0,be-ke),fo(X,ae,3,0,ye-Be),he++,ae+=32}function Wm(k,F,X,ae){var le=k[F+0]+4,he=35468*k[F+4]>>16,me=ho(k[F+4]),ye=35468*k[F+1]>>16;Bh(X,ae,0,le+me,k=ho(k[F+1]),ye),Bh(X,ae,1,le+he,k,ye),Bh(X,ae,2,le-he,k,ye),Bh(X,ae,3,le-me,k,ye)}function Vm(k,F,X,ae,le){Af(k,F,X,ae),le&&Af(k,F+16,X,ae+4)}function xd(k,F,X,ae){mu(k,F+0,X,ae,1),mu(k,F+32,X,ae+128,1)}function Fy(k,F,X,ae){var le;for(k=k[F+0]+4,le=0;4>le;++le)for(F=0;4>F;++F)fo(X,ae,F,le,k)}function Uh(k,F,X,ae){k[F+0]&&Es(k,F+0,X,ae),k[F+16]&&Es(k,F+16,X,ae+4),k[F+32]&&Es(k,F+32,X,ae+128),k[F+48]&&Es(k,F+48,X,ae+128+4)}function Yn(k,F,X,ae){var le,he=i(16);for(le=0;4>le;++le){var me=k[F+0+le]+k[F+12+le],ye=k[F+4+le]+k[F+8+le],be=k[F+4+le]-k[F+8+le],ke=k[F+0+le]-k[F+12+le];he[0+le]=me+ye,he[8+le]=me-ye,he[4+le]=ke+be,he[12+le]=ke-be}for(le=0;4>le;++le)me=(k=he[0+4*le]+3)+he[3+4*le],ye=he[1+4*le]+he[2+4*le],be=he[1+4*le]-he[2+4*le],ke=k-he[3+4*le],X[ae+0]=me+ye>>3,X[ae+16]=ke+be>>3,X[ae+32]=me-ye>>3,X[ae+48]=ke-be>>3,ae+=64}function qh(k,F,X){var ae,le=F-32,he=Ys,me=255-k[le-1];for(ae=0;ae<X;++ae){var ye,be=he,ke=me+k[F-1];for(ye=0;ye<X;++ye)k[F+ye]=be[ke+k[le+ye]];F+=32}}function qg(k,F){qh(k,F,4)}function Hm(k,F){qh(k,F,8)}function zg(k,F){qh(k,F,16)}function Ec(k,F){var X;for(X=0;16>X;++X)n(k,F+32*X,k,F-32,16)}function kf(k,F){var X;for(X=16;0<X;--X)a(k,F,k[F-1],16),F+=32}function wd(k,F,X){var ae;for(ae=0;16>ae;++ae)a(F,X+32*ae,k,16)}function Ef(k,F){var X,ae=16;for(X=0;16>X;++X)ae+=k[F-1+32*X]+k[F+X-32];wd(ae>>5,k,F)}function Ga(k,F){var X,ae=8;for(X=0;16>X;++X)ae+=k[F-1+32*X];wd(ae>>4,k,F)}function Cc(k,F){var X,ae=8;for(X=0;16>X;++X)ae+=k[F+X-32];wd(ae>>4,k,F)}function Gl(k,F){wd(128,k,F)}function Xr(k,F,X){return k+2*F+X+2>>2}function Cf(k,F){var X,ae=F-32;for(ae=new Uint8Array([Xr(k[ae-1],k[ae+0],k[ae+1]),Xr(k[ae+0],k[ae+1],k[ae+2]),Xr(k[ae+1],k[ae+2],k[ae+3]),Xr(k[ae+2],k[ae+3],k[ae+4])]),X=0;4>X;++X)n(k,F+32*X,ae,0,ae.length)}function Pc(k,F){var X=k[F-1],ae=k[F-1+32],le=k[F-1+64],he=k[F-1+96];se(k,F+0,16843009*Xr(k[F-1-32],X,ae)),se(k,F+32,16843009*Xr(X,ae,le)),se(k,F+64,16843009*Xr(ae,le,he)),se(k,F+96,16843009*Xr(le,he,he))}function Tc(k,F){var X,ae=4;for(X=0;4>X;++X)ae+=k[F+X-32]+k[F-1+32*X];for(ae>>=3,X=0;4>X;++X)a(k,F+32*X,ae,4)}function Gm(k,F){var X=k[F-1+0],ae=k[F-1+32],le=k[F-1+64],he=k[F-1-32],me=k[F+0-32],ye=k[F+1-32],be=k[F+2-32],ke=k[F+3-32];k[F+0+96]=Xr(ae,le,k[F-1+96]),k[F+1+96]=k[F+0+64]=Xr(X,ae,le),k[F+2+96]=k[F+1+64]=k[F+0+32]=Xr(he,X,ae),k[F+3+96]=k[F+2+64]=k[F+1+32]=k[F+0+0]=Xr(me,he,X),k[F+3+64]=k[F+2+32]=k[F+1+0]=Xr(ye,me,he),k[F+3+32]=k[F+2+0]=Xr(be,ye,me),k[F+3+0]=Xr(ke,be,ye)}function bd(k,F){var X=k[F+1-32],ae=k[F+2-32],le=k[F+3-32],he=k[F+4-32],me=k[F+5-32],ye=k[F+6-32],be=k[F+7-32];k[F+0+0]=Xr(k[F+0-32],X,ae),k[F+1+0]=k[F+0+32]=Xr(X,ae,le),k[F+2+0]=k[F+1+32]=k[F+0+64]=Xr(ae,le,he),k[F+3+0]=k[F+2+32]=k[F+1+64]=k[F+0+96]=Xr(le,he,me),k[F+3+32]=k[F+2+64]=k[F+1+96]=Xr(he,me,ye),k[F+3+64]=k[F+2+96]=Xr(me,ye,be),k[F+3+96]=Xr(ye,be,be)}function zh(k,F){var X=k[F-1+0],ae=k[F-1+32],le=k[F-1+64],he=k[F-1-32],me=k[F+0-32],ye=k[F+1-32],be=k[F+2-32],ke=k[F+3-32];k[F+0+0]=k[F+1+64]=he+me+1>>1,k[F+1+0]=k[F+2+64]=me+ye+1>>1,k[F+2+0]=k[F+3+64]=ye+be+1>>1,k[F+3+0]=be+ke+1>>1,k[F+0+96]=Xr(le,ae,X),k[F+0+64]=Xr(ae,X,he),k[F+0+32]=k[F+1+96]=Xr(X,he,me),k[F+1+32]=k[F+2+96]=Xr(he,me,ye),k[F+2+32]=k[F+3+96]=Xr(me,ye,be),k[F+3+32]=Xr(ye,be,ke)}function Wh(k,F){var X=k[F+0-32],ae=k[F+1-32],le=k[F+2-32],he=k[F+3-32],me=k[F+4-32],ye=k[F+5-32],be=k[F+6-32],ke=k[F+7-32];k[F+0+0]=X+ae+1>>1,k[F+1+0]=k[F+0+64]=ae+le+1>>1,k[F+2+0]=k[F+1+64]=le+he+1>>1,k[F+3+0]=k[F+2+64]=he+me+1>>1,k[F+0+32]=Xr(X,ae,le),k[F+1+32]=k[F+0+96]=Xr(ae,le,he),k[F+2+32]=k[F+1+96]=Xr(le,he,me),k[F+3+32]=k[F+2+96]=Xr(he,me,ye),k[F+3+64]=Xr(me,ye,be),k[F+3+96]=Xr(ye,be,ke)}function Vh(k,F){var X=k[F-1+0],ae=k[F-1+32],le=k[F-1+64],he=k[F-1+96];k[F+0+0]=X+ae+1>>1,k[F+2+0]=k[F+0+32]=ae+le+1>>1,k[F+2+32]=k[F+0+64]=le+he+1>>1,k[F+1+0]=Xr(X,ae,le),k[F+3+0]=k[F+1+32]=Xr(ae,le,he),k[F+3+32]=k[F+1+64]=Xr(le,he,he),k[F+3+64]=k[F+2+64]=k[F+0+96]=k[F+1+96]=k[F+2+96]=k[F+3+96]=he}function Wg(k,F){var X=k[F-1+0],ae=k[F-1+32],le=k[F-1+64],he=k[F-1+96],me=k[F-1-32],ye=k[F+0-32],be=k[F+1-32],ke=k[F+2-32];k[F+0+0]=k[F+2+32]=X+me+1>>1,k[F+0+32]=k[F+2+64]=ae+X+1>>1,k[F+0+64]=k[F+2+96]=le+ae+1>>1,k[F+0+96]=he+le+1>>1,k[F+3+0]=Xr(ye,be,ke),k[F+2+0]=Xr(me,ye,be),k[F+1+0]=k[F+3+32]=Xr(X,me,ye),k[F+1+32]=k[F+3+64]=Xr(ae,X,me),k[F+1+64]=k[F+3+96]=Xr(le,ae,X),k[F+1+96]=Xr(he,le,ae)}function Ly(k,F){var X;for(X=0;8>X;++X)n(k,F+32*X,k,F-32,8)}function uu(k,F){var X;for(X=0;8>X;++X)a(k,F,k[F-1],8),F+=32}function Yl(k,F,X){var ae;for(ae=0;8>ae;++ae)a(F,X+32*ae,k,8)}function Yo(k,F){var X,ae=8;for(X=0;8>X;++X)ae+=k[F+X-32]+k[F-1+32*X];Yl(ae>>4,k,F)}function Hh(k,F){var X,ae=4;for(X=0;8>X;++X)ae+=k[F+X-32];Yl(ae>>3,k,F)}function Pf(k,F){var X,ae=4;for(X=0;8>X;++X)ae+=k[F-1+32*X];Yl(ae>>3,k,F)}function Ym(k,F){Yl(128,k,F)}function _d(k,F,X){var ae=k[F-X],le=k[F+0],he=3*(le-ae)+Mc[1020+k[F-2*X]-k[F+X]],me=cp[112+(he+4>>3)];k[F-X]=Ys[255+ae+cp[112+(he+3>>3)]],k[F+0]=Ys[255+le-me]}function Tf(k,F,X,ae){var le=k[F+0],he=k[F+X];return wl[255+k[F-2*X]-k[F-X]]>ae||wl[255+he-le]>ae}function Gh(k,F,X,ae){return 4*wl[255+k[F-X]-k[F+0]]+wl[255+k[F-2*X]-k[F+X]]<=ae}function Km(k,F,X,ae,le){var he=k[F-3*X],me=k[F-2*X],ye=k[F-X],be=k[F+0],ke=k[F+X],Be=k[F+2*X],it=k[F+3*X];return 4*wl[255+ye-be]+wl[255+me-ke]>ae?0:wl[255+k[F-4*X]-he]<=le&&wl[255+he-me]<=le&&wl[255+me-ye]<=le&&wl[255+it-Be]<=le&&wl[255+Be-ke]<=le&&wl[255+ke-be]<=le}function Kl(k,F,X,ae){var le=2*ae+1;for(ae=0;16>ae;++ae)Gh(k,F+ae,X,le)&&_d(k,F+ae,X)}function vl(k,F,X,ae){var le=2*ae+1;for(ae=0;16>ae;++ae)Gh(k,F+ae*X,1,le)&&_d(k,F+ae*X,1)}function yl(k,F,X,ae){var le;for(le=3;0<le;--le)Kl(k,F+=4*X,X,ae)}function Vg(k,F,X,ae){var le;for(le=3;0<le;--le)vl(k,F+=4,X,ae)}function Xl(k,F,X,ae,le,he,me,ye){for(he=2*he+1;0<le--;){if(Km(k,F,X,he,me))if(Tf(k,F,X,ye))_d(k,F,X);else{var be=k,ke=F,Be=X,it=be[ke-2*Be],st=be[ke-Be],Ye=be[ke+0],Mt=be[ke+Be],_t=be[ke+2*Be],qe=27*(Ct=Mc[1020+3*(Ye-st)+Mc[1020+it-Mt]])+63>>7,ze=18*Ct+63>>7,Ct=9*Ct+63>>7;be[ke-3*Be]=Ys[255+be[ke-3*Be]+Ct],be[ke-2*Be]=Ys[255+it+ze],be[ke-Be]=Ys[255+st+qe],be[ke+0]=Ys[255+Ye-qe],be[ke+Be]=Ys[255+Mt-ze],be[ke+2*Be]=Ys[255+_t-Ct]}F+=ae}}function po(k,F,X,ae,le,he,me,ye){for(he=2*he+1;0<le--;){if(Km(k,F,X,he,me))if(Tf(k,F,X,ye))_d(k,F,X);else{var be=k,ke=F,Be=X,it=be[ke-Be],st=be[ke+0],Ye=be[ke+Be],Mt=cp[112+((_t=3*(st-it))+4>>3)],_t=cp[112+(_t+3>>3)],qe=Mt+1>>1;be[ke-2*Be]=Ys[255+be[ke-2*Be]+qe],be[ke-Be]=Ys[255+it+_t],be[ke+0]=Ys[255+st-Mt],be[ke+Be]=Ys[255+Ye-qe]}F+=ae}}function Yh(k,F,X,ae,le,he){Xl(k,F,X,1,16,ae,le,he)}function Li(k,F,X,ae,le,he){Xl(k,F,1,X,16,ae,le,he)}function Sd(k,F,X,ae,le,he){var me;for(me=3;0<me;--me)po(k,F+=4*X,X,1,16,ae,le,he)}function Nd(k,F,X,ae,le,he){var me;for(me=3;0<me;--me)po(k,F+=4,1,X,16,ae,le,he)}function Of(k,F,X,ae,le,he,me,ye){Xl(k,F,le,1,8,he,me,ye),Xl(X,ae,le,1,8,he,me,ye)}function Xm(k,F,X,ae,le,he,me,ye){Xl(k,F,1,le,8,he,me,ye),Xl(X,ae,1,le,8,he,me,ye)}function Df(k,F,X,ae,le,he,me,ye){po(k,F+4*le,le,1,8,he,me,ye),po(X,ae+4*le,le,1,8,he,me,ye)}function Kh(k,F,X,ae,le,he,me,ye){po(k,F+4,1,le,8,he,me,ye),po(X,ae+4,1,le,8,he,me,ye)}function Oc(){this.ba=new Er,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Mr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ad(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Xh(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Hg(){this.ua=0,this.Wa=new ve,this.vb=new ve,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new G,this.yc=new I}function jy(){this.xb=this.a=0,this.l=new kc,this.ca=new Er,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new D,this.Pb=0,this.wd=new D,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Hg,this.ab=0,this.gc=s(4,Xh),this.Oc=0}function Jh(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new kc,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function du(k,F,X,ae,le,he,me){for(k=k==null?0:k[F+0],F=0;F<me;++F)le[he+F]=k+X[ae+F]&255,k=le[he+F]}function Jm(k,F,X,ae,le,he,me){var ye;if(k==null)du(null,null,X,ae,le,he,me);else for(ye=0;ye<me;++ye)le[he+ye]=k[F+ye]+X[ae+ye]&255}function kd(k,F,X,ae,le,he,me){if(k==null)du(null,null,X,ae,le,he,me);else{var ye,be=k[F+0],ke=be,Be=be;for(ye=0;ye<me;++ye)ke=Be+(be=k[F+ye])-ke,Be=X[ae+ye]+(-256&ke?0>ke?0:255:ke)&255,ke=be,le[he+ye]=Be}}function Zm(k,F,X,ae){var le=F.width,he=F.o;if(t(k!=null&&F!=null),0>X||0>=ae||X+ae>he)return null;if(!k.Cc){if(k.ga==null){var me;if(k.ga=new Jh,(me=k.ga==null)||(me=F.width*F.o,t(k.Gb.length==0),k.Gb=i(me),k.Uc=0,k.Gb==null?me=0:(k.mb=k.Gb,k.nb=k.Uc,k.rc=null,me=1),me=!me),!me){me=k.ga;var ye=k.Fa,be=k.P,ke=k.qc,Be=k.mb,it=k.nb,st=be+1,Ye=ke-1,Mt=me.l;if(t(ye!=null&&Be!=null&&F!=null),Cs[0]=null,Cs[1]=du,Cs[2]=Jm,Cs[3]=kd,me.ca=Be,me.tb=it,me.c=F.width,me.i=F.height,t(0<me.c&&0<me.i),1>=ke)F=0;else if(me.$a=ye[be+0]>>0&3,me.Z=ye[be+0]>>2&3,me.Lc=ye[be+0]>>4&3,be=ye[be+0]>>6&3,0>me.$a||1<me.$a||4<=me.Z||1<me.Lc||be)F=0;else if(Mt.put=Wa,Mt.ac=la,Mt.bc=lt,Mt.ma=me,Mt.width=F.width,Mt.height=F.height,Mt.Da=F.Da,Mt.v=F.v,Mt.va=F.va,Mt.j=F.j,Mt.o=F.o,me.$a)e:{t(me.$a==1),F=ft();t:for(;;){if(F==null){F=0;break e}if(t(me!=null),me.mc=F,F.c=me.c,F.i=me.i,F.l=me.l,F.l.ma=me,F.l.width=me.c,F.l.height=me.i,F.a=0,z(F.m,ye,st,Ye),!rt(me.c,me.i,1,F,null)||(F.ab==1&&F.gc[0].hc==3&&xe(F.s)?(me.ic=1,ye=F.c*F.i,F.Ta=null,F.Ua=0,F.V=i(ye),F.Ba=0,F.V==null?(F.a=1,F=0):F=1):(me.ic=0,F=ot(F,me.c)),!F))break t;F=1;break e}me.mc=null,F=0}else F=Ye>=me.c*me.i;me=!F}if(me)return null;k.ga.Lc!=1?k.Ga=0:ae=he-X}t(k.ga!=null),t(X+ae<=he);e:{if(F=(ye=k.ga).c,he=ye.l.o,ye.$a==0){if(st=k.rc,Ye=k.Vc,Mt=k.Fa,be=k.P+1+X*F,ke=k.mb,Be=k.nb+X*F,t(be<=k.P+k.qc),ye.Z!=0)for(t(Cs[ye.Z]!=null),me=0;me<ae;++me)Cs[ye.Z](st,Ye,Mt,be,ke,Be,F),st=ke,Ye=Be,Be+=F,be+=F;else for(me=0;me<ae;++me)n(ke,Be,Mt,be,F),st=ke,Ye=Be,Be+=F,be+=F;k.rc=st,k.Vc=Ye}else{if(t(ye.mc!=null),F=X+ae,t((me=ye.mc)!=null),t(F<=me.i),me.C>=F)F=1;else if(ye.ic||nt(),ye.ic){ye=me.V,st=me.Ba,Ye=me.c;var _t=me.i,qe=(Mt=1,be=me.$/Ye,ke=me.$%Ye,Be=me.m,it=me.s,me.$),ze=Ye*_t,Ct=Ye*F,Et=it.wc,Tt=qe<Ct?Jt(it,ke,be):null;t(qe<=ze),t(F<=_t),t(xe(it));t:for(;;){for(;!Be.h&&qe<Ct;){if(ke&Et||(Tt=Jt(it,ke,be)),t(Tt!=null),ie(Be),256>(_t=bt(Tt.G[0],Tt.H[0],Be)))ye[st+qe]=_t,++qe,++ke>=Ye&&(ke=0,++be<=F&&!(be%16)&&Ae(me,be));else{if(!(280>_t)){Mt=0;break t}_t=Fr(_t-256,Be);var vr,ir=bt(Tt.G[4],Tt.H[4],Be);if(ie(Be),!(qe>=(ir=ta(Ye,ir=Fr(ir,Be)))&&ze-qe>=_t)){Mt=0;break t}for(vr=0;vr<_t;++vr)ye[st+qe+vr]=ye[st+qe+vr-ir];for(qe+=_t,ke+=_t;ke>=Ye;)ke-=Ye,++be<=F&&!(be%16)&&Ae(me,be);qe<Ct&&ke&Et&&(Tt=Jt(it,ke,be))}t(Be.h==J(Be))}Ae(me,be>F?F:be);break t}!Mt||Be.h&&qe<ze?(Mt=0,me.a=Be.h?5:3):me.$=qe,F=Mt}else F=Ne(me,me.V,me.Ba,me.c,me.i,F,Ze);if(!F){ae=0;break e}}X+ae>=he&&(k.Cc=1),ae=1}if(!ae)return null;if(k.Cc&&((ae=k.ga)!=null&&(ae.mc=null),k.ga=null,0<k.Ga))return alert("todo:WebPDequantizeLevels"),null}return k.nb+X*le}function q(k,F,X,ae,le,he){for(;0<le--;){var me,ye=k,be=F+(X?1:0),ke=k,Be=F+(X?0:3);for(me=0;me<ae;++me){var it=ke[Be+4*me];it!=255&&(it*=32897,ye[be+4*me+0]=ye[be+4*me+0]*it>>23,ye[be+4*me+1]=ye[be+4*me+1]*it>>23,ye[be+4*me+2]=ye[be+4*me+2]*it>>23)}F+=he}}function de(k,F,X,ae,le){for(;0<ae--;){var he;for(he=0;he<X;++he){var me=k[F+2*he+0],ye=15&(ke=k[F+2*he+1]),be=4369*ye,ke=(240&ke|ke>>4)*be>>16;k[F+2*he+0]=(240&me|me>>4)*be>>16&240|(15&me|me<<4)*be>>16>>4&15,k[F+2*he+1]=240&ke|ye}F+=le}}function Te(k,F,X,ae,le,he,me,ye){var be,ke,Be=255;for(ke=0;ke<le;++ke){for(be=0;be<ae;++be){var it=k[F+be];he[me+4*be]=it,Be&=it}F+=X,me+=ye}return Be!=255}function $e(k,F,X,ae,le){var he;for(he=0;he<le;++he)X[ae+he]=k[F+he]>>8}function nt(){mo=q,Na=de,ua=Te,li=$e}function kt(k,F,X){M[k]=function(ae,le,he,me,ye,be,ke,Be,it,st,Ye,Mt,_t,qe,ze,Ct,Et){var Tt,vr=Et-1>>1,ir=ye[be+0]|ke[Be+0]<<16,Br=it[st+0]|Ye[Mt+0]<<16;t(ae!=null);var sr=3*ir+Br+131074>>2;for(F(ae[le+0],255&sr,sr>>16,_t,qe),he!=null&&(sr=3*Br+ir+131074>>2,F(he[me+0],255&sr,sr>>16,ze,Ct)),Tt=1;Tt<=vr;++Tt){var Wn=ye[be+Tt]|ke[Be+Tt]<<16,Vn=it[st+Tt]|Ye[Mt+Tt]<<16,jn=ir+Wn+Br+Vn+524296,wn=jn+2*(Wn+Br)>>3;sr=wn+ir>>1,ir=(jn=jn+2*(ir+Vn)>>3)+Wn>>1,F(ae[le+2*Tt-1],255&sr,sr>>16,_t,qe+(2*Tt-1)*X),F(ae[le+2*Tt-0],255&ir,ir>>16,_t,qe+(2*Tt-0)*X),he!=null&&(sr=jn+Br>>1,ir=wn+Vn>>1,F(he[me+2*Tt-1],255&sr,sr>>16,ze,Ct+(2*Tt-1)*X),F(he[me+2*Tt+0],255&ir,ir>>16,ze,Ct+(2*Tt+0)*X)),ir=Wn,Br=Vn}1&Et||(sr=3*ir+Br+131074>>2,F(ae[le+Et-1],255&sr,sr>>16,_t,qe+(Et-1)*X),he!=null&&(sr=3*Br+ir+131074>>2,F(he[me+Et-1],255&sr,sr>>16,ze,Ct+(Et-1)*X)))}}function $t(){vo[Yg]=_A,vo[Od]=Dd,vo[Sb]=SA,vo[n0]=hp,vo[a0]=Wf,vo[Aa]=c0,vo[Kg]=qy,vo[up]=Dd,vo[Uf]=hp,vo[i0]=Wf,vo[s0]=c0}function ur(k){return k&-16384?0>k?0:255:k>>Id}function Lr(k,F){return ur((19077*k>>8)+(26149*F>>8)-14234)}function gn(k,F,X){return ur((19077*k>>8)-(6419*F>>8)-(13320*X>>8)+8708)}function mn(k,F){return ur((19077*k>>8)+(33050*F>>8)-17685)}function In(k,F,X,ae,le){ae[le+0]=Lr(k,X),ae[le+1]=gn(k,F,X),ae[le+2]=mn(k,F)}function Ya(k,F,X,ae,le){ae[le+0]=mn(k,F),ae[le+1]=gn(k,F,X),ae[le+2]=Lr(k,X)}function si(k,F,X,ae,le){var he=gn(k,F,X);F=he<<3&224|mn(k,F)>>3,ae[le+0]=248&Lr(k,X)|he>>5,ae[le+1]=F}function Si(k,F,X,ae,le){var he=240&mn(k,F)|15;ae[le+0]=240&Lr(k,X)|gn(k,F,X)>>4,ae[le+1]=he}function As(k,F,X,ae,le){ae[le+0]=255,In(k,F,X,ae,le+1)}function ns(k,F,X,ae,le){Ya(k,F,X,ae,le),ae[le+3]=255}function Jl(k,F,X,ae,le){In(k,F,X,ae,le),ae[le+3]=255}function Ko(k,F){return 0>k?0:k>F?F:k}function xl(k,F,X){M[k]=function(ae,le,he,me,ye,be,ke,Be,it){for(var st=Be+(-2&it)*X;Be!=st;)F(ae[le+0],he[me+0],ye[be+0],ke,Be),F(ae[le+1],he[me+0],ye[be+0],ke,Be+X),le+=2,++me,++be,Be+=2*X;1&it&&F(ae[le+0],he[me+0],ye[be+0],ke,Be)}}function Ed(k,F,X){return X==0?k==0?F==0?6:5:F==0?4:0:X}function Qm(k,F,X,ae,le){switch(k>>>30){case 3:mu(F,X,ae,le,0);break;case 2:Kn(F,X,ae,le);break;case 1:Es(F,X,ae,le)}}function Zh(k,F){var X,ae,le=F.M,he=F.Nb,me=k.oc,ye=k.pc+40,be=k.oc,ke=k.pc+584,Be=k.oc,it=k.pc+600;for(X=0;16>X;++X)me[ye+32*X-1]=129;for(X=0;8>X;++X)be[ke+32*X-1]=129,Be[it+32*X-1]=129;for(0<le?me[ye-1-32]=be[ke-1-32]=Be[it-1-32]=129:(a(me,ye-32-1,127,21),a(be,ke-32-1,127,9),a(Be,it-32-1,127,9)),ae=0;ae<k.za;++ae){var st=F.ya[F.aa+ae];if(0<ae){for(X=-1;16>X;++X)n(me,ye+32*X-4,me,ye+32*X+12,4);for(X=-1;8>X;++X)n(be,ke+32*X-4,be,ke+32*X+4,4),n(Be,it+32*X-4,Be,it+32*X+4,4)}var Ye=k.Gd,Mt=k.Hd+ae,_t=st.ad,qe=st.Hc;if(0<le&&(n(me,ye-32,Ye[Mt].y,0,16),n(be,ke-32,Ye[Mt].f,0,8),n(Be,it-32,Ye[Mt].ea,0,8)),st.Za){var ze=me,Ct=ye-32+16;for(0<le&&(ae>=k.za-1?a(ze,Ct,Ye[Mt].y[15],4):n(ze,Ct,Ye[Mt+1].y,0,4)),X=0;4>X;X++)ze[Ct+128+X]=ze[Ct+256+X]=ze[Ct+384+X]=ze[Ct+0+X];for(X=0;16>X;++X,qe<<=2)ze=me,Ct=ye+zy[X],bl[st.Ob[X]](ze,Ct),Qm(qe,_t,16*+X,ze,Ct)}else if(ze=Ed(ae,le,st.Ob[0]),Ks[ze](me,ye),qe!=0)for(X=0;16>X;++X,qe<<=2)Qm(qe,_t,16*+X,me,ye+zy[X]);for(X=st.Gc,ze=Ed(ae,le,st.Dd),go[ze](be,ke),go[ze](Be,it),qe=_t,ze=be,Ct=ke,255&(st=X>>0)&&(170&st?gu(qe,256,ze,Ct):Xo(qe,256,ze,Ct)),st=Be,qe=it,255&(X>>=8)&&(170&X?gu(_t,320,st,qe):Xo(_t,320,st,qe)),le<k.Ub-1&&(n(Ye[Mt].y,0,me,ye+480,16),n(Ye[Mt].f,0,be,ke+224,8),n(Ye[Mt].ea,0,Be,it+224,8)),X=8*he*k.B,Ye=k.sa,Mt=k.ta+16*ae+16*he*k.R,_t=k.qa,st=k.ra+8*ae+X,qe=k.Ha,ze=k.Ia+8*ae+X,X=0;16>X;++X)n(Ye,Mt+X*k.R,me,ye+32*X,16);for(X=0;8>X;++X)n(_t,st+X*k.B,be,ke+32*X,8),n(qe,ze+X*k.B,Be,it+32*X,8)}}function If(k,F,X,ae,le,he,me,ye,be){var ke=[0],Be=[0],it=0,st=be!=null?be.kd:0,Ye=be??new Ad;if(k==null||12>X)return 7;Ye.data=k,Ye.w=F,Ye.ha=X,F=[F],X=[X],Ye.gb=[Ye.gb];e:{var Mt=F,_t=X,qe=Ye.gb;if(t(k!=null),t(_t!=null),t(qe!=null),qe[0]=0,12<=_t[0]&&!r(k,Mt[0],"RIFF")){if(r(k,Mt[0]+8,"WEBP")){qe=3;break e}var ze=Ee(k,Mt[0]+4);if(12>ze||4294967286<ze){qe=3;break e}if(st&&ze>_t[0]-8){qe=7;break e}qe[0]=ze,Mt[0]+=12,_t[0]-=12}qe=0}if(qe!=0)return qe;for(ze=0<Ye.gb[0],X=X[0];;){e:{var Ct=k;_t=F,qe=X;var Et=ke,Tt=Be,vr=Mt=[0];if((sr=it=[it])[0]=0,8>qe[0])qe=7;else{if(!r(Ct,_t[0],"VP8X")){if(Ee(Ct,_t[0]+4)!=10){qe=3;break e}if(18>qe[0]){qe=7;break e}var ir=Ee(Ct,_t[0]+8),Br=1+te(Ct,_t[0]+12);if(2147483648<=Br*(Ct=1+te(Ct,_t[0]+15))){qe=3;break e}vr!=null&&(vr[0]=ir),Et!=null&&(Et[0]=Br),Tt!=null&&(Tt[0]=Ct),_t[0]+=18,qe[0]-=18,sr[0]=1}qe=0}}if(it=it[0],Mt=Mt[0],qe!=0)return qe;if(_t=!!(2&Mt),!ze&&it)return 3;if(he!=null&&(he[0]=!!(16&Mt)),me!=null&&(me[0]=_t),ye!=null&&(ye[0]=0),me=ke[0],Mt=Be[0],it&&_t&&be==null){qe=0;break}if(4>X){qe=7;break}if(ze&&it||!ze&&!it&&!r(k,F[0],"ALPH")){X=[X],Ye.na=[Ye.na],Ye.P=[Ye.P],Ye.Sa=[Ye.Sa];e:{ir=k,qe=F,ze=X;var sr=Ye.gb;Et=Ye.na,Tt=Ye.P,vr=Ye.Sa,Br=22,t(ir!=null),t(ze!=null),Ct=qe[0];var Wn=ze[0];for(t(Et!=null),t(vr!=null),Et[0]=null,Tt[0]=null,vr[0]=0;;){if(qe[0]=Ct,ze[0]=Wn,8>Wn){qe=7;break e}var Vn=Ee(ir,Ct+4);if(4294967286<Vn){qe=3;break e}var jn=8+Vn+1&-2;if(Br+=jn,0<sr&&Br>sr){qe=3;break e}if(!r(ir,Ct,"VP8 ")||!r(ir,Ct,"VP8L")){qe=0;break e}if(Wn[0]<jn){qe=7;break e}r(ir,Ct,"ALPH")||(Et[0]=ir,Tt[0]=Ct+8,vr[0]=Vn),Ct+=jn,Wn-=jn}}if(X=X[0],Ye.na=Ye.na[0],Ye.P=Ye.P[0],Ye.Sa=Ye.Sa[0],qe!=0)break}X=[X],Ye.Ja=[Ye.Ja],Ye.xa=[Ye.xa];e:if(sr=k,qe=F,ze=X,Et=Ye.gb[0],Tt=Ye.Ja,vr=Ye.xa,ir=qe[0],Ct=!r(sr,ir,"VP8 "),Br=!r(sr,ir,"VP8L"),t(sr!=null),t(ze!=null),t(Tt!=null),t(vr!=null),8>ze[0])qe=7;else{if(Ct||Br){if(sr=Ee(sr,ir+4),12<=Et&&sr>Et-12){qe=3;break e}if(st&&sr>ze[0]-8){qe=7;break e}Tt[0]=sr,qe[0]+=8,ze[0]-=8,vr[0]=Br}else vr[0]=5<=ze[0]&&sr[ir+0]==47&&!(sr[ir+4]>>5),Tt[0]=ze[0];qe=0}if(X=X[0],Ye.Ja=Ye.Ja[0],Ye.xa=Ye.xa[0],F=F[0],qe!=0)break;if(4294967286<Ye.Ja)return 3;if(ye==null||_t||(ye[0]=Ye.xa?2:1),me=[me],Mt=[Mt],Ye.xa){if(5>X){qe=7;break}ye=me,st=Mt,_t=he,k==null||5>X?k=0:5<=X&&k[F+0]==47&&!(k[F+4]>>5)?(ze=[0],sr=[0],Et=[0],z(Tt=new D,k,F,X),yt(Tt,ze,sr,Et)?(ye!=null&&(ye[0]=ze[0]),st!=null&&(st[0]=sr[0]),_t!=null&&(_t[0]=Et[0]),k=1):k=0):k=0}else{if(10>X){qe=7;break}ye=Mt,k==null||10>X||!Bg(k,F+3,X-3)?k=0:(st=k[F+0]|k[F+1]<<8|k[F+2]<<16,_t=16383&(k[F+7]<<8|k[F+6]),k=16383&(k[F+9]<<8|k[F+8]),1&st||3<(st>>1&7)||!(st>>4&1)||st>>5>=Ye.Ja||!_t||!k?k=0:(me&&(me[0]=_t),ye&&(ye[0]=k),k=1))}if(!k||(me=me[0],Mt=Mt[0],it&&(ke[0]!=me||Be[0]!=Mt)))return 3;be!=null&&(be[0]=Ye,be.offset=F-be.w,t(4294967286>F-be.w),t(be.offset==be.ha-X));break}return qe==0||qe==7&&it&&be==null?(he!=null&&(he[0]|=Ye.na!=null&&0<Ye.na.length),ae!=null&&(ae[0]=me),le!=null&&(le[0]=Mt),0):qe}function Qh(k,F,X){var ae=F.width,le=F.height,he=0,me=0,ye=ae,be=le;if(F.Da=k!=null&&0<k.Da,F.Da&&(ye=k.cd,be=k.bd,he=k.v,me=k.j,11>X||(he&=-2,me&=-2),0>he||0>me||0>=ye||0>=be||he+ye>ae||me+be>le))return 0;if(F.v=he,F.j=me,F.va=he+ye,F.o=me+be,F.U=ye,F.T=be,F.da=k!=null&&0<k.da,F.da){if(!Ge(ye,be,X=[k.ib],he=[k.hb]))return 0;F.ib=X[0],F.hb=he[0]}return F.ob=k!=null&&k.ob,F.Kb=k==null||!k.Sd,F.da&&(F.ob=F.ib<3*ae/4&&F.hb<3*le/4,F.Kb=0),1}function ep(k){if(k==null)return 2;if(11>k.S){var F=k.f.RGBA;F.fb+=(k.height-1)*F.A,F.A=-F.A}else F=k.f.kb,k=k.height,F.O+=(k-1)*F.fa,F.fa=-F.fa,F.N+=(k-1>>1)*F.Ab,F.Ab=-F.Ab,F.W+=(k-1>>1)*F.Db,F.Db=-F.Db,F.F!=null&&(F.J+=(k-1)*F.lb,F.lb=-F.lb);return 0}function Rf(k,F,X,ae){if(ae==null||0>=k||0>=F)return 2;if(X!=null){if(X.Da){var le=X.cd,he=X.bd,me=-2&X.v,ye=-2&X.j;if(0>me||0>ye||0>=le||0>=he||me+le>k||ye+he>F)return 2;k=le,F=he}if(X.da){if(!Ge(k,F,le=[X.ib],he=[X.hb]))return 2;k=le[0],F=he[0]}}ae.width=k,ae.height=F;e:{var be=ae.width,ke=ae.height;if(k=ae.S,0>=be||0>=ke||!(k>=Yg&&13>k))k=2;else{if(0>=ae.Rd&&ae.sd==null){me=he=le=F=0;var Be=(ye=be*u0[k])*ke;if(11>k||(he=(ke+1)/2*(F=(be+1)/2),k==12&&(me=(le=be)*ke)),(ke=i(Be+2*he+me))==null){k=1;break e}ae.sd=ke,11>k?((be=ae.f.RGBA).eb=ke,be.fb=0,be.A=ye,be.size=Be):((be=ae.f.kb).y=ke,be.O=0,be.fa=ye,be.Fd=Be,be.f=ke,be.N=0+Be,be.Ab=F,be.Cd=he,be.ea=ke,be.W=0+Be+he,be.Db=F,be.Ed=he,k==12&&(be.F=ke,be.J=0+Be+2*he),be.Tc=me,be.lb=le)}if(F=1,le=ae.S,he=ae.width,me=ae.height,le>=Yg&&13>le)if(11>le)k=ae.f.RGBA,F&=(ye=Math.abs(k.A))*(me-1)+he<=k.size,F&=ye>=he*u0[le],F&=k.eb!=null;else{k=ae.f.kb,ye=(he+1)/2,Be=(me+1)/2,be=Math.abs(k.fa),ke=Math.abs(k.Ab);var it=Math.abs(k.Db),st=Math.abs(k.lb),Ye=st*(me-1)+he;F&=be*(me-1)+he<=k.Fd,F&=ke*(Be-1)+ye<=k.Cd,F=(F&=it*(Be-1)+ye<=k.Ed)&be>=he&ke>=ye&it>=ye,F&=k.y!=null,F&=k.f!=null,F&=k.ea!=null,le==12&&(F&=st>=he,F&=Ye<=k.Tc,F&=k.F!=null)}else F=0;k=F?0:2}}return k!=0||X!=null&&X.fd&&(k=ep(ae)),k}var oi=64,tp=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],rp=24,np=32,ap=8,Vs=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];St("Predictor0","PredictorAdd0"),M.Predictor0=function(){return 4278190080},M.Predictor1=function(k){return k},M.Predictor2=function(k,F,X){return F[X+0]},M.Predictor3=function(k,F,X){return F[X+1]},M.Predictor4=function(k,F,X){return F[X-1]},M.Predictor5=function(k,F,X){return _e(_e(k,F[X+1]),F[X+0])},M.Predictor6=function(k,F,X){return _e(k,F[X-1])},M.Predictor7=function(k,F,X){return _e(k,F[X+0])},M.Predictor8=function(k,F,X){return _e(F[X-1],F[X+0])},M.Predictor9=function(k,F,X){return _e(F[X+0],F[X+1])},M.Predictor10=function(k,F,X){return _e(_e(k,F[X-1]),_e(F[X+0],F[X+1]))},M.Predictor11=function(k,F,X){var ae=F[X+0];return 0>=Je(ae>>24&255,k>>24&255,(F=F[X-1])>>24&255)+Je(ae>>16&255,k>>16&255,F>>16&255)+Je(ae>>8&255,k>>8&255,F>>8&255)+Je(255&ae,255&k,255&F)?ae:k},M.Predictor12=function(k,F,X){var ae=F[X+0];return(ge((k>>24&255)+(ae>>24&255)-((F=F[X-1])>>24&255))<<24|ge((k>>16&255)+(ae>>16&255)-(F>>16&255))<<16|ge((k>>8&255)+(ae>>8&255)-(F>>8&255))<<8|ge((255&k)+(255&ae)-(255&F)))>>>0},M.Predictor13=function(k,F,X){var ae=F[X-1];return(Ce((k=_e(k,F[X+0]))>>24&255,ae>>24&255)<<24|Ce(k>>16&255,ae>>16&255)<<16|Ce(k>>8&255,ae>>8&255)<<8|Ce(k>>0&255,ae>>0&255))>>>0};var Mf=M.PredictorAdd0;M.PredictorAdd1=Qe,St("Predictor2","PredictorAdd2"),St("Predictor3","PredictorAdd3"),St("Predictor4","PredictorAdd4"),St("Predictor5","PredictorAdd5"),St("Predictor6","PredictorAdd6"),St("Predictor7","PredictorAdd7"),St("Predictor8","PredictorAdd8"),St("Predictor9","PredictorAdd9"),St("Predictor10","PredictorAdd10"),St("Predictor11","PredictorAdd11"),St("Predictor12","PredictorAdd12"),St("Predictor13","PredictorAdd13");var fu=M.PredictorAdd2;Nt("ColorIndexInverseTransform","MapARGB","32b",function(k){return k>>8&255},function(k){return k}),Nt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(k){return k},function(k){return k>>8&255});var Gg,Hs=M.ColorIndexInverseTransform,ip=M.MapARGB,e0=M.VP8LColorIndexInverseTransformAlpha,sp=M.MapAlpha,Dc=M.VP8LPredictorsAdd=[];Dc.length=16,(M.VP8LPredictors=[]).length=16,(M.VP8LPredictorsAdd_C=[]).length=16,(M.VP8LPredictors_C=[]).length=16;var Cd,Gs,ks,Pd,hu,pu,op,mu,Kn,gu,Es,Xo,Ff,t0,Lf,jf,$f,Jo,vu,Ic,yu,xu,Td,ps,mo,Na,ua,li,Ni=i(511),Rc=i(2041),lp=i(225),Bf=i(767),r0=0,Mc=Rc,cp=lp,Ys=Bf,wl=Ni,Yg=0,Od=1,Sb=2,n0=3,a0=4,Aa=5,Kg=6,up=7,Uf=8,i0=9,s0=10,o0=[2,3,7],Xg=[3,3,11],qf=[280,256,256,256,40],Nb=[0,1,1,1,0],yA=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],xA=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Ab=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Jg=8,dp=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],l0=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],zf=null,$y=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],By=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],kb=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Eb=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],wA=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],bA=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Uy=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ks=[],bl=[],go=[],Fc=1,fp=2,Cs=[],vo=[];kt("UpsampleRgbLinePair",In,3),kt("UpsampleBgrLinePair",Ya,3),kt("UpsampleRgbaLinePair",Jl,4),kt("UpsampleBgraLinePair",ns,4),kt("UpsampleArgbLinePair",As,4),kt("UpsampleRgba4444LinePair",Si,2),kt("UpsampleRgb565LinePair",si,2);var _A=M.UpsampleRgbLinePair,SA=M.UpsampleBgrLinePair,Dd=M.UpsampleRgbaLinePair,hp=M.UpsampleBgraLinePair,Wf=M.UpsampleArgbLinePair,c0=M.UpsampleRgba4444LinePair,qy=M.UpsampleRgb565LinePair,wu=16,Zl=1<<wu-1,da=-227,va=482,Id=6,ms=0,yo=i(256),Vf=i(256),pp=i(256),xo=i(256),Zg=i(va-da),Cb=i(va-da);xl("YuvToRgbRow",In,3),xl("YuvToBgrRow",Ya,3),xl("YuvToRgbaRow",Jl,4),xl("YuvToBgraRow",ns,4),xl("YuvToArgbRow",As,4),xl("YuvToRgba4444Row",Si,2),xl("YuvToRgb565Row",si,2);var zy=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Hf=[0,2,8],Pb=[8,7,6,4,4,2,2,2,1,1,1,1],bu=1;this.WebPDecodeRGBA=function(k,F,X,ae,le){var he=Od,me=new Oc,ye=new Er;me.ba=ye,ye.S=he,ye.width=[ye.width],ye.height=[ye.height];var be=ye.width,ke=ye.height,Be=new hn;if(Be==null||k==null)var it=2;else t(Be!=null),it=If(k,F,X,Be.width,Be.height,Be.Pd,Be.Qd,Be.format,null);if(it!=0?be=0:(be!=null&&(be[0]=Be.width[0]),ke!=null&&(ke[0]=Be.height[0]),be=1),be){ye.width=ye.width[0],ye.height=ye.height[0],ae!=null&&(ae[0]=ye.width),le!=null&&(le[0]=ye.height);e:{if(ae=new kc,(le=new Ad).data=k,le.w=F,le.ha=X,le.kd=1,F=[0],t(le!=null),((k=If(le.data,le.w,le.ha,null,null,null,F,null,le))==0||k==7)&&F[0]&&(k=4),(F=k)==0){if(t(me!=null),ae.data=le.data,ae.w=le.w+le.offset,ae.ha=le.ha-le.offset,ae.put=Wa,ae.ac=la,ae.bc=lt,ae.ma=me,le.xa){if((k=ft())==null){me=1;break e}if(function(st,Ye){var Mt=[0],_t=[0],qe=[0];t:for(;;){if(st==null)return 0;if(Ye==null)return st.a=2,0;if(st.l=Ye,st.a=0,z(st.m,Ye.data,Ye.w,Ye.ha),!yt(st.m,Mt,_t,qe)){st.a=3;break t}if(st.xb=fp,Ye.width=Mt[0],Ye.height=_t[0],!rt(Mt[0],_t[0],1,st,null))break t;return 1}return t(st.a!=0),0}(k,ae)){if(ae=(F=Rf(ae.width,ae.height,me.Oa,me.ba))==0){t:{ae=k;r:for(;;){if(ae==null){ae=0;break t}if(t(ae.s.yc!=null),t(ae.s.Ya!=null),t(0<ae.s.Wb),t((X=ae.l)!=null),t((le=X.ma)!=null),ae.xb!=0){if(ae.ca=le.ba,ae.tb=le.tb,t(ae.ca!=null),!Qh(le.Oa,X,n0)){ae.a=2;break r}if(!ot(ae,X.width)||X.da)break r;if((X.da||gr(ae.ca.S))&&nt(),11>ae.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),ae.ca.f.kb.F!=null&&nt()),ae.Pb&&0<ae.s.ua&&ae.s.vb.X==null&&!Fe(ae.s.vb,ae.s.Wa.Xa)){ae.a=1;break r}ae.xb=0}if(!Ne(ae,ae.V,ae.Ba,ae.c,ae.i,X.o,we))break r;le.Dc=ae.Ma,ae=1;break t}t(ae.a!=0),ae=0}ae=!ae}ae&&(F=k.a)}else F=k.a}else{if((k=new Ha)==null){me=1;break e}if(k.Fa=le.na,k.P=le.P,k.qc=le.Sa,Ug(k,ae)){if((F=Rf(ae.width,ae.height,me.Oa,me.ba))==0){if(k.Aa=0,X=me.Oa,t((le=k)!=null),X!=null){if(0<(be=0>(be=X.Md)?0:100<be?255:255*be/100)){for(ke=Be=0;4>ke;++ke)12>(it=le.pb[ke]).lc&&(it.ia=be*Pb[0>it.lc?0:it.lc]>>3),Be|=it.ia;Be&&(alert("todo:VP8InitRandom"),le.ia=1)}le.Ga=X.Id,100<le.Ga?le.Ga=100:0>le.Ga&&(le.Ga=0)}Nf(k,ae)||(F=k.a)}}else F=k.a}F==0&&me.Oa!=null&&me.Oa.fd&&(F=ep(me.ba))}me=F}he=me!=0?null:11>he?ye.f.RGBA.eb:ye.f.kb.y}else he=null;return he};var u0=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(M,L){for(var j="",T=0;T<4;T++)j+=String.fromCharCode(M[L++]);return j}function d(M,L){return(M[L+0]<<0|M[L+1]<<8|M[L+2]<<16)>>>0}function f(M,L){return(M[L+0]<<0|M[L+1]<<8|M[L+2]<<16|M[L+3]<<24)>>>0}new c;var h=[0],m=[0],w=[],g=new c,y=e,b=function(M,L){var j={},T=0,I=!1,B=0,G=0;if(j.frames=[],!function(K,J,ne,ie){for(var oe=0;oe<ie;oe++)if(K[J+oe]!=ne.charCodeAt(oe))return!0;return!1}(M,L,"RIFF",4)){for(f(M,L+=4),L+=8;L<M.length;){var Z=u(M,L),re=f(M,L+=4);L+=4;var W=re+(1&re);switch(Z){case"VP8 ":case"VP8L":j.frames[T]===void 0&&(j.frames[T]={}),(Y=j.frames[T]).src_off=I?G:L-8,Y.src_size=B+re+8,T++,I&&(I=!1,B=0,G=0);break;case"VP8X":(Y=j.header={}).feature_flags=M[L];var z=L+4;Y.canvas_width=1+d(M,z),z+=3,Y.canvas_height=1+d(M,z),z+=3;break;case"ALPH":I=!0,B=W+8,G=L-8;break;case"ANIM":(Y=j.header).bgcolor=f(M,L),z=L+4,Y.loop_count=(Q=M)[(D=z)+0]<<0|Q[D+1]<<8,z+=2;break;case"ANMF":var U,Y;(Y=j.frames[T]={}).offset_x=2*d(M,L),L+=3,Y.offset_y=2*d(M,L),L+=3,Y.width=1+d(M,L),L+=3,Y.height=1+d(M,L),L+=3,Y.duration=d(M,L),L+=3,U=M[L++],Y.dispose=1&U,Y.blend=U>>1&1}Z!="ANMF"&&(L+=W)}var Q,D;return j}}(y,0);b.response=y,b.rgbaoutput=!0,b.dataurl=!1;var _=b.header?b.header:null,N=b.frames?b.frames:null;if(_){_.loop_counter=_.loop_count,h=[_.canvas_height],m=[_.canvas_width];for(var E=0;E<N.length&&N[E].blend!=0;E++);}var C=N[0],O=g.WebPDecodeRGBA(y,C.src_off,C.src_size,m,h);C.rgba=O,C.imgwidth=m[0],C.imgheight=h[0];for(var P=0;P<m[0]*h[0]*4;P++)w[P]=O[P];return this.width=m,this.height=h,this.data=w,this}(function(e){var t=function(){return typeof xO=="function"},r=function(h,m,w,g){var y=4,b=s;switch(g){case e.image_compression.FAST:y=1,b=i;break;case e.image_compression.MEDIUM:y=6,b=o;break;case e.image_compression.SLOW:y=9,b=c}h=n(h,m,w,b);var _=xO(h,{level:y});return e.__addimage__.arrayBufferToBinaryString(_)},n=function(h,m,w,g){for(var y,b,_,N=h.length/m,E=new Uint8Array(h.length+N),C=d(),O=0;O<N;O+=1){if(_=O*m,y=h.subarray(_,_+m),g)E.set(g(y,w,b),_+O);else{for(var P,M=C.length,L=[];P<M;P+=1)L[P]=C[P](y,w,b);var j=f(L.concat());E.set(L[j],_+O)}b=y}return E},a=function(h){var m=Array.apply([],h);return m.unshift(0),m},i=function(h,m){var w,g=[],y=h.length;g[0]=1;for(var b=0;b<y;b+=1)w=h[b-m]||0,g[b+1]=h[b]-w+256&255;return g},s=function(h,m,w){var g,y=[],b=h.length;y[0]=2;for(var _=0;_<b;_+=1)g=w&&w[_]||0,y[_+1]=h[_]-g+256&255;return y},o=function(h,m,w){var g,y,b=[],_=h.length;b[0]=3;for(var N=0;N<_;N+=1)g=h[N-m]||0,y=w&&w[N]||0,b[N+1]=h[N]+256-(g+y>>>1)&255;return b},c=function(h,m,w){var g,y,b,_,N=[],E=h.length;N[0]=4;for(var C=0;C<E;C+=1)g=h[C-m]||0,y=w&&w[C]||0,b=w&&w[C-m]||0,_=u(g,y,b),N[C+1]=h[C]-_+256&255;return N},u=function(h,m,w){if(h===m&&m===w)return h;var g=Math.abs(m-w),y=Math.abs(h-w),b=Math.abs(h+m-w-w);return g<=y&&g<=b?h:y<=b?m:w},d=function(){return[a,i,s,o,c]},f=function(h){var m=h.map(function(w){return w.reduce(function(g,y){return g+Math.abs(y)},0)});return m.indexOf(Math.min.apply(null,m))};e.processPNG=function(h,m,w,g){var y,b,_,N,E,C,O,P,M,L,j,T,I,B,G,Z=this.decode.FLATE_DECODE,re="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(_=new JRe(h)).imgData,b=_.bits,y=_.colorSpace,E=_.colors,[4,6].indexOf(_.colorType)!==-1){if(_.bits===8){M=(P=_.pixelBitlength==32?new Uint32Array(_.decodePixels().buffer):_.pixelBitlength==16?new Uint16Array(_.decodePixels().buffer):new Uint8Array(_.decodePixels().buffer)).length,j=new Uint8Array(M*_.colors),L=new Uint8Array(M);var W,z=_.pixelBitlength-_.bits;for(B=0,G=0;B<M;B++){for(I=P[B],W=0;W<z;)j[G++]=I>>>W&255,W+=_.bits;L[B]=I>>>W&255}}if(_.bits===16){M=(P=new Uint32Array(_.decodePixels().buffer)).length,j=new Uint8Array(M*(32/_.pixelBitlength)*_.colors),L=new Uint8Array(M*(32/_.pixelBitlength)),T=_.colors>1,B=0,G=0;for(var U=0;B<M;)I=P[B++],j[G++]=I>>>0&255,T&&(j[G++]=I>>>16&255,I=P[B++],j[G++]=I>>>0&255),L[U++]=I>>>16&255;b=8}g!==e.image_compression.NONE&&t()?(h=r(j,_.width*_.colors,_.colors,g),O=r(L,_.width,1,g)):(h=j,O=L,Z=void 0)}if(_.colorType===3&&(y=this.color_spaces.INDEXED,C=_.palette,_.transparency.indexed)){var Y=_.transparency.indexed,Q=0;for(B=0,M=Y.length;B<M;++B)Q+=Y[B];if((Q/=255)===M-1&&Y.indexOf(0)!==-1)N=[Y.indexOf(0)];else if(Q!==M){for(P=_.decodePixels(),L=new Uint8Array(P.length),B=0,M=P.length;B<M;B++)L[B]=Y[P[B]];O=r(L,_.width,1)}}var D=function(K){var J;switch(K){case e.image_compression.FAST:J=11;break;case e.image_compression.MEDIUM:J=13;break;case e.image_compression.SLOW:J=14;break;default:J=12}return J}(g);return Z===this.decode.FLATE_DECODE&&(re="/Predictor "+D+" "),re+="/Colors "+E+" /BitsPerComponent "+b+" /Columns "+_.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(O&&this.__addimage__.isArrayBuffer(O)||this.__addimage__.isArrayBufferView(O))&&(O=this.__addimage__.arrayBufferToBinaryString(O)),{alias:w,data:h,index:m,filter:Z,decodeParameters:re,transparency:N,palette:C,sMask:O,predictor:D,width:_.width,height:_.height,bitsPerComponent:b,colorSpace:y}}}})(Hr.API),function(e){e.processGIF89A=function(t,r,n,a){var i=new ZRe(t),s=i.width,o=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:s,height:o},d=new oT(100).encode(u,100);return e.processJPEG.call(this,d,r,n,a)},e.processGIF87A=e.processGIF89A}(Hr.API),Ru.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ru.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Ra.log("bit decode error:"+r)}},Ru.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*a*4,o=0;o<8&&8*a+o<this.width;o++){var c=this.palette[i>>7-o&1];this.data[s+4*o]=c.blue,this.data[s+4*o+1]=c.green,this.data[s+4*o+2]=c.red,this.data[s+4*o+3]=255}r!==0&&(this.pos+=4-r)}},Ru.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*a*4,o=i>>4,c=15&i,u=this.palette[o];if(this.data[s]=u.blue,this.data[s+1]=u.green,this.data[s+2]=u.red,this.data[s+3]=255,2*a+1>=this.width)break;u=this.palette[c],this.data[s+4]=u.blue,this.data[s+4+1]=u.green,this.data[s+4+2]=u.red,this.data[s+4+3]=255}t!==0&&(this.pos+=4-t)}},Ru.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var s=this.palette[a];this.data[i]=s.red,this.data[i+1]=s.green,this.data[i+2]=s.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},Ru.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(i&t)/t*255|0,o=(i>>5&t)/t*255|0,c=(i>>10&t)/t*255|0,u=i>>15?255:0,d=n*this.width*4+4*a;this.data[d]=c,this.data[d+1]=o,this.data[d+2]=s,this.data[d+3]=u}this.pos+=e}},Ru.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,c=(s>>5&r)/r*255|0,u=(s>>11)/t*255|0,d=a*this.width*4+4*i;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=o,this.data[d+3]=255}this.pos+=e}},Ru.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;this.data[s]=i,this.data[s+1]=a,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},Ru.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=s}},Ru.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,a){var i=new Ru(t,!1),s=i.width,o=i.height,c={data:i.getData(),width:s,height:o},u=new oT(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)}}(Hr.API),dW.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,a){var i=new dW(t),s=i.width,o=i.height,c={data:i.getData(),width:s,height:o},u=new oT(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)}}(Hr.API),Hr.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,i=new Uint8Array(a/4*3),s=new Uint8Array(a/4),o=0,c=0,u=0;u<a;u+=4){var d=n[u],f=n[u+1],h=n[u+2],m=n[u+3];i[o++]=d,i[o++]=f,i[o++]=h,s[c++]=m}var w=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:w,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Hr.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Iv=Hr.API,L_=Iv.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:a.metadata.Unicode.widths,c=o.fof?o.fof:1,u=t.kerning?t.kerning:a.metadata.Unicode.kerning,d=u.fof?u.fof:1,f=t.doKerning!==!1,h=0,m=e.length,w=0,g=o[0]||c,y=[];for(r=0;r<m;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?y.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+s*(1e3/i)||0)/1e3):(h=f&&Ca(u[n])==="object"&&!isNaN(parseInt(u[n][w],10))?u[n][w]/d:0,y.push((o[n]||g)/c+h)),w=n;return y},oW=Iv.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return Iv.processArabic&&(e=Iv.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:L_.apply(this,arguments).reduce(function(i,s){return i+s},0)},lW=function(e,t,r,n){for(var a=[],i=0,s=e.length,o=0;i!==s&&o+t[i]<r;)o+=t[i],i++;a.push(e.slice(0,i));var c=i;for(o=0;i!==s;)o+t[i]>n&&(a.push(e.slice(c,i)),o=0,c=i),o+=t[i],i++;return c!==i&&a.push(e.slice(c,i)),a},cW=function(e,t,r){r||(r={});var n,a,i,s,o,c,u,d=[],f=[d],h=r.textIndent||0,m=0,w=0,g=e.split(" "),y=L_.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?g[0].length+2:r.lineIndent||0){var b=Array(c).join(" "),_=[];g.map(function(E){(E=E.split(/\s*\n/)).length>1?_=_.concat(E.map(function(C,O){return(O&&C.length?`
`:"")+C})):_.push(E[0])}),g=_,c=oW.apply(this,[b,r])}for(i=0,s=g.length;i<s;i++){var N=0;if(n=g[i],c&&n[0]==`
`&&(n=n.substr(1),N=1),h+m+(w=(a=L_.apply(this,[n,r])).reduce(function(E,C){return E+C},0))>t||N){if(w>t){for(o=lW.apply(this,[n,a,t-(h+m),t]),d.push(o.shift()),d=[o.pop()];o.length;)f.push([o.shift()]);w=a.slice(n.length-(d[0]?d[0].length:0)).reduce(function(E,C){return E+C},0)}else d=[n];f.push(d),h=w+c,m=y}else d.push(n),h+=m+w,m=y}return u=c?function(E,C){return(C?b:"")+E.join(" ")}:function(E){return E.join(" ")},f.map(u)},Iv.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var o,c,u=[];for(o=0,c=n.length;o<c;o++)u=u.concat(cW.apply(this,[n[o],s,i]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},a=0;a<t.length;a++)r[t[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=t[a];var i=function(f){return"0x"+parseInt(f,10).toString(16)},s=e.__fontmetrics__.compress=function(f){var h,m,w,g,y=["{"];for(var b in f){if(h=f[b],isNaN(parseInt(b,10))?m="'"+b+"'":(b=parseInt(b,10),m=(m=i(b).slice(2)).slice(0,-1)+n[m.slice(-1)]),typeof h=="number")h<0?(w=i(h).slice(3),g="-"):(w=i(h).slice(2),g=""),w=g+w.slice(0,-1)+n[w.slice(-1)];else{if(Ca(h)!=="object")throw new Error("Don't know what to do with value type "+Ca(h)+".");w=s(h)}y.push(m+w)}return y.push("}"),y.join("")},o=e.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,m,w,g,y={},b=1,_=y,N=[],E="",C="",O=f.length-1,P=1;P<O;P+=1)(g=f[P])=="'"?h?(w=h.join(""),h=void 0):h=[]:h?h.push(g):g=="{"?(N.push([_,w]),_={},w=void 0):g=="}"?((m=N.pop())[0][m[1]]=_,w=void 0,_=m[0]):g=="-"?b=-1:w===void 0?r.hasOwnProperty(g)?(E+=r[g],w=parseInt(E,16)*b,b=1,E=""):E+=g:r.hasOwnProperty(g)?(C+=r[g],_[w]=parseInt(C,16)*b,b=1,w=void 0,C=""):C+=g;return y},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},d={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(f){var h=f.font,m=d.Unicode[h.postScriptName];m&&(h.metadata.Unicode={},h.metadata.Unicode.widths=m.widths,h.metadata.Unicode.kerning=m.kerning);var w=u.Unicode[h.postScriptName];w&&(h.metadata.Unicode.encoding=w,h.encoding=w.codePages[0])}])}(Hr.API),function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(tx(o)),s.metadata=e.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(a,n)}}])}(Hr),function(e){function t(){return(nn.canvg?Promise.resolve(nn.canvg):nd(()=>import("./index.es-9Qudih8k.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}Hr.API.addSvgAsImage=function(r,n,a,i,s,o,c,u){if(isNaN(n)||isNaN(a))throw Ra.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(s))throw Ra.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=i,d.height=s;var f=d.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,d.width,d.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return t().then(function(w){return w.fromString(f,r,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(w){return w.render(h)}).then(function(){m.addImage(d.toDataURL("image/jpeg",1),n,a,i,s,c,u)})}}(),Hr.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},Hr.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,i,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),c=[],u=0,d=0,f=0;function h(w,g){var y,b=!1;for(y=0;y<w.length;y+=1)w[y]===g&&(b=!0);return b}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var m=o.length;for(f=0;f<m;f+=1)r[o[f]].value=r[o[f]].defaultValue,r[o[f]].explicitSet=!1}if(Ca(e)==="object"){for(a in e)if(i=e[a],h(o,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&h(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(u=0;u<i.length;u+=1)if(n=!0,i[u].length===1&&typeof i[u][0]=="number")c.push(String(i[u]-1));else if(i[u].length>1){for(d=0;d<i[u].length;d+=1)typeof i[u][d]!="number"&&(n=!1);n===!0&&c.push([i[u][0]-1,i[u][1]-1].join(" "))}r[a].value="["+c.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var w,g=[];for(w in r)r[w].explicitSet===!0&&(r[w].type==="name"?g.push("/"+w+" /"+r[w].value):g.push("/"+w+" "+r[w].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+s.length+o.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(a+i+s+o+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(Hr.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,s){for(var o,c=s.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],f=0,h=i.length;f<h;++f){if(o=s.metadata.characterToGlyph(i.charCodeAt(f)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=i.charCodeAt(f),c.indexOf(o)==-1&&(c.push(o),c.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return d.join("");o=o.toString(16),d.push(u[4-o.length],o)}return d.join("")},n=function(i){var s,o,c,u,d,f,h;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],f=0,h=(o=Object.keys(i).sort(function(m,w){return m-w})).length;f<h;f++)s=o[f],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[s]!==void 0&&i[s]!==null&&typeof i[s].toString=="function"&&(u=("0000"+i[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),c.push("<"+s+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(s){var o=s.font,c=s.out,u=s.newObject,d=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,h=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),m="",w=0;w<h.length;w++)m+=String.fromCharCode(h[w]);var g=u();d({data:m,addLength1:!0,objectId:g}),c("endobj");var y=u();d({data:n(o.metadata.toUnicode),addLength1:!0,objectId:y}),c("endobj");var b=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Bv(o.fontName)),c("/FontFile2 "+g+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),c("/Flags "+o.metadata.flags),c("/StemV "+o.metadata.stemV),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c(">>"),c("endobj");var _=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+Bv(o.fontName)),c("/FontDescriptor "+b+" 0 R"),c("/W "+e.API.PDFObject.convert(f)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+o.encoding+")"),c(">>"),c(">>"),c("endobj"),o.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+y+" 0 R"),c("/BaseFont /"+Bv(o.fontName)),c("/Encoding /"+o.encoding),c("/DescendantFonts ["+_+" 0 R]"),c(">>"),c("endobj"),o.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(s){var o=s.font,c=s.out,u=s.newObject,d=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,h="",m=0;m<f.length;m++)h+=String.fromCharCode(f[m]);var w=u();d({data:h,addLength1:!0,objectId:w}),c("endobj");var g=u();d({data:n(o.metadata.toUnicode),addLength1:!0,objectId:g}),c("endobj");var y=u();c("<<"),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c("/StemV "+o.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+w+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),c("/FontName /"+Bv(o.fontName)),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c(">>"),c("endobj"),o.objectNumber=u();for(var b=0;b<o.metadata.hmtx.widths.length;b++)o.metadata.hmtx.widths[b]=parseInt(o.metadata.hmtx.widths[b]*(1e3/o.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+Bv(o.fontName)+"/FontDescriptor "+y+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),c("endobj"),o.isAlreadyPutted=!0}})(i)}]);var a=function(i){var s,o=i.text||"",c=i.x,u=i.y,d=i.options||{},f=i.mutex||{},h=f.pdfEscape,m=f.activeFontKey,w=f.fonts,g=m,y="",b=0,_="",N=w[g].encoding;if(w[g].encoding!=="Identity-H")return{text:o,x:c,y:u,options:d,mutex:f};for(_=o,g=m,Array.isArray(o)&&(_=o[0]),b=0;b<_.length;b+=1)w[g].metadata.hasOwnProperty("cmap")&&(s=w[g].metadata.cmap.unicode.codeMap[_[b].charCodeAt(0)]),s||_[b].charCodeAt(0)<256&&w[g].metadata.hasOwnProperty("Unicode")?y+=_[b]:y+="";var E="";return parseInt(g.slice(1))<14||N==="WinAnsiEncoding"?E=h(y,g).split("").map(function(C){return C.charCodeAt(0).toString(16)}).join(""):N==="Identity-H"&&(E=r(y,w[g])),f.isHex=!0,{text:E,x:c,y:u,options:d,mutex:f}};t.events.push(["postProcessText",function(i){var s=i.text||"",o=[],c={text:s,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(s)){var u=0;for(u=0;u<s.length;u+=1)Array.isArray(s[u])&&s[u].length===3?o.push([a(Object.assign({},c,{text:s[u][0]})).text,s[u][1],s[u][2]]):o.push(a(Object.assign({},c,{text:s[u]})).text);i.text=o}else i.text=a(Object.assign({},c,{text:s})).text}])}(Hr),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Hr.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,i,s,o,c,u,d,f=t,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],w={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},y=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],b=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),_=!1,N=0;this.__bidiEngine__={};var E=function(T){var I=T.charCodeAt(),B=I>>8,G=g[B];return G!==void 0?f[256*G+(255&I)]:B===252||B===253?"AL":b.test(B)?"L":B===8?"R":"N"},C=function(T){for(var I,B=0;B<T.length;B++){if((I=E(T.charAt(B)))==="L")return!1;if(I==="R")return!0}return!1},O=function(T,I,B,G){var Z,re,W,z,U=I[G];switch(U){case"L":case"R":_=!1;break;case"N":case"AN":break;case"EN":_&&(U="AN");break;case"AL":_=!0,U="R";break;case"WS":U="N";break;case"CS":G<1||G+1>=I.length||(Z=B[G-1])!=="EN"&&Z!=="AN"||(re=I[G+1])!=="EN"&&re!=="AN"?U="N":_&&(re="AN"),U=re===Z?re:"N";break;case"ES":U=(Z=G>0?B[G-1]:"B")==="EN"&&G+1<I.length&&I[G+1]==="EN"?"EN":"N";break;case"ET":if(G>0&&B[G-1]==="EN"){U="EN";break}if(_){U="N";break}for(W=G+1,z=I.length;W<z&&I[W]==="ET";)W++;U=W<z&&I[W]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(z=I.length,W=G+1;W<z&&I[W]==="NSM";)W++;if(W<z){var Y=T[G],Q=Y>=1425&&Y<=2303||Y===64286;if(Z=I[W],Q&&(Z==="R"||Z==="AL")){U="R";break}}}U=G<1||(Z=I[G-1])==="B"?"N":B[G-1];break;case"B":_=!1,a=!0,U=N;break;case"S":i=!0,U="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":_=!1;break;case"BN":U="N"}return U},P=function(T,I,B){var G=T.split("");return B&&M(G,B,{hiLevel:N}),G.reverse(),I&&I.reverse(),G.join("")},M=function(T,I,B){var G,Z,re,W,z,U=-1,Y=T.length,Q=0,D=[],K=N?m:h,J=[];for(_=!1,a=!1,i=!1,Z=0;Z<Y;Z++)J[Z]=E(T[Z]);for(re=0;re<Y;re++){if(z=Q,D[re]=O(T,J,D,re),G=240&(Q=K[z][w[D[re]]]),Q&=15,I[re]=W=K[Q][5],G>0)if(G===16){for(Z=U;Z<re;Z++)I[Z]=1;U=-1}else U=-1;if(K[Q][6])U===-1&&(U=re);else if(U>-1){for(Z=U;Z<re;Z++)I[Z]=W;U=-1}J[re]==="B"&&(I[re]=0),B.hiLevel|=W}i&&function(ne,ie,oe){for(var ue=0;ue<oe;ue++)if(ne[ue]==="S"){ie[ue]=N;for(var V=ue-1;V>=0&&ne[V]==="WS";V--)ie[V]=N}}(J,I,Y)},L=function(T,I,B,G,Z){if(!(Z.hiLevel<T)){if(T===1&&N===1&&!a)return I.reverse(),void(B&&B.reverse());for(var re,W,z,U,Y=I.length,Q=0;Q<Y;){if(G[Q]>=T){for(z=Q+1;z<Y&&G[z]>=T;)z++;for(U=Q,W=z-1;U<W;U++,W--)re=I[U],I[U]=I[W],I[W]=re,B&&(re=B[U],B[U]=B[W],B[W]=re);Q=z}Q++}}},j=function(T,I,B){var G=T.split(""),Z={hiLevel:N};return B||(B=[]),M(G,B,Z),function(re,W,z){if(z.hiLevel!==0&&d)for(var U,Y=0;Y<re.length;Y++)W[Y]===1&&(U=y.indexOf(re[Y]))>=0&&(re[Y]=y[U+1])}(G,B,Z),L(2,G,I,B,Z),L(1,G,I,B,Z),G.join("")};return this.__bidiEngine__.doBidiReorder=function(T,I,B){if(function(Z,re){if(re)for(var W=0;W<Z.length;W++)re[W]=W;o===void 0&&(o=C(Z)),u===void 0&&(u=C(Z))}(T,I),s||!c||u)if(s&&c&&o^u)N=o?1:0,T=P(T,I,B);else if(!s&&c&&u)N=o?1:0,T=j(T,I,B),T=P(T,I);else if(!s||o||c||u){if(s&&!c&&o^u)T=P(T,I),o?(N=0,T=j(T,I,B)):(N=1,T=j(T,I,B),T=P(T,I));else if(s&&o&&!c&&u)N=1,T=j(T,I,B),T=P(T,I);else if(!s&&!c&&o^u){var G=d;o?(N=1,T=j(T,I,B),N=0,d=!1,T=j(T,I,B),d=G):(N=0,T=j(T,I,B),T=P(T,I),N=1,d=!1,T=j(T,I,B),d=G,T=P(T,I))}}else N=0,T=j(T,I,B);else N=o?1:0,T=j(T,I,B);return T},this.__bidiEngine__.setOptions=function(T){T&&(s=T.isInputVisual,c=T.isOutputVisual,o=T.isInputRtl,u=T.isOutputRtl,d=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var s=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var o=0;for(s=[],o=0;o<a.length;o+=1)Object.prototype.toString.call(a[o])==="[object Array]"?s.push([r.doBidiReorder(a[o][0]),a[o][1],a[o][2]]):s.push([r.doBidiReorder(a[o])]);n.text=s}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(Hr),Hr.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new wm(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new hMe(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new QRe(this.contents),this.head=new tMe(this),this.name=new sMe(this),this.cmap=new vne(this),this.toUnicode={},this.hhea=new rMe(this),this.maxp=new oMe(this),this.hmtx=new lMe(this),this.post=new aMe(this),this.os2=new nMe(this),this.loca=new fMe(this),this.glyf=new cMe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,c,u;for(u=[],s=0,o=(c=this.bbox).length;s<o;s++)t=c[s],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),(32768&(r=a>>16))!=0&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,i,s,o;for(s=0,i=0,o=(t=""+t).length;0<=o?i<o:i>o;i=0<=o?++i:--i)a=t.charCodeAt(i),s+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return s*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var vd,wm=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,i,s,o,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^s)+256*(255^o)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*s+256*o+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,i;for(i=[],n=0,a=t.length;n<a;n++)r=t[n],i.push(this.writeByte(r));return i},e}(),QRe=function(){var e;function t(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,i,s,o,c,u,d,f,h,m,w,g;for(g in m=Object.keys(r).length,c=Math.log(2),f=16*Math.floor(Math.log(m)/c),s=Math.floor(f/c),d=16*m-f,(a=new wm).writeInt(this.scalarType),a.writeShort(m),a.writeShort(f),a.writeShort(s),a.writeShort(d),i=16*m,u=a.pos+i,o=null,w=[],r)for(h=r[g],a.writeString(g),a.writeInt(e(h)),a.writeInt(u),a.writeInt(h.length),w=w.concat(h),g==="head"&&(o=u),u+=h.length;u%4;)w.push(0),u++;return a.write(w),n=2981146554-e(a.data),a.pos=o+8,a.writeUInt32(n),a.data},e=function(r){var n,a,i,s;for(r=yne.call(r);r.length%4;)r.push(0);for(i=new wm(r),a=0,n=0,s=r.length;n<s;n=n+=4)a+=i.readUInt32();return 4294967295&a},t}(),eMe={}.hasOwnProperty,wf=function(e,t){for(var r in t)eMe.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};vd=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var tMe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return wf(t,vd),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new wm).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),fW=function(){function e(t,r){var n,a,i,s,o,c,u,d,f,h,m,w,g,y,b,_,N;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(m=t.readUInt16(),h=m/2,t.pos+=6,i=function(){var E,C;for(C=[],c=E=0;0<=h?E<h:E>h;c=0<=h?++E:--E)C.push(t.readUInt16());return C}(),t.pos+=2,g=function(){var E,C;for(C=[],c=E=0;0<=h?E<h:E>h;c=0<=h?++E:--E)C.push(t.readUInt16());return C}(),u=function(){var E,C;for(C=[],c=E=0;0<=h?E<h:E>h;c=0<=h?++E:--E)C.push(t.readUInt16());return C}(),d=function(){var E,C;for(C=[],c=E=0;0<=h?E<h:E>h;c=0<=h?++E:--E)C.push(t.readUInt16());return C}(),a=(this.length-t.pos+this.offset)/2,o=function(){var E,C;for(C=[],c=E=0;0<=a?E<a:E>a;c=0<=a?++E:--E)C.push(t.readUInt16());return C}(),c=b=0,N=i.length;b<N;c=++b)for(y=i[c],n=_=w=g[c];w<=y?_<=y:_>=y;n=w<=y?++_:--_)d[c]===0?s=n+u[c]:(s=o[d[c]/2+(n-w)-(h-c)]||0)!==0&&(s+=u[c]),this.codeMap[n]=65535&s}t.pos=f}return e.encode=function(t,r){var n,a,i,s,o,c,u,d,f,h,m,w,g,y,b,_,N,E,C,O,P,M,L,j,T,I,B,G,Z,re,W,z,U,Y,Q,D,K,J,ne,ie,oe,ue,V,se,fe,te;switch(G=new wm,s=Object.keys(t).sort(function(Ee,Fe){return Ee-Fe}),r){case"macroman":for(g=0,y=function(){var Ee=[];for(w=0;w<256;++w)Ee.push(0);return Ee}(),_={0:0},i={},Z=0,U=s.length;Z<U;Z++)_[V=t[a=s[Z]]]==null&&(_[V]=++g),i[a]={old:t[a],new:_[t[a]]},y[a]=_[t[a]];return G.writeUInt16(1),G.writeUInt16(0),G.writeUInt32(12),G.writeUInt16(0),G.writeUInt16(262),G.writeUInt16(0),G.write(y),{charMap:i,subtable:G.data,maxGlyphID:g+1};case"unicode":for(I=[],f=[],N=0,_={},n={},b=u=null,re=0,Y=s.length;re<Y;re++)_[C=t[a=s[re]]]==null&&(_[C]=++N),n[a]={old:C,new:_[C]},o=_[C]-a,b!=null&&o===u||(b&&f.push(b),I.push(a),u=o),b=a;for(b&&f.push(b),f.push(65535),I.push(65535),j=2*(L=I.length),M=2*Math.pow(Math.log(L)/Math.LN2,2),h=Math.log(M/2)/Math.LN2,P=2*L-M,c=[],O=[],m=[],w=W=0,Q=I.length;W<Q;w=++W){if(T=I[w],d=f[w],T===65535){c.push(0),O.push(0);break}if(T-(B=n[T].new)>=32768)for(c.push(0),O.push(2*(m.length+L-w)),a=z=T;T<=d?z<=d:z>=d;a=T<=d?++z:--z)m.push(n[a].new);else c.push(B-T),O.push(0)}for(G.writeUInt16(3),G.writeUInt16(1),G.writeUInt32(12),G.writeUInt16(4),G.writeUInt16(16+8*L+2*m.length),G.writeUInt16(0),G.writeUInt16(j),G.writeUInt16(M),G.writeUInt16(h),G.writeUInt16(P),oe=0,D=f.length;oe<D;oe++)a=f[oe],G.writeUInt16(a);for(G.writeUInt16(0),ue=0,K=I.length;ue<K;ue++)a=I[ue],G.writeUInt16(a);for(se=0,J=c.length;se<J;se++)o=c[se],G.writeUInt16(o);for(fe=0,ne=O.length;fe<ne;fe++)E=O[fe],G.writeUInt16(E);for(te=0,ie=m.length;te<ie;te++)g=m[te],G.writeUInt16(g);return{charMap:n,subtable:G.data,maxGlyphID:N+1}}},e}(),vne=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return wf(t,vd),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,a,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)n=new fW(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var a,i;return n==null&&(n="macroman"),a=fW.encode(r,n),(i=new wm).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},t}(),rMe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return wf(t,vd),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),nMe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return wf(t,vd),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),aMe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return wf(t,vd),t.prototype.tag="post",t.prototype.parse=function(r){var n,a,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var s;for(a=r.readUInt16(),this.glyphNameIndex=[],s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var o,c,u;for(u=[],s=o=0,c=this.file.maxp.numGlyphs;0<=c?o<c:o>c;s=0<=c?++o:--o)u.push(r.readUInt32());return u}).call(this)}},t}(),iMe=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},sMe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return wf(t,vd),t.prototype.tag="name",t.prototype.parse=function(r){var n,a,i,s,o,c,u,d,f,h,m;for(r.pos=this.offset,r.readShort(),n=r.readShort(),c=r.readShort(),a=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+c+r.readShort()});for(u={},s=f=0,h=a.length;f<h;s=++f)i=a[s],r.pos=i.offset,d=r.readString(i.length),o=new iMe(d,i),u[m=i.nameID]==null&&(u[m]=[]),u[i.nameID].push(o);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},t}(),oMe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return wf(t,vd),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),lMe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return wf(t,vd),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,a,i,s,o,c,u;for(r.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,f;for(f=[],n=d=0;0<=i?d<i:d>i;n=0<=i?++d:--d)f.push(r.readInt16());return f}(),this.widths=(function(){var d,f,h,m;for(m=[],d=0,f=(h=this.metrics).length;d<f;d++)s=h[d],m.push(s.advance);return m}).call(this),a=this.widths[this.widths.length-1],u=[],n=o=0;0<=i?o<i:o>i;n=0<=i?++o:--o)u.push(this.widths.push(a));return u},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),yne=[].slice,cMe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return wf(t,vd),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,a,i,s,o,c,u,d,f,h;return r in this.cache?this.cache[r]:(s=this.file.loca,n=this.file.contents,a=s.indexOf(r),(i=s.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,o=(c=new wm(n.read(i))).readShort(),d=c.readShort(),h=c.readShort(),u=c.readShort(),f=c.readShort(),this.cache[r]=o===-1?new dMe(c,d,h,u,f):new uMe(c,o,d,h,u,f),this.cache[r]))},t.prototype.encode=function(r,n,a){var i,s,o,c,u;for(o=[],s=[],c=0,u=n.length;c<u;c++)i=r[n[c]],s.push(o.length),i&&(o=o.concat(i.encode(a)));return s.push(o.length),{table:o,offsets:s}},t}(),uMe=function(){function e(t,r,n,a,i,s){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),dMe=function(){function e(t,r,n,a,i){var s,o;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new wm(yne.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),fMe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return wf(t,vd),t.prototype.tag="loca",t.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=2)s.push(2*r.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=4)s.push(r.readUInt32());return s}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),i=0,s=0,o=0;o<a.length;++o)if(a[o]=i,s<n.length&&n[s]==o){++s,a[o]=i;var c=this.offsets[o],u=this.offsets[o+1]-c;u>0&&(i+=u)}for(var d=new Array(4*a.length),f=0;f<a.length;++f)d[4*f+3]=255&a[f],d[4*f+2]=(65280&a[f])>>8,d[4*f+1]=(16711680&a[f])>>16,d[4*f]=(4278190080&a[f])>>24;return d},t}(),hMe=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,i,s,o,c;for(a={},s=0,o=t.length;s<o;s++)a[i=t[s]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))n=c[i],a[i]=n;return a},e.prototype.encode=function(t,r){var n,a,i,s,o,c,u,d,f,h,m,w,g,y,b;for(a in n=vne.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(t),m={0:0},b=n.charMap)m[(c=b[a]).old]=c.new;for(w in h=n.maxGlyphID,s)w in m||(m[w]=h++);return d=function(_){var N,E;for(N in E={},_)E[_[N]]=N;return E}(m),f=Object.keys(d).sort(function(_,N){return _-N}),g=function(){var _,N,E;for(E=[],_=0,N=f.length;_<N;_++)o=f[_],E.push(d[o]);return E}(),i=this.font.glyf.encode(s,g,m),u=this.font.loca.encode(i.offsets,g),y={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(y["OS/2"]=this.font.os2.raw()),this.font.directory.encode(y)},e}();Hr.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,i,s;if(Array.isArray(r))return"["+function(){var o,c,u;for(u=[],o=0,c=r.length;o<c;o++)n=r[o],u.push(t.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)s=r[a],i.push("/"+a+" "+t.convert(s));return i.push(">>"),i.join(`
`)}return""+r},t}();function xne(e,t,r,n,a){n=n||{};var i=1.15,s=a.internal.scaleFactor,o=a.internal.getFontSize()/s,c=a.getLineHeightFactor?a.getLineHeightFactor():i,u=o*c,d=/\r\n|\r|\n/g,f="",h=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(f=typeof e=="string"?e.split(d):e,h=f.length||1),r+=o*(2-i),n.valign==="middle"?r-=h/2*u:n.valign==="bottom"&&(r-=h*u),n.halign==="center"||n.halign==="right"){var m=o;if(n.halign==="center"&&(m*=.5),f&&h>=1){for(var w=0;w<f.length;w++)a.text(f[w],t-a.getStringUnitWidth(f[w])*m,r),r+=u;return a}t-=a.getStringUnitWidth(e)*m}return n.halign==="justify"?a.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):a.text(e,t,r),a}var hW={},u1=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:hW=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var n,a,i;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var s=this.jsPDFDocument.internal.getFont(),o=s.fontStyle,c=s.fontName;if(t.font&&(c=t.font),t.fontStyle){o=t.fontStyle;var u=this.getFontList()[c];u&&u.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),o=u[0])}if(this.jsPDFDocument.setFont(c,o),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var d=e.unifyColor(t.fillColor);d&&(n=this.jsPDFDocument).setFillColor.apply(n,d),d=e.unifyColor(t.textColor),d&&(a=this.jsPDFDocument).setTextColor.apply(a,d),d=e.unifyColor(t.lineColor),d&&(i=this.jsPDFDocument).setDrawColor.apply(i,d),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,n){return this.jsPDFDocument.splitTextToSize(t,r,n)},e.prototype.rect=function(t,r,n,a,i){return this.jsPDFDocument.rect(t,r,n,a,i)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return hW||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),kO=function(e,t){return kO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},kO(e,t)};function wne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");kO(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var bne=function(e){wne(t,e);function t(r){var n=e.call(this)||this;return n._element=r,n}return t}(Array);function pMe(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function mMe(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function KS(e,t,r){r.applyStyles(t,!0);var n=Array.isArray(e)?e:[e],a=n.map(function(i){return r.getTextWidth(i)}).reduce(function(i,s){return Math.max(i,s)},0);return a}function _ne(e,t,r,n){var a=t.settings.tableLineWidth,i=t.settings.tableLineColor;e.applyStyles({lineWidth:a,lineColor:i});var s=Sne(a,!1);s&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,s)}function Sne(e,t){var r=e>0,n=t||t===0;return r&&n?"DF":r?"S":n?"F":null}function QN(e,t){var r,n,a,i;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(n=e.top)!==null&&n!==void 0?n:t,right:(a=e.right)!==null&&a!==void 0?a:t,bottom:(i=e.bottom)!==null&&i!==void 0?i:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function Nne(e,t){var r=QN(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function gMe(e,t,r,n,a){var i={},s=1.3333333333333333,o=lT(t,function(N){return a.getComputedStyle(N).backgroundColor});o!=null&&(i.fillColor=o);var c=lT(t,function(N){return a.getComputedStyle(N).color});c!=null&&(i.textColor=c);var u=yMe(n,r);u&&(i.cellPadding=u);var d="borderTopColor",f=s*r,h=n.borderTopWidth;if(n.borderBottomWidth===h&&n.borderRightWidth===h&&n.borderLeftWidth===h){var m=(parseFloat(h)||0)/f;m&&(i.lineWidth=m)}else i.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/f,right:(parseFloat(n.borderRightWidth)||0)/f,bottom:(parseFloat(n.borderBottomWidth)||0)/f,left:(parseFloat(n.borderLeftWidth)||0)/f},i.lineWidth.top||(i.lineWidth.right?d="borderRightColor":i.lineWidth.bottom?d="borderBottomColor":i.lineWidth.left&&(d="borderLeftColor"));var w=lT(t,function(N){return a.getComputedStyle(N)[d]});w!=null&&(i.lineColor=w);var g=["left","right","center","justify"];g.indexOf(n.textAlign)!==-1&&(i.halign=n.textAlign),g=["middle","bottom","top"],g.indexOf(n.verticalAlign)!==-1&&(i.valign=n.verticalAlign);var y=parseInt(n.fontSize||"");isNaN(y)||(i.fontSize=y/s);var b=vMe(n);b&&(i.fontStyle=b);var _=(n.fontFamily||"").toLowerCase();return e.indexOf(_)!==-1&&(i.font=_),i}function vMe(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function lT(e,t){var r=Ane(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var a=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],i=parseInt(n[4]);return i===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function Ane(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:Ane(e.parentElement,t):r}function yMe(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),a=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,i=r.map(function(o){return parseInt(o||"0")/n}),s=QN(i,0);return a>s.top&&(s.top=a),a>s.bottom&&(s.bottom=a),s}function kne(e,t,r,n,a){var i,s;n===void 0&&(n=!1),a===void 0&&(a=!1);var o;typeof t=="string"?o=r.document.querySelector(t):o=t;var c=Object.keys(e.getFontList()),u=e.scaleFactor(),d=[],f=[],h=[];if(!o)return console.error("Html table could not be found with input: ",t),{head:d,body:f,foot:h};for(var m=0;m<o.rows.length;m++){var w=o.rows[m],g=(s=(i=w==null?void 0:w.parentElement)===null||i===void 0?void 0:i.tagName)===null||s===void 0?void 0:s.toLowerCase(),y=xMe(c,u,r,w,n,a);y&&(g==="thead"?d.push(y):g==="tfoot"?h.push(y):f.push(y))}return{head:d,body:f,foot:h}}function xMe(e,t,r,n,a,i){for(var s=new bne(n),o=0;o<n.cells.length;o++){var c=n.cells[o],u=r.getComputedStyle(c);if(a||u.display!=="none"){var d=void 0;i&&(d=gMe(e,c,t,u,r)),s.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:d,_element:c,content:wMe(c)})}}var f=r.getComputedStyle(n);if(s.length>0&&(a||f.display!=="none"))return s}function wMe(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function bMe(e,t,r){for(var n=0,a=[e,t,r];n<a.length;n++){var i=a[n];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function dh(e,t,r,n,a){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),s=1;s<arguments.length;s++){var o=arguments[s];if(o!=null)for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(i[c]=o[c])}return i}function Ene(e,t){var r=new u1(e),n=r.getDocumentOptions(),a=r.getGlobalOptions();bMe(a,n,t);var i=dh({},a,n,t),s;typeof window<"u"&&(s=window);var o=_Me(a,n,t),c=SMe(a,n,t),u=NMe(r,i),d=kMe(r,i,s);return{id:t.tableId,content:d,hooks:c,styles:o,settings:u}}function _Me(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(c){if(c==="columnStyles"){var u=e[c],d=t[c],f=r[c];n.columnStyles=dh({},u,d,f)}else{var h=[e,t,r],m=h.map(function(w){return w[c]||{}});n[c]=dh({},m[0],m[1],m[2])}},i=0,s=Object.keys(n);i<s.length;i++){var o=s[i];a(o)}return n}function SMe(e,t,r){for(var n=[e,t,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,s=n;i<s.length;i++){var o=s[i];o.didParseCell&&a.didParseCell.push(o.didParseCell),o.willDrawCell&&a.willDrawCell.push(o.willDrawCell),o.didDrawCell&&a.didDrawCell.push(o.didDrawCell),o.willDrawPage&&a.willDrawPage.push(o.willDrawPage),o.didDrawPage&&a.didDrawPage.push(o.didDrawPage)}return a}function NMe(e,t){var r,n,a,i,s,o,c,u,d,f,h,m,w=QN(t.margin,40/e.scaleFactor()),g=(r=AMe(e,t.startY))!==null&&r!==void 0?r:w.top,y;t.showFoot===!0?y="everyPage":t.showFoot===!1?y="never":y=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var b;t.showHead===!0?b="everyPage":t.showHead===!1?b="never":b=(a=t.showHead)!==null&&a!==void 0?a:"everyPage";var _=(i=t.useCss)!==null&&i!==void 0?i:!1,N=t.theme||(_?"plain":"striped"),E=!!t.horizontalPageBreak,C=(s=t.horizontalPageBreakRepeat)!==null&&s!==void 0?s:null;return{includeHiddenHtml:(o=t.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:_,theme:N,startY:g,margin:w,pageBreak:(c=t.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(u=t.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(d=t.tableWidth)!==null&&d!==void 0?d:"auto",showHead:b,showFoot:y,tableLineWidth:(f=t.tableLineWidth)!==null&&f!==void 0?f:0,tableLineColor:(h=t.tableLineColor)!==null&&h!==void 0?h:200,horizontalPageBreak:E,horizontalPageBreakRepeat:C,horizontalPageBreakBehaviour:(m=t.horizontalPageBreakBehaviour)!==null&&m!==void 0?m:"afterAllRows"}}function AMe(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),a=e.pageNumber(),i=!1;if(r&&r.startPageNumber){var s=r.startPageNumber+r.pageNumber-1;i=s===a}return typeof t=="number"?t:(t==null||t===!1)&&i&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function kMe(e,t,r){var n=t.head||[],a=t.body||[],i=t.foot||[];if(t.html){var s=t.includeHiddenHtml;if(r){var o=kne(e,t.html,r,s,t.useCss)||{};n=o.head||n,a=o.body||n,i=o.foot||n}else console.error("Cannot parse html in non browser environment")}var c=t.columns||EMe(n,a,i);return{columns:c,head:n,body:a,foot:i}}function EMe(e,t,r){var n=e[0]||t[0]||r[0]||[],a=[];return Object.keys(n).filter(function(i){return i!=="_element"}).forEach(function(i){var s=1,o;Array.isArray(n)?o=n[parseInt(i)]:o=n[i],typeof o=="object"&&!Array.isArray(o)&&(s=(o==null?void 0:o.colSpan)||1);for(var c=0;c<s;c++){var u=void 0;Array.isArray(n)?u=a.length:u=i+(c>0?"_".concat(c):"");var d={dataKey:u};a.push(d)}}),a}var EO=function(){function e(t,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=t.getDocument()}return e}(),CMe=function(e){wne(t,e);function t(r,n,a,i,s,o){var c=e.call(this,r,n,o)||this;return c.cell=a,c.row=i,c.column=s,c.section=i.section,c}return t}(EO),PMe=function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,n,a,i,s){for(var o=0,c=r;o<c.length;o++){var u=c[o],d=new CMe(t,this,n,a,i,s),f=u(d)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],f)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var n=0,a=this.hooks.didDrawPage;n<a.length;n++){var i=a[n];i(new EO(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var n=0,a=this.hooks.willDrawPage;n<a.length;n++){var i=a[n];i(new EO(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,i){return a+i.wrappedWidth},0);return r}else{var n=this.settings.margin;return t-n.left-n.right}},e}(),Cne=function(){function e(t,r,n,a,i){i===void 0&&(i=!1),this.height=0,this.raw=t,t instanceof bne&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=n,this.cells=a,this.spansMultiplePages=i}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(n,a){var i;return Math.max(n,((i=r.cells[a.index])===null||i===void 0?void 0:i.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(n){var a=r.cells[n.index];return a?a.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var n=this;return t.reduce(function(a,i){var s=n.cells[i.index];if(!s)return 0;var o=r.getLineHeight(s.styles.fontSize),c=s.padding("vertical"),u=c+o;return u>a?u:a},0)},e}(),Pne=function(){function e(t,r,n){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=t;var i=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,i=(a=t.content)!==null&&a!==void 0?a:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var s=i!=null?""+i:"",o=/\r\n|\r|\n/g;this.text=s.split(o)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");n=this.x+a/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/t*r,i=n*a+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=QN(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e}(),TMe=function(){function e(t,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=n}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,n=0,a=t.allRows();n<a.length;n++){var i=a[n],s=i.cells[this.index];s&&typeof s.styles.cellWidth=="number"&&(r=Math.max(r,s.styles.cellWidth))}return r},e}();function OMe(e,t){DMe(e,t);var r=[],n=0;t.columns.forEach(function(i){var s=i.getMaxCustomCellWidth(t);s?i.width=s:(i.width=i.wrappedWidth,r.push(i)),n+=i.width});var a=t.getWidth(e.pageSize().width)-n;a&&(a=CO(r,a,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),a&&(a=CO(r,a,function(i){return i.minWidth})),a=Math.abs(a),!t.settings.horizontalPageBreak&&a>.1/e.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),RMe(t),MMe(t,e),IMe(t)}function DMe(e,t){var r=e.scaleFactor(),n=t.settings.horizontalPageBreak,a=Nne(e,t);t.allRows().forEach(function(i){for(var s=0,o=t.columns;s<o.length;s++){var c=o[s],u=i.cells[c.index];if(u){var d=t.hooks.didParseCell;t.callCellHooks(e,d,u,i,c,null);var f=u.padding("horizontal");u.contentWidth=KS(u.text,u.styles,e)+f;var h=KS(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,e);if(u.minReadableWidth=h+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||n===!0)u.contentWidth>a?(u.minWidth=a,u.wrappedWidth=a):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var m=10/r;u.minWidth=u.styles.minCellWidth||m,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),t.allRows().forEach(function(i){for(var s=0,o=t.columns;s<o.length;s++){var c=o[s],u=i.cells[c.index];if(u&&u.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,u.wrappedWidth),c.minWidth=Math.max(c.minWidth,u.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,u.minReadableWidth);else{var d=t.styles.columnStyles[c.dataKey]||t.styles.columnStyles[c.index]||{},f=d.cellWidth||d.minCellWidth;f&&typeof f=="number"&&(c.minWidth=f,c.wrappedWidth=f)}u&&(u.colSpan>1&&!c.minWidth&&(c.minWidth=u.minWidth),u.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=u.minWidth))}})}function CO(e,t,r){for(var n=t,a=e.reduce(function(m,w){return m+w.wrappedWidth},0),i=0;i<e.length;i++){var s=e[i],o=s.wrappedWidth/a,c=n*o,u=s.width+c,d=r(s),f=u<d?d:u;t-=f-s.width,s.width=f}if(t=Math.round(t*1e10)/1e10,t){var h=e.filter(function(m){return t<0?m.width>r(m):!0});h.length&&(t=CO(h,t,r))}return t}function IMe(e){for(var t={},r=1,n=e.allRows(),a=0;a<n.length;a++)for(var i=n[a],s=0,o=e.columns;s<o.length;s++){var c=o[s],u=t[c.index];if(r>1)r--,delete i.cells[c.index];else if(u)u.cell.height+=i.height,r=u.cell.colSpan,delete i.cells[c.index],u.left--,u.left<=1&&delete t[c.index];else{var d=i.cells[c.index];if(!d)continue;if(d.height=i.height,d.rowSpan>1){var f=n.length-a,h=d.rowSpan>f?f:d.rowSpan;t[c.index]={cell:d,left:h,row:i}}}}}function RMe(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],a=null,i=0,s=0,o=0;o<e.columns.length;o++){var c=e.columns[o];if(s-=1,s>1&&e.columns[o+1])i+=c.width,delete n.cells[c.index];else if(a){var u=a;delete n.cells[c.index],a=null,u.width=c.width+i}else{var u=n.cells[c.index];if(!u)continue;if(s=u.colSpan,i=0,u.colSpan>1){a=u,i+=c.width;continue}u.width=c.width+i}}}function MMe(e,t){for(var r={count:0,height:0},n=0,a=e.allRows();n<a.length;n++){for(var i=a[n],s=0,o=e.columns;s<o.length;s++){var c=o[s],u=i.cells[c.index];if(u){t.applyStyles(u.styles,!0);var d=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=t.splitTextToSize(u.text,d+1/t.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=pW(u.text,d,u.styles,t,"...");else if(u.styles.overflow==="hidden")u.text=pW(u.text,d,u.styles,t,"");else if(typeof u.styles.overflow=="function"){var f=u.styles.overflow(u.text,d);typeof f=="string"?u.text=[f]:u.text=f}u.contentHeight=u.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var h=u.contentHeight/u.rowSpan;u.rowSpan>1&&r.count*r.height<h*u.rowSpan?r={height:h,count:u.rowSpan}:r&&r.count>0&&r.height>h&&(h=r.height),h>i.height&&(i.height=h)}}r.count--}}function pW(e,t,r,n,a){return e.map(function(i){return FMe(i,t,r,n,a)})}function FMe(e,t,r,n,a){var i=1e4*n.scaleFactor();if(t=Math.ceil(t*i)/i,t>=KS(e,r,n))return e;for(;t<KS(e+a,r,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+a}function Tne(e,t){var r=new u1(e),n=LMe(t,r.scaleFactor()),a=new PMe(t,n);return OMe(r,a),r.applyStyles(r.userStyles),a}function LMe(e,t){var r=e.content,n=$Me(r.columns);if(r.head.length===0){var a=mW(n,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=mW(n,"foot");a&&r.foot.push(a)}var i=e.settings.theme,s=e.styles;return{columns:n,head:cT("head",r.head,n,s,i,t),body:cT("body",r.body,n,s,i,t),foot:cT("foot",r.foot,n,s,i,t)}}function cT(e,t,r,n,a,i){var s={},o=t.map(function(c,u){for(var d=0,f={},h=0,m=0,w=0,g=r;w<g.length;w++){var y=g[w];if(s[y.index]==null||s[y.index].left===0)if(m===0){var b=void 0;Array.isArray(c)?b=c[y.index-h-d]:b=c[y.dataKey];var _={};typeof b=="object"&&!Array.isArray(b)&&(_=(b==null?void 0:b.styles)||{});var N=BMe(e,y,u,a,n,i,_),E=new Pne(b,N,e);f[y.dataKey]=E,f[y.index]=E,m=E.colSpan-1,s[y.index]={left:E.rowSpan-1,times:m}}else m--,h++;else s[y.index].left--,m=s[y.index].times,d++}return new Cne(c,u,e,f)});return o}function mW(e,t){var r={};return e.forEach(function(n){if(n.raw!=null){var a=jMe(t,n.raw);a!=null&&(r[n.dataKey]=a)}}),Object.keys(r).length>0?r:null}function jMe(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function $Me(e){return e.map(function(t,r){var n,a;return typeof t=="object"?a=(n=t.dataKey)!==null&&n!==void 0?n:r:a=r,new TMe(a,t,r)})}function BMe(e,t,r,n,a,i,s){var o=mMe(n),c;e==="head"?c=a.headStyles:e==="body"?c=a.bodyStyles:e==="foot"&&(c=a.footStyles);var u=dh({},o.table,o[e],a.styles,c),d=a.columnStyles[t.dataKey]||a.columnStyles[t.index]||{},f=e==="body"?d:{},h=e==="body"&&r%2===0?dh({},o.alternateRow,a.alternateRowStyles):{},m=pMe(i),w=dh({},m,u,h,f);return dh(w,s)}function UMe(e,t,r){var n;r===void 0&&(r={});var a=Nne(e,t),i=new Map,s=[],o=[],c=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?c=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(c=[t.settings.horizontalPageBreakRepeat]),c.forEach(function(h){var m=t.columns.find(function(w){return w.dataKey===h||w.index===h});m&&!i.has(m.index)&&(i.set(m.index,!0),s.push(m.index),o.push(t.columns[m.index]),a-=m.wrappedWidth)});for(var u=!0,d=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;d<t.columns.length;){if(i.has(d)){d++;continue}var f=t.columns[d].wrappedWidth;if(u||a>=f)u=!1,s.push(d),o.push(t.columns[d]),a-=f;else break;d++}return{colIndexes:s,columns:o,lastIndex:d-1}}function qMe(e,t){for(var r=[],n=0;n<t.columns.length;n++){var a=UMe(e,t,{start:n});a.columns.length&&(r.push(a),n=a.lastIndex)}return r}function One(e,t){var r=t.settings,n=r.startY,a=r.margin,i={x:a.left,y:n},s=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),o=n+a.bottom+s;if(r.pageBreak==="avoid"){var c=t.body,u=c.reduce(function(h,m){return h+m.height},0);o+=u}var d=new u1(e);(r.pageBreak==="always"||r.startY!=null&&o>d.pageSize().height)&&(Ine(d),i.y=a.top),t.callWillDrawPageHooks(d,i);var f=dh({},i);t.startPageNumber=d.pageNumber(),r.horizontalPageBreak?zMe(d,t,f,i):(d.applyStyles(d.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(h){return Ah(d,t,h,i,t.columns)}),d.applyStyles(d.userStyles),t.body.forEach(function(h,m){var w=m===t.body.length-1;XS(d,t,h,w,f,i,t.columns)}),d.applyStyles(d.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(h){return Ah(d,t,h,i,t.columns)})),_ne(d,t,f,i),t.callEndPageHooks(d,i),t.finalY=i.y,e.lastAutoTable=t,d.applyStyles(d.userStyles)}function zMe(e,t,r,n){var a=qMe(e,t),i=t.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(u,d){e.applyStyles(e.userStyles),d>0?rx(e,t,r,n,u.columns,!0):gW(e,t,n,u.columns),WMe(e,t,r,n,u.columns),uT(e,t,n,u.columns)});else for(var s=-1,o=a[0],c=function(){var u=s;if(o){e.applyStyles(e.userStyles);var d=o.columns;s>=0?rx(e,t,r,n,d,!0):gW(e,t,n,d),u=vW(e,t,s+1,n,d),uT(e,t,n,d)}var f=u-s;a.slice(1).forEach(function(h){e.applyStyles(e.userStyles),rx(e,t,r,n,h.columns,!0),vW(e,t,s+1,n,h.columns,f),uT(e,t,n,h.columns)}),s=u};s<t.body.length-1;)c()}function gW(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&t.head.forEach(function(i){return Ah(e,t,i,r,n)})}function WMe(e,t,r,n,a){e.applyStyles(e.userStyles),t.body.forEach(function(i,s){var o=s===t.body.length-1;XS(e,t,i,o,r,n,a)})}function vW(e,t,r,n,a,i){e.applyStyles(e.userStyles),i=i??t.body.length;var s=Math.min(r+i,t.body.length),o=-1;return t.body.slice(r,s).forEach(function(c,u){var d=r+u===t.body.length-1,f=Dne(e,t,d,n);c.canEntireRowFit(f,a)&&(Ah(e,t,c,n,a),o=r+u)}),o}function uT(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&t.foot.forEach(function(i){return Ah(e,t,i,r,n)})}function VMe(e,t,r){var n=r.getLineHeight(e.styles.fontSize),a=e.padding("vertical"),i=Math.floor((t-a)/n);return Math.max(0,i)}function HMe(e,t,r,n){var a={};e.spansMultiplePages=!0,e.height=0;for(var i=0,s=0,o=r.columns;s<o.length;s++){var c=o[s],u=e.cells[c.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var d=new Pne(u.raw,u.styles,u.section);d=dh(d,u),d.text=[];var f=VMe(u,t,n);u.text.length>f&&(d.text=u.text.splice(f,u.text.length));var h=n.scaleFactor(),m=n.getLineHeightFactor();u.contentHeight=u.getContentHeight(h,m),u.contentHeight>=t&&(u.contentHeight=t,d.styles.minCellHeight-=t),u.contentHeight>e.height&&(e.height=u.contentHeight),d.contentHeight=d.getContentHeight(h,m),d.contentHeight>i&&(i=d.contentHeight),a[c.index]=d}}var w=new Cne(e.raw,-1,e.section,a,!0);w.height=i;for(var g=0,y=r.columns;g<y.length;g++){var c=y[g],d=w.cells[c.index];d&&(d.height=w.height);var u=e.cells[c.index];u&&(u.height=e.height)}return w}function GMe(e,t,r,n){var a=e.pageSize().height,i=n.settings.margin,s=i.top+i.bottom,o=a-s;t.section==="body"&&(o-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var c=t.getMinimumRowHeight(n.columns,e),u=c<r;if(c>o)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var d=t.hasRowSpan(n.columns),f=t.getMaxCellHeight(n.columns)>o;return f?(d&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(d||n.settings.rowPageBreak==="avoid")}function XS(e,t,r,n,a,i,s){var o=Dne(e,t,n,i);if(r.canEntireRowFit(o,s))Ah(e,t,r,i,s);else if(GMe(e,r,o,t)){var c=HMe(r,o,t,e);Ah(e,t,r,i,s),rx(e,t,a,i,s),XS(e,t,c,n,a,i,s)}else rx(e,t,a,i,s),XS(e,t,r,n,a,i,s)}function Ah(e,t,r,n,a){n.x=t.settings.margin.left;for(var i=0,s=a;i<s.length;i++){var o=s[i],c=r.cells[o.index];if(!c){n.x+=o.width;continue}e.applyStyles(c.styles),c.x=n.x,c.y=n.y;var u=t.callCellHooks(e,t.hooks.willDrawCell,c,r,o,n);if(u===!1){n.x+=o.width;continue}YMe(e,c,n);var d=c.getTextPos();xne(c.text,d.x,d.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,c,r,o,n),n.x+=o.width}n.y+=r.height}function YMe(e,t,r){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof n.lineWidth=="number"){var a=Sne(n.lineWidth,n.fillColor);a&&e.rect(t.x,r.y,t.width,t.height,a)}else typeof n.lineWidth=="object"&&(n.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),KMe(e,t,r,n.lineWidth))}function KMe(e,t,r,n){var a,i,s,o;n.top&&(a=r.x,i=r.y,s=r.x+t.width,o=r.y,n.right&&(s+=.5*n.right),n.left&&(a-=.5*n.left),c(n.top,a,i,s,o)),n.bottom&&(a=r.x,i=r.y+t.height,s=r.x+t.width,o=r.y+t.height,n.right&&(s+=.5*n.right),n.left&&(a-=.5*n.left),c(n.bottom,a,i,s,o)),n.left&&(a=r.x,i=r.y,s=r.x,o=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(o+=.5*n.bottom),c(n.left,a,i,s,o)),n.right&&(a=r.x+t.width,i=r.y,s=r.x+t.width,o=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(o+=.5*n.bottom),c(n.right,a,i,s,o));function c(u,d,f,h,m){e.getDocument().setLineWidth(u),e.getDocument().line(d,f,h,m,"S")}}function Dne(e,t,r,n){var a=t.settings.margin.bottom,i=t.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&r)&&(a+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-a}function rx(e,t,r,n,a,i){a===void 0&&(a=[]),i===void 0&&(i=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!i&&t.foot.forEach(function(o){return Ah(e,t,o,n,a)}),t.callEndPageHooks(e,n);var s=t.settings.margin;_ne(e,t,r,n),Ine(e),t.pageNumber++,n.x=s.left,n.y=s.top,r.y=s.top,t.callWillDrawPageHooks(e,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(o){return Ah(e,t,o,n,a)}),e.applyStyles(e.userStyles))}function Ine(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function XMe(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],a=Ene(this,n),i=Tne(this,a);return One(this,i),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,n,a){xne(t,r,n,a,this)},e.API.autoTableSetDefaults=function(t){return u1.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){u1.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new u1(this),i=kne(a,t,window,r,!1),s=i.head,o=i.body,c=((n=s[0])===null||n===void 0?void 0:n.map(function(u){return u.content}))||[];return{columns:c,rows:o,data:o}}}var dT;function d1(e,t){var r=Ene(e,t),n=Tne(e,r);One(e,n)}try{if(typeof window<"u"&&window){var yW=window,xW=yW.jsPDF||((dT=yW.jspdf)===null||dT===void 0?void 0:dT.jsPDF);xW&&XMe(xW)}}catch(e){console.error("Could not apply autoTable plugin",e)}const JMe=(e,t)=>{if(!t)try{return Rt(Wr(e),"yyyy-MM-dd")}catch{try{const a=new Date(e);return isNaN(a.getTime())?(console.warn(`[calculateEstimatedDate] Could not parse baseDateStr with any known method: ${e}`),e):Rt(a,"yyyy-MM-dd")}catch{return console.warn(`[calculateEstimatedDate] Further error parsing baseDateStr: ${e}`),e}}let r;try{r=Wr(e)}catch{try{if(r=new Date(e),isNaN(r.getTime()))throw new Error("Invalid base date after new Date()")}catch(a){return console.error(`[calculateEstimatedDate] Invalid baseDate: ${e}`,a),"Invalid Date"}}if(isNaN(r.getTime()))return console.error(`[calculateEstimatedDate] BaseDate is invalid after parsing attempts: ${e}`),"Invalid Date";try{const n=t.toLowerCase().split(" ");if(n.length!==2)return Rt(r,"yyyy-MM-dd");const a=parseInt(n[0],10),i=n[1].endsWith("s")?n[1]:n[1]+"s";if(isNaN(a))return Rt(r,"yyyy-MM-dd");let s={};if(i==="days")s={days:a};else if(i==="weeks")s={weeks:a};else if(i==="months")s={months:a};else if(i==="years")s={years:a};else return Rt(r,"yyyy-MM-dd");return Rt(AK(r,s),"yyyy-MM-dd")}catch(n){console.error(`Error calculating estimated date with baseDate: ${e}, timeGap: ${t}`,n);try{return Rt(r,"yyyy-MM-dd")}catch{return"Invalid Date"}}},Rne=({plan:e,treatmentsWithEstimatedDates:t})=>{var i,s,o,c;if(console.log("[PrintableContent PATIENT SECTION] plan:",e),console.log("[PrintableContent PATIENT SECTION] treatmentsWithEstimatedDates:",t),!e)return null;const r=u=>u?Rt(new Date(u),"MMM d, yyyy"):"N/A",n=u=>u?u.charAt(0).toUpperCase()+u.slice(1).replace("_"," "):"N/A",a=u=>u?u.charAt(0).toUpperCase()+u.slice(1):"N/A";return x("div",{id:"printable-content",className:"print-only",style:{display:"none",padding:"20px",fontFamily:"system-ui, -apple-system, sans-serif",backgroundColor:"white",color:"#000",minHeight:"100vh"},children:[x("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:15},children:[l("img",{src:"https://i.postimg.cc/j2qGSXwJ/facetslogo.png",alt:"Facets Logo",style:{height:"35px"}}),x("div",{style:{textAlign:"right"},children:[l("h1",{style:{fontSize:22,margin:0,color:"#0060df",fontWeight:700},children:"Treatment Plan"}),x("p",{style:{margin:"4px 0 0",color:"#666",fontSize:12,fontWeight:500},children:["Generated on: ",Rt(new Date,"MMM d, yyyy")]})]})]}),x("div",{style:{marginBottom:12},children:[x("p",{style:{margin:0,fontSize:13,fontWeight:700,color:"#000"},children:["Patient: ",e.patientName||((i=e.patient)==null?void 0:i.full_name)||"N/A"]}),x("p",{style:{margin:"4px 0 0",fontSize:13,fontWeight:700,color:"#000"},children:["Reg. No: ",((s=e.patient)==null?void 0:s.registration_number)||"N/A"]}),x("p",{style:{margin:"4px 0 0",fontSize:13,fontWeight:700,color:"#000"},children:["Affected Teeth: ",e.teeth&&e.teeth.length>0?e.teeth.map(u=>u.tooth_id).sort((u,d)=>u-d).join(", "):"N/A"]})]}),l("div",{style:{borderBottom:"2px solid #0060df",marginBottom:15}}),x("div",{style:{marginBottom:20},children:[l("h2",{style:{fontSize:16,color:"#0060df",marginBottom:10,fontWeight:700},children:"Plan Details"}),x("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12,fontSize:13,marginBottom:10},children:[x("div",{children:[l("p",{style:{margin:0,color:"#666",fontWeight:500},children:"Plan Title"}),l("p",{style:{margin:0,color:"#000",fontWeight:700},children:e.title||"N/A"})]}),x("div",{children:[l("p",{style:{margin:0,color:"#666",fontWeight:500},children:"Priority"}),l("p",{style:{margin:0,color:"#0060df",fontWeight:700},children:a(e.priority)})]}),x("div",{children:[l("p",{style:{margin:0,color:"#666",fontWeight:500},children:"Status"}),l("p",{style:{margin:0,color:"#000",fontWeight:700},children:n(e.status)})]}),x("div",{children:[l("p",{style:{margin:0,color:"#666",fontWeight:500},children:"Start Date"}),l("p",{style:{margin:0,color:"#000",fontWeight:700},children:r(e.start_date)})]}),x("div",{children:[l("p",{style:{margin:0,color:"#666",fontWeight:500},children:"End Date"}),l("p",{style:{margin:0,color:"#000",fontWeight:700},children:r(e.end_date)})]})]}),x("div",{children:[l("p",{style:{margin:"0 0 4px",color:"#666",fontSize:13,fontWeight:500},children:"Description"}),l("div",{style:{border:"1px solid #e5e7eb",padding:10,fontSize:13,lineHeight:1.4,color:"#000",fontWeight:500},children:e.description||"No description available."})]})]}),x("div",{style:{marginBottom:20},children:[l("h2",{style:{fontSize:16,color:"#0060df",marginBottom:10,fontWeight:700},children:"Treatments / Visits"}),x("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:13},children:[l("thead",{children:x("tr",{style:{borderBottom:"2px solid #0060df"},children:[l("th",{style:{textAlign:"left",padding:"8px 10px 8px 0",fontWeight:700,color:"#000"},children:"#"}),l("th",{style:{textAlign:"left",padding:"8px 10px",fontWeight:700,color:"#000"},children:"Treatment"}),l("th",{style:{textAlign:"left",padding:"8px 10px",fontWeight:700,color:"#000"},children:"Description"}),l("th",{style:{textAlign:"center",padding:"8px 10px",fontWeight:700,color:"#000",width:80},children:"Status"}),l("th",{style:{textAlign:"center",padding:"8px 10px",fontWeight:700,color:"#000",width:90},children:"Date"}),l("th",{style:{textAlign:"right",padding:"8px 0 8px 10px",fontWeight:700,color:"#000",width:80},children:"Cost"})]})}),l("tbody",{children:t&&t.length>0?t.map((u,d)=>x("tr",{style:{borderBottom:"1px solid #e5e7eb"},children:[l("td",{style:{padding:"10px 10px 10px 0",verticalAlign:"top",color:"#000",fontWeight:700},children:u.visit_number||d+1}),l("td",{style:{padding:"10px",verticalAlign:"top",color:"#000",fontWeight:700},children:u.type||u.title||`Visit ${d+1}`}),l("td",{style:{padding:"10px",verticalAlign:"top",color:"#000",fontWeight:500},children:u.description||u.procedures||"N/A"}),l("td",{style:{padding:"10px",textAlign:"center",verticalAlign:"top"},children:l("span",{style:{color:u.status==="pending"?"#f97316":"#000",fontWeight:700},children:n(u.status)})}),l("td",{style:{padding:"10px",textAlign:"center",verticalAlign:"top",color:"#000",fontWeight:700},children:u.scheduled_date?r(u.scheduled_date):u.estimatedVisitDate?r(u.estimatedVisitDate):"N/A"}),l("td",{style:{padding:"10px 0 10px 10px",textAlign:"right",verticalAlign:"top",color:"#000",fontWeight:700},children:u.cost?Ll(parseFloat(String(u.cost))):"N/A"})]},u.id||d)):l("tr",{children:l("td",{colSpan:6,style:{textAlign:"center",padding:20,color:"#888"},children:"No treatments or visits recorded for this plan."})})})]})]}),x("div",{style:{marginBottom:20},children:[l("h2",{style:{fontSize:16,color:"#0060df",marginBottom:10,fontWeight:700},children:"Financial Summary"}),x("div",{style:{border:"1px solid #e5e7eb",fontSize:13},children:[x("div",{style:{display:"flex",justifyContent:"space-between",padding:10,borderBottom:"1px solid #e5e7eb"},children:[l("span",{style:{color:"#0060df",fontWeight:700},children:"Total Treatment Cost:"}),l("span",{style:{fontWeight:700},children:Ll(e.totalCost||0)})]}),x("div",{style:{display:"flex",justifyContent:"space-between",padding:10,borderBottom:"1px solid #e5e7eb"},children:[l("span",{style:{color:"#0060df",fontWeight:700},children:"Insurance Coverage (Est.):"}),l("span",{style:{fontWeight:700},children:Ll(e.insurance_coverage||0)})]}),x("div",{style:{display:"flex",justifyContent:"space-between",padding:10},children:[l("span",{style:{color:"#0060df",fontWeight:700},children:"Patient Responsibility:"}),l("span",{style:{fontWeight:700},children:Ll((e.totalCost||0)-(e.insurance_coverage||0))})]})]})]}),x("div",{style:{marginBottom:20},children:[l("h2",{style:{fontSize:16,color:"#0060df",marginBottom:10,fontWeight:700},children:"Additional Information"}),x("div",{style:{marginBottom:15},children:[l("h3",{style:{fontSize:13,margin:"0 0 6px",fontWeight:700,color:"#000"},children:"Post-Treatment Care"}),l("div",{style:{border:"1px solid #e5e7eb",padding:10,fontSize:13,lineHeight:1.4,color:"#000",fontWeight:500},children:((c=(o=e.metadata)==null?void 0:o[0])==null?void 0:c.post_treatment_care)||"No post-treatment care instructions available."})]})]}),l("div",{style:{marginTop:30},children:x("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:30},children:[x("div",{style:{width:"45%"},children:[l("div",{style:{borderBottom:"1px solid #000",marginBottom:6}}),l("p",{style:{margin:0,fontSize:13,fontWeight:700,color:"#000"},children:"Doctor's Signature"})]}),x("div",{style:{width:"45%"},children:[l("div",{style:{borderBottom:"1px solid #000",marginBottom:6}}),l("p",{style:{margin:0,fontSize:13,fontWeight:700,color:"#000"},children:"Patient's Signature"})]})]})}),x("div",{style:{textAlign:"center",color:"#000",fontSize:13,marginBottom:20},children:[l("p",{style:{margin:0,color:"#000",fontWeight:500},children:"This treatment plan is valid for 6 months from the date of issue."}),l("p",{style:{margin:"4px 0 0",color:"#000",fontWeight:500},children:"For any queries, please contact your dental care provider."})]})]})};function Mne({open:e,onOpenChange:t,plan:r,onRefresh:n,onAddTreatment:a,onStatusChange:i,onDeletePlan:s,onTreatmentStatusChange:o,onDeleteTreatment:c,loading:u=!1,navigateToPatient:d,aiInitialSuggestion:f,onEditTreatment:h,bookedAppointments:m=[]}){var J,ne,ie,oe,ue;const{toast:w}=bn(),g=Ss(),[y,b]=S.useState(!1),[_,N]=S.useState(!1),[E,C]=S.useState(1),O=5,[P,M]=S.useState(!1);typeof console<"u"&&console.groupCollapsed&&console.log&&console.groupEnd&&(console.groupCollapsed(`[TreatmentPlanDetails PROPS - Plan ID: ${r==null?void 0:r.id}]`),console.log("[TreatmentPlanDetails PROPS] Received plan:",JSON.parse(JSON.stringify(r||{}))),console.log("[TreatmentPlanDetails PROPS] plan.treatments:",JSON.parse(JSON.stringify((r==null?void 0:r.treatments)||[]))),console.log("[TreatmentPlanDetails PROPS] plan.originalAISuggestion:",JSON.parse(JSON.stringify((r==null?void 0:r.originalAISuggestion)||null))),console.log("[TreatmentPlanDetails PROPS] Received aiInitialSuggestionProp:",JSON.parse(JSON.stringify(f||null))),console.groupEnd());const L=V=>{if(!V||typeof V!="string")return;V=V.trim();const se=V.match(/^(\d+)\s*[-–]\s*(\d+)\s+(\w+)$/i);if(se&&se.length===4)return`${se[2]} ${se[3]}`;const fe=V.match(/^(\d+)\s+(\w+)$/i);if(fe&&fe.length===3)return`${fe[1]} ${fe[2]}`;const te=V.match(/^(\d+)$/);if(te&&te.length===2)return`${te[1]} minutes`;console.warn(`[TreatmentPlanDetails] Could not parse duration: "${V}". It does not match expected formats (e.g., "X-Y units", "X units", "X"). Falling back to undefined.`)},[j,T]=S.useState(null);S.useEffect(()=>{var te;let V=!0;const fe=(()=>{var Ee;return f||(r!=null&&r.originalAISuggestion?r.originalAISuggestion:r!=null&&r.metadata&&r.metadata.length>0&&((Ee=r.metadata[0])!=null&&Ee.originalAISuggestion)?r.metadata[0].originalAISuggestion:null)})();return V&&(fe?T(fe):e&&r&&r.id&&r.patient_id&&r.description&&(!r.treatments||r.treatments.length===0)&&!((te=r.visits)!=null&&te.length)&&nd(()=>Promise.resolve().then(()=>gRe),void 0).then(Ee=>Ee.treatmentService.getAiSuggestionForPlan(r)).then(Ee=>{V&&T(Ee)}).catch(Ee=>{console.error("[TreatmentPlanDetails] Error auto-fetching AI suggestion:",Ee),V&&T(null)})),()=>{V=!1}},[e,r,f]);const I=S.useMemo(()=>{if(!(r!=null&&r.treatments)||r.treatments.length===0)return[];const V=new Map;for(const fe of r.treatments)fe&&typeof fe.id<"u"?V.has(fe.id)||V.set(fe.id,fe):console.warn("[TreatmentPlanDetails] Encountered a treatment without an ID:",fe);return Array.from(V.values()).sort((fe,te)=>{const Ee=typeof fe.visit_number=="number"?fe.visit_number:1/0,Fe=typeof te.visit_number=="number"?te.visit_number:1/0;if(Ee!==Fe)return Ee-Fe;const Pe=fe.created_at?new Date(fe.created_at).getTime():0,ve=te.created_at?new Date(te.created_at).getTime():0;return Pe-ve})},[r==null?void 0:r.treatments]);S.useMemo(()=>{if(!I)return[];const V=(E-1)*O,se=V+O;return I.slice(V,se)},[I,E]);const B=S.useMemo(()=>{if(!I||I.length===0)return[];let V=r.start_date||r.created_at;return I.map((se,fe)=>{let te;if(fe===0)te=Rt(Wr(V),"yyyy-MM-dd");else{const Ee=I[fe-1];V=JMe(V,Ee.time_gap),te=V}return{...se,estimatedVisitDate:te}})},[I,r==null?void 0:r.start_date,r==null?void 0:r.created_at]),G=S.useMemo(()=>{if(!B)return[];const V=(E-1)*O,se=V+O;return B.slice(V,se)},[B,E]),Z=S.useMemo(()=>I?Math.ceil(I.length/O):1,[I]),re=()=>{const V="print-styles";let se=document.getElementById(V);se||(se=document.createElement("style"),se.id=V),se.innerHTML=`
        @media print {
            /* Hide everything except print content */
            body * {
                visibility: hidden;
            }
            #printable-content,
            #printable-content * {
                visibility: visible;
                color: black;
            }
            #printable-content {
                position: absolute;
                left: 0;
                top: 0;
                width: 100%;
                background: white;
            }
            @page {
                size: auto;
                margin: 20mm;
            }
        }
    `,document.head.appendChild(se);const fe=document.getElementById("printable-content");fe&&(fe.style.display="block"),window.print();const te=()=>{fe&&(fe.style.display="none"),se&&se.parentNode&&se.parentNode.removeChild(se),window.removeEventListener("afterprint",te)};window.addEventListener("afterprint",te)},W=(V,se,fe)=>{const te=typeof fe=="number"?fe+1:V.visit_number;let Ee=null;if(V.scheduled_date&&/^\d{4}-\d{2}-\d{2}$/.test(V.scheduled_date))Ee=V.scheduled_date;else if(V.estimatedVisitDate&&/^\d{4}-\d{2}-\d{2}$/.test(V.estimatedVisitDate))Ee=V.estimatedVisitDate;else if(V.scheduled_date)try{Ee=Rt(Wr(V.scheduled_date),"yyyy-MM-dd")}catch{try{const Pe=new Date(V.scheduled_date);isNaN(Pe.getTime())||(Ee=Rt(Pe,"yyyy-MM-dd"))}catch{}}return{id:V.id,treatment_plan_id:se,visit_number:te||0,procedures:V.description||V.procedures||"",type:V.type||V.title||"",estimated_duration:V.estimated_duration,time_gap:V.time_gap,status:V.status||"pending",scheduled_date:Ee,cost:V.cost,priority:V.priority||"medium"}},z=async()=>{var fe,te;if(!((te=(fe=j==null?void 0:j.planDetails)==null?void 0:fe.appointmentPlan)!=null&&te.sittingDetails)||!(r!=null&&r.id)){w({title:"Error",description:"No AI suggestion details found or plan ID is missing.",variant:"destructive"});return}M(!0);let V=0;const se=j.planDetails.appointmentPlan.sittingDetails.length;try{for(const[Ee,Fe]of j.planDetails.appointmentPlan.sittingDetails.entries()){const Pe=Fe.procedures||"No procedures detailed.",ve=Pe.substring(0,50)+(Pe.length>50?"...":""),Ge=`${Fe.visit||`Visit ${Ee+1}`} - ${ve}`,ht=L(Fe.estimatedDuration),at={type:Ge,description:Pe,status:"pending",priority:"medium",cost:"0",estimated_duration:ht,time_gap:Fe.timeGap||null,plan_id:r.id};await Un.createTreatment(at),V++}w({title:"Success",description:`${V} of ${se} AI suggested treatments created. Waiting for visits to appear...`}),T(null),await n()}catch(Ee){console.error("Error creating AI suggested treatments:",Ee),w({title:"Creation Failed",description:`Failed to create some or all AI suggested treatments. ${V} created. ${Ee.message}`,variant:"destructive"})}finally{M(!1)}};if(!r)return null;const U=S.useMemo(()=>{if(!r.start_date||!r.end_date)return null;try{const V=new Date(r.start_date),se=new Date(r.end_date);return FK(se,V,{addSuffix:!1})}catch(V){return console.error("Error calculating duration:",V),null}},[r.start_date,r.end_date]),Y=S.useMemo(()=>[{id:"planned",title:"Planned",description:"Plan created"},{id:"in_progress",title:"In Progress",description:"Treatment started"},{id:"completed",title:"Completed",description:"Plan finished"}],[]),Q=S.useMemo(()=>{const V=[];if(!(r!=null&&r.status))return V;const se=Y.findIndex(fe=>fe.id===r.status);for(let fe=0;fe<se;fe++)V.push(Y[fe].id);return r.status==="completed"&&(V.includes("planned")||V.push("planned"),V.includes("in_progress")||V.push("in_progress")),r.status,V},[r==null?void 0:r.status,Y]),D=V=>{let se="bg-gray-100 text-gray-800";switch(V){case"planned":se="bg-blue-100 text-blue-800";break;case"in_progress":se="bg-yellow-100 text-yellow-800";break;case"completed":se="bg-green-100 text-green-800";break;case"cancelled":se="bg-red-100 text-red-800";break}return l("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${se}`,children:V.replace("_"," ")})},K=V=>{let se="bg-gray-100 text-gray-800";switch(V){case"low":se="bg-green-100 text-green-800";break;case"medium":se="bg-yellow-100 text-yellow-800";break;case"high":se="bg-red-100 text-red-800";break}return l("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${se}`,children:V})};return x(Nr,{children:[l(Hn,{open:e,onOpenChange:t,children:x(qn,{className:"max-w-4xl",children:[x(Jn,{children:[l(Zn,{children:"Treatment Plan Details"}),x(ds,{children:["Created on ",Rt(new Date(r.created_at),"MMMM d, yyyy")]})]}),l("div",{className:"pr-6 py-4 max-h-[70vh] overflow-y-auto",children:x("div",{className:"space-y-6",children:[x("div",{className:"flex justify-between items-start",children:[x("div",{children:[l("h2",{className:"text-xl font-semibold",children:r.title||"Plan Title N/A"}),l("p",{className:"text-sm text-muted-foreground",children:r.description||"No description available."})]}),x("div",{className:"flex items-center gap-2",children:[D(r.status),r.priority&&K(r.priority)]})]}),r.status!=="cancelled"&&l("div",{className:"my-6",children:l(pRe,{steps:Y,currentStepId:r.status,completedStepIds:Q})}),l("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:x("div",{className:"space-y-4",children:[x("div",{className:"flex items-center gap-2",children:[l(yi,{className:"h-5 w-5 text-muted-foreground"}),x("div",{children:[l("p",{className:"text-sm font-medium",children:"Patient"}),l("p",{children:r.patientName||"Patient Name N/A"})]}),d&&l(Me,{variant:"ghost",size:"sm",className:"ml-auto",onClick:()=>d(r.patient_id),children:l(xce,{className:"h-4 w-4"})})]}),x("div",{className:"flex items-center gap-2",children:[l(Oi,{className:"h-5 w-5 text-muted-foreground"}),x("div",{children:[l("p",{className:"text-sm font-medium",children:"Timeframe"}),x("p",{children:[r.start_date?Rt(new Date(r.start_date),"MMMM d, yyyy"):"Start Date N/A",r.start_date&&r.end_date&&` to ${Rt(new Date(r.end_date),"MMMM d, yyyy")}`]}),U&&x("p",{className:"text-sm text-muted-foreground",children:["Calculated Duration: ",U]}),((ne=(J=j==null?void 0:j.planDetails)==null?void 0:J.appointmentPlan)==null?void 0:ne.totalTreatmentTime)&&x("p",{className:"text-sm text-muted-foreground mt-1",children:["Suggested Total Plan Duration: ",j.planDetails.appointmentPlan.totalTreatmentTime]})]})]}),r.teeth&&r.teeth.length>0?x("div",{className:"flex items-center gap-2",children:[l(mx,{className:"h-5 w-5 text-muted-foreground"}),x("div",{children:[l("p",{className:"text-sm font-medium",children:"Affected Teeth"}),l("p",{className:"text-sm text-muted-foreground",children:r.teeth.map(V=>V.tooth_id).sort((V,se)=>V-se).join(", ")})]})]}):x("div",{className:"flex items-center gap-2",children:[l(mx,{className:"h-5 w-5 text-muted-foreground"}),x("div",{children:[l("p",{className:"text-sm font-medium",children:"Affected Teeth"}),l("p",{className:"text-sm text-muted-foreground",children:"N/A"})]})]})]})}),x("div",{className:"space-y-2",children:[x("div",{className:"flex items-center justify-between",children:[l("h3",{className:"text-lg font-medium",children:"Treatments"}),x("div",{className:"flex gap-2",children:[r.status==="planned"&&x(Me,{variant:"outline",onClick:()=>i(r.id,"in_progress"),disabled:u,title:"Start this treatment plan",children:[u&&!y&&!_?l(Fn,{className:"mr-2 h-4 w-4 animate-spin"}):l(Us,{className:"h-4 w-4 mr-1"}),"Start Treatment"]}),x(Me,{variant:"outline",size:"sm",onClick:n,disabled:u,children:[l(d6,{className:"h-4 w-4 mr-1"}),"Refresh"]}),x(Me,{variant:"outline",size:"sm",onClick:a,disabled:u,children:[l(Qu,{className:"h-4 w-4 mr-1"}),"Add Treatment"]}),x(Me,{onClick:re,variant:"outline",size:"sm",disabled:u,title:"Print this treatment plan",children:[l(qce,{className:"h-4 w-4 mr-1"})," ","Print Plan"]})]})]}),r.treatments&&r.treatments.length>0?x(Nr,{children:[l("div",{className:"space-y-3",children:G.map((V,se)=>l(fRe,{treatment:V,onStatusChange:o,onDelete:c,onEdit:()=>{const fe=W(V,r.id,se);h(fe)},loading:u},V.id))}),Z>1&&x("div",{className:"flex justify-center items-center gap-2 mt-4 pagination-controls-print-hide",children:[x(Me,{variant:"outline",size:"sm",onClick:()=>C(V=>Math.max(V-1,1)),disabled:E===1||u,children:[l(w4,{className:"h-4 w-4"}),"Previous"]}),x("span",{className:"text-sm text-muted-foreground",children:["Page ",E," of ",Z]}),x(Me,{variant:"outline",size:"sm",onClick:()=>C(V=>Math.min(V+1,Z)),disabled:E===Z||u,children:["Next",l(om,{className:"h-4 w-4"})]})]})]}):(()=>{var Ee,Fe,Pe,ve,Ge,ht,at;const V=(Fe=(Ee=j==null?void 0:j.planDetails)==null?void 0:Ee.appointmentPlan)==null?void 0:Fe.sittingDetails,se=(ve=(Pe=f==null?void 0:f.planDetails)==null?void 0:Pe.appointmentPlan)==null?void 0:ve.sittingDetails,fe=(at=(ht=(Ge=r.originalAISuggestion)==null?void 0:Ge.planDetails)==null?void 0:ht.appointmentPlan)==null?void 0:at.sittingDetails,te=Array.isArray(V)&&V.length>0||Array.isArray(se)&&se.length>0||Array.isArray(fe)&&fe.length>0;return typeof console<"u"&&console.groupCollapsed&&console.log&&console.groupEnd&&(console.groupCollapsed(`[TreatmentPlanDetails IIFE - Plan ID: ${r==null?void 0:r.id}] AI Logic`),console.log("[TreatmentPlanDetails IIFE] Internal aiInitialSuggestion state:",JSON.parse(JSON.stringify(j||null))),console.log("[TreatmentPlanDetails IIFE] Prop aiInitialSuggestionProp:",JSON.parse(JSON.stringify(f||null))),console.log("[TreatmentPlanDetails IIFE] Plan plan.originalAISuggestion:",JSON.parse(JSON.stringify(r.originalAISuggestion||null))),console.log("[TreatmentPlanDetails IIFE] aiSittings1 (from internal state):",JSON.parse(JSON.stringify(V||null))),console.log("[TreatmentPlanDetails IIFE] aiSittings2 (from prop):",JSON.parse(JSON.stringify(se||null))),console.log("[TreatmentPlanDetails IIFE] aiSittings3 (from plan object):",JSON.parse(JSON.stringify(fe||null))),console.log("[TreatmentPlanDetails IIFE] Calculated showAiVisits:",te),console.groupEnd()),te?x("div",{className:"text-center py-6 border rounded-lg",children:[l(q0,{className:"h-8 w-8 mx-auto text-primary mb-3"}),l("p",{className:"text-muted-foreground mb-4",children:"AI-generated treatment visits are available for this plan."}),x(Me,{onClick:z,disabled:P||u,size:"sm",children:[P?l(Fn,{className:"mr-2 h-4 w-4 animate-spin"}):l(Qu,{className:"mr-2 h-4 w-4"}),"Add AI Suggested Visits"]})]}):null})()]}),x(jm,{defaultValue:"additionalInfo",className:"w-full tabs-print-all-content",children:[x(Rh,{className:"flex items-center min-h-[44px] grid w-full grid-cols-3 print-hide rounded-2xl bg-white/30 bg-gradient-to-br from-white/60 to-[#e3f0ff]/60 backdrop-blur-lg border border-[#d0e6ff] shadow-xl px-2 py-0 relative",style:{boxShadow:"0 6px 32px 0 #e3f0ff"},children:[x(Oa,{value:"additionalInfo",className:"flex h-full items-center justify-center gap-2 px-5 py-0 text-base font-semibold text-brand-medium rounded-xl focus:outline-none data-[state=active]:bg-white/80 data-[state=active]:shadow-md data-[state=active]:border data-[state=active]:border-blue-200 data-[state=active]:z-10 data-[state=active]:text-brand-primary hover:bg-white/40 transition-all",children:[l(S4,{className:"w-5 h-5"}),"Additional Information"]}),x(Oa,{value:"visits",className:"flex h-full items-center justify-center gap-2 px-5 py-0 text-base font-semibold text-brand-medium rounded-xl focus:outline-none data-[state=active]:bg-white/80 data-[state=active]:shadow-md data-[state=active]:border data-[state=active]:border-blue-200 data-[state=active]:z-10 data-[state=active]:text-brand-primary hover:bg-white/40 transition-all",children:[l(Oi,{className:"w-5 h-5"}),"Scheduled Visits"]}),x(Oa,{value:"financial",className:"flex h-full items-center justify-center gap-2 px-5 py-0 text-base font-semibold text-brand-medium rounded-xl focus:outline-none data-[state=active]:bg-white/80 data-[state=active]:shadow-md data-[state=active]:border data-[state=active]:border-blue-200 data-[state=active]:z-10 data-[state=active]:text-brand-primary hover:bg-white/40 transition-all",children:[l(u6,{className:"w-5 h-5"}),"Financial Information"]})]}),l(_a,{value:"additionalInfo",className:"space-y-4",children:x("div",{className:"border rounded-lg p-4",children:[l("h4",{className:"font-medium",children:"Clinical Information"}),x("div",{className:"mt-4 space-y-4",children:[r.metadata&&r.metadata.length>0&&r.metadata[0].clinical_considerations&&x("div",{children:[l("h5",{className:"text-sm font-medium",children:"Clinical Considerations"}),l("p",{className:"text-sm text-muted-foreground mt-1 whitespace-pre-line",children:r.metadata[0].clinical_considerations})]}),r.metadata&&r.metadata.length>0&&r.metadata[0].key_materials&&x("div",{children:[l("h5",{className:"text-sm font-medium",children:"Key Materials"}),l("p",{className:"text-sm text-muted-foreground mt-1 whitespace-pre-line",children:r.metadata[0].key_materials})]}),r.metadata&&r.metadata.length>0&&r.metadata[0].post_treatment_care&&x("div",{children:[l("h5",{className:"text-sm font-medium",children:"Post-Treatment Care"}),l("p",{className:"text-sm text-muted-foreground mt-1 whitespace-pre-line",children:r.metadata[0].post_treatment_care})]}),(!r.metadata||r.metadata.length===0||r.metadata.length>0&&!r.metadata[0].clinical_considerations&&!r.metadata[0].key_materials&&!r.metadata[0].post_treatment_care)&&l("p",{className:"text-sm text-muted-foreground",children:"No additional clinical information available."})]})]})}),l(_a,{value:"visits",className:"space-y-4",children:x("div",{className:"border rounded-lg p-4",children:[l("div",{className:"flex justify-between items-center mb-3",children:l("h4",{className:"font-medium",children:"Scheduled Visits Overview"})}),B&&B.length>0?l("div",{className:"space-y-3",children:B.map((V,se)=>{const te=(m||[]).find(Pe=>Pe.treatment_id===V.id&&Pe.status!=="cancelled"),Ee=!!te;let Fe=null;if(Ee&&te){let Pe="N/A",ve="N/A";const Ge=te.staff&&te.staff.first_name&&te.staff.last_name?`${te.staff.first_name} ${te.staff.last_name}`:"N/A";if(te.start_time&&typeof te.start_time=="string")try{const ht=Wr(te.start_time);Pe=Rt(ht,"MMM dd, yyyy"),ve=Rt(ht,"p")}catch(ht){console.error(`[TreatmentPlanDetails] Error parsing start_time for booked appointment: ${te.start_time}`,ht)}else console.warn("[TreatmentPlanDetails] Booked appointment start_time is missing or not a string.");Fe={bookedDate:Pe,bookedTime:ve,doctorName:Ge}}return x("div",{className:"border rounded-md p-4 bg-white shadow-sm hover:shadow-md transition-shadow",children:[x("div",{className:"flex justify-between items-start",children:[x("div",{children:[l("h5",{className:"font-medium text-gray-800",children:V.type||V.title||`Visit ${se+1}`}),l("p",{className:"text-xs text-gray-500 mt-0.5 truncate max-w-md",children:V.description||V.procedures||"No description"})]}),V.status&&l("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${V.status==="completed"?"bg-green-100 text-green-700":V.status==="cancelled"?"bg-red-100 text-red-700":"bg-blue-100 text-blue-700"}`,children:V.status.charAt(0).toUpperCase()+V.status.slice(1)})]}),x("div",{className:"mt-3 space-y-2 text-xs text-gray-600",children:[x("div",{className:"flex items-center",children:[l(Oi,{className:"w-3.5 h-3.5 mr-1.5 text-gray-400"}),l("strong",{children:"Est. Visit:"})," ",V.scheduled_date||V.estimatedVisitDate||"Not set"]}),V.estimated_duration&&x("div",{className:"flex items-center",children:[l(Us,{className:"w-3.5 h-3.5 mr-1.5 text-gray-400"}),l("strong",{children:"Duration:"})," ",V.estimated_duration]}),V.time_gap&&x("div",{className:"flex items-center",children:[l(d6,{className:"w-3.5 h-3.5 mr-1.5 text-gray-400"}),l("strong",{children:"Next visit in:"})," ",V.time_gap]}),V.cost!==void 0&&V.cost!==null&&parseFloat(String(V.cost))>0&&x("div",{className:"flex items-center",children:[l(u6,{className:"w-3.5 h-3.5 mr-1.5 text-gray-400"}),l("strong",{children:"Cost:"})," ",Ll(parseFloat(String(V.cost)))]})]}),l("div",{className:"mt-4 flex justify-end items-center",children:Ee?x("div",{className:"flex items-center gap-4",children:[x("div",{className:"flex items-center justify-center h-9 px-3 text-sm font-medium text-white bg-green-500 rounded-md",children:[l(v1,{className:"w-3.5 h-3.5 mr-1.5"}),"Booked"]}),Fe&&x("div",{className:"ml-4 p-3 bg-gray-50 rounded-md border border-blue-600 space-y-2 shadow-sm",children:[x("div",{className:"flex items-center space-x-2",children:[l(lD,{className:"h-4 w-4 text-gray-500"}),l("span",{className:"text-xs text-gray-600 font-medium",children:"Date:"}),l("span",{className:"text-xs text-green-600 font-semibold",children:Fe.bookedDate})]}),x("div",{className:"flex items-center space-x-2",children:[l(Us,{className:"h-4 w-4 text-gray-500"}),l("span",{className:"text-xs text-gray-600 font-medium",children:"Time:"}),l("span",{className:"text-xs text-gray-800",children:Fe.bookedTime})]}),x("div",{className:"flex items-center space-x-2",children:[l(uD,{className:"h-4 w-4 text-gray-500"}),l("span",{className:"text-xs text-gray-600 font-medium",children:"Doctor:"}),l("span",{className:"text-xs text-gray-800",children:Fe.doctorName})]})]})]}):x(Me,{variant:"outline",size:"sm",onClick:()=>{const Pe=V.scheduled_date||V.estimatedVisitDate,ve=r.patient_id,Ge=V.id,ht=V.type||V.title||"New Appointment";if(!Pe){w({title:"Cannot Book Appointment",description:"This visit does not have a scheduled or estimated date yet.",variant:"destructive"});return}const at=new URLSearchParams({date:Pe,patientId:ve});Ge&&at.append("treatmentId",Ge),at.append("description",ht),g(`/appointments?${at.toString()}`)},disabled:u||P,children:[l(Oi,{className:"w-3.5 h-3.5 mr-1.5"}),"Book Appointment"]})})]},V.id||se)})}):x("div",{className:"text-center py-8 border rounded-lg",children:[l(Oi,{className:"h-10 w-10 mx-auto text-muted-foreground mb-3"}),l("p",{className:"text-muted-foreground",children:"No scheduled visits for this plan yet."})]})]})}),l(_a,{value:"financial",className:"space-y-4",children:x("div",{className:"border rounded-lg p-4",children:[l("h4",{className:"font-medium",children:"Financial Summary"}),x("div",{className:"mt-4 space-y-2",children:[x("div",{className:"flex justify-between",children:[l("span",{className:"text-sm",children:"Total Treatment Cost:"}),l("span",{className:"font-medium",children:Ll(r.totalCost||0)})]}),x("div",{className:"flex justify-between",children:[l("span",{className:"text-sm",children:"Insurance Coverage (Est.):"}),l("span",{className:"font-medium",children:Ll(r.insurance_coverage||0)})]}),x("div",{className:"flex justify-between",children:[l("span",{className:"text-sm",children:"Patient Responsibility:"}),l("span",{className:"font-medium",children:Ll((r.totalCost||0)-(r.insurance_coverage||0))})]})]})]})})]}),x(hs,{className:"pt-4 mt-auto dialog-footer-print-hide",children:[" ",x("div",{className:"flex gap-2 items-center",children:[r.status==="planned"&&x(Me,{variant:"outline",onClick:()=>i(r.id,"in_progress"),disabled:u,title:"Start this treatment plan",children:[u&&!y&&!_?l(Fn,{className:"mr-2 h-4 w-4 animate-spin"}):l(Us,{className:"h-4 w-4 mr-1"}),"Start Treatment"]}),(r.status==="planned"||r.status==="in_progress")&&x(ww,{open:_,onOpenChange:N,children:[l(zz,{asChild:!0,children:x(Me,{variant:"outline",disabled:u,title:"Cancel this treatment plan",children:[u&&_?l(Fn,{className:"mr-2 h-4 w-4 animate-spin"}):l(ed,{className:"h-4 w-4 mr-1"}),"Cancel Plan"]})}),x(ey,{children:[x(ty,{children:[l(ny,{children:"Cancel Treatment Plan"}),l(ay,{children:"Are you sure you want to cancel this treatment plan? This action cannot be undone."})]}),x(ry,{children:[l(sy,{children:"No, Keep Plan"}),l(iy,{onClick:()=>{i(r.id,"cancelled"),N(!1)},children:"Yes, Cancel Plan"})]})]})]}),x(ww,{open:y,onOpenChange:b,children:[l(zz,{asChild:!0,children:x(Me,{variant:"outline",disabled:u,title:"Delete this treatment plan",children:[u&&y?l(Fn,{className:"mr-2 h-4 w-4 animate-spin"}):l(lm,{className:"h-4 w-4 mr-1"}),"Delete Plan"]})}),x(ey,{children:[x(ty,{children:[l(ny,{children:"Delete Treatment Plan"}),l(ay,{children:"Are you sure you want to delete this treatment plan? This action cannot be undone."})]}),x(ry,{children:[l(sy,{children:"No, Keep Plan"}),l(iy,{onClick:()=>{s(r.id),b(!1)},children:"Yes, Delete Plan"})]})]})]}),r.status==="completed"&&x(Me,{variant:"outline",onClick:()=>i(r.id,"in_progress"),disabled:u,className:"mr-auto",children:[l(oG,{className:"h-4 w-4 mr-2"}),"Reopen Plan"]}),l(Me,{variant:"outline",onClick:()=>t(!1),disabled:u,children:"Close"}),r.status!=="completed"&&r.status!=="cancelled"&&x(Me,{onClick:()=>{if(!r.treatments||r.treatments.length===0){w({title:"No Treatments",description:"Please add at least one treatment before completing the plan.",variant:"destructive"});return}const V=r.treatments.find(se=>se.status!=="completed");if(V){const se=V.visit_number?`Visit ${V.visit_number}`:V.type||V.title||"a treatment";w({title:"Cannot Complete Plan",description:`Please complete ${se} before marking the entire plan as completed.`,variant:"destructive"});return}i(r.id,"completed")},disabled:u||!r.treatments||r.treatments.length===0,variant:"default",children:[l(v1,{className:"h-4 w-4 mr-2"}),"Mark as Completed"]})]})]})]})})]})}),l(Rne,{plan:{...r,patient:{full_name:r.patientName,age:((ie=r.patient)==null?void 0:ie.age)||0,gender:((oe=r.patient)==null?void 0:oe.gender)||"",registration_number:((ue=r.patient)==null?void 0:ue.registration_number)||"",...r.patient}},treatmentsWithEstimatedDates:B})]})}async function ZMe(e,t){if(!e)return;const r=new Hr,n=r.internal.pageSize.height,a=r.internal.pageSize.width,i=14;let s=20;r.setFont("helvetica","normal");const o=L=>{r.setDrawColor(200,200,200),r.line(i,L,a-i,L)};try{const L=await fetch("https://i.postimg.cc/j2qGSXwJ/facetslogo.png");if(!L.ok)throw new Error(`Failed to fetch logo: ${L.status} ${L.statusText}`);const j=await L.blob();if(j.size===0)throw new Error("Fetched logo blob is empty.");const T=new FileReader,B=await new Promise((Q,D)=>{T.onloadend=()=>T.result?Q(T.result):D(new Error("FileReader failed to read blob.")),T.onerror=K=>D(K),T.readAsDataURL(j)});if(!B.startsWith("data:image"))throw new Error("Generated Data URL is not an image.");const G=r.getImageProperties(B),Z=12,re=G.width*Z/G.height,W=i,z=s-7;r.addImage(B,G.fileType.toUpperCase(),W,z,re,Z),r.setFontSize(20),r.setFont("helvetica","bold");const U=W+re+10,Y=z+Z/2;r.text("Treatment Plan Report",U,Y,{baseline:"middle"}),r.setFont("helvetica","normal"),s+=Math.max(Z,10)+10}catch(L){console.error("Error loading logo:",L),r.setFontSize(20),r.setFont("helvetica","bold"),r.text("Treatment Plan Report",a/2,s,{align:"center"}),r.setFont("helvetica","normal"),s+=18}o(s),s+=12,r.setFontSize(14),r.setFont("helvetica","bold"),r.text("Patient & Plan Details",i,s),r.setFont("helvetica","normal"),s+=10;const c=[["Patient Name:",e.patientName],["Plan Title:",e.title],["Plan Description:",e.description||"N/A"],["Plan Dates:",`${Rt(new Date(e.start_date),"MMM d, yyyy")}${e.end_date?` to ${Rt(new Date(e.end_date),"MMM d, yyyy")}`:""}`],["Priority:",e.priority?e.priority.charAt(0).toUpperCase()+e.priority.slice(1):"N/A"],["Status:",e.status?e.status.replace("_"," ").charAt(0).toUpperCase()+e.status.replace("_"," ").slice(1):"N/A"]];d1(r,{body:c,startY:s,theme:"plain",styles:{fontSize:8,cellPadding:1.5,font:"helvetica",valign:"middle"},columnStyles:{0:{fontStyle:"bold",cellWidth:45},1:{cellWidth:"auto"}},didDrawPage:L=>{const j=r.getNumberOfPages();r.setFontSize(8),r.text(`Page ${L.pageNumber} of ${j}`,L.settings.margin.left,n-10)}}),s=r.lastAutoTable.finalY+10,o(s),s+=12,s>n-60&&(r.addPage(),s=20),r.setFontSize(14),r.setFont("helvetica","bold"),r.text("Treatments / Visits",i,s),r.setFont("helvetica","normal"),s+=10;const u=["#","Treatment / Visit","Procedures","Status","Date","Cost"],d=[],f=70,h=43,m=1.5,w=m*2,g=f-w,y=h-w;(t||[]).forEach((L,j)=>{const T=L.scheduled_date?Rt(new Date(L.scheduled_date),"MMM d, yyyy"):L.completed_date?Rt(new Date(L.completed_date),"MMM d, yyyy"):L.estimatedVisitDate?Rt(new Date(L.estimatedVisitDate),"MMM d, yyyy"):"N/A",I=L.cost?Ll(parseFloat(String(L.cost))):"N/A",B=L.type||L.title||"N/A",Z=r.splitTextToSize(B,g).join(`
`),re=L.description||L.procedures||"N/A",z=r.splitTextToSize(re,y).join(`
`),U=[L.visit_number||j+1,Z,z,L.status?L.status.charAt(0).toUpperCase()+L.status.slice(1):"N/A",T,I];d.push(U)}),d.length===0?(r.setFontSize(9),r.text("No treatments or visits recorded for this plan.",i,s),s+=10):(d1(r,{head:[u],body:d,startY:s,theme:"grid",headStyles:{fillColor:[0,96,223],textColor:255,fontStyle:"bold",font:"helvetica",fontSize:9,valign:"middle"},styles:{fontSize:7,cellPadding:m,font:"helvetica",valign:"middle"},columnStyles:{0:{cellWidth:6,halign:"center"},1:{cellWidth:f},2:{cellWidth:h},3:{cellWidth:22,halign:"center"},4:{cellWidth:16,halign:"center"},5:{cellWidth:25,halign:"right",cellPadding:{top:m,bottom:m,left:m,right:2}}},didDrawPage:L=>{const j=r.getNumberOfPages();r.setFontSize(8),r.text(`Page ${L.pageNumber} of ${j}`,L.settings.margin.left,n-10)}}),s=r.lastAutoTable.finalY+15),o(s),s+=12,s>n-75&&(r.addPage(),s=20),r.setFontSize(14),r.setFont("helvetica","bold"),r.text("Financial Summary",i,s),r.setFont("helvetica","normal"),s+=10;const b=["Item","Amount"],_=[["Total Treatment Cost:",Ll(e.totalCost||0)],["Insurance Coverage (Est.):",Ll(e.insurance_coverage||0)],["Patient Responsibility:",Ll((e.totalCost||0)-(e.insurance_coverage||0))]],N=a-i*2-50;if(d1(r,{head:[b],body:_,startY:s,theme:"grid",headStyles:{fillColor:[0,96,223],textColor:255,fontStyle:"bold",halign:"center",font:"helvetica",fontSize:9,valign:"middle"},styles:{fontSize:8,cellPadding:2,font:"helvetica",valign:"middle"},columnStyles:{0:{cellWidth:N,fontStyle:"bold"},1:{cellWidth:50,halign:"right",cellPadding:{top:2,bottom:2,left:2,right:3}}},didDrawPage:L=>{const j=r.getNumberOfPages();r.setFontSize(8),r.text(`Page ${L.pageNumber} of ${j}`,L.settings.margin.left,n-10)}}),s=r.lastAutoTable.finalY+15,o(s),s+=12,s>n-60&&(r.addPage(),s=20),r.setFontSize(14),r.setFont("helvetica","bold"),r.text("Clinical Information",i,s),r.setFont("helvetica","normal"),s+=10,r.setFontSize(9),e.metadata&&e.metadata.length>0){const L=e.metadata[0];[{label:"Clinical Considerations:",value:L.clinical_considerations},{label:"Key Materials:",value:L.key_materials},{label:"Post-Treatment Care:",value:L.post_treatment_care}].forEach(T=>{s>n-25&&(r.addPage(),s=20),r.setFont("helvetica","bold"),r.text(T.label,i,s),s+=6,r.setFont("helvetica","normal");const I=T.value||"Not Specified",B=r.splitTextToSize(I,a-i*2);r.text(B,i,s),s+=B.length*4.5+5})}else r.text("No additional clinical information available.",i,s),s+=7;s+=8,o(s),s+=12,n-s<50&&(r.addPage(),s=i);const C=a/2-i-35,O=n-35;r.setFontSize(9),r.setFont("helvetica","normal"),r.text("Doctor Signature:",i,O),r.line(i+r.getTextWidth("Doctor Signature:")+5,O+1,i+r.getTextWidth("Doctor Signature:")+5+C,O+1);const P=a/2+15;r.text("Patient Signature:",P,O),r.line(P+r.getTextWidth("Patient Signature:")+5,O+1,P+r.getTextWidth("Patient Signature:")+5+C,O+1);const M=r.getNumberOfPages();for(let L=1;L<=M;L++)r.setPage(L),r.lastAutoTable&&L<=r.lastAutoTable.pageCount||(r.setFontSize(8),r.text(`Page ${L} of ${M}`,i,n-10));r.save(`Treatment_Plan_${e.patientName.replace(/[^a-zA-Z0-9]/g,"_")}_${e.id.substring(0,8)}.pdf`)}function PO(){return 12e4}function QMe({patientId:e,toothIds:t,domain:r,condition:n,matrixDetails:a,selectedTreatment:i,symptoms:s,description:o,patientRecord:c,onSuggestionApply:u,disabled:d=!1,source:f}){const[h,m]=S.useState(!1),[w,g]=S.useState([]),{toast:y}=bn(),[b,_]=S.useState(null),[N,E]=S.useState(null),[C,O]=S.useState(null),[P,M]=S.useState(null);return x("div",{className:"space-y-4",children:[l("div",{className:"flex justify-center",children:l(Me,{type:"button",onClick:async()=>{var I,B;if(h)return;if(!i){y({title:"Missing Information",description:"Please select a treatment option first.",variant:"destructive"});return}m(!0),g([]);const j=new AbortController,T=setTimeout(()=>j.abort(),PO());try{const G=j.signal;G.throwIfAborted();const Z="https://n8n1.kol.tel/webhook/2169736a-368b-49b5-b93f-ffc215203d99";let re=c;if(!re||!re.first_name)try{re=await(await nd(()=>Promise.resolve().then(()=>eye),void 0)).api.patients.getById(e)}catch{y({title:"Error",description:"Could not fetch full patient details.",variant:"destructive"}),m(!1),clearTimeout(T);return}const W={patientId:e,toothIds:t,domain:r,condition:n,treatment:i,details:a,patientDetails:re,userInput:{symptoms:s,description:o}};console.log(`[AI SUGGESTION][${typeof f=="string"?f:"patient-section"}] Sending payload to n8n:`,JSON.parse(JSON.stringify(W)));const U=await fetch(Z,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(W)});if(G.throwIfAborted(),clearTimeout(T),!U.ok)throw new Error(`AI suggestion failed: ${U.status}`);const Q=(B=(I=(await U.json())[0])==null?void 0:I.output)==null?void 0:B.response;if(!Q||!Q.treatmentPlans||!Array.isArray(Q.treatmentPlans))throw new Error("Invalid AI response structure: treatmentPlans missing or not an array.");const D=Q.treatmentPlans.map(K=>{var fe,te,Ee;const J=K.planName,ne=J==null?void 0:J.toLowerCase(),ie=(te=(fe=Q.caseOverview)==null?void 0:fe.patientSelectedTreatment)==null?void 0:te.toLowerCase(),oe=ne==null?void 0:ne.includes("(patient-selected)"),ue=ne==null?void 0:ne.includes("(patient selected)"),V=ie&&(ne==null?void 0:ne.startsWith(ie)),se=oe||ue||V;return console.log(`[AISuggestionForm] Plan: ${J} | Lower: ${ne} | C1: ${oe} | C2: ${ue} | patientSelectedTreatmentLower: ${ie} | C3 (startsWith): ${V} | FINAL isPatientSelected: ${se}`),console.log(`[AISuggestionForm] Raw AI plan object for: ${J}`,K),console.log(`[AISuggestionForm] Metadata source fields for: ${J}`,{aiPlanClinicalConsiderations:K.clinicalConsiderations,aiPlanKeyMaterials:K.keyMaterials,aiOutputPostTreatmentCare:Q.postTreatmentCare}),{title:K.planName,description:Q.clinicalAssessment||"",planDetails:{planName:K.planName,clinicalProtocol:K.clinicalProtocol,keyMaterials:K.keyMaterials,clinicalConsiderations:K.clinicalConsiderations,expectedOutcomes:K.expectedOutcomes,appointmentPlan:K.appointmentPlan||((Ee=K.planDetails)==null?void 0:Ee.appointmentPlan),isPatientSelected:se},caseOverview:Q.caseOverview,patientFactors:Q.patientFactors,recommendedInvestigations:Q.recommendedInvestigations,clinicalRationale:Q.clinicalRationale,postTreatmentCare:Q.postTreatmentCare||""}});g(D)}catch(G){clearTimeout(T),console.error("Error generating suggestions:",G),G instanceof Error&&G.name==="AbortError"?y({title:"Request Timed Out",description:"The AI suggestion service took too long to respond (120 seconds).",variant:"destructive"}):y({title:"Generation Failed",description:G instanceof Error?G.message:"Failed to generate suggestions",variant:"destructive"})}finally{m(!1)}},disabled:d||!i,className:`ai-insights-button w-full flex items-center justify-center py-2 px-4 rounded-lg bg-[#1B56FD] text-white hover:bg-[#0118D8] ${h?"opacity-100 cursor-not-allowed":""}`,style:h?{opacity:1}:{},children:h?x(Nr,{children:[l(Fn,{className:"mr-2 h-4 w-4 animate-spin"}),"AI is thinking... (this may take up to 2 minutes)"]}):x(Nr,{children:[l(q0,{className:"mr-2 h-4 w-4"}),"Generate AI Suggestions"]})})}),w.length>0&&x("div",{className:"mt-4 space-y-4",children:[l("h4",{className:"font-semibold text-sm",children:"Generated Treatment Plans"}),l("div",{className:"space-y-4",children:w.map((j,T)=>{var Z,re,W,z,U;const I=j.planDetails.isPatientSelected,B=C===T,G=C!==null;return x("div",{className:Lt("rounded-xl shadow-md overflow-hidden mb-6 transition-opacity",I?"border-2 border-primary/70 bg-primary/5":"bg-white border border-muted/30",G&&!B&&"opacity-60 pointer-events-none select-none"),children:[x("div",{className:Lt("flex items-start justify-between p-4",I?"bg-primary/10":"bg-white"),children:[x("div",{children:[x("div",{className:"flex items-center gap-2 mb-1",children:[l("h5",{className:"font-semibold text-lg",children:j.title}),I&&l("span",{className:"px-3 py-1 rounded-full bg-primary text-white text-xs font-medium align-middle",children:"Patient Selected"}),!I&&l("span",{className:"px-3 py-1 rounded-full bg-blue-100 text-blue-700 text-xs font-medium align-middle",children:"Alternative"})]}),x("div",{className:"flex gap-4 mt-1 text-xs text-muted-foreground",children:[x("span",{children:[l("strong",{children:"Condition:"})," ",(Z=j.caseOverview)==null?void 0:Z.condition]}),x("span",{children:[l("strong",{children:"Severity:"})," ",(re=j.caseOverview)==null?void 0:re.severity]}),x("span",{children:[l("strong",{children:"Teeth:"})," ",(W=j.caseOverview)==null?void 0:W.teethInvolved]})]}),((z=j.caseOverview)==null?void 0:z.patientSymptoms)&&x("div",{className:"text-xs mt-1",children:[l("strong",{children:"Symptoms:"})," ",j.caseOverview.patientSymptoms]}),((U=j.caseOverview)==null?void 0:U.patientSelectedTreatment)&&x("div",{className:"text-xs",children:[l("strong",{children:"Patient Preference:"})," ",j.caseOverview.patientSelectedTreatment]})]}),l(Me,{type:"button",variant:I?"default":"outline",size:"sm",onClick:()=>M(T),className:Lt("ml-4",I?"bg-primary text-white hover:bg-primary/90":"border-primary text-primary hover:bg-primary/10",G&&!B&&"opacity-60 pointer-events-none select-none"),disabled:d||G&&!B,children:B?x(Nr,{children:[l("svg",{className:"mr-2 h-4 w-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),"Applied"]}):x(Nr,{children:[I?l("svg",{className:"mr-2 h-4 w-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}):l("svg",{className:"mr-2 h-4 w-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})}),I?"Apply Patient Selected Plan":"Apply Alternative Plan"]})})]}),x(G4,{type:"single",collapsible:!0,className:"w-full",children:[x(no,{value:"clinical-assessment",children:[l(ao,{className:"px-4",children:"Overall Clinical Assessment"}),l(io,{className:"px-4 pb-4",children:l("p",{className:"text-sm text-muted-foreground whitespace-pre-line",children:j.description})})]}),j.patientFactors&&x(no,{value:"patient-factors",children:[l(ao,{className:"px-4",children:"Patient Factors"}),x(io,{className:"px-4 pb-4 text-sm space-y-1",children:[x("p",{children:[l("strong",{children:"Relevant Medical Conditions:"})," ",j.patientFactors.relevantMedicalConditions]}),x("p",{children:[l("strong",{children:"Medication Considerations:"})," ",j.patientFactors.medicationConsiderations]}),x("p",{children:[l("strong",{children:"Age-Related Considerations:"})," ",j.patientFactors.ageRelatedConsiderations]})]})]}),j.recommendedInvestigations&&x(no,{value:"recommended-investigations",children:[l(ao,{className:"px-4",children:"Recommended Investigations"}),l(io,{className:"px-4 pb-4 text-sm",children:l("p",{children:j.recommendedInvestigations})})]}),x(no,{value:"plan-details",children:[x(ao,{className:"px-4",children:["Details for: ",j.planDetails.planName]}),l(io,{className:"px-4 pb-4",children:x("div",{className:"space-y-3 text-sm",children:[x("div",{children:[l("p",{className:"font-medium",children:"Clinical Protocol:"}),l("p",{className:"text-muted-foreground whitespace-pre-line",children:j.planDetails.clinicalProtocol})]}),x("div",{children:[l("p",{className:"font-medium",children:"Key Materials:"}),l("p",{className:"text-muted-foreground",children:j.planDetails.keyMaterials})]}),x("div",{children:[l("p",{className:"font-medium",children:"Clinical Considerations:"}),l("p",{className:"text-muted-foreground whitespace-pre-line",children:j.planDetails.clinicalConsiderations})]}),x("div",{children:[l("p",{className:"font-medium",children:"Expected Outcomes:"}),l("p",{className:"text-muted-foreground whitespace-pre-line",children:j.planDetails.expectedOutcomes})]})]})})]}),j.planDetails.appointmentPlan&&x(no,{value:"appointment-plan",children:[l(ao,{className:"px-4",children:x("span",{className:"flex items-center",children:[l(Oi,{className:"mr-2 h-4 w-4"}),"Appointment Plan"]})}),l(io,{className:"px-4 pb-4",children:x("div",{className:"space-y-3 text-sm",children:[x("div",{className:"flex items-center gap-4 text-muted-foreground mb-2",children:[x("div",{children:[l(Us,{className:"h-4 w-4 inline mr-1"}),x("span",{children:["Total Sittings: ",j.planDetails.appointmentPlan.totalSittings]})]}),x("div",{children:[l(Oi,{className:"h-4 w-4 inline mr-1"}),x("span",{children:["Total Duration: ",j.planDetails.appointmentPlan.totalTreatmentTime]})]})]}),j.planDetails.appointmentPlan.medicalPrecautions&&x("div",{className:"mb-3",children:[l("p",{className:"font-medium",children:"Medical Precautions:"}),l("p",{className:"text-muted-foreground whitespace-pre-line",children:j.planDetails.appointmentPlan.medicalPrecautions})]}),l("div",{className:"space-y-2",children:j.planDetails.appointmentPlan.sittingDetails.map((Y,Q)=>x("div",{className:"border rounded p-3 bg-background",children:[x("p",{className:"font-medium",children:["Visit ",Y.visit]}),l("p",{className:"text-muted-foreground mt-1",children:Y.procedures}),x("div",{className:"mt-2 text-xs text-muted-foreground flex items-center gap-3",children:[x("p",{className:"flex items-center",children:[l(Us,{className:"h-3 w-3 mr-1"}),"Duration: ",Y.estimatedDuration]}),Y.timeGap!=="N/A"&&x("p",{className:"flex items-center",children:[l(Oi,{className:"h-3 w-3 mr-1"}),"Next visit in: ",Y.timeGap]})]})]},Q))})]})})]}),j.clinicalRationale&&x(no,{value:"clinical-rationale",children:[l(ao,{className:"px-4",children:"Clinical Rationale"}),l(io,{className:"px-4 pb-4 text-sm",children:l("p",{className:"whitespace-pre-line",children:j.clinicalRationale})})]}),x(no,{value:"post-care",children:[l(ao,{className:"px-4",children:"Post-Treatment Care"}),l(io,{className:"px-4 pb-4",children:l("p",{className:"text-sm text-muted-foreground",children:j.postTreatmentCare})})]})]}),l(ww,{open:P===T,children:x(ey,{children:[x(ty,{children:[l(ny,{children:"Apply this plan?"}),l(ay,{children:"Are you sure you want to apply this treatment plan? This will pre-fill the form with the selected plan's details."})]}),x(ry,{children:[l(sy,{onClick:()=>M(null),children:"Cancel"}),l(iy,{onClick:()=>{O(T),M(null),u(j)},children:"Apply"})]})]})})]},T)})})]})]})}const e7e=Re.object({symptoms:Re.string().min(1,"Symptoms are required"),description:Re.string().min(1,"Description is required"),patient_id:Re.string().min(1,"Patient is required"),domain:Re.string().optional(),condition:Re.string().optional(),treatment:Re.string().min(1,"Select a treatment").optional(),estimated_duration:Re.string().optional(),total_visits:Re.string().optional(),materials:Re.string().optional(),clinical_considerations:Re.string().optional(),post_treatment_care:Re.string().optional(),status:Re.enum(["planned","in_progress","completed","cancelled"]).optional(),start_date:Re.string().optional(),priority:Re.enum(["low","medium","high"]).optional(),ai_generated:Re.boolean().optional(),initialTreatments:Re.array(Re.any()).optional(),originalAISuggestion:Re.any().optional()});function TO({open:e,onOpenChange:t,onSubmit:r,patients:n,loading:a=!1,initialData:i,lockPatientId:s}){const[o,c]=S.useState(""),[u,d]=S.useState(null),[f,h]=S.useState(!1),[m,w]=S.useState(null),[g,y]=S.useState(null),[b,_]=S.useState(null),[N,E]=S.useState(!1),[C,O]=S.useState([]),[P,M]=S.useState(!1),[L,j]=S.useState([]),[T,I]=S.useState(Date.now()),[B,G]=S.useState({}),[Z,re]=S.useState([]),[W,z]=S.useState([]),[U,Y]=S.useState([]),[Q,D]=S.useState(!1),[K,J]=S.useState(null),[ne,ie]=S.useState(!1),[oe,ue]=S.useState([]),[V,se]=S.useState(!1),[fe,te]=S.useState(!1),[Ee,Fe]=S.useState(null),[Pe,ve]=S.useState(null),[Ge,ht]=S.useState(!1),[at,St]=S.useState(!1),{toast:wt}=bn(),_e=S.useRef(null);Ss();const ge=pd({resolver:md(e7e),defaultValues:i||{symptoms:"",description:"",patient_id:"",domain:"",condition:"",treatment:"",estimated_duration:"",total_visits:"",materials:"",clinical_considerations:"",post_treatment_care:"",status:"planned",start_date:Rt(new Date,"yyyy-MM-dd"),priority:"medium",ai_generated:!1,initialTreatments:[],originalAISuggestion:null}});S.useEffect(()=>{e?ge.reset({symptoms:"",description:"",patient_id:g||"",domain:"",condition:"",treatment:"",estimated_duration:"",total_visits:"",materials:"",clinical_considerations:"",post_treatment_care:""}):(O([]),y(null),d(null),c(""),J(null),ue([]),se(!1),_(null),Fe(null),E(!1),ge.reset(),M(!1),j([]))},[e,g]),S.useEffect(()=>{e&&(async()=>{D(!0);try{const Dt=await It.getTreatmentMatrixOptions();re(Dt);const Vr=[...new Set(Dt.map(gr=>gr.domain))].sort();z(Vr),Y([])}catch(Dt){console.error("Failed to fetch treatment options:",Dt)}finally{D(!1)}})()},[e]);const Ce=ge.watch("domain");S.useEffect(()=>{if(console.log(`Domain changed to: ${Ce}. Full matrix options:`,Z),Ce){const ct=Z.filter(Dt=>Dt.domain===Ce).map(Dt=>Dt.condition).sort();console.log(`Filtered conditions for ${Ce}:`,ct),Y(ct)}else Y([]),J(null),ue([])},[Ce,Z,ge]),S.useEffect(()=>{if(!Ce||!Pe){J(null);return}(async()=>{ie(!0);try{console.log(`Fetching matrix details for Domain: ${Ce}, Condition: ${Pe}`);const Dt=await It.getMatrixDetails(Ce,Pe);J(Dt)}catch(Dt){console.error("Failed to fetch matrix details:",Dt),J(null),wt({title:"Error",description:"Could not load details for the selected domain/condition.",variant:"destructive"})}finally{ie(!1)}})()},[Ce,Pe,ge,wt]);const Je=ct=>{ge.setValue("domain",ct),J(null),ue([])},Qe=async ct=>{y(ct.id),d(`${ct.first_name||""} ${ct.last_name||""}`.trim()),ge.setValue("patient_id",ct.id,{shouldValidate:!0}),c(""),G({}),O([]),_(null),E(!0);try{console.log(`Fetching full patient details for patient: ${ct.id}`);const Dt=await It.patients.getById(ct.id);_(Dt),console.log("Fetched full patient record:",Dt),console.log(`Fetching tooth conditions for patient: ${ct.id}`);const Vr=await It.patients.getPatientToothConditions(ct.id);console.log("Fetched conditions data:",Vr);const gr={},Kr=[];Vr.forEach(fr=>{const Er=Array.isArray(fr.conditions)?fr.conditions.filter(hr=>typeof hr=="string"&&["healthy","decayed","filled","missing","treatment-planned","root-canal","extraction","crown","has-treatment-before","recommended-to-be-treated"].includes(hr)):[],hn=Er.length>0?Er:["healthy"],Mr=hn.length>1||hn.length===1&&hn[0]!=="healthy";fr.tooth_id&&(gr[fr.tooth_id]={conditions:hn,isSelected:Mr},Mr&&Kr.push(fr.tooth_id))}),console.log("Formatted initialState for chart:",gr),console.log("Initially selected IDs based on conditions:",Kr),G(gr),O(Kr)}catch(Dt){console.error("Failed to fetch patient details or tooth conditions:",Dt),wt({title:"Error Loading Patient Data",description:"Could not load patient details or tooth conditions.",variant:"destructive"}),_(null),G({}),O([])}finally{E(!1)}},Xe=ct=>{j(ct)},Ke=async()=>{if(!_e.current||!g){console.error("Dental chart ref not available or no patient selected."),wt({title:"Error",description:"Could not save chart data. Please try again.",variant:"destructive"});return}te(!0);try{const ct=_e.current.getTeethData(),Dt=_e.current.getLastActiveCondition();console.log("Data from chart ref:",ct),console.log("Last active condition from chart ref:",Dt);const Vr=Object.entries(ct).filter(([,fr])=>fr.isSelected&&fr.condition!=="healthy").map(([fr,Er])=>({tooth_id:parseInt(fr,10),conditions:[Er.condition],patient_id:g}));console.log("Filtered and transformed data to save:",Vr),await It.patients.savePatientToothConditionsDetailed(g,Vr);const gr=Object.entries(ct).filter(([,fr])=>fr.isSelected).map(([fr])=>parseInt(fr,10));O(gr);const Kr={};if(Object.entries(ct).forEach(([fr,Er])=>{Kr[parseInt(fr,10)]={condition:Er.condition,conditions:[Er.condition],isSelected:Er.isSelected}}),G(Kr),Dt)ve(Dt);else{const fr=Object.values(ct).find(Er=>Er.isSelected&&Er.condition!=="healthy");ve((fr==null?void 0:fr.condition)||null)}wt({title:"Chart Saved",description:"Patient's tooth conditions have been updated.",variant:"default"}),M(!1)}catch(ct){console.error("Failed to save tooth conditions:",ct),wt({title:"Save Failed",description:"Could not save tooth conditions to the database.",variant:"destructive"})}finally{te(!1)}},At=()=>{if(!g){wt({title:"No Patient Selected",description:"Please select a patient before opening the dental chart.",variant:"default"});return}console.log("Opening chart dialog with prepared initial state:",B),j([...C]),I(Date.now()),M(!0)};S.useEffect(()=>{console.log("isChartDialogOpen state changed:",P)},[P]);const Nt=async ct=>{if(!g){wt({title:"Patient Not Selected",description:"Please select a patient before submitting.",variant:"destructive"});return}let Dt={...ct};Dt.symptoms&&(Dt.title=Dt.symptoms,delete Dt.symptoms),delete Dt.patient_name,Ee?Dt.originalAISuggestion=Ee:Dt.ai_generated=!1;try{await r(Dt,C),ge.reset(),Fe(null),t(!1)}catch(Vr){console.error("Error submitting treatment plan form:",Vr),wt({title:"Submission Error",description:"Failed to save the treatment plan. Please try again.",variant:"destructive"})}};S.useCallback(async()=>{var ct,Dt;if(!g||C.length===0||!Ce||!b){wt({title:"Missing Information",description:"Please select patient, teeth (and apply conditions in chart), and domain first.",variant:"default",duration:3e3});return}se(!0),ue([]);try{const Vr="https://n8n1.kol.tel/webhook/2169736a-368b-49b5-b93f-ffc215203d99",gr={patientId:g,toothIds:C,domain:Ce,details:K,treatment:ge.getValues("treatment")||"",patientRecord:b};console.log("[AI SUGGESTION][main-treatment-plan] Sending payload to n8n:",JSON.parse(JSON.stringify(gr)));const Kr=await fetch(Vr,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(gr)});if(!Kr.ok){const Mr=await Kr.text();throw console.error("Error response from n8n webhook:",Kr.status,Mr),new Error(`AI suggestion call failed: ${Kr.status}`)}const fr=await Kr.json();console.log("Received response from n8n:",fr);const Er=(Dt=(ct=fr[0])==null?void 0:ct.output)==null?void 0:Dt.response;if(!Er||!Er.treatmentPlans||!Array.isArray(Er.treatmentPlans)){console.warn("Invalid AI response structure: treatmentPlans missing or not an array. Response:",fr),ue([]),wt({title:"AI Response Error",description:"The AI returned an unexpected data format.",variant:"destructive"}),se(!1);return}const hn=Er.treatmentPlans.map(Mr=>{var yt,Fr,ta,bt,gt,Jt;const hr=Mr.planName,Zr=hr==null?void 0:hr.toLowerCase(),Fi=ge.getValues("treatment")||"",la=Fi==null?void 0:Fi.toLowerCase();let Wa=!1;Zr&&(Wa=Zr.includes("(patient-selected)")||Zr.includes("(patient selected)"),!Wa&&la&&Zr.startsWith(la)&&(Wa=!0));const lt={condition:Ce||((yt=Er.caseOverview)==null?void 0:yt.condition)||"N/A",severity:(K==null?void 0:K.severity)||((Fr=Er.caseOverview)==null?void 0:Fr.severity)||"N/A",teethInvolved:C.join(", ")||((ta=Er.caseOverview)==null?void 0:ta.teethInvolved)||"N/A",patientSymptoms:ge.getValues("symptoms")||((bt=Er.caseOverview)==null?void 0:bt.patientSymptoms),patientSelectedTreatment:Fi||((gt=Er.caseOverview)==null?void 0:gt.patientSelectedTreatment)};return{title:Mr.planName||"AI Suggested Plan",description:Er.clinicalAssessment||Mr.description||Mr.clinicalProtocol||"No detailed assessment provided.",planDetails:{planName:Mr.planName,clinicalProtocol:Mr.clinicalProtocol,keyMaterials:Mr.keyMaterials,clinicalConsiderations:Mr.clinicalConsiderations,expectedOutcomes:Mr.expectedOutcomes,appointmentPlan:Mr.appointmentPlan||((Jt=Mr.planDetails)==null?void 0:Jt.appointmentPlan),isPatientSelected:Wa},caseOverview:lt,patientFactors:Er.patientFactors,recommendedInvestigations:Er.recommendedInvestigations,clinicalRationale:Er.clinicalRationale,postTreatmentCare:Er.postTreatmentCare||Mr.postTreatmentCare||""}});hn.length>0?(ue(hn),wt({title:"AI Suggestions Ready",description:`Received ${hn.length} new suggestions.`,variant:"default",duration:3e3})):(console.warn("Parsed suggestions array is empty. Raw AI output:",Er),ue([]),wt({title:"No Specific Suggestions",description:"The AI did not return specific treatment plans based on the input.",variant:"default",duration:3e3}))}catch(Vr){console.error("Error fetching AI suggestions:",Vr),wt({title:"AI Suggestion Failed",description:Vr instanceof Error?Vr.message:"Could not get suggestions. Check console.",variant:"destructive",duration:5e3}),ue([])}finally{se(!1)}},[g,C,Ce,K,ge,wt,b]);const vt=ct=>{var Dt,Vr,gr,Kr,fr,Er;if(Fe(ct),ge.setValue("symptoms",ct.title),ge.setValue("description",ct.description),(Dt=ct.planDetails)!=null&&Dt.clinicalConsiderations&&ge.setValue("clinical_considerations",ct.planDetails.clinicalConsiderations),ct.postTreatmentCare&&ge.setValue("post_treatment_care",ct.postTreatmentCare),(Vr=ct.planDetails)!=null&&Vr.keyMaterials&&ge.setValue("materials",ct.planDetails.keyMaterials),(Kr=(gr=ct.planDetails)==null?void 0:gr.appointmentPlan)!=null&&Kr.totalSittings&&ge.setValue("total_visits",ct.planDetails.appointmentPlan.totalSittings),(Er=(fr=ct.planDetails)==null?void 0:fr.appointmentPlan)!=null&&Er.totalTreatmentTime&&ge.setValue("estimated_duration",ct.planDetails.appointmentPlan.totalTreatmentTime),K!=null&&K.treatment_options&&Array.isArray(K.treatment_options)&&ct.title){const hn=K.treatment_options.find(Mr=>ct.title.toLowerCase().includes(Mr.toLowerCase()));hn&&ge.setValue("treatment",hn)}ge.setValue("ai_generated",!0),wt({title:"AI Suggestion Applied",description:`"${ct.title}" has been pre-filled into the form.`})},Tr=ct=>{ct?t(!0):(ht(!0),St(!0))},cr=()=>{ht(!1),St(!1)},Nn=()=>{ht(!1),St(!1),t(!1)};return S.useEffect(()=>{s&&(y(s),d(null),ge.setValue("patient_id",s))},[s]),x(Nr,{children:[l(Hn,{open:e,onOpenChange:Tr,children:x(qn,{className:"max-w-3xl w-full max-h-[90vh] overflow-y-auto p-8 rounded-xl",children:[x(Jn,{children:[l(Zn,{children:"Create New Treatment Plan"}),l(ds,{children:"Create a comprehensive treatment plan for a patient"})]}),l(Mh,{...ge,children:x("form",{onSubmit:ge.handleSubmit(Nt),className:"space-y-4 pb-6",children:[!s&&l(Ve,{control:ge.control,name:"patient_id",render:({field:ct})=>x(Ie,{className:"relative",children:[l(De,{htmlFor:"patient-search",children:"Patient *"}),l(Le,{children:l(dt,{type:"search",id:"patient-search",value:o,onChange:Dt=>{c(Dt.target.value),d(null)},placeholder:u||"Search by name, phone, or registration...",disabled:f,className:"w-full"})}),f&&l("p",{className:"text-sm text-muted-foreground mt-1",children:"Loading patients..."}),m&&l("p",{className:"text-sm text-destructive mt-1",children:m}),o&&!f&&!m&&l(id,{className:"absolute z-10 w-full bg-background border rounded-md shadow-lg mt-1 max-h-60",children:l("div",{className:"p-2",children:n.filter(Dt=>{var Er,hn;const Vr=`${Dt.first_name||""} ${Dt.last_name||""}`.toLowerCase(),gr=((Er=Dt.phone)==null?void 0:Er.toLowerCase())||"",Kr=((hn=Dt.registration_number)==null?void 0:hn.toLowerCase())||"",fr=o.toLowerCase();return Vr.includes(fr)||gr.includes(fr)||Kr.includes(fr)}).length>0?n.filter(Dt=>{var Er,hn;const Vr=`${Dt.first_name||""} ${Dt.last_name||""}`.toLowerCase(),gr=((Er=Dt.phone)==null?void 0:Er.toLowerCase())||"",Kr=((hn=Dt.registration_number)==null?void 0:hn.toLowerCase())||"",fr=o.toLowerCase();return Vr.includes(fr)||gr.includes(fr)||Kr.includes(fr)}).map(Dt=>l(Me,{variant:"ghost",className:"w-full justify-start text-left h-auto py-2 px-3 mb-1",onClick:()=>Qe(Dt),type:"button",children:x("div",{children:[l("div",{children:`${Dt.first_name||""} ${Dt.last_name||""}`.trim()}),x("div",{className:"text-xs text-muted-foreground",children:[Dt.registration_number&&`Reg: ${Dt.registration_number}`,Dt.registration_number&&Dt.phone&&" | ",Dt.phone&&`Ph: ${Dt.phone}`]})]})},Dt.id)):x("p",{className:"text-sm text-muted-foreground p-2",children:['No patients found matching "',o,'"']})})}),l(et,{})]})}),g&&l(Ve,{control:ge.control,name:"domain",render:({field:ct})=>x(Ie,{children:[l(De,{children:"Domain"}),x(Ur,{onValueChange:Je,value:ct.value||"",disabled:Q,children:[l(Le,{children:l(jr,{children:l(qr,{placeholder:Q?"Loading...":"Select domain"})})}),l($r,{children:Q?l(mt,{value:"loading",disabled:!0,children:"Loading..."}):W.map(Dt=>l(mt,{value:Dt,children:Dt.charAt(0).toUpperCase()+Dt.slice(1)},Dt))})]}),l(et,{})]})}),g&&Ce&&x(Ie,{children:[l(De,{children:"Affected Teeth & Conditions"}),x("div",{className:"flex items-center gap-2",children:[x(Me,{type:"button",variant:"outline",onClick:At,disabled:!g||!Ce,children:[l(mx,{className:"mr-2 h-4 w-4"}),"Select Teeth & Apply Domain Conditions"]}),C.length>0&&x("span",{className:"text-sm text-muted-foreground",children:["Selected: ",C.join(", ")]})]}),l(gi,{children:"Select the patient and domain first, then specify affected teeth and apply conditions from the selected domain."})]}),ne&&x("div",{className:"flex justify-center items-center p-4",children:[l(Fn,{className:"h-6 w-6 animate-spin text-muted-foreground"})," ",l("span",{className:"ml-2 text-muted-foreground",children:"Loading details..."})]}),!ne&&K&&Ce&&Pe&&x("div",{className:"my-4 p-4 border rounded-lg bg-secondary/10 space-y-2 text-sm",children:[x("h4",{className:"font-semibold text-base mb-2",children:["Details for ",Ce," / ",Pe]}),K.urgency&&x("p",{children:[l("strong",{children:"Urgency:"})," ",K.urgency]}),K.severity&&x("p",{children:[l("strong",{children:"Severity:"})," ",K.severity]}),K.risk_impact&&x("p",{children:[l("strong",{children:"Risk/Impact:"})," ",K.risk_impact]}),K.recommended_investigations&&K.recommended_investigations.length>0&&x("p",{children:[l("strong",{children:"Investigations:"})," ",K.recommended_investigations.join(", ")]}),K.treatment_options&&K.treatment_options.length>0&&x("div",{className:"mt-3",children:[l("p",{className:"font-semibold mb-1",children:"Select Treatment:"}),l(Ve,{control:ge.control,name:"treatment",render:({field:ct})=>x("div",{className:"space-y-1 ml-1",children:[K.treatment_options.map(Dt=>x("label",{className:"flex items-center gap-2 cursor-pointer",children:[l("input",{type:"radio",value:Dt,checked:ct.value===Dt,onChange:Vr=>{Vr.target.checked&&ct.onChange(Dt)},className:"form-radio h-4 w-4 text-primary focus:ring-primary border-muted-foreground"}),l("span",{children:Dt})]},Dt)),l(et,{})]})})]})]}),K&&ge.watch("treatment")&&x("div",{className:"space-y-4",children:[l(Ve,{control:ge.control,name:"symptoms",render:({field:ct})=>x(Ie,{children:[l(De,{children:"Symptoms *"}),l(Le,{children:l(dt,{placeholder:"Enter patient symptoms",...ct})}),l(et,{})]})}),l(Ve,{control:ge.control,name:"description",render:({field:ct})=>x(Ie,{children:[l(De,{children:"Description *"}),l(Le,{children:l(un,{placeholder:"Detailed description of the treatment plan",...ct,rows:3})}),l(et,{})]})})]}),g&&Ce&&C.length>0&&K&&ge.watch("treatment")&&x("div",{className:"my-4 p-4 border rounded-lg bg-muted/30",children:[x("h3",{className:"text-lg font-semibold mb-2 flex items-center",children:[l(q0,{className:"mr-2 h-5 w-5 text-primary"}),"AI Treatment Suggestions"]}),l(QMe,{patientId:g,toothIds:C,domain:Ce,condition:Pe||"",matrixDetails:K,selectedTreatment:ge.watch("treatment")||"",symptoms:ge.watch("symptoms"),description:ge.watch("description"),patientRecord:b,onSuggestionApply:vt,disabled:V||!g||C.length===0||!Ce||N||!ge.watch("treatment"),source:"main-treatment-plan"})]}),oe.length>0&&x("div",{className:"mt-6 p-4 border rounded-lg bg-slate-50 shadow",children:[l("h3",{className:"text-lg font-semibold mb-3 text-slate-800",children:"AI Suggestions"}),l("div",{className:"space-y-4",children:oe.map((ct,Dt)=>{var Vr;return x("div",{className:Lt("border rounded-lg overflow-hidden bg-card",ct.planDetails.isPatientSelected&&"border-primary/50 bg-primary/5"),children:[l("div",{className:"p-4 bg-muted/50",children:x("div",{className:"flex items-start justify-between",children:[x("div",{children:[x("h5",{className:"font-medium text-base",children:[ct.title," ",ct.planDetails.isPatientSelected&&l("span",{className:"ml-2 text-xs text-primary font-normal",children:"(Patient Selected Plan)"})]}),ct.caseOverview&&x("div",{className:"mt-1 text-xs text-muted-foreground",children:[x("p",{children:[l("strong",{children:"Condition:"})," ",ct.caseOverview.condition]}),x("p",{children:[l("strong",{children:"Severity:"})," ",ct.caseOverview.severity]}),x("p",{children:[l("strong",{children:"Teeth:"})," ",ct.caseOverview.teethInvolved]}),ct.caseOverview.patientSymptoms&&x("p",{children:[l("strong",{children:"Symptoms:"})," ",ct.caseOverview.patientSymptoms]}),ct.caseOverview.patientSelectedTreatment&&x("p",{children:[l("strong",{children:"Patient Preference:"})," ",ct.caseOverview.patientSelectedTreatment]})]})]}),l(Me,{type:"button",variant:ct.planDetails.isPatientSelected?"outline":"secondary",size:"sm",onClick:()=>vt(ct),className:ct.planDetails.isPatientSelected?"bg-primary text-white hover:bg-primary/90":"",children:"Apply Selected Plan"})]})}),x(G4,{type:"single",collapsible:!0,className:"w-full",children:[x(no,{value:`clinical-assessment-${Dt}`,children:[l(ao,{className:"px-4",children:"Overall Clinical Assessment"}),l(io,{className:"px-4 pb-4",children:l("p",{className:"text-sm text-muted-foreground whitespace-pre-line",children:ct.description})})]}),ct.patientFactors&&x(no,{value:`patient-factors-${Dt}`,children:[l(ao,{className:"px-4",children:"Patient Factors"}),x(io,{className:"px-4 pb-4 text-sm space-y-1",children:[x("p",{children:[l("strong",{children:"Relevant Medical Conditions:"})," ",ct.patientFactors.relevantMedicalConditions]}),x("p",{children:[l("strong",{children:"Medication Considerations:"})," ",ct.patientFactors.medicationConsiderations]}),x("p",{children:[l("strong",{children:"Age-Related Considerations:"})," ",ct.patientFactors.ageRelatedConsiderations]})]})]}),ct.recommendedInvestigations&&x(no,{value:`recommended-investigations-${Dt}`,children:[l(ao,{className:"px-4",children:"Recommended Investigations"}),l(io,{className:"px-4 pb-4 text-sm",children:l("p",{children:ct.recommendedInvestigations})})]}),ct.planDetails&&x(no,{value:`plan-details-${Dt}`,children:[x(ao,{className:"px-4",children:["Details for: ",ct.planDetails.planName||ct.title]}),l(io,{className:"px-4 pb-4",children:x("div",{className:"space-y-3 text-sm",children:[ct.planDetails.clinicalProtocol&&x("div",{children:[l("p",{className:"font-medium",children:"Clinical Protocol:"}),l("p",{className:"text-muted-foreground whitespace-pre-line",children:ct.planDetails.clinicalProtocol})]}),ct.planDetails.keyMaterials&&x("div",{children:[l("p",{className:"font-medium",children:"Key Materials:"}),l("p",{className:"text-muted-foreground",children:ct.planDetails.keyMaterials})]}),ct.planDetails.clinicalConsiderations&&x("div",{children:[l("p",{className:"font-medium",children:"Clinical Considerations:"}),l("p",{className:"text-muted-foreground whitespace-pre-line",children:ct.planDetails.clinicalConsiderations})]}),ct.planDetails.expectedOutcomes&&x("div",{children:[l("p",{className:"font-medium",children:"Expected Outcomes:"}),l("p",{className:"text-muted-foreground whitespace-pre-line",children:ct.planDetails.expectedOutcomes})]})]})})]}),((Vr=ct.planDetails)==null?void 0:Vr.appointmentPlan)&&x(no,{value:`appointment-plan-${Dt}`,children:[l(ao,{className:"px-4",children:x("span",{className:"flex items-center",children:[l(Oi,{className:"mr-2 h-4 w-4"}),"Appointment Plan"]})}),l(io,{className:"px-4 pb-4",children:x("div",{className:"space-y-3 text-sm",children:[x("div",{className:"flex items-center gap-4 text-muted-foreground mb-2",children:[ct.planDetails.appointmentPlan.totalSittings&&x("div",{children:[l(Us,{className:"h-4 w-4 inline mr-1"}),x("span",{children:["Total Sittings: ",ct.planDetails.appointmentPlan.totalSittings]})]}),ct.planDetails.appointmentPlan.totalTreatmentTime&&x("div",{children:[l(Oi,{className:"h-4 w-4 inline mr-1"}),x("span",{children:["Total Duration: ",ct.planDetails.appointmentPlan.totalTreatmentTime]})]})]}),ct.planDetails.appointmentPlan.medicalPrecautions&&x("div",{className:"mb-3",children:[l("p",{className:"font-medium",children:"Medical Precautions:"}),l("p",{className:"text-muted-foreground whitespace-pre-line",children:ct.planDetails.appointmentPlan.medicalPrecautions})]}),ct.planDetails.appointmentPlan.sittingDetails&&ct.planDetails.appointmentPlan.sittingDetails.length>0&&x("div",{className:"space-y-2",children:[l("p",{className:"font-medium text-sm mb-1",children:"Sitting Details:"}),ct.planDetails.appointmentPlan.sittingDetails.map((gr,Kr)=>x("div",{className:"border rounded p-3 bg-background",children:[l("p",{className:"font-medium",children:gr.visit||`Visit ${Kr+1}`}),l("p",{className:"text-muted-foreground mt-1",children:gr.procedures}),x("div",{className:"mt-2 text-xs text-muted-foreground flex items-center gap-3",children:[gr.estimatedDuration&&x("p",{className:"flex items-center",children:[l(Us,{className:"h-3 w-3 mr-1"}),"Duration: ",gr.estimatedDuration]}),gr.timeGap&&gr.timeGap!=="N/A"&&x("p",{className:"flex items-center",children:[l(Oi,{className:"h-3 w-3 mr-1"}),"Next visit in: ",gr.timeGap]})]})]},Kr))]})]})})]}),ct.clinicalRationale&&x(no,{value:`clinical-rationale-${Dt}`,children:[l(ao,{className:"px-4",children:"Clinical Rationale"}),l(io,{className:"px-4 pb-4 text-sm",children:l("p",{className:"whitespace-pre-line",children:ct.clinicalRationale})})]}),ct.postTreatmentCare&&x(no,{value:`post-care-${Dt}`,children:[l(ao,{className:"px-4",children:"Post-Treatment Care"}),l(io,{className:"px-4 pb-4",children:l("p",{className:"text-sm text-muted-foreground whitespace-pre-line",children:ct.postTreatmentCare})})]})]})]},Dt)})})]}),K&&x(Nr,{children:[l(Ve,{control:ge.control,name:"estimated_duration",render:({field:ct})=>x(Ie,{children:[l(De,{children:"Estimated Duration"}),l(Le,{children:l(dt,{...ct,placeholder:"e.g., 3-4 weeks"})}),l(et,{})]})}),l(Ve,{control:ge.control,name:"total_visits",render:({field:ct})=>x(Ie,{children:[l(De,{children:"Total Visits"}),l(Le,{children:l(dt,{...ct,placeholder:"e.g., 2"})}),l(et,{})]})}),l(Ve,{control:ge.control,name:"materials",render:({field:ct})=>x(Ie,{children:[l(De,{children:"Required Materials"}),l(Le,{children:l(un,{...ct,placeholder:"List of required materials",className:"min-h-[80px]"})}),l(et,{})]})}),l(Ve,{control:ge.control,name:"clinical_considerations",render:({field:ct})=>x(Ie,{children:[l(De,{children:"Clinical Considerations"}),l(Le,{children:l(un,{...ct,placeholder:"Important clinical considerations",className:"min-h-[80px]"})}),l(et,{})]})}),l(Ve,{control:ge.control,name:"post_treatment_care",render:({field:ct})=>x(Ie,{children:[l(De,{children:"Post-Treatment Care"}),l(Le,{children:l(un,{...ct,placeholder:"Post-treatment care instructions",className:"min-h-[80px]"})}),l(et,{})]})})]}),x(hs,{children:[l(Me,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),x(Me,{type:"submit",disabled:a,children:[a?l(Fn,{className:"mr-2 h-4 w-4 animate-spin"}):l(Qu,{className:"mr-2 h-4 w-4"}),"Create Plan"]})]})]})})]})}),l(Hn,{open:P,onOpenChange:M,children:x(qn,{className:"max-w-2xl",children:[" ",x(Jn,{children:[l(Zn,{children:"Select Affected Teeth & Apply Conditions"}),l(ds,{children:"Click teeth to select/deselect. Use the controls below to apply conditions from the selected domain to the selected teeth."})]}),l(kR,{ref:_e,initialState:B,onToothSelect:Xe,domain:Ce||void 0,domainConditions:U},T),x(hs,{children:[l(Me,{variant:"outline",onClick:()=>M(!1),disabled:fe,children:"Cancel"}),x(Me,{onClick:Ke,disabled:fe,children:[fe?l(Fn,{className:"mr-2 h-4 w-4 animate-spin"}):l(zce,{className:"mr-2 h-4 w-4"}),"Confirm & Save Chart"]})]})]})}),l(ww,{open:Ge,children:x(ey,{children:[x(ty,{children:[l(ny,{children:"Cancel Plan?"}),l(ay,{children:"Are you sure you want to cancel this plan? All unsaved changes will be lost."})]}),x(ry,{children:[l(sy,{onClick:cr,children:"No"}),l(iy,{onClick:Nn,children:"Yes"})]})]})})]})}var eA="Popover",[Fne,uQe]=ts(eA,[Pm]),cb=Pm(),[t7e,$m]=Fne(eA),Lne=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:s=!1}=e,o=cb(t),c=S.useRef(null),[u,d]=S.useState(!1),[f,h]=hl({prop:n,defaultProp:a??!1,onChange:i,caller:eA});return l(O4,{...o,children:l(t7e,{scope:t,contentId:$l(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:S.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:u,onCustomAnchorAdd:S.useCallback(()=>d(!0),[]),onCustomAnchorRemove:S.useCallback(()=>d(!1),[]),modal:s,children:r})})};Lne.displayName=eA;var jne="PopoverAnchor",r7e=S.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=$m(jne,r),i=cb(r),{onCustomAnchorAdd:s,onCustomAnchorRemove:o}=a;return S.useEffect(()=>(s(),()=>o()),[s,o]),l(Ww,{...i,...n,ref:t})});r7e.displayName=jne;var $ne="PopoverTrigger",Bne=S.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=$m($ne,r),i=cb(r),s=Jr(t,a.triggerRef),o=l(xr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Vne(a.open),...n,ref:s,onClick:Ht(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?o:l(Ww,{asChild:!0,...i,children:o})});Bne.displayName=$ne;var RR="PopoverPortal",[n7e,a7e]=Fne(RR,{forceMount:void 0}),Une=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,i=$m(RR,t);return l(n7e,{scope:t,forceMount:r,children:l(uo,{present:r||i.open,children:l(yy,{asChild:!0,container:a,children:n})})})};Une.displayName=RR;var oy="PopoverContent",qne=S.forwardRef((e,t)=>{const r=a7e(oy,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,i=$m(oy,e.__scopePopover);return l(uo,{present:n||i.open,children:i.modal?l(s7e,{...a,ref:t}):l(o7e,{...a,ref:t})})});qne.displayName=oy;var i7e=cm("PopoverContent.RemoveScroll"),s7e=S.forwardRef((e,t)=>{const r=$m(oy,e.__scopePopover),n=S.useRef(null),a=Jr(t,n),i=S.useRef(!1);return S.useEffect(()=>{const s=n.current;if(s)return R4(s)},[]),l(Hw,{as:i7e,allowPinchZoom:!0,children:l(zne,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ht(e.onCloseAutoFocus,s=>{var o;s.preventDefault(),i.current||(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ht(e.onPointerDownOutside,s=>{const o=s.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0,u=o.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Ht(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})})}),o7e=S.forwardRef((e,t)=>{const r=$m(oy,e.__scopePopover),n=S.useRef(!1),a=S.useRef(!1);return l(zne,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var s,o;(s=e.onCloseAutoFocus)==null||s.call(e,i),i.defaultPrevented||(n.current||(o=r.triggerRef.current)==null||o.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const s=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(s))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),zne=S.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:s,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=$m(oy,r),m=cb(r);return k4(),l(qw,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:l(Ng,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:d,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:l(D4,{"data-state":Vne(h.open),role:"dialog",id:h.contentId,...m,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Wne="PopoverClose",l7e=S.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=$m(Wne,r);return l(xr.button,{type:"button",...n,ref:t,onClick:Ht(e.onClick,()=>a.onOpenChange(!1))})});l7e.displayName=Wne;var c7e="PopoverArrow",u7e=S.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=cb(r);return l(I4,{...a,...n,ref:t})});u7e.displayName=c7e;function Vne(e){return e?"open":"closed"}var d7e=Lne,f7e=Bne,h7e=Une,Hne=qne;const pg=d7e,mg=f7e,bm=S.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>l(h7e,{children:l(Hne,{ref:a,align:t,sideOffset:r,className:Lt("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));bm.displayName=Hne.displayName;var ln=function(){return ln=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},ln.apply(this,arguments)};function p7e(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function Gne(e,t,r){for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function ub(e){return e.mode==="multiple"}function db(e){return e.mode==="range"}function tA(e){return e.mode==="single"}var m7e={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function g7e(e,t){return Rt(e,"LLLL y",t)}function v7e(e,t){return Rt(e,"d",t)}function y7e(e,t){return Rt(e,"LLLL",t)}function x7e(e){return"".concat(e)}function w7e(e,t){return Rt(e,"cccccc",t)}function b7e(e,t){return Rt(e,"yyyy",t)}var _7e=Object.freeze({__proto__:null,formatCaption:g7e,formatDay:v7e,formatMonthCaption:y7e,formatWeekNumber:x7e,formatWeekdayName:w7e,formatYearCaption:b7e}),S7e=function(e,t,r){return Rt(e,"do MMMM (EEEE)",r)},N7e=function(){return"Month: "},A7e=function(){return"Go to next month"},k7e=function(){return"Go to previous month"},E7e=function(e,t){return Rt(e,"cccc",t)},C7e=function(e){return"Week n. ".concat(e)},P7e=function(){return"Year: "},T7e=Object.freeze({__proto__:null,labelDay:S7e,labelMonthDropdown:N7e,labelNext:A7e,labelPrevious:k7e,labelWeekNumber:C7e,labelWeekday:E7e,labelYearDropdown:P7e});function O7e(){var e="buttons",t=m7e,r=Xw,n={},a={},i=1,s={},o=new Date;return{captionLayout:e,classNames:t,formatters:_7e,labels:T7e,locale:r,modifiersClassNames:n,modifiers:a,numberOfMonths:i,styles:s,today:o,mode:"default"}}function D7e(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,a=e.toMonth,i=e.fromDate,s=e.toDate;return n?i=zs(n):t&&(i=new Date(t,0,1)),a?s=hm(a):r&&(s=new Date(r,11,31)),{fromDate:i?Dl(i):void 0,toDate:s?Dl(s):void 0}}var Yne=S.createContext(void 0);function I7e(e){var t,r=e.initialProps,n=O7e(),a=D7e(r),i=a.fromDate,s=a.toDate,o=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;o!=="buttons"&&(!i||!s)&&(o="buttons");var c;(tA(r)||ub(r)||db(r))&&(c=r.onSelect);var u=ln(ln(ln({},n),r),{captionLayout:o,classNames:ln(ln({},n.classNames),r.classNames),components:ln({},r.components),formatters:ln(ln({},n.formatters),r.formatters),fromDate:i,labels:ln(ln({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:ln(ln({},n.modifiers),r.modifiers),modifiersClassNames:ln(ln({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:ln(ln({},n.styles),r.styles),toDate:s});return l(Yne.Provider,{value:u,children:e.children})}function za(){var e=S.useContext(Yne);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function Kne(e){var t=za(),r=t.locale,n=t.classNames,a=t.styles,i=t.formatters.formatCaption;return l("div",{className:n.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:r})})}function R7e(e){return l("svg",ln({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:l("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Xne(e){var t,r,n=e.onChange,a=e.value,i=e.children,s=e.caption,o=e.className,c=e.style,u=za(),d=(r=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:R7e;return x("div",{className:o,style:c,children:[l("span",{className:u.classNames.vhidden,children:e["aria-label"]}),l("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:a,onChange:n,children:i}),x("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[s,l(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function M7e(e){var t,r=za(),n=r.fromDate,a=r.toDate,i=r.styles,s=r.locale,o=r.formatters.formatMonthCaption,c=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!n)return l(Nr,{});if(!a)return l(Nr,{});var f=[];if(e1e(n,a))for(var h=zs(n),m=n.getMonth();m<=a.getMonth();m++)f.push(j3(h,m));else for(var h=zs(new Date),m=0;m<=11;m++)f.push(j3(h,m));var w=function(y){var b=Number(y.target.value),_=j3(zs(e.displayMonth),b);e.onChange(_)},g=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:Xne;return l(g,{name:"months","aria-label":d(),className:c.dropdown_month,style:i.dropdown_month,onChange:w,value:e.displayMonth.getMonth(),caption:o(e.displayMonth,{locale:s}),children:f.map(function(y){return l("option",{value:y.getMonth(),children:o(y,{locale:s})},y.getMonth())})})}function F7e(e){var t,r=e.displayMonth,n=za(),a=n.fromDate,i=n.toDate,s=n.locale,o=n.styles,c=n.classNames,u=n.components,d=n.formatters.formatYearCaption,f=n.labels.labelYearDropdown,h=[];if(!a)return l(Nr,{});if(!i)return l(Nr,{});for(var m=a.getFullYear(),w=i.getFullYear(),g=m;g<=w;g++)h.push(_L(OK(new Date),g));var y=function(_){var N=_L(zs(r),Number(_.target.value));e.onChange(N)},b=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:Xne;return l(b,{name:"years","aria-label":f(),className:c.dropdown_year,style:o.dropdown_year,onChange:y,value:r.getFullYear(),caption:d(r,{locale:s}),children:h.map(function(_){return l("option",{value:_.getFullYear(),children:d(_,{locale:s})},_.getFullYear())})})}function L7e(e,t){var r=S.useState(e),n=r[0],a=r[1],i=t===void 0?n:t;return[i,a]}function j7e(e){var t=e.month,r=e.defaultMonth,n=e.today,a=t||r||n||new Date,i=e.toDate,s=e.fromDate,o=e.numberOfMonths,c=o===void 0?1:o;if(i&&_1(i,a)<0){var u=-1*(c-1);a=pl(i,u)}return s&&_1(a,s)<0&&(a=s),zs(a)}function $7e(){var e=za(),t=j7e(e),r=L7e(t,e.month),n=r[0],a=r[1],i=function(s){var o;if(!e.disableNavigation){var c=zs(s);a(c),(o=e.onMonthChange)===null||o===void 0||o.call(e,c)}};return[n,i]}function B7e(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,a=zs(e),i=zs(pl(a,n)),s=_1(i,a),o=[],c=0;c<s;c++){var u=pl(a,c);o.push(u)}return r&&(o=o.reverse()),o}function U7e(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,s=n?i:1,o=zs(e);if(!r)return pl(o,s);var c=_1(r,e);if(!(c<i))return pl(o,s)}}function q7e(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,s=n?i:1,o=zs(e);if(!r)return pl(o,-s);var c=_1(o,r);if(!(c<=0))return pl(o,-s)}}var Jne=S.createContext(void 0);function z7e(e){var t=za(),r=$7e(),n=r[0],a=r[1],i=B7e(n,t),s=U7e(n,t),o=q7e(n,t),c=function(f){return i.some(function(h){return z4(f,h)})},u=function(f,h){c(f)||(h&&ah(f,h)?a(pl(f,1+t.numberOfMonths*-1)):a(f))},d={currentMonth:n,displayMonths:i,goToMonth:a,goToDate:u,previousMonth:o,nextMonth:s,isDateDisplayed:c};return l(Jne.Provider,{value:d,children:e.children})}function fb(){var e=S.useContext(Jne);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function wW(e){var t,r=za(),n=r.classNames,a=r.styles,i=r.components,s=fb().goToMonth,o=function(d){s(pl(d,e.displayIndex?-e.displayIndex:0))},c=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:Kne,u=l(c,{id:e.id,displayMonth:e.displayMonth});return x("div",{className:n.caption_dropdowns,style:a.caption_dropdowns,children:[l("div",{className:n.vhidden,children:u}),l(M7e,{onChange:o,displayMonth:e.displayMonth}),l(F7e,{onChange:o,displayMonth:e.displayMonth})]})}function W7e(e){return l("svg",ln({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:l("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function V7e(e){return l("svg",ln({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:l("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var JS=S.forwardRef(function(e,t){var r=za(),n=r.classNames,a=r.styles,i=[n.button_reset,n.button];e.className&&i.push(e.className);var s=i.join(" "),o=ln(ln({},a.button_reset),a.button);return e.style&&Object.assign(o,e.style),l("button",ln({},e,{ref:t,type:"button",className:s,style:o}))});function H7e(e){var t,r,n=za(),a=n.dir,i=n.locale,s=n.classNames,o=n.styles,c=n.labels,u=c.labelPrevious,d=c.labelNext,f=n.components;if(!e.nextMonth&&!e.previousMonth)return l(Nr,{});var h=u(e.previousMonth,{locale:i}),m=[s.nav_button,s.nav_button_previous].join(" "),w=d(e.nextMonth,{locale:i}),g=[s.nav_button,s.nav_button_next].join(" "),y=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:V7e,b=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:W7e;return x("div",{className:s.nav,style:o.nav,children:[!e.hidePrevious&&l(JS,{name:"previous-month","aria-label":h,className:m,style:o.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?l(y,{className:s.nav_icon,style:o.nav_icon}):l(b,{className:s.nav_icon,style:o.nav_icon})}),!e.hideNext&&l(JS,{name:"next-month","aria-label":w,className:g,style:o.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?l(b,{className:s.nav_icon,style:o.nav_icon}):l(y,{className:s.nav_icon,style:o.nav_icon})})]})}function bW(e){var t=za().numberOfMonths,r=fb(),n=r.previousMonth,a=r.nextMonth,i=r.goToMonth,s=r.displayMonths,o=s.findIndex(function(w){return z4(e.displayMonth,w)}),c=o===0,u=o===s.length-1,d=t>1&&(c||!u),f=t>1&&(u||!c),h=function(){n&&i(n)},m=function(){a&&i(a)};return l(H7e,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:f,nextMonth:a,previousMonth:n,onPreviousClick:h,onNextClick:m})}function G7e(e){var t,r=za(),n=r.classNames,a=r.disableNavigation,i=r.styles,s=r.captionLayout,o=r.components,c=(t=o==null?void 0:o.CaptionLabel)!==null&&t!==void 0?t:Kne,u;return a?u=l(c,{id:e.id,displayMonth:e.displayMonth}):s==="dropdown"?u=l(wW,{displayMonth:e.displayMonth,id:e.id}):s==="dropdown-buttons"?u=x(Nr,{children:[l(wW,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),l(bW,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=x(Nr,{children:[l(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),l(bW,{displayMonth:e.displayMonth,id:e.id})]}),l("div",{className:n.caption,style:i.caption,children:u})}function Y7e(e){var t=za(),r=t.footer,n=t.styles,a=t.classNames.tfoot;return r?l("tfoot",{className:a,style:n.tfoot,children:l("tr",{children:l("td",{colSpan:8,children:r})})}):l(Nr,{})}function K7e(e,t,r){for(var n=r?wh(new Date):co(new Date,{locale:e,weekStartsOn:t}),a=[],i=0;i<7;i++){var s=Ua(n,i);a.push(s)}return a}function X7e(){var e=za(),t=e.classNames,r=e.styles,n=e.showWeekNumber,a=e.locale,i=e.weekStartsOn,s=e.ISOWeek,o=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=K7e(a,i,s);return x("tr",{style:r.head_row,className:t.head_row,children:[n&&l("td",{style:r.head_cell,className:t.head_cell}),u.map(function(d,f){return l("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(d,{locale:a}),children:o(d,{locale:a})},f)})]})}function J7e(){var e,t=za(),r=t.classNames,n=t.styles,a=t.components,i=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:X7e;return l("thead",{style:n.head,className:r.head,children:l(i,{})})}function Z7e(e){var t=za(),r=t.locale,n=t.formatters.formatDay;return l(Nr,{children:n(e.date,{locale:r})})}var MR=S.createContext(void 0);function Q7e(e){if(!ub(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return l(MR.Provider,{value:t,children:e.children})}return l(eFe,{initialProps:e.initialProps,children:e.children})}function eFe(e){var t=e.initialProps,r=e.children,n=t.selected,a=t.min,i=t.max,s=function(u,d,f){var h,m;(h=t.onDayClick)===null||h===void 0||h.call(t,u,d,f);var w=!!(d.selected&&a&&(n==null?void 0:n.length)===a);if(!w){var g=!!(!d.selected&&i&&(n==null?void 0:n.length)===i);if(!g){var y=n?Gne([],n):[];if(d.selected){var b=y.findIndex(function(_){return ll(u,_)});y.splice(b,1)}else y.push(u);(m=t.onSelect)===null||m===void 0||m.call(t,y,u,d,f)}}},o={disabled:[]};n&&o.disabled.push(function(u){var d=i&&n.length>i-1,f=n.some(function(h){return ll(h,u)});return!!(d&&!f)});var c={selected:n,onDayClick:s,modifiers:o};return l(MR.Provider,{value:c,children:r})}function FR(){var e=S.useContext(MR);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function tFe(e,t){var r=t||{},n=r.from,a=r.to;return n&&a?ll(a,e)&&ll(n,e)?void 0:ll(a,e)?{from:a,to:void 0}:ll(n,e)?void 0:O6(n,e)?{from:e,to:a}:{from:n,to:e}:a?O6(e,a)?{from:a,to:e}:{from:e,to:a}:n?ah(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var LR=S.createContext(void 0);function rFe(e){if(!db(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return l(LR.Provider,{value:t,children:e.children})}return l(nFe,{initialProps:e.initialProps,children:e.children})}function nFe(e){var t=e.initialProps,r=e.children,n=t.selected,a=n||{},i=a.from,s=a.to,o=t.min,c=t.max,u=function(m,w,g){var y,b;(y=t.onDayClick)===null||y===void 0||y.call(t,m,w,g);var _=tFe(m,n);(b=t.onSelect)===null||b===void 0||b.call(t,_,m,w,g)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(d.range_start=[i],s?(d.range_end=[s],ll(i,s)||(d.range_middle=[{after:i,before:s}])):d.range_end=[i]):s&&(d.range_start=[s],d.range_end=[s]),o&&(i&&!s&&d.disabled.push({after:F3(i,o-1),before:Ua(i,o-1)}),i&&s&&d.disabled.push({after:i,before:Ua(i,o-1)}),!i&&s&&d.disabled.push({after:F3(s,o-1),before:Ua(s,o-1)})),c){if(i&&!s&&(d.disabled.push({before:Ua(i,-c+1)}),d.disabled.push({after:Ua(i,c-1)})),i&&s){var f=Wu(s,i)+1,h=c-f;d.disabled.push({before:F3(i,h)}),d.disabled.push({after:Ua(s,h)})}!i&&s&&(d.disabled.push({before:Ua(s,-c+1)}),d.disabled.push({after:Ua(s,c-1)}))}return l(LR.Provider,{value:{selected:n,onDayClick:u,modifiers:d},children:r})}function jR(){var e=S.useContext(LR);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function g5(e){return Array.isArray(e)?Gne([],e):e!==void 0?[e]:[]}function aFe(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],a=r[1];t[n]=g5(a)}),t}var od;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(od||(od={}));var iFe=od.Selected,rh=od.Disabled,sFe=od.Hidden,oFe=od.Today,fT=od.RangeEnd,hT=od.RangeMiddle,pT=od.RangeStart,lFe=od.Outside;function cFe(e,t,r){var n,a=(n={},n[iFe]=g5(e.selected),n[rh]=g5(e.disabled),n[sFe]=g5(e.hidden),n[oFe]=[e.today],n[fT]=[],n[hT]=[],n[pT]=[],n[lFe]=[],n);return e.fromDate&&a[rh].push({before:e.fromDate}),e.toDate&&a[rh].push({after:e.toDate}),ub(e)?a[rh]=a[rh].concat(t.modifiers[rh]):db(e)&&(a[rh]=a[rh].concat(r.modifiers[rh]),a[pT]=r.modifiers[pT],a[hT]=r.modifiers[hT],a[fT]=r.modifiers[fT]),a}var Zne=S.createContext(void 0);function uFe(e){var t=za(),r=FR(),n=jR(),a=cFe(t,r,n),i=aFe(t.modifiers),s=ln(ln({},a),i);return l(Zne.Provider,{value:s,children:e.children})}function Qne(){var e=S.useContext(Zne);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function dFe(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function fFe(e){return!!(e&&typeof e=="object"&&"from"in e)}function hFe(e){return!!(e&&typeof e=="object"&&"after"in e)}function pFe(e){return!!(e&&typeof e=="object"&&"before"in e)}function mFe(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function gFe(e,t){var r,n=t.from,a=t.to;if(n&&a){var i=Wu(a,n)<0;i&&(r=[a,n],n=r[0],a=r[1]);var s=Wu(e,n)>=0&&Wu(a,e)>=0;return s}return a?ll(a,e):n?ll(n,e):!1}function vFe(e){return BD(e)}function yFe(e){return Array.isArray(e)&&e.every(BD)}function xFe(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(vFe(r))return ll(e,r);if(yFe(r))return r.includes(e);if(fFe(r))return gFe(e,r);if(mFe(r))return r.dayOfWeek.includes(e.getDay());if(dFe(r)){var n=Wu(r.before,e),a=Wu(r.after,e),i=n>0,s=a<0,o=O6(r.before,r.after);return o?s&&i:i||s}return hFe(r)?Wu(e,r.after)>0:pFe(r)?Wu(r.before,e)>0:typeof r=="function"?r(e):!1})}function $R(e,t,r){var n=Object.keys(t).reduce(function(i,s){var o=t[s];return xFe(e,o)&&i.push(s),i},[]),a={};return n.forEach(function(i){return a[i]=!0}),r&&!z4(e,r)&&(a.outside=!0),a}function wFe(e,t){for(var r=zs(e[0]),n=hm(e[e.length-1]),a,i,s=r;s<=n;){var o=$R(s,t),c=!o.disabled&&!o.hidden;if(!c){s=Ua(s,1);continue}if(o.selected)return s;o.today&&!i&&(i=s),a||(a=s),s=Ua(s,1)}return i||a}var bFe=365;function eae(e,t){var r=t.moveBy,n=t.direction,a=t.context,i=t.modifiers,s=t.retry,o=s===void 0?{count:0,lastFocused:e}:s,c=a.weekStartsOn,u=a.fromDate,d=a.toDate,f=a.locale,h={day:Ua,week:b1,month:pl,year:Z0e,startOfWeek:function(y){return a.ISOWeek?wh(y):co(y,{locale:f,weekStartsOn:c})},endOfWeek:function(y){return a.ISOWeek?DK(y):M0(y,{locale:f,weekStartsOn:c})}},m=h[r](e,n==="after"?1:-1);n==="before"&&u?m=Q0e([u,m]):n==="after"&&d&&(m=ege([d,m]));var w=!0;if(i){var g=$R(m,i);w=!g.disabled&&!g.hidden}return w?m:o.count>bFe?o.lastFocused:eae(m,{moveBy:r,direction:n,context:a,modifiers:i,retry:ln(ln({},o),{count:o.count+1})})}var tae=S.createContext(void 0);function _Fe(e){var t=fb(),r=Qne(),n=S.useState(),a=n[0],i=n[1],s=S.useState(),o=s[0],c=s[1],u=wFe(t.displayMonths,r),d=a??(o&&t.isDateDisplayed(o))?o:u,f=function(){c(a),i(void 0)},h=function(y){i(y)},m=za(),w=function(y,b){if(a){var _=eae(a,{moveBy:y,direction:b,context:m,modifiers:r});ll(a,_)||(t.goToDate(_,a),h(_))}},g={focusedDay:a,focusTarget:d,blur:f,focus:h,focusDayAfter:function(){return w("day","after")},focusDayBefore:function(){return w("day","before")},focusWeekAfter:function(){return w("week","after")},focusWeekBefore:function(){return w("week","before")},focusMonthBefore:function(){return w("month","before")},focusMonthAfter:function(){return w("month","after")},focusYearBefore:function(){return w("year","before")},focusYearAfter:function(){return w("year","after")},focusStartOfWeek:function(){return w("startOfWeek","before")},focusEndOfWeek:function(){return w("endOfWeek","after")}};return l(tae.Provider,{value:g,children:e.children})}function BR(){var e=S.useContext(tae);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function SFe(e,t){var r=Qne(),n=$R(e,r,t);return n}var UR=S.createContext(void 0);function NFe(e){if(!tA(e.initialProps)){var t={selected:void 0};return l(UR.Provider,{value:t,children:e.children})}return l(AFe,{initialProps:e.initialProps,children:e.children})}function AFe(e){var t=e.initialProps,r=e.children,n=function(i,s,o){var c,u,d;if((c=t.onDayClick)===null||c===void 0||c.call(t,i,s,o),s.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,i,s,o);return}(d=t.onSelect)===null||d===void 0||d.call(t,i,i,s,o)},a={selected:t.selected,onDayClick:n};return l(UR.Provider,{value:a,children:r})}function rae(){var e=S.useContext(UR);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function kFe(e,t){var r=za(),n=rae(),a=FR(),i=jR(),s=BR(),o=s.focusDayAfter,c=s.focusDayBefore,u=s.focusWeekAfter,d=s.focusWeekBefore,f=s.blur,h=s.focus,m=s.focusMonthBefore,w=s.focusMonthAfter,g=s.focusYearBefore,y=s.focusYearAfter,b=s.focusStartOfWeek,_=s.focusEndOfWeek,N=function(W){var z,U,Y,Q;tA(r)?(z=n.onDayClick)===null||z===void 0||z.call(n,e,t,W):ub(r)?(U=a.onDayClick)===null||U===void 0||U.call(a,e,t,W):db(r)?(Y=i.onDayClick)===null||Y===void 0||Y.call(i,e,t,W):(Q=r.onDayClick)===null||Q===void 0||Q.call(r,e,t,W)},E=function(W){var z;h(e),(z=r.onDayFocus)===null||z===void 0||z.call(r,e,t,W)},C=function(W){var z;f(),(z=r.onDayBlur)===null||z===void 0||z.call(r,e,t,W)},O=function(W){var z;(z=r.onDayMouseEnter)===null||z===void 0||z.call(r,e,t,W)},P=function(W){var z;(z=r.onDayMouseLeave)===null||z===void 0||z.call(r,e,t,W)},M=function(W){var z;(z=r.onDayPointerEnter)===null||z===void 0||z.call(r,e,t,W)},L=function(W){var z;(z=r.onDayPointerLeave)===null||z===void 0||z.call(r,e,t,W)},j=function(W){var z;(z=r.onDayTouchCancel)===null||z===void 0||z.call(r,e,t,W)},T=function(W){var z;(z=r.onDayTouchEnd)===null||z===void 0||z.call(r,e,t,W)},I=function(W){var z;(z=r.onDayTouchMove)===null||z===void 0||z.call(r,e,t,W)},B=function(W){var z;(z=r.onDayTouchStart)===null||z===void 0||z.call(r,e,t,W)},G=function(W){var z;(z=r.onDayKeyUp)===null||z===void 0||z.call(r,e,t,W)},Z=function(W){var z;switch(W.key){case"ArrowLeft":W.preventDefault(),W.stopPropagation(),r.dir==="rtl"?o():c();break;case"ArrowRight":W.preventDefault(),W.stopPropagation(),r.dir==="rtl"?c():o();break;case"ArrowDown":W.preventDefault(),W.stopPropagation(),u();break;case"ArrowUp":W.preventDefault(),W.stopPropagation(),d();break;case"PageUp":W.preventDefault(),W.stopPropagation(),W.shiftKey?g():m();break;case"PageDown":W.preventDefault(),W.stopPropagation(),W.shiftKey?y():w();break;case"Home":W.preventDefault(),W.stopPropagation(),b();break;case"End":W.preventDefault(),W.stopPropagation(),_();break}(z=r.onDayKeyDown)===null||z===void 0||z.call(r,e,t,W)},re={onClick:N,onFocus:E,onBlur:C,onKeyDown:Z,onKeyUp:G,onMouseEnter:O,onMouseLeave:P,onPointerEnter:M,onPointerLeave:L,onTouchCancel:j,onTouchEnd:T,onTouchMove:I,onTouchStart:B};return re}function EFe(){var e=za(),t=rae(),r=FR(),n=jR(),a=tA(e)?t.selected:ub(e)?r.selected:db(e)?n.selected:void 0;return a}function CFe(e){return Object.values(od).includes(e)}function PFe(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var a=e.modifiersClassNames[n];if(a)r.push(a);else if(CFe(n)){var i=e.classNames["day_".concat(n)];i&&r.push(i)}}),r}function TFe(e,t){var r=ln({},e.styles.day);return Object.keys(t).forEach(function(n){var a;r=ln(ln({},r),(a=e.modifiersStyles)===null||a===void 0?void 0:a[n])}),r}function OFe(e,t,r){var n,a,i,s=za(),o=BR(),c=SFe(e,t),u=kFe(e,c),d=EFe(),f=!!(s.onDayClick||s.mode!=="default");S.useEffect(function(){var O;c.outside||o.focusedDay&&f&&ll(o.focusedDay,e)&&((O=r.current)===null||O===void 0||O.focus())},[o.focusedDay,e,r,f,c.outside]);var h=PFe(s,c).join(" "),m=TFe(s,c),w=!!(c.outside&&!s.showOutsideDays||c.hidden),g=(i=(a=s.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:Z7e,y=l(g,{date:e,displayMonth:t,activeModifiers:c}),b={style:m,className:h,children:y,role:"gridcell"},_=o.focusTarget&&ll(o.focusTarget,e)&&!c.outside,N=o.focusedDay&&ll(o.focusedDay,e),E=ln(ln(ln({},b),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=N||_?0:-1,n)),u),C={isButton:f,isHidden:w,activeModifiers:c,selectedDays:d,buttonProps:E,divProps:b};return C}function DFe(e){var t=S.useRef(null),r=OFe(e.date,e.displayMonth,t);return r.isHidden?l("div",{role:"gridcell"}):r.isButton?l(JS,ln({name:"day",ref:t},r.buttonProps)):l("div",ln({},r.divProps))}function IFe(e){var t=e.number,r=e.dates,n=za(),a=n.onWeekNumberClick,i=n.styles,s=n.classNames,o=n.locale,c=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,d=u(Number(t),{locale:o});if(!a)return l("span",{className:s.weeknumber,style:i.weeknumber,children:d});var f=c(Number(t),{locale:o}),h=function(m){a(t,r,m)};return l(JS,{name:"week-number","aria-label":f,className:s.weeknumber,style:i.weeknumber,onClick:h,children:d})}function RFe(e){var t,r,n=za(),a=n.styles,i=n.classNames,s=n.showWeekNumber,o=n.components,c=(t=o==null?void 0:o.Day)!==null&&t!==void 0?t:DFe,u=(r=o==null?void 0:o.WeekNumber)!==null&&r!==void 0?r:IFe,d;return s&&(d=l("td",{className:i.cell,style:a.cell,children:l(u,{number:e.weekNumber,dates:e.dates})})),x("tr",{className:i.row,style:a.row,children:[d,e.dates.map(function(f){return l("td",{className:i.cell,style:a.cell,role:"presentation",children:l(c,{displayMonth:e.displayMonth,date:f})},rve(f))})]})}function _W(e,t,r){for(var n=r!=null&&r.ISOWeek?DK(t):M0(t,r),a=r!=null&&r.ISOWeek?wh(e):co(e,r),i=Wu(n,a),s=[],o=0;o<=i;o++)s.push(Ua(a,o));var c=s.reduce(function(u,d){var f=r!=null&&r.ISOWeek?UD(d):zD(d,r),h=u.find(function(m){return m.weekNumber===f});return h?(h.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function MFe(e,t){var r=_W(zs(e),hm(e),t);if(t!=null&&t.useFixedWeeks){var n=ave(e,t);if(n<6){var a=r[r.length-1],i=a.dates[a.dates.length-1],s=b1(i,6-n),o=_W(b1(i,1),s,t);r.push.apply(r,o)}}return r}function FFe(e){var t,r,n,a=za(),i=a.locale,s=a.classNames,o=a.styles,c=a.hideHead,u=a.fixedWeeks,d=a.components,f=a.weekStartsOn,h=a.firstWeekContainsDate,m=a.ISOWeek,w=MFe(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:m,locale:i,weekStartsOn:f,firstWeekContainsDate:h}),g=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:J7e,y=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:RFe,b=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:Y7e;return x("table",{id:e.id,className:s.table,style:o.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&l(g,{}),l("tbody",{className:s.tbody,style:o.tbody,children:w.map(function(_){return l(y,{displayMonth:e.displayMonth,dates:_.dates,weekNumber:_.weekNumber},_.weekNumber)})}),l(b,{displayMonth:e.displayMonth})]})}function LFe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var jFe=LFe()?S.useLayoutEffect:S.useEffect,mT=!1,$Fe=0;function SW(){return"react-day-picker-".concat(++$Fe)}function BFe(e){var t,r=e??(mT?SW():null),n=S.useState(r),a=n[0],i=n[1];return jFe(function(){a===null&&i(SW())},[]),S.useEffect(function(){mT===!1&&(mT=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function UFe(e){var t,r,n=za(),a=n.dir,i=n.classNames,s=n.styles,o=n.components,c=fb().displayMonths,u=BFe(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,f=[i.month],h=s.month,m=e.displayIndex===0,w=e.displayIndex===c.length-1,g=!m&&!w;a==="rtl"&&(t=[m,w],w=t[0],m=t[1]),m&&(f.push(i.caption_start),h=ln(ln({},h),s.caption_start)),w&&(f.push(i.caption_end),h=ln(ln({},h),s.caption_end)),g&&(f.push(i.caption_between),h=ln(ln({},h),s.caption_between));var y=(r=o==null?void 0:o.Caption)!==null&&r!==void 0?r:G7e;return x("div",{className:f.join(" "),style:h,children:[l(y,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),l(FFe,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function qFe(e){var t=za(),r=t.classNames,n=t.styles;return l("div",{className:r.months,style:n.months,children:e.children})}function zFe(e){var t,r,n=e.initialProps,a=za(),i=BR(),s=fb(),o=S.useState(!1),c=o[0],u=o[1];S.useEffect(function(){a.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),u(!0)))},[a.initialFocus,c,i.focus,i.focusTarget,i]);var d=[a.classNames.root,a.className];a.numberOfMonths>1&&d.push(a.classNames.multiple_months),a.showWeekNumber&&d.push(a.classNames.with_weeknumber);var f=ln(ln({},a.styles.root),a.style),h=Object.keys(n).filter(function(w){return w.startsWith("data-")}).reduce(function(w,g){var y;return ln(ln({},w),(y={},y[g]=n[g],y))},{}),m=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:qFe;return l("div",ln({className:d.join(" "),style:f,dir:a.dir,id:a.id,nonce:n.nonce,title:n.title,lang:n.lang},h,{children:l(m,{children:s.displayMonths.map(function(w,g){return l(UFe,{displayIndex:g,displayMonth:w},g)})})}))}function WFe(e){var t=e.children,r=p7e(e,["children"]);return l(I7e,{initialProps:r,children:l(z7e,{children:l(NFe,{initialProps:r,children:l(Q7e,{initialProps:r,children:l(rFe,{initialProps:r,children:l(uFe,{children:l(_Fe,{children:t})})})})})})})}function VFe(e){return l(WFe,ln({},e,{children:l(zFe,{initialProps:e})}))}function _m({className:e,classNames:t,showOutsideDays:r=!0,...n}){return l(VFe,{showOutsideDays:r,className:Lt("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Lt(gx({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Lt(gx({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...a})=>l(w4,{className:"h-4 w-4"}),IconRight:({...a})=>l(om,{className:"h-4 w-4"})},...n})}_m.displayName="Calendar";const HFe=Re.object({type:Re.string().min(1,"Treatment type is required"),description:Re.string().min(1,"Description is required"),status:Re.enum(["pending","completed","cancelled"]),cost:Re.string().min(1,"Cost is required").refine(e=>!isNaN(parseFloat(e)),"Cost must be a valid number").refine(e=>parseFloat(e)>=0,"Cost must be a non-negative number"),estimated_duration:Re.string().optional().nullable().transform(e=>e===""?null:e),priority:Re.enum(["low","medium","high"]),plan_id:Re.string().min(1),scheduled_date:Re.string().optional().nullable().transform(e=>e===""?null:e),time_gap:Re.string().optional().nullable().transform(e=>e===""?null:e)});function ZS({open:e,onOpenChange:t,onSubmit:r,planId:n,loading:a=!1,initialData:i,isEditMode:s=!1,hidePatientField:o=!1}){const c=pd({resolver:md(HFe),defaultValues:{type:"",description:"",status:"pending",cost:"0",estimated_duration:"",priority:"medium",plan_id:n,scheduled_date:null,time_gap:null}});tt.useEffect(()=>{if(n&&!s&&c.setValue("plan_id",n),s&&i){const d=i.priority,h=["low","medium","high"].includes(d||"")?d:"medium";c.reset({type:i.type||"",description:i.procedures||i.description||"",status:i.status||"pending",cost:i.cost!==void 0&&i.cost!==null?String(i.cost):"0",estimated_duration:i.estimated_duration||null,priority:h,plan_id:i.treatment_plan_id||n,scheduled_date:i.scheduled_date?Rt(Wr(i.scheduled_date),"yyyy-MM-dd"):null,time_gap:i.time_gap||null})}else s||c.reset({type:"",description:"",status:"pending",cost:"0",estimated_duration:null,priority:"medium",plan_id:n,scheduled_date:null,time_gap:null})},[n,i,s,c]);const u=async d=>{await r(d),s||c.reset({type:"",description:"",status:"pending",cost:"0",estimated_duration:null,priority:"medium",plan_id:n,scheduled_date:null,time_gap:null})};return l(Hn,{open:e,onOpenChange:d=>{d||s||c.reset({type:"",description:"",status:"pending",cost:"0",estimated_duration:null,priority:"medium",plan_id:n,scheduled_date:null,time_gap:null}),t(d)},children:x(qn,{className:"max-w-lg overflow-y-auto max-h-[90vh]",children:[" ",x(Jn,{children:[l(Zn,{children:s?"Edit Treatment Details":"Add New Treatment"}),l(ds,{children:s?"Update the details of this treatment or visit.":"Add a treatment procedure to the plan."})]}),l(Mh,{...c,children:x("form",{onSubmit:c.handleSubmit(u),className:"space-y-4 py-2 pr-2",children:[!o&&l(Ve,{control:c.control,name:"patient_id",render:({field:d})=>x(Ie,{children:[l(De,{children:"Patient *"}),l(Le,{children:l(dt,{placeholder:"Enter patient ID or select patient",...d})}),l(et,{})]})}),l(Ve,{control:c.control,name:"type",render:({field:d})=>x(Ie,{children:[l(De,{children:"Treatment Type / Title *"}),l(Le,{children:l(dt,{placeholder:"e.g., Root Canal, Filling, Visit 1",...d})}),l(et,{})]})}),l(Ve,{control:c.control,name:"description",render:({field:d})=>x(Ie,{children:[l(De,{children:"Description / Procedures *"}),l(Le,{children:l(un,{placeholder:"Detailed description of the treatment or procedures",...d,rows:3})}),l(et,{})]})}),x("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l(Wp,{name:"cost",control:c.control,render:({field:d,fieldState:{error:f}})=>x(Ie,{children:[l(De,{children:"Cost (₹) *"}),l(Le,{children:l(dt,{type:"text",inputMode:"decimal",placeholder:"0.00",ref:d.ref,name:d.name,onBlur:d.onBlur,value:d.value===null||d.value===void 0?"":String(d.value),onChange:h=>d.onChange(h.target.value),"aria-invalid":!!f})}),f&&l(et,{children:f.message})]})}),l(Ve,{control:c.control,name:"estimated_duration",render:({field:d})=>x(Ie,{children:[l(De,{children:"Estimated Duration"}),l(Le,{children:l(dt,{type:"text",placeholder:"e.g., 30 minutes, 1 hour",...d,value:d.value??""})}),l(et,{})]})})]}),x("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l(Ve,{control:c.control,name:"scheduled_date",render:({field:d})=>x(Ie,{className:"flex flex-col",children:[l(De,{children:"Scheduled Date"}),x(pg,{children:[l(mg,{asChild:!0,children:l(Le,{children:x(Me,{variant:"outline",className:`w-full pl-3 text-left font-normal ${!d.value&&"text-muted-foreground"}`,children:[d.value?Rt(Wr(d.value),"PPP"):l("span",{children:"Pick a date"}),l(lD,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),l(bm,{className:"w-auto p-0",align:"start",children:l(_m,{mode:"single",selected:d.value?Wr(d.value):void 0,onSelect:f=>d.onChange(f?Rt(f,"yyyy-MM-dd"):null),disabled:f=>f<new Date("1900-01-01"),initialFocus:!0})})]}),l(et,{})]})}),l(Ve,{control:c.control,name:"time_gap",render:({field:d})=>x(Ie,{children:[l(De,{children:"Next Visit In (Time Gap)"}),l(Le,{children:l(dt,{placeholder:"e.g., 7 days, 2 weeks",...d,value:d.value??""})}),l(et,{})]})})]}),x("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l(Ve,{control:c.control,name:"status",render:({field:d})=>x(Ie,{children:[l(De,{children:"Status"}),x(Ur,{onValueChange:d.onChange,value:d.value||"pending",children:[l(Le,{children:l(jr,{children:l(qr,{placeholder:"Select status"})})}),x($r,{children:[l(mt,{value:"pending",children:"Pending"}),l(mt,{value:"completed",children:"Completed"}),l(mt,{value:"cancelled",children:"Cancelled"})]})]}),l(et,{})]})}),l(Ve,{control:c.control,name:"priority",render:({field:d})=>x(Ie,{children:[l(De,{children:"Priority"}),x(Ur,{onValueChange:d.onChange,value:d.value||"medium",children:[l(Le,{children:l(jr,{children:l(qr,{placeholder:"Select priority"})})}),x($r,{children:[l(mt,{value:"low",children:"Low"}),l(mt,{value:"medium",children:"Medium"}),l(mt,{value:"high",children:"High"})]})]}),l(et,{})]})})]}),x(hs,{className:"pt-4",children:[" ",l(Me,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),x(Me,{type:"submit",disabled:a||c.formState.isSubmitting,children:[a||c.formState.isSubmitting?l(Fn,{className:"mr-2 h-4 w-4 animate-spin"}):s?null:l(Qu,{className:"mr-2 h-4 w-4"}),s?"Save Changes":"Add Treatment"]})]})]})})]})})}function GFe({open:e,onOpenChange:t,patient:r,onSuccess:n}){return l(Hn,{open:e,onOpenChange:t,children:x(qn,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[l(Jn,{children:l(Zn,{children:r?"Edit Patient":"New Patient"})}),l(CR,{patient:r,onSuccess:n,onCancel:()=>t(!1)})]})})}function NW(){const{id:e}=py();return e?l(KFe,{}):l(YFe,{})}function YFe(){const e=Ss(),{toast:t}=bn(),[r,n]=S.useState([]),[a,i]=S.useState(!0),[s,o]=S.useState(""),[c,u]=S.useState(!1),[d,f]=S.useState(!1),[h,m]=S.useState(!1),[w,g]=S.useState([]),[y,b]=S.useState(null),[_,N]=S.useState(null),[E,C]=S.useState(!1),[O,P]=S.useState(!1),[M,L]=S.useState(!1),[j,T]=S.useState(null),[I,B]=S.useState(!1),[G,Z]=S.useState(!1),[re,W]=S.useState(null),[z,U]=S.useState(null),[Y,Q]=S.useState([]),[D,K]=S.useState(null),[J,ne]=S.useState(null),[ie,oe]=S.useState([]);S.useEffect(()=>{V(),ue()},[]);const ue=async()=>{try{const ge=await It.patients.getAll();Q(ge)}catch{Q([])}},V=async()=>{try{const Ce=(await It.patients.getAll()).map(Je=>({...Je,profileCompletion:se(Je)}));n(Ce),i(!1)}catch(ge){console.error("Error fetching patients:",ge),i(!1)}},se=ge=>{if(!ge)return 0;const Ce=["first_name","last_name","gender","age","phone","email","address","city","state","postal_code","emergency_contact_name","emergency_contact_phone","blood_group","allergies","medical_conditions"];let Je=0;return Ce.forEach(Qe=>{ge[Qe]!==null&&ge[Qe]!==void 0&&ge[Qe]!==""&&Je++}),Math.floor(Je/Ce.length*100)},fe=async ge=>{if(o(ge),ge.length>2)try{const Je=(await It.patients.search(ge)).map(Qe=>({...Qe,profileCompletion:se(Qe)}));n(Je)}catch(Ce){console.error("Error searching patients:",Ce)}else ge.length===0&&V()},te=async ge=>{b(ge),f(!0),m(!0),g([]);try{const Ce=await Un.getPatientTreatmentPlans(ge.id),Je=Un.processTreatmentPlanData(Ce||[],Y);g(Je||[])}catch{t({title:"Error",description:"Failed to load treatment plans",variant:"destructive"}),g([])}finally{m(!1)}},Ee=()=>{f(!1),b(null),g([])},Fe=S.useCallback(async ge=>{if(N(null),C(!0),K(null),ge&&ge.id){const Ce=await Un.getPatientTreatmentPlans(ge.patient_id),Qe=Un.processTreatmentPlanData(Ce,Y).find(Xe=>Xe.id===ge.id);if(Qe){let Xe=null;if(!Qe.treatments||Qe.treatments.length===0)try{Xe=await Un.getAiSuggestionForPlan(Qe)}catch{Xe=null}console.log("[DEBUG] handleViewPlanDetails - fullPlan.teeth:",Qe.teeth),N({...Qe,teeth:Qe.teeth}),K(Xe)}else t({title:"Error",description:"Failed to fetch plan details.",variant:"destructive"}),C(!1)}},[Y]),Pe=()=>{C(!1),N(null)},ve=()=>{P(!0)},Ge=ge=>{U(ge.id),W(null),B(!0)},ht=(ge,Ce)=>{U(ge.id),W(Ce),Z(!0)},at=async(ge,Ce=!1)=>{m(!0);try{const Je=await Un.getPatientTreatmentPlans(ge);if(g(Je||[]),_&&_.id&&E){const Qe=Je==null?void 0:Je.find(Xe=>Xe.id===_.id);if(Qe){let Xe=null,Ke=0;const At=3,Nt=2500;for(Ce&&console.log(`[Patients.tsx REFRESH] Expecting treatments for plan ${_.id}. Will attempt up to ${At} times.`);Ke<At;){Ke>0?(console.log(`[Patients.tsx REFRESH ATTEMPT ${Ke+1}/${At}] Retrying to fetch details for plan ${_.id} after ${Nt}ms...`),await new Promise(Tr=>setTimeout(Tr,Nt))):Ce&&Ke===0&&await new Promise(Tr=>setTimeout(Tr,1e3));const vt=await It.patients.getTreatmentPlanDetails(Qe.id);if(vt&&vt.data)if(console.log("[DEBUG] refreshTreatmentPlans - detailsResult.data.teeth:",vt.data.teeth),Ce)if(vt.data.treatments&&vt.data.treatments.length>0){console.log(`[Patients.tsx REFRESH ATTEMPT ${Ke+1}] Treatments found for plan ${_.id}.`),Xe=vt.data;break}else console.log(`[Patients.tsx REFRESH ATTEMPT ${Ke+1}] Treatments still not found for plan ${_.id}.`),Ke===At-1&&(Xe=vt.data,console.warn(`[Patients.tsx REFRESH] Max attempts reached. Using plan data which might not have latest treatments for plan ${_.id}.`));else{Xe=vt.data;break}else if(console.error(`[Patients.tsx REFRESH ATTEMPT ${Ke+1}] Failed to fetch details for plan ${_.id}. Error: ${vt==null?void 0:vt.error}`),Ke===At-1&&_&&console.warn(`[Patients.tsx REFRESH] Max attempts reached and failed to fetch details for plan ${_.id}. Plan data in dialog will be stale.`),!vt||!vt.data){Xe=null;break}Ke++}if(Xe){const Tr=(await Un.getPatientTreatmentPlans(y.id)).find(cr=>cr.id===(Xe.id||_&&_.id));if(Tr){N({...Tr,treatments:Tr.visits||[],teeth:Tr.teeth||[]}),console.log("[Patients.tsx REFRESH] fullFreshPlan after attempts:",JSON.parse(JSON.stringify(Tr))),console.log("[Patients.tsx REFRESH] fullFreshPlan.treatments:",JSON.parse(JSON.stringify(Tr.treatments||[]))),console.log("[Patients.tsx REFRESH] fullFreshPlan.originalAISuggestion:",JSON.parse(JSON.stringify(Tr.originalAISuggestion||null)));let cr=null;if(Tr.treatments&&Tr.treatments.length>0)cr=null;else if(Ce)console.warn(`[Patients.tsx REFRESH] Expected treatments for plan ${Tr.id} after AI add, but none found after retries. Retaining existing AI suggestion to allow retry.`),cr=D;else if(Tr.originalAISuggestion)cr=Tr.originalAISuggestion;else{console.log("[Patients.tsx REFRESH] Plan has no treatments, no embedded originalAISuggestion. Attempting to fetch new AI suggestion.");try{cr=await Un.getAiSuggestionForPlan(Tr)}catch(Nn){console.error("[Patients.tsx REFRESH] Failed to fetch new AI suggestion:",Nn),cr=null}}K(cr),console.log("[Patients.tsx REFRESH] newAiSuggestionState set to state:",JSON.parse(JSON.stringify(cr||null)))}else t({title:"Warning",description:"Could not refresh plan details. Displayed data might be stale.",variant:"default"}),Ce&&console.warn(`[Patients.tsx REFRESH] Failed to fetch plan details for plan ${_.id} after AI add attempt. AI suggestion state will be preserved to allow retry.`)}else t({title:"Warning",description:"Could not refresh plan details. Displayed data might be stale.",variant:"default"}),Ce&&console.warn(`[Patients.tsx REFRESH] Failed to fetch plan details for plan ${_.id} after AI add attempt. AI suggestion state will be preserved to allow retry.`)}}}catch(Je){console.error("[Patients.tsx REFRESH] Error in refreshTreatmentPlans:",Je),t({title:"Error",description:"Failed to refresh treatment plans.",variant:"destructive"}),g([])}finally{m(!1)}},St=S.useMemo(()=>{const ge=(_==null?void 0:_.treatments)||[];if(!ge.length)return[];const Ce=new Map;for(const Xe of ge)Xe&&typeof Xe.id<"u"&&(Ce.has(Xe.id)||Ce.set(Xe.id,Xe));const Je=Array.from(Ce.values()).sort((Xe,Ke)=>{const At=typeof Xe.visit_number=="number"?Xe.visit_number:1/0,Nt=typeof Ke.visit_number=="number"?Ke.visit_number:1/0;if(At!==Nt)return At-Nt;const vt=Xe.created_at?new Date(Xe.created_at).getTime():0,Tr=Ke.created_at?new Date(Ke.created_at).getTime():0;return vt-Tr});let Qe=(_==null?void 0:_.start_date)||(_==null?void 0:_.created_at);return Je.map((Xe,Ke)=>{let At;if(Ke===0)At=Rt(Wr(Qe),"yyyy-MM-dd");else{const Nt=Je[Ke-1];Qe=XFe(Qe,Nt.time_gap),At=Qe}return{...Xe,estimatedVisitDate:At}})},[_==null?void 0:_.treatments,_==null?void 0:_.start_date,_==null?void 0:_.created_at]);S.useEffect(()=>{const ge=()=>{ne(null),oe([])};return window.addEventListener("afterprint",ge),()=>window.removeEventListener("afterprint",ge)},[]);const wt=async()=>{_&&await ZMe(_,St||[])},_e=()=>{const ge="print-styles";let Ce=document.getElementById(ge);Ce||(Ce=document.createElement("style"),Ce.id=ge),Ce.innerHTML=`
      @media print {
        body * { visibility: hidden; }
        #printable-content, #printable-content * { visibility: visible; color: black; }
        #printable-content { position: absolute; left: 0; top: 0; width: 100%; background: white; }
        @page { size: auto; margin: 20mm; }
      }
    `,document.head.appendChild(Ce);const Je=document.getElementById("printable-content");Je&&(Je.style.display="block"),window.print();const Qe=()=>{Je&&(Je.style.display="none"),Ce&&Ce.parentNode&&Ce.parentNode.removeChild(Ce),window.removeEventListener("afterprint",Qe)};window.addEventListener("afterprint",Qe)};return x(Nr,{children:[l("style",{children:`
        .glass-treatment-btn {
          background: linear-gradient(135deg, rgba(255,255,255,0.45) 0%, rgba(173,216,255,0.25) 100%);
          border-radius: 18px;
          border: 1.5px solid rgba(120, 180, 255, 0.18);
          box-shadow: 0 4px 24px 0 rgba(120,180,255,0.10), 0 1.5px 6px 0 rgba(120,180,255,0.10);
          backdrop-filter: blur(22px) saturate(180%);
          -webkit-backdrop-filter: blur(22px) saturate(180%);
          color: #2563eb;
          font-weight: 600;
          padding: 0.85rem 1.5rem;
          display: flex;
          align-items: center;
          gap: 0.5rem;
          transition: box-shadow 0.2s, background 0.2s, border 0.2s;
          outline: none;
        }
        .glass-treatment-btn:hover {
          background: linear-gradient(135deg, rgba(255,255,255,0.60) 0%, rgba(173,216,255,0.35) 100%);
          box-shadow: 0 12px 40px 0 rgba(120,180,255,0.18), 0 2px 8px 0 rgba(120,180,255,0.15);
          color: #1d4ed8;
          border: 1.5px solid rgba(120,180,255,0.28);
        }
      `}),x("div",{className:"space-y-6",children:[l("div",{className:"flex items-center justify-between",children:x("div",{children:[l("h1",{className:"text-2xl font-semibold tracking-tight",children:"Patients"}),l("p",{className:"text-sm text-muted-foreground",children:"Manage patient information and appointments"})]})}),x("div",{className:"flex items-center gap-4",children:[x("div",{className:"relative flex-1",children:[l(_4,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),l(dt,{placeholder:"Search by name, phone, or registration number...",className:"pl-8",value:s,onChange:ge=>fe(ge.target.value)})]}),x(Me,{onClick:()=>u(!0),children:[l(Qu,{className:"h-4 w-4 mr-2"}),"New Patient"]})]}),c&&l(GFe,{open:c,onOpenChange:u,onSuccess:ge=>{u(!1),e(`/patients/${ge}`)}}),a?l("div",{className:"text-center py-8",children:"Loading patients..."}):l("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(ge=>x(or,{children:[l(pr,{className:"pt-6",children:x("div",{className:"flex flex-col space-y-2",children:[x("div",{className:"flex items-center justify-between",children:[x("h3",{className:"font-medium",children:[ge.first_name," ",ge.last_name]}),l("div",{className:`px-2 py-1 rounded-full text-xs ${ge.profileCompletion===100?"bg-green-100 text-green-800":ge.profileCompletion>50?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:ge.profileCompletion===100?"Complete":ge.profileCompletion>50?"In Progress":"Basic"})]}),x("div",{className:"flex items-center text-sm text-muted-foreground",children:[l(A5,{className:"h-4 w-4 mr-2"}),ge.phone]}),ge.email&&x("div",{className:"flex items-center text-sm text-muted-foreground",children:[l(b4,{className:"h-4 w-4 mr-2"}),ge.email]}),x("div",{className:"mt-2",children:[x("div",{className:"flex items-center justify-between text-sm mb-1",children:[l("span",{children:"Profile Completion"}),x("span",{children:[ge.profileCompletion,"%"]})]}),l(Cre,{value:ge.profileCompletion})]})]})}),x(eg,{className:"flex flex-col gap-2 items-stretch",children:[x("div",{className:"flex justify-between w-full",children:[l(Me,{variant:"outline",size:"sm",onClick:()=>e(`/patients/${ge.id}`,{state:{action:"view"}}),children:"View Details"}),x(Me,{variant:"secondary",size:"sm",onClick:()=>e(`/patients/${ge.id}`,{state:{action:"edit"}}),children:[l(yi,{className:"h-4 w-4 mr-1"}),ge.profileCompletion<100?"Complete Profile":"Edit Profile"]})]}),x(Me,{type:"button",className:"glass-treatment-btn",onClick:()=>te(ge),children:[l(N5,{className:"h-5 w-5"})," Treatment Plan"]})]})]},ge.id))}),l(Hn,{open:d,onOpenChange:Ee,children:x(qn,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[l(Jn,{children:l(Zn,{children:y?`Treatment Plans for ${y.first_name} ${y.last_name}`:"Treatment Plans"})}),l("div",{className:"flex justify-end mb-4",children:x(Me,{type:"button",className:"glass-treatment-btn",onClick:ve,children:[l(N5,{className:"h-5 w-5"})," Add Treatment Plan"]})}),h?l("div",{className:"flex items-center justify-center py-12",children:"Loading..."}):w.length===0?l("div",{className:"text-center text-muted-foreground py-8",children:"No treatment plans found for this patient."}):l("div",{className:"grid grid-cols-1 gap-4",children:w.map(ge=>l(Ore,{plan:ge,onViewDetails:Fe},ge.id))})]})}),l(Hn,{open:O,onOpenChange:P,children:x(qn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[l(Jn,{children:l(Zn,{children:"Add Treatment Plan"})}),y&&l(TO,{open:O,onOpenChange:P,onSubmit:async(ge,Ce)=>{const{clinical_considerations:Je,key_materials:Qe,post_treatment_care:Xe,total_visits:Ke,condition:At,domain:Nt,symptoms:vt,materials:Tr,estimated_duration:cr,initialTreatments:Nn,originalAISuggestion:ct,...Dt}=ge;let Vr=Ce||[];if(ct&&ct.caseOverview&&ct.caseOverview.teethInvolved){const hr=ct.caseOverview.teethInvolved.split(",").map(Zr=>parseInt(Zr.trim(),10)).filter(Zr=>!isNaN(Zr));hr.length>0&&(Vr=hr)}const gr={title:ge.title||ge.symptoms||"Untitled Plan",description:ge.description||"",patient_id:ge.patient_id,status:ge.status||"planned",start_date:ge.start_date||new Date().toISOString().split("T")[0],priority:ge.priority||"medium",ai_generated:ge.ai_generated||!1},Kr=await Un.createTreatmentPlan(gr,Vr);if(!Kr||Kr.error||!Kr.data||!Kr.data.id){t({title:"Error",description:"Failed to create treatment plan.",variant:"destructive"});return}const fr=Kr.data.id,Er=await It.patients.createTreatmentPlanMetadata({treatment_plan_id:fr,clinical_considerations:Je||null,key_materials:Qe||null,post_treatment_care:Xe||null,total_visits:Ke?Number(Ke):0,completed_visits:0,originalAISuggestion:ct||null});if(Er&&Er.error){t({title:"Error",description:"Failed to save plan metadata.",variant:"destructive"});return}P(!1),at(gr.patient_id);let hn=null,Mr=null;if(fr){const hr=await It.patients.getTreatmentPlanDetails(fr);hr&&hr.data?(hn=Un.processTreatmentPlanData([hr.data],Y)[0],ct&&(hn.originalAISuggestion=ct)):hr&&hr.error&&(Mr=hr.error)}if(Mr||!hn||hn.error){t({title:"Error",description:"Failed to fetch full plan details. Please try again.",variant:"destructive"});return}N({...hn,treatments:hn.visits||[],teeth:hn.teeth||[]}),C(!0),K(ct||null)},patients:Y,loading:!1,initialData:{patient_id:y.id},lockPatientId:y.id})]})}),l(Hn,{open:M,onOpenChange:L,children:x(qn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[l(Jn,{children:l(Zn,{children:"Edit Treatment Plan"})}),y&&j&&l(TO,{open:M,onOpenChange:L,onSubmit:async(ge,Ce)=>{await Un.updateTreatmentPlan(j.id,{...ge,patient_id:y.id}),L(!1),at(y.id);const Je=await It.patients.getTreatmentPlanDetails(j.id);if(Je&&Je.data){const Xe=Un.processTreatmentPlanData([Je.data],Y)[0];N({...Xe,treatments:Xe.visits||[],teeth:Xe.teeth||[]})}},patients:Y,loading:!1,initialData:j})]})}),l(Hn,{open:I,onOpenChange:B,children:x(qn,{className:"max-w-lg max-h-[90vh] overflow-y-auto",children:[l(Jn,{children:l(Zn,{children:"Add Treatment"})}),z&&l(ZS,{open:I,onOpenChange:B,onSubmit:async ge=>{await Un.createTreatment({...ge,plan_id:z}),B(!1),y&&at(y.id)},planId:z,loading:!1,hidePatientField:!0})]})}),l(Hn,{open:G,onOpenChange:Z,children:x(qn,{className:"max-w-lg max-h-[90vh] overflow-y-auto",children:[l(Jn,{children:l(Zn,{children:"Edit Treatment"})}),z&&re&&l(ZS,{open:G,onOpenChange:Z,onSubmit:async ge=>{await Un.updateTreatment(re.id,{...ge,plan_id:z}),Z(!1),y&&at(y.id)},planId:z,loading:!1,initialData:re,isEditMode:!0,hidePatientField:!0})]})}),l(Hn,{open:E,onOpenChange:Pe,children:x(qn,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[_&&!_.error&&x(Nr,{children:[l(Mne,{open:E,onOpenChange:Pe,plan:{..._,teeth:(_==null?void 0:_.teeth)||[]},onRefresh:async()=>{if(y&&_){const Ce=(await Un.getPatientTreatmentPlans(y.id)).find(Je=>Je.id===_.id);if(Ce){console.log("[PATIENTS MODAL PLAN REFRESH] Raw plan from backend (with visits):",JSON.parse(JSON.stringify(Ce)));const Je={...Ce,treatments:Ce.treatments&&Ce.treatments.length>0?Ce.treatments:Ce.visits||[],teeth:Ce.teeth||[]};console.log("[PATIENTS MODAL PLAN REFRESH] Mapped plan (with treatments):",JSON.parse(JSON.stringify(Je))),N(Je)}}},onAddTreatment:()=>Ge(_),onStatusChange:async(ge,Ce)=>{await Un.updateTreatmentPlan(ge,{status:Ce}),y&&at(y.id)},onDeletePlan:async ge=>{await Un.deleteTreatmentPlan(ge),C(!1),y&&at(y.id)},onTreatmentStatusChange:async(ge,Ce)=>{await Un.updateTreatment(ge,{status:Ce}),y&&at(y.id)},onDeleteTreatment:async ge=>{await Un.deleteTreatment(ge),y&&at(y.id)},onEditTreatment:ge=>ht(_,ge),loading:!1,navigateToPatient:()=>{},aiInitialSuggestion:D}),l(Me,{className:"mt-4",variant:"outline",onClick:_e,disabled:!_,children:"Print Plan"}),l(Me,{className:"mt-4 ml-2",variant:"outline",onClick:wt,disabled:!_,children:"Download PDF"})]}),_&&_.error&&x("div",{className:"text-red-500",children:["Error loading treatment plan: ",_.error.message]})]})})]}),l(Rne,{plan:{..._,teeth:(_==null?void 0:_.teeth)||[]},treatmentsWithEstimatedDates:St})]})}function KFe(){const e=Ss(),{id:t}=py(),{state:r}=Cm(),[n,a]=S.useState(null),[i,s]=S.useState([]),[o,c]=S.useState([]),[u,d]=S.useState([]),[f,h]=S.useState(!0),[m,w]=S.useState((r==null?void 0:r.action)==="edit"),[g,y]=S.useState(!1),[b,_]=S.useState(!1),{toast:N}=bn();console.log(`Patients.tsx: PatientDetails rendering. isEditing: ${m}, Patient ID: ${t}`),S.useEffect(()=>{t&&E(t)},[t]);const E=async P=>{h(!0);try{er.invalidate(`patients:${P}`),er.invalidate(`appointments:patient:${P}`),er.invalidate(`medical_records:${P}`),er.invalidate(`patient_dental_history_teeth:${P}`);const[M,L,j,T]=await Promise.all([It.patients.getById(P),It.appointments.getByPatientId(P),It.patients.getMedicalRecords(P),It.patients.getPatientDentalHistoryTeeth(P)]);a(M),s(L||[]),c(j||[]),d(T||[])}catch(M){console.error("Error fetching patient details:",M)}finally{h(!1)}},C=()=>{y(!0)},O=P=>{e(`/appointments?patientId=${P}&action=new`)};return f?l("div",{className:"flex items-center justify-center h-full",children:"Loading patient details..."}):n?x("div",{className:"space-y-6",children:[x("div",{className:"flex items-center justify-between",children:[x("div",{children:[l("h1",{className:"text-2xl font-semibold tracking-tight",children:m?"Edit Patient Profile":"Patient Details"}),x("p",{className:"text-sm text-muted-foreground",children:[n.first_name," ",n.last_name]})]}),x("div",{className:"flex gap-2",children:[l(Me,{variant:"outline",onClick:()=>e("/patients"),children:"Back to List"}),l(Me,{onClick:()=>{console.log(`Patients.tsx: Edit/View button clicked. Current isEditing: ${m}`),w(!m),console.log("Patients.tsx: setIsEditing called.")},children:m?"View Details":"Edit Profile"})]})]}),m?l(Nr,{children:l(CR,{patient:n,onSuccess:()=>{E(t),w(!1)},onCancel:()=>w(!1)},(n==null?void 0:n.id)||"new-patient-form")}):l(HIe,{patient:n,appointments:i,medicalRecords:o,dentalHistoryTeeth:u,onEdit:()=>w(!0),onBookAppointment:O,onAddMedicalRecord:C}),l(Hn,{open:g,onOpenChange:y,children:x(qn,{className:"max-w-5xl w-full mx-auto rounded-lg shadow-lg",children:[l(Jn,{children:l(Zn,{children:"Add New Medical Record"})}),l(Tre,{patientId:t,patientName:(n==null?void 0:n.first_name)+" "+(n==null?void 0:n.last_name),onSubmit:async P=>{_(!0);try{await It.patients.createMedicalRecord({patient_id:t,record_date:P.chief_complaint?new Date().toISOString().split("T")[0]:"",record_type:"dental",description:JSON.stringify(P)},[]),N({title:"Success",description:"Medical record added successfully."}),y(!1),E(t)}catch(M){console.error("Error adding medical record:",M),N({title:"Error",description:"Failed to add medical record.",variant:"destructive"})}finally{_(!1)}},onCancel:()=>y(!1),isLoading:b})]})})]}):l("div",{className:"flex items-center justify-center h-full",children:"Patient not found"})}function XFe(e,t){if(!t)try{return Rt(Wr(e),"yyyy-MM-dd")}catch{try{const a=new Date(e);return isNaN(a.getTime())?e:Rt(a,"yyyy-MM-dd")}catch{return e}}let r;try{r=Wr(e)}catch{r=new Date(e)}if(isNaN(r.getTime()))return"Invalid Date";try{const n=t.toLowerCase().split(" ");if(n.length!==2)return Rt(r,"yyyy-MM-dd");const a=parseInt(n[0],10),i=n[1].endsWith("s")?n[1]:n[1]+"s";if(isNaN(a))return Rt(r,"yyyy-MM-dd");let s={};if(i==="days")s={days:a};else if(i==="weeks")s={weeks:a};else if(i==="months")s={months:a};else if(i==="years")s={years:a};else return Rt(r,"yyyy-MM-dd");return Rt(AK(r,s),"yyyy-MM-dd")}catch{return Rt(r,"yyyy-MM-dd")}}function AW(e,t){const[r,n]=S.useState(!1);return S.useEffect(()=>{let a;try{a=Y4(e,i=>{t&&t(i)}),n(!0)}catch(i){console.error("Error subscribing to changes:",i),n(!1)}return()=>{a&&a.unsubscribe(),n(!1)}},[e,t]),r}function kW(e,t={}){const[r,n]=S.useState(!1);return{update:S.useCallback(async(i,s)=>{n(!0),s&&s();try{const o=await e(i);return t.onSuccess&&t.onSuccess(o),o}catch(o){throw console.error(t.errorMessage||"Update failed",o),t.onError&&t.onError(o),o}finally{n(!1)}},[e,t]),loading:r}}const gT=async e=>{if(!e)return console.log("[getBookedAppointmentDetailsForPlan] No planId provided, exiting."),[];console.log(`[getBookedAppointmentDetailsForPlan] Attempting to fetch for planId: ${e}`);let t=null;try{if(console.log(`[getBookedAppointmentDetailsForPlan] ENTERING TRY BLOCK for planId: ${e}`),console.log(`[getBookedAppointmentDetailsForPlan] PRE: Calling treatmentService.getVisitsByPlanId for planId: ${e}`),t=await Un.getVisitsByPlanId(e),console.log(`[getBookedAppointmentDetailsForPlan] POST: treatmentService.getVisitsByPlanId returned for planId ${e}. Result:`,t),!t)return console.log(`[getBookedAppointmentDetailsForPlan] Visits data is null or undefined for plan ${e}.`),[];if(t.length===0)return console.log(`[getBookedAppointmentDetailsForPlan] No visits found (empty array) for plan ${e}`),[];const r=t.map(i=>i.id);if(console.log(`[getBookedAppointmentDetailsForPlan] Visit IDs for plan ${e}:`,r),r.length===0)return console.log(`[getBookedAppointmentDetailsForPlan] No visit IDs extracted (map result empty) for plan ${e}`),[];console.log("[getBookedAppointmentDetailsForPlan] PRE: Calling api.appointments.getAppointmentsByTreatmentIds with visitIds:",r);const n=await It.appointments.getAppointmentsByTreatmentIds(r);if(console.log(`[getBookedAppointmentDetailsForPlan] POST: api.appointments.getAppointmentsByTreatmentIds returned. Appointments for visit IDs (${r.join(", ")}):`,n),!n)return console.log("[getBookedAppointmentDetailsForPlan] Appointments data is null or undefined for the given visit IDs."),[];if(n.length===0)return console.log("[getBookedAppointmentDetailsForPlan] No appointments found (empty array) for visit IDs"),[];const a=n.filter(i=>i.status!=="cancelled"&&i.treatment_id).map(i=>i);return console.log(`[getBookedAppointmentDetailsForPlan] Filtered Booked Appointments for plan ${e}:`,a),a}catch(r){return console.error(`[getBookedAppointmentDetailsForPlan] CRITICAL ERROR in getBookedAppointmentDetailsForPlan for planId ${e}. Error:`,r),t!==null?console.error("[getBookedAppointmentDetailsForPlan] State of 'visits' when error occurred:",t):console.error("[getBookedAppointmentDetailsForPlan] 'visits' was null when error occurred (error likely in getVisitsByPlanId itself)."),[]}};function JFe(){const{toast:e}=bn(),[t,r]=S.useState(!0),[n,a]=S.useState([]),[i,s]=S.useState([]),[o,c]=S.useState(null),[u,d]=S.useState({plans:null,selectedPlan:null}),f=AW("treatment_plans",()=>{b()}),h=AW("treatments",T=>{o&&T.new&&T.new.plan_id===o.id?_():b()}),{update:m,loading:w}=kW(T=>Un.updateTreatment(T.treatmentId,{status:T.newStatus}),{onError:()=>{e({title:"Update Failed",description:"Failed to update treatment status. Please try again.",variant:"destructive"}),o&&u.selectedPlan&&c({...u.selectedPlan})}}),{update:g,loading:y}=kW(T=>Un.updateTreatmentPlan(T.planId,{status:T.newStatus}),{onError:()=>{e({title:"Update Failed",description:"Failed to update plan status. Please try again.",variant:"destructive"}),u.plans&&a([...u.plans])}}),b=S.useCallback(async()=>{try{r(!0);const[T,I]=await Promise.all([Un.getAllTreatmentPlans(),It.patients.getAll()]),B=Un.processTreatmentPlanData(T,I);a(B),s(I)}catch(T){console.error("Error fetching data:",T),e({title:"Error",description:"Failed to load treatment plans",variant:"destructive"})}finally{r(!1)}},[e]),_=S.useCallback(async()=>{if(o)try{const I=(await Un.getAllTreatmentPlans()).find(B=>B.id===o.id);if(I){const B=Un.processTreatmentPlanData([I],i)[0];c(B)}}catch(T){console.error("Error refreshing plan:",T)}},[o,i]);S.useEffect(()=>{b()},[]);const N=S.useCallback((T,I,B)=>n.filter(G=>{var z,U,Y;const Z=T?((z=G.title)==null?void 0:z.toLowerCase().includes(T.toLowerCase()))||((U=G.description)==null?void 0:U.toLowerCase().includes(T.toLowerCase()))||((Y=G.patientName)==null?void 0:Y.toLowerCase().includes(T.toLowerCase())):!0,re=I&&I!=="all"?G.patient_id===I:!0,W=B&&B!=="all"?G.status===B:!0;return Z&&re&&W}),[n]),E=S.useCallback(async(T,I)=>{var Z,re,W,z;let B=null,G=null;try{r(!0);const{originalAISuggestion:U,clinical_considerations:Y,materials:Q,post_treatment_care:D,total_visits:K,...J}=T,ne={title:J.title||"Untitled Plan",description:J.description||"No description",patient_id:J.patient_id||"",status:J.status||"planned",start_date:J.start_date||Rt(new Date,"yyyy-MM-dd"),priority:J.priority||"medium",ai_generated:!!U},ie=await Un.createTreatmentPlan(ne,I);if(ie.error||!ie.data||!ie.data.id)throw console.error("Error creating base treatment plan:",ie.error),e({title:"Error",description:((Z=ie.error)==null?void 0:Z.message)||"Failed to create base treatment plan record.",variant:"destructive"}),ie.error||new Error("Base plan creation failed or ID missing.");B=ie.data.id,G=ie.data,e({title:"Plan Created",description:"Base plan record and teeth associations saved. Saving metadata..."});const oe={treatment_plan_id:B,clinical_considerations:Y||null,key_materials:Q||null,post_treatment_care:D||null,total_visits:K?parseInt(K):((z=(W=(re=U==null?void 0:U.planDetails)==null?void 0:re.appointmentPlan)==null?void 0:W.sittingDetails)==null?void 0:z.length)||0,completed_visits:0};try{await It.patients.createTreatmentPlanMetadata(oe),e({title:"Metadata Saved",description:"Additional plan details saved successfully."})}catch(fe){console.error("Error creating treatment plan metadata:",fe),e({title:"Warning",description:"Plan created, but failed to save some additional details (metadata).",variant:"default"})}const ue=await It.patients.getTreatmentPlanDetails(B);if(ue.error||!ue.data)return console.error("Error fetching new plan details:",ue.error),e({title:"Warning",description:"Plan fully created, but failed to fetch updated details. A manual refresh may be needed.",variant:"default"}),b(),{...Un.processTreatmentPlanData([{...G,treatments:[],metadata:oe}],i)[0],originalAISuggestion:U};const V=ue.data,se=Un.processTreatmentPlanData([V],i)[0];return b(),console.log("[useTreatmentPlans] createTreatmentPlan - Returning originalAISuggestion:",T.originalAISuggestion),{...se,originalAISuggestion:T.originalAISuggestion}}catch(U){throw console.error("Error in createTreatmentPlan process:",U),e({title:"Error",description:`An unexpected error occurred: ${U instanceof Error?U.message:"Please check console."}`,variant:"destructive"}),U}finally{r(!1)}},[b,i,e]),C=S.useCallback(async T=>{try{r(!0),await Un.createTreatment(T),e({title:"Treatment Added",description:"New treatment has been successfully added to the plan."}),await _()}catch(I){throw console.error("Error creating treatment:",I),e({title:"Error",description:I.message||"Failed to add treatment.",variant:"destructive"}),I}finally{r(!1)}},[e,_]),O=S.useCallback(async(T,I)=>{try{r(!0),await Un.updateTreatment(T,I),e({title:"Treatment Updated",description:"Treatment details have been successfully updated."}),await _()}catch(B){throw console.error("Error updating treatment details:",B),e({title:"Error",description:B.message||"Failed to update treatment details.",variant:"destructive"}),B}finally{r(!1)}},[e,_]),P=S.useCallback(async(T,I)=>{if(d({...u,selectedPlan:{...o}}),o){const B=o.treatments.map(re=>re.id===T?{...re,status:I}:re),G=B.filter(re=>re.status==="completed").length,Z=Math.round(G/B.length*100);c({...o,treatments:B,completedTreatments:G,progress:Z})}await m({treatmentId:T,newStatus:I})},[o,u,m]),M=S.useCallback(async(T,I)=>{d({...u,plans:[...n]});const B=n.map(G=>G.id===T?{...G,status:I}:G);a(B),o&&o.id===T&&c({...o,status:I}),await g({planId:T,newStatus:I})},[n,o,u,g]),L=S.useCallback(async T=>{d({...u,selectedPlan:{...o}});try{if(r(!0),o){const I=o.treatments.find(z=>z.id===T),B=o.treatments.filter(z=>z.id!==T),G=B.filter(z=>z.status==="completed").length,Z=B.length,re=Z?Math.round(G/Z*100):0,W=B.reduce((z,U)=>z+parseFloat(U.cost||0),0);c({...o,treatments:B,completedTreatments:G,totalTreatments:Z,progress:re,totalCost:W})}await Un.deleteTreatment(T),e({title:"Success",description:"Treatment deleted successfully"}),await _()}catch(I){console.error("Error deleting treatment:",I),u.selectedPlan&&c(u.selectedPlan),e({title:"Error",description:"Failed to delete treatment",variant:"destructive"})}finally{r(!1)}},[_,o,u,e]),j=S.useCallback(async T=>{try{r(!0);const I=n.filter(B=>B.id!==T);a(I),await Un.deleteTreatmentPlan(T),e({title:"Success",description:"Treatment plan deleted successfully"}),o&&o.id===T&&c(null)}catch(I){console.error("Error deleting treatment plan:",I),b(),e({title:"Error",description:"Failed to delete treatment plan",variant:"destructive"})}finally{r(!1)}},[b,n,o,e]);return{loading:t,treatmentPlans:n,patients:i,selectedPlan:o,setSelectedPlan:c,treatmentPlansSubscribed:f,treatmentsSubscribed:h,updatingTreatmentStatus:w,updatingPlanStatus:y,filterPlans:N,fetchData:b,refreshSelectedPlan:_,createTreatmentPlan:E,createTreatment:C,updateTreatmentDetails:O,handleUpdateTreatmentStatus:P,handleUpdatePlanStatus:M,deleteTreatment:L,deletePlan:j}}function ZFe({open:e,onOpenChange:t,patients:r}){const[n,a]=S.useState(""),[i,s]=S.useState(""),[o,c]=S.useState(""),[u,d]=S.useState(null),[f,h]=S.useState(""),[m,w]=S.useState(""),[g,y]=S.useState([]),[b,_]=S.useState(null),[N,E]=S.useState(!1),[C,O]=S.useState(null),[P,M]=S.useState({}),{toast:L}=bn(),[j,T]=S.useState(!1),[I,B]=S.useState(!1),G=J=>{var Xe;if(!J)return console.log("[generateSuggestions] No details provided."),[];console.log("[generateSuggestions] Processing details object:",J),console.log("[generateSuggestions] Processing details (stringified):",JSON.stringify(J));const ne=Array.isArray(J.medical_conditions)?J.medical_conditions.map(Ke=>String(Ke).toLowerCase()):[],ie=String(((Xe=J.lifestyle_habits)==null?void 0:Xe.additional_concerns)||"").toLowerCase(),oe=J.dental_history,ue=String((oe==null?void 0:oe.chief_complaint)||"").toLowerCase(),V=String((oe==null?void 0:oe.pain_description)||"").toLowerCase(),se=String((oe==null?void 0:oe.functional_concerns)||"").toLowerCase();console.log("[generateSuggestions] Parsed medicalConditions array:",ne),console.log("[generateSuggestions] Parsed lifestyleConcerns string:",ie),console.log("[generateSuggestions] Parsed chiefComplaint string:",ue),console.log("[generateSuggestions] Parsed painDescription string:",V),console.log("[generateSuggestions] Parsed functionalConcerns string:",se);const fe=["pain","throbbing","sensitivity","sensitive","hot food","severe tooth pain","ache"],te=["filling","root canal","lodgement","molar","cavity","broken","chipped","missing"],Ee=["gum","recession","periodontal","bleeding","swelling","pocketing","mobile"],Fe=["jaw","clicking","tmj","bruxism","grinding","headache","lock"],Pe=["stain","deposits","white teeth","cosmetic","discolored","yellow"],ve=`${ue} ${V} ${se} ${ie}`;console.log("[generateSuggestions] Combined searchable text:",ve);const Ge=[],ht=new Set;let at=0;const St=(Ke,At,Nt)=>{let vt=Nt.split(" ")[0];const Tr=Nt.match(/\b(\d{2}(?:,\s*\d{2})*)\b/);return Tr?vt=`Teeth ${Tr[0]}`:At.length>0&&(vt=At[0].charAt(0).toUpperCase()+At[0].slice(1)),`${Ke}: ${vt}`},wt=fe.filter(Ke=>ve.includes(Ke)||ne.includes(Ke));if(wt.length>0&&at<3){const Ke=St("Assess Pain",wt,V||ue);if(!ht.has(Ke)){const At=`Patient reports pain/sensitivity related to: "${V||ue||"N/A"}". Relevant Medical Conditions: ${ne.join(", ")||"None"}.`,Nt=`Regarding the reported pain/sensitivity (${V||ue||"see condition"}), what are the likely causes? What diagnostic steps (tests, imaging) and initial pain management strategies are recommended?`;Ge.push({label:Ke,condition:At,question:Nt}),ht.add(Ke),at++}}const _e=te.filter(Ke=>ve.includes(Ke));if(_e.length>0&&at<3){const Ke=St("Evaluate Restorative",_e,ue||se);if(!ht.has(Ke)){const At=`Patient presents with potential restorative needs (${_e.join(", ")}). Chief Complaint: "${ue||"N/A"}". Functional Concerns: "${se||"N/A"}".`,Nt=`Given the potential restorative issues (${ue||se||_e.join(", ")||"see condition"}), what diagnostic evaluations are needed? What are the primary restorative treatment options to consider?`;Ge.push({label:Ke,condition:At,question:Nt}),ht.add(Ke),at++}}const ge=Ee.filter(Ke=>ve.includes(Ke));if(ge.length>0&&at<3){const Ke=St("Check Perio",ge,se||ue);if(!ht.has(Ke)){const At=`Patient shows signs potentially related to periodontal health (${ge.join(", ")}). Chief Complaint: "${ue||"N/A"}". Functional Concerns: "${se||"N/A"}". Relevant Medical Conditions: ${ne.join(", ")||"None"}.`,Nt=`Based on potential periodontal indicators (${se||ue||ge.join(", ")||"see condition"}), what periodontal assessment (probing, bleeding index) is necessary? What initial hygiene or treatment steps should be considered?`;Ge.push({label:Ke,condition:At,question:Nt}),ht.add(Ke),at++}}const Ce=Pe.filter(Ke=>ve.includes(Ke));if(Ce.length>0&&at<3){const Ke=St("Review Esthetics",Ce,se||ue);if(!ht.has(Ke)){const At=`Patient has expressed concerns or shows signs related to dental esthetics (${Ce.join(", ")}). Chief Complaint: "${ue||"N/A"}". Functional Concerns: "${se||"N/A"}".`,Nt=`Regarding the esthetic concerns (${ue||se||Ce.join(", ")||"see condition"}), what options are available (e.g., whitening, veneers, cleaning)? What factors should be considered in treatment planning?`;Ge.push({label:Ke,condition:At,question:Nt}),ht.add(Ke),at++}}const Je=Fe.filter(Ke=>ve.includes(Ke));if(Je.length>0&&at<3){const Ke=St("Assess TMJ",Je,ue||V||se);if(!ht.has(Ke)){const At=`Patient reports symptoms potentially related to TMJ dysfunction (${Je.join(", ")}). Chief Complaint: "${ue||"N/A"}". Pain Description: "${V||"N/A"}". Functional Concerns: "${se||"N/A"}".`,Nt=`Considering the potential TMJ symptoms (${ue||V||se||Je.join(", ")||"see condition"}), how should TMJ function be assessed? What are the initial management options for potential TMJ disorders or bruxism?`;Ge.push({label:Ke,condition:At,question:Nt}),ht.add(Ke),at++}}const Qe=Ge;return console.log("[generateSuggestions] Final generated suggestions (more exact labels):",JSON.stringify(Qe,null,2)),Qe};S.useEffect(()=>{(async()=>{if(!i){d(null),console.log("[fetchDetails] No patient selected, clearing details.");return}console.log("[fetchDetails] Fetching details for patient ID:",i);try{const{data:ne,error:ie}=await je.from("patients").select("*").eq("id",i).single();ie?(console.error("[fetchDetails] Error fetching patient details:",ie),d(null)):ne?(console.log("[fetchDetails] Raw data received:",ne),console.log("[fetchDetails] Setting fetchedPatientDetails with full record:",ne),d(ne)):(console.log("[fetchDetails] No data received for patient ID:",i),d(null))}catch(ne){console.error("[fetchDetails] Exception fetching patient details:",ne),d(null)}})(),(!e||!i)&&M({})},[i,e]),S.useEffect(()=>{console.log("[suggestionEffect] Suggestion useEffect triggered. Patient ID:",i),console.log("[suggestionEffect] Using fetchedPatientDetails:",u);let J=[];i&&u&&u.id===i?(J=G(u),console.log("[suggestionEffect] Generated specific suggestions:",J)):console.log("[suggestionEffect] Conditions not met for generating specific suggestions."),y(J),console.log("[suggestionEffect] Set dynamicSuggestions to:",J)},[i,u]),S.useEffect(()=>{console.log("[clearFieldsEffect] Clearing fields due to patient change:",i),h(""),w(""),_(null),O(null),M({})},[i]);const Z=J=>{s(J.id),c(`${J.first_name||""} ${J.last_name||""}`.trim()),a("")},re=J=>{h(J.condition),w(J.question),_(J.label)},W=()=>{w("I want three treatment plans"),_(null)},z=async()=>{var ie;if(!i){L({title:"Patient Required",description:"Please select a patient",variant:"destructive",duration:3e3});return}if(Object.keys(P).length===0){L({title:"Teeth Required",description:"Please select at least one tooth.",variant:"destructive",duration:3e3});return}if(!f.trim()){L({title:"Input Required",description:"Please describe the patient's current condition.",variant:"destructive",duration:3e3});return}if(!m.trim()){L({title:"Input Required",description:"Please enter the specific question for the AI.",variant:"destructive",duration:3e3});return}E(!0),O(null);const J=new AbortController,ne=setTimeout(()=>{J.abort(),console.log(`Fetch request timed out after ${PO()} ms`)},PO());try{const oe="https://n8n1.kol.tel/webhook/33d4fdab-98eb-4cc4-8a69-2ab835e76511",ue=await fetch(oe,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({patientId:i,toothIds:Object.keys(P).map(Number),condition:f,question:m,patientRecord:u}),signal:J.signal});clearTimeout(ne);const V=await ue.text();if(!ue.ok)throw console.error("Error response from webhook (not ok):",ue.status,V),new Error(`Webhook call failed with status: ${ue.status}. Response: ${V.substring(0,200)}...`);let se;try{se=JSON.parse(V)}catch(te){throw console.error("Failed to parse JSON response from webhook:",te),console.error("Raw response text was:",V),new Error(`Invalid JSON response from AI generator. Content: ${V.substring(0,200)}...`)}console.log("Successfully parsed webhook response data:",se);const fe=(ie=se==null?void 0:se[0])==null?void 0:ie.output;if(fe){const te=JSON.stringify(fe);O(te);const Ee=fe.response,Fe=JSON.stringify(Ee||{});L({title:"Treatment Plan Generated",description:"The AI-generated plan is now available below.",variant:"default",duration:5e3});const{data:Pe,error:ve}=await je.from("ai_treatment_plans").insert({patient_id:i,title:f,description:m,content:Fe,created_at:new Date().toISOString()}).select("id").single();if(ve)console.error("Error saving AI treatment plan to database:",ve),L({title:"Save Failed",description:"Failed to save the main AI plan details. Check console.",variant:"destructive",duration:5e3});else if(Pe){console.log("AI treatment plan saved successfully with ID:",Pe.id);const Ge=Pe.id,ht=Object.keys(P).map(Number);if(ht&&ht.length>0){const at=ht.map(wt=>({ai_treatment_plan_id:Ge,tooth_id:wt})),{error:St}=await je.from("ai_treatment_plans_teeth").insert(at);St?(console.error("Error linking teeth to AI treatment plan:",St),L({title:"Partial Save",description:"AI plan saved, but failed to link selected teeth. Check console.",variant:"default",duration:5e3})):console.log("Teeth linked to AI treatment plan successfully.")}}}else throw console.error("Could not extract output object from webhook response:",se),new Error("Received invalid response format from AI generator (missing output).")}catch(oe){console.error("Error generating treatment plan:",oe);let ue="Please check console for details.";oe instanceof Error&&(ue=oe.message,oe.name==="AbortError"&&(ue="The request timed out after 120 seconds.")),L({title:"Generation Failed",description:`Could not trigger treatment plan generation. ${ue}`,variant:"destructive",duration:5e3})}finally{clearTimeout(ne),E(!1)}},U=()=>{O(null),M({}),s(""),c(""),a(""),h(""),w(""),d(null),y([]),_(null),t(!1)},Y=J=>{J?t(!0):(T(!0),B(!0))},Q=()=>{T(!1),B(!1)},D=()=>{T(!1),B(!1),U()},K=r.filter(J=>{var V,se;const ne=`${J.first_name||""} ${J.last_name||""}`.toLowerCase(),ie=((V=J.phone)==null?void 0:V.toLowerCase())||"",oe=((se=J.registration_number)==null?void 0:se.toLowerCase())||"",ue=n.toLowerCase();return ne.includes(ue)||ie.includes(ue)||oe.includes(ue)});return x(Nr,{children:[l(Hn,{open:e,onOpenChange:Y,children:x(qn,{className:"sm:max-w-4xl max-h-[90vh] overflow-y-auto",children:[x(Jn,{children:[x(Zn,{className:"flex items-center gap-2",children:[l(q0,{className:"h-5 w-5"}),"AI Treatment Plan Generator"]}),l(ds,{children:"Select a patient and describe the current issue to generate a treatment plan using AI."})]}),x("div",{className:"space-y-3 py-4",children:[x("div",{className:"space-y-2 relative",children:[" ",l(tr,{htmlFor:"patient-search",children:"Select Patient"}),l(dt,{type:"search",id:"patient-search",value:n,onChange:J=>{a(J.target.value),i&&(s(""),c(""),d(null))},placeholder:o||"Search by name, phone, or registration...",className:"w-full"}),n&&x(id,{className:"absolute z-10 w-full bg-background border rounded-md shadow-lg mt-1 max-h-60",children:[" ",l("div",{className:"p-2",children:K.length>0?K.map(J=>l(Me,{variant:"ghost",className:"w-full justify-start text-left h-auto py-2 px-3 mb-1",onClick:()=>Z(J),children:x("div",{children:[l("div",{children:`${J.first_name||""} ${J.last_name||""}`.trim()}),x("div",{className:"text-xs text-muted-foreground",children:[J.registration_number&&`Reg: ${J.registration_number}`,J.registration_number&&J.phone&&" | ",J.phone&&`Ph: ${J.phone}`,!J.registration_number&&!J.phone&&`ID: ${J.id.substring(0,6)}...`]})]})},J.id)):x("p",{className:"text-sm text-muted-foreground p-2",children:['No patients found matching "',n,'"']})})]})]}),x("div",{className:"space-y-2",children:[l(tr,{children:"Teeth *"}),i?l(ER,{value:P,onChange:M,placeholder:"Select Affected Teeth...",disabled:!i}):l("div",{className:"flex items-center justify-center h-10 px-3 border rounded-md bg-gray-50 text-sm text-muted-foreground",children:"Select a patient to enable teeth selection."})]}),x("div",{className:"space-y-2",children:[l(tr,{htmlFor:"condition-input",children:"Condition"}),l(un,{id:"condition-input",placeholder:"Describe symptoms, observations, relevant history...",rows:5,value:f,onChange:J=>h(J.target.value),disabled:!i})]}),x("div",{className:"space-y-2",children:[l(tr,{htmlFor:"question-input",children:"Question"}),l(un,{id:"question-input",placeholder:"What specific question do you have based on the condition?",rows:3,value:m,onChange:J=>w(J.target.value),disabled:!i})]}),i&&g.length>0&&x("div",{className:"space-y-2 pt-2",children:[" ",l(tr,{children:"Query Suggestions"})," ",x("div",{className:"flex flex-wrap gap-2 pt-1",children:[" ",l(Me,{disabled:!i,variant:"ghost",size:"sm",className:`
                      h-auto px-2.5 py-0.5 rounded-full border-none
                      transition-colors duration-150 ease-in-out
                      focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-[#0118D8]
                      disabled:opacity-60 disabled:cursor-not-allowed
                      bg-[#e8eefd] text-[#1B56FD] hover:bg-[#d1dffd]
                      disabled:bg-blue-50 disabled:text-blue-300
                    `,onClick:W,children:"I want three treatment plans"},"fixed-suggestion"),g.map((J,ne)=>{const ie=J.label===b;return l(Me,{disabled:!i,variant:"ghost",size:"sm",className:`
                      h-auto px-2.5 py-0.5
                      rounded-full
                      border-none
                      transition-colors duration-150 ease-in-out
                      focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-[#0118D8]
                      disabled:opacity-60 disabled:cursor-not-allowed
                     ${ie?`
                      bg-[#1B56FD] /* Main blue background */
                      text-white /* White text */
                      hover:bg-[#0118D8] /* Darker blue hover */
                      disabled:bg-blue-300 disabled:text-gray-100
                    `:`
                      bg-[#e8eefd] /* Light blue background */
                      text-[#1B56FD] /* Main blue text */
                      hover:bg-[#d1dffd] /* Slightly darker light blue hover */
                      disabled:bg-blue-50 disabled:text-blue-300
                    `}`,onClick:()=>re(J),children:J.label},ne)})]}),l("p",{className:"text-xs text-muted-foreground pt-1",children:"Click a suggestion to populate the fields above. The fixed suggestion only populates the question."})," "]}),i&&g.length===0&&x("div",{className:"space-y-2 pt-2",children:[l(tr,{children:"Query Suggestions"}),l("div",{className:"flex flex-wrap gap-2 pt-1",children:l(Me,{disabled:!i,variant:"ghost",size:"sm",className:`
                      h-auto px-2.5 py-0.5 rounded-full border-none
                      transition-colors duration-150 ease-in-out
                      focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-[#0118D8]
                      disabled:opacity-60 disabled:cursor-not-allowed
                      bg-[#e8eefd] text-[#1B56FD] hover:bg-[#d1dffd]
                      disabled:bg-blue-50 disabled:text-blue-300
                    `,onClick:W,children:"I want three treatment plans"},"fixed-suggestion-only")}),l("p",{className:"text-xs text-muted-foreground pt-1",children:"Click the suggestion to populate the question field."})]}),C&&x("div",{className:"pt-6 mt-6 border-t border-gray-200",children:[l(tr,{className:"text-base font-medium mb-3 block text-gray-700",children:"AI Generated Plan"}),x("div",{className:"flex items-start space-x-3",children:[l("div",{className:"flex-shrink-0 w-9 h-9 rounded-full bg-indigo-100 flex items-center justify-center border border-indigo-200 shadow-sm",children:l(XH,{className:"w-5 h-5 text-indigo-600"})}),l("div",{className:"flex-1 min-w-0 overflow-hidden",children:l("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:l(id,{className:"h-auto pr-4",children:x("div",{className:"space-y-4 text-sm text-gray-800",children:[" ",(()=>{const J=(ie,oe,ue="mb-4")=>oe?x("div",{className:ue,children:[x("strong",{className:"block font-semibold text-gray-800 mb-1",children:[ie,":"]}),l("p",{className:"text-gray-700 whitespace-pre-wrap",children:oe})]}):null,ne=ie=>!ie||typeof ie!="string"?null:ie.match(/^\s*\d+\.\s+/m)?l("ol",{className:"list-decimal list-inside pl-4 mt-1 space-y-1 text-gray-700",children:ie.split(/\n?\s*\d+\.\s+/).filter(Boolean).map((oe,ue)=>l("li",{children:oe.trim()},ue))}):l("p",{className:"text-gray-700 whitespace-pre-wrap mt-1",children:ie});try{const oe=JSON.parse(C).response;return typeof oe!="object"||oe===null?(console.warn("Extracted response data is not an object:",oe),l("pre",{className:"whitespace-pre-wrap text-xs",children:C})):x("div",{className:"space-y-6",children:[J("Clinical Assessment",oe.clinicalAssessment),J("Evidence & Rationale",oe.evidenceAndRationale),oe.treatmentPlans&&Array.isArray(oe.treatmentPlans)&&oe.treatmentPlans.length>0&&x("div",{children:[l("h3",{className:"text-lg font-semibold text-gray-800 mb-3 border-b pb-2",children:"Treatment Plans"}),l("div",{className:"space-y-6",children:oe.treatmentPlans.map((ue,V)=>x("div",{className:"pl-2 border-l-4 border-indigo-200",children:[ue.planName&&l("h4",{className:"text-base font-semibold text-indigo-700 mb-2",children:ue.planName}),J("Recommendation",ue.recommendation,"mb-2"),J("Approach",ue.approach,"mb-2"),J("Benefits",ue.benefits,"mb-2"),J("Considerations",ue.considerations,"mb-2"),ue.procedureSteps&&x("div",{className:"mb-2",children:[l("strong",{className:"block font-semibold text-gray-800 mb-1",children:"Procedure Steps:"}),ne(ue.procedureSteps)]})]},V))})]}),J("Follow Up",oe.followUp),J("Patient Instructions",oe.patientInstructions)]})}catch(ie){return console.warn("Failed to parse generatedPlan (output object) as JSON, displaying raw:",ie),l("pre",{className:"whitespace-pre-wrap text-xs",children:C})}})()]})})})})]})]})]}),x(hs,{children:[l(Me,{variant:"outline",onClick:()=>T(!0),children:"Cancel"}),l(Me,{onClick:z,disabled:!i||Object.keys(P).length===0||!f.trim()||!m.trim(),className:`ai-insights-button ${N?"opacity-100 cursor-not-allowed":""}`,style:N?{opacity:1}:{},children:N?x(Nr,{children:[l(q0,{className:"mr-2 h-4 w-4 animate-spin"}),"AI is thinking... (this may take up to 2 minutes)"]}):x(Nr,{children:[l(q0,{className:"mr-2 h-4 w-4"}),"Generate Plan"]})})]})]})}),l(ww,{open:j,children:x(ey,{children:[x(ty,{children:[l(ny,{children:"Cancel Plan?"}),l(ay,{children:"Are you sure you want to cancel this plan? All unsaved changes will be lost."})]}),x(ry,{children:[l(sy,{onClick:Q,children:"No"}),l(iy,{onClick:D,children:"Yes"})]})]})})]})}function QFe(){const e=Ss(),{toast:t}=bn(),{loading:r,patients:n,selectedPlan:a,setSelectedPlan:i,treatmentPlansSubscribed:s,updatingTreatmentStatus:o,updatingPlanStatus:c,filterPlans:u,refreshSelectedPlan:d,createTreatmentPlan:f,createTreatment:h,handleUpdateTreatmentStatus:m,handleUpdatePlanStatus:w,deleteTreatment:g,deletePlan:y,updateTreatmentDetails:b}=JFe(),[_,N]=S.useState(""),[E,C]=S.useState(null),[O,P]=S.useState(null),[M,L]=S.useState(!1),[j,T]=S.useState(!1),[I,B]=S.useState(!1),[G,Z]=S.useState(!1),[re,W]=S.useState(null),[z,U]=S.useState([]),[Y,Q]=S.useState(null),[D,K]=S.useState(!1),J=async(Ee,Fe)=>{try{const Pe=await f(Ee,Fe);L(!1),i(Pe),console.log("[TreatmentPlansPage] handleCreatePlan - newPlan object:",Pe),console.log("[TreatmentPlansPage] handleCreatePlan - newPlan.originalAISuggestion:",Pe==null?void 0:Pe.originalAISuggestion),Pe!=null&&Pe.originalAISuggestion?W(Pe.originalAISuggestion):W(null),T(!0)}catch(Pe){console.error("Error creating plan:",Pe)}},ne=async Ee=>{try{await h(Ee),B(!1),await d()}catch(Fe){console.error("Error adding treatment:",Fe)}},ie=async Ee=>{if(!Y||!Y.id){t({title:"Error",description:"No treatment selected for update.",variant:"destructive"});return}try{const Fe={...Ee,plan_id:Ee.plan_id||Y.plan_id};await b(Y.id,Fe),K(!1),Q(null)}catch(Fe){console.error("Error updating treatment:",Fe)}},oe=Ee=>{Q(Ee),K(!0)},ue=async Ee=>{i(Ee),T(!0);try{const Fe=await gT(Ee.id);U(Fe)}catch(Fe){console.error("Error fetching booked appointment details:",Fe),U([])}},V=()=>{B(!0)},se=Ee=>{e(`/patients/${Ee}`)},fe=(Ee,Fe)=>w(Ee,Fe),te=(Ee,Fe)=>m(Ee,Fe);return x("div",{className:"space-y-6",children:[l(Fa,{heading:"Treatment Plans",text:"Manage dental treatment plans and procedures",children:x("div",{className:"flex items-center gap-4",children:[x("div",{className:"relative flex-1",children:[l(_4,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),l(dt,{placeholder:"Search treatment plans...",className:"pl-8",value:_,onChange:Ee=>N(Ee.target.value)})]}),x(Ur,{value:E||"all",onValueChange:Ee=>C(Ee==="all"?null:Ee),children:[l(jr,{className:"w-[220px]",children:l(qr,{placeholder:"Filter by patient"})}),x($r,{children:[l(mt,{value:"all",children:"All Patients"}),n.map(Ee=>x(mt,{value:Ee.id,children:[Ee.first_name," ",Ee.last_name]},Ee.id))]})]}),x(Ur,{value:O||"all",onValueChange:Ee=>P(Ee==="all"?null:Ee),children:[l(jr,{className:"w-[180px]",children:l(qr,{placeholder:"Filter by status"})}),x($r,{children:[l(mt,{value:"all",children:"All Statuses"}),l(mt,{value:"planned",children:"Planned"}),l(mt,{value:"in_progress",children:"In Progress"}),l(mt,{value:"completed",children:"Completed"}),l(mt,{value:"cancelled",children:"Cancelled"})]})]}),x(Me,{className:"ai-insights-button",onClick:()=>Z(!0),children:[l(Kce,{className:"h-4 w-4 mr-2"}),"AI Generate Plan"]}),x(Me,{onClick:()=>L(!0),children:[l(Qu,{className:"h-4 w-4 mr-2"}),"New Treatment Plan"]}),x(Me,{onClick:()=>e("/treatment-plans/visit-lifecycle"),className:"bg-accent text-accent-foreground border-2 border-primary font-bold shadow-md flex items-center gap-2 px-5 hover:bg-primary hover:text-white hover:border-primary/80 focus:ring-2 focus:ring-primary",children:[l(rm,{className:"h-4 w-4 mr-2"}),"Visit Lifecycle"]})]})}),l("div",{className:"flex items-center justify-end",children:x("div",{className:"flex items-center space-x-1 text-sm text-muted-foreground",children:[l("div",{className:`h-2 w-2 rounded-full ${s?"bg-green-500":"bg-red-500"}`}),x("span",{children:["Real-time updates ",s?"active":"inactive"]})]})}),r&&l("div",{className:"flex justify-center my-12",children:x("div",{className:"flex flex-col items-center gap-2",children:[l(Fn,{className:"h-8 w-8 animate-spin text-primary"}),l("p",{className:"text-muted-foreground",children:"Loading treatment plans..."})]})}),!r&&u(_,E,O).length===0&&x("div",{className:"text-center py-12 border rounded-lg",children:[l(S4,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),l("h3",{className:"text-lg font-medium",children:"No Treatment Plans Found"}),l("p",{className:"text-muted-foreground mt-1 mb-6",children:"Create your first treatment plan to get started"}),x(Me,{onClick:()=>L(!0),children:[l(Qu,{className:"h-4 w-4 mr-2"}),"New Treatment Plan"]})]}),l("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u(_,E,O).map(Ee=>l(Ore,{plan:Ee,onViewDetails:ue},Ee.id))}),l(TO,{open:M,onOpenChange:L,onSubmit:J,patients:n,loading:r}),j&&a&&l(Mne,{open:j,onOpenChange:Ee=>{T(Ee),Ee?Ee&&a&&(async()=>{try{const Pe=await gT(a.id);U(Pe)}catch(Pe){console.error("[TreatmentPlansPage] fetchDetails: Error fetching booked appointment details on dialog open:",Pe),U([])}})():U([])},plan:a,onRefresh:async()=>{if(await d(),a)try{const Ee=await gT(a.id);U(Ee)}catch(Ee){console.error("Error fetching booked appointment details after refresh:",Ee),U([])}},onAddTreatment:V,onStatusChange:fe,onDeletePlan:async Ee=>{await y(Ee),T(!1)},onTreatmentStatusChange:te,onDeleteTreatment:g,onEditTreatment:oe,loading:r||c||o,navigateToPatient:se,aiInitialSuggestion:re,bookedAppointments:z},a.id),a&&l(ZS,{open:I,onOpenChange:B,onSubmit:ne,planId:a.id,loading:r}),a&&Y&&l(ZS,{open:D,onOpenChange:Ee=>{Ee||Q(null),K(Ee)},onSubmit:ie,planId:a.id,initialData:Y,loading:r,isEditMode:!0}),l(ZFe,{open:G,onOpenChange:Z,patients:n})]})}var rA="Switch",[eLe,dQe]=ts(rA),[tLe,rLe]=eLe(rA),nae=S.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:s,disabled:o,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=S.useState(null),w=Jr(t,N=>m(N)),g=S.useRef(!1),y=h?d||!!h.closest("form"):!0,[b,_]=hl({prop:a,defaultProp:i??!1,onChange:u,caller:rA});return x(tLe,{scope:r,checked:b,disabled:o,children:[l(xr.button,{type:"button",role:"switch","aria-checked":b,"aria-required":s,"data-state":oae(b),"data-disabled":o?"":void 0,disabled:o,value:c,...f,ref:w,onClick:Ht(e.onClick,N=>{_(E=>!E),y&&(g.current=N.isPropagationStopped(),g.current||N.stopPropagation())})}),y&&l(sae,{control:h,bubbles:!g.current,name:n,value:c,checked:b,required:s,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});nae.displayName=rA;var aae="SwitchThumb",iae=S.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=rLe(aae,r);return l(xr.span,{"data-state":oae(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});iae.displayName=aae;var nLe="SwitchBubbleInput",sae=S.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const s=S.useRef(null),o=Jr(s,i),c=K4(r),u=T4(t);return S.useEffect(()=>{const d=s.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&m){const w=new Event("click",{bubbles:n});m.call(d,r),d.dispatchEvent(w)}},[c,r,n]),l("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:o,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});sae.displayName=nLe;function oae(e){return e?"checked":"unchecked"}var lae=nae,aLe=iae;const L2=S.forwardRef(({className:e,...t},r)=>l(lae,{className:Lt("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:l(aLe,{className:Lt("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));L2.displayName=lae.displayName;function iLe(){const[e,t]=S.useState(null),[r,n]=S.useState([]),[a,i]=S.useState(!0),[s,o]=S.useState(!1),[c,u]=S.useState(!1),[d,f]=S.useState({first_name:"",last_name:"",email:"",role:"doctor",specialization:"",working_hours:JSON.stringify([{day:"monday",start:"09:00",end:"17:00"},{day:"tuesday",start:"09:00",end:"17:00"},{day:"wednesday",start:"09:00",end:"17:00"},{day:"thursday",start:"09:00",end:"17:00"},{day:"friday",start:"09:00",end:"17:00"}])}),[h,m]=S.useState([]),[w,g]=S.useState(!0),[y,b]=S.useState(!1),[_,N]=S.useState({staff_id:"",start_time:"",end_time:"",reason:""}),[E,C]=S.useState(null),[O,P]=S.useState(null),[M,L]=S.useState(!1);S.useEffect(()=>{Promise.all([I(),j(),T()])},[]),S.useEffect(()=>{const Y=localStorage.getItem("customClinicLogo");Y&&C(Y)},[]);const j=async()=>{try{const Y=await It.staff.getAll();n(Y)}catch(Y){console.error("Error fetching staff:",Y)}},T=async()=>{g(!0);try{const Y=await It.absences.getAll();m(Y||[])}catch(Y){console.error("Error fetching absences:",Y),Wi({title:"Error",description:"Could not fetch staff absences.",variant:"destructive"})}finally{g(!1)}},I=async()=>{try{const Y=await It.settings.get();t(Y),i(!1)}catch(Y){console.error("Error fetching settings:",Y),i(!1)}},B=async()=>{if(e){Wi({title:"Saving changes...",description:"Please wait while we update your settings."}),o(!0);try{await It.settings.update(e),Wi({title:"Settings saved successfully",description:"All your changes have been updated.",variant:"default"})}catch(Y){console.error("Error saving settings:",Y),Wi({title:"Error",description:"Failed to save settings. Please try again.",variant:"destructive"})}finally{o(!1)}}},G=(Y,Q,D)=>{if(!e)return;const K=[...e.working_hours],J=K.findIndex(ne=>ne.day===Y);J!==-1&&(K[J]={...K[J],[Q]:D},t({...e,working_hours:K}))},Z=async()=>{try{await It.staff.create(d),u(!1),j(),f({first_name:"",last_name:"",email:"",role:"doctor",specialization:"",working_hours:JSON.stringify([{day:"monday",start:"09:00",end:"17:00"},{day:"tuesday",start:"09:00",end:"17:00"},{day:"wednesday",start:"09:00",end:"17:00"},{day:"thursday",start:"09:00",end:"17:00"},{day:"friday",start:"09:00",end:"17:00"}])}),Wi({title:"Staff member created",description:"New staff member has been added successfully."})}catch(Y){console.error("Error creating staff:",Y),Wi({title:"Error",description:"Failed to create staff member. Please try again.",variant:"destructive"})}},re=async()=>{if(!_.staff_id||!_.start_time||!_.end_time){Wi({title:"Missing Information",description:"Please select staff, start time, and end time.",variant:"destructive"});return}const Y=new Date(_.start_time).toISOString(),Q=new Date(_.end_time).toISOString();if(new Date(Q)<=new Date(Y)){Wi({title:"Invalid Dates",description:"End time must be after start time.",variant:"destructive"});return}try{await It.absences.create({..._,start_time:Y,end_time:Q}),b(!1),T(),N({staff_id:"",start_time:"",end_time:"",reason:""}),Wi({title:"Absence Added",description:"Staff absence recorded successfully."})}catch(D){console.error("Error creating absence:",D),Wi({title:"Error",description:`Failed to add absence: ${D instanceof Error?D.message:"Unknown error"}`,variant:"destructive"})}},W=async Y=>{if(confirm("Are you sure you want to delete this absence record?"))try{await It.absences.delete(Y),T(),Wi({title:"Absence Deleted",description:"The absence record has been removed."})}catch(Q){console.error("Error deleting absence:",Q),Wi({title:"Error",description:"Failed to delete absence.",variant:"destructive"})}},z=Y=>{if(Y.target.files&&Y.target.files[0]){const Q=Y.target.files[0];if(Q.size>1*1024*1024){Wi({title:"File Too Large",description:"Please upload a logo smaller than 1MB.",variant:"destructive"});return}P(Q);const D=new FileReader;D.onloadend=()=>{C(D.result),L(!1)},D.readAsDataURL(Q)}},U=()=>{E?(localStorage.setItem("customClinicLogo",E),Wi({title:"Logo Saved",description:"Your new clinic logo has been saved.",variant:"default"}),L(!0)):Wi({title:"No Logo Selected",description:"Please select a logo file first.",variant:"destructive"})};return a?l("div",{children:"Loading settings..."}):e?x(Nr,{children:[x("div",{className:"space-y-6",children:[l("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:x("div",{className:"p-6",children:[x("div",{className:"flex items-center",children:[l("div",{className:"flex-shrink-0",children:l("div",{className:"h-12 w-12 bg-blue-100 rounded-lg flex items-center justify-center",children:l(Sce,{className:"h-6 w-6 text-blue-600"})})}),x("div",{className:"ml-4",children:[l("h2",{className:"text-lg font-medium text-gray-900",children:"Clinic Information"}),l("p",{className:"mt-1 text-sm text-gray-500",children:"Manage your clinic details and contact information"})]})]}),x("div",{className:"mt-6 space-y-4",children:[x("div",{className:"space-y-2",children:[l(tr,{children:"Clinic Name"}),l(dt,{value:e.name,onChange:Y=>t({...e,name:Y.target.value})})]}),x("div",{className:"space-y-2",children:[l(tr,{children:"Address"}),l(dt,{value:e.address,onChange:Y=>t({...e,address:Y.target.value})})]}),x("div",{className:"grid grid-cols-2 gap-4",children:[x("div",{className:"space-y-2",children:[l(tr,{children:"Phone"}),l(dt,{value:e.phone,onChange:Y=>t({...e,phone:Y.target.value})})]}),x("div",{className:"space-y-2",children:[l(tr,{children:"Email"}),l(dt,{type:"email",value:e.email,onChange:Y=>t({...e,email:Y.target.value})})]})]}),x("div",{className:"space-y-2",children:[l(tr,{children:"Website"}),l(dt,{value:e.website,onChange:Y=>t({...e,website:Y.target.value})})]}),x("div",{className:"mt-6 space-y-4",children:[x("div",{children:[l(tr,{htmlFor:"logo-upload",className:"block text-sm font-medium text-gray-700",children:"Clinic Logo"}),l("p",{className:"text-xs text-gray-500 mt-1 mb-2",children:"Recommended aspect ratio: 4:1 (e.g., 200x50 pixels). Max file size: 1MB."}),l("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md hover:border-blue-400 transition-colors duration-150 ease-in-out",children:x("div",{className:"space-y-1 text-center",children:[!E&&l("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:l("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),E&&l("div",{className:"my-2 flex justify-center",children:l("img",{src:E,alt:"Clinic Logo Preview",className:"max-h-24 max-w-[250px] object-contain rounded-md shadow-md"})}),x("div",{className:"flex text-sm text-gray-600 justify-center",children:[x("label",{htmlFor:"logo-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blue-500",children:[l("span",{children:E?"Change logo":"Upload a file"}),l("input",{id:"logo-upload",name:"logo-upload",type:"file",className:"sr-only",accept:"image/png, image/jpeg, image/svg+xml",onChange:z})]}),!E&&l("p",{className:"pl-1",children:"or drag and drop"})]}),l("p",{className:"text-xs text-gray-500",children:"PNG, JPG, SVG up to 1MB"})]})})]}),O&&l("div",{className:"mt-3 flex justify-center",children:l(Me,{onClick:U,className:"min-w-[120px]",disabled:M,children:M?"Logo Saved!":"Save Logo"})})]})]})]})}),l("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:x("div",{className:"p-6",children:[x("div",{className:"flex items-center",children:[l("div",{className:"flex-shrink-0",children:l("div",{className:"h-12 w-12 bg-blue-100 rounded-lg flex items-center justify-center",children:l(Us,{className:"h-6 w-6 text-blue-600"})})}),x("div",{className:"ml-4",children:[l("h2",{className:"text-lg font-medium text-gray-900",children:"Working Hours"}),l("p",{className:"mt-1 text-sm text-gray-500",children:"Set your clinic's operating hours"})]})]}),l("div",{className:"mt-6",children:l("div",{className:"space-y-4",children:e.working_hours.map(Y=>x("div",{className:"flex items-center justify-between",children:[x("div",{className:"flex items-center gap-4",children:[l(L2,{checked:Y.is_open,onCheckedChange:Q=>G(Y.day,"is_open",Q)}),l("span",{className:"text-sm font-medium capitalize",children:Y.day})]}),x("div",{className:"flex items-center gap-2",children:[l(dt,{type:"time",value:Y.start,onChange:Q=>G(Y.day,"start",Q.target.value),disabled:!Y.is_open,className:"w-32"}),l("span",{className:"text-sm text-muted-foreground",children:"to"}),l(dt,{type:"time",value:Y.end,onChange:Q=>G(Y.day,"end",Q.target.value),disabled:!Y.is_open,className:"w-32"})]})]},Y.day))})})]})}),l("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:x("div",{className:"p-6",children:[x("div",{className:"flex items-center",children:[l("div",{className:"flex-shrink-0",children:l("div",{className:"h-12 w-12 bg-blue-100 rounded-lg flex items-center justify-center",children:l(x4,{className:"h-6 w-6 text-blue-600"})})}),x("div",{className:"ml-4",children:[l("h2",{className:"text-lg font-medium text-gray-900",children:"Notification Preferences"}),l("p",{className:"mt-1 text-sm text-gray-500",children:"Configure your notification settings"})]})]}),x("div",{className:"mt-6 space-y-6",children:[x("div",{className:"flex items-center justify-between",children:[x("div",{className:"space-y-0.5",children:[l(tr,{children:"Email Notifications"}),l("p",{className:"text-sm text-muted-foreground",children:"Receive notifications via email"})]}),l(L2,{checked:e.notification_preferences.email_notifications,onCheckedChange:Y=>t({...e,notification_preferences:{...e.notification_preferences,email_notifications:Y}})})]}),x("div",{className:"flex items-center justify-between",children:[x("div",{className:"space-y-0.5",children:[l(tr,{children:"SMS Notifications"}),l("p",{className:"text-sm text-muted-foreground",children:"Receive notifications via SMS"})]}),l(L2,{checked:e.notification_preferences.sms_notifications,onCheckedChange:Y=>t({...e,notification_preferences:{...e.notification_preferences,sms_notifications:Y}})})]}),x("div",{className:"flex items-center justify-between",children:[x("div",{className:"space-y-0.5",children:[l(tr,{children:"Appointment Reminders"}),l("p",{className:"text-sm text-muted-foreground",children:"Send reminders for upcoming appointments"})]}),l(L2,{checked:e.notification_preferences.appointment_reminders,onCheckedChange:Y=>t({...e,notification_preferences:{...e.notification_preferences,appointment_reminders:Y}})})]}),x("div",{className:"space-y-2",children:[l(tr,{children:"Reminder Time"}),x(Ur,{value:e.notification_preferences.reminder_time,onValueChange:Y=>t({...e,notification_preferences:{...e.notification_preferences,reminder_time:Y}}),children:[l(jr,{children:l(qr,{})}),x($r,{children:[l(mt,{value:"1h",children:"1 hour before"}),l(mt,{value:"2h",children:"2 hours before"}),l(mt,{value:"24h",children:"24 hours before"}),l(mt,{value:"48h",children:"48 hours before"})]})]})]})]})]})}),l("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:x("div",{className:"p-6",children:[x("div",{className:"flex items-center justify-between",children:[x("div",{className:"flex items-center",children:[l("div",{className:"flex-shrink-0",children:l("div",{className:"h-12 w-12 bg-blue-100 rounded-lg flex items-center justify-center",children:l(N4,{className:"h-6 w-6 text-blue-600"})})}),x("div",{className:"ml-4",children:[l("h2",{className:"text-lg font-medium text-gray-900",children:"Staff Management"}),l("p",{className:"mt-1 text-sm text-gray-500",children:"Manage clinic staff and their roles"})]})]}),x(Me,{onClick:()=>u(!0),children:[l(Qu,{className:"h-4 w-4 mr-2"}),"Add Staff Member"]})]}),l("div",{className:"mt-6 space-y-4",children:r.map(Y=>x("div",{className:"flex items-center justify-between p-4 rounded-lg border",children:[x("div",{className:"flex items-center space-x-4",children:[l("div",{className:"h-10 w-10 rounded-full bg-gray-100 flex items-center justify-center",children:l(yi,{className:"h-5 w-5 text-gray-600"})}),x("div",{children:[x("h3",{className:"font-medium",children:[Y.first_name," ",Y.last_name]}),x("div",{className:"flex items-center text-sm text-gray-500 space-x-4",children:[l("span",{className:"capitalize",children:Y.role}),Y.specialization&&x("span",{children:["• ",Y.specialization]})]})]})]}),x("div",{className:"flex items-center space-x-2",children:[x(Me,{variant:"ghost",size:"sm",children:[l(b4,{className:"h-4 w-4 mr-2"}),Y.email]}),l(Me,{variant:"destructive",size:"sm",onClick:()=>{confirm("Are you sure you want to remove this staff member?")},children:l(lm,{className:"h-4 w-4"})})]})]},Y.id))})]})}),l("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:x("div",{className:"p-6",children:[x("div",{className:"flex items-center justify-between",children:[x("div",{className:"flex items-center",children:[l("div",{className:"flex-shrink-0",children:x("div",{className:"h-12 w-12 bg-orange-100 rounded-lg flex items-center justify-center",children:[l(Us,{className:"h-6 w-6 text-orange-600"})," "]})}),x("div",{className:"ml-4",children:[l("h2",{className:"text-lg font-medium text-gray-900",children:"Staff Absences"}),l("p",{className:"mt-1 text-sm text-gray-500",children:"Manage scheduled staff absences"})]})]}),x(Me,{onClick:()=>{N({staff_id:"",start_time:"",end_time:"",reason:""}),b(!0)},children:[l(Qu,{className:"h-4 w-4 mr-2"}),"Add Absence"]})]}),x("div",{className:"mt-6 space-y-4",children:[w&&l("div",{children:"Loading absences..."}),!w&&h.length===0&&l("p",{className:"text-sm text-gray-500",children:"No absences recorded."}),!w&&h.map(Y=>{var Q,D;return x("div",{className:"flex items-center justify-between p-4 rounded-lg border",children:[x("div",{className:"flex items-center space-x-4",children:[l("div",{className:"h-10 w-10 rounded-full bg-gray-100 flex items-center justify-center",children:l(yi,{className:"h-5 w-5 text-gray-600"})}),x("div",{children:[x("h3",{className:"font-medium",children:[((Q=Y.staff)==null?void 0:Q.first_name)||"Unknown"," ",((D=Y.staff)==null?void 0:D.last_name)||"Staff"]}),x("p",{className:"text-sm text-gray-500",children:[Rt(Wr(Y.start_time),"MMM d, yyyy h:mm a")," - ",Rt(Wr(Y.end_time),"MMM d, yyyy h:mm a")]}),Y.reason&&x("p",{className:"text-xs text-gray-400",children:["Reason: ",Y.reason]})]})]}),l(Me,{variant:"destructive",size:"sm",onClick:()=>W(Y.id),children:l(lm,{className:"h-4 w-4"})})]},Y.id)})]})]})}),l("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:x("div",{className:"p-6",children:[x("div",{className:"flex items-center",children:[l("div",{className:"flex-shrink-0",children:l("div",{className:"h-12 w-12 bg-blue-100 rounded-lg flex items-center justify-center",children:l(Hce,{className:"h-6 w-6 text-blue-600"})})}),x("div",{className:"ml-4",children:[l("h2",{className:"text-lg font-medium text-gray-900",children:"Security Settings"}),l("p",{className:"mt-1 text-sm text-gray-500",children:"Manage your security preferences and access controls"})]})]}),x("div",{className:"mt-6",children:[l(Me,{className:"w-full",children:"Change Password"}),l("div",{className:"mt-4",children:x("div",{className:"relative flex items-start",children:[l("div",{className:"flex items-center h-5",children:l("input",{id:"2fa",name:"2fa",type:"checkbox",className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),x("div",{className:"ml-3 text-sm",children:[l("label",{htmlFor:"2fa",className:"font-medium text-gray-700",children:"Enable Two-Factor Authentication"}),l("p",{className:"text-gray-500",children:"Add an extra layer of security to your account"})]})]})})]})]})}),l("div",{className:"flex justify-end",children:l(Me,{onClick:B,disabled:s,className:"min-w-[120px]",children:s?"Saving...":"Save Changes"})})]}),l(Hn,{open:c,onOpenChange:u,children:x(qn,{children:[l(Jn,{children:l(Zn,{children:"Add Staff Member"})}),x("div",{className:"space-y-4",children:[x("div",{className:"grid grid-cols-2 gap-4",children:[x("div",{className:"space-y-2",children:[l(tr,{children:"First Name"}),l(dt,{value:d.first_name,onChange:Y=>f({...d,first_name:Y.target.value})})]}),x("div",{className:"space-y-2",children:[l(tr,{children:"Last Name"}),l(dt,{value:d.last_name,onChange:Y=>f({...d,last_name:Y.target.value})})]})]}),x("div",{className:"space-y-2",children:[l(tr,{children:"Email"}),l(dt,{type:"email",value:d.email,onChange:Y=>f({...d,email:Y.target.value})})]}),x("div",{className:"space-y-2",children:[l(tr,{children:"Role"}),x(Ur,{value:d.role,onValueChange:Y=>f({...d,role:Y}),children:[l(jr,{children:l(qr,{})}),x($r,{children:[l(mt,{value:"doctor",children:"Doctor"}),l(mt,{value:"assistant",children:"Assistant"}),l(mt,{value:"receptionist",children:"Receptionist"})]})]})]}),d.role==="doctor"&&x("div",{className:"space-y-2",children:[l(tr,{children:"Specialization"}),l(dt,{value:d.specialization,onChange:Y=>f({...d,specialization:Y.target.value}),placeholder:"e.g., Orthodontics, Periodontics"})]})]}),x(hs,{children:[l(Me,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),l(Me,{onClick:Z,children:"Add Staff Member"})]})]})}),l(Hn,{open:y,onOpenChange:b,children:x(qn,{children:[l(Jn,{children:l(Zn,{children:"Add Staff Absence"})}),x("div",{className:"space-y-4 py-4",children:[x("div",{className:"space-y-2",children:[l(tr,{htmlFor:"absence-staff",children:"Staff Member"}),x(Ur,{value:_.staff_id,onValueChange:Y=>N({..._,staff_id:Y}),children:[l(jr,{id:"absence-staff",children:l(qr,{placeholder:"Select staff member"})}),l($r,{children:r.map(Y=>x(mt,{value:Y.id,children:[Y.first_name," ",Y.last_name," (",Y.role,")"]},Y.id))})]})]}),x("div",{className:"grid grid-cols-2 gap-4",children:[x("div",{className:"space-y-2",children:[l(tr,{htmlFor:"absence-start",children:"Start Time"}),l(dt,{id:"absence-start",type:"datetime-local",value:_.start_time,onChange:Y=>N({..._,start_time:Y.target.value})})]}),x("div",{className:"space-y-2",children:[l(tr,{htmlFor:"absence-end",children:"End Time"}),l(dt,{id:"absence-end",type:"datetime-local",value:_.end_time,onChange:Y=>N({..._,end_time:Y.target.value})})]})]}),x("div",{className:"space-y-2",children:[l(tr,{htmlFor:"absence-reason",children:"Reason (Optional)"}),l(dt,{id:"absence-reason",value:_.reason,onChange:Y=>N({..._,reason:Y.target.value}),placeholder:"e.g., Vacation, Conference"})]})]}),x(hs,{children:[l(Me,{variant:"outline",onClick:()=>b(!1),children:"Cancel"}),l(Me,{onClick:re,children:"Add Absence"})]})]})})]}):l("div",{children:"No settings found"})}var sLe="Separator",EW="horizontal",oLe=["horizontal","vertical"],cae=S.forwardRef((e,t)=>{const{decorative:r,orientation:n=EW,...a}=e,i=lLe(n)?n:EW,o=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return l(xr.div,{"data-orientation":i,...o,...a,ref:t})});cae.displayName=sLe;function lLe(e){return oLe.includes(e)}var uae=cae;const sm=S.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},a)=>l(uae,{ref:a,decorative:r,orientation:t,className:Lt("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));sm.displayName=uae.displayName;function cLe(){var _,N,E,C;const{user:e}=di(),{toast:t}=bn(),[r,n]=S.useState(null),[a,i]=S.useState(!0),[s,o]=S.useState(!1),[c,u]=S.useState(!1),[d,f]=S.useState(null),[h,m]=S.useState(null),w=S.useCallback(async()=>{if(e){i(!0);try{const{data:O,error:P,status:M}=await je.from("profiles").select("id, first_name, last_name, mobile_number, address, date_of_birth, gender, avatar_url").eq("id",e.id).single();if(P&&M!==406)throw P;O?(n({...O,mobile_number:O.mobile_number||null,address:O.address||null,date_of_birth:O.date_of_birth||null,gender:O.gender||null,avatar_url:O.avatar_url||null,current_plan:"Pro Plan",payment_method_details:"Visa ending in 4242"}),m(O.avatar_url||null)):(n({id:e.id,first_name:"",last_name:"",mobile_number:null,address:null,date_of_birth:null,gender:null,avatar_url:null,current_plan:"Free Plan",payment_method_details:"N/A"}),m(null))}catch(O){console.error("Error fetching profile:",O),t({title:"Error Fetching Profile",description:O.message||"Could not load profile data.",variant:"destructive"}),n({id:(e==null?void 0:e.id)||"",first_name:"",last_name:"",mobile_number:null,address:null,date_of_birth:null,gender:null,avatar_url:null,current_plan:"Free Plan",payment_method_details:"N/A"}),m(null)}finally{i(!1)}}},[e,t]);S.useEffect(()=>{w()},[w]);const g=O=>{const{name:P,value:M}=O.target;n(L=>L?{...L,[P]:M}:null)},y=O=>{if(O.target.files&&O.target.files[0]){const P=O.target.files[0],M=2*1024*1024;if(P.size>M){t({title:"File Too Large",description:"Please select an image smaller than 2MB.",variant:"destructive"}),O.target.value="",f(null);return}f(P);const L=new FileReader;L.onloadend=()=>{m(L.result)},L.readAsDataURL(P)}else f(null),m((r==null?void 0:r.avatar_url)||null)},b=async O=>{if(O.preventDefault(),!r||!e)return;o(!0);let P=r.avatar_url;try{if(d){const j=d.name.split(".").pop(),T=`${e.id}-${Date.now()}.${j}`,{error:I}=await je.storage.from("avatars").upload(T,d,{cacheControl:"3600",upsert:!0});if(I)throw new Error(`Failed to upload avatar: ${I.message}`);const{data:B}=je.storage.from("avatars").getPublicUrl(T);B!=null&&B.publicUrl?P=B.publicUrl:console.warn("Could not get public URL for uploaded avatar, but upload might have succeeded.")}const M={id:e.id,first_name:r.first_name||"",last_name:r.last_name||"",mobile_number:r.mobile_number,address:r.address,date_of_birth:r.date_of_birth,gender:r.gender,avatar_url:P,updated_at:new Date().toISOString()},{error:L}=await je.from("profiles").upsert(M,{onConflict:"id"});if(L)throw L;t({title:"Profile updated successfully!"}),f(null),P!==r.avatar_url&&(n(j=>j?{...j,avatar_url:P}:null),m(P??null)),u(!1)}catch(M){console.error("Failed to save profile:",M),t({title:"Update Failed",description:M.message||"Could not save profile changes.",variant:"destructive"})}finally{o(!1)}};return a?l(Fa,{heading:"Profile",text:"Loading profile..."}):!e||!r?l(Fa,{heading:"Profile",text:"Could not load profile data."}):x("div",{className:"container mx-auto py-8",children:[l(Fa,{heading:"User Profile",text:"View and update your personal information."}),x(or,{className:"max-w-2xl mx-auto mt-6",children:[l(wr,{children:l(_r,{children:"Your Details"})}),x("form",{onSubmit:b,children:[x(pr,{className:"space-y-6",children:[" ",x("div",{className:"flex flex-col items-center space-y-4",children:[!c&&x($4,{className:"h-24 w-24",children:[l(ID,{src:h||(r==null?void 0:r.avatar_url)||void 0,alt:"User Avatar"}),x(B4,{children:[(N=(_=r==null?void 0:r.first_name)==null?void 0:_[0])==null?void 0:N.toUpperCase(),(C=(E=r==null?void 0:r.last_name)==null?void 0:E[0])==null?void 0:C.toUpperCase()]})]}),c&&x("div",{className:"w-full max-w-xs flex flex-col items-center",children:[x(tr,{htmlFor:"avatarFile",className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed rounded-lg cursor-pointer bg-card hover:bg-muted transition-colors",children:[h&&!d?x("div",{className:"relative group",children:[l("img",{src:h,alt:"Current avatar",className:"h-28 w-28 object-cover rounded-lg"}),l("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity rounded-lg",children:l(Z0,{className:"w-8 h-8 text-white"})})]}):d?x("div",{className:"text-center",children:[l("img",{src:h||void 0,alt:"Preview",className:"h-16 w-16 object-cover rounded-lg mx-auto mb-2"}),l("p",{className:"text-sm text-muted-foreground truncate max-w-[200px]",children:d.name}),x(Me,{variant:"ghost",size:"sm",className:"mt-1 text-destructive hover:text-destructive-foreground",onClick:O=>{O.preventDefault(),f(null),m((r==null?void 0:r.avatar_url)||null);const P=document.getElementById("avatarFile");P&&(P.value="")},children:[l(ed,{className:"w-4 h-4 mr-1"})," Remove"]})]}):x("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[l(Z0,{className:"w-8 h-8 mb-2 text-muted-foreground"}),x("p",{className:"mb-1 text-sm text-muted-foreground",children:[l("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),l("p",{className:"text-xs text-muted-foreground",children:"SVG, PNG, JPG or GIF (MAX. 2MB)"})]}),l(dt,{id:"avatarFile",name:"avatarFile",type:"file",accept:"image/png, image/jpeg, image/gif, image/svg+xml",onChange:y,disabled:s,className:"hidden"})]}),!d&&l("p",{className:"text-xs text-muted-foreground mt-2 text-center",children:"Upload a square picture (e.g., 100x100px). Max 2MB."})]})]}),l(sm,{})," ",x("div",{className:"space-y-2",children:[l(tr,{htmlFor:"email",children:"Email"}),l(dt,{id:"email",type:"email",value:e.email||"",disabled:!0}),l("p",{className:"text-sm text-muted-foreground",children:"Email address cannot be changed here."})]}),x("div",{className:"space-y-2",children:[l(tr,{htmlFor:"first_name",children:"First Name"}),l(dt,{id:"first_name",name:"first_name",value:r.first_name||"",onChange:g,disabled:!c||s})]}),x("div",{className:"space-y-2",children:[l(tr,{htmlFor:"last_name",children:"Last Name"}),l(dt,{id:"last_name",name:"last_name",value:r.last_name||"",onChange:g,disabled:!c||s})]}),x("div",{className:"space-y-2",children:[l(tr,{htmlFor:"mobile_number",children:"Mobile Number"}),l(dt,{id:"mobile_number",name:"mobile_number",type:"tel",value:r.mobile_number||"",onChange:g,disabled:!c||s,placeholder:"e.g., +1 123 456 7890"})]}),x("div",{className:"space-y-2",children:[l(tr,{htmlFor:"address",children:"Address"}),l(dt,{id:"address",name:"address",value:r.address||"",onChange:g,disabled:!c||s,placeholder:"e.g., 123 Main St, Anytown, USA"})]}),x("div",{className:"space-y-2",children:[l(tr,{htmlFor:"date_of_birth",children:"Date of Birth"}),l(dt,{id:"date_of_birth",name:"date_of_birth",type:"date",value:r.date_of_birth||"",onChange:g,disabled:!c||s})]}),x("div",{className:"space-y-2",children:[l(tr,{htmlFor:"gender",children:"Gender"}),l(dt,{id:"gender",name:"gender",value:r.gender||"",onChange:g,disabled:!c||s,placeholder:"e.g., Male, Female, Non-binary, Prefer not to say"})]}),l(sm,{}),x("div",{className:"space-y-2",children:[l("h3",{className:"text-lg font-medium",children:"Subscription"}),x("div",{className:"flex justify-between items-center",children:[l("span",{className:"text-muted-foreground",children:"Current Plan:"}),l("span",{children:r.current_plan||"N/A"})]})]}),x("div",{className:"space-y-2",children:[l("h3",{className:"text-lg font-medium",children:"Payment Method"}),x("div",{className:"flex justify-between items-center",children:[l("span",{className:"text-muted-foreground",children:"Payment Details:"}),l("span",{children:r.payment_method_details||"N/A"})]})]})]}),l(eg,{className:"flex justify-end gap-2",children:c?x(Nr,{children:[l(Me,{type:"button",variant:"outline",onClick:()=>{u(!1),f(null),m((r==null?void 0:r.avatar_url)||null),w()},disabled:s,children:"Cancel"}),l(Me,{type:"submit",disabled:s,children:s?"Saving...":"Save Changes"})]}):l(Me,{type:"button",onClick:()=>u(!0),children:"Edit Profile"})})]})]})]})}const Mp={free:{name:"Free Plan",price:"₹0",features:["Basic Patient Record Management","Appointment Scheduling (up to 10/month)","Standard Email Reminders","Community Support"]},professional:{name:"Professional Plan",price:"₹49",priceSuffix:"/ month",features:["All features in Free Plan","Unlimited Patient Records","Unlimited Appointment Scheduling","Automated SMS & Email Reminders","Basic Treatment Planning","Consent Form Management","Priority Email Support","5 GB Document Storage"]}},uLe=[{question:"Can I change my plan later?",answer:"Yes, you can upgrade or downgrade your plan at any time from your account settings. Changes will take effect from the next billing cycle."},{question:"What payment methods do you accept?",answer:"We accept all major credit cards (Visa, Mastercard, American Express) and PayPal."},{question:"Is my payment information secure?",answer:"Absolutely. We use industry-standard encryption and partner with Stripe, a leading payment processor, to ensure your payment details are handled securely."},{question:"What happens if my payment fails?",answer:"If a payment fails, we'll notify you and attempt to retry the payment method. You'll have a grace period to update your payment details before any service interruption."}];function dLe(){const[e,t]=S.useState("professional"),[r,n]=S.useState(""),[a,i]=S.useState(!1),s=Mp[e],o=e==="free"?0:49,c=e==="free"?0:4,u=o+c;return x("div",{className:"container mx-auto py-8 px-4 md:px-6 lg:px-8",children:[l(Fa,{heading:"Payments & Subscription",text:"Manage your billing details and subscription plan."}),x("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mt-6",children:[x(or,{className:"lg:col-span-2",children:[x(wr,{children:[l(_r,{children:"Payment Details"}),l(Sc,{children:"Enter your payment information to subscribe."})]}),l(pr,{children:x("form",{onSubmit:f=>{f.preventDefault(),console.log("Processing payment for:",e,"Total:",u)},className:"space-y-6",children:[x("div",{className:"space-y-2",children:[l(tr,{htmlFor:"email",children:"Email address"}),l(dt,{id:"email",type:"email",placeholder:"you@example.com",required:!0,defaultValue:"m@example.com"})," "]}),x("div",{className:"space-y-2",children:[l(tr,{htmlFor:"cardNumber",children:"Credit Card Number"}),l(dt,{id:"cardNumber",type:"text",placeholder:"XXXX XXXX XXXX XXXX",required:!0})]}),x("div",{className:"grid grid-cols-2 gap-4",children:[x("div",{className:"space-y-2",children:[l(tr,{htmlFor:"expiryDate",children:"Expiry Date"}),l(dt,{id:"expiryDate",type:"text",placeholder:"MM / YY",required:!0})]}),x("div",{className:"space-y-2",children:[l(tr,{htmlFor:"cvv",children:"CVV"}),l(dt,{id:"cvv",type:"text",placeholder:"XXX",required:!0})]})]}),x("div",{className:"flex items-center space-x-2",children:[l(Fo,{id:"promo",checked:a,onCheckedChange:f=>i(!!f)}),l(tr,{htmlFor:"promo",className:"cursor-pointer",children:"I have a promo code"})]}),a&&x("div",{className:"space-y-2",children:[l(tr,{htmlFor:"promoCode",children:"Promo Code"}),l(dt,{id:"promoCode",type:"text",placeholder:"Enter code",value:r,onChange:f=>n(f.target.value)})]}),x("div",{className:"space-y-2 border-t pt-4 mt-4",children:[x("div",{className:"flex justify-between",children:[l("span",{children:"Subtotal"}),x("span",{children:["₹",o.toFixed(2)]})]}),x("div",{className:"flex justify-between text-muted-foreground",children:[l("span",{children:"Platform Fee"}),x("span",{children:["₹",c.toFixed(2)]})]}),x("div",{className:"flex justify-between font-semibold text-lg border-t pt-2 mt-2",children:[l("span",{children:"Total Amount"}),x("span",{children:["₹",u.toFixed(2)]})]})]}),l(Me,{type:"submit",className:"w-full",disabled:e==="free",children:e==="free"?"Free Plan Selected":`Subscribe to ${s.name}`})]})})]}),x("div",{className:"space-y-8",children:[x(or,{children:[l(wr,{children:l(_r,{children:"Choose Your Plan"})}),l(pr,{children:x(js,{value:e,onValueChange:f=>t(f),children:[x(tr,{htmlFor:"free-plan",className:`flex flex-col items-start space-y-1 rounded-md border p-4 cursor-pointer transition-colors ${e==="free"?"border-primary bg-primary/5":"hover:bg-accent hover:text-accent-foreground"}`,children:[x("div",{className:"flex justify-between w-full items-center",children:[l("span",{className:"font-semibold",children:Mp.free.name}),l(Mn,{value:"free",id:"free-plan",className:"translate-y-0"})]}),l("span",{className:"text-2xl font-bold",children:Mp.free.price}),l("ul",{className:"list-disc list-inside text-sm text-muted-foreground space-y-1 mt-2",children:Mp.free.features.map((f,h)=>l("li",{children:f},h))})]}),x(tr,{htmlFor:"professional-plan",className:`flex flex-col items-start space-y-1 rounded-md border p-4 cursor-pointer transition-colors ${e==="professional"?"border-primary bg-primary/5":"hover:bg-accent hover:text-accent-foreground"}`,children:[x("div",{className:"flex justify-between w-full items-center",children:[l("span",{className:"font-semibold",children:Mp.professional.name}),l(Mn,{value:"professional",id:"professional-plan",className:"translate-y-0"})]}),x("span",{className:"text-2xl font-bold",children:[Mp.professional.price,l("span",{className:"text-sm font-normal text-muted-foreground",children:Mp.professional.priceSuffix})]}),l("ul",{className:"list-disc list-inside text-sm text-muted-foreground space-y-1 mt-2",children:Mp.professional.features.map((f,h)=>l("li",{children:f},h))})]})]})}),x(eg,{children:[l(Me,{variant:"outline",className:"w-full",children:"Modify Plan"})," "]})]}),x(or,{children:[l(wr,{children:l(_r,{children:"Frequently Asked Questions"})}),l(pr,{children:l(G4,{type:"single",collapsible:!0,className:"w-full",children:uLe.map((f,h)=>x(no,{value:`item-${h+1}`,children:[l(ao,{children:f.question}),l(io,{children:f.answer})]},h))})})]})]})]})]})}function fLe(){const[e,t]=S.useState([]),[r,n]=S.useState(""),[a,i]=S.useState(null),[s,o]=S.useState(null),[c,u]=S.useState([]),[d,f]=S.useState(!1),[h,m]=S.useState(!1),[w,g]=S.useState(null),[y,b]=S.useState(null),[_,N]=S.useState(!1),[E,C]=S.useState(!1),[O,P]=S.useState([]),{toast:M}=bn(),[L,j]=S.useState(null),[T,I]=S.useState(null);S.useEffect(()=>{(async()=>{f(!0),g(null);try{const{data:z,error:U}=await je.from("patients").select("id, first_name, last_name, phone, registration_number").order("last_name",{ascending:!0}).order("first_name",{ascending:!0});if(U)throw U;t(z||[])}catch(z){g("Failed to fetch patients."),console.error("Error fetching patients:",z)}finally{f(!1)}})()},[]),S.useEffect(()=>{It.staff.getDoctors().then(P).catch(()=>P([]))},[]);const B=S.useCallback(async W=>{if(W){m(!0),b(null),u([]);try{if(!W)throw new Error("Patient ID became null unexpectedly.");const{data:z,error:U}=await je.from("medical_records").select(`
          *,
          staff:created_by ( first_name, last_name ),
          teeth:medical_record_teeth ( teeth ( id, description ) ) 
        `).eq("patient_id",W).order("record_date",{ascending:!1});if(U)throw U;const Y=(z||[]).map(Q=>{const K=(Q.teeth||[]).map(J=>J.teeth).filter(Boolean);return{...Q,teeth:K}});u(Y)}catch(z){b("Failed to fetch medical records."),console.error("Error fetching medical records:",z)}finally{m(!1)}}},[]);S.useEffect(()=>{a?B(a):u([])},[a,B]);const G=W=>{j(W.id),I(`${W.first_name||""} ${W.last_name||""}`.trim()),i(W.id),o(`${W.first_name||""} ${W.last_name||""}`.trim())},Z=()=>{if(!a){M({title:"No Patient Selected",description:"Please select a patient before adding a record.",variant:"destructive"});return}N(!0)},re=async W=>{if(a){C(!0);try{const z=[...(Array.isArray(W.xray_images)?W.xray_images:[]).map((Q,D)=>({type:"xray",name:Q.name||`X-ray Image ${D+1}`,...Q})),...(Array.isArray(W.clinical_photos)?W.clinical_photos:[]).map((Q,D)=>({type:"photo",name:Q.name||`Clinical Photo ${D+1}`,...Q})),...(Array.isArray(W.documents)?W.documents:[]).map((Q,D)=>({type:"document",name:Q.name||`Document ${D+1}`,...Q}))],U={chief_complaint:W.chief_complaint,vital_signs:{blood_pressure:W.blood_pressure,pulse_rate:W.pulse_rate},examination:{extra_oral:W.extra_oral_exam,intra_oral:W.intra_oral_exam},diagnosis:{notes:W.diagnosis_notes,codes:W.diagnosis_codes},treatment:{phase:W.treatment_phase,procedures:W.treatment_procedures},prescriptions:W.prescriptions,instructions:{home_care:W.home_care_instructions,follow_up:W.follow_up_date},lab_results:W.lab_results,custom_notes:W.custom_notes,doctor:W.doctor,xray_images:W.xray_images,clinical_photos:W.clinical_photos,documents:W.documents,record_date:W.record_date},Y={patient_id:a,record_date:new Date().toISOString(),record_type:"examination",description:JSON.stringify(U),attachments:z.length?z:null};await It.patients.createMedicalRecord(Y,[]),console.log("Dental record saved:",Y),M({title:"Success",description:"Dental record added successfully."}),N(!1),B(a)}catch(z){console.error("Error saving dental record:",z),M({title:"Error",description:"Failed to save dental record. "+z.message,variant:"destructive"})}finally{C(!1)}}};return x("div",{className:"w-full min-h-screen h-screen flex flex-col md:flex-row gap-4 md:gap-8 px-2 md:px-4 py-4 md:py-8 bg-white",children:[x("div",{className:"flex flex-1 flex-col md:flex-row gap-6 w-full h-full",children:[l("div",{className:"w-full md:w-1/3 lg:w-1/4 flex-shrink-0",children:x("div",{className:"h-full flex flex-col",children:[l("div",{className:"w-full mb-3",children:l(dt,{id:"patient-search",type:"search",placeholder:"Search by name or ID...",value:r,onChange:W=>n(W.target.value),className:"text-sm md:text-base"})}),l("div",{className:"flex-1 overflow-y-auto",children:l("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-0 w-full justify-start",style:{maxHeight:"calc(100vh - 140px)",overflowY:"auto",margin:0,padding:0},children:e.filter(W=>{var D,K;const z=`${W.first_name||""} ${W.last_name||""}`.toLowerCase(),U=((D=W.phone)==null?void 0:D.toLowerCase())||"",Y=((K=W.registration_number)==null?void 0:K.toLowerCase())||"",Q=r.toLowerCase();return z.includes(Q)||U.includes(Q)||Y.includes(Q)}).map(W=>{var U,Y;const z=`${(((U=W.first_name)==null?void 0:U[0])||"").toUpperCase()}${(((Y=W.last_name)==null?void 0:Y[0])||"").toUpperCase()}`;return x("div",{className:"relative flex flex-col items-center p-1.5 rounded-lg shadow bg-white/70 border border-blue-200 transition-all duration-200 cursor-pointer group min-w-[110px] max-w-[140px] font-sans",style:{boxShadow:"0 1px 4px 0 rgba(0,0,0,0.04)",background:"rgba(255,255,255,0.90)"},onMouseEnter:Q=>{Q.currentTarget.style.background="rgba(255,255,255,0.97)",Q.currentTarget.style.backdropFilter="blur(12px)",Q.currentTarget.style.border="0.5px solid",Q.currentTarget.style.borderImage="linear-gradient(90deg, #3b82f6 0%, #60a5fa 100%) 1",Q.currentTarget.style.boxShadow="0 0 0 2px #3b82f6, 0 8px 32px 0 rgba(59,130,246,0.10)",Q.currentTarget.style.transform="scale(1.045)"},onMouseLeave:Q=>{Q.currentTarget.style.background="rgba(255,255,255,0.90)",Q.currentTarget.style.backdropFilter="blur(6px)",Q.currentTarget.style.border="0.5px solid #bfdbfe",Q.currentTarget.style.borderImage="",Q.currentTarget.style.boxShadow="0 1px 4px 0 rgba(0,0,0,0.04)",Q.currentTarget.style.transform="scale(1)"},onClick:()=>G(W),children:[l($4,{className:"h-9 w-9 mb-1 shadow-sm border border-blue-200 bg-white/70",children:l(B4,{className:"text-sm",children:z||"?"})}),l("div",{className:"font-bold text-center text-[15px] mb-0.5 truncate w-full capitalize text-gray-900 drop-shadow-sm",children:`${W.first_name||""} ${W.last_name||""}`.trim()||"Unnamed"}),W.registration_number&&x("div",{className:"text-[11px] text-blue-700 font-semibold mb-0.5",children:["Reg: ",W.registration_number]}),W.phone&&l("div",{className:"text-[11px] text-muted-foreground mb-1",children:W.phone}),l("div",{className:"pointer-events-none absolute inset-0 rounded-lg",style:{background:"linear-gradient(120deg,rgba(255,255,255,0.10) 0%,rgba(96,165,250,0.07) 100%)"}})]},W.id)})})})]})}),l("div",{className:"flex-1 flex flex-col",children:l("div",{className:"w-full max-w-4xl mx-auto flex flex-col gap-6 border border-dotted border-gray-300 rounded-xl p-4 md:p-8 min-h-[400px]",children:L?l(Pre,{medicalRecords:c,onAddMedicalRecord:Z,doctors:O,fullPage:!0}):x("div",{className:"w-full max-w-2xl mx-auto flex flex-col items-center justify-center h-96 text-center animate-fade-in py-12 md:py-24",children:[l(uD,{className:"w-16 h-16 md:w-20 md:h-20 text-muted-foreground mb-4 md:mb-6"}),l("h2",{className:"text-xl md:text-2xl font-semibold mb-2",children:"Select a patient to view their medical records"}),l("p",{className:"text-muted-foreground mb-4",children:"Scroll and click a patient card to get started."})]})})})]}),l(Hn,{open:_,onOpenChange:N,children:l(qn,{className:"max-w-5xl w-full mx-auto rounded-lg shadow-lg",children:a&&s&&l(Tre,{patientId:a,patientName:s,onSubmit:re,onCancel:()=>N(!1),isLoading:E})})})]})}const qo=S.forwardRef(({className:e,...t},r)=>l("div",{className:"relative w-full overflow-auto",children:l("table",{ref:r,className:Lt("w-full caption-bottom text-sm",e),...t})}));qo.displayName="Table";const zo=S.forwardRef(({className:e,...t},r)=>l("thead",{ref:r,className:Lt("[&_tr]:border-b",e),...t}));zo.displayName="TableHeader";const Wo=S.forwardRef(({className:e,...t},r)=>l("tbody",{ref:r,className:Lt("[&_tr:last-child]:border-0",e),...t}));Wo.displayName="TableBody";const hLe=S.forwardRef(({className:e,...t},r)=>l("tfoot",{ref:r,className:Lt("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));hLe.displayName="TableFooter";const Dn=S.forwardRef(({className:e,...t},r)=>l("tr",{ref:r,className:Lt("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Dn.displayName="TableRow";const Kt=S.forwardRef(({className:e,...t},r)=>l("th",{ref:r,className:Lt("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Kt.displayName="TableHead";const zt=S.forwardRef(({className:e,...t},r)=>l("td",{ref:r,className:Lt("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));zt.displayName="TableCell";const pLe=S.forwardRef(({className:e,...t},r)=>l("caption",{ref:r,className:Lt("mt-4 text-sm text-muted-foreground",e),...t}));pLe.displayName="TableCaption";const mLe=Bw("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),ld=S.forwardRef(({className:e,variant:t,...r},n)=>l("div",{ref:n,role:"alert",className:Lt(mLe({variant:t}),e),...r}));ld.displayName="Alert";const cd=S.forwardRef(({className:e,...t},r)=>l("h5",{ref:r,className:Lt("mb-1 font-medium leading-none tracking-tight",e),...t}));cd.displayName="AlertTitle";const ud=S.forwardRef(({className:e,...t},r)=>l("div",{ref:r,className:Lt("text-sm [&_p]:leading-relaxed",e),...t}));ud.displayName="AlertDescription";function Bl({className:e,...t}){return l("div",{className:Lt("animate-pulse rounded-md bg-muted",e),...t})}const nA="inventory_items",qR=async()=>{const{data:e,error:t}=await je.from(nA).select("*").order("created_at",{ascending:!1});if(t)throw console.error("Error fetching inventory items:",t),new Error(t.message);return e||[]},gLe=async e=>{const{data:t,error:r}=await je.from(nA).select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return console.log(`Inventory item with id ${e} not found.`),null;throw console.error(`Error fetching inventory item ${e}:`,r),new Error(r.message)}return t},vLe=async e=>{var i;const{data:t,error:r}=await je.from(nA).insert([e]).select().single();if(r)throw console.error("Error adding inventory item:",r),new Error(r.message);if(!t)throw new Error("Failed to add inventory item, no data returned.");const n={inventory_item_id:t.id,item_id:null,quantity_change:t.quantity,change_type:"initial_stock",user_id:((i=(await je.auth.getUser()).data.user)==null?void 0:i.id)||null,notes:"Initial stock set during item creation",inventory_item_batch_id:null,purchase_order_item_id:null},{error:a}=await je.from("inventory_log").insert([n]);return a&&console.error("Error logging initial inventory stock:",a),t},yLe=async(e,t)=>{var i;const r=await gLe(e);if(!r)throw new Error(`Inventory item ${e} not found.`);if(t.quantity!==void 0&&t.quantity!==r.quantity){const s=t.quantity-r.quantity,o={inventory_item_id:e,item_id:null,quantity_change:s,change_type:s>0?"add":"use",user_id:((i=(await je.auth.getUser()).data.user)==null?void 0:i.id)||null,notes:`Quantity updated from ${r.quantity} to ${t.quantity}`,inventory_item_batch_id:null,purchase_order_item_id:null},{error:c}=await je.from("inventory_log").insert([o]);c&&console.error("Error logging inventory quantity change:",c)}const{data:n,error:a}=await je.from(nA).update(t).eq("id",e).select().single();if(a)throw console.error(`Error updating inventory item ${e}:`,a),new Error(a.message);if(!n)throw new Error(`Failed to update inventory item ${e}, no data returned.`);return n},CW=async(e,t)=>{const{data:r,error:n}=await je.from("inventory_log").select("*").gte("created_at",e).lte("created_at",t).order("created_at",{ascending:!0});if(n)throw console.error("Error fetching inventory log entries:",n),new Error(n.message);return r||[]},xLe=async e=>{let t=je.from("inventory_log").select(`
      *,
      inventory_items (item_name, item_code)
    `).order("created_at",{ascending:!1});const r=["Expired","Damaged","Lost","Stock Count Correction","Used","Other","adjustment"];if(t=t.in("change_type",r),e.startDate&&(t=t.gte("created_at",e.startDate.toISOString())),e.endDate){const i=new Date(e.endDate);i.setDate(i.getDate()+1),t=t.lt("created_at",i.toISOString())}if(e.searchTerm){const i=`%${e.searchTerm}%`;t=t.or(`inventory_items.item_name.ilike.${i},inventory_items.item_code.ilike.${i},notes.ilike.${i},change_type.ilike.${i}`)}const{data:n,error:a}=await t;if(a)throw console.error("Error fetching detailed inventory logs:",a),new Error(a.message);return n||[]},PW=async e=>{const{data:t,error:r}=await je.from("inventory_adjustment_requests").insert({inventory_item_id:e.inventory_item_id,inventory_item_batch_id:e.inventory_item_batch_id,quantity_to_decrease:e.quantity_to_decrease,reason:e.reason,notes:e.notes,photo_url:e.photo_url,requested_by_user_id:e.requested_by_user_id,custom_approver_emails:e.custom_approver_emails,approver_role_target:e.approver_role_target,status:"pending"}).select("id, inventory_item_id, inventory_item_batch_id, quantity_to_decrease, reason, notes, photo_url, status, requested_by_user_id, requested_at, reviewed_by_user_id, reviewed_at, reviewer_notes, created_at, updated_at, approval_token, approval_token_expires_at, custom_approver_emails, approver_role_target").single();if(r)throw console.error("Error creating inventory adjustment request:",r),r;if(!t)throw new Error("Failed to create adjustment request, no data returned.");return t},TW=async(e,t)=>{const r=e.name.split(".").pop(),n=`inventory_adjustments/${t}/${Date.now()}.${r}`;try{const{error:a,data:i}=await je.storage.from("inventory-proofs").upload(n,e);return a?(console.error("Error uploading adjustment photo (likely CORS or network issue):",a),null):n}catch(a){return console.error("Exception during photo upload:",a),null}},wLe=async(e,t)=>{let r=je.from("inventory_adjustment_requests").select(`
            *,
            inventory_items ( item_name ),
            requester_profile:profiles!inventory_adjustment_requests_requested_by_user_id_fkey ( first_name, last_name )
        `).eq("status","pending").neq("requested_by_user_id",e);if(t==="admin")r=r.or("approver_role_target.eq.admin,approver_role_target.is.null");else if(t==="owner")r=r.or("approver_role_target.eq.owner,approver_role_target.is.null");else if(t==="doctor")r=r.eq("approver_role_target","doctor");else return[];r=r.order("requested_at",{ascending:!0});const{data:n,error:a}=await r;if(a)throw console.error("Error fetching pending adjustment requests:",a),a;return n||[]},bLe=async e=>{const{data:t,error:r}=await je.from("inventory_adjustment_requests").select(`
            *,
            inventory_items ( item_name ),
            requester_profile:profiles!inventory_adjustment_requests_requested_by_user_id_fkey ( first_name, last_name )
        `).eq("id",e).single();if(r){if(r.code==="PGRST116")return console.log(`Adjustment request with id ${e} not found.`),null;throw console.error(`Error fetching adjustment request ${e}:`,r),r}return t},_Le=async(e,t,r=20)=>{let n=je.from("inventory_adjustment_requests").select(`
      *,
      inventory_items ( item_name ),
      requester_profile:profiles!inventory_adjustment_requests_requested_by_user_id_fkey ( first_name, last_name )
    `).eq("requested_by_user_id",e);t&&t.length>0&&(n=n.in("status",t)),n=n.order("requested_at",{ascending:!1}).limit(r);const{data:a,error:i}=await n;if(i)throw console.error("Error fetching adjustment requests for user:",i),i;return a||[]},QS=async e=>{if(!e)return null;const{data:t,error:r}=await je.storage.from("inventory-proofs").createSignedUrl(e,60*10);return r?(console.error("Error creating signed URL for adjustment photo:",r),null):(t==null?void 0:t.signedUrl)||null},dae=async(e,t,r)=>{const{error:n}=await je.rpc("process_approved_adjustment",{p_request_id:e,p_reviewer_user_id:t,p_reviewer_notes:r===void 0?null:r});if(n)throw console.error(`Error approving adjustment request ${e}:`,n),n},fae=async(e,t,r)=>{const{error:n}=await je.from("inventory_adjustment_requests").update({status:"rejected",reviewed_by_user_id:t,reviewed_at:new Date().toISOString(),reviewer_notes:r}).eq("id",e).eq("status","pending");if(n)throw console.error(`Error rejecting adjustment request ${e}:`,n),n},SLe=async(e,t)=>{const{data:r,error:n}=await je.rpc("verify_adjustment_approval_token",{p_request_id:e,p_raw_token:t});return n?(console.error("Error verifying adjustment token:",n),null):r&&r.length>0?r[0]:null},NLe=async e=>{const{data:t,error:r}=await je.from("stock_takes").insert(e).select().single();if(r)throw console.error("Error creating stock take entry:",r),r;if(!t)throw new Error("Failed to create stock take entry, no data returned.");return t},hae=tt.forwardRef(({status:e,className:t,onClick:r},n)=>{let a="",i="";switch(e){case"In Stock":a="bg-green-100 text-green-800";break;case"Low Stock":a="bg-yellow-100 text-yellow-800",i="animate-pulse";break;case"Expired":a="bg-red-100 text-red-800";break;default:a="bg-gray-100 text-gray-800"}return l("span",{ref:n,className:yn("inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold capitalize",a,i,t),onClick:r,children:e})});hae.displayName="InventoryStatusBadge";const ALe=e=>(e.quantity??0)<=(e.low_stock_threshold??0)?"Low Stock":"In Stock",kLe=e=>{switch(e){case"In Stock":return"text-green-600 font-bold";case"Low Stock":return"text-red-600 font-bold";default:return""}},ELe=({onEditItem:e,refreshTrigger:t,searchTerm:r,categoryFilter:n,onDataFiltered:a})=>{const[i,s]=S.useState([]),[o,c]=S.useState(!0),[u,d]=S.useState(null),[f,h]=S.useState("item_name"),[m,w]=S.useState("asc");Ss();const{toast:g}=bn(),{user:y}=di(),b=S.useRef(null),_=S.useRef(null),N=S.useRef(0),E=5,C=1e3,O=3e4,P=S.useCallback(async()=>{c(!0),d(null);try{let j=je.from("inventory_items").select("*");r&&(j=j.ilike("item_name",`%${r}%`)),n!=="all"&&(j=j.eq("category",n));const T={ascending:m==="asc"};j=j.order(f,T);const{data:I,error:B}=await j;if(B)throw B;const G=await Promise.all((I||[]).map(async Z=>{let re=[];if(Z.is_batched){const{data:W,error:z}=await je.from("inventory_item_batches").select("*").eq("inventory_item_id",Z.id).order("expiry_date",{ascending:!0,nullsFirst:!1});z?console.error(`Failed to fetch batches for item ${Z.id}:`,z):re=W||[]}return{...Z,stock_status:ALe(Z),batches:re}}));s(G),a(G)}catch(j){console.error("Failed to fetch inventory items:",j),d(j instanceof Error?j.message:"An unknown error occurred"),g({title:"Error Fetching Inventory",description:j instanceof Error?j.message:"Could not load items.",variant:"destructive"})}finally{c(!1)}},[r,n,f,m,a]);S.useEffect(()=>{P()},[P,t]),S.useEffect(()=>{if(!je){console.error("Supabase client is not available");return}let j=je.channel("inventory_items_changes").on("postgres_changes",{event:"*",schema:"public",table:"inventory_items"},T=>{P()}).subscribe((T,I)=>{if(T==="SUBSCRIBED")N.current=0,_.current&&(clearTimeout(_.current),_.current=null);else if(T==="CHANNEL_ERROR"||T==="TIMED_OUT"||T==="CLOSED")if(console.error(`List Realtime subscription ${T}:`,I),I&&console.error("Error message:",I.message),N.current<E){N.current+=1;const B=Math.min(C*Math.pow(2,N.current-1),O);console.error(`List attempting to reconnect in ${B/1e3} seconds...`),_.current&&clearTimeout(_.current),_.current=setTimeout(()=>{b.current&&b.current.subscribe()},B)}else console.error("List max reconnection attempts reached."),g({title:"Realtime Connection Issue",description:"Inventory list updates may be delayed. Please refresh if needed.",variant:"destructive",duration:1e4})});return b.current=j,()=>{_.current&&clearTimeout(_.current);const T=b.current;T&&(je.removeChannel(T).catch(I=>console.error("Error removing list channel:",I)),b.current=null)}},[je,P,g]);const M=j=>{f===j?w(T=>T==="asc"?"desc":"asc"):(h(j),w("asc"))},L=j=>f!==j?l(S5,{className:"ml-2 h-4 w-4 opacity-30 group-hover:opacity-100"}):l(S5,{className:`ml-2 h-4 w-4 ${m==="asc"?"":"rotate-180"}`});return o?l("div",{className:"space-y-2",children:[...Array(5)].map((j,T)=>l(Bl,{className:"h-10 w-full"},T))}):u?x(ld,{variant:"destructive",children:[l(jl,{className:"h-4 w-4"}),l(cd,{children:"Error"}),l(ud,{children:u})]}):i.length===0?l("p",{className:"text-center text-gray-500 mt-4",children:"No inventory items found. Add one to get started!"}):l("div",{className:"rounded-md border",children:x(qo,{className:"min-w-full divide-y divide-gray-200 bg-white shadow-md rounded-lg overflow-hidden",children:[l(zo,{className:"bg-gray-50",children:x(Dn,{className:"text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:[l(Kt,{className:"px-6 py-3",children:x(Me,{variant:"ghost",onClick:()=>M("item_code"),className:"px-0 group",children:["Item Code ",L("item_code")]})}),l(Kt,{className:"px-6 py-3",children:"Batch No / Info"}),l(Kt,{className:"px-6 py-3",children:"Supplier ID/Info"}),l(Kt,{className:"px-6 py-3",children:x(Me,{variant:"ghost",onClick:()=>M("item_name"),className:"px-0 group",children:["Item Name ",L("item_name")]})}),l(Kt,{className:"px-6 py-3 text-right",children:x(Me,{variant:"ghost",onClick:()=>M("quantity"),className:"px-0 group",children:["Quantity ",L("quantity")]})}),l(Kt,{className:"px-6 py-3",children:"Status"})]})}),l(Wo,{className:"bg-white divide-y divide-gray-200",children:i.map(j=>x(Dn,{className:"hover:bg-gray-100 text-sm text-gray-900",children:[l(zt,{className:"px-6 py-4 whitespace-nowrap",children:j.item_code||"N/A"}),l(zt,{className:"px-6 py-4 whitespace-nowrap",children:j.is_batched&&j.batches&&j.batches.length>0?j.batches.map(T=>T.batch_number||"N/A").join(", "):j.is_batched?"No batches":"N/A"}),l(zt,{className:"px-6 py-4 whitespace-nowrap",children:j.supplier_info||"N/A"}),l(zt,{className:"px-6 py-4 whitespace-nowrap",children:j.item_name}),l(zt,{className:"px-6 py-4 whitespace-nowrap text-right",children:j.quantity??"-"}),l(zt,{className:"px-6 py-4 whitespace-nowrap",children:l(hae,{status:j.stock_status,className:kLe(j.stock_status)})})]},j.id))})]})})},CLe=async(e,t,r)=>{if(!e)throw new Error("No file provided for upload.");if(!t)throw new Error("User ID is required for upload.");const n=e.name.split(".").pop(),i=`invoices/${`${t}_${Date.now()}.${n}`}`,{data:s,error:o}=await je.storage.from("invoices").upload(i,e);if(o)throw console.error("Error uploading invoice to storage:",o),new Error(`Storage upload failed: ${o.message}`);console.log("File uploaded successfully to:",s.path);const c={file_name:e.name,storage_path:s.path,uploaded_by_user_id:t,inventory_item_id:r},{data:u,error:d}=await je.from("invoices").insert(c).select().single();if(d)throw console.error("Error inserting invoice record:",d),await je.storage.from("invoices").remove([s.path]),console.warn("Orphaned file removed from storage due to DB insert failure:",s.path),new Error(`Database insert failed: ${d.message}`);return console.log("Invoice record created successfully:",u),s.path},PLe=async()=>{const{data:e,error:t}=await je.from("invoices").select(`
            *,
            inventory_items (
                item_name
            )
        `).order("uploaded_at",{ascending:!1});if(t)throw console.error("Error fetching invoices with item names:",t),t;return e},TLe=async(e,t=60)=>{const{data:r,error:n}=await je.storage.from("invoices").createSignedUrl(e,t);if(n)throw console.error("Error creating signed URL:",n),n;return r.signedUrl},OLe=YN({item_name:ro().min(1,{message:"Item name is required"}),category:xw(["Medicines","Tools","Consumables"],{required_error:"Category is required"}),supplier_info:ro().optional().nullable(),low_stock_threshold:SR.number().int().min(0,{message:"Threshold must be 0 or greater"}),item_code:ro().optional().nullable()}),DLe=({itemToEdit:e,onSave:t,onCancel:r})=>{const{toast:n}=bn(),{user:a}=di(),[i,s]=S.useState(null),o=!!e,c=["Medicines","Tools","Consumables"],u=y=>{if(y&&c.includes(y))return y},d=pd({resolver:md(OLe),defaultValues:{item_name:(e==null?void 0:e.item_name)??"",category:u(e==null?void 0:e.category),supplier_info:(e==null?void 0:e.supplier_info)??"",low_stock_threshold:Number((e==null?void 0:e.low_stock_threshold)??10),item_code:(e==null?void 0:e.item_code)??""}}),{handleSubmit:f,control:h,reset:m}=d;S.useEffect(()=>{m(e?{item_name:e.item_name,category:u(e.category),supplier_info:e.supplier_info??"",low_stock_threshold:Number(e.low_stock_threshold??10),item_code:e.item_code??""}:{item_name:"",category:void 0,supplier_info:"",low_stock_threshold:10,item_code:""})},[e,m]);const w=y=>{y.target.files&&y.target.files[0]?s(y.target.files[0]):s(null)};return l(Mh,{...d,children:x("form",{onSubmit:f(async y=>{if(!a){n({title:"Error",description:"You must be logged in to save items.",variant:"destructive"});return}let b=null;try{if(o&&e){const _={item_name:y.item_name,category:y.category,supplier_info:y.supplier_info||null,low_stock_threshold:y.low_stock_threshold,item_code:y.item_code||null};b=await yLe(e.id,_),n({title:"Success",description:"Inventory item updated."})}else{const _={item_name:y.item_name,category:y.category,quantity:0,supplier_info:y.supplier_info||null,low_stock_threshold:y.low_stock_threshold,item_code:y.item_code||null,is_batched:y.category==="Medicines",photo_url:null,updated_at:null};if(b=await vLe(_),n({title:"Success",description:"New inventory item added."}),i&&b)try{console.log(`Uploading invoice for new item ID: ${b.id}`),await CLe(i,a.id,b.id),n({title:"Invoice Uploaded",description:`Invoice "${i.name}" uploaded successfully.`})}catch(N){console.error("Invoice upload failed after item creation:",N),n({title:"Warning",description:`Item was added, but invoice upload failed: ${N instanceof Error?N.message:"Unknown error"}`,variant:"default",duration:7e3})}}if(!b)throw new Error("Failed to get saved item data.");t(b),s(null)}catch(_){console.error("Failed to save inventory item:",_),n({title:"Error",description:`Failed to save item: ${_ instanceof Error?_.message:"Unknown error"}`,variant:"destructive"})}}),className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4",children:[x("div",{className:"md:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-4 rounded-md border p-4",children:[l("h3",{className:"text-lg font-semibold md:col-span-2",children:"Basic Information"}),l(Ve,{control:h,name:"item_name",render:({field:y})=>x(Ie,{children:[l(De,{children:"Item Name *"}),l(Le,{children:l(dt,{placeholder:"e.g., Amoxicillin 500mg",...y})}),l(et,{})]})}),l(Ve,{control:h,name:"category",render:({field:y})=>x(Ie,{children:[l(De,{children:"Category *"}),x(Ur,{onValueChange:y.onChange,value:y.value??"",defaultValue:y.value??"",children:[l(Le,{children:l(jr,{children:l(qr,{placeholder:"Select a category"})})}),l($r,{children:c.map(b=>l(mt,{value:b,children:b},b))})]}),l(et,{})]})}),l(Ve,{control:h,name:"item_code",render:({field:y})=>x(Ie,{children:[l(De,{children:"Item Code/SKU (Optional)"}),l(Le,{children:l(dt,{placeholder:"e.g., MED-001",...y,value:y.value??""})}),l(et,{})]})}),l(Ve,{control:h,name:"low_stock_threshold",render:({field:y})=>x(Ie,{children:[l(De,{children:"Low Stock Threshold"}),l(Le,{children:l(dt,{type:"number",min:"0",placeholder:"10",...y,value:String(y.value??"")})}),l(et,{})]})})]}),x("div",{className:"md:col-span-2 grid grid-cols-1 gap-4 rounded-md border p-4",children:[l("h3",{className:"text-lg font-semibold",children:"Supplier Information"}),l(Ve,{control:h,name:"supplier_info",render:({field:y})=>x(Ie,{children:[l(De,{children:"Supplier Details (Optional)"}),l(Le,{children:l(dt,{placeholder:"e.g., Supplier Name, Contact",...y,value:y.value??""})}),l(et,{})]})})]}),!o&&x("div",{className:"md:col-span-2 rounded-md border p-4",children:[l("h3",{className:"text-lg font-semibold mb-4",children:"Invoice Upload"}),x(Ie,{children:[l(De,{children:"Attach Invoice (Optional)"}),l(Le,{children:l("div",{className:"flex items-center justify-center w-full",children:x("label",{htmlFor:"invoice-upload",className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed rounded-lg cursor-pointer bg-card hover:bg-muted/50",children:[x("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[l(Z0,{className:"w-8 h-8 mb-4 text-muted-foreground"}),x("p",{className:"mb-2 text-sm text-muted-foreground",children:[l("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),l("p",{className:"text-xs text-muted-foreground",children:"PDF, DOCX, XLSX, PNG, JPG (MAX. 5MB)"})]}),l(dt,{id:"invoice-upload",type:"file",className:"hidden",accept:".pdf,.doc,.docx,.xls,.xlsx,.csv,.jpg,.jpeg,.png",onChange:w})]})})}),i&&x("p",{className:"text-sm text-muted-foreground mt-2 text-center",children:["Selected: ",i.name]})]})]}),x("div",{className:"md:col-span-2 flex justify-end space-x-2 pt-4",children:[l(Me,{type:"button",variant:"outline",onClick:()=>{s(null),r()},children:"Cancel"}),l(Me,{type:"submit",disabled:d.formState.isSubmitting,children:d.formState.isSubmitting?"Saving...":o?"Update Item":"Add Item"})]})]})})},ILe={reorder:l(sG,{className:"text-blue-500",size:16}),expiry:l(Oi,{className:"text-red-500",size:16}),clinical:l(Tce,{className:"text-orange-500",size:16})},OW={High:"bg-red-100 text-red-600",Medium:"bg-yellow-100 text-yellow-600",Low:"bg-green-100 text-green-600"},RLe=e=>{var a;const t={},r=[];let n=null;for(const i of e){const s=i.message.trim(),o=s.match(/\*\*(.*?)\*\*/),c=((a=o==null?void 0:o[1])==null?void 0:a.trim())||null;if(c){n=c;const u=s.replace(/\*\*(.*?)\*\*\s*:?/,"").trim();t[n]||(t[n]=[]),u&&u!=="-"&&u.length>5&&t[n].push({insight:i,content:u})}else n?s&&s!=="-"&&s.length>5&&t[n].push({insight:i,content:s}):s&&s.length>10&&s!=="-"&&r.push({insight:i,content:s})}return{grouped:t,ungrouped:r}},MLe=({onLoadingChange:e,onInitialFetchComplete:t})=>{const[r,n]=S.useState(null),[a,i]=S.useState(""),[s,o]=S.useState(!1),[c,u]=S.useState(null),d=async m=>{var w;o(!0),u(null),e(!0);try{m==null||m.throwIfAborted();const{data:g,error:y}=await je.functions.invoke("ai-insights");if(m==null||m.throwIfAborted(),y)throw y;const b=g;if((w=b.assets)!=null&&w.structuredInsights)n(b.assets.structuredInsights),i(b.generatedAt);else throw new Error("Invalid AI insight format.")}catch(g){g.name==="AbortError"?u("AI insights request timed out (120 seconds)."):g&&typeof g=="object"&&"message"in g?u(g.message||"Unknown error fetching AI insights"):u("An unknown error occurred while fetching AI insights."),n(null)}finally{o(!1),e(!1),t()}};if(S.useEffect(()=>{const m=new AbortController,w=setTimeout(()=>m.abort(),12e4);return d(m.signal),()=>{clearTimeout(w),m.abort(),e(!1),t()}},[e,t]),s)return x(or,{children:[l(wr,{children:l(_r,{className:"animate-pulse",children:"AI Suggestions"})}),x(pr,{children:[l(Bl,{className:"h-4 w-full mb-2"}),l(Bl,{className:"h-4 w-full mb-2"}),l(Bl,{className:"h-4 w-full mb-2"})]})]});if(c)return x(ld,{variant:"destructive",children:[l(jl,{className:"h-4 w-4"}),l(cd,{children:"Error"}),l(ud,{children:c})]});if(!r)return null;const{grouped:f,ungrouped:h}=RLe(r);return x("div",{className:"space-y-6",children:[x("div",{className:"flex items-center justify-between",children:[x("div",{className:"text-xl font-semibold flex gap-2 items-center",children:[l(lF,{className:"text-yellow-400"}),"AI Suggestions"]}),x("div",{className:"text-xs text-muted-foreground",children:["Generated: ",new Date(a).toLocaleString()]})]}),x("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[Object.entries(f).map(([m,w],g)=>!w||w.length===0?null:x("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-4 space-y-3 hover:shadow-md transition-all",children:[x("div",{className:"flex items-center justify-between",children:[x("div",{className:"font-semibold text-base flex items-center gap-2",children:[ILe[w[0].insight.type],m]}),x("div",{className:`text-xs px-2 py-1 rounded-full font-medium ${OW[w[0].insight.impact]}`,children:[w[0].insight.impact," Impact"]})]}),l("ul",{className:"space-y-2 text-sm text-gray-700",children:w.map((y,b)=>l("li",{className:"border-l-2 pl-3 border-gray-300",children:y.content},b))})]},g)),h.length>0&&x("div",{className:"bg-white rounded-2xl border border-blue-200 shadow-sm p-4 space-y-3 col-span-full",children:[x("div",{className:"font-semibold text-base flex items-center gap-2",children:[l(lF,{className:"text-purple-500"}),"General Suggestions"]}),l("ul",{className:"space-y-2 text-sm text-gray-700",children:h.map((m,w)=>x("li",{className:"flex justify-between items-start border-l-2 pl-3 border-gray-300",children:[l("span",{children:m.content}),l("span",{className:`text-xs px-2 py-0.5 rounded-full font-medium ${OW[m.insight.impact]}`,children:m.insight.impact})]},w))})]})]})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var e4={};e4.version="0.18.5";var pae=1252,FLe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],zR={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},WR=function(e){FLe.indexOf(e)!=-1&&(pae=zR[0]=e)};function LLe(){WR(1252)}var Hu=function(e){WR(e)};function VR(){Hu(1200),LLe()}function DW(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function jLe(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function mae(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var j2=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?jLe(e.slice(2)):t==254&&r==255?mae(e.slice(2)):t==65279?e.slice(1):e},j_=function(t){return String.fromCharCode(t)},IW=function(t){return String.fromCharCode(t)},OO,Qp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function _w(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),i=r>>2,n=e.charCodeAt(u++),s=(r&3)<<4|n>>4,a=e.charCodeAt(u++),o=(n&15)<<2|a>>6,c=a&63,isNaN(n)?o=c=64:isNaN(a)&&(c=64),t+=Qp.charAt(i)+Qp.charAt(s)+Qp.charAt(o)+Qp.charAt(c);return t}function Nc(e){var t="",r=0,n=0,a=0,i=0,s=0,o=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)i=Qp.indexOf(e.charAt(u++)),s=Qp.indexOf(e.charAt(u++)),r=i<<2|s>>4,t+=String.fromCharCode(r),o=Qp.indexOf(e.charAt(u++)),n=(s&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),c=Qp.indexOf(e.charAt(u++)),a=(o&3)<<6|c,c!==64&&(t+=String.fromCharCode(a));return t}var Pn=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Lh=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Sm(e){return Pn?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function RW(e){return Pn?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var pc=function(t){return Pn?Lh(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function aA(e){if(typeof ArrayBuffer>"u")return pc(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function Bm(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function $Le(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}function HR(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return HR(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var Bs=Pn?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Lh(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function BLe(e){for(var t=[],r=0,n=e.length+250,a=Sm(e.length+255),i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s<128)a[r++]=s;else if(s<2048)a[r++]=192|s>>6&31,a[r++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=e.charCodeAt(++i)&1023;a[r++]=240|s>>8&7,a[r++]=128|s>>2&63,a[r++]=128|o>>6&15|(s&3)<<4,a[r++]=128|o&63}else a[r++]=224|s>>12&15,a[r++]=128|s>>6&63,a[r++]=128|s&63;r>n&&(t.push(a.slice(0,r)),r=0,a=Sm(65535),n=65530)}return t.push(a.slice(0,r)),Bs(t)}var fl=/\u0000/g,$2=/[\u0001-\u0006]/g;function f1(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function Gu(e,t){var r=""+e;return r.length>=t?r:Ti("0",t-r.length)+r}function GR(e,t){var r=""+e;return r.length>=t?r:Ti(" ",t-r.length)+r}function t4(e,t){var r=""+e;return r.length>=t?r:r+Ti(" ",t-r.length)}function ULe(e,t){var r=""+Math.round(e);return r.length>=t?r:Ti("0",t-r.length)+r}function qLe(e,t){var r=""+e;return r.length>=t?r:Ti("0",t-r.length)+r}var MW=Math.pow(2,32);function Rv(e,t){if(e>MW||e<-MW)return ULe(e,t);var r=Math.round(e);return qLe(r,t)}function r4(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var FW=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],vT=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function zLe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',e}var en={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},LW={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},WLe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function n4(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,s=1,o=0,c=1,u=0,d=0,f=Math.floor(a);u<t&&(f=Math.floor(a),o=f*s+i,d=f*u+c,!(a-f<5e-8));)a=1/(a-f),i=s,s=o,c=u,u=d;if(d>t&&(u>t?(d=c,o=i):(d=u,o=s)),!r)return[0,n*o,d];var h=Math.floor(n*o/d);return[h,n*o-h*d,d]}function U0(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),i=0,s=[],o={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++a==86400&&(o.T=a=0,++n,++o.D)),n===60)s=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)s=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),s=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),n<60&&(i=(i+6)%7),r&&(i=XLe(c,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=a%60,a=Math.floor(a/60),o.M=a%60,a=Math.floor(a/60),o.H=a,o.q=i,o}var gae=new Date(1899,11,31,0,0,0),VLe=gae.getTime(),HLe=new Date(1900,2,1,0,0,0);function vae(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=HLe&&(r+=24*60*60*1e3),(r-(VLe+(e.getTimezoneOffset()-gae.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function YR(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function GLe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function YLe(e){var t=e<0?12:11,r=YR(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function KLe(e){var t=YR(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function Sw(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=YLe(e):t===10?r=e.toFixed(10).substr(0,12):r=KLe(e),YR(GLe(r.toUpperCase()))}function gg(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Sw(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return iu(14,vae(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function XLe(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function JLe(e,t,r,n){var a="",i=0,s=0,o=r.y,c,u=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:c=o%100,u=2;break;default:c=o%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return vT[r.m-1][1];case 5:return vT[r.m-1][0];default:return vT[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return FW[r.q][0];default:return FW[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?Gu(r.S,t.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,i=Math.round(s*(r.S+r.u)),i>=60*s&&(i=0),t==="s"?i===0?"0":""+i/s:(a=Gu(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=o,u=1;break}var d=u>0?Gu(c,u):"";return d}function em(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var yae=/%/g;function ZLe(e,t,r){var n=t.replace(yae,""),a=t.length-n.length;return mh(e,n,r*Math.pow(10,2*a))+Ti("%",a)}function QLe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return mh(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function xae(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+xae(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var s=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,u,d){return c+u+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var wae=/# (\?+)( ?)\/( ?)(\d+)/;function e9e(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),s=a-i*n,o=n;return r+(i===0?"":""+i)+" "+(s===0?Ti(" ",e[1].length+1+e[4].length):GR(s,e[1].length)+e[2]+"/"+e[3]+Gu(o,e[4].length))}function t9e(e,t,r){return r+(t===0?"":""+t)+Ti(" ",e[1].length+2+e[4].length)}var bae=/^#*0*\.([0#]+)/,_ae=/\).*[0#]/,Sae=/\(###\) ###\\?-####/;function sl(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function jW(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function $W(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function r9e(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function n9e(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Hc(e,t,r){if(e.charCodeAt(0)===40&&!t.match(_ae)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Hc("n",n,r):"("+Hc("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return QLe(e,t,r);if(t.indexOf("%")!==-1)return ZLe(e,t,r);if(t.indexOf("E")!==-1)return xae(t,r);if(t.charCodeAt(0)===36)return"$"+Hc(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,o,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+Rv(c,t.length);if(t.match(/^[#?]+$/))return a=Rv(r,0),a==="0"&&(a=""),a.length>t.length?a:sl(t.substr(0,t.length-a.length))+a;if(i=t.match(wae))return e9e(i,c,u);if(t.match(/^#+0+$/))return u+Rv(c,t.length-t.indexOf("0"));if(i=t.match(bae))return a=jW(r,i[1].length).replace(/^([^\.]+)$/,"$1."+sl(i[1])).replace(/\.$/,"."+sl(i[1])).replace(/\.(\d*)$/,function(w,g){return"."+g+Ti("0",sl(i[1]).length-g.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+jW(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+em(Rv(c,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Hc(e,t,-r):em(""+(Math.floor(r)+r9e(r,i[1].length)))+"."+Gu($W(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return Hc(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=f1(Hc(e,t.replace(/[\\-]/g,""),r)),s=0,f1(f1(t.replace(/\\/g,"")).replace(/[0#]/g,function(w){return s<a.length?a.charAt(s++):w==="0"?"0":""}));if(t.match(Sae))return a=Hc(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=n4(c,Math.pow(10,s)-1,!1),a=""+u,d=mh("n",i[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=t4(o[2],s),d.length<i[4].length&&(d=sl(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=n4(c,Math.pow(10,s)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?GR(o[1],s)+i[2]+"/"+i[3]+t4(o[2],s):Ti(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=Rv(r,0),t.length<=a.length?a:sl(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var f=t.indexOf(".")-s,h=t.length-a.length-f;return sl(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return s=$W(r,i[1].length),r<0?"-"+Hc(e,t,-r):em(n9e(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(w){return"00,"+(w.length<3?Gu(0,3-w.length):"")+w})+"."+Gu(s,i[1].length);switch(t){case"###,##0.00":return Hc(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var m=em(Rv(c,0));return m!=="0"?u+m:"";case"###,###.00":return Hc(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Hc(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function a9e(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return mh(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function i9e(e,t,r){var n=t.replace(yae,""),a=t.length-n.length;return mh(e,n,r*Math.pow(10,2*a))+Ti("%",a)}function Nae(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+Nae(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var s=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,u,d){return c+u+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function qd(e,t,r){if(e.charCodeAt(0)===40&&!t.match(_ae)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?qd("n",n,r):"("+qd("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return a9e(e,t,r);if(t.indexOf("%")!==-1)return i9e(e,t,r);if(t.indexOf("E")!==-1)return Nae(t,r);if(t.charCodeAt(0)===36)return"$"+qd(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,o,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+Gu(c,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:sl(t.substr(0,t.length-a.length))+a;if(i=t.match(wae))return t9e(i,c,u);if(t.match(/^#+0+$/))return u+Gu(c,t.length-t.indexOf("0"));if(i=t.match(bae))return a=(""+r).replace(/^([^\.]+)$/,"$1."+sl(i[1])).replace(/\.$/,"."+sl(i[1])),a=a.replace(/\.(\d*)$/,function(w,g){return"."+g+Ti("0",sl(i[1]).length-g.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+em(""+c);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+qd(e,t,-r):em(""+r)+"."+Ti("0",i[1].length);if(i=t.match(/^#,#*,#0/))return qd(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=f1(qd(e,t.replace(/[\\-]/g,""),r)),s=0,f1(f1(t.replace(/\\/g,"")).replace(/[0#]/g,function(w){return s<a.length?a.charAt(s++):w==="0"?"0":""}));if(t.match(Sae))return a=qd(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=n4(c,Math.pow(10,s)-1,!1),a=""+u,d=mh("n",i[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=t4(o[2],s),d.length<i[4].length&&(d=sl(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=n4(c,Math.pow(10,s)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?GR(o[1],s)+i[2]+"/"+i[3]+t4(o[2],s):Ti(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:sl(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var f=t.indexOf(".")-s,h=t.length-a.length-f;return sl(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+qd(e,t,-r):em(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(w){return"00,"+(w.length<3?Gu(0,3-w.length):"")+w})+"."+Gu(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var m=em(""+c);return m!=="0"?u+m:"";default:if(t.match(/\.[0#?]*$/))return qd(e,t.slice(0,t.lastIndexOf(".")),r)+sl(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function mh(e,t,r){return(r|0)===r?qd(e,t,r):Hc(e,t,r)}function s9e(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var Aae=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Ty(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":r4(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="上午/下午")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(Aae))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function o9e(e,t,r,n){for(var a=[],i="",s=0,o="",c="t",u,d,f,h="H";s<e.length;)switch(o=e.charAt(s)){case"G":if(!r4(e,s))throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"G",v:"General"},s+=7;break;case'"':for(i="";(f=e.charCodeAt(++s))!==34&&s<e.length;)i+=String.fromCharCode(f);a[a.length]={t:"t",v:i},++s;break;case"\\":var m=e.charAt(++s),w=m==="("||m===")"?m:"t";a[a.length]={t:w,v:m},++s;break;case"_":a[a.length]={t:"t",v:" "},s+=2;break;case"@":a[a.length]={t:"T",v:t},++s;break;case"B":case"b":if(e.charAt(s+1)==="1"||e.charAt(s+1)==="2"){if(u==null&&(u=U0(t,r,e.charAt(s+1)==="2"),u==null))return"";a[a.length]={t:"X",v:e.substr(s,2)},c=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=U0(t,r),u==null))return"";for(i=o;++s<e.length&&e.charAt(s).toLowerCase()===o;)i+=o;o==="m"&&c.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=h),a[a.length]={t:o,v:i},c=o;break;case"A":case"a":case"上":var g={t:o,v:o};if(u==null&&(u=U0(t,r)),e.substr(s,3).toUpperCase()==="A/P"?(u!=null&&(g.v=u.H>=12?"P":"A"),g.t="T",h="h",s+=3):e.substr(s,5).toUpperCase()==="AM/PM"?(u!=null&&(g.v=u.H>=12?"PM":"AM"),g.t="T",s+=5,h="h"):e.substr(s,5).toUpperCase()==="上午/下午"?(u!=null&&(g.v=u.H>=12?"下午":"上午"),g.t="T",s+=5,h="h"):(g.t="t",++s),u==null&&g.t==="T")return"";a[a.length]=g,c=o;break;case"[":for(i=o;e.charAt(s++)!=="]"&&s<e.length;)i+=e.charAt(s);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(Aae)){if(u==null&&(u=U0(t,r),u==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",Ty(e)||(a[a.length]={t:"t",v:i}));break;case".":if(u!=null){for(i=o;++s<e.length&&(o=e.charAt(s))==="0";)i+=o;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=o;++s<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(s))>-1;)i+=o;a[a.length]={t:"n",v:i};break;case"?":for(i=o;e.charAt(++s)===o;)i+=o;a[a.length]={t:o,v:i},c=o;break;case"*":++s,(e.charAt(s)==" "||e.charAt(s)=="*")&&++s;break;case"(":case")":a[a.length]={t:n===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=o;s<e.length&&"0123456789".indexOf(e.charAt(++s))>-1;)i+=e.charAt(s);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:o,v:o},++s;break;case"$":a[a.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"t",v:o},++s;break}var y=0,b=0,_;for(s=a.length-1,c="t";s>=0;--s)switch(a[s].t){case"h":case"H":a[s].t=h,c="h",y<1&&(y=1);break;case"s":(_=a[s].v.match(/\.0+$/))&&(b=Math.max(b,_[0].length-1)),y<3&&(y=3);case"d":case"y":case"M":case"e":c=a[s].t;break;case"m":c==="s"&&(a[s].t="M",y<2&&(y=2));break;case"X":break;case"Z":y<1&&a[s].v.match(/[Hh]/)&&(y=1),y<2&&a[s].v.match(/[Mm]/)&&(y=2),y<3&&a[s].v.match(/[Ss]/)&&(y=3)}switch(y){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var N="",E;for(s=0;s<a.length;++s)switch(a[s].t){case"t":case"T":case" ":case"D":break;case"X":a[s].v="",a[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[s].v=JLe(a[s].t.charCodeAt(0),a[s].v,u,b),a[s].t="t";break;case"n":case"?":for(E=s+1;a[E]!=null&&((o=a[E].t)==="?"||o==="D"||(o===" "||o==="t")&&a[E+1]!=null&&(a[E+1].t==="?"||a[E+1].t==="t"&&a[E+1].v==="/")||a[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(a[E].v==="/"||a[E].v===" "&&a[E+1]!=null&&a[E+1].t=="?"));)a[s].v+=a[E].v,a[E]={v:"",t:";"},++E;N+=a[s].v,s=E-1;break;case"G":a[s].t="t",a[s].v=gg(t,r);break}var C="",O,P;if(N.length>0){N.charCodeAt(0)==40?(O=t<0&&N.charCodeAt(0)===45?-t:t,P=mh("n",N,O)):(O=t<0&&n>1?-t:t,P=mh("n",N,O),O<0&&a[0]&&a[0].t=="t"&&(P=P.substr(1),a[0].v="-"+a[0].v)),E=P.length-1;var M=a.length;for(s=0;s<a.length;++s)if(a[s]!=null&&a[s].t!="t"&&a[s].v.indexOf(".")>-1){M=s;break}var L=a.length;if(M===a.length&&P.indexOf("E")===-1){for(s=a.length-1;s>=0;--s)a[s]==null||"n?".indexOf(a[s].t)===-1||(E>=a[s].v.length-1?(E-=a[s].v.length,a[s].v=P.substr(E+1,a[s].v.length)):E<0?a[s].v="":(a[s].v=P.substr(0,E+1),E=-1),a[s].t="t",L=s);E>=0&&L<a.length&&(a[L].v=P.substr(0,E+1)+a[L].v)}else if(M!==a.length&&P.indexOf("E")===-1){for(E=P.indexOf(".")-1,s=M;s>=0;--s)if(!(a[s]==null||"n?".indexOf(a[s].t)===-1)){for(d=a[s].v.indexOf(".")>-1&&s===M?a[s].v.indexOf(".")-1:a[s].v.length-1,C=a[s].v.substr(d+1);d>=0;--d)E>=0&&(a[s].v.charAt(d)==="0"||a[s].v.charAt(d)==="#")&&(C=P.charAt(E--)+C);a[s].v=C,a[s].t="t",L=s}for(E>=0&&L<a.length&&(a[L].v=P.substr(0,E+1)+a[L].v),E=P.indexOf(".")+1,s=M;s<a.length;++s)if(!(a[s]==null||"n?(".indexOf(a[s].t)===-1&&s!==M)){for(d=a[s].v.indexOf(".")>-1&&s===M?a[s].v.indexOf(".")+1:0,C=a[s].v.substr(0,d);d<a[s].v.length;++d)E<P.length&&(C+=P.charAt(E++));a[s].v=C,a[s].t="t",L=s}}}for(s=0;s<a.length;++s)a[s]!=null&&"n?".indexOf(a[s].t)>-1&&(O=n>1&&t<0&&s>0&&a[s-1].v==="-"?-t:t,a[s].v=mh(a[s].t,a[s].v,O),a[s].t="t");var j="";for(s=0;s!==a.length;++s)a[s]!=null&&(j+=a[s].v);return j}var BW=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function UW(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function l9e(e,t){var r=s9e(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var s=r[0].match(BW),o=r[1].match(BW);return UW(t,s)?[n,r[0]]:UW(t,o)?[n,r[1]]:[n,r[s!=null&&o!=null?2:1]]}return[n,i]}function iu(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:en)[e],n==null&&(n=r.table&&r.table[LW[e]]||en[LW[e]]),n==null&&(n=WLe[e]||"General");break}if(r4(n,0))return gg(t,r);t instanceof Date&&(t=vae(t,r.date1904));var a=l9e(n,t);if(r4(a[1]))return gg(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return o9e(a[1],t,r,a[0])}function gh(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(en[r]==null){t<0&&(t=r);continue}if(en[r]==e){t=r;break}}t<0&&(t=391)}return en[t]=e,t}function iA(e){for(var t=0;t!=392;++t)e[t]!==void 0&&gh(e[t],t)}function Oy(){en=zLe()}var c9e={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},kae=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function u9e(e){var t=typeof e=="number"?en[e]:e;return t=t.replace(kae,"(\\d+)"),new RegExp("^"+t+"$")}function d9e(e,t,r){var n=-1,a=-1,i=-1,s=-1,o=-1,c=-1;(t.match(kae)||[]).forEach(function(f,h){var m=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=m;break;case"d":i=m;break;case"h":s=m;break;case"s":c=m;break;case"m":s>=0?o=m:a=m;break}}),c>=0&&o==-1&&a>=0&&(o=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return s==-1&&o==-1&&c==-1?u:n==-1&&a==-1&&i==-1?d:u+"T"+d}var f9e=function(){var e={};e.version="1.2.0";function t(){for(var P=0,M=new Array(256),L=0;L!=256;++L)P=L,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,M[L]=P;return typeof Int32Array<"u"?new Int32Array(M):M}var r=t();function n(P){var M=0,L=0,j=0,T=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(j=0;j!=256;++j)T[j]=P[j];for(j=0;j!=256;++j)for(L=P[j],M=256+j;M<4096;M+=256)L=T[M]=L>>>8^P[L&255];var I=[];for(j=1;j!=16;++j)I[j-1]=typeof Int32Array<"u"?T.subarray(j*256,j*256+256):T.slice(j*256,j*256+256);return I}var a=n(r),i=a[0],s=a[1],o=a[2],c=a[3],u=a[4],d=a[5],f=a[6],h=a[7],m=a[8],w=a[9],g=a[10],y=a[11],b=a[12],_=a[13],N=a[14];function E(P,M){for(var L=M^-1,j=0,T=P.length;j<T;)L=L>>>8^r[(L^P.charCodeAt(j++))&255];return~L}function C(P,M){for(var L=M^-1,j=P.length-15,T=0;T<j;)L=N[P[T++]^L&255]^_[P[T++]^L>>8&255]^b[P[T++]^L>>16&255]^y[P[T++]^L>>>24]^g[P[T++]]^w[P[T++]]^m[P[T++]]^h[P[T++]]^f[P[T++]]^d[P[T++]]^u[P[T++]]^c[P[T++]]^o[P[T++]]^s[P[T++]]^i[P[T++]]^r[P[T++]];for(j+=15;T<j;)L=L>>>8^r[(L^P[T++])&255];return~L}function O(P,M){for(var L=M^-1,j=0,T=P.length,I=0,B=0;j<T;)I=P.charCodeAt(j++),I<128?L=L>>>8^r[(L^I)&255]:I<2048?(L=L>>>8^r[(L^(192|I>>6&31))&255],L=L>>>8^r[(L^(128|I&63))&255]):I>=55296&&I<57344?(I=(I&1023)+64,B=P.charCodeAt(j++)&1023,L=L>>>8^r[(L^(240|I>>8&7))&255],L=L>>>8^r[(L^(128|I>>2&63))&255],L=L>>>8^r[(L^(128|B>>6&15|(I&3)<<4))&255],L=L>>>8^r[(L^(128|B&63))&255]):(L=L>>>8^r[(L^(224|I>>12&15))&255],L=L>>>8^r[(L^(128|I>>6&63))&255],L=L>>>8^r[(L^(128|I&63))&255]);return~L}return e.table=r,e.bstr=E,e.buf=C,e.str=O,e}(),zr=function(){var t={};t.version="1.2.1";function r(ce,we){for(var xe=ce.split("/"),Se=we.split("/"),Ae=0,Ne=0,We=Math.min(xe.length,Se.length);Ae<We;++Ae){if(Ne=xe[Ae].length-Se[Ae].length)return Ne;if(xe[Ae]!=Se[Ae])return xe[Ae]<Se[Ae]?-1:1}return xe.length-Se.length}function n(ce){if(ce.charAt(ce.length-1)=="/")return ce.slice(0,-1).indexOf("/")===-1?ce:n(ce.slice(0,-1));var we=ce.lastIndexOf("/");return we===-1?ce:ce.slice(0,we+1)}function a(ce){if(ce.charAt(ce.length-1)=="/")return a(ce.slice(0,-1));var we=ce.lastIndexOf("/");return we===-1?ce:ce.slice(we+1)}function i(ce,we){typeof we=="string"&&(we=new Date(we));var xe=we.getHours();xe=xe<<6|we.getMinutes(),xe=xe<<5|we.getSeconds()>>>1,ce.write_shift(2,xe);var Se=we.getFullYear()-1980;Se=Se<<4|we.getMonth()+1,Se=Se<<5|we.getDate(),ce.write_shift(2,Se)}function s(ce){var we=ce.read_shift(2)&65535,xe=ce.read_shift(2)&65535,Se=new Date,Ae=xe&31;xe>>>=5;var Ne=xe&15;xe>>>=4,Se.setMilliseconds(0),Se.setFullYear(xe+1980),Se.setMonth(Ne-1),Se.setDate(Ae);var We=we&31;we>>>=5;var ft=we&63;return we>>>=6,Se.setHours(we),Se.setMinutes(ft),Se.setSeconds(We<<1),Se}function o(ce){so(ce,0);for(var we={},xe=0;ce.l<=ce.length-4;){var Se=ce.read_shift(2),Ae=ce.read_shift(2),Ne=ce.l+Ae,We={};switch(Se){case 21589:xe=ce.read_shift(1),xe&1&&(We.mtime=ce.read_shift(4)),Ae>5&&(xe&2&&(We.atime=ce.read_shift(4)),xe&4&&(We.ctime=ce.read_shift(4))),We.mtime&&(We.mt=new Date(We.mtime*1e3));break}ce.l=Ne,we[Se]=We}return we}var c;function u(){return c||(c={})}function d(ce,we){if(ce[0]==80&&ce[1]==75)return fr(ce,we);if((ce[0]|32)==109&&(ce[1]|32)==105)return lt(ce,we);if(ce.length<512)throw new Error("CFB file size "+ce.length+" < 512");var xe=3,Se=512,Ae=0,Ne=0,We=0,ft=0,rt=0,ot=[],Ze=ce.slice(0,512);so(Ze,0);var Ft=f(Ze);switch(xe=Ft[0],xe){case 3:Se=512;break;case 4:Se=4096;break;case 0:if(Ft[1]==0)return fr(ce,we);default:throw new Error("Major Version: Expected 3 or 4 saw "+xe)}Se!==512&&(Ze=ce.slice(0,Se),so(Ze,28));var Zt=ce.slice(0,Se);h(Ze,xe);var lr=Ze.read_shift(4,"i");if(xe===3&&lr!==0)throw new Error("# Directory Sectors: Expected 0 saw "+lr);Ze.l+=4,We=Ze.read_shift(4,"i"),Ze.l+=4,Ze.chk("00100000","Mini Stream Cutoff Size: "),ft=Ze.read_shift(4,"i"),Ae=Ze.read_shift(4,"i"),rt=Ze.read_shift(4,"i"),Ne=Ze.read_shift(4,"i");for(var Wt=-1,qt=0;qt<109&&(Wt=Ze.read_shift(4,"i"),!(Wt<0));++qt)ot[qt]=Wt;var rn=m(ce,Se);y(rt,Ne,rn,Se,ot);var zn=_(rn,We,ot,Se);zn[We].name="!Directory",Ae>0&&ft!==B&&(zn[ft].name="!MiniFAT"),zn[ot[0]].name="!FAT",zn.fat_addrs=ot,zn.ssz=Se;var ca={},Va=[],Hl=[],Ac=[];N(We,zn,rn,Va,Ae,ca,Hl,ft),w(Hl,Ac,Va),Va.shift();var Go={FileIndex:Hl,FullPaths:Ac};return we&&we.raw&&(Go.raw={header:Zt,sectors:rn}),Go}function f(ce){if(ce[ce.l]==80&&ce[ce.l+1]==75)return[0,0];ce.chk(G,"Header Signature: "),ce.l+=16;var we=ce.read_shift(2,"u");return[ce.read_shift(2,"u"),we]}function h(ce,we){var xe=9;switch(ce.l+=2,xe=ce.read_shift(2)){case 9:if(we!=3)throw new Error("Sector Shift: Expected 9 saw "+xe);break;case 12:if(we!=4)throw new Error("Sector Shift: Expected 12 saw "+xe);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+xe)}ce.chk("0600","Mini Sector Shift: "),ce.chk("000000000000","Reserved: ")}function m(ce,we){for(var xe=Math.ceil(ce.length/we)-1,Se=[],Ae=1;Ae<xe;++Ae)Se[Ae-1]=ce.slice(Ae*we,(Ae+1)*we);return Se[xe-1]=ce.slice(xe*we),Se}function w(ce,we,xe){for(var Se=0,Ae=0,Ne=0,We=0,ft=0,rt=xe.length,ot=[],Ze=[];Se<rt;++Se)ot[Se]=Ze[Se]=Se,we[Se]=xe[Se];for(;ft<Ze.length;++ft)Se=Ze[ft],Ae=ce[Se].L,Ne=ce[Se].R,We=ce[Se].C,ot[Se]===Se&&(Ae!==-1&&ot[Ae]!==Ae&&(ot[Se]=ot[Ae]),Ne!==-1&&ot[Ne]!==Ne&&(ot[Se]=ot[Ne])),We!==-1&&(ot[We]=Se),Ae!==-1&&Se!=ot[Se]&&(ot[Ae]=ot[Se],Ze.lastIndexOf(Ae)<ft&&Ze.push(Ae)),Ne!==-1&&Se!=ot[Se]&&(ot[Ne]=ot[Se],Ze.lastIndexOf(Ne)<ft&&Ze.push(Ne));for(Se=1;Se<rt;++Se)ot[Se]===Se&&(Ne!==-1&&ot[Ne]!==Ne?ot[Se]=ot[Ne]:Ae!==-1&&ot[Ae]!==Ae&&(ot[Se]=ot[Ae]));for(Se=1;Se<rt;++Se)if(ce[Se].type!==0){if(ft=Se,ft!=ot[ft])do ft=ot[ft],we[Se]=we[ft]+"/"+we[Se];while(ft!==0&&ot[ft]!==-1&&ft!=ot[ft]);ot[Se]=-1}for(we[0]+="/",Se=1;Se<rt;++Se)ce[Se].type!==2&&(we[Se]+="/")}function g(ce,we,xe){for(var Se=ce.start,Ae=ce.size,Ne=[],We=Se;xe&&Ae>0&&We>=0;)Ne.push(we.slice(We*I,We*I+I)),Ae-=I,We=D0(xe,We*4);return Ne.length===0?Pt(0):Bs(Ne).slice(0,ce.size)}function y(ce,we,xe,Se,Ae){var Ne=B;if(ce===B){if(we!==0)throw new Error("DIFAT chain shorter than expected")}else if(ce!==-1){var We=xe[ce],ft=(Se>>>2)-1;if(!We)return;for(var rt=0;rt<ft&&(Ne=D0(We,rt*4))!==B;++rt)Ae.push(Ne);y(D0(We,Se-4),we-1,xe,Se,Ae)}}function b(ce,we,xe,Se,Ae){var Ne=[],We=[];Ae||(Ae=[]);var ft=Se-1,rt=0,ot=0;for(rt=we;rt>=0;){Ae[rt]=!0,Ne[Ne.length]=rt,We.push(ce[rt]);var Ze=xe[Math.floor(rt*4/Se)];if(ot=rt*4&ft,Se<4+ot)throw new Error("FAT boundary crossed: "+rt+" 4 "+Se);if(!ce[Ze])break;rt=D0(ce[Ze],ot)}return{nodes:Ne,data:QW([We])}}function _(ce,we,xe,Se){var Ae=ce.length,Ne=[],We=[],ft=[],rt=[],ot=Se-1,Ze=0,Ft=0,Zt=0,lr=0;for(Ze=0;Ze<Ae;++Ze)if(ft=[],Zt=Ze+we,Zt>=Ae&&(Zt-=Ae),!We[Zt]){rt=[];var Wt=[];for(Ft=Zt;Ft>=0;){Wt[Ft]=!0,We[Ft]=!0,ft[ft.length]=Ft,rt.push(ce[Ft]);var qt=xe[Math.floor(Ft*4/Se)];if(lr=Ft*4&ot,Se<4+lr)throw new Error("FAT boundary crossed: "+Ft+" 4 "+Se);if(!ce[qt]||(Ft=D0(ce[qt],lr),Wt[Ft]))break}Ne[Zt]={nodes:ft,data:QW([rt])}}return Ne}function N(ce,we,xe,Se,Ae,Ne,We,ft){for(var rt=0,ot=Se.length?2:0,Ze=we[ce].data,Ft=0,Zt=0,lr;Ft<Ze.length;Ft+=128){var Wt=Ze.slice(Ft,Ft+128);so(Wt,64),Zt=Wt.read_shift(2),lr=tM(Wt,0,Zt-ot),Se.push(lr);var qt={name:lr,type:Wt.read_shift(1),color:Wt.read_shift(1),L:Wt.read_shift(4,"i"),R:Wt.read_shift(4,"i"),C:Wt.read_shift(4,"i"),clsid:Wt.read_shift(16),state:Wt.read_shift(4,"i"),start:0,size:0},rn=Wt.read_shift(2)+Wt.read_shift(2)+Wt.read_shift(2)+Wt.read_shift(2);rn!==0&&(qt.ct=E(Wt,Wt.l-8));var zn=Wt.read_shift(2)+Wt.read_shift(2)+Wt.read_shift(2)+Wt.read_shift(2);zn!==0&&(qt.mt=E(Wt,Wt.l-8)),qt.start=Wt.read_shift(4,"i"),qt.size=Wt.read_shift(4,"i"),qt.size<0&&qt.start<0&&(qt.size=qt.type=0,qt.start=B,qt.name=""),qt.type===5?(rt=qt.start,Ae>0&&rt!==B&&(we[rt].name="!StreamData")):qt.size>=4096?(qt.storage="fat",we[qt.start]===void 0&&(we[qt.start]=b(xe,qt.start,we.fat_addrs,we.ssz)),we[qt.start].name=qt.name,qt.content=we[qt.start].data.slice(0,qt.size)):(qt.storage="minifat",qt.size<0?qt.size=0:rt!==B&&qt.start!==B&&we[rt]&&(qt.content=g(qt,we[rt].data,(we[ft]||{}).data))),qt.content&&so(qt.content,0),Ne[lr]=qt,We.push(qt)}}function E(ce,we){return new Date((dc(ce,we+4)/1e7*Math.pow(2,32)+dc(ce,we)/1e7-11644473600)*1e3)}function C(ce,we){return u(),d(c.readFileSync(ce),we)}function O(ce,we){var xe=we&&we.type;switch(xe||Pn&&Buffer.isBuffer(ce)&&(xe="buffer"),xe||"base64"){case"file":return C(ce,we);case"base64":return d(pc(Nc(ce)),we);case"binary":return d(pc(ce),we)}return d(ce,we)}function P(ce,we){var xe=we||{},Se=xe.root||"Root Entry";if(ce.FullPaths||(ce.FullPaths=[]),ce.FileIndex||(ce.FileIndex=[]),ce.FullPaths.length!==ce.FileIndex.length)throw new Error("inconsistent CFB structure");ce.FullPaths.length===0&&(ce.FullPaths[0]=Se+"/",ce.FileIndex[0]={name:Se,type:5}),xe.CLSID&&(ce.FileIndex[0].clsid=xe.CLSID),M(ce)}function M(ce){var we="Sh33tJ5";if(!zr.find(ce,"/"+we)){var xe=Pt(4);xe[0]=55,xe[1]=xe[3]=50,xe[2]=54,ce.FileIndex.push({name:we,type:2,content:xe,size:4,L:69,R:69,C:69}),ce.FullPaths.push(ce.FullPaths[0]+we),L(ce)}}function L(ce,we){P(ce);for(var xe=!1,Se=!1,Ae=ce.FullPaths.length-1;Ae>=0;--Ae){var Ne=ce.FileIndex[Ae];switch(Ne.type){case 0:Se?xe=!0:(ce.FileIndex.pop(),ce.FullPaths.pop());break;case 1:case 2:case 5:Se=!0,isNaN(Ne.R*Ne.L*Ne.C)&&(xe=!0),Ne.R>-1&&Ne.L>-1&&Ne.R==Ne.L&&(xe=!0);break;default:xe=!0;break}}if(!(!xe&&!we)){var We=new Date(1987,1,19),ft=0,rt=Object.create?Object.create(null):{},ot=[];for(Ae=0;Ae<ce.FullPaths.length;++Ae)rt[ce.FullPaths[Ae]]=!0,ce.FileIndex[Ae].type!==0&&ot.push([ce.FullPaths[Ae],ce.FileIndex[Ae]]);for(Ae=0;Ae<ot.length;++Ae){var Ze=n(ot[Ae][0]);Se=rt[Ze],Se||(ot.push([Ze,{name:a(Ze).replace("/",""),type:1,clsid:re,ct:We,mt:We,content:null}]),rt[Ze]=!0)}for(ot.sort(function(lr,Wt){return r(lr[0],Wt[0])}),ce.FullPaths=[],ce.FileIndex=[],Ae=0;Ae<ot.length;++Ae)ce.FullPaths[Ae]=ot[Ae][0],ce.FileIndex[Ae]=ot[Ae][1];for(Ae=0;Ae<ot.length;++Ae){var Ft=ce.FileIndex[Ae],Zt=ce.FullPaths[Ae];if(Ft.name=a(Zt).replace("/",""),Ft.L=Ft.R=Ft.C=-(Ft.color=1),Ft.size=Ft.content?Ft.content.length:0,Ft.start=0,Ft.clsid=Ft.clsid||re,Ae===0)Ft.C=ot.length>1?1:-1,Ft.size=0,Ft.type=5;else if(Zt.slice(-1)=="/"){for(ft=Ae+1;ft<ot.length&&n(ce.FullPaths[ft])!=Zt;++ft);for(Ft.C=ft>=ot.length?-1:ft,ft=Ae+1;ft<ot.length&&n(ce.FullPaths[ft])!=n(Zt);++ft);Ft.R=ft>=ot.length?-1:ft,Ft.type=1}else n(ce.FullPaths[Ae+1]||"")==n(Zt)&&(Ft.R=Ae+1),Ft.type=2}}}function j(ce,we){var xe=we||{};if(xe.fileType=="mad")return yt(ce,xe);switch(L(ce),xe.fileType){case"zip":return hn(ce,xe)}var Se=function(lr){for(var Wt=0,qt=0,rn=0;rn<lr.FileIndex.length;++rn){var zn=lr.FileIndex[rn];if(zn.content){var ca=zn.content.length;ca>0&&(ca<4096?Wt+=ca+63>>6:qt+=ca+511>>9)}}for(var Va=lr.FullPaths.length+3>>2,Hl=Wt+7>>3,Ac=Wt+127>>7,Go=Hl+qt+Va+Ac,_i=Go+127>>7,kc=_i<=109?0:Math.ceil((_i-109)/127);Go+_i+kc+127>>7>_i;)kc=++_i<=109?0:Math.ceil((_i-109)/127);var Ha=[1,kc,_i,Ac,Va,qt,Wt,0];return lr.FileIndex[0].size=Wt<<6,Ha[7]=(lr.FileIndex[0].start=Ha[0]+Ha[1]+Ha[2]+Ha[3]+Ha[4]+Ha[5])+(Ha[6]+7>>3),Ha}(ce),Ae=Pt(Se[7]<<9),Ne=0,We=0;{for(Ne=0;Ne<8;++Ne)Ae.write_shift(1,Z[Ne]);for(Ne=0;Ne<8;++Ne)Ae.write_shift(2,0);for(Ae.write_shift(2,62),Ae.write_shift(2,3),Ae.write_shift(2,65534),Ae.write_shift(2,9),Ae.write_shift(2,6),Ne=0;Ne<3;++Ne)Ae.write_shift(2,0);for(Ae.write_shift(4,0),Ae.write_shift(4,Se[2]),Ae.write_shift(4,Se[0]+Se[1]+Se[2]+Se[3]-1),Ae.write_shift(4,0),Ae.write_shift(4,4096),Ae.write_shift(4,Se[3]?Se[0]+Se[1]+Se[2]-1:B),Ae.write_shift(4,Se[3]),Ae.write_shift(-4,Se[1]?Se[0]-1:B),Ae.write_shift(4,Se[1]),Ne=0;Ne<109;++Ne)Ae.write_shift(-4,Ne<Se[2]?Se[1]+Ne:-1)}if(Se[1])for(We=0;We<Se[1];++We){for(;Ne<236+We*127;++Ne)Ae.write_shift(-4,Ne<Se[2]?Se[1]+Ne:-1);Ae.write_shift(-4,We===Se[1]-1?B:We+1)}var ft=function(lr){for(We+=lr;Ne<We-1;++Ne)Ae.write_shift(-4,Ne+1);lr&&(++Ne,Ae.write_shift(-4,B))};for(We=Ne=0,We+=Se[1];Ne<We;++Ne)Ae.write_shift(-4,W.DIFSECT);for(We+=Se[2];Ne<We;++Ne)Ae.write_shift(-4,W.FATSECT);ft(Se[3]),ft(Se[4]);for(var rt=0,ot=0,Ze=ce.FileIndex[0];rt<ce.FileIndex.length;++rt)Ze=ce.FileIndex[rt],Ze.content&&(ot=Ze.content.length,!(ot<4096)&&(Ze.start=We,ft(ot+511>>9)));for(ft(Se[6]+7>>3);Ae.l&511;)Ae.write_shift(-4,W.ENDOFCHAIN);for(We=Ne=0,rt=0;rt<ce.FileIndex.length;++rt)Ze=ce.FileIndex[rt],Ze.content&&(ot=Ze.content.length,!(!ot||ot>=4096)&&(Ze.start=We,ft(ot+63>>6)));for(;Ae.l&511;)Ae.write_shift(-4,W.ENDOFCHAIN);for(Ne=0;Ne<Se[4]<<2;++Ne){var Ft=ce.FullPaths[Ne];if(!Ft||Ft.length===0){for(rt=0;rt<17;++rt)Ae.write_shift(4,0);for(rt=0;rt<3;++rt)Ae.write_shift(4,-1);for(rt=0;rt<12;++rt)Ae.write_shift(4,0);continue}Ze=ce.FileIndex[Ne],Ne===0&&(Ze.start=Ze.size?Ze.start-1:B);var Zt=Ne===0&&xe.root||Ze.name;if(ot=2*(Zt.length+1),Ae.write_shift(64,Zt,"utf16le"),Ae.write_shift(2,ot),Ae.write_shift(1,Ze.type),Ae.write_shift(1,Ze.color),Ae.write_shift(-4,Ze.L),Ae.write_shift(-4,Ze.R),Ae.write_shift(-4,Ze.C),Ze.clsid)Ae.write_shift(16,Ze.clsid,"hex");else for(rt=0;rt<4;++rt)Ae.write_shift(4,0);Ae.write_shift(4,Ze.state||0),Ae.write_shift(4,0),Ae.write_shift(4,0),Ae.write_shift(4,0),Ae.write_shift(4,0),Ae.write_shift(4,Ze.start),Ae.write_shift(4,Ze.size),Ae.write_shift(4,0)}for(Ne=1;Ne<ce.FileIndex.length;++Ne)if(Ze=ce.FileIndex[Ne],Ze.size>=4096)if(Ae.l=Ze.start+1<<9,Pn&&Buffer.isBuffer(Ze.content))Ze.content.copy(Ae,Ae.l,0,Ze.size),Ae.l+=Ze.size+511&-512;else{for(rt=0;rt<Ze.size;++rt)Ae.write_shift(1,Ze.content[rt]);for(;rt&511;++rt)Ae.write_shift(1,0)}for(Ne=1;Ne<ce.FileIndex.length;++Ne)if(Ze=ce.FileIndex[Ne],Ze.size>0&&Ze.size<4096)if(Pn&&Buffer.isBuffer(Ze.content))Ze.content.copy(Ae,Ae.l,0,Ze.size),Ae.l+=Ze.size+63&-64;else{for(rt=0;rt<Ze.size;++rt)Ae.write_shift(1,Ze.content[rt]);for(;rt&63;++rt)Ae.write_shift(1,0)}if(Pn)Ae.l=Ae.length;else for(;Ae.l<Ae.length;)Ae.write_shift(1,0);return Ae}function T(ce,we){var xe=ce.FullPaths.map(function(rt){return rt.toUpperCase()}),Se=xe.map(function(rt){var ot=rt.split("/");return ot[ot.length-(rt.slice(-1)=="/"?2:1)]}),Ae=!1;we.charCodeAt(0)===47?(Ae=!0,we=xe[0].slice(0,-1)+we):Ae=we.indexOf("/")!==-1;var Ne=we.toUpperCase(),We=Ae===!0?xe.indexOf(Ne):Se.indexOf(Ne);if(We!==-1)return ce.FileIndex[We];var ft=!Ne.match($2);for(Ne=Ne.replace(fl,""),ft&&(Ne=Ne.replace($2,"!")),We=0;We<xe.length;++We)if((ft?xe[We].replace($2,"!"):xe[We]).replace(fl,"")==Ne||(ft?Se[We].replace($2,"!"):Se[We]).replace(fl,"")==Ne)return ce.FileIndex[We];return null}var I=64,B=-2,G="d0cf11e0a1b11ae1",Z=[208,207,17,224,161,177,26,225],re="00000000000000000000000000000000",W={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:B,FREESECT:-1,HEADER_SIGNATURE:G,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:re,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function z(ce,we,xe){u();var Se=j(ce,xe);c.writeFileSync(we,Se)}function U(ce){for(var we=new Array(ce.length),xe=0;xe<ce.length;++xe)we[xe]=String.fromCharCode(ce[xe]);return we.join("")}function Y(ce,we){var xe=j(ce,we);switch(we&&we.type||"buffer"){case"file":return u(),c.writeFileSync(we.filename,xe),xe;case"binary":return typeof xe=="string"?xe:U(xe);case"base64":return _w(typeof xe=="string"?xe:U(xe));case"buffer":if(Pn)return Buffer.isBuffer(xe)?xe:Lh(xe);case"array":return typeof xe=="string"?pc(xe):xe}return xe}var Q;function D(ce){try{var we=ce.InflateRaw,xe=new we;if(xe._processChunk(new Uint8Array([3,0]),xe._finishFlushFlag),xe.bytesRead)Q=ce;else throw new Error("zlib does not expose bytesRead")}catch(Se){console.error("cannot use native zlib: "+(Se.message||Se))}}function K(ce,we){if(!Q)return gr(ce,we);var xe=Q.InflateRaw,Se=new xe,Ae=Se._processChunk(ce.slice(ce.l),Se._finishFlushFlag);return ce.l+=Se.bytesRead,Ae}function J(ce){return Q?Q.deflateRawSync(ce):Nt(ce)}var ne=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ie=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],oe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ue(ce){var we=(ce<<1|ce<<11)&139536|(ce<<5|ce<<15)&558144;return(we>>16|we>>8|we)&255}for(var V=typeof Uint8Array<"u",se=V?new Uint8Array(256):[],fe=0;fe<256;++fe)se[fe]=ue(fe);function te(ce,we){var xe=se[ce&255];return we<=8?xe>>>8-we:(xe=xe<<8|se[ce>>8&255],we<=16?xe>>>16-we:(xe=xe<<8|se[ce>>16&255],xe>>>24-we))}function Ee(ce,we){var xe=we&7,Se=we>>>3;return(ce[Se]|(xe<=6?0:ce[Se+1]<<8))>>>xe&3}function Fe(ce,we){var xe=we&7,Se=we>>>3;return(ce[Se]|(xe<=5?0:ce[Se+1]<<8))>>>xe&7}function Pe(ce,we){var xe=we&7,Se=we>>>3;return(ce[Se]|(xe<=4?0:ce[Se+1]<<8))>>>xe&15}function ve(ce,we){var xe=we&7,Se=we>>>3;return(ce[Se]|(xe<=3?0:ce[Se+1]<<8))>>>xe&31}function Ge(ce,we){var xe=we&7,Se=we>>>3;return(ce[Se]|(xe<=1?0:ce[Se+1]<<8))>>>xe&127}function ht(ce,we,xe){var Se=we&7,Ae=we>>>3,Ne=(1<<xe)-1,We=ce[Ae]>>>Se;return xe<8-Se||(We|=ce[Ae+1]<<8-Se,xe<16-Se)||(We|=ce[Ae+2]<<16-Se,xe<24-Se)||(We|=ce[Ae+3]<<24-Se),We&Ne}function at(ce,we,xe){var Se=we&7,Ae=we>>>3;return Se<=5?ce[Ae]|=(xe&7)<<Se:(ce[Ae]|=xe<<Se&255,ce[Ae+1]=(xe&7)>>8-Se),we+3}function St(ce,we,xe){var Se=we&7,Ae=we>>>3;return xe=(xe&1)<<Se,ce[Ae]|=xe,we+1}function wt(ce,we,xe){var Se=we&7,Ae=we>>>3;return xe<<=Se,ce[Ae]|=xe&255,xe>>>=8,ce[Ae+1]=xe,we+8}function _e(ce,we,xe){var Se=we&7,Ae=we>>>3;return xe<<=Se,ce[Ae]|=xe&255,xe>>>=8,ce[Ae+1]=xe&255,ce[Ae+2]=xe>>>8,we+16}function ge(ce,we){var xe=ce.length,Se=2*xe>we?2*xe:we+5,Ae=0;if(xe>=we)return ce;if(Pn){var Ne=RW(Se);if(ce.copy)ce.copy(Ne);else for(;Ae<ce.length;++Ae)Ne[Ae]=ce[Ae];return Ne}else if(V){var We=new Uint8Array(Se);if(We.set)We.set(ce);else for(;Ae<xe;++Ae)We[Ae]=ce[Ae];return We}return ce.length=Se,ce}function Ce(ce){for(var we=new Array(ce),xe=0;xe<ce;++xe)we[xe]=0;return we}function Je(ce,we,xe){var Se=1,Ae=0,Ne=0,We=0,ft=0,rt=ce.length,ot=V?new Uint16Array(32):Ce(32);for(Ne=0;Ne<32;++Ne)ot[Ne]=0;for(Ne=rt;Ne<xe;++Ne)ce[Ne]=0;rt=ce.length;var Ze=V?new Uint16Array(rt):Ce(rt);for(Ne=0;Ne<rt;++Ne)ot[Ae=ce[Ne]]++,Se<Ae&&(Se=Ae),Ze[Ne]=0;for(ot[0]=0,Ne=1;Ne<=Se;++Ne)ot[Ne+16]=ft=ft+ot[Ne-1]<<1;for(Ne=0;Ne<rt;++Ne)ft=ce[Ne],ft!=0&&(Ze[Ne]=ot[ft+16]++);var Ft=0;for(Ne=0;Ne<rt;++Ne)if(Ft=ce[Ne],Ft!=0)for(ft=te(Ze[Ne],Se)>>Se-Ft,We=(1<<Se+4-Ft)-1;We>=0;--We)we[ft|We<<Ft]=Ft&15|Ne<<4;return Se}var Qe=V?new Uint16Array(512):Ce(512),Xe=V?new Uint16Array(32):Ce(32);if(!V){for(var Ke=0;Ke<512;++Ke)Qe[Ke]=0;for(Ke=0;Ke<32;++Ke)Xe[Ke]=0}(function(){for(var ce=[],we=0;we<32;we++)ce.push(5);Je(ce,Xe,32);var xe=[];for(we=0;we<=143;we++)xe.push(8);for(;we<=255;we++)xe.push(9);for(;we<=279;we++)xe.push(7);for(;we<=287;we++)xe.push(8);Je(xe,Qe,288)})();var At=function(){for(var we=V?new Uint8Array(32768):[],xe=0,Se=0;xe<oe.length-1;++xe)for(;Se<oe[xe+1];++Se)we[Se]=xe;for(;Se<32768;++Se)we[Se]=29;var Ae=V?new Uint8Array(259):[];for(xe=0,Se=0;xe<ie.length-1;++xe)for(;Se<ie[xe+1];++Se)Ae[Se]=xe;function Ne(ft,rt){for(var ot=0;ot<ft.length;){var Ze=Math.min(65535,ft.length-ot),Ft=ot+Ze==ft.length;for(rt.write_shift(1,+Ft),rt.write_shift(2,Ze),rt.write_shift(2,~Ze&65535);Ze-- >0;)rt[rt.l++]=ft[ot++]}return rt.l}function We(ft,rt){for(var ot=0,Ze=0,Ft=V?new Uint16Array(32768):[];Ze<ft.length;){var Zt=Math.min(65535,ft.length-Ze);if(Zt<10){for(ot=at(rt,ot,+(Ze+Zt==ft.length)),ot&7&&(ot+=8-(ot&7)),rt.l=ot/8|0,rt.write_shift(2,Zt),rt.write_shift(2,~Zt&65535);Zt-- >0;)rt[rt.l++]=ft[Ze++];ot=rt.l*8;continue}ot=at(rt,ot,+(Ze+Zt==ft.length)+2);for(var lr=0;Zt-- >0;){var Wt=ft[Ze];lr=(lr<<5^Wt)&32767;var qt=-1,rn=0;if((qt=Ft[lr])&&(qt|=Ze&-32768,qt>Ze&&(qt-=32768),qt<Ze))for(;ft[qt+rn]==ft[Ze+rn]&&rn<250;)++rn;if(rn>2){Wt=Ae[rn],Wt<=22?ot=wt(rt,ot,se[Wt+1]>>1)-1:(wt(rt,ot,3),ot+=5,wt(rt,ot,se[Wt-23]>>5),ot+=3);var zn=Wt<8?0:Wt-4>>2;zn>0&&(_e(rt,ot,rn-ie[Wt]),ot+=zn),Wt=we[Ze-qt],ot=wt(rt,ot,se[Wt]>>3),ot-=3;var ca=Wt<4?0:Wt-2>>1;ca>0&&(_e(rt,ot,Ze-qt-oe[Wt]),ot+=ca);for(var Va=0;Va<rn;++Va)Ft[lr]=Ze&32767,lr=(lr<<5^ft[Ze])&32767,++Ze;Zt-=rn-1}else Wt<=143?Wt=Wt+48:ot=St(rt,ot,1),ot=wt(rt,ot,se[Wt]),Ft[lr]=Ze&32767,++Ze}ot=wt(rt,ot,0)-1}return rt.l=(ot+7)/8|0,rt.l}return function(rt,ot){return rt.length<8?Ne(rt,ot):We(rt,ot)}}();function Nt(ce){var we=Pt(50+Math.floor(ce.length*1.1)),xe=At(ce,we);return we.slice(0,xe)}var vt=V?new Uint16Array(32768):Ce(32768),Tr=V?new Uint16Array(32768):Ce(32768),cr=V?new Uint16Array(128):Ce(128),Nn=1,ct=1;function Dt(ce,we){var xe=ve(ce,we)+257;we+=5;var Se=ve(ce,we)+1;we+=5;var Ae=Pe(ce,we)+4;we+=4;for(var Ne=0,We=V?new Uint8Array(19):Ce(19),ft=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],rt=1,ot=V?new Uint8Array(8):Ce(8),Ze=V?new Uint8Array(8):Ce(8),Ft=We.length,Zt=0;Zt<Ae;++Zt)We[ne[Zt]]=Ne=Fe(ce,we),rt<Ne&&(rt=Ne),ot[Ne]++,we+=3;var lr=0;for(ot[0]=0,Zt=1;Zt<=rt;++Zt)Ze[Zt]=lr=lr+ot[Zt-1]<<1;for(Zt=0;Zt<Ft;++Zt)(lr=We[Zt])!=0&&(ft[Zt]=Ze[lr]++);var Wt=0;for(Zt=0;Zt<Ft;++Zt)if(Wt=We[Zt],Wt!=0){lr=se[ft[Zt]]>>8-Wt;for(var qt=(1<<7-Wt)-1;qt>=0;--qt)cr[lr|qt<<Wt]=Wt&7|Zt<<3}var rn=[];for(rt=1;rn.length<xe+Se;)switch(lr=cr[Ge(ce,we)],we+=lr&7,lr>>>=3){case 16:for(Ne=3+Ee(ce,we),we+=2,lr=rn[rn.length-1];Ne-- >0;)rn.push(lr);break;case 17:for(Ne=3+Fe(ce,we),we+=3;Ne-- >0;)rn.push(0);break;case 18:for(Ne=11+Ge(ce,we),we+=7;Ne-- >0;)rn.push(0);break;default:rn.push(lr),rt<lr&&(rt=lr);break}var zn=rn.slice(0,xe),ca=rn.slice(xe);for(Zt=xe;Zt<286;++Zt)zn[Zt]=0;for(Zt=Se;Zt<30;++Zt)ca[Zt]=0;return Nn=Je(zn,vt,286),ct=Je(ca,Tr,30),we}function Vr(ce,we){if(ce[0]==3&&!(ce[1]&3))return[Sm(we),2];for(var xe=0,Se=0,Ae=RW(we||1<<18),Ne=0,We=Ae.length>>>0,ft=0,rt=0;(Se&1)==0;){if(Se=Fe(ce,xe),xe+=3,Se>>>1)Se>>1==1?(ft=9,rt=5):(xe=Dt(ce,xe),ft=Nn,rt=ct);else{xe&7&&(xe+=8-(xe&7));var ot=ce[xe>>>3]|ce[(xe>>>3)+1]<<8;if(xe+=32,ot>0)for(!we&&We<Ne+ot&&(Ae=ge(Ae,Ne+ot),We=Ae.length);ot-- >0;)Ae[Ne++]=ce[xe>>>3],xe+=8;continue}for(;;){!we&&We<Ne+32767&&(Ae=ge(Ae,Ne+32767),We=Ae.length);var Ze=ht(ce,xe,ft),Ft=Se>>>1==1?Qe[Ze]:vt[Ze];if(xe+=Ft&15,Ft>>>=4,(Ft>>>8&255)===0)Ae[Ne++]=Ft;else{if(Ft==256)break;Ft-=257;var Zt=Ft<8?0:Ft-4>>2;Zt>5&&(Zt=0);var lr=Ne+ie[Ft];Zt>0&&(lr+=ht(ce,xe,Zt),xe+=Zt),Ze=ht(ce,xe,rt),Ft=Se>>>1==1?Xe[Ze]:Tr[Ze],xe+=Ft&15,Ft>>>=4;var Wt=Ft<4?0:Ft-2>>1,qt=oe[Ft];for(Wt>0&&(qt+=ht(ce,xe,Wt),xe+=Wt),!we&&We<lr&&(Ae=ge(Ae,lr+100),We=Ae.length);Ne<lr;)Ae[Ne]=Ae[Ne-qt],++Ne}}}return we?[Ae,xe+7>>>3]:[Ae.slice(0,Ne),xe+7>>>3]}function gr(ce,we){var xe=ce.slice(ce.l||0),Se=Vr(xe,we);return ce.l+=Se[1],Se[0]}function Kr(ce,we){if(ce)typeof console<"u"&&console.error(we);else throw new Error(we)}function fr(ce,we){var xe=ce;so(xe,0);var Se=[],Ae=[],Ne={FileIndex:Se,FullPaths:Ae};P(Ne,{root:we.root});for(var We=xe.length-4;(xe[We]!=80||xe[We+1]!=75||xe[We+2]!=5||xe[We+3]!=6)&&We>=0;)--We;xe.l=We+4,xe.l+=4;var ft=xe.read_shift(2);xe.l+=6;var rt=xe.read_shift(4);for(xe.l=rt,We=0;We<ft;++We){xe.l+=20;var ot=xe.read_shift(4),Ze=xe.read_shift(4),Ft=xe.read_shift(2),Zt=xe.read_shift(2),lr=xe.read_shift(2);xe.l+=8;var Wt=xe.read_shift(4),qt=o(xe.slice(xe.l+Ft,xe.l+Ft+Zt));xe.l+=Ft+Zt+lr;var rn=xe.l;xe.l=Wt+4,Er(xe,ot,Ze,Ne,qt),xe.l=rn}return Ne}function Er(ce,we,xe,Se,Ae){ce.l+=2;var Ne=ce.read_shift(2),We=ce.read_shift(2),ft=s(ce);if(Ne&8257)throw new Error("Unsupported ZIP encryption");for(var rt=ce.read_shift(4),ot=ce.read_shift(4),Ze=ce.read_shift(4),Ft=ce.read_shift(2),Zt=ce.read_shift(2),lr="",Wt=0;Wt<Ft;++Wt)lr+=String.fromCharCode(ce[ce.l++]);if(Zt){var qt=o(ce.slice(ce.l,ce.l+Zt));(qt[21589]||{}).mt&&(ft=qt[21589].mt),((Ae||{})[21589]||{}).mt&&(ft=Ae[21589].mt)}ce.l+=Zt;var rn=ce.slice(ce.l,ce.l+ot);switch(We){case 8:rn=K(ce,Ze);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+We)}var zn=!1;Ne&8&&(rt=ce.read_shift(4),rt==134695760&&(rt=ce.read_shift(4),zn=!0),ot=ce.read_shift(4),Ze=ce.read_shift(4)),ot!=we&&Kr(zn,"Bad compressed size: "+we+" != "+ot),Ze!=xe&&Kr(zn,"Bad uncompressed size: "+xe+" != "+Ze),ta(Se,lr,rn,{unsafe:!0,mt:ft})}function hn(ce,we){var xe=we||{},Se=[],Ae=[],Ne=Pt(1),We=xe.compression?8:0,ft=0,rt=0,ot=0,Ze=0,Ft=0,Zt=ce.FullPaths[0],lr=Zt,Wt=ce.FileIndex[0],qt=[],rn=0;for(rt=1;rt<ce.FullPaths.length;++rt)if(lr=ce.FullPaths[rt].slice(Zt.length),Wt=ce.FileIndex[rt],!(!Wt.size||!Wt.content||lr=="Sh33tJ5")){var zn=Ze,ca=Pt(lr.length);for(ot=0;ot<lr.length;++ot)ca.write_shift(1,lr.charCodeAt(ot)&127);ca=ca.slice(0,ca.l),qt[Ft]=f9e.buf(Wt.content,0);var Va=Wt.content;We==8&&(Va=J(Va)),Ne=Pt(30),Ne.write_shift(4,67324752),Ne.write_shift(2,20),Ne.write_shift(2,ft),Ne.write_shift(2,We),Wt.mt?i(Ne,Wt.mt):Ne.write_shift(4,0),Ne.write_shift(-4,qt[Ft]),Ne.write_shift(4,Va.length),Ne.write_shift(4,Wt.content.length),Ne.write_shift(2,ca.length),Ne.write_shift(2,0),Ze+=Ne.length,Se.push(Ne),Ze+=ca.length,Se.push(ca),Ze+=Va.length,Se.push(Va),Ne=Pt(46),Ne.write_shift(4,33639248),Ne.write_shift(2,0),Ne.write_shift(2,20),Ne.write_shift(2,ft),Ne.write_shift(2,We),Ne.write_shift(4,0),Ne.write_shift(-4,qt[Ft]),Ne.write_shift(4,Va.length),Ne.write_shift(4,Wt.content.length),Ne.write_shift(2,ca.length),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(4,0),Ne.write_shift(4,zn),rn+=Ne.l,Ae.push(Ne),rn+=ca.length,Ae.push(ca),++Ft}return Ne=Pt(22),Ne.write_shift(4,101010256),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(2,Ft),Ne.write_shift(2,Ft),Ne.write_shift(4,rn),Ne.write_shift(4,Ze),Ne.write_shift(2,0),Bs([Bs(Se),Bs(Ae),Ne])}var Mr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function hr(ce,we){if(ce.ctype)return ce.ctype;var xe=ce.name||"",Se=xe.match(/\.([^\.]+)$/);return Se&&Mr[Se[1]]||we&&(Se=(xe=we).match(/[\.\\]([^\.\\])+$/),Se&&Mr[Se[1]])?Mr[Se[1]]:"application/octet-stream"}function Zr(ce){for(var we=_w(ce),xe=[],Se=0;Se<we.length;Se+=76)xe.push(we.slice(Se,Se+76));return xe.join(`\r
`)+`\r
`}function Fi(ce){var we=ce.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ot){var Ze=ot.charCodeAt(0).toString(16).toUpperCase();return"="+(Ze.length==1?"0"+Ze:Ze)});we=we.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),we.charAt(0)==`
`&&(we="=0D"+we.slice(1)),we=we.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var xe=[],Se=we.split(`\r
`),Ae=0;Ae<Se.length;++Ae){var Ne=Se[Ae];if(Ne.length==0){xe.push("");continue}for(var We=0;We<Ne.length;){var ft=76,rt=Ne.slice(We,We+ft);rt.charAt(ft-1)=="="?ft--:rt.charAt(ft-2)=="="?ft-=2:rt.charAt(ft-3)=="="&&(ft-=3),rt=Ne.slice(We,We+ft),We+=ft,We<Ne.length&&(rt+="="),xe.push(rt)}}return xe.join(`\r
`)}function la(ce){for(var we=[],xe=0;xe<ce.length;++xe){for(var Se=ce[xe];xe<=ce.length&&Se.charAt(Se.length-1)=="=";)Se=Se.slice(0,Se.length-1)+ce[++xe];we.push(Se)}for(var Ae=0;Ae<we.length;++Ae)we[Ae]=we[Ae].replace(/[=][0-9A-Fa-f]{2}/g,function(Ne){return String.fromCharCode(parseInt(Ne.slice(1),16))});return pc(we.join(`\r
`))}function Wa(ce,we,xe){for(var Se="",Ae="",Ne="",We,ft=0;ft<10;++ft){var rt=we[ft];if(!rt||rt.match(/^\s*$/))break;var ot=rt.match(/^(.*?):\s*([^\s].*)$/);if(ot)switch(ot[1].toLowerCase()){case"content-location":Se=ot[2].trim();break;case"content-type":Ne=ot[2].trim();break;case"content-transfer-encoding":Ae=ot[2].trim();break}}switch(++ft,Ae.toLowerCase()){case"base64":We=pc(Nc(we.slice(ft).join("")));break;case"quoted-printable":We=la(we.slice(ft));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Ae)}var Ze=ta(ce,Se.slice(xe.length),We,{unsafe:!0});Ne&&(Ze.ctype=Ne)}function lt(ce,we){if(U(ce.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var xe=we&&we.root||"",Se=(Pn&&Buffer.isBuffer(ce)?ce.toString("binary"):U(ce)).split(`\r
`),Ae=0,Ne="";for(Ae=0;Ae<Se.length;++Ae)if(Ne=Se[Ae],!!/^Content-Location:/i.test(Ne)&&(Ne=Ne.slice(Ne.indexOf("file")),xe||(xe=Ne.slice(0,Ne.lastIndexOf("/")+1)),Ne.slice(0,xe.length)!=xe))for(;xe.length>0&&(xe=xe.slice(0,xe.length-1),xe=xe.slice(0,xe.lastIndexOf("/")+1),Ne.slice(0,xe.length)!=xe););var We=(Se[1]||"").match(/boundary="(.*?)"/);if(!We)throw new Error("MAD cannot find boundary");var ft="--"+(We[1]||""),rt=[],ot=[],Ze={FileIndex:rt,FullPaths:ot};P(Ze);var Ft,Zt=0;for(Ae=0;Ae<Se.length;++Ae){var lr=Se[Ae];lr!==ft&&lr!==ft+"--"||(Zt++&&Wa(Ze,Se.slice(Ft,Ae),xe),Ft=Ae)}return Ze}function yt(ce,we){var xe=we||{},Se=xe.boundary||"SheetJS";Se="------="+Se;for(var Ae=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+Se.slice(2)+'"',"","",""],Ne=ce.FullPaths[0],We=Ne,ft=ce.FileIndex[0],rt=1;rt<ce.FullPaths.length;++rt)if(We=ce.FullPaths[rt].slice(Ne.length),ft=ce.FileIndex[rt],!(!ft.size||!ft.content||We=="Sh33tJ5")){We=We.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(rn){return"_x"+rn.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(rn){return"_u"+rn.charCodeAt(0).toString(16)+"_"});for(var ot=ft.content,Ze=Pn&&Buffer.isBuffer(ot)?ot.toString("binary"):U(ot),Ft=0,Zt=Math.min(1024,Ze.length),lr=0,Wt=0;Wt<=Zt;++Wt)(lr=Ze.charCodeAt(Wt))>=32&&lr<128&&++Ft;var qt=Ft>=Zt*4/5;Ae.push(Se),Ae.push("Content-Location: "+(xe.root||"file:///C:/SheetJS/")+We),Ae.push("Content-Transfer-Encoding: "+(qt?"quoted-printable":"base64")),Ae.push("Content-Type: "+hr(ft,We)),Ae.push(""),Ae.push(qt?Fi(Ze):Zr(Ze))}return Ae.push(Se+`--\r
`),Ae.join(`\r
`)}function Fr(ce){var we={};return P(we,ce),we}function ta(ce,we,xe,Se){var Ae=Se&&Se.unsafe;Ae||P(ce);var Ne=!Ae&&zr.find(ce,we);if(!Ne){var We=ce.FullPaths[0];we.slice(0,We.length)==We?We=we:(We.slice(-1)!="/"&&(We+="/"),We=(We+we).replace("//","/")),Ne={name:a(we),type:2},ce.FileIndex.push(Ne),ce.FullPaths.push(We),Ae||zr.utils.cfb_gc(ce)}return Ne.content=xe,Ne.size=xe?xe.length:0,Se&&(Se.CLSID&&(Ne.clsid=Se.CLSID),Se.mt&&(Ne.mt=Se.mt),Se.ct&&(Ne.ct=Se.ct)),Ne}function bt(ce,we){P(ce);var xe=zr.find(ce,we);if(xe){for(var Se=0;Se<ce.FileIndex.length;++Se)if(ce.FileIndex[Se]==xe)return ce.FileIndex.splice(Se,1),ce.FullPaths.splice(Se,1),!0}return!1}function gt(ce,we,xe){P(ce);var Se=zr.find(ce,we);if(Se){for(var Ae=0;Ae<ce.FileIndex.length;++Ae)if(ce.FileIndex[Ae]==Se)return ce.FileIndex[Ae].name=a(xe),ce.FullPaths[Ae]=xe,!0}return!1}function Jt(ce){L(ce,!0)}return t.find=T,t.read=O,t.parse=d,t.write=Y,t.writeFile=z,t.utils={cfb_new:Fr,cfb_add:ta,cfb_del:bt,cfb_mov:gt,cfb_gc:Jt,ReadShift:nx,CheckField:Yae,prep_blob:so,bconcat:Bs,use_zlib:D,_deflateRaw:Nt,_inflateRaw:gr,consts:W},t}();function h9e(e){return typeof e=="string"?aA(e):Array.isArray(e)?$Le(e):e}function hb(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=aA(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?Qd(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var a=new Blob([h9e(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var s=document.createElement("a");if(s.download!=null)return s.download=e,s.href=i,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(e);return o.open("w"),o.encoding="binary",Array.isArray(t)&&(t=Bm(t)),o.write(t),o.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function p9e(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function Mi(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function qW(e,t){for(var r=[],n=Mi(e),a=0;a!==n.length;++a)r[e[n[a]][t]]==null&&(r[e[n[a]][t]]=n[a]);return r}function sA(e){for(var t=[],r=Mi(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function oA(e){for(var t=[],r=Mi(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function m9e(e){for(var t=[],r=Mi(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var a4=new Date(1899,11,30,0,0,0);function _s(e,t){var r=e.getTime(),n=a4.getTime()+(e.getTimezoneOffset()-a4.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var Eae=new Date,g9e=a4.getTime()+(Eae.getTimezoneOffset()-a4.getTimezoneOffset())*6e4,zW=Eae.getTimezoneOffset();function lA(e){var t=new Date;return t.setTime(e*24*60*60*1e3+g9e),t.getTimezoneOffset()!==zW&&t.setTime(t.getTime()+(t.getTimezoneOffset()-zW)*6e4),t}function v9e(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=a.length;++i)if(a[i]){switch(r=1,i>3&&(n=!0),a[i].slice(a[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[i].slice(a[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[i],10)}return t}var WW=new Date("2017-02-19T19:06:09.000Z"),Cae=isNaN(WW.getFullYear())?new Date("2/19/17"):WW,y9e=Cae.getFullYear()==2017;function ai(e,t){var r=new Date(e);if(y9e)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(Cae.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function vg(e,t){if(Pn&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return Qd(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return Qd(mae(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return Qd(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return Qd(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function ii(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=ii(e[r]));return t}function Ti(e,t){for(var r="";r.length<t;)r+=e;return r}function Ju(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var x9e=["january","february","march","april","may","june","july","august","september","october","november","december"];function ly(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var s=e.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&x9e.indexOf(s)==-1)return r}else if(s.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var w9e=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var i=r.split(n),s=[i[0]],o=1;o<i.length;++o)s.push(a),s.push(i[o]);return s}}();function Pae(e){return e?e.content&&e.type?vg(e.content,!0):e.data?j2(e.data):e.asNodeBuffer&&Pn?j2(e.asNodeBuffer().toString("binary")):e.asBinary?j2(e.asBinary()):e._data&&e._data.getContent?j2(vg(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function Tae(e){if(!e)return null;if(e.data)return DW(e.data);if(e.asNodeBuffer&&Pn)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?DW(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function b9e(e){return e&&e.name.slice(-4)===".bin"?Tae(e):Pae(e)}function Kc(e,t){for(var r=e.FullPaths||Mi(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),i=0;i<r.length;++i){var s=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==s||a==s)return e.files?e.files[r[i]]:e.FileIndex[i]}return null}function KR(e,t){var r=Kc(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function ls(e,t,r){if(!r)return b9e(KR(e,t));if(!t)return null;try{return ls(e,t)}catch{return null}}function mc(e,t,r){if(!r)return Pae(KR(e,t));if(!t)return null;try{return mc(e,t)}catch{return null}}function _9e(e,t,r){return Tae(KR(e,t))}function VW(e){for(var t=e.FullPaths||Mi(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function En(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Pn?n=Lh(r):n=BLe(r),zr.utils.cfb_add(e,t,n)}zr.utils.cfb_add(e,t,r)}else e.file(t,r)}function XR(){return zr.utils.cfb_new()}function Oae(e,t){switch(t.type){case"base64":return zr.read(e,{type:"base64"});case"binary":return zr.read(e,{type:"binary"});case"buffer":case"array":return zr.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function B2(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var rs=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,S9e=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,HW=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,N9e=/<[^>]*>/g,Ho=rs.match(HW)?HW:N9e,A9e=/<\w*:/,k9e=/<(\/?)\w+:/;function cn(e,t,r){for(var n={},a=0,i=0;a!==e.length&&!((i=e.charCodeAt(a))===32||i===10||i===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var s=e.match(S9e),o=0,c="",u=0,d="",f="",h=1;if(s)for(u=0;u!=s.length;++u){for(f=s[u],i=0;i!=f.length&&f.charCodeAt(i)!==61;++i);for(d=f.slice(0,i).trim();f.charCodeAt(i+1)==32;)++i;for(h=(a=f.charCodeAt(i+1))==34||a==39?1:0,c=f.slice(i+1+h,f.length-h),o=0;o!=d.length&&d.charCodeAt(o)!==58;++o);if(o===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),n[d]=c,n[d.toLowerCase()]=c;else{var m=(o===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(o+1);if(n[m]&&d.slice(o-3,o)=="ext")continue;n[m]=c,n[m.toLowerCase()]=c}}return n}function bf(e){return e.replace(k9e,"<$1")}var Dae={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},JR=sA(Dae),Qn=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",i=a.indexOf("<![CDATA[");if(i==-1)return a.replace(e,function(o,c){return Dae[o]||String.fromCharCode(parseInt(c,o.indexOf("x")>-1?16:10))||o}).replace(t,function(o,c){return String.fromCharCode(parseInt(c,16))});var s=a.indexOf("]]>");return r(a.slice(0,i))+a.slice(i+9,s)+r(a.slice(s+3))}}(),ZR=/[&<>'"]/g,E9e=/[\u0000-\u0008\u000b-\u001f]/g;function Pa(e){var t=e+"";return t.replace(ZR,function(r){return JR[r]}).replace(E9e,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function GW(e){return Pa(e).replace(/ /g,"_x0020_")}var Iae=/[\u0000-\u001f]/g;function QR(e){var t=e+"";return t.replace(ZR,function(r){return JR[r]}).replace(/\n/g,"<br/>").replace(Iae,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function C9e(e){var t=e+"";return t.replace(ZR,function(r){return JR[r]}).replace(Iae,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}var YW=function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}}();function P9e(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function ti(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function yT(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){s=(n&31)<<6,s|=a&63,t+=String.fromCharCode(s);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}s=e.charCodeAt(r++),o=((n&7)<<18|(a&63)<<12|(i&63)<<6|s&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function KW(e){var t=Sm(2*e.length),r,n,a=1,i=0,s=0,o;for(n=0;n<e.length;n+=a)a=1,(o=e.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(n+1)&63),a=2):o<240?(r=(o&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(o&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,s=55296+(r>>>10&1023),r=56320+(r&1023)),s!==0&&(t[i++]=s&255,t[i++]=s>>>8,s=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function XW(e){return Lh(e,"binary").toString("utf8")}var $_="foo bar bazâð£",Da=Pn&&(XW($_)==yT($_)&&XW||KW($_)==yT($_)&&KW)||yT,Qd=Pn?function(e){return Lh(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},Nw=function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),Rae=function(){var e=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),T9e=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),O9e=/<\/?(?:vt:)?variant>/g,D9e=/<(?:vt:)([^>]*)>([\s\S]*)</;function JW(e,t){var r=cn(e),n=e.match(T9e(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(i){var s=i.replace(O9e,"").match(D9e);s&&a.push({v:Da(s[2]),t:s[1]})}),a}var Mae=/(^\s|\s$|\n)/;function lo(e,t){return"<"+e+(t.match(Mae)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function Aw(e){return Mi(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function rr(e,t,r){return"<"+e+(r!=null?Aw(r):"")+(t!=null?(t.match(Mae)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function DO(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function I9e(e,t){switch(typeof e){case"string":var r=rr("vt:lpwstr",Pa(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return rr((e|0)==e?"vt:i4":"vt:r8",Pa(String(e)));case"boolean":return rr("vt:bool",e?"true":"false")}if(e instanceof Date)return rr("vt:filetime",DO(e));throw new Error("Unable to serialize "+e)}function eM(e){if(Pn&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return Da(Bm(HR(e)));throw new Error("Bad input format: expected Buffer or string")}var kw=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,ws={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Rg=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],uc={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function R9e(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function M9e(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,s=n?-t:t;isFinite(s)?s==0?a=i=0:(a=Math.floor(Math.log(s)/Math.LN2),i=s*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var o=0;o<=5;++o,i/=256)e[r+o]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var ZW=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},QW=Pn?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Lh(t)})):ZW(e)}:ZW,eV=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(fh(e,a)));return n.join("").replace(fl,"")},tM=Pn?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(fl,""):eV(e,t,r)}:eV,tV=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},Fae=Pn?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):tV(e,t,r)}:tV,rV=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(Uv(e,a)));return n.join("")},pb=Pn?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):rV(t,r,n)}:rV,Lae=function(e,t){var r=dc(e,t);return r>0?pb(e,t+4,t+4+r-1):""},jae=Lae,$ae=function(e,t){var r=dc(e,t);return r>0?pb(e,t+4,t+4+r-1):""},Bae=$ae,Uae=function(e,t){var r=2*dc(e,t);return r>0?pb(e,t+4,t+4+r-1):""},qae=Uae,zae=function(t,r){var n=dc(t,r);return n>0?tM(t,r+4,r+4+n):""},Wae=zae,Vae=function(e,t){var r=dc(e,t);return r>0?pb(e,t+4,t+4+r):""},Hae=Vae,Gae=function(e,t){return R9e(e,t)},i4=Gae,rM=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Pn&&(jae=function(t,r){if(!Buffer.isBuffer(t))return Lae(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},Bae=function(t,r){if(!Buffer.isBuffer(t))return $ae(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},qae=function(t,r){if(!Buffer.isBuffer(t))return Uae(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},Wae=function(t,r){if(!Buffer.isBuffer(t))return zae(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},Hae=function(t,r){if(!Buffer.isBuffer(t))return Vae(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},i4=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):Gae(t,r)},rM=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Uv=function(e,t){return e[t]},fh=function(e,t){return e[t+1]*256+e[t]},F9e=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},dc=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},D0=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},L9e=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function nx(e,t){var r="",n,a,i=[],s,o,c,u;switch(t){case"dbcs":if(u=this.l,Pn&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(fh(this,u)),u+=2;e*=2;break;case"utf8":r=pb(this,this.l,this.l+e);break;case"utf16le":e*=2,r=tM(this,this.l,this.l+e);break;case"wstr":return nx.call(this,e,"dbcs");case"lpstr-ansi":r=jae(this,this.l),e=4+dc(this,this.l);break;case"lpstr-cp":r=Bae(this,this.l),e=4+dc(this,this.l);break;case"lpwstr":r=qae(this,this.l),e=4+2*dc(this,this.l);break;case"lpp4":e=4+dc(this,this.l),r=Wae(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+dc(this,this.l),r=Hae(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(s=Uv(this,this.l+e++))!==0;)i.push(j_(s));r=i.join("");break;case"_wstr":for(e=0,r="";(s=fh(this,this.l+e))!==0;)i.push(j_(s)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return s=Uv(this,u),this.l=u+1,o=nx.call(this,e-c,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(j_(fh(this,u))),u+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return s=Uv(this,u),this.l=u+1,o=nx.call(this,e-c,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(j_(Uv(this,u))),u+=1}r=i.join("");break;default:switch(e){case 1:return n=Uv(this,this.l),this.l++,n;case 2:return n=(t==="i"?F9e:fh)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(n=(e>0?D0:L9e)(this,this.l),this.l+=4,n):(a=dc(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=i4(this,this.l):a=i4([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=Fae(this,this.l,e);break}}return this.l+=e,r}var j9e=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},$9e=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},B9e=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function U9e(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)B9e(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var s=t.charCodeAt(a);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,j9e(this,t,this.l);break;case 8:if(n=8,r==="f"){M9e(this,t,this.l);break}case 16:break;case-4:n=4,$9e(this,t,this.l);break}return this.l+=n,this}function Yae(e,t){var r=Fae(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function so(e,t){e.l=t,e.read_shift=nx,e.chk=Yae,e.write_shift=U9e}function Vo(e,t){e.l+=t}function Pt(e){var t=Sm(e);return so(t,0),t}function jh(e,t,r){if(e){var n,a,i;so(e,e.l||0);for(var s=e.length,o=0,c=0;e.l<s;){o=e.read_shift(1),o&128&&(o=(o&127)+((e.read_shift(1)&127)<<7));var u=Dw[o]||Dw[65535];for(n=e.read_shift(1),i=n&127,a=1;a<4&&n&128;++a)i+=((n=e.read_shift(1))&127)<<7*a;c=e.l+i;var d=u.f&&u.f(e,i,r);if(e.l=c,t(d,u,o))return}}}function Ul(){var e=[],t=Pn?256:2048,r=function(u){var d=Pt(u);return so(d,0),d},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(u){return n&&u<n.length-n.l?n:(a(),n=r(Math.max(u+1,t)))},s=function(){return a(),Bs(e)},o=function(u){a(),n=u,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:o,end:s,_bufs:e}}function jt(e,t,r,n){var a=+t,i;if(!isNaN(a)){n||(n=Dw[a].p||(r||[]).length||0),i=1+(a>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var s=e.next(i);a<=127?s.write_shift(1,a):(s.write_shift(1,(a&127)+128),s.write_shift(1,a>>7));for(var o=0;o!=4;++o)if(n>=128)s.write_shift(1,(n&127)+128),n>>=7;else{s.write_shift(1,n);break}n>0&&rM(r)&&e.push(r)}}function ax(e,t,r){var n=ii(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function nV(e,t,r){var n=ii(e);return n.s=ax(n.s,t.s,r),n.e=ax(n.e,t.s,r),n}function ix(e,t){if(e.cRel&&e.c<0)for(e=ii(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=ii(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=an(e);return!e.cRel&&e.cRel!=null&&(r=W9e(r)),!e.rRel&&e.rRel!=null&&(r=q9e(r)),r}function xT(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+wi(e.s.c)+":"+(e.e.cRel?"":"$")+wi(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+es(e.s.r)+":"+(e.e.rRel?"":"$")+es(e.e.r):ix(e.s,t.biff)+":"+ix(e.e,t.biff)}function nM(e){return parseInt(z9e(e),10)-1}function es(e){return""+(e+1)}function q9e(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function z9e(e){return e.replace(/\$(\d+)$/,"$1")}function aM(e){for(var t=V9e(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function wi(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function W9e(e){return e.replace(/^([A-Z])/,"$$$1")}function V9e(e){return e.replace(/^\$([A-Z])/,"$1")}function H9e(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function bi(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function an(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function ql(e){var t=e.indexOf(":");return t==-1?{s:bi(e),e:bi(e)}:{s:bi(e.slice(0,t)),e:bi(e.slice(t+1))}}function _n(e,t){return typeof t>"u"||typeof t=="number"?_n(e.s,e.e):(typeof e!="string"&&(e=an(e)),typeof t!="string"&&(t=an(t)),e==t?e:e+":"+t)}function ea(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function aV(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=iu(e.z,r?_s(t):t)}catch{}try{return e.w=iu((e.XF||{}).numFmtId||(r?14:0),r?_s(t):t)}catch{return""+t}}function kh(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?$h[e.v]||e.v:t==null?aV(e,e.v):aV(e,t))}function Um(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function Kae(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,i=e||(a?[]:{}),s=0,o=0;if(i&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var c=typeof n.origin=="string"?bi(n.origin):n.origin;s=c.r,o=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var d=ea(i["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),s==-1&&(u.e.r=s=d.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var m={v:t[f][h]},w=s+f,g=o+h;if(u.s.r>w&&(u.s.r=w),u.s.c>g&&(u.s.c=g),u.e.r<w&&(u.e.r=w),u.e.c<g&&(u.e.c=g),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))m=t[f][h];else if(Array.isArray(m.v)&&(m.f=t[f][h][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(n.nullError)m.t="e",m.v=0;else if(n.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=n.dateNF||en[14],n.cellDates?(m.t="d",m.w=iu(m.z,_s(m.v))):(m.t="n",m.v=_s(m.v),m.w=iu(m.z,m.v))):m.t="s";if(a)i[w]||(i[w]=[]),i[w][g]&&i[w][g].z&&(m.z=i[w][g].z),i[w][g]=m;else{var y=an({c:g,r:w});i[y]&&i[y].z&&(m.z=i[y].z),i[y]=m}}}return u.s.c<1e7&&(i["!ref"]=_n(u)),i}function Dy(e,t){return Kae(null,e,t)}function G9e(e){return e.read_shift(4,"i")}function Zu(e,t){return t||(t=Pt(4)),t.write_shift(4,e),t}function Bo(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function qs(e,t){var r=!1;return t==null&&(r=!0,t=Pt(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function Y9e(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function K9e(e,t){return t||(t=Pt(4)),t.write_shift(2,0),t.write_shift(2,0),t}function iM(e,t){var r=e.l,n=e.read_shift(1),a=Bo(e),i=[],s={t:a,h:a};if((n&1)!==0){for(var o=e.read_shift(4),c=0;c!=o;++c)i.push(Y9e(e));s.r=i}else s.r=[{ich:0,ifnt:0}];return e.l=r+t,s}function X9e(e,t){var r=!1;return t==null&&(r=!0,t=Pt(15+4*e.t.length)),t.write_shift(1,0),qs(e.t,t),r?t.slice(0,t.l):t}var J9e=iM;function Z9e(e,t){var r=!1;return t==null&&(r=!0,t=Pt(23+4*e.t.length)),t.write_shift(1,1),qs(e.t,t),t.write_shift(4,1),K9e({},t),r?t.slice(0,t.l):t}function cu(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Mg(e,t){return t==null&&(t=Pt(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function Fg(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function Lg(e,t){return t==null&&(t=Pt(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var Q9e=Bo,Xae=qs;function sM(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function s4(e,t){var r=!1;return t==null&&(r=!0,t=Pt(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var eje=Bo,IO=sM,oM=s4;function lM(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?i4([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):D0(t,0)>>2;return r?a/100:a}function Jae(e,t){t==null&&(t=Pt(4));var r=0,n=0,a=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?n=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function Zae(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function tje(e,t){return t||(t=Pt(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var jg=Zae,Iy=tje;function jo(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function yg(e,t){return(t||Pt(8)).write_shift(8,e,"f")}function rje(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),s=e.read_shift(1),o=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var u=Y0[a];u&&(t.rgb=Cw(u));break;case 2:t.rgb=Cw([s,o,c]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function o4(e,t){if(t||(t=Pt(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function nje(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function aje(e,t){t||(t=Pt(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}function Qae(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function ije(e){return Qae(e,1)}function sje(e){return Qae(e,2)}var cM=2,Ol=3,B_=11,iV=12,l4=19,U_=64,oje=65,lje=71,cje=4108,uje=4126,Fs=80,eie=81,dje=[Fs,eie],RO={1:{n:"CodePage",t:cM},2:{n:"Category",t:Fs},3:{n:"PresentationFormat",t:Fs},4:{n:"ByteCount",t:Ol},5:{n:"LineCount",t:Ol},6:{n:"ParagraphCount",t:Ol},7:{n:"SlideCount",t:Ol},8:{n:"NoteCount",t:Ol},9:{n:"HiddenCount",t:Ol},10:{n:"MultimediaClipCount",t:Ol},11:{n:"ScaleCrop",t:B_},12:{n:"HeadingPairs",t:cje},13:{n:"TitlesOfParts",t:uje},14:{n:"Manager",t:Fs},15:{n:"Company",t:Fs},16:{n:"LinksUpToDate",t:B_},17:{n:"CharacterCount",t:Ol},19:{n:"SharedDoc",t:B_},22:{n:"HyperlinksChanged",t:B_},23:{n:"AppVersion",t:Ol,p:"version"},24:{n:"DigSig",t:oje},26:{n:"ContentType",t:Fs},27:{n:"ContentStatus",t:Fs},28:{n:"Language",t:Fs},29:{n:"Version",t:Fs},255:{},2147483648:{n:"Locale",t:l4},2147483651:{n:"Behavior",t:l4},1919054434:{}},MO={1:{n:"CodePage",t:cM},2:{n:"Title",t:Fs},3:{n:"Subject",t:Fs},4:{n:"Author",t:Fs},5:{n:"Keywords",t:Fs},6:{n:"Comments",t:Fs},7:{n:"Template",t:Fs},8:{n:"LastAuthor",t:Fs},9:{n:"RevNumber",t:Fs},10:{n:"EditTime",t:U_},11:{n:"LastPrinted",t:U_},12:{n:"CreatedDate",t:U_},13:{n:"ModifiedDate",t:U_},14:{n:"PageCount",t:Ol},15:{n:"WordCount",t:Ol},16:{n:"CharCount",t:Ol},17:{n:"Thumbnail",t:lje},18:{n:"Application",t:Fs},19:{n:"DocSecurity",t:Ol},255:{},2147483648:{n:"Locale",t:l4},2147483651:{n:"Behavior",t:l4},1919054434:{}},sV={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},fje=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function hje(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var pje=hje([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Y0=ii(pje),$h={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},tie={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},FO={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},q_={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function uM(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function mje(e){var t=uM();if(!e||!e.match)return t;var r={};if((e.match(Ho)||[]).forEach(function(n){var a=cn(n);switch(a[0].replace(A9e,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[FO[a.ContentType]]!==void 0&&t[FO[a.ContentType]].push(a.PartName);break}}),t.xmlns!==ws.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}function rie(e,t){var r=m9e(FO),n=[],a;n[n.length]=rs,n[n.length]=rr("Types",null,{xmlns:ws.CT,"xmlns:xsd":ws.xsd,"xmlns:xsi":ws.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return rr("Default",null,{Extension:c[0],ContentType:c[1]})}));var i=function(c){e[c]&&e[c].length>0&&(a=e[c][0],n[n.length]=rr("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:q_[c][t.bookType]||q_[c].xlsx}))},s=function(c){(e[c]||[]).forEach(function(u){n[n.length]=rr("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:q_[c][t.bookType]||q_[c].xlsx})})},o=function(c){(e[c]||[]).forEach(function(u){n[n.length]=rr("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[c][0]})})};return i("workbooks"),s("sheets"),s("charts"),o("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),s("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var On={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Ew(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function sx(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(Ho)||[]).forEach(function(a){var i=cn(a);if(i[0]==="<Relationship"){var s={};s.Type=i.Type,s.Target=i.Target,s.Id=i.Id,i.TargetMode&&(s.TargetMode=i.TargetMode);var o=i.TargetMode==="External"?i.Target:B2(i.Target,t);r[o]=s,n[i.Id]=s}}),r["!id"]=n,r}function h1(e){var t=[rs,rr("Relationships",null,{xmlns:ws.RELS})];return Mi(e["!id"]).forEach(function(r){t[t.length]=rr("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Ea(e,t,r,n,a,i){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=n,a.Target=r,[On.HLINK,On.XPATH,On.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}var gje="application/vnd.oasis.opendocument.spreadsheet";function vje(e,t){for(var r=eM(e),n,a;n=kw.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=cn(n[0],!1),a.path=="/"&&a.type!==gje)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}function yje(e){var t=[rs];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function oV(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function xje(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function wje(e){var t=[rs];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(oV(e[r][0],e[r][1])),t.push(xje("",e[r][0]));return t.push(oV("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function nie(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+e4.version+"</meta:generator></office:meta></office:document-meta>"}var ru=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],bje=function(){for(var e=new Array(ru.length),t=0;t<ru.length;++t){var r=ru[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function aie(e){var t={};e=Da(e);for(var r=0;r<ru.length;++r){var n=ru[r],a=e.match(bje[r]);a!=null&&a.length>0&&(t[n[1]]=Qn(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=ai(t[n[1]]))}return t}function wT(e,t,r,n,a){a[e]!=null||t==null||t===""||(a[e]=t,t=Pa(t),n[n.length]=r?rr(e,t,r):lo(e,t))}function iie(e,t){var r=t||{},n=[rs,rr("cp:coreProperties",null,{"xmlns:cp":ws.CORE_PROPS,"xmlns:dc":ws.dc,"xmlns:dcterms":ws.dcterms,"xmlns:dcmitype":ws.dcmitype,"xmlns:xsi":ws.xsi})],a={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&wT("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:DO(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),e.ModifiedDate!=null&&wT("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:DO(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var i=0;i!=ru.length;++i){var s=ru[i],o=r.Props&&r.Props[s[1]]!=null?r.Props[s[1]]:e?e[s[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&wT(s[0],o,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var K0=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],sie=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function oie(e,t,r,n){var a=[];if(typeof e=="string")a=JW(e,n);else for(var i=0;i<e.length;++i)a=a.concat(e[i].map(function(d){return{v:d}}));var s=typeof t=="string"?JW(t,n).map(function(d){return d.v}):t,o=0,c=0;if(s.length>0)for(var u=0;u!==a.length;u+=2){switch(c=+a[u+1].v,a[u].v){case"Worksheets":case"工作表":case"Листы":case"أوراق العمل":case"ワークシート":case"גליונות עבודה":case"Arbeitsblätter":case"Çalışma Sayfaları":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de cálculo":case"Planilhas":case"Regneark":case"Hojas de cálculo":case"Werkbladen":r.Worksheets=c,r.SheetNames=s.slice(o,o+c);break;case"Named Ranges":case"Rangos con nombre":case"名前付き一覧":case"Benannte Bereiche":case"Navngivne områder":r.NamedRanges=c,r.DefinedNames=s.slice(o,o+c);break;case"Charts":case"Diagramme":r.Chartsheets=c,r.ChartNames=s.slice(o,o+c);break}o+=c}}function _je(e,t,r){var n={};return t||(t={}),e=Da(e),K0.forEach(function(a){var i=(e.match(Nw(a[0]))||[])[1];switch(a[2]){case"string":i&&(t[a[1]]=Qn(i));break;case"bool":t[a[1]]=i==="true";break;case"raw":var s=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));s&&s.length>0&&(n[a[1]]=s[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&oie(n.HeadingPairs,n.TitlesOfParts,t,r),t}function lie(e){var t=[],r=rr;return e||(e={}),e.Application="SheetJS",t[t.length]=rs,t[t.length]=rr("Properties",null,{xmlns:ws.EXT_PROPS,"xmlns:vt":ws.vt}),K0.forEach(function(n){if(e[n[1]]!==void 0){var a;switch(n[2]){case"string":a=Pa(String(e[n[1]]));break;case"bool":a=e[n[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(n[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+Pa(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var Sje=/<[^>]+>[^<]*/g;function Nje(e,t){var r={},n="",a=e.match(Sje);if(a)for(var i=0;i!=a.length;++i){var s=a[i],o=cn(s);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Qn(o.name);break;case"</property>":n=null;break;default:if(s.indexOf("<vt:")===0){var c=s.split(">"),u=c[0].slice(4),d=c[1];switch(u){case"lpstr":case"bstr":case"lpwstr":r[n]=Qn(d);break;case"bool":r[n]=ti(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(d,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(d);break;case"filetime":case"date":r[n]=ai(d);break;case"cy":case"error":r[n]=Qn(d);break;default:if(u.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",s,u,c)}}else if(s.slice(0,2)!=="</"){if(t.WTF)throw new Error(s)}}}return r}function cie(e){var t=[rs,rr("Properties",null,{xmlns:ws.CUST_PROPS,"xmlns:vt":ws.vt})];if(!e)return t.join("");var r=1;return Mi(e).forEach(function(a){++r,t[t.length]=rr("property",I9e(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Pa(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var LO={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},bT;function Aje(e,t,r){bT||(bT=sA(LO)),t=bT[t]||t,e[t]=r}function kje(e,t){var r=[];return Mi(LO).map(function(n){for(var a=0;a<ru.length;++a)if(ru[a][1]==n)return ru[a];for(a=0;a<K0.length;++a)if(K0[a][1]==n)return K0[a];throw n}).forEach(function(n){if(e[n[1]]!=null){var a=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(lo(LO[n[1]]||n[1],a))}}),rr("DocumentProperties",r.join(""),{xmlns:uc.o})}function Eje(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return e&&Mi(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var s=0;s<ru.length;++s)if(i==ru[s][1])return;for(s=0;s<K0.length;++s)if(i==K0[s][1])return;for(s=0;s<r.length;++s)if(i==r[s])return;var o=e[i],c="string";typeof o=="number"?(c="float",o=String(o)):o===!0||o===!1?(c="boolean",o=o?"1":"0"):o=String(o),a.push(rr(GW(i),o,{"dt:dt":c}))}}),t&&Mi(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var s=t[i],o="string";typeof s=="number"?(o="float",s=String(s)):s===!0||s===!1?(o="boolean",s=s?"1":"0"):s instanceof Date?(o="dateTime.tz",s=s.toISOString()):s=String(s),a.push(rr(GW(i),s,{"dt:dt":o}))}}),"<"+n+' xmlns="'+uc.o+'">'+a.join("")+"</"+n+">"}function dM(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function Cje(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),a+=i);var s=Pt(8);return s.write_shift(4,n),s.write_shift(4,a),s}function uie(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function die(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function fie(e,t,r){return t===31?die(e):uie(e,t,r)}function jO(e,t,r){return fie(e,t,r===!1?0:4)}function Pje(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return fie(e,t,0)}function Tje(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(fl,""),e.l-a&2&&(e.l+=2)}return r}function Oje(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(fl,"");return r}function Dje(e){var t=e.l,r=c4(e,eie);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=c4(e,Ol);return[r,n]}function Ije(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(Dje(e));return r}function lV(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var i=e.read_shift(4),s=e.read_shift(4);n[i]=e.read_shift(s,t===1200?"utf16le":"utf8").replace(fl,"").replace($2,"!"),t===1200&&s%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function hie(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function Rje(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function c4(e,t,r){var n=e.read_shift(2),a,i=r||{};if(e.l+=2,t!==iV&&n!==t&&dje.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===iV?n:t){case 2:return a=e.read_shift(2,"i"),i.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return uie(e,n,4).replace(fl,"");case 31:return die(e);case 64:return dM(e);case 65:return hie(e);case 71:return Rje(e);case 80:return jO(e,n,!i.raw).replace(fl,"");case 81:return Pje(e,n).replace(fl,"");case 4108:return Ije(e);case 4126:case 4127:return n==4127?Tje(e):Oje(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function cV(e,t){var r=Pt(4),n=Pt(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=Pt(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=Cje(t);break;case 31:case 80:for(n=Pt(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Bs([r,n])}function uV(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),i=[],s=0,o=0,c=-1,u={};for(s=0;s!=a;++s){var d=e.read_shift(4),f=e.read_shift(4);i[s]=[d,f+r]}i.sort(function(_,N){return _[1]-N[1]});var h={};for(s=0;s!=a;++s){if(e.l!==i[s][1]){var m=!0;if(s>0&&t)switch(t[i[s-1][0]].t){case 2:e.l+2===i[s][1]&&(e.l+=2,m=!1);break;case 80:e.l<=i[s][1]&&(e.l=i[s][1],m=!1);break;case 4108:e.l<=i[s][1]&&(e.l=i[s][1],m=!1);break}if((!t||s==0)&&e.l<=i[s][1]&&(m=!1,e.l=i[s][1]),m)throw new Error("Read Error: Expected address "+i[s][1]+" at "+e.l+" :"+s)}if(t){var w=t[i[s][0]];if(h[w.n]=c4(e,w.t,{raw:!0}),w.p==="version"&&(h[w.n]=String(h[w.n]>>16)+"."+("0000"+String(h[w.n]&65535)).slice(-4)),w.n=="CodePage")switch(h[w.n]){case 0:h[w.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Hu(o=h[w.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[w.n])}}else if(i[s][0]===1){if(o=h.CodePage=c4(e,cM),Hu(o),c!==-1){var g=e.l;e.l=i[c][1],u=lV(e,o),e.l=g}}else if(i[s][0]===0){if(o===0){c=s,e.l=i[s+1][1];continue}u=lV(e,o)}else{var y=u[i[s][0]],b;switch(e[e.l]){case 65:e.l+=4,b=hie(e);break;case 30:e.l+=4,b=jO(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,b=jO(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,b=e.read_shift(4,"i");break;case 19:e.l+=4,b=e.read_shift(4);break;case 5:e.l+=4,b=e.read_shift(8,"f");break;case 11:e.l+=4,b=zi(e,4);break;case 64:e.l+=4,b=ai(dM(e));break;default:throw new Error("unparsed value: "+e[e.l])}h[y]=b}}return e.l=r+n,h}var pie=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function Mje(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function dV(e,t,r){var n=Pt(8),a=[],i=[],s=8,o=0,c=Pt(8),u=Pt(8);if(c.write_shift(4,2),c.write_shift(4,1200),u.write_shift(4,1),i.push(c),a.push(u),s+=8+c.length,!t){u=Pt(8),u.write_shift(4,0),a.unshift(u);var d=[Pt(4)];for(d[0].write_shift(4,e.length),o=0;o<e.length;++o){var f=e[o][0];for(c=Pt(8+2*(f.length+1)+(f.length%2?0:2)),c.write_shift(4,o+2),c.write_shift(4,f.length+1),c.write_shift(0,f,"dbcs");c.l!=c.length;)c.write_shift(1,0);d.push(c)}c=Bs(d),i.unshift(c),s+=8+c.length}for(o=0;o<e.length;++o)if(!(t&&!t[e[o][0]])&&!(pie.indexOf(e[o][0])>-1||sie.indexOf(e[o][0])>-1)&&e[o][1]!=null){var h=e[o][1],m=0;if(t){m=+t[e[o][0]];var w=r[m];if(w.p=="version"&&typeof h=="string"){var g=h.split(".");h=(+g[0]<<16)+(+g[1]||0)}c=cV(w.t,h)}else{var y=Mje(h);y==-1&&(y=31,h=String(h)),c=cV(y,h)}i.push(c),u=Pt(8),u.write_shift(4,t?m:2+o),a.push(u),s+=8+c.length}var b=8*(i.length+1);for(o=0;o<i.length;++o)a[o].write_shift(4,b),b+=i[o].length;return n.write_shift(4,s),n.write_shift(4,i.length),Bs([n].concat(a).concat(i))}function fV(e,t,r){var n=e.content;if(!n)return{};so(n,0);var a,i,s,o,c=0;n.chk("feff","Byte Order: "),n.read_shift(2);var u=n.read_shift(4),d=n.read_shift(16);if(d!==zr.utils.consts.HEADER_CLSID&&d!==r)throw new Error("Bad PropertySet CLSID "+d);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(i=n.read_shift(16),o=n.read_shift(4),a===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);a===2&&(s=n.read_shift(16),c=n.read_shift(4));var f=uV(n,t),h={SystemIdentifier:u};for(var m in f)h[m]=f[m];if(h.FMTID=i,a===1)return h;if(c-n.l==2&&(n.l+=2),n.l!==c)throw new Error("Length mismatch 2: "+n.l+" !== "+c);var w;try{w=uV(n,null)}catch{}for(m in w)h[m]=w[m];return h.FMTID=[i,s],h}function hV(e,t,r,n,a,i){var s=Pt(a?68:48),o=[s];s.write_shift(2,65534),s.write_shift(2,0),s.write_shift(4,842412599),s.write_shift(16,zr.utils.consts.HEADER_CLSID,"hex"),s.write_shift(4,a?2:1),s.write_shift(16,t,"hex"),s.write_shift(4,a?68:48);var c=dV(e,r,n);if(o.push(c),a){var u=dV(a,null,null);s.write_shift(16,i,"hex"),s.write_shift(4,68+c.length),o.push(u)}return Bs(o)}function Fp(e,t){return e.read_shift(t),null}function Fje(e,t){t||(t=Pt(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function Lje(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function zi(e,t){return e.read_shift(t)===1}function ol(e,t){return t||(t=Pt(2)),t.write_shift(2,+!!e),t}function cs(e){return e.read_shift(2,"u")}function Xc(e,t){return t||(t=Pt(2)),t.write_shift(2,e),t}function mie(e,t){return Lje(e,t,cs)}function jje(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function gie(e,t,r){return r||(r=Pt(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function mb(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var s=n?e.read_shift(n,a):"";return s}function $je(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,i=1+(r&1),s=0,o,c={};a&&(s=e.read_shift(2)),n&&(o=e.read_shift(4));var u=i==2?"dbcs-cont":"sbcs-cont",d=t===0?"":e.read_shift(t,u);return a&&(e.l+=4*s),n&&(e.l+=o),c.t=d,a||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function Bje(e){var t=e.t||"",r=Pt(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=Pt(2*t.length);n.write_shift(2*t.length,t,"utf16le");var a=[r,n];return Bs(a)}function xg(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function gb(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):xg(e,n,r)}function $g(e,t,r){if(r.biff>5)return gb(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function vie(e,t,r){return r||(r=Pt(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function Uje(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function qje(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(fl,"");return n&&(e.l+=24),a}function zje(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var s=e.read_shift(i>>1,"utf16le").replace(fl,"");return r+s}function Wje(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return qje(e);case"0303000000000000c000000000000046":return zje(e);default:throw new Error("Unsupported Moniker "+r)}}function z_(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(fl,""):"";return r}function pV(e,t){t||(t=Pt(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function Vje(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var i,s,o,c,u="",d,f;a&16&&(i=z_(e,r-e.l)),a&128&&(s=z_(e,r-e.l)),(a&257)===257&&(o=z_(e,r-e.l)),(a&257)===1&&(c=Wje(e,r-e.l)),a&8&&(u=z_(e,r-e.l)),a&32&&(d=e.read_shift(16)),a&64&&(f=dM(e)),e.l=r;var h=s||o||c||"";h&&u&&(h+="#"+u),h||(h="#"+u),a&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var m={Target:h};return d&&(m.guid=d),f&&(m.time=f),i&&(m.Tooltip=i),m}function Hje(e){var t=Pt(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),i=a>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var s=[8,6815827,6619237,4849780,83];for(r=0;r<s.length;++r)t.write_shift(4,s[r]);if(i==28)n=n.slice(1),pV(n,t);else if(i&2){for(s="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<s.length;++r)t.write_shift(1,parseInt(s[r],16));var o=a>-1?n.slice(0,a):n;for(t.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)t.write_shift(2,o.charCodeAt(r));t.write_shift(2,0),i&8&&pV(a>-1?n.slice(a+1):"",t)}else{for(s="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<s.length;++r)t.write_shift(1,parseInt(s[r],16));for(var c=0;n.slice(c*3,c*3+3)=="../"||n.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,n.length-3*c+1),r=0;r<n.length-3*c;++r)t.write_shift(1,n.charCodeAt(r+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function yie(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function xie(e,t){var r=yie(e);return r[3]=0,r}function _f(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function wg(e,t,r,n){return n||(n=Pt(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function Gje(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function Yje(e,t,r){return t===0?"":$g(e,t,r)}function Kje(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),s=e.read_shift(n,"i");return[a,i,s]}function wie(e){var t=e.read_shift(2),r=lM(e);return[t,r]}function Xje(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=mb(e,t,r),i=e.read_shift(2);if(n-=e.l,i!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+i);return e.l+=i,a}function cA(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function bie(e,t){return t||(t=Pt(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function _ie(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var Jje=_ie;function Sie(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function Zje(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function Qje(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function Eo(e){e.l+=2,e.l+=e.read_shift(2)}var e$e={0:Eo,4:Eo,5:Eo,6:Eo,7:Qje,8:Eo,9:Eo,10:Eo,11:Eo,12:Eo,13:Zje,14:Eo,15:Eo,16:Eo,17:Eo,18:Eo,19:Eo,20:Eo,21:Sie};function t$e(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(e$e[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function W_(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function fM(e,t,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=Pt(a);return i.write_shift(2,n),i.write_shift(2,t),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function r$e(e,t){return t===0||e.read_shift(2),1200}function n$e(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=$g(e,0,r);return e.read_shift(t+n-e.l),a}function a$e(e,t){var r=!t||t.biff==8,n=Pt(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function i$e(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function s$e(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var s=mb(e,0,r);return s.length===0&&(s="Sheet1"),{pos:n,hs:a,dt:i,name:s}}function o$e(e,t){var r=!t||t.biff>=8?2:1,n=Pt(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function l$e(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),i=[],s=0;s!=a&&e.l<r;++s)i.push($je(e));return i.Count=n,i.Unique=a,i}function c$e(e,t){var r=Pt(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],a=0;a<e.length;++a)n[a]=Bje(e[a]);var i=Bs([r].concat(n));return i.parts=[r.length].concat(n.map(function(s){return s.length})),i}function u$e(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function d$e(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function f$e(e){var t=Gje(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function h$e(e){return e.read_shift(2),e.read_shift(4)}function mV(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var i={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[i,a]}function p$e(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),c=e.read_shift(2),u=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:i,CurTab:s,FirstTab:o,Selected:c,TabRatio:u}}function m$e(){var e=Pt(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function g$e(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function v$e(e){var t=Pt(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function y$e(){}function x$e(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=mb(e,0,r),n}function w$e(e,t){var r=e.name||"Arial",n=t&&t.biff==5,a=n?15+r.length:16+2*r.length,i=Pt(a);return i.write_shift(2,e.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}function b$e(e){var t=_f(e);return t.isst=e.read_shift(4),t}function _$e(e,t,r,n){var a=Pt(10);return wg(e,t,n,a),a.write_shift(4,r),a}function S$e(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=_f(e);r.biff==2&&e.l++;var i=gb(e,n-e.l,r);return a.val=i,a}function N$e(e,t,r,n,a){var i=!a||a.biff==8,s=Pt(8+ +i+(1+i)*r.length);return wg(e,t,n,s),s.write_shift(2,r.length),i&&s.write_shift(1,1),s.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),s}function A$e(e,t,r){var n=e.read_shift(2),a=$g(e,0,r);return[n,a]}function k$e(e,t,r,n){var a=r&&r.biff==5;n||(n=Pt(a?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(a?1:2,t.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}var E$e=$g;function gV(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,i=e.read_shift(a),s=e.read_shift(a),o=e.read_shift(2),c=e.read_shift(2);return e.l=n,{s:{r:i,c:o},e:{r:s,c}}}function C$e(e,t){var r=t.biff==8||!t.biff?4:2,n=Pt(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function P$e(e){var t=e.read_shift(2),r=e.read_shift(2),n=wie(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function T$e(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(wie(e));if(e.l!==r)throw new Error("MulRK read error");var s=e.read_shift(2);if(i.length!=s-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:s,rkrec:i}}function O$e(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var s=e.read_shift(2);if(i.length!=s-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:s,ixfe:i}}function D$e(e,t,r,n){var a={},i=e.read_shift(4),s=e.read_shift(4),o=e.read_shift(4),c=e.read_shift(2);return a.patternType=fje[o>>26],n.cellStyles&&(a.alc=i&7,a.fWrap=i>>3&1,a.alcV=i>>4&7,a.fJustLast=i>>7&1,a.trot=i>>8&255,a.cIndent=i>>16&15,a.fShrinkToFit=i>>20&1,a.iReadOrder=i>>22&2,a.fAtrNum=i>>26&1,a.fAtrFnt=i>>27&1,a.fAtrAlc=i>>28&1,a.fAtrBdr=i>>29&1,a.fAtrPat=i>>30&1,a.fAtrProt=i>>31&1,a.dgLeft=s&15,a.dgRight=s>>4&15,a.dgTop=s>>8&15,a.dgBottom=s>>12&15,a.icvLeft=s>>16&127,a.icvRight=s>>23&127,a.grbitDiag=s>>30&3,a.icvTop=o&127,a.icvBottom=o>>7&127,a.icvDiag=o>>14&127,a.dgDiag=o>>21&15,a.icvFore=c&127,a.icvBack=c>>7&127,a.fsxButton=c>>14&1),a}function I$e(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=D$e(e,t,n.fStyle,r),n}function vV(e,t,r,n){var a=r&&r.biff==5;n||(n=Pt(a?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&a&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function R$e(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function M$e(e){var t=Pt(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function yV(e,t,r){var n=_f(e);(r.biff==2||t==9)&&++e.l;var a=jje(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function F$e(e,t,r,n,a,i){var s=Pt(8);return wg(e,t,n,s),gie(r,i,s),s}function L$e(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=_f(e),a=jo(e);return n.val=a,n}function j$e(e,t,r,n){var a=Pt(14);return wg(e,t,n,a),yg(r,a),a}var xV=Yje;function $$e(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(2);if(r.sbcch=i,i==1025||i==14849)return[i,a];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var s=xg(e,i),o=[];n>e.l;)o.push(gb(e));return[i,a,s,o]}function wV(e,t,r){var n=e.read_shift(2),a,i={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=Xje(e,t-2,r)),i.body=a||e.read_shift(t-2),typeof a=="string"&&(i.Name=a),i}var B$e=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function bV(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(1),s=e.read_shift(1),o=e.read_shift(r&&r.biff==2?1:2),c=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),c=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var u=xg(e,s,r);a&32&&(u=B$e[u.charCodeAt(0)]);var d=n-e.l;r&&r.biff==2&&--d;var f=n==e.l||o===0||!(d>0)?[]:tWe(e,d,r,o);return{chKey:i,Name:u,itab:c,rgce:f}}function Nie(e,t,r){if(r.biff<8)return U$e(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(Kje(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function U$e(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=mb(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function q$e(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),i=xg(e,n,r),s=xg(e,a,r);return[i,s]}function z$e(e,t,r){var n=_ie(e);e.l++;var a=e.read_shift(1);return t-=8,[rWe(e,t,r),a,n]}function _V(e,t,r){var n=Jje(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,Qze(e,t,r)]}function W$e(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function V$e(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=$g(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},o,s,i]}}function H$e(e,t,r){return V$e(e,t,r)}function G$e(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(cA(e));return r}function Y$e(e){var t=Pt(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)bie(e[r],t);return t}function K$e(e,t,r){if(r&&r.biff<8)return J$e(e,t,r);var n=Sie(e),a=t$e(e,t-22,n[1]);return{cmo:n,ft:a}}var X$e={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function J$e(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var s=[];return s.push((X$e[n]||Vo)(e,t,r)),{cmo:[a,n,i],ft:s}}function Z$e(e,t,r){var n=e.l,a="";try{e.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1],s;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:s=Uje(e,6,r);var o=e.read_shift(2);e.read_shift(2),cs(e,2);var c=e.read_shift(2);e.l+=c;for(var u=1;u<e.lens.length-1;++u){if(e.l-n!=e.lens[u])throw new Error("TxO: bad continue record");var d=e[e.l],f=xg(e,e.lens[u+1]-e.lens[u]-1);if(a+=f,a.length>=(d?o:2*o))break}if(a.length!==o&&a.length!==o*2)throw new Error("cchText: "+o+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function Q$e(e,t){var r=cA(e);e.l+=16;var n=Vje(e,t-24);return[r,n]}function eBe(e){var t=Pt(24),r=bi(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(n[a],16));return Bs([t,Hje(e[1])])}function tBe(e,t){e.read_shift(2);var r=cA(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(fl,""),[r,n]}function rBe(e){var t=e[1].Tooltip,r=Pt(10+2*(t.length+1));r.write_shift(2,2048);var n=bi(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function nBe(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=sV[r]||r,r=e.read_shift(2),t[1]=sV[r]||r,t}function aBe(e){return e||(e=Pt(4)),e.write_shift(2,1),e.write_shift(2,1),e}function iBe(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(xie(e));return r}function sBe(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(xie(e));return r}function oBe(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function Aie(e,t,r){if(!r.cellStyles)return Vo(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var u={s:a,e:i,w:s,ixfe:o,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function lBe(e,t){var r=Pt(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function cBe(e,t){var r={};return t<32||(e.l+=16,r.header=jo(e),r.footer=jo(e),e.l+=2),r}function uBe(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}function dBe(e){for(var t=Pt(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}var fBe=_f,hBe=mie,pBe=gb;function mBe(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function gBe(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=_f(e);++e.l;var a=$g(e,t-7,r);return n.t="str",n.val=a,n}function vBe(e){var t=_f(e);++e.l;var r=jo(e);return t.t="n",t.val=r,t}function yBe(e,t,r){var n=Pt(15);return wb(n,e,t),n.write_shift(8,r,"f"),n}function xBe(e){var t=_f(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function wBe(e,t,r){var n=Pt(9);return wb(n,e,t),n.write_shift(2,r),n}function bBe(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function _Be(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function SBe(e,t,r){var n=e.l+t,a=_f(e),i=e.read_shift(2),s=xg(e,i,r);return e.l=n,a.t="str",a.val=s,a}var NBe=[2,3,48,49,131,139,140,245],$O=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=sA({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,c){var u=[],d=Sm(1);switch(c.type){case"base64":d=pc(Nc(o));break;case"binary":d=pc(o);break;case"buffer":case"array":d=o;break}so(d,0);var f=d.read_shift(1),h=!!(f&136),m=!1,w=!1;switch(f){case 2:break;case 3:break;case 48:m=!0,h=!0;break;case 49:m=!0,h=!0;break;case 131:break;case 139:break;case 140:w=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var g=0,y=521;f==2&&(g=d.read_shift(2)),d.l+=3,f!=2&&(g=d.read_shift(4)),g>1048576&&(g=1e6),f!=2&&(y=d.read_shift(2));var b=d.read_shift(2),_=c.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(_=e[d[d.l]]),d.l+=1,d.l+=2),w&&(d.l+=36);for(var N=[],E={},C=Math.min(d.length,f==2?521:y-10-(m?264:0)),O=w?32:11;d.l<C&&d[d.l]!=13;)switch(E={},E.name=OO.utils.decode(_,d.slice(d.l,d.l+O)).replace(/[\u0000\r\n].*$/g,""),d.l+=O,E.type=String.fromCharCode(d.read_shift(1)),f!=2&&!w&&(E.offset=d.read_shift(4)),E.len=d.read_shift(1),f==2&&(E.offset=d.read_shift(2)),E.dec=d.read_shift(1),E.name.length&&N.push(E),f!=2&&(d.l+=w?13:14),E.type){case"B":(!m||E.len!=8)&&c.WTF&&console.log("Skipping "+E.name+":"+E.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+E.name+":"+E.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+E.type)}if(d[d.l]!==13&&(d.l=y-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=y;var P=0,M=0;for(u[0]=[],M=0;M!=N.length;++M)u[0][M]=N[M].name;for(;g-- >0;){if(d[d.l]===42){d.l+=b;continue}for(++d.l,u[++P]=[],M=0,M=0;M!=N.length;++M){var L=d.slice(d.l,d.l+N[M].len);d.l+=N[M].len,so(L,0);var j=OO.utils.decode(_,L);switch(N[M].type){case"C":j.trim().length&&(u[P][M]=j.replace(/\s+$/,""));break;case"D":j.length===8?u[P][M]=new Date(+j.slice(0,4),+j.slice(4,6)-1,+j.slice(6,8)):u[P][M]=j;break;case"F":u[P][M]=parseFloat(j.trim());break;case"+":case"I":u[P][M]=w?L.read_shift(-4,"i")^2147483648:L.read_shift(4,"i");break;case"L":switch(j.trim().toUpperCase()){case"Y":case"T":u[P][M]=!0;break;case"N":case"F":u[P][M]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+j+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[P][M]="##MEMO##"+(w?parseInt(j.trim(),10):L.read_shift(4));break;case"N":j=j.replace(/\u0000/g,"").trim(),j&&j!="."&&(u[P][M]=+j||0);break;case"@":u[P][M]=new Date(L.read_shift(-8,"f")-621356832e5);break;case"T":u[P][M]=new Date((L.read_shift(4)-2440588)*864e5+L.read_shift(4));break;case"Y":u[P][M]=L.read_shift(4,"i")/1e4+L.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[P][M]=-L.read_shift(-8,"f");break;case"B":if(m&&N[M].len==8){u[P][M]=L.read_shift(8,"f");break}case"G":case"P":L.l+=N[M].len;break;case"0":if(N[M].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+N[M].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=N,u}function n(o,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var d=Dy(r(o,u),u);return d["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,d}function a(o,c){try{return Um(n(o,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,c){var u=c||{};if(+u.codepage>=0&&Hu(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=Ul(),f=f4(o,{header:1,raw:!0,cellDates:!0}),h=f[0],m=f.slice(1),w=o["!cols"]||[],g=0,y=0,b=0,_=1;for(g=0;g<h.length;++g){if(((w[g]||{}).DBF||{}).name){h[g]=w[g].DBF.name,++b;continue}if(h[g]!=null){if(++b,typeof h[g]=="number"&&(h[g]=h[g].toString(10)),typeof h[g]!="string")throw new Error("DBF Invalid column name "+h[g]+" |"+typeof h[g]+"|");if(h.indexOf(h[g])!==g){for(y=0;y<1024;++y)if(h.indexOf(h[g]+"_"+y)==-1){h[g]+="_"+y;break}}}}var N=ea(o["!ref"]),E=[],C=[],O=[];for(g=0;g<=N.e.c-N.s.c;++g){var P="",M="",L=0,j=[];for(y=0;y<m.length;++y)m[y][g]!=null&&j.push(m[y][g]);if(j.length==0||h[g]==null){E[g]="?";continue}for(y=0;y<j.length;++y){switch(typeof j[y]){case"number":M="B";break;case"string":M="C";break;case"boolean":M="L";break;case"object":M=j[y]instanceof Date?"D":"C";break;default:M="C"}L=Math.max(L,String(j[y]).length),P=P&&P!=M?"C":M}L>250&&(L=250),M=((w[g]||{}).DBF||{}).type,M=="C"&&w[g].DBF.len>L&&(L=w[g].DBF.len),P=="B"&&M=="N"&&(P="N",O[g]=w[g].DBF.dec,L=w[g].DBF.len),C[g]=P=="C"||M=="N"?L:i[P]||0,_+=C[g],E[g]=P}var T=d.next(32);for(T.write_shift(4,318902576),T.write_shift(4,m.length),T.write_shift(2,296+32*b),T.write_shift(2,_),g=0;g<4;++g)T.write_shift(4,0);for(T.write_shift(4,0|(+t[pae]||3)<<8),g=0,y=0;g<h.length;++g)if(h[g]!=null){var I=d.next(32),B=(h[g].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);I.write_shift(1,B,"sbcs"),I.write_shift(1,E[g]=="?"?"C":E[g],"sbcs"),I.write_shift(4,y),I.write_shift(1,C[g]||i[E[g]]||0),I.write_shift(1,O[g]||0),I.write_shift(1,2),I.write_shift(4,0),I.write_shift(1,0),I.write_shift(4,0),I.write_shift(4,0),y+=C[g]||i[E[g]]||0}var G=d.next(264);for(G.write_shift(4,13),g=0;g<65;++g)G.write_shift(4,0);for(g=0;g<m.length;++g){var Z=d.next(_);for(Z.write_shift(1,0),y=0;y<h.length;++y)if(h[y]!=null)switch(E[y]){case"L":Z.write_shift(1,m[g][y]==null?63:m[g][y]?84:70);break;case"B":Z.write_shift(8,m[g][y]||0,"f");break;case"N":var re="0";for(typeof m[g][y]=="number"&&(re=m[g][y].toFixed(O[y]||0)),b=0;b<C[y]-re.length;++b)Z.write_shift(1,32);Z.write_shift(1,re,"sbcs");break;case"D":m[g][y]?(Z.write_shift(4,("0000"+m[g][y].getFullYear()).slice(-4),"sbcs"),Z.write_shift(2,("00"+(m[g][y].getMonth()+1)).slice(-2),"sbcs"),Z.write_shift(2,("00"+m[g][y].getDate()).slice(-2),"sbcs")):Z.write_shift(8,"00000000","sbcs");break;case"C":var W=String(m[g][y]!=null?m[g][y]:"").slice(0,C[y]);for(Z.write_shift(1,W,"sbcs"),b=0;b<C[y]-W.length;++b)Z.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:a,to_sheet:n,from_sheet:s}}(),kie=function(){var e={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Mi(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,m){var w=e[m];return typeof w=="number"?IW(w):w},n=function(h,m,w){var g=m.charCodeAt(0)-32<<4|w.charCodeAt(0)-48;return g==59?h:IW(g)};e["|"]=254;function a(h,m){switch(m.type){case"base64":return i(Nc(h),m);case"binary":return i(h,m);case"buffer":return i(Pn&&Buffer.isBuffer(h)?h.toString("binary"):Bm(h),m);case"array":return i(vg(h),m)}throw new Error("Unrecognized type "+m.type)}function i(h,m){var w=h.split(/[\n\r]+/),g=-1,y=-1,b=0,_=0,N=[],E=[],C=null,O={},P=[],M=[],L=[],j=0,T;for(+m.codepage>=0&&Hu(+m.codepage);b!==w.length;++b){j=0;var I=w[b].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),B=I.replace(/;;/g,"\0").split(";").map(function(ne){return ne.replace(/\u0000/g,";")}),G=B[0],Z;if(I.length>0)switch(G){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":B[1].charAt(0)=="P"&&E.push(I.slice(3).replace(/;;/g,";"));break;case"C":var re=!1,W=!1,z=!1,U=!1,Y=-1,Q=-1;for(_=1;_<B.length;++_)switch(B[_].charAt(0)){case"A":break;case"X":y=parseInt(B[_].slice(1))-1,W=!0;break;case"Y":for(g=parseInt(B[_].slice(1))-1,W||(y=0),T=N.length;T<=g;++T)N[T]=[];break;case"K":Z=B[_].slice(1),Z.charAt(0)==='"'?Z=Z.slice(1,Z.length-1):Z==="TRUE"?Z=!0:Z==="FALSE"?Z=!1:isNaN(Ju(Z))?isNaN(ly(Z).getDate())||(Z=ai(Z)):(Z=Ju(Z),C!==null&&Ty(C)&&(Z=lA(Z))),re=!0;break;case"E":U=!0;var D=p1(B[_].slice(1),{r:g,c:y});N[g][y]=[N[g][y],D];break;case"S":z=!0,N[g][y]=[N[g][y],"S5S"];break;case"G":break;case"R":Y=parseInt(B[_].slice(1))-1;break;case"C":Q=parseInt(B[_].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+I)}if(re&&(N[g][y]&&N[g][y].length==2?N[g][y][0]=Z:N[g][y]=Z,C=null),z){if(U)throw new Error("SYLK shared formula cannot have own formula");var K=Y>-1&&N[Y][Q];if(!K||!K[1])throw new Error("SYLK shared formula cannot find base");N[g][y][1]=Wie(K[1],{r:g-Y,c:y-Q})}break;case"F":var J=0;for(_=1;_<B.length;++_)switch(B[_].charAt(0)){case"X":y=parseInt(B[_].slice(1))-1,++J;break;case"Y":for(g=parseInt(B[_].slice(1))-1,T=N.length;T<=g;++T)N[T]=[];break;case"M":j=parseInt(B[_].slice(1))/20;break;case"F":break;case"G":break;case"P":C=E[parseInt(B[_].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(L=B[_].slice(1).split(" "),T=parseInt(L[0],10);T<=parseInt(L[1],10);++T)j=parseInt(L[2],10),M[T-1]=j===0?{hidden:!0}:{wch:j},Nm(M[T-1]);break;case"C":y=parseInt(B[_].slice(1))-1,M[y]||(M[y]={});break;case"R":g=parseInt(B[_].slice(1))-1,P[g]||(P[g]={}),j>0?(P[g].hpt=j,P[g].hpx=uy(j)):j===0&&(P[g].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+I)}J<1&&(C=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+I)}}return P.length>0&&(O["!rows"]=P),M.length>0&&(O["!cols"]=M),m&&m.sheetRows&&(N=N.slice(0,m.sheetRows)),[N,O]}function s(h,m){var w=a(h,m),g=w[0],y=w[1],b=Dy(g,m);return Mi(y).forEach(function(_){b[_]=y[_]}),b}function o(h,m){return Um(s(h,m),m)}function c(h,m,w,g){var y="C;Y"+(w+1)+";X"+(g+1)+";K";switch(h.t){case"n":y+=h.v||0,h.f&&!h.F&&(y+=";E"+yM(h.f,{r:w,c:g}));break;case"b":y+=h.v?"TRUE":"FALSE";break;case"e":y+=h.w||h.v;break;case"d":y+='"'+(h.w||h.v)+'"';break;case"s":y+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return y}function u(h,m){m.forEach(function(w,g){var y="F;W"+(g+1)+" "+(g+1)+" ";w.hidden?y+="0":(typeof w.width=="number"&&!w.wpx&&(w.wpx=Pw(w.width)),typeof w.wpx=="number"&&!w.wch&&(w.wch=Tw(w.wpx)),typeof w.wch=="number"&&(y+=Math.round(w.wch))),y.charAt(y.length-1)!=" "&&h.push(y)})}function d(h,m){m.forEach(function(w,g){var y="F;";w.hidden?y+="M0;":w.hpt?y+="M"+20*w.hpt+";":w.hpx&&(y+="M"+20*Ow(w.hpx)+";"),y.length>2&&h.push(y+"R"+(g+1))})}function f(h,m){var w=["ID;PWXL;N;E"],g=[],y=ea(h["!ref"]),b,_=Array.isArray(h),N=`\r
`;w.push("P;PGeneral"),w.push("F;P0;DG0G8;M255"),h["!cols"]&&u(w,h["!cols"]),h["!rows"]&&d(w,h["!rows"]),w.push("B;Y"+(y.e.r-y.s.r+1)+";X"+(y.e.c-y.s.c+1)+";D"+[y.s.c,y.s.r,y.e.c,y.e.r].join(" "));for(var E=y.s.r;E<=y.e.r;++E)for(var C=y.s.c;C<=y.e.c;++C){var O=an({r:E,c:C});b=_?(h[E]||[])[C]:h[O],!(!b||b.v==null&&(!b.f||b.F))&&g.push(c(b,h,E,C))}return w.join(N)+N+g.join(N)+N+"E"+N}return{to_workbook:o,to_sheet:s,from_sheet:f}}(),Eie=function(){function e(i,s){switch(s.type){case"base64":return t(Nc(i),s);case"binary":return t(i,s);case"buffer":return t(Pn&&Buffer.isBuffer(i)?i.toString("binary"):Bm(i),s);case"array":return t(vg(i),s)}throw new Error("Unrecognized type "+s.type)}function t(i,s){for(var o=i.split(`
`),c=-1,u=-1,d=0,f=[];d!==o.length;++d){if(o[d].trim()==="BOT"){f[++c]=[],u=0;continue}if(!(c<0)){var h=o[d].trim().split(","),m=h[0],w=h[1];++d;for(var g=o[d]||"";(g.match(/["]/g)||[]).length&1&&d<o.length-1;)g+=`
`+o[++d];switch(g=g.trim(),+m){case-1:if(g==="BOT"){f[++c]=[],u=0;continue}else if(g!=="EOD")throw new Error("Unrecognized DIF special command "+g);break;case 0:g==="TRUE"?f[c][u]=!0:g==="FALSE"?f[c][u]=!1:isNaN(Ju(w))?isNaN(ly(w).getDate())?f[c][u]=w:f[c][u]=ai(w):f[c][u]=Ju(w),++u;break;case 1:g=g.slice(1,g.length-1),g=g.replace(/""/g,'"'),g&&g.match(/^=".*"$/)&&(g=g.slice(2,-1)),f[c][u++]=g!==""?g:null;break}if(g==="EOD")break}}return s&&s.sheetRows&&(f=f.slice(0,s.sheetRows)),f}function r(i,s){return Dy(e(i,s),s)}function n(i,s){return Um(r(i,s),s)}var a=function(){var i=function(c,u,d,f,h){c.push(u),c.push(d+","+f),c.push('"'+h.replace(/"/g,'""')+'"')},s=function(c,u,d,f){c.push(u+","+d),c.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var u=[],d=ea(c["!ref"]),f,h=Array.isArray(c);i(u,"TABLE",0,1,"sheetjs"),i(u,"VECTORS",0,d.e.r-d.s.r+1,""),i(u,"TUPLES",0,d.e.c-d.s.c+1,""),i(u,"DATA",0,0,"");for(var m=d.s.r;m<=d.e.r;++m){s(u,-1,0,"BOT");for(var w=d.s.c;w<=d.e.c;++w){var g=an({r:m,c:w});if(f=h?(c[m]||[])[w]:c[g],!f){s(u,1,0,"");continue}switch(f.t){case"n":var y=f.w;!y&&f.v!=null&&(y=f.v),y==null?f.f&&!f.F?s(u,1,0,"="+f.f):s(u,1,0,""):s(u,0,y,"V");break;case"b":s(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":s(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=iu(f.z||en[14],_s(ai(f.v)))),s(u,0,f.w,"V");break;default:s(u,1,0,"")}}}s(u,-1,0,"EOD");var b=`\r
`,_=u.join(b);return _}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),Cie=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var m=f.split(`
`),w=-1,g=-1,y=0,b=[];y!==m.length;++y){var _=m[y].trim().split(":");if(_[0]==="cell"){var N=bi(_[1]);if(b.length<=N.r)for(w=b.length;w<=N.r;++w)b[w]||(b[w]=[]);switch(w=N.r,g=N.c,_[2]){case"t":b[w][g]=e(_[3]);break;case"v":b[w][g]=+_[3];break;case"vtf":var E=_[_.length-1];case"vtc":switch(_[3]){case"nl":b[w][g]=!!+_[4];break;default:b[w][g]=+_[4];break}_[2]=="vtf"&&(b[w][g]=[b[w][g],E])}}}return h&&h.sheetRows&&(b=b.slice(0,h.sheetRows)),b}function n(f,h){return Dy(r(f,h),h)}function a(f,h){return Um(n(f,h),h)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var h=[],m=[],w,g="",y=ql(f["!ref"]),b=Array.isArray(f),_=y.s.r;_<=y.e.r;++_)for(var N=y.s.c;N<=y.e.c;++N)if(g=an({r:_,c:N}),w=b?(f[_]||[])[N]:f[g],!(!w||w.v==null||w.t==="z")){switch(m=["cell",g,"t"],w.t){case"s":case"str":m.push(t(w.v));break;case"n":w.f?(m[2]="vtf",m[3]="n",m[4]=w.v,m[5]=t(w.f)):(m[2]="v",m[3]=w.v);break;case"b":m[2]="vt"+(w.f?"f":"c"),m[3]="nl",m[4]=w.v?"1":"0",m[5]=t(w.f||(w.v?"TRUE":"FALSE"));break;case"d":var E=_s(ai(w.v));m[2]="vtc",m[3]="nd",m[4]=""+E,m[5]=w.w||iu(w.z||en[14],E);break;case"e":continue}h.push(m.join(":"))}return h.push("sheet:c:"+(y.e.c-y.s.c+1)+":r:"+(y.e.r-y.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function d(f){return[i,s,o,s,u(f),c].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:d}}(),cy=function(){function e(d,f,h,m,w){w.raw?f[h][m]=d:d===""||(d==="TRUE"?f[h][m]=!0:d==="FALSE"?f[h][m]=!1:isNaN(Ju(d))?isNaN(ly(d).getDate())?f[h][m]=d:f[h][m]=ai(d):f[h][m]=Ju(d))}function t(d,f){var h=f||{},m=[];if(!d||d.length===0)return m;for(var w=d.split(/[\r\n]/),g=w.length-1;g>=0&&w[g].length===0;)--g;for(var y=10,b=0,_=0;_<=g;++_)b=w[_].indexOf(" "),b==-1?b=w[_].length:b++,y=Math.max(y,b);for(_=0;_<=g;++_){m[_]=[];var N=0;for(e(w[_].slice(0,y).trim(),m,_,N,h),N=1;N<=(w[_].length-y)/10+1;++N)e(w[_].slice(y+(N-1)*10,y+N*10).trim(),m,_,N,h)}return h.sheetRows&&(m=m.slice(0,h.sheetRows)),m}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(d){for(var f={},h=!1,m=0,w=0;m<d.length;++m)(w=d.charCodeAt(m))==34?h=!h:!h&&w in r&&(f[w]=(f[w]||0)+1);w=[];for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&w.push([f[m],m]);if(!w.length){f=n;for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&w.push([f[m],m])}return w.sort(function(g,y){return g[0]-y[0]||n[g[1]]-n[y[1]]}),r[w.pop()[1]]||44}function i(d,f){var h=f||{},m="",w=h.dense?[]:{},g={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(m=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(m=d.charAt(4),d=d.slice(6)):m=a(d.slice(0,1024)):h&&h.FS?m=h.FS:m=a(d.slice(0,1024));var y=0,b=0,_=0,N=0,E=0,C=m.charCodeAt(0),O=!1,P=0,M=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var L=h.dateNF!=null?u9e(h.dateNF):null;function j(){var T=d.slice(N,E),I={};if(T.charAt(0)=='"'&&T.charAt(T.length-1)=='"'&&(T=T.slice(1,-1).replace(/""/g,'"')),T.length===0)I.t="z";else if(h.raw)I.t="s",I.v=T;else if(T.trim().length===0)I.t="s",I.v=T;else if(T.charCodeAt(0)==61)T.charCodeAt(1)==34&&T.charCodeAt(T.length-1)==34?(I.t="s",I.v=T.slice(2,-1).replace(/""/g,'"')):$qe(T)?(I.t="n",I.f=T.slice(1)):(I.t="s",I.v=T);else if(T=="TRUE")I.t="b",I.v=!0;else if(T=="FALSE")I.t="b",I.v=!1;else if(!isNaN(_=Ju(T)))I.t="n",h.cellText!==!1&&(I.w=T),I.v=_;else if(!isNaN(ly(T).getDate())||L&&T.match(L)){I.z=h.dateNF||en[14];var B=0;L&&T.match(L)&&(T=d9e(T,h.dateNF,T.match(L)||[]),B=1),h.cellDates?(I.t="d",I.v=ai(T,B)):(I.t="n",I.v=_s(ai(T,B))),h.cellText!==!1&&(I.w=iu(I.z,I.v instanceof Date?_s(I.v):I.v)),h.cellNF||delete I.z}else I.t="s",I.v=T;if(I.t=="z"||(h.dense?(w[y]||(w[y]=[]),w[y][b]=I):w[an({c:b,r:y})]=I),N=E+1,M=d.charCodeAt(N),g.e.c<b&&(g.e.c=b),g.e.r<y&&(g.e.r=y),P==C)++b;else if(b=0,++y,h.sheetRows&&h.sheetRows<=y)return!0}e:for(;E<d.length;++E)switch(P=d.charCodeAt(E)){case 34:M===34&&(O=!O);break;case C:case 10:case 13:if(!O&&j())break e;break}return E-N>0&&j(),w["!ref"]=_n(g),w}function s(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?i(d,f):Dy(t(d,f),f)}function o(d,f){var h="",m=f.type=="string"?[0,0,0,0]:kM(d,f);switch(f.type){case"base64":h=Nc(d);break;case"binary":h=d;break;case"buffer":f.codepage==65001?h=d.toString("utf8"):(f.codepage,h=Pn&&Buffer.isBuffer(d)?d.toString("binary"):Bm(d));break;case"array":h=vg(d);break;case"string":h=d;break;default:throw new Error("Unrecognized type "+f.type)}return m[0]==239&&m[1]==187&&m[2]==191?h=Da(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=Da(h):f.type=="binary",h.slice(0,19)=="socialcalc:version:"?Cie.to_sheet(f.type=="string"?h:Da(h),f):s(h,f)}function c(d,f){return Um(o(d,f),f)}function u(d){for(var f=[],h=ea(d["!ref"]),m,w=Array.isArray(d),g=h.s.r;g<=h.e.r;++g){for(var y=[],b=h.s.c;b<=h.e.c;++b){var _=an({r:g,c:b});if(m=w?(d[g]||[])[b]:d[_],!m||m.v==null){y.push("          ");continue}for(var N=(m.w||(kh(m),m.w)||"").slice(0,10);N.length<10;)N+=" ";y.push(N+(b===0?" ":""))}f.push(y.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:o,from_sheet:u}}();function ABe(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=kie.to_workbook(e,r);return r.WTF=n,a}catch(i){if(r.WTF=n,!i.message.match(/SYLK bad record ID/)&&n)throw i;return cy.to_workbook(e,t)}}var X0=function(){function e(D,K,J){if(D){so(D,D.l||0);for(var ne=J.Enum||Y;D.l<D.length;){var ie=D.read_shift(2),oe=ne[ie]||ne[65535],ue=D.read_shift(2),V=D.l+ue,se=oe.f&&oe.f(D,ue,J);if(D.l=V,K(se,oe,ie))return}}}function t(D,K){switch(K.type){case"base64":return r(pc(Nc(D)),K);case"binary":return r(pc(D),K);case"buffer":case"array":return r(D,K)}throw"Unsupported type "+K.type}function r(D,K){if(!D)return D;var J=K||{},ne=J.dense?[]:{},ie="Sheet1",oe="",ue=0,V={},se=[],fe=[],te={s:{r:0,c:0},e:{r:0,c:0}},Ee=J.sheetRows||0;if(D[2]==0&&(D[3]==8||D[3]==9)&&D.length>=16&&D[14]==5&&D[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(D[2]==2)J.Enum=Y,e(D,function(Ge,ht,at){switch(at){case 0:J.vers=Ge,Ge>=4096&&(J.qpro=!0);break;case 6:te=Ge;break;case 204:Ge&&(oe=Ge);break;case 222:oe=Ge;break;case 15:case 51:J.qpro||(Ge[1].v=Ge[1].v.slice(1));case 13:case 14:case 16:at==14&&(Ge[2]&112)==112&&(Ge[2]&15)>1&&(Ge[2]&15)<15&&(Ge[1].z=J.dateNF||en[14],J.cellDates&&(Ge[1].t="d",Ge[1].v=lA(Ge[1].v))),J.qpro&&Ge[3]>ue&&(ne["!ref"]=_n(te),V[ie]=ne,se.push(ie),ne=J.dense?[]:{},te={s:{r:0,c:0},e:{r:0,c:0}},ue=Ge[3],ie=oe||"Sheet"+(ue+1),oe="");var St=J.dense?(ne[Ge[0].r]||[])[Ge[0].c]:ne[an(Ge[0])];if(St){St.t=Ge[1].t,St.v=Ge[1].v,Ge[1].z!=null&&(St.z=Ge[1].z),Ge[1].f!=null&&(St.f=Ge[1].f);break}J.dense?(ne[Ge[0].r]||(ne[Ge[0].r]=[]),ne[Ge[0].r][Ge[0].c]=Ge[1]):ne[an(Ge[0])]=Ge[1];break}},J);else if(D[2]==26||D[2]==14)J.Enum=Q,D[2]==14&&(J.qpro=!0,D.l=0),e(D,function(Ge,ht,at){switch(at){case 204:ie=Ge;break;case 22:Ge[1].v=Ge[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ge[3]>ue&&(ne["!ref"]=_n(te),V[ie]=ne,se.push(ie),ne=J.dense?[]:{},te={s:{r:0,c:0},e:{r:0,c:0}},ue=Ge[3],ie="Sheet"+(ue+1)),Ee>0&&Ge[0].r>=Ee)break;J.dense?(ne[Ge[0].r]||(ne[Ge[0].r]=[]),ne[Ge[0].r][Ge[0].c]=Ge[1]):ne[an(Ge[0])]=Ge[1],te.e.c<Ge[0].c&&(te.e.c=Ge[0].c),te.e.r<Ge[0].r&&(te.e.r=Ge[0].r);break;case 27:Ge[14e3]&&(fe[Ge[14e3][0]]=Ge[14e3][1]);break;case 1537:fe[Ge[0]]=Ge[1],Ge[0]==ue&&(ie=Ge[1]);break}},J);else throw new Error("Unrecognized LOTUS BOF "+D[2]);if(ne["!ref"]=_n(te),V[oe||ie]=ne,se.push(oe||ie),!fe.length)return{SheetNames:se,Sheets:V};for(var Fe={},Pe=[],ve=0;ve<fe.length;++ve)V[se[ve]]?(Pe.push(fe[ve]||se[ve]),Fe[fe[ve]]=V[fe[ve]]||V[se[ve]]):(Pe.push(fe[ve]),Fe[fe[ve]]={"!ref":"A1"});return{SheetNames:Pe,Sheets:Fe}}function n(D,K){var J=K||{};if(+J.codepage>=0&&Hu(+J.codepage),J.type=="string")throw new Error("Cannot write WK1 to JS string");var ne=Ul(),ie=ea(D["!ref"]),oe=Array.isArray(D),ue=[];nr(ne,0,i(1030)),nr(ne,6,c(ie));for(var V=Math.min(ie.e.r,8191),se=ie.s.r;se<=V;++se)for(var fe=es(se),te=ie.s.c;te<=ie.e.c;++te){se===ie.s.r&&(ue[te]=wi(te));var Ee=ue[te]+fe,Fe=oe?(D[se]||[])[te]:D[Ee];if(!(!Fe||Fe.t=="z"))if(Fe.t=="n")(Fe.v|0)==Fe.v&&Fe.v>=-32768&&Fe.v<=32767?nr(ne,13,m(se,te,Fe.v)):nr(ne,14,g(se,te,Fe.v));else{var Pe=kh(Fe);nr(ne,15,f(se,te,Pe.slice(0,239)))}}return nr(ne,1),ne.end()}function a(D,K){var J=K||{};if(+J.codepage>=0&&Hu(+J.codepage),J.type=="string")throw new Error("Cannot write WK3 to JS string");var ne=Ul();nr(ne,0,s(D));for(var ie=0,oe=0;ie<D.SheetNames.length;++ie)(D.Sheets[D.SheetNames[ie]]||{})["!ref"]&&nr(ne,27,U(D.SheetNames[ie],oe++));var ue=0;for(ie=0;ie<D.SheetNames.length;++ie){var V=D.Sheets[D.SheetNames[ie]];if(!(!V||!V["!ref"])){for(var se=ea(V["!ref"]),fe=Array.isArray(V),te=[],Ee=Math.min(se.e.r,8191),Fe=se.s.r;Fe<=Ee;++Fe)for(var Pe=es(Fe),ve=se.s.c;ve<=se.e.c;++ve){Fe===se.s.r&&(te[ve]=wi(ve));var Ge=te[ve]+Pe,ht=fe?(V[Fe]||[])[ve]:V[Ge];if(!(!ht||ht.t=="z"))if(ht.t=="n")nr(ne,23,j(Fe,ve,ue,ht.v));else{var at=kh(ht);nr(ne,22,P(Fe,ve,ue,at.slice(0,239)))}}++ue}}return nr(ne,1),ne.end()}function i(D){var K=Pt(2);return K.write_shift(2,D),K}function s(D){var K=Pt(26);K.write_shift(2,4096),K.write_shift(2,4),K.write_shift(4,0);for(var J=0,ne=0,ie=0,oe=0;oe<D.SheetNames.length;++oe){var ue=D.SheetNames[oe],V=D.Sheets[ue];if(!(!V||!V["!ref"])){++ie;var se=ql(V["!ref"]);J<se.e.r&&(J=se.e.r),ne<se.e.c&&(ne=se.e.c)}}return J>8191&&(J=8191),K.write_shift(2,J),K.write_shift(1,ie),K.write_shift(1,ne),K.write_shift(2,0),K.write_shift(2,0),K.write_shift(1,1),K.write_shift(1,2),K.write_shift(4,0),K.write_shift(4,0),K}function o(D,K,J){var ne={s:{c:0,r:0},e:{c:0,r:0}};return K==8&&J.qpro?(ne.s.c=D.read_shift(1),D.l++,ne.s.r=D.read_shift(2),ne.e.c=D.read_shift(1),D.l++,ne.e.r=D.read_shift(2),ne):(ne.s.c=D.read_shift(2),ne.s.r=D.read_shift(2),K==12&&J.qpro&&(D.l+=2),ne.e.c=D.read_shift(2),ne.e.r=D.read_shift(2),K==12&&J.qpro&&(D.l+=2),ne.s.c==65535&&(ne.s.c=ne.e.c=ne.s.r=ne.e.r=0),ne)}function c(D){var K=Pt(8);return K.write_shift(2,D.s.c),K.write_shift(2,D.s.r),K.write_shift(2,D.e.c),K.write_shift(2,D.e.r),K}function u(D,K,J){var ne=[{c:0,r:0},{t:"n",v:0},0,0];return J.qpro&&J.vers!=20768?(ne[0].c=D.read_shift(1),ne[3]=D.read_shift(1),ne[0].r=D.read_shift(2),D.l+=2):(ne[2]=D.read_shift(1),ne[0].c=D.read_shift(2),ne[0].r=D.read_shift(2)),ne}function d(D,K,J){var ne=D.l+K,ie=u(D,K,J);if(ie[1].t="s",J.vers==20768){D.l++;var oe=D.read_shift(1);return ie[1].v=D.read_shift(oe,"utf8"),ie}return J.qpro&&D.l++,ie[1].v=D.read_shift(ne-D.l,"cstr"),ie}function f(D,K,J){var ne=Pt(7+J.length);ne.write_shift(1,255),ne.write_shift(2,K),ne.write_shift(2,D),ne.write_shift(1,39);for(var ie=0;ie<ne.length;++ie){var oe=J.charCodeAt(ie);ne.write_shift(1,oe>=128?95:oe)}return ne.write_shift(1,0),ne}function h(D,K,J){var ne=u(D,K,J);return ne[1].v=D.read_shift(2,"i"),ne}function m(D,K,J){var ne=Pt(7);return ne.write_shift(1,255),ne.write_shift(2,K),ne.write_shift(2,D),ne.write_shift(2,J,"i"),ne}function w(D,K,J){var ne=u(D,K,J);return ne[1].v=D.read_shift(8,"f"),ne}function g(D,K,J){var ne=Pt(13);return ne.write_shift(1,255),ne.write_shift(2,K),ne.write_shift(2,D),ne.write_shift(8,J,"f"),ne}function y(D,K,J){var ne=D.l+K,ie=u(D,K,J);if(ie[1].v=D.read_shift(8,"f"),J.qpro)D.l=ne;else{var oe=D.read_shift(2);E(D.slice(D.l,D.l+oe),ie),D.l+=oe}return ie}function b(D,K,J){var ne=K&32768;return K&=-32769,K=(ne?D:0)+(K>=8192?K-16384:K),(ne?"":"$")+(J?wi(K):es(K))}var _={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},N=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function E(D,K){so(D,0);for(var J=[],ne=0,ie="",oe="",ue="",V="";D.l<D.length;){var se=D[D.l++];switch(se){case 0:J.push(D.read_shift(8,"f"));break;case 1:oe=b(K[0].c,D.read_shift(2),!0),ie=b(K[0].r,D.read_shift(2),!1),J.push(oe+ie);break;case 2:{var fe=b(K[0].c,D.read_shift(2),!0),te=b(K[0].r,D.read_shift(2),!1);oe=b(K[0].c,D.read_shift(2),!0),ie=b(K[0].r,D.read_shift(2),!1),J.push(fe+te+":"+oe+ie)}break;case 3:if(D.l<D.length){console.error("WK1 premature formula end");return}break;case 4:J.push("("+J.pop()+")");break;case 5:J.push(D.read_shift(2));break;case 6:{for(var Ee="";se=D[D.l++];)Ee+=String.fromCharCode(se);J.push('"'+Ee.replace(/"/g,'""')+'"')}break;case 8:J.push("-"+J.pop());break;case 23:J.push("+"+J.pop());break;case 22:J.push("NOT("+J.pop()+")");break;case 20:case 21:V=J.pop(),ue=J.pop(),J.push(["AND","OR"][se-20]+"("+ue+","+V+")");break;default:if(se<32&&N[se])V=J.pop(),ue=J.pop(),J.push(ue+N[se]+V);else if(_[se]){if(ne=_[se][1],ne==69&&(ne=D[D.l++]),ne>J.length){console.error("WK1 bad formula parse 0x"+se.toString(16)+":|"+J.join("|")+"|");return}var Fe=J.slice(-ne);J.length-=ne,J.push(_[se][0]+"("+Fe.join(",")+")")}else return se<=7?console.error("WK1 invalid opcode "+se.toString(16)):se<=24?console.error("WK1 unsupported op "+se.toString(16)):se<=30?console.error("WK1 invalid opcode "+se.toString(16)):se<=115?console.error("WK1 unsupported function opcode "+se.toString(16)):console.error("WK1 unrecognized opcode "+se.toString(16))}}J.length==1?K[1].f=""+J[0]:console.error("WK1 bad formula parse |"+J.join("|")+"|")}function C(D){var K=[{c:0,r:0},{t:"n",v:0},0];return K[0].r=D.read_shift(2),K[3]=D[D.l++],K[0].c=D[D.l++],K}function O(D,K){var J=C(D);return J[1].t="s",J[1].v=D.read_shift(K-4,"cstr"),J}function P(D,K,J,ne){var ie=Pt(6+ne.length);ie.write_shift(2,D),ie.write_shift(1,J),ie.write_shift(1,K),ie.write_shift(1,39);for(var oe=0;oe<ne.length;++oe){var ue=ne.charCodeAt(oe);ie.write_shift(1,ue>=128?95:ue)}return ie.write_shift(1,0),ie}function M(D,K){var J=C(D);J[1].v=D.read_shift(2);var ne=J[1].v>>1;if(J[1].v&1)switch(ne&7){case 0:ne=(ne>>3)*5e3;break;case 1:ne=(ne>>3)*500;break;case 2:ne=(ne>>3)/20;break;case 3:ne=(ne>>3)/200;break;case 4:ne=(ne>>3)/2e3;break;case 5:ne=(ne>>3)/2e4;break;case 6:ne=(ne>>3)/16;break;case 7:ne=(ne>>3)/64;break}return J[1].v=ne,J}function L(D,K){var J=C(D),ne=D.read_shift(4),ie=D.read_shift(4),oe=D.read_shift(2);if(oe==65535)return ne===0&&ie===3221225472?(J[1].t="e",J[1].v=15):ne===0&&ie===3489660928?(J[1].t="e",J[1].v=42):J[1].v=0,J;var ue=oe&32768;return oe=(oe&32767)-16446,J[1].v=(1-ue*2)*(ie*Math.pow(2,oe+32)+ne*Math.pow(2,oe)),J}function j(D,K,J,ne){var ie=Pt(14);if(ie.write_shift(2,D),ie.write_shift(1,J),ie.write_shift(1,K),ne==0)return ie.write_shift(4,0),ie.write_shift(4,0),ie.write_shift(2,65535),ie;var oe=0,ue=0,V=0,se=0;return ne<0&&(oe=1,ne=-ne),ue=Math.log2(ne)|0,ne/=Math.pow(2,ue-31),se=ne>>>0,(se&2147483648)==0&&(ne/=2,++ue,se=ne>>>0),ne-=se,se|=2147483648,se>>>=0,ne*=Math.pow(2,32),V=ne>>>0,ie.write_shift(4,V),ie.write_shift(4,se),ue+=16383+(oe?32768:0),ie.write_shift(2,ue),ie}function T(D,K){var J=L(D);return D.l+=K-14,J}function I(D,K){var J=C(D),ne=D.read_shift(4);return J[1].v=ne>>6,J}function B(D,K){var J=C(D),ne=D.read_shift(8,"f");return J[1].v=ne,J}function G(D,K){var J=B(D);return D.l+=K-10,J}function Z(D,K){return D[D.l+K-1]==0?D.read_shift(K,"cstr"):""}function re(D,K){var J=D[D.l++];J>K-1&&(J=K-1);for(var ne="";ne.length<J;)ne+=String.fromCharCode(D[D.l++]);return ne}function W(D,K,J){if(!(!J.qpro||K<21)){var ne=D.read_shift(1);D.l+=17,D.l+=1,D.l+=2;var ie=D.read_shift(K-21,"cstr");return[ne,ie]}}function z(D,K){for(var J={},ne=D.l+K;D.l<ne;){var ie=D.read_shift(2);if(ie==14e3){for(J[ie]=[0,""],J[ie][0]=D.read_shift(2);D[D.l];)J[ie][1]+=String.fromCharCode(D[D.l]),D.l++;D.l++}}return J}function U(D,K){var J=Pt(5+D.length);J.write_shift(2,14e3),J.write_shift(2,K);for(var ne=0;ne<D.length;++ne){var ie=D.charCodeAt(ne);J[J.l++]=ie>127?95:ie}return J[J.l++]=0,J}var Y={0:{n:"BOF",f:cs},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:w},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:y},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Z},222:{n:"SHEETNAMELP",f:re},65535:{n:""}},Q={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:O},23:{n:"NUMBER17",f:L},24:{n:"NUMBER18",f:M},25:{n:"FORMULA19",f:T},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:z},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:I},38:{n:"??"},39:{n:"NUMBER27",f:B},40:{n:"FORMULA28",f:G},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Z},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:W},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}();function kBe(e){var t={},r=e.match(Ho),n=0,a=!1;if(r)for(;n!=r.length;++n){var i=cn(r[n]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=zR[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(i[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+i[0])}}return t}var EBe=function(){var e=Nw("t"),t=Nw("rPr");function r(i){var s=i.match(e);if(!s)return{t:"s",v:""};var o={t:"s",v:Qn(s[1])},c=i.match(t);return c&&(o.s=kBe(c[1])),o}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(s){return s.replace(n,"").split(a).map(r).filter(function(o){return o.v})}}(),CBe=function(){var t=/(\r\n|\n)/g;function r(a,i,s){var o=[];a.u&&o.push("text-decoration: underline;"),a.uval&&o.push("text-underline-style:"+a.uval+";"),a.sz&&o.push("font-size:"+a.sz+"pt;"),a.outline&&o.push("text-effect: outline;"),a.shadow&&o.push("text-shadow: auto;"),i.push('<span style="'+o.join("")+'">'),a.b&&(i.push("<b>"),s.push("</b>")),a.i&&(i.push("<i>"),s.push("</i>")),a.strike&&(i.push("<s>"),s.push("</s>"));var c=a.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(i.push("<"+c+">"),s.push("</"+c+">")),s.push("</span>"),a}function n(a){var i=[[],a.v,[]];return a.v?(a.s&&r(a.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(n).join("")}}(),PBe=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,TBe=/<(?:\w+:)?r>/,OBe=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function hM(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Qn(Da(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=Da(e),r&&(n.h=QR(n.t))):e.match(TBe)&&(n.r=Da(e),n.t=Qn(Da((e.replace(OBe,"").match(PBe)||[]).join("").replace(Ho,""))),r&&(n.h=CBe(EBe(n.r)))),n):{t:""}}var DBe=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,IBe=/<(?:\w+:)?(?:si|sstItem)>/g,RBe=/<\/(?:\w+:)?(?:si|sstItem)>/;function MBe(e,t){var r=[],n="";if(!e)return r;var a=e.match(DBe);if(a){n=a[2].replace(IBe,"").split(RBe);for(var i=0;i!=n.length;++i){var s=hM(n[i].trim(),t);s!=null&&(r[r.length]=s)}a=cn(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}var FBe=/^\s|\s$|[\t\n\r]/;function Pie(e,t){if(!t.bookSST)return"";var r=[rs];r[r.length]=rr("sst",null,{xmlns:Rg[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var a=e[n],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(FBe)&&(i+=' xml:space="preserve"'),i+=">"+Pa(a.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function LBe(e){return[e.read_shift(4),e.read_shift(4)]}function jBe(e,t){var r=[],n=!1;return jh(e,function(i,s,o){switch(o){case 159:r.Count=i[0],r.Unique=i[1];break;case 19:r.push(i);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(s.T,!n||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function $Be(e,t){return t||(t=Pt(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var BBe=X9e;function UBe(e){var t=Ul();jt(t,159,$Be(e));for(var r=0;r<e.length;++r)jt(t,19,BBe(e[r]));return jt(t,160),t.end()}function Tie(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function vh(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function qBe(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=vh(e,4),t.U=vh(e,4),t.W=vh(e,4),t}function zBe(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),i=[];a-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=i,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function WBe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(zBe(e));return t}function VBe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function HBe(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=vh(e,4),t.U=vh(e,4),t.W=vh(e,4),t}function GBe(e){var t=HBe(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function Oie(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function Die(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function YBe(e){var t=vh(e);switch(t.Minor){case 2:return[t.Minor,KBe(e)];case 3:return[t.Minor,XBe()];case 4:return[t.Minor,JBe(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function KBe(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=Oie(e,r),a=Die(e,e.length-e.l);return{t:"Std",h:n,v:a}}function XBe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function JBe(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(Ho,function(i){var s=cn(i);switch(bf(s[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(o){n[o]=s[o]});break;case"<dataIntegrity":n.encryptedHmacKey=s.encryptedHmacKey,n.encryptedHmacValue=s.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=s.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(s);break;default:throw s[0]}}),n}function ZBe(e,t){var r={},n=r.EncryptionVersionInfo=vh(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=Oie(e,a),t-=a,r.EncryptionVerifier=Die(e,t),r}function QBe(e){var t={},r=t.EncryptionVersionInfo=vh(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function pM(e){var t=0,r,n=Tie(e),a=n.length+1,i,s,o,c,u;for(r=Sm(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)s=r[i],o=(t&16384)===0?0:1,c=t<<1&32767,u=o|c,t=u^s;return t^52811}var Iie=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(s){return(s/2|s*128)&255},a=function(s,o){return n(s^o)},i=function(s){for(var o=t[s.length-1],c=104,u=s.length-1;u>=0;--u)for(var d=s[u],f=0;f!=7;++f)d&64&&(o^=r[c]),d*=2,--c;return o};return function(s){for(var o=Tie(s),c=i(o),u=o.length,d=Sm(16),f=0;f!=16;++f)d[f]=0;var h,m,w;for((u&1)===1&&(h=c>>8,d[u]=a(e[0],h),--u,h=c&255,m=o[o.length-1],d[u]=a(m,h));u>0;)--u,h=c>>8,d[u]=a(o[u],h),--u,h=c&255,d[u]=a(o[u],h);for(u=15,w=15-o.length;w>0;)h=c>>8,d[u]=a(e[w],h),--u,--w,h=c&255,d[u]=a(o[u],h),--u,--w;return d}}(),eUe=function(e,t,r,n,a){a||(a=t),n||(n=Iie(e));var i,s;for(i=0;i!=t.length;++i)s=t[i],s^=n[r],s=(s>>5|s<<3)&255,a[i]=s,++r;return[a,r,n]},tUe=function(e){var t=0,r=Iie(e);return function(n){var a=eUe("",n,t,r);return t=a[1],a[0]}};function rUe(e,t,r,n){var a={key:cs(e),verificationBytes:cs(e)};return r.password&&(a.verifier=pM(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=tUe(r.password)),a}function nUe(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=QBe(e):n.Data=ZBe(e,t),n}function aUe(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?nUe(e,t-2,n):rUe(e,r.biff>=8?t:t-2,r,n),n}var Rie=function(){function e(a,i){switch(i.type){case"base64":return t(Nc(a),i);case"binary":return t(a,i);case"buffer":return t(Pn&&Buffer.isBuffer(a)?a.toString("binary"):Bm(a),i);case"array":return t(vg(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var s=i||{},o=s.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(d,f){Array.isArray(o)&&(o[f]=[]);for(var h=/\\\w+\b/g,m=0,w,g=-1;w=h.exec(d);){switch(w[0]){case"\\cell":var y=d.slice(m,h.lastIndex-w[0].length);if(y[0]==" "&&(y=y.slice(1)),++g,y.length){var b={v:y,t:"s"};Array.isArray(o)?o[f][g]=b:o[an({r:f,c:g})]=b}break}m=h.lastIndex}g>u.e.c&&(u.e.c=g)}),o["!ref"]=_n(u),o}function r(a,i){return Um(e(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],s=ea(a["!ref"]),o,c=Array.isArray(a),u=s.s.r;u<=s.e.r;++u){i.push("\\trowd\\trautofit1");for(var d=s.s.c;d<=s.e.c;++d)i.push("\\cellx"+(d+1));for(i.push("\\pard\\intbl"),d=s.s.c;d<=s.e.c;++d){var f=an({r:u,c:d});o=c?(a[u]||[])[d]:a[f],!(!o||o.v==null&&(!o.f||o.F))&&(i.push(" "+(o.w||(kh(o),o.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function iUe(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function Cw(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function sUe(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),i=Math.min(t,r,n),s=a-i;if(s===0)return[0,0,t];var o=0,c=0,u=a+i;switch(c=s/(u>1?2-u:u),a){case t:o=((r-n)/s+6)%6;break;case r:o=(n-t)/s+2;break;case n:o=(t-r)/s+4;break}return[o/6,c,u/2]}function oUe(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),i=n-a/2,s=[i,i,i],o=6*t,c;if(r!==0)switch(o|0){case 0:case 6:c=a*o,s[0]+=a,s[1]+=c;break;case 1:c=a*(2-o),s[0]+=c,s[1]+=a;break;case 2:c=a*(o-2),s[1]+=a,s[2]+=c;break;case 3:c=a*(4-o),s[1]+=c,s[2]+=a;break;case 4:c=a*(o-4),s[2]+=a,s[0]+=c;break;case 5:c=a*(6-o),s[2]+=c,s[0]+=a;break}for(var u=0;u!=3;++u)s[u]=Math.round(s[u]*255);return s}function u4(e,t){if(t===0)return e;var r=sUe(iUe(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),Cw(oUe(r))}var Mie=6,lUe=15,cUe=1,Mo=Mie;function Pw(e){return Math.floor((e+Math.round(128/Mo)/256)*Mo)}function Tw(e){return Math.floor((e-5)/Mo*100+.5)/100}function d4(e){return Math.round((e*Mo+5)/Mo*256)/256}function _T(e){return d4(Tw(Pw(e)))}function mM(e){var t=Math.abs(e-_T(e)),r=Mo;if(t>.005)for(Mo=cUe;Mo<lUe;++Mo)Math.abs(e-_T(e))<=t&&(t=Math.abs(e-_T(e)),r=Mo);Mo=r}function Nm(e){e.width?(e.wpx=Pw(e.width),e.wch=Tw(e.wpx),e.MDW=Mo):e.wpx?(e.wch=Tw(e.wpx),e.width=d4(e.wch),e.MDW=Mo):typeof e.wch=="number"&&(e.width=d4(e.wch),e.wpx=Pw(e.width),e.MDW=Mo),e.customWidth&&delete e.customWidth}var uUe=96,Fie=uUe;function Ow(e){return e*96/Fie}function uy(e){return e*Fie/96}var dUe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function fUe(e,t,r,n){t.Borders=[];var a={},i=!1;(e[0].match(Ho)||[]).forEach(function(s){var o=cn(s);switch(bf(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},o.diagonalUp&&(a.diagonalUp=ti(o.diagonalUp)),o.diagonalDown&&(a.diagonalDown=ti(o.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in borders")}})}function hUe(e,t,r,n){t.Fills=[];var a={},i=!1;(e[0].match(Ho)||[]).forEach(function(s){var o=cn(s);switch(bf(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":o.patternType&&(a.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),o.indexed&&(a.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(a.bgColor.theme=parseInt(o.theme,10)),o.tint&&(a.bgColor.tint=parseFloat(o.tint)),o.rgb&&(a.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),o.theme&&(a.fgColor.theme=parseInt(o.theme,10)),o.tint&&(a.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(a.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fills")}})}function pUe(e,t,r,n){t.Fonts=[];var a={},i=!1;(e[0].match(Ho)||[]).forEach(function(s){var o=cn(s);switch(bf(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":o.val&&(a.name=Da(o.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=o.val?ti(o.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=o.val?ti(o.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(o.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=o.val?ti(o.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=o.val?ti(o.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=o.val?ti(o.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=o.val?ti(o.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=o.val?ti(o.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":o.val&&(a.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(a.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(a.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(a.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=zR[parseInt(o.val,10)];break;case"<color":if(a.color||(a.color={}),o.auto&&(a.color.auto=ti(o.auto)),o.rgb)a.color.rgb=o.rgb.slice(-6);else if(o.indexed){a.color.index=parseInt(o.indexed,10);var c=Y0[a.color.index];a.color.index==81&&(c=Y0[1]),c||(c=Y0[1]),a.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else o.theme&&(a.color.theme=parseInt(o.theme,10),o.tint&&(a.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=u4(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fonts")}})}function mUe(e,t,r){t.NumberFmt=[];for(var n=Mi(en),a=0;a<n.length;++a)t.NumberFmt[n[a]]=en[n[a]];var i=e[0].match(Ho);if(i)for(a=0;a<i.length;++a){var s=cn(i[a]);switch(bf(s[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=Qn(Da(s.formatCode)),c=parseInt(s.numFmtId,10);if(t.NumberFmt[c]=o,c>0){if(c>392){for(c=392;c>60&&t.NumberFmt[c]!=null;--c);t.NumberFmt[c]=o}gh(o,c)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+s[0]+" in numFmts")}}}function gUe(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=rr("numFmt",null,{numFmtId:n,formatCode:Pa(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=rr("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var V_=["numFmtId","fillId","fontId","borderId","xfId"],H_=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function vUe(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(Ho)||[]).forEach(function(i){var s=cn(i),o=0;switch(bf(s[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=s,delete n[0],o=0;o<V_.length;++o)n[V_[o]]&&(n[V_[o]]=parseInt(n[V_[o]],10));for(o=0;o<H_.length;++o)n[H_[o]]&&(n[H_[o]]=ti(n[H_[o]]));if(t.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[o]){n.numFmtId=o;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};s.vertical&&(c.vertical=s.vertical),s.horizontal&&(c.horizontal=s.horizontal),s.textRotation!=null&&(c.textRotation=s.textRotation),s.indent&&(c.indent=s.indent),s.wrapText&&(c.wrapText=ti(s.wrapText)),n.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+s[0]+" in cellXfs")}})}function yUe(e){var t=[];return t[t.length]=rr("cellXfs",null),e.forEach(function(r){t[t.length]=rr("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=rr("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var xUe=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,c,u){var d={};if(!o)return d;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=o.match(t))&&mUe(f,d,u),(f=o.match(a))&&pUe(f,d,c,u),(f=o.match(n))&&hUe(f,d,c,u),(f=o.match(i))&&fUe(f,d,c,u),(f=o.match(r))&&vUe(f,d,u),d}}();function Lie(e,t){var r=[rs,rr("styleSheet",null,{xmlns:Rg[0],"xmlns:vt":ws.vt})],n;return e.SSF&&(n=gUe(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=yUe(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function wUe(e,t){var r=e.read_shift(2),n=Bo(e);return[r,n]}function bUe(e,t,r){r||(r=Pt(6+4*t.length)),r.write_shift(2,e),qs(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function _Ue(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=nje(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=e.read_shift(1);s!=0&&(n.underline=s);var o=e.read_shift(1);o>0&&(n.family=o);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=rje(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Bo(e),n}function SUe(e,t){t||(t=Pt(25+4*32)),t.write_shift(2,e.sz*20),aje(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),o4(e.color,t);var n=0;return n=2,t.write_shift(1,n),qs(e.name,t),t.length>t.l?t.slice(0,t.l):t}var NUe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],ST,AUe=Vo;function SV(e,t){t||(t=Pt(4*3+8*7+16*1)),ST||(ST=sA(NUe));var r=ST[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(o4({auto:1},t),o4({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function kUe(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}function jie(e,t,r){r||(r=Pt(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function N2(e,t){return t||(t=Pt(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var EUe=Vo;function CUe(e,t){return t||(t=Pt(51)),t.write_shift(1,0),N2(null,t),N2(null,t),N2(null,t),N2(null,t),N2(null,t),t.length>t.l?t.slice(0,t.l):t}function PUe(e,t){return t||(t=Pt(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),s4(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function TUe(e,t,r){var n=Pt(2052);return n.write_shift(4,e),s4(t,n),s4(r,n),n.length>n.l?n.slice(0,n.l):n}function OUe(e,t,r){var n={};n.NumberFmt=[];for(var a in en)n.NumberFmt[a]=en[a];n.CellXf=[],n.Fonts=[];var i=[],s=!1;return jh(e,function(c,u,d){switch(d){case 44:n.NumberFmt[c[0]]=c[1],gh(c[1],c[0]);break;case 43:n.Fonts.push(c),c.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(c.color.rgb=u4(t.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&n.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:i.push(d),s=!0;break;case 38:i.pop(),s=!1;break;default:if(u.T>0)i.push(d);else if(u.T<0)i.pop();else if(!s||r.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),n}function DUe(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&++r}),r!=0&&(jt(e,615,Zu(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&jt(e,44,bUe(a,t[a]))}),jt(e,616))}}function IUe(e){var t=1;jt(e,611,Zu(t)),jt(e,43,SUe({sz:12,color:{theme:1},name:"Calibri",family:2})),jt(e,612)}function RUe(e){var t=2;jt(e,603,Zu(t)),jt(e,45,SV({patternType:"none"})),jt(e,45,SV({patternType:"gray125"})),jt(e,604)}function MUe(e){var t=1;jt(e,613,Zu(t)),jt(e,46,CUe()),jt(e,614)}function FUe(e){var t=1;jt(e,626,Zu(t)),jt(e,47,jie({numFmtId:0},65535)),jt(e,627)}function LUe(e,t){jt(e,617,Zu(t.length)),t.forEach(function(r){jt(e,47,jie(r,0))}),jt(e,618)}function jUe(e){var t=1;jt(e,619,Zu(t)),jt(e,48,PUe({xfId:0,name:"Normal"})),jt(e,620)}function $Ue(e){var t=0;jt(e,505,Zu(t)),jt(e,506)}function BUe(e){var t=0;jt(e,508,TUe(t,"TableStyleMedium9","PivotStyleMedium4")),jt(e,509)}function UUe(e,t){var r=Ul();return jt(r,278),DUe(r,e.SSF),IUe(r),RUe(r),MUe(r),FUe(r),LUe(r,t.cellXfs),jUe(r),$Ue(r),BUe(r),jt(r,279),r.end()}var qUe=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function zUe(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(Ho)||[]).forEach(function(a){var i=cn(a);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=i.val;break;case"<a:sysClr":n.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[qUe.indexOf(i[0])]=n,n={}):n.name=i[0].slice(3,i[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function WUe(){}function VUe(){}var HUe=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,GUe=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,YUe=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function KUe(e,t,r){t.themeElements={};var n;[["clrScheme",HUe,zUe],["fontScheme",GUe,WUe],["fmtScheme",YUe,VUe]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var XUe=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function $ie(e,t){(!e||e.length===0)&&(e=gM());var r,n={};if(!(r=e.match(XUe)))throw new Error("themeElements not found in theme");return KUe(r[0],n,t),n.raw=e,n}function gM(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[rs];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function JUe(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var i=e.slice(e.l);e.l=n;var s;try{s=Oae(i,{type:"array"})}catch{return}var o=mc(s,"theme/theme/theme1.xml",!0);if(o)return $ie(o,r)}}function ZUe(e){return e.read_shift(4)}function QUe(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=eqe(e,4);break;case 2:t.xclrValue=yie(e);break;case 3:t.xclrValue=ZUe(e);break;case 4:e.l+=4;break}return e.l+=8,t}function eqe(e,t){return Vo(e,t)}function tqe(e,t){return Vo(e,t)}function rqe(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=QUe(e);break;case 6:n[1]=tqe(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function nqe(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),i=[];a-- >0;)i.push(rqe(e,r-e.l));return{ixfe:n,ext:i}}function aqe(e,t){t.forEach(function(r){r[0]})}function iqe(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Bo(e)}}function sqe(e){var t=Pt(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),qs(e.name,t),t.slice(0,t.l)}function oqe(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function lqe(e){var t=Pt(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function cqe(e,t){var r=Pt(8+2*t.length);return r.write_shift(4,e),qs(t,r),r.slice(0,r.l)}function uqe(e){return e.l+=4,e.read_shift(4)!=0}function dqe(e,t){var r=Pt(8);return r.write_shift(4,e),r.write_shift(4,1),r}function fqe(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},i=[],s=!1,o=2;return jh(e,function(c,u,d){switch(d){case 335:n.Types.push({name:c.name});break;case 51:c.forEach(function(f){o==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):o==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:o=c?1:0;break;case 338:o=2;break;case 35:i.push(d),s=!0;break;case 36:i.pop(),s=!1;break;default:if(!u.T){if(!s||a.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),n}function hqe(){var e=Ul();return jt(e,332),jt(e,334,Zu(1)),jt(e,335,sqe({name:"XLDAPR",version:12e4,flags:3496657072})),jt(e,336),jt(e,339,cqe(1,"XLDAPR")),jt(e,52),jt(e,35,Zu(514)),jt(e,4096,Zu(0)),jt(e,4097,Xc(1)),jt(e,36),jt(e,53),jt(e,340),jt(e,337,dqe(1)),jt(e,51,lqe([[1,0]])),jt(e,338),jt(e,333),e.end()}function pqe(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,i=2,s;return e.replace(Ho,function(o){var c=cn(o);switch(bf(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<n.Types.length;++u)n.Types[u].name==c.name&&(s=n.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?n.Cell.push({type:n.Types[c.t-1].name,index:+c.v}):i==0&&n.Value.push({type:n.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!s)break;s.offsets||(s.offsets=[]),s.offsets.push(+c.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return o}),n}function Bie(){var e=[rs];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function mqe(e){var t=[];if(!e)return t;var r=1;return(e.match(Ho)||[]).forEach(function(n){var a=cn(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function gqe(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=an(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function vqe(e,t,r){var n=[];return jh(e,function(i,s,o){switch(o){case 63:n.push(i);break;default:if(!s.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function yqe(e,t,r,n){if(!e)return e;var a=n||{},i=!1;jh(e,function(o,c,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!c.T){if(!i||a.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},a)}function xqe(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}var Yv=1024;function Uie(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[rr("xml",null,{"xmlns:v":uc.v,"xmlns:o":uc.o,"xmlns:x":uc.x,"xmlns:mv":uc.mv}).replace(/\/>/,">"),rr("o:shapelayout",rr("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),rr("v:shapetype",[rr("v:stroke",null,{joinstyle:"miter"}),rr("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];Yv<e*1e3;)Yv+=1e3;return t.forEach(function(i){var s=bi(i[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var c=o.type=="gradient"?rr("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=rr("v:fill",c,o),d={on:"t",obscured:"t"};++Yv,a=a.concat(["<v:shape"+Aw({id:"_x0000_s"+Yv,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,rr("v:shadow",null,d),rr("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",lo("x:Anchor",[s.c+1,0,s.r+1,0,s.c+3,20,s.r+5,20].join(",")),lo("x:AutoFill","False"),lo("x:Row",String(s.r)),lo("x:Column",String(s.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function NV(e,t,r,n){var a=Array.isArray(e),i;t.forEach(function(s){var o=bi(s.ref);if(a?(e[o.r]||(e[o.r]=[]),i=e[o.r][o.c]):i=e[s.ref],!i){i={t:"z"},a?e[o.r][o.c]=i:e[s.ref]=i;var c=ea(e["!ref"]||"BDWGO1000001:A1");c.s.r>o.r&&(c.s.r=o.r),c.e.r<o.r&&(c.e.r=o.r),c.s.c>o.c&&(c.s.c=o.c),c.e.c<o.c&&(c.e.c=o.c);var u=_n(c);u!==e["!ref"]&&(e["!ref"]=u)}i.c||(i.c=[]);var d={a:s.author,t:s.t,r:s.r,T:r};s.h&&(d.h=s.h);for(var f=i.c.length-1;f>=0;--f){if(!r&&i.c[f].T)return;r&&!i.c[f].T&&i.c.splice(f,1)}if(r&&n){for(f=0;f<n.length;++f)if(d.a==n[f].id){d.a=n[f].name||d.a;break}}i.c.push(d)})}function wqe(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?comment[^>]*>/);if(o){var c=cn(o[0]),u={author:c.authorId&&r[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},d=bi(c.ref);if(!(t.sheetRows&&t.sheetRows<=d.r)){var f=s.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!f&&!!f[1]&&hM(f[1])||{r:"",t:"",h:""};u.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),u.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(u.h=h.h),n.push(u)}}}}),n}function qie(e){var t=[rs,rr("comments",null,{xmlns:Rg[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(a){var i=Pa(a.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var a=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(c){c.a&&(a=r.indexOf(Pa(c.a))),i.push(c.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),i.length<=1)t.push(lo("t",Pa(i[0]||"")));else{for(var s=`Comment:
    `+i[0]+`
`,o=1;o<i.length;++o)s+=`Reply:
    `+i[o]+`
`;t.push(lo("t",Pa(s)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function bqe(e,t){var r=[],n=!1,a={},i=0;return e.replace(Ho,function(o,c){var u=cn(o);switch(bf(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":i=c+o.length;break;case"</text>":a.t=e.slice(i,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return o}),r}function _qe(e,t,r){var n=[rs,rr("ThreadedComments",null,{xmlns:ws.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var i="";(a[1]||[]).forEach(function(s,o){if(!s.T){delete s.ID;return}s.a&&t.indexOf(s.a)==-1&&t.push(s.a);var c={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};o==0?i=c.id:c.parentId=i,s.ID=c.id,s.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(s.a)).slice(-12)+"}"),n.push(rr("threadedComment",lo("text",s.t||""),c))})}),n.push("</ThreadedComments>"),n.join("")}function Sqe(e,t){var r=[],n=!1;return e.replace(Ho,function(i){var s=cn(i);switch(bf(s[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:s.displayname,id:s.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+s[0]+" in threaded comments")}return i}),r}function Nqe(e){var t=[rs,rr("personList",null,{xmlns:ws.TCMNT,"xmlns:x":Rg[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(rr("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function Aqe(e){var t={};t.iauthor=e.read_shift(4);var r=jg(e);return t.rfx=r.s,t.ref=an(r.s),e.l+=16,t}function kqe(e,t){return t==null&&(t=Pt(36)),t.write_shift(4,e[1].iauthor),Iy(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var Eqe=Bo;function Cqe(e){return qs(e.slice(0,54))}function Pqe(e,t){var r=[],n=[],a={},i=!1;return jh(e,function(o,c,u){switch(u){case 632:n.push(o);break;case 635:a=o;break;case 637:a.t=o.t,a.h=o.h,a.r=o.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}function Tqe(e){var t=Ul(),r=[];return jt(t,628),jt(t,630),e.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),jt(t,632,Cqe(a.a)))})}),jt(t,631),jt(t,633),e.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var i={s:bi(n[0]),e:bi(n[0])};jt(t,635,kqe([i,a])),a.t&&a.t.length>0&&jt(t,637,Z9e(a)),jt(t,636),delete a.iauthor})}),jt(t,634),jt(t,629),t.end()}var Oqe="application/vnd.ms-office.vbaProject";function Dqe(e){var t=zr.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");zr.utils.cfb_add(t,a,e.FileIndex[n].content)}}),zr.write(t)}function Iqe(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&zr.utils.cfb_add(e,a,t.FileIndex[n].content)}})}var zie=["xlsb","xlsm","xlam","biff8","xla"];function Rqe(){return{"!type":"dialog"}}function Mqe(){return{"!type":"dialog"}}function Fqe(){return{"!type":"macro"}}function Lqe(){return{"!type":"macro"}}var p1=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,s){var o=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var u=i.length>0?parseInt(i,10)|0:0,d=s.length>0?parseInt(s,10)|0:0;return o?d+=t.c:--d,c?u+=t.r:--u,a+(o?"":"$")+wi(d)+(c?"":"$")+es(u)}return function(a,i){return t=i,a.replace(e,r)}}(),vM=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,yM=function(){return function(t,r){return t.replace(vM,function(n,a,i,s,o,c){var u=aM(s)-(i?0:r.c),d=nM(c)-(o?0:r.r),f=d==0?"":o?d+1:"["+d+"]",h=u==0?"":i?u+1:"["+u+"]";return a+"R"+f+"C"+h})}}();function Wie(e,t){return e.replace(vM,function(r,n,a,i,s,o){return n+(a=="$"?a+i:wi(aM(i)+t.c))+(s=="$"?s+o:es(nM(o)+t.r))})}function jqe(e,t,r){var n=ql(t),a=n.s,i=bi(r),s={r:i.r-a.r,c:i.c-a.c};return Wie(e,s)}function $qe(e){return e.length!=1}function AV(e){return e.replace(/_xlfn\./g,"")}function is(e){e.l+=1}function Am(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function Vie(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return Hie(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),s=Am(e),o=Am(e);return{s:{r:a,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function Hie(e){var t=Am(e),r=Am(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function Bqe(e,t,r){if(r.biff<8)return Hie(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=Am(e),s=Am(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:s[0],cRel:s[1],rRel:s[2]}}}function Gie(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return Uqe(e);var n=e.read_shift(r&&r.biff==12?4:2),a=Am(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function Uqe(e){var t=Am(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function qqe(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function zqe(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return Wqe(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),s=(i&16384)>>14,o=(i&32768)>>15;if(i&=16383,o==1)for(;a>524287;)a-=1048576;if(s==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:s,rRel:o}}function Wqe(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function Vqe(e,t,r){var n=(e[e.l++]&96)>>5,a=Vie(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function Hqe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var s=Vie(e,i,r);return[n,a,s]}function Gqe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function Yqe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function Kqe(e,t,r){var n=(e[e.l++]&96)>>5,a=Bqe(e,t-1,r);return[n,a]}function Xqe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function kV(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function Jqe(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function Zqe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Qqe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function eze(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function tze(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function Yie(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function rze(e){return e.read_shift(2),Yie(e)}function nze(e){return e.read_shift(2),Yie(e)}function aze(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=Gie(e,0,r);return[n,a]}function ize(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=zqe(e,0,r);return[n,a]}function sze(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=Gie(e,0,r);return[n,a,i]}function oze(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[uWe[a],Jie[a],n]}function lze(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:cze(e);return[a,(i[0]===0?Jie:cWe)[i[1]]]}function cze(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function uze(e,t,r){e.l+=r&&r.biff==2?3:4}function dze(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function fze(e){return e.l++,$h[e.read_shift(1)]}function hze(e){return e.l++,e.read_shift(2)}function pze(e){return e.l++,e.read_shift(1)!==0}function mze(e){return e.l++,jo(e)}function gze(e,t,r){return e.l++,mb(e,t-1,r)}function vze(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=zi(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=$h[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=jo(e);break;case 2:r[1]=$g(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function yze(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?jg:cA)(e));return a}function xze(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,s=[];i!=n&&(s[i]=[]);++i)for(var o=0;o!=a;++o)s[i][o]=vze(e,r.biff);return s}function wze(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function bze(e,t,r){if(r.biff==5)return _ze(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function _ze(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function Sze(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Nze(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Aze(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function kze(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var Eze=Vo,Cze=Vo,Pze=Vo;function vb(e,t,r){return e.l+=2,[qqe(e)]}function xM(e){return e.l+=6,[]}var Tze=vb,Oze=xM,Dze=xM,Ize=vb;function Kie(e){return e.l+=2,[cs(e),e.read_shift(2)&1]}var Rze=vb,Mze=Kie,Fze=xM,Lze=vb,jze=vb,$ze=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Bze(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),s=$ze[r>>2&31];return{ixti:t,coltype:r&3,rt:s,idx:n,c:a,C:i}}function Uze(e){return e.l+=2,[e.read_shift(4)]}function qze(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function zze(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function Wze(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Vze(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Hze(e){return e.l+=4,[0,0]}var EV={1:{n:"PtgExp",f:dze},2:{n:"PtgTbl",f:Pze},3:{n:"PtgAdd",f:is},4:{n:"PtgSub",f:is},5:{n:"PtgMul",f:is},6:{n:"PtgDiv",f:is},7:{n:"PtgPower",f:is},8:{n:"PtgConcat",f:is},9:{n:"PtgLt",f:is},10:{n:"PtgLe",f:is},11:{n:"PtgEq",f:is},12:{n:"PtgGe",f:is},13:{n:"PtgGt",f:is},14:{n:"PtgNe",f:is},15:{n:"PtgIsect",f:is},16:{n:"PtgUnion",f:is},17:{n:"PtgRange",f:is},18:{n:"PtgUplus",f:is},19:{n:"PtgUminus",f:is},20:{n:"PtgPercent",f:is},21:{n:"PtgParen",f:is},22:{n:"PtgMissArg",f:is},23:{n:"PtgStr",f:gze},26:{n:"PtgSheet",f:qze},27:{n:"PtgEndSheet",f:zze},28:{n:"PtgErr",f:fze},29:{n:"PtgBool",f:pze},30:{n:"PtgInt",f:hze},31:{n:"PtgNum",f:mze},32:{n:"PtgArray",f:Xqe},33:{n:"PtgFunc",f:oze},34:{n:"PtgFuncVar",f:lze},35:{n:"PtgName",f:wze},36:{n:"PtgRef",f:aze},37:{n:"PtgArea",f:Vqe},38:{n:"PtgMemArea",f:Sze},39:{n:"PtgMemErr",f:Eze},40:{n:"PtgMemNoMem",f:Cze},41:{n:"PtgMemFunc",f:Nze},42:{n:"PtgRefErr",f:Aze},43:{n:"PtgAreaErr",f:Gqe},44:{n:"PtgRefN",f:ize},45:{n:"PtgAreaN",f:Kqe},46:{n:"PtgMemAreaN",f:Wze},47:{n:"PtgMemNoMemN",f:Vze},57:{n:"PtgNameX",f:bze},58:{n:"PtgRef3d",f:sze},59:{n:"PtgArea3d",f:Hqe},60:{n:"PtgRefErr3d",f:kze},61:{n:"PtgAreaErr3d",f:Yqe},255:{}},Gze={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Yze={1:{n:"PtgElfLel",f:Kie},2:{n:"PtgElfRw",f:Lze},3:{n:"PtgElfCol",f:Tze},6:{n:"PtgElfRwV",f:jze},7:{n:"PtgElfColV",f:Ize},10:{n:"PtgElfRadical",f:Rze},11:{n:"PtgElfRadicalS",f:Fze},13:{n:"PtgElfColS",f:Oze},15:{n:"PtgElfColSV",f:Dze},16:{n:"PtgElfRadicalLel",f:Mze},25:{n:"PtgList",f:Bze},29:{n:"PtgSxName",f:Uze},255:{}},Kze={0:{n:"PtgAttrNoop",f:Hze},1:{n:"PtgAttrSemi",f:tze},2:{n:"PtgAttrIf",f:Qqe},4:{n:"PtgAttrChoose",f:Jqe},8:{n:"PtgAttrGoto",f:Zqe},16:{n:"PtgAttrSum",f:uze},32:{n:"PtgAttrBaxcel",f:kV},33:{n:"PtgAttrBaxcel",f:kV},64:{n:"PtgAttrSpace",f:rze},65:{n:"PtgAttrSpaceSemi",f:nze},128:{n:"PtgAttrIfError",f:eze},255:{}};function yb(e,t,r,n){if(n.biff<8)return Vo(e,t);for(var a=e.l+t,i=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=xze(e,0,n),i.push(r[s][1]);break;case"PtgMemArea":r[s][2]=yze(e,r[s][1],n),i.push(r[s][2]);break;case"PtgExp":n&&n.biff==12&&(r[s][1][1]=e.read_shift(4),i.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return t=a-e.l,t!==0&&i.push(Vo(e,t)),i}function xb(e,t,r){for(var n=e.l+t,a,i,s=[];n!=e.l;)t=n-e.l,i=e[e.l],a=EV[i]||EV[Gze[i]],(i===24||i===25)&&(a=(i===24?Yze:Kze)[e[e.l+1]]),!a||!a.f?Vo(e,t):s.push([a.n,a.f(e,t,r)]);return s}function Xze(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var s=n[i];if(s)switch(s[0]){case 2:a.push('"'+s[1].replace(/"/g,'""')+'"');break;default:a.push(s[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var Jze={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Zze(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function Xie(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function CV(e,t,r){var n=Xie(e,t,r);return n=="#REF"?n:Zze(n,r)}function Io(e,t,r,n,a){var i=a&&a.biff||8,s={s:{c:0,r:0}},o=[],c,u,d,f=0,h=0,m,w="";if(!e[0]||!e[0][0])return"";for(var g=-1,y="",b=0,_=e[0].length;b<_;++b){var N=e[0][b];switch(N[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=o.pop(),u=o.pop(),g>=0){switch(e[0][g][1][0]){case 0:y=Ti(" ",e[0][g][1][1]);break;case 1:y=Ti("\r",e[0][g][1][1]);break;default:if(y="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}u=u+y,g=-1}o.push(u+Jze[N[0]]+c);break;case"PtgIsect":c=o.pop(),u=o.pop(),o.push(u+" "+c);break;case"PtgUnion":c=o.pop(),u=o.pop(),o.push(u+","+c);break;case"PtgRange":c=o.pop(),u=o.pop(),o.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=ax(N[1][1],s,a),o.push(ix(d,i));break;case"PtgRefN":d=r?ax(N[1][1],r,a):N[1][1],o.push(ix(d,i));break;case"PtgRef3d":f=N[1][1],d=ax(N[1][2],s,a),w=CV(n,f,a),o.push(w+"!"+ix(d,i));break;case"PtgFunc":case"PtgFuncVar":var E=N[1][0],C=N[1][1];E||(E=0),E&=127;var O=E==0?[]:o.slice(-E);o.length-=E,C==="User"&&(C=O.shift()),o.push(C+"("+O.join(",")+")");break;case"PtgBool":o.push(N[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(N[1]);break;case"PtgNum":o.push(String(N[1]));break;case"PtgStr":o.push('"'+N[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(N[1]);break;case"PtgAreaN":m=nV(N[1][1],r?{s:r}:s,a),o.push(xT(m,a));break;case"PtgArea":m=nV(N[1][1],s,a),o.push(xT(m,a));break;case"PtgArea3d":f=N[1][1],m=N[1][2],w=CV(n,f,a),o.push(w+"!"+xT(m,a));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=N[1][2];var P=(n.names||[])[h-1]||(n[0]||[])[h],M=P?P.Name:"SH33TJSNAME"+String(h);M&&M.slice(0,6)=="_xlfn."&&!a.xlfn&&(M=M.slice(6)),o.push(M);break;case"PtgNameX":var L=N[1][1];h=N[1][2];var j;if(a.biff<=5)L<0&&(L=-L),n[L]&&(j=n[L][h]);else{var T="";if(((n[L]||[])[0]||[])[0]==14849||(((n[L]||[])[0]||[])[0]==1025?n[L][h]&&n[L][h].itab>0&&(T=n.SheetNames[n[L][h].itab-1]+"!"):T=n.SheetNames[h-1]+"!"),n[L]&&n[L][h])T+=n[L][h].Name;else if(n[0]&&n[0][h])T+=n[0][h].Name;else{var I=(Xie(n,L,a)||"").split(";;");I[h-1]?T=I[h-1]:T+="SH33TJSERRX"}o.push(T);break}j||(j={Name:"SH33TJSERRY"}),o.push(j.Name);break;case"PtgParen":var B="(",G=")";if(g>=0){switch(y="",e[0][g][1][0]){case 2:B=Ti(" ",e[0][g][1][1])+B;break;case 3:B=Ti("\r",e[0][g][1][1])+B;break;case 4:G=Ti(" ",e[0][g][1][1])+G;break;case 5:G=Ti("\r",e[0][g][1][1])+G;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}g=-1}o.push(B+o.pop()+G);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":d={c:N[1][1],r:N[1][0]};var Z={c:r.c,r:r.r};if(n.sharedf[an(d)]){var re=n.sharedf[an(d)];o.push(Io(re,s,Z,n,a))}else{var W=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){o.push(Io(u[1],s,Z,n,a)),W=!0;break}W||o.push(N[1])}break;case"PtgArray":o.push("{"+Xze(N[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=b;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+N[1].idx+"[#"+N[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(N));default:throw new Error("Unrecognized Formula Token: "+String(N))}var z=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&g>=0&&z.indexOf(e[0][b][0])==-1){N=e[0][g];var U=!0;switch(N[1][0]){case 4:U=!1;case 0:y=Ti(" ",N[1][1]);break;case 5:U=!1;case 1:y=Ti("\r",N[1][1]);break;default:if(y="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+N[1][0])}o.push((U?y:"")+o.pop()+(U?"":y)),g=-1}}if(o.length>1&&a.WTF)throw new Error("bad formula stack");return o[0]}function Qze(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,s=e.read_shift(a);if(s==65535)return[[],Vo(e,t-2)];var o=xb(e,s,r);return t!==s+a&&(i=yb(e,t-s-a,o,r)),e.l=n,[o,i]}function eWe(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,s=e.read_shift(a);if(s==65535)return[[],Vo(e,t-2)];var o=xb(e,s,r);return t!==s+a&&(i=yb(e,t-s-a,o,r)),e.l=n,[o,i]}function tWe(e,t,r,n){var a=e.l+t,i=xb(e,n,r),s;return a!==e.l&&(s=yb(e,a-e.l,i,r)),[i,s]}function rWe(e,t,r){var n=e.l+t,a,i=e.read_shift(2),s=xb(e,i,r);return i==65535?[[],Vo(e,t-2)]:(t!==i+2&&(a=yb(e,n-i-2,s,r)),[s,a])}function nWe(e){var t;if(fh(e,e.l+6)!==65535)return[jo(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function aWe(e){if(e==null){var t=Pt(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return yg(e);return yg(0)}function NT(e,t,r){var n=e.l+t,a=_f(e);r.biff==2&&++e.l;var i=nWe(e),s=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var o=eWe(e,n-e.l,r);return{cell:a,val:i[0],formula:o,shared:s>>3&1,tt:i[1]}}function iWe(e,t,r,n,a){var i=wg(t,r,a),s=aWe(e.v),o=Pt(6),c=33;o.write_shift(2,c),o.write_shift(4,0);for(var u=Pt(e.bf.length),d=0;d<e.bf.length;++d)u[d]=e.bf[d];var f=Bs([i,s,o,u]);return f}function uA(e,t,r){var n=e.read_shift(4),a=xb(e,n,r),i=e.read_shift(4),s=i>0?yb(e,i,a,r):null;return[a,s]}var sWe=uA,dA=uA,oWe=uA,lWe=uA,cWe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},Jie={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},uWe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function PV(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function dWe(e){var t="of:="+e.replace(vM,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function AT(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function fWe(e){return e.replace(/\./,"!")}var ox={},m1={},lx=typeof Map<"u";function wM(e,t,r){var n=0,a=e.length;if(r){if(lx?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=lx?r.get(t):r[t];n<i.length;++n)if(e[i[n]].t===t)return e.Count++,i[n]}}else for(;n<a;++n)if(e[n].t===t)return e.Count++,n;return e[a]={t},e.Count++,e.Unique++,r&&(lx?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function fA(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(Mo=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=Tw(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=d4(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function J0(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function qm(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],a=60,i=e.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){gh(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=n=a;break}}for(a=0;a!=i;++a)if(e[a].numFmtId===n)return a;return e[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function Zie(e,t,r,n,a,i){try{n.cellNF&&(e.z=en[t])}catch(o){if(n.WTF)throw o}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=ai(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(en[t]==null&&gh(c9e[t]||"General",t),e.t==="e")e.w=e.w||$h[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Sw(e.v);else if(e.t==="d"){var s=_s(e.v);(s|0)===s?e.w=s.toString(10):e.w=Sw(s)}else{if(e.v===void 0)return"";e.w=gg(e.v,m1)}else e.t==="d"?e.w=iu(t,_s(e.v),m1):e.w=iu(t,e.v,m1)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&r!=null)try{e.s=i.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=u4(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=u4(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&i.Fills)throw o}}}function hWe(e,t,r){if(e&&e["!ref"]){var n=ea(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function pWe(e,t){var r=ea(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=_n(r))}var mWe=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,gWe=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,vWe=/<(?:\w:)?hyperlink [^>]*>/mg,yWe=/"(\w*:\w*)"/,xWe=/<(?:\w:)?col\b[^>]*[\/]?>/g,wWe=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,bWe=/<(?:\w:)?pageMargins[^>]*\/>/g,Qie=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,_We=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,SWe=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function NWe(e,t,r,n,a,i,s){if(!e)return e;n||(n={"!id":{}});var o=t.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",d="",f=e.match(gWe);f?(u=e.slice(0,f.index),d=e.slice(f.index+f[0].length)):u=d=e;var h=u.match(Qie);h?bM(h[0],o,a,r):(h=u.match(_We))&&kWe(h[0],h[1]||"",o,a,r);var m=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(m>0){var w=u.slice(m,m+50).match(yWe);w&&pWe(o,w[1])}var g=u.match(SWe);g&&g[1]&&$We(g[1],a);var y=[];if(t.cellStyles){var b=u.match(xWe);b&&RWe(y,b)}f&&qWe(f[1],o,t,c,i,s);var _=d.match(wWe);_&&(o["!autofilter"]=FWe(_[0]));var N=[],E=d.match(mWe);if(E)for(m=0;m!=E.length;++m)N[m]=ea(E[m].slice(E[m].indexOf('"')+1));var C=d.match(vWe);C&&OWe(o,C,n);var O=d.match(bWe);if(O&&(o["!margins"]=DWe(cn(O[0]))),!o["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(o["!ref"]=_n(c)),t.sheetRows>0&&o["!ref"]){var P=ea(o["!ref"]);t.sheetRows<=+P.e.r&&(P.e.r=t.sheetRows-1,P.e.r>c.e.r&&(P.e.r=c.e.r),P.e.r<P.s.r&&(P.s.r=P.e.r),P.e.c>c.e.c&&(P.e.c=c.e.c),P.e.c<P.s.c&&(P.s.c=P.e.c),o["!fullref"]=o["!ref"],o["!ref"]=_n(P))}return y.length>0&&(o["!cols"]=y),N.length>0&&(o["!merges"]=N),o}function AWe(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+_n(e[r])+'"/>';return t+"</mergeCells>"}function bM(e,t,r,n){var a=cn(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=Qn(Da(a.codeName)))}function kWe(e,t,r,n,a){bM(e.slice(0,e.indexOf(">")),r,n,a)}function EWe(e,t,r,n,a){var i=!1,s={},o=null;if(n.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[r];try{t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}i=!0,s.codeName=Qd(Pa(c))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),o=(o||"")+rr("outlinePr",null,u)}!i&&!o||(a[a.length]=rr("sheetPr",o,s))}var CWe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],PWe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function TWe(e){var t={sheet:1};return CWe.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),PWe.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=pM(e.password).toString(16).toUpperCase()),rr("sheetProtection",null,t)}function OWe(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var i=cn(Da(t[a]),!0);if(!i.ref)return;var s=((r||{})["!id"]||[])[i.id];s?(i.Target=s.Target,i.location&&(i.Target+="#"+Qn(i.location))):(i.Target="#"+Qn(i.location),s={Target:i.Target,TargetMode:"Internal"}),i.Rel=s,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var o=ea(i.ref),c=o.s.r;c<=o.e.r;++c)for(var u=o.s.c;u<=o.e.c;++u){var d=an({c:u,r:c});n?(e[c]||(e[c]=[]),e[c][u]||(e[c][u]={t:"z",v:void 0}),e[c][u].l=i):(e[d]||(e[d]={t:"z",v:void 0}),e[d].l=i)}}}function DWe(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function IWe(e){return J0(e),rr("pageMargins",null,e)}function RWe(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=cn(t[n],!0);a.hidden&&(a.hidden=ti(a.hidden));var i=parseInt(a.min,10)-1,s=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,mM(a.width)),Nm(a);i<=s;)e[i++]=ii(a)}}function MWe(e,t){for(var r=["<cols>"],n,a=0;a!=t.length;++a)(n=t[a])&&(r[r.length]=rr("col",null,fA(a,n)));return r[r.length]="</cols>",r.join("")}function FWe(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}function LWe(e,t,r,n){var a=typeof e.ref=="string"?e.ref:_n(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,s=ql(a);s.s.r==s.e.r&&(s.e.r=ql(t["!ref"]).e.r,a=_n(s));for(var o=0;o<i.length;++o){var c=i[o];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return o==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),rr("autoFilter",null,{ref:a})}var jWe=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function $We(e,t){t.Views||(t.Views=[{}]),(e.match(jWe)||[]).forEach(function(r,n){var a=cn(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),ti(a.rightToLeft)&&(t.Views[n].RTL=!0)})}function BWe(e,t,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),rr("sheetViews",rr("sheetView",null,a),{})}function UWe(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",i=e.t,s=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=$h[e.v];break;case"d":n&&n.cellDates?a=ai(e.v,-1).toISOString():(e=ii(e),e.t="n",a=""+(e.v=_s(ai(e.v)))),typeof e.z>"u"&&(e.z=en[14]);break;default:a=e.v;break}var o=lo("v",Pa(a)),c={r:t},u=qm(n.cellXfs,e,n);switch(u!==0&&(c.s=u),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=lo("v",""+wM(n.Strings,e.v,n.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=i&&(e.t=i,e.v=s),typeof e.f=="string"&&e.f){var d=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;o=rr("f",Pa(e.f),d)+(e.v!=null?o:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(c.cm=1),rr("c",o,c)}var qWe=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,i=Nw("v"),s=Nw("f");return function(c,u,d,f,h,m){for(var w=0,g="",y=[],b=[],_=0,N=0,E=0,C="",O,P,M=0,L=0,j,T,I=0,B=0,G=Array.isArray(m.CellXf),Z,re=[],W=[],z=Array.isArray(u),U=[],Y={},Q=!1,D=!!d.sheetStubs,K=c.split(t),J=0,ne=K.length;J!=ne;++J){g=K[J].trim();var ie=g.length;if(ie!==0){var oe=0;e:for(w=0;w<ie;++w)switch(g[w]){case">":if(g[w-1]!="/"){++w;break e}if(d&&d.cellStyles){if(P=cn(g.slice(oe,w),!0),M=P.r!=null?parseInt(P.r,10):M+1,L=-1,d.sheetRows&&d.sheetRows<M)continue;Y={},Q=!1,P.ht&&(Q=!0,Y.hpt=parseFloat(P.ht),Y.hpx=uy(Y.hpt)),P.hidden=="1"&&(Q=!0,Y.hidden=!0),P.outlineLevel!=null&&(Q=!0,Y.level=+P.outlineLevel),Q&&(U[M-1]=Y)}break;case"<":oe=w;break}if(oe>=w)break;if(P=cn(g.slice(oe,w),!0),M=P.r!=null?parseInt(P.r,10):M+1,L=-1,!(d.sheetRows&&d.sheetRows<M)){f.s.r>M-1&&(f.s.r=M-1),f.e.r<M-1&&(f.e.r=M-1),d&&d.cellStyles&&(Y={},Q=!1,P.ht&&(Q=!0,Y.hpt=parseFloat(P.ht),Y.hpx=uy(Y.hpt)),P.hidden=="1"&&(Q=!0,Y.hidden=!0),P.outlineLevel!=null&&(Q=!0,Y.level=+P.outlineLevel),Q&&(U[M-1]=Y)),y=g.slice(w).split(e);for(var ue=0;ue!=y.length&&y[ue].trim().charAt(0)=="<";++ue);for(y=y.slice(ue),w=0;w!=y.length;++w)if(g=y[w].trim(),g.length!==0){if(b=g.match(r),_=w,N=0,E=0,g="<c "+(g.slice(0,1)=="<"?">":"")+g,b!=null&&b.length===2){for(_=0,C=b[1],N=0;N!=C.length&&!((E=C.charCodeAt(N)-64)<1||E>26);++N)_=26*_+E;--_,L=_}else++L;for(N=0;N!=g.length&&g.charCodeAt(N)!==62;++N);if(++N,P=cn(g.slice(0,N),!0),P.r||(P.r=an({r:M-1,c:L})),C=g.slice(N),O={t:""},(b=C.match(i))!=null&&b[1]!==""&&(O.v=Qn(b[1])),d.cellFormula){if((b=C.match(s))!=null&&b[1]!==""){if(O.f=Qn(Da(b[1])).replace(/\r\n/g,`
`),d.xlfn||(O.f=AV(O.f)),b[0].indexOf('t="array"')>-1)O.F=(C.match(a)||[])[1],O.F.indexOf(":")>-1&&re.push([ea(O.F),O.F]);else if(b[0].indexOf('t="shared"')>-1){T=cn(b[0]);var V=Qn(Da(b[1]));d.xlfn||(V=AV(V)),W[parseInt(T.si,10)]=[T,V,P.r]}}else(b=C.match(/<f[^>]*\/>/))&&(T=cn(b[0]),W[T.si]&&(O.f=jqe(W[T.si][1],W[T.si][2],P.r)));var se=bi(P.r);for(N=0;N<re.length;++N)se.r>=re[N][0].s.r&&se.r<=re[N][0].e.r&&se.c>=re[N][0].s.c&&se.c<=re[N][0].e.c&&(O.F=re[N][1])}if(P.t==null&&O.v===void 0)if(O.f||O.F)O.v=0,O.t="n";else if(D)O.t="z";else continue;else O.t=P.t||"n";switch(f.s.c>L&&(f.s.c=L),f.e.c<L&&(f.e.c=L),O.t){case"n":if(O.v==""||O.v==null){if(!D)continue;O.t="z"}else O.v=parseFloat(O.v);break;case"s":if(typeof O.v>"u"){if(!D)continue;O.t="z"}else j=ox[parseInt(O.v,10)],O.v=j.t,O.r=j.r,d.cellHTML&&(O.h=j.h);break;case"str":O.t="s",O.v=O.v!=null?Da(O.v):"",d.cellHTML&&(O.h=QR(O.v));break;case"inlineStr":b=C.match(n),O.t="s",b!=null&&(j=hM(b[1]))?(O.v=j.t,d.cellHTML&&(O.h=j.h)):O.v="";break;case"b":O.v=ti(O.v);break;case"d":d.cellDates?O.v=ai(O.v,1):(O.v=_s(ai(O.v,1)),O.t="n");break;case"e":(!d||d.cellText!==!1)&&(O.w=O.v),O.v=tie[O.v];break}if(I=B=0,Z=null,G&&P.s!==void 0&&(Z=m.CellXf[P.s],Z!=null&&(Z.numFmtId!=null&&(I=Z.numFmtId),d.cellStyles&&Z.fillId!=null&&(B=Z.fillId))),Zie(O,I,B,d,h,m),d.cellDates&&G&&O.t=="n"&&Ty(en[I])&&(O.t="d",O.v=lA(O.v)),P.cm&&d.xlmeta){var fe=(d.xlmeta.Cell||[])[+P.cm-1];fe&&fe.type=="XLDAPR"&&(O.D=!0)}if(z){var te=bi(P.r);u[te.r]||(u[te.r]=[]),u[te.r][te.c]=O}else u[P.r]=O}}}}U.length>0&&(u["!rows"]=U)}}();function zWe(e,t,r,n){var a=[],i=[],s=ea(e["!ref"]),o="",c,u="",d=[],f=0,h=0,m=e["!rows"],w=Array.isArray(e),g={r:u},y,b=-1;for(h=s.s.c;h<=s.e.c;++h)d[h]=wi(h);for(f=s.s.r;f<=s.e.r;++f){for(i=[],u=es(f),h=s.s.c;h<=s.e.c;++h){c=d[h]+u;var _=w?(e[f]||[])[h]:e[c];_!==void 0&&(o=UWe(_,c,e,t))!=null&&i.push(o)}(i.length>0||m&&m[f])&&(g={r:u},m&&m[f]&&(y=m[f],y.hidden&&(g.hidden=1),b=-1,y.hpx?b=Ow(y.hpx):y.hpt&&(b=y.hpt),b>-1&&(g.ht=b,g.customHeight=1),y.level&&(g.outlineLevel=y.level)),a[a.length]=rr("row",i.join(""),g))}if(m)for(;f<m.length;++f)m&&m[f]&&(g={r:f+1},y=m[f],y.hidden&&(g.hidden=1),b=-1,y.hpx?b=Ow(y.hpx):y.hpt&&(b=y.hpt),b>-1&&(g.ht=b,g.customHeight=1),y.level&&(g.outlineLevel=y.level),a[a.length]=rr("row","",g));return a.join("")}function ese(e,t,r,n){var a=[rs,rr("worksheet",null,{xmlns:Rg[0],"xmlns:r":ws.r})],i=r.SheetNames[e],s=0,o="",c=r.Sheets[i];c==null&&(c={});var u=c["!ref"]||"A1",d=ea(u);if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),u=_n(d)}n||(n={}),c["!comments"]=[];var f=[];EWe(c,r,e,t,a),a[a.length]=rr("dimension",null,{ref:u}),a[a.length]=BWe(c,t,e,r),t.sheetFormat&&(a[a.length]=rr("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(a[a.length]=MWe(c,c["!cols"])),a[s=a.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(o=zWe(c,t),o.length>0&&(a[a.length]=o)),a.length>s+1&&(a[a.length]="</sheetData>",a[s]=a[s].replace("/>",">")),c["!protect"]&&(a[a.length]=TWe(c["!protect"])),c["!autofilter"]!=null&&(a[a.length]=LWe(c["!autofilter"],c,r,e)),c["!merges"]!=null&&c["!merges"].length>0&&(a[a.length]=AWe(c["!merges"]));var h=-1,m,w=-1;return c["!links"].length>0&&(a[a.length]="<hyperlinks>",c["!links"].forEach(function(g){g[1].Target&&(m={ref:g[0]},g[1].Target.charAt(0)!="#"&&(w=Ea(n,-1,Pa(g[1].Target).replace(/#.*$/,""),On.HLINK),m["r:id"]="rId"+w),(h=g[1].Target.indexOf("#"))>-1&&(m.location=Pa(g[1].Target.slice(h+1))),g[1].Tooltip&&(m.tooltip=Pa(g[1].Tooltip)),a[a.length]=rr("hyperlink",null,m))}),a[a.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(a[a.length]=IWe(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=lo("ignoredErrors",rr("ignoredError",null,{numberStoredAsText:1,sqref:u}))),f.length>0&&(w=Ea(n,-1,"../drawings/drawing"+(e+1)+".xml",On.DRAW),a[a.length]=rr("drawing",null,{"r:id":"rId"+w}),c["!drawing"]=f),c["!comments"].length>0&&(w=Ea(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",On.VML),a[a.length]=rr("legacyDrawing",null,{"r:id":"rId"+w}),c["!legacy"]=w),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function WWe(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}function VWe(e,t,r){var n=Pt(145),a=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var i=320;a.hpx?i=Ow(a.hpx)*20:a.hpt&&(i=a.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var s=0;a.level&&(s|=a.level),a.hidden&&(s|=16),(a.hpx||a.hpt)&&(s|=32),n.write_shift(1,s),n.write_shift(1,0);var o=0,c=n.l;n.l+=4;for(var u={r:e,c:0},d=0;d<16;++d)if(!(t.s.c>d+1<<10||t.e.c<d<<10)){for(var f=-1,h=-1,m=d<<10;m<d+1<<10;++m){u.c=m;var w=Array.isArray(r)?(r[u.r]||[])[u.c]:r[an(u)];w&&(f<0&&(f=m),h=m)}f<0||(++o,n.write_shift(4,f),n.write_shift(4,h))}var g=n.l;return n.l=c,n.write_shift(4,o),n.l=g,n.length>n.l?n.slice(0,n.l):n}function HWe(e,t,r,n){var a=VWe(n,r,t);(a.length>17||(t["!rows"]||[])[n])&&jt(e,0,a)}var GWe=jg,YWe=Iy;function KWe(){}function XWe(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=Q9e(e),r}function JWe(e,t,r){r==null&&(r=Pt(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return o4({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),Xae(e,r),r.slice(0,r.l)}function ZWe(e){var t=cu(e);return[t]}function QWe(e,t,r){return r==null&&(r=Pt(8)),Mg(t,r)}function eVe(e){var t=Fg(e);return[t]}function tVe(e,t,r){return r==null&&(r=Pt(4)),Lg(t,r)}function rVe(e){var t=cu(e),r=e.read_shift(1);return[t,r,"b"]}function nVe(e,t,r){return r==null&&(r=Pt(9)),Mg(t,r),r.write_shift(1,e.v?1:0),r}function aVe(e){var t=Fg(e),r=e.read_shift(1);return[t,r,"b"]}function iVe(e,t,r){return r==null&&(r=Pt(5)),Lg(t,r),r.write_shift(1,e.v?1:0),r}function sVe(e){var t=cu(e),r=e.read_shift(1);return[t,r,"e"]}function oVe(e,t,r){return r==null&&(r=Pt(9)),Mg(t,r),r.write_shift(1,e.v),r}function lVe(e){var t=Fg(e),r=e.read_shift(1);return[t,r,"e"]}function cVe(e,t,r){return r==null&&(r=Pt(8)),Lg(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function uVe(e){var t=cu(e),r=e.read_shift(4);return[t,r,"s"]}function dVe(e,t,r){return r==null&&(r=Pt(12)),Mg(t,r),r.write_shift(4,t.v),r}function fVe(e){var t=Fg(e),r=e.read_shift(4);return[t,r,"s"]}function hVe(e,t,r){return r==null&&(r=Pt(8)),Lg(t,r),r.write_shift(4,t.v),r}function pVe(e){var t=cu(e),r=jo(e);return[t,r,"n"]}function mVe(e,t,r){return r==null&&(r=Pt(16)),Mg(t,r),yg(e.v,r),r}function tse(e){var t=Fg(e),r=jo(e);return[t,r,"n"]}function gVe(e,t,r){return r==null&&(r=Pt(12)),Lg(t,r),yg(e.v,r),r}function vVe(e){var t=cu(e),r=lM(e);return[t,r,"n"]}function yVe(e,t,r){return r==null&&(r=Pt(12)),Mg(t,r),Jae(e.v,r),r}function xVe(e){var t=Fg(e),r=lM(e);return[t,r,"n"]}function wVe(e,t,r){return r==null&&(r=Pt(8)),Lg(t,r),Jae(e.v,r),r}function bVe(e){var t=cu(e),r=iM(e);return[t,r,"is"]}function _Ve(e){var t=cu(e),r=Bo(e);return[t,r,"str"]}function SVe(e,t,r){return r==null&&(r=Pt(12+4*e.v.length)),Mg(t,r),qs(e.v,r),r.length>r.l?r.slice(0,r.l):r}function NVe(e){var t=Fg(e),r=Bo(e);return[t,r,"str"]}function AVe(e,t,r){return r==null&&(r=Pt(8+4*e.v.length)),Lg(t,r),qs(e.v,r),r.length>r.l?r.slice(0,r.l):r}function kVe(e,t,r){var n=e.l+t,a=cu(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"b"];if(r.cellFormula){e.l+=2;var o=dA(e,n-e.l,r);s[3]=Io(o,null,a,r.supbooks,r)}else e.l=n;return s}function EVe(e,t,r){var n=e.l+t,a=cu(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"e"];if(r.cellFormula){e.l+=2;var o=dA(e,n-e.l,r);s[3]=Io(o,null,a,r.supbooks,r)}else e.l=n;return s}function CVe(e,t,r){var n=e.l+t,a=cu(e);a.r=r["!row"];var i=jo(e),s=[a,i,"n"];if(r.cellFormula){e.l+=2;var o=dA(e,n-e.l,r);s[3]=Io(o,null,a,r.supbooks,r)}else e.l=n;return s}function PVe(e,t,r){var n=e.l+t,a=cu(e);a.r=r["!row"];var i=Bo(e),s=[a,i,"str"];if(r.cellFormula){e.l+=2;var o=dA(e,n-e.l,r);s[3]=Io(o,null,a,r.supbooks,r)}else e.l=n;return s}var TVe=jg,OVe=Iy;function DVe(e,t){return t==null&&(t=Pt(4)),t.write_shift(4,e),t}function IVe(e,t){var r=e.l+t,n=jg(e),a=sM(e),i=Bo(e),s=Bo(e),o=Bo(e);e.l=r;var c={rfx:n,relId:a,loc:i,display:o};return s&&(c.Tooltip=s),c}function RVe(e,t){var r=Pt(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Iy({s:bi(e[0]),e:bi(e[0])},r),oM("rId"+t,r);var n=e[1].Target.indexOf("#"),a=n==-1?"":e[1].Target.slice(n+1);return qs(a||"",r),qs(e[1].Tooltip||"",r),qs("",r),r.slice(0,r.l)}function MVe(){}function FVe(e,t,r){var n=e.l+t,a=Zae(e),i=e.read_shift(1),s=[a];if(s[2]=i,r.cellFormula){var o=sWe(e,n-e.l,r);s[1]=o}else e.l=n;return s}function LVe(e,t,r){var n=e.l+t,a=jg(e),i=[a];if(r.cellFormula){var s=lWe(e,n-e.l,r);i[1]=s,e.l=n}else e.l=n;return i}function jVe(e,t,r){r==null&&(r=Pt(18));var n=fA(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var rse=["left","right","top","bottom","header","footer"];function $Ve(e){var t={};return rse.forEach(function(r){t[r]=jo(e)}),t}function BVe(e,t){return t==null&&(t=Pt(6*8)),J0(e),rse.forEach(function(r){yg(e[r],t)}),t}function UVe(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function qVe(e,t,r){r==null&&(r=Pt(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function zVe(e){var t=Pt(24);return t.write_shift(4,4),t.write_shift(4,1),Iy(e,t),t}function WVe(e,t){return t==null&&(t=Pt(16*4+2)),t.write_shift(2,e.password?pM(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function VVe(){}function HVe(){}function GVe(e,t,r,n,a,i,s){if(!e)return e;var o=t||{};n||(n={"!id":{}});var c=o.dense?[]:{},u,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,h=!1,m,w,g,y,b,_,N,E,C,O=[];o.biff=12,o["!row"]=0;var P=0,M=!1,L=[],j={},T=o.supbooks||a.supbooks||[[]];if(T.sharedf=j,T.arrayf=L,T.SheetNames=a.SheetNames||a.Sheets.map(function(z){return z.name}),!o.supbooks&&(o.supbooks=T,a.Names))for(var I=0;I<a.Names.length;++I)T[0][I+1]=a.Names[I];var B=[],G=[],Z=!1;Dw[16]={n:"BrtShortReal",f:tse};var re;if(jh(e,function(U,Y,Q){if(!h)switch(Q){case 148:u=U;break;case 0:m=U,o.sheetRows&&o.sheetRows<=m.r&&(h=!0),E=es(y=m.r),o["!row"]=m.r,(U.hidden||U.hpt||U.level!=null)&&(U.hpt&&(U.hpx=uy(U.hpt)),G[U.r]=U);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(w={t:U[2]},U[2]){case"n":w.v=U[1];break;case"s":N=ox[U[1]],w.v=N.t,w.r=N.r;break;case"b":w.v=!!U[1];break;case"e":w.v=U[1],o.cellText!==!1&&(w.w=$h[w.v]);break;case"str":w.t="s",w.v=U[1];break;case"is":w.t="s",w.v=U[1].t;break}if((g=s.CellXf[U[0].iStyleRef])&&Zie(w,g.numFmtId,null,o,i,s),b=U[0].c==-1?b+1:U[0].c,o.dense?(c[y]||(c[y]=[]),c[y][b]=w):c[wi(b)+E]=w,o.cellFormula){for(M=!1,P=0;P<L.length;++P){var D=L[P];m.r>=D[0].s.r&&m.r<=D[0].e.r&&b>=D[0].s.c&&b<=D[0].e.c&&(w.F=_n(D[0]),M=!0)}!M&&U.length>3&&(w.f=U[3])}if(d.s.r>m.r&&(d.s.r=m.r),d.s.c>b&&(d.s.c=b),d.e.r<m.r&&(d.e.r=m.r),d.e.c<b&&(d.e.c=b),o.cellDates&&g&&w.t=="n"&&Ty(en[g.numFmtId])){var K=U0(w.v);K&&(w.t="d",w.v=new Date(K.y,K.m-1,K.d,K.H,K.M,K.S,K.u))}re&&(re.type=="XLDAPR"&&(w.D=!0),re=void 0);break;case 1:case 12:if(!o.sheetStubs||f)break;w={t:"z",v:void 0},b=U[0].c==-1?b+1:U[0].c,o.dense?(c[y]||(c[y]=[]),c[y][b]=w):c[wi(b)+E]=w,d.s.r>m.r&&(d.s.r=m.r),d.s.c>b&&(d.s.c=b),d.e.r<m.r&&(d.e.r=m.r),d.e.c<b&&(d.e.c=b),re&&(re.type=="XLDAPR"&&(w.D=!0),re=void 0);break;case 176:O.push(U);break;case 49:re=((o.xlmeta||{}).Cell||[])[U-1];break;case 494:var J=n["!id"][U.relId];for(J?(U.Target=J.Target,U.loc&&(U.Target+="#"+U.loc),U.Rel=J):U.relId==""&&(U.Target="#"+U.loc),y=U.rfx.s.r;y<=U.rfx.e.r;++y)for(b=U.rfx.s.c;b<=U.rfx.e.c;++b)o.dense?(c[y]||(c[y]=[]),c[y][b]||(c[y][b]={t:"z",v:void 0}),c[y][b].l=U):(_=an({c:b,r:y}),c[_]||(c[_]={t:"z",v:void 0}),c[_].l=U);break;case 426:if(!o.cellFormula)break;L.push(U),C=o.dense?c[y][b]:c[wi(b)+E],C.f=Io(U[1],d,{r:m.r,c:b},T,o),C.F=_n(U[0]);break;case 427:if(!o.cellFormula)break;j[an(U[0].s)]=U[1],C=o.dense?c[y][b]:c[wi(b)+E],C.f=Io(U[1],d,{r:m.r,c:b},T,o);break;case 60:if(!o.cellStyles)break;for(;U.e>=U.s;)B[U.e--]={width:U.w/256,hidden:!!(U.flags&1),level:U.level},Z||(Z=!0,mM(U.w/256)),Nm(B[U.e+1]);break;case 161:c["!autofilter"]={ref:_n(U)};break;case 476:c["!margins"]=U;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),U.name&&(a.Sheets[r].CodeName=U.name),(U.above||U.left)&&(c["!outline"]={above:U.above,left:U.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),U.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!Y.T){if(!f||o.WTF)throw new Error("Unexpected record 0x"+Q.toString(16))}}},o),delete o.supbooks,delete o["!row"],!c["!ref"]&&(d.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(c["!ref"]=_n(u||d)),o.sheetRows&&c["!ref"]){var W=ea(c["!ref"]);o.sheetRows<=+W.e.r&&(W.e.r=o.sheetRows-1,W.e.r>d.e.r&&(W.e.r=d.e.r),W.e.r<W.s.r&&(W.s.r=W.e.r),W.e.c>d.e.c&&(W.e.c=d.e.c),W.e.c<W.s.c&&(W.s.c=W.e.c),c["!fullref"]=c["!ref"],c["!ref"]=_n(W))}return O.length>0&&(c["!merges"]=O),B.length>0&&(c["!cols"]=B),G.length>0&&(c["!rows"]=G),c}function YVe(e,t,r,n,a,i,s){if(t.v===void 0)return!1;var o="";switch(t.t){case"b":o=t.v?"1":"0";break;case"d":t=ii(t),t.z=t.z||en[14],t.v=_s(ai(t.v)),t.t="n";break;case"n":case"e":o=""+t.v;break;default:o=t.v;break}var c={r,c:n};switch(c.s=qm(a.cellXfs,t,a),t.l&&i["!links"].push([an(c),t.l]),t.c&&i["!comments"].push([an(c),t.c]),t.t){case"s":case"str":return a.bookSST?(o=wM(a.Strings,t.v,a.revStrings),c.t="s",c.v=o,s?jt(e,18,hVe(t,c)):jt(e,7,dVe(t,c))):(c.t="str",s?jt(e,17,AVe(t,c)):jt(e,6,SVe(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?s?jt(e,13,wVe(t,c)):jt(e,2,yVe(t,c)):s?jt(e,16,gVe(t,c)):jt(e,5,mVe(t,c)),!0;case"b":return c.t="b",s?jt(e,15,iVe(t,c)):jt(e,4,nVe(t,c)),!0;case"e":return c.t="e",s?jt(e,14,cVe(t,c)):jt(e,3,oVe(t,c)),!0}return s?jt(e,12,tVe(t,c)):jt(e,1,QWe(t,c)),!0}function KVe(e,t,r,n){var a=ea(t["!ref"]||"A1"),i,s="",o=[];jt(e,145);var c=Array.isArray(t),u=a.e.r;t["!rows"]&&(u=Math.max(a.e.r,t["!rows"].length-1));for(var d=a.s.r;d<=u;++d){s=es(d),HWe(e,t,a,d);var f=!1;if(d<=a.e.r)for(var h=a.s.c;h<=a.e.c;++h){d===a.s.r&&(o[h]=wi(h)),i=o[h]+s;var m=c?(t[d]||[])[h]:t[i];if(!m){f=!1;continue}f=YVe(e,m,d,h,n,t,f)}}jt(e,146)}function XVe(e,t){!t||!t["!merges"]||(jt(e,177,DVe(t["!merges"].length)),t["!merges"].forEach(function(r){jt(e,176,OVe(r))}),jt(e,178))}function JVe(e,t){!t||!t["!cols"]||(jt(e,390),t["!cols"].forEach(function(r,n){r&&jt(e,60,jVe(n,r))}),jt(e,391))}function ZVe(e,t){!t||!t["!ref"]||(jt(e,648),jt(e,649,zVe(ea(t["!ref"]))),jt(e,650))}function QVe(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var a=Ea(r,-1,n[1].Target.replace(/#.*$/,""),On.HLINK);jt(e,494,RVe(n,a))}}),delete t["!links"]}function eHe(e,t,r,n){if(t["!comments"].length>0){var a=Ea(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",On.VML);jt(e,551,oM("rId"+a)),t["!legacy"]=a}}function tHe(e,t,r,n){if(t["!autofilter"]){var a=t["!autofilter"],i=typeof a.ref=="string"?a.ref:_n(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,o=ql(i);o.s.r==o.e.r&&(o.e.r=ql(t["!ref"]).e.r,i=_n(o));for(var c=0;c<s.length;++c){var u=s[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+i;break}}c==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),jt(e,161,Iy(ea(i))),jt(e,162)}}function rHe(e,t,r){jt(e,133),jt(e,137,qVe(t,r)),jt(e,138),jt(e,134)}function nHe(e,t){t["!protect"]&&jt(e,535,WVe(t["!protect"]))}function aHe(e,t,r,n){var a=Ul(),i=r.SheetNames[e],s=r.Sheets[i]||{},o=i;try{r&&r.Workbook&&(o=r.Workbook.Sheets[e].CodeName||o)}catch{}var c=ea(s["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return s["!links"]=[],s["!comments"]=[],jt(a,129),(r.vbaraw||s["!outline"])&&jt(a,147,JWe(o,s["!outline"])),jt(a,148,YWe(c)),rHe(a,s,r.Workbook),JVe(a,s),KVe(a,s,e,t),nHe(a,s),tHe(a,s,r,e),XVe(a,s),QVe(a,s,n),s["!margins"]&&jt(a,476,BVe(s["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&ZVe(a,s),eHe(a,s,e,n),jt(a,130),a.end()}function iHe(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var s=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);s&&(t[+s[1]]=r?+s[2]:s[2])});var a=Qn((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){n=i.replace(/<.*?>/g,"")}),[t,a,n]}function sHe(e,t,r,n,a,i){var s=i||{"!type":"chart"};if(!e)return i;var o=0,c=0,u="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var h=iHe(f);d.s.r=d.s.c=0,d.e.c=o,u=wi(o),h[0].forEach(function(m,w){s[u+es(w)]={t:"n",v:m,z:h[1]},c=w}),d.e.r<c&&(d.e.r=c),++o}),o>0&&(s["!ref"]=_n(d)),s}function oHe(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s,o=e.match(Qie);return o&&bM(o[0],i,a,r),(s=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=s[1]),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}function lHe(e,t){e.l+=10;var r=Bo(e);return{name:r}}function cHe(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s=!1;return jh(e,function(c,u,d){switch(d){case 550:i["!rel"]=c;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),c.name&&(a.Sheets[r].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!s||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},t),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}var _M=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],uHe=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],dHe=[],fHe=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function TV(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var i=t[a];if(n[i[0]]==null)n[i[0]]=i[1];else switch(i[2]){case"bool":typeof n[i[0]]=="string"&&(n[i[0]]=ti(n[i[0]]));break;case"int":typeof n[i[0]]=="string"&&(n[i[0]]=parseInt(n[i[0]],10));break}}}function OV(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=ti(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function nse(e){OV(e.WBProps,_M),OV(e.CalcPr,fHe),TV(e.WBView,uHe),TV(e.Sheets,dHe),m1.date1904=ti(e.WBProps.date1904)}function hHe(e){return!e.Workbook||!e.Workbook.WBProps?"false":ti(e.Workbook.WBProps.date1904)?"true":"false"}var pHe="][*?/\\".split("");function ase(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return pHe.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function mHe(e,t,r){e.forEach(function(n,a){ase(n);for(var i=0;i<a;++i)if(n==e[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var s=t&&t[a]&&t[a].CodeName||n;if(s.charCodeAt(0)==95&&s.length>22)throw new Error("Bad Code Name: Worksheet"+s)}})}function gHe(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];mHe(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)hWe(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}var vHe=/<\w+:workbook/;function yHe(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",i={},s=0;if(e.replace(Ho,function(c,u){var d=cn(c);switch(bf(d[0])){case"<?xml":break;case"<workbook":c.match(vHe)&&(a="xmlns"+c.match(/<(\w+):/)[1]),r.xmlns=d[a];break;case"</workbook>":break;case"<fileVersion":delete d[0],r.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":_M.forEach(function(f){if(d[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=ti(d[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(d[f[0]],10);break;default:r.WBProps[f[0]]=d[f[0]]}}),d.codeName&&(r.WBProps.CodeName=Da(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],r.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=Qn(Da(d.name)),delete d[0],r.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":i={},i.Name=Da(d.name),d.comment&&(i.Comment=d.comment),d.localSheetId&&(i.Sheet=+d.localSheetId),ti(d.hidden||"0")&&(i.Hidden=!0),s=u+c.length;break;case"</definedName>":i.Ref=Qn(Da(e.slice(s,u))),r.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete d[0],r.CalcPr=d;break;case"<calcPr/>":delete d[0],r.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return c}),Rg.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return nse(r),r}function ise(e){var t=[rs];t[t.length]=rr("workbook",null,{xmlns:Rg[0],"xmlns:r":ws.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(_M.forEach(function(o){e.Workbook.WBProps[o[0]]!=null&&e.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=e.Workbook.WBProps[o[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=rr("workbookPr",null,n);var a=e.Workbook&&e.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var s={name:Pa(e.SheetNames[i].slice(0,31))};if(s.sheetId=""+(i+1),s["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:s.state="hidden";break;case 2:s.state="veryHidden";break}t[t.length]=rr("sheet",null,s)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(o){var c={name:o.Name};o.Comment&&(c.comment=o.Comment),o.Sheet!=null&&(c.localSheetId=""+o.Sheet),o.Hidden&&(c.hidden="1"),o.Ref&&(t[t.length]=rr("definedName",Pa(o.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function xHe(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=IO(e),r.name=Bo(e),r}function wHe(e,t){return t||(t=Pt(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),oM(e.strRelID,t),qs(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function bHe(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?Bo(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function _He(e,t){t||(t=Pt(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),Xae(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function SHe(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function NHe(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=eje(e),s=oWe(e,0,r),o=sM(e);e.l=n;var c={Name:i,Ptg:s};return a<268435455&&(c.Sheet=a),o&&(c.Comment=o),c}function AHe(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var i=[],s=[[]];return s.SheetNames=[],s.XTI=[],Dw[16]={n:"BrtFRTArchID$",f:SHe},jh(e,function(c,u,d){switch(d){case 156:s.SheetNames.push(c.name),r.Sheets.push(c);break;case 153:r.WBProps=c;break;case 39:c.Sheet!=null&&(t.SID=c.Sheet),c.Ref=Io(c.Ptg,null,null,s,t),delete t.SID,delete c.Ptg,i.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:s[0].length?s.push([d,c]):s[0]=[d,c],s[s.length-1].XTI=[];break;case 362:s.length===0&&(s[0]=[],s[0].XTI=[]),s[s.length-1].XTI=s[s.length-1].XTI.concat(c),s.XTI=s.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(d),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(d),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!u.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},t),nse(r),r.Names=i,r.supbooks=s,r}function kHe(e,t){jt(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};jt(e,156,wHe(a))}jt(e,144)}function EHe(e,t){t||(t=Pt(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return qs("SheetJS",t),qs(e4.version,t),qs(e4.version,t),qs("7262",t),t.length>t.l?t.slice(0,t.l):t}function CHe(e,t){t||(t=Pt(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function PHe(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,a=-1,i=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&i==-1&&(i=n);i>a||(jt(e,135),jt(e,158,CHe(a)),jt(e,136))}}function THe(e,t){var r=Ul();return jt(r,131),jt(r,128,EHe()),jt(r,153,_He(e.Workbook&&e.Workbook.WBProps||null)),PHe(r,e),kHe(r,e),jt(r,132),r.end()}function OHe(e,t,r){return t.slice(-4)===".bin"?AHe(e,r):yHe(e,r)}function DHe(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?GVe(e,n,r,a,i,s,o):NWe(e,n,r,a,i,s,o)}function IHe(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?cHe(e,n,r,a,i):oHe(e,n,r,a,i)}function RHe(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?Fqe():Lqe()}function MHe(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?Rqe():Mqe()}function FHe(e,t,r,n){return t.slice(-4)===".bin"?OUe(e,r,n):xUe(e,r,n)}function LHe(e,t,r){return $ie(e,r)}function jHe(e,t,r){return t.slice(-4)===".bin"?jBe(e,r):MBe(e,r)}function $He(e,t,r){return t.slice(-4)===".bin"?Pqe(e,r):wqe(e,r)}function BHe(e,t,r){return t.slice(-4)===".bin"?vqe(e):mqe(e)}function UHe(e,t,r,n){return r.slice(-4)===".bin"?yqe(e,t,r,n):void 0}function qHe(e,t,r){return t.slice(-4)===".bin"?fqe(e,t,r):pqe(e,t,r)}function zHe(e,t,r){return(t.slice(-4)===".bin"?THe:ise)(e)}function WHe(e,t,r,n,a){return(t.slice(-4)===".bin"?aHe:ese)(e,r,n,a)}function VHe(e,t,r){return(t.slice(-4)===".bin"?UUe:Lie)(e,r)}function HHe(e,t,r){return(t.slice(-4)===".bin"?UBe:Pie)(e,r)}function GHe(e,t,r){return(t.slice(-4)===".bin"?Tqe:qie)(e)}function YHe(e){return(e.slice(-4)===".bin"?hqe:Bie)()}var sse=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,ose=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Mu(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(sse),i,s,o,c;if(a)for(c=0;c!=a.length;++c)i=a[c].match(ose),(s=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?o="xmlns"+i[1].slice(6):o=i[1].slice(s+1),n[o]=i[2].slice(1,i[2].length-1));return n}function KHe(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(sse),a,i,s,o;if(n)for(o=0;o!=n.length;++o)a=n[o].match(ose),(i=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?s="xmlns"+a[1].slice(6):s=a[1].slice(i+1),r[s]=a[2].slice(1,a[2].length-1));return r}var cx;function XHe(e,t){var r=cx[e]||Qn(e);return r==="General"?gg(t):iu(r,t)}function JHe(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=ti(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=ai(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[Qn(t)]=a}function ZHe(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||$h[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Sw(e.v):e.w=gg(e.v):e.w=XHe(t||"General",e.v)}catch(i){if(r.WTF)throw i}try{var n=cx[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&Ty(n)){var a=U0(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(i){if(r.WTF)throw i}}}function QHe(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=dUe[n.Pattern]||n.Pattern)}e[t.ID]=t}function eGe(e,t,r,n,a,i,s,o,c,u){var d="General",f=n.StyleID,h={};u=u||{};var m=[],w=0;for(f===void 0&&o&&(f=o.StyleID),f===void 0&&s&&(f=s.StyleID);i[f]!==void 0&&(i[f].nf&&(d=i[f].nf),i[f].Interior&&m.push(i[f].Interior),!!i[f].Parent);)f=i[f].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=ti(e);break;case"String":n.t="s",n.r=YW(Qn(e)),n.v=e.indexOf("<")>-1?Qn(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(ai(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=Qn(e):n.v<60&&(n.v=n.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=tie[e],u.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=YW(t||e));break}if(ZHe(n,d,u),u.cellFormula!==!1)if(n.Formula){var g=Qn(n.Formula);g.charCodeAt(0)==61&&(g=g.slice(1)),n.f=p1(g,a),delete n.Formula,n.ArrayRange=="RC"?n.F=p1("RC:RC",a):n.ArrayRange&&(n.F=p1(n.ArrayRange,a),c.push([ea(n.F),n.F]))}else for(w=0;w<c.length;++w)a.r>=c[w][0].s.r&&a.r<=c[w][0].e.r&&a.c>=c[w][0].s.c&&a.c<=c[w][0].e.c&&(n.F=c[w][1]);u.cellStyles&&(m.forEach(function(y){!h.patternType&&y.patternType&&(h.patternType=y.patternType)}),n.s=h),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function tGe(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function kT(e,t){var r=t||{};Oy();var n=j2(eM(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=Da(n));var a=n.slice(0,1024).toLowerCase(),i=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var s=ii(r);return s.type="string",cy.to_workbook(n,s)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(ht){a.indexOf("<"+ht)>=0&&(i=!0)}),i)return BGe(n,r);cx={"General Number":"General","General Date":en[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":en[15],"Short Date":en[14],"Long Time":en[19],"Medium Time":en[18],"Short Time":en[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:en[2],Standard:en[4],Percent:en[10],Scientific:en[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,c=[],u,d={},f=[],h=r.dense?[]:{},m="",w={},g={},y=Mu('<Data ss:Type="String">'),b=0,_=0,N=0,E={s:{r:2e6,c:2e6},e:{r:0,c:0}},C={},O={},P="",M=0,L=[],j={},T={},I=0,B=[],G=[],Z={},re=[],W,z=!1,U=[],Y=[],Q={},D=0,K=0,J={Sheets:[],WBProps:{date1904:!1}},ne={};kw.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var ie="";o=kw.exec(n);)switch(o[3]=(ie=o[3]).toLowerCase()){case"data":if(ie=="data"){if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break}if(c[c.length-1][1])break;o[1]==="/"?eGe(n.slice(b,o.index),P,y,c[c.length-1][0]=="comment"?Z:w,{c:_,r:N},C,re[_],g,U,r):(P="",y=Mu(o[0]),b=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(G.length>0&&(w.c=G),(!r.sheetRows||r.sheetRows>N)&&w.v!==void 0&&(r.dense?(h[N]||(h[N]=[]),h[N][_]=w):h[wi(_)+es(N)]=w),w.HRef&&(w.l={Target:Qn(w.HRef)},w.HRefScreenTip&&(w.l.Tooltip=w.HRefScreenTip),delete w.HRef,delete w.HRefScreenTip),(w.MergeAcross||w.MergeDown)&&(D=_+(parseInt(w.MergeAcross,10)|0),K=N+(parseInt(w.MergeDown,10)|0),L.push({s:{c:_,r:N},e:{c:D,r:K}})),!r.sheetStubs)w.MergeAcross?_=D+1:++_;else if(w.MergeAcross||w.MergeDown){for(var oe=_;oe<=D;++oe)for(var ue=N;ue<=K;++ue)(oe>_||ue>N)&&(r.dense?(h[ue]||(h[ue]=[]),h[ue][oe]={t:"z"}):h[wi(oe)+es(ue)]={t:"z"});_=D+1}else++_;else w=KHe(o[0]),w.Index&&(_=+w.Index-1),_<E.s.c&&(E.s.c=_),_>E.e.c&&(E.e.c=_),o[0].slice(-2)==="/>"&&++_,G=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(N<E.s.r&&(E.s.r=N),N>E.e.r&&(E.e.r=N),o[0].slice(-2)==="/>"&&(g=Mu(o[0]),g.Index&&(N=+g.Index-1)),_=0,++N):(g=Mu(o[0]),g.Index&&(N=+g.Index-1),Q={},(g.AutoFitHeight=="0"||g.Height)&&(Q.hpx=parseInt(g.Height,10),Q.hpt=Ow(Q.hpx),Y[N]=Q),g.Hidden=="1"&&(Q.hidden=!0,Y[N]=Q));break;case"worksheet":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"));f.push(m),E.s.r<=E.e.r&&E.s.c<=E.e.c&&(h["!ref"]=_n(E),r.sheetRows&&r.sheetRows<=E.e.r&&(h["!fullref"]=h["!ref"],E.e.r=r.sheetRows-1,h["!ref"]=_n(E))),L.length&&(h["!merges"]=L),re.length>0&&(h["!cols"]=re),Y.length>0&&(h["!rows"]=Y),d[m]=h}else E={s:{r:2e6,c:2e6},e:{r:0,c:0}},N=_=0,c.push([o[3],!1]),u=Mu(o[0]),m=Qn(u.Name),h=r.dense?[]:{},L=[],U=[],Y=[],ne={name:m,Hidden:0},J.Sheets.push(ne);break;case"table":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else{if(o[0].slice(-2)=="/>")break;c.push([o[3],!1]),re=[],z=!1}break;case"style":o[1]==="/"?QHe(C,O,r):O=Mu(o[0]);break;case"numberformat":O.nf=Qn(Mu(o[0]).Format||"General"),cx[O.nf]&&(O.nf=cx[O.nf]);for(var V=0;V!=392&&en[V]!=O.nf;++V);if(V==392){for(V=57;V!=392;++V)if(en[V]==null){gh(O.nf,V);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(W=Mu(o[0]),W.Hidden&&(W.hidden=!0,delete W.Hidden),W.Width&&(W.wpx=parseInt(W.Width,10)),!z&&W.wpx>10){z=!0,Mo=Mie;for(var se=0;se<re.length;++se)re[se]&&Nm(re[se])}z&&Nm(W),re[W.Index-1||re.length]=W;for(var fe=0;fe<+W.Span;++fe)re[re.length]=ii(W);break;case"namedrange":if(o[1]==="/")break;J.Names||(J.Names=[]);var te=cn(o[0]),Ee={Name:te.Name,Ref:p1(te.RefersTo.slice(1),{r:0,c:0})};J.Sheets.length>0&&(Ee.Sheet=J.Sheets.length-1),J.Names.push(Ee);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?P+=n.slice(M,o.index):M=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;O.Interior=Mu(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?Aje(j,ie,n.slice(I,o.index)):I=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else c.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"));tGe(Z),G.push(Z)}else c.push([o[3],!1]),u=Mu(o[0]),Z={a:u.Author};break;case"autofilter":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var Fe=Mu(o[0]);h["!autofilter"]={ref:p1(Fe.Range).replace(/\$/g,"")},c.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"null":break;default:if(c.length==0&&o[3]=="document"||c.length==0&&o[3]=="uof")return FV(n,r);var Pe=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Pe=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Pe=!1}break;case"excelworkbook":switch(o[3]){case"date1904":J.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Pe=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:Pe=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(I,o.index)){case"SheetHidden":ne.Hidden=1;break;case"SheetVeryHidden":ne.Hidden=2;break}else I=o.index+o[0].length;break;case"header":h["!margins"]||J0(h["!margins"]={},"xlml"),isNaN(+cn(o[0]).Margin)||(h["!margins"].header=+cn(o[0]).Margin);break;case"footer":h["!margins"]||J0(h["!margins"]={},"xlml"),isNaN(+cn(o[0]).Margin)||(h["!margins"].footer=+cn(o[0]).Margin);break;case"pagemargins":var ve=cn(o[0]);h["!margins"]||J0(h["!margins"]={},"xlml"),isNaN(+ve.Top)||(h["!margins"].top=+ve.Top),isNaN(+ve.Left)||(h["!margins"].left=+ve.Left),isNaN(+ve.Right)||(h["!margins"].right=+ve.Right),isNaN(+ve.Bottom)||(h["!margins"].bottom=+ve.Bottom);break;case"displayrighttoleft":J.Views||(J.Views=[]),J.Views[0]||(J.Views[0]={}),J.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Pe=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Pe=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Pe=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Pe=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Pe=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Pe=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Pe=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Pe=!1}break;case"smarttags":break;default:Pe=!1;break}if(Pe||o[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?JHe(T,ie,B,n.slice(I,o.index)):(B=o,I=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+c.join("|")}var Ge={};return!r.bookSheets&&!r.bookProps&&(Ge.Sheets=d),Ge.SheetNames=f,Ge.Workbook=J,Ge.SSF=ii(en),Ge.Props=j,Ge.Custprops=T,Ge}function BO(e,t){switch(NM(t=t||{}),t.type||"base64"){case"base64":return kT(Nc(e),t);case"binary":case"buffer":case"file":return kT(e,t);case"array":return kT(Bm(e),t)}}function rGe(e,t){var r=[];return e.Props&&r.push(kje(e.Props,t)),e.Custprops&&r.push(Eje(e.Props,e.Custprops)),r.join("")}function nGe(){return""}function aGe(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,a){var i=[];i.push(rr("NumberFormat",null,{"ss:Format":Pa(en[n.numFmtId])}));var s={"ss:ID":"s"+(21+a)};r.push(rr("Style",i.join(""),s))}),rr("Styles",r.join(""))}function lse(e){return rr("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+yM(e.Ref,{r:0,c:0})})}function iGe(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var a=t[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(lse(a)))}return rr("Names",r.join(""))}function sGe(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,i=[],s=0;s<a.length;++s){var o=a[s];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||i.push(lse(o)))}return i.join("")}function oGe(e,t,r,n){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(rr("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(rr("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(rr("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(rr("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(lo("ProtectContents","True")),e["!protect"].objects&&a.push(lo("ProtectObjects","True")),e["!protect"].scenarios&&a.push(lo("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(lo("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(lo("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(s){e["!protect"][s[0]]&&a.push("<"+s[1]+"/>")})),a.length==0?"":rr("WorksheetOptions",a.join(""),{xmlns:uc.x})}function lGe(e){return e.map(function(t){var r=P9e(t.t||""),n=rr("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return rr("Comment",n,{"ss:Author":t.a})}).join("")}function cGe(e,t,r,n,a,i,s){if(!e||e.v==null&&e.f==null)return"";var o={};if(e.f&&(o["ss:Formula"]="="+Pa(yM(e.f,s))),e.F&&e.F.slice(0,t.length)==t){var c=bi(e.F.slice(t.length+1));o["ss:ArrayRange"]="RC:R"+(c.r==s.r?"":"["+(c.r-s.r)+"]")+"C"+(c.c==s.c?"":"["+(c.c-s.c)+"]")}if(e.l&&e.l.Target&&(o["ss:HRef"]=Pa(e.l.Target),e.l.Tooltip&&(o["x:HRefScreenTip"]=Pa(e.l.Tooltip))),r["!merges"])for(var u=r["!merges"],d=0;d!=u.length;++d)u[d].s.c!=s.c||u[d].s.r!=s.r||(u[d].e.c>u[d].s.c&&(o["ss:MergeAcross"]=u[d].e.c-u[d].s.c),u[d].e.r>u[d].s.r&&(o["ss:MergeDown"]=u[d].e.r-u[d].s.r));var f="",h="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":f="Number",h=String(e.v);break;case"b":f="Boolean",h=e.v?"1":"0";break;case"e":f="Error",h=$h[e.v];break;case"d":f="DateTime",h=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||en[14]);break;case"s":f="String",h=C9e(e.v||"");break}var m=qm(n.cellXfs,e,n);o["ss:StyleID"]="s"+(21+m),o["ss:Index"]=s.c+1;var w=e.v!=null?h:"",g=e.t=="z"?"":'<Data ss:Type="'+f+'">'+w+"</Data>";return(e.c||[]).length>0&&(g+=lGe(e.c)),rr("Cell",g,o)}function uGe(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=uy(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function dGe(e,t,r,n){if(!e["!ref"])return"";var a=ea(e["!ref"]),i=e["!merges"]||[],s=0,o=[];e["!cols"]&&e["!cols"].forEach(function(y,b){Nm(y);var _=!!y.width,N=fA(b,y),E={"ss:Index":b+1};_&&(E["ss:Width"]=Pw(N.width)),y.hidden&&(E["ss:Hidden"]="1"),o.push(rr("Column",null,E))});for(var c=Array.isArray(e),u=a.s.r;u<=a.e.r;++u){for(var d=[uGe(u,(e["!rows"]||[])[u])],f=a.s.c;f<=a.e.c;++f){var h=!1;for(s=0;s!=i.length;++s)if(!(i[s].s.c>f)&&!(i[s].s.r>u)&&!(i[s].e.c<f)&&!(i[s].e.r<u)){(i[s].s.c!=f||i[s].s.r!=u)&&(h=!0);break}if(!h){var m={r:u,c:f},w=an(m),g=c?(e[u]||[])[f]:e[w];d.push(cGe(g,w,e,t,r,n,m))}}d.push("</Row>"),d.length>2&&o.push(d.join(""))}return o.join("")}function fGe(e,t,r){var n=[],a=r.SheetNames[e],i=r.Sheets[a],s=i?sGe(i,t,e,r):"";return s.length>0&&n.push("<Names>"+s+"</Names>"),s=i?dGe(i,t,e,r):"",s.length>0&&n.push("<Table>"+s+"</Table>"),n.push(oGe(i,t,e,r)),n.join("")}function hGe(e,t){t||(t={}),e.SSF||(e.SSF=ii(en)),e.SSF&&(Oy(),iA(e.SSF),t.revssf=oA(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],qm(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(rGe(e,t)),r.push(nGe()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(rr("Worksheet",fGe(n,t,e),{"ss:Name":Pa(e.SheetNames[n])}));return r[2]=aGe(e,t),r[3]=iGe(e),rs+rr("Workbook",r.join(""),{xmlns:uc.ss,"xmlns:o":uc.o,"xmlns:x":uc.x,"xmlns:ss":uc.ss,"xmlns:dt":uc.dt,"xmlns:html":uc.html})}function pGe(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=ije(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=sje(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var mGe=[60,1084,2066,2165,2175];function gGe(e,t,r,n,a){var i=n,s=[],o=r.slice(r.l,r.l+i);if(a&&a.enc&&a.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(o)}s.push(o),r.l+=i;for(var c=fh(r,r.l),u=UO[c],d=0;u!=null&&mGe.indexOf(c)>-1;)i=fh(r,r.l+2),d=r.l+4,c==2066?d+=4:(c==2165||c==2175)&&(d+=12),o=r.slice(d,r.l+4+i),s.push(o),r.l+=4+i,u=UO[c=fh(r,r.l)];var f=Bs(s);so(f,0);var h=0;f.lens=[];for(var m=0;m<s.length;++m)f.lens.push(h),h+=s[m].length;if(f.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+n;return t.f(f,f.length,a)}function $d(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=en[n])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||$h[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Sw(e.v):e.w=gg(e.v):e.w=iu(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&n&&e.t=="n"&&Ty(en[n]||String(n))){var a=U0(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function G_(e,t,r){return{v:e,ixfe:t,t:r}}function vGe(e,t){var r={opts:{}},n={},a=t.dense?[]:{},i={},s={},o=null,c=[],u="",d={},f,h="",m,w,g,y,b={},_=[],N,E,C=[],O=[],P={Sheets:[],WBProps:{date1904:!1},Views:[{}]},M={},L=function(Nt){return Nt<8?Y0[Nt]:Nt<64&&O[Nt-8]||Y0[Nt]},j=function(Nt,vt,Tr){var cr=vt.XF.data;if(!(!cr||!cr.patternType||!Tr||!Tr.cellStyles)){vt.s={},vt.s.patternType=cr.patternType;var Nn;(Nn=Cw(L(cr.icvFore)))&&(vt.s.fgColor={rgb:Nn}),(Nn=Cw(L(cr.icvBack)))&&(vt.s.bgColor={rgb:Nn})}},T=function(Nt,vt,Tr){if(!(Q>1)&&!(Tr.sheetRows&&Nt.r>=Tr.sheetRows)){if(Tr.cellStyles&&vt.XF&&vt.XF.data&&j(Nt,vt,Tr),delete vt.ixfe,delete vt.XF,f=Nt,h=an(Nt),(!s||!s.s||!s.e)&&(s={s:{r:0,c:0},e:{r:0,c:0}}),Nt.r<s.s.r&&(s.s.r=Nt.r),Nt.c<s.s.c&&(s.s.c=Nt.c),Nt.r+1>s.e.r&&(s.e.r=Nt.r+1),Nt.c+1>s.e.c&&(s.e.c=Nt.c+1),Tr.cellFormula&&vt.f){for(var cr=0;cr<_.length;++cr)if(!(_[cr][0].s.c>Nt.c||_[cr][0].s.r>Nt.r)&&!(_[cr][0].e.c<Nt.c||_[cr][0].e.r<Nt.r)){vt.F=_n(_[cr][0]),(_[cr][0].s.c!=Nt.c||_[cr][0].s.r!=Nt.r)&&delete vt.f,vt.f&&(vt.f=""+Io(_[cr][1],s,Nt,U,I));break}}Tr.dense?(a[Nt.r]||(a[Nt.r]=[]),a[Nt.r][Nt.c]=vt):a[h]=vt}},I={enc:!1,sbcch:0,snames:[],sharedf:b,arrayf:_,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(I.password=t.password);var B,G=[],Z=[],re=[],W=[],z=!1,U=[];U.SheetNames=I.snames,U.sharedf=I.sharedf,U.arrayf=I.arrayf,U.names=[],U.XTI=[];var Y=0,Q=0,D=0,K=[],J=[],ne;I.codepage=1200,Hu(1200);for(var ie=!1;e.l<e.length-1;){var oe=e.l,ue=e.read_shift(2);if(ue===0&&Y===10)break;var V=e.l===e.length?0:e.read_shift(2),se=UO[ue];if(se&&se.f){if(t.bookSheets&&Y===133&&ue!==133)break;if(Y=ue,se.r===2||se.r==12){var fe=e.read_shift(2);if(V-=2,!I.enc&&fe!==ue&&((fe&255)<<8|fe>>8)!==ue)throw new Error("rt mismatch: "+fe+"!="+ue);se.r==12&&(e.l+=10,V-=10)}var te={};if(ue===10?te=se.f(e,V,I):te=gGe(ue,se,e,V,I),Q==0&&[9,521,1033,2057].indexOf(Y)===-1)continue;switch(ue){case 34:r.opts.Date1904=P.WBProps.date1904=te;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(I.enc||(e.l=0),I.enc=te,!t.password)throw new Error("File is password-protected");if(te.valid==null)throw new Error("Encryption scheme unsupported");if(!te.valid)throw new Error("Password is incorrect");break;case 92:I.lastuser=te;break;case 66:var Ee=Number(te);switch(Ee){case 21010:Ee=1200;break;case 32768:Ee=1e4;break;case 32769:Ee=1252;break}Hu(I.codepage=Ee),ie=!0;break;case 317:I.rrtabid=te;break;case 25:I.winlocked=te;break;case 439:r.opts.RefreshAll=te;break;case 12:r.opts.CalcCount=te;break;case 16:r.opts.CalcDelta=te;break;case 17:r.opts.CalcIter=te;break;case 13:r.opts.CalcMode=te;break;case 14:r.opts.CalcPrecision=te;break;case 95:r.opts.CalcSaveRecalc=te;break;case 15:I.CalcRefMode=te;break;case 2211:r.opts.FullCalc=te;break;case 129:te.fDialog&&(a["!type"]="dialog"),te.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),te.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:C.push(te);break;case 430:U.push([te]),U[U.length-1].XTI=[];break;case 35:case 547:U[U.length-1].push(te);break;case 24:case 536:ne={Name:te.Name,Ref:Io(te.rgce,s,null,U,I)},te.itab>0&&(ne.Sheet=te.itab-1),U.names.push(ne),U[0]||(U[0]=[],U[0].XTI=[]),U[U.length-1].push(te),te.Name=="_xlnm._FilterDatabase"&&te.itab>0&&te.rgce&&te.rgce[0]&&te.rgce[0][0]&&te.rgce[0][0][0]=="PtgArea3d"&&(J[te.itab-1]={ref:_n(te.rgce[0][0][1][2])});break;case 22:I.ExternCount=te;break;case 23:U.length==0&&(U[0]=[],U[0].XTI=[]),U[U.length-1].XTI=U[U.length-1].XTI.concat(te),U.XTI=U.XTI.concat(te);break;case 2196:if(I.biff<8)break;ne!=null&&(ne.Comment=te[1]);break;case 18:a["!protect"]=te;break;case 19:te!==0&&I.WTF&&console.error("Password verifier: "+te);break;case 133:i[te.pos]=te,I.snames.push(te.name);break;case 10:{if(--Q)break;if(s.e){if(s.e.r>0&&s.e.c>0){if(s.e.r--,s.e.c--,a["!ref"]=_n(s),t.sheetRows&&t.sheetRows<=s.e.r){var Fe=s.e.r;s.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=_n(s),s.e.r=Fe}s.e.r++,s.e.c++}G.length>0&&(a["!merges"]=G),Z.length>0&&(a["!objects"]=Z),re.length>0&&(a["!cols"]=re),W.length>0&&(a["!rows"]=W),P.Sheets.push(M)}u===""?d=a:n[u]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(I.biff===8&&(I.biff={9:2,521:3,1033:4}[ue]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[te.BIFFVer]||8),I.biffguess=te.BIFFVer==0,te.BIFFVer==0&&te.dt==4096&&(I.biff=5,ie=!0,Hu(I.codepage=28591)),I.biff==8&&te.BIFFVer==0&&te.dt==16&&(I.biff=2),Q++)break;if(a=t.dense?[]:{},I.biff<8&&!ie&&(ie=!0,Hu(I.codepage=t.codepage||1252)),I.biff<5||te.BIFFVer==0&&te.dt==4096){u===""&&(u="Sheet1"),s={s:{r:0,c:0},e:{r:0,c:0}};var Pe={pos:e.l-V,name:u};i[Pe.pos]=Pe,I.snames.push(u)}else u=(i[oe]||{name:""}).name;te.dt==32&&(a["!type"]="chart"),te.dt==64&&(a["!type"]="macro"),G=[],Z=[],I.arrayf=_=[],re=[],W=[],z=!1,M={Hidden:(i[oe]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[te.r]||[])[te.c]:a[an({c:te.c,r:te.r})])&&++te.c,N={ixfe:te.ixfe,XF:C[te.ixfe]||{},v:te.val,t:"n"},D>0&&(N.z=K[N.ixfe>>8&63]),$d(N,t,r.opts.Date1904),T({c:te.c,r:te.r},N,t);break;case 5:case 517:N={ixfe:te.ixfe,XF:C[te.ixfe],v:te.val,t:te.t},D>0&&(N.z=K[N.ixfe>>8&63]),$d(N,t,r.opts.Date1904),T({c:te.c,r:te.r},N,t);break;case 638:N={ixfe:te.ixfe,XF:C[te.ixfe],v:te.rknum,t:"n"},D>0&&(N.z=K[N.ixfe>>8&63]),$d(N,t,r.opts.Date1904),T({c:te.c,r:te.r},N,t);break;case 189:for(var ve=te.c;ve<=te.C;++ve){var Ge=te.rkrec[ve-te.c][0];N={ixfe:Ge,XF:C[Ge],v:te.rkrec[ve-te.c][1],t:"n"},D>0&&(N.z=K[N.ixfe>>8&63]),$d(N,t,r.opts.Date1904),T({c:ve,r:te.r},N,t)}break;case 6:case 518:case 1030:{if(te.val=="String"){o=te;break}if(N=G_(te.val,te.cell.ixfe,te.tt),N.XF=C[N.ixfe],t.cellFormula){var ht=te.formula;if(ht&&ht[0]&&ht[0][0]&&ht[0][0][0]=="PtgExp"){var at=ht[0][0][1][0],St=ht[0][0][1][1],wt=an({r:at,c:St});b[wt]?N.f=""+Io(te.formula,s,te.cell,U,I):N.F=((t.dense?(a[at]||[])[St]:a[wt])||{}).F}else N.f=""+Io(te.formula,s,te.cell,U,I)}D>0&&(N.z=K[N.ixfe>>8&63]),$d(N,t,r.opts.Date1904),T(te.cell,N,t),o=te}break;case 7:case 519:if(o)o.val=te,N=G_(te,o.cell.ixfe,"s"),N.XF=C[N.ixfe],t.cellFormula&&(N.f=""+Io(o.formula,s,o.cell,U,I)),D>0&&(N.z=K[N.ixfe>>8&63]),$d(N,t,r.opts.Date1904),T(o.cell,N,t),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{_.push(te);var _e=an(te[0].s);if(m=t.dense?(a[te[0].s.r]||[])[te[0].s.c]:a[_e],t.cellFormula&&m){if(!o||!_e||!m)break;m.f=""+Io(te[1],s,te[0],U,I),m.F=_n(te[0])}}break;case 1212:{if(!t.cellFormula)break;if(h){if(!o)break;b[an(o.cell)]=te[0],m=t.dense?(a[o.cell.r]||[])[o.cell.c]:a[an(o.cell)],(m||{}).f=""+Io(te[0],s,f,U,I)}}break;case 253:N=G_(c[te.isst].t,te.ixfe,"s"),c[te.isst].h&&(N.h=c[te.isst].h),N.XF=C[N.ixfe],D>0&&(N.z=K[N.ixfe>>8&63]),$d(N,t,r.opts.Date1904),T({c:te.c,r:te.r},N,t);break;case 513:t.sheetStubs&&(N={ixfe:te.ixfe,XF:C[te.ixfe],t:"z"},D>0&&(N.z=K[N.ixfe>>8&63]),$d(N,t,r.opts.Date1904),T({c:te.c,r:te.r},N,t));break;case 190:if(t.sheetStubs)for(var ge=te.c;ge<=te.C;++ge){var Ce=te.ixfe[ge-te.c];N={ixfe:Ce,XF:C[Ce],t:"z"},D>0&&(N.z=K[N.ixfe>>8&63]),$d(N,t,r.opts.Date1904),T({c:ge,r:te.r},N,t)}break;case 214:case 516:case 4:N=G_(te.val,te.ixfe,"s"),N.XF=C[N.ixfe],D>0&&(N.z=K[N.ixfe>>8&63]),$d(N,t,r.opts.Date1904),T({c:te.c,r:te.r},N,t);break;case 0:case 512:Q===1&&(s=te);break;case 252:c=te;break;case 1054:if(I.biff==4){K[D++]=te[1];for(var Je=0;Je<D+163&&en[Je]!=te[1];++Je);Je>=163&&gh(te[1],D+163)}else gh(te[1],te[0]);break;case 30:{K[D++]=te;for(var Qe=0;Qe<D+163&&en[Qe]!=te;++Qe);Qe>=163&&gh(te,D+163)}break;case 229:G=G.concat(te);break;case 93:Z[te.cmo[0]]=I.lastobj=te;break;case 438:I.lastobj.TxO=te;break;case 127:I.lastobj.ImData=te;break;case 440:for(y=te[0].s.r;y<=te[0].e.r;++y)for(g=te[0].s.c;g<=te[0].e.c;++g)m=t.dense?(a[y]||[])[g]:a[an({c:g,r:y})],m&&(m.l=te[1]);break;case 2048:for(y=te[0].s.r;y<=te[0].e.r;++y)for(g=te[0].s.c;g<=te[0].e.c;++g)m=t.dense?(a[y]||[])[g]:a[an({c:g,r:y})],m&&m.l&&(m.l.Tooltip=te[1]);break;case 28:{if(I.biff<=5&&I.biff>=2)break;m=t.dense?(a[te[0].r]||[])[te[0].c]:a[an(te[0])];var Xe=Z[te[2]];m||(t.dense?(a[te[0].r]||(a[te[0].r]=[]),m=a[te[0].r][te[0].c]={t:"z"}):m=a[an(te[0])]={t:"z"},s.e.r=Math.max(s.e.r,te[0].r),s.s.r=Math.min(s.s.r,te[0].r),s.e.c=Math.max(s.e.c,te[0].c),s.s.c=Math.min(s.s.c,te[0].c)),m.c||(m.c=[]),w={a:te[1],t:Xe.TxO.t},m.c.push(w)}break;case 2173:aqe(C[te.ixfe],te.ext);break;case 125:{if(!I.cellStyles)break;for(;te.e>=te.s;)re[te.e--]={width:te.w/256,level:te.level||0,hidden:!!(te.flags&1)},z||(z=!0,mM(te.w/256)),Nm(re[te.e+1])}break;case 520:{var Ke={};te.level!=null&&(W[te.r]=Ke,Ke.level=te.level),te.hidden&&(W[te.r]=Ke,Ke.hidden=!0),te.hpt&&(W[te.r]=Ke,Ke.hpt=te.hpt,Ke.hpx=uy(te.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||J0(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ue]]=te;break;case 161:a["!margins"]||J0(a["!margins"]={}),a["!margins"].header=te.header,a["!margins"].footer=te.footer;break;case 574:te.RTL&&(P.Views[0].RTL=!0);break;case 146:O=te;break;case 2198:B=te;break;case 140:E=te;break;case 442:u?M.CodeName=te||M.name:P.WBProps.CodeName=te||"ThisWorkbook";break}}else se||console.error("Missing Info for XLS Record 0x"+ue.toString(16)),e.l+=V}return r.SheetNames=Mi(i).sort(function(At,Nt){return Number(At)-Number(Nt)}).map(function(At){return i[At].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&d["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=d)):r.Preamble=d,r.Sheets&&J.forEach(function(At,Nt){r.Sheets[r.SheetNames[Nt]]["!autofilter"]=At}),r.Strings=c,r.SSF=ii(en),I.enc&&(r.Encryption=I.enc),B&&(r.Themes=B),r.Metadata={},E!==void 0&&(r.Metadata.Country=E),U.names.length>0&&(P.Names=U.names),r.Workbook=P,r}var ux={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function yGe(e,t,r){var n=zr.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=fV(n,RO,ux.DSI);for(var i in a)t[i]=a[i]}catch(u){if(r.WTF)throw u}var s=zr.find(e,"/!SummaryInformation");if(s&&s.size>0)try{var o=fV(s,MO,ux.SI);for(var c in o)t[c]==null&&(t[c]=o[c])}catch(u){if(r.WTF)throw u}t.HeadingPairs&&t.TitlesOfParts&&(oie(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function xGe(e,t){var r=[],n=[],a=[],i=0,s,o=qW(RO,"n"),c=qW(MO,"n");if(e.Props)for(s=Mi(e.Props),i=0;i<s.length;++i)(Object.prototype.hasOwnProperty.call(o,s[i])?r:Object.prototype.hasOwnProperty.call(c,s[i])?n:a).push([s[i],e.Props[s[i]]]);if(e.Custprops)for(s=Mi(e.Custprops),i=0;i<s.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},s[i])||(Object.prototype.hasOwnProperty.call(o,s[i])?r:Object.prototype.hasOwnProperty.call(c,s[i])?n:a).push([s[i],e.Custprops[s[i]]]);var u=[];for(i=0;i<a.length;++i)pie.indexOf(a[i][0])>-1||sie.indexOf(a[i][0])>-1||a[i][1]!=null&&u.push(a[i]);n.length&&zr.utils.cfb_add(t,"/SummaryInformation",hV(n,ux.SI,c,MO)),(r.length||u.length)&&zr.utils.cfb_add(t,"/DocumentSummaryInformation",hV(r,ux.DSI,o,RO,u.length?u:null,ux.UDI))}function cse(e,t){t||(t={}),NM(t),VR(),t.codepage&&WR(t.codepage);var r,n;if(e.FullPaths){if(zr.find(e,"/encryption"))throw new Error("File is password-protected");r=zr.find(e,"!CompObj"),n=zr.find(e,"/Workbook")||zr.find(e,"/Book")}else{switch(t.type){case"base64":e=pc(Nc(e));break;case"binary":e=pc(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}so(e,0),n={content:e}}var a,i;if(r&&pGe(r),t.bookProps&&!t.bookSheets)a={};else{var s=Pn?"buffer":"array";if(n&&n.content)a=vGe(n.content,t);else if((i=zr.find(e,"PerfectOffice_MAIN"))&&i.content)a=X0.to_workbook(i.content,(t.type=s,t));else if((i=zr.find(e,"NativeContent_MAIN"))&&i.content)a=X0.to_workbook(i.content,(t.type=s,t));else throw(i=zr.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&zr.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=Dqe(e))}var o={};return e.FullPaths&&yGe(e,o,t),a.Props=a.Custprops=o,t.bookFiles&&(a.cfb=e),a}function wGe(e,t){var r=t||{},n=zr.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return zr.utils.cfb_add(n,a,use(e,r)),r.biff==8&&(e.Props||e.Custprops)&&xGe(e,n),r.biff==8&&e.vbaraw&&Iqe(n,zr.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var Dw={0:{f:WWe},1:{f:ZWe},2:{f:vVe},3:{f:sVe},4:{f:rVe},5:{f:pVe},6:{f:_Ve},7:{f:uVe},8:{f:PVe},9:{f:CVe},10:{f:kVe},11:{f:EVe},12:{f:eVe},13:{f:xVe},14:{f:lVe},15:{f:aVe},16:{f:tse},17:{f:NVe},18:{f:fVe},19:{f:iM},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:NHe},40:{},42:{},43:{f:_Ue},44:{f:wUe},45:{f:AUe},46:{f:EUe},47:{f:kUe},48:{},49:{f:G9e},50:{},51:{f:oqe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Aie},62:{f:bVe},63:{f:gqe},64:{f:VVe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Vo,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:UVe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:XWe},148:{f:GWe,p:16},151:{f:MVe},152:{},153:{f:bHe},154:{},155:{},156:{f:xHe},157:{},158:{},159:{T:1,f:LBe},160:{T:-1},161:{T:1,f:jg},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:TVe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:iqe},336:{T:-1},337:{f:uqe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:IO},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Nie},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:FVe},427:{f:LVe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:$Ve},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:KWe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:IVe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:IO},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Eqe},633:{T:1},634:{T:-1},635:{T:1,f:Aqe},636:{T:-1},637:{f:J9e},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:lHe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:HVe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},UO={6:{f:NT},10:{f:Fp},12:{f:cs},13:{f:cs},14:{f:zi},15:{f:zi},16:{f:jo},17:{f:zi},18:{f:zi},19:{f:cs},20:{f:xV},21:{f:xV},23:{f:Nie},24:{f:bV},25:{f:zi},26:{},27:{},28:{f:H$e},29:{},34:{f:zi},35:{f:wV},38:{f:jo},39:{f:jo},40:{f:jo},41:{f:jo},42:{f:zi},43:{f:zi},47:{f:aUe},49:{f:x$e},51:{f:cs},60:{},61:{f:p$e},64:{f:zi},65:{f:y$e},66:{f:cs},77:{},80:{},81:{},82:{},85:{f:cs},89:{},90:{},91:{},92:{f:n$e},93:{f:K$e},94:{},95:{f:zi},96:{},97:{},99:{f:zi},125:{f:Aie},128:{f:R$e},129:{f:i$e},130:{f:cs},131:{f:zi},132:{f:zi},133:{f:s$e},134:{},140:{f:nBe},141:{f:cs},144:{},146:{f:sBe},151:{},152:{},153:{},154:{},155:{},156:{f:cs},157:{},158:{},160:{f:hBe},161:{f:cBe},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:T$e},190:{f:O$e},193:{f:Fp},197:{},198:{},199:{},200:{},201:{},202:{f:zi},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:cs},220:{},221:{f:zi},222:{},224:{f:I$e},225:{f:r$e},226:{f:Fp},227:{},229:{f:G$e},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:l$e},253:{f:b$e},255:{f:u$e},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:mie},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:zi},353:{f:Fp},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:$$e},431:{f:zi},432:{},433:{},434:{},437:{},438:{f:Z$e},439:{f:zi},440:{f:Q$e},441:{},442:{f:gb},443:{},444:{f:cs},445:{},446:{},448:{f:Fp},449:{f:h$e,r:2},450:{f:Fp},512:{f:gV},513:{f:fBe},515:{f:L$e},516:{f:S$e},517:{f:yV},519:{f:pBe},520:{f:d$e},523:{},545:{f:_V},549:{f:mV},566:{},574:{f:g$e},638:{f:P$e},659:{},1048:{},1054:{f:A$e},1084:{},1212:{f:z$e},2048:{f:tBe},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:W_},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Fp},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:oBe,r:12},2173:{f:nqe,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:zi,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:q$e,r:12},2197:{},2198:{f:JUe,r:12},2199:{},2200:{},2201:{},2202:{f:W$e,r:12},2203:{f:Fp},2204:{},2205:{},2206:{},2207:{},2211:{f:f$e},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:cs},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:uBe},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:iBe},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:gV},1:{},2:{f:xBe},3:{f:vBe},4:{f:gBe},5:{f:yV},7:{f:bBe},8:{},9:{f:W_},11:{},22:{f:cs},30:{f:E$e},31:{},32:{},33:{f:_V},36:{},37:{f:mV},50:{f:_Be},62:{},52:{},67:{},68:{f:cs},69:{},86:{},126:{},127:{f:mBe},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:SBe},223:{},234:{},354:{},421:{},518:{f:NT},521:{f:W_},536:{f:bV},547:{f:wV},561:{},579:{},1030:{f:NT},1033:{f:W_},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function nr(e,t,r,n){var a=t;if(!isNaN(a)){var i=n||(r||[]).length||0,s=e.next(4);s.write_shift(2,a),s.write_shift(2,i),i>0&&rM(r)&&e.push(r)}}function bGe(e,t,r,n){var a=(r||[]).length||0;if(a<=8224)return nr(e,t,r,a);var i=t;if(!isNaN(i)){for(var s=r.parts||[],o=0,c=0,u=0;u+(s[o]||8224)<=8224;)u+=s[o]||8224,o++;var d=e.next(4);for(d.write_shift(2,i),d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u;c<a;){for(d=e.next(4),d.write_shift(2,60),u=0;u+(s[o]||8224)<=8224;)u+=s[o]||8224,o++;d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u}}}function wb(e,t,r){return e||(e=Pt(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function _Ge(e,t,r,n){var a=Pt(9);return wb(a,e,t),gie(r,n||"b",a),a}function SGe(e,t,r){var n=Pt(8+2*r.length);return wb(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function NGe(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?_s(ai(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?nr(e,2,wBe(r,n,a)):nr(e,3,yBe(r,n,a));return;case"b":case"e":nr(e,5,_Ge(r,n,t.v,t.t));return;case"s":case"str":nr(e,4,SGe(r,n,(t.v||"").slice(0,255)));return}nr(e,1,wb(null,r,n))}function AGe(e,t,r,n){var a=Array.isArray(t),i=ea(t["!ref"]||"A1"),s,o="",c=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),s=_n(i)}for(var u=i.s.r;u<=i.e.r;++u){o=es(u);for(var d=i.s.c;d<=i.e.c;++d){u===i.s.r&&(c[d]=wi(d)),s=c[d]+o;var f=a?(t[u]||[])[d]:t[s];f&&NGe(e,f,u,d)}}}function kGe(e,t){for(var r=t||{},n=Ul(),a=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(a=i);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return nr(n,r.biff==4?1033:r.biff==3?521:9,fM(e,16,r)),AGe(n,e.Sheets[e.SheetNames[a]],a,r),nr(n,10),n.end()}function EGe(e,t,r){nr(e,49,w$e({sz:12,name:"Arial"},r))}function CGe(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&nr(e,1054,k$e(a,t[a],r))})}function PGe(e,t){var r=Pt(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),nr(e,2151,r),r=Pt(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),bie(ea(t["!ref"]||"A1"),r),r.write_shift(4,4),nr(e,2152,r)}function TGe(e,t){for(var r=0;r<16;++r)nr(e,224,vV({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){nr(e,224,vV(n,0,t))})}function OGe(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];nr(e,440,eBe(n)),n[1].Tooltip&&nr(e,2048,rBe(n))}delete t["!links"]}function DGe(e,t){if(t){var r=0;t.forEach(function(n,a){++r<=256&&n&&nr(e,125,lBe(fA(a,n),a))})}}function IGe(e,t,r,n,a){var i=16+qm(a.cellXfs,t,a);if(t.v==null&&!t.bf){nr(e,513,wg(r,n,i));return}if(t.bf)nr(e,6,iWe(t,r,n,a,i));else switch(t.t){case"d":case"n":var s=t.t=="d"?_s(ai(t.v)):t.v;nr(e,515,j$e(r,n,s,i));break;case"b":case"e":nr(e,517,F$e(r,n,t.v,i,a,t.t));break;case"s":case"str":if(a.bookSST){var o=wM(a.Strings,t.v,a.revStrings);nr(e,253,_$e(r,n,o,i))}else nr(e,516,N$e(r,n,(t.v||"").slice(0,255),i,a));break;default:nr(e,513,wg(r,n,i))}}function RGe(e,t,r){var n=Ul(),a=r.SheetNames[e],i=r.Sheets[a]||{},s=(r||{}).Workbook||{},o=(s.Sheets||[])[e]||{},c=Array.isArray(i),u=t.biff==8,d,f="",h=[],m=ea(i["!ref"]||"A1"),w=u?65536:16384;if(m.e.c>255||m.e.r>=w){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");m.e.c=Math.min(m.e.c,255),m.e.r=Math.min(m.e.c,w-1)}nr(n,2057,fM(r,16,t)),nr(n,13,Xc(1)),nr(n,12,Xc(100)),nr(n,15,ol(!0)),nr(n,17,ol(!1)),nr(n,16,yg(.001)),nr(n,95,ol(!0)),nr(n,42,ol(!1)),nr(n,43,ol(!1)),nr(n,130,Xc(1)),nr(n,128,M$e()),nr(n,131,ol(!1)),nr(n,132,ol(!1)),u&&DGe(n,i["!cols"]),nr(n,512,C$e(m,t)),u&&(i["!links"]=[]);for(var g=m.s.r;g<=m.e.r;++g){f=es(g);for(var y=m.s.c;y<=m.e.c;++y){g===m.s.r&&(h[y]=wi(y)),d=h[y]+f;var b=c?(i[g]||[])[y]:i[d];b&&(IGe(n,b,g,y,t),u&&b.l&&i["!links"].push([d,b.l]))}}var _=o.CodeName||o.name||a;return u&&nr(n,574,v$e((s.Views||[])[0])),u&&(i["!merges"]||[]).length&&nr(n,229,Y$e(i["!merges"])),u&&OGe(n,i),nr(n,442,vie(_)),u&&PGe(n,i),nr(n,10),n.end()}function MGe(e,t,r){var n=Ul(),a=(e||{}).Workbook||{},i=a.Sheets||[],s=a.WBProps||{},o=r.biff==8,c=r.biff==5;if(nr(n,2057,fM(e,5,r)),r.bookType=="xla"&&nr(n,135),nr(n,225,o?Xc(1200):null),nr(n,193,Fje(2)),c&&nr(n,191),c&&nr(n,192),nr(n,226),nr(n,92,a$e("SheetJS",r)),nr(n,66,Xc(o?1200:1252)),o&&nr(n,353,Xc(0)),o&&nr(n,448),nr(n,317,dBe(e.SheetNames.length)),o&&e.vbaraw&&nr(n,211),o&&e.vbaraw){var u=s.CodeName||"ThisWorkbook";nr(n,442,vie(u))}nr(n,156,Xc(17)),nr(n,25,ol(!1)),nr(n,18,ol(!1)),nr(n,19,Xc(0)),o&&nr(n,431,ol(!1)),o&&nr(n,444,Xc(0)),nr(n,61,m$e()),nr(n,64,ol(!1)),nr(n,141,Xc(0)),nr(n,34,ol(hHe(e)=="true")),nr(n,14,ol(!0)),o&&nr(n,439,ol(!1)),nr(n,218,Xc(0)),EGe(n,e,r),CGe(n,e.SSF,r),TGe(n,r),o&&nr(n,352,ol(!1));var d=n.end(),f=Ul();o&&nr(f,140,aBe()),o&&r.Strings&&bGe(f,252,c$e(r.Strings)),nr(f,10);var h=f.end(),m=Ul(),w=0,g=0;for(g=0;g<e.SheetNames.length;++g)w+=(o?12:11)+(o?2:1)*e.SheetNames[g].length;var y=d.length+w+h.length;for(g=0;g<e.SheetNames.length;++g){var b=i[g]||{};nr(m,133,o$e({pos:y,hs:b.Hidden||0,dt:0,name:e.SheetNames[g]},r)),y+=t[g].length}var _=m.end();if(w!=_.length)throw new Error("BS8 "+w+" != "+_.length);var N=[];return d.length&&N.push(d),_.length&&N.push(_),h.length&&N.push(h),Bs(N)}function FGe(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=ii(en)),e&&e.SSF&&(Oy(),iA(e.SSF),r.revssf=oA(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,AM(r),r.cellXfs=[],qm(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)n[n.length]=RGe(a,r,e);return n.unshift(MGe(e,n,r)),Bs(n)}function use(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var a=ql(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return FGe(e,t);case 4:case 3:case 2:return kGe(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function DV(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),s=a.index,o=i&&i.index||e.length,c=w9e(e.slice(s,o),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,d=0,f=0,h=0,m={s:{r:1e7,c:1e7},e:{r:0,c:0}},w=[];for(s=0;s<c.length;++s){var g=c[s].trim(),y=g.slice(0,3).toLowerCase();if(y=="<tr"){if(++u,r.sheetRows&&r.sheetRows<=u){--u;break}d=0;continue}if(!(y!="<td"&&y!="<th")){var b=g.split(/<\/t[dh]>/i);for(o=0;o<b.length;++o){var _=b[o].trim();if(_.match(/<t[dh]/i)){for(var N=_,E=0;N.charAt(0)=="<"&&(E=N.indexOf(">"))>-1;)N=N.slice(E+1);for(var C=0;C<w.length;++C){var O=w[C];O.s.c==d&&O.s.r<u&&u<=O.e.r&&(d=O.e.c+1,C=-1)}var P=cn(_.slice(0,_.indexOf(">")));h=P.colspan?+P.colspan:1,((f=+P.rowspan)>1||h>1)&&w.push({s:{r:u,c:d},e:{r:u+(f||1)-1,c:d+h-1}});var M=P.t||P["data-t"]||"";if(!N.length){d+=h;continue}if(N=Rae(N),m.s.r>u&&(m.s.r=u),m.e.r<u&&(m.e.r=u),m.s.c>d&&(m.s.c=d),m.e.c<d&&(m.e.c=d),!N.length){d+=h;continue}var L={t:"s",v:N};r.raw||!N.trim().length||M=="s"||(N==="TRUE"?L={t:"b",v:!0}:N==="FALSE"?L={t:"b",v:!1}:isNaN(Ju(N))?isNaN(ly(N).getDate())||(L={t:"d",v:ai(N)},r.cellDates||(L={t:"n",v:_s(L.v)}),L.z=r.dateNF||en[14]):L={t:"n",v:Ju(N)}),r.dense?(n[u]||(n[u]=[]),n[u][d]=L):n[an({r:u,c:d})]=L,d+=h}}}}return n["!ref"]=_n(m),w.length&&(n["!merges"]=w),n}function LGe(e,t,r,n){for(var a=e["!merges"]||[],i=[],s=t.s.c;s<=t.e.c;++s){for(var o=0,c=0,u=0;u<a.length;++u)if(!(a[u].s.r>r||a[u].s.c>s)&&!(a[u].e.r<r||a[u].e.c<s)){if(a[u].s.r<r||a[u].s.c<s){o=-1;break}o=a[u].e.r-a[u].s.r+1,c=a[u].e.c-a[u].s.c+1;break}if(!(o<0)){var d=an({r,c:s}),f=n.dense?(e[r]||[])[s]:e[d],h=f&&f.v!=null&&(f.h||QR(f.w||(kh(f),f.w)||""))||"",m={};o>1&&(m.rowspan=o),c>1&&(m.colspan=c),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(m["data-t"]=f&&f.t||"z",f.v!=null&&(m["data-v"]=f.v),f.z!=null&&(m["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),m.id=(n.id||"sjs")+"-"+d,i.push(rr("td",h,m))}}var w="<tr>";return w+i.join("")+"</tr>"}var jGe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',$Ge="</body></html>";function BGe(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return Um(DV(r[0],t),t);var n=PM();return r.forEach(function(a,i){TM(n,DV(a,t),"Sheet"+(i+1))}),n}function UGe(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function dse(e,t){var r=t||{},n=r.header!=null?r.header:jGe,a=r.footer!=null?r.footer:$Ge,i=[n],s=ql(e["!ref"]);r.dense=Array.isArray(e),i.push(UGe(e,s,r));for(var o=s.s.r;o<=s.e.r;++o)i.push(LGe(e,s,o,r));return i.push("</table>"+a),i.join("")}function fse(e,t,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var s=typeof n.origin=="string"?bi(n.origin):n.origin;a=s.r,i=s.c}var o=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,o.length),u={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var d=ql(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),a==-1&&(u.e.r=a=d.e.r+1)}var f=[],h=0,m=e["!rows"]||(e["!rows"]=[]),w=0,g=0,y=0,b=0,_=0,N=0;for(e["!cols"]||(e["!cols"]=[]);w<o.length&&g<c;++w){var E=o[w];if(IV(E)){if(n.display)continue;m[g]={hidden:!0}}var C=E.children;for(y=b=0;y<C.length;++y){var O=C[y];if(!(n.display&&IV(O))){var P=O.hasAttribute("data-v")?O.getAttribute("data-v"):O.hasAttribute("v")?O.getAttribute("v"):Rae(O.innerHTML),M=O.getAttribute("data-z")||O.getAttribute("z");for(h=0;h<f.length;++h){var L=f[h];L.s.c==b+i&&L.s.r<g+a&&g+a<=L.e.r&&(b=L.e.c+1-i,h=-1)}N=+O.getAttribute("colspan")||1,((_=+O.getAttribute("rowspan")||1)>1||N>1)&&f.push({s:{r:g+a,c:b+i},e:{r:g+a+(_||1)-1,c:b+i+(N||1)-1}});var j={t:"s",v:P},T=O.getAttribute("data-t")||O.getAttribute("t")||"";P!=null&&(P.length==0?j.t=T||"z":n.raw||P.trim().length==0||T=="s"||(P==="TRUE"?j={t:"b",v:!0}:P==="FALSE"?j={t:"b",v:!1}:isNaN(Ju(P))?isNaN(ly(P).getDate())||(j={t:"d",v:ai(P)},n.cellDates||(j={t:"n",v:_s(j.v)}),j.z=n.dateNF||en[14]):j={t:"n",v:Ju(P)})),j.z===void 0&&M!=null&&(j.z=M);var I="",B=O.getElementsByTagName("A");if(B&&B.length)for(var G=0;G<B.length&&!(B[G].hasAttribute("href")&&(I=B[G].getAttribute("href"),I.charAt(0)!="#"));++G);I&&I.charAt(0)!="#"&&(j.l={Target:I}),n.dense?(e[g+a]||(e[g+a]=[]),e[g+a][b+i]=j):e[an({c:b+i,r:g+a})]=j,u.e.c<b+i&&(u.e.c=b+i),b+=N}}++g}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,g-1+a),e["!ref"]=_n(u),g>=c&&(e["!fullref"]=_n((u.e.r=o.length-w+g-1+a,u))),e}function hse(e,t){var r=t||{},n=r.dense?[]:{};return fse(n,e,t)}function qGe(e,t){return Um(hse(e,t),t)}function IV(e){var t="",r=zGe(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function zGe(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function WGe(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=Qn(t.replace(/<[^>]*>/g,""));return[r]}var RV={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function pse(e,t){var r=t||{},n=eM(e),a=[],i,s,o={name:""},c="",u=0,d,f,h={},m=[],w=r.dense?[]:{},g,y,b={value:""},_="",N=0,E=[],C=-1,O=-1,P={s:{r:1e6,c:1e7},e:{r:0,c:0}},M=0,L={},j=[],T={},I=0,B=0,G=[],Z=1,re=1,W=[],z={Names:[]},U={},Y=["",""],Q=[],D={},K="",J=0,ne=!1,ie=!1,oe=0;for(kw.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");g=kw.exec(n);)switch(g[3]=g[3].replace(/_.*$/,"")){case"table":case"工作表":g[1]==="/"?(P.e.c>=P.s.c&&P.e.r>=P.s.r?w["!ref"]=_n(P):w["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=P.e.r&&(w["!fullref"]=w["!ref"],P.e.r=r.sheetRows-1,w["!ref"]=_n(P)),j.length&&(w["!merges"]=j),G.length&&(w["!rows"]=G),d.name=d.名称||d.name,typeof JSON<"u"&&JSON.stringify(d),m.push(d.name),h[d.name]=w,ie=!1):g[0].charAt(g[0].length-2)!=="/"&&(d=cn(g[0],!1),C=O=-1,P.s.r=P.s.c=1e7,P.e.r=P.e.c=0,w=r.dense?[]:{},j=[],G=[],ie=!0);break;case"table-row-group":g[1]==="/"?--M:++M;break;case"table-row":case"行":if(g[1]==="/"){C+=Z,Z=1;break}if(f=cn(g[0],!1),f.行号?C=f.行号-1:C==-1&&(C=0),Z=+f["number-rows-repeated"]||1,Z<10)for(oe=0;oe<Z;++oe)M>0&&(G[C+oe]={level:M});O=-1;break;case"covered-table-cell":g[1]!=="/"&&++O,r.sheetStubs&&(r.dense?(w[C]||(w[C]=[]),w[C][O]={t:"z"}):w[an({r:C,c:O})]={t:"z"}),_="",E=[];break;case"table-cell":case"数据":if(g[0].charAt(g[0].length-2)==="/")++O,b=cn(g[0],!1),re=parseInt(b["number-columns-repeated"]||"1",10),y={t:"z",v:null},b.formula&&r.cellFormula!=!1&&(y.f=PV(Qn(b.formula))),(b.数据类型||b["value-type"])=="string"&&(y.t="s",y.v=Qn(b["string-value"]||""),r.dense?(w[C]||(w[C]=[]),w[C][O]=y):w[an({r:C,c:O})]=y),O+=re-1;else if(g[1]!=="/"){++O,_="",N=0,E=[],re=1;var ue=Z?C+Z-1:C;if(O>P.e.c&&(P.e.c=O),O<P.s.c&&(P.s.c=O),C<P.s.r&&(P.s.r=C),ue>P.e.r&&(P.e.r=ue),b=cn(g[0],!1),Q=[],D={},y={t:b.数据类型||b["value-type"],v:null},r.cellFormula)if(b.formula&&(b.formula=Qn(b.formula)),b["number-matrix-columns-spanned"]&&b["number-matrix-rows-spanned"]&&(I=parseInt(b["number-matrix-rows-spanned"],10)||0,B=parseInt(b["number-matrix-columns-spanned"],10)||0,T={s:{r:C,c:O},e:{r:C+I-1,c:O+B-1}},y.F=_n(T),W.push([T,y.F])),b.formula)y.f=PV(b.formula);else for(oe=0;oe<W.length;++oe)C>=W[oe][0].s.r&&C<=W[oe][0].e.r&&O>=W[oe][0].s.c&&O<=W[oe][0].e.c&&(y.F=W[oe][1]);switch((b["number-columns-spanned"]||b["number-rows-spanned"])&&(I=parseInt(b["number-rows-spanned"],10)||0,B=parseInt(b["number-columns-spanned"],10)||0,T={s:{r:C,c:O},e:{r:C+I-1,c:O+B-1}},j.push(T)),b["number-columns-repeated"]&&(re=parseInt(b["number-columns-repeated"],10)),y.t){case"boolean":y.t="b",y.v=ti(b["boolean-value"]);break;case"float":y.t="n",y.v=parseFloat(b.value);break;case"percentage":y.t="n",y.v=parseFloat(b.value);break;case"currency":y.t="n",y.v=parseFloat(b.value);break;case"date":y.t="d",y.v=ai(b["date-value"]),r.cellDates||(y.t="n",y.v=_s(y.v)),y.z="m/d/yy";break;case"time":y.t="n",y.v=v9e(b["time-value"])/86400,r.cellDates&&(y.t="d",y.v=lA(y.v)),y.z="HH:MM:SS";break;case"number":y.t="n",y.v=parseFloat(b.数据数值);break;default:if(y.t==="string"||y.t==="text"||!y.t)y.t="s",b["string-value"]!=null&&(_=Qn(b["string-value"]),E=[]);else throw new Error("Unsupported value type "+y.t)}}else{if(ne=!1,y.t==="s"&&(y.v=_||"",E.length&&(y.R=E),ne=N==0),U.Target&&(y.l=U),Q.length>0&&(y.c=Q,Q=[]),_&&r.cellText!==!1&&(y.w=_),ne&&(y.t="z",delete y.v),(!ne||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=C))for(var V=0;V<Z;++V){if(re=parseInt(b["number-columns-repeated"]||"1",10),r.dense)for(w[C+V]||(w[C+V]=[]),w[C+V][O]=V==0?y:ii(y);--re>0;)w[C+V][O+re]=ii(y);else for(w[an({r:C+V,c:O})]=y;--re>0;)w[an({r:C+V,c:O+re})]=ii(y);P.e.c<=O&&(P.e.c=O)}re=parseInt(b["number-columns-repeated"]||"1",10),O+=re-1,re=0,y={},_="",E=[]}U={};break;case"document":case"document-content":case"电子表格文档":case"spreadsheet":case"主体":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(g[1]==="/"){if((i=a.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!0]);break;case"annotation":if(g[1]==="/"){if((i=a.pop())[0]!==g[3])throw"Bad state: "+i;D.t=_,E.length&&(D.R=E),D.a=K,Q.push(D)}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!1]);K="",J=0,_="",N=0,E=[];break;case"creator":g[1]==="/"?K=n.slice(J,g.index):J=g.index+g[0].length;break;case"meta":case"元数据":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(g[1]==="/"){if((i=a.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!1]);_="",N=0,E=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(g[1]==="/"){if(L[o.name]=c,(i=a.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&(c="",o=cn(g[0],!1),a.push([g[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":s=cn(g[0],!1),c+=RV[g[3]][s.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":s=cn(g[0],!1),c+=RV[g[3]][s.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(g[0].slice(-2)==="/>")break;if(g[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":c+=n.slice(u,g.index);break}else u=g.index+g[0].length;break;case"named-range":s=cn(g[0],!1),Y=AT(s["cell-range-address"]);var se={Name:s.name,Ref:Y[0]+"!"+Y[1]};ie&&(se.Sheet=m.length),z.Names.push(se);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"电子表格":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"文本串":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(g[1]==="/"&&(!b||!b["string-value"])){var fe=WGe(n.slice(N,g.index));_=(_.length>0?_+`
`:"")+fe[0]}else cn(g[0],!1),N=g.index+g[0].length;break;case"s":break;case"database-range":if(g[1]==="/")break;try{Y=AT(cn(g[0])["target-range-address"]),h[Y[0]]["!autofilter"]={ref:Y[1]}}catch{}break;case"date":break;case"object":break;case"title":case"标题":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(g[1]!=="/"){if(U=cn(g[0],!1),!U.href)break;U.Target=Qn(U.href),delete U.href,U.Target.charAt(0)=="#"&&U.Target.indexOf(".")>-1?(Y=AT(U.Target.slice(1)),U.Target="#"+Y[0]+"!"+Y[1]):U.Target.match(/^\.\.[\\\/]/)&&(U.Target=U.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(g[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"表:":case"字:":break;default:if(r.WTF)throw new Error(g)}}var te={Sheets:h,SheetNames:m,Workbook:z};return r.bookSheets&&delete te.Sheets,te}function MV(e,t){t=t||{},Kc(e,"META-INF/manifest.xml")&&vje(ls(e,"META-INF/manifest.xml"),t);var r=mc(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=pse(Da(r),t);return Kc(e,"meta.xml")&&(n.Props=aie(ls(e,"meta.xml"))),n}function FV(e,t){return pse(e,t)}var VGe=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+Aw({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return rs+t}}(),LV=function(){var e=function(i){return Pa(i).replace(/  +/g,function(s){return'<text:s text:c="'+s.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(i,s,o){var c=[];c.push('      <table:table table:name="'+Pa(s.SheetNames[o])+`" table:style-name="ta1">
`);var u=0,d=0,f=ql(i["!ref"]||"A1"),h=i["!merges"]||[],m=0,w=Array.isArray(i);if(i["!cols"])for(d=0;d<=f.e.c;++d)c.push("        <table:table-column"+(i["!cols"][d]?' table:style-name="co'+i["!cols"][d].ods+'"':"")+`></table:table-column>
`);var g="",y=i["!rows"]||[];for(u=0;u<f.s.r;++u)g=y[u]?' table:style-name="ro'+y[u].ods+'"':"",c.push("        <table:table-row"+g+`></table:table-row>
`);for(;u<=f.e.r;++u){for(g=y[u]?' table:style-name="ro'+y[u].ods+'"':"",c.push("        <table:table-row"+g+`>
`),d=0;d<f.s.c;++d)c.push(t);for(;d<=f.e.c;++d){var b=!1,_={},N="";for(m=0;m!=h.length;++m)if(!(h[m].s.c>d)&&!(h[m].s.r>u)&&!(h[m].e.c<d)&&!(h[m].e.r<u)){(h[m].s.c!=d||h[m].s.r!=u)&&(b=!0),_["table:number-columns-spanned"]=h[m].e.c-h[m].s.c+1,_["table:number-rows-spanned"]=h[m].e.r-h[m].s.r+1;break}if(b){c.push(r);continue}var E=an({r:u,c:d}),C=w?(i[u]||[])[d]:i[E];if(C&&C.f&&(_["table:formula"]=Pa(dWe(C.f)),C.F&&C.F.slice(0,E.length)==E)){var O=ql(C.F);_["table:number-matrix-columns-spanned"]=O.e.c-O.s.c+1,_["table:number-matrix-rows-spanned"]=O.e.r-O.s.r+1}if(!C){c.push(t);continue}switch(C.t){case"b":N=C.v?"TRUE":"FALSE",_["office:value-type"]="boolean",_["office:boolean-value"]=C.v?"true":"false";break;case"n":N=C.w||String(C.v||0),_["office:value-type"]="float",_["office:value"]=C.v||0;break;case"s":case"str":N=C.v==null?"":C.v,_["office:value-type"]="string";break;case"d":N=C.w||ai(C.v).toISOString(),_["office:value-type"]="date",_["office:date-value"]=ai(C.v).toISOString(),_["table:style-name"]="ce1";break;default:c.push(t);continue}var P=e(N);if(C.l&&C.l.Target){var M=C.l.Target;M=M.charAt(0)=="#"?"#"+fWe(M.slice(1)):M,M.charAt(0)!="#"&&!M.match(/^\w+:/)&&(M="../"+M),P=rr("text:a",P,{"xlink:href":M.replace(/&/g,"&amp;")})}c.push("          "+rr("table:table-cell",rr("text:p",P,{}),_)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},a=function(i,s){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var o=0;s.SheetNames.map(function(u){return s.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var d=0;d<u["!cols"].length;++d)if(u["!cols"][d]){var f=u["!cols"][d];if(f.width==null&&f.wpx==null&&f.wch==null)continue;Nm(f),f.ods=o;var h=u["!cols"][d].wpx+"px";i.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+h+`"/>
`),i.push(`  </style:style>
`),++o}}});var c=0;s.SheetNames.map(function(u){return s.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var d=0;d<u["!rows"].length;++d)if(u["!rows"][d]){u["!rows"][d].ods=c;var f=u["!rows"][d].hpx+"px";i.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),i.push(`  </style:style>
`),++c}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(s,o){var c=[rs],u=Aw({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=Aw({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(c.push("<office:document"+u+d+`>
`),c.push(nie().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+u+`>
`),a(c,s),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var f=0;f!=s.SheetNames.length;++f)c.push(n(s.Sheets[s.SheetNames[f]],s,f));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),o.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function mse(e,t){if(t.bookType=="fods")return LV(e,t);var r=XR(),n="",a=[],i=[];return n="mimetype",En(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",En(r,n,LV(e,t)),a.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",En(r,n,VGe(e,t)),a.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",En(r,n,rs+nie()),a.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",En(r,n,wje(i)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",En(r,n,yje(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function bg(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function qO(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):Da(Bm(e))}function HGe(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):pc(Qd(e))}function GGe(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function km(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function jV(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function YGe(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function KGe(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var i=0;a>=1;++i,a/=256)e[t+i]=a&255;e[t+15]|=r>=0?0:128}function Iw(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function ka(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function Ii(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function sa(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=Iw(e,r),i=a&7;a=Math.floor(a/8);var s=0,o;if(a==0)break;switch(i){case 0:{for(var c=r[0];e[r[0]++]>=128;);o=e.slice(c,r[0])}break;case 5:s=4,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=Iw(e,r),o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var u={data:o,type:i};t[a]==null?t[a]=[u]:t[a].push(u)}return t}function eo(e){var t=[];return e.forEach(function(r,n){r.forEach(function(a){a.data&&(t.push(ka(n*8+a.type)),a.type==2&&t.push(ka(a.data.length)),t.push(a.data))})}),km(t)}function SM(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function Gc(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=Iw(e,n),i=sa(e.slice(n[0],n[0]+a));n[0]+=a;var s={id:Ii(i[1][0].data),messages:[]};i[2].forEach(function(o){var c=sa(o.data),u=Ii(c[3][0].data);s.messages.push({meta:c,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=i[3])!=null&&t[0]&&(s.merge=Ii(i[3][0].data)>>>0>0),r.push(s)}return r}function Mv(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:ka(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:ka(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(s){a.push(s.data),s.meta[3]=[{type:0,data:ka(s.data.length)}],n[2].push({data:eo(s.meta),type:2})});var i=eo(n);t.push(ka(i.length)),t.push(i),a.forEach(function(s){return t.push(s)})}),km(t)}function XGe(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=Iw(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var s=t[r[0]++]>>2;if(s<60)++s;else{var o=s-59;s=t[r[0]],o>1&&(s|=t[r[0]+1]<<8),o>2&&(s|=t[r[0]+2]<<16),o>3&&(s|=t[r[0]+3]<<24),s>>>=0,s++,r[0]+=o}a.push(t.slice(r[0],r[0]+s)),r[0]+=s;continue}else{var c=0,u=0;if(i==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,i==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[km(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(a.push(a[0].slice(-c)),u-=c;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-c,-c+u))}}var d=km(a);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function Yc(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(XGe(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return km(t)}function Fv(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var i=ka(n),s=i.length;t.push(i),n<=60?(s++,t.push(new Uint8Array([n-1<<2]))):n<=256?(s+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(s+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(s+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(s+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),s+=n,a[0]=0,a[1]=s&255,a[2]=s>>8&255,a[3]=s>>16&255,r+=n}return km(t)}function JGe(e,t,r,n){var a=bg(e),i=a.getUint32(4,!0),s=(n>1?12:8)+jV(i&(n>1?3470:398))*4,o=-1,c=-1,u=NaN,d=new Date(2001,0,1);i&512&&(o=a.getUint32(s,!0),s+=4),s+=jV(i&(n>1?12288:4096))*4,i&16&&(c=a.getUint32(s,!0),s+=4),i&32&&(u=a.getFloat64(s,!0),s+=8),i&64&&(d.setTime(d.getTime()+a.getFloat64(s,!0)*1e3),s+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:u};break;case 3:f={t:"s",v:t[c]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:r[o]};else if(c>-1)f={t:"s",v:t[c]};else if(!isNaN(u))f={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function ZGe(e,t,r){var n=bg(e),a=n.getUint32(8,!0),i=12,s=-1,o=-1,c=NaN,u=NaN,d=new Date(2001,0,1);a&1&&(c=YGe(e,i),i+=16),a&2&&(u=n.getFloat64(i,!0),i+=8),a&4&&(d.setTime(d.getTime()+n.getFloat64(i,!0)*1e3),i+=8),a&8&&(o=n.getUint32(i,!0),i+=4),a&16&&(s=n.getUint32(i,!0),i+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:t[o]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(s>-1)f={t:"s",v:r[s]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return f}function ET(e,t){var r=new Uint8Array(32),n=bg(r),a=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,KGe(r,a,e.v),i|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,e.v?1:0,!0),i|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,i,!0),r.slice(0,a)}function CT(e,t){var r=new Uint8Array(32),n=bg(r),a=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(a,e.v,!0),i|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,e.v?1:0,!0),i|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,i,!0),r.slice(0,a)}function QGe(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return JGe(e,t,r,e[0]);case 5:return ZGe(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function Do(e){var t=sa(e);return Iw(t[1][0].data)}function $V(e,t){var r=sa(t.data),n=Ii(r[1][0].data),a=r[3],i=[];return(a||[]).forEach(function(s){var o=sa(s.data),c=Ii(o[1][0].data)>>>0;switch(n){case 1:i[c]=qO(o[3][0].data);break;case 8:{var u=e[Do(o[9][0].data)][0],d=sa(u.data),f=e[Do(d[1][0].data)][0],h=Ii(f.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var m=sa(f.data);i[c]=m[3].map(function(w){return qO(w.data)}).join("")}break}}),i}function eYe(e,t){var r,n,a,i,s,o,c,u,d,f,h,m,w,g,y=sa(e),b=Ii(y[1][0].data)>>>0,_=Ii(y[2][0].data)>>>0,N=((n=(r=y[8])==null?void 0:r[0])==null?void 0:n.data)&&Ii(y[8][0].data)>0||!1,E,C;if((i=(a=y[7])==null?void 0:a[0])!=null&&i.data&&t!=0)E=(o=(s=y[7])==null?void 0:s[0])==null?void 0:o.data,C=(u=(c=y[6])==null?void 0:c[0])==null?void 0:u.data;else if((f=(d=y[4])==null?void 0:d[0])!=null&&f.data&&t!=1)E=(m=(h=y[4])==null?void 0:h[0])==null?void 0:m.data,C=(g=(w=y[3])==null?void 0:w[0])==null?void 0:g.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var O=N?4:1,P=bg(E),M=[],L=0;L<E.length/2;++L){var j=P.getUint16(L*2,!0);j<65535&&M.push([L,j])}if(M.length!=_)throw"Expected ".concat(_," cells, found ").concat(M.length);var T=[];for(L=0;L<M.length-1;++L)T[M[L][0]]=C.subarray(M[L][1]*O,M[L+1][1]*O);return M.length>=1&&(T[M[M.length-1][0]]=C.subarray(M[M.length-1][1]*O)),{R:b,cells:T}}function tYe(e,t){var r,n=sa(t.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?Ii(n[7][0].data)>>>0>0?1:0:-1,i=SM(n[5],function(s){return eYe(s,a)});return{nrows:Ii(n[4][0].data)>>>0,data:i.reduce(function(s,o){return s[o.R]||(s[o.R]=[]),o.cells.forEach(function(c,u){if(s[o.R][u])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(u));s[o.R][u]=c}),s},[])}}function rYe(e,t,r){var n,a=sa(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(Ii(a[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(i.e.c=(Ii(a[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=_n(i);var s=sa(a[4][0].data),o=$V(e,e[Do(s[4][0].data)][0]),c=(n=s[17])!=null&&n[0]?$V(e,e[Do(s[17][0].data)][0]):[],u=sa(s[3][0].data),d=0;u[1].forEach(function(f){var h=sa(f.data),m=e[Do(h[2][0].data)][0],w=Ii(m.meta[1][0].data);if(w!=6002)throw new Error("6001 unexpected reference to ".concat(w));var g=tYe(e,m);g.data.forEach(function(y,b){y.forEach(function(_,N){var E=an({r:d+b,c:N}),C=QGe(_,o,c);C&&(r[E]=C)})}),d+=g.nrows})}function nYe(e,t){var r=sa(t.data),n={"!ref":"A1"},a=e[Do(r[2][0].data)],i=Ii(a[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return rYe(e,a[0],n),n}function aYe(e,t){var r,n=sa(t.data),a={name:(r=n[1])!=null&&r[0]?qO(n[1][0].data):"",sheets:[]},i=SM(n[2],Do);return i.forEach(function(s){e[s].forEach(function(o){var c=Ii(o.meta[1][0].data);c==6e3&&a.sheets.push(nYe(e,o))})}),a}function iYe(e,t){var r=PM(),n=sa(t.data),a=SM(n[1],Do);if(a.forEach(function(i){e[i].forEach(function(s){var o=Ii(s.meta[1][0].data);if(o==2){var c=aYe(e,s);c.sheets.forEach(function(u,d){TM(r,u,d==0?c.name:c.name+"_"+d,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function PT(e){var t,r,n,a,i={},s=[];if(e.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var u;try{u=Yc(c.content)}catch(f){return console.log("?? "+c.content.length+" "+(f.message||f))}var d;try{d=Gc(u)}catch(f){return console.log("## "+(f.message||f))}d.forEach(function(f){i[f.id]=f.messages,s.push(f.id)})}}),!s.length)throw new Error("File has no messages");var o=((a=(n=(r=(t=i==null?void 0:i[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&Ii(i[1][0].meta[1][0].data)==1&&i[1][0];if(o||s.forEach(function(c){i[c].forEach(function(u){var d=Ii(u.meta[1][0].data)>>>0;if(d==1)if(!o)o=u;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return iYe(i,o)}function sYe(e,t,r){var n,a,i,s;if(!((n=e[6])!=null&&n[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var o=((s=(i=e[8])==null?void 0:i[0])==null?void 0:s.data)&&Ii(e[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var c=0,u=bg(e[7][0].data),d=0,f=[],h=bg(e[4][0].data),m=0,w=[],g=0;g<t.length;++g){if(t[g]==null){u.setUint16(g*2,65535,!0),h.setUint16(g*2,65535);continue}u.setUint16(g*2,d,!0),h.setUint16(g*2,m,!0);var y,b;switch(typeof t[g]){case"string":y=ET({t:"s",v:t[g]},r),b=CT({t:"s",v:t[g]},r);break;case"number":y=ET({t:"n",v:t[g]},r),b=CT({t:"n",v:t[g]},r);break;case"boolean":y=ET({t:"b",v:t[g]},r),b=CT({t:"b",v:t[g]},r);break;default:throw new Error("Unsupported value "+t[g])}f.push(y),d+=y.length,w.push(b),m+=b.length,++c}for(e[2][0].data=ka(c);g<e[7][0].data.length/2;++g)u.setUint16(g*2,65535,!0),h.setUint16(g*2,65535,!0);return e[6][0].data=km(f),e[3][0].data=km(w),c}function oYe(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=ql(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(_n(n)));var i=f4(r,{range:n,header:1}),s=["~Sh33tJ5~"];i.forEach(function(K){return K.forEach(function(J){typeof J=="string"&&s.push(J)})});var o={},c=[],u=zr.read(t.numbers,{type:"base64"});u.FileIndex.map(function(K,J){return[K,u.FullPaths[J]]}).forEach(function(K){var J=K[0],ne=K[1];if(J.type==2&&J.name.match(/\.iwa/)){var ie=J.content,oe=Yc(ie),ue=Gc(oe);ue.forEach(function(V){c.push(V.id),o[V.id]={deps:[],location:ne,type:Ii(V.messages[0].meta[1][0].data)}})}}),c.sort(function(K,J){return K-J});var d=c.filter(function(K){return K>1}).map(function(K){return[K,ka(K)]});u.FileIndex.map(function(K,J){return[K,u.FullPaths[J]]}).forEach(function(K){var J=K[0];if(K[1],!!J.name.match(/\.iwa/)){var ne=Gc(Yc(J.content));ne.forEach(function(ie){ie.messages.forEach(function(oe){d.forEach(function(ue){ie.messages.some(function(V){return Ii(V.meta[1][0].data)!=11006&&GGe(V.data,ue[1])})&&o[ue[0]].deps.push(ie.id)})})})}});for(var f=zr.find(u,o[1].location),h=Gc(Yc(f.content)),m,w=0;w<h.length;++w){var g=h[w];g.id==1&&(m=g)}var y=Do(sa(m.messages[0].data)[1][0].data);for(f=zr.find(u,o[y].location),h=Gc(Yc(f.content)),w=0;w<h.length;++w)g=h[w],g.id==y&&(m=g);for(y=Do(sa(m.messages[0].data)[2][0].data),f=zr.find(u,o[y].location),h=Gc(Yc(f.content)),w=0;w<h.length;++w)g=h[w],g.id==y&&(m=g);for(y=Do(sa(m.messages[0].data)[2][0].data),f=zr.find(u,o[y].location),h=Gc(Yc(f.content)),w=0;w<h.length;++w)g=h[w],g.id==y&&(m=g);var b=sa(m.messages[0].data);{b[6][0].data=ka(n.e.r+1),b[7][0].data=ka(n.e.c+1);var _=Do(b[46][0].data),N=zr.find(u,o[_].location),E=Gc(Yc(N.content));{for(var C=0;C<E.length&&E[C].id!=_;++C);if(E[C].id!=_)throw"Bad ColumnRowUIDMapArchive";var O=sa(E[C].messages[0].data);O[1]=[],O[2]=[],O[3]=[];for(var P=0;P<=n.e.c;++P){var M=[];M[1]=M[2]=[{type:0,data:ka(P+420690)}],O[1].push({type:2,data:eo(M)}),O[2].push({type:0,data:ka(P)}),O[3].push({type:0,data:ka(P)})}O[4]=[],O[5]=[],O[6]=[];for(var L=0;L<=n.e.r;++L)M=[],M[1]=M[2]=[{type:0,data:ka(L+726270)}],O[4].push({type:2,data:eo(M)}),O[5].push({type:0,data:ka(L)}),O[6].push({type:0,data:ka(L)});E[C].messages[0].data=eo(O)}N.content=Fv(Mv(E)),N.size=N.content.length,delete b[46];var j=sa(b[4][0].data);{j[7][0].data=ka(n.e.r+1);var T=sa(j[1][0].data),I=Do(T[2][0].data);N=zr.find(u,o[I].location),E=Gc(Yc(N.content));{if(E[0].id!=I)throw"Bad HeaderStorageBucket";var B=sa(E[0].messages[0].data);for(L=0;L<i.length;++L){var G=sa(B[2][0].data);G[1][0].data=ka(L),G[4][0].data=ka(i[L].length),B[2][L]={type:B[2][0].type,data:eo(G)}}E[0].messages[0].data=eo(B)}N.content=Fv(Mv(E)),N.size=N.content.length;var Z=Do(j[2][0].data);N=zr.find(u,o[Z].location),E=Gc(Yc(N.content));{if(E[0].id!=Z)throw"Bad HeaderStorageBucket";for(B=sa(E[0].messages[0].data),P=0;P<=n.e.c;++P)G=sa(B[2][0].data),G[1][0].data=ka(P),G[4][0].data=ka(n.e.r+1),B[2][P]={type:B[2][0].type,data:eo(G)};E[0].messages[0].data=eo(B)}N.content=Fv(Mv(E)),N.size=N.content.length;var re=Do(j[4][0].data);(function(){for(var K=zr.find(u,o[re].location),J=Gc(Yc(K.content)),ne,ie=0;ie<J.length;++ie){var oe=J[ie];oe.id==re&&(ne=oe)}var ue=sa(ne.messages[0].data);{ue[3]=[];var V=[];s.forEach(function(te,Ee){V[1]=[{type:0,data:ka(Ee)}],V[2]=[{type:0,data:ka(1)}],V[3]=[{type:2,data:HGe(te)}],ue[3].push({type:2,data:eo(V)})})}ne.messages[0].data=eo(ue);var se=Mv(J),fe=Fv(se);K.content=fe,K.size=K.content.length})();var W=sa(j[3][0].data);{var z=W[1][0];delete W[2];var U=sa(z.data);{var Y=Do(U[2][0].data);(function(){for(var K=zr.find(u,o[Y].location),J=Gc(Yc(K.content)),ne,ie=0;ie<J.length;++ie){var oe=J[ie];oe.id==Y&&(ne=oe)}var ue=sa(ne.messages[0].data);{delete ue[6],delete W[7];var V=new Uint8Array(ue[5][0].data);ue[5]=[];for(var se=0,fe=0;fe<=n.e.r;++fe){var te=sa(V);se+=sYe(te,i[fe],s),te[1][0].data=ka(fe),ue[5].push({data:eo(te),type:2})}ue[1]=[{type:0,data:ka(n.e.c+1)}],ue[2]=[{type:0,data:ka(n.e.r+1)}],ue[3]=[{type:0,data:ka(se)}],ue[4]=[{type:0,data:ka(n.e.r+1)}]}ne.messages[0].data=eo(ue);var Ee=Mv(J),Fe=Fv(Ee);K.content=Fe,K.size=K.content.length})()}z.data=eo(U)}j[3][0].data=eo(W)}b[4][0].data=eo(j)}m.messages[0].data=eo(b);var Q=Mv(h),D=Fv(Q);return f.content=D,f.size=f.content.length,u}function gse(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function NM(e){gse([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function AM(e){gse([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function lYe(e){return On.WS.indexOf(e)>-1?"sheet":e==On.CS?"chart":e==On.DS?"dialog":e==On.MS?"macro":e&&e.length?e:"sheet"}function cYe(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,lYe(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function uYe(e,t,r,n,a,i,s,o,c,u,d,f){try{i[n]=sx(mc(e,r,!0),t);var h=ls(e,t),m;switch(o){case"sheet":m=DHe(h,t,a,c,i[n],u,d,f);break;case"chart":if(m=IHe(h,t,a,c,i[n],u,d,f),!m||!m["!drawel"])break;var w=B2(m["!drawel"].Target,t),g=Ew(w),y=xqe(mc(e,w,!0),sx(mc(e,g,!0),w)),b=B2(y,w),_=Ew(b);m=sHe(mc(e,b,!0),b,c,sx(mc(e,_,!0),b),u,m);break;case"macro":m=RHe(h,t,a,c,i[n],u,d,f);break;case"dialog":m=MHe(h,t,a,c,i[n],u,d,f);break;default:throw new Error("Unrecognized sheet type "+o)}s[n]=m;var N=[];i&&i[n]&&Mi(i[n]).forEach(function(E){var C="";if(i[n][E].Type==On.CMNT){C=B2(i[n][E].Target,t);var O=$He(ls(e,C,!0),C,c);if(!O||!O.length)return;NV(m,O,!1)}i[n][E].Type==On.TCMNT&&(C=B2(i[n][E].Target,t),N=N.concat(bqe(ls(e,C,!0),c)))}),N&&N.length&&NV(m,N,!0,c.people||[])}catch(E){if(c.WTF)throw E}}function Vc(e){return e.charAt(0)=="/"?e.slice(1):e}function dYe(e,t){if(Oy(),t=t||{},NM(t),Kc(e,"META-INF/manifest.xml")||Kc(e,"objectdata.xml"))return MV(e,t);if(Kc(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof PT<"u"){if(e.FileIndex)return PT(e);var r=zr.utils.cfb_new();return VW(e).forEach(function(G){En(r,G,_9e(e,G))}),PT(r)}throw new Error("Unsupported NUMBERS file")}if(!Kc(e,"[Content_Types].xml"))throw Kc(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Kc(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=VW(e),a=mje(mc(e,"[Content_Types].xml")),i=!1,s,o;if(a.workbooks.length===0&&(o="xl/workbook.xml",ls(e,o,!0)&&a.workbooks.push(o)),a.workbooks.length===0){if(o="xl/workbook.bin",!ls(e,o,!0))throw new Error("Could not find workbook");a.workbooks.push(o),i=!0}a.workbooks[0].slice(-3)=="bin"&&(i=!0);var c={},u={};if(!t.bookSheets&&!t.bookProps){if(ox=[],a.sst)try{ox=jHe(ls(e,Vc(a.sst)),a.sst,t)}catch(G){if(t.WTF)throw G}t.cellStyles&&a.themes.length&&(c=LHe(mc(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(u=FHe(ls(e,Vc(a.style)),a.style,c,t))}a.links.map(function(G){try{var Z=sx(mc(e,Ew(Vc(G))),G);return UHe(ls(e,Vc(G)),Z,G,t)}catch{}});var d=OHe(ls(e,Vc(a.workbooks[0])),a.workbooks[0],t),f={},h="";a.coreprops.length&&(h=ls(e,Vc(a.coreprops[0]),!0),h&&(f=aie(h)),a.extprops.length!==0&&(h=ls(e,Vc(a.extprops[0]),!0),h&&_je(h,f,t)));var m={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(h=mc(e,Vc(a.custprops[0]),!0),h&&(m=Nje(h,t)));var w={};if((t.bookSheets||t.bookProps)&&(d.Sheets?s=d.Sheets.map(function(Z){return Z.name}):f.Worksheets&&f.SheetNames.length>0&&(s=f.SheetNames),t.bookProps&&(w.Props=f,w.Custprops=m),t.bookSheets&&typeof s<"u"&&(w.SheetNames=s),t.bookSheets?w.SheetNames:t.bookProps))return w;s={};var g={};t.bookDeps&&a.calcchain&&(g=BHe(ls(e,Vc(a.calcchain)),a.calcchain));var y=0,b={},_,N;{var E=d.Sheets;f.Worksheets=E.length,f.SheetNames=[];for(var C=0;C!=E.length;++C)f.SheetNames[C]=E[C].name}var O=i?"bin":"xml",P=a.workbooks[0].lastIndexOf("/"),M=(a.workbooks[0].slice(0,P+1)+"_rels/"+a.workbooks[0].slice(P+1)+".rels").replace(/^\//,"");Kc(e,M)||(M="xl/_rels/workbook."+O+".rels");var L=sx(mc(e,M,!0),M.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=qHe(ls(e,Vc(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=Sqe(ls(e,Vc(a.people[0])),t)),L&&(L=cYe(L,d.Sheets));var j=ls(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(y=0;y!=f.Worksheets;++y){var T="sheet";if(L&&L[y]?(_="xl/"+L[y][1].replace(/[\/]?xl\//,""),Kc(e,_)||(_=L[y][1]),Kc(e,_)||(_=M.replace(/_rels\/.*$/,"")+L[y][1]),T=L[y][2]):(_="xl/worksheets/sheet"+(y+1-j)+"."+O,_=_.replace(/sheet0\./,"sheet.")),N=_.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(y!=t.sheets)continue e;break;case"string":if(f.SheetNames[y].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var I=!1,B=0;B!=t.sheets.length;++B)typeof t.sheets[B]=="number"&&t.sheets[B]==y&&(I=1),typeof t.sheets[B]=="string"&&t.sheets[B].toLowerCase()==f.SheetNames[y].toLowerCase()&&(I=1);if(!I)continue e}}uYe(e,_,N,f.SheetNames[y],y,b,s,T,t,d,c,u)}return w={Directory:a,Workbook:d,Props:f,Custprops:m,Deps:g,Sheets:s,SheetNames:f.SheetNames,Strings:ox,Styles:u,Themes:c,SSF:ii(en)},t&&t.bookFiles&&(e.files?(w.keys=n,w.files=e.files):(w.keys=[],w.files={},e.FullPaths.forEach(function(G,Z){G=G.replace(/^Root Entry[\/]/,""),w.keys.push(G),w.files[G]=e.FileIndex[Z]}))),t&&t.bookVBA&&(a.vba.length>0?w.vbaraw=ls(e,Vc(a.vba[0]),!0):a.defaults&&a.defaults.bin===Oqe&&(w.vbaraw=ls(e,"xl/vbaProject.bin",!0))),w}function fYe(e,t){var r=t||{},n="Workbook",a=zr.find(e,n);try{if(n="/!DataSpaces/Version",a=zr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(qBe(a.content),n="/!DataSpaces/DataSpaceMap",a=zr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=WBe(a.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=zr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=VBe(a.content);if(s.length!=1||s[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=zr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);GBe(a.content)}catch{}if(n="/EncryptionInfo",a=zr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=YBe(a.content);if(n="/EncryptedPackage",a=zr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],a.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function hYe(e,t){return t.bookType=="ods"?mse(e,t):t.bookType=="numbers"?oYe(e,t):t.bookType=="xlsb"?pYe(e,t):mYe(e,t)}function pYe(e,t){Yv=1024,e&&!e.SSF&&(e.SSF=ii(en)),e&&e.SSF&&(Oy(),iA(e.SSF),t.revssf=oA(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,lx?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=zie.indexOf(t.bookType)>-1,a=uM();AM(t=t||{});var i=XR(),s="",o=0;if(t.cellXfs=[],qm(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),s="docProps/core.xml",En(i,s,iie(e.Props,t)),a.coreprops.push(s),Ea(t.rels,2,s,On.CORE_PROPS),s="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,En(i,s,lie(e.Props)),a.extprops.push(s),Ea(t.rels,3,s,On.EXT_PROPS),e.Custprops!==e.Props&&Mi(e.Custprops||{}).length>0&&(s="docProps/custom.xml",En(i,s,cie(e.Custprops)),a.custprops.push(s),Ea(t.rels,4,s,On.CUST_PROPS)),o=1;o<=e.SheetNames.length;++o){var d={"!id":{}},f=e.Sheets[e.SheetNames[o-1]],h=(f||{})["!type"]||"sheet";switch(h){case"chart":default:s="xl/worksheets/sheet"+o+"."+r,En(i,s,WHe(o-1,s,t,e,d)),a.sheets.push(s),Ea(t.wbrels,-1,"worksheets/sheet"+o+"."+r,On.WS[0])}if(f){var m=f["!comments"],w=!1,g="";m&&m.length>0&&(g="xl/comments"+o+"."+r,En(i,g,GHe(m,g)),a.comments.push(g),Ea(d,-1,"../comments"+o+"."+r,On.CMNT),w=!0),f["!legacy"]&&w&&En(i,"xl/drawings/vmlDrawing"+o+".vml",Uie(o,f["!comments"])),delete f["!comments"],delete f["!legacy"]}d["!id"].rId1&&En(i,Ew(s),h1(d))}return t.Strings!=null&&t.Strings.length>0&&(s="xl/sharedStrings."+r,En(i,s,HHe(t.Strings,s,t)),a.strs.push(s),Ea(t.wbrels,-1,"sharedStrings."+r,On.SST)),s="xl/workbook."+r,En(i,s,zHe(e,s)),a.workbooks.push(s),Ea(t.rels,1,s,On.WB),s="xl/theme/theme1.xml",En(i,s,gM(e.Themes,t)),a.themes.push(s),Ea(t.wbrels,-1,"theme/theme1.xml",On.THEME),s="xl/styles."+r,En(i,s,VHe(e,s,t)),a.styles.push(s),Ea(t.wbrels,-1,"styles."+r,On.STY),e.vbaraw&&n&&(s="xl/vbaProject.bin",En(i,s,e.vbaraw),a.vba.push(s),Ea(t.wbrels,-1,"vbaProject.bin",On.VBA)),s="xl/metadata."+r,En(i,s,YHe(s)),a.metadata.push(s),Ea(t.wbrels,-1,"metadata."+r,On.XLMETA),En(i,"[Content_Types].xml",rie(a,t)),En(i,"_rels/.rels",h1(t.rels)),En(i,"xl/_rels/workbook."+r+".rels",h1(t.wbrels)),delete t.revssf,delete t.ssf,i}function mYe(e,t){Yv=1024,e&&!e.SSF&&(e.SSF=ii(en)),e&&e.SSF&&(Oy(),iA(e.SSF),t.revssf=oA(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,lx?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=zie.indexOf(t.bookType)>-1,a=uM();AM(t=t||{});var i=XR(),s="",o=0;if(t.cellXfs=[],qm(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),s="docProps/core.xml",En(i,s,iie(e.Props,t)),a.coreprops.push(s),Ea(t.rels,2,s,On.CORE_PROPS),s="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,En(i,s,lie(e.Props)),a.extprops.push(s),Ea(t.rels,3,s,On.EXT_PROPS),e.Custprops!==e.Props&&Mi(e.Custprops||{}).length>0&&(s="docProps/custom.xml",En(i,s,cie(e.Custprops)),a.custprops.push(s),Ea(t.rels,4,s,On.CUST_PROPS));var d=["SheetJ5"];for(t.tcid=0,o=1;o<=e.SheetNames.length;++o){var f={"!id":{}},h=e.Sheets[e.SheetNames[o-1]],m=(h||{})["!type"]||"sheet";switch(m){case"chart":default:s="xl/worksheets/sheet"+o+"."+r,En(i,s,ese(o-1,t,e,f)),a.sheets.push(s),Ea(t.wbrels,-1,"worksheets/sheet"+o+"."+r,On.WS[0])}if(h){var w=h["!comments"],g=!1,y="";if(w&&w.length>0){var b=!1;w.forEach(function(_){_[1].forEach(function(N){N.T==!0&&(b=!0)})}),b&&(y="xl/threadedComments/threadedComment"+o+"."+r,En(i,y,_qe(w,d,t)),a.threadedcomments.push(y),Ea(f,-1,"../threadedComments/threadedComment"+o+"."+r,On.TCMNT)),y="xl/comments"+o+"."+r,En(i,y,qie(w)),a.comments.push(y),Ea(f,-1,"../comments"+o+"."+r,On.CMNT),g=!0}h["!legacy"]&&g&&En(i,"xl/drawings/vmlDrawing"+o+".vml",Uie(o,h["!comments"])),delete h["!comments"],delete h["!legacy"]}f["!id"].rId1&&En(i,Ew(s),h1(f))}return t.Strings!=null&&t.Strings.length>0&&(s="xl/sharedStrings."+r,En(i,s,Pie(t.Strings,t)),a.strs.push(s),Ea(t.wbrels,-1,"sharedStrings."+r,On.SST)),s="xl/workbook."+r,En(i,s,ise(e)),a.workbooks.push(s),Ea(t.rels,1,s,On.WB),s="xl/theme/theme1.xml",En(i,s,gM(e.Themes,t)),a.themes.push(s),Ea(t.wbrels,-1,"theme/theme1.xml",On.THEME),s="xl/styles."+r,En(i,s,Lie(e,t)),a.styles.push(s),Ea(t.wbrels,-1,"styles."+r,On.STY),e.vbaraw&&n&&(s="xl/vbaProject.bin",En(i,s,e.vbaraw),a.vba.push(s),Ea(t.wbrels,-1,"vbaProject.bin",On.VBA)),s="xl/metadata."+r,En(i,s,Bie()),a.metadata.push(s),Ea(t.wbrels,-1,"metadata."+r,On.XLMETA),d.length>1&&(s="xl/persons/person.xml",En(i,s,Nqe(d)),a.people.push(s),Ea(t.wbrels,-1,"persons/person.xml",On.PEOPLE)),En(i,"[Content_Types].xml",rie(a,t)),En(i,"_rels/.rels",h1(t.rels)),En(i,"xl/_rels/workbook."+r+".rels",h1(t.wbrels)),delete t.revssf,delete t.ssf,i}function kM(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=Nc(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function gYe(e,t){return zr.find(e,"EncryptedPackage")?fYe(e,t):cse(e,t)}function vYe(e,t){var r,n=e,a=t||{};return a.type||(a.type=Pn&&Buffer.isBuffer(e)?"buffer":"base64"),r=Oae(n,a),dYe(r,a)}function vse(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return BO(e.slice(r),t);default:break e}return cy.to_workbook(e,t)}function yYe(e,t){var r="",n=kM(e,t);switch(t.type){case"base64":r=Nc(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=vg(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=Da(r)),t.type="binary",vse(r,t)}function xYe(e,t){var r=e;return t.type=="base64"&&(r=Nc(r)),r=OO.utils.decode(1200,r.slice(2),"str"),t.type="binary",vse(r,t)}function wYe(e){return e.match(/[^\x00-\x7F]/)?Qd(e):e}function TT(e,t,r,n){return n?(r.type="string",cy.to_workbook(e,r)):cy.to_workbook(t,r)}function zO(e,t){VR();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return zO(new Uint8Array(e),(r=ii(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],i=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),m1={},r.dateNF&&(m1.dateNF=r.dateNF),r.type||(r.type=Pn&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=Pn?"buffer":"binary",n=p9e(e),typeof Uint8Array<"u"&&!Pn&&(r.type="array")),r.type=="string"&&(i=!0,r.type="binary",r.codepage=65001,n=wYe(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var s=new ArrayBuffer(3),o=new Uint8Array(s);if(o.foo="bar",!o.foo)return r=ii(r),r.type="array",zO(HR(n),r)}switch((a=kM(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return gYe(zr.read(n,r),r);break;case 9:if(a[1]<=8)return cse(n,r);break;case 60:return BO(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return ABe(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return Eie.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?vYe(n,r):TT(e,n,r,i);case 239:return a[3]===60?BO(n,r):TT(e,n,r,i);case 255:if(a[1]===254)return xYe(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return X0.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return X0.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return $O.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return Rie.to_workbook(n,r);break;case 10:case 13:case 32:return yYe(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return NBe.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?$O.to_workbook(n,r):TT(e,n,r,i)}function yse(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return hb(t.file,zr.write(e,{type:Pn?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return zr.write(e,t)}function bYe(e,t){var r=ii(t||{}),n=hYe(e,r);return _Ye(n,r)}function _Ye(e,t){var r={},n=Pn?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?zr.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(aA(a))}return t.password&&typeof encrypt_agile<"u"?yse(encrypt_agile(a,t.password),t):t.type==="file"?hb(t.file,a):t.type=="string"?Da(a):a}function SYe(e,t){var r=t||{},n=wGe(e,r);return yse(n,r)}function zd(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return _w(Qd(n));case"binary":return Qd(n);case"string":return e;case"file":return hb(t.file,n,"utf8");case"buffer":return Pn?Lh(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):zd(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function NYe(e,t){switch(t.type){case"base64":return _w(e);case"binary":return e;case"string":return e;case"file":return hb(t.file,e,"binary");case"buffer":return Pn?Lh(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Y_(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?_w(r):t.type=="string"?Da(r):r;case"file":return hb(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function xse(e,t){VR(),gHe(e);var r=ii(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=xse(e,r);return r.type="array",aA(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return zd(hGe(e,r),r);case"slk":case"sylk":return zd(kie.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return zd(dse(e.Sheets[e.SheetNames[a]],r),r);case"txt":return NYe(wse(e.Sheets[e.SheetNames[a]],r),r);case"csv":return zd(CM(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return zd(Eie.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return Y_($O.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return zd(cy.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return zd(Rie.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return zd(Cie.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return zd(mse(e,r),r);case"wk1":return Y_(X0.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return Y_(X0.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Y_(use(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),SYe(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return bYe(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function AYe(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function EM(e,t,r){var n={};return n.type="file",n.file=t,AYe(n),xse(e,n)}function kYe(e,t,r,n,a,i,s,o){var c=es(r),u=o.defval,d=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!s||e[r])for(var m=t.s.c;m<=t.e.c;++m){var w=s?e[r][m]:e[n[m]+c];if(w===void 0||w.t===void 0){if(u===void 0)continue;i[m]!=null&&(h[i[m]]=u);continue}var g=w.v;switch(w.t){case"z":if(g==null)break;continue;case"e":g=g==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+w.t)}if(i[m]!=null){if(g==null)if(w.t=="e"&&g===null)h[i[m]]=null;else if(u!==void 0)h[i[m]]=u;else if(d&&g===null)h[i[m]]=null;else continue;else h[i[m]]=d&&(w.t!=="n"||w.t==="n"&&o.rawNumbers!==!1)?g:kh(w,g,o);g!=null&&(f=!1)}}return{row:h,isempty:f}}function f4(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],s=0,o="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":c=ea(d);break;case"number":c=ea(e["!ref"]),c.s.r=d;break;default:c=d}n>0&&(a=0);var f=es(c.s.r),h=[],m=[],w=0,g=0,y=Array.isArray(e),b=c.s.r,_=0,N={};y&&!e[b]&&(e[b]=[]);var E=u.skipHidden&&e["!cols"]||[],C=u.skipHidden&&e["!rows"]||[];for(_=c.s.c;_<=c.e.c;++_)if(!(E[_]||{}).hidden)switch(h[_]=wi(_),r=y?e[b][_]:e[h[_]+f],n){case 1:i[_]=_-c.s.c;break;case 2:i[_]=h[_];break;case 3:i[_]=u.header[_-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=s=kh(r,null,u),g=N[s]||0,!g)N[s]=1;else{do o=s+"_"+g++;while(N[o]);N[s]=g,N[o]=1}i[_]=o}for(b=c.s.r+a;b<=c.e.r;++b)if(!(C[b]||{}).hidden){var O=kYe(e,c,b,h,n,i,y,u);(O.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(m[w++]=O.row)}return m.length=w,m}var BV=/"/g;function EYe(e,t,r,n,a,i,s,o){for(var c=!0,u=[],d="",f=es(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var m=o.dense?(e[r]||[])[h]:e[n[h]+f];if(m==null)d="";else if(m.v!=null){c=!1,d=""+(o.rawNumbers&&m.t=="n"?m.v:kh(m,null,o));for(var w=0,g=0;w!==d.length;++w)if((g=d.charCodeAt(w))===a||g===i||g===34||o.forceQuotes){d='"'+d.replace(BV,'""')+'"';break}d=="ID"&&(d='"ID"')}else m.f!=null&&!m.F?(c=!1,d="="+m.f,d.indexOf(",")>=0&&(d='"'+d.replace(BV,'""')+'"')):d="";u.push(d)}return o.blankrows===!1&&c?null:u.join(s)}function CM(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=ea(e["!ref"]),i=n.FS!==void 0?n.FS:",",s=i.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,c=o.charCodeAt(0),u=new RegExp((i=="|"?"\\|":i)+"+$"),d="",f=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],m=n.skipHidden&&e["!rows"]||[],w=a.s.c;w<=a.e.c;++w)(h[w]||{}).hidden||(f[w]=wi(w));for(var g=0,y=a.s.r;y<=a.e.r;++y)(m[y]||{}).hidden||(d=EYe(e,a,y,f,s,c,i,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((g++?o:"")+d)));return delete n.dense,r.join("")}function wse(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=CM(e,t);return r}function CYe(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=ea(e["!ref"]),i="",s=[],o,c=[],u=Array.isArray(e);for(o=a.s.c;o<=a.e.c;++o)s[o]=wi(o);for(var d=a.s.r;d<=a.e.r;++d)for(i=es(d),o=a.s.c;o<=a.e.c;++o)if(t=s[o]+i,r=u?(e[d]||[])[o]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function bse(e,t,r){var n=r||{},a=+!n.skipHeader,i=e||{},s=0,o=0;if(i&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var c=typeof n.origin=="string"?bi(n.origin):n.origin;s=c.r,o=c.c}var u,d={s:{c:0,r:0},e:{c:o,r:s+t.length-1+a}};if(i["!ref"]){var f=ea(i["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),s==-1&&(s=f.e.r+1,d.e.r=s+t.length-1+a)}else s==-1&&(s=0,d.e.r=t.length-1+a);var h=n.header||[],m=0;t.forEach(function(g,y){Mi(g).forEach(function(b){(m=h.indexOf(b))==-1&&(h[m=h.length]=b);var _=g[b],N="z",E="",C=an({c:o+m,r:s+y+a});u=Rw(i,C),_&&typeof _=="object"&&!(_ instanceof Date)?i[C]=_:(typeof _=="number"?N="n":typeof _=="boolean"?N="b":typeof _=="string"?N="s":_ instanceof Date?(N="d",n.cellDates||(N="n",_=_s(_)),E=n.dateNF||en[14]):_===null&&n.nullError&&(N="e",_=0),u?(u.t=N,u.v=_,delete u.w,delete u.R,E&&(u.z=E)):i[C]=u={t:N,v:_},E&&(u.z=E))})}),d.e.c=Math.max(d.e.c,o+h.length-1);var w=es(s);if(a)for(m=0;m<h.length;++m)i[wi(m+o)+w]={t:"s",v:h[m]};return i["!ref"]=_n(d),i}function PYe(e,t){return bse(null,e,t)}function Rw(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=bi(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Rw(e,an(t)):Rw(e,an({r:t,c:r||0}))}function TYe(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function PM(){return{SheetNames:[],Sheets:{}}}function TM(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var s=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=s+a)!=-1;++a);}if(ase(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function OYe(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=TYe(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function DYe(e,t){return e.z=t,e}function _se(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function IYe(e,t,r){return _se(e,"#"+t,r)}function RYe(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function MYe(e,t,r,n){for(var a=typeof t!="string"?t:ea(t),i=typeof t=="string"?t:_n(t),s=a.s.r;s<=a.e.r;++s)for(var o=a.s.c;o<=a.e.c;++o){var c=Rw(e,s,o);c.t="n",c.F=i,delete c.v,s==a.s.r&&o==a.s.c&&(c.f=r,n&&(c.D=!0))}return e}var lf={encode_col:wi,encode_row:es,encode_cell:an,encode_range:_n,decode_col:aM,decode_row:nM,split_cell:H9e,decode_cell:bi,decode_range:ql,format_cell:kh,sheet_add_aoa:Kae,sheet_add_json:bse,sheet_add_dom:fse,aoa_to_sheet:Dy,json_to_sheet:PYe,table_to_sheet:hse,table_to_book:qGe,sheet_to_csv:CM,sheet_to_txt:wse,sheet_to_json:f4,sheet_to_html:dse,sheet_to_formulae:CYe,sheet_to_row_object_array:f4,sheet_get_cell:Rw,book_new:PM,book_append_sheet:TM,book_set_sheet_visibility:OYe,cell_set_number_format:DYe,cell_set_hyperlink:_se,cell_set_internal_link:IYe,cell_add_comment:RYe,sheet_set_array_formula:MYe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const FYe=(e,t="inventory_export")=>{const r=e.map(s=>({"Item Name":s.item_name,Category:s.category,Quantity:s.quantity,"Expiry Date":s.expiry_date?new Date(s.expiry_date).toLocaleDateString():"N/A","Supplier Info":s.supplier_info||"N/A","Purchase Price":s.purchase_price!=null?Number(s.purchase_price):"N/A",Status:s.stock_status,"Low Stock Threshold":s.low_stock_threshold,"Created At":new Date(s.created_at).toLocaleString()})),n=lf.json_to_sheet(r),a=[{wch:30},{wch:15},{wch:10},{wch:15},{wch:25},{wch:15},{wch:12},{wch:20},{wch:20}];n["!cols"]=a;const i=lf.book_new();lf.book_append_sheet(i,n,"Inventory"),EM(i,`${t}.xlsx`)},LYe=(e,t="inventory_export")=>{const r=new Hr,n=["Item Name","Category","Qty","Expiry","Supplier","Price","Status"],a=e.map(i=>[i.item_name,i.category,i.quantity,i.expiry_date?new Date(i.expiry_date).toLocaleDateString():"N/A",i.supplier_info||"N/A",i.purchase_price!=null?`$${Number(i.purchase_price).toFixed(2)}`:"N/A",i.stock_status]);r.setFontSize(18),r.text("Inventory Report",14,22),r.setFontSize(11),r.setTextColor(100),r.text(`Generated on: ${new Date().toLocaleDateString()}`,14,29),d1(r,{head:[n],body:a,startY:35,theme:"grid",headStyles:{fillColor:[22,160,133]},styles:{fontSize:8},columnStyles:{0:{cellWidth:40},2:{halign:"right"},5:{halign:"right"}}}),r.save(`${t}.pdf`)},jYe=()=>{const[e,t]=S.useState(!1),[r,n]=S.useState(null),[a,i]=S.useState(""),[s,o]=S.useState("all"),[c,u]=S.useState([]),[d,f]=S.useState(0),[h,m]=S.useState(!1),[w,g]=S.useState(!1),y=()=>{n(null),t(!0)},b=P=>{n(P),t(!0)},_=()=>{t(!1),n(null)},N=P=>{console.log("Item saved:",P),_(),f(M=>M+1)},E=()=>{w&&!h||(h?(m(!1),g(!1)):(g(!0),m(!0)))},C=P=>{},O=()=>{g(!1)};return x("div",{className:"container mx-auto p-4 md:p-6 space-y-6",children:[x(Fa,{heading:"Inventory Management",text:"Track medicines, tools, and consumables.",className:"flex items-center justify-between",children:[x(Hn,{open:e,onOpenChange:t,children:[l(ib,{asChild:!0,children:x(Me,{onClick:y,children:[l(Ch,{className:"mr-2 h-4 w-4"})," Add New Item"]})}),x(qn,{className:"sm:max-w-[800px] max-h-[90vh] overflow-y-auto",children:[l(Jn,{children:l(Zn,{children:r?"Edit Inventory Item":"Add New Inventory Item"})}),l(DLe,{itemToEdit:r,onSave:N,onCancel:_})]})]}),l(Me,{variant:"outline",onClick:E,disabled:w&&!h,className:`ai-insights-button ${w&&h?"opacity-100 cursor-not-allowed":""}`,style:w&&h?{opacity:1}:{},children:w&&h?x(Nr,{children:[l(q0,{className:"mr-2 h-4 w-4 animate-spin"}),"AI is thinking... (this may take up to 2 minutes)"]}):x(Nr,{children:[l(XH,{className:"mr-2 h-4 w-4"}),h?"Hide AI Insights":"Show AI Insights"]})})]}),x("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:[x("div",{className:"relative flex-1",children:[l(_4,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),l(dt,{type:"search",placeholder:"Search by item name...",className:"pl-8 sm:w-full",value:a,onChange:P=>i(P.target.value)})]}),x(Ur,{value:s,onValueChange:P=>o(P),children:[l(jr,{className:"w-full sm:w-[180px]",children:l(qr,{placeholder:"Filter by category"})}),x($r,{children:[l(mt,{value:"all",children:"All Categories"}),l(mt,{value:"Medicines",children:"Medicines"}),l(mt,{value:"Tools",children:"Tools"}),l(mt,{value:"Consumables",children:"Consumables"})]})]}),x(Me,{variant:"outline",onClick:()=>FYe(c),disabled:c.length===0,className:"w-full sm:w-auto",children:[l(oF,{className:"mr-2 h-4 w-4"})," Export Excel"]}),x(Me,{variant:"outline",onClick:()=>LYe(c),disabled:c.length===0,className:"w-full sm:w-auto",children:[l(oF,{className:"mr-2 h-4 w-4"})," Export PDF"]})]}),h&&l(MLe,{onLoadingChange:C,onInitialFetchComplete:O}),l(ELe,{onEditItem:b,refreshTrigger:d,searchTerm:a,categoryFilter:s,onDataFiltered:u})]})},$Ye=()=>{const[e,t]=S.useState([]),[r,n]=S.useState(!0),[a,i]=S.useState(null),[s,o]=S.useState(null),{toast:c}=bn();S.useEffect(()=>{(async()=>{n(!0),i(null);try{const f=await PLe();Array.isArray(f)?t(f):(console.warn("Fetched invoices data is not an array:",f),t([]))}catch(f){console.error("Failed to fetch invoices:",f);const h=f instanceof Error?f.message:"An unknown error occurred";i(h),c({title:"Error Fetching Invoices",description:h,variant:"destructive"})}finally{n(!1)}})()},[c]);const u=async d=>{o(d.id);try{const f=await TLe(d.storage_path);window.open(f,"_blank")}catch(f){console.error("Failed to get download URL:",f),c({title:"Error Getting Download Link",description:f instanceof Error?f.message:"Could not generate link.",variant:"destructive"})}finally{o(null)}};return r?l("div",{className:"space-y-2",children:[...Array(3)].map((d,f)=>l(Bl,{className:"h-10 w-full"},f))}):a?x(ld,{variant:"destructive",children:[l(jl,{className:"h-4 w-4"}),l(cd,{children:"Error"}),l(ud,{children:a})]}):e.length===0?l("p",{className:"text-center text-gray-500 mt-4",children:"No invoices found."}):l("div",{className:"rounded-md border",children:x(qo,{children:[l(zo,{children:x(Dn,{children:[l(Kt,{children:"File Name"}),l(Kt,{children:"Related Item"}),l(Kt,{children:"Uploaded At"}),l(Kt,{children:"Uploaded By"}),l(Kt,{className:"text-right",children:"Actions"})]})}),l(Wo,{children:e.map(d=>{var f;return x(Dn,{children:[l(zt,{className:"font-medium",children:d.file_name}),l(zt,{children:((f=d.inventory_items)==null?void 0:f.item_name)??l("span",{className:"text-xs text-muted-foreground",children:"N/A"})}),l(zt,{children:new Date(d.uploaded_at).toLocaleString()}),l(zt,{className:"text-xs text-muted-foreground",children:d.uploaded_by_user_id?"User ID: ..."+d.uploaded_by_user_id.slice(-6):"Unknown"}),x(zt,{className:"text-right space-x-1",children:[l(Me,{variant:"ghost",size:"icon",onClick:()=>u(d),disabled:s===d.id,title:"View Invoice",children:s===d.id?l("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}):l($w,{className:"h-4 w-4"})}),l(Me,{variant:"ghost",size:"icon",onClick:()=>u(d),disabled:s===d.id,title:"Download/View Invoice",children:s===d.id?l("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}):l(tG,{className:"h-4 w-4"})})]})]},d.id)})})]})})},BYe=()=>x("div",{className:"container mx-auto p-4 md:p-6 space-y-6",children:[l(Fa,{heading:"Uploaded Invoices",text:"View and download previously uploaded invoices."}),l($Ye,{})]}),UYe=({asset:e,isOpen:t,onOpenChange:r,onIntervalSet:n})=>{const{toast:a}=bn(),[i,s]=S.useState(e.maintenance_interval_value||""),[o,c]=S.useState(e.maintenance_interval_unit||void 0),[u,d]=S.useState(!1);S.useEffect(()=>{s(e.maintenance_interval_value||""),c(e.maintenance_interval_unit||void 0)},[e,t]);const f=async()=>{if(i===""||!o){a({title:"Validation Error",description:"Please provide both interval period and unit.",variant:"destructive"});return}if(i<=0){a({title:"Validation Error",description:"Interval period must be positive.",variant:"destructive"});return}d(!0);try{const{error:h}=await je.from("assets").update({maintenance_interval_value:i,maintenance_interval_unit:o}).eq("id",e.id);if(h)throw h;a({title:"Success",description:`Maintenance interval for ${e.asset_name} updated.`}),n(),r(!1)}catch(h){a({title:"Error updating interval",description:h.message||"An unexpected error occurred.",variant:"destructive"})}finally{d(!1)}};return l(Hn,{open:t,onOpenChange:r,children:x(qn,{className:"sm:max-w-[425px]",children:[x(Jn,{children:[l(Zn,{children:"Set Maintenance Interval"}),x(ds,{children:["Configure the maintenance interval for asset: ",l("strong",{children:e.asset_name}),"."]})]}),x("div",{className:"grid gap-4 py-4",children:[x("div",{className:"grid grid-cols-4 items-center gap-4",children:[l(tr,{htmlFor:"intervalValue",className:"text-right",children:"Interval Period"}),l(dt,{id:"intervalValue",type:"number",value:i,onChange:h=>s(h.target.value===""?"":parseInt(h.target.value,10)),className:"col-span-3",min:"1",placeholder:"e.g., 3"})]}),x("div",{className:"grid grid-cols-4 items-center gap-4",children:[l(tr,{htmlFor:"intervalUnit",className:"text-right",children:"Interval"}),x(Ur,{value:o,onValueChange:h=>c(h),children:[l(jr,{className:"col-span-3",children:l(qr,{placeholder:"Select unit"})}),x($r,{children:[l(mt,{value:"days",children:"Days"}),l(mt,{value:"weeks",children:"Weeks"}),l(mt,{value:"months",children:"Months"}),l(mt,{value:"years",children:"Years"})]})]})]})]}),x(hs,{children:[l(Me,{variant:"outline",onClick:()=>r(!1),disabled:u,children:"Cancel"}),l(Me,{onClick:f,disabled:u,children:u?"Saving...":"Save Interval"})]})]})})};function qYe(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function zYe(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var WYe=function(){function e(r){var n=this;this._insertTag=function(a){var i;n.tags.length===0?n.insertionPoint?i=n.insertionPoint.nextSibling:n.prepend?i=n.container.firstChild:i=n.before:i=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(a,i),n.tags.push(a)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(n){n.forEach(this._insertTag)},t.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(zYe(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var i=qYe(a);try{i.insertRule(n,i.cssRules.length)}catch{}}else a.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){var a;return(a=n.parentNode)==null?void 0:a.removeChild(n)}),this.tags=[],this.ctr=0},e}(),Co="-ms-",h4="-moz-",ha="-webkit-",Sse="comm",OM="rule",DM="decl",VYe="@import",Nse="@keyframes",HYe="@layer",GYe=Math.abs,hA=String.fromCharCode,YYe=Object.assign;function KYe(e,t){return oo(e,0)^45?(((t<<2^oo(e,0))<<2^oo(e,1))<<2^oo(e,2))<<2^oo(e,3):0}function Ase(e){return e.trim()}function XYe(e,t){return(e=t.exec(e))?e[0]:e}function pa(e,t,r){return e.replace(t,r)}function WO(e,t){return e.indexOf(t)}function oo(e,t){return e.charCodeAt(t)|0}function Mw(e,t,r){return e.slice(t,r)}function Wd(e){return e.length}function IM(e){return e.length}function K_(e,t){return t.push(e),e}function JYe(e,t){return e.map(t).join("")}var pA=1,dy=1,kse=0,zl=0,us=0,Ry="";function mA(e,t,r,n,a,i,s){return{value:e,root:t,parent:r,type:n,props:a,children:i,line:pA,column:dy,length:s,return:""}}function A2(e,t){return YYe(mA("",null,null,"",null,null,0),e,{length:-e.length},t)}function ZYe(){return us}function QYe(){return us=zl>0?oo(Ry,--zl):0,dy--,us===10&&(dy=1,pA--),us}function _c(){return us=zl<kse?oo(Ry,zl++):0,dy++,us===10&&(dy=1,pA++),us}function cf(){return oo(Ry,zl)}function v5(){return zl}function bb(e,t){return Mw(Ry,e,t)}function Fw(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Ese(e){return pA=dy=1,kse=Wd(Ry=e),zl=0,[]}function Cse(e){return Ry="",e}function y5(e){return Ase(bb(zl-1,VO(e===91?e+2:e===40?e+1:e)))}function eKe(e){for(;(us=cf())&&us<33;)_c();return Fw(e)>2||Fw(us)>3?"":" "}function tKe(e,t){for(;--t&&_c()&&!(us<48||us>102||us>57&&us<65||us>70&&us<97););return bb(e,v5()+(t<6&&cf()==32&&_c()==32))}function VO(e){for(;_c();)switch(us){case e:return zl;case 34:case 39:e!==34&&e!==39&&VO(us);break;case 40:e===41&&VO(e);break;case 92:_c();break}return zl}function rKe(e,t){for(;_c()&&e+us!==57;)if(e+us===84&&cf()===47)break;return"/*"+bb(t,zl-1)+"*"+hA(e===47?e:_c())}function nKe(e){for(;!Fw(cf());)_c();return bb(e,zl)}function aKe(e){return Cse(x5("",null,null,null,[""],e=Ese(e),0,[0],e))}function x5(e,t,r,n,a,i,s,o,c){for(var u=0,d=0,f=s,h=0,m=0,w=0,g=1,y=1,b=1,_=0,N="",E=a,C=i,O=n,P=N;y;)switch(w=_,_=_c()){case 40:if(w!=108&&oo(P,f-1)==58){WO(P+=pa(y5(_),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:P+=y5(_);break;case 9:case 10:case 13:case 32:P+=eKe(w);break;case 92:P+=tKe(v5()-1,7);continue;case 47:switch(cf()){case 42:case 47:K_(iKe(rKe(_c(),v5()),t,r),c);break;default:P+="/"}break;case 123*g:o[u++]=Wd(P)*b;case 125*g:case 59:case 0:switch(_){case 0:case 125:y=0;case 59+d:b==-1&&(P=pa(P,/\f/g,"")),m>0&&Wd(P)-f&&K_(m>32?qV(P+";",n,r,f-1):qV(pa(P," ","")+";",n,r,f-2),c);break;case 59:P+=";";default:if(K_(O=UV(P,t,r,u,d,a,o,N,E=[],C=[],f),i),_===123)if(d===0)x5(P,t,O,O,E,i,f,o,C);else switch(h===99&&oo(P,3)===110?100:h){case 100:case 108:case 109:case 115:x5(e,O,O,n&&K_(UV(e,O,O,0,0,a,o,N,a,E=[],f),C),a,C,f,o,n?E:C);break;default:x5(P,O,O,O,[""],C,0,o,C)}}u=d=m=0,g=b=1,N=P="",f=s;break;case 58:f=1+Wd(P),m=w;default:if(g<1){if(_==123)--g;else if(_==125&&g++==0&&QYe()==125)continue}switch(P+=hA(_),_*g){case 38:b=d>0?1:(P+="\f",-1);break;case 44:o[u++]=(Wd(P)-1)*b,b=1;break;case 64:cf()===45&&(P+=y5(_c())),h=cf(),d=f=Wd(N=P+=nKe(v5())),_++;break;case 45:w===45&&Wd(P)==2&&(g=0)}}return i}function UV(e,t,r,n,a,i,s,o,c,u,d){for(var f=a-1,h=a===0?i:[""],m=IM(h),w=0,g=0,y=0;w<n;++w)for(var b=0,_=Mw(e,f+1,f=GYe(g=s[w])),N=e;b<m;++b)(N=Ase(g>0?h[b]+" "+_:pa(_,/&\f/g,h[b])))&&(c[y++]=N);return mA(e,t,r,a===0?OM:o,c,u,d)}function iKe(e,t,r){return mA(e,t,r,Sse,hA(ZYe()),Mw(e,2,-2),0)}function qV(e,t,r,n){return mA(e,t,r,DM,Mw(e,0,n),Mw(e,n+1,-1),n)}function g1(e,t){for(var r="",n=IM(e),a=0;a<n;a++)r+=t(e[a],a,e,t)||"";return r}function sKe(e,t,r,n){switch(e.type){case HYe:if(e.children.length)break;case VYe:case DM:return e.return=e.return||e.value;case Sse:return"";case Nse:return e.return=e.value+"{"+g1(e.children,n)+"}";case OM:e.value=e.props.join(",")}return Wd(r=g1(e.children,n))?e.return=e.value+"{"+r+"}":""}function oKe(e){var t=IM(e);return function(r,n,a,i){for(var s="",o=0;o<t;o++)s+=e[o](r,n,a,i)||"";return s}}function lKe(e){return function(t){t.root||(t=t.return)&&e(t)}}function cKe(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var uKe=function(t,r,n){for(var a=0,i=0;a=i,i=cf(),a===38&&i===12&&(r[n]=1),!Fw(i);)_c();return bb(t,zl)},dKe=function(t,r){var n=-1,a=44;do switch(Fw(a)){case 0:a===38&&cf()===12&&(r[n]=1),t[n]+=uKe(zl-1,r,n);break;case 2:t[n]+=y5(a);break;case 4:if(a===44){t[++n]=cf()===58?"&\f":"",r[n]=t[n].length;break}default:t[n]+=hA(a)}while(a=_c());return t},fKe=function(t,r){return Cse(dKe(Ese(t),r))},zV=new WeakMap,hKe=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,n=t.parent,a=t.column===n.column&&t.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!zV.get(n))&&!a){zV.set(t,!0);for(var i=[],s=fKe(r,i),o=n.props,c=0,u=0;c<s.length;c++)for(var d=0;d<o.length;d++,u++)t.props[u]=i[c]?s[c].replace(/&\f/g,o[d]):o[d]+" "+s[c]}}},pKe=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}};function Pse(e,t){switch(KYe(e,t)){case 5103:return ha+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ha+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return ha+e+h4+e+Co+e+e;case 6828:case 4268:return ha+e+Co+e+e;case 6165:return ha+e+Co+"flex-"+e+e;case 5187:return ha+e+pa(e,/(\w+).+(:[^]+)/,ha+"box-$1$2"+Co+"flex-$1$2")+e;case 5443:return ha+e+Co+"flex-item-"+pa(e,/flex-|-self/,"")+e;case 4675:return ha+e+Co+"flex-line-pack"+pa(e,/align-content|flex-|-self/,"")+e;case 5548:return ha+e+Co+pa(e,"shrink","negative")+e;case 5292:return ha+e+Co+pa(e,"basis","preferred-size")+e;case 6060:return ha+"box-"+pa(e,"-grow","")+ha+e+Co+pa(e,"grow","positive")+e;case 4554:return ha+pa(e,/([^-])(transform)/g,"$1"+ha+"$2")+e;case 6187:return pa(pa(pa(e,/(zoom-|grab)/,ha+"$1"),/(image-set)/,ha+"$1"),e,"")+e;case 5495:case 3959:return pa(e,/(image-set\([^]*)/,ha+"$1$`$1");case 4968:return pa(pa(e,/(.+:)(flex-)?(.*)/,ha+"box-pack:$3"+Co+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ha+e+e;case 4095:case 3583:case 4068:case 2532:return pa(e,/(.+)-inline(.+)/,ha+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Wd(e)-1-t>6)switch(oo(e,t+1)){case 109:if(oo(e,t+4)!==45)break;case 102:return pa(e,/(.+:)(.+)-([^]+)/,"$1"+ha+"$2-$3$1"+h4+(oo(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~WO(e,"stretch")?Pse(pa(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(oo(e,t+1)!==115)break;case 6444:switch(oo(e,Wd(e)-3-(~WO(e,"!important")&&10))){case 107:return pa(e,":",":"+ha)+e;case 101:return pa(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ha+(oo(e,14)===45?"inline-":"")+"box$3$1"+ha+"$2$3$1"+Co+"$2box$3")+e}break;case 5936:switch(oo(e,t+11)){case 114:return ha+e+Co+pa(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return ha+e+Co+pa(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return ha+e+Co+pa(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return ha+e+Co+e+e}return e}var mKe=function(t,r,n,a){if(t.length>-1&&!t.return)switch(t.type){case DM:t.return=Pse(t.value,t.length);break;case Nse:return g1([A2(t,{value:pa(t.value,"@","@"+ha)})],a);case OM:if(t.length)return JYe(t.props,function(i){switch(XYe(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return g1([A2(t,{props:[pa(i,/:(read-\w+)/,":"+h4+"$1")]})],a);case"::placeholder":return g1([A2(t,{props:[pa(i,/:(plac\w+)/,":"+ha+"input-$1")]}),A2(t,{props:[pa(i,/:(plac\w+)/,":"+h4+"$1")]}),A2(t,{props:[pa(i,/:(plac\w+)/,Co+"input-$1")]})],a)}return""})}},gKe=[mKe],vKe=function(t){var r=t.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(g){var y=g.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var a=t.stylisPlugins||gKe,i={},s,o=[];s=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(g){for(var y=g.getAttribute("data-emotion").split(" "),b=1;b<y.length;b++)i[y[b]]=!0;o.push(g)});var c,u=[hKe,pKe];{var d,f=[sKe,lKe(function(g){d.insert(g)})],h=oKe(u.concat(a,f)),m=function(y){return g1(aKe(y),h)};c=function(y,b,_,N){d=_,m(y?y+"{"+b.styles+"}":b.styles),N&&(w.inserted[b.name]=!0)}}var w={key:r,sheet:new WYe({key:r,container:s,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:i,registered:{},insert:c};return w.sheet.hydrate(o),w},OT={exports:{}},ba={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WV;function yKe(){if(WV)return ba;WV=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,n=e?Symbol.for("react.fragment"):60107,a=e?Symbol.for("react.strict_mode"):60108,i=e?Symbol.for("react.profiler"):60114,s=e?Symbol.for("react.provider"):60109,o=e?Symbol.for("react.context"):60110,c=e?Symbol.for("react.async_mode"):60111,u=e?Symbol.for("react.concurrent_mode"):60111,d=e?Symbol.for("react.forward_ref"):60112,f=e?Symbol.for("react.suspense"):60113,h=e?Symbol.for("react.suspense_list"):60120,m=e?Symbol.for("react.memo"):60115,w=e?Symbol.for("react.lazy"):60116,g=e?Symbol.for("react.block"):60121,y=e?Symbol.for("react.fundamental"):60117,b=e?Symbol.for("react.responder"):60118,_=e?Symbol.for("react.scope"):60119;function N(C){if(typeof C=="object"&&C!==null){var O=C.$$typeof;switch(O){case t:switch(C=C.type,C){case c:case u:case n:case i:case a:case f:return C;default:switch(C=C&&C.$$typeof,C){case o:case d:case w:case m:case s:return C;default:return O}}case r:return O}}}function E(C){return N(C)===u}return ba.AsyncMode=c,ba.ConcurrentMode=u,ba.ContextConsumer=o,ba.ContextProvider=s,ba.Element=t,ba.ForwardRef=d,ba.Fragment=n,ba.Lazy=w,ba.Memo=m,ba.Portal=r,ba.Profiler=i,ba.StrictMode=a,ba.Suspense=f,ba.isAsyncMode=function(C){return E(C)||N(C)===c},ba.isConcurrentMode=E,ba.isContextConsumer=function(C){return N(C)===o},ba.isContextProvider=function(C){return N(C)===s},ba.isElement=function(C){return typeof C=="object"&&C!==null&&C.$$typeof===t},ba.isForwardRef=function(C){return N(C)===d},ba.isFragment=function(C){return N(C)===n},ba.isLazy=function(C){return N(C)===w},ba.isMemo=function(C){return N(C)===m},ba.isPortal=function(C){return N(C)===r},ba.isProfiler=function(C){return N(C)===i},ba.isStrictMode=function(C){return N(C)===a},ba.isSuspense=function(C){return N(C)===f},ba.isValidElementType=function(C){return typeof C=="string"||typeof C=="function"||C===n||C===u||C===i||C===a||C===f||C===h||typeof C=="object"&&C!==null&&(C.$$typeof===w||C.$$typeof===m||C.$$typeof===s||C.$$typeof===o||C.$$typeof===d||C.$$typeof===y||C.$$typeof===b||C.$$typeof===_||C.$$typeof===g)},ba.typeOf=N,ba}var VV;function xKe(){return VV||(VV=1,OT.exports=yKe()),OT.exports}var DT,HV;function wKe(){if(HV)return DT;HV=1;var e=xKe(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};i[e.ForwardRef]=n,i[e.Memo]=a;function s(w){return e.isMemo(w)?a:i[w.$$typeof]||t}var o=Object.defineProperty,c=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,h=Object.prototype;function m(w,g,y){if(typeof g!="string"){if(h){var b=f(g);b&&b!==h&&m(w,b,y)}var _=c(g);u&&(_=_.concat(u(g)));for(var N=s(w),E=s(g),C=0;C<_.length;++C){var O=_[C];if(!r[O]&&!(y&&y[O])&&!(E&&E[O])&&!(N&&N[O])){var P=d(g,O);try{o(w,O,P)}catch{}}}}return w}return DT=m,DT}wKe();var bKe=!0;function _Ke(e,t,r){var n="";return r.split(" ").forEach(function(a){e[a]!==void 0?t.push(e[a]+";"):a&&(n+=a+" ")}),n}var Tse=function(t,r,n){var a=t.key+"-"+r.name;(n===!1||bKe===!1)&&t.registered[a]===void 0&&(t.registered[a]=r.styles)},SKe=function(t,r,n){Tse(t,r,n);var a=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var i=r;do t.insert(r===i?"."+a:"",i,t.sheet,!0),i=i.next;while(i!==void 0)}};function NKe(e){for(var t=0,r,n=0,a=e.length;a>=4;++n,a-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(a){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var AKe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},kKe=/[A-Z]|^ms/g,EKe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Ose=function(t){return t.charCodeAt(1)===45},GV=function(t){return t!=null&&typeof t!="boolean"},IT=cKe(function(e){return Ose(e)?e:e.replace(kKe,"-$&").toLowerCase()}),YV=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(EKe,function(n,a,i){return Vd={name:a,styles:i,next:Vd},a})}return AKe[t]!==1&&!Ose(t)&&typeof r=="number"&&r!==0?r+"px":r};function Lw(e,t,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var a=r;if(a.anim===1)return Vd={name:a.name,styles:a.styles,next:Vd},a.name;var i=r;if(i.styles!==void 0){var s=i.next;if(s!==void 0)for(;s!==void 0;)Vd={name:s.name,styles:s.styles,next:Vd},s=s.next;var o=i.styles+";";return o}return CKe(e,t,r)}case"function":{if(e!==void 0){var c=Vd,u=r(e);return Vd=c,Lw(e,t,u)}break}}var d=r;return d}function CKe(e,t,r){var n="";if(Array.isArray(r))for(var a=0;a<r.length;a++)n+=Lw(e,t,r[a])+";";else for(var i in r){var s=r[i];if(typeof s!="object"){var o=s;GV(o)&&(n+=IT(i)+":"+YV(i,o)+";")}else if(Array.isArray(s)&&typeof s[0]=="string"&&t==null)for(var c=0;c<s.length;c++)GV(s[c])&&(n+=IT(i)+":"+YV(i,s[c])+";");else{var u=Lw(e,t,s);switch(i){case"animation":case"animationName":{n+=IT(i)+":"+u+";";break}default:n+=i+"{"+u+"}"}}}return n}var KV=/label:\s*([^\s;{]+)\s*(;|$)/g,Vd;function Dse(e,t,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var n=!0,a="";Vd=void 0;var i=e[0];if(i==null||i.raw===void 0)n=!1,a+=Lw(r,t,i);else{var s=i;a+=s[0]}for(var o=1;o<e.length;o++)if(a+=Lw(r,t,e[o]),n){var c=i;a+=c[o]}KV.lastIndex=0;for(var u="",d;(d=KV.exec(a))!==null;)u+="-"+d[1];var f=NKe(a)+u;return{name:f,styles:a,next:Vd}}var PKe=function(t){return t()},TKe=dx.useInsertionEffect?dx.useInsertionEffect:!1,OKe=TKe||PKe,Ise=S.createContext(typeof HTMLElement<"u"?vKe({key:"css"}):null);Ise.Provider;var DKe=function(t){return S.forwardRef(function(r,n){var a=S.useContext(Ise);return t(r,a,n)})},IKe=S.createContext({}),RM={}.hasOwnProperty,HO="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",RKe=function(t,r){var n={};for(var a in r)RM.call(r,a)&&(n[a]=r[a]);return n[HO]=t,n},MKe=function(t){var r=t.cache,n=t.serialized,a=t.isStringTag;return Tse(r,n,a),OKe(function(){return SKe(r,n,a)}),null},FKe=DKe(function(e,t,r){var n=e.css;typeof n=="string"&&t.registered[n]!==void 0&&(n=t.registered[n]);var a=e[HO],i=[n],s="";typeof e.className=="string"?s=_Ke(t.registered,i,e.className):e.className!=null&&(s=e.className+" ");var o=Dse(i,void 0,S.useContext(IKe));s+=t.key+"-"+o.name;var c={};for(var u in e)RM.call(e,u)&&u!=="css"&&u!==HO&&(c[u]=e[u]);return c.className=s,r&&(c.ref=r),S.createElement(S.Fragment,null,S.createElement(MKe,{cache:t,serialized:o,isStringTag:typeof a=="string"}),S.createElement(a,c))}),LKe=FKe,XV=function(t,r){var n=arguments;if(r==null||!RM.call(r,"css"))return S.createElement.apply(void 0,n);var a=n.length,i=new Array(a);i[0]=LKe,i[1]=RKe(t,r);for(var s=2;s<a;s++)i[s]=n[s];return S.createElement.apply(null,i)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(XV||(XV={}));function jKe(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Dse(t)}function $Ke(){var e=jKe.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}const X_=e=>{if(!e)return"N/A";try{return new Date(e).toLocaleDateString()}catch{return"Invalid Date"}};$Ke`
  0%, 100% { opacity: 1; }
  50% { opacity: 0; }
`;const BKe=({status:e})=>{if(!e)return l(yc,{variant:"outline",className:"bg-gray-200 text-gray-700",children:"Unknown"});let t="default",r="";switch(e){case"Active":t="default",r="bg-green-100 text-green-800";break;case"Under Maintenance":t="secondary",r="bg-yellow-100 text-yellow-800 animate-blink";break;case"Retired":t="outline",r="bg-gray-200 text-gray-700";break;case"Disposed":t="destructive",r="bg-red-100 text-red-800";break;default:t="outline",r="bg-gray-200 text-gray-700";break}return l(yc,{variant:t,className:r,children:e})},UKe=({onMarkAsServiced:e,onDisposeAsset:t,refreshTrigger:r,searchTerm:n,categoryFilter:a,statusFilter:i,tagFilter:s,onDataFiltered:o})=>{const[c,u]=S.useState([]),[d,f]=S.useState(!0),[h,m]=S.useState(null),[w,g]=S.useState("asset_name"),[y,b]=S.useState("asc"),{toast:_}=bn(),[N,E]=S.useState(!1),[C,O]=S.useState(null),P=S.useCallback(async()=>{f(!0),m(null);try{let T=je.from("assets").select(`
        *,
        asset_tags (
          tags (id, name, color)
        )
      `);n&&(T=T.or(`asset_name.ilike.%${n}%,serial_number.ilike.%${n}%`)),a!=="all"&&(T=T.eq("category",a)),i!=="all"&&(T=T.eq("status",i)),s!=="all"&&console.warn("Tag filtering in AssetList is not fully implemented for direct client-side query. Requires RPC or subquery.");const I={ascending:y==="asc"},B=["serial_number","location","purchase_date","warranty_expiry_date","next_maintenance_due_date","status"];B.includes(w)&&y==="asc"?I.nullsFirst=!1:B.includes(w)&&y==="desc"&&(I.nullsFirst=!0),T=T.order(w,I);const{data:G,error:Z}=await T;if(Z)throw Z;const re=(G||[]).map(W=>({...W,tags:Array.isArray(W.asset_tags)?W.asset_tags.map(z=>z.tags).filter(Boolean):[]}));u(re),o(re)}catch(T){console.error("Failed to fetch assets:",T),m(T instanceof Error?T.message:"An unknown error occurred"),_({title:"Error Fetching Assets",description:T instanceof Error?T.message:"Could not load assets.",variant:"destructive"})}finally{f(!1)}},[_,n,a,i,s,w,y,o]),M=T=>{O(T),E(!0)};S.useEffect(()=>{P()},[P,r]),S.useEffect(()=>{if(!je)return;const T=je.channel("assets_changes").on("postgres_changes",{event:"*",schema:"public",table:"assets"},I=>{console.log("Asset Realtime change received:",I),P()}).subscribe((I,B)=>{I==="SUBSCRIBED"&&console.log("Subscribed to asset changes!"),(I==="CHANNEL_ERROR"||I==="TIMED_OUT"||I==="CLOSED")&&console.error("Asset Realtime subscription error/closed:",I,B)});return()=>{console.log("Unsubscribing from asset changes"),je.removeChannel(T)}},[je,_,P]);const L=T=>{w===T?b(I=>I==="asc"?"desc":"asc"):(g(T),b("asc"))},j=T=>w!==T?l(S5,{className:"ml-2 h-4 w-4 opacity-30 group-hover:opacity-100"}):l(S5,{className:`ml-2 h-4 w-4 ${y==="asc"?"":"rotate-180"}`});return d?l("div",{className:"space-y-2",children:[...Array(5)].map((T,I)=>l(Bl,{className:"h-10 w-full"},I))}):h?x(ld,{variant:"destructive",children:[l(jl,{className:"h-4 w-4"}),l(cd,{children:"Error"}),l(ud,{children:h})]}):c.length===0?l("p",{className:"text-center text-gray-500 mt-4",children:"No assets found matching the criteria."}):x("div",{className:"rounded-md border",children:[x(qo,{children:[l(zo,{children:x(Dn,{children:[l(Kt,{children:x(Me,{variant:"ghost",onClick:()=>L("asset_name"),className:"px-0 group",children:["Asset Name ",j("asset_name")]})}),l(Kt,{children:x(Me,{variant:"ghost",onClick:()=>L("category"),className:"px-0 group",children:["Category ",j("category")]})}),l(Kt,{children:"Tags"}),l(Kt,{children:x(Me,{variant:"ghost",onClick:()=>L("serial_number"),className:"px-0 group",children:["Serial No. ",j("serial_number")]})}),l(Kt,{children:x(Me,{variant:"ghost",onClick:()=>L("location"),className:"px-0 group",children:["Location ",j("location")]})}),l(Kt,{children:x(Me,{variant:"ghost",onClick:()=>L("status"),className:"px-0 group",children:["Status ",j("status")]})}),l(Kt,{className:"hidden md:table-cell",children:x(Me,{variant:"ghost",onClick:()=>L("purchase_date"),className:"px-0 group",children:["Purchase Date ",j("purchase_date")]})}),l(Kt,{className:"hidden md:table-cell",children:x(Me,{variant:"ghost",onClick:()=>L("warranty_expiry_date"),className:"px-0 group",children:["Warranty Expiry ",j("warranty_expiry_date")]})}),l(Kt,{className:"hidden md:table-cell",children:x(Me,{variant:"ghost",onClick:()=>L("last_serviced_date"),className:"px-0 group",children:["Last Serviced ",j("last_serviced_date")]})}),l(Kt,{className:"hidden md:table-cell",children:x(Me,{variant:"ghost",onClick:()=>L("next_maintenance_due_date"),className:"px-0 group",children:["Next Due ",j("next_maintenance_due_date")]})}),l(Kt,{className:"text-right",children:"Actions"})," "]})}),l(Wo,{children:c.map(T=>x(Dn,{children:[l(zt,{className:"font-medium p-2 text-center text-sm",children:T.asset_name}),l(zt,{className:"p-2 text-center text-sm",children:T.category}),l(zt,{className:"p-2 text-center text-sm",children:T.tags&&T.tags.length>0?T.tags.map(I=>l(yc,{variant:"outline",className:"mr-1 mb-1 text-xs",style:I.color?{backgroundColor:I.color,color:"#fff",borderColor:I.color}:{},children:I.name},I.id)):"-"}),l(zt,{className:"p-2 text-center text-sm",children:T.serial_number||"N/A"}),l(zt,{className:"p-2 text-center text-sm",children:T.location||"N/A"}),l(zt,{className:"p-2 text-center text-sm",children:l(BKe,{status:T.status})}),l(zt,{className:"hidden md:table-cell p-2 text-center text-sm",children:X_(T.purchase_date)}),l(zt,{className:"hidden md:table-cell p-2 text-center text-sm",children:X_(T.warranty_expiry_date)}),l(zt,{className:"hidden md:table-cell p-2 text-center text-sm",children:X_(T.last_serviced_date)}),l(zt,{className:"hidden md:table-cell p-2 text-center text-sm",children:X_(T.next_maintenance_due_date)}),l(zt,{className:"text-right p-2 text-sm",children:x("div",{className:"flex items-center justify-end space-x-1",children:[T.service_document_url&&l(Me,{variant:"ghost",size:"icon",asChild:!0,title:"View Service Document",children:l("a",{href:T.service_document_url,target:"_blank",rel:"noopener noreferrer",children:l(Rce,{className:"h-4 w-4"})})}),l(Me,{variant:"ghost",size:"icon",onClick:()=>e(T),title:"Mark as Serviced",disabled:T.status==="Retired"||T.status==="Disposed",children:l(Jce,{className:"h-4 w-4"})}),l(Me,{variant:"ghost",size:"icon",asChild:!0,title:"View Details",children:l(Ki,{to:`/assets/${T.id}`,children:l($w,{className:"h-4 w-4"})})}),l(Me,{variant:"ghost",size:"icon",onClick:()=>t(T),title:"Dispose Asset",disabled:T.status==="Disposed"||T.status==="Retired",children:l(KH,{className:"h-4 w-4"})}),l(Me,{variant:"ghost",size:"icon",onClick:()=>M(T),title:"Set Maintenance Interval",children:l(Ace,{className:"h-4 w-4"})})]})})]},T.id))})]}),N&&C&&l(UYe,{asset:C,isOpen:N,onOpenChange:E,onIntervalSet:()=>{P(),_({title:"Success",description:"Maintenance interval updated."})}})]})},MM="assets",qKe=async()=>{const{data:e,error:t}=await je.from(MM).select("*").order("created_at",{ascending:!1});if(t)throw console.error("Error fetching assets:",t),new Error(t.message);return e||[]},zKe=async e=>{const t={...e,serial_number:e.serial_number||null,location:e.location||null,supplier_info:e.supplier_info||null,service_document_url:e.service_document_url||null,barcode_value:e.barcode_value||null},{data:r,error:n}=await je.from(MM).insert([t]).select().single();if(n)throw console.error("Error adding asset:",n),n.code==="23505"?new Error(`Failed to add asset. ${n.details||"A unique value (like Serial Number or Barcode) might already exist."}`):new Error(n.message);if(!r)throw new Error("Failed to add asset, no data returned.");return r},WKe=async(e,t)=>{const r={...t};r.serial_number===""&&(r.serial_number=null),r.location===""&&(r.location=null),r.supplier_info===""&&(r.supplier_info=null),r.service_document_url===""&&(r.service_document_url=null),r.barcode_value===""&&(r.barcode_value=null);const{data:n,error:a}=await je.from(MM).update(r).eq("id",e).select().single();if(a)throw console.error(`Error updating asset ${e}:`,a),a.code==="23505"?a.details.includes("serial_number")?new Error("Failed to update asset. The provided Serial Number already exists."):a.details.includes("barcode_value")?new Error("Failed to update asset. The provided Barcode/QR Code Value already exists."):new Error(`Failed to update asset. ${a.details||"A unique value (like Serial Number or Barcode) might already exist."}`):new Error(a.message);if(!n)throw new Error(`Failed to update asset ${e}, no data returned.`);return n},VKe=YN({asset_name:ro().min(1,{message:"Asset name is required"}),category:xw(["Equipment & Tools","Furniture","IT","Other"],{required_error:"Category is required"}),serial_number:ro().optional().nullable(),location:ro().optional().nullable(),purchase_date:ro().optional().nullable(),purchase_price:SR.number().min(0,{message:"Price must be 0 or greater"}).optional().nullable(),warranty_expiry_date:ro().optional().nullable(),last_serviced_date:ro().optional().nullable(),next_maintenance_due_date:ro().optional().nullable(),status:xw(["Active","Under Maintenance","Retired","Disposed"],{required_error:"Status is required"}),supplier_info:ro().optional().nullable(),service_document_url:ro().url({message:"Please enter a valid URL"}).optional().nullable(),barcode_value:ro().optional().nullable(),requires_maintenance:_R().optional().default(!1)}),HKe=({assetToEdit:e,onSave:t,onCancel:r})=>{const{toast:n}=bn(),a=!!e,i=["Equipment & Tools","Furniture","IT","Other"],s=["Active","Under Maintenance","Retired","Disposed"],o=g=>{if(g&&i.includes(g))return g},c=g=>{if(g&&s.includes(g))return g},u=g=>{if(g)try{return new Date(g).toISOString().split("T")[0]}catch{return}},d=pd({resolver:md(VKe),defaultValues:{asset_name:(e==null?void 0:e.asset_name)??"",category:o(e==null?void 0:e.category),serial_number:(e==null?void 0:e.serial_number)??"",location:(e==null?void 0:e.location)??"",purchase_date:u(e==null?void 0:e.purchase_date),purchase_price:e!=null&&e.purchase_price?Number(e.purchase_price):null,warranty_expiry_date:u(e==null?void 0:e.warranty_expiry_date),last_serviced_date:u(e==null?void 0:e.last_serviced_date),next_maintenance_due_date:u(e==null?void 0:e.next_maintenance_due_date),status:c(e==null?void 0:e.status)??"Active",supplier_info:(e==null?void 0:e.supplier_info)??"",service_document_url:(e==null?void 0:e.service_document_url)??"",barcode_value:(e==null?void 0:e.barcode_value)??"",requires_maintenance:(e==null?void 0:e.requires_maintenance)??!1}}),{handleSubmit:f,control:h,reset:m}=d;return S.useEffect(()=>{m(e?{asset_name:e.asset_name,category:o(e.category),serial_number:e.serial_number??"",location:e.location??"",purchase_date:u(e.purchase_date),purchase_price:e.purchase_price?Number(e.purchase_price):null,warranty_expiry_date:u(e.warranty_expiry_date),last_serviced_date:u(e.last_serviced_date),next_maintenance_due_date:u(e.next_maintenance_due_date),status:c(e.status),supplier_info:e.supplier_info??"",service_document_url:e.service_document_url??"",barcode_value:e.barcode_value??"",requires_maintenance:e.requires_maintenance??!1}:{asset_name:"",category:void 0,serial_number:"",location:"",purchase_date:"",purchase_price:null,warranty_expiry_date:"",last_serviced_date:"",next_maintenance_due_date:"",status:"Active",supplier_info:"",service_document_url:"",barcode_value:"",requires_maintenance:!1})},[e,m]),l(Mh,{...d,children:x("form",{onSubmit:f(async g=>{try{let y;const b={...g};a&&e?(y=await WKe(e.id,b),n({title:"Success",description:"Asset updated."})):(y=await zKe(b),n({title:"Success",description:"New asset added."})),t(y)}catch(y){console.error("Failed to save asset:",y),n({title:"Error",description:`Failed to save asset: ${y instanceof Error?y.message:"Unknown error"}`,variant:"destructive"})}}),className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4",children:[x("div",{className:"md:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-4 rounded-md border p-4",children:[l("h3",{className:"text-lg font-semibold md:col-span-2",children:"Basic Information"}),l(Ve,{control:h,name:"asset_name",render:({field:g})=>x(Ie,{children:[l(De,{children:"Asset Name *"}),l(Le,{children:l(dt,{placeholder:"e.g., Dental Chair Unit X1",...g})}),l(et,{})]})}),l(Ve,{control:h,name:"category",render:({field:g})=>x(Ie,{children:[l(De,{children:"Category *"}),x(Ur,{onValueChange:g.onChange,value:g.value??"",defaultValue:g.value??"",children:[l(Le,{children:l(jr,{children:l(qr,{placeholder:"Select a category"})})}),l($r,{children:i.map(y=>l(mt,{value:y,children:y},y))})]}),l(et,{})]})}),l(Ve,{control:h,name:"serial_number",render:({field:g})=>x(Ie,{children:[l(De,{children:"Serial Number"}),l(Le,{children:l(dt,{placeholder:"Asset Serial Number",...g,value:g.value??""})}),l(et,{})]})}),l(Ve,{control:h,name:"location",render:({field:g})=>x(Ie,{children:[l(De,{children:"Location"}),l(Le,{children:l(dt,{placeholder:"e.g., Room 3, North Branch",...g,value:g.value??""})}),l(et,{})]})})]}),x("div",{className:"md:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-4 rounded-md border p-4",children:[l("h3",{className:"text-lg font-semibold md:col-span-2",children:"Status & Warranty"}),l(Ve,{control:h,name:"status",render:({field:g})=>x(Ie,{children:[l(De,{children:"Status *"}),x(Ur,{onValueChange:g.onChange,value:g.value??"",defaultValue:g.value??"",children:[l(Le,{children:l(jr,{children:l(qr,{placeholder:"Select asset status"})})}),l($r,{children:s.map(y=>l(mt,{value:y,children:y},y))})]}),l(et,{})]})}),l(Ve,{control:h,name:"warranty_expiry_date",render:({field:g})=>x(Ie,{children:[l(De,{children:"Warranty Expiry"}),l(Le,{children:l(dt,{type:"date",...g,value:g.value??""})}),l(et,{})]})}),l(Ve,{control:h,name:"requires_maintenance",render:({field:g})=>l(Ie,{className:"md:col-span-2",children:x("div",{className:"flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4",children:[l(Le,{children:l(Fo,{checked:g.value,onCheckedChange:g.onChange})}),x("div",{className:"space-y-1 leading-none",children:[l(De,{children:"Requires Maintenance"}),l(gi,{children:"Check this box if the asset currently requires maintenance."})]})]})})})]}),x("div",{className:"md:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-4 rounded-md border p-4",children:[l("h3",{className:"text-lg font-semibold md:col-span-2",children:"Purchase Details"}),l(Ve,{control:h,name:"purchase_date",render:({field:g})=>x(Ie,{children:[l(De,{children:"Date"}),l(Le,{children:l(dt,{type:"date",...g,value:g.value??""})}),l(et,{})]})}),l(Ve,{control:h,name:"purchase_price",render:({field:g})=>x(Ie,{children:[l(De,{children:"Price"}),l(Le,{children:l(dt,{type:"number",step:"0.01",min:"0",placeholder:"0.00",...g,value:String(g.value??"")})}),l(et,{})]})})]}),x("div",{className:"md:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-4 rounded-md border p-4",children:[l("h3",{className:"text-lg font-semibold md:col-span-2",children:"Maintenance Details"}),l(Ve,{control:h,name:"last_serviced_date",render:({field:g})=>x(Ie,{children:[l(De,{children:"Last Serviced"}),l(Le,{children:l(dt,{type:"date",...g,value:g.value??""})}),l(et,{})]})}),l(Ve,{control:h,name:"next_maintenance_due_date",render:({field:g})=>x(Ie,{children:[l(De,{children:"Next Due"}),l(Le,{children:l(dt,{type:"date",...g,value:g.value??""})}),l(et,{})]})})]}),x("div",{className:"md:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-4 rounded-md border p-4",children:[l("h3",{className:"text-lg font-semibold md:col-span-2",children:"Additional Information"}),l(Ve,{control:h,name:"supplier_info",render:({field:g})=>x(Ie,{className:"md:col-span-2",children:[l(De,{children:"Supplier Info"}),l(Le,{children:l(un,{placeholder:"Supplier name, contact, notes...",...g,value:g.value??""})}),l(et,{})]})}),l(Ve,{control:h,name:"service_document_url",render:({field:g})=>x(Ie,{children:[l(De,{children:"Service Doc URL"}),l(Le,{children:l(dt,{type:"url",placeholder:"https://example.com/invoice.pdf",...g,value:g.value??""})}),l(et,{})]})}),l(Ve,{control:h,name:"barcode_value",render:({field:g})=>x(Ie,{children:[l(De,{children:"Barcode/QR"}),l(Le,{children:l(dt,{placeholder:"Scan or enter code",...g,value:g.value??""})}),l(et,{})]})})]}),x("div",{className:"md:col-span-2 rounded-md border p-4",children:[l("h3",{className:"text-lg font-semibold mb-4",children:"Tags"}),l("div",{className:"min-h-[60px] text-muted-foreground",children:"Tag management UI will be implemented here. (e.g., Multi-select combobox)"})]}),x("div",{className:"md:col-span-2 flex justify-end space-x-2 pt-4",children:[l(Me,{type:"button",variant:"outline",onClick:r,children:"Cancel"}),l(Me,{type:"submit",disabled:d.formState.isSubmitting,children:d.formState.isSubmitting?"Saving...":a?"Update Asset":"Add Asset"})]})]})})},GKe=({asset:e,open:t,onOpenChange:r,onSuccess:n})=>{const[a,i]=S.useState(""),[s,o]=S.useState(""),[c,u]=S.useState(void 0),[d,f]=S.useState([]),[h,m]=S.useState(!1),[w,g]=S.useState(!1),{toast:y}=bn();S.useEffect(()=>{(async()=>{if(e!=null&&e.id&&t){g(!0);const{data:N,error:E}=await je.from("asset_documents").select("id, file_name").eq("asset_id",e.id).order("uploaded_at",{ascending:!1});E?(console.error("Error fetching asset documents for dialog:",E),y({title:"Error",description:"Could not load documents for invoice selection.",variant:"destructive"})):f(N||[]),g(!1)}else t||f([])})()},[e,t,y]),S.useEffect(()=>{t&&(i(""),o(""),u(void 0))},[t,e]);const b=async()=>{if(!e||!e.id){y({title:"Error",description:"No asset selected.",variant:"destructive"});return}if(!e.maintenance_interval_months||e.maintenance_interval_months<=0){y({title:"Configuration Error",description:"Maintenance interval is not set for this asset. Please edit the asset to set a valid maintenance interval.",variant:"destructive"});return}const{data:{user:_},error:N}=await je.auth.getUser();if(N||!_){y({title:"Authentication Error",description:"Could not get current user. Please ensure you are logged in.",variant:"destructive"});return}const E=_.id,C=parseFloat(s)||0;m(!0);try{const{error:O}=await je.rpc("mark_asset_as_serviced",{p_asset_id:e.id,p_serviced_by_user_id:E,p_service_notes:a,p_maintenance_cost:C,p_invoice_document_id:c||null});if(O)throw O;y({title:"Success",description:`${e.asset_name} marked as serviced.`}),n(),r(!1)}catch(O){console.error("Error marking asset as serviced:",O),y({title:"Error",description:O.message||"Could not mark asset as serviced.",variant:"destructive"})}finally{m(!1)}};return e?l(Hn,{open:t,onOpenChange:r,children:x(qn,{className:"sm:max-w-md",children:[l(Jn,{children:x(Zn,{children:["Mark as Serviced: ",e.asset_name]})}),x("div",{className:"py-4 grid gap-4",children:[x("div",{children:[x("p",{children:[l("strong",{children:"Asset:"})," ",e.asset_name]}),x("p",{children:[l("strong",{children:"Last Serviced:"})," ",e.last_serviced_date?new Date(e.last_serviced_date).toLocaleDateString():"N/A"]}),x("p",{children:[l("strong",{children:"Next Due:"})," ",e.next_maintenance_due_date?new Date(e.next_maintenance_due_date).toLocaleDateString():"N/A"]})]}),x("div",{children:[l(tr,{htmlFor:"maintenance-cost",children:"Maintenance Cost (₹)"}),l(dt,{id:"maintenance-cost",type:"number",value:s,onChange:_=>o(_.target.value),placeholder:"0.00"})]}),x("div",{children:[l(tr,{htmlFor:"invoice-document",children:"Link Invoice (Optional)"}),x(Ur,{onValueChange:u,value:c,children:[l(jr,{id:"invoice-document",disabled:w||d.length===0,children:l(qr,{placeholder:w?"Loading documents...":d.length===0?"No documents available":"Select an invoice"})}),x($r,{children:[l(mt,{value:"none",children:"None"}),d.map(_=>l(mt,{value:_.id,children:_.file_name},_.id))]})]}),d.length===0&&!w&&l("p",{className:"text-xs text-muted-foreground mt-1",children:"Upload documents on the asset detail page first."})]}),x("div",{children:[l(tr,{htmlFor:"service-notes",children:"Service Notes (Optional)"}),l(un,{id:"service-notes",value:a,onChange:_=>i(_.target.value),placeholder:"Enter any notes about the service performed..."})]}),(!e.maintenance_interval_months||e.maintenance_interval_months<=0)&&l("p",{className:"text-sm text-destructive",children:"Warning: Maintenance interval is not set for this asset. The next due date cannot be calculated automatically. Please edit the asset to set a maintenance interval."})]}),x(hs,{children:[l(jN,{asChild:!0,children:l(Me,{variant:"outline",children:"Cancel"})}),l(Me,{onClick:b,disabled:h||!e.maintenance_interval_months||e.maintenance_interval_months<=0,children:h?l(Fn,{className:"mr-2 h-4 w-4 animate-spin"}):"Confirm Service"})]})]})}):null},YKe=["Sold","Scrapped","Donated","Stolen","Obsolete","Other"],KKe=({asset:e,open:t,onOpenChange:r,onSuccess:n})=>{const[a,i]=S.useState(new Date),[s,o]=S.useState(void 0),[c,u]=S.useState(""),[d,f]=S.useState(""),[h,m]=S.useState(!1),{toast:w}=bn();S.useEffect(()=>{t&&(i(new Date),o(void 0),u(""),f(""))},[t,e]);const g=async()=>{if(!e||!e.id){w({title:"Error",description:"No asset selected.",variant:"destructive"});return}if(!a){w({title:"Validation Error",description:"Disposal date is required.",variant:"destructive"});return}if(!s){w({title:"Validation Error",description:"Disposal reason is required.",variant:"destructive"});return}const{data:{user:y},error:b}=await je.auth.getUser();if(b||!y){w({title:"Authentication Error",description:"Could not get current user.",variant:"destructive"});return}m(!0);try{const _=parseFloat(d)||0,N=Rt(a,"yyyy-MM-dd"),{error:E}=await je.rpc("dispose_asset",{p_asset_id:e.id,p_disposed_by_user_id:y.id,p_disposal_date:N,p_disposal_reason:s,p_salvage_value:_,p_disposal_notes:c});if(E)throw E;w({title:"Success",description:`${e.asset_name} marked as disposed.`}),n(),r(!1)}catch(_){console.error("Error disposing asset:",_),w({title:"Error",description:_.message||"Could not dispose asset.",variant:"destructive"})}finally{m(!1)}};return e?l(Hn,{open:t,onOpenChange:r,children:x(qn,{className:"sm:max-w-[500px]",children:[l(Jn,{children:x(Zn,{children:["Dispose Asset: ",e.asset_name]})}),x("div",{className:"py-4 grid gap-4",children:[x("div",{children:[l(tr,{htmlFor:"disposal-date",children:"Disposal Date"}),x(pg,{children:[l(mg,{asChild:!0,children:x(Me,{variant:"outline",className:Lt("w-full justify-start text-left font-normal",!a&&"text-muted-foreground"),children:[l(Oi,{className:"mr-2 h-4 w-4"}),a?Rt(a,"PPP"):l("span",{children:"Pick a date"})]})}),l(bm,{className:"w-auto p-0",children:l(_m,{mode:"single",selected:a,onSelect:i,initialFocus:!0})})]})]}),x("div",{children:[l(tr,{htmlFor:"disposal-reason",children:"Reason"}),x(Ur,{onValueChange:y=>o(y),value:s,children:[l(jr,{id:"disposal-reason",children:l(qr,{placeholder:"Select disposal reason"})}),l($r,{children:YKe.map(y=>l(mt,{value:y,children:y},y))})]})]}),x("div",{children:[l(tr,{htmlFor:"salvage-value",children:"Salvage Value (₹)"}),l(dt,{id:"salvage-value",type:"number",value:d,onChange:y=>f(y.target.value),placeholder:"0.00"})]}),x("div",{children:[l(tr,{htmlFor:"disposal-notes",children:"Notes (Optional)"}),l(un,{id:"disposal-notes",value:c,onChange:y=>u(y.target.value),placeholder:"Enter any additional notes about the disposal..."})]})]}),x(hs,{children:[l(jN,{asChild:!0,children:l(Me,{variant:"outline",children:"Cancel"})}),l(Me,{onClick:g,disabled:h||!a||!s,children:h?l(Fn,{className:"mr-2 h-4 w-4 animate-spin"}):"Confirm Disposal"})]})]})}):null},XKe=()=>{const[e,t]=S.useState(!1),[r,n]=S.useState(null),[a,i]=S.useState(null),[s,o]=S.useState(!1),[c,u]=S.useState(null),[d,f]=S.useState(!1),[h,m]=S.useState(0),[w,g]=S.useState(""),[y,b]=S.useState("all"),[_,N]=S.useState("all"),[E,C]=S.useState("all"),[O,P]=S.useState([]),[M,L]=S.useState([]);S.useEffect(()=>{(async()=>{const{data:D,error:K}=await je.from("tags").select("id, name").order("name");K?console.error("Error fetching tags:",K):P(D||[])})()},[]);const j=Q=>{n(null),t(!0)},T=()=>{t(!1),n(null)},I=Q=>{i(Q),o(!0)},B=Q=>{u(Q),f(!0)},G=()=>{m(Q=>Q+1)},Z=Q=>{console.log("Asset saved:",Q),T(),m(D=>D+1)},re=Q=>{g(Q.target.value),m(D=>D+1)},W=Q=>{b(Q),m(D=>D+1)},z=Q=>{N(Q),m(D=>D+1)},U=Q=>{C(Q),m(D=>D+1)},Y=S.useCallback(Q=>{L(Q)},[]);return x("div",{className:"container mx-auto p-4 md:p-6",children:[l(Fa,{heading:"Asset Management"})," ",x("div",{className:"mb-4 flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[x("div",{className:"flex flex-col md:flex-row gap-2 flex-grow",children:[l(dt,{placeholder:"Search by name or serial...",value:w,onChange:re,className:"max-w-sm"}),x(Ur,{value:y,onValueChange:W,children:[l(jr,{className:"w-full md:w-[180px]",children:l(qr,{placeholder:"Filter by Category"})}),x($r,{children:[l(mt,{value:"all",children:"All Categories"}),l(mt,{value:"Equipment",children:"Equipment"}),l(mt,{value:"Furniture",children:"Furniture"}),l(mt,{value:"IT",children:"IT"}),l(mt,{value:"Other",children:"Other"})]})]}),x(Ur,{value:_,onValueChange:z,children:[l(jr,{className:"w-full md:w-[180px]",children:l(qr,{placeholder:"Filter by Status"})}),x($r,{children:[l(mt,{value:"all",children:"All Statuses"}),l(mt,{value:"Active",children:"Active"}),l(mt,{value:"Under Maintenance",children:"Under Maintenance"}),l(mt,{value:"Retired",children:"Retired"}),l(mt,{value:"Disposed",children:"Disposed"})]})]}),x(Ur,{value:E,onValueChange:U,children:[l(jr,{className:"w-full md:w-[180px]",children:l(qr,{placeholder:"Filter by Tag"})}),x($r,{children:[l(mt,{value:"all",children:"All Tags"}),O.map(Q=>l(mt,{value:Q.id,children:Q.name},Q.id))]})]})]}),l("div",{className:"flex gap-2",children:x(Hn,{open:e,onOpenChange:t,children:[l(ib,{asChild:!0,children:x(Me,{onClick:()=>j(),children:[l(Ch,{className:"mr-2 h-4 w-4"})," Add New Asset"]})}),x(qn,{className:"sm:max-w-[800px] max-h-[90vh] overflow-y-auto",children:[l(Jn,{children:l(Zn,{children:r?"Edit Asset":"Add New Asset"})}),l(HKe,{assetToEdit:r,onSave:Z,onCancel:T})]})]})})]}),l(UKe,{onMarkAsServiced:I,onDisposeAsset:B,refreshTrigger:h,searchTerm:w,categoryFilter:y,statusFilter:_,onDataFiltered:Y}),a&&l(GKe,{asset:a,open:s,onOpenChange:o,onSuccess:G}),c&&l(KKe,{asset:c,open:d,onOpenChange:f,onSuccess:G})]})},JKe=()=>{var E,C;const{assetId:e}=py(),[t,r]=S.useState(null),[n,a]=S.useState([]),[i,s]=S.useState([]),[o,c]=S.useState([]),[u,d]=S.useState(!0),[f,h]=S.useState(null),[m,w]=S.useState(!1),g=tt.useRef(null),{toast:y}=bn(),b=async()=>{if(!e)return;const{data:O,error:P}=await je.from("asset_documents").select("*").eq("asset_id",e).order("uploaded_at",{ascending:!1});P?console.error("Error fetching documents:",P):s(O||[])};S.useEffect(()=>{(async()=>{if(!e){h("Asset ID is missing."),d(!1);return}d(!0),h(null);try{const{data:P,error:M}=await je.from("assets").select(`
            *,
            asset_tags (
              tag_id,
              tags (id, name, color)
            )
          `).eq("id",e).single();if(M)throw M;const L=P?{...P,tags:Array.isArray(P.asset_tags)?P.asset_tags.map(G=>G.tags).filter(Boolean):[]}:null;r(L);const{data:j,error:T}=await je.from("maintenance_log").select("*").eq("asset_id",e).order("serviced_at",{ascending:!1});if(T)throw T;a(j||[]);const{data:I,error:B}=await je.from("asset_documents").select("*").eq("asset_id",e).order("uploaded_at",{ascending:!1});if(B)throw B;if(s(I||[]),P&&(P.status==="Disposed"||P.status==="Retired")){const{data:G,error:Z}=await je.from("asset_disposal_log").select("*").eq("asset_id",e).order("disposal_recorded_at",{ascending:!1});if(Z)throw Z;c(G||[])}}catch(P){console.error("Failed to fetch asset details:",P),h(P.message||"An unknown error occurred")}finally{d(!1)}})()},[e]);const _=async O=>{const P=O.target.files;if(!P||P.length===0||!e)return;const M=P[0];w(!0);try{const{data:{user:L},error:j}=await je.auth.getUser();if(j||!L)throw new Error("User not authenticated.");const T=`public/${e}/${Date.now()}_${M.name}`,{error:I}=await je.storage.from("asset-documents").upload(T,M);if(I)throw I;const{data:B}=je.storage.from("asset-documents").getPublicUrl(T);if(!(B!=null&&B.publicUrl))throw new Error("Could not get public URL.");const{error:G}=await je.from("asset_documents").insert({asset_id:e,file_name:M.name,file_url:B.publicUrl,file_type:M.type,file_size_bytes:M.size,uploaded_by_user_id:L.id});if(G)throw G;y({title:"Success",description:"Document uploaded successfully."}),b()}catch(L){console.error("Error uploading document:",L),y({title:"Upload Error",description:L.message||"Failed to upload document.",variant:"destructive"})}finally{w(!1),g.current&&(g.current.value="")}};if(u)return x("div",{className:"container mx-auto p-4 md:p-6 space-y-4",children:[l(Bl,{className:"h-8 w-1/4"}),l(Bl,{className:"h-40 w-full"}),l(Bl,{className:"h-40 w-full"})]});if(f)return l("div",{className:"container mx-auto p-4 md:p-6",children:x(ld,{variant:"destructive",children:[l(jl,{className:"h-4 w-4"}),l(cd,{children:"Error"}),l(ud,{children:f})]})});if(!t)return l("div",{className:"container mx-auto p-4 md:p-6",children:"Asset not found."});const N=O=>{if(!O)return"N/A";try{const P=new Date(O);return O.includes("T")?P.toLocaleString():P.toLocaleDateString()}catch{return"Invalid Date"}};return x("div",{className:"container mx-auto p-4 md:p-6 space-y-6",children:[l(Fa,{heading:`Asset Details: ${t.asset_name}`}),x(or,{children:[l(wr,{children:l(_r,{children:"Asset Information"})}),x(pr,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x("div",{children:[l("strong",{children:"Name:"})," ",t.asset_name]}),x("div",{children:[l("strong",{children:"Category:"})," ",t.category]}),x("div",{children:[l("strong",{children:"Serial Number:"})," ",t.serial_number||"N/A"]}),x("div",{children:[l("strong",{children:"Location:"})," ",t.location||"N/A"]}),x("div",{children:[l("strong",{children:"Status:"})," ",t.status]}),x("div",{children:[l("strong",{children:"Purchase Date:"})," ",N(t.purchase_date)]}),x("div",{children:[l("strong",{children:"Warranty Expiry:"})," ",N(t.warranty_expiry_date)]}),x("div",{children:[l("strong",{children:"Supplier Info:"})," ",t.supplier_info||"N/A"]}),x("div",{children:[l("strong",{children:"Maintenance Interval:"})," ",t.maintenance_interval_months?`${t.maintenance_interval_months} months`:"Not Set"]}),x("div",{children:[l("strong",{children:"Last Serviced:"})," ",N(t.last_serviced_date)]}),x("div",{children:[l("strong",{children:"Next Due:"})," ",N(t.next_maintenance_due_date)]}),x("div",{children:[l("strong",{children:"Purchase Cost:"})," ₹",((E=t.purchase_price)==null?void 0:E.toFixed(2))||"0.00"]}),x("div",{className:"md:col-span-2",children:[l("strong",{children:"Tags:"}),t.tags&&t.tags.length>0?l("span",{className:"ml-2",children:t.tags.map(O=>l(yc,{variant:"secondary",className:"mr-1 mb-1",style:O.color?{backgroundColor:O.color,color:"#fff"}:{},children:O.name},O.id))}):l("span",{className:"ml-2 text-muted-foreground",children:"No tags"})]})]})]}),x(or,{children:[l(wr,{children:l(_r,{children:"Cost Tracking"})}),l(pr,{children:(()=>{const O=t.purchase_price||0,P=n.reduce((j,T)=>j+(T.maintenance_cost||0),0),M=(t.status==="Disposed"||t.status==="Retired")&&t.salvage_value||0,L=O+P-M;return x("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x("div",{children:[l("strong",{children:"Purchase Cost:"})," ₹",O.toFixed(2)]}),x("div",{children:[l("strong",{children:"Total Maintenance Cost:"})," ₹",P.toFixed(2)]}),(t.status==="Disposed"||t.status==="Retired")&&x("div",{children:[l("strong",{children:"Salvage Value:"})," ₹",M.toFixed(2)]}),x("div",{children:[l("strong",{children:"Total Cost of Ownership:"})," ₹",L.toFixed(2)]})]})})()})]}),(t.status==="Disposed"||t.status==="Retired")&&t.disposal_date&&x(or,{className:"border-destructive",children:[l(wr,{children:l(_r,{className:"text-destructive",children:"Disposal Information"})}),x(pr,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x("div",{children:[l("strong",{children:"Disposal Date:"})," ",N(t.disposal_date)]}),x("div",{children:[l("strong",{children:"Reason:"})," ",t.disposal_reason||"N/A"]}),x("div",{children:[l("strong",{children:"Salvage Value:"})," ₹",((C=t.salvage_value)==null?void 0:C.toFixed(2))||"0.00"]}),t.disposal_notes&&x("div",{className:"md:col-span-2",children:[l("strong",{children:"Notes:"})," ",t.disposal_notes]})]})]}),x(or,{children:[l(wr,{children:l(_r,{children:"Maintenance History"})}),l(pr,{children:n.length>0?l("div",{className:"overflow-x-auto",children:x("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[l("thead",{className:"bg-gray-50",children:x("tr",{children:[l("th",{scope:"col",className:"px-4 py-2 text-left font-medium text-gray-500 uppercase tracking-wider",children:"Serviced At"}),l("th",{scope:"col",className:"px-4 py-2 text-left font-medium text-gray-500 uppercase tracking-wider",children:"Cost"}),l("th",{scope:"col",className:"px-4 py-2 text-left font-medium text-gray-500 uppercase tracking-wider",children:"Invoice"}),l("th",{scope:"col",className:"px-4 py-2 text-left font-medium text-gray-500 uppercase tracking-wider",children:"Notes"}),l("th",{scope:"col",className:"px-4 py-2 text-left font-medium text-gray-500 uppercase tracking-wider",children:"Prev. Next Due"}),l("th",{scope:"col",className:"px-4 py-2 text-left font-medium text-gray-500 uppercase tracking-wider",children:"New Next Due"})]})}),l("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(O=>{var M;const P=i.find(L=>L.id===O.invoice_document_id);return x("tr",{children:[l("td",{className:"px-4 py-2 whitespace-nowrap",children:N(O.serviced_at)}),x("td",{className:"px-4 py-2 whitespace-nowrap",children:["₹",((M=O.maintenance_cost)==null?void 0:M.toFixed(2))||"0.00"]}),l("td",{className:"px-4 py-2 whitespace-nowrap",children:P?l("a",{href:P.file_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:P.file_name}):O.invoice_document_id?"Invoice not found":"-"}),l("td",{className:"px-4 py-2",children:O.notes||"-"}),l("td",{className:"px-4 py-2 whitespace-nowrap",children:N(O.previous_next_maintenance_due_date)}),l("td",{className:"px-4 py-2 whitespace-nowrap",children:N(O.new_next_maintenance_due_date)})]},O.id)})})]})}):l("p",{className:"text-gray-500",children:"No maintenance history recorded."})})]}),o.length>0&&x(or,{children:[l(wr,{children:l(_r,{children:"Disposal Log"})}),l(pr,{children:l("div",{className:"overflow-x-auto",children:x("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[l("thead",{className:"bg-gray-50",children:x("tr",{children:[l("th",{scope:"col",className:"px-4 py-2 text-left font-medium text-gray-500 uppercase tracking-wider",children:"Recorded At"}),l("th",{scope:"col",className:"px-4 py-2 text-left font-medium text-gray-500 uppercase tracking-wider",children:"Disposal Date"}),l("th",{scope:"col",className:"px-4 py-2 text-left font-medium text-gray-500 uppercase tracking-wider",children:"Reason"}),l("th",{scope:"col",className:"px-4 py-2 text-left font-medium text-gray-500 uppercase tracking-wider",children:"Salvage Value (₹)"}),l("th",{scope:"col",className:"px-4 py-2 text-left font-medium text-gray-500 uppercase tracking-wider",children:"Notes"})]})}),l("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map(O=>{var P;return x("tr",{children:[l("td",{className:"px-4 py-2 whitespace-nowrap",children:N(O.disposal_recorded_at)}),l("td",{className:"px-4 py-2 whitespace-nowrap",children:N(O.disposal_date)}),l("td",{className:"px-4 py-2",children:O.disposal_reason}),x("td",{className:"px-4 py-2 whitespace-nowrap",children:["₹",((P=O.salvage_value)==null?void 0:P.toFixed(2))||"0.00"]}),l("td",{className:"px-4 py-2",children:O.disposal_notes||"-"})]},O.id)})})]})})})]}),x(or,{children:[l(wr,{children:l(_r,{children:"Documents"})}),x(pr,{children:[i.length>0?l("ul",{children:i.map(O=>x("li",{children:[l("a",{href:O.file_url,target:"_blank",rel:"noopener noreferrer",children:O.file_name})," (Uploaded: ",N(O.uploaded_at),")"]},O.id))}):l("p",{children:"No documents uploaded."}),x("div",{className:"mt-4 border-t pt-4",children:[l("h4",{className:"font-semibold mb-2",children:"Upload New Document"}),x("div",{className:"flex items-center gap-2",children:[l(dt,{type:"file",ref:g,onChange:_,disabled:m,className:"flex-grow"}),x(Me,{size:"sm",onClick:()=>{var O;return(O=g.current)==null?void 0:O.click()},disabled:m,children:[m?l(Fn,{className:"mr-2 h-4 w-4 animate-spin"}):l(Z0,{className:"mr-2 h-4 w-4"}),m?"Uploading...":"Choose File"]})]})]})]})]})]})};function FM({className:e,date:t,onDateChange:r}){return l("div",{className:Lt("grid gap-2",e),children:x(pg,{children:[l(mg,{asChild:!0,children:x(Me,{id:"date",variant:"outline",className:Lt("w-[300px] justify-start text-left font-normal",!t&&"text-muted-foreground"),children:[l(Oi,{className:"mr-2 h-4 w-4"}),t!=null&&t.from?t.to?x(Nr,{children:[Rt(t.from,"LLL dd, y")," -"," ",Rt(t.to,"LLL dd, y")]}):Rt(t.from,"LLL dd, y"):l("span",{children:"Pick a date range"})]})}),l(bm,{className:"w-auto p-0",align:"start",children:l(_m,{initialFocus:!0,mode:"range",defaultMonth:t==null?void 0:t.from,selected:t,onSelect:r,numberOfMonths:2})})]})})}const J_=["#4F46E5","#60A5FA","#34D399","#FBBF24","#F87171"],JV={"In Stock":"#22C55E","Low Stock":"#FBBF24",Expired:"#F87171"},ZV=["#4F46E5","#A5B4FC"],ZKe=({inventoryData:e=[],logData:t=[]})=>{const r=S.useMemo(()=>{const c={Medicines:0,Tools:0,Consumables:0};return e.forEach(u=>{const d=u.category;d&&c[d]!==void 0&&c[d]++}),Object.entries(c).map(([u,d])=>({name:u,value:d}))},[e]),n=S.useMemo(()=>{const c={"In Stock":0,"Low Stock":0,Expired:0};return e.forEach(u=>{c[u.stock_status]!==void 0&&c[u.stock_status]++}),Object.entries(c).map(([u,d])=>({name:u,value:d})).filter(u=>u.value>0)},[e]);e.length;const a=r.reduce((c,u)=>c+u.value,0),i=n.reduce((c,u)=>c+u.value,0),s=()=>{var h;const c=e.reduce((m,w)=>m+(w.quantity||0),0),u=[...t].sort((m,w)=>new Date(m.created_at).getTime()-new Date(w.created_at).getTime()),d=new Map;if(u.length===0){const m=Date.now();d.set(m,{timestamp:m,name:new Date(m).toLocaleDateString(),value:c})}else{const m=u.reduce((O,P)=>O+P.quantity_change,0),w=c-m,y=new Date(u[0].created_at).getTime()-1;d.set(y,{timestamp:y,name:new Date(y).toLocaleDateString(),value:w});let b=w;u.forEach(O=>{b+=O.quantity_change;const P=new Date(O.created_at).getTime();d.set(P,{timestamp:P,name:new Date(P).toLocaleDateString(),value:b})});const _=Array.from(d.keys()).pop()??y,N=Date.now(),E=24*60*60*1e3;(((h=d.get(_))==null?void 0:h.value)!==c||N-_>E)&&d.set(N,{timestamp:N,name:new Date(N).toLocaleDateString(),value:c})}return Array.from(d.values())},o=(c,u)=>{const{payload:d}=c;return l("div",{className:"flex flex-wrap justify-center gap-x-4 gap-y-2 w-full mt-4 text-xs",children:d.map((f,h)=>{const m=u>0?(f.payload.value/u*100).toFixed(1):0;return x("div",{className:"flex items-center",children:[l("span",{className:"w-2 h-2 rounded-full mr-1.5",style:{backgroundColor:f.color}}),f.payload.name," (",m,"%)"]},`legend-${f.payload.name}-${h}`)})})};return x("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[" ",x(or,{children:[l(wr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:l(_r,{className:"text-sm font-medium",children:"Items by Category"})}),x(pr,{className:"flex flex-col items-center pt-4",children:[" ",l(Oo,{width:"100%",height:220,children:x(Jp,{children:[l($o,{data:r,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:1,dataKey:"value",startAngle:90,endAngle:450,children:r.map((c,u)=>l(Jc,{fill:J_[u%J_.length],stroke:J_[u%J_.length]},`cell-cat-${u}`))}),l(ri,{formatter:(c,u)=>[`${c} (${a>0?(c/a*100).toFixed(1):0}%)`,u],contentStyle:{fontSize:"12px",padding:"4px 8px",borderRadius:"4px"}}),l(Ku,{content:c=>o(c,a)})]})})]})]}),x(or,{children:[l(wr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:l(_r,{className:"text-sm font-medium",children:"Items by Status"})}),x(pr,{className:"flex flex-col items-center pt-4",children:[" ",l(Oo,{width:"100%",height:220,children:x(Jp,{children:[l($o,{data:n,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:1,dataKey:"value",startAngle:90,endAngle:450,children:n.map((c,u)=>l(Jc,{fill:JV[c.name],stroke:JV[c.name]},`cell-stat-${u}`))}),l(ri,{formatter:(c,u)=>[`${c} (${i>0?(c/i*100).toFixed(1):0}%)`,u],contentStyle:{fontSize:"12px",padding:"4px 8px",borderRadius:"4px"}}),l(Ku,{content:c=>o(c,i)})]})})]})]}),x(or,{className:"md:col-span-2 lg:col-span-3",children:[" ",x(wr,{className:"pb-2",children:[" ",l(_r,{className:"text-sm font-medium",children:"Item Quantities"}),l("p",{className:"text-xs text-muted-foreground",children:"Current stock vs. low stock threshold"})," "]}),x(pr,{className:"pb-4 pl-2 pr-4",children:[" ",l(Oo,{width:"100%",height:300,children:x(aw,{data:e,margin:{top:5,right:5,left:-10,bottom:5},barGap:4,barCategoryGap:"20%",children:[l(Rl,{dataKey:"item_name",axisLine:!1,tickLine:!1,dy:10,style:{fontSize:"10px"},interval:0,angle:-45,textAnchor:"end",height:60}),l(Ml,{axisLine:!1,tickLine:!1,width:30,style:{fontSize:"12px"},allowDecimals:!1}),l(ri,{cursor:{fill:"rgba(79, 70, 229, 0.1)"},contentStyle:{fontSize:"12px",padding:"4px 8px",borderRadius:"4px"},formatter:(c,u)=>[`${c}`,u==="quantity"?"Quantity":"Low Stock Threshold"]}),l(au,{dataKey:"quantity",fill:ZV[0],name:"Quantity",radius:[4,4,0,0],barSize:10}),l(au,{dataKey:"low_stock_threshold",fill:ZV[1],name:"Low Stock Threshold",radius:[4,4,0,0],barSize:10})]})})]})]}),x(or,{className:"md:col-span-2 lg:col-span-3",children:[x(wr,{className:"flex flex-row items-center justify-between pb-2",children:[" ",x("div",{children:[l(_r,{className:"text-sm font-medium",children:"Overall Inventory Trend"}),l("p",{className:"text-xs text-muted-foreground",children:"Total quantity changes over time"})," "]})]}),x(pr,{className:"pb-4 pl-2 pr-4",children:[" ",l(Oo,{width:"100%",height:300,children:x(yee,{data:s(),margin:{top:5,right:10,left:-10,bottom:5},children:[l("defs",{children:x("linearGradient",{id:"colorValue",x1:"0",y1:"0",x2:"0",y2:"1",children:[l("stop",{offset:"5%",stopColor:"#4F46E5",stopOpacity:.8}),l("stop",{offset:"95%",stopColor:"#4F46E5",stopOpacity:0})]})}),l(nR,{strokeDasharray:"3 3",vertical:!1,stroke:"hsl(var(--muted))"}),l(Rl,{dataKey:"timestamp",type:"number",domain:["dataMin","dataMax"],axisLine:!1,tickLine:!1,tickFormatter:c=>new Date(c).toLocaleDateString(),dy:10,style:{fontSize:"12px"}}),l(Ml,{axisLine:!1,tickLine:!1,width:30,style:{fontSize:"12px"},allowDecimals:!1,domain:[0,"dataMax + 10"]}),l(ri,{contentStyle:{fontSize:"12px",padding:"4px 8px",borderRadius:"4px"},formatter:(c,u,d)=>[`Total Quantity: ${c}`,d.payload.name]}),l(Ih,{type:"monotone",dataKey:"value",connectNulls:!0,stroke:"#4F46E5",fillOpacity:1,fill:"url(#colorValue)",strokeWidth:2,dot:{r:4,fill:"#4F46E5",stroke:"#fff",strokeWidth:2},activeDot:{r:6},name:"Total Quantity"})]})})]})]})]})},QKe=["Medicines","Tools","Consumables"],eXe=()=>{const[e,t]=S.useState([]),[r,n]=S.useState([]),[a,i]=S.useState(!1),[s,o]=S.useState(null),[c,u]=S.useState(void 0),[d,f]=S.useState("all"),[h,m]=S.useState(""),[w,g]=S.useState({inventoryLevelStatus:{},upcomingExpiryItems:[]}),[y,b]=S.useState([]);S.useEffect(()=>{(async()=>{i(!0),o(null);try{const j=(await qR()).map(Z=>({...Z,stock_status:Z.quantity>Z.low_stock_threshold?"In Stock":"Low Stock"}));t(j),n(j);const T=new Date(0).toISOString(),I=new Date().toISOString(),B=await CW(T,I);b(B);const G=await _(j);g(G)}catch(L){const j=L instanceof Error?L.message:"Failed to load initial inventory or log data";o(j),console.error("Error fetching initial data:",L)}finally{i(!1)}})()},[]),S.useEffect(()=>{let M=[...e];c!=null&&c.from&&(c!=null&&c.to)?M=M.filter(L=>{const j=new Date(L.created_at);return j>=c.from&&j<=c.to}):c!=null&&c.from?M=M.filter(L=>new Date(L.created_at)>=c.from):c!=null&&c.to&&(M=M.filter(L=>new Date(L.created_at)<=c.to)),d!=="all"&&(M=M.filter(L=>L.category===d)),h&&(M=M.filter(L=>{var j;return(j=L.supplier_info)==null?void 0:j.toLowerCase().includes(h.toLowerCase())})),n(M)},[c,d,h,e]),S.useEffect(()=>{(async()=>{if(c!=null&&c.from&&(c!=null&&c.to)){i(!0),o(null);try{const L=c.from.toISOString(),j=c.to.toISOString(),T=await CW(L,j);b(T)}catch(L){o(`Error fetching inventory log data: ${L instanceof Error?L.message:String(L)}`)}finally{i(!1)}}else b([])})()},[c]);const _=async M=>{const L=M.reduce((T,I)=>(I.stock_status==="Low Stock"&&(T[I.item_name]=I.quantity),T),{}),j=M.filter(T=>{if(!T.expiry_date)return!1;const I=new Date(T.expiry_date),B=new Date;return B.setDate(B.getDate()+90),I<=B}).sort((T,I)=>new Date(T.expiry_date).getTime()-new Date(I.expiry_date).getTime());return{inventoryLevelStatus:L,upcomingExpiryItems:j}},N=M=>M?new Date(M).toLocaleDateString():"N/A",E=(M,L="Inventory Report")=>{const j=new Hr;j.text(L,14,15);const T=["ID","Name","Category","Quantity","Unit Price","Supplier","Expiry Date","Status"],I=[];M.forEach(B=>{const G=[B.id,B.item_name,B.category,B.quantity,B.purchase_price??"N/A",B.supplier_info??"N/A",N(B.expiry_date),B.stock_status];I.push(G)}),d1(j,{head:[T],body:I,startY:20}),j.save(`${L.replace(/\s+/g,"_")}.pdf`)},C=(M,L="Inventory Report")=>{const j=M.map(B=>({ID:B.id,Name:B.item_name,Category:B.category,Quantity:B.quantity,"Unit Price":B.purchase_price??"N/A",Supplier:B.supplier_info??"N/A","Expiry Date":N(B.expiry_date),Status:B.stock_status,"Low Stock Threshold":B.low_stock_threshold,"Created At":N(B.created_at)})),T=lf.json_to_sheet(j),I=lf.book_new();lf.book_append_sheet(I,T,"Inventory"),EM(I,`${L.replace(/\s+/g,"_")}.xlsx`)},O=()=>{if(console.log("Generating Stock Report with data:",r),r.length===0){o("No data available to generate report.");return}o(null);try{E(r,"Stock Report"),C(r,"Stock Report")}catch(M){console.error("Error generating stock report:",M),o(`Error generating stock report: ${M instanceof Error?M.message:String(M)}`)}},P=()=>{const M=new Date,L=new Date;L.setDate(M.getDate()+90);const j=r.filter(T=>T.expiry_date?new Date(T.expiry_date)<=L:!1).sort((T,I)=>{const B=T.expiry_date?new Date(T.expiry_date).getTime():0,G=I.expiry_date?new Date(I.expiry_date).getTime():0;return B-G});if(console.log("Generating Expiry Report with data:",j),j.length===0){o("No items expiring soon to generate report.");return}o(null);try{E(j,"Expiry Report (Next 90 Days)"),C(j,"Expiry Report (Next 90 Days)")}catch(T){console.error("Error generating expiry report:",T),o(`Error generating expiry report: ${T instanceof Error?T.message:String(T)}`)}};return x("div",{className:"space-y-4",children:[x(or,{children:[l(wr,{children:l(_r,{children:"Filters"})}),x(pr,{className:"flex flex-col md:flex-row gap-4 items-end",children:[" ",x("div",{className:"flex-1",children:[l("label",{className:"block text-sm font-medium text-muted-foreground mb-1",children:"Date Range (Created At)"}),l(FM,{date:c,onDateChange:u})]}),x("div",{className:"flex-1",children:[l("label",{htmlFor:"inv-category-filter",className:"block text-sm font-medium text-muted-foreground mb-1",children:"Category"}),x(Ur,{value:d,onValueChange:M=>f(M),children:[l(jr,{id:"inv-category-filter",children:l(qr,{placeholder:"Filter by Category"})}),x($r,{children:[l(mt,{value:"all",children:"All Categories"}),QKe.map(M=>l(mt,{value:M,children:M},M))]})]})]}),x("div",{className:"flex-1",children:[l("label",{htmlFor:"inv-supplier-filter",className:"block text-sm font-medium text-muted-foreground mb-1",children:"Supplier"}),l(dt,{id:"inv-supplier-filter",placeholder:"Filter by supplier...",value:h,onChange:M=>m(M.target.value)})]})]})]}),x("div",{className:"flex gap-2",children:[l(Me,{onClick:O,disabled:a,children:"Generate Stock Report"}),l(Me,{onClick:P,variant:"outline",disabled:a,children:"Generate Expiry Report"})]}),a&&l("p",{children:"Loading report data..."}),s&&x(ld,{variant:"destructive",children:[l(jl,{className:"h-4 w-4"}),l(cd,{children:"Error"}),l(ud,{children:s})]}),x("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[x(or,{children:[x(wr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l(_r,{className:"text-sm font-medium",children:"Low Stock Items"}),l(jl,{className:"h-4 w-4 text-muted-foreground text-red-500"})]}),x(pr,{children:[l("div",{className:"text-2xl font-bold",children:Object.keys(w.inventoryLevelStatus).length}),x("ul",{className:"text-xs text-muted-foreground list-disc pl-4",children:[Object.entries(w.inventoryLevelStatus).slice(0,5).map(([M,L])=>x("li",{children:[M," (",L,")"]},M)),Object.keys(w.inventoryLevelStatus).length>5&&l("li",{children:"...and more"})]}),Object.keys(w.inventoryLevelStatus).length===0&&l("p",{className:"text-xs text-muted-foreground",children:"No items currently low on stock."})]})]}),x(or,{children:[x(wr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l(_r,{className:"text-sm font-medium",children:"Upcoming Expiry (90 days)"}),l(jl,{className:"h-4 w-4 text-muted-foreground text-orange-500"})]}),x(pr,{children:[l("div",{className:"text-2xl font-bold",children:w.upcomingExpiryItems.length}),x("ul",{className:"text-xs text-muted-foreground list-disc pl-4",children:[w.upcomingExpiryItems.slice(0,5).map(M=>x("li",{children:[M.item_name," (",N(M.expiry_date),")"]},M.id)),w.upcomingExpiryItems.length>5&&l("li",{children:"...and more"})]}),w.upcomingExpiryItems.length===0&&l("p",{className:"text-xs text-muted-foreground",children:"No items expiring soon."})]})]})]}),x(or,{children:[l(wr,{children:l(_r,{children:"Report Data Preview & Charts"})}),x(pr,{children:[x("p",{className:"text-muted-foreground mb-4",children:["Filtered Items: ",r.length]}),l(ZKe,{inventoryData:r,logData:y})]})]})]})},Z_=["#4F46E5","#60A5FA","#34D399","#FBBF24","#F87171"],QV={Active:"#22C55E","Under Maintenance":"#FBBF24",Retired:"#9CA3AF",Disposed:"#F87171"},tXe="#8B5CF6",rXe="#F59E0B",nXe=({assetData:e=[]})=>{const t=S.useMemo(()=>{const c={"Equipment & Tools":0,Furniture:0,IT:0,Other:0};return e.forEach(u=>{const d=u.category;d&&c[d]!==void 0&&c[d]++}),Object.entries(c).map(([u,d])=>({name:u,value:d})).filter(u=>u.value>0)},[e]),r=S.useMemo(()=>{const c={Active:0,"Under Maintenance":0,Retired:0,Disposed:0};return e.forEach(u=>{const d=u.status;d&&c[d]!==void 0&&c[d]++}),Object.entries(c).map(([u,d])=>({name:u,value:d})).filter(u=>u.value>0)},[e]),n=S.useMemo(()=>{const c={"0-500":0,"501-2000":0,"2001-10000":0,"10001+":0};return e.forEach(u=>{const d=u.purchase_price??0;d<=500?c["0-500"]++:d<=2e3?c["501-2000"]++:d<=1e4?c["2001-10000"]++:c["10001+"]++}),Object.entries(c).map(([u,d])=>({name:u,value:d}))},[e]),a=S.useMemo(()=>{const c=new Date;return e.filter(d=>d.next_maintenance_due_date).map(d=>({...d,daysUntilDue:rge(Wr(d.next_maintenance_due_date),c)})).filter(d=>d.daysUntilDue>=0&&d.daysUntilDue<=90).sort((d,f)=>d.daysUntilDue-f.daysUntilDue).slice(0,10).map(d=>({name:d.asset_name,value:d.daysUntilDue}))},[e]),i=t.reduce((c,u)=>c+u.value,0),s=r.reduce((c,u)=>c+u.value,0),o=(c,u)=>{const{payload:d}=c;return l("div",{className:"flex flex-wrap justify-center gap-x-4 gap-y-2 w-full mt-4 text-xs",children:d.map((f,h)=>{const m=u>0?(f.payload.value/u*100).toFixed(1):0;return x("div",{className:"flex items-center",children:[l("span",{className:"w-2 h-2 rounded-full mr-1.5",style:{backgroundColor:f.color}}),f.payload.name," (",m,"%)"]},`legend-${f.payload.name}-${h}`)})})};return x("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-2",children:[" ",x(or,{children:[l(wr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:l(_r,{className:"text-sm font-medium",children:"Assets by Category"})}),l(pr,{className:"flex flex-col items-center pt-4",children:l(Oo,{width:"100%",height:180,children:x(Jp,{children:[l($o,{data:t,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:1,dataKey:"value",startAngle:90,endAngle:450,children:t.map((c,u)=>l(Jc,{fill:Z_[u%Z_.length],stroke:Z_[u%Z_.length]},`cell-asset-cat-${u}`))}),l(ri,{formatter:(c,u)=>[`${c} (${i>0?(c/i*100).toFixed(1):0}%)`,u],contentStyle:{fontSize:"12px",padding:"4px 8px",borderRadius:"4px"}}),l(Ku,{content:c=>o(c,i)})]})})})]}),x(or,{children:[l(wr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:l(_r,{className:"text-sm font-medium",children:"Assets by Status"})}),l(pr,{className:"flex flex-col items-center pt-4",children:l(Oo,{width:"100%",height:180,children:x(Jp,{children:[l($o,{data:r,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:1,dataKey:"value",startAngle:90,endAngle:450,children:r.map((c,u)=>l(Jc,{fill:QV[c.name],stroke:QV[c.name]},`cell-asset-stat-${u}`))}),l(ri,{formatter:(c,u)=>[`${c} (${s>0?(c/s*100).toFixed(1):0}%)`,u],contentStyle:{fontSize:"12px",padding:"4px 8px",borderRadius:"4px"}}),l(Ku,{content:c=>o(c,s)})]})})})]}),x(or,{children:[x(wr,{className:"pb-2",children:[l(_r,{className:"text-sm font-medium",children:"Asset Value Distribution"}),l("p",{className:"text-xs text-muted-foreground",children:"Count of assets by purchase price range"})]}),l(pr,{className:"pb-4 pl-2 pr-4",children:l(Oo,{width:"100%",height:200,children:x(aw,{data:n,margin:{top:5,right:5,left:-10,bottom:5},barCategoryGap:"20%",children:[l(Rl,{dataKey:"name",axisLine:!1,tickLine:!1,dy:10,style:{fontSize:"12px"}}),l(Ml,{axisLine:!1,tickLine:!1,width:30,style:{fontSize:"12px"},allowDecimals:!1}),l(ri,{cursor:{fill:"rgba(139, 92, 246, 0.1)"},contentStyle:{fontSize:"12px",padding:"4px 8px",borderRadius:"4px"},formatter:c=>[`${c} Assets`,null]}),l(au,{dataKey:"value",fill:tXe,name:"Assets",radius:[4,4,0,0],barSize:12})]})})})]}),x(or,{children:[x(wr,{className:"pb-2",children:[l(_r,{className:"text-sm font-medium",children:"Upcoming Maintenance (Next 90 Days)"}),l("p",{className:"text-xs text-muted-foreground",children:"Assets needing maintenance soon (max 10 shown)"})]}),l(pr,{className:"pb-4 pl-2 pr-4",children:l(Oo,{width:"100%",height:200,children:x(aw,{data:a,layout:"vertical",margin:{top:5,right:20,left:30,bottom:5},barCategoryGap:"20%",children:[l(Rl,{type:"number",hide:!0}),l(Ml,{dataKey:"name",type:"category",axisLine:!1,tickLine:!1,style:{fontSize:"10px"},width:100,interval:0}),l(ri,{cursor:{fill:"rgba(245, 158, 11, 0.1)"},contentStyle:{fontSize:"12px",padding:"4px 8px",borderRadius:"4px"},formatter:c=>[`Due in ${c} days`,null]}),l(au,{dataKey:"value",fill:rXe,name:"Days Until Due",radius:[0,4,4,0],barSize:10})]})})})]})]})},aXe=["Equipment & Tools","Furniture","IT","Other"],iXe=["Active","Under Maintenance","Retired","Disposed"],sXe=()=>{const[e,t]=S.useState([]),[r,n]=S.useState([]),[a,i]=S.useState(!1),[s,o]=S.useState(null),[c,u]=S.useState(void 0),[d,f]=S.useState("all"),[h,m]=S.useState("all");S.useEffect(()=>{(async()=>{i(!0),o(null);try{const E=await qKe();t(E),n(E)}catch(E){o(E instanceof Error?E.message:"Failed to load asset data")}finally{i(!1)}})()},[]),S.useEffect(()=>{let N=[...e];c!=null&&c.from&&(c!=null&&c.to)?N=N.filter(E=>{if(!E.purchase_date)return!1;const C=new Date(E.purchase_date);return C>=c.from&&C<=c.to}):c!=null&&c.from?N=N.filter(E=>E.purchase_date&&new Date(E.purchase_date)>=c.from):c!=null&&c.to&&(N=N.filter(E=>E.purchase_date&&new Date(E.purchase_date)<=c.to)),d!=="all"&&(N=N.filter(E=>E.category===d)),h!=="all"&&(N=N.filter(E=>E.status===h)),n(N)},[c,d,h,e]);const w=N=>N?new Date(N).toLocaleDateString():"N/A",g=(N,E="Asset Report")=>{const C=new Hr;C.text(E,14,15);const O=["ID","Name","Category","Status","Purchase Date","Purchase Price","Supplier"],P=[];N.forEach(M=>{const L=[M.id,M.asset_name,M.category,M.status,w(M.purchase_date),M.purchase_price??"N/A",M.supplier_info??"N/A"];P.push(L)}),d1(C,{head:[O],body:P,startY:20}),C.save(`${E.replace(/\s+/g,"_")}.pdf`)},y=(N,E="Asset Report")=>{const C=N.map(M=>({ID:M.id,Name:M.asset_name,Category:M.category,Status:M.status,"Purchase Date":w(M.purchase_date),"Purchase Price":M.purchase_price??"N/A",Supplier:M.supplier_info??"N/A",Location:M.location,"Next Maintenance":w(M.next_maintenance_due_date)})),O=lf.json_to_sheet(C),P=lf.book_new();lf.book_append_sheet(P,O,"Assets"),EM(P,`${E.replace(/\s+/g,"_")}.xlsx`)},b=()=>{if(console.log("Generating Asset List Report with data:",r),r.length===0){o("No data available to generate report.");return}o(null);try{g(r,"Asset List Report"),y(r,"Asset List Report")}catch(N){console.error("Error generating asset list report:",N),o(`Error generating asset list report: ${N instanceof Error?N.message:String(N)}`)}},_=()=>{const N=r.filter(E=>E.last_serviced_date||E.next_maintenance_due_date);if(console.log("Generating Maintenance History Report with data:",N),N.length===0){o("No assets with maintenance data available to generate report.");return}o(null);try{g(N,"Asset Maintenance Report"),y(N,"Asset Maintenance Report")}catch(E){console.error("Error generating asset maintenance report:",E),o(`Error generating asset maintenance report: ${E instanceof Error?E.message:String(E)}`)}};return x("div",{className:"space-y-4",children:[x(or,{children:[l(wr,{children:l(_r,{children:"Filters"})}),x(pr,{className:"flex flex-col md:flex-row gap-4 items-end",children:[x("div",{className:"flex-1",children:[l("label",{className:"block text-sm font-medium text-muted-foreground mb-1",children:"Purchase Date Range"}),l(FM,{date:c,onDateChange:u})]}),x("div",{className:"flex-1",children:[l("label",{htmlFor:"asset-category-filter",className:"block text-sm font-medium text-muted-foreground mb-1",children:"Category"}),x(Ur,{value:d,onValueChange:N=>f(N),children:[l(jr,{id:"asset-category-filter",children:l(qr,{placeholder:"Filter by Category"})}),x($r,{children:[l(mt,{value:"all",children:"All Categories"}),aXe.map(N=>l(mt,{value:N,children:N},N))]})]})]}),x("div",{className:"flex-1",children:[l("label",{htmlFor:"asset-status-filter",className:"block text-sm font-medium text-muted-foreground mb-1",children:"Status"}),x(Ur,{value:h,onValueChange:N=>m(N),children:[l(jr,{id:"asset-status-filter",children:l(qr,{placeholder:"Filter by Status"})}),x($r,{children:[l(mt,{value:"all",children:"All Statuses"}),iXe.map(N=>l(mt,{value:N,children:N},N))]})]})]})]})]}),x("div",{className:"flex gap-2",children:[l(Me,{onClick:b,disabled:a,children:"Generate Asset List"}),l(Me,{onClick:_,variant:"outline",disabled:a,children:"Generate Maintenance Report"})]}),a&&l("p",{children:"Loading report data..."}),s&&x(ld,{variant:"destructive",children:[l(jl,{className:"h-4 w-4"}),l(cd,{children:"Error"}),l(ud,{children:s})]}),x(or,{children:[l(wr,{children:l(_r,{children:"Report Data Preview & Charts"})}),x(pr,{children:[x("p",{className:"text-muted-foreground mb-4",children:["Filtered Assets: ",r.length]}),r.length>0?l("div",{className:"overflow-x-auto",children:x("table",{className:"table-auto w-full",children:[l("thead",{children:x("tr",{className:"text-left",children:[l("th",{className:"px-4 py-2",children:"Name"}),l("th",{className:"px-4 py-2",children:"Category"}),l("th",{className:"px-4 py-2",children:"Status"}),l("th",{className:"px-4 py-2",children:"Purchase Date"})]})}),l("tbody",{children:r.map(N=>x("tr",{children:[l("td",{className:"border px-4 py-2",children:N.asset_name}),l("td",{className:"border px-4 py-2",children:N.category}),l("td",{className:"border px-4 py-2",children:N.status}),l("td",{className:"border px-4 py-2",children:w(N.purchase_date)})]},N.id))})]})}):l("div",{className:"h-60 border rounded-md flex items-center justify-center text-muted-foreground",children:"No assets match the selected criteria."}),x("div",{className:"mt-6",children:[" ",l(nXe,{assetData:r})," "]})]})]})]})},oXe=[{name:"Page A",uv:4e3,pv:2400,amt:2400},{name:"Page B",uv:3e3,pv:1398,amt:2210},{name:"Page C",uv:2e3,pv:9800,amt:2290},{name:"Page D",uv:2780,pv:3908,amt:2e3},{name:"Page E",uv:1890,pv:4800,amt:2181},{name:"Page F",uv:2390,pv:3800,amt:2500},{name:"Page G",uv:3490,pv:4300,amt:2100}],lXe=()=>x("div",{className:"mt-4",children:[l("h2",{className:"text-lg font-semibold mb-2",children:"Report Data Preview"}),x(vee,{width:500,height:300,data:oXe,margin:{top:5,right:30,left:20,bottom:5},children:[l(nR,{strokeDasharray:"3 3"}),l(Rl,{dataKey:"name"}),l(Ml,{}),l(ri,{}),l(Ku,{}),l(pm,{type:"monotone",dataKey:"pv",stroke:"#8884d8",activeDot:{r:8}}),l(pm,{type:"monotone",dataKey:"uv",stroke:"#82ca9d"})]})]}),cXe=()=>x("div",{className:"container mx-auto p-4 md:p-6",children:[l(Fa,{heading:"Reports & Analytics"}),x(jm,{defaultValue:"inventory",className:"mt-4",children:[x(Rh,{className:"grid w-full grid-cols-2 md:w-[400px]",children:[l(Oa,{value:"inventory",children:"Inventory Reports"}),l(Oa,{value:"assets",children:"Asset Reports"}),l(Oa,{value:"report-data-preview",children:"Report Data Preview"})]}),l(_a,{value:"inventory",className:"mt-4",children:l(eXe,{})}),l(_a,{value:"assets",className:"mt-4",children:l(sXe,{})}),l(_a,{value:"report-data-preview",className:"mt-4",children:l(lXe,{})})]})]}),uXe=YN({message:ro().min(1,"Reminder message is required."),reminder_date:rre({required_error:"Please select a date."}),reminder_time:ro().regex(/^([01]\d|2[0-3]):([0-5]\d)$/,{message:"Invalid time format (HH:MM)."}),recurrence_type:xw(["none","daily","weekly","monthly","yearly"]).default("none"),recurrence_interval:ex().int().min(1).optional(),recurrence_days:nre(ex().int().min(0).max(6)).optional(),times_per_day:ex().int().min(1).optional()}).refine(e=>!(e.recurrence_type!=="none"&&!e.recurrence_interval||e.recurrence_type==="weekly"&&(!e.recurrence_days||e.recurrence_days.length===0)),{message:"Interval is required for recurrence. Days are required for weekly recurrence.",path:["recurrence_interval"]}),dXe=({initialData:e,onSaveSuccess:t})=>{const{user:r}=di(),{toast:n}=bn(),[a,i]=S.useState(!1),s=pd({resolver:md(uXe)});S.useEffect(()=>{var c,u,d,f;if(e){const h=new Date(e.reminder_datetime);s.reset({message:e.message,reminder_date:h,reminder_time:Rt(h,"HH:mm"),recurrence_type:((c=e.recurrence_config)==null?void 0:c.type)||"none",recurrence_interval:(u=e.recurrence_config)==null?void 0:u.interval,recurrence_days:(d=e.recurrence_config)==null?void 0:d.days,times_per_day:((f=e.recurrence_config)==null?void 0:f.times_per_day)||1})}else s.reset({message:"",reminder_date:void 0,reminder_time:"",recurrence_type:"none",recurrence_interval:1,recurrence_days:[],times_per_day:1})},[e,s]);const o=async c=>{i(!0);const[u,d]=c.reminder_time.split(":").map(Number);let f=v1e(g1e(c.reminder_date,u),d);if(f<new Date){s.setError("reminder_time",{message:"Reminder time cannot be in the past."}),s.setError("reminder_date",{message:"Reminder date/time cannot be in the past."}),i(!1);return}const h={type:c.recurrence_type,interval:c.recurrence_type!=="none"?c.recurrence_interval:void 0,days:c.recurrence_type==="weekly"?c.recurrence_days:void 0,times_per_day:c.recurrence_type==="daily"?c.times_per_day:void 0};Object.keys(h).forEach(g=>h[g]===void 0&&delete h[g]);let m=null,w=null;if(e!=null&&e.id)m={message:c.message,reminder_datetime:f.toISOString(),recurrence_config:h};else{if(!r){n({title:"Error",description:"You must be logged in to create a reminder.",variant:"destructive"}),i(!1);return}w={user_id:r.id,message:c.message,reminder_datetime:f.toISOString(),recurrence_config:h,is_active:!0}}try{if(e!=null&&e.id&&m)await oX(e.id,m),n({title:"Success",description:"Reminder updated successfully."});else if(w)await W1e(w),n({title:"Success",description:"Reminder created successfully."});else throw new Error("Invalid state for saving reminder.");t()}catch(g){console.error("Failed to save reminder:",g),n({title:"Error",description:g.message||"Could not save reminder.",variant:"destructive"})}finally{i(!1)}};return l(Mh,{...s,children:x("form",{onSubmit:s.handleSubmit(o),className:"space-y-4",children:[l(Ve,{control:s.control,name:"message",render:({field:c})=>x(Ie,{children:[l(De,{children:"Reminder Message"}),l(Le,{children:l(un,{placeholder:"Enter reminder details...",...c})}),l(et,{})]})}),x("div",{className:"flex flex-col sm:flex-row gap-4",children:[l(Ve,{control:s.control,name:"reminder_date",render:({field:c})=>x(Ie,{className:"flex flex-col",children:[l(De,{children:"Date"}),x(pg,{children:[l(mg,{asChild:!0,children:l(Le,{children:x(Me,{variant:"outline",className:Lt("w-full sm:w-[240px] pl-3 text-left font-normal",!c.value&&"text-muted-foreground"),children:[c.value?Rt(c.value,"PPP"):l("span",{children:"Pick a date"}),l(Oi,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),l(bm,{className:"w-auto p-0",align:"start",children:l(_m,{mode:"single",selected:c.value,onSelect:c.onChange,disabled:u=>u<new Date(new Date().setHours(0,0,0,0)),initialFocus:!0})})]}),l(et,{})]})}),l(Ve,{control:s.control,name:"reminder_time",render:({field:c})=>x(Ie,{className:"flex flex-col",children:[l(De,{children:"Time (HH:MM)"}),l("div",{className:"relative",children:l(Le,{children:l(dt,{type:"time",className:"w-full sm:w-[120px] pl-3",...c})})}),l(et,{})]})})]}),l(Ve,{control:s.control,name:"recurrence_type",render:({field:c})=>x(Ie,{children:[l(De,{children:"Recurrence"}),x(Ur,{onValueChange:c.onChange,value:c.value??"none",children:[l(Le,{children:l(jr,{children:l(qr,{placeholder:"Select recurrence type"})})}),x($r,{children:[l(mt,{value:"none",children:"None"}),l(mt,{value:"daily",children:"Daily"}),l(mt,{value:"weekly",children:"Weekly"}),l(mt,{value:"monthly",children:"Monthly"}),l(mt,{value:"yearly",children:"Yearly"})]})]}),l(et,{})]})}),s.watch("recurrence_type")!=="none"&&x("div",{className:"p-4 border rounded-md bg-muted/40 space-y-4 mt-2",children:[l(Ve,{control:s.control,name:"recurrence_interval",render:({field:c})=>x(Ie,{children:[l(De,{children:"Repeat Every"}),x("div",{className:"flex items-center gap-2",children:[l(Le,{children:l(dt,{type:"number",min:"1",className:"w-20",...c,value:c.value??1,onChange:u=>c.onChange(parseInt(u.target.value,10)||1)})}),x("span",{children:[s.watch("recurrence_type")==="daily"&&"Day(s)",s.watch("recurrence_type")==="weekly"&&"Week(s)",s.watch("recurrence_type")==="monthly"&&"Month(s)",s.watch("recurrence_type")==="yearly"&&"Year(s)"]})]}),l(et,{})]})}),s.watch("recurrence_type")==="daily"&&l(Ve,{control:s.control,name:"times_per_day",render:({field:c})=>x(Ie,{children:[l(De,{children:"Times Per Day"}),x("div",{className:"flex items-center gap-2",children:[l(Le,{children:l(dt,{type:"number",min:"1",max:"24",className:"w-20",...c,value:c.value??1,onChange:u=>c.onChange(parseInt(u.target.value,10)||1)})}),l("span",{children:"time(s)"})]}),l(gi,{className:"text-xs",children:"How many times the reminder should trigger each day."}),l(et,{})]})}),s.watch("recurrence_type")==="weekly"&&l(Ve,{control:s.control,name:"recurrence_days",render:()=>x(Ie,{children:[l(De,{children:"Repeat On"}),l("div",{className:"grid grid-cols-4 gap-2 sm:grid-cols-7",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((c,u)=>l(Ve,{control:s.control,name:"recurrence_days",render:({field:d})=>{var f;return x(Ie,{className:"flex flex-row items-start space-x-2 space-y-0",children:[l(Le,{children:l(Fo,{checked:(f=d.value)==null?void 0:f.includes(u),onCheckedChange:h=>h?d.onChange([...d.value||[],u]):d.onChange((d.value||[]).filter(m=>m!==u))})}),l(De,{className:"font-normal",children:c})]},u)}},c))}),l(et,{})]})}),l("p",{className:"text-xs text-muted-foreground",children:"Monthly/Yearly options and End Date/Count coming soon."})]}),l(Me,{type:"submit",disabled:a,children:a?"Saving...":e?"Update Reminder":"Create Reminder"}),e&&l(Me,{type:"button",variant:"outline",onClick:()=>t(),className:"ml-2",children:"Cancel Edit"})]})})},fXe=({onEdit:e,refreshKey:t,activeReminderIds:r})=>{const{toast:n}=bn(),[a,i]=S.useState([]),[s,o]=S.useState(!0),[c,u]=S.useState(null),d=async()=>{o(!0),u(null);try{const w=await sX();i(w||[])}catch(w){console.error("Failed to fetch reminders:",w),u("Failed to load reminders. Please try again."),n({title:"Error",description:"Could not fetch reminders.",variant:"destructive"})}finally{o(!1)}};S.useEffect(()=>{d()},[t]);const f=async w=>{const g=w.is_active;i(y=>y.map(b=>b.id===w.id?{...b,is_active:!g}:b));try{await oX(w.id,{is_active:!g}),n({title:"Success",description:`Reminder ${g?"deactivated":"activated"}.`})}catch(y){console.error("Failed to toggle reminder state:",y),i(b=>b.map(_=>_.id===w.id?{..._,is_active:g}:_)),n({title:"Error",description:"Could not update reminder status.",variant:"destructive"})}},h=async w=>{const g=[...a];i(y=>y.filter(b=>b.id!==w));try{await V1e(w),n({title:"Success",description:"Reminder deleted."})}catch(y){console.error("Failed to delete reminder:",y),i(g),n({title:"Error",description:"Could not delete reminder.",variant:"destructive"})}},m=w=>{e(w)};return s?x("div",{className:"space-y-4",children:[l(Bl,{className:"h-24 w-full"}),l(Bl,{className:"h-24 w-full"})]}):c?x(ld,{variant:"destructive",children:[l(cd,{children:"Error"}),l(ud,{children:c})]}):a.length===0?l("p",{className:"text-muted-foreground",children:"No reminders found."}):l("div",{className:"space-y-4",children:a.map(w=>{var g;return r.has(w.id),x(or,{className:Lt(!w.is_active&&"opacity-60"),children:[x(wr,{className:"flex flex-row items-center justify-between pb-2",children:[l(_r,{className:"text-lg font-medium",children:w.message}),x("div",{className:"flex items-center space-x-2",children:[x(Me,{variant:"ghost",size:"icon",onClick:()=>f(w),title:w.is_active?"Deactivate":"Activate",children:[w.is_active?l(bce,{className:"h-4 w-4"}):l(x4,{className:"h-4 w-4"})," "]}),l(Me,{variant:"ghost",size:"icon",onClick:()=>m(w),title:"Edit",children:l(Gce,{className:"h-4 w-4"})}),l(Me,{variant:"ghost",size:"icon",onClick:()=>h(w.id),title:"Delete",children:l(lm,{className:"h-4 w-4 text-destructive"})})]})]}),x(pr,{children:[x("p",{className:"text-sm text-muted-foreground",children:["Next due: ",Rt(new Date(w.reminder_datetime),"PPP 'at' HH:mm")]}),((g=w.recurrence_config)==null?void 0:g.type)&&w.recurrence_config.type!=="none"&&x("p",{className:"text-xs text-muted-foreground mt-1 capitalize",children:["Recurring: ",w.recurrence_config.type]}),!w.is_active&&l("p",{className:"text-xs text-amber-600 mt-1",children:"Inactive"})]})]},w.id)})})},hXe=()=>{const[e,t]=S.useState(0),[r,n]=S.useState(null),{activeReminderIds:a}=lX(),i=o=>{n(o),window.scrollTo({top:0,behavior:"smooth"})};return x("div",{className:"container mx-auto p-4",children:[l(Fa,{heading:"Reminders",text:"Create and manage reminders for yourself or the clinic."}),x("div",{className:"mt-6",children:[l("h2",{className:"text-xl font-semibold mb-4",children:r?"Edit Reminder":"Create New Reminder"}),l(dXe,{initialData:r,onSaveSuccess:()=>{n(null),t(o=>o+1)}},(r==null?void 0:r.id)||"new")]}),l(sm,{className:"my-8"}),x("div",{className:"mt-8",children:[l("h2",{className:"text-xl font-semibold mb-4",children:"Existing Reminders"}),l(fXe,{onEdit:i,refreshKey:e,activeReminderIds:a})]})]})},Qs=[];for(let e=0;e<256;++e)Qs.push((e+256).toString(16).slice(1));function pXe(e,t=0){return(Qs[e[t+0]]+Qs[e[t+1]]+Qs[e[t+2]]+Qs[e[t+3]]+"-"+Qs[e[t+4]]+Qs[e[t+5]]+"-"+Qs[e[t+6]]+Qs[e[t+7]]+"-"+Qs[e[t+8]]+Qs[e[t+9]]+"-"+Qs[e[t+10]]+Qs[e[t+11]]+Qs[e[t+12]]+Qs[e[t+13]]+Qs[e[t+14]]+Qs[e[t+15]]).toLowerCase()}let RT;const mXe=new Uint8Array(16);function gXe(){if(!RT){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");RT=crypto.getRandomValues.bind(crypto)}return RT(mXe)}const vXe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),eH={randomUUID:vXe};function jw(e,t,r){var a;if(eH.randomUUID&&!e)return eH.randomUUID();e=e||{};const n=e.random??((a=e.rng)==null?void 0:a.call(e))??gXe();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,pXe(n)}const yXe=async()=>{const{data:e,error:t}=await je.from("purchase_orders").select(`
      id,
      po_number,
      order_date,
      expected_delivery_date,
      status,
      total_amount,
      notes,
      created_at,
      updated_at,
      supplier_id,
      created_by,
      suppliers (
        name
      )
    `).order("order_date",{ascending:!1});if(t)throw console.error("Error fetching purchase orders:",t),t;return(e||[]).map(r=>{var n;return{id:r.id,po_number:r.po_number,supplier_id:r.supplier_id,supplier_name:((n=r.suppliers)==null?void 0:n.name)||"N/A",order_date:r.order_date,expected_delivery_date:r.expected_delivery_date,status:r.status,total_amount:r.total_amount,notes:r.notes,created_by:r.created_by,created_at:r.created_at,updated_at:r.updated_at}})},xXe=async()=>{const{data:e,error:t}=await je.from("suppliers").select("id, name").order("name");if(t)throw console.error("Error fetching suppliers from Supabase:",t),t;return e?e.map(n=>({value:n.id,label:n.name})):[]},LM=async()=>{const{data:e,error:t}=await je.from("inventory_items").select("id, item_name, category, is_batched, item_code").order("item_name");if(t)throw console.error("Error fetching inventory items from Supabase:",t),t;return e?e.map(n=>({value:n.id,label:n.item_name,category:n.category||void 0,is_batched:n.is_batched||!1,item_code:n.item_code||null})):[]},wXe=async(e,t)=>{const{data:r,error:n}=await je.rpc("generate_po_number");if(n||!r)throw console.error("Error generating PO number:",n),n||new Error("Failed to generate PO number.");const i={po_number:r,supplier_id:e.supplier_id,order_date:e.order_date.toISOString().split("T")[0],expected_delivery_date:e.expected_delivery_date?e.expected_delivery_date.toISOString().split("T")[0]:null,notes:e.notes||null,status:"Pending",created_by:t||null},{data:s,error:o}=await je.from("purchase_orders").insert(i).select("id, po_number").single();if(o||!s)throw console.error("Error creating purchase order header:",o),o||new Error("Failed to create purchase order header.");const c=e.items.map(d=>({purchase_order_id:s.id,inventory_item_id:d.inventory_item_id,description:d.description||null,quantity_ordered:d.quantity_ordered,unit_price:d.unit_price})),{error:u}=await je.from("purchase_order_items").insert(c);if(u)throw console.error("Error creating purchase order items:",u),await je.from("purchase_orders").delete().match({id:s.id}),u;return{id:s.id,po_number:s.po_number}},Rse=async e=>{var s;const{data:t,error:r}=await je.from("purchase_orders").select(`
      id,
      po_number,
      order_date,
      expected_delivery_date,
      status,
      total_amount,
      notes,
      created_at,
      updated_at,
      supplier_id,
      created_by,
      suppliers ( name )
    `).eq("id",e).single();if(r){if(console.error(`Error fetching purchase order ${e}:`,r),r.code==="PGRST116")return null;throw r}if(!t)return null;const{data:n,error:a}=await je.from("purchase_order_items").select(`
      id,
      inventory_item_id,
      description,
      quantity_ordered,
      quantity_received,
      unit_price,
      subtotal,
      inventory_items ( item_name )
    `).eq("purchase_order_id",e);if(a)throw console.error(`Error fetching items for purchase order ${e}:`,a),a;const i=(n||[]).map(o=>{var c,u;return{id:o.id,inventory_item_id:o.inventory_item_id,description:o.description||((c=o.inventory_items)==null?void 0:c.item_name)||"N/A",product_name:((u=o.inventory_items)==null?void 0:u.item_name)||"N/A",quantity_ordered:o.quantity_ordered,quantity_received:o.quantity_received,unit_price:o.unit_price,subtotal:o.subtotal}});return{...t,supplier_name:((s=t.suppliers)==null?void 0:s.name)||"N/A",items:i,status:t.status}},bXe=async e=>{const{data:t,error:r}=await je.rpc("handle_receive_po_item_batch",{p_po_item_id:e.p_po_item_id,p_quantity_received:e.p_quantity_received,p_batch_number:e.p_batch_number,p_expiry_date:e.p_expiry_date,p_purchase_price:e.p_purchase_price,p_received_by_user_id:e.p_received_by_user_id});if(r)throw console.error("Error receiving PO item batch via RPC:",r),r},_Xe=async(e,t,r,n)=>{if(!n)throw new Error("User must be logged in to upload invoices.");if(!r)throw new Error("No file selected for upload.");const a=r.name.split(".").pop(),i=`${jw()}.${a}`,s=`purchase_invoices/${t}/${i}`,{error:o}=await je.storage.from("invoices").upload(s,r);if(o)throw console.error("Error uploading invoice file:",o),o;const{error:c}=await je.from("invoices").insert({file_name:r.name,storage_path:s,uploaded_by_user_id:n,purchase_order_id:e});if(c)throw console.error("Error saving invoice record to database:",c),await je.storage.from("invoices").remove([s]),c;return{storage_path:s}},tH=async e=>{const{data:t,error:r}=await je.from("invoices").select("id, file_name, storage_path, uploaded_at, uploaded_by_user_id").eq("purchase_order_id",e).order("uploaded_at",{ascending:!1});if(r)throw console.error("Error fetching invoices for PO:",r),r;return t||[]},SXe=async e=>{const{data:t,error:r}=await je.storage.from("invoices").createSignedUrl(e,300);return r?(console.error("Error creating signed URL:",r),null):(t==null?void 0:t.signedUrl)||null},NXe=async(e,t)=>{const{error:r}=await je.from("purchase_orders").update({status:t,updated_at:new Date().toISOString()}).eq("id",e);if(r)throw console.error(`Error updating purchase order ${e} status to ${t}:`,r),r},AXe=()=>{const[e,t]=S.useState([]),[r,n]=S.useState(!0),[a,i]=S.useState(null);S.useEffect(()=>{(async()=>{try{n(!0);const c=await yXe();t(c),i(null)}catch(c){console.error(c),i("Failed to fetch purchase orders.")}finally{n(!1)}})()},[]);const s=o=>{switch(o){case"Pending":return"outline";case"Ordered":return"secondary";case"Partially Received":return"default";case"Received":return"default";case"Cancelled":return"destructive";default:return"outline"}};return x("div",{className:"container mx-auto p-4",children:[l(Fa,{heading:"Purchase Orders",text:"Manage and track all your purchase orders.",children:x(Ki,{to:"/purchases/create",children:[" ",x(Me,{children:[l(Ch,{className:"mr-2 h-4 w-4"}),"Create New PO"]})]})}),x("div",{className:"mt-6",children:[r&&l("p",{children:"Loading purchase orders..."}),a&&l("p",{className:"text-red-500",children:a}),!r&&!a&&e.length===0&&l("p",{children:"No purchase orders found."}),!r&&!a&&e.length>0&&x(qo,{children:[l(zo,{children:x(Dn,{children:[l(Kt,{children:"PO Number"}),l(Kt,{children:"Supplier"}),l(Kt,{children:"Order Date"}),l(Kt,{children:"Status"}),l(Kt,{className:"text-right",children:"Total Amount"}),l(Kt,{children:"Actions"})]})}),l(Wo,{children:e.map(o=>{var c;return x(Dn,{children:[l(zt,{className:"font-medium",children:o.po_number}),l(zt,{children:o.supplier_name}),l(zt,{children:new Date(o.order_date).toLocaleDateString()}),l(zt,{children:l(yc,{variant:s(o.status),className:o.status==="Received"?"bg-green-500 hover:bg-green-600 text-white":"",children:o.status})}),l(zt,{className:"text-right",children:((c=o.total_amount)==null?void 0:c.toLocaleString("en-IN",{style:"currency",currency:"INR"}))||"N/A"}),l(zt,{className:"text-right",children:x(Ki,{to:`/purchases/${o.id}`,children:[" ",l(Me,{variant:"outline",size:"sm",children:"View"})]})})]},o.id)})})]})]})]})},kXe=Re.object({inventory_item_id:Re.string().uuid({message:"Please select an inventory item."}),description:Re.string().optional(),quantity_ordered:Re.number().min(1,{message:"Quantity must be at least 1."}),unit_price:Re.number().min(0,{message:"Unit price cannot be negative."})}),EXe=Re.object({supplier_id:Re.string().uuid({message:"Please select a supplier."}),order_date:Re.date({required_error:"Order date is required.",invalid_type_error:"Invalid date format for order date."}),expected_delivery_date:Re.date().nullable().optional(),notes:Re.string().optional(),items:Re.array(kXe).min(1,{message:"Please add at least one item to the purchase order."}),invoice_file:Re.custom(e=>e==null||e instanceof File,"Invalid file format").refine(e=>!e||e.size<=5*1024*1024,"File size should be less than 5MB.").refine(e=>!e||["application/pdf","image/png","image/jpeg","image/jpg"].includes(e.type),"Only .pdf, .png, .jpg, .jpeg files are accepted.").optional().nullable()});function Eh(e){return Array.isArray?Array.isArray(e):Lse(e)==="[object Array]"}function CXe(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function PXe(e){return e==null?"":CXe(e)}function ef(e){return typeof e=="string"}function Mse(e){return typeof e=="number"}function TXe(e){return e===!0||e===!1||OXe(e)&&Lse(e)=="[object Boolean]"}function Fse(e){return typeof e=="object"}function OXe(e){return Fse(e)&&e!==null}function fc(e){return e!=null}function MT(e){return!e.trim().length}function Lse(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const DXe="Incorrect 'index' type",IXe=e=>`Invalid value for key ${e}`,RXe=e=>`Pattern length exceeds max of ${e}.`,MXe=e=>`Missing ${e} property in key`,FXe=e=>`Property 'weight' in key '${e}' must be a positive integer`,rH=Object.prototype.hasOwnProperty;class LXe{constructor(t){this._keys=[],this._keyMap={};let r=0;t.forEach(n=>{let a=jse(n);this._keys.push(a),this._keyMap[a.id]=a,r+=a.weight}),this._keys.forEach(n=>{n.weight/=r})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function jse(e){let t=null,r=null,n=null,a=1,i=null;if(ef(e)||Eh(e))n=e,t=nH(e),r=GO(e);else{if(!rH.call(e,"name"))throw new Error(MXe("name"));const s=e.name;if(n=s,rH.call(e,"weight")&&(a=e.weight,a<=0))throw new Error(FXe(s));t=nH(s),r=GO(s),i=e.getFn}return{path:t,id:r,weight:a,src:n,getFn:i}}function nH(e){return Eh(e)?e:e.split(".")}function GO(e){return Eh(e)?e.join("."):e}function jXe(e,t){let r=[],n=!1;const a=(i,s,o)=>{if(fc(i))if(!s[o])r.push(i);else{let c=s[o];const u=i[c];if(!fc(u))return;if(o===s.length-1&&(ef(u)||Mse(u)||TXe(u)))r.push(PXe(u));else if(Eh(u)){n=!0;for(let d=0,f=u.length;d<f;d+=1)a(u[d],s,o+1)}else s.length&&a(u,s,o+1)}};return a(e,ef(t)?t.split("."):t,0),n?r:r[0]}const $Xe={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},BXe={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},UXe={location:0,threshold:.6,distance:100},qXe={useExtendedSearch:!1,getFn:jXe,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var dn={...BXe,...$Xe,...UXe,...qXe};const zXe=/[^ ]+/g;function WXe(e=1,t=3){const r=new Map,n=Math.pow(10,t);return{get(a){const i=a.match(zXe).length;if(r.has(i))return r.get(i);const s=1/Math.pow(i,.5*e),o=parseFloat(Math.round(s*n)/n);return r.set(i,o),o},clear(){r.clear()}}}class jM{constructor({getFn:t=dn.getFn,fieldNormWeight:r=dn.fieldNormWeight}={}){this.norm=WXe(r,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((r,n)=>{this._keysMap[r.id]=n})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,ef(this.docs[0])?this.docs.forEach((t,r)=>{this._addString(t,r)}):this.docs.forEach((t,r)=>{this._addObject(t,r)}),this.norm.clear())}add(t){const r=this.size();ef(t)?this._addString(t,r):this._addObject(t,r)}removeAt(t){this.records.splice(t,1);for(let r=t,n=this.size();r<n;r+=1)this.records[r].i-=1}getValueForItemAtKeyId(t,r){return t[this._keysMap[r]]}size(){return this.records.length}_addString(t,r){if(!fc(t)||MT(t))return;let n={v:t,i:r,n:this.norm.get(t)};this.records.push(n)}_addObject(t,r){let n={i:r,$:{}};this.keys.forEach((a,i)=>{let s=a.getFn?a.getFn(t):this.getFn(t,a.path);if(fc(s)){if(Eh(s)){let o=[];const c=[{nestedArrIndex:-1,value:s}];for(;c.length;){const{nestedArrIndex:u,value:d}=c.pop();if(fc(d))if(ef(d)&&!MT(d)){let f={v:d,i:u,n:this.norm.get(d)};o.push(f)}else Eh(d)&&d.forEach((f,h)=>{c.push({nestedArrIndex:h,value:f})})}n.$[i]=o}else if(ef(s)&&!MT(s)){let o={v:s,n:this.norm.get(s)};n.$[i]=o}}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function $se(e,t,{getFn:r=dn.getFn,fieldNormWeight:n=dn.fieldNormWeight}={}){const a=new jM({getFn:r,fieldNormWeight:n});return a.setKeys(e.map(jse)),a.setSources(t),a.create(),a}function VXe(e,{getFn:t=dn.getFn,fieldNormWeight:r=dn.fieldNormWeight}={}){const{keys:n,records:a}=e,i=new jM({getFn:t,fieldNormWeight:r});return i.setKeys(n),i.setIndexRecords(a),i}function Q_(e,{errors:t=0,currentLocation:r=0,expectedLocation:n=0,distance:a=dn.distance,ignoreLocation:i=dn.ignoreLocation}={}){const s=t/e.length;if(i)return s;const o=Math.abs(n-r);return a?s+o/a:o?1:s}function HXe(e=[],t=dn.minMatchCharLength){let r=[],n=-1,a=-1,i=0;for(let s=e.length;i<s;i+=1){let o=e[i];o&&n===-1?n=i:!o&&n!==-1&&(a=i-1,a-n+1>=t&&r.push([n,a]),n=-1)}return e[i-1]&&i-n>=t&&r.push([n,i-1]),r}const I0=32;function GXe(e,t,r,{location:n=dn.location,distance:a=dn.distance,threshold:i=dn.threshold,findAllMatches:s=dn.findAllMatches,minMatchCharLength:o=dn.minMatchCharLength,includeMatches:c=dn.includeMatches,ignoreLocation:u=dn.ignoreLocation}={}){if(t.length>I0)throw new Error(RXe(I0));const d=t.length,f=e.length,h=Math.max(0,Math.min(n,f));let m=i,w=h;const g=o>1||c,y=g?Array(f):[];let b;for(;(b=e.indexOf(t,w))>-1;){let P=Q_(t,{currentLocation:b,expectedLocation:h,distance:a,ignoreLocation:u});if(m=Math.min(P,m),w=b+d,g){let M=0;for(;M<d;)y[b+M]=1,M+=1}}w=-1;let _=[],N=1,E=d+f;const C=1<<d-1;for(let P=0;P<d;P+=1){let M=0,L=E;for(;M<L;)Q_(t,{errors:P,currentLocation:h+L,expectedLocation:h,distance:a,ignoreLocation:u})<=m?M=L:E=L,L=Math.floor((E-M)/2+M);E=L;let j=Math.max(1,h-L+1),T=s?f:Math.min(h+L,f)+d,I=Array(T+2);I[T+1]=(1<<P)-1;for(let G=T;G>=j;G-=1){let Z=G-1,re=r[e.charAt(Z)];if(g&&(y[Z]=+!!re),I[G]=(I[G+1]<<1|1)&re,P&&(I[G]|=(_[G+1]|_[G])<<1|1|_[G+1]),I[G]&C&&(N=Q_(t,{errors:P,currentLocation:Z,expectedLocation:h,distance:a,ignoreLocation:u}),N<=m)){if(m=N,w=Z,w<=h)break;j=Math.max(1,2*h-w)}}if(Q_(t,{errors:P+1,currentLocation:h,expectedLocation:h,distance:a,ignoreLocation:u})>m)break;_=I}const O={isMatch:w>=0,score:Math.max(.001,N)};if(g){const P=HXe(y,o);P.length?c&&(O.indices=P):O.isMatch=!1}return O}function YXe(e){let t={};for(let r=0,n=e.length;r<n;r+=1){const a=e.charAt(r);t[a]=(t[a]||0)|1<<n-r-1}return t}const p4=String.prototype.normalize?e=>e.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):e=>e;class Bse{constructor(t,{location:r=dn.location,threshold:n=dn.threshold,distance:a=dn.distance,includeMatches:i=dn.includeMatches,findAllMatches:s=dn.findAllMatches,minMatchCharLength:o=dn.minMatchCharLength,isCaseSensitive:c=dn.isCaseSensitive,ignoreDiacritics:u=dn.ignoreDiacritics,ignoreLocation:d=dn.ignoreLocation}={}){if(this.options={location:r,threshold:n,distance:a,includeMatches:i,findAllMatches:s,minMatchCharLength:o,isCaseSensitive:c,ignoreDiacritics:u,ignoreLocation:d},t=c?t:t.toLowerCase(),t=u?p4(t):t,this.pattern=t,this.chunks=[],!this.pattern.length)return;const f=(m,w)=>{this.chunks.push({pattern:m,alphabet:YXe(m),startIndex:w})},h=this.pattern.length;if(h>I0){let m=0;const w=h%I0,g=h-w;for(;m<g;)f(this.pattern.substr(m,I0),m),m+=I0;if(w){const y=h-I0;f(this.pattern.substr(y),y)}}else f(this.pattern,0)}searchIn(t){const{isCaseSensitive:r,ignoreDiacritics:n,includeMatches:a}=this.options;if(t=r?t:t.toLowerCase(),t=n?p4(t):t,this.pattern===t){let g={isMatch:!0,score:0};return a&&(g.indices=[[0,t.length-1]]),g}const{location:i,distance:s,threshold:o,findAllMatches:c,minMatchCharLength:u,ignoreLocation:d}=this.options;let f=[],h=0,m=!1;this.chunks.forEach(({pattern:g,alphabet:y,startIndex:b})=>{const{isMatch:_,score:N,indices:E}=GXe(t,g,y,{location:i+b,distance:s,threshold:o,findAllMatches:c,minMatchCharLength:u,includeMatches:a,ignoreLocation:d});_&&(m=!0),h+=N,_&&E&&(f=[...f,...E])});let w={isMatch:m,score:m?h/this.chunks.length:1};return m&&a&&(w.indices=f),w}}class zm{constructor(t){this.pattern=t}static isMultiMatch(t){return aH(t,this.multiRegex)}static isSingleMatch(t){return aH(t,this.singleRegex)}search(){}}function aH(e,t){const r=e.match(t);return r?r[1]:null}class KXe extends zm{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const r=t===this.pattern;return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class XXe extends zm{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const n=t.indexOf(this.pattern)===-1;return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class JXe extends zm{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const r=t.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class ZXe extends zm{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const r=!t.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class QXe extends zm{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const r=t.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class eJe extends zm{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const r=!t.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class Use extends zm{constructor(t,{location:r=dn.location,threshold:n=dn.threshold,distance:a=dn.distance,includeMatches:i=dn.includeMatches,findAllMatches:s=dn.findAllMatches,minMatchCharLength:o=dn.minMatchCharLength,isCaseSensitive:c=dn.isCaseSensitive,ignoreDiacritics:u=dn.ignoreDiacritics,ignoreLocation:d=dn.ignoreLocation}={}){super(t),this._bitapSearch=new Bse(t,{location:r,threshold:n,distance:a,includeMatches:i,findAllMatches:s,minMatchCharLength:o,isCaseSensitive:c,ignoreDiacritics:u,ignoreLocation:d})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class qse extends zm{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let r=0,n;const a=[],i=this.pattern.length;for(;(n=t.indexOf(this.pattern,r))>-1;)r=n+i,a.push([n,r-1]);const s=!!a.length;return{isMatch:s,score:s?0:1,indices:a}}}const YO=[KXe,qse,JXe,ZXe,eJe,QXe,XXe,Use],iH=YO.length,tJe=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,rJe="|";function nJe(e,t={}){return e.split(rJe).map(r=>{let n=r.trim().split(tJe).filter(i=>i&&!!i.trim()),a=[];for(let i=0,s=n.length;i<s;i+=1){const o=n[i];let c=!1,u=-1;for(;!c&&++u<iH;){const d=YO[u];let f=d.isMultiMatch(o);f&&(a.push(new d(f,t)),c=!0)}if(!c)for(u=-1;++u<iH;){const d=YO[u];let f=d.isSingleMatch(o);if(f){a.push(new d(f,t));break}}}return a})}const aJe=new Set([Use.type,qse.type]);class iJe{constructor(t,{isCaseSensitive:r=dn.isCaseSensitive,ignoreDiacritics:n=dn.ignoreDiacritics,includeMatches:a=dn.includeMatches,minMatchCharLength:i=dn.minMatchCharLength,ignoreLocation:s=dn.ignoreLocation,findAllMatches:o=dn.findAllMatches,location:c=dn.location,threshold:u=dn.threshold,distance:d=dn.distance}={}){this.query=null,this.options={isCaseSensitive:r,ignoreDiacritics:n,includeMatches:a,minMatchCharLength:i,findAllMatches:o,ignoreLocation:s,location:c,threshold:u,distance:d},t=r?t:t.toLowerCase(),t=n?p4(t):t,this.pattern=t,this.query=nJe(this.pattern,this.options)}static condition(t,r){return r.useExtendedSearch}searchIn(t){const r=this.query;if(!r)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:a,ignoreDiacritics:i}=this.options;t=a?t:t.toLowerCase(),t=i?p4(t):t;let s=0,o=[],c=0;for(let u=0,d=r.length;u<d;u+=1){const f=r[u];o.length=0,s=0;for(let h=0,m=f.length;h<m;h+=1){const w=f[h],{isMatch:g,indices:y,score:b}=w.search(t);if(g){if(s+=1,c+=b,n){const _=w.constructor.type;aJe.has(_)?o=[...o,...y]:o.push(y)}}else{c=0,s=0,o.length=0;break}}if(s){let h={isMatch:!0,score:c/s};return n&&(h.indices=o),h}}return{isMatch:!1,score:1}}}const KO=[];function sJe(...e){KO.push(...e)}function XO(e,t){for(let r=0,n=KO.length;r<n;r+=1){let a=KO[r];if(a.condition(e,t))return new a(e,t)}return new Bse(e,t)}const m4={AND:"$and",OR:"$or"},JO={PATH:"$path",PATTERN:"$val"},ZO=e=>!!(e[m4.AND]||e[m4.OR]),oJe=e=>!!e[JO.PATH],lJe=e=>!Eh(e)&&Fse(e)&&!ZO(e),sH=e=>({[m4.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function zse(e,t,{auto:r=!0}={}){const n=a=>{let i=Object.keys(a);const s=oJe(a);if(!s&&i.length>1&&!ZO(a))return n(sH(a));if(lJe(a)){const c=s?a[JO.PATH]:i[0],u=s?a[JO.PATTERN]:a[c];if(!ef(u))throw new Error(IXe(c));const d={keyId:GO(c),pattern:u};return r&&(d.searcher=XO(u,t)),d}let o={children:[],operator:i[0]};return i.forEach(c=>{const u=a[c];Eh(u)&&u.forEach(d=>{o.children.push(n(d))})}),o};return ZO(e)||(e=sH(e)),n(e)}function cJe(e,{ignoreFieldNorm:t=dn.ignoreFieldNorm}){e.forEach(r=>{let n=1;r.matches.forEach(({key:a,norm:i,score:s})=>{const o=a?a.weight:null;n*=Math.pow(s===0&&o?Number.EPSILON:s,(o||1)*(t?1:i))}),r.score=n})}function uJe(e,t){const r=e.matches;t.matches=[],fc(r)&&r.forEach(n=>{if(!fc(n.indices)||!n.indices.length)return;const{indices:a,value:i}=n;let s={indices:a,value:i};n.key&&(s.key=n.key.src),n.idx>-1&&(s.refIndex=n.idx),t.matches.push(s)})}function dJe(e,t){t.score=e.score}function fJe(e,t,{includeMatches:r=dn.includeMatches,includeScore:n=dn.includeScore}={}){const a=[];return r&&a.push(uJe),n&&a.push(dJe),e.map(i=>{const{idx:s}=i,o={item:t[s],refIndex:s};return a.length&&a.forEach(c=>{c(i,o)}),o})}class My{constructor(t,r={},n){this.options={...dn,...r},this.options.useExtendedSearch,this._keyStore=new LXe(this.options.keys),this.setCollection(t,n)}setCollection(t,r){if(this._docs=t,r&&!(r instanceof jM))throw new Error(DXe);this._myIndex=r||$se(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){fc(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const r=[];for(let n=0,a=this._docs.length;n<a;n+=1){const i=this._docs[n];t(i,n)&&(this.removeAt(n),n-=1,a-=1,r.push(i))}return r}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:r=-1}={}){const{includeMatches:n,includeScore:a,shouldSort:i,sortFn:s,ignoreFieldNorm:o}=this.options;let c=ef(t)?ef(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return cJe(c,{ignoreFieldNorm:o}),i&&c.sort(s),Mse(r)&&r>-1&&(c=c.slice(0,r)),fJe(c,this._docs,{includeMatches:n,includeScore:a})}_searchStringList(t){const r=XO(t,this.options),{records:n}=this._myIndex,a=[];return n.forEach(({v:i,i:s,n:o})=>{if(!fc(i))return;const{isMatch:c,score:u,indices:d}=r.searchIn(i);c&&a.push({item:i,idx:s,matches:[{score:u,value:i,norm:o,indices:d}]})}),a}_searchLogical(t){const r=zse(t,this.options),n=(o,c,u)=>{if(!o.children){const{keyId:f,searcher:h}=o,m=this._findMatches({key:this._keyStore.get(f),value:this._myIndex.getValueForItemAtKeyId(c,f),searcher:h});return m&&m.length?[{idx:u,item:c,matches:m}]:[]}const d=[];for(let f=0,h=o.children.length;f<h;f+=1){const m=o.children[f],w=n(m,c,u);if(w.length)d.push(...w);else if(o.operator===m4.AND)return[]}return d},a=this._myIndex.records,i={},s=[];return a.forEach(({$:o,i:c})=>{if(fc(o)){let u=n(r,o,c);u.length&&(i[c]||(i[c]={idx:c,item:o,matches:[]},s.push(i[c])),u.forEach(({matches:d})=>{i[c].matches.push(...d)}))}}),s}_searchObjectList(t){const r=XO(t,this.options),{keys:n,records:a}=this._myIndex,i=[];return a.forEach(({$:s,i:o})=>{if(!fc(s))return;let c=[];n.forEach((u,d)=>{c.push(...this._findMatches({key:u,value:s[d],searcher:r}))}),c.length&&i.push({idx:o,item:s,matches:c})}),i}_findMatches({key:t,value:r,searcher:n}){if(!fc(r))return[];let a=[];if(Eh(r))r.forEach(({v:i,i:s,n:o})=>{if(!fc(i))return;const{isMatch:c,score:u,indices:d}=n.searchIn(i);c&&a.push({score:u,key:t,value:i,idx:s,norm:o,indices:d})});else{const{v:i,n:s}=r,{isMatch:o,score:c,indices:u}=n.searchIn(i);o&&a.push({score:c,key:t,value:i,norm:s,indices:u})}return a}}My.version="7.1.0";My.createIndex=$se;My.parseIndex=VXe;My.config=dn;My.parseQuery=zse;sJe(iJe);const hJe={includeScore:!0,shouldSort:!0,minMatchCharLength:2,threshold:.4,keys:["name"]},g4=(e,t)=>{if(!e||t.length===0)return{bestMatch:null,bestMatchScore:void 0,allMatches:[]};const n=new My(t,hJe).search(e);return n.length>0&&n[0].score!==void 0?{bestMatch:n[0].item,bestMatchScore:n[0].score,allMatches:n}:n.length>0?{bestMatch:n[0].item,bestMatchScore:void 0,allMatches:n}:{bestMatch:null,bestMatchScore:void 0,allMatches:[]}},oH=(e,t)=>e.map((r,n)=>{const{bestMatch:a,bestMatchScore:i,allMatches:s}=g4(r.name,t);return{originalOcrItemName:r.name,ocrItemIndex:n,bestMatch:a,bestMatchScore:i,allMatches:s}}),pJe="purchase_invoices",Wse=async(e,t)=>{const r=e.name.split(".").pop(),a=`${`${t?t+"_":""}${Date.now()}.${r}`}`,{data:i,error:s}=await je.storage.from(pJe).upload(a,e,{cacheControl:"3600",upsert:!1});if(s)throw console.error("Error uploading invoice file:",s),new Error(`Failed to upload invoice file: ${s.message}`);if(!i||!i.path)throw console.error("No path returned from storage upload"),new Error("Failed to upload invoice file: No path returned.");return i.path},Vse=async e=>{const{data:t,error:r}=await je.from("invoices").insert({supplier_id:e.supplier_id,invoice_date:e.invoice_date,total_amount:e.total_amount,status:e.status||"pending",notes:e.notes,purchase_order_id:e.purchase_order_id,invoice_url:e.file_path}).select().single();if(r)throw console.error("Error creating invoice record:",r),new Error(`Failed to create invoice record: ${r.message}`);if(!t)throw new Error("Failed to create invoice record: No data returned.");return t},mJe=()=>{const e=Ss(),{toast:t}=bn(),{user:r}=di(),[n,a]=S.useState([]),[i,s]=S.useState([]),[o,c]=S.useState([]),[u,d]=S.useState(!1),[f,h]=S.useState(!1),[m,w]=S.useState(null),[g,y]=S.useState(null),b=pd({resolver:md(EXe),defaultValues:{supplier_id:"",order_date:new Date,expected_delivery_date:null,notes:"",items:[{inventory_item_id:"",quantity_ordered:1,unit_price:0,description:""}],invoice_file:null}}),{fields:_,append:N,remove:E,update:C}=jS({control:b.control,name:"items"});S.useEffect(()=>{(async()=>{try{const[T,I]=await Promise.all([xXe(),LM()]);a(T),s(I),c(I.map(B=>({id:B.value,name:B.label})))}catch{t({variant:"destructive",title:"Error fetching data",description:"Could not load suppliers or inventory items."})}})()},[t]);const O=async j=>{if(!(r!=null&&r.id)){t({variant:"destructive",title:"Authentication Error",description:"User ID not found."});return}d(!0);try{const T=await wXe(j,r.id);if(t({title:"Purchase Order Created",description:`PO #${T.po_number} has been successfully created.`}),j.invoice_file&&m)try{t({title:"Processing Invoice",description:"Uploading invoice file..."});const I=await Wse(j.invoice_file,T.po_number);await Vse({file_path:I,purchase_order_id:T.id,supplier_id:j.supplier_id,invoice_date:m.invoice_date?new Date(m.invoice_date).toISOString().split("T")[0]:null,total_amount:m.total_amount,notes:`Invoice auto-linked from AI OCR. AI OCR Supplier: ${m.supplier_name||"N/A"}. AI OCR Date: ${m.invoice_date||"N/A"}. AI OCR Total: ${m.total_amount||"N/A"}`,file_name:j.invoice_file.name}),t({title:"Invoice Linked",description:`Invoice ${j.invoice_file.name} linked to PO #${T.po_number}.`})}catch(I){console.error("Failed to link invoice to PO:",I),t({variant:"destructive",title:"Invoice Linking Failed",description:(I==null?void 0:I.message)||"Could not link the uploaded invoice to the PO."})}e(`/purchases/${T.id}`)}catch(T){console.error("Failed to create PO:",T),t({variant:"destructive",title:"Failed to create Purchase Order",description:(T==null?void 0:T.message)||"An unexpected error occurred."})}finally{d(!1)}},P=(j,T)=>{const I=i.find(B=>B.value===T);I&&C(j,{...b.getValues(`items.${j}`),inventory_item_id:T,description:I.label})},M=async j=>{if(b.setValue("invoice_file",j,{shouldValidate:!0}),y(null),w(null),j){h(!0),t({title:"Processing Invoice",description:"Extracting data via AI, please wait..."});try{const T=new FileReader;T.readAsDataURL(j),T.onloadend=async()=>{const I=T.result,{data:B,error:G}=await je.functions.invoke("ocr-invoice-parser",{body:{image_data_urls:[I],file_type:j.type}});if(G)throw G;const Z=B;w(Z);const re=n.map(U=>({id:U.value,name:U.label})),W=Z.supplier_name?g4(Z.supplier_name,re):null,z=(Z.items||[]).map(U=>{const{bestMatch:Y,allMatches:Q,bestMatchScore:D}=g4(U.description,o);return{...U,inventoryItemId:(Y==null?void 0:Y.id.toString())||null,matchDetails:{originalOcrItemName:U.description,ocrItemIndex:-1,bestMatch:Y,bestMatchScore:D,allMatches:Q}}});y({...Z,items:z,matchedSupplier:(W==null?void 0:W.bestMatch)||null}),t({title:"Invoice Scanned by AI",description:"Review extracted data below to pre-fill form."}),h(!1)},T.onerror=I=>{console.error("File reading error:",I),t({variant:"destructive",title:"File Error",description:"Could not read file for OCR."}),h(!1)}}catch(T){console.error("AI OCR processing failed:",T),t({variant:"destructive",title:"AI OCR Error",description:T.message||"Failed to process invoice with AI."}),h(!1)}}},L=()=>{var j;if(g){if((j=g.matchedSupplier)!=null&&j.id&&b.setValue("supplier_id",g.matchedSupplier.id.toString(),{shouldValidate:!0}),g.invoice_date)try{const T=new Date(g.invoice_date);isNaN(T.getTime())?t({variant:"destructive",title:"Invalid Date",description:"AI OCR extracted an invalid date format."}):b.setValue("order_date",T,{shouldValidate:!0})}catch{t({variant:"destructive",title:"Date Error",description:"Could not parse AI OCR date."})}g.items.length>0&&(_.forEach((T,I)=>E(I)),g.items.forEach(T=>{var I;N({inventory_item_id:T.inventoryItemId||"",description:T.inventoryItemId&&((I=i.find(B=>B.value===T.inventoryItemId))==null?void 0:I.label)||T.description,quantity_ordered:T.quantity||1,unit_price:T.unit_price||0})})),t({title:"OCR Data Applied",description:"Form has been pre-filled with data from invoice."}),y(null)}};return x("div",{className:"container mx-auto p-4",children:[l(Fa,{heading:"Create New Purchase Order",text:"Fill in the details to create a new purchase order."}),x(Mh,{...b,children:[" ",x("form",{onSubmit:b.handleSubmit(O),className:"space-y-8 mt-6",children:[x("div",{className:"my-6 p-6 border rounded-lg shadow-sm",children:[l("h3",{className:"text-xl font-semibold mb-4",children:"Upload Invoice (Optional)"}),l(Ve,{control:b.control,name:"invoice_file",render:({field:j})=>x(Ie,{children:[l(De,{children:"Invoice Document"})," ",l(Le,{children:l(im,{value:j.value,onFileChange:M,accept:"image/png,image/jpeg,image/jpg,application/pdf",maxSize:5,disabled:f})}),l(gi,{children:"Upload an invoice image (PNG, JPG) or PDF. OCR pre-fill currently only supports images."}),l(et,{})]})}),f&&l("p",{className:"text-sm text-muted-foreground mt-2",children:"Processing invoice..."}),g&&!f&&x("div",{className:"mt-4 p-4 border rounded-md bg-muted/50 space-y-3",children:[l("h4",{className:"text-lg font-medium",children:"Extracted Invoice Data:"}),g.matchedSupplier&&x("p",{children:["Supplier: ",g.matchedSupplier.name," (Matched by AI & Fuzzy Search)"]}),!g.matchedSupplier&&g.supplier_name&&x("p",{children:["Supplier (AI OCR): ",g.supplier_name]}),g.invoice_date&&x("p",{children:["Date: ",g.invoice_date]}),g.total_amount&&x("p",{children:["Total: ",g.total_amount]}),x("p",{className:"font-medium mt-2",children:["Items (",g.items.length,"):"]}),x("ul",{className:"list-disc pl-5 text-sm",children:[g.items.slice(0,5).map((j,T)=>{var I;return x("li",{children:[j.description," (Qty: ",j.quantity??"N/A",", Price: ",j.unit_price??"N/A",")",j.inventoryItemId&&i.find(B=>B.value===j.inventoryItemId)&&x("span",{className:"text-green-600 ml-2",children:["(Matched: ",(I=i.find(B=>B.value===j.inventoryItemId))==null?void 0:I.label,")"]}),!j.inventoryItemId&&l("span",{className:"text-orange-600 ml-2",children:"(No direct match)"})]},T)}),g.items.length>5&&l("li",{children:"...and more"})]}),l(Me,{type:"button",onClick:L,className:"mt-3",children:"Apply OCR Data to Form"})]})]}),l(sm,{className:"my-8"}),x("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l(Ve,{control:b.control,name:"supplier_id",render:({field:j})=>x(Ie,{children:[l(De,{children:"Supplier"}),x(Ur,{onValueChange:j.onChange,defaultValue:j.value,children:[l(Le,{children:l(jr,{children:l(qr,{placeholder:"Select a supplier"})})}),l($r,{children:n.map(T=>l(mt,{value:T.value,children:T.label},T.value))})]}),l(et,{})]})}),l(Ve,{control:b.control,name:"order_date",render:({field:j})=>x(Ie,{className:"flex flex-col",children:[l(De,{children:"Order Date"}),x(pg,{children:[l(mg,{asChild:!0,children:l(Le,{children:x(Me,{variant:"outline",className:Lt("w-full pl-3 text-left font-normal",!j.value&&"text-muted-foreground"),children:[j.value?new Date(j.value).toLocaleDateString():l("span",{children:"Pick a date"}),l(Oi,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),l(bm,{className:"w-auto p-0",align:"start",children:l(_m,{mode:"single",selected:j.value,onSelect:j.onChange,initialFocus:!0})})]}),l(et,{})]})}),l(Ve,{control:b.control,name:"expected_delivery_date",render:({field:j})=>x(Ie,{className:"flex flex-col",children:[l(De,{children:"Expected Delivery Date (Optional)"}),x(pg,{children:[l(mg,{asChild:!0,children:l(Le,{children:x(Me,{variant:"outline",className:Lt("w-full pl-3 text-left font-normal",!j.value&&"text-muted-foreground"),children:[j.value?new Date(j.value).toLocaleDateString():l("span",{children:"Pick a date"}),l(Oi,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),l(bm,{className:"w-auto p-0",align:"start",children:l(_m,{mode:"single",selected:j.value||void 0,onSelect:j.onChange})})]}),l(et,{})]})})]}),l(Ve,{control:b.control,name:"notes",render:({field:j})=>x(Ie,{children:[l(De,{children:"Notes (Optional)"}),l(Le,{children:l(un,{placeholder:"Any additional notes for this purchase order",...j})}),l(et,{})]})}),x("div",{className:"space-y-4",children:[l(tr,{className:"text-lg font-semibold",children:"Order Items"}),_.map((j,T)=>x("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4 border p-4 rounded-md relative",children:[l("div",{className:"md:col-span-4",children:l(Ve,{control:b.control,name:`items.${T}.inventory_item_id`,render:({field:I})=>x(Ie,{children:[l(De,{children:"Item"}),x(Ur,{onValueChange:B=>{I.onChange(B),P(T,B)},defaultValue:I.value,children:[l(Le,{children:l(jr,{children:l(qr,{placeholder:"Select an item"})})}),l($r,{children:i.map(B=>x(mt,{value:B.value,children:[B.label," ",B.category?`(${B.category})`:""]},B.value))})]}),(()=>{const B=b.getValues(`items.${T}.inventory_item_id`),G=i.find(Z=>Z.value===B);return G!=null&&G.item_code?x("p",{className:"text-xs text-muted-foreground mt-1",children:["Code: ",G.item_code]}):null})(),l(et,{})]})})}),l("div",{className:"md:col-span-3",children:l(Ve,{control:b.control,name:`items.${T}.description`,render:({field:I})=>x(Ie,{children:[l(De,{children:"Description"}),l(Le,{children:l(dt,{placeholder:"Item description",...I})}),l(et,{})]})})}),l("div",{className:"md:col-span-2",children:l(Ve,{control:b.control,name:`items.${T}.quantity_ordered`,render:({field:I})=>x(Ie,{children:[l(De,{children:"Quantity"}),l(Le,{children:l(dt,{type:"number",placeholder:"Qty",...I,onChange:B=>I.onChange(parseInt(B.target.value,10)||0)})}),l(et,{})]})})}),l("div",{className:"md:col-span-2",children:l(Ve,{control:b.control,name:`items.${T}.unit_price`,render:({field:I})=>x(Ie,{children:[l(De,{children:"Unit Price"}),l(Le,{children:l(dt,{type:"number",step:"0.01",placeholder:"Price",...I,onChange:B=>I.onChange(parseFloat(B.target.value)||0)})}),l(et,{})]})})}),l("div",{className:"md:col-span-1 flex items-end",children:_.length>1&&l(Me,{type:"button",variant:"destructive",size:"icon",onClick:()=>E(T),children:l(lm,{className:"h-4 w-4"})})})]},j.id)),x(Me,{type:"button",variant:"outline",onClick:()=>N({inventory_item_id:"",quantity_ordered:1,unit_price:0,description:""}),children:[l(Ch,{className:"mr-2 h-4 w-4"})," Add Item"]})]}),x("div",{className:"flex justify-end space-x-2",children:[l(Me,{type:"button",variant:"outline",onClick:()=>e("/purchases"),disabled:u,children:"Cancel"}),l(Me,{type:"submit",disabled:u,children:u?"Creating...":"Create Purchase Order"})]})]})]})]})};var FT={exports:{}},lH;function gJe(){return lH||(lH=1,function(e){var t=function(r){var n=Object.prototype,a=n.hasOwnProperty,i=Object.defineProperty||function(U,Y,Q){U[Y]=Q.value},s,o=typeof Symbol=="function"?Symbol:{},c=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",d=o.toStringTag||"@@toStringTag";function f(U,Y,Q){return Object.defineProperty(U,Y,{value:Q,enumerable:!0,configurable:!0,writable:!0}),U[Y]}try{f({},"")}catch{f=function(Y,Q,D){return Y[Q]=D}}function h(U,Y,Q,D){var K=Y&&Y.prototype instanceof N?Y:N,J=Object.create(K.prototype),ne=new re(D||[]);return i(J,"_invoke",{value:I(U,Q,ne)}),J}r.wrap=h;function m(U,Y,Q){try{return{type:"normal",arg:U.call(Y,Q)}}catch(D){return{type:"throw",arg:D}}}var w="suspendedStart",g="suspendedYield",y="executing",b="completed",_={};function N(){}function E(){}function C(){}var O={};f(O,c,function(){return this});var P=Object.getPrototypeOf,M=P&&P(P(W([])));M&&M!==n&&a.call(M,c)&&(O=M);var L=C.prototype=N.prototype=Object.create(O);E.prototype=C,i(L,"constructor",{value:C,configurable:!0}),i(C,"constructor",{value:E,configurable:!0}),E.displayName=f(C,d,"GeneratorFunction");function j(U){["next","throw","return"].forEach(function(Y){f(U,Y,function(Q){return this._invoke(Y,Q)})})}r.isGeneratorFunction=function(U){var Y=typeof U=="function"&&U.constructor;return Y?Y===E||(Y.displayName||Y.name)==="GeneratorFunction":!1},r.mark=function(U){return Object.setPrototypeOf?Object.setPrototypeOf(U,C):(U.__proto__=C,f(U,d,"GeneratorFunction")),U.prototype=Object.create(L),U},r.awrap=function(U){return{__await:U}};function T(U,Y){function Q(J,ne,ie,oe){var ue=m(U[J],U,ne);if(ue.type==="throw")oe(ue.arg);else{var V=ue.arg,se=V.value;return se&&typeof se=="object"&&a.call(se,"__await")?Y.resolve(se.__await).then(function(fe){Q("next",fe,ie,oe)},function(fe){Q("throw",fe,ie,oe)}):Y.resolve(se).then(function(fe){V.value=fe,ie(V)},function(fe){return Q("throw",fe,ie,oe)})}}var D;function K(J,ne){function ie(){return new Y(function(oe,ue){Q(J,ne,oe,ue)})}return D=D?D.then(ie,ie):ie()}i(this,"_invoke",{value:K})}j(T.prototype),f(T.prototype,u,function(){return this}),r.AsyncIterator=T,r.async=function(U,Y,Q,D,K){K===void 0&&(K=Promise);var J=new T(h(U,Y,Q,D),K);return r.isGeneratorFunction(Y)?J:J.next().then(function(ne){return ne.done?ne.value:J.next()})};function I(U,Y,Q){var D=w;return function(J,ne){if(D===y)throw new Error("Generator is already running");if(D===b){if(J==="throw")throw ne;return z()}for(Q.method=J,Q.arg=ne;;){var ie=Q.delegate;if(ie){var oe=B(ie,Q);if(oe){if(oe===_)continue;return oe}}if(Q.method==="next")Q.sent=Q._sent=Q.arg;else if(Q.method==="throw"){if(D===w)throw D=b,Q.arg;Q.dispatchException(Q.arg)}else Q.method==="return"&&Q.abrupt("return",Q.arg);D=y;var ue=m(U,Y,Q);if(ue.type==="normal"){if(D=Q.done?b:g,ue.arg===_)continue;return{value:ue.arg,done:Q.done}}else ue.type==="throw"&&(D=b,Q.method="throw",Q.arg=ue.arg)}}}function B(U,Y){var Q=Y.method,D=U.iterator[Q];if(D===s)return Y.delegate=null,Q==="throw"&&U.iterator.return&&(Y.method="return",Y.arg=s,B(U,Y),Y.method==="throw")||Q!=="return"&&(Y.method="throw",Y.arg=new TypeError("The iterator does not provide a '"+Q+"' method")),_;var K=m(D,U.iterator,Y.arg);if(K.type==="throw")return Y.method="throw",Y.arg=K.arg,Y.delegate=null,_;var J=K.arg;if(!J)return Y.method="throw",Y.arg=new TypeError("iterator result is not an object"),Y.delegate=null,_;if(J.done)Y[U.resultName]=J.value,Y.next=U.nextLoc,Y.method!=="return"&&(Y.method="next",Y.arg=s);else return J;return Y.delegate=null,_}j(L),f(L,d,"Generator"),f(L,c,function(){return this}),f(L,"toString",function(){return"[object Generator]"});function G(U){var Y={tryLoc:U[0]};1 in U&&(Y.catchLoc=U[1]),2 in U&&(Y.finallyLoc=U[2],Y.afterLoc=U[3]),this.tryEntries.push(Y)}function Z(U){var Y=U.completion||{};Y.type="normal",delete Y.arg,U.completion=Y}function re(U){this.tryEntries=[{tryLoc:"root"}],U.forEach(G,this),this.reset(!0)}r.keys=function(U){var Y=Object(U),Q=[];for(var D in Y)Q.push(D);return Q.reverse(),function K(){for(;Q.length;){var J=Q.pop();if(J in Y)return K.value=J,K.done=!1,K}return K.done=!0,K}};function W(U){if(U){var Y=U[c];if(Y)return Y.call(U);if(typeof U.next=="function")return U;if(!isNaN(U.length)){var Q=-1,D=function K(){for(;++Q<U.length;)if(a.call(U,Q))return K.value=U[Q],K.done=!1,K;return K.value=s,K.done=!0,K};return D.next=D}}return{next:z}}r.values=W;function z(){return{value:s,done:!0}}return re.prototype={constructor:re,reset:function(U){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(Z),!U)for(var Y in this)Y.charAt(0)==="t"&&a.call(this,Y)&&!isNaN(+Y.slice(1))&&(this[Y]=s)},stop:function(){this.done=!0;var U=this.tryEntries[0],Y=U.completion;if(Y.type==="throw")throw Y.arg;return this.rval},dispatchException:function(U){if(this.done)throw U;var Y=this;function Q(oe,ue){return J.type="throw",J.arg=U,Y.next=oe,ue&&(Y.method="next",Y.arg=s),!!ue}for(var D=this.tryEntries.length-1;D>=0;--D){var K=this.tryEntries[D],J=K.completion;if(K.tryLoc==="root")return Q("end");if(K.tryLoc<=this.prev){var ne=a.call(K,"catchLoc"),ie=a.call(K,"finallyLoc");if(ne&&ie){if(this.prev<K.catchLoc)return Q(K.catchLoc,!0);if(this.prev<K.finallyLoc)return Q(K.finallyLoc)}else if(ne){if(this.prev<K.catchLoc)return Q(K.catchLoc,!0)}else if(ie){if(this.prev<K.finallyLoc)return Q(K.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(U,Y){for(var Q=this.tryEntries.length-1;Q>=0;--Q){var D=this.tryEntries[Q];if(D.tryLoc<=this.prev&&a.call(D,"finallyLoc")&&this.prev<D.finallyLoc){var K=D;break}}K&&(U==="break"||U==="continue")&&K.tryLoc<=Y&&Y<=K.finallyLoc&&(K=null);var J=K?K.completion:{};return J.type=U,J.arg=Y,K?(this.method="next",this.next=K.finallyLoc,_):this.complete(J)},complete:function(U,Y){if(U.type==="throw")throw U.arg;return U.type==="break"||U.type==="continue"?this.next=U.arg:U.type==="return"?(this.rval=this.arg=U.arg,this.method="return",this.next="end"):U.type==="normal"&&Y&&(this.next=Y),_},finish:function(U){for(var Y=this.tryEntries.length-1;Y>=0;--Y){var Q=this.tryEntries[Y];if(Q.finallyLoc===U)return this.complete(Q.completion,Q.afterLoc),Z(Q),_}},catch:function(U){for(var Y=this.tryEntries.length-1;Y>=0;--Y){var Q=this.tryEntries[Y];if(Q.tryLoc===U){var D=Q.completion;if(D.type==="throw"){var K=D.arg;Z(Q)}return K}}throw new Error("illegal catch attempt")},delegateYield:function(U,Y,Q){return this.delegate={iterator:W(U),resultName:Y,nextLoc:Q},this.method==="next"&&(this.arg=s),_}},r}(e.exports);try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}(FT)),FT.exports}var LT,cH;function $M(){return cH||(cH=1,LT=(e,t)=>`${e}-${t}-${Math.random().toString(16).slice(3,8)}`),LT}var jT,uH;function Hse(){if(uH)return jT;uH=1;const e=$M();let t=0;return jT=({id:r,action:n,payload:a={}})=>{let i=r;return typeof i>"u"&&(i=e("Job",t),t+=1),{id:i,action:n,payload:a}},jT}var k2={},dH;function BM(){if(dH)return k2;dH=1;let e=!1;return k2.logging=e,k2.setLogging=t=>{e=t},k2.log=(...t)=>e?console.log.apply(this,t):null,k2}var $T,fH;function vJe(){if(fH)return $T;fH=1;const e=Hse(),{log:t}=BM(),r=$M();let n=0;return $T=()=>{const a=r("Scheduler",n),i={},s={};let o=[];n+=1;const c=()=>o.length,u=()=>Object.keys(i).length,d=()=>{if(o.length!==0){const g=Object.keys(i);for(let y=0;y<g.length;y+=1)if(typeof s[g[y]]>"u"){o[0](i[g[y]]);break}}},f=(g,y)=>new Promise((b,_)=>{const N=e({action:g,payload:y});o.push(async E=>{o.shift(),s[E.id]=N;try{b(await E[g].apply(this,[...y,N.id]))}catch(C){_(C)}finally{delete s[E.id],d()}}),t(`[${a}]: Add ${N.id} to JobQueue`),t(`[${a}]: JobQueue length=${o.length}`),d()});return{addWorker:g=>(i[g.id]=g,t(`[${a}]: Add ${g.id}`),t(`[${a}]: Number of workers=${u()}`),d(),g.id),addJob:async(g,...y)=>{if(u()===0)throw Error(`[${a}]: You need to have at least one worker before adding jobs`);return f(g,y)},terminate:async()=>{Object.keys(i).forEach(async g=>{await i[g].terminate()}),o=[]},getQueueLen:c,getNumWorkers:u}},$T}function yJe(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var BT,hH;function xJe(){return hH||(hH=1,BT=e=>{const t={};return typeof WorkerGlobalScope<"u"?t.type="webworker":typeof document=="object"?t.type="browser":typeof process=="object"&&typeof yJe=="function"&&(t.type="node"),typeof e>"u"?t:t[e]}),BT}var UT,pH;function wJe(){if(pH)return UT;pH=1;const t=xJe()("type")==="browser"?r=>new URL(r,window.location.href).href:r=>r;return UT=r=>{const n={...r};return["corePath","workerPath","langPath"].forEach(a=>{r[a]&&(n[a]=t(n[a]))}),n},UT}var qT,mH;function Gse(){return mH||(mH=1,qT={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3}),qT}const bJe="6.0.1",_Je={version:bJe};var zT,gH;function SJe(){return gH||(gH=1,zT={workerBlobURL:!0,logger:()=>{}}),zT}var WT,vH;function NJe(){if(vH)return WT;vH=1;const e=_Je.version;return WT={...SJe(),workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${e}/dist/worker.min.js`},WT}var VT,yH;function AJe(){return yH||(yH=1,VT=({workerPath:e,workerBlobURL:t})=>{let r;if(Blob&&URL&&t){const n=new Blob([`importScripts("${e}");`],{type:"application/javascript"});r=new Worker(URL.createObjectURL(n))}else r=new Worker(e);return r}),VT}var HT,xH;function kJe(){return xH||(xH=1,HT=e=>{e.terminate()}),HT}var GT,wH;function EJe(){return wH||(wH=1,GT=(e,t)=>{e.onmessage=({data:r})=>{t(r)}}),GT}var YT,bH;function CJe(){return bH||(bH=1,YT=async(e,t)=>{e.postMessage(t)}),YT}var KT,_H;function PJe(){if(_H)return KT;_H=1;const e=r=>new Promise((n,a)=>{const i=new FileReader;i.onload=()=>{n(i.result)},i.onerror=({target:{error:{code:s}}})=>{a(Error(`File could not be read! Code=${s}`))},i.readAsArrayBuffer(r)}),t=async r=>{let n=r;if(typeof r>"u")return"undefined";if(typeof r=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(r)?n=atob(r.split(",")[1]).split("").map(a=>a.charCodeAt(0)):n=await(await fetch(r)).arrayBuffer();else if(typeof HTMLElement<"u"&&r instanceof HTMLElement)r.tagName==="IMG"&&(n=await t(r.src)),r.tagName==="VIDEO"&&(n=await t(r.poster)),r.tagName==="CANVAS"&&await new Promise(a=>{r.toBlob(async i=>{n=await e(i),a()})});else if(typeof OffscreenCanvas<"u"&&r instanceof OffscreenCanvas){const a=await r.convertToBlob();n=await e(a)}else(r instanceof File||r instanceof Blob)&&(n=await e(r));return new Uint8Array(n)};return KT=t,KT}var XT,SH;function TJe(){if(SH)return XT;SH=1;const e=NJe(),t=AJe(),r=kJe(),n=EJe(),a=CJe(),i=PJe();return XT={defaultOptions:e,spawnWorker:t,terminateWorker:r,onMessage:n,send:a,loadImage:i},XT}var JT,NH;function Yse(){if(NH)return JT;NH=1;const e=wJe(),t=Hse(),{log:r}=BM(),n=$M(),a=Gse(),{defaultOptions:i,spawnWorker:s,terminateWorker:o,onMessage:c,loadImage:u,send:d}=TJe();let f=0;return JT=async(h="eng",m=a.LSTM_ONLY,w={},g={})=>{const y=n("Worker",f),{logger:b,errorHandler:_,...N}=e({...i,...w}),E={},C=typeof h=="string"?h.split("+"):h;let O=m,P=g;const M=[a.DEFAULT,a.LSTM_ONLY].includes(m)&&!N.legacyCore;let L,j;const T=new Promise((V,se)=>{j=V,L=se}),I=V=>{L(V.message)};let B=s(N);B.onerror=I,f+=1;const G=({id:V,action:se,payload:fe})=>new Promise((te,Ee)=>{r(`[${y}]: Start ${V}, action=${se}`);const Fe=`${se}-${V}`;E[Fe]={resolve:te,reject:Ee},d(B,{workerId:y,jobId:V,action:se,payload:fe})}),Z=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),re=V=>G(t({id:V,action:"load",payload:{options:{lstmOnly:M,corePath:N.corePath,logging:N.logging}}})),W=(V,se,fe)=>G(t({id:fe,action:"FS",payload:{method:"writeFile",args:[V,se]}})),z=(V,se)=>G(t({id:se,action:"FS",payload:{method:"readFile",args:[V,{encoding:"utf8"}]}})),U=(V,se)=>G(t({id:se,action:"FS",payload:{method:"unlink",args:[V]}})),Y=(V,se,fe)=>G(t({id:fe,action:"FS",payload:{method:V,args:se}})),Q=(V,se)=>G(t({id:se,action:"loadLanguage",payload:{langs:V,options:{langPath:N.langPath,dataPath:N.dataPath,cachePath:N.cachePath,cacheMethod:N.cacheMethod,gzip:N.gzip,lstmOnly:[a.DEFAULT,a.LSTM_ONLY].includes(O)&&!N.legacyLang}}})),D=(V,se,fe,te)=>G(t({id:te,action:"initialize",payload:{langs:V,oem:se,config:fe}})),K=(V="eng",se,fe,te)=>{if(M&&[a.TESSERACT_ONLY,a.TESSERACT_LSTM_COMBINED].includes(se))throw Error("Legacy model requested but code missing.");const Ee=se||O;O=Ee;const Fe=fe||P;P=Fe;const ve=(typeof V=="string"?V.split("+"):V).filter(Ge=>!C.includes(Ge));return C.push(...ve),ve.length>0?Q(ve,te).then(()=>D(V,Ee,Fe,te)):D(V,Ee,Fe,te)},J=(V={},se)=>G(t({id:se,action:"setParameters",payload:{params:V}})),ne=async(V,se={},fe={text:!0},te)=>G(t({id:te,action:"recognize",payload:{image:await u(V),options:se,output:fe}})),ie=async(V,se)=>{if(M)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return G(t({id:se,action:"detect",payload:{image:await u(V)}}))},oe=async()=>(B!==null&&(o(B),B=null),Promise.resolve());c(B,({workerId:V,jobId:se,status:fe,action:te,data:Ee})=>{const Fe=`${te}-${se}`;if(fe==="resolve")r(`[${V}]: Complete ${se}`),E[Fe].resolve({jobId:se,data:Ee}),delete E[Fe];else if(fe==="reject")if(E[Fe].reject(Ee),delete E[Fe],te==="load"&&L(Ee),_)_(Ee);else throw Error(Ee);else fe==="progress"&&b({...Ee,userJobId:se})});const ue={id:y,worker:B,load:Z,writeText:W,readText:z,removeFile:U,FS:Y,reinitialize:K,setParameters:J,recognize:ne,detect:ie,terminate:oe};return re().then(()=>Q(h)).then(()=>D(h,m,g)).then(()=>j(ue)).catch(()=>{}),T},JT}var ZT,AH;function OJe(){if(AH)return ZT;AH=1;const e=Yse();return ZT={recognize:async(n,a,i)=>{const s=await e(a,1,i);return s.recognize(n).finally(async()=>{await s.terminate()})},detect:async(n,a)=>{const i=await e("osd",0,a);return i.detect(n).finally(async()=>{await i.terminate()})}},ZT}var QT,kH;function DJe(){return kH||(kH=1,QT={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"}),QT}var e6,EH;function IJe(){return EH||(EH=1,e6={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"}),e6}var t6,CH;function RJe(){if(CH)return t6;CH=1,gJe();const e=vJe(),t=Yse(),r=OJe(),n=DJe(),a=Gse(),i=IJe(),{setLogging:s}=BM();return t6={languages:n,OEM:a,PSM:i,createScheduler:e,createWorker:t,setLogging:s,...r},t6}var MJe=RJe();let Uu=null,R0=!1;const FJe=async()=>{if(Uu)return Uu;if(R0)return new Promise((e,t)=>{const r=setInterval(()=>{Uu?(clearInterval(r),e(Uu)):R0||(clearInterval(r),t(new Error("Tesseract worker initialization failed.")))},100)});R0=!0;try{return Uu=await MJe.createWorker("eng",void 0,{logger:t=>console.log(t)}),R0=!1,Uu}catch(e){throw console.error("Failed to initialize Tesseract worker:",e),R0=!1,e}},PH=async e=>{if(e.type==="application/pdf")throw console.warn("Attempted OCR on PDF file. Client-side Tesseract.js does not support PDF directly."),new Error("PDF processing via client-side OCR is not supported. Please use an image file (PNG, JPG) or implement server-side PDF OCR.");const t=await FJe();if(!t)throw new Error("Tesseract worker not available.");try{const{data:{text:r}}=await t.recognize(e);return r}catch(r){console.error("Error during OCR processing:",r);const n=Uu;if(Uu=null,R0=!1,n)try{await n.terminate()}catch(a){console.error("Error terminating worker:",a)}throw new Error("Failed to extract text using OCR.")}},LJe=async()=>{if(Uu){const e=Uu;Uu=null,R0=!1;try{await e.terminate(),console.log("Tesseract worker terminated.")}catch(t){console.error("Error terminating Tesseract worker:",t)}}},TH=e=>{var u;const t=e.split(`
`).map(d=>d.trim()).filter(d=>d!==""),r={items:[]},n=[/\b(\d{1,2}[-/.\s]\d{1,2}[-/.\s]\d{2,4})\b/,/\b(\d{4}[-/.\s]\d{1,2}[-/.\s]\d{1,2})\b/,/\b((?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)[a-z]*[.\s,]*\d{1,2}[,\s]*\d{2,4})\b/i],a=["supplier","vendor","from:","invoice from","sold by"],i=["total","grand total","amount due","total amount","balance due"];for(const d of t){for(const f of a)if(d.toLowerCase().includes(f)){let h=(u=d.toLowerCase().split(f)[1])==null?void 0:u.trim();if(h!=null&&h.startsWith(":")&&(h=h.substring(1).trim()),h&&h.length>2){r.supplier=h.split(",")[0].trim();break}}if(r.supplier)break}if(!r.supplier&&t.length>0){const d=t[0];!n.some(f=>f.test(d))&&!d.toLowerCase().includes("invoice")&&(/\b(ltd|inc|llc|co)\b/i.test(d)||/^[a-zA-Z\s&]+$/.test(d.split(",")[0].trim()))&&(r.supplier=d.split(",")[0].trim())}for(const d of t){for(const f of n){const h=d.match(f);if(h&&h[1]){r.date=h[1];break}}if(r.date)break}let s=[];t.forEach(d=>{for(const f of i)if(d.toLowerCase().includes(f)){const h=d.match(/[\d,]+\.?\d*/g);h&&h.forEach(m=>{s.push({value:parseFloat(m.replace(/,/g,"")),line:d})})}}),s.length>0&&(s.sort((d,f)=>f.value-d.value),r.totalAmount=s[0].value);const o=["description","item","product","service","qty","quantity","price","unit price","amount","subtotal"],c=/([\d,]*\.?\d+)/g;return t.forEach((d,f)=>{const m=d.toLowerCase().split(/\s+/);if(m.filter(y=>o.includes(y)).length/m.length>.4&&m.length<6||/^[\d\s.,$€£\-+()%]+$/.test(d.trim())||d.length<10)return;const g=Array.from(d.matchAll(c));if(g.length>=2){const y=g[g.length-1],b=g[g.length-2],_=y[0].replace(/,/g,""),N=b[0].replace(/,/g,""),E=parseFloat(_),C=parseInt(N,10);if(!isNaN(E)&&!isNaN(C)&&C.toString()===N&&!N.includes(".")){const O=b.index;if(O!==void 0&&O>0){let P=d.substring(0,O).trim().replace(/[.,:;]$/,"").trim();P.length>2&&r.items.push({name:P,quantity:C,price:E})}}}}),r.items.length===0&&t.length>0&&console.warn("OCR parsing (old logic) did not find structured item lines. Raw lines:",t),console.log("Parsed OCR Data (Old Logic - Restored):",r),r},jJe=async()=>{console.log("Attempting to fetch inventory items for select/search...");const{data:e,error:t}=await je.from("inventory_items").select("id, item_name, category, is_batched").order("item_name",{ascending:!0});if(t)throw console.error("Error fetching inventory items for select:",t),new Error(`Failed to fetch inventory items: ${t.message}`);return e?e.map(r=>({value:r.id,label:r.item_name,category:r.category,is_batched:r.is_batched??!1})):(console.warn("No inventory items found for select."),[])},Kse=["application/pdf","image/png","image/jpeg","image/jpg"],Xse=5*1024*1024,$Je=Re.object({quantity_received_now:Re.number().min(1,"Quantity must be at least 1"),batch_number:Re.string().optional(),expiry_date:Re.date().nullable().optional(),invoice_file:Re.custom(e=>e instanceof File||e===null||e===void 0,"Invalid file format").refine(e=>!e||e.size<=Xse,"File size should be less than 5MB.").refine(e=>!e||Kse.includes(e.type),"Only .pdf, .png, .jpg, .jpeg files are accepted.").optional().nullable()}),BJe=({poItem:e,purchaseOrderId:t,poNumber:r,inventoryItemInfo:n,remainingQuantity:a,onReceiveSuccess:i,children:s})=>{const{toast:o}=bn(),{user:c}=di(),[u,d]=S.useState(!1),[f,h]=S.useState(!1),[m,w]=S.useState(!1),[g,y]=S.useState(null),[b,_]=S.useState(null),[N,E]=S.useState([]),[C,O]=S.useState(!1),P=(n==null?void 0:n.is_batched)??!1,M=pd({resolver:md($Je.refine(j=>j.quantity_received_now<=a,{message:`Quantity cannot exceed remaining quantity (${a})`,path:["quantity_received_now"]}).refine(j=>!P||j.batch_number&&j.batch_number.trim()!=="",{message:"Batch number is required for batched items.",path:["batch_number"]}).refine(j=>!P||j.expiry_date,{message:"Expiry date is required for batched items.",path:["expiry_date"]})),defaultValues:{quantity_received_now:a>0?1:0,batch_number:"",expiry_date:null,invoice_file:null}});S.useEffect(()=>{(async()=>{if(u&&N.length===0){O(!0);try{const T=await jJe();E(T.map(I=>({id:I.value,name:I.label})))}catch(T){console.error("Failed to fetch inventory items for search:",T),o({variant:"destructive",title:"Error",description:"Could not load inventory items for matching."})}finally{O(!1)}}})(),u?(M.reset({quantity_received_now:a>0?1:0,batch_number:"",expiry_date:null,invoice_file:null}),y(null),_(null)):m||LJe()},[u,a,M,m,o]);const L=async j=>{if(h(!0),!c||!c.id){o({variant:"destructive",title:"Authentication Error",description:"User ID not found. Cannot record receipt."}),h(!1);return}try{let T=e.unit_price;if(b&&b.items){const B=b.items.find(G=>G.inventoryItemId===e.inventory_item_id);B&&(T=B.price,o({title:"Price Note",description:`Using confirmed invoice price (${T}) for this receipt of "${e.description}".`,duration:4e3}))}await bXe({p_po_item_id:e.id,p_quantity_received:j.quantity_received_now,p_batch_number:j.batch_number||null,p_expiry_date:j.expiry_date?j.expiry_date.toISOString().split("T")[0]:null,p_purchase_price:T,p_received_by_user_id:c.id});let I=null;if(j.invoice_file&&!b){w(!0),o({title:"Processing Invoice",description:"Extracting text from invoice, please wait..."});try{const B=await PH(j.invoice_file),G=TH(B);y(G);const Z=oH(G.items,N),re=G.items.map((W,z)=>{var Y;const U=Z.find(Q=>Q.ocrItemIndex===z);return{...W,inventoryItemId:((Y=U==null?void 0:U.bestMatch)==null?void 0:Y.id.toString())||null,matchDetails:U}});_({...G,items:re}),console.log("OCR Parsed Data:",G),console.log("Fuzzy Matched Items:",re),o({title:"Invoice Processed",description:"Review extracted and matched data below. Confirm to proceed."}),w(!1),h(!1);return}catch(B){console.error("OCR Error or Matching Error:",B),o({variant:"destructive",title:"Processing Failed",description:B.message}),w(!1),h(!1);return}}if(b&&j.invoice_file){console.log("Confirmed OCR Data, attempting to upload invoice and create record:",b),o({title:"Processing Confirmed Invoice",description:"Uploading file and creating invoice record..."});try{const B=await Wse(j.invoice_file,r);let G=null;try{const Z=await Rse(t);Z?G=Z.supplier_id:o({variant:"destructive",title:"Warning",description:"Could not fetch PO details to link supplier to invoice. Supplier will be unlinked."})}catch(Z){console.error("Failed to fetch PO for supplier ID:",Z),o({variant:"destructive",title:"Warning",description:"Error fetching PO details for invoice supplier linking."})}await Vse({file_path:B,purchase_order_id:t,supplier_id:G,invoice_date:b.date?new Date(b.date).toISOString().split("T")[0]:null,total_amount:b.totalAmount,notes:`Invoice uploaded for PO: ${r}. OCR Supplier: ${b.supplier||"N/A"}. OCR Date: ${b.date||"N/A"}. OCR Total: ${b.totalAmount||"N/A"}`}),o({title:"Invoice Saved",description:`Invoice for PO ${r} processed and saved.`})}catch(B){console.error("Failed to upload invoice or create record:",B),o({variant:"destructive",title:"Invoice Processing Failed",description:B.message||"Could not save the invoice details."})}}o({title:"Success",description:`${j.quantity_received_now} units of "${e.description}" received.`}),i(),d(!1)}catch(T){console.error("Failed to receive items or process invoice:",T),o({variant:"destructive",title:"Error Receiving Items",description:(T==null?void 0:T.message)||"An unexpected error occurred while recording received items."})}finally{h(!1)}};return x(Hn,{open:u,onOpenChange:d,children:[l(ib,{asChild:!0,children:s}),x(qn,{className:"sm:max-w-[425px]",children:[x(Jn,{children:[x(Zn,{children:["Receive Item: ",e.description]}),x(ds,{children:["Record quantity received for this item. Ordered: ",e.quantity_ordered,", Received: ",e.quantity_received,", Remaining: ",a,"."]})]}),l(Mh,{...M,children:x("form",{onSubmit:M.handleSubmit(L),className:"space-y-4",children:[l(Ve,{control:M.control,name:"quantity_received_now",render:({field:j})=>x(Ie,{children:[l(De,{children:"Quantity Receiving Now"}),l(Le,{children:l(dt,{type:"number",min:"1",max:a,...j,onChange:T=>j.onChange(parseInt(T.target.value,10)||0)})}),l(et,{})]})}),l(Ve,{control:M.control,name:"invoice_file",render:({field:j})=>x(Ie,{children:[l(De,{children:"Upload Invoice (Optional)"}),l(Le,{children:l(im,{value:j.value,onFileChange:async T=>{if(j.onChange(T),_(null),y(null),T){w(!0),o({title:"Scanning Invoice",description:"Extracting text, please wait..."});try{const I=await PH(T),B=TH(I);y(B);const G=oH(B.items,N),Z=B.items.map((z,U)=>{var Q;const Y=G.find(D=>D.ocrItemIndex===U);return{...z,inventoryItemId:((Q=Y==null?void 0:Y.bestMatch)==null?void 0:Q.id.toString())||null,matchDetails:Y}});_({...B,items:Z});const re=e.inventory_item_id,W=Z.find(z=>z.inventoryItemId===re);if(W&&Z.filter(z=>z.inventoryItemId===re).length===1){const z=W.quantity,U=Math.min(z,a);U>0&&M.getValues("quantity_received_now")!==U&&(M.setValue("quantity_received_now",U,{shouldValidate:!0}),o({title:"Quantity Pre-filled",description:`Quantity for "${e.description}" pre-filled from invoice.`}))}console.log("Live OCR Parsed Data:",B),console.log("Fuzzy Matched Items on change:",Z),o({title:"Invoice Scanned",description:"Review extracted and matched data below."})}catch(I){console.error("OCR Error on change:",I),o({variant:"destructive",title:"OCR Failed",description:I.message}),_(null)}finally{w(!1)}}else _(null),y(null)},accept:Kse.join(","),maxSize:Xse,disabled:m||f})}),l(et,{})]})}),m&&l("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Processing invoice, please wait..."}),b&&!m&&x("div",{className:"space-y-4 p-4 border rounded-md mt-4",children:[l("h4",{className:"text-md font-semibold mb-2",children:"Confirm or Edit Extracted Invoice Data"}),x(Ie,{children:[l(De,{children:"Invoice Supplier"}),l(Le,{children:l(dt,{value:b.supplier||"",onChange:j=>_(T=>T?{...T,supplier:j.target.value}:null),placeholder:"Supplier from invoice"})})]}),x(Ie,{children:[l(De,{children:"Invoice Date"}),l(Le,{children:l(dt,{value:b.date||"",onChange:j=>_(T=>T?{...T,date:j.target.value}:null),placeholder:"Date from invoice (e.g., YYYY-MM-DD)"})})]}),x(Ie,{children:[l(De,{children:"Invoice Total Amount"}),l(Le,{children:l(dt,{type:"number",value:b.totalAmount||"",onChange:j=>_(T=>T?{...T,totalAmount:parseFloat(j.target.value)||void 0}:null),placeholder:"Total amount from invoice"})})]}),x("div",{className:"space-y-2",children:[l(De,{children:"Invoice Items (Matched)"}),C&&l("p",{className:"text-sm text-muted-foreground",children:"Loading inventory for matching..."}),!C&&b.items.map((j,T)=>{var I;return x("div",{className:"p-3 border rounded-md space-y-2 bg-slate-50 dark:bg-slate-800",children:[x(Ie,{children:[l(De,{className:"text-xs",children:"OCR Item Name"}),l(dt,{value:j.name,onChange:B=>{const G=b.items.map((Z,re)=>re===T?{...Z,name:B.target.value}:Z);_(Z=>Z?{...Z,items:G}:null)},placeholder:"Item Name from Invoice",className:"text-sm"})]}),x("div",{className:"grid grid-cols-2 gap-2",children:[x(Ie,{children:[l(De,{className:"text-xs",children:"Qty"}),l(dt,{type:"number",value:j.quantity,onChange:B=>{const G=b.items.map((Z,re)=>re===T?{...Z,quantity:parseInt(B.target.value)||0}:Z);_(Z=>Z?{...Z,items:G}:null)},placeholder:"Qty",className:"text-sm"})]}),x(Ie,{children:[l(De,{className:"text-xs",children:"Price (Unit)"}),l(dt,{type:"number",value:j.price,onChange:B=>{const G=b.items.map((Z,re)=>re===T?{...Z,price:parseFloat(B.target.value)||0}:Z);_(Z=>Z?{...Z,items:G}:null)},placeholder:"Price",className:"text-sm"})]})]}),x(Ie,{children:[l(De,{className:"text-xs",children:"Match to Inventory Item"}),x(Ur,{value:j.inventoryItemId||"",onValueChange:B=>{const G=[...b.items];G[T].inventoryItemId=B==="NO_MATCH"?null:B,_(Z=>Z?{...Z,items:G}:null)},children:[l(jr,{className:"text-sm",children:l(qr,{placeholder:"Select inventory match..."})}),x($r,{children:[((I=j.matchDetails)==null?void 0:I.bestMatch)&&x(mt,{value:j.matchDetails.bestMatch.id.toString(),children:["Best: ",j.matchDetails.bestMatch.name]}),N.filter(B=>{var G,Z;return B.id!==((Z=(G=j.matchDetails)==null?void 0:G.bestMatch)==null?void 0:Z.id)}).map(B=>l(mt,{value:B.id.toString(),children:B.name},B.id)),l(mt,{value:"NO_MATCH",children:"No Match / Manual Entry"})]})]}),j.matchDetails&&j.matchDetails.allMatches.length>1&&!j.inventoryItemId&&x("p",{className:"text-xs text-muted-foreground mt-1",children:["Other possible matches: ",j.matchDetails.allMatches.slice(1,3).map(B=>B.item.name).join(", ")]})]})]},T)}),b.items.length===0&&l("p",{className:"text-xs text-muted-foreground",children:"No items found or parsed from invoice."})]})]}),P&&!b&&x(Nr,{children:[l(Ve,{control:M.control,name:"batch_number",render:({field:j})=>x(Ie,{children:[l(De,{children:"Batch Number"}),l(Le,{children:l(dt,{placeholder:"Enter batch number",...j})}),l(et,{})]})}),l(Ve,{control:M.control,name:"expiry_date",render:({field:j})=>x(Ie,{className:"flex flex-col",children:[l(De,{children:"Expiry Date"}),x(pg,{children:[l(mg,{asChild:!0,children:l(Le,{children:x(Me,{variant:"outline",className:Lt("w-full pl-3 text-left font-normal",!j.value&&"text-muted-foreground"),children:[j.value?new Date(j.value).toLocaleDateString():l("span",{children:"Pick expiry date"}),l(Oi,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),l(bm,{className:"w-auto p-0",align:"start",children:l(_m,{mode:"single",selected:j.value||void 0,onSelect:j.onChange,initialFocus:!0})})]}),l(et,{})]})})]}),x(hs,{children:[l(jN,{asChild:!0,children:l(Me,{type:"button",variant:"outline",disabled:f||m,children:"Cancel"})}),l(Me,{type:"submit",disabled:f||m||a<=0,children:f?"Saving Receipt...":m?"Processing Invoice...":"Confirm Receipt"})]})]})})]})]})},UJe=()=>{var G;const{id:e}=py(),t=Ss(),{toast:r}=bn(),{user:n}=di(),[a,i]=S.useState(null),[s,o]=S.useState([]),[c,u]=S.useState([]),[d,f]=S.useState(!0),[h,m]=S.useState(!1),[w,g]=S.useState(!1),[y,b]=S.useState(!1),[_,N]=S.useState(null),E=S.useCallback(async Z=>{f(!0),N(null);try{const[re,W,z]=await Promise.all([Rse(Z),LM(),tH(Z)]);re?i(re):(N("Purchase order not found."),i(null)),o(W),u(z)}catch(re){console.error(re),N("Failed to fetch purchase order details or related data."),r({variant:"destructive",title:"Error",description:"Could not load purchase order details, items, or invoices."})}finally{f(!1)}},[r]);S.useEffect(()=>{e?E(e):(N("Purchase Order ID is missing."),f(!1))},[e,E]);const C=()=>{e&&(r({title:"Item Received",description:"Refreshing PO details..."}),E(e))},O=async Z=>{var W;const re=(W=Z.target.files)==null?void 0:W[0];if(!re||!e||!(a!=null&&a.po_number)||!(n!=null&&n.id)){r({variant:"destructive",title:"Upload Error",description:"Missing required information for upload."});return}if(!["application/pdf","image/png","image/jpeg"].includes(re.type)){r({variant:"destructive",title:"Invalid File Type",description:"Please upload a PDF, PNG, or JPG file."});return}m(!0);try{await _Xe(e,a.po_number,re,n.id),r({title:"Success",description:`Invoice "${re.name}" uploaded.`});const z=await tH(e);u(z)}catch(z){console.error("Invoice upload failed:",z),r({variant:"destructive",title:"Upload Failed",description:(z==null?void 0:z.message)||"Could not upload invoice."})}finally{m(!1),Z.target.value=""}},P=async()=>{if(!(!e||!a)){g(!0);try{console.log(`Simulating approval for PO ID: ${e}`),i(Z=>Z?{...Z,status:"Approved"}:null),r({title:"PO Approved",description:`Purchase Order ${a.po_number} has been approved.`})}catch(Z){console.error("Failed to approve PO:",Z),r({variant:"destructive",title:"Approval Failed",description:(Z==null?void 0:Z.message)||"Could not approve purchase order."})}finally{g(!1)}}},M=async()=>{if(!(!e||!a)){b(!0);try{await NXe(e,"Ordered"),i(Z=>Z?{...Z,status:"Ordered"}:null),r({title:"PO Confirmed",description:`Purchase Order ${a.po_number} has been marked as Ordered.`})}catch(Z){console.error("Failed to confirm PO:",Z),r({variant:"destructive",title:"Confirmation Failed",description:(Z==null?void 0:Z.message)||"Could not confirm purchase order."})}finally{b(!1)}}},L=async Z=>{try{const re=await SXe(Z.storage_path);re?window.open(re,"_blank"):r({variant:"destructive",title:"Download Error",description:"Could not get download link."})}catch(re){console.error("Download failed:",re),r({variant:"destructive",title:"Download Failed",description:"Could not get download link."})}},j=Z=>{if(!Z)return"outline";switch(Z){case"Pending":return"outline";case"Approved":return"default";case"Ordered":return"secondary";case"Partially Received":return"default";case"Received":return"default";case"Cancelled":return"destructive";default:return"outline"}};if(d)return l("div",{className:"container mx-auto p-4",children:"Loading purchase order details..."});if(_)return x("div",{className:"container mx-auto p-4 text-red-500 flex items-center",children:[l(jl,{className:"mr-2"})," ",_]});if(!a)return l("div",{className:"container mx-auto p-4",children:"Purchase order not found."});const T=a.status==="Ordered"||a.status==="Partially Received",I=a.status==="Pending",B=a.status==="Approved";return x("div",{className:"container mx-auto p-4 space-y-6",children:[l(Fa,{heading:`Purchase Order: ${a.po_number}`,text:`Details for PO from ${a.supplier_name}`}),x(or,{children:[l(wr,{children:l(_r,{children:"Order Summary"})}),x(pr,{className:"grid md:grid-cols-3 gap-4",children:[x("div",{children:[l("span",{className:"font-semibold",children:"PO Number:"})," ",a.po_number]}),x("div",{children:[l("span",{className:"font-semibold",children:"Supplier:"})," ",a.supplier_name]}),x("div",{children:[l("span",{className:"font-semibold",children:"Order Date:"})," ",new Date(a.order_date).toLocaleDateString()]}),x("div",{children:[l("span",{className:"font-semibold",children:"Expected Delivery:"})," ",a.expected_delivery_date?new Date(a.expected_delivery_date).toLocaleDateString():"N/A"]}),x("div",{children:[l("span",{className:"font-semibold",children:"Status:"})," ",l(yc,{variant:j(a.status),className:a.status==="Received"?"bg-green-500 hover:bg-green-600 text-white":"",children:a.status})]}),x("div",{children:[l("span",{className:"font-semibold",children:"Total Amount:"})," ",((G=a.total_amount)==null?void 0:G.toLocaleString("en-IN",{style:"currency",currency:"INR"}))||"N/A"]}),a.notes&&x("div",{className:"md:col-span-3",children:[l("span",{className:"font-semibold",children:"Notes:"})," ",a.notes]})]})]}),l(sm,{}),x(or,{children:[x(wr,{children:[l(_r,{children:"Associated Invoices"}),l(Sc,{children:"Manage invoices related to this purchase order."})]}),x(pr,{className:"space-y-4",children:[c.length>0?l("ul",{className:"list-disc pl-5 space-y-2",children:c.map(Z=>x("li",{className:"flex justify-between items-center",children:[x("span",{children:[Z.file_name," ",x("span",{className:"text-xs text-muted-foreground",children:["(",new Date(Z.uploaded_at).toLocaleString(),")"]})]}),x(Me,{variant:"outline",size:"sm",onClick:()=>L(Z),children:[l(tG,{className:"mr-2 h-4 w-4"})," Download"]})]},Z.id))}):l("p",{className:"text-sm text-muted-foreground",children:"No invoices uploaded yet."}),x("div",{className:"mt-4",children:[l(tr,{htmlFor:"invoice-upload",className:"mb-2 block",children:"Upload New Invoice (PDF, PNG, JPG)"}),l(dt,{id:"invoice-upload",type:"file",accept:".pdf, image/png, image/jpeg",onChange:O,disabled:h||a.status==="Cancelled",className:"max-w-sm"}),h&&x("p",{className:"text-sm text-muted-foreground mt-2 flex items-center",children:[l(Z0,{className:"animate-pulse mr-1 h-4 w-4"})," Uploading..."]})]})]})]}),l(sm,{}),T&&x(or,{children:[x(wr,{children:[l(_r,{children:"Receive Items"}),l(Sc,{children:"Record received quantities for items in this purchase order."})]}),l(pr,{className:"space-y-4",children:a.items.filter(Z=>Z.quantity_ordered-Z.quantity_received>0).length>0?a.items.map(Z=>{const re=Z.quantity_ordered-Z.quantity_received,W=s.find(z=>z.value===Z.inventory_item_id);return re<=0?null:x("div",{className:"flex justify-between items-center p-2 border rounded-md",children:[x("div",{children:[l("p",{className:"font-medium",children:Z.description||Z.product_name}),x("p",{className:"text-sm text-muted-foreground",children:["Ordered: ",Z.quantity_ordered,", Received: ",Z.quantity_received,", Remaining: ",re]})]}),l(BJe,{poItem:Z,purchaseOrderId:a.id,poNumber:a.po_number,inventoryItemInfo:W,remainingQuantity:re,onReceiveSuccess:C,children:x(Me,{variant:"default",size:"sm",className:"bg-blue-500 hover:bg-blue-600 text-white",children:[l(jce,{className:"mr-1 h-4 w-4"})," Receive"]})})]},`receive-${Z.id}`)}):l("p",{className:"text-sm text-muted-foreground",children:"All items have been fully received or no items are pending receipt."})})]}),l(sm,{}),x("div",{className:"mt-8",children:[l(Fa,{heading:"Order Items Summary"}),x(qo,{className:"mt-4",children:[l(zo,{children:x(Dn,{children:[l(Kt,{children:"Item Description"}),l(Kt,{className:"text-right",children:"Ordered"}),l(Kt,{className:"text-right",children:"Received"}),l(Kt,{className:"text-right",children:"Remaining"}),l(Kt,{className:"text-right",children:"Unit Price"}),l(Kt,{className:"text-right",children:"Subtotal"})]})}),l(Wo,{children:a.items.map(Z=>{const re=Z.quantity_ordered-Z.quantity_received;return x(Dn,{children:[l(zt,{children:Z.description||Z.product_name}),l(zt,{className:"text-right",children:Z.quantity_ordered}),l(zt,{className:"text-right",children:Z.quantity_received}),l(zt,{className:"text-right font-medium",children:re}),l(zt,{className:"text-right",children:Z.unit_price.toLocaleString("en-IN",{style:"currency",currency:"INR"})}),l(zt,{className:"text-right",children:Z.subtotal.toLocaleString("en-IN",{style:"currency",currency:"INR"})})]},Z.id)})})]})]}),x("div",{className:"flex justify-between items-center mt-6",children:[x("div",{children:[" ",I&&x(Me,{onClick:P,disabled:w||d,variant:"default",className:"bg-green-500 hover:bg-green-600 text-white",children:[l(px,{className:"mr-2 h-4 w-4"}),w?"Approving...":"Approve Order"]}),B&&x(Me,{onClick:M,disabled:y||d,variant:"default",children:[l(Wce,{className:"mr-2 h-4 w-4"}),y?"Confirming...":"Confirm & Mark Ordered"]})]}),l(Me,{variant:"outline",onClick:()=>t("/purchases"),children:"Back to Purchase Orders"})]})]})},qJe=async(e,t)=>{if(!e)throw new Error("No file provided for upload.");const r=e.name.split(".").pop(),n=`${jw()}.${r}`,i=`${t?`urgent_purchase_slips/${t}`:"urgent_purchase_slips"}/${n}`,{error:s}=await je.storage.from("urgent-purchase-slip").upload(i,e);if(s)throw console.error("Error uploading urgent purchase slip:",s),s;return{filePath:i,fileName:e.name}},OH=async e=>{const{data:t,error:r}=await je.from("urgent_purchases").insert(e.header).select().single();if(r||!t)throw console.error("Error creating urgent purchase header:",r),r||new Error("Failed to create urgent purchase header.");const n=t;if(e.items&&e.items.length>0){const a=e.items.map(s=>({...s,urgent_purchase_id:n.id})),{error:i}=await je.from("urgent_purchase_items").insert(a);if(i)throw console.error("Error creating urgent purchase items:",i),await je.from("urgent_purchases").delete().match({id:n.id}),i}return{...n,items:(e.items||[]).map(a=>({...a,id:jw(),urgent_purchase_id:n.id}))}},DH=async(e,t)=>{const{data:r,error:n}=await je.from("urgent_purchases").select("requested_by_user_id, status").eq("id",e).single();if(n||!r)throw console.error("Error fetching urgent purchase for submission:",n),n||new Error("Urgent purchase not found for submission.");const a=r;if(a.requested_by_user_id!==t)throw new Error("User not authorized to submit this purchase for approval.");if(a.status!=="draft")throw new Error(`Urgent purchase is not in draft state (current: ${a.status}).`);const{data:i,error:s}=await je.from("urgent_purchases").update({status:"pending_approval",updated_at:new Date().toISOString()}).eq("id",e).select().single();if(s||!i)throw console.error("Error submitting urgent purchase for approval:",s),s||new Error("Failed to submit urgent purchase for approval.");return i},zJe=async(e,t,r)=>{const{data:n,error:a}=await je.from("urgent_purchases").update({status:"approved",reviewed_by_user_id:t,reviewed_at:new Date().toISOString(),reviewer_notes:r,updated_at:new Date().toISOString()}).eq("id",e).eq("status","pending_approval").select().single();if(a||!n)throw console.error("Error approving urgent purchase:",a),a||new Error("Failed to approve urgent purchase or not found/not pending.");const i=n;return await VJe(i.id,t),i},WJe=async(e,t,r)=>{if(!r||r.trim()==="")throw new Error("Reviewer notes are required for rejecting an urgent purchase.");const{data:n,error:a}=await je.from("urgent_purchases").update({status:"rejected",reviewed_by_user_id:t,reviewed_at:new Date().toISOString(),reviewer_notes:r,updated_at:new Date().toISOString()}).eq("id",e).eq("status","pending_approval").select().single();if(a||!n)throw console.error("Error rejecting urgent purchase:",a),a||new Error("Failed to reject urgent purchase or not found/not pending.");return n},VJe=async(e,t)=>{const{data:r,error:n}=await je.from("urgent_purchases").select(`
      *,
      urgent_purchase_items (*)
    `).eq("id",e).eq("status","approved").single();if(n||!r)throw console.error(`Error fetching approved urgent purchase ${e} for item processing:`,n),n||new Error("Approved urgent purchase not found or not in correct state for item processing.");const a=r;if(!a.urgent_purchase_items||a.urgent_purchase_items.length===0){console.log(`No items to process for urgent purchase ${e}.`);return}const i=a.urgent_purchase_items;for(const s of i){let o=null,c;const{data:u,error:d}=await je.from("inventory_items").select("is_batched").eq("id",s.inventory_item_id).single();if(d||!u)throw console.error(`Inventory item ${s.inventory_item_id} not found for urgent purchase item ${s.id}`),d||new Error(`Inventory item ${s.inventory_item_id} not found.`);if(u.is_batched&&s.batch_number){c="BATCH_STOCK_IN";const{data:m,error:w}=await je.from("inventory_item_batches").select("id").eq("inventory_item_id",s.inventory_item_id).eq("batch_number",s.batch_number).maybeSingle();if(w)throw console.error("Error fetching batch:",w),w;const g=m;if(g)o=g.id;else{const y={inventory_item_id:s.inventory_item_id,batch_number:s.batch_number,expiry_date:s.expiry_date||null,quantity_on_hand:0,purchase_price_at_receipt:0},{data:b,error:_}=await je.from("inventory_item_batches").insert(y).select("id").single();if(_||!b)throw console.error("Error creating new batch:",_),_||new Error("Failed to create new batch.");o=b.id}}else c="add";const{error:h}=await je.rpc("adjust_inventory_item_quantity",{p_inventory_item_id:s.inventory_item_id,p_quantity_change:s.quantity,p_change_type:c,p_user_id:t,p_notes:`Urgent purchase approved: ${a.id}. Slip: ${a.slip_filename||"N/A"}`,p_inventory_item_batch_id:o===null?void 0:o});if(h)throw console.error(`Error adjusting inventory for item ${s.inventory_item_id}:`,h),await je.from("urgent_purchases").update({status:"rejected",reviewer_notes:`Item processing failed: ${h.message}`}).eq("id",e),h}console.log(`Successfully processed items for approved urgent purchase ${e}`)},HJe=async e=>{const{data:t,error:r}=await je.from("urgent_purchases").select(`
      id,
      slip_image_path,
      slip_filename,
      invoice_delivery_date,
      status,
      confidence_score,
      notes,
      requested_by_user_id,
      requested_at,
      reviewed_by_user_id,
      reviewed_at,
      reviewer_notes,
      updated_at,
      urgent_purchase_items (*)
    `).eq("id",e).single();if(r){if(console.error(`Error fetching urgent purchase ${e}:`,r),r.code==="PGRST116")return null;throw r}if(!t)return null;const n=t;return{...n,items:n.urgent_purchase_items||[]}},gA=async e=>{let t=je.from("urgent_purchases").select(`
      id,
      slip_filename,
      invoice_delivery_date,
      status,
      requested_by_user_id,
      requested_at,
      updated_at,
      target_approval_role,
      reviewed_by_user_id,
      reviewed_at,
      reviewer_notes
    `).order("updated_at",{ascending:!1});e!=null&&e.status&&(t=t.eq("status",e.status)),e!=null&&e.requested_by_user_id&&(t=t.eq("requested_by_user_id",e.requested_by_user_id));const{data:r,error:n}=await t;if(n)throw console.error("Error fetching urgent purchases list:",n),n;return(r||[]).map(i=>({...i,items:[]}))},GJe=({onFileSelect:e,processing:t=!1,className:r})=>{const[n,a]=S.useState(null),[i,s]=S.useState(null);return x("div",{className:r,children:[l(im,{onFileChange:u=>{a(u),e(u),u?(i&&URL.revokeObjectURL(i),s(URL.createObjectURL(u))):(i&&URL.revokeObjectURL(i),s(null))},accept:"image/jpeg, image/png, image/webp, application/pdf",maxSize:10,uploading:t,value:n,preview:i||void 0,onRemove:()=>{a(null),e(null),i&&URL.revokeObjectURL(i),s(null)},id:"urgent-purchase-slip-upload"}),n&&!t&&x(ld,{className:"mt-4",children:[l(cF,{className:"h-4 w-4"}),l(cd,{children:"File Ready"}),x(ud,{children:["Selected: ",n.name," (",(n.size/1024/1024).toFixed(2)," MB). Ready for processing."]})]}),t&&x(ld,{className:"mt-4",children:[l(cF,{className:"h-4 w-4"}),l(cd,{children:"Processing..."}),l(ud,{children:"The slip is being uploaded and analyzed. Please wait."})]})]})},IH="__NO_MATCH_VALUE__",YJe=Re.object({inventory_item_id:Re.string().min(1,"Item selection is required."),quantity:Re.number().min(1,"Quantity must be at least 1."),batch_number:Re.string().optional().nullable(),expiry_date:Re.date().optional().nullable()}),KJe=["admin","owner","doctor"],XJe=Re.object({items:Re.array(YJe).min(1,"At least one item is required."),invoice_delivery_date:Re.date().optional().nullable(),notes:Re.string().optional().nullable(),target_approval_role:Re.string().min(1,"Target approval role is required.")}),JJe=({onClose:e,onSuccess:t})=>{const{toast:r}=bn(),{user:n}=di(),[a,i]=S.useState("slip_upload"),[s,o]=S.useState(null),[c,u]=S.useState(!1),[d,f]=S.useState(null),[h,m]=S.useState([]),[w,g]=S.useState(""),[y,b]=S.useState([]),[_,N]=S.useState([]),[E,C]=S.useState(!1),O=KJe.filter(W=>W!==(n==null?void 0:n.role)),P=pd({resolver:md(XJe),defaultValues:{items:[{inventory_item_id:"",quantity:1,batch_number:"",expiry_date:null}],invoice_delivery_date:new Date,notes:"",target_approval_role:""}}),{fields:M,append:L,remove:j}=jS({control:P.control,name:"items"});S.useEffect(()=>{(async()=>{try{const z=await LM();b(z),N(z.map(U=>({id:U.value,name:U.label,item_code:U.item_code})))}catch{r({variant:"destructive",title:"Error",description:"Could not load inventory items."})}})()},[r]);const T=W=>new Promise((z,U)=>{const Y=new FileReader;Y.onload=()=>z(Y.result),Y.onerror=Q=>U(Q),Y.readAsDataURL(W)}),I=async W=>{if(o(W),f(null),m([]),W){u(!0);try{const z=await T(W),{data:U,error:Y}=await je.functions.invoke("ocr-slip-parser",{body:{image_data_urls:[z],file_type:W.type}});if(Y)throw Y;const Q=U;let D=0,K=0;const J=Q.items.map(oe=>{const{bestMatch:ue,bestMatchScore:V}=g4(oe.slip_text,_);let se;return ue&&typeof V=="number"?(se=1-V,se=Math.max(0,Math.min(1,se)),D+=se,K++):ue?(se=.75,D+=se,K++):se=.1,{...oe,matched_item_id:(ue==null?void 0:ue.id)||null,matched_item_name:(ue==null?void 0:ue.name)||null,confidence:se}}),ne=K>0?D/K:Q.overall_confidence||0,ie={...Q,items:J,overall_confidence:ne};f(ie),m(ie.items.map(oe=>({...oe}))),r({title:"Slip Processed by Server",description:"Review the extracted items below."})}catch(z){console.error("Error processing slip with Edge Function:",z),r({variant:"destructive",title:"Processing Error",description:z.message||"Failed to process slip using server function."})}finally{u(!1)}}},B=(W,z,U)=>{const Y=[...h];if(z==="matched_item_id")if(U===IH||U==="")Y[W][z]=null,Y[W].matched_item_name=null;else{Y[W][z]=U;const Q=_.find(D=>D.id===U);Y[W].matched_item_name=(Q==null?void 0:Q.name)||null}else Y[W][z]=U;m(Y)},G=W=>{m(z=>z.filter((U,Y)=>Y!==W))},Z=async()=>{if(!n||!n.id){r({variant:"destructive",title:"Authentication Error",description:"User not logged in."});return}if(!d||h.length===0){r({variant:"destructive",title:"No Data",description:"No items to submit."});return}if(!w){r({variant:"destructive",title:"Validation Error",description:"Please select a target approval role."});return}C(!0);try{let W,z;if(s){const Q=await qJe(s,n.id);W=Q.filePath,z=Q.fileName}const U={header:{slip_image_path:W||null,slip_filename:z||null,invoice_delivery_date:d.invoice_delivery_date?d.invoice_delivery_date:null,status:"draft",confidence_score:d.overall_confidence,notes:`Urgent purchase via slip upload. OCR Confidence: ${((d.overall_confidence||0)*100).toFixed(0)}%`,requested_by_user_id:n.id,target_approval_role:w},items:h.filter(Q=>Q.matched_item_id&&(Q.quantity||0)>0).map(Q=>({inventory_item_id:Q.matched_item_id,slip_text:Q.slip_text,matched_item_name:Q.matched_item_name||"Unknown Item",quantity:Q.quantity||0,batch_number:Q.batch_number||null,expiry_date:Q.expiry_date||null}))};if(U.items.length===0){r({variant:"destructive",title:"No Valid Items",description:"No items with matched inventory ID and quantity > 0."}),C(!1);return}const Y=await OH(U);if(Y&&Y.id)await DH(Y.id,n.id),r({title:"Urgent Purchase Submitted",description:`Request ID: ${Y.id} submitted for approval.`}),t();else throw new Error("Failed to get ID from created entry for submission.")}catch(W){r({variant:"destructive",title:"Submission Error",description:W.message||"Failed to submit urgent purchase for approval."})}finally{C(!1)}},re=async W=>{if(!n||!n.id){r({variant:"destructive",title:"Authentication Error",description:"User not logged in."});return}C(!0);try{const z={header:{invoice_delivery_date:W.invoice_delivery_date?W.invoice_delivery_date.toISOString().split("T")[0]:null,status:"draft",notes:W.notes||"Urgent purchase via Quick Entry.",requested_by_user_id:n.id,confidence_score:null,target_approval_role:W.target_approval_role},items:W.items.map(Y=>{const Q=_.find(D=>D.id===Y.inventory_item_id);return{inventory_item_id:Y.inventory_item_id,matched_item_name:(Q==null?void 0:Q.name)||"Unknown Item",quantity:Y.quantity,batch_number:Y.batch_number||null,expiry_date:Y.expiry_date?Y.expiry_date.toISOString().split("T")[0]:null,slip_text:`Quick Entry: ${Q==null?void 0:Q.name}`}})},U=await OH(z);if(U&&U.id)await DH(U.id,n.id),r({title:"Quick Entry Submitted",description:`Request ID: ${U.id} submitted for approval.`}),P.reset(),t();else throw new Error("Failed to get ID from created quick entry for submission.")}catch(z){r({variant:"destructive",title:"Quick Entry Error",description:z.message||"Failed to submit quick entry for approval."})}finally{C(!1)}};return x(jm,{value:a,onValueChange:W=>i(W),className:"w-full",children:[x(Rh,{className:"grid w-full grid-cols-2",children:[l(Oa,{value:"slip_upload",children:"Upload Slip/Invoice"}),l(Oa,{value:"quick_entry",children:"Quick Manual Entry"})]}),l(_a,{value:"slip_upload",children:x(or,{className:"border-0 shadow-none",children:[x(wr,{children:[l(_r,{children:"Upload Delivery Slip or Invoice"}),l(Sc,{children:"Upload an image (PNG, JPG). PDF support requires server-side OCR."})]}),x(pr,{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2",children:[" ",l(GJe,{onFileSelect:I,processing:c}),c&&x("div",{className:"flex items-center text-muted-foreground",children:[l(Fn,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing slip..."]}),d&&!c&&x("div",{className:"mt-4",children:[l(tr,{htmlFor:"targetRoleSlip",children:"Send Approval To*"}),x(Ur,{value:w,onValueChange:g,children:[l(jr,{id:"targetRoleSlip",children:l(qr,{placeholder:"Select role for approval..."})}),l($r,{children:O.map(W=>l(mt,{value:W,children:W.charAt(0).toUpperCase()+W.slice(1)},W))})]}),!w&&E&&l("p",{className:"text-xs text-destructive mt-1",children:"Target approval role is required."})]}),d&&h.length>0&&!c&&x("div",{className:"space-y-3 mt-4",children:[x("h3",{className:"text-md font-semibold",children:["Review Extracted Items (Confidence: ",((d.overall_confidence||0)*100).toFixed(0),"%)"]}),d.invoice_delivery_date&&x("p",{className:"text-sm",children:["Detected Invoice/Delivery Date: ",d.invoice_delivery_date]}),h.map((W,z)=>l(or,{className:"p-3 space-y-2 bg-muted/50 border",children:x("div",{className:"grid grid-cols-6 gap-3 items-end",children:[x("div",{className:"col-span-6 sm:col-span-3 md:col-span-2",children:[l(tr,{htmlFor:`ocr-item-name-${z}`,className:"text-xs",children:"Slip Text"}),l(dt,{id:`ocr-item-name-${z}`,value:W.slip_text||"",onChange:U=>B(z,"slip_text",U.target.value),className:"h-8 text-sm"})]}),x("div",{className:"col-span-6 sm:col-span-3 md:col-span-2",children:[l(tr,{htmlFor:`ocr-item-inventory-${z}`,className:"text-xs",children:"Matched Item"}),x(Ur,{value:W.matched_item_id||"",onValueChange:U=>B(z,"matched_item_id",U),children:[l(jr,{className:"h-8 text-sm",children:l(qr,{placeholder:"Select item..."})}),x($r,{children:[l(mt,{value:IH,className:"text-sm",children:l("em",{children:"No Match / Clear Selection"})}),y.map(U=>x(mt,{value:U.value,className:"text-sm",children:[U.label," ",U.item_code?`(${U.item_code})`:""]},U.value))]})]}),W.confidence!==void 0&&W.confidence!==null&&x("p",{className:"text-xs mt-1",children:["Match Confidence: ",((W.confidence||0)*100).toFixed(0),"%"]})]}),x("div",{className:"col-span-3 sm:col-span-2 md:col-span-1",children:[l(tr,{htmlFor:`ocr-item-qty-${z}`,className:"text-xs",children:"Quantity"}),l(dt,{id:`ocr-item-qty-${z}`,type:"number",value:W.quantity||0,onChange:U=>B(z,"quantity",parseInt(U.target.value)||0),className:"h-8 text-sm"})]}),x("div",{className:"col-span-3 sm:col-span-2 md:col-span-1",children:[l(tr,{htmlFor:`ocr-item-batch-${z}`,className:"text-xs",children:"Batch No."}),l(dt,{id:`ocr-item-batch-${z}`,value:W.batch_number||"",onChange:U=>B(z,"batch_number",U.target.value),className:"h-8 text-sm"})]}),x("div",{className:"col-span-3 sm:col-span-2 md:col-span-1",children:[l(tr,{htmlFor:`ocr-item-expiry-${z}`,className:"text-xs",children:"Expiry Date"}),l(dt,{id:`ocr-item-expiry-${z}`,type:"date",placeholder:"YYYY-MM-DD",value:W.expiry_date||"",onChange:U=>B(z,"expiry_date",U.target.value),className:"h-8 text-sm"})]}),l("div",{className:"col-span-3 sm:col-span-2 md:col-span-1 flex items-end justify-end",children:l(Me,{variant:"ghost",size:"icon",onClick:()=>G(z),className:"text-destructive h-8 w-8",children:l(lm,{className:"h-4 w-4"})})})]})},z))]})]}),x("div",{className:"flex justify-end space-x-2 p-4 border-t",children:[l(Me,{variant:"outline",onClick:e,children:"Cancel"}),x(Me,{onClick:Z,disabled:c||E||!d||h.length===0,children:[E?l(Fn,{className:"mr-2 h-4 w-4 animate-spin"}):l(px,{className:"mr-2 h-4 w-4"}),"Submit for Approval"]})]})]})}),l(_a,{value:"quick_entry",children:x(or,{className:"border-0 shadow-none",children:[x(wr,{children:[l(_r,{children:"Quick Manual Entry"}),l(Sc,{children:"Manually add items to stock."})]}),x("form",{onSubmit:P.handleSubmit(re),children:[x(pr,{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2",children:[x("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x("div",{children:[l(tr,{htmlFor:"target_approval_role_quick",children:"Send Approval To*"}),l(Wp,{name:"target_approval_role",control:P.control,render:({field:W,fieldState:z})=>x(Nr,{children:[x(Ur,{onValueChange:W.onChange,defaultValue:W.value,children:[l(jr,{id:"target_approval_role_quick",children:l(qr,{placeholder:"Select role..."})}),l($r,{children:O.map(U=>l(mt,{value:U,children:U.charAt(0).toUpperCase()+U.slice(1)},U))})]}),z.error&&l("p",{className:"text-xs text-destructive mt-1",children:z.error.message})]})})]}),x("div",{children:[l(tr,{htmlFor:"quick-invoice-date",children:"Invoice/Delivery Date (Optional)"}),l(Wp,{name:"invoice_delivery_date",control:P.control,render:({field:W})=>l(dt,{type:"date",value:W.value?new Date(W.value).toISOString().split("T")[0]:"",onChange:z=>W.onChange(z.target.value?new Date(z.target.value):null),className:"h-9"})})]}),x("div",{children:[l(tr,{htmlFor:"quick-notes",children:"Notes (Optional)"}),l(un,{id:"quick-notes",...P.register("notes")})]})]}),l("h4",{className:"text-md font-semibold pt-4",children:"Items"}),M.map((W,z)=>l(or,{className:"p-3 space-y-2 bg-muted/50",children:x("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-3 items-end",children:[x("div",{className:"sm:col-span-2 md:col-span-2",children:[l(tr,{htmlFor:`qitem-inventory-${z}`,className:"text-xs",children:"Inventory Item*"}),l(Wp,{name:`items.${z}.inventory_item_id`,control:P.control,render:({field:U,fieldState:Y})=>x(Nr,{children:[x(Ur,{value:U.value||"",onValueChange:U.onChange,children:[l(jr,{className:"h-8 text-sm",children:l(qr,{placeholder:"Select item..."})}),l($r,{children:y.map(Q=>x(mt,{value:Q.value,className:"text-sm",children:[Q.label," ",Q.item_code?`(${Q.item_code})`:""]},Q.value))})]}),Y.error&&l("p",{className:"text-xs text-destructive mt-1",children:Y.error.message})]})})]}),x("div",{children:[l(tr,{htmlFor:`qitem-qty-${z}`,className:"text-xs",children:"Quantity*"}),l(Wp,{name:`items.${z}.quantity`,control:P.control,render:({field:U,fieldState:Y})=>x(Nr,{children:[l(dt,{id:`qitem-qty-${z}`,type:"number",value:U.value||0,onChange:Q=>U.onChange(parseInt(Q.target.value,10)||0),className:"h-8 text-sm"}),Y.error&&l("p",{className:"text-xs text-destructive mt-1",children:Y.error.message})]})})]}),x("div",{children:[l(tr,{htmlFor:`qitem-batch-${z}`,className:"text-xs",children:"Batch No."}),l(Wp,{name:`items.${z}.batch_number`,control:P.control,render:({field:U})=>l(dt,{id:`qitem-batch-${z}`,...U,value:U.value||"",className:"h-8 text-sm"})})]}),x("div",{children:[l(tr,{htmlFor:`qitem-expiry-${z}`,className:"text-xs",children:"Expiry Date"}),l(Wp,{name:`items.${z}.expiry_date`,control:P.control,render:({field:U})=>l(dt,{type:"date",value:U.value?new Date(U.value).toISOString().split("T")[0]:"",onChange:Y=>U.onChange(Y.target.value?new Date(Y.target.value):null),className:"h-8 text-sm"})})]}),l("div",{className:"flex items-center justify-end",children:M.length>1&&l(Me,{type:"button",variant:"ghost",size:"icon",onClick:()=>j(z),className:"text-destructive h-8 w-8",children:l(lm,{className:"h-4 w-4"})})})]})},W.id)),x(Me,{type:"button",variant:"outline",size:"sm",onClick:()=>L({inventory_item_id:"",quantity:1,batch_number:"",expiry_date:null}),children:[l(Ch,{className:"mr-2 h-4 w-4"})," Add Item"]})]}),x("div",{className:"flex justify-end space-x-2 p-4 border-t",children:[l(Me,{variant:"outline",onClick:e,children:"Cancel"}),x(Me,{type:"submit",disabled:E,children:[E?l(Fn,{className:"mr-2 h-4 w-4 animate-spin"}):l(px,{className:"mr-2 h-4 w-4"}),"Submit for Approval"]})]})]})]})})]})},ZJe=()=>{const{toast:e}=bn(),[t,r]=S.useState([]),[n,a]=S.useState(!1),[i,s]=S.useState(!1),o=async()=>{a(!0);try{const f=await gA();r(f)}catch(f){e({variant:"destructive",title:"Error fetching urgent purchases",description:f.message||"Could not load urgent purchase entries."})}finally{a(!1)}};S.useEffect(()=>{o()},[e]);const c=()=>{s(!1),o()},u=f=>{switch(f){case"approved":return"default";case"pending_approval":return"secondary";case"rejected":return"destructive";case"draft":return"outline";default:return"outline"}},d=f=>{if(!f)return!1;const h=new Date(f);return!isNaN(h.getTime())};return x("div",{className:"container mx-auto p-4",children:[l(Fa,{heading:"Urgent Purchase Entry",text:"Create or view history of urgent stock entries made without a PO.",children:x("div",{className:"flex gap-2",children:[x(Hn,{open:i,onOpenChange:s,children:[l(ib,{asChild:!0,children:x(Me,{children:[l(Ch,{className:"mr-2 h-4 w-4"})," Create New Urgent Entry"]})}),x(qn,{className:"sm:max-w-[80vw] md:max-w-[70vw] lg:max-w-[60vw] xl:max-w-[50vw]",children:[" ",x(Jn,{children:[l(Zn,{children:"Create Urgent Purchase Entry"}),x(ds,{children:[" ","Upload a slip/invoice image for OCR processing or use the Quick Manual Entry tab."]})]}),l(JJe,{onClose:()=>s(!1),onSuccess:c})]})]}),l(Me,{variant:"outline",asChild:!0,children:l(Ki,{to:"/purchases/urgent/history",children:"View Modification History"})}),l(Me,{variant:"outline",asChild:!0,children:l(Ki,{to:"/purchases/urgent/my-requests",children:"View My Requests"})})]})}),n?l("div",{className:"flex justify-center items-center py-10",children:l(Fn,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):l(or,{className:"mt-6",children:x(pr,{className:"p-0",children:[" ",x(qo,{children:[l(zo,{children:x(Dn,{children:[l(Kt,{children:"Delivery Date"}),l(Kt,{children:"Status"}),l(Kt,{children:"Slip Filename"}),l(Kt,{children:"Requested At"}),l(Kt,{children:"Updated At"}),l(Kt,{children:"Actions"})]})}),l(Wo,{children:t.length===0?l(Dn,{children:l(zt,{colSpan:6,className:"text-center text-muted-foreground py-10",children:"No urgent purchase entries found."})}):t.map(f=>x(Dn,{children:[l(zt,{children:d(f.invoice_delivery_date)?Rt(new Date(f.invoice_delivery_date),"PP"):"N/A"}),l(zt,{children:l(yc,{variant:u(f.status),children:f.status.replace("_"," ").replace(/\b\w/g,h=>h.toUpperCase())})}),l(zt,{children:f.slip_filename||"N/A (Quick Entry)"}),l(zt,{children:d(f.requested_at)?Rt(new Date(f.requested_at),"PPpp"):"N/A"}),l(zt,{children:d(f.updated_at)?Rt(new Date(f.updated_at),"PPpp"):"N/A"}),l(zt,{children:l(Me,{variant:"outline",size:"sm",asChild:!0,children:x(Ki,{to:`/purchases/urgent/${f.id}`,children:[l($w,{className:"mr-2 h-4 w-4"})," View Details"]})})})]},f.id))})]})]})})]})},QJe=()=>{const{id:e}=py(),{toast:t}=bn(),[r,n]=S.useState(null),[a,i]=S.useState(!1),[s,o]=S.useState(null);S.useEffect(()=>{const u=/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/;(async()=>{if(!e||!u.test(e)){o("Invalid or no purchase ID provided."),i(!1);return}i(!0),o(null);try{const f=await HJe(e);f?n(f):(o("Urgent purchase entry not found."),t({variant:"destructive",title:"Not Found",description:`Urgent purchase with ID ${e} not found.`}))}catch(f){o("Failed to load purchase details."),t({variant:"destructive",title:"Error",description:f.message||"Could not load urgent purchase details."})}finally{i(!1)}})()},[e,t]);const c=u=>{switch(u){case"Auto-Confirmed":case"Manually Confirmed":return"default";case"Pending Review":return"secondary";case"Rejected":case"ProcessingError":return"destructive";default:return"outline"}};return a?l("div",{className:"flex justify-center items-center py-10",children:l(Fn,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):s?x("div",{className:"container mx-auto p-4 text-center text-destructive",children:[l("p",{children:s}),l(Me,{variant:"link",asChild:!0,className:"mt-4",children:x(Ki,{to:"/purchases/urgent",children:[" ",l(_5,{className:"mr-2 h-4 w-4"})," Back to Log"]})})]}):r?x("div",{className:"container mx-auto p-4 space-y-6",children:[l(Fa,{heading:"Urgent Purchase Details",text:r.requested_at?`Details for entry created on ${Rt(new Date(r.requested_at),"PPp")}`:"Details for entry",children:l(Me,{variant:"outline",asChild:!0,children:x(Ki,{to:"/purchases/urgent",children:[" ",l(_5,{className:"mr-2 h-4 w-4"})," Back to Log"]})})}),x(or,{children:[l(wr,{children:l(_r,{children:"Summary"})}),x(pr,{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[x("div",{children:[l("strong",{children:"ID:"})," ",r.id]}),x("div",{children:[l("strong",{children:"Status:"})," ",l(yc,{variant:c(r.status),children:r.status})]}),x("div",{children:[l("strong",{children:"Invoice/Delivery Date:"})," ",r.invoice_delivery_date?Rt(new Date(r.invoice_delivery_date),"PP"):"N/A"]}),x("div",{children:[l("strong",{children:"Slip Filename:"})," ",r.slip_filename||"N/A"]}),x("div",{children:[l("strong",{children:"OCR Confidence:"}),r.confidence_score!==null&&r.confidence_score!==void 0?` ${(r.confidence_score*100).toFixed(0)}%`:" N/A"]}),x("div",{children:[l("strong",{children:"Requested By:"})," ",r.requested_by_user_id||"Unknown"]}),x("div",{className:"md:col-span-3",children:[l("strong",{children:"Notes:"})," ",r.notes||"N/A"]})]})]}),x(or,{children:[l(wr,{children:l(_r,{children:"Items Received"})}),l(pr,{children:x(qo,{children:[l(zo,{children:x(Dn,{children:[l(Kt,{children:"Matched Item"}),l(Kt,{children:"Slip Text"}),l(Kt,{children:"Quantity"}),l(Kt,{children:"Batch No."}),l(Kt,{children:"Expiry Date"})]})}),l(Wo,{children:r.items.length===0?l(Dn,{children:l(zt,{colSpan:5,className:"text-center text-muted-foreground py-10",children:"No items found for this entry."})}):r.items.map(u=>x(Dn,{children:[l(zt,{children:u.matched_item_name}),l(zt,{children:u.slip_text||"N/A"}),l(zt,{children:u.quantity}),l(zt,{children:u.batch_number||"N/A"}),l(zt,{children:u.expiry_date?Rt(new Date(u.expiry_date),"PP"):"N/A"})]},u.id))})]})})]})]}):l("div",{className:"container mx-auto p-4 text-center",children:"Urgent purchase not found."})},RH=e=>{if(!e)return!1;const t=new Date(e);return!isNaN(t.getTime())},eZe=()=>{const{user:e}=di(),{toast:t}=bn(),r=Ss(),[n,a]=S.useState([]),[i,s]=S.useState(!0),o=S.useCallback(async()=>{s(!0);try{const d=await gA();a(d)}catch(d){console.error("Error fetching urgent purchase history:",d),t({variant:"destructive",title:"Error",description:"Could not load urgent purchase history."})}finally{s(!1)}},[t]);S.useEffect(()=>{o()},[o]);const c=d=>{r(`/purchases/urgent/${d}`)},u=d=>d?d.substring(0,8)+"...":"N/A";return x("div",{className:"container mx-auto p-4 md:p-6",children:[l(Fa,{heading:"Urgent Purchase Modification History",text:"View the history and status of all urgent purchase entries.",children:l(Me,{variant:"outline",asChild:!0,children:x(Ki,{to:"/purchases/urgent",children:[l(_5,{className:"mr-2 h-4 w-4"})," Back to Urgent Purchases"]})})}),l("div",{className:"mt-6",children:i?l("p",{children:"Loading history..."}):n.length===0?x(or,{children:[l(wr,{children:l(_r,{children:"No Urgent Purchase History Found"})}),l(pr,{children:l("p",{children:"There are no urgent purchase entries in the system yet."})})]}):x(or,{children:[x(wr,{children:[l(_r,{children:"Urgent Purchase History"}),x(Sc,{children:[n.length," record(s) found."]})]}),l(pr,{children:x(qo,{children:[l(zo,{children:x(Dn,{children:[l(Kt,{children:"Request ID / Slip"}),l(Kt,{children:"Status"}),l(Kt,{children:"Requested By"}),l(Kt,{children:"Requested At"}),l(Kt,{children:"Reviewed By"}),l(Kt,{children:"Reviewed At"}),l(Kt,{children:"Reviewer Notes"}),l(Kt,{className:"text-right",children:"Actions"})]})}),l(Wo,{children:n.map(d=>x(Dn,{children:[l(zt,{children:d.slip_filename||d.id.substring(0,8)+"..."}),l(zt,{children:l(yc,{variant:d.status==="approved"?"default":d.status==="rejected"?"destructive":d.status==="pending_approval"?"outline":(d.status==="draft","secondary"),className:d.status==="approved"?"bg-green-100 text-green-700 border-green-300":d.status==="rejected"?"bg-red-100 text-red-700 border-red-300":d.status==="pending_approval"?"bg-yellow-100 text-yellow-700 border-yellow-300":"",children:d.status?d.status.replace(/_/g," ").replace(/\b\w/g,f=>f.toUpperCase()):"N/A"})}),l(zt,{children:u(d.requested_by_user_id)}),l(zt,{children:RH(d.requested_at)?Rt(new Date(d.requested_at),"PPp"):"N/A"}),l(zt,{children:u(d.reviewed_by_user_id)}),l(zt,{children:RH(d.reviewed_at)?Rt(new Date(d.reviewed_at),"PPp"):"N/A"}),l(zt,{className:"max-w-xs truncate",title:d.reviewer_notes||void 0,children:d.reviewer_notes||"N/A"}),l(zt,{className:"text-right",children:x(Me,{variant:"outline",size:"sm",onClick:()=>c(d.id),children:[l($w,{className:"mr-1 h-4 w-4"})," View"]})})]},d.id))})]})})]})})]})},MH=e=>{if(!e)return!1;const t=new Date(e);return!isNaN(t.getTime())},tZe=()=>{const{user:e}=di(),{toast:t}=bn(),r=Ss(),[n,a]=S.useState([]),[i,s]=S.useState(!0),o=S.useCallback(async()=>{if(!(e!=null&&e.id)){s(!1),t({variant:"destructive",title:"Error",description:"User not found. Please log in."});return}s(!0);try{const u=await gA({requested_by_user_id:e.id});a(u)}catch(u){console.error("Error fetching your urgent purchase requests:",u),t({variant:"destructive",title:"Error",description:"Could not load your urgent purchase requests."})}finally{s(!1)}},[t,e]);S.useEffect(()=>{o()},[o]);const c=u=>{r(`/purchases/urgent/${u}`)};return x("div",{className:"container mx-auto p-4 md:p-6",children:[l(Fa,{heading:"My Urgent Purchase Requests",text:"View your urgent purchase requests and their status.",children:l(Me,{variant:"outline",asChild:!0,children:x(Ki,{to:"/purchases/urgent",children:[l(_5,{className:"mr-2 h-4 w-4"})," Back to Urgent Purchases"]})})}),l("div",{className:"mt-6",children:i?l("p",{children:"Loading your requests..."}):n.length===0?x(or,{children:[l(wr,{children:l(_r,{children:"No Urgent Purchase Requests Found"})}),l(pr,{children:l("p",{children:"You have not made any urgent purchase requests yet."})})]}):x(or,{children:[x(wr,{children:[l(_r,{children:"Your Urgent Purchase Requests"}),x(Sc,{children:[n.length," request(s) found."]})]}),l(pr,{children:x(qo,{children:[l(zo,{children:x(Dn,{children:[l(Kt,{children:"Request ID / Slip"}),l(Kt,{children:"Status"}),l(Kt,{children:"Requested At"}),l(Kt,{children:"Last Updated"}),l(Kt,{className:"text-right",children:"Actions"})]})}),l(Wo,{children:n.map(u=>x(Dn,{children:[l(zt,{children:u.slip_filename||u.id.substring(0,8)+"..."}),l(zt,{children:l("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${u.status==="approved"?"bg-green-100 text-green-700":u.status==="rejected"?"bg-red-100 text-red-700":u.status==="pending_approval"?"bg-yellow-100 text-yellow-700":u.status==="draft"?"bg-gray-100 text-gray-700":"bg-blue-100 text-blue-700"}`,children:u.status?u.status.replace(/_/g," ").replace(/\b\w/g,d=>d.toUpperCase()):"N/A"})}),l(zt,{children:MH(u.requested_at)?Rt(new Date(u.requested_at),"PPpp"):"N/A"}),l(zt,{children:MH(u.updated_at)?Rt(new Date(u.updated_at),"PPpp"):"N/A"}),l(zt,{className:"text-right",children:x(Me,{variant:"outline",size:"sm",onClick:()=>c(u.id),children:[l($w,{className:"mr-1 h-4 w-4"})," View"]})})]},u.id))})]})})]})})]})},rZe=[{value:"01",label:"January"},{value:"02",label:"February"},{value:"03",label:"March"},{value:"04",label:"April"},{value:"05",label:"May"},{value:"06",label:"June"},{value:"07",label:"July"},{value:"08",label:"August"},{value:"09",label:"September"},{value:"10",label:"October"},{value:"11",label:"November"},{value:"12",label:"December"}],QO=new Date().getFullYear(),nZe=Array.from({length:5},(e,t)=>QO-t),aZe=()=>{const{toast:e}=bn(),[t,r]=S.useState([]),[n,a]=S.useState([]),[i,s]=S.useState(!0),[o,c]=S.useState({}),[u,d]=S.useState(QO.toString()),[f,h]=S.useState(void 0),m=S.useCallback(async()=>{var b,_;s(!0);try{const N=await xLe({startDate:(b=o.dateRange)==null?void 0:b.from,endDate:(_=o.dateRange)==null?void 0:_.to,searchTerm:o.searchTerm});r(N||[]),a(N||[])}catch(N){console.error("Failed to fetch inventory logs:",N),e({variant:"destructive",title:"Error",description:"Failed to load inventory log history."}),r([]),a([])}finally{s(!1)}},[e,o.dateRange,o.searchTerm]);S.useEffect(()=>{m()},[m]),S.useEffect(()=>{let b=[...t];if(f&&u){const _=`${u}-${f}`;b=b.filter(N=>N.created_at.startsWith(_))}if(o.searchTerm){const _=o.searchTerm.toLowerCase();b=b.filter(N=>{var L,j,T,I,B,G;const E=(j=(L=N.inventory_items)==null?void 0:L.item_name)==null?void 0:j.toLowerCase().includes(_),C=(I=(T=N.inventory_items)==null?void 0:T.item_code)==null?void 0:I.toLowerCase().includes(_),O=N.change_type.toLowerCase().includes(_),P=(B=N.user_id)==null?void 0:B.toLowerCase().includes(_),M=(G=N.notes)==null?void 0:G.toLowerCase().includes(_);return E||C||O||P||M})}a(b)},[t,f,u,o.searchTerm]);const w=(b,_)=>{c(N=>({...N,[b]:_}))},g=()=>{if(u&&f&&!o.dateRange){const b=new Date(parseInt(u),parseInt(f)-1,1),_=new Date(parseInt(u),parseInt(f),0);w("dateRange",{from:b,to:_})}else!f&&!o.dateRange&&w("dateRange",void 0)};S.useEffect(()=>{g()},[f,u]);const y=()=>{c({}),h(void 0),d(QO.toString())};return x("div",{className:"space-y-4",children:[x("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 p-4 border rounded-md bg-muted/40",children:[x("div",{children:[l("label",{className:"text-sm font-medium mb-1 block",children:"Date Range"}),l(FM,{date:o.dateRange,onDateChange:b=>{w("dateRange",b),h(void 0)},className:"w-full"})]}),x("div",{children:[l("label",{className:"text-sm font-medium mb-1 block",children:"Year"}),x(Ur,{value:u,onValueChange:d,children:[l(jr,{children:l(qr,{placeholder:"Select Year"})}),l($r,{children:nZe.map(b=>l(mt,{value:b.toString(),children:b},b))})]})]}),x("div",{children:[l("label",{className:"text-sm font-medium mb-1 block",children:"Month"}),x(Ur,{value:f,onValueChange:h,children:[l(jr,{children:l(qr,{placeholder:"Select Month (All)"})}),x($r,{children:[l(mt,{value:"ALL_MONTHS",children:"All Months"})," ",rZe.map(b=>l(mt,{value:b.value,children:b.label},b.value))]})]})]}),x("div",{children:[l("label",{className:"text-sm font-medium mb-1 block",children:"Search Logs"}),l(dt,{placeholder:"Search by item, user, notes...",value:o.searchTerm||"",onChange:b=>w("searchTerm",b.target.value),className:"w-full"})]}),l("div",{className:"lg:col-span-4 flex justify-end",children:l(Me,{variant:"ghost",onClick:y,children:"Clear Filters"})})]}),l(id,{className:"h-[400px] md:h-[500px] border rounded-md",children:x(qo,{children:[l(zo,{className:"sticky top-0 bg-card z-10",children:x(Dn,{children:[l(Kt,{children:"Date"}),l(Kt,{children:"Item Name"}),l(Kt,{children:"SKU"}),l(Kt,{className:"text-right",children:"Change"}),l(Kt,{children:"Type"}),l(Kt,{children:"User"}),l(Kt,{children:"Notes"})]})}),l(Wo,{children:i?l(Dn,{children:l(zt,{colSpan:7,className:"text-center h-32",children:"Loading log history..."})}):n.length===0?l(Dn,{children:l(zt,{colSpan:7,className:"text-center h-32",children:"No log entries match your filters."})}):n.map(b=>{var _,N;return x(Dn,{children:[l(zt,{children:Rt(new Date(b.created_at),"MMM d, yyyy HH:mm")}),l(zt,{className:"font-medium",children:((_=b.inventory_items)==null?void 0:_.item_name)||"N/A"}),l(zt,{children:((N=b.inventory_items)==null?void 0:N.item_code)||"N/A"}),l(zt,{className:`text-right font-semibold ${b.quantity_change>0?"text-green-600":"text-red-600"}`,children:b.quantity_change>0?`+${b.quantity_change}`:b.quantity_change}),l(zt,{children:b.change_type.replace(/_/g," ").replace(/\b\w/g,E=>E.toUpperCase())}),l(zt,{children:b.user_id?`User: ${b.user_id.substring(0,8)}...`:"System"}),l(zt,{className:"text-xs max-w-xs truncate",title:b.notes||"",children:b.notes||"N/A"})]},b.id)})})]})})]})},w5=["Expired","Damaged","Lost","Stock Count Correction","Used","Other"],iZe=Re.enum(w5),Jse=["image/png","image/jpeg","image/jpg"],Zse=2*1024*1024,sZe=["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","text/csv"],oZe=Re.object({quantity_to_decrease:Re.number().int().positive({message:"Quantity must be a positive number."}).optional(),reason:iZe.optional(),notes:Re.string().min(1,{message:"Notes are required for adjustment requests."}),approver_role_target:Re.enum(["admin","doctor","owner"],{message:"Please select an approver role."}).optional(),photo_file:Re.custom(e=>e instanceof File,"Photo proof is required.").refine(e=>!e||e.size<=Zse,"Photo size should be less than 2MB.").refine(e=>Jse.includes((e==null?void 0:e.type)||""),"Only .png, .jpg, .jpeg files are accepted."),customApproverEmails:Re.string().optional()}),lZe=()=>{var se;const{toast:e}=bn(),{user:t}=di(),r=Ss(),[n,a]=S.useState([]),[i,s]=S.useState([]),[o,c]=S.useState(""),[u,d]=S.useState(null),[f,h]=S.useState(!0),[m,w]=S.useState(!1),[g,y]=S.useState(null),[b,_]=S.useState(null),[N,E]=S.useState([]),[C,O]=S.useState(!1),[P,M]=S.useState(!1),[L,j]=S.useState(null),[T,I]=S.useState(!1),[B,G]=S.useState(null),[Z,re]=S.useState(!1),[W,z]=S.useState([]),[U,Y]=S.useState(!1),Q=()=>{const fe=t==null?void 0:t.role,te=[{value:"admin",label:"Admin"},{value:"doctor",label:"Doctor"},{value:"owner",label:"Owner"}];if(!fe)return te;switch(fe){case"admin":return te.filter(Ee=>Ee.value==="doctor"||Ee.value==="owner");case"owner":return te.filter(Ee=>Ee.value==="admin"||Ee.value==="doctor");case"doctor":return te.filter(Ee=>Ee.value==="admin"||Ee.value==="owner");default:return te}},D=pd({resolver:md(oZe),defaultValues:{notes:"",photo_file:null,customApproverEmails:"",approver_role_target:void 0}}),K=tt.useCallback(async()=>{h(!0);try{const fe=await qR();a(fe||[]),s(fe||[])}catch(fe){console.error("Failed to fetch inventory items:",fe),e({variant:"destructive",title:"Error",description:"Failed to load items for selection."})}finally{h(!1)}},[e]);S.useEffect(()=>{K()},[K]),S.useEffect(()=>{const fe=o.toLowerCase(),te=n.filter(Ee=>Ee.item_name.toLowerCase().includes(fe)||Ee.item_code&&Ee.item_code.toLowerCase().includes(fe)||Ee.category&&Ee.category.toLowerCase().includes(fe));s(te)},[o,n]);const J=fe=>{d(fe),O(!1),y(null),E([]),_(null),D.reset({quantity_to_decrease:void 0,reason:"Other",notes:D.getValues("notes")||"",photo_file:D.getValues("photo_file")||null,customApproverEmails:D.getValues("customApproverEmails")||""})},ne=S.useCallback(async()=>{if(!g){_("No file selected."),E([]);return}_(null),E([]),h(!0);try{const fe=new FileReader;fe.onload=async te=>{var Ee;try{const Fe=(Ee=te.target)==null?void 0:Ee.result;if(!Fe){_("Failed to read file data."),h(!1);return}const Pe=zO(Fe,{type:"array"}),ve=Pe.SheetNames[0],Ge=Pe.Sheets[ve],ht=lf.sheet_to_json(Ge);if(ht.length===0){_("File is empty or has no data in the first sheet."),h(!1);return}let at=n;if(at.length===0){if(await K(),n.length===0){_("Inventory items not loaded. Please try again."),h(!1);return}at=n}const St=[],wt=[];ht.forEach((_e,ge)=>{const Ce=_e.SKU||_e["Item Name"]||_e.sku||_e.item_name,Je=parseInt(_e["Quantity to Decrease"]||_e.quantity_to_decrease,10),Qe=_e.Reason||_e.reason;if(!Ce){wt.push(`Row ${ge+2}: Missing SKU or Item Name.`);return}if(isNaN(Je)||Je<=0){wt.push(`Row ${ge+2}: Invalid or missing 'Quantity to Decrease' for ${Ce}. Must be a positive number.`);return}if(!Qe||!w5.includes(Qe)){wt.push(`Row ${ge+2}: Invalid or missing 'Reason' for ${Ce}. Valid reasons: ${w5.join(", ")}.`);return}const Xe=at.find(Ke=>Ke.item_code&&Ke.item_code.toLowerCase()===String(Ce).toLowerCase()||Ke.item_name.toLowerCase()===String(Ce).toLowerCase());if(!Xe){wt.push(`Row ${ge+2}: Item '${Ce}' not found in inventory.`);return}if(Je>Xe.quantity){wt.push(`Row ${ge+2}: Quantity to decrease (${Je}) for '${Ce}' exceeds current stock (${Xe.quantity}).`);return}St.push({inventory_item_id:Xe.id,item_name:Xe.item_name,current_stock:Xe.quantity,quantity_to_decrease:Je,reason:Qe})}),wt.length>0?(_(`Validation errors found in the file:
- ${wt.join(`
- `)}`),E([])):(E(St),e({title:"File Processed",description:`${St.length} items ready for adjustment.`}))}catch(Fe){console.error("Error parsing file content:",Fe),_(`Error parsing file: ${Fe.message}`)}finally{h(!1)}},fe.onerror=te=>{console.error("FileReader error:",te),_("Failed to read the file."),h(!1)},fe.readAsArrayBuffer(g)}catch(fe){console.error("Error initiating file read:",fe),_(`Error reading file: ${fe.message}`),h(!1)}},[g,n,e,K]),ie=async()=>{if(t!=null&&t.id){Y(!0);try{const fe=["pending","approved","rejected"],te=await _Le(t.id,fe,20);z(te)}catch(fe){console.error("Error fetching user's adjustment requests:",fe),e({variant:"destructive",title:"Error",description:"Could not load your adjustment requests."})}finally{Y(!1)}}},oe=()=>{ie(),re(!0)},ue=async(fe,te,Ee)=>{var Fe;I(!0),G(null);try{const Pe=await bLe(fe);if(Pe){if(j(Pe),Pe.photo_url){const ve=await QS(Pe.photo_url);G(ve)}e({title:"Request Submitted Successfully",description:te?`${Ee} adjustment requests initiated. Displaying details for the first item.`:`Adjustment request for ${((Fe=Pe.inventory_items)==null?void 0:Fe.item_name)||"item"} submitted.`})}else e({variant:"destructive",title:"Error",description:"Could not fetch details of the submitted request."})}catch(Pe){console.error("Failed to fetch submitted request details:",Pe),e({variant:"destructive",title:"Error",description:"Failed to load request details after submission."})}finally{D.reset({notes:"",photo_file:null,customApproverEmails:"",quantity_to_decrease:void 0,reason:void 0}),d(null),O(!1),y(null),E([]),_(null),K(),I(!1)}},V=async fe=>{var te,Ee;w(!0);try{if(!(t!=null&&t.id)){e({variant:"destructive",title:"Error",description:"User not authenticated."});return}if(!fe.photo_file){D.setError("photo_file",{type:"manual",message:"Photo proof is required."});return}if(C&&N.length>0){if(b){e({variant:"destructive",title:"Error",description:"Cannot submit, please fix errors in the uploaded file."});return}try{const Fe=jw();e({title:"Uploading Photo...",description:"Please wait."});const Pe=await TW(fe.photo_file,Fe);e({title:"Submitting Bulk Request...",description:`Processing ${N.length} items from file.`});const ve=((te=fe.customApproverEmails)==null?void 0:te.split(",").map(ht=>ht.trim()).filter(ht=>ht.length>0))||null;let Ge=null;for(const ht of N){const at=await PW({inventory_item_id:ht.inventory_item_id,quantity_to_decrease:ht.quantity_to_decrease,reason:ht.reason,notes:fe.notes,photo_url:Pe,requested_by_user_id:t.id,custom_approver_emails:ve});Ge||(Ge=at.id)}Ge?await ue(Ge,!0,N.length):(e({title:"Success",description:`Bulk adjustment process completed for ${N.length} items. No specific request to display.`}),D.reset({notes:"",photo_file:null,customApproverEmails:""}),O(!1),y(null),E([]),_(null),K())}catch(Fe){console.error("Failed to submit file-based bulk adjustment request:",Fe),e({variant:"destructive",title:"Bulk Adjustment Failed",description:(Fe==null?void 0:Fe.message)||"An unexpected error occurred during bulk submission."})}}else if(u&&fe.quantity_to_decrease!==void 0&&fe.reason!==void 0){if(u.quantity-fe.quantity_to_decrease<0){D.setError("quantity_to_decrease",{type:"manual",message:`Decrease quantity (${fe.quantity_to_decrease}) exceeds current stock (${u.quantity}) for ${u.item_name}.`});return}try{const Fe=jw();e({title:"Uploading Photo...",description:"Please wait."});const Pe=await TW(fe.photo_file,Fe);e({title:"Submitting Request...",description:"Saving adjustment request details."});const ve=((Ee=fe.customApproverEmails)==null?void 0:Ee.split(",").map(ht=>ht.trim()).filter(ht=>ht.length>0))||null,Ge=await PW({inventory_item_id:u.id,quantity_to_decrease:fe.quantity_to_decrease,reason:fe.reason,notes:fe.notes,photo_url:Pe,requested_by_user_id:t.id,custom_approver_emails:ve});await ue(Ge.id,!1)}catch(Fe){console.error("Failed to submit single adjustment request:",Fe),e({variant:"destructive",title:"Adjustment Failed",description:(Fe==null?void 0:Fe.message)||"An unexpected error occurred during single item submission."})}}else{e({variant:"destructive",title:"Error",description:"Form data is incomplete or invalid."});return}}catch(Fe){console.error("Overall submission process error:",Fe),e({variant:"destructive",title:"Submission Process Error",description:(Fe==null?void 0:Fe.message)||"An unexpected error occurred."})}finally{w(!1)}};return x("div",{className:"container mx-auto p-4 md:p-6",children:[l(Fa,{heading:L?"Adjustment Request Submitted":"Create Stock Adjustment Request",text:L?`Details for request ID: ${L.id}`:C?"Adjust stock via file upload.":u?`Adjusting: ${u.item_name} (Current Stock: ${u.quantity})`:"Select an item or upload a file to adjust stock."}),T?l("div",{className:"flex justify-center items-center h-64",children:l("p",{children:"Loading request details..."})}):L?x(or,{className:"max-w-2xl mx-auto mt-6",children:[x(wr,{children:[x(_r,{className:"flex items-center",children:["Request Details",L.status==="approved"&&l(ZH,{className:"ml-2 h-6 w-6 text-green-500"}),L.status==="pending"&&l(jl,{className:"ml-2 h-6 w-6 text-yellow-500"}),L.status==="rejected"&&l(jl,{className:"ml-2 h-6 w-6 text-red-500"})]}),x(Sc,{children:["Item: ",((se=L.inventory_items)==null?void 0:se.item_name)||"N/A"]})]}),x(pr,{className:"space-y-4",children:[x("div",{children:[l("strong",{children:"Request ID:"})," ",L.id]}),x("div",{children:[l("strong",{children:"Quantity Decreased:"})," ",L.quantity_to_decrease]}),x("div",{children:[l("strong",{children:"Reason:"})," ",L.reason]}),x("div",{children:[l("strong",{children:"Notes:"})," ",L.notes]}),x("div",{children:[l("strong",{children:"Status:"}),l("span",{className:`ml-1 font-semibold ${L.status==="approved"?"text-green-600":L.status==="rejected"?"text-red-600":"text-yellow-600"}`,children:L.status.toUpperCase()})]}),x("div",{children:[l("strong",{children:"Requested At:"})," ",new Date(L.requested_at).toLocaleString()]}),x("div",{children:[l("strong",{children:"Requested By:"})," ",L.requester_profile&&`${L.requester_profile.first_name||""} ${L.requester_profile.last_name||""}`.trim()||"N/A"]}),L.reviewed_by_user_id&&x(Nr,{children:[x("div",{children:[l("strong",{children:"Reviewed At:"})," ",L.reviewed_at?new Date(L.reviewed_at).toLocaleString():"N/A"]}),x("div",{children:[l("strong",{children:"Reviewer Notes:"})," ",L.reviewer_notes||"N/A"]})]}),B?x("div",{className:"mt-4",children:[l("strong",{children:"Proof Photo:"}),l("img",{src:B,alt:"Adjustment Proof",className:"rounded-md border max-w-xs max-h-64 mt-2"})]}):L.photo_url?x("div",{className:"mt-4",children:[l("strong",{children:"Proof Photo:"}),x("div",{className:"flex items-center text-muted-foreground",children:[l(U2,{className:"mr-2 h-5 w-5"}),l("span",{children:"Loading photo or photo not available..."})]})]}):null,x("div",{className:"flex justify-end space-x-3 pt-4",children:[x(Me,{variant:"outline",onClick:()=>{j(null),G(null)},children:[l(Ch,{className:"mr-2 h-4 w-4"})," Make Another Adjustment"]}),x(Me,{onClick:()=>r("/inventory"),children:[l(Dce,{className:"mr-2 h-4 w-4"})," Go to Inventory"]})]})]})]}):!u&&!C?x(Nr,{children:[x("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center my-4 space-y-2 sm:space-y-0",children:[l(dt,{placeholder:"Search items by name, SKU, or category...",value:o,onChange:fe=>c(fe.target.value),className:"max-w-full sm:max-w-sm"}),x("div",{className:"flex space-x-2",children:[" ",x(Me,{onClick:()=>{O(!0),d(null),E([]),_(null);const fe={notes:D.getValues("notes"),photo_file:D.getValues("photo_file"),customApproverEmails:D.getValues("customApproverEmails")};D.reset({...fe})},children:[l(Z0,{className:"mr-2 h-4 w-4"})," Adjust via Bulk Upload"]}),l(Me,{variant:"outline",onClick:()=>M(!0),children:"View Modification History"}),x(Me,{variant:"outline",onClick:oe,children:[l(aG,{className:"mr-2 h-4 w-4"})," View My Requests"]})]})]}),l(id,{className:"h-[calc(100vh-420px)] border rounded-md",children:x(qo,{children:[l(zo,{className:"sticky top-0 bg-card z-10",children:x(Dn,{children:[l(Kt,{children:"Item Name"}),l(Kt,{children:"SKU"}),l(Kt,{children:"Category"}),l(Kt,{className:"text-right",children:"Current Stock"}),l(Kt,{className:"text-right",children:"Actions"})]})}),l(Wo,{children:f?l(Dn,{children:l(zt,{colSpan:5,className:"text-center",children:"Loading items..."})}):i.length===0?l(Dn,{children:l(zt,{colSpan:5,className:"text-center",children:"No items match your search or no items available."})}):i.map(fe=>x(Dn,{children:[l(zt,{className:"font-medium",children:fe.item_name}),l(zt,{children:fe.item_code||"N/A"}),l(zt,{children:fe.category||"N/A"}),l(zt,{className:"text-right",children:fe.quantity}),l(zt,{className:"text-right",children:l(Me,{variant:"outline",size:"sm",onClick:()=>J(fe),disabled:m,children:"Adjust"})})]},fe.id))})]})})]}):x("div",{className:"max-w-2xl mx-auto mt-6",children:[C?x("div",{className:"space-y-6 p-6 border rounded-lg shadow-sm bg-card mb-6",children:[" ",x("div",{className:"flex justify-between items-center",children:[l("h3",{className:"text-lg font-semibold",children:"Bulk Adjust via File Upload"}),l(Me,{variant:"ghost",size:"sm",onClick:()=>{O(!1),y(null),E([]),_(null);const fe={notes:D.getValues("notes"),photo_file:D.getValues("photo_file"),customApproverEmails:D.getValues("customApproverEmails")};D.reset({...fe})},children:"Cancel File Upload"})]}),x("div",{children:[l("label",{htmlFor:"adjustment-file-upload",className:"block text-sm font-medium text-foreground mb-1",children:"Upload Adjustment File (.xlsx, .csv)"}),l("div",{className:"flex items-center justify-center w-full",children:x("label",{htmlFor:"adjustment-file-upload",className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed rounded-lg cursor-pointer bg-card hover:bg-muted/50",children:[x("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[l(Z0,{className:"w-8 h-8 mb-4 text-muted-foreground"}),x("p",{className:"mb-2 text-sm text-muted-foreground",children:[l("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),l("p",{className:"text-xs text-muted-foreground",children:"XLSX, CSV (MAX. 5MB)"})]}),l(dt,{id:"adjustment-file-upload",type:"file",className:"hidden",accept:sZe.join(","),onChange:fe=>{y(fe.target.files?fe.target.files[0]:null),E([]),_(null)}})]})}),g&&x("p",{className:"text-sm text-muted-foreground mt-2 text-center",children:["Selected: ",g.name]}),b&&l("p",{className:"text-sm font-medium text-destructive mt-1",children:b}),l("p",{className:"text-xs text-muted-foreground mt-1 text-center",children:"Expected columns: 'SKU' (or 'Item Name'), 'Quantity to Decrease', 'Reason'."})]}),l(Me,{onClick:ne,disabled:!g||f||m,children:f?"Processing File...":"Process Uploaded File"}),N.length>0&&!b&&x("div",{className:"mt-4 p-3 bg-green-100 border border-green-300 rounded-md",children:[x("p",{className:"text-green-700 font-semibold",children:[N.length," items parsed successfully and ready for adjustment."]}),l("p",{className:"text-xs text-green-600",children:"Review common fields below and submit."})]})]}):null,l(Mh,{...D,children:x("form",{onSubmit:D.handleSubmit(V),className:"space-y-8 p-6 border rounded-lg shadow-sm bg-card",children:[!C&&u&&x("h3",{className:"text-lg font-semibold",children:["Adjusting Single Item: ",u.item_name," (Current: ",u.quantity,")"]}),!C&&u&&x(Nr,{children:[l(Ve,{control:D.control,name:"quantity_to_decrease",render:({field:fe})=>x(Ie,{children:[l(De,{children:"Quantity to Decrease"}),l(Le,{children:l(dt,{type:"number",min:"1",placeholder:"Enter positive quantity",...fe,onChange:te=>fe.onChange(parseInt(te.target.value,10)||0),disabled:m})}),l(et,{})]})}),l(Ve,{control:D.control,name:"reason",render:({field:fe})=>x(Ie,{children:[l(De,{children:"Reason for Adjustment"}),x(Ur,{onValueChange:fe.onChange,defaultValue:fe.value,disabled:m,children:[l(Le,{children:l(jr,{children:l(qr,{placeholder:"Select reason"})})}),l($r,{children:w5.map(te=>l(mt,{value:te,children:te.replace(/_/g," ").replace(/\b\w/g,Ee=>Ee.toUpperCase())},te))})]}),l(et,{})]})})]}),(u||C&&N.length>0&&!b)&&x(Nr,{children:[l(Ve,{control:D.control,name:"photo_file",render:({field:fe})=>x(Ie,{children:[l(De,{children:"Photo Proof (Required)"}),l(Le,{children:l(im,{value:fe.value,onFileChange:te=>fe.onChange(te),accept:Jse.join(","),maxSize:Zse,disabled:m})}),l(et,{})]})}),l(Ve,{control:D.control,name:"notes",render:({field:fe})=>x(Ie,{children:[l(De,{children:"Notes (Required)"}),l(Le,{children:l(un,{placeholder:"Explain the reason for adjustment...",...fe,disabled:m})}),l(et,{})]})}),l(Ve,{control:D.control,name:"approver_role_target",render:({field:fe})=>x(Ie,{children:[l(De,{children:"Assign Approver To"}),x(Ur,{onValueChange:te=>{fe.onChange(te);const Ee=Q();Ee.length===1&&Ee[0].value},value:fe.value,disabled:m,children:[l(Le,{children:l(jr,{children:l(qr,{placeholder:"Select role to approve this request"})})}),l($r,{children:Q().map(te=>l(mt,{value:te.value,children:te.label},te.value))})]}),l(et,{}),l("p",{className:"text-xs text-muted-foreground",children:"Select the role that should approve this request."})]})}),l(Ve,{control:D.control,name:"customApproverEmails",render:({field:fe})=>x(Ie,{children:[l(De,{children:"Custom Approver Emails (Optional)"}),l(Le,{children:l(dt,{placeholder:"e.g., approver1@example.com, approver2@example.com",...fe,disabled:m})}),l(et,{}),l("p",{className:"text-xs text-muted-foreground",children:"Enter comma-separated email addresses if you want to notify specific people instead of the default role-based approvers."})]})}),x("div",{className:"flex justify-end space-x-3 pt-4",children:[l(Me,{type:"button",variant:"outline",onClick:()=>{d(null),O(!1),y(null),E([]),_(null),D.reset({notes:"",photo_file:null,customApproverEmails:"",approver_role_target:void 0,quantity_to_decrease:void 0,reason:void 0})},disabled:m,children:"Cancel"}),l(Me,{type:"submit",disabled:m||!u&&!C||C&&N.length===0,children:m?"Submitting...":"Submit Adjustment Request(s)"})]})]})]})})]}),P&&l(Hn,{open:P,onOpenChange:M,children:x(qn,{className:"sm:max-w-xl md:max-w-2xl lg:max-w-4xl xl:max-w-5xl",children:[" ",l(Jn,{children:l(Zn,{children:"Inventory Modification Log"})}),x("div",{className:"py-1 max-h-[70vh] overflow-y-auto",children:[" ",l(aZe,{})]}),x(hs,{className:"sm:justify-start",children:[" ",l(Me,{variant:"outline",onClick:()=>M(!1),className:"mt-2 sm:mt-0",children:"Close"})]})]})}),Z&&l(Hn,{open:Z,onOpenChange:re,children:x(qn,{className:"sm:max-w-2xl md:max-w-3xl lg:max-w-4xl",children:[x(Jn,{children:[l(Zn,{children:"My Adjustment Requests"}),l(ds,{children:"Showing your most recent adjustment requests. Click a request to view its full details."})]}),l("div",{className:"py-4 max-h-[70vh] overflow-y-auto",children:U?l("p",{children:"Loading your requests..."}):W.length===0?l("p",{children:"You have no adjustment requests."}):x(qo,{children:[l(zo,{children:x(Dn,{children:[l(Kt,{children:"Item"}),l(Kt,{children:"Quantity"}),l(Kt,{children:"Reason"}),l(Kt,{children:"Date"}),l(Kt,{children:"Status"}),l(Kt,{className:"text-right",children:"Actions"})]})}),l(Wo,{children:W.map(fe=>{var te;return x(Dn,{children:[l(zt,{children:((te=fe.inventory_items)==null?void 0:te.item_name)||"N/A"}),l(zt,{children:fe.quantity_to_decrease}),l(zt,{children:fe.reason}),l(zt,{children:new Date(fe.requested_at).toLocaleDateString()}),l(zt,{children:l("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${fe.status==="approved"?"bg-green-100 text-green-700":fe.status==="rejected"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:fe.status.toUpperCase()})}),l(zt,{className:"text-right",children:l(Me,{variant:"outline",size:"sm",onClick:()=>{j(fe),fe.photo_url?QS(fe.photo_url).then(G):G(null),re(!1)},children:"View Details"})})]},fe.id)})})]})}),l(hs,{children:l(Me,{variant:"outline",onClick:()=>re(!1),children:"Close"})})]})})]})},cZe=()=>{const{toast:e}=bn(),{user:t}=di(),r=Ss(),[n,a]=S.useState([]),[i,s]=S.useState(!0),[o,c]=S.useState(!1),[u,d]=S.useState({}),[f,h]=S.useState(""),m=S.useCallback(async()=>{s(!0);try{const y=await qR();a(y||[]);const b={};(y||[]).forEach(_=>{b[_.id]={physicalCount:void 0,notes:""}}),d(b)}catch(y){console.error("Failed to fetch inventory items:",y),e({variant:"destructive",title:"Error",description:"Failed to load items for stock take."})}finally{s(!1)}},[e]);S.useEffect(()=>{m()},[m]);const w=(y,b,_)=>{d(N=>({...N,[y]:{...N[y],[b]:b==="physicalCount"?_===""?void 0:parseInt(String(_),10):String(_)}}))},g=async()=>{if(!(t!=null&&t.id)){e({variant:"destructive",title:"Error",description:"User not authenticated."});return}c(!0);const y=[];let b=0;if(n.forEach(_=>{const N=u[_.id];if(N&&N.physicalCount!==void 0&&N.physicalCount>=0){b++;const E={inventory_item_id:_.id,system_quantity_at_count:_.quantity,physical_counted_quantity:N.physicalCount,counted_by_user_id:t.id,notes:N.notes||f||null};y.push(NLe(E))}}),b===0){e({variant:"default",title:"No Data",description:"No physical counts entered to submit."}),c(!1);return}try{await Promise.all(y),e({title:"Success",description:`${b} stock take entries recorded successfully.`}),r("/inventory"),m(),h("")}catch(_){console.error("Failed to record one or more stock takes:",_),e({variant:"destructive",title:"Stock Take Submission Failed",description:"An error occurred while saving some entries. Please check and try again."})}finally{c(!1)}};return i?l("div",{className:"p-4",children:"Loading inventory items..."}):x("div",{className:"container mx-auto p-4 md:p-6",children:[l(Fa,{heading:"Perform Stock Take",text:"Enter the physical count for each item. Only items with a physical count will be submitted."}),x("div",{className:"mt-6",children:[l("div",{className:"mb-4",children:l(un,{placeholder:"Global notes for this stock take session (optional)",value:f,onChange:y=>h(y.target.value),className:"max-w-xl",disabled:o})}),x(id,{className:"h-[calc(100vh-300px)] border rounded-md",children:[" ",x(qo,{children:[l(zo,{className:"sticky top-0 bg-background z-10",children:x(Dn,{children:[l(Kt,{className:"w-[300px]",children:"Item Name"}),l(Kt,{className:"text-right",children:"System Qty"}),l(Kt,{className:"w-[150px] text-right",children:"Physical Count"}),l(Kt,{className:"w-[250px]",children:"Item Notes (Optional)"})]})}),l(Wo,{children:n.length===0&&!i?l(Dn,{children:l(zt,{colSpan:4,className:"text-center",children:"No inventory items found."})}):n.map(y=>{var b,_;return x(Dn,{children:[l(zt,{className:"font-medium",children:y.item_name}),l(zt,{className:"text-right",children:y.quantity}),l(zt,{className:"text-right",children:l(dt,{type:"number",min:"0",placeholder:"Count",value:((b=u[y.id])==null?void 0:b.physicalCount)??"",onChange:N=>w(y.id,"physicalCount",N.target.value),className:"text-right",disabled:o})}),l(zt,{children:l(dt,{type:"text",placeholder:"Notes for this item",value:((_=u[y.id])==null?void 0:_.notes)??"",onChange:N=>w(y.id,"notes",N.target.value),disabled:o})})]},y.id)})})]})]}),x("div",{className:"mt-6 flex justify-end space-x-3",children:[l(Me,{type:"button",variant:"outline",onClick:()=>r("/inventory"),disabled:o,children:"Cancel"}),l(Me,{onClick:g,disabled:o||i,children:o?"Submitting Stock Take...":"Submit Stock Take"})]})]})]})},uZe=({allowedRoles:e,children:t,fallback:r})=>{const{user:n,loading:a}=di();if(a)return l("div",{className:"flex justify-center items-center h-screen",children:"Loading authentication status..."});if(!n)return l(Nr,{children:r||l("div",{className:"flex justify-center items-center h-screen",children:"Access Denied: Not Logged In."})});const i=n.role;return!i||!e.includes(i)?l(Nr,{children:r||l("div",{className:"flex justify-center items-center h-screen",children:"Access Denied: You do not have the required permissions."})}):l(Nr,{children:t})},r6=e=>{if(!e)return!1;const t=new Date(e);return!isNaN(t.getTime())},dZe=()=>{var z,U,Y,Q;const{user:e}=di(),{toast:t}=bn(),[r,n]=S.useState([]),[a,i]=S.useState(!0),[s,o]=S.useState(null),[c,u]=S.useState(null),[d,f]=S.useState([]),[h,m]=S.useState(!0),[w,g]=S.useState(null),[y,b]=S.useState(!1),[_,N]=S.useState(null),[E,C]=S.useState(""),[O,P]=S.useState(!1),[M,L]=S.useState(null),j=S.useCallback(async()=>{if(!(e!=null&&e.id)||!(e!=null&&e.role)){i(!1),e!=null&&e.id&&!(e!=null&&e.role)&&t({variant:"destructive",title:"Error",description:"User role not found for adjustments."});return}i(!0);try{const D=await wLe(e.id,e.role);n(D)}catch(D){console.error("Error fetching pending adjustment requests:",D),t({variant:"destructive",title:"Error",description:"Could not load pending adjustment requests."})}finally{i(!1)}},[t,e]),T=S.useCallback(async()=>{if(!(e!=null&&e.id)||!(e!=null&&e.role)){m(!1),e!=null&&e.id&&!(e!=null&&e.role)&&t({variant:"destructive",title:"Error",description:"User role not found for urgent purchases."});return}m(!0);try{const K=(await gA({status:"pending_approval"})).filter(J=>J.requested_by_user_id!==e.id);f(K)}catch(D){console.error("Error fetching pending urgent purchases:",D),t({variant:"destructive",title:"Error",description:"Could not load pending urgent purchases."})}finally{m(!1)}},[t,e]);S.useEffect(()=>{e&&(j(),T())},[j,T,e]);const I=async(D,K)=>{if(o(D),L("adjustment"),N(K),b(!0),C(""),u(null),D.photo_url)try{const J=await QS(D.photo_url);u(J)}catch(J){console.error("Error fetching photo preview for adjustment:",J),t({variant:"destructive",title:"Error",description:"Could not load adjustment proof photo."})}},B=async(D,K)=>{g(D),L("urgent_purchase"),N(K),b(!0),C("")},G=async()=>{if(!(!_||!(e!=null&&e.id))&&!(M==="adjustment"&&!s)&&!(M==="urgent_purchase"&&!w)){P(!0);try{if(M==="adjustment"){const D=s;_==="approve"?(await dae(D.id,e.id,E),t({title:"Success",description:`Adjustment Request ${D.id.substring(0,8)} approved.`})):(await fae(D.id,e.id,E),t({title:"Success",description:`Adjustment Request ${D.id.substring(0,8)} rejected.`})),j()}else if(M==="urgent_purchase"){const D=w;if(_==="approve")await zJe(D.id,e.id,E),t({title:"Success",description:`Urgent Purchase ${D.id.substring(0,8)} approved.`});else{if(!E.trim()&&((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="owner")){t({variant:"destructive",title:"Validation Error",description:"Reviewer notes are required to reject."}),P(!1);return}await WJe(D.id,e.id,E),t({title:"Success",description:`Urgent Purchase ${D.id.substring(0,8)} rejected.`})}T()}b(!1),o(null),g(null),L(null)}catch(D){console.error(`Error ${_}ing request:`,D),t({variant:"destructive",title:"Error",description:D.message||`Failed to ${_} request.`})}finally{P(!1)}}},Z=["admin","owner","doctor"],re=()=>l(Nr,{children:a?l("p",{children:"Loading adjustment requests..."}):r.length===0?x(or,{children:[l(wr,{children:l(_r,{children:"No Pending Adjustment Requests"})}),l(pr,{children:l("p",{children:"There are currently no inventory adjustment requests awaiting approval."})})]}):x(or,{children:[x(wr,{children:[l(_r,{children:"Pending Adjustment Requests"}),x(Sc,{children:[r.length," request(s) awaiting review."]})]}),l(pr,{children:x(qo,{children:[l(zo,{children:x(Dn,{children:[l(Kt,{children:"Item Name"}),l(Kt,{children:"Quantity"}),l(Kt,{children:"Reason"}),l(Kt,{children:"Requested By"}),l(Kt,{children:"Date"}),l(Kt,{className:"text-right",children:"Actions"})]})}),l(Wo,{children:r.map(D=>{var K,J,ne;return x(Dn,{children:[l(zt,{children:((K=D.inventory_items)==null?void 0:K.item_name)||"N/A"}),l(zt,{children:D.quantity_to_decrease}),l(zt,{children:D.reason}),x(zt,{children:[((J=D.requester_profile)==null?void 0:J.first_name)||""," ",((ne=D.requester_profile)==null?void 0:ne.last_name)||""]}),l(zt,{children:new Date(D.requested_at).toLocaleDateString()}),x(zt,{className:"text-right space-x-2",children:[x(Me,{variant:"outline",size:"sm",onClick:()=>I(D,"approve"),children:[l(dF,{className:"mr-1 h-4 w-4"})," Approve"]}),((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="owner")&&x(Me,{variant:"outline",size:"sm",onClick:()=>I(D,"reject"),children:[l(uF,{className:"mr-1 h-4 w-4"})," Reject"]})]})]},D.id)})})]})})]})}),W=()=>l(Nr,{children:h?l("p",{children:"Loading urgent purchase requests..."}):d.length===0?x(or,{children:[l(wr,{children:l(_r,{children:"No Pending Urgent Purchases"})}),l(pr,{children:l("p",{children:"There are currently no urgent purchase requests awaiting approval."})})]}):x(or,{children:[x(wr,{children:[l(_r,{children:"Pending Urgent Purchase Requests"}),x(Sc,{children:[d.length," request(s) awaiting review."]})]}),l(pr,{children:x(qo,{children:[l(zo,{children:x(Dn,{children:[l(Kt,{children:"Slip/Notes"}),l(Kt,{children:"Items"}),l(Kt,{children:"Requested By (ID)"})," ",l(Kt,{children:"Targeted Role"}),l(Kt,{children:"Date"}),l(Kt,{className:"text-right",children:"Actions"})]})}),l(Wo,{children:d.map(D=>{var K;return x(Dn,{children:[x(zt,{children:[D.slip_filename||((K=D.notes)==null?void 0:K.substring(0,30))||"N/A",D.notes&&D.notes.length>30?"...":""]}),x(zt,{children:[D.items.length," item(s)"]}),x(zt,{className:"font-mono text-xs",children:[D.requested_by_user_id.substring(0,8),"..."]}),l(zt,{children:D.target_approval_role?D.target_approval_role.charAt(0).toUpperCase()+D.target_approval_role.slice(1):"N/A"}),l(zt,{children:r6(D.requested_at)?Rt(new Date(D.requested_at),"PP"):"N/A"}),x(zt,{className:"text-right space-x-2",children:[x(Me,{variant:"outline",size:"sm",onClick:()=>B(D,"approve"),children:[l(dF,{className:"mr-1 h-4 w-4"})," Approve"]}),((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="owner")&&x(Me,{variant:"outline",size:"sm",onClick:()=>B(D,"reject"),children:[l(uF,{className:"mr-1 h-4 w-4"})," Reject"]})]})]},D.id)})})]})})]})});return x(uZe,{allowedRoles:Z,children:[x("div",{className:"container mx-auto p-4 md:p-6",children:[l(Fa,{heading:"Approval Requests",text:"Review and process pending requests."}),x(jm,{defaultValue:"adjustments",className:"w-full mt-4",children:[x(Rh,{className:"grid w-full grid-cols-2",children:[l(Oa,{value:"adjustments",children:"Inventory Adjustments"}),l(Oa,{value:"urgent_purchases",children:"Urgent Purchases"})]}),l(_a,{value:"adjustments",className:"mt-4",children:re()}),l(_a,{value:"urgent_purchases",className:"mt-4",children:W()})]})]}),y&&l(Hn,{open:y,onOpenChange:D=>{b(D),D||(o(null),g(null),L(null))},children:x(qn,{className:"sm:max-w-lg",children:[x(Jn,{children:[x(Zn,{children:[_==="approve"?"Approve":"Reject"," ",M==="adjustment"?"Adjustment":"Urgent Purchase"," Request"]}),M==="adjustment"&&s&&x(ds,{children:["Review details for request ID: ",s.id.substring(0,8),"... for item: ",((z=s.inventory_items)==null?void 0:z.item_name)||"N/A"]}),M==="urgent_purchase"&&w&&x(ds,{children:["Review details for urgent purchase ID: ",w.id.substring(0,8),"...",w.slip_filename?` (Slip: ${w.slip_filename})`:""]})]}),x("div",{className:"py-4 space-y-3 max-h-[60vh] overflow-y-auto",children:[M==="adjustment"&&s&&x(Nr,{children:[x("p",{children:[l("strong",{children:"Item:"})," ",(U=s.inventory_items)==null?void 0:U.item_name]}),x("p",{children:[l("strong",{children:"Quantity to Decrease:"})," ",s.quantity_to_decrease]}),x("p",{children:[l("strong",{children:"Reason:"})," ",s.reason]}),x("p",{children:[l("strong",{children:"Notes by Requester:"})," ",s.notes]}),x("p",{children:[l("strong",{children:"Requested By:"})," ",((Y=s.requester_profile)==null?void 0:Y.first_name)||""," ",((Q=s.requester_profile)==null?void 0:Q.last_name)||""]}),x("p",{children:[l("strong",{children:"Requested At:"})," ",new Date(s.requested_at).toLocaleString()]}),s.photo_url&&x("div",{children:[l("strong",{children:"Proof Photo:"}),c?l("img",{src:c,alt:"Adjustment Proof",className:"rounded-md border max-w-xs max-h-64 mt-1"}):l("p",{className:"text-sm text-muted-foreground",children:"Loading photo..."})]})]}),M==="urgent_purchase"&&w&&x(Nr,{children:[x("p",{children:[l("strong",{children:"Requested By (ID):"})," ",w.requested_by_user_id]})," ",x("p",{children:[l("strong",{children:"Requested At:"})," ",r6(w.requested_at)?Rt(new Date(w.requested_at),"PPpp"):"N/A"]}),x("p",{children:[l("strong",{children:"Targeted For Role:"})," ",w.target_approval_role?w.target_approval_role.charAt(0).toUpperCase()+w.target_approval_role.slice(1):"N/A"]}),w.slip_filename&&x("p",{children:[l("strong",{children:"Slip Filename:"})," ",w.slip_filename]}),w.invoice_delivery_date&&x("p",{children:[l("strong",{children:"Invoice/Delivery Date:"})," ",r6(w.invoice_delivery_date)?Rt(new Date(w.invoice_delivery_date),"PP"):"N/A"]}),x("p",{children:[l("strong",{children:"Notes:"})," ",w.notes||"N/A"]}),l("p",{children:l("strong",{children:"Items:"})}),l("ul",{className:"list-disc pl-5 space-y-1 text-sm",children:w.items.map(D=>x("li",{children:[D.matched_item_name," (Qty: ",D.quantity,")",D.batch_number&&` - Batch: ${D.batch_number}`,D.expiry_date&&` - Expires: ${new Date(D.expiry_date).toLocaleDateString()}`]},D.id||D.inventory_item_id))})]}),x("div",{children:[x("label",{htmlFor:"reviewerNotes",className:"block text-sm font-medium",children:["Reviewer Notes ",_==="approve"?"(Optional)":"(Required for Reject)",":"]}),l(un,{id:"reviewerNotes",value:E,onChange:D=>C(D.target.value),placeholder:"Add any notes for this decision...",className:"mt-1",rows:3})]})]}),x(hs,{children:[l(Me,{variant:"outline",onClick:()=>b(!1),disabled:O,children:"Cancel"}),l(Me,{onClick:G,disabled:O||_==="reject"&&((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="owner")&&!E.trim(),variant:_==="reject"&&((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="owner")?"destructive":"default",children:O?"Submitting...":`Confirm ${_==="approve"?"Approve":"Reject"}`})]})]})})]})},fZe=()=>{const{requestId:e,approvalToken:t}=py(),r=Ss(),{user:n}=di(),{toast:a}=bn(),[i,s]=S.useState(null),[o,c]=S.useState(null),[u,d]=S.useState(!0),[f,h]=S.useState(!1),[m,w]=S.useState(""),[g,y]=S.useState(null),b=S.useCallback(async()=>{if(!e||!t){y("Request ID or approval token is missing."),d(!1);return}d(!0);try{const E=await SLe(e,t);E?(s(E),E.photo_url&&QS(E.photo_url).then(C=>c(C)).catch(C=>console.error("Failed to load photo for approval page",C))):y("Invalid or expired approval link, or request not found/pending.")}catch(E){console.error("Error fetching request for approval:",E),y(E.message||"Could not load request details.")}finally{d(!1)}},[e,t]);S.useEffect(()=>{b()},[b]);const _=async()=>{if(!(!(n!=null&&n.id)||!i)){if(n.id===i.requested_by_user_id){a({variant:"destructive",title:"Action Denied",description:"You cannot approve your own request."});return}h(!0);try{await dae(i.id,n.id,m),a({title:"Success",description:"Request approved and stock updated."}),r("/inventory/adjustment-requests")}catch(E){a({variant:"destructive",title:"Approval Failed",description:E.message})}finally{h(!1)}}},N=async()=>{if(!(!(n!=null&&n.id)||!i)){if(n.id===i.requested_by_user_id){a({variant:"destructive",title:"Action Denied",description:"You cannot reject your own request."});return}if(!m.trim()){a({variant:"destructive",title:"Validation Error",description:"Reviewer notes are required for rejection."});return}h(!0);try{await fae(i.id,n.id,m),a({title:"Success",description:"Request rejected."}),r("/inventory/adjustment-requests")}catch(E){a({variant:"destructive",title:"Rejection Failed",description:E.message})}finally{h(!1)}}};return u?l("div",{className:"container mx-auto p-6 flex justify-center items-center min-h-[calc(100vh-200px)]",children:l(Fn,{className:"h-12 w-12 animate-spin text-primary"})}):g?x("div",{className:"container mx-auto p-6 text-center",children:[l(jl,{className:"mx-auto h-12 w-12 text-red-500 mb-4"}),l("h2",{className:"text-xl font-semibold text-red-600",children:"Access Denied or Error"}),l("p",{className:"text-red-500 mt-2",children:g}),l(Me,{onClick:()=>r("/"),className:"mt-6",children:"Go to Dashboard"})]}):i?x("div",{className:"container mx-auto p-4 md:p-6 max-w-2xl",children:[l(Fa,{heading:"Approve Inventory Adjustment",text:`Review and process adjustment request ID: ...${i.id.slice(-8)}`}),x(or,{className:"mt-6",children:[x(wr,{children:[x(_r,{children:["Item: ",i.item_name||"N/A"]}),x(Sc,{children:["Requested by: ",i.requester_name||i.requested_by_user_id," on ",new Date(i.requested_at).toLocaleDateString()]})]}),x(pr,{className:"space-y-4",children:[x("p",{children:[l("strong",{children:"Quantity to Decrease:"})," ",i.quantity_to_decrease]}),x("p",{children:[l("strong",{children:"Reason:"})," ",i.reason]}),x("p",{children:[l("strong",{children:"Requester Notes:"})," ",i.notes]}),i.photo_url&&x("div",{children:[l("strong",{children:"Photo Proof:"}),l("br",{}),o?l("a",{href:o,target:"_blank",rel:"noopener noreferrer",children:l("img",{src:o,alt:"Adjustment Proof",className:"max-w-full md:max-w-md border rounded mt-1"})}):l("p",{children:"Loading photo..."})]}),x("div",{className:"space-y-1",children:[l("label",{htmlFor:"reviewerNotes",className:"text-sm font-medium",children:"Your Reviewer Notes:"}),l(un,{id:"reviewerNotes",value:m,onChange:E=>w(E.target.value),placeholder:"Add notes for approval or rejection (required for rejection)",rows:3,disabled:f||i.status!=="pending"})]})]}),i.status==="pending"&&x(eg,{className:"flex justify-end space-x-2",children:[x(Me,{variant:"outline",onClick:N,disabled:f||(n==null?void 0:n.id)===i.requested_by_user_id,className:"text-red-600 border-red-600 hover:bg-red-50 disabled:opacity-50",title:(n==null?void 0:n.id)===i.requested_by_user_id?"Cannot reject your own request":"",children:[l(Zce,{className:"mr-2 h-4 w-4"})," Reject"]}),x(Me,{onClick:_,disabled:f||(n==null?void 0:n.id)===i.requested_by_user_id,className:"bg-green-600 hover:bg-green-700 text-white disabled:opacity-50",title:(n==null?void 0:n.id)===i.requested_by_user_id?"Cannot approve your own request":"",children:[l(px,{className:"mr-2 h-4 w-4"})," Approve"]})]}),i.status!=="pending"&&l(eg,{children:x("p",{className:"text-sm text-muted-foreground",children:["This request has already been processed (Status: ",i.status,")."]})})]})]}):l("div",{className:"container mx-auto p-6 text-center",children:"Request not found."})};function hZe(){const[e]=YH(),t=e.get("q"),[r,n]=S.useState([]),[a,i]=S.useState(!1),[s,o]=S.useState(null);return S.useEffect(()=>{t?(console.log(`Fetching patient search results for: ${t}`),i(!0),o(null),It.patients.search(t).then(c=>{n(c||[]),i(!1)}).catch(c=>{console.error("Patient search failed:",c),o(c.message||"Failed to fetch patient search results."),n([]),i(!1)})):(n([]),o(null))},[t]),x("div",{className:"space-y-6",children:[l(Fa,{heading:`Search Results for "${t||""}"`,text:a?"Searching patients...":s?"Error fetching results":`Found ${r.length} patient results.`}),a?l("div",{className:"flex justify-center items-center py-10",children:l(Fn,{className:"w-8 h-8 animate-spin text-primary"})}):s?l("div",{className:"text-center text-red-600 py-10",children:x("p",{children:["Error: ",s]})}):x("div",{className:"space-y-4",children:[r.length>0?r.map(c=>x("div",{className:"border p-4 rounded-md shadow-sm hover:shadow-md transition-shadow",children:[x("h3",{className:"text-lg font-semibold",children:[c.first_name," ",c.last_name]}),c.email&&x("p",{className:"text-sm text-muted-foreground",children:["Email: ",c.email]}),c.phone&&x("p",{className:"text-sm text-muted-foreground",children:["Phone: ",c.phone]}),l(Ki,{to:`/patients/${c.id}`,className:"text-blue-600 hover:underline text-sm mt-1 inline-block",children:"View Details"})]},c.id)):!a&&t&&x("p",{className:"text-center text-muted-foreground",children:['No patient results found for "',t,'".']}),!t&&l("p",{className:"text-center text-muted-foreground",children:"Please enter a search term in the header."})]})]})}const pZe=({children:e})=>{const{user:t,loading:r}=di();return r?x("div",{className:"p-4",children:[l(Bl,{className:"h-8 w-1/4 mb-4"}),l(Bl,{className:"h-4 w-full mb-2"}),l(Bl,{className:"h-4 w-3/4"})]}):!t||t.role!=="admin"&&t.role!=="owner"?(console.warn(`Access denied: User role '${t==null?void 0:t.role}' is not 'admin' or 'owner'.`),l(s6,{to:"/",replace:!0})):e?l(Nr,{children:e}):l(GH,{})};var UM="ToastProvider",[qM,mZe,gZe]=Uw("Toast"),[Qse,fQe]=ts("Toast",[gZe]),[vZe,vA]=Qse(UM),eoe=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:s}=e,[o,c]=S.useState(null),[u,d]=S.useState(0),f=S.useRef(!1),h=S.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${UM}\`. Expected non-empty \`string\`.`),l(qM.Provider,{scope:t,children:l(vZe,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:u,viewport:o,onViewportChange:c,onToastAdd:S.useCallback(()=>d(m=>m+1),[]),onToastRemove:S.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:s})})};eoe.displayName=UM;var toe="ToastViewport",yZe=["F8"],eD="toast.viewportPause",tD="toast.viewportResume",roe=S.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=yZe,label:a="Notifications ({hotkey})",...i}=e,s=vA(toe,r),o=mZe(r),c=S.useRef(null),u=S.useRef(null),d=S.useRef(null),f=S.useRef(null),h=Jr(t,f,s.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=s.toastCount>0;S.useEffect(()=>{const y=b=>{var N;n.length!==0&&n.every(E=>b[E]||b.code===E)&&((N=f.current)==null||N.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[n]),S.useEffect(()=>{const y=c.current,b=f.current;if(w&&y&&b){const _=()=>{if(!s.isClosePausedRef.current){const O=new CustomEvent(eD);b.dispatchEvent(O),s.isClosePausedRef.current=!0}},N=()=>{if(s.isClosePausedRef.current){const O=new CustomEvent(tD);b.dispatchEvent(O),s.isClosePausedRef.current=!1}},E=O=>{!y.contains(O.relatedTarget)&&N()},C=()=>{y.contains(document.activeElement)||N()};return y.addEventListener("focusin",_),y.addEventListener("focusout",E),y.addEventListener("pointermove",_),y.addEventListener("pointerleave",C),window.addEventListener("blur",_),window.addEventListener("focus",N),()=>{y.removeEventListener("focusin",_),y.removeEventListener("focusout",E),y.removeEventListener("pointermove",_),y.removeEventListener("pointerleave",C),window.removeEventListener("blur",_),window.removeEventListener("focus",N)}}},[w,s.isClosePausedRef]);const g=S.useCallback(({tabbingDirection:y})=>{const _=o().map(N=>{const E=N.ref.current,C=[E,...OZe(E)];return y==="forwards"?C:C.reverse()});return(y==="forwards"?_.reverse():_).flat()},[o]);return S.useEffect(()=>{const y=f.current;if(y){const b=_=>{var C,O,P;const N=_.altKey||_.ctrlKey||_.metaKey;if(_.key==="Tab"&&!N){const M=document.activeElement,L=_.shiftKey;if(_.target===y&&L){(C=u.current)==null||C.focus();return}const I=g({tabbingDirection:L?"backwards":"forwards"}),B=I.findIndex(G=>G===M);n6(I.slice(B+1))?_.preventDefault():L?(O=u.current)==null||O.focus():(P=d.current)==null||P.focus()}};return y.addEventListener("keydown",b),()=>y.removeEventListener("keydown",b)}},[o,g]),x(Que,{ref:c,role:"region","aria-label":a.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&l(rD,{ref:u,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"forwards"});n6(y)}}),l(qM.Slot,{scope:r,children:l(xr.ol,{tabIndex:-1,...i,ref:h})}),w&&l(rD,{ref:d,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"backwards"});n6(y)}})]})});roe.displayName=toe;var noe="ToastFocusProxy",rD=S.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,i=vA(noe,r);return l(X4,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:s=>{var u;const o=s.relatedTarget;!((u=i.viewport)!=null&&u.contains(o))&&n()}})});rD.displayName=noe;var _b="Toast",xZe="toast.swipeStart",wZe="toast.swipeMove",bZe="toast.swipeCancel",_Ze="toast.swipeEnd",aoe=S.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...s}=e,[o,c]=hl({prop:n,defaultProp:a??!0,onChange:i,caller:_b});return l(uo,{present:r||o,children:l(AZe,{open:o,...s,ref:t,onClose:()=>c(!1),onPause:Di(e.onPause),onResume:Di(e.onResume),onSwipeStart:Ht(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ht(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Ht(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ht(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});aoe.displayName=_b;var[SZe,NZe]=Qse(_b,{onClose(){}}),AZe=S.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:s,onEscapeKeyDown:o,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...w}=e,g=vA(_b,r),[y,b]=S.useState(null),_=Jr(t,G=>b(G)),N=S.useRef(null),E=S.useRef(null),C=a||g.duration,O=S.useRef(0),P=S.useRef(C),M=S.useRef(0),{onToastAdd:L,onToastRemove:j}=g,T=Di(()=>{var Z;(y==null?void 0:y.contains(document.activeElement))&&((Z=g.viewport)==null||Z.focus()),s()}),I=S.useCallback(G=>{!G||G===1/0||(window.clearTimeout(M.current),O.current=new Date().getTime(),M.current=window.setTimeout(T,G))},[T]);S.useEffect(()=>{const G=g.viewport;if(G){const Z=()=>{I(P.current),u==null||u()},re=()=>{const W=new Date().getTime()-O.current;P.current=P.current-W,window.clearTimeout(M.current),c==null||c()};return G.addEventListener(eD,re),G.addEventListener(tD,Z),()=>{G.removeEventListener(eD,re),G.removeEventListener(tD,Z)}}},[g.viewport,C,c,u,I]),S.useEffect(()=>{i&&!g.isClosePausedRef.current&&I(C)},[i,C,g.isClosePausedRef,I]),S.useEffect(()=>(L(),()=>j()),[L,j]);const B=S.useMemo(()=>y?doe(y):null,[y]);return g.viewport?x(Nr,{children:[B&&l(kZe,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:B}),l(SZe,{scope:r,onClose:T,children:fy.createPortal(l(qM.ItemSlot,{scope:r,children:l(Zue,{asChild:!0,onEscapeKeyDown:Ht(o,()=>{g.isFocusedToastEscapeKeyDownRef.current||T(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:l(xr.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...w,ref:_,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ht(e.onKeyDown,G=>{G.key==="Escape"&&(o==null||o(G.nativeEvent),G.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,T()))}),onPointerDown:Ht(e.onPointerDown,G=>{G.button===0&&(N.current={x:G.clientX,y:G.clientY})}),onPointerMove:Ht(e.onPointerMove,G=>{if(!N.current)return;const Z=G.clientX-N.current.x,re=G.clientY-N.current.y,W=!!E.current,z=["left","right"].includes(g.swipeDirection),U=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,Y=z?U(0,Z):0,Q=z?0:U(0,re),D=G.pointerType==="touch"?10:2,K={x:Y,y:Q},J={originalEvent:G,delta:K};W?(E.current=K,e5(wZe,f,J,{discrete:!1})):FH(K,g.swipeDirection,D)?(E.current=K,e5(xZe,d,J,{discrete:!1}),G.target.setPointerCapture(G.pointerId)):(Math.abs(Z)>D||Math.abs(re)>D)&&(N.current=null)}),onPointerUp:Ht(e.onPointerUp,G=>{const Z=E.current,re=G.target;if(re.hasPointerCapture(G.pointerId)&&re.releasePointerCapture(G.pointerId),E.current=null,N.current=null,Z){const W=G.currentTarget,z={originalEvent:G,delta:Z};FH(Z,g.swipeDirection,g.swipeThreshold)?e5(_Ze,m,z,{discrete:!0}):e5(bZe,h,z,{discrete:!0}),W.addEventListener("click",U=>U.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),kZe=e=>{const{__scopeToast:t,children:r,...n}=e,a=vA(_b,t),[i,s]=S.useState(!1),[o,c]=S.useState(!1);return PZe(()=>s(!0)),S.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),o?null:l(yy,{asChild:!0,children:l(X4,{...n,children:i&&x(Nr,{children:[a.label," ",r]})})})},EZe="ToastTitle",ioe=S.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return l(xr.div,{...n,ref:t})});ioe.displayName=EZe;var CZe="ToastDescription",soe=S.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return l(xr.div,{...n,ref:t})});soe.displayName=CZe;var ooe="ToastAction",loe=S.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?l(uoe,{altText:r,asChild:!0,children:l(zM,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${ooe}\`. Expected non-empty \`string\`.`),null)});loe.displayName=ooe;var coe="ToastClose",zM=S.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=NZe(coe,r);return l(uoe,{asChild:!0,children:l(xr.button,{type:"button",...n,ref:t,onClick:Ht(e.onClick,a.onClose)})})});zM.displayName=coe;var uoe=S.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return l(xr.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function doe(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),TZe(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const s=n.dataset.radixToastAnnounceAlt;s&&t.push(s)}else t.push(...doe(n))}}),t}function e5(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?hD(a,i):a.dispatchEvent(i)}var FH=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),i=n>a;return t==="left"||t==="right"?i&&n>r:!i&&a>r};function PZe(e=()=>{}){const t=Di(e);ui(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function TZe(e){return e.nodeType===e.ELEMENT_NODE}function OZe(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function n6(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var DZe=eoe,foe=roe,hoe=aoe,poe=ioe,moe=soe,goe=loe,voe=zM;const IZe=DZe,yoe=S.forwardRef(({className:e,...t},r)=>l(foe,{ref:r,className:Lt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));yoe.displayName=foe.displayName;const RZe=Bw("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground",warning:"warning group border-yellow-200 bg-yellow-50 text-yellow-800 dark:border-yellow-700/50 dark:bg-yellow-900/30 dark:text-yellow-300"}},defaultVariants:{variant:"default"}}),xoe=S.forwardRef(({className:e,variant:t,...r},n)=>l(hoe,{ref:n,className:Lt(RZe({variant:t}),e),...r}));xoe.displayName=hoe.displayName;const MZe=S.forwardRef(({className:e,...t},r)=>l(goe,{ref:r,className:Lt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));MZe.displayName=goe.displayName;const woe=S.forwardRef(({className:e,...t},r)=>l(voe,{ref:r,className:Lt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:l(ed,{className:"h-4 w-4"})}));woe.displayName=voe.displayName;const boe=S.forwardRef(({className:e,...t},r)=>l(poe,{ref:r,className:Lt("text-sm font-semibold",e),...t}));boe.displayName=poe.displayName;const _oe=S.forwardRef(({className:e,...t},r)=>l(moe,{ref:r,className:Lt("text-sm opacity-90",e),...t}));_oe.displayName=moe.displayName;function FZe(){const{toasts:e}=bn();return x(IZe,{children:[e.map(function({id:t,title:r,description:n,action:a,...i}){return x(xoe,{...i,children:[x("div",{className:"grid gap-1",children:[r&&l(boe,{children:r}),n&&l(_oe,{children:n})]}),a,l(woe,{})]},t)}),l(yoe,{})]})}const LZe="https://i.postimg.cc/cL6vs7qQ/login-1.png",jZe=()=>{const{signIn:e}=di(),[t,r]=S.useState(""),[n,a]=S.useState(""),[i,s]=S.useState(!1),[o,c]=S.useState(null);return l("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-bl from-brand-dark via-brand-medium to-brand-light p-4",children:x("div",{className:"w-full max-w-4xl bg-white/95 rounded-2xl shadow-2xl overflow-hidden grid grid-cols-1 md:grid-cols-2 border border-white/10 backdrop-blur-sm",children:[x("div",{className:"p-8 md:p-12 flex flex-col justify-center",children:[l("h2",{className:"text-3xl font-bold text-center text-brand-dark mb-2 tracking-tight",children:"LOGIN"}),l("p",{className:"text-center text-gray-500 text-sm mb-8",children:"Access your AI-powered dashboard."}),x("form",{onSubmit:async h=>{h.preventDefault(),c(null),s(!0);try{await e(t,n),"Notification"in window&&Notification.permission!=="granted"&&Notification.requestPermission().then(m=>{m==="granted"&&console.log("Notification permission granted.")})}catch(m){console.error("Login failed:",m),c(m.message||"Failed to log in. Please check your credentials.")}finally{s(!1)}},className:"space-y-5",children:[x("div",{className:"relative group",children:[l(tr,{htmlFor:"email",className:"sr-only",children:"Email / Username"}),l(yi,{className:"absolute left-3.5 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 group-focus-within:text-brand-medium transition-colors duration-200"}),l(dt,{id:"email",type:"email",placeholder:"Email or Username",value:t,onChange:h=>r(h.target.value),required:!0,className:"pl-10 pr-4 py-3 w-full border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-light focus:border-transparent bg-gray-50 text-sm shadow-inner transition-colors duration-200"})]}),x("div",{className:"relative group",children:[l(tr,{htmlFor:"password",className:"sr-only",children:"Password"}),l(iG,{className:"absolute left-3.5 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 group-focus-within:text-brand-medium transition-colors duration-200"}),l(dt,{id:"password",type:"password",placeholder:"Password",value:n,onChange:h=>a(h.target.value),required:!0,className:"pl-10 pr-4 py-3 w-full border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-light focus:border-transparent bg-gray-50 text-sm shadow-inner transition-colors duration-200"})]}),o&&l("p",{className:"text-sm text-red-600 text-center",children:o}),l(Me,{type:"submit",className:"w-full bg-gradient-to-r from-brand-medium to-brand-dark hover:from-brand-medium/90 hover:to-brand-dark/90 text-white font-semibold py-3 px-4 rounded-lg shadow-md hover:shadow-lg transition-all duration-300 ease-in-out disabled:opacity-70",disabled:i,children:i?"Authenticating...":"Login Now"})]}),x("div",{className:"mt-8 text-center",children:[l("p",{className:"text-gray-500 text-xs uppercase tracking-wider mb-4",children:"Or login with"}),x("div",{className:"flex justify-center gap-4",children:[x(Me,{variant:"outline",onClick:()=>console.log("Google login clicked"),className:"flex items-center justify-center gap-2 border-gray-300 hover:border-brand-light hover:bg-gray-100 rounded-lg px-6 py-2 text-sm text-gray-700 transition-colors duration-200 shadow-sm",children:[l(QH,{className:"h-4 w-4"})," Google"]}),x(Me,{variant:"outline",onClick:()=>console.log("Facebook login clicked"),className:"flex items-center justify-center gap-2 border-gray-300 hover:border-brand-light hover:bg-gray-100 rounded-lg px-6 py-2 text-sm text-gray-700 transition-colors duration-200 shadow-sm",children:[l(rG,{className:"h-4 w-4"})," Facebook"]})]})]}),x("p",{className:"mt-8 text-center text-sm text-gray-600",children:["Need an account?"," ",l(Ki,{to:"/signup",className:"font-semibold text-brand-medium hover:text-brand-dark hover:underline",children:"Sign up Free"})]})]}),x("div",{className:"hidden md:flex items-center justify-center p-8 bg-gradient-to-br from-brand-light via-brand-medium to-brand-dark relative overflow-hidden rounded-r-2xl",children:[x("div",{className:"relative w-full max-w-sm aspect-[3/4] bg-white/10 backdrop-blur-xl rounded-xl shadow-xl border border-white/20 p-4 flex items-center justify-center",children:[l("img",{src:LZe,alt:"AI Tech Feature",className:"max-w-full max-h-full object-contain rounded-lg opacity-95"}),l(JH,{className:"absolute top-4 right-4 h-8 w-8 text-white/60 opacity-70"})]}),l("div",{className:"absolute -bottom-1/4 -left-1/4 w-2/3 h-2/3 bg-brand-very-light/5 rounded-full blur-3xl opacity-50 animate-pulse"}),l("div",{className:"absolute -top-1/4 -right-1/3 w-1/2 h-1/2 bg-white/5 rounded-full blur-3xl opacity-40 animate-pulse animation-delay-2000"})]})]})})},$Ze="https://i.postimg.cc/cL6vs7qQ/login-1.png",BZe=()=>{const{toast:e}=bn(),[t,r]=S.useState(""),[n,a]=S.useState(""),[i,s]=S.useState(""),[o,c]=S.useState(!1),[u,d]=S.useState(!1),[f,h]=S.useState(null);return l("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-bl from-brand-dark via-brand-medium to-brand-light p-4",children:x("div",{className:"w-full max-w-4xl bg-white/90 rounded-2xl shadow-2xl overflow-hidden grid grid-cols-1 md:grid-cols-2 border border-white/10 backdrop-blur-sm",children:[x("div",{className:"p-8 md:p-12 flex flex-col justify-center",children:[l("h2",{className:"text-3xl font-bold text-center text-brand-dark mb-2 tracking-tight",children:"SIGN UP"}),l("p",{className:"text-center text-gray-500 text-sm mb-8",children:"Create your account to unlock AI features."}),x("form",{onSubmit:async y=>{var b,_;if(y.preventDefault(),h(null),!o){h("You must agree to the Terms & Privacy policy.");return}d(!0);try{const{data:N,error:E}=await je.auth.signUp({email:n,password:i,options:{data:{full_name:t}}});if(E)throw E;e({title:"Account Created!",description:((_=(b=N.user)==null?void 0:b.identities)==null?void 0:_.length)===0?"Please check your email to confirm your account.":"You can now log in.",variant:"default"}),r(""),a(""),s(""),c(!1)}catch(N){console.error("Sign up failed:",N),h(N.message||"Failed to create account. Please try again."),e({title:"Sign Up Error",description:N.message||"An unexpected error occurred.",variant:"destructive"})}finally{d(!1)}},className:"space-y-5",children:[x("div",{className:"relative group",children:[l(tr,{htmlFor:"name",className:"sr-only",children:"Full Name"}),l(yi,{className:"absolute left-3.5 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 group-focus-within:text-brand-medium transition-colors duration-200"}),l(dt,{id:"name",type:"text",placeholder:"Full Name",value:t,onChange:y=>r(y.target.value),required:!0,className:"pl-10 pr-4 py-3 w-full border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-light focus:border-transparent bg-brand-very-light/20 text-sm shadow-inner transition-colors duration-200"})]}),x("div",{className:"relative group",children:[l(tr,{htmlFor:"email",className:"sr-only",children:"Email"}),l(b4,{className:"absolute left-3.5 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 group-focus-within:text-brand-medium transition-colors duration-200"}),l(dt,{id:"email",type:"email",placeholder:"Email Address",value:n,onChange:y=>a(y.target.value),required:!0,className:"pl-10 pr-4 py-3 w-full border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-light focus:border-transparent bg-brand-very-light/20 text-sm shadow-inner transition-colors duration-200"})]}),x("div",{className:"relative group",children:[l(tr,{htmlFor:"password",className:"sr-only",children:"Password"}),l(iG,{className:"absolute left-3.5 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 group-focus-within:text-brand-medium transition-colors duration-200"}),l(dt,{id:"password",type:"password",placeholder:"Password (min 8 characters)",value:i,onChange:y=>s(y.target.value),required:!0,minLength:8,className:"pl-10 pr-4 py-3 w-full border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-light focus:border-transparent bg-brand-very-light/20 text-sm shadow-inner transition-colors duration-200"})]}),x("div",{className:"flex items-center space-x-2 pt-1",children:[l(Fo,{id:"terms",checked:o,onCheckedChange:y=>c(y),className:"border-gray-300 data-[state=checked]:bg-brand-dark data-[state=checked]:border-brand-dark data-[state=checked]:text-white focus:ring-brand-light focus:ring-offset-white"}),x("label",{htmlFor:"terms",className:"text-xs font-medium text-gray-600 leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:["I agree to the ",l("a",{href:"/terms",target:"_blank",rel:"noopener noreferrer",className:"text-brand-medium hover:text-brand-dark hover:underline",children:"Terms"})," & ",l("a",{href:"/privacy",target:"_blank",rel:"noopener noreferrer",className:"text-brand-medium hover:text-brand-dark hover:underline",children:"Privacy Policy"})]})]}),f&&l("p",{className:"text-sm text-red-600 text-center pt-1",children:f}),l(Me,{type:"submit",className:"w-full bg-gradient-to-r from-brand-medium to-brand-dark hover:shadow-lg hover:opacity-95 text-white font-semibold py-3 px-4 rounded-lg shadow-md transition-all duration-300 ease-in-out disabled:opacity-70",disabled:u||!o,children:u?"Creating Account...":"Sign Up Now"})]}),x("div",{className:"mt-8 text-center",children:[l("p",{className:"text-gray-500 text-xs uppercase tracking-wider mb-4",children:"Or sign up with"}),x("div",{className:"flex justify-center gap-4",children:[x(Me,{variant:"outline",onClick:()=>console.log("Google login clicked"),className:"flex items-center justify-center gap-2 border-gray-300 hover:border-brand-light hover:bg-brand-very-light/20 rounded-lg px-6 py-2 text-sm text-gray-700 transition-colors duration-200 shadow-sm",children:[l(QH,{className:"h-4 w-4"})," Google"]}),x(Me,{variant:"outline",onClick:()=>console.log("Facebook login clicked"),className:"flex items-center justify-center gap-2 border-gray-300 hover:border-brand-light hover:bg-brand-very-light/20 rounded-lg px-6 py-2 text-sm text-gray-700 transition-colors duration-200 shadow-sm",children:[l(rG,{className:"h-4 w-4"})," Facebook"]})]})]}),x("p",{className:"mt-8 text-center text-sm text-gray-600",children:["Already have an account?"," ",l(Ki,{to:"/login",className:"font-semibold text-brand-medium hover:text-brand-dark hover:underline",children:"Log In"})]})]}),x("div",{className:"hidden md:flex items-center justify-center p-8 bg-gradient-to-br from-brand-light via-brand-medium to-brand-dark relative overflow-hidden rounded-r-2xl",children:[x("div",{className:"relative w-full max-w-sm aspect-[3/4] bg-white/10 backdrop-blur-xl rounded-xl shadow-xl border border-white/20 p-4 flex items-center justify-center",children:[l("img",{src:$Ze,alt:"AI Tech Feature",className:"max-w-full max-h-full object-contain rounded-lg opacity-95"}),l(JH,{className:"absolute top-4 right-4 h-8 w-8 text-white/60 opacity-70"})]}),l("div",{className:"absolute -bottom-1/4 -left-1/4 w-2/3 h-2/3 bg-brand-very-light/5 rounded-full blur-3xl opacity-50 animate-pulse"}),l("div",{className:"absolute -top-1/4 -right-1/3 w-1/2 h-1/2 bg-white/5 rounded-full blur-3xl opacity-40 animate-pulse animation-delay-2000"})]})]})})};function UZe(){const[e,t]=S.useState([]),[r,n]=S.useState(!0),a=S.useCallback(async()=>{try{n(!0);const[i,s,o,c]=await Promise.all([It.patients.getAll(),It.patients.getTreatmentPlans(null),It.patients.getMedicalRecords(null),It.appointments.getAll()]),u=w=>{if(!w)return"Unknown Patient";const g=i.find(y=>y.id===w);return g?`${g.first_name} ${g.last_name}`:"Unknown Patient"},d=c.filter(w=>w.status==="completed"&&w.start_time).map(w=>({id:w.id,type:"appointment",title:`Appointment ${w.type||""} Completed`,patientName:w.patients?`${w.patients.first_name} ${w.patients.last_name}`:"Unknown Patient",itemName:w.type||"Appointment",staffName:w.staff?`${w.staff.first_name} ${w.staff.last_name}`:void 0,timestamp:Wr(w.start_time),icon:yi,details:`Notes: ${w.notes||"N/A"}`})),f=s.flatMap(w=>{const g=u(w.patient_id);return(w.treatments||[]).filter(y=>y.status==="completed"&&y.updated_at).map(y=>({id:y.id,type:"treatment",title:"Treatment Completed",patientName:g,itemName:y.type||"Treatment",timestamp:Wr(y.updated_at),icon:rm,details:`Notes: ${y.notes||"N/A"}`}))}),h=o.filter(w=>w.created_at).map(w=>({id:w.id,type:"record",title:"Medical Record Added",patientName:u(w.patient_id),itemName:w.record_type||"Medical Record",timestamp:Wr(w.created_at),icon:Us,details:`Summary: ${w.summary||"N/A"}`})),m=[...d,...f,...h].sort((w,g)=>g.timestamp.getTime()-w.timestamp.getTime());t(m)}catch(i){console.error("Error fetching activity log data:",i)}finally{n(!1)}},[]);return S.useEffect(()=>{a()},[a]),x("div",{className:"container mx-auto py-8",children:[l(Fa,{heading:"Full Activity Log",text:"Browse all recent activities in the system."}),x(id,{className:"h-[calc(100vh-200px)] mt-6",children:[" ",x("div",{className:"space-y-4 pr-4",children:[" ",r?l("p",{className:"text-center text-muted-foreground py-10",children:"Loading activities..."}):e.length>0?e.map(i=>{const s=i.icon||rm;return x(or,{className:"shadow-sm bg-card",children:[l(wr,{className:"pb-3 pt-4",children:x(_r,{className:"text-base flex items-center font-medium",children:[l("div",{className:`flex h-8 w-8 items-center justify-center rounded-full mr-3 flex-shrink-0 ${i.type==="appointment"?"bg-emerald-100":i.type==="treatment"?"bg-blue-100":"bg-purple-100"}`,children:l(s,{className:`h-5 w-5 ${i.type==="appointment"?"text-emerald-600":i.type==="treatment"?"text-blue-600":"text-purple-600"}`})}),i.title]})}),x(pr,{className:"space-y-1 text-sm pl-14 pr-6 pb-4",children:[i.patientName&&x("p",{children:[l("span",{className:"font-medium text-muted-foreground",children:"Patient:"})," ",i.patientName]}),i.itemName&&x("p",{children:[l("span",{className:"font-medium text-muted-foreground",children:"Item:"})," ",i.itemName]}),i.staffName&&x("p",{children:[l("span",{className:"font-medium text-muted-foreground",children:"Staff:"})," ",i.staffName]}),i.details&&x("p",{className:"text-xs italic text-muted-foreground",children:[l("span",{className:"font-medium not-italic",children:"Details:"})," ",i.details]}),l("p",{className:"text-xs text-muted-foreground pt-1",children:Rt(i.timestamp,"EEEE, MMM d, yyyy 'at' h:mm a")})]})]},i.id)}):l("p",{className:"text-center text-muted-foreground py-10",children:"No activities found."})]})]})]})}const a6={scheduled:"bg-blue-100 text-blue-700",confirmed:"bg-cyan-100 text-cyan-700",in_progress:"bg-yellow-100 text-yellow-800",completed:"bg-green-100 text-green-700",no_show:"bg-red-100 text-red-700",rebooked:"bg-purple-100 text-purple-700",cancelled:"bg-gray-200 text-gray-600"},E2={scheduled:"Scheduled",confirmed:"Confirmed",in_progress:"In Progress",completed:"Completed",no_show:"No Show",rebooked:"Rebooked",cancelled:"Cancelled"};function qZe(){const{toast:e}=bn(),[t,r]=S.useState(!0),[n,a]=S.useState([]),[i,s]=S.useState("all"),[o,c]=S.useState(""),[u,d]=S.useState(null),[f,h]=S.useState(!1),[m,w]=S.useState([]),[g,y]=S.useState(!1),[b,_]=S.useState([]),[N,E]=S.useState({}),[C,O]=S.useState(!0),P=async()=>{O(!0);const{data:j,error:T}=await je.from("treatment_plans").select("*").order("created_at",{ascending:!1});if(T){e({title:"Error",description:T.message,variant:"destructive"}),_([]),E({}),O(!1);return}_(j||[]);const I={};for(const B of j||[]){const{data:G}=await je.from("treatments").select("*").eq("plan_id",B.id).order("created_at",{ascending:!0});I[B.id]=G||[]}E(I),O(!1)};S.useEffect(()=>{P()},[e]);const M=async j=>{y(!0),w([]);const{data:T,error:I}=await je.from("visit_logs").select("*, profiles:performed_by(first_name, last_name)").eq("visit_id",j).order("timestamp",{ascending:!1});I?(e({title:"Error",description:I.message,variant:"destructive"}),w([])):w((T||[]).map(B=>({...B,user_name:B.profiles?`${B.profiles.first_name||""} ${B.profiles.last_name||""}`.trim():"Unknown"}))),y(!1)};n.filter(j=>{var T;return!(i!=="all"&&j.status!==i||o&&!(j.completion_notes?JSON.stringify(j.completion_notes).toLowerCase().includes(o.toLowerCase()):(T=j.description)!=null&&T.toLowerCase().includes(o.toLowerCase())))});const L=async j=>{d(j),h(!0),await M(j.id)};return x("div",{className:"p-6 max-w-6xl mx-auto",children:[x("div",{className:"flex items-center justify-between mb-6",children:[l("h1",{className:"text-2xl font-bold",children:"Visit Lifecycle Management"}),x(Me,{onClick:()=>window.location.reload(),variant:"outline",children:[l(d6,{className:"w-4 h-4 mr-2"})," Refresh"]})]}),x("div",{className:"flex gap-4 mb-4",children:[l(dt,{placeholder:"Search by procedure...",value:o,onChange:j=>c(j.target.value),className:"max-w-xs"}),x(Ur,{value:i,onValueChange:s,children:[l(jr,{className:"w-[180px]",children:l(qr,{placeholder:"Filter by status"})}),x($r,{children:[l(mt,{value:"all",children:"All Statuses"}),l(mt,{value:"scheduled",children:"Scheduled"}),l(mt,{value:"confirmed",children:"Confirmed"}),l(mt,{value:"in_progress",children:"In Progress"}),l(mt,{value:"completed",children:"Completed"}),l(mt,{value:"no_show",children:"No Show"}),l(mt,{value:"rebooked",children:"Rebooked"}),l(mt,{value:"cancelled",children:"Cancelled"})]})]})]}),C?l("div",{className:"flex justify-center my-12",children:l(Fn,{className:"h-8 w-8 animate-spin text-primary"})}):b.length===0?l("div",{className:"text-center py-8 text-muted-foreground",children:"No treatment plans found."}):l("div",{className:"space-y-10",children:b.map(j=>{const T=N[j.id]||[],I=T.filter(B=>B.status==="completed").length;return x("div",{className:"bg-white rounded-lg shadow p-6",children:[x("div",{className:"flex items-center justify-between mb-4",children:[x("div",{children:[l("h2",{className:"text-xl font-bold mb-1",children:j.title||"Untitled Plan"}),l("div",{className:"text-sm text-muted-foreground",children:j.description})]}),x("div",{className:"flex flex-col items-end",children:[x("span",{className:"text-xs font-semibold text-primary",children:[I," of ",T.length," visits completed"]}),l("div",{className:"w-40 h-2 bg-slate-200 rounded mt-1",children:l("div",{className:"h-2 bg-primary rounded",style:{width:`${T.length?I/T.length*100:0}%`}})})]})]}),l("div",{className:"border-l-4 border-primary/30 pl-6 space-y-8",children:T.length===0?l("div",{className:"text-muted-foreground text-sm",children:"No visits for this plan."}):l("div",{className:"overflow-x-auto py-4",children:l("div",{className:"flex items-center gap-8 min-w-max",children:T.map((B,G)=>x(tt.Fragment,{children:[x("div",{className:`rounded-xl shadow-lg px-6 py-4 bg-white border-2 ${B.status==="completed"?"border-green-400":B.status==="pending"?"border-yellow-400":"border-gray-200"}`,style:{minWidth:260,maxWidth:320},children:[x("div",{className:"flex items-center gap-2 mb-2",children:[l("span",{className:`px-2 py-1 rounded text-xs font-semibold ${a6[B.status]||"bg-slate-100 text-gray-700"}`,children:E2[B.status]||B.status}),x("span",{className:"font-bold text-lg",children:["Visit ",G+1]})]}),l("div",{className:"text-sm font-medium mb-1 truncate",children:B.type||B.description}),x("div",{className:"text-xs mb-1",children:[l("b",{children:"Scheduled:"})," ",B.completion_date?Rt(new Date(B.completion_date),"yyyy-MM-dd HH:mm"):"-"]}),x("div",{className:"text-xs mb-1",children:[l("b",{children:"Actual:"})," ",B.actual_start_time?Rt(new Date(B.actual_start_time),"yyyy-MM-dd HH:mm"):"-"]}),x("div",{className:"text-xs mb-1",children:[l("b",{children:"Procedures:"})," ",B.description||"-"]}),x("div",{className:"text-xs mb-1",children:[l("b",{children:"Doctor:"})," Dr. John Doe"]}),x("div",{className:"text-xs mb-1",children:[l("b",{children:"Notes:"})," ",B.completion_notes||"-"]}),l("div",{className:"flex gap-2 mt-2",children:x(Me,{size:"sm",variant:"outline",onClick:()=>L(B),children:[l(y1,{className:"w-4 h-4 mr-1"})," Details"]})})]}),G<T.length-1&&l("div",{className:"flex-shrink-0 h-1 w-12 border-t-2 border-dashed border-primary/40 mx-2"})]},B.id))})})})]},j.id)})}),f&&u&&l("div",{className:"fixed inset-0 bg-black/30 flex items-center justify-center z-50",children:x("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-lg relative animate-fade-in",children:[l("button",{className:"absolute top-2 right-2 text-gray-400 hover:text-gray-700 text-2xl",onClick:()=>h(!1),children:"×"}),x("h2",{className:"text-xl font-bold mb-2 flex items-center gap-2",children:[l(y1,{className:"w-5 h-5 text-primary"})," Visit Details"]}),l("div",{className:"mb-2 flex items-center gap-2",children:l("span",{className:`px-2 py-1 rounded text-xs font-semibold ${a6[u.status]||"bg-slate-100 text-gray-700"}`,children:E2[u.status]||u.status})}),x("div",{className:"mb-2",children:[l("b",{children:"Scheduled:"})," ",u.completion_date?Rt(new Date(u.completion_date),"yyyy-MM-dd HH:mm"):"-"]}),x("div",{className:"mb-2",children:[l("b",{children:"Actual:"})," ",u.actual_start_time?Rt(new Date(u.actual_start_time),"yyyy-MM-dd HH:mm"):"-"]}),x("div",{className:"mb-2",children:[l("b",{children:"Procedures:"})," ",u.description||"-"]}),x("div",{className:"mb-2",children:[l("b",{children:"Doctor Notes:"})," ",u.completion_notes||"-"]}),x("div",{className:"mt-6",children:[x("h3",{className:"font-semibold mb-2 flex items-center gap-2 text-primary",children:[l(Nce,{className:"w-4 h-4"})," Visit Audit Log"]}),g?x("div",{className:"flex items-center gap-2 text-muted-foreground",children:[l(Fn,{className:"w-4 h-4 animate-spin"})," Loading log..."]}):m.length===0?l("div",{className:"text-muted-foreground text-sm",children:"No audit log entries for this visit."}):l("ol",{className:"relative border-l border-primary/30 ml-2",children:m.map(j=>x("li",{className:"mb-6 ml-4",children:[x("div",{className:"flex items-center gap-2 mb-1",children:[l("span",{className:`px-2 py-1 rounded text-xs font-semibold ${a6[j.new_status]||"bg-slate-100 text-gray-700"}`,children:E2[j.new_status]||j.new_status}),l("span",{className:"text-xs text-gray-500",children:Rt(new Date(j.timestamp),"yyyy-MM-dd HH:mm")})]}),l("div",{className:"text-sm font-medium",children:j.action}),x("div",{className:"text-xs text-gray-600",children:["By: ",j.user_name||"Unknown"]}),j.notes&&x("div",{className:"text-xs text-gray-500 italic",children:["Notes: ",j.notes]}),j.previous_status&&j.new_status&&x("div",{className:"text-xs text-gray-400",children:["Status: ",E2[j.previous_status]||j.previous_status," → ",E2[j.new_status]||j.new_status]})]},j.id))})]}),l("div",{className:"flex justify-end mt-6",children:l(Me,{size:"sm",variant:"destructive",onClick:()=>h(!1),children:"Close"})})]})})]})}function zZe(){const{user:e,loading:t}=di();return t?l("div",{className:"flex items-center justify-center min-h-screen",children:l(Fn,{className:"w-8 h-8 animate-spin text-primary"})}):x(ace,{children:[e?x($n,{path:"/",element:l(Z1e,{}),children:[l($n,{index:!0,element:l(Y8e,{})})," ",l($n,{path:"appointments",element:l(kIe,{})}),l($n,{path:"patients",element:l(NW,{})}),l($n,{path:"patients/:id",element:l(NW,{})})," ",l($n,{path:"treatment-plans",element:l(QFe,{})}),l($n,{path:"treatment-plans/visit-lifecycle",element:l(qZe,{})}),l($n,{path:"profile",element:l(cLe,{})}),l($n,{path:"settings",element:l(iLe,{})}),l($n,{path:"payments-subscription",element:l(dLe,{})}),l($n,{path:"patient-medical-records",element:l(fLe,{})}),l($n,{path:"activity-log",element:l(UZe,{})})," ",x($n,{element:l(pZe,{}),children:[l($n,{path:"inventory",element:l(jYe,{})}),l($n,{path:"inventory/create-adjustment",element:l(lZe,{})})," ",l($n,{path:"inventory/stock-take",element:l(cZe,{})})," ",l($n,{path:"inventory/invoices",element:l(BYe,{})})," ",l($n,{path:"purchases",element:l(AXe,{})})," ",l($n,{path:"purchases/create",element:l(mJe,{})})," "," ",l($n,{path:"purchases/urgent",element:l(ZJe,{})})," ",l($n,{path:"purchases/urgent/history",element:l(eZe,{})})," ",l($n,{path:"purchases/urgent/my-requests",element:l(tZe,{})})," ",l($n,{path:"purchases/urgent/:id",element:l(QJe,{})})," ",l($n,{path:"purchases/:id",element:l(UJe,{})})," ",l($n,{path:"assets",element:l(XKe,{})}),l($n,{path:"assets/:assetId",element:l(JKe,{})})," ",l($n,{path:"reports",element:l(cXe,{})}),l($n,{path:"reminders",element:l(hXe,{})})]}),l($n,{path:"inventory-approvals",element:l(dZe,{})}),l($n,{path:"search",element:l(hZe,{})}),l($n,{path:"*",element:l(s6,{to:"/",replace:!0})})]}):x(Nr,{children:[l($n,{path:"/login",element:l(jZe,{})}),l($n,{path:"/signup",element:l(BZe,{})}),l($n,{path:"*",element:l(s6,{to:"/login",replace:!0})})]}),l($n,{path:"/approve-adjustment/:requestId/:approvalToken",element:l(fZe,{})})]})}function WZe(){return l(U0e,{children:x(fce,{children:[l(zZe,{})," ",l(FZe,{})]})})}ule.createRoot(document.getElementById("root")).render(l(S.StrictMode,{children:l(WZe,{})}));export{Ca as _,n_ as c,ma as g};
