var qse=Object.defineProperty;var zse=(e,t,r)=>t in e?qse(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var hr=(e,t,r)=>zse(e,typeof t!="symbol"?t+"":t,r);function Wse(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var V_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ia(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Vse(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var BA={exports:{}},En={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M7;function Hse(){if(M7)return En;M7=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;function h(J){return J===null||typeof J!="object"?null:(J=f&&J[f]||J["@@iterator"],typeof J=="function"?J:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,g={};function y(J,D,Y){this.props=J,this.context=D,this.refs=g,this.updater=Y||m}y.prototype.isReactComponent={},y.prototype.setState=function(J,D){if(typeof J!="object"&&typeof J!="function"&&J!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,J,D,"setState")},y.prototype.forceUpdate=function(J){this.updater.enqueueForceUpdate(this,J,"forceUpdate")};function _(){}_.prototype=y.prototype;function b(J,D,Y){this.props=J,this.context=D,this.refs=g,this.updater=Y||m}var S=b.prototype=new _;S.constructor=b,x(S,y.prototype),S.isPureReactComponent=!0;var C=Array.isArray,E=Object.prototype.hasOwnProperty,O={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function I(J,D,Y){var Q,ie={},se=null,te=null;if(D!=null)for(Q in D.ref!==void 0&&(te=D.ref),D.key!==void 0&&(se=""+D.key),D)E.call(D,Q)&&!P.hasOwnProperty(Q)&&(ie[Q]=D[Q]);var de=arguments.length-2;if(de===1)ie.children=Y;else if(1<de){for(var Z=Array(de),ce=0;ce<de;ce++)Z[ce]=arguments[ce+2];ie.children=Z}if(J&&J.defaultProps)for(Q in de=J.defaultProps,de)ie[Q]===void 0&&(ie[Q]=de[Q]);return{$$typeof:e,type:J,key:se,ref:te,props:ie,_owner:O.current}}function L(J,D){return{$$typeof:e,type:J.type,key:D,ref:J.ref,props:J.props,_owner:J._owner}}function U(J){return typeof J=="object"&&J!==null&&J.$$typeof===e}function T(J){var D={"=":"=0",":":"=2"};return"$"+J.replace(/[=:]/g,function(Y){return D[Y]})}var F=/\/+/g;function j(J,D){return typeof J=="object"&&J!==null&&J.key!=null?T(""+J.key):D.toString(36)}function H(J,D,Y,Q,ie){var se=typeof J;(se==="undefined"||se==="boolean")&&(J=null);var te=!1;if(J===null)te=!0;else switch(se){case"string":case"number":te=!0;break;case"object":switch(J.$$typeof){case e:case t:te=!0}}if(te)return te=J,ie=ie(te),J=Q===""?"."+j(te,0):Q,C(ie)?(Y="",J!=null&&(Y=J.replace(F,"$&/")+"/"),H(ie,D,Y,"",function(ce){return ce})):ie!=null&&(U(ie)&&(ie=L(ie,Y+(!ie.key||te&&te.key===ie.key?"":(""+ie.key).replace(F,"$&/")+"/")+J)),D.push(ie)),1;if(te=0,Q=Q===""?".":Q+":",C(J))for(var de=0;de<J.length;de++){se=J[de];var Z=Q+j(se,de);te+=H(se,D,Y,Z,ie)}else if(Z=h(J),typeof Z=="function")for(J=Z.call(J),de=0;!(se=J.next()).done;)se=se.value,Z=Q+j(se,de++),te+=H(se,D,Y,Z,ie);else if(se==="object")throw D=String(J),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(J).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.");return te}function X(J,D,Y){if(J==null)return J;var Q=[],ie=0;return H(J,Q,"","",function(se){return D.call(Y,se,ie++)}),Q}function re(J){if(J._status===-1){var D=J._result;D=D(),D.then(function(Y){(J._status===0||J._status===-1)&&(J._status=1,J._result=Y)},function(Y){(J._status===0||J._status===-1)&&(J._status=2,J._result=Y)}),J._status===-1&&(J._status=0,J._result=D)}if(J._status===1)return J._result.default;throw J._result}var z={current:null},G={transition:null},q={ReactCurrentDispatcher:z,ReactCurrentBatchConfig:G,ReactCurrentOwner:O};function K(){throw Error("act(...) is not supported in production builds of React.")}return En.Children={map:X,forEach:function(J,D,Y){X(J,function(){D.apply(this,arguments)},Y)},count:function(J){var D=0;return X(J,function(){D++}),D},toArray:function(J){return X(J,function(D){return D})||[]},only:function(J){if(!U(J))throw Error("React.Children.only expected to receive a single React element child.");return J}},En.Component=y,En.Fragment=r,En.Profiler=a,En.PureComponent=b,En.StrictMode=n,En.Suspense=l,En.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q,En.act=K,En.cloneElement=function(J,D,Y){if(J==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+J+".");var Q=x({},J.props),ie=J.key,se=J.ref,te=J._owner;if(D!=null){if(D.ref!==void 0&&(se=D.ref,te=O.current),D.key!==void 0&&(ie=""+D.key),J.type&&J.type.defaultProps)var de=J.type.defaultProps;for(Z in D)E.call(D,Z)&&!P.hasOwnProperty(Z)&&(Q[Z]=D[Z]===void 0&&de!==void 0?de[Z]:D[Z])}var Z=arguments.length-2;if(Z===1)Q.children=Y;else if(1<Z){de=Array(Z);for(var ce=0;ce<Z;ce++)de[ce]=arguments[ce+2];Q.children=de}return{$$typeof:e,type:J.type,key:ie,ref:se,props:Q,_owner:te}},En.createContext=function(J){return J={$$typeof:o,_currentValue:J,_currentValue2:J,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},J.Provider={$$typeof:i,_context:J},J.Consumer=J},En.createElement=I,En.createFactory=function(J){var D=I.bind(null,J);return D.type=J,D},En.createRef=function(){return{current:null}},En.forwardRef=function(J){return{$$typeof:s,render:J}},En.isValidElement=U,En.lazy=function(J){return{$$typeof:d,_payload:{_status:-1,_result:J},_init:re}},En.memo=function(J,D){return{$$typeof:u,type:J,compare:D===void 0?null:D}},En.startTransition=function(J){var D=G.transition;G.transition={};try{J()}finally{G.transition=D}},En.unstable_act=K,En.useCallback=function(J,D){return z.current.useCallback(J,D)},En.useContext=function(J){return z.current.useContext(J)},En.useDebugValue=function(){},En.useDeferredValue=function(J){return z.current.useDeferredValue(J)},En.useEffect=function(J,D){return z.current.useEffect(J,D)},En.useId=function(){return z.current.useId()},En.useImperativeHandle=function(J,D,Y){return z.current.useImperativeHandle(J,D,Y)},En.useInsertionEffect=function(J,D){return z.current.useInsertionEffect(J,D)},En.useLayoutEffect=function(J,D){return z.current.useLayoutEffect(J,D)},En.useMemo=function(J,D){return z.current.useMemo(J,D)},En.useReducer=function(J,D,Y){return z.current.useReducer(J,D,Y)},En.useRef=function(J){return z.current.useRef(J)},En.useState=function(J){return z.current.useState(J)},En.useSyncExternalStore=function(J,D,Y){return z.current.useSyncExternalStore(J,D,Y)},En.useTransition=function(){return z.current.useTransition()},En.version="18.3.1",En}var F7;function n4(){return F7||(F7=1,BA.exports=Hse()),BA.exports}var A=n4();const Qe=ia(A),tx=Wse({__proto__:null,default:Qe},[A]);var H_={},UA={exports:{}},Nl={},qA={exports:{}},zA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L7;function Gse(){return L7||(L7=1,function(e){function t(G,q){var K=G.length;G.push(q);e:for(;0<K;){var J=K-1>>>1,D=G[J];if(0<a(D,q))G[J]=q,G[K]=D,K=J;else break e}}function r(G){return G.length===0?null:G[0]}function n(G){if(G.length===0)return null;var q=G[0],K=G.pop();if(K!==q){G[0]=K;e:for(var J=0,D=G.length,Y=D>>>1;J<Y;){var Q=2*(J+1)-1,ie=G[Q],se=Q+1,te=G[se];if(0>a(ie,K))se<D&&0>a(te,ie)?(G[J]=te,G[se]=K,J=se):(G[J]=ie,G[Q]=K,J=Q);else if(se<D&&0>a(te,K))G[J]=te,G[se]=K,J=se;else break e}}return q}function a(G,q){var K=G.sortIndex-q.sortIndex;return K!==0?K:G.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],u=[],d=1,f=null,h=3,m=!1,x=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(G){for(var q=r(u);q!==null;){if(q.callback===null)n(u);else if(q.startTime<=G)n(u),q.sortIndex=q.expirationTime,t(l,q);else break;q=r(u)}}function C(G){if(g=!1,S(G),!x)if(r(l)!==null)x=!0,re(E);else{var q=r(u);q!==null&&z(C,q.startTime-G)}}function E(G,q){x=!1,g&&(g=!1,_(I),I=-1),m=!0;var K=h;try{for(S(q),f=r(l);f!==null&&(!(f.expirationTime>q)||G&&!T());){var J=f.callback;if(typeof J=="function"){f.callback=null,h=f.priorityLevel;var D=J(f.expirationTime<=q);q=e.unstable_now(),typeof D=="function"?f.callback=D:f===r(l)&&n(l),S(q)}else n(l);f=r(l)}if(f!==null)var Y=!0;else{var Q=r(u);Q!==null&&z(C,Q.startTime-q),Y=!1}return Y}finally{f=null,h=K,m=!1}}var O=!1,P=null,I=-1,L=5,U=-1;function T(){return!(e.unstable_now()-U<L)}function F(){if(P!==null){var G=e.unstable_now();U=G;var q=!0;try{q=P(!0,G)}finally{q?j():(O=!1,P=null)}}else O=!1}var j;if(typeof b=="function")j=function(){b(F)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,X=H.port2;H.port1.onmessage=F,j=function(){X.postMessage(null)}}else j=function(){y(F,0)};function re(G){P=G,O||(O=!0,j())}function z(G,q){I=y(function(){G(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(G){G.callback=null},e.unstable_continueExecution=function(){x||m||(x=!0,re(E))},e.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<G?Math.floor(1e3/G):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(G){switch(h){case 1:case 2:case 3:var q=3;break;default:q=h}var K=h;h=q;try{return G()}finally{h=K}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(G,q){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var K=h;h=G;try{return q()}finally{h=K}},e.unstable_scheduleCallback=function(G,q,K){var J=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?J+K:J):K=J,G){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=K+D,G={id:d++,callback:q,priorityLevel:G,startTime:K,expirationTime:D,sortIndex:-1},K>J?(G.sortIndex=K,t(u,G),r(l)===null&&G===r(u)&&(g?(_(I),I=-1):g=!0,z(C,K-J))):(G.sortIndex=D,t(l,G),x||m||(x=!0,re(E))),G},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(G){var q=h;return function(){var K=h;h=q;try{return G.apply(this,arguments)}finally{h=K}}}}(zA)),zA}var j7;function Yse(){return j7||(j7=1,qA.exports=Gse()),qA.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $7;function Kse(){if($7)return Nl;$7=1;var e=n4(),t=Yse();function r(p){for(var v="https://reactjs.org/docs/error-decoder.html?invariant="+p,k=1;k<arguments.length;k++)v+="&args[]="+encodeURIComponent(arguments[k]);return"Minified React error #"+p+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,a={};function i(p,v){o(p,v),o(p+"Capture",v)}function o(p,v){for(a[p]=v,p=0;p<v.length;p++)n.add(v[p])}var s=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},f={};function h(p){return l.call(f,p)?!0:l.call(d,p)?!1:u.test(p)?f[p]=!0:(d[p]=!0,!1)}function m(p,v,k,R){if(k!==null&&k.type===0)return!1;switch(typeof v){case"function":case"symbol":return!0;case"boolean":return R?!1:k!==null?!k.acceptsBooleans:(p=p.toLowerCase().slice(0,5),p!=="data-"&&p!=="aria-");default:return!1}}function x(p,v,k,R){if(v===null||typeof v>"u"||m(p,v,k,R))return!0;if(R)return!1;if(k!==null)switch(k.type){case 3:return!v;case 4:return v===!1;case 5:return isNaN(v);case 6:return isNaN(v)||1>v}return!1}function g(p,v,k,R,W,ee,me){this.acceptsBooleans=v===2||v===3||v===4,this.attributeName=R,this.attributeNamespace=W,this.mustUseProperty=k,this.propertyName=p,this.type=v,this.sanitizeURL=ee,this.removeEmptyString=me}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(p){y[p]=new g(p,0,!1,p,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(p){var v=p[0];y[v]=new g(v,1,!1,p[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(p){y[p]=new g(p,2,!1,p.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(p){y[p]=new g(p,2,!1,p,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(p){y[p]=new g(p,3,!1,p.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(p){y[p]=new g(p,3,!0,p,null,!1,!1)}),["capture","download"].forEach(function(p){y[p]=new g(p,4,!1,p,null,!1,!1)}),["cols","rows","size","span"].forEach(function(p){y[p]=new g(p,6,!1,p,null,!1,!1)}),["rowSpan","start"].forEach(function(p){y[p]=new g(p,5,!1,p.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function b(p){return p[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(p){var v=p.replace(_,b);y[v]=new g(v,1,!1,p,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(p){var v=p.replace(_,b);y[v]=new g(v,1,!1,p,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(p){var v=p.replace(_,b);y[v]=new g(v,1,!1,p,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(p){y[p]=new g(p,1,!1,p.toLowerCase(),null,!1,!1)}),y.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(p){y[p]=new g(p,1,!1,p.toLowerCase(),null,!0,!0)});function S(p,v,k,R){var W=y.hasOwnProperty(v)?y[v]:null;(W!==null?W.type!==0:R||!(2<v.length)||v[0]!=="o"&&v[0]!=="O"||v[1]!=="n"&&v[1]!=="N")&&(x(v,k,W,R)&&(k=null),R||W===null?h(v)&&(k===null?p.removeAttribute(v):p.setAttribute(v,""+k)):W.mustUseProperty?p[W.propertyName]=k===null?W.type===3?!1:"":k:(v=W.attributeName,R=W.attributeNamespace,k===null?p.removeAttribute(v):(W=W.type,k=W===3||W===4&&k===!0?"":""+k,R?p.setAttributeNS(R,v,k):p.setAttribute(v,k))))}var C=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),O=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),T=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),z=Symbol.for("react.offscreen"),G=Symbol.iterator;function q(p){return p===null||typeof p!="object"?null:(p=G&&p[G]||p["@@iterator"],typeof p=="function"?p:null)}var K=Object.assign,J;function D(p){if(J===void 0)try{throw Error()}catch(k){var v=k.stack.trim().match(/\n( *(at )?)/);J=v&&v[1]||""}return`
`+J+p}var Y=!1;function Q(p,v){if(!p||Y)return"";Y=!0;var k=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(v)if(v=function(){throw Error()},Object.defineProperty(v.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(v,[])}catch(vt){var R=vt}Reflect.construct(p,[],v)}else{try{v.call()}catch(vt){R=vt}p.call(v.prototype)}else{try{throw Error()}catch(vt){R=vt}p()}}catch(vt){if(vt&&R&&typeof vt.stack=="string"){for(var W=vt.stack.split(`
`),ee=R.stack.split(`
`),me=W.length-1,Pe=ee.length-1;1<=me&&0<=Pe&&W[me]!==ee[Pe];)Pe--;for(;1<=me&&0<=Pe;me--,Pe--)if(W[me]!==ee[Pe]){if(me!==1||Pe!==1)do if(me--,Pe--,0>Pe||W[me]!==ee[Pe]){var Ue=`
`+W[me].replace(" at new "," at ");return p.displayName&&Ue.includes("<anonymous>")&&(Ue=Ue.replace("<anonymous>",p.displayName)),Ue}while(1<=me&&0<=Pe);break}}}finally{Y=!1,Error.prepareStackTrace=k}return(p=p?p.displayName||p.name:"")?D(p):""}function ie(p){switch(p.tag){case 5:return D(p.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return p=Q(p.type,!1),p;case 11:return p=Q(p.type.render,!1),p;case 1:return p=Q(p.type,!0),p;default:return""}}function se(p){if(p==null)return null;if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p;switch(p){case P:return"Fragment";case O:return"Portal";case L:return"Profiler";case I:return"StrictMode";case j:return"Suspense";case H:return"SuspenseList"}if(typeof p=="object")switch(p.$$typeof){case T:return(p.displayName||"Context")+".Consumer";case U:return(p._context.displayName||"Context")+".Provider";case F:var v=p.render;return p=p.displayName,p||(p=v.displayName||v.name||"",p=p!==""?"ForwardRef("+p+")":"ForwardRef"),p;case X:return v=p.displayName||null,v!==null?v:se(p.type)||"Memo";case re:v=p._payload,p=p._init;try{return se(p(v))}catch{}}return null}function te(p){var v=p.type;switch(p.tag){case 24:return"Cache";case 9:return(v.displayName||"Context")+".Consumer";case 10:return(v._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return p=v.render,p=p.displayName||p.name||"",v.displayName||(p!==""?"ForwardRef("+p+")":"ForwardRef");case 7:return"Fragment";case 5:return v;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return se(v);case 8:return v===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof v=="function")return v.displayName||v.name||null;if(typeof v=="string")return v}return null}function de(p){switch(typeof p){case"boolean":case"number":case"string":case"undefined":return p;case"object":return p;default:return""}}function Z(p){var v=p.type;return(p=p.nodeName)&&p.toLowerCase()==="input"&&(v==="checkbox"||v==="radio")}function ce(p){var v=Z(p)?"checked":"value",k=Object.getOwnPropertyDescriptor(p.constructor.prototype,v),R=""+p[v];if(!p.hasOwnProperty(v)&&typeof k<"u"&&typeof k.get=="function"&&typeof k.set=="function"){var W=k.get,ee=k.set;return Object.defineProperty(p,v,{configurable:!0,get:function(){return W.call(this)},set:function(me){R=""+me,ee.call(this,me)}}),Object.defineProperty(p,v,{enumerable:k.enumerable}),{getValue:function(){return R},setValue:function(me){R=""+me},stopTracking:function(){p._valueTracker=null,delete p[v]}}}}function oe(p){p._valueTracker||(p._valueTracker=ce(p))}function ae(p){if(!p)return!1;var v=p._valueTracker;if(!v)return!0;var k=v.getValue(),R="";return p&&(R=Z(p)?p.checked?"true":"false":p.value),p=R,p!==k?(v.setValue(p),!0):!1}function Ne(p){if(p=p||(typeof document<"u"?document:void 0),typeof p>"u")return null;try{return p.activeElement||p.body}catch{return p.body}}function Ie(p,v){var k=v.checked;return K({},v,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:k??p._wrapperState.initialChecked})}function Te(p,v){var k=v.defaultValue==null?"":v.defaultValue,R=v.checked!=null?v.checked:v.defaultChecked;k=de(v.value!=null?v.value:k),p._wrapperState={initialChecked:R,initialValue:k,controlled:v.type==="checkbox"||v.type==="radio"?v.checked!=null:v.value!=null}}function he(p,v){v=v.checked,v!=null&&S(p,"checked",v,!1)}function Ge(p,v){he(p,v);var k=de(v.value),R=v.type;if(k!=null)R==="number"?(k===0&&p.value===""||p.value!=k)&&(p.value=""+k):p.value!==""+k&&(p.value=""+k);else if(R==="submit"||R==="reset"){p.removeAttribute("value");return}v.hasOwnProperty("value")?ht(p,v.type,k):v.hasOwnProperty("defaultValue")&&ht(p,v.type,de(v.defaultValue)),v.checked==null&&v.defaultChecked!=null&&(p.defaultChecked=!!v.defaultChecked)}function mt(p,v,k){if(v.hasOwnProperty("value")||v.hasOwnProperty("defaultValue")){var R=v.type;if(!(R!=="submit"&&R!=="reset"||v.value!==void 0&&v.value!==null))return;v=""+p._wrapperState.initialValue,k||v===p.value||(p.value=v),p.defaultValue=v}k=p.name,k!==""&&(p.name=""),p.defaultChecked=!!p._wrapperState.initialChecked,k!==""&&(p.name=k)}function ht(p,v,k){(v!=="number"||Ne(p.ownerDocument)!==p)&&(k==null?p.defaultValue=""+p._wrapperState.initialValue:p.defaultValue!==""+k&&(p.defaultValue=""+k))}var Pt=Array.isArray;function ft(p,v,k,R){if(p=p.options,v){v={};for(var W=0;W<k.length;W++)v["$"+k[W]]=!0;for(k=0;k<p.length;k++)W=v.hasOwnProperty("$"+p[k].value),p[k].selected!==W&&(p[k].selected=W),W&&R&&(p[k].defaultSelected=!0)}else{for(k=""+de(k),v=null,W=0;W<p.length;W++){if(p[W].value===k){p[W].selected=!0,R&&(p[W].defaultSelected=!0);return}v!==null||p[W].disabled||(v=p[W])}v!==null&&(v.selected=!0)}}function _e(p,v){if(v.dangerouslySetInnerHTML!=null)throw Error(r(91));return K({},v,{value:void 0,defaultValue:void 0,children:""+p._wrapperState.initialValue})}function Ce(p,v){var k=v.value;if(k==null){if(k=v.children,v=v.defaultValue,k!=null){if(v!=null)throw Error(r(92));if(Pt(k)){if(1<k.length)throw Error(r(93));k=k[0]}v=k}v==null&&(v=""),k=v}p._wrapperState={initialValue:de(k)}}function ze(p,v){var k=de(v.value),R=de(v.defaultValue);k!=null&&(k=""+k,k!==p.value&&(p.value=k),v.defaultValue==null&&p.defaultValue!==k&&(p.defaultValue=k)),R!=null&&(p.defaultValue=""+R)}function gt(p){var v=p.textContent;v===p._wrapperState.initialValue&&v!==""&&v!==null&&(p.value=v)}function pt(p){switch(p){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Re(p,v){return p==null||p==="http://www.w3.org/1999/xhtml"?pt(v):p==="http://www.w3.org/2000/svg"&&v==="foreignObject"?"http://www.w3.org/1999/xhtml":p}var qe,Nt=function(p){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(v,k,R,W){MSApp.execUnsafeLocalFunction(function(){return p(v,k,R,W)})}:p}(function(p,v){if(p.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in p)p.innerHTML=v;else{for(qe=qe||document.createElement("div"),qe.innerHTML="<svg>"+v.valueOf().toString()+"</svg>",v=qe.firstChild;p.firstChild;)p.removeChild(p.firstChild);for(;v.firstChild;)p.appendChild(v.firstChild)}});function Je(p,v){if(v){var k=p.firstChild;if(k&&k===p.lastChild&&k.nodeType===3){k.nodeValue=v;return}}p.textContent=v}var lt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sr=["Webkit","ms","Moz","O"];Object.keys(lt).forEach(function(p){sr.forEach(function(v){v=v+p.charAt(0).toUpperCase()+p.substring(1),lt[v]=lt[p]})});function Kt(p,v,k){return v==null||typeof v=="boolean"||v===""?"":k||typeof v!="number"||v===0||lt.hasOwnProperty(p)&&lt[p]?(""+v).trim():v+"px"}function Tr(p,v){p=p.style;for(var k in v)if(v.hasOwnProperty(k)){var R=k.indexOf("--")===0,W=Kt(k,v[k],R);k==="float"&&(k="cssFloat"),R?p.setProperty(k,W):p[k]=W}}var Kr=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ln(p,v){if(v){if(Kr[p]&&(v.children!=null||v.dangerouslySetInnerHTML!=null))throw Error(r(137,p));if(v.dangerouslySetInnerHTML!=null){if(v.children!=null)throw Error(r(60));if(typeof v.dangerouslySetInnerHTML!="object"||!("__html"in v.dangerouslySetInnerHTML))throw Error(r(61))}if(v.style!=null&&typeof v.style!="object")throw Error(r(62))}}function Aa(p,v){if(p.indexOf("-")===-1)return typeof v.is=="string";switch(p){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tn=null;function ka(p){return p=p.target||p.srcElement||window,p.correspondingUseElement&&(p=p.correspondingUseElement),p.nodeType===3?p.parentNode:p}var An=null,xa=null,wa=null;function kn(p){if(p=fp(p)){if(typeof An!="function")throw Error(r(280));var v=p.stateNode;v&&(v=o0(v),An(p.stateNode,p.type,v))}}function Dr(p){xa?wa?wa.push(p):wa=[p]:xa=p}function Nn(){if(xa){var p=xa,v=wa;if(wa=xa=null,kn(p),v)for(p=0;p<v.length;p++)kn(v[p])}}function is(p,v){return p(v)}function Na(){}var Di=!1;function it(p,v,k){if(Di)return p(v,k);Di=!0;try{return is(p,v,k)}finally{Di=!1,(xa!==null||wa!==null)&&(Na(),Nn())}}function xt(p,v){var k=p.stateNode;if(k===null)return null;var R=o0(k);if(R===null)return null;k=R[v];e:switch(v){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(R=!R.disabled)||(p=p.type,R=!(p==="button"||p==="input"||p==="select"||p==="textarea")),p=!R;break e;default:p=!1}if(p)return null;if(k&&typeof k!="function")throw Error(r(231,v,typeof k));return k}var et=!1;if(s)try{var wt={};Object.defineProperty(wt,"passive",{get:function(){et=!0}}),window.addEventListener("test",wt,wt),window.removeEventListener("test",wt,wt)}catch{et=!1}function vr(p,v,k,R,W,ee,me,Pe,Ue){var vt=Array.prototype.slice.call(arguments,3);try{v.apply(k,vt)}catch(jt){this.onError(jt)}}var Nr=!1,Qt=null,fe=!1,Se=null,ye={onError:function(p){Nr=!0,Qt=p}};function we(p,v,k,R,W,ee,me,Pe,Ue){Nr=!1,Qt=null,vr.apply(ye,arguments)}function be(p,v,k,R,W,ee,me,Pe,Ue){if(we.apply(this,arguments),Nr){if(Nr){var vt=Qt;Nr=!1,Qt=null}else throw Error(r(198));fe||(fe=!0,Se=vt)}}function ke(p){var v=p,k=p;if(p.alternate)for(;v.return;)v=v.return;else{p=v;do v=p,(v.flags&4098)!==0&&(k=v.return),p=v.return;while(p)}return v.tag===3?k:null}function tt(p){if(p.tag===13){var v=p.memoizedState;if(v===null&&(p=p.alternate,p!==null&&(v=p.memoizedState)),v!==null)return v.dehydrated}return null}function yt(p){if(ke(p)!==p)throw Error(r(188))}function Ke(p){var v=p.alternate;if(!v){if(v=ke(p),v===null)throw Error(r(188));return v!==p?null:p}for(var k=p,R=v;;){var W=k.return;if(W===null)break;var ee=W.alternate;if(ee===null){if(R=W.return,R!==null){k=R;continue}break}if(W.child===ee.child){for(ee=W.child;ee;){if(ee===k)return yt(W),p;if(ee===R)return yt(W),v;ee=ee.sibling}throw Error(r(188))}if(k.return!==R.return)k=W,R=ee;else{for(var me=!1,Pe=W.child;Pe;){if(Pe===k){me=!0,k=W,R=ee;break}if(Pe===R){me=!0,R=W,k=ee;break}Pe=Pe.sibling}if(!me){for(Pe=ee.child;Pe;){if(Pe===k){me=!0,k=ee,R=W;break}if(Pe===R){me=!0,R=ee,k=W;break}Pe=Pe.sibling}if(!me)throw Error(r(189))}}if(k.alternate!==R)throw Error(r(190))}if(k.tag!==3)throw Error(r(188));return k.stateNode.current===k?p:v}function ot(p){return p=Ke(p),p!==null?ut(p):null}function ut(p){if(p.tag===5||p.tag===6)return p;for(p=p.child;p!==null;){var v=ut(p);if(v!==null)return v;p=p.sibling}return null}var It=t.unstable_scheduleCallback,Yt=t.unstable_cancelCallback,or=t.unstable_shouldYield,Vt=t.unstable_requestPaint,Bt=t.unstable_now,Xr=t.unstable_getCurrentPriorityLevel,Ln=t.unstable_ImmediatePriority,Qn=t.unstable_UserBlockingPriority,Ua=t.unstable_NormalPriority,Ul=t.unstable_LowPriority,wc=t.unstable_IdlePriority,Us=null,vi=null;function _c(p){if(vi&&typeof vi.onCommitFiberRoot=="function")try{vi.onCommitFiberRoot(Us,p,void 0,(p.current.flags&128)===128)}catch{}}var qa=Math.clz32?Math.clz32:qg,li=Math.log,Ug=Math.LN2;function qg(p){return p>>>=0,p===0?32:31-(li(p)/Ug|0)|0}var _f=64,fd=4194304;function bf(p){switch(p&-p){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return p&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return p}}function os(p,v){var k=p.pendingLanes;if(k===0)return 0;var R=0,W=p.suspendedLanes,ee=p.pingedLanes,me=k&268435455;if(me!==0){var Pe=me&~W;Pe!==0?R=bf(Pe):(ee&=me,ee!==0&&(R=bf(ee)))}else me=k&~W,me!==0?R=bf(me):ee!==0&&(R=bf(ee));if(R===0)return 0;if(v!==0&&v!==R&&(v&W)===0&&(W=R&-R,ee=v&-v,W>=ee||W===16&&(ee&4194240)!==0))return v;if((R&4)!==0&&(R|=k&16),v=p.entangledLanes,v!==0)for(p=p.entanglements,v&=R;0<v;)k=31-qa(v),W=1<<k,R|=p[k],v&=~W;return R}function $h(p,v){switch(p){case 1:case 2:case 4:return v+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return v+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ss(p,v){for(var k=p.suspendedLanes,R=p.pingedLanes,W=p.expirationTimes,ee=p.pendingLanes;0<ee;){var me=31-qa(ee),Pe=1<<me,Ue=W[me];Ue===-1?((Pe&k)===0||(Pe&R)!==0)&&(W[me]=$h(Pe,v)):Ue<=v&&(p.expiredLanes|=Pe),ee&=~Pe}}function Sf(p){return p=p.pendingLanes&-1073741825,p!==0?p:p&1073741824?1073741824:0}function Um(){var p=_f;return _f<<=1,(_f&4194240)===0&&(_f=64),p}function qm(p){for(var v=[],k=0;31>k;k++)v.push(p);return v}function hd(p,v,k){p.pendingLanes|=v,v!==536870912&&(p.suspendedLanes=0,p.pingedLanes=0),p=p.eventTimes,v=31-qa(v),p[v]=k}function Cy(p,v){var k=p.pendingLanes&~v;p.pendingLanes=v,p.suspendedLanes=0,p.pingedLanes=0,p.expiredLanes&=v,p.mutableReadLanes&=v,p.entangledLanes&=v,v=p.entanglements;var R=p.eventTimes;for(p=p.expirationTimes;0<k;){var W=31-qa(k),ee=1<<W;v[W]=0,R[W]=-1,p[W]=-1,k&=~ee}}function Bh(p,v){var k=p.entangledLanes|=v;for(p=p.entanglements;k;){var R=31-qa(k),W=1<<R;W&v|p[R]&v&&(p[R]|=v),k&=~W}}var Un=0;function Uh(p){return p&=-p,1<p?4<p?(p&268435455)!==0?16:536870912:4:1}var zg,zm,Wg,bc,Af,pd=!1,kf=[],za=null,Sc=null,ql=null,Ur=new Map,Nf=new Map,Ac=[],kc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wm(p,v){switch(p){case"focusin":case"focusout":za=null;break;case"dragenter":case"dragleave":Sc=null;break;case"mouseover":case"mouseout":ql=null;break;case"pointerover":case"pointerout":Ur.delete(v.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nf.delete(v.pointerId)}}function md(p,v,k,R,W,ee){return p===null||p.nativeEvent!==ee?(p={blockedOn:v,domEventName:k,eventSystemFlags:R,nativeEvent:ee,targetContainers:[W]},v!==null&&(v=fp(v),v!==null&&zm(v)),p):(p.eventSystemFlags|=R,v=p.targetContainers,W!==null&&v.indexOf(W)===-1&&v.push(W),p)}function qh(p,v,k,R,W){switch(v){case"focusin":return za=md(za,p,v,k,R,W),!0;case"dragenter":return Sc=md(Sc,p,v,k,R,W),!0;case"mouseover":return ql=md(ql,p,v,k,R,W),!0;case"pointerover":var ee=W.pointerId;return Ur.set(ee,md(Ur.get(ee)||null,p,v,k,R,W)),!0;case"gotpointercapture":return ee=W.pointerId,Nf.set(ee,md(Nf.get(ee)||null,p,v,k,R,W)),!0}return!1}function zh(p){var v=Nd(p.target);if(v!==null){var k=ke(v);if(k!==null){if(v=k.tag,v===13){if(v=tt(k),v!==null){p.blockedOn=v,Af(p.priority,function(){Wg(k)});return}}else if(v===3&&k.stateNode.current.memoizedState.isDehydrated){p.blockedOn=k.tag===3?k.stateNode.containerInfo:null;return}}}p.blockedOn=null}function Wh(p){if(p.blockedOn!==null)return!1;for(var v=p.targetContainers;0<v.length;){var k=Hh(p.domEventName,p.eventSystemFlags,v[0],p.nativeEvent);if(k===null){k=p.nativeEvent;var R=new k.constructor(k.type,k);tn=R,k.target.dispatchEvent(R),tn=null}else return v=fp(k),v!==null&&zm(v),p.blockedOn=k,!1;v.shift()}return!0}function Vg(p,v,k){Wh(p)&&k.delete(v)}function Py(){pd=!1,za!==null&&Wh(za)&&(za=null),Sc!==null&&Wh(Sc)&&(Sc=null),ql!==null&&Wh(ql)&&(ql=null),Ur.forEach(Vg),Nf.forEach(Vg)}function su(p,v){p.blockedOn===v&&(p.blockedOn=null,pd||(pd=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Py)))}function zl(p){function v(W){return su(W,p)}if(0<kf.length){su(kf[0],p);for(var k=1;k<kf.length;k++){var R=kf[k];R.blockedOn===p&&(R.blockedOn=null)}}for(za!==null&&su(za,p),Sc!==null&&su(Sc,p),ql!==null&&su(ql,p),Ur.forEach(v),Nf.forEach(v),k=0;k<Ac.length;k++)R=Ac[k],R.blockedOn===p&&(R.blockedOn=null);for(;0<Ac.length&&(k=Ac[0],k.blockedOn===null);)zh(k),k.blockedOn===null&&Ac.shift()}var qs=C.ReactCurrentBatchConfig,Vh=!0;function Ef(p,v,k,R){var W=Un,ee=qs.transition;qs.transition=null;try{Un=1,gd(p,v,k,R)}finally{Un=W,qs.transition=ee}}function Vm(p,v,k,R){var W=Un,ee=qs.transition;qs.transition=null;try{Un=4,gd(p,v,k,R)}finally{Un=W,qs.transition=ee}}function gd(p,v,k,R){if(Vh){var W=Hh(p,v,k,R);if(W===null)n0(p,v,R,Cf,k),Wm(p,R);else if(qh(W,p,v,k,R))R.stopPropagation();else if(Wm(p,R),v&4&&-1<kc.indexOf(p)){for(;W!==null;){var ee=fp(W);if(ee!==null&&zg(ee),ee=Hh(p,v,k,R),ee===null&&n0(p,v,R,Cf,k),ee===W)break;W=ee}W!==null&&R.stopPropagation()}else n0(p,v,R,null,k)}}var Cf=null;function Hh(p,v,k,R){if(Cf=null,p=ka(R),p=Nd(p),p!==null)if(v=ke(p),v===null)p=null;else if(k=v.tag,k===13){if(p=tt(v),p!==null)return p;p=null}else if(k===3){if(v.stateNode.current.memoizedState.isDehydrated)return v.tag===3?v.stateNode.containerInfo:null;p=null}else v!==p&&(p=null);return Cf=p,null}function Hm(p){switch(p){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xr()){case Ln:return 1;case Qn:return 4;case Ua:case Ul:return 16;case wc:return 536870912;default:return 16}default:return 16}}var Wl=null,pl=null,ml=null;function Hg(){if(ml)return ml;var p,v=pl,k=v.length,R,W="value"in Wl?Wl.value:Wl.textContent,ee=W.length;for(p=0;p<k&&v[p]===W[p];p++);var me=k-p;for(R=1;R<=me&&v[k-R]===W[ee-R];R++);return ml=W.slice(p,1<R?1-R:void 0)}function Vl(p){var v=p.keyCode;return"charCode"in p?(p=p.charCode,p===0&&v===13&&(p=13)):p=v,p===10&&(p=13),32<=p||p===13?p:0}function ls(){return!0}function Gh(){return!1}function Ii(p){function v(k,R,W,ee,me){this._reactName=k,this._targetInst=W,this.type=R,this.nativeEvent=ee,this.target=me,this.currentTarget=null;for(var Pe in p)p.hasOwnProperty(Pe)&&(k=p[Pe],this[Pe]=k?k(ee):ee[Pe]);return this.isDefaultPrevented=(ee.defaultPrevented!=null?ee.defaultPrevented:ee.returnValue===!1)?ls:Gh,this.isPropagationStopped=Gh,this}return K(v.prototype,{preventDefault:function(){this.defaultPrevented=!0;var k=this.nativeEvent;k&&(k.preventDefault?k.preventDefault():typeof k.returnValue!="unknown"&&(k.returnValue=!1),this.isDefaultPrevented=ls)},stopPropagation:function(){var k=this.nativeEvent;k&&(k.stopPropagation?k.stopPropagation():typeof k.cancelBubble!="unknown"&&(k.cancelBubble=!0),this.isPropagationStopped=ls)},persist:function(){},isPersistent:ls}),v}var vd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(p){return p.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yd=Ii(vd),Pf=K({},vd,{view:0,detail:0}),Gm=Ii(Pf),Tf,Yh,Nc,xd=K({},Pf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cr,button:0,buttons:0,relatedTarget:function(p){return p.relatedTarget===void 0?p.fromElement===p.srcElement?p.toElement:p.fromElement:p.relatedTarget},movementX:function(p){return"movementX"in p?p.movementX:(p!==Nc&&(Nc&&p.type==="mousemove"?(Tf=p.screenX-Nc.screenX,Yh=p.screenY-Nc.screenY):Yh=Tf=0,Nc=p),Tf)},movementY:function(p){return"movementY"in p?p.movementY:Yh}}),Kh=Ii(xd),Gg=K({},xd,{dataTransfer:0}),Ty=Ii(Gg),Xh=K({},Pf,{relatedTarget:0}),lu=Ii(Xh),Ym=K({},vd,{animationName:0,elapsedTime:0,pseudoElement:0}),wd=Ii(Ym),Km=K({},vd,{clipboardData:function(p){return"clipboardData"in p?p.clipboardData:window.clipboardData}}),B=Ii(Km),ue=K({},vd,{data:0}),Ee=Ii(ue),$e={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},St={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mt(p){var v=this.nativeEvent;return v.getModifierState?v.getModifierState(p):(p=St[p])?!!v[p]:!1}function cr(){return Mt}var Ir=K({},Pf,{key:function(p){if(p.key){var v=$e[p.key]||p.key;if(v!=="Unidentified")return v}return p.type==="keypress"?(p=Vl(p),p===13?"Enter":String.fromCharCode(p)):p.type==="keydown"||p.type==="keyup"?rt[p.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cr,charCode:function(p){return p.type==="keypress"?Vl(p):0},keyCode:function(p){return p.type==="keydown"||p.type==="keyup"?p.keyCode:0},which:function(p){return p.type==="keypress"?Vl(p):p.type==="keydown"||p.type==="keyup"?p.keyCode:0}}),dn=Ii(Ir),un=K({},xd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tn=Ii(un),Wa=K({},Pf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cr}),ri=Ii(Wa),yi=K({},vd,{propertyName:0,elapsedTime:0,pseudoElement:0}),_o=Ii(yi),to=K({},xd,{deltaX:function(p){return"deltaX"in p?p.deltaX:"wheelDeltaX"in p?-p.wheelDeltaX:0},deltaY:function(p){return"deltaY"in p?p.deltaY:"wheelDeltaY"in p?-p.wheelDeltaY:"wheelDelta"in p?-p.wheelDelta:0},deltaZ:0,deltaMode:0}),Hl=Ii(to),zs=[9,13,27,32],gl=s&&"CompositionEvent"in window,_d=null;s&&"documentMode"in document&&(_d=document.documentMode);var Xm=s&&"TextEvent"in window&&!_d,Zh=s&&(!gl||_d&&8<_d&&11>=_d),Of=" ",Jh=!1;function Qh(p,v){switch(p){case"keyup":return zs.indexOf(v.keyCode)!==-1;case"keydown":return v.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Df(p){return p=p.detail,typeof p=="object"&&"data"in p?p.data:null}var ni=!1;function ep(p,v){switch(p){case"compositionend":return Df(v);case"keypress":return v.which!==32?null:(Jh=!0,Of);case"textInput":return p=v.data,p===Of&&Jh?null:p;default:return null}}function tp(p,v){if(ni)return p==="compositionend"||!gl&&Qh(p,v)?(p=Hg(),ml=pl=Wl=null,ni=!1,p):null;switch(p){case"paste":return null;case"keypress":if(!(v.ctrlKey||v.altKey||v.metaKey)||v.ctrlKey&&v.altKey){if(v.char&&1<v.char.length)return v.char;if(v.which)return String.fromCharCode(v.which)}return null;case"compositionend":return Zh&&v.locale!=="ko"?null:v.data;default:return null}}var rp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function np(p){var v=p&&p.nodeName&&p.nodeName.toLowerCase();return v==="input"?!!rp[p.type]:v==="textarea"}function qo(p,v,k,R){Dr(R),v=Zg(v,"onChange"),0<v.length&&(k=new yd("onChange","change",null,k,R),p.push({event:k,listeners:v}))}var If=null,cu=null;function Yg(p){t0(p,0)}function zo(p){var v=qf(p);if(ae(v))return p}function ap(p,v){if(p==="change")return v}var Zm=!1;if(s){var ip;if(s){var Ec="oninput"in document;if(!Ec){var bd=document.createElement("div");bd.setAttribute("oninput","return;"),Ec=typeof bd.oninput=="function"}ip=Ec}else ip=!1;Zm=ip&&(!document.documentMode||9<document.documentMode)}function Wo(){If&&(If.detachEvent("onpropertychange",bo),cu=If=null)}function bo(p){if(p.propertyName==="value"&&zo(cu)){var v=[];qo(v,cu,p,ka(p)),it(Yg,v)}}function Sd(p,v,k){p==="focusin"?(Wo(),If=v,cu=k,If.attachEvent("onpropertychange",bo)):p==="focusout"&&Wo()}function uu(p){if(p==="selectionchange"||p==="keyup"||p==="keydown")return zo(cu)}function du(p,v){if(p==="click")return zo(v)}function op(p,v){if(p==="input"||p==="change")return zo(v)}function fu(p,v){return p===v&&(p!==0||1/p===1/v)||p!==p&&v!==v}var qn=typeof Object.is=="function"?Object.is:fu;function hu(p,v){if(qn(p,v))return!0;if(typeof p!="object"||p===null||typeof v!="object"||v===null)return!1;var k=Object.keys(p),R=Object.keys(v);if(k.length!==R.length)return!1;for(R=0;R<k.length;R++){var W=k[R];if(!l.call(v,W)||!qn(p[W],v[W]))return!1}return!0}function So(p){for(;p&&p.firstChild;)p=p.firstChild;return p}function Ws(p,v){var k=So(p);p=0;for(var R;k;){if(k.nodeType===3){if(R=p+k.textContent.length,p<=v&&R>=v)return{node:k,offset:v-p};p=R}e:{for(;k;){if(k.nextSibling){k=k.nextSibling;break e}k=k.parentNode}k=void 0}k=So(k)}}function Rf(p,v){return p&&v?p===v?!0:p&&p.nodeType===3?!1:v&&v.nodeType===3?Rf(p,v.parentNode):"contains"in p?p.contains(v):p.compareDocumentPosition?!!(p.compareDocumentPosition(v)&16):!1:!1}function Jm(){for(var p=window,v=Ne();v instanceof p.HTMLIFrameElement;){try{var k=typeof v.contentWindow.location.href=="string"}catch{k=!1}if(k)p=v.contentWindow;else break;v=Ne(p.document)}return v}function Mf(p){var v=p&&p.nodeName&&p.nodeName.toLowerCase();return v&&(v==="input"&&(p.type==="text"||p.type==="search"||p.type==="tel"||p.type==="url"||p.type==="password")||v==="textarea"||p.contentEditable==="true")}function Ff(p){var v=Jm(),k=p.focusedElem,R=p.selectionRange;if(v!==k&&k&&k.ownerDocument&&Rf(k.ownerDocument.documentElement,k)){if(R!==null&&Mf(k)){if(v=R.start,p=R.end,p===void 0&&(p=v),"selectionStart"in k)k.selectionStart=v,k.selectionEnd=Math.min(p,k.value.length);else if(p=(v=k.ownerDocument||document)&&v.defaultView||window,p.getSelection){p=p.getSelection();var W=k.textContent.length,ee=Math.min(R.start,W);R=R.end===void 0?ee:Math.min(R.end,W),!p.extend&&ee>R&&(W=R,R=ee,ee=W),W=Ws(k,ee);var me=Ws(k,R);W&&me&&(p.rangeCount!==1||p.anchorNode!==W.node||p.anchorOffset!==W.offset||p.focusNode!==me.node||p.focusOffset!==me.offset)&&(v=v.createRange(),v.setStart(W.node,W.offset),p.removeAllRanges(),ee>R?(p.addRange(v),p.extend(me.node,me.offset)):(v.setEnd(me.node,me.offset),p.addRange(v)))}}for(v=[],p=k;p=p.parentNode;)p.nodeType===1&&v.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<v.length;k++)p=v[k],p.element.scrollLeft=p.left,p.element.scrollTop=p.top}}var Lf=s&&"documentMode"in document&&11>=document.documentMode,Vs=null,pu=null,Cc=null,mu=!1;function gu(p,v,k){var R=k.window===k?k.document:k.nodeType===9?k:k.ownerDocument;mu||Vs==null||Vs!==Ne(R)||(R=Vs,"selectionStart"in R&&Mf(R)?R={start:R.selectionStart,end:R.selectionEnd}:(R=(R.ownerDocument&&R.ownerDocument.defaultView||window).getSelection(),R={anchorNode:R.anchorNode,anchorOffset:R.anchorOffset,focusNode:R.focusNode,focusOffset:R.focusOffset}),Cc&&hu(Cc,R)||(Cc=R,R=Zg(pu,"onSelect"),0<R.length&&(v=new yd("onSelect","select",null,v,k),p.push({event:v,listeners:R}),v.target=Vs)))}function Ad(p,v){var k={};return k[p.toLowerCase()]=v.toLowerCase(),k["Webkit"+p]="webkit"+v,k["Moz"+p]="moz"+v,k}var uo={animationend:Ad("Animation","AnimationEnd"),animationiteration:Ad("Animation","AnimationIteration"),animationstart:Ad("Animation","AnimationStart"),transitionend:Ad("Transition","TransitionEnd")},cs={},ha={};s&&(ha=document.createElement("div").style,"AnimationEvent"in window||(delete uo.animationend.animation,delete uo.animationiteration.animation,delete uo.animationstart.animation),"TransitionEvent"in window||delete uo.transitionend.transition);function ea(p){if(cs[p])return cs[p];if(!uo[p])return p;var v=uo[p],k;for(k in v)if(v.hasOwnProperty(k)&&k in ha)return cs[p]=v[k];return p}var ai=ea("animationend"),xi=ea("animationiteration"),Pc=ea("animationstart"),sp=ea("transitionend"),jf=new Map,Qm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tc(p,v){jf.set(p,v),i(v,[p])}for(var lp=0;lp<Qm.length;lp++){var Vo=Qm[lp],vl=Vo.toLowerCase(),Kg=Vo[0].toUpperCase()+Vo.slice(1);Tc(vl,"on"+Kg)}Tc(ai,"onAnimationEnd"),Tc(xi,"onAnimationIteration"),Tc(Pc,"onAnimationStart"),Tc("dblclick","onDoubleClick"),Tc("focusin","onFocus"),Tc("focusout","onBlur"),Tc(sp,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),d_=new Set("cancel close invalid load scroll toggle".split(" ").concat(kd));function e0(p,v,k){var R=p.type||"unknown-event";p.currentTarget=k,be(R,v,void 0,p),p.currentTarget=null}function t0(p,v){v=(v&4)!==0;for(var k=0;k<p.length;k++){var R=p[k],W=R.event;R=R.listeners;e:{var ee=void 0;if(v)for(var me=R.length-1;0<=me;me--){var Pe=R[me],Ue=Pe.instance,vt=Pe.currentTarget;if(Pe=Pe.listener,Ue!==ee&&W.isPropagationStopped())break e;e0(W,Pe,vt),ee=Ue}else for(me=0;me<R.length;me++){if(Pe=R[me],Ue=Pe.instance,vt=Pe.currentTarget,Pe=Pe.listener,Ue!==ee&&W.isPropagationStopped())break e;e0(W,Pe,vt),ee=Ue}}}if(fe)throw p=Se,fe=!1,Se=null,p}function pa(p,v){var k=v[ds];k===void 0&&(k=v[ds]=new Set);var R=p+"__bubble";k.has(R)||(r0(v,p,2,!1),k.add(R))}function Xg(p,v,k){var R=0;v&&(R|=4),r0(k,p,R,v)}var cp="_reactListening"+Math.random().toString(36).slice(2);function $f(p){if(!p[cp]){p[cp]=!0,n.forEach(function(k){k!=="selectionchange"&&(d_.has(k)||Xg(k,!1,p),Xg(k,!0,p))});var v=p.nodeType===9?p:p.ownerDocument;v===null||v[cp]||(v[cp]=!0,Xg("selectionchange",!1,v))}}function r0(p,v,k,R){switch(Hm(v)){case 1:var W=Ef;break;case 4:W=Vm;break;default:W=gd}k=W.bind(null,v,k,p),W=void 0,!et||v!=="touchstart"&&v!=="touchmove"&&v!=="wheel"||(W=!0),R?W!==void 0?p.addEventListener(v,k,{capture:!0,passive:W}):p.addEventListener(v,k,!0):W!==void 0?p.addEventListener(v,k,{passive:W}):p.addEventListener(v,k,!1)}function n0(p,v,k,R,W){var ee=R;if((v&1)===0&&(v&2)===0&&R!==null)e:for(;;){if(R===null)return;var me=R.tag;if(me===3||me===4){var Pe=R.stateNode.containerInfo;if(Pe===W||Pe.nodeType===8&&Pe.parentNode===W)break;if(me===4)for(me=R.return;me!==null;){var Ue=me.tag;if((Ue===3||Ue===4)&&(Ue=me.stateNode.containerInfo,Ue===W||Ue.nodeType===8&&Ue.parentNode===W))return;me=me.return}for(;Pe!==null;){if(me=Nd(Pe),me===null)return;if(Ue=me.tag,Ue===5||Ue===6){R=ee=me;continue e}Pe=Pe.parentNode}}R=R.return}it(function(){var vt=ee,jt=ka(k),Ut=[];e:{var Ft=jf.get(p);if(Ft!==void 0){var gr=yd,Ar=p;switch(p){case"keypress":if(Vl(k)===0)break e;case"keydown":case"keyup":gr=dn;break;case"focusin":Ar="focus",gr=lu;break;case"focusout":Ar="blur",gr=lu;break;case"beforeblur":case"afterblur":gr=lu;break;case"click":if(k.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":gr=Kh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":gr=Ty;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":gr=ri;break;case ai:case xi:case Pc:gr=wd;break;case sp:gr=_o;break;case"scroll":gr=Gm;break;case"wheel":gr=Hl;break;case"copy":case"cut":case"paste":gr=B;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":gr=Tn}var Er=(v&4)!==0,Li=!Er&&p==="scroll",st=Er?Ft!==null?Ft+"Capture":null:Ft;Er=[];for(var Ye=vt,dt;Ye!==null;){dt=Ye;var Zt=dt.stateNode;if(dt.tag===5&&Zt!==null&&(dt=Zt,st!==null&&(Zt=xt(Ye,st),Zt!=null&&Er.push(a0(Ye,Zt,dt)))),Li)break;Ye=Ye.return}0<Er.length&&(Ft=new gr(Ft,Ar,null,k,jt),Ut.push({event:Ft,listeners:Er}))}}if((v&7)===0){e:{if(Ft=p==="mouseover"||p==="pointerover",gr=p==="mouseout"||p==="pointerout",Ft&&k!==tn&&(Ar=k.relatedTarget||k.fromElement)&&(Nd(Ar)||Ar[Ao]))break e;if((gr||Ft)&&(Ft=jt.window===jt?jt:(Ft=jt.ownerDocument)?Ft.defaultView||Ft.parentWindow:window,gr?(Ar=k.relatedTarget||k.toElement,gr=vt,Ar=Ar?Nd(Ar):null,Ar!==null&&(Li=ke(Ar),Ar!==Li||Ar.tag!==5&&Ar.tag!==6)&&(Ar=null)):(gr=null,Ar=vt),gr!==Ar)){if(Er=Kh,Zt="onMouseLeave",st="onMouseEnter",Ye="mouse",(p==="pointerout"||p==="pointerover")&&(Er=Tn,Zt="onPointerLeave",st="onPointerEnter",Ye="pointer"),Li=gr==null?Ft:qf(gr),dt=Ar==null?Ft:qf(Ar),Ft=new Er(Zt,Ye+"leave",gr,k,jt),Ft.target=Li,Ft.relatedTarget=dt,Zt=null,Nd(jt)===vt&&(Er=new Er(st,Ye+"enter",Ar,k,jt),Er.target=dt,Er.relatedTarget=Li,Zt=Er),Li=Zt,gr&&Ar)t:{for(Er=gr,st=Ar,Ye=0,dt=Er;dt;dt=Bf(dt))Ye++;for(dt=0,Zt=st;Zt;Zt=Bf(Zt))dt++;for(;0<Ye-dt;)Er=Bf(Er),Ye--;for(;0<dt-Ye;)st=Bf(st),dt--;for(;Ye--;){if(Er===st||st!==null&&Er===st.alternate)break t;Er=Bf(Er),st=Bf(st)}Er=null}else Er=null;gr!==null&&f_(Ut,Ft,gr,Er,!1),Ar!==null&&Li!==null&&f_(Ut,Li,Ar,Er,!0)}}e:{if(Ft=vt?qf(vt):window,gr=Ft.nodeName&&Ft.nodeName.toLowerCase(),gr==="select"||gr==="input"&&Ft.type==="file")var Cr=ap;else if(np(Ft))if(Zm)Cr=op;else{Cr=uu;var Lr=Sd}else(gr=Ft.nodeName)&&gr.toLowerCase()==="input"&&(Ft.type==="checkbox"||Ft.type==="radio")&&(Cr=du);if(Cr&&(Cr=Cr(p,vt))){qo(Ut,Cr,k,jt);break e}Lr&&Lr(p,Ft,vt),p==="focusout"&&(Lr=Ft._wrapperState)&&Lr.controlled&&Ft.type==="number"&&ht(Ft,"number",Ft.value)}switch(Lr=vt?qf(vt):window,p){case"focusin":(np(Lr)||Lr.contentEditable==="true")&&(Vs=Lr,pu=vt,Cc=null);break;case"focusout":Cc=pu=Vs=null;break;case"mousedown":mu=!0;break;case"contextmenu":case"mouseup":case"dragend":mu=!1,gu(Ut,k,jt);break;case"selectionchange":if(Lf)break;case"keydown":case"keyup":gu(Ut,k,jt)}var jr;if(gl)e:{switch(p){case"compositionstart":var cn="onCompositionStart";break e;case"compositionend":cn="onCompositionEnd";break e;case"compositionupdate":cn="onCompositionUpdate";break e}cn=void 0}else ni?Qh(p,k)&&(cn="onCompositionEnd"):p==="keydown"&&k.keyCode===229&&(cn="onCompositionStart");cn&&(Zh&&k.locale!=="ko"&&(ni||cn!=="onCompositionStart"?cn==="onCompositionEnd"&&ni&&(jr=Hg()):(Wl=jt,pl="value"in Wl?Wl.value:Wl.textContent,ni=!0)),Lr=Zg(vt,cn),0<Lr.length&&(cn=new Ee(cn,p,null,k,jt),Ut.push({event:cn,listeners:Lr}),jr?cn.data=jr:(jr=Df(k),jr!==null&&(cn.data=jr)))),(jr=Xm?ep(p,k):tp(p,k))&&(vt=Zg(vt,"onBeforeInput"),0<vt.length&&(jt=new Ee("onBeforeInput","beforeinput",null,k,jt),Ut.push({event:jt,listeners:vt}),jt.data=jr))}t0(Ut,v)})}function a0(p,v,k){return{instance:p,listener:v,currentTarget:k}}function Zg(p,v){for(var k=v+"Capture",R=[];p!==null;){var W=p,ee=W.stateNode;W.tag===5&&ee!==null&&(W=ee,ee=xt(p,k),ee!=null&&R.unshift(a0(p,ee,W)),ee=xt(p,v),ee!=null&&R.push(a0(p,ee,W))),p=p.return}return R}function Bf(p){if(p===null)return null;do p=p.return;while(p&&p.tag!==5);return p||null}function f_(p,v,k,R,W){for(var ee=v._reactName,me=[];k!==null&&k!==R;){var Pe=k,Ue=Pe.alternate,vt=Pe.stateNode;if(Ue!==null&&Ue===R)break;Pe.tag===5&&vt!==null&&(Pe=vt,W?(Ue=xt(k,ee),Ue!=null&&me.unshift(a0(k,Ue,Pe))):W||(Ue=xt(k,ee),Ue!=null&&me.push(a0(k,Ue,Pe)))),k=k.return}me.length!==0&&p.push({event:v,listeners:me})}var eA=/\r\n?/g,tA=/\u0000|\uFFFD/g;function h_(p){return(typeof p=="string"?p:""+p).replace(eA,`
`).replace(tA,"")}function Jg(p,v,k){if(v=h_(v),h_(p)!==v&&k)throw Error(r(425))}function up(){}var i0=null,Uf=null;function Oy(p,v){return p==="textarea"||p==="noscript"||typeof v.children=="string"||typeof v.children=="number"||typeof v.dangerouslySetInnerHTML=="object"&&v.dangerouslySetInnerHTML!==null&&v.dangerouslySetInnerHTML.__html!=null}var Dy=typeof setTimeout=="function"?setTimeout:void 0,p_=typeof clearTimeout=="function"?clearTimeout:void 0,m_=typeof Promise=="function"?Promise:void 0,rA=typeof queueMicrotask=="function"?queueMicrotask:typeof m_<"u"?function(p){return m_.resolve(null).then(p).catch(nA)}:Dy;function nA(p){setTimeout(function(){throw p})}function Iy(p,v){var k=v,R=0;do{var W=k.nextSibling;if(p.removeChild(k),W&&W.nodeType===8)if(k=W.data,k==="/$"){if(R===0){p.removeChild(W),zl(v);return}R--}else k!=="$"&&k!=="$?"&&k!=="$!"||R++;k=W}while(k);zl(v)}function Ho(p){for(;p!=null;p=p.nextSibling){var v=p.nodeType;if(v===1||v===3)break;if(v===8){if(v=p.data,v==="$"||v==="$!"||v==="$?")break;if(v==="/$")return null}}return p}function yl(p){p=p.previousSibling;for(var v=0;p;){if(p.nodeType===8){var k=p.data;if(k==="$"||k==="$!"||k==="$?"){if(v===0)return p;v--}else k==="/$"&&v++}p=p.previousSibling}return null}var us=Math.random().toString(36).slice(2),Oc="__reactFiber$"+us,dp="__reactProps$"+us,Ao="__reactContainer$"+us,ds="__reactEvents$"+us,aA="__reactListeners$"+us,iA="__reactHandles$"+us;function Nd(p){var v=p[Oc];if(v)return v;for(var k=p.parentNode;k;){if(v=k[Ao]||k[Oc]){if(k=v.alternate,v.child!==null||k!==null&&k.child!==null)for(p=yl(p);p!==null;){if(k=p[Oc])return k;p=yl(p)}return v}p=k,k=p.parentNode}return null}function fp(p){return p=p[Oc]||p[Ao],!p||p.tag!==5&&p.tag!==6&&p.tag!==13&&p.tag!==3?null:p}function qf(p){if(p.tag===5||p.tag===6)return p.stateNode;throw Error(r(33))}function o0(p){return p[dp]||null}var Ry=[],vu=-1;function Gl(p){return{current:p}}function ta(p){0>vu||(p.current=Ry[vu],Ry[vu]=null,vu--)}function sa(p,v){vu++,Ry[vu]=p.current,p.current=v}var Ed={},fo=Gl(Ed),fs=Gl(!1),zf=Ed;function hp(p,v){var k=p.type.contextTypes;if(!k)return Ed;var R=p.stateNode;if(R&&R.__reactInternalMemoizedUnmaskedChildContext===v)return R.__reactInternalMemoizedMaskedChildContext;var W={},ee;for(ee in k)W[ee]=v[ee];return R&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=v,p.__reactInternalMemoizedMaskedChildContext=W),W}function hs(p){return p=p.childContextTypes,p!=null}function Qg(){ta(fs),ta(fo)}function g_(p,v,k){if(fo.current!==Ed)throw Error(r(168));sa(fo,v),sa(fs,k)}function My(p,v,k){var R=p.stateNode;if(v=v.childContextTypes,typeof R.getChildContext!="function")return k;R=R.getChildContext();for(var W in R)if(!(W in v))throw Error(r(108,te(p)||"Unknown",W));return K({},k,R)}function Wf(p){return p=(p=p.stateNode)&&p.__reactInternalMemoizedMergedChildContext||Ed,zf=fo.current,sa(fo,p),sa(fs,fs.current),!0}function v_(p,v,k){var R=p.stateNode;if(!R)throw Error(r(169));k?(p=My(p,v,zf),R.__reactInternalMemoizedMergedChildContext=p,ta(fs),ta(fo),sa(fo,p)):ta(fs),sa(fs,k)}var yu=null,s0=!1,N=!1;function M(p){yu===null?yu=[p]:yu.push(p)}function V(p){s0=!0,M(p)}function ne(){if(!N&&yu!==null){N=!0;var p=0,v=Un;try{var k=yu;for(Un=1;p<k.length;p++){var R=k[p];do R=R(!0);while(R!==null)}yu=null,s0=!1}catch(W){throw yu!==null&&(yu=yu.slice(p+1)),It(Ln,ne),W}finally{Un=v,N=!1}}return null}var le=[],pe=0,ge=null,ve=0,xe=[],Ae=0,Be=null,nt=1,at="";function Xe(p,v){le[pe++]=ve,le[pe++]=ge,ge=p,ve=v}function Ot(p,v,k){xe[Ae++]=nt,xe[Ae++]=at,xe[Ae++]=Be,Be=p;var R=nt;p=at;var W=32-qa(R)-1;R&=~(1<<W),k+=1;var ee=32-qa(v)+W;if(30<ee){var me=W-W%5;ee=(R&(1<<me)-1).toString(32),R>>=me,W-=me,nt=1<<32-qa(v)+W|k<<W|R,at=ee+p}else nt=1<<ee|k<<W|R,at=p}function bt(p){p.return!==null&&(Xe(p,1),Ot(p,1,0))}function We(p){for(;p===ge;)ge=le[--pe],le[pe]=null,ve=le[--pe],le[pe]=null;for(;p===Be;)Be=xe[--Ae],xe[Ae]=null,at=xe[--Ae],xe[Ae]=null,nt=xe[--Ae],xe[Ae]=null}var Ve=null,kt=null,At=!1,Ct=null;function fr(p,v){var k=Lc(5,null,null,0);k.elementType="DELETED",k.stateNode=v,k.return=p,v=p.deletions,v===null?(p.deletions=[k],p.flags|=16):v.push(k)}function ar(p,v){switch(p.tag){case 5:var k=p.type;return v=v.nodeType!==1||k.toLowerCase()!==v.nodeName.toLowerCase()?null:v,v!==null?(p.stateNode=v,Ve=p,kt=Ho(v.firstChild),!0):!1;case 6:return v=p.pendingProps===""||v.nodeType!==3?null:v,v!==null?(p.stateNode=v,Ve=p,kt=null,!0):!1;case 13:return v=v.nodeType!==8?null:v,v!==null?(k=Be!==null?{id:nt,overflow:at}:null,p.memoizedState={dehydrated:v,treeContext:k,retryLane:1073741824},k=Lc(18,null,null,0),k.stateNode=v,k.return=p,p.child=k,Ve=p,kt=null,!0):!1;default:return!1}}function Rr(p){return(p.mode&1)!==0&&(p.flags&128)===0}function ir(p){if(At){var v=kt;if(v){var k=v;if(!ar(p,v)){if(Rr(p))throw Error(r(418));v=Ho(k.nextSibling);var R=Ve;v&&ar(p,v)?fr(R,k):(p.flags=p.flags&-4097|2,At=!1,Ve=p)}}else{if(Rr(p))throw Error(r(418));p.flags=p.flags&-4097|2,At=!1,Ve=p}}}function jn(p){for(p=p.return;p!==null&&p.tag!==5&&p.tag!==3&&p.tag!==13;)p=p.return;Ve=p}function $n(p){if(p!==Ve)return!1;if(!At)return jn(p),At=!0,!1;var v;if((v=p.tag!==3)&&!(v=p.tag!==5)&&(v=p.type,v=v!=="head"&&v!=="body"&&!Oy(p.type,p.memoizedProps)),v&&(v=kt)){if(Rr(p))throw Rn(),Error(r(418));for(;v;)fr(p,v),v=Ho(v.nextSibling)}if(jn(p),p.tag===13){if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));e:{for(p=p.nextSibling,v=0;p;){if(p.nodeType===8){var k=p.data;if(k==="/$"){if(v===0){kt=Ho(p.nextSibling);break e}v--}else k!=="$"&&k!=="$!"&&k!=="$?"||v++}p=p.nextSibling}kt=null}}else kt=Ve?Ho(p.stateNode.nextSibling):null;return!0}function Rn(){for(var p=kt;p;)p=Ho(p.nextSibling)}function mn(){kt=Ve=null,At=!1}function ra(p){Ct===null?Ct=[p]:Ct.push(p)}var la=C.ReactCurrentBatchConfig;function rn(p,v,k){if(p=k.ref,p!==null&&typeof p!="function"&&typeof p!="object"){if(k._owner){if(k=k._owner,k){if(k.tag!==1)throw Error(r(309));var R=k.stateNode}if(!R)throw Error(r(147,p));var W=R,ee=""+p;return v!==null&&v.ref!==null&&typeof v.ref=="function"&&v.ref._stringRef===ee?v.ref:(v=function(me){var Pe=W.refs;me===null?delete Pe[ee]:Pe[ee]=me},v._stringRef=ee,v)}if(typeof p!="string")throw Error(r(284));if(!k._owner)throw Error(r(290,p))}return p}function Va(p,v){throw p=Object.prototype.toString.call(v),Error(r(31,p==="[object Object]"?"object with keys {"+Object.keys(v).join(", ")+"}":p))}function Go(p){var v=p._init;return v(p._payload)}function ci(p){function v(st,Ye){if(p){var dt=st.deletions;dt===null?(st.deletions=[Ye],st.flags|=16):dt.push(Ye)}}function k(st,Ye){if(!p)return null;for(;Ye!==null;)v(st,Ye),Ye=Ye.sibling;return null}function R(st,Ye){for(st=new Map;Ye!==null;)Ye.key!==null?st.set(Ye.key,Ye):st.set(Ye.index,Ye),Ye=Ye.sibling;return st}function W(st,Ye){return st=kp(st,Ye),st.index=0,st.sibling=null,st}function ee(st,Ye,dt){return st.index=dt,p?(dt=st.alternate,dt!==null?(dt=dt.index,dt<Ye?(st.flags|=2,Ye):dt):(st.flags|=2,Ye)):(st.flags|=1048576,Ye)}function me(st){return p&&st.alternate===null&&(st.flags|=2),st}function Pe(st,Ye,dt,Zt){return Ye===null||Ye.tag!==6?(Ye=RA(dt,st.mode,Zt),Ye.return=st,Ye):(Ye=W(Ye,dt),Ye.return=st,Ye)}function Ue(st,Ye,dt,Zt){var Cr=dt.type;return Cr===P?jt(st,Ye,dt.props.children,Zt,dt.key):Ye!==null&&(Ye.elementType===Cr||typeof Cr=="object"&&Cr!==null&&Cr.$$typeof===re&&Go(Cr)===Ye.type)?(Zt=W(Ye,dt.props),Zt.ref=rn(st,Ye,dt),Zt.return=st,Zt):(Zt=L_(dt.type,dt.key,dt.props,null,st.mode,Zt),Zt.ref=rn(st,Ye,dt),Zt.return=st,Zt)}function vt(st,Ye,dt,Zt){return Ye===null||Ye.tag!==4||Ye.stateNode.containerInfo!==dt.containerInfo||Ye.stateNode.implementation!==dt.implementation?(Ye=MA(dt,st.mode,Zt),Ye.return=st,Ye):(Ye=W(Ye,dt.children||[]),Ye.return=st,Ye)}function jt(st,Ye,dt,Zt,Cr){return Ye===null||Ye.tag!==7?(Ye=m0(dt,st.mode,Zt,Cr),Ye.return=st,Ye):(Ye=W(Ye,dt),Ye.return=st,Ye)}function Ut(st,Ye,dt){if(typeof Ye=="string"&&Ye!==""||typeof Ye=="number")return Ye=RA(""+Ye,st.mode,dt),Ye.return=st,Ye;if(typeof Ye=="object"&&Ye!==null){switch(Ye.$$typeof){case E:return dt=L_(Ye.type,Ye.key,Ye.props,null,st.mode,dt),dt.ref=rn(st,null,Ye),dt.return=st,dt;case O:return Ye=MA(Ye,st.mode,dt),Ye.return=st,Ye;case re:var Zt=Ye._init;return Ut(st,Zt(Ye._payload),dt)}if(Pt(Ye)||q(Ye))return Ye=m0(Ye,st.mode,dt,null),Ye.return=st,Ye;Va(st,Ye)}return null}function Ft(st,Ye,dt,Zt){var Cr=Ye!==null?Ye.key:null;if(typeof dt=="string"&&dt!==""||typeof dt=="number")return Cr!==null?null:Pe(st,Ye,""+dt,Zt);if(typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case E:return dt.key===Cr?Ue(st,Ye,dt,Zt):null;case O:return dt.key===Cr?vt(st,Ye,dt,Zt):null;case re:return Cr=dt._init,Ft(st,Ye,Cr(dt._payload),Zt)}if(Pt(dt)||q(dt))return Cr!==null?null:jt(st,Ye,dt,Zt,null);Va(st,dt)}return null}function gr(st,Ye,dt,Zt,Cr){if(typeof Zt=="string"&&Zt!==""||typeof Zt=="number")return st=st.get(dt)||null,Pe(Ye,st,""+Zt,Cr);if(typeof Zt=="object"&&Zt!==null){switch(Zt.$$typeof){case E:return st=st.get(Zt.key===null?dt:Zt.key)||null,Ue(Ye,st,Zt,Cr);case O:return st=st.get(Zt.key===null?dt:Zt.key)||null,vt(Ye,st,Zt,Cr);case re:var Lr=Zt._init;return gr(st,Ye,dt,Lr(Zt._payload),Cr)}if(Pt(Zt)||q(Zt))return st=st.get(dt)||null,jt(Ye,st,Zt,Cr,null);Va(Ye,Zt)}return null}function Ar(st,Ye,dt,Zt){for(var Cr=null,Lr=null,jr=Ye,cn=Ye=0,Co=null;jr!==null&&cn<dt.length;cn++){jr.index>cn?(Co=jr,jr=null):Co=jr.sibling;var Yn=Ft(st,jr,dt[cn],Zt);if(Yn===null){jr===null&&(jr=Co);break}p&&jr&&Yn.alternate===null&&v(st,jr),Ye=ee(Yn,Ye,cn),Lr===null?Cr=Yn:Lr.sibling=Yn,Lr=Yn,jr=Co}if(cn===dt.length)return k(st,jr),At&&Xe(st,cn),Cr;if(jr===null){for(;cn<dt.length;cn++)jr=Ut(st,dt[cn],Zt),jr!==null&&(Ye=ee(jr,Ye,cn),Lr===null?Cr=jr:Lr.sibling=jr,Lr=jr);return At&&Xe(st,cn),Cr}for(jr=R(st,jr);cn<dt.length;cn++)Co=gr(jr,st,cn,dt[cn],Zt),Co!==null&&(p&&Co.alternate!==null&&jr.delete(Co.key===null?cn:Co.key),Ye=ee(Co,Ye,cn),Lr===null?Cr=Co:Lr.sibling=Co,Lr=Co);return p&&jr.forEach(function(Np){return v(st,Np)}),At&&Xe(st,cn),Cr}function Er(st,Ye,dt,Zt){var Cr=q(dt);if(typeof Cr!="function")throw Error(r(150));if(dt=Cr.call(dt),dt==null)throw Error(r(151));for(var Lr=Cr=null,jr=Ye,cn=Ye=0,Co=null,Yn=dt.next();jr!==null&&!Yn.done;cn++,Yn=dt.next()){jr.index>cn?(Co=jr,jr=null):Co=jr.sibling;var Np=Ft(st,jr,Yn.value,Zt);if(Np===null){jr===null&&(jr=Co);break}p&&jr&&Np.alternate===null&&v(st,jr),Ye=ee(Np,Ye,cn),Lr===null?Cr=Np:Lr.sibling=Np,Lr=Np,jr=Co}if(Yn.done)return k(st,jr),At&&Xe(st,cn),Cr;if(jr===null){for(;!Yn.done;cn++,Yn=dt.next())Yn=Ut(st,Yn.value,Zt),Yn!==null&&(Ye=ee(Yn,Ye,cn),Lr===null?Cr=Yn:Lr.sibling=Yn,Lr=Yn);return At&&Xe(st,cn),Cr}for(jr=R(st,jr);!Yn.done;cn++,Yn=dt.next())Yn=gr(jr,st,cn,Yn.value,Zt),Yn!==null&&(p&&Yn.alternate!==null&&jr.delete(Yn.key===null?cn:Yn.key),Ye=ee(Yn,Ye,cn),Lr===null?Cr=Yn:Lr.sibling=Yn,Lr=Yn);return p&&jr.forEach(function(Use){return v(st,Use)}),At&&Xe(st,cn),Cr}function Li(st,Ye,dt,Zt){if(typeof dt=="object"&&dt!==null&&dt.type===P&&dt.key===null&&(dt=dt.props.children),typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case E:e:{for(var Cr=dt.key,Lr=Ye;Lr!==null;){if(Lr.key===Cr){if(Cr=dt.type,Cr===P){if(Lr.tag===7){k(st,Lr.sibling),Ye=W(Lr,dt.props.children),Ye.return=st,st=Ye;break e}}else if(Lr.elementType===Cr||typeof Cr=="object"&&Cr!==null&&Cr.$$typeof===re&&Go(Cr)===Lr.type){k(st,Lr.sibling),Ye=W(Lr,dt.props),Ye.ref=rn(st,Lr,dt),Ye.return=st,st=Ye;break e}k(st,Lr);break}else v(st,Lr);Lr=Lr.sibling}dt.type===P?(Ye=m0(dt.props.children,st.mode,Zt,dt.key),Ye.return=st,st=Ye):(Zt=L_(dt.type,dt.key,dt.props,null,st.mode,Zt),Zt.ref=rn(st,Ye,dt),Zt.return=st,st=Zt)}return me(st);case O:e:{for(Lr=dt.key;Ye!==null;){if(Ye.key===Lr)if(Ye.tag===4&&Ye.stateNode.containerInfo===dt.containerInfo&&Ye.stateNode.implementation===dt.implementation){k(st,Ye.sibling),Ye=W(Ye,dt.children||[]),Ye.return=st,st=Ye;break e}else{k(st,Ye);break}else v(st,Ye);Ye=Ye.sibling}Ye=MA(dt,st.mode,Zt),Ye.return=st,st=Ye}return me(st);case re:return Lr=dt._init,Li(st,Ye,Lr(dt._payload),Zt)}if(Pt(dt))return Ar(st,Ye,dt,Zt);if(q(dt))return Er(st,Ye,dt,Zt);Va(st,dt)}return typeof dt=="string"&&dt!==""||typeof dt=="number"?(dt=""+dt,Ye!==null&&Ye.tag===6?(k(st,Ye.sibling),Ye=W(Ye,dt),Ye.return=st,st=Ye):(k(st,Ye),Ye=RA(dt,st.mode,Zt),Ye.return=st,st=Ye),me(st)):k(st,Ye)}return Li}var Ri=ci(!0),Hn=ci(!1),ko=Gl(null),No=null,Ha=null,Mi=null;function ho(){Mi=Ha=No=null}function ps(p){var v=ko.current;ta(ko),p._currentValue=v}function xl(p,v,k){for(;p!==null;){var R=p.alternate;if((p.childLanes&v)!==v?(p.childLanes|=v,R!==null&&(R.childLanes|=v)):R!==null&&(R.childLanes&v)!==v&&(R.childLanes|=v),p===k)break;p=p.return}}function Ga(p,v){No=p,Mi=Ha=null,p=p.dependencies,p!==null&&p.firstContext!==null&&((p.lanes&v)!==0&&(Sl=!0),p.firstContext=null)}function wi(p){var v=p._currentValue;if(Mi!==p)if(p={context:p,memoizedValue:v,next:null},Ha===null){if(No===null)throw Error(r(308));Ha=p,No.dependencies={lanes:0,firstContext:p}}else Ha=Ha.next=p;return v}var Hs=null;function Cd(p){Hs===null?Hs=[p]:Hs.push(p)}function xu(p,v,k,R){var W=v.interleaved;return W===null?(k.next=k,Cd(v)):(k.next=W.next,W.next=k),v.interleaved=k,Gn(p,R)}function Gn(p,v){p.lanes|=v;var k=p.alternate;for(k!==null&&(k.lanes|=v),k=p,p=p.return;p!==null;)p.childLanes|=v,k=p.alternate,k!==null&&(k.childLanes|=v),k=p,p=p.return;return k.tag===3?k.stateNode:null}var Dc=!1;function ev(p){p.updateQueue={baseState:p.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fy(p,v){p=p.updateQueue,v.updateQueue===p&&(v.updateQueue={baseState:p.baseState,firstBaseUpdate:p.firstBaseUpdate,lastBaseUpdate:p.lastBaseUpdate,shared:p.shared,effects:p.effects})}function wl(p,v){return{eventTime:p,lane:v,tag:0,payload:null,callback:null,next:null}}function _l(p,v,k){var R=p.updateQueue;if(R===null)return null;if(R=R.shared,(zn&2)!==0){var W=R.pending;return W===null?v.next=v:(v.next=W.next,W.next=v),R.pending=v,Gn(p,k)}return W=R.interleaved,W===null?(v.next=v,Cd(R)):(v.next=W.next,W.next=v),R.interleaved=v,Gn(p,k)}function Vf(p,v,k){if(v=v.updateQueue,v!==null&&(v=v.shared,(k&4194240)!==0)){var R=v.lanes;R&=p.pendingLanes,k|=R,v.lanes=k,Bh(p,k)}}function bl(p,v){var k=p.updateQueue,R=p.alternate;if(R!==null&&(R=R.updateQueue,k===R)){var W=null,ee=null;if(k=k.firstBaseUpdate,k!==null){do{var me={eventTime:k.eventTime,lane:k.lane,tag:k.tag,payload:k.payload,callback:k.callback,next:null};ee===null?W=ee=me:ee=ee.next=me,k=k.next}while(k!==null);ee===null?W=ee=v:ee=ee.next=v}else W=ee=v;k={baseState:R.baseState,firstBaseUpdate:W,lastBaseUpdate:ee,shared:R.shared,effects:R.effects},p.updateQueue=k;return}p=k.lastBaseUpdate,p===null?k.firstBaseUpdate=v:p.next=v,k.lastBaseUpdate=v}function wu(p,v,k,R){var W=p.updateQueue;Dc=!1;var ee=W.firstBaseUpdate,me=W.lastBaseUpdate,Pe=W.shared.pending;if(Pe!==null){W.shared.pending=null;var Ue=Pe,vt=Ue.next;Ue.next=null,me===null?ee=vt:me.next=vt,me=Ue;var jt=p.alternate;jt!==null&&(jt=jt.updateQueue,Pe=jt.lastBaseUpdate,Pe!==me&&(Pe===null?jt.firstBaseUpdate=vt:Pe.next=vt,jt.lastBaseUpdate=Ue))}if(ee!==null){var Ut=W.baseState;me=0,jt=vt=Ue=null,Pe=ee;do{var Ft=Pe.lane,gr=Pe.eventTime;if((R&Ft)===Ft){jt!==null&&(jt=jt.next={eventTime:gr,lane:0,tag:Pe.tag,payload:Pe.payload,callback:Pe.callback,next:null});e:{var Ar=p,Er=Pe;switch(Ft=v,gr=k,Er.tag){case 1:if(Ar=Er.payload,typeof Ar=="function"){Ut=Ar.call(gr,Ut,Ft);break e}Ut=Ar;break e;case 3:Ar.flags=Ar.flags&-65537|128;case 0:if(Ar=Er.payload,Ft=typeof Ar=="function"?Ar.call(gr,Ut,Ft):Ar,Ft==null)break e;Ut=K({},Ut,Ft);break e;case 2:Dc=!0}}Pe.callback!==null&&Pe.lane!==0&&(p.flags|=64,Ft=W.effects,Ft===null?W.effects=[Pe]:Ft.push(Pe))}else gr={eventTime:gr,lane:Ft,tag:Pe.tag,payload:Pe.payload,callback:Pe.callback,next:null},jt===null?(vt=jt=gr,Ue=Ut):jt=jt.next=gr,me|=Ft;if(Pe=Pe.next,Pe===null){if(Pe=W.shared.pending,Pe===null)break;Ft=Pe,Pe=Ft.next,Ft.next=null,W.lastBaseUpdate=Ft,W.shared.pending=null}}while(!0);if(jt===null&&(Ue=Ut),W.baseState=Ue,W.firstBaseUpdate=vt,W.lastBaseUpdate=jt,v=W.shared.interleaved,v!==null){W=v;do me|=W.lane,W=W.next;while(W!==v)}else ee===null&&(W.shared.lanes=0);d0|=me,p.lanes=me,p.memoizedState=Ut}}function Hf(p,v,k){if(p=v.effects,v.effects=null,p!==null)for(v=0;v<p.length;v++){var R=p[v],W=R.callback;if(W!==null){if(R.callback=null,R=k,typeof W!="function")throw Error(r(191,W));W.call(R)}}}var pp={},Gs=Gl(pp),mp=Gl(pp),Pd=Gl(pp);function _u(p){if(p===pp)throw Error(r(174));return p}function gp(p,v){switch(sa(Pd,v),sa(mp,p),sa(Gs,pp),p=v.nodeType,p){case 9:case 11:v=(v=v.documentElement)?v.namespaceURI:Re(null,"");break;default:p=p===8?v.parentNode:v,v=p.namespaceURI||null,p=p.tagName,v=Re(v,p)}ta(Gs),sa(Gs,v)}function Ic(){ta(Gs),ta(mp),ta(Pd)}function y_(p){_u(Pd.current);var v=_u(Gs.current),k=Re(v,p.type);v!==k&&(sa(mp,p),sa(Gs,k))}function Ly(p){mp.current===p&&(ta(Gs),ta(mp))}var Ea=Gl(0);function Yl(p){for(var v=p;v!==null;){if(v.tag===13){var k=v.memoizedState;if(k!==null&&(k=k.dehydrated,k===null||k.data==="$?"||k.data==="$!"))return v}else if(v.tag===19&&v.memoizedProps.revealOrder!==void 0){if((v.flags&128)!==0)return v}else if(v.child!==null){v.child.return=v,v=v.child;continue}if(v===p)break;for(;v.sibling===null;){if(v.return===null||v.return===p)return null;v=v.return}v.sibling.return=v.return,v=v.sibling}return null}var jy=[];function $y(){for(var p=0;p<jy.length;p++)jy[p]._workInProgressVersionPrimary=null;jy.length=0}var tv=C.ReactCurrentDispatcher,rv=C.ReactCurrentBatchConfig,Rc=0,Ia=null,_i=null,ui=null,vp=!1,bu=!1,yp=0,oA=0;function Fi(){throw Error(r(321))}function nv(p,v){if(v===null)return!1;for(var k=0;k<v.length&&k<p.length;k++)if(!qn(p[k],v[k]))return!1;return!0}function l0(p,v,k,R,W,ee){if(Rc=ee,Ia=v,v.memoizedState=null,v.updateQueue=null,v.lanes=0,tv.current=p===null||p.memoizedState===null?hse:pse,p=k(R,W),bu){ee=0;do{if(bu=!1,yp=0,25<=ee)throw Error(r(301));ee+=1,ui=_i=null,v.updateQueue=null,tv.current=mse,p=k(R,W)}while(bu)}if(tv.current=S_,v=_i!==null&&_i.next!==null,Rc=0,ui=_i=Ia=null,vp=!1,v)throw Error(r(300));return p}function Mc(){var p=yp!==0;return yp=0,p}function Kl(){var p={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ui===null?Ia.memoizedState=ui=p:ui=ui.next=p,ui}function Ys(){if(_i===null){var p=Ia.alternate;p=p!==null?p.memoizedState:null}else p=_i.next;var v=ui===null?Ia.memoizedState:ui.next;if(v!==null)ui=v,_i=p;else{if(p===null)throw Error(r(310));_i=p,p={memoizedState:_i.memoizedState,baseState:_i.baseState,baseQueue:_i.baseQueue,queue:_i.queue,next:null},ui===null?Ia.memoizedState=ui=p:ui=ui.next=p}return ui}function c0(p,v){return typeof v=="function"?v(p):v}function av(p){var v=Ys(),k=v.queue;if(k===null)throw Error(r(311));k.lastRenderedReducer=p;var R=_i,W=R.baseQueue,ee=k.pending;if(ee!==null){if(W!==null){var me=W.next;W.next=ee.next,ee.next=me}R.baseQueue=W=ee,k.pending=null}if(W!==null){ee=W.next,R=R.baseState;var Pe=me=null,Ue=null,vt=ee;do{var jt=vt.lane;if((Rc&jt)===jt)Ue!==null&&(Ue=Ue.next={lane:0,action:vt.action,hasEagerState:vt.hasEagerState,eagerState:vt.eagerState,next:null}),R=vt.hasEagerState?vt.eagerState:p(R,vt.action);else{var Ut={lane:jt,action:vt.action,hasEagerState:vt.hasEagerState,eagerState:vt.eagerState,next:null};Ue===null?(Pe=Ue=Ut,me=R):Ue=Ue.next=Ut,Ia.lanes|=jt,d0|=jt}vt=vt.next}while(vt!==null&&vt!==ee);Ue===null?me=R:Ue.next=Pe,qn(R,v.memoizedState)||(Sl=!0),v.memoizedState=R,v.baseState=me,v.baseQueue=Ue,k.lastRenderedState=R}if(p=k.interleaved,p!==null){W=p;do ee=W.lane,Ia.lanes|=ee,d0|=ee,W=W.next;while(W!==p)}else W===null&&(k.lanes=0);return[v.memoizedState,k.dispatch]}function Td(p){var v=Ys(),k=v.queue;if(k===null)throw Error(r(311));k.lastRenderedReducer=p;var R=k.dispatch,W=k.pending,ee=v.memoizedState;if(W!==null){k.pending=null;var me=W=W.next;do ee=p(ee,me.action),me=me.next;while(me!==W);qn(ee,v.memoizedState)||(Sl=!0),v.memoizedState=ee,v.baseQueue===null&&(v.baseState=ee),k.lastRenderedState=ee}return[ee,R]}function x_(){}function By(p,v){var k=Ia,R=Ys(),W=v(),ee=!qn(R.memoizedState,W);if(ee&&(R.memoizedState=W,Sl=!0),R=R.queue,sv(__.bind(null,k,R,p),[p]),R.getSnapshot!==v||ee||ui!==null&&ui.memoizedState.tag&1){if(k.flags|=2048,Ks(9,Uy.bind(null,k,R,W,v),void 0,null),Eo===null)throw Error(r(349));(Rc&30)!==0||w_(k,v,W)}return W}function w_(p,v,k){p.flags|=16384,p={getSnapshot:v,value:k},v=Ia.updateQueue,v===null?(v={lastEffect:null,stores:null},Ia.updateQueue=v,v.stores=[p]):(k=v.stores,k===null?v.stores=[p]:k.push(p))}function Uy(p,v,k,R){v.value=k,v.getSnapshot=R,xp(v)&&iv(p)}function __(p,v,k){return k(function(){xp(v)&&iv(p)})}function xp(p){var v=p.getSnapshot;p=p.value;try{var k=v();return!qn(p,k)}catch{return!0}}function iv(p){var v=Gn(p,1);v!==null&&Eu(v,p,1,-1)}function u0(p){var v=Kl();return typeof p=="function"&&(p=p()),v.memoizedState=v.baseState=p,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c0,lastRenderedState:p},v.queue=p,p=p.dispatch=fse.bind(null,Ia,p),[v.memoizedState,p]}function Ks(p,v,k,R){return p={tag:p,create:v,destroy:k,deps:R,next:null},v=Ia.updateQueue,v===null?(v={lastEffect:null,stores:null},Ia.updateQueue=v,v.lastEffect=p.next=p):(k=v.lastEffect,k===null?v.lastEffect=p.next=p:(R=k.next,k.next=p,p.next=R,v.lastEffect=p)),p}function Su(){return Ys().memoizedState}function Xl(p,v,k,R){var W=Kl();Ia.flags|=p,W.memoizedState=Ks(1|v,k,void 0,R===void 0?null:R)}function Gf(p,v,k,R){var W=Ys();R=R===void 0?null:R;var ee=void 0;if(_i!==null){var me=_i.memoizedState;if(ee=me.destroy,R!==null&&nv(R,me.deps)){W.memoizedState=Ks(v,k,ee,R);return}}Ia.flags|=p,W.memoizedState=Ks(1|v,k,ee,R)}function ov(p,v){return Xl(8390656,8,p,v)}function sv(p,v){return Gf(2048,8,p,v)}function b_(p,v){return Gf(4,2,p,v)}function lv(p,v){return Gf(4,4,p,v)}function cv(p,v){if(typeof v=="function")return p=p(),v(p),function(){v(null)};if(v!=null)return p=p(),v.current=p,function(){v.current=null}}function IM(p,v,k){return k=k!=null?k.concat([p]):null,Gf(4,4,cv.bind(null,v,p),k)}function sA(){}function RM(p,v){var k=Ys();v=v===void 0?null:v;var R=k.memoizedState;return R!==null&&v!==null&&nv(v,R[1])?R[0]:(k.memoizedState=[p,v],p)}function MM(p,v){var k=Ys();v=v===void 0?null:v;var R=k.memoizedState;return R!==null&&v!==null&&nv(v,R[1])?R[0]:(p=p(),k.memoizedState=[p,v],p)}function FM(p,v,k){return(Rc&21)===0?(p.baseState&&(p.baseState=!1,Sl=!0),p.memoizedState=k):(qn(k,v)||(k=Um(),Ia.lanes|=k,d0|=k,p.baseState=!0),v)}function use(p,v){var k=Un;Un=k!==0&&4>k?k:4,p(!0);var R=rv.transition;rv.transition={};try{p(!1),v()}finally{Un=k,rv.transition=R}}function LM(){return Ys().memoizedState}function dse(p,v,k){var R=Sp(p);if(k={lane:R,action:k,hasEagerState:!1,eagerState:null,next:null},jM(p))$M(v,k);else if(k=xu(p,v,k,R),k!==null){var W=Zs();Eu(k,p,R,W),BM(k,v,R)}}function fse(p,v,k){var R=Sp(p),W={lane:R,action:k,hasEagerState:!1,eagerState:null,next:null};if(jM(p))$M(v,W);else{var ee=p.alternate;if(p.lanes===0&&(ee===null||ee.lanes===0)&&(ee=v.lastRenderedReducer,ee!==null))try{var me=v.lastRenderedState,Pe=ee(me,k);if(W.hasEagerState=!0,W.eagerState=Pe,qn(Pe,me)){var Ue=v.interleaved;Ue===null?(W.next=W,Cd(v)):(W.next=Ue.next,Ue.next=W),v.interleaved=W;return}}catch{}finally{}k=xu(p,v,W,R),k!==null&&(W=Zs(),Eu(k,p,R,W),BM(k,v,R))}}function jM(p){var v=p.alternate;return p===Ia||v!==null&&v===Ia}function $M(p,v){bu=vp=!0;var k=p.pending;k===null?v.next=v:(v.next=k.next,k.next=v),p.pending=v}function BM(p,v,k){if((k&4194240)!==0){var R=v.lanes;R&=p.pendingLanes,k|=R,v.lanes=k,Bh(p,k)}}var S_={readContext:wi,useCallback:Fi,useContext:Fi,useEffect:Fi,useImperativeHandle:Fi,useInsertionEffect:Fi,useLayoutEffect:Fi,useMemo:Fi,useReducer:Fi,useRef:Fi,useState:Fi,useDebugValue:Fi,useDeferredValue:Fi,useTransition:Fi,useMutableSource:Fi,useSyncExternalStore:Fi,useId:Fi,unstable_isNewReconciler:!1},hse={readContext:wi,useCallback:function(p,v){return Kl().memoizedState=[p,v===void 0?null:v],p},useContext:wi,useEffect:ov,useImperativeHandle:function(p,v,k){return k=k!=null?k.concat([p]):null,Xl(4194308,4,cv.bind(null,v,p),k)},useLayoutEffect:function(p,v){return Xl(4194308,4,p,v)},useInsertionEffect:function(p,v){return Xl(4,2,p,v)},useMemo:function(p,v){var k=Kl();return v=v===void 0?null:v,p=p(),k.memoizedState=[p,v],p},useReducer:function(p,v,k){var R=Kl();return v=k!==void 0?k(v):v,R.memoizedState=R.baseState=v,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:p,lastRenderedState:v},R.queue=p,p=p.dispatch=dse.bind(null,Ia,p),[R.memoizedState,p]},useRef:function(p){var v=Kl();return p={current:p},v.memoizedState=p},useState:u0,useDebugValue:sA,useDeferredValue:function(p){return Kl().memoizedState=p},useTransition:function(){var p=u0(!1),v=p[0];return p=use.bind(null,p[1]),Kl().memoizedState=p,[v,p]},useMutableSource:function(){},useSyncExternalStore:function(p,v,k){var R=Ia,W=Kl();if(At){if(k===void 0)throw Error(r(407));k=k()}else{if(k=v(),Eo===null)throw Error(r(349));(Rc&30)!==0||w_(R,v,k)}W.memoizedState=k;var ee={value:k,getSnapshot:v};return W.queue=ee,ov(__.bind(null,R,ee,p),[p]),R.flags|=2048,Ks(9,Uy.bind(null,R,ee,k,v),void 0,null),k},useId:function(){var p=Kl(),v=Eo.identifierPrefix;if(At){var k=at,R=nt;k=(R&~(1<<32-qa(R)-1)).toString(32)+k,v=":"+v+"R"+k,k=yp++,0<k&&(v+="H"+k.toString(32)),v+=":"}else k=oA++,v=":"+v+"r"+k.toString(32)+":";return p.memoizedState=v},unstable_isNewReconciler:!1},pse={readContext:wi,useCallback:RM,useContext:wi,useEffect:sv,useImperativeHandle:IM,useInsertionEffect:b_,useLayoutEffect:lv,useMemo:MM,useReducer:av,useRef:Su,useState:function(){return av(c0)},useDebugValue:sA,useDeferredValue:function(p){var v=Ys();return FM(v,_i.memoizedState,p)},useTransition:function(){var p=av(c0)[0],v=Ys().memoizedState;return[p,v]},useMutableSource:x_,useSyncExternalStore:By,useId:LM,unstable_isNewReconciler:!1},mse={readContext:wi,useCallback:RM,useContext:wi,useEffect:sv,useImperativeHandle:IM,useInsertionEffect:b_,useLayoutEffect:lv,useMemo:MM,useReducer:Td,useRef:Su,useState:function(){return Td(c0)},useDebugValue:sA,useDeferredValue:function(p){var v=Ys();return _i===null?v.memoizedState=p:FM(v,_i.memoizedState,p)},useTransition:function(){var p=Td(c0)[0],v=Ys().memoizedState;return[p,v]},useMutableSource:x_,useSyncExternalStore:By,useId:LM,unstable_isNewReconciler:!1};function Au(p,v){if(p&&p.defaultProps){v=K({},v),p=p.defaultProps;for(var k in p)v[k]===void 0&&(v[k]=p[k]);return v}return v}function lA(p,v,k,R){v=p.memoizedState,k=k(R,v),k=k==null?v:K({},v,k),p.memoizedState=k,p.lanes===0&&(p.updateQueue.baseState=k)}var A_={isMounted:function(p){return(p=p._reactInternals)?ke(p)===p:!1},enqueueSetState:function(p,v,k){p=p._reactInternals;var R=Zs(),W=Sp(p),ee=wl(R,W);ee.payload=v,k!=null&&(ee.callback=k),v=_l(p,ee,W),v!==null&&(Eu(v,p,W,R),Vf(v,p,W))},enqueueReplaceState:function(p,v,k){p=p._reactInternals;var R=Zs(),W=Sp(p),ee=wl(R,W);ee.tag=1,ee.payload=v,k!=null&&(ee.callback=k),v=_l(p,ee,W),v!==null&&(Eu(v,p,W,R),Vf(v,p,W))},enqueueForceUpdate:function(p,v){p=p._reactInternals;var k=Zs(),R=Sp(p),W=wl(k,R);W.tag=2,v!=null&&(W.callback=v),v=_l(p,W,R),v!==null&&(Eu(v,p,R,k),Vf(v,p,R))}};function UM(p,v,k,R,W,ee,me){return p=p.stateNode,typeof p.shouldComponentUpdate=="function"?p.shouldComponentUpdate(R,ee,me):v.prototype&&v.prototype.isPureReactComponent?!hu(k,R)||!hu(W,ee):!0}function qM(p,v,k){var R=!1,W=Ed,ee=v.contextType;return typeof ee=="object"&&ee!==null?ee=wi(ee):(W=hs(v)?zf:fo.current,R=v.contextTypes,ee=(R=R!=null)?hp(p,W):Ed),v=new v(k,ee),p.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=A_,p.stateNode=v,v._reactInternals=p,R&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=W,p.__reactInternalMemoizedMaskedChildContext=ee),v}function zM(p,v,k,R){p=v.state,typeof v.componentWillReceiveProps=="function"&&v.componentWillReceiveProps(k,R),typeof v.UNSAFE_componentWillReceiveProps=="function"&&v.UNSAFE_componentWillReceiveProps(k,R),v.state!==p&&A_.enqueueReplaceState(v,v.state,null)}function cA(p,v,k,R){var W=p.stateNode;W.props=k,W.state=p.memoizedState,W.refs={},ev(p);var ee=v.contextType;typeof ee=="object"&&ee!==null?W.context=wi(ee):(ee=hs(v)?zf:fo.current,W.context=hp(p,ee)),W.state=p.memoizedState,ee=v.getDerivedStateFromProps,typeof ee=="function"&&(lA(p,v,ee,k),W.state=p.memoizedState),typeof v.getDerivedStateFromProps=="function"||typeof W.getSnapshotBeforeUpdate=="function"||typeof W.UNSAFE_componentWillMount!="function"&&typeof W.componentWillMount!="function"||(v=W.state,typeof W.componentWillMount=="function"&&W.componentWillMount(),typeof W.UNSAFE_componentWillMount=="function"&&W.UNSAFE_componentWillMount(),v!==W.state&&A_.enqueueReplaceState(W,W.state,null),wu(p,k,W,R),W.state=p.memoizedState),typeof W.componentDidMount=="function"&&(p.flags|=4194308)}function uv(p,v){try{var k="",R=v;do k+=ie(R),R=R.return;while(R);var W=k}catch(ee){W=`
Error generating stack: `+ee.message+`
`+ee.stack}return{value:p,source:v,stack:W,digest:null}}function uA(p,v,k){return{value:p,source:null,stack:k??null,digest:v??null}}function dA(p,v){try{console.error(v.value)}catch(k){setTimeout(function(){throw k})}}var gse=typeof WeakMap=="function"?WeakMap:Map;function WM(p,v,k){k=wl(-1,k),k.tag=3,k.payload={element:null};var R=v.value;return k.callback=function(){O_||(O_=!0,NA=R),dA(p,v)},k}function VM(p,v,k){k=wl(-1,k),k.tag=3;var R=p.type.getDerivedStateFromError;if(typeof R=="function"){var W=v.value;k.payload=function(){return R(W)},k.callback=function(){dA(p,v)}}var ee=p.stateNode;return ee!==null&&typeof ee.componentDidCatch=="function"&&(k.callback=function(){dA(p,v),typeof R!="function"&&(_p===null?_p=new Set([this]):_p.add(this));var me=v.stack;this.componentDidCatch(v.value,{componentStack:me!==null?me:""})}),k}function HM(p,v,k){var R=p.pingCache;if(R===null){R=p.pingCache=new gse;var W=new Set;R.set(v,W)}else W=R.get(v),W===void 0&&(W=new Set,R.set(v,W));W.has(k)||(W.add(k),p=Tse.bind(null,p,v,k),v.then(p,p))}function GM(p){do{var v;if((v=p.tag===13)&&(v=p.memoizedState,v=v!==null?v.dehydrated!==null:!0),v)return p;p=p.return}while(p!==null);return null}function YM(p,v,k,R,W){return(p.mode&1)===0?(p===v?p.flags|=65536:(p.flags|=128,k.flags|=131072,k.flags&=-52805,k.tag===1&&(k.alternate===null?k.tag=17:(v=wl(-1,1),v.tag=2,_l(k,v,1))),k.lanes|=1),p):(p.flags|=65536,p.lanes=W,p)}var vse=C.ReactCurrentOwner,Sl=!1;function Xs(p,v,k,R){v.child=p===null?Hn(v,null,k,R):Ri(v,p.child,k,R)}function KM(p,v,k,R,W){k=k.render;var ee=v.ref;return Ga(v,W),R=l0(p,v,k,R,ee,W),k=Mc(),p!==null&&!Sl?(v.updateQueue=p.updateQueue,v.flags&=-2053,p.lanes&=~W,Yf(p,v,W)):(At&&k&&bt(v),v.flags|=1,Xs(p,v,R,W),v.child)}function XM(p,v,k,R,W){if(p===null){var ee=k.type;return typeof ee=="function"&&!IA(ee)&&ee.defaultProps===void 0&&k.compare===null&&k.defaultProps===void 0?(v.tag=15,v.type=ee,ZM(p,v,ee,R,W)):(p=L_(k.type,null,R,v,v.mode,W),p.ref=v.ref,p.return=v,v.child=p)}if(ee=p.child,(p.lanes&W)===0){var me=ee.memoizedProps;if(k=k.compare,k=k!==null?k:hu,k(me,R)&&p.ref===v.ref)return Yf(p,v,W)}return v.flags|=1,p=kp(ee,R),p.ref=v.ref,p.return=v,v.child=p}function ZM(p,v,k,R,W){if(p!==null){var ee=p.memoizedProps;if(hu(ee,R)&&p.ref===v.ref)if(Sl=!1,v.pendingProps=R=ee,(p.lanes&W)!==0)(p.flags&131072)!==0&&(Sl=!0);else return v.lanes=p.lanes,Yf(p,v,W)}return fA(p,v,k,R,W)}function JM(p,v,k){var R=v.pendingProps,W=R.children,ee=p!==null?p.memoizedState:null;if(R.mode==="hidden")if((v.mode&1)===0)v.memoizedState={baseLanes:0,cachePool:null,transitions:null},sa(fv,Zl),Zl|=k;else{if((k&1073741824)===0)return p=ee!==null?ee.baseLanes|k:k,v.lanes=v.childLanes=1073741824,v.memoizedState={baseLanes:p,cachePool:null,transitions:null},v.updateQueue=null,sa(fv,Zl),Zl|=p,null;v.memoizedState={baseLanes:0,cachePool:null,transitions:null},R=ee!==null?ee.baseLanes:k,sa(fv,Zl),Zl|=R}else ee!==null?(R=ee.baseLanes|k,v.memoizedState=null):R=k,sa(fv,Zl),Zl|=R;return Xs(p,v,W,k),v.child}function QM(p,v){var k=v.ref;(p===null&&k!==null||p!==null&&p.ref!==k)&&(v.flags|=512,v.flags|=2097152)}function fA(p,v,k,R,W){var ee=hs(k)?zf:fo.current;return ee=hp(v,ee),Ga(v,W),k=l0(p,v,k,R,ee,W),R=Mc(),p!==null&&!Sl?(v.updateQueue=p.updateQueue,v.flags&=-2053,p.lanes&=~W,Yf(p,v,W)):(At&&R&&bt(v),v.flags|=1,Xs(p,v,k,W),v.child)}function e7(p,v,k,R,W){if(hs(k)){var ee=!0;Wf(v)}else ee=!1;if(Ga(v,W),v.stateNode===null)N_(p,v),qM(v,k,R),cA(v,k,R,W),R=!0;else if(p===null){var me=v.stateNode,Pe=v.memoizedProps;me.props=Pe;var Ue=me.context,vt=k.contextType;typeof vt=="object"&&vt!==null?vt=wi(vt):(vt=hs(k)?zf:fo.current,vt=hp(v,vt));var jt=k.getDerivedStateFromProps,Ut=typeof jt=="function"||typeof me.getSnapshotBeforeUpdate=="function";Ut||typeof me.UNSAFE_componentWillReceiveProps!="function"&&typeof me.componentWillReceiveProps!="function"||(Pe!==R||Ue!==vt)&&zM(v,me,R,vt),Dc=!1;var Ft=v.memoizedState;me.state=Ft,wu(v,R,me,W),Ue=v.memoizedState,Pe!==R||Ft!==Ue||fs.current||Dc?(typeof jt=="function"&&(lA(v,k,jt,R),Ue=v.memoizedState),(Pe=Dc||UM(v,k,Pe,R,Ft,Ue,vt))?(Ut||typeof me.UNSAFE_componentWillMount!="function"&&typeof me.componentWillMount!="function"||(typeof me.componentWillMount=="function"&&me.componentWillMount(),typeof me.UNSAFE_componentWillMount=="function"&&me.UNSAFE_componentWillMount()),typeof me.componentDidMount=="function"&&(v.flags|=4194308)):(typeof me.componentDidMount=="function"&&(v.flags|=4194308),v.memoizedProps=R,v.memoizedState=Ue),me.props=R,me.state=Ue,me.context=vt,R=Pe):(typeof me.componentDidMount=="function"&&(v.flags|=4194308),R=!1)}else{me=v.stateNode,Fy(p,v),Pe=v.memoizedProps,vt=v.type===v.elementType?Pe:Au(v.type,Pe),me.props=vt,Ut=v.pendingProps,Ft=me.context,Ue=k.contextType,typeof Ue=="object"&&Ue!==null?Ue=wi(Ue):(Ue=hs(k)?zf:fo.current,Ue=hp(v,Ue));var gr=k.getDerivedStateFromProps;(jt=typeof gr=="function"||typeof me.getSnapshotBeforeUpdate=="function")||typeof me.UNSAFE_componentWillReceiveProps!="function"&&typeof me.componentWillReceiveProps!="function"||(Pe!==Ut||Ft!==Ue)&&zM(v,me,R,Ue),Dc=!1,Ft=v.memoizedState,me.state=Ft,wu(v,R,me,W);var Ar=v.memoizedState;Pe!==Ut||Ft!==Ar||fs.current||Dc?(typeof gr=="function"&&(lA(v,k,gr,R),Ar=v.memoizedState),(vt=Dc||UM(v,k,vt,R,Ft,Ar,Ue)||!1)?(jt||typeof me.UNSAFE_componentWillUpdate!="function"&&typeof me.componentWillUpdate!="function"||(typeof me.componentWillUpdate=="function"&&me.componentWillUpdate(R,Ar,Ue),typeof me.UNSAFE_componentWillUpdate=="function"&&me.UNSAFE_componentWillUpdate(R,Ar,Ue)),typeof me.componentDidUpdate=="function"&&(v.flags|=4),typeof me.getSnapshotBeforeUpdate=="function"&&(v.flags|=1024)):(typeof me.componentDidUpdate!="function"||Pe===p.memoizedProps&&Ft===p.memoizedState||(v.flags|=4),typeof me.getSnapshotBeforeUpdate!="function"||Pe===p.memoizedProps&&Ft===p.memoizedState||(v.flags|=1024),v.memoizedProps=R,v.memoizedState=Ar),me.props=R,me.state=Ar,me.context=Ue,R=vt):(typeof me.componentDidUpdate!="function"||Pe===p.memoizedProps&&Ft===p.memoizedState||(v.flags|=4),typeof me.getSnapshotBeforeUpdate!="function"||Pe===p.memoizedProps&&Ft===p.memoizedState||(v.flags|=1024),R=!1)}return hA(p,v,k,R,ee,W)}function hA(p,v,k,R,W,ee){QM(p,v);var me=(v.flags&128)!==0;if(!R&&!me)return W&&v_(v,k,!1),Yf(p,v,ee);R=v.stateNode,vse.current=v;var Pe=me&&typeof k.getDerivedStateFromError!="function"?null:R.render();return v.flags|=1,p!==null&&me?(v.child=Ri(v,p.child,null,ee),v.child=Ri(v,null,Pe,ee)):Xs(p,v,Pe,ee),v.memoizedState=R.state,W&&v_(v,k,!0),v.child}function t7(p){var v=p.stateNode;v.pendingContext?g_(p,v.pendingContext,v.pendingContext!==v.context):v.context&&g_(p,v.context,!1),gp(p,v.containerInfo)}function r7(p,v,k,R,W){return mn(),ra(W),v.flags|=256,Xs(p,v,k,R),v.child}var pA={dehydrated:null,treeContext:null,retryLane:0};function mA(p){return{baseLanes:p,cachePool:null,transitions:null}}function n7(p,v,k){var R=v.pendingProps,W=Ea.current,ee=!1,me=(v.flags&128)!==0,Pe;if((Pe=me)||(Pe=p!==null&&p.memoizedState===null?!1:(W&2)!==0),Pe?(ee=!0,v.flags&=-129):(p===null||p.memoizedState!==null)&&(W|=1),sa(Ea,W&1),p===null)return ir(v),p=v.memoizedState,p!==null&&(p=p.dehydrated,p!==null)?((v.mode&1)===0?v.lanes=1:p.data==="$!"?v.lanes=8:v.lanes=1073741824,null):(me=R.children,p=R.fallback,ee?(R=v.mode,ee=v.child,me={mode:"hidden",children:me},(R&1)===0&&ee!==null?(ee.childLanes=0,ee.pendingProps=me):ee=j_(me,R,0,null),p=m0(p,R,k,null),ee.return=v,p.return=v,ee.sibling=p,v.child=ee,v.child.memoizedState=mA(k),v.memoizedState=pA,p):gA(v,me));if(W=p.memoizedState,W!==null&&(Pe=W.dehydrated,Pe!==null))return yse(p,v,me,R,Pe,W,k);if(ee){ee=R.fallback,me=v.mode,W=p.child,Pe=W.sibling;var Ue={mode:"hidden",children:R.children};return(me&1)===0&&v.child!==W?(R=v.child,R.childLanes=0,R.pendingProps=Ue,v.deletions=null):(R=kp(W,Ue),R.subtreeFlags=W.subtreeFlags&14680064),Pe!==null?ee=kp(Pe,ee):(ee=m0(ee,me,k,null),ee.flags|=2),ee.return=v,R.return=v,R.sibling=ee,v.child=R,R=ee,ee=v.child,me=p.child.memoizedState,me=me===null?mA(k):{baseLanes:me.baseLanes|k,cachePool:null,transitions:me.transitions},ee.memoizedState=me,ee.childLanes=p.childLanes&~k,v.memoizedState=pA,R}return ee=p.child,p=ee.sibling,R=kp(ee,{mode:"visible",children:R.children}),(v.mode&1)===0&&(R.lanes=k),R.return=v,R.sibling=null,p!==null&&(k=v.deletions,k===null?(v.deletions=[p],v.flags|=16):k.push(p)),v.child=R,v.memoizedState=null,R}function gA(p,v){return v=j_({mode:"visible",children:v},p.mode,0,null),v.return=p,p.child=v}function k_(p,v,k,R){return R!==null&&ra(R),Ri(v,p.child,null,k),p=gA(v,v.pendingProps.children),p.flags|=2,v.memoizedState=null,p}function yse(p,v,k,R,W,ee,me){if(k)return v.flags&256?(v.flags&=-257,R=uA(Error(r(422))),k_(p,v,me,R)):v.memoizedState!==null?(v.child=p.child,v.flags|=128,null):(ee=R.fallback,W=v.mode,R=j_({mode:"visible",children:R.children},W,0,null),ee=m0(ee,W,me,null),ee.flags|=2,R.return=v,ee.return=v,R.sibling=ee,v.child=R,(v.mode&1)!==0&&Ri(v,p.child,null,me),v.child.memoizedState=mA(me),v.memoizedState=pA,ee);if((v.mode&1)===0)return k_(p,v,me,null);if(W.data==="$!"){if(R=W.nextSibling&&W.nextSibling.dataset,R)var Pe=R.dgst;return R=Pe,ee=Error(r(419)),R=uA(ee,R,void 0),k_(p,v,me,R)}if(Pe=(me&p.childLanes)!==0,Sl||Pe){if(R=Eo,R!==null){switch(me&-me){case 4:W=2;break;case 16:W=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:W=32;break;case 536870912:W=268435456;break;default:W=0}W=(W&(R.suspendedLanes|me))!==0?0:W,W!==0&&W!==ee.retryLane&&(ee.retryLane=W,Gn(p,W),Eu(R,p,W,-1))}return DA(),R=uA(Error(r(421))),k_(p,v,me,R)}return W.data==="$?"?(v.flags|=128,v.child=p.child,v=Ose.bind(null,p),W._reactRetry=v,null):(p=ee.treeContext,kt=Ho(W.nextSibling),Ve=v,At=!0,Ct=null,p!==null&&(xe[Ae++]=nt,xe[Ae++]=at,xe[Ae++]=Be,nt=p.id,at=p.overflow,Be=v),v=gA(v,R.children),v.flags|=4096,v)}function a7(p,v,k){p.lanes|=v;var R=p.alternate;R!==null&&(R.lanes|=v),xl(p.return,v,k)}function vA(p,v,k,R,W){var ee=p.memoizedState;ee===null?p.memoizedState={isBackwards:v,rendering:null,renderingStartTime:0,last:R,tail:k,tailMode:W}:(ee.isBackwards=v,ee.rendering=null,ee.renderingStartTime=0,ee.last=R,ee.tail=k,ee.tailMode=W)}function i7(p,v,k){var R=v.pendingProps,W=R.revealOrder,ee=R.tail;if(Xs(p,v,R.children,k),R=Ea.current,(R&2)!==0)R=R&1|2,v.flags|=128;else{if(p!==null&&(p.flags&128)!==0)e:for(p=v.child;p!==null;){if(p.tag===13)p.memoizedState!==null&&a7(p,k,v);else if(p.tag===19)a7(p,k,v);else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===v)break e;for(;p.sibling===null;){if(p.return===null||p.return===v)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}R&=1}if(sa(Ea,R),(v.mode&1)===0)v.memoizedState=null;else switch(W){case"forwards":for(k=v.child,W=null;k!==null;)p=k.alternate,p!==null&&Yl(p)===null&&(W=k),k=k.sibling;k=W,k===null?(W=v.child,v.child=null):(W=k.sibling,k.sibling=null),vA(v,!1,W,k,ee);break;case"backwards":for(k=null,W=v.child,v.child=null;W!==null;){if(p=W.alternate,p!==null&&Yl(p)===null){v.child=W;break}p=W.sibling,W.sibling=k,k=W,W=p}vA(v,!0,k,null,ee);break;case"together":vA(v,!1,null,null,void 0);break;default:v.memoizedState=null}return v.child}function N_(p,v){(v.mode&1)===0&&p!==null&&(p.alternate=null,v.alternate=null,v.flags|=2)}function Yf(p,v,k){if(p!==null&&(v.dependencies=p.dependencies),d0|=v.lanes,(k&v.childLanes)===0)return null;if(p!==null&&v.child!==p.child)throw Error(r(153));if(v.child!==null){for(p=v.child,k=kp(p,p.pendingProps),v.child=k,k.return=v;p.sibling!==null;)p=p.sibling,k=k.sibling=kp(p,p.pendingProps),k.return=v;k.sibling=null}return v.child}function xse(p,v,k){switch(v.tag){case 3:t7(v),mn();break;case 5:y_(v);break;case 1:hs(v.type)&&Wf(v);break;case 4:gp(v,v.stateNode.containerInfo);break;case 10:var R=v.type._context,W=v.memoizedProps.value;sa(ko,R._currentValue),R._currentValue=W;break;case 13:if(R=v.memoizedState,R!==null)return R.dehydrated!==null?(sa(Ea,Ea.current&1),v.flags|=128,null):(k&v.child.childLanes)!==0?n7(p,v,k):(sa(Ea,Ea.current&1),p=Yf(p,v,k),p!==null?p.sibling:null);sa(Ea,Ea.current&1);break;case 19:if(R=(k&v.childLanes)!==0,(p.flags&128)!==0){if(R)return i7(p,v,k);v.flags|=128}if(W=v.memoizedState,W!==null&&(W.rendering=null,W.tail=null,W.lastEffect=null),sa(Ea,Ea.current),R)break;return null;case 22:case 23:return v.lanes=0,JM(p,v,k)}return Yf(p,v,k)}var o7,yA,s7,l7;o7=function(p,v){for(var k=v.child;k!==null;){if(k.tag===5||k.tag===6)p.appendChild(k.stateNode);else if(k.tag!==4&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===v)break;for(;k.sibling===null;){if(k.return===null||k.return===v)return;k=k.return}k.sibling.return=k.return,k=k.sibling}},yA=function(){},s7=function(p,v,k,R){var W=p.memoizedProps;if(W!==R){p=v.stateNode,_u(Gs.current);var ee=null;switch(k){case"input":W=Ie(p,W),R=Ie(p,R),ee=[];break;case"select":W=K({},W,{value:void 0}),R=K({},R,{value:void 0}),ee=[];break;case"textarea":W=_e(p,W),R=_e(p,R),ee=[];break;default:typeof W.onClick!="function"&&typeof R.onClick=="function"&&(p.onclick=up)}ln(k,R);var me;k=null;for(vt in W)if(!R.hasOwnProperty(vt)&&W.hasOwnProperty(vt)&&W[vt]!=null)if(vt==="style"){var Pe=W[vt];for(me in Pe)Pe.hasOwnProperty(me)&&(k||(k={}),k[me]="")}else vt!=="dangerouslySetInnerHTML"&&vt!=="children"&&vt!=="suppressContentEditableWarning"&&vt!=="suppressHydrationWarning"&&vt!=="autoFocus"&&(a.hasOwnProperty(vt)?ee||(ee=[]):(ee=ee||[]).push(vt,null));for(vt in R){var Ue=R[vt];if(Pe=W!=null?W[vt]:void 0,R.hasOwnProperty(vt)&&Ue!==Pe&&(Ue!=null||Pe!=null))if(vt==="style")if(Pe){for(me in Pe)!Pe.hasOwnProperty(me)||Ue&&Ue.hasOwnProperty(me)||(k||(k={}),k[me]="");for(me in Ue)Ue.hasOwnProperty(me)&&Pe[me]!==Ue[me]&&(k||(k={}),k[me]=Ue[me])}else k||(ee||(ee=[]),ee.push(vt,k)),k=Ue;else vt==="dangerouslySetInnerHTML"?(Ue=Ue?Ue.__html:void 0,Pe=Pe?Pe.__html:void 0,Ue!=null&&Pe!==Ue&&(ee=ee||[]).push(vt,Ue)):vt==="children"?typeof Ue!="string"&&typeof Ue!="number"||(ee=ee||[]).push(vt,""+Ue):vt!=="suppressContentEditableWarning"&&vt!=="suppressHydrationWarning"&&(a.hasOwnProperty(vt)?(Ue!=null&&vt==="onScroll"&&pa("scroll",p),ee||Pe===Ue||(ee=[])):(ee=ee||[]).push(vt,Ue))}k&&(ee=ee||[]).push("style",k);var vt=ee;(v.updateQueue=vt)&&(v.flags|=4)}},l7=function(p,v,k,R){k!==R&&(v.flags|=4)};function qy(p,v){if(!At)switch(p.tailMode){case"hidden":v=p.tail;for(var k=null;v!==null;)v.alternate!==null&&(k=v),v=v.sibling;k===null?p.tail=null:k.sibling=null;break;case"collapsed":k=p.tail;for(var R=null;k!==null;)k.alternate!==null&&(R=k),k=k.sibling;R===null?v||p.tail===null?p.tail=null:p.tail.sibling=null:R.sibling=null}}function ms(p){var v=p.alternate!==null&&p.alternate.child===p.child,k=0,R=0;if(v)for(var W=p.child;W!==null;)k|=W.lanes|W.childLanes,R|=W.subtreeFlags&14680064,R|=W.flags&14680064,W.return=p,W=W.sibling;else for(W=p.child;W!==null;)k|=W.lanes|W.childLanes,R|=W.subtreeFlags,R|=W.flags,W.return=p,W=W.sibling;return p.subtreeFlags|=R,p.childLanes=k,v}function wse(p,v,k){var R=v.pendingProps;switch(We(v),v.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ms(v),null;case 1:return hs(v.type)&&Qg(),ms(v),null;case 3:return R=v.stateNode,Ic(),ta(fs),ta(fo),$y(),R.pendingContext&&(R.context=R.pendingContext,R.pendingContext=null),(p===null||p.child===null)&&($n(v)?v.flags|=4:p===null||p.memoizedState.isDehydrated&&(v.flags&256)===0||(v.flags|=1024,Ct!==null&&(PA(Ct),Ct=null))),yA(p,v),ms(v),null;case 5:Ly(v);var W=_u(Pd.current);if(k=v.type,p!==null&&v.stateNode!=null)s7(p,v,k,R,W),p.ref!==v.ref&&(v.flags|=512,v.flags|=2097152);else{if(!R){if(v.stateNode===null)throw Error(r(166));return ms(v),null}if(p=_u(Gs.current),$n(v)){R=v.stateNode,k=v.type;var ee=v.memoizedProps;switch(R[Oc]=v,R[dp]=ee,p=(v.mode&1)!==0,k){case"dialog":pa("cancel",R),pa("close",R);break;case"iframe":case"object":case"embed":pa("load",R);break;case"video":case"audio":for(W=0;W<kd.length;W++)pa(kd[W],R);break;case"source":pa("error",R);break;case"img":case"image":case"link":pa("error",R),pa("load",R);break;case"details":pa("toggle",R);break;case"input":Te(R,ee),pa("invalid",R);break;case"select":R._wrapperState={wasMultiple:!!ee.multiple},pa("invalid",R);break;case"textarea":Ce(R,ee),pa("invalid",R)}ln(k,ee),W=null;for(var me in ee)if(ee.hasOwnProperty(me)){var Pe=ee[me];me==="children"?typeof Pe=="string"?R.textContent!==Pe&&(ee.suppressHydrationWarning!==!0&&Jg(R.textContent,Pe,p),W=["children",Pe]):typeof Pe=="number"&&R.textContent!==""+Pe&&(ee.suppressHydrationWarning!==!0&&Jg(R.textContent,Pe,p),W=["children",""+Pe]):a.hasOwnProperty(me)&&Pe!=null&&me==="onScroll"&&pa("scroll",R)}switch(k){case"input":oe(R),mt(R,ee,!0);break;case"textarea":oe(R),gt(R);break;case"select":case"option":break;default:typeof ee.onClick=="function"&&(R.onclick=up)}R=W,v.updateQueue=R,R!==null&&(v.flags|=4)}else{me=W.nodeType===9?W:W.ownerDocument,p==="http://www.w3.org/1999/xhtml"&&(p=pt(k)),p==="http://www.w3.org/1999/xhtml"?k==="script"?(p=me.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild)):typeof R.is=="string"?p=me.createElement(k,{is:R.is}):(p=me.createElement(k),k==="select"&&(me=p,R.multiple?me.multiple=!0:R.size&&(me.size=R.size))):p=me.createElementNS(p,k),p[Oc]=v,p[dp]=R,o7(p,v,!1,!1),v.stateNode=p;e:{switch(me=Aa(k,R),k){case"dialog":pa("cancel",p),pa("close",p),W=R;break;case"iframe":case"object":case"embed":pa("load",p),W=R;break;case"video":case"audio":for(W=0;W<kd.length;W++)pa(kd[W],p);W=R;break;case"source":pa("error",p),W=R;break;case"img":case"image":case"link":pa("error",p),pa("load",p),W=R;break;case"details":pa("toggle",p),W=R;break;case"input":Te(p,R),W=Ie(p,R),pa("invalid",p);break;case"option":W=R;break;case"select":p._wrapperState={wasMultiple:!!R.multiple},W=K({},R,{value:void 0}),pa("invalid",p);break;case"textarea":Ce(p,R),W=_e(p,R),pa("invalid",p);break;default:W=R}ln(k,W),Pe=W;for(ee in Pe)if(Pe.hasOwnProperty(ee)){var Ue=Pe[ee];ee==="style"?Tr(p,Ue):ee==="dangerouslySetInnerHTML"?(Ue=Ue?Ue.__html:void 0,Ue!=null&&Nt(p,Ue)):ee==="children"?typeof Ue=="string"?(k!=="textarea"||Ue!=="")&&Je(p,Ue):typeof Ue=="number"&&Je(p,""+Ue):ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&ee!=="autoFocus"&&(a.hasOwnProperty(ee)?Ue!=null&&ee==="onScroll"&&pa("scroll",p):Ue!=null&&S(p,ee,Ue,me))}switch(k){case"input":oe(p),mt(p,R,!1);break;case"textarea":oe(p),gt(p);break;case"option":R.value!=null&&p.setAttribute("value",""+de(R.value));break;case"select":p.multiple=!!R.multiple,ee=R.value,ee!=null?ft(p,!!R.multiple,ee,!1):R.defaultValue!=null&&ft(p,!!R.multiple,R.defaultValue,!0);break;default:typeof W.onClick=="function"&&(p.onclick=up)}switch(k){case"button":case"input":case"select":case"textarea":R=!!R.autoFocus;break e;case"img":R=!0;break e;default:R=!1}}R&&(v.flags|=4)}v.ref!==null&&(v.flags|=512,v.flags|=2097152)}return ms(v),null;case 6:if(p&&v.stateNode!=null)l7(p,v,p.memoizedProps,R);else{if(typeof R!="string"&&v.stateNode===null)throw Error(r(166));if(k=_u(Pd.current),_u(Gs.current),$n(v)){if(R=v.stateNode,k=v.memoizedProps,R[Oc]=v,(ee=R.nodeValue!==k)&&(p=Ve,p!==null))switch(p.tag){case 3:Jg(R.nodeValue,k,(p.mode&1)!==0);break;case 5:p.memoizedProps.suppressHydrationWarning!==!0&&Jg(R.nodeValue,k,(p.mode&1)!==0)}ee&&(v.flags|=4)}else R=(k.nodeType===9?k:k.ownerDocument).createTextNode(R),R[Oc]=v,v.stateNode=R}return ms(v),null;case 13:if(ta(Ea),R=v.memoizedState,p===null||p.memoizedState!==null&&p.memoizedState.dehydrated!==null){if(At&&kt!==null&&(v.mode&1)!==0&&(v.flags&128)===0)Rn(),mn(),v.flags|=98560,ee=!1;else if(ee=$n(v),R!==null&&R.dehydrated!==null){if(p===null){if(!ee)throw Error(r(318));if(ee=v.memoizedState,ee=ee!==null?ee.dehydrated:null,!ee)throw Error(r(317));ee[Oc]=v}else mn(),(v.flags&128)===0&&(v.memoizedState=null),v.flags|=4;ms(v),ee=!1}else Ct!==null&&(PA(Ct),Ct=null),ee=!0;if(!ee)return v.flags&65536?v:null}return(v.flags&128)!==0?(v.lanes=k,v):(R=R!==null,R!==(p!==null&&p.memoizedState!==null)&&R&&(v.child.flags|=8192,(v.mode&1)!==0&&(p===null||(Ea.current&1)!==0?po===0&&(po=3):DA())),v.updateQueue!==null&&(v.flags|=4),ms(v),null);case 4:return Ic(),yA(p,v),p===null&&$f(v.stateNode.containerInfo),ms(v),null;case 10:return ps(v.type._context),ms(v),null;case 17:return hs(v.type)&&Qg(),ms(v),null;case 19:if(ta(Ea),ee=v.memoizedState,ee===null)return ms(v),null;if(R=(v.flags&128)!==0,me=ee.rendering,me===null)if(R)qy(ee,!1);else{if(po!==0||p!==null&&(p.flags&128)!==0)for(p=v.child;p!==null;){if(me=Yl(p),me!==null){for(v.flags|=128,qy(ee,!1),R=me.updateQueue,R!==null&&(v.updateQueue=R,v.flags|=4),v.subtreeFlags=0,R=k,k=v.child;k!==null;)ee=k,p=R,ee.flags&=14680066,me=ee.alternate,me===null?(ee.childLanes=0,ee.lanes=p,ee.child=null,ee.subtreeFlags=0,ee.memoizedProps=null,ee.memoizedState=null,ee.updateQueue=null,ee.dependencies=null,ee.stateNode=null):(ee.childLanes=me.childLanes,ee.lanes=me.lanes,ee.child=me.child,ee.subtreeFlags=0,ee.deletions=null,ee.memoizedProps=me.memoizedProps,ee.memoizedState=me.memoizedState,ee.updateQueue=me.updateQueue,ee.type=me.type,p=me.dependencies,ee.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),k=k.sibling;return sa(Ea,Ea.current&1|2),v.child}p=p.sibling}ee.tail!==null&&Bt()>hv&&(v.flags|=128,R=!0,qy(ee,!1),v.lanes=4194304)}else{if(!R)if(p=Yl(me),p!==null){if(v.flags|=128,R=!0,k=p.updateQueue,k!==null&&(v.updateQueue=k,v.flags|=4),qy(ee,!0),ee.tail===null&&ee.tailMode==="hidden"&&!me.alternate&&!At)return ms(v),null}else 2*Bt()-ee.renderingStartTime>hv&&k!==1073741824&&(v.flags|=128,R=!0,qy(ee,!1),v.lanes=4194304);ee.isBackwards?(me.sibling=v.child,v.child=me):(k=ee.last,k!==null?k.sibling=me:v.child=me,ee.last=me)}return ee.tail!==null?(v=ee.tail,ee.rendering=v,ee.tail=v.sibling,ee.renderingStartTime=Bt(),v.sibling=null,k=Ea.current,sa(Ea,R?k&1|2:k&1),v):(ms(v),null);case 22:case 23:return OA(),R=v.memoizedState!==null,p!==null&&p.memoizedState!==null!==R&&(v.flags|=8192),R&&(v.mode&1)!==0?(Zl&1073741824)!==0&&(ms(v),v.subtreeFlags&6&&(v.flags|=8192)):ms(v),null;case 24:return null;case 25:return null}throw Error(r(156,v.tag))}function _se(p,v){switch(We(v),v.tag){case 1:return hs(v.type)&&Qg(),p=v.flags,p&65536?(v.flags=p&-65537|128,v):null;case 3:return Ic(),ta(fs),ta(fo),$y(),p=v.flags,(p&65536)!==0&&(p&128)===0?(v.flags=p&-65537|128,v):null;case 5:return Ly(v),null;case 13:if(ta(Ea),p=v.memoizedState,p!==null&&p.dehydrated!==null){if(v.alternate===null)throw Error(r(340));mn()}return p=v.flags,p&65536?(v.flags=p&-65537|128,v):null;case 19:return ta(Ea),null;case 4:return Ic(),null;case 10:return ps(v.type._context),null;case 22:case 23:return OA(),null;case 24:return null;default:return null}}var E_=!1,gs=!1,bse=typeof WeakSet=="function"?WeakSet:Set,_r=null;function dv(p,v){var k=p.ref;if(k!==null)if(typeof k=="function")try{k(null)}catch(R){bi(p,v,R)}else k.current=null}function xA(p,v,k){try{k()}catch(R){bi(p,v,R)}}var c7=!1;function Sse(p,v){if(i0=Vh,p=Jm(),Mf(p)){if("selectionStart"in p)var k={start:p.selectionStart,end:p.selectionEnd};else e:{k=(k=p.ownerDocument)&&k.defaultView||window;var R=k.getSelection&&k.getSelection();if(R&&R.rangeCount!==0){k=R.anchorNode;var W=R.anchorOffset,ee=R.focusNode;R=R.focusOffset;try{k.nodeType,ee.nodeType}catch{k=null;break e}var me=0,Pe=-1,Ue=-1,vt=0,jt=0,Ut=p,Ft=null;t:for(;;){for(var gr;Ut!==k||W!==0&&Ut.nodeType!==3||(Pe=me+W),Ut!==ee||R!==0&&Ut.nodeType!==3||(Ue=me+R),Ut.nodeType===3&&(me+=Ut.nodeValue.length),(gr=Ut.firstChild)!==null;)Ft=Ut,Ut=gr;for(;;){if(Ut===p)break t;if(Ft===k&&++vt===W&&(Pe=me),Ft===ee&&++jt===R&&(Ue=me),(gr=Ut.nextSibling)!==null)break;Ut=Ft,Ft=Ut.parentNode}Ut=gr}k=Pe===-1||Ue===-1?null:{start:Pe,end:Ue}}else k=null}k=k||{start:0,end:0}}else k=null;for(Uf={focusedElem:p,selectionRange:k},Vh=!1,_r=v;_r!==null;)if(v=_r,p=v.child,(v.subtreeFlags&1028)!==0&&p!==null)p.return=v,_r=p;else for(;_r!==null;){v=_r;try{var Ar=v.alternate;if((v.flags&1024)!==0)switch(v.tag){case 0:case 11:case 15:break;case 1:if(Ar!==null){var Er=Ar.memoizedProps,Li=Ar.memoizedState,st=v.stateNode,Ye=st.getSnapshotBeforeUpdate(v.elementType===v.type?Er:Au(v.type,Er),Li);st.__reactInternalSnapshotBeforeUpdate=Ye}break;case 3:var dt=v.stateNode.containerInfo;dt.nodeType===1?dt.textContent="":dt.nodeType===9&&dt.documentElement&&dt.removeChild(dt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Zt){bi(v,v.return,Zt)}if(p=v.sibling,p!==null){p.return=v.return,_r=p;break}_r=v.return}return Ar=c7,c7=!1,Ar}function zy(p,v,k){var R=v.updateQueue;if(R=R!==null?R.lastEffect:null,R!==null){var W=R=R.next;do{if((W.tag&p)===p){var ee=W.destroy;W.destroy=void 0,ee!==void 0&&xA(v,k,ee)}W=W.next}while(W!==R)}}function C_(p,v){if(v=v.updateQueue,v=v!==null?v.lastEffect:null,v!==null){var k=v=v.next;do{if((k.tag&p)===p){var R=k.create;k.destroy=R()}k=k.next}while(k!==v)}}function wA(p){var v=p.ref;if(v!==null){var k=p.stateNode;switch(p.tag){case 5:p=k;break;default:p=k}typeof v=="function"?v(p):v.current=p}}function u7(p){var v=p.alternate;v!==null&&(p.alternate=null,u7(v)),p.child=null,p.deletions=null,p.sibling=null,p.tag===5&&(v=p.stateNode,v!==null&&(delete v[Oc],delete v[dp],delete v[ds],delete v[aA],delete v[iA])),p.stateNode=null,p.return=null,p.dependencies=null,p.memoizedProps=null,p.memoizedState=null,p.pendingProps=null,p.stateNode=null,p.updateQueue=null}function d7(p){return p.tag===5||p.tag===3||p.tag===4}function f7(p){e:for(;;){for(;p.sibling===null;){if(p.return===null||d7(p.return))return null;p=p.return}for(p.sibling.return=p.return,p=p.sibling;p.tag!==5&&p.tag!==6&&p.tag!==18;){if(p.flags&2||p.child===null||p.tag===4)continue e;p.child.return=p,p=p.child}if(!(p.flags&2))return p.stateNode}}function _A(p,v,k){var R=p.tag;if(R===5||R===6)p=p.stateNode,v?k.nodeType===8?k.parentNode.insertBefore(p,v):k.insertBefore(p,v):(k.nodeType===8?(v=k.parentNode,v.insertBefore(p,k)):(v=k,v.appendChild(p)),k=k._reactRootContainer,k!=null||v.onclick!==null||(v.onclick=up));else if(R!==4&&(p=p.child,p!==null))for(_A(p,v,k),p=p.sibling;p!==null;)_A(p,v,k),p=p.sibling}function bA(p,v,k){var R=p.tag;if(R===5||R===6)p=p.stateNode,v?k.insertBefore(p,v):k.appendChild(p);else if(R!==4&&(p=p.child,p!==null))for(bA(p,v,k),p=p.sibling;p!==null;)bA(p,v,k),p=p.sibling}var Yo=null,ku=!1;function wp(p,v,k){for(k=k.child;k!==null;)h7(p,v,k),k=k.sibling}function h7(p,v,k){if(vi&&typeof vi.onCommitFiberUnmount=="function")try{vi.onCommitFiberUnmount(Us,k)}catch{}switch(k.tag){case 5:gs||dv(k,v);case 6:var R=Yo,W=ku;Yo=null,wp(p,v,k),Yo=R,ku=W,Yo!==null&&(ku?(p=Yo,k=k.stateNode,p.nodeType===8?p.parentNode.removeChild(k):p.removeChild(k)):Yo.removeChild(k.stateNode));break;case 18:Yo!==null&&(ku?(p=Yo,k=k.stateNode,p.nodeType===8?Iy(p.parentNode,k):p.nodeType===1&&Iy(p,k),zl(p)):Iy(Yo,k.stateNode));break;case 4:R=Yo,W=ku,Yo=k.stateNode.containerInfo,ku=!0,wp(p,v,k),Yo=R,ku=W;break;case 0:case 11:case 14:case 15:if(!gs&&(R=k.updateQueue,R!==null&&(R=R.lastEffect,R!==null))){W=R=R.next;do{var ee=W,me=ee.destroy;ee=ee.tag,me!==void 0&&((ee&2)!==0||(ee&4)!==0)&&xA(k,v,me),W=W.next}while(W!==R)}wp(p,v,k);break;case 1:if(!gs&&(dv(k,v),R=k.stateNode,typeof R.componentWillUnmount=="function"))try{R.props=k.memoizedProps,R.state=k.memoizedState,R.componentWillUnmount()}catch(Pe){bi(k,v,Pe)}wp(p,v,k);break;case 21:wp(p,v,k);break;case 22:k.mode&1?(gs=(R=gs)||k.memoizedState!==null,wp(p,v,k),gs=R):wp(p,v,k);break;default:wp(p,v,k)}}function p7(p){var v=p.updateQueue;if(v!==null){p.updateQueue=null;var k=p.stateNode;k===null&&(k=p.stateNode=new bse),v.forEach(function(R){var W=Dse.bind(null,p,R);k.has(R)||(k.add(R),R.then(W,W))})}}function Nu(p,v){var k=v.deletions;if(k!==null)for(var R=0;R<k.length;R++){var W=k[R];try{var ee=p,me=v,Pe=me;e:for(;Pe!==null;){switch(Pe.tag){case 5:Yo=Pe.stateNode,ku=!1;break e;case 3:Yo=Pe.stateNode.containerInfo,ku=!0;break e;case 4:Yo=Pe.stateNode.containerInfo,ku=!0;break e}Pe=Pe.return}if(Yo===null)throw Error(r(160));h7(ee,me,W),Yo=null,ku=!1;var Ue=W.alternate;Ue!==null&&(Ue.return=null),W.return=null}catch(vt){bi(W,v,vt)}}if(v.subtreeFlags&12854)for(v=v.child;v!==null;)m7(v,p),v=v.sibling}function m7(p,v){var k=p.alternate,R=p.flags;switch(p.tag){case 0:case 11:case 14:case 15:if(Nu(v,p),Od(p),R&4){try{zy(3,p,p.return),C_(3,p)}catch(Er){bi(p,p.return,Er)}try{zy(5,p,p.return)}catch(Er){bi(p,p.return,Er)}}break;case 1:Nu(v,p),Od(p),R&512&&k!==null&&dv(k,k.return);break;case 5:if(Nu(v,p),Od(p),R&512&&k!==null&&dv(k,k.return),p.flags&32){var W=p.stateNode;try{Je(W,"")}catch(Er){bi(p,p.return,Er)}}if(R&4&&(W=p.stateNode,W!=null)){var ee=p.memoizedProps,me=k!==null?k.memoizedProps:ee,Pe=p.type,Ue=p.updateQueue;if(p.updateQueue=null,Ue!==null)try{Pe==="input"&&ee.type==="radio"&&ee.name!=null&&he(W,ee),Aa(Pe,me);var vt=Aa(Pe,ee);for(me=0;me<Ue.length;me+=2){var jt=Ue[me],Ut=Ue[me+1];jt==="style"?Tr(W,Ut):jt==="dangerouslySetInnerHTML"?Nt(W,Ut):jt==="children"?Je(W,Ut):S(W,jt,Ut,vt)}switch(Pe){case"input":Ge(W,ee);break;case"textarea":ze(W,ee);break;case"select":var Ft=W._wrapperState.wasMultiple;W._wrapperState.wasMultiple=!!ee.multiple;var gr=ee.value;gr!=null?ft(W,!!ee.multiple,gr,!1):Ft!==!!ee.multiple&&(ee.defaultValue!=null?ft(W,!!ee.multiple,ee.defaultValue,!0):ft(W,!!ee.multiple,ee.multiple?[]:"",!1))}W[dp]=ee}catch(Er){bi(p,p.return,Er)}}break;case 6:if(Nu(v,p),Od(p),R&4){if(p.stateNode===null)throw Error(r(162));W=p.stateNode,ee=p.memoizedProps;try{W.nodeValue=ee}catch(Er){bi(p,p.return,Er)}}break;case 3:if(Nu(v,p),Od(p),R&4&&k!==null&&k.memoizedState.isDehydrated)try{zl(v.containerInfo)}catch(Er){bi(p,p.return,Er)}break;case 4:Nu(v,p),Od(p);break;case 13:Nu(v,p),Od(p),W=p.child,W.flags&8192&&(ee=W.memoizedState!==null,W.stateNode.isHidden=ee,!ee||W.alternate!==null&&W.alternate.memoizedState!==null||(kA=Bt())),R&4&&p7(p);break;case 22:if(jt=k!==null&&k.memoizedState!==null,p.mode&1?(gs=(vt=gs)||jt,Nu(v,p),gs=vt):Nu(v,p),Od(p),R&8192){if(vt=p.memoizedState!==null,(p.stateNode.isHidden=vt)&&!jt&&(p.mode&1)!==0)for(_r=p,jt=p.child;jt!==null;){for(Ut=_r=jt;_r!==null;){switch(Ft=_r,gr=Ft.child,Ft.tag){case 0:case 11:case 14:case 15:zy(4,Ft,Ft.return);break;case 1:dv(Ft,Ft.return);var Ar=Ft.stateNode;if(typeof Ar.componentWillUnmount=="function"){R=Ft,k=Ft.return;try{v=R,Ar.props=v.memoizedProps,Ar.state=v.memoizedState,Ar.componentWillUnmount()}catch(Er){bi(R,k,Er)}}break;case 5:dv(Ft,Ft.return);break;case 22:if(Ft.memoizedState!==null){y7(Ut);continue}}gr!==null?(gr.return=Ft,_r=gr):y7(Ut)}jt=jt.sibling}e:for(jt=null,Ut=p;;){if(Ut.tag===5){if(jt===null){jt=Ut;try{W=Ut.stateNode,vt?(ee=W.style,typeof ee.setProperty=="function"?ee.setProperty("display","none","important"):ee.display="none"):(Pe=Ut.stateNode,Ue=Ut.memoizedProps.style,me=Ue!=null&&Ue.hasOwnProperty("display")?Ue.display:null,Pe.style.display=Kt("display",me))}catch(Er){bi(p,p.return,Er)}}}else if(Ut.tag===6){if(jt===null)try{Ut.stateNode.nodeValue=vt?"":Ut.memoizedProps}catch(Er){bi(p,p.return,Er)}}else if((Ut.tag!==22&&Ut.tag!==23||Ut.memoizedState===null||Ut===p)&&Ut.child!==null){Ut.child.return=Ut,Ut=Ut.child;continue}if(Ut===p)break e;for(;Ut.sibling===null;){if(Ut.return===null||Ut.return===p)break e;jt===Ut&&(jt=null),Ut=Ut.return}jt===Ut&&(jt=null),Ut.sibling.return=Ut.return,Ut=Ut.sibling}}break;case 19:Nu(v,p),Od(p),R&4&&p7(p);break;case 21:break;default:Nu(v,p),Od(p)}}function Od(p){var v=p.flags;if(v&2){try{e:{for(var k=p.return;k!==null;){if(d7(k)){var R=k;break e}k=k.return}throw Error(r(160))}switch(R.tag){case 5:var W=R.stateNode;R.flags&32&&(Je(W,""),R.flags&=-33);var ee=f7(p);bA(p,ee,W);break;case 3:case 4:var me=R.stateNode.containerInfo,Pe=f7(p);_A(p,Pe,me);break;default:throw Error(r(161))}}catch(Ue){bi(p,p.return,Ue)}p.flags&=-3}v&4096&&(p.flags&=-4097)}function Ase(p,v,k){_r=p,g7(p)}function g7(p,v,k){for(var R=(p.mode&1)!==0;_r!==null;){var W=_r,ee=W.child;if(W.tag===22&&R){var me=W.memoizedState!==null||E_;if(!me){var Pe=W.alternate,Ue=Pe!==null&&Pe.memoizedState!==null||gs;Pe=E_;var vt=gs;if(E_=me,(gs=Ue)&&!vt)for(_r=W;_r!==null;)me=_r,Ue=me.child,me.tag===22&&me.memoizedState!==null?x7(W):Ue!==null?(Ue.return=me,_r=Ue):x7(W);for(;ee!==null;)_r=ee,g7(ee),ee=ee.sibling;_r=W,E_=Pe,gs=vt}v7(p)}else(W.subtreeFlags&8772)!==0&&ee!==null?(ee.return=W,_r=ee):v7(p)}}function v7(p){for(;_r!==null;){var v=_r;if((v.flags&8772)!==0){var k=v.alternate;try{if((v.flags&8772)!==0)switch(v.tag){case 0:case 11:case 15:gs||C_(5,v);break;case 1:var R=v.stateNode;if(v.flags&4&&!gs)if(k===null)R.componentDidMount();else{var W=v.elementType===v.type?k.memoizedProps:Au(v.type,k.memoizedProps);R.componentDidUpdate(W,k.memoizedState,R.__reactInternalSnapshotBeforeUpdate)}var ee=v.updateQueue;ee!==null&&Hf(v,ee,R);break;case 3:var me=v.updateQueue;if(me!==null){if(k=null,v.child!==null)switch(v.child.tag){case 5:k=v.child.stateNode;break;case 1:k=v.child.stateNode}Hf(v,me,k)}break;case 5:var Pe=v.stateNode;if(k===null&&v.flags&4){k=Pe;var Ue=v.memoizedProps;switch(v.type){case"button":case"input":case"select":case"textarea":Ue.autoFocus&&k.focus();break;case"img":Ue.src&&(k.src=Ue.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(v.memoizedState===null){var vt=v.alternate;if(vt!==null){var jt=vt.memoizedState;if(jt!==null){var Ut=jt.dehydrated;Ut!==null&&zl(Ut)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}gs||v.flags&512&&wA(v)}catch(Ft){bi(v,v.return,Ft)}}if(v===p){_r=null;break}if(k=v.sibling,k!==null){k.return=v.return,_r=k;break}_r=v.return}}function y7(p){for(;_r!==null;){var v=_r;if(v===p){_r=null;break}var k=v.sibling;if(k!==null){k.return=v.return,_r=k;break}_r=v.return}}function x7(p){for(;_r!==null;){var v=_r;try{switch(v.tag){case 0:case 11:case 15:var k=v.return;try{C_(4,v)}catch(Ue){bi(v,k,Ue)}break;case 1:var R=v.stateNode;if(typeof R.componentDidMount=="function"){var W=v.return;try{R.componentDidMount()}catch(Ue){bi(v,W,Ue)}}var ee=v.return;try{wA(v)}catch(Ue){bi(v,ee,Ue)}break;case 5:var me=v.return;try{wA(v)}catch(Ue){bi(v,me,Ue)}}}catch(Ue){bi(v,v.return,Ue)}if(v===p){_r=null;break}var Pe=v.sibling;if(Pe!==null){Pe.return=v.return,_r=Pe;break}_r=v.return}}var kse=Math.ceil,P_=C.ReactCurrentDispatcher,SA=C.ReactCurrentOwner,Fc=C.ReactCurrentBatchConfig,zn=0,Eo=null,ro=null,Ko=0,Zl=0,fv=Gl(0),po=0,Wy=null,d0=0,T_=0,AA=0,Vy=null,Al=null,kA=0,hv=1/0,Kf=null,O_=!1,NA=null,_p=null,D_=!1,bp=null,I_=0,Hy=0,EA=null,R_=-1,M_=0;function Zs(){return(zn&6)!==0?Bt():R_!==-1?R_:R_=Bt()}function Sp(p){return(p.mode&1)===0?1:(zn&2)!==0&&Ko!==0?Ko&-Ko:la.transition!==null?(M_===0&&(M_=Um()),M_):(p=Un,p!==0||(p=window.event,p=p===void 0?16:Hm(p.type)),p)}function Eu(p,v,k,R){if(50<Hy)throw Hy=0,EA=null,Error(r(185));hd(p,k,R),((zn&2)===0||p!==Eo)&&(p===Eo&&((zn&2)===0&&(T_|=k),po===4&&Ap(p,Ko)),kl(p,R),k===1&&zn===0&&(v.mode&1)===0&&(hv=Bt()+500,s0&&ne()))}function kl(p,v){var k=p.callbackNode;ss(p,v);var R=os(p,p===Eo?Ko:0);if(R===0)k!==null&&Yt(k),p.callbackNode=null,p.callbackPriority=0;else if(v=R&-R,p.callbackPriority!==v){if(k!=null&&Yt(k),v===1)p.tag===0?V(_7.bind(null,p)):M(_7.bind(null,p)),rA(function(){(zn&6)===0&&ne()}),k=null;else{switch(Uh(R)){case 1:k=Ln;break;case 4:k=Qn;break;case 16:k=Ua;break;case 536870912:k=wc;break;default:k=Ua}k=P7(k,w7.bind(null,p))}p.callbackPriority=v,p.callbackNode=k}}function w7(p,v){if(R_=-1,M_=0,(zn&6)!==0)throw Error(r(327));var k=p.callbackNode;if(pv()&&p.callbackNode!==k)return null;var R=os(p,p===Eo?Ko:0);if(R===0)return null;if((R&30)!==0||(R&p.expiredLanes)!==0||v)v=F_(p,R);else{v=R;var W=zn;zn|=2;var ee=S7();(Eo!==p||Ko!==v)&&(Kf=null,hv=Bt()+500,h0(p,v));do try{Cse();break}catch(Pe){b7(p,Pe)}while(!0);ho(),P_.current=ee,zn=W,ro!==null?v=0:(Eo=null,Ko=0,v=po)}if(v!==0){if(v===2&&(W=Sf(p),W!==0&&(R=W,v=CA(p,W))),v===1)throw k=Wy,h0(p,0),Ap(p,R),kl(p,Bt()),k;if(v===6)Ap(p,R);else{if(W=p.current.alternate,(R&30)===0&&!Nse(W)&&(v=F_(p,R),v===2&&(ee=Sf(p),ee!==0&&(R=ee,v=CA(p,ee))),v===1))throw k=Wy,h0(p,0),Ap(p,R),kl(p,Bt()),k;switch(p.finishedWork=W,p.finishedLanes=R,v){case 0:case 1:throw Error(r(345));case 2:p0(p,Al,Kf);break;case 3:if(Ap(p,R),(R&130023424)===R&&(v=kA+500-Bt(),10<v)){if(os(p,0)!==0)break;if(W=p.suspendedLanes,(W&R)!==R){Zs(),p.pingedLanes|=p.suspendedLanes&W;break}p.timeoutHandle=Dy(p0.bind(null,p,Al,Kf),v);break}p0(p,Al,Kf);break;case 4:if(Ap(p,R),(R&4194240)===R)break;for(v=p.eventTimes,W=-1;0<R;){var me=31-qa(R);ee=1<<me,me=v[me],me>W&&(W=me),R&=~ee}if(R=W,R=Bt()-R,R=(120>R?120:480>R?480:1080>R?1080:1920>R?1920:3e3>R?3e3:4320>R?4320:1960*kse(R/1960))-R,10<R){p.timeoutHandle=Dy(p0.bind(null,p,Al,Kf),R);break}p0(p,Al,Kf);break;case 5:p0(p,Al,Kf);break;default:throw Error(r(329))}}}return kl(p,Bt()),p.callbackNode===k?w7.bind(null,p):null}function CA(p,v){var k=Vy;return p.current.memoizedState.isDehydrated&&(h0(p,v).flags|=256),p=F_(p,v),p!==2&&(v=Al,Al=k,v!==null&&PA(v)),p}function PA(p){Al===null?Al=p:Al.push.apply(Al,p)}function Nse(p){for(var v=p;;){if(v.flags&16384){var k=v.updateQueue;if(k!==null&&(k=k.stores,k!==null))for(var R=0;R<k.length;R++){var W=k[R],ee=W.getSnapshot;W=W.value;try{if(!qn(ee(),W))return!1}catch{return!1}}}if(k=v.child,v.subtreeFlags&16384&&k!==null)k.return=v,v=k;else{if(v===p)break;for(;v.sibling===null;){if(v.return===null||v.return===p)return!0;v=v.return}v.sibling.return=v.return,v=v.sibling}}return!0}function Ap(p,v){for(v&=~AA,v&=~T_,p.suspendedLanes|=v,p.pingedLanes&=~v,p=p.expirationTimes;0<v;){var k=31-qa(v),R=1<<k;p[k]=-1,v&=~R}}function _7(p){if((zn&6)!==0)throw Error(r(327));pv();var v=os(p,0);if((v&1)===0)return kl(p,Bt()),null;var k=F_(p,v);if(p.tag!==0&&k===2){var R=Sf(p);R!==0&&(v=R,k=CA(p,R))}if(k===1)throw k=Wy,h0(p,0),Ap(p,v),kl(p,Bt()),k;if(k===6)throw Error(r(345));return p.finishedWork=p.current.alternate,p.finishedLanes=v,p0(p,Al,Kf),kl(p,Bt()),null}function TA(p,v){var k=zn;zn|=1;try{return p(v)}finally{zn=k,zn===0&&(hv=Bt()+500,s0&&ne())}}function f0(p){bp!==null&&bp.tag===0&&(zn&6)===0&&pv();var v=zn;zn|=1;var k=Fc.transition,R=Un;try{if(Fc.transition=null,Un=1,p)return p()}finally{Un=R,Fc.transition=k,zn=v,(zn&6)===0&&ne()}}function OA(){Zl=fv.current,ta(fv)}function h0(p,v){p.finishedWork=null,p.finishedLanes=0;var k=p.timeoutHandle;if(k!==-1&&(p.timeoutHandle=-1,p_(k)),ro!==null)for(k=ro.return;k!==null;){var R=k;switch(We(R),R.tag){case 1:R=R.type.childContextTypes,R!=null&&Qg();break;case 3:Ic(),ta(fs),ta(fo),$y();break;case 5:Ly(R);break;case 4:Ic();break;case 13:ta(Ea);break;case 19:ta(Ea);break;case 10:ps(R.type._context);break;case 22:case 23:OA()}k=k.return}if(Eo=p,ro=p=kp(p.current,null),Ko=Zl=v,po=0,Wy=null,AA=T_=d0=0,Al=Vy=null,Hs!==null){for(v=0;v<Hs.length;v++)if(k=Hs[v],R=k.interleaved,R!==null){k.interleaved=null;var W=R.next,ee=k.pending;if(ee!==null){var me=ee.next;ee.next=W,R.next=me}k.pending=R}Hs=null}return p}function b7(p,v){do{var k=ro;try{if(ho(),tv.current=S_,vp){for(var R=Ia.memoizedState;R!==null;){var W=R.queue;W!==null&&(W.pending=null),R=R.next}vp=!1}if(Rc=0,ui=_i=Ia=null,bu=!1,yp=0,SA.current=null,k===null||k.return===null){po=1,Wy=v,ro=null;break}e:{var ee=p,me=k.return,Pe=k,Ue=v;if(v=Ko,Pe.flags|=32768,Ue!==null&&typeof Ue=="object"&&typeof Ue.then=="function"){var vt=Ue,jt=Pe,Ut=jt.tag;if((jt.mode&1)===0&&(Ut===0||Ut===11||Ut===15)){var Ft=jt.alternate;Ft?(jt.updateQueue=Ft.updateQueue,jt.memoizedState=Ft.memoizedState,jt.lanes=Ft.lanes):(jt.updateQueue=null,jt.memoizedState=null)}var gr=GM(me);if(gr!==null){gr.flags&=-257,YM(gr,me,Pe,ee,v),gr.mode&1&&HM(ee,vt,v),v=gr,Ue=vt;var Ar=v.updateQueue;if(Ar===null){var Er=new Set;Er.add(Ue),v.updateQueue=Er}else Ar.add(Ue);break e}else{if((v&1)===0){HM(ee,vt,v),DA();break e}Ue=Error(r(426))}}else if(At&&Pe.mode&1){var Li=GM(me);if(Li!==null){(Li.flags&65536)===0&&(Li.flags|=256),YM(Li,me,Pe,ee,v),ra(uv(Ue,Pe));break e}}ee=Ue=uv(Ue,Pe),po!==4&&(po=2),Vy===null?Vy=[ee]:Vy.push(ee),ee=me;do{switch(ee.tag){case 3:ee.flags|=65536,v&=-v,ee.lanes|=v;var st=WM(ee,Ue,v);bl(ee,st);break e;case 1:Pe=Ue;var Ye=ee.type,dt=ee.stateNode;if((ee.flags&128)===0&&(typeof Ye.getDerivedStateFromError=="function"||dt!==null&&typeof dt.componentDidCatch=="function"&&(_p===null||!_p.has(dt)))){ee.flags|=65536,v&=-v,ee.lanes|=v;var Zt=VM(ee,Pe,v);bl(ee,Zt);break e}}ee=ee.return}while(ee!==null)}k7(k)}catch(Cr){v=Cr,ro===k&&k!==null&&(ro=k=k.return);continue}break}while(!0)}function S7(){var p=P_.current;return P_.current=S_,p===null?S_:p}function DA(){(po===0||po===3||po===2)&&(po=4),Eo===null||(d0&268435455)===0&&(T_&268435455)===0||Ap(Eo,Ko)}function F_(p,v){var k=zn;zn|=2;var R=S7();(Eo!==p||Ko!==v)&&(Kf=null,h0(p,v));do try{Ese();break}catch(W){b7(p,W)}while(!0);if(ho(),zn=k,P_.current=R,ro!==null)throw Error(r(261));return Eo=null,Ko=0,po}function Ese(){for(;ro!==null;)A7(ro)}function Cse(){for(;ro!==null&&!or();)A7(ro)}function A7(p){var v=C7(p.alternate,p,Zl);p.memoizedProps=p.pendingProps,v===null?k7(p):ro=v,SA.current=null}function k7(p){var v=p;do{var k=v.alternate;if(p=v.return,(v.flags&32768)===0){if(k=wse(k,v,Zl),k!==null){ro=k;return}}else{if(k=_se(k,v),k!==null){k.flags&=32767,ro=k;return}if(p!==null)p.flags|=32768,p.subtreeFlags=0,p.deletions=null;else{po=6,ro=null;return}}if(v=v.sibling,v!==null){ro=v;return}ro=v=p}while(v!==null);po===0&&(po=5)}function p0(p,v,k){var R=Un,W=Fc.transition;try{Fc.transition=null,Un=1,Pse(p,v,k,R)}finally{Fc.transition=W,Un=R}return null}function Pse(p,v,k,R){do pv();while(bp!==null);if((zn&6)!==0)throw Error(r(327));k=p.finishedWork;var W=p.finishedLanes;if(k===null)return null;if(p.finishedWork=null,p.finishedLanes=0,k===p.current)throw Error(r(177));p.callbackNode=null,p.callbackPriority=0;var ee=k.lanes|k.childLanes;if(Cy(p,ee),p===Eo&&(ro=Eo=null,Ko=0),(k.subtreeFlags&2064)===0&&(k.flags&2064)===0||D_||(D_=!0,P7(Ua,function(){return pv(),null})),ee=(k.flags&15990)!==0,(k.subtreeFlags&15990)!==0||ee){ee=Fc.transition,Fc.transition=null;var me=Un;Un=1;var Pe=zn;zn|=4,SA.current=null,Sse(p,k),m7(k,p),Ff(Uf),Vh=!!i0,Uf=i0=null,p.current=k,Ase(k),Vt(),zn=Pe,Un=me,Fc.transition=ee}else p.current=k;if(D_&&(D_=!1,bp=p,I_=W),ee=p.pendingLanes,ee===0&&(_p=null),_c(k.stateNode),kl(p,Bt()),v!==null)for(R=p.onRecoverableError,k=0;k<v.length;k++)W=v[k],R(W.value,{componentStack:W.stack,digest:W.digest});if(O_)throw O_=!1,p=NA,NA=null,p;return(I_&1)!==0&&p.tag!==0&&pv(),ee=p.pendingLanes,(ee&1)!==0?p===EA?Hy++:(Hy=0,EA=p):Hy=0,ne(),null}function pv(){if(bp!==null){var p=Uh(I_),v=Fc.transition,k=Un;try{if(Fc.transition=null,Un=16>p?16:p,bp===null)var R=!1;else{if(p=bp,bp=null,I_=0,(zn&6)!==0)throw Error(r(331));var W=zn;for(zn|=4,_r=p.current;_r!==null;){var ee=_r,me=ee.child;if((_r.flags&16)!==0){var Pe=ee.deletions;if(Pe!==null){for(var Ue=0;Ue<Pe.length;Ue++){var vt=Pe[Ue];for(_r=vt;_r!==null;){var jt=_r;switch(jt.tag){case 0:case 11:case 15:zy(8,jt,ee)}var Ut=jt.child;if(Ut!==null)Ut.return=jt,_r=Ut;else for(;_r!==null;){jt=_r;var Ft=jt.sibling,gr=jt.return;if(u7(jt),jt===vt){_r=null;break}if(Ft!==null){Ft.return=gr,_r=Ft;break}_r=gr}}}var Ar=ee.alternate;if(Ar!==null){var Er=Ar.child;if(Er!==null){Ar.child=null;do{var Li=Er.sibling;Er.sibling=null,Er=Li}while(Er!==null)}}_r=ee}}if((ee.subtreeFlags&2064)!==0&&me!==null)me.return=ee,_r=me;else e:for(;_r!==null;){if(ee=_r,(ee.flags&2048)!==0)switch(ee.tag){case 0:case 11:case 15:zy(9,ee,ee.return)}var st=ee.sibling;if(st!==null){st.return=ee.return,_r=st;break e}_r=ee.return}}var Ye=p.current;for(_r=Ye;_r!==null;){me=_r;var dt=me.child;if((me.subtreeFlags&2064)!==0&&dt!==null)dt.return=me,_r=dt;else e:for(me=Ye;_r!==null;){if(Pe=_r,(Pe.flags&2048)!==0)try{switch(Pe.tag){case 0:case 11:case 15:C_(9,Pe)}}catch(Cr){bi(Pe,Pe.return,Cr)}if(Pe===me){_r=null;break e}var Zt=Pe.sibling;if(Zt!==null){Zt.return=Pe.return,_r=Zt;break e}_r=Pe.return}}if(zn=W,ne(),vi&&typeof vi.onPostCommitFiberRoot=="function")try{vi.onPostCommitFiberRoot(Us,p)}catch{}R=!0}return R}finally{Un=k,Fc.transition=v}}return!1}function N7(p,v,k){v=uv(k,v),v=WM(p,v,1),p=_l(p,v,1),v=Zs(),p!==null&&(hd(p,1,v),kl(p,v))}function bi(p,v,k){if(p.tag===3)N7(p,p,k);else for(;v!==null;){if(v.tag===3){N7(v,p,k);break}else if(v.tag===1){var R=v.stateNode;if(typeof v.type.getDerivedStateFromError=="function"||typeof R.componentDidCatch=="function"&&(_p===null||!_p.has(R))){p=uv(k,p),p=VM(v,p,1),v=_l(v,p,1),p=Zs(),v!==null&&(hd(v,1,p),kl(v,p));break}}v=v.return}}function Tse(p,v,k){var R=p.pingCache;R!==null&&R.delete(v),v=Zs(),p.pingedLanes|=p.suspendedLanes&k,Eo===p&&(Ko&k)===k&&(po===4||po===3&&(Ko&130023424)===Ko&&500>Bt()-kA?h0(p,0):AA|=k),kl(p,v)}function E7(p,v){v===0&&((p.mode&1)===0?v=1:(v=fd,fd<<=1,(fd&130023424)===0&&(fd=4194304)));var k=Zs();p=Gn(p,v),p!==null&&(hd(p,v,k),kl(p,k))}function Ose(p){var v=p.memoizedState,k=0;v!==null&&(k=v.retryLane),E7(p,k)}function Dse(p,v){var k=0;switch(p.tag){case 13:var R=p.stateNode,W=p.memoizedState;W!==null&&(k=W.retryLane);break;case 19:R=p.stateNode;break;default:throw Error(r(314))}R!==null&&R.delete(v),E7(p,k)}var C7;C7=function(p,v,k){if(p!==null)if(p.memoizedProps!==v.pendingProps||fs.current)Sl=!0;else{if((p.lanes&k)===0&&(v.flags&128)===0)return Sl=!1,xse(p,v,k);Sl=(p.flags&131072)!==0}else Sl=!1,At&&(v.flags&1048576)!==0&&Ot(v,ve,v.index);switch(v.lanes=0,v.tag){case 2:var R=v.type;N_(p,v),p=v.pendingProps;var W=hp(v,fo.current);Ga(v,k),W=l0(null,v,R,p,W,k);var ee=Mc();return v.flags|=1,typeof W=="object"&&W!==null&&typeof W.render=="function"&&W.$$typeof===void 0?(v.tag=1,v.memoizedState=null,v.updateQueue=null,hs(R)?(ee=!0,Wf(v)):ee=!1,v.memoizedState=W.state!==null&&W.state!==void 0?W.state:null,ev(v),W.updater=A_,v.stateNode=W,W._reactInternals=v,cA(v,R,p,k),v=hA(null,v,R,!0,ee,k)):(v.tag=0,At&&ee&&bt(v),Xs(null,v,W,k),v=v.child),v;case 16:R=v.elementType;e:{switch(N_(p,v),p=v.pendingProps,W=R._init,R=W(R._payload),v.type=R,W=v.tag=Rse(R),p=Au(R,p),W){case 0:v=fA(null,v,R,p,k);break e;case 1:v=e7(null,v,R,p,k);break e;case 11:v=KM(null,v,R,p,k);break e;case 14:v=XM(null,v,R,Au(R.type,p),k);break e}throw Error(r(306,R,""))}return v;case 0:return R=v.type,W=v.pendingProps,W=v.elementType===R?W:Au(R,W),fA(p,v,R,W,k);case 1:return R=v.type,W=v.pendingProps,W=v.elementType===R?W:Au(R,W),e7(p,v,R,W,k);case 3:e:{if(t7(v),p===null)throw Error(r(387));R=v.pendingProps,ee=v.memoizedState,W=ee.element,Fy(p,v),wu(v,R,null,k);var me=v.memoizedState;if(R=me.element,ee.isDehydrated)if(ee={element:R,isDehydrated:!1,cache:me.cache,pendingSuspenseBoundaries:me.pendingSuspenseBoundaries,transitions:me.transitions},v.updateQueue.baseState=ee,v.memoizedState=ee,v.flags&256){W=uv(Error(r(423)),v),v=r7(p,v,R,k,W);break e}else if(R!==W){W=uv(Error(r(424)),v),v=r7(p,v,R,k,W);break e}else for(kt=Ho(v.stateNode.containerInfo.firstChild),Ve=v,At=!0,Ct=null,k=Hn(v,null,R,k),v.child=k;k;)k.flags=k.flags&-3|4096,k=k.sibling;else{if(mn(),R===W){v=Yf(p,v,k);break e}Xs(p,v,R,k)}v=v.child}return v;case 5:return y_(v),p===null&&ir(v),R=v.type,W=v.pendingProps,ee=p!==null?p.memoizedProps:null,me=W.children,Oy(R,W)?me=null:ee!==null&&Oy(R,ee)&&(v.flags|=32),QM(p,v),Xs(p,v,me,k),v.child;case 6:return p===null&&ir(v),null;case 13:return n7(p,v,k);case 4:return gp(v,v.stateNode.containerInfo),R=v.pendingProps,p===null?v.child=Ri(v,null,R,k):Xs(p,v,R,k),v.child;case 11:return R=v.type,W=v.pendingProps,W=v.elementType===R?W:Au(R,W),KM(p,v,R,W,k);case 7:return Xs(p,v,v.pendingProps,k),v.child;case 8:return Xs(p,v,v.pendingProps.children,k),v.child;case 12:return Xs(p,v,v.pendingProps.children,k),v.child;case 10:e:{if(R=v.type._context,W=v.pendingProps,ee=v.memoizedProps,me=W.value,sa(ko,R._currentValue),R._currentValue=me,ee!==null)if(qn(ee.value,me)){if(ee.children===W.children&&!fs.current){v=Yf(p,v,k);break e}}else for(ee=v.child,ee!==null&&(ee.return=v);ee!==null;){var Pe=ee.dependencies;if(Pe!==null){me=ee.child;for(var Ue=Pe.firstContext;Ue!==null;){if(Ue.context===R){if(ee.tag===1){Ue=wl(-1,k&-k),Ue.tag=2;var vt=ee.updateQueue;if(vt!==null){vt=vt.shared;var jt=vt.pending;jt===null?Ue.next=Ue:(Ue.next=jt.next,jt.next=Ue),vt.pending=Ue}}ee.lanes|=k,Ue=ee.alternate,Ue!==null&&(Ue.lanes|=k),xl(ee.return,k,v),Pe.lanes|=k;break}Ue=Ue.next}}else if(ee.tag===10)me=ee.type===v.type?null:ee.child;else if(ee.tag===18){if(me=ee.return,me===null)throw Error(r(341));me.lanes|=k,Pe=me.alternate,Pe!==null&&(Pe.lanes|=k),xl(me,k,v),me=ee.sibling}else me=ee.child;if(me!==null)me.return=ee;else for(me=ee;me!==null;){if(me===v){me=null;break}if(ee=me.sibling,ee!==null){ee.return=me.return,me=ee;break}me=me.return}ee=me}Xs(p,v,W.children,k),v=v.child}return v;case 9:return W=v.type,R=v.pendingProps.children,Ga(v,k),W=wi(W),R=R(W),v.flags|=1,Xs(p,v,R,k),v.child;case 14:return R=v.type,W=Au(R,v.pendingProps),W=Au(R.type,W),XM(p,v,R,W,k);case 15:return ZM(p,v,v.type,v.pendingProps,k);case 17:return R=v.type,W=v.pendingProps,W=v.elementType===R?W:Au(R,W),N_(p,v),v.tag=1,hs(R)?(p=!0,Wf(v)):p=!1,Ga(v,k),qM(v,R,W),cA(v,R,W,k),hA(null,v,R,!0,p,k);case 19:return i7(p,v,k);case 22:return JM(p,v,k)}throw Error(r(156,v.tag))};function P7(p,v){return It(p,v)}function Ise(p,v,k,R){this.tag=p,this.key=k,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=v,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=R,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lc(p,v,k,R){return new Ise(p,v,k,R)}function IA(p){return p=p.prototype,!(!p||!p.isReactComponent)}function Rse(p){if(typeof p=="function")return IA(p)?1:0;if(p!=null){if(p=p.$$typeof,p===F)return 11;if(p===X)return 14}return 2}function kp(p,v){var k=p.alternate;return k===null?(k=Lc(p.tag,v,p.key,p.mode),k.elementType=p.elementType,k.type=p.type,k.stateNode=p.stateNode,k.alternate=p,p.alternate=k):(k.pendingProps=v,k.type=p.type,k.flags=0,k.subtreeFlags=0,k.deletions=null),k.flags=p.flags&14680064,k.childLanes=p.childLanes,k.lanes=p.lanes,k.child=p.child,k.memoizedProps=p.memoizedProps,k.memoizedState=p.memoizedState,k.updateQueue=p.updateQueue,v=p.dependencies,k.dependencies=v===null?null:{lanes:v.lanes,firstContext:v.firstContext},k.sibling=p.sibling,k.index=p.index,k.ref=p.ref,k}function L_(p,v,k,R,W,ee){var me=2;if(R=p,typeof p=="function")IA(p)&&(me=1);else if(typeof p=="string")me=5;else e:switch(p){case P:return m0(k.children,W,ee,v);case I:me=8,W|=8;break;case L:return p=Lc(12,k,v,W|2),p.elementType=L,p.lanes=ee,p;case j:return p=Lc(13,k,v,W),p.elementType=j,p.lanes=ee,p;case H:return p=Lc(19,k,v,W),p.elementType=H,p.lanes=ee,p;case z:return j_(k,W,ee,v);default:if(typeof p=="object"&&p!==null)switch(p.$$typeof){case U:me=10;break e;case T:me=9;break e;case F:me=11;break e;case X:me=14;break e;case re:me=16,R=null;break e}throw Error(r(130,p==null?p:typeof p,""))}return v=Lc(me,k,v,W),v.elementType=p,v.type=R,v.lanes=ee,v}function m0(p,v,k,R){return p=Lc(7,p,R,v),p.lanes=k,p}function j_(p,v,k,R){return p=Lc(22,p,R,v),p.elementType=z,p.lanes=k,p.stateNode={isHidden:!1},p}function RA(p,v,k){return p=Lc(6,p,null,v),p.lanes=k,p}function MA(p,v,k){return v=Lc(4,p.children!==null?p.children:[],p.key,v),v.lanes=k,v.stateNode={containerInfo:p.containerInfo,pendingChildren:null,implementation:p.implementation},v}function Mse(p,v,k,R,W){this.tag=v,this.containerInfo=p,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qm(0),this.expirationTimes=qm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qm(0),this.identifierPrefix=R,this.onRecoverableError=W,this.mutableSourceEagerHydrationData=null}function FA(p,v,k,R,W,ee,me,Pe,Ue){return p=new Mse(p,v,k,Pe,Ue),v===1?(v=1,ee===!0&&(v|=8)):v=0,ee=Lc(3,null,null,v),p.current=ee,ee.stateNode=p,ee.memoizedState={element:R,isDehydrated:k,cache:null,transitions:null,pendingSuspenseBoundaries:null},ev(ee),p}function Fse(p,v,k){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:R==null?null:""+R,children:p,containerInfo:v,implementation:k}}function T7(p){if(!p)return Ed;p=p._reactInternals;e:{if(ke(p)!==p||p.tag!==1)throw Error(r(170));var v=p;do{switch(v.tag){case 3:v=v.stateNode.context;break e;case 1:if(hs(v.type)){v=v.stateNode.__reactInternalMemoizedMergedChildContext;break e}}v=v.return}while(v!==null);throw Error(r(171))}if(p.tag===1){var k=p.type;if(hs(k))return My(p,k,v)}return v}function O7(p,v,k,R,W,ee,me,Pe,Ue){return p=FA(k,R,!0,p,W,ee,me,Pe,Ue),p.context=T7(null),k=p.current,R=Zs(),W=Sp(k),ee=wl(R,W),ee.callback=v??null,_l(k,ee,W),p.current.lanes=W,hd(p,W,R),kl(p,R),p}function $_(p,v,k,R){var W=v.current,ee=Zs(),me=Sp(W);return k=T7(k),v.context===null?v.context=k:v.pendingContext=k,v=wl(ee,me),v.payload={element:p},R=R===void 0?null:R,R!==null&&(v.callback=R),p=_l(W,v,me),p!==null&&(Eu(p,W,me,ee),Vf(p,W,me)),me}function B_(p){if(p=p.current,!p.child)return null;switch(p.child.tag){case 5:return p.child.stateNode;default:return p.child.stateNode}}function D7(p,v){if(p=p.memoizedState,p!==null&&p.dehydrated!==null){var k=p.retryLane;p.retryLane=k!==0&&k<v?k:v}}function LA(p,v){D7(p,v),(p=p.alternate)&&D7(p,v)}function Lse(){return null}var I7=typeof reportError=="function"?reportError:function(p){console.error(p)};function jA(p){this._internalRoot=p}U_.prototype.render=jA.prototype.render=function(p){var v=this._internalRoot;if(v===null)throw Error(r(409));$_(p,v,null,null)},U_.prototype.unmount=jA.prototype.unmount=function(){var p=this._internalRoot;if(p!==null){this._internalRoot=null;var v=p.containerInfo;f0(function(){$_(null,p,null,null)}),v[Ao]=null}};function U_(p){this._internalRoot=p}U_.prototype.unstable_scheduleHydration=function(p){if(p){var v=bc();p={blockedOn:null,target:p,priority:v};for(var k=0;k<Ac.length&&v!==0&&v<Ac[k].priority;k++);Ac.splice(k,0,p),k===0&&zh(p)}};function $A(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)}function q_(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11&&(p.nodeType!==8||p.nodeValue!==" react-mount-point-unstable "))}function R7(){}function jse(p,v,k,R,W){if(W){if(typeof R=="function"){var ee=R;R=function(){var vt=B_(me);ee.call(vt)}}var me=O7(v,R,p,0,null,!1,!1,"",R7);return p._reactRootContainer=me,p[Ao]=me.current,$f(p.nodeType===8?p.parentNode:p),f0(),me}for(;W=p.lastChild;)p.removeChild(W);if(typeof R=="function"){var Pe=R;R=function(){var vt=B_(Ue);Pe.call(vt)}}var Ue=FA(p,0,!1,null,null,!1,!1,"",R7);return p._reactRootContainer=Ue,p[Ao]=Ue.current,$f(p.nodeType===8?p.parentNode:p),f0(function(){$_(v,Ue,k,R)}),Ue}function z_(p,v,k,R,W){var ee=k._reactRootContainer;if(ee){var me=ee;if(typeof W=="function"){var Pe=W;W=function(){var Ue=B_(me);Pe.call(Ue)}}$_(v,me,p,W)}else me=jse(k,v,p,W,R);return B_(me)}zg=function(p){switch(p.tag){case 3:var v=p.stateNode;if(v.current.memoizedState.isDehydrated){var k=bf(v.pendingLanes);k!==0&&(Bh(v,k|1),kl(v,Bt()),(zn&6)===0&&(hv=Bt()+500,ne()))}break;case 13:f0(function(){var R=Gn(p,1);if(R!==null){var W=Zs();Eu(R,p,1,W)}}),LA(p,1)}},zm=function(p){if(p.tag===13){var v=Gn(p,134217728);if(v!==null){var k=Zs();Eu(v,p,134217728,k)}LA(p,134217728)}},Wg=function(p){if(p.tag===13){var v=Sp(p),k=Gn(p,v);if(k!==null){var R=Zs();Eu(k,p,v,R)}LA(p,v)}},bc=function(){return Un},Af=function(p,v){var k=Un;try{return Un=p,v()}finally{Un=k}},An=function(p,v,k){switch(v){case"input":if(Ge(p,k),v=k.name,k.type==="radio"&&v!=null){for(k=p;k.parentNode;)k=k.parentNode;for(k=k.querySelectorAll("input[name="+JSON.stringify(""+v)+'][type="radio"]'),v=0;v<k.length;v++){var R=k[v];if(R!==p&&R.form===p.form){var W=o0(R);if(!W)throw Error(r(90));ae(R),Ge(R,W)}}}break;case"textarea":ze(p,k);break;case"select":v=k.value,v!=null&&ft(p,!!k.multiple,v,!1)}},is=TA,Na=f0;var $se={usingClientEntryPoint:!1,Events:[fp,qf,o0,Dr,Nn,TA]},Gy={findFiberByHostInstance:Nd,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Bse={bundleType:Gy.bundleType,version:Gy.version,rendererPackageName:Gy.rendererPackageName,rendererConfig:Gy.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(p){return p=ot(p),p===null?null:p.stateNode},findFiberByHostInstance:Gy.findFiberByHostInstance||Lse,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var W_=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!W_.isDisabled&&W_.supportsFiber)try{Us=W_.inject(Bse),vi=W_}catch{}}return Nl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$se,Nl.createPortal=function(p,v){var k=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$A(v))throw Error(r(200));return Fse(p,v,null,k)},Nl.createRoot=function(p,v){if(!$A(p))throw Error(r(299));var k=!1,R="",W=I7;return v!=null&&(v.unstable_strictMode===!0&&(k=!0),v.identifierPrefix!==void 0&&(R=v.identifierPrefix),v.onRecoverableError!==void 0&&(W=v.onRecoverableError)),v=FA(p,1,!1,null,null,k,!1,R,W),p[Ao]=v.current,$f(p.nodeType===8?p.parentNode:p),new jA(v)},Nl.findDOMNode=function(p){if(p==null)return null;if(p.nodeType===1)return p;var v=p._reactInternals;if(v===void 0)throw typeof p.render=="function"?Error(r(188)):(p=Object.keys(p).join(","),Error(r(268,p)));return p=ot(v),p=p===null?null:p.stateNode,p},Nl.flushSync=function(p){return f0(p)},Nl.hydrate=function(p,v,k){if(!q_(v))throw Error(r(200));return z_(null,p,v,!0,k)},Nl.hydrateRoot=function(p,v,k){if(!$A(p))throw Error(r(405));var R=k!=null&&k.hydratedSources||null,W=!1,ee="",me=I7;if(k!=null&&(k.unstable_strictMode===!0&&(W=!0),k.identifierPrefix!==void 0&&(ee=k.identifierPrefix),k.onRecoverableError!==void 0&&(me=k.onRecoverableError)),v=O7(v,null,p,1,k??null,W,!1,ee,me),p[Ao]=v.current,$f(p),R)for(p=0;p<R.length;p++)k=R[p],W=k._getVersion,W=W(k._source),v.mutableSourceEagerHydrationData==null?v.mutableSourceEagerHydrationData=[k,W]:v.mutableSourceEagerHydrationData.push(k,W);return new U_(v)},Nl.render=function(p,v,k){if(!q_(v))throw Error(r(200));return z_(null,p,v,!1,k)},Nl.unmountComponentAtNode=function(p){if(!q_(p))throw Error(r(40));return p._reactRootContainer?(f0(function(){z_(null,null,p,!1,function(){p._reactRootContainer=null,p[Ao]=null})}),!0):!1},Nl.unstable_batchedUpdates=TA,Nl.unstable_renderSubtreeIntoContainer=function(p,v,k,R){if(!q_(k))throw Error(r(200));if(p==null||p._reactInternals===void 0)throw Error(r(38));return z_(p,v,k,!1,R)},Nl.version="18.3.1-next-f1338f8080-20240426",Nl}var B7;function TH(){if(B7)return UA.exports;B7=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),UA.exports=Kse(),UA.exports}var U7;function Xse(){if(U7)return H_;U7=1;var e=TH();return H_.createRoot=e.createRoot,H_.hydrateRoot=e.hydrateRoot,H_}var Zse=Xse(),ay=TH();const Jse=ia(ay);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rx(){return rx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rx.apply(this,arguments)}var Gp;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Gp||(Gp={}));const q7="popstate";function Qse(e){e===void 0&&(e={});function t(a,i){let{pathname:o="/",search:s="",hash:l=""}=_g(a.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),$T("",{pathname:o,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(a,i){let o=a.document.querySelector("base"),s="";if(o&&o.getAttribute("href")){let l=a.location.href,u=l.indexOf("#");s=u===-1?l:l.slice(0,u)}return s+"#"+(typeof i=="string"?i:c5(i))}function n(a,i){U8(a.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return tle(t,r,n,e)}function Ki(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function U8(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ele(){return Math.random().toString(36).substr(2,8)}function z7(e,t){return{usr:e.state,key:e.key,idx:t}}function $T(e,t,r,n){return r===void 0&&(r=null),rx({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?_g(t):t,{state:r,key:t&&t.key||n||ele()})}function c5(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function _g(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function tle(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,s=Gp.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(rx({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){s=Gp.Pop;let y=d(),_=y==null?null:y-u;u=y,l&&l({action:s,location:g.location,delta:_})}function h(y,_){s=Gp.Push;let b=$T(g.location,y,_);r&&r(b,y),u=d()+1;let S=z7(b,u),C=g.createHref(b);try{o.pushState(S,"",C)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;a.location.assign(C)}i&&l&&l({action:s,location:g.location,delta:1})}function m(y,_){s=Gp.Replace;let b=$T(g.location,y,_);r&&r(b,y),u=d();let S=z7(b,u),C=g.createHref(b);o.replaceState(S,"",C),i&&l&&l({action:s,location:g.location,delta:0})}function x(y){let _=a.location.origin!=="null"?a.location.origin:a.location.href,b=typeof y=="string"?y:c5(y);return b=b.replace(/ $/,"%20"),Ki(_,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,_)}let g={get action(){return s},get location(){return e(a,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(q7,f),l=y,()=>{a.removeEventListener(q7,f),l=null}},createHref(y){return t(a,y)},createURL:x,encodeLocation(y){let _=x(y);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:h,replace:m,go(y){return o.go(y)}};return g}var W7;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(W7||(W7={}));function rle(e,t,r){return r===void 0&&(r="/"),nle(e,t,r)}function nle(e,t,r,n){let a=typeof t=="string"?_g(t):t,i=q8(a.pathname||"/",r);if(i==null)return null;let o=OH(e);ale(o);let s=null;for(let l=0;s==null&&l<o.length;++l){let u=gle(i);s=hle(o[l],u)}return s}function OH(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,s)=>{let l={relativePath:s===void 0?i.path||"":s,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Ki(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=em([n,l.relativePath]),d=r.concat(l);i.children&&i.children.length>0&&(Ki(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),OH(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:dle(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var s;if(i.path===""||!((s=i.path)!=null&&s.includes("?")))a(i,o);else for(let l of DH(i.path))a(i,o,l)}),t}function DH(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=DH(n.join("/")),s=[];return s.push(...o.map(l=>l===""?i:[i,l].join("/"))),a&&s.push(...o),s.map(l=>e.startsWith("/")&&l===""?"/":l)}function ale(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:fle(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const ile=/^:[\w-]+$/,ole=3,sle=2,lle=1,cle=10,ule=-2,V7=e=>e==="*";function dle(e,t){let r=e.split("/"),n=r.length;return r.some(V7)&&(n+=ule),t&&(n+=sle),r.filter(a=>!V7(a)).reduce((a,i)=>a+(ile.test(i)?ole:i===""?lle:cle),n)}function fle(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function hle(e,t,r){let{routesMeta:n}=e,a={},i="/",o=[];for(let s=0;s<n.length;++s){let l=n[s],u=s===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=ple({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),h=l.route;if(!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:em([i,f.pathname]),pathnameBase:wle(em([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=em([i,f.pathnameBase]))}return o}function ple(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=mle(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),s=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let g=s[f]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const x=s[f];return m&&!x?u[h]=void 0:u[h]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function mle(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),U8(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,l)=>(n.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function gle(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return U8(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function q8(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function vle(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?_g(e):e;return{pathname:r?r.startsWith("/")?r:yle(r,t):t,search:_le(n),hash:ble(a)}}function yle(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function WA(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function xle(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function z8(e,t){let r=xle(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function W8(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=_g(e):(a=rx({},e),Ki(!a.pathname||!a.pathname.includes("?"),WA("?","pathname","search",a)),Ki(!a.pathname||!a.pathname.includes("#"),WA("#","pathname","hash",a)),Ki(!a.search||!a.search.includes("#"),WA("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,s;if(o==null)s=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}s=f>=0?t[f]:"/"}let l=vle(a,s),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const em=e=>e.join("/").replace(/\/\/+/g,"/"),wle=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),_le=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ble=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Sle(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const IH=["post","put","patch","delete"];new Set(IH);const Ale=["get",...IH];new Set(Ale);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nx(){return nx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nx.apply(this,arguments)}const V8=A.createContext(null),kle=A.createContext(null),km=A.createContext(null),a4=A.createContext(null),hf=A.createContext({outlet:null,matches:[],isDataRoute:!1}),RH=A.createContext(null);function Nle(e,t){let{relative:r}=t===void 0?{}:t;iy()||Ki(!1);let{basename:n,navigator:a}=A.useContext(km),{hash:i,pathname:o,search:s}=FH(e,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:em([n,o])),a.createHref({pathname:l,search:s,hash:i})}function iy(){return A.useContext(a4)!=null}function Nm(){return iy()||Ki(!1),A.useContext(a4).location}function MH(e){A.useContext(km).static||A.useLayoutEffect(e)}function Bo(){let{isDataRoute:e}=A.useContext(hf);return e?Ule():Ele()}function Ele(){iy()||Ki(!1);let e=A.useContext(V8),{basename:t,future:r,navigator:n}=A.useContext(km),{matches:a}=A.useContext(hf),{pathname:i}=Nm(),o=JSON.stringify(z8(a,r.v7_relativeSplatPath)),s=A.useRef(!1);return MH(()=>{s.current=!0}),A.useCallback(function(u,d){if(d===void 0&&(d={}),!s.current)return;if(typeof u=="number"){n.go(u);return}let f=W8(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:em([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}const Cle=A.createContext(null);function Ple(e){let t=A.useContext(hf).outlet;return t&&A.createElement(Cle.Provider,{value:e},t)}function oy(){let{matches:e}=A.useContext(hf),t=e[e.length-1];return t?t.params:{}}function FH(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=A.useContext(km),{matches:a}=A.useContext(hf),{pathname:i}=Nm(),o=JSON.stringify(z8(a,n.v7_relativeSplatPath));return A.useMemo(()=>W8(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function Tle(e,t){return Ole(e,t)}function Ole(e,t,r,n){iy()||Ki(!1);let{navigator:a,static:i}=A.useContext(km),{matches:o}=A.useContext(hf),s=o[o.length-1],l=s?s.params:{};s&&s.pathname;let u=s?s.pathnameBase:"/";s&&s.route;let d=Nm(),f;if(t){var h;let _=typeof t=="string"?_g(t):t;u==="/"||(h=_.pathname)!=null&&h.startsWith(u)||Ki(!1),f=_}else f=d;let m=f.pathname||"/",x=m;if(u!=="/"){let _=u.replace(/^\//,"").split("/");x="/"+m.replace(/^\//,"").split("/").slice(_.length).join("/")}let g=rle(e,{pathname:x}),y=Fle(g&&g.map(_=>Object.assign({},_,{params:Object.assign({},l,_.params),pathname:em([u,a.encodeLocation?a.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?u:em([u,a.encodeLocation?a.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),o,r,n);return t&&y?A.createElement(a4.Provider,{value:{location:nx({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Gp.Pop}},y):y}function Dle(){let e=Ble(),t=Sle(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},t),r?A.createElement("pre",{style:a},r):null,null)}const Ile=A.createElement(Dle,null);class Rle extends A.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?A.createElement(hf.Provider,{value:this.props.routeContext},A.createElement(RH.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Mle(e){let{routeContext:t,match:r,children:n}=e,a=A.useContext(V8);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),A.createElement(hf.Provider,{value:t},n)}function Fle(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,s=(a=r)==null?void 0:a.errors;if(s!=null){let d=o.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);d>=0||Ki(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,x=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||x){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,x=!1,g=null,y=null;r&&(m=s&&f.route.id?s[f.route.id]:void 0,g=f.route.errorElement||Ile,l&&(u<0&&h===0?(qle("route-fallback"),x=!0,y=null):u===h&&(x=!0,y=f.route.hydrateFallbackElement||null)));let _=t.concat(o.slice(0,h+1)),b=()=>{let S;return m?S=g:x?S=y:f.route.Component?S=A.createElement(f.route.Component,null):f.route.element?S=f.route.element:S=d,A.createElement(Mle,{match:f,routeContext:{outlet:d,matches:_,isDataRoute:r!=null},children:S})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?A.createElement(Rle,{location:r.location,revalidation:r.revalidation,component:g,error:m,children:b(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):b()},null)}var LH=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(LH||{}),jH=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(jH||{});function Lle(e){let t=A.useContext(V8);return t||Ki(!1),t}function jle(e){let t=A.useContext(kle);return t||Ki(!1),t}function $le(e){let t=A.useContext(hf);return t||Ki(!1),t}function $H(e){let t=$le(),r=t.matches[t.matches.length-1];return r.route.id||Ki(!1),r.route.id}function Ble(){var e;let t=A.useContext(RH),r=jle(),n=$H();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Ule(){let{router:e}=Lle(LH.UseNavigateStable),t=$H(jH.UseNavigateStable),r=A.useRef(!1);return MH(()=>{r.current=!0}),A.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,nx({fromRouteId:t},i)))},[e,t])}const H7={};function qle(e,t,r){H7[e]||(H7[e]=!0)}function zle(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function BT(e){let{to:t,replace:r,state:n,relative:a}=e;iy()||Ki(!1);let{future:i,static:o}=A.useContext(km),{matches:s}=A.useContext(hf),{pathname:l}=Nm(),u=Bo(),d=W8(t,z8(s,i.v7_relativeSplatPath),l,a==="path"),f=JSON.stringify(d);return A.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function BH(e){return Ple(e.context)}function Fn(e){Ki(!1)}function Wle(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Gp.Pop,navigator:i,static:o=!1,future:s}=e;iy()&&Ki(!1);let l=t.replace(/^\/*/,"/"),u=A.useMemo(()=>({basename:l,navigator:i,static:o,future:nx({v7_relativeSplatPath:!1},s)}),[l,s,i,o]);typeof n=="string"&&(n=_g(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:x="default"}=n,g=A.useMemo(()=>{let y=q8(d,l);return y==null?null:{location:{pathname:y,search:f,hash:h,state:m,key:x},navigationType:a}},[l,d,f,h,m,x,a]);return g==null?null:A.createElement(km.Provider,{value:u},A.createElement(a4.Provider,{children:r,value:g}))}function Vle(e){let{children:t,location:r}=e;return Tle(UT(t),r)}new Promise(()=>{});function UT(e,t){t===void 0&&(t=[]);let r=[];return A.Children.forEach(e,(n,a)=>{if(!A.isValidElement(n))return;let i=[...t,a];if(n.type===A.Fragment){r.push.apply(r,UT(n.props.children,i));return}n.type!==Fn&&Ki(!1),!n.props.index||!n.props.children||Ki(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=UT(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qT(){return qT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qT.apply(this,arguments)}function Hle(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Gle(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Yle(e,t){return e.button===0&&(!t||t==="_self")&&!Gle(e)}function zT(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function Kle(e,t){let r=zT(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}const Xle=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Zle="6";try{window.__reactRouterVersion=Zle}catch{}const Jle="startTransition",G7=tx[Jle];function Qle(e){let{basename:t,children:r,future:n,window:a}=e,i=A.useRef();i.current==null&&(i.current=Qse({window:a,v5Compat:!0}));let o=i.current,[s,l]=A.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=A.useCallback(f=>{u&&G7?G7(()=>l(f)):l(f)},[l,u]);return A.useLayoutEffect(()=>o.listen(d),[o,d]),A.useEffect(()=>zle(n),[n]),A.createElement(Wle,{basename:t,children:r,location:s.location,navigationType:s.action,navigator:o,future:n})}const ece=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tce=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vi=A.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:s,target:l,to:u,preventScrollReset:d,viewTransition:f}=t,h=Hle(t,Xle),{basename:m}=A.useContext(km),x,g=!1;if(typeof u=="string"&&tce.test(u)&&(x=u,ece))try{let S=new URL(window.location.href),C=u.startsWith("//")?new URL(S.protocol+u):new URL(u),E=q8(C.pathname,m);C.origin===S.origin&&E!=null?u=E+C.search+C.hash:g=!0}catch{}let y=Nle(u,{relative:a}),_=rce(u,{replace:o,state:s,target:l,preventScrollReset:d,relative:a,viewTransition:f});function b(S){n&&n(S),S.defaultPrevented||_(S)}return A.createElement("a",qT({},h,{href:x||y,onClick:g||i?n:b,ref:r,target:l}))});var Y7;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Y7||(Y7={}));var K7;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(K7||(K7={}));function rce(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:s}=t===void 0?{}:t,l=Bo(),u=Nm(),d=FH(e,{relative:o});return A.useCallback(f=>{if(Yle(f,r)){f.preventDefault();let h=n!==void 0?n:c5(u)===c5(d);l(e,{replace:h,state:a,preventScrollReset:i,relative:o,viewTransition:s})}},[u,l,d,n,a,r,e,i,o,s])}function UH(e){let t=A.useRef(zT(e)),r=A.useRef(!1),n=Nm(),a=A.useMemo(()=>Kle(n.search,r.current?null:t.current),[n.search]),i=Bo(),o=A.useCallback((s,l)=>{const u=zT(typeof s=="function"?s(a):s);r.current=!0,i("?"+u,l)},[i,a]);return[a,o]}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var nce={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ace=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Jt=(e,t)=>{const r=A.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:s="",children:l,...u},d)=>A.createElement("svg",{ref:d,...nce,width:a,height:a,stroke:n,strokeWidth:o?Number(i)*24/Number(a):i,className:["lucide",`lucide-${ace(e)}`,s].join(" "),...u},[...t.map(([f,h])=>A.createElement(f,h)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=Jt("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fc=Jt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ice=Jt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qH=Jt("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VA=Jt("Armchair",[["path",{d:"M19 9V6a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v3",key:"irtipd"}],["path",{d:"M3 16a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v2H7v-2a2 2 0 0 0-4 0Z",key:"1e01m0"}],["path",{d:"M5 18v2",key:"ppbyun"}],["path",{d:"M19 18v2",key:"gy7782"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=Jt("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u5=Jt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d5=Jt("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oce=Jt("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=Jt("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HA=Jt("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sce=Jt("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lce=Jt("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=Jt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zH=Jt("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WH=Jt("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=Jt("BrainCog",[["path",{d:"M12 5a3 3 0 1 0-5.997.142 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588 4 4 0 0 0 7.636 2.106 3.2 3.2 0 0 0 .164-.546c.028-.13.306-.13.335 0a3.2 3.2 0 0 0 .163.546 4 4 0 0 0 7.636-2.106 4 4 0 0 0 .556-6.588 4 4 0 0 0-2.526-5.77A3 3 0 1 0 12 5",key:"1kgmhc"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"m15.7 10.4-.9.4",key:"ayzo6p"}],["path",{d:"m9.2 13.2-.9.4",key:"1uzb3g"}],["path",{d:"m13.6 15.7-.4-.9",key:"11ifqf"}],["path",{d:"m10.8 9.2-.4-.9",key:"1pmk2v"}],["path",{d:"m15.7 13.5-.9-.4",key:"7ng02m"}],["path",{d:"m9.2 10.9-.9-.4",key:"1x66zd"}],["path",{d:"m10.5 15.7.4-.9",key:"3js94g"}],["path",{d:"m13.1 9.2.4-.9",key:"18n7mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cce=Jt("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uce=Jt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dce=Jt("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H8=Jt("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=Jt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fce=Jt("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=Jt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hce=Jt("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=Jt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G8=Jt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=Jt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const im=Jt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pce=Jt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VH=Jt("Chrome",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mce=Jt("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HH=Jt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gce=Jt("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=Jt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GH=Jt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y8=Jt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vce=Jt("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ew=Jt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YH=Jt("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X7=Jt("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=Jt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yce=Jt("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xce=Jt("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=Jt("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wce=Jt("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KH=Jt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ce=Jt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bce=Jt("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XH=Jt("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=Jt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZH=Jt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=Jt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sce=Jt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ace=Jt("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kce=Jt("MoveVertical",[["polyline",{points:"8 18 12 22 16 18",key:"1uutw3"}],["polyline",{points:"8 6 12 2 16 6",key:"d60sxy"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nce=Jt("PackageCheck",[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JH=Jt("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ece=Jt("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cce=Jt("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f5=Jt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ch=Jt("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xc=Jt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z7=Jt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QH=Jt("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pce=Jt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=Jt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tce=Jt("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oce=Jt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dce=Jt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K8=Jt("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J7=Jt("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ice=Jt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eG=Jt("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=Jt("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q7=Jt("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eF=Jt("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22h0a3.13 3.13 0 0 1-3-3.88Z",key:"s6e0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tF=Jt("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=Jt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rce=Jt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0=Jt("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mce=Jt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hi=Jt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=Jt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fce=Jt("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lce=Jt("Weight",[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jce=Jt("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ce=Jt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gh=Jt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function rF(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function u4(...e){return t=>{let r=!1;const n=e.map(a=>{const i=rF(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():rF(e[a],null)}}}}function Vr(...e){return A.useCallback(u4(...e),e)}var KA={exports:{}},Yy={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nF;function Bce(){if(nF)return Yy;nF=1;var e=n4(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(s,l,u){var d,f={},h=null,m=null;u!==void 0&&(h=""+u),l.key!==void 0&&(h=""+l.key),l.ref!==void 0&&(m=l.ref);for(d in l)n.call(l,d)&&!i.hasOwnProperty(d)&&(f[d]=l[d]);if(s&&s.defaultProps)for(d in l=s.defaultProps,l)f[d]===void 0&&(f[d]=l[d]);return{$$typeof:t,type:s,key:h,ref:m,props:f,_owner:a.current}}return Yy.Fragment=r,Yy.jsx=o,Yy.jsxs=o,Yy}var aF;function Uce(){return aF||(aF=1,KA.exports=Bce()),KA.exports}var X8=Uce();const c=X8.jsx,w=X8.jsxs,Sr=X8.Fragment;function sm(e){const t=qce(e),r=A.forwardRef((n,a)=>{const{children:i,...o}=n,s=A.Children.toArray(i),l=s.find(zce);if(l){const u=l.props.children,d=s.map(f=>f===l?A.Children.count(u)>1?A.Children.only(null):A.isValidElement(u)?u.props.children:null:f);return c(t,{...o,ref:a,children:A.isValidElement(u)?A.cloneElement(u,void 0,d):null})}return c(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var tG=sm("Slot");function qce(e){const t=A.forwardRef((r,n)=>{const{children:a,...i}=r;if(A.isValidElement(a)){const o=Vce(a),s=Wce(i,a.props);return a.type!==A.Fragment&&(s.ref=n?u4(n,o):o),A.cloneElement(a,s)}return A.Children.count(a)>1?A.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var rG=Symbol("radix.slottable");function nG(e){const t=({children:r})=>c(Sr,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=rG,t}function zce(e){return A.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===rG}function Wce(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...s)=>{i(...s),a(...s)}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function Vce(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function aG(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=aG(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function hn(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=aG(e))&&(n&&(n+=" "),n+=t);return n}const iF=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,oF=hn,Cw=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return oF(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const h=iF(d)||iF(f);return a[u][h]}),s=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),l=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(x=>{let[g,y]=x;return Array.isArray(y)?y.includes({...i,...s}[g]):{...i,...s}[g]===y})?[...u,f,h]:u},[]);return oF(e,o,l,r==null?void 0:r.class,r==null?void 0:r.className)},Z8="-",Hce=e=>{const t=Yce(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const s=o.split(Z8);return s[0]===""&&s.length!==1&&s.shift(),iG(s,t)||Gce(o)},getConflictingClassGroupIds:(o,s)=>{const l=r[o]||[];return s&&n[o]?[...l,...n[o]]:l}}},iG=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?iG(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(Z8);return(o=t.validators.find(({validator:s})=>s(i)))==null?void 0:o.classGroupId},sF=/^\[(.+)\]$/,Gce=e=>{if(sF.test(e)){const t=sF.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Yce=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return Xce(Object.entries(e.classGroups),r).forEach(([i,o])=>{VT(o,n,i,t)}),n},VT=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:lF(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(Kce(a)){VT(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{VT(o,lF(t,i),r,n)})})},lF=(e,t)=>{let r=e;return t.split(Z8).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Kce=e=>e.isThemeGetter,Xce=(e,t)=>t?e.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,s])=>[t+o,s])):i);return[r,a]}):e,Zce=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},oG="!",Jce=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],i=t.length,o=s=>{const l=[];let u=0,d=0,f;for(let y=0;y<s.length;y++){let _=s[y];if(u===0){if(_===a&&(n||s.slice(y,y+i)===t)){l.push(s.slice(d,y)),d=y+i;continue}if(_==="/"){f=y;continue}}_==="["?u++:_==="]"&&u--}const h=l.length===0?s:s.substring(d),m=h.startsWith(oG),x=m?h.substring(1):h,g=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:x,maybePostfixModifierPosition:g}};return r?s=>r({className:s,parseClassName:o}):o},Qce=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},eue=e=>({cache:Zce(e.cacheSize),parseClassName:Jce(e),...Hce(e)}),tue=/\s+/,rue=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(tue);let s="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let x=!!m,g=n(x?h.substring(0,m):h);if(!g){if(!x){s=u+(s.length>0?" "+s:s);continue}if(g=n(h),!g){s=u+(s.length>0?" "+s:s);continue}x=!1}const y=Qce(d).join(":"),_=f?y+oG:y,b=_+g;if(i.includes(b))continue;i.push(b);const S=a(g,x);for(let C=0;C<S.length;++C){const E=S[C];i.push(_+E)}s=u+(s.length>0?" "+s:s)}return s};function nue(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=sG(t))&&(n&&(n+=" "),n+=r);return n}const sG=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=sG(e[n]))&&(r&&(r+=" "),r+=t);return r};function aue(e,...t){let r,n,a,i=o;function o(l){const u=t.reduce((d,f)=>f(d),e());return r=eue(u),n=r.cache.get,a=r.cache.set,i=s,s(l)}function s(l){const u=n(l);if(u)return u;const d=rue(l,r);return a(l,d),d}return function(){return i(nue.apply(null,arguments))}}const Ya=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},lG=/^\[(?:([a-z-]+):)?(.+)\]$/i,iue=/^\d+\/\d+$/,oue=new Set(["px","full","screen"]),sue=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lue=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,cue=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,uue=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,due=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Xf=e=>Xv(e)||oue.has(e)||iue.test(e),Ep=e=>sy(e,"length",xue),Xv=e=>!!e&&!Number.isNaN(Number(e)),XA=e=>sy(e,"number",Xv),Ky=e=>!!e&&Number.isInteger(Number(e)),fue=e=>e.endsWith("%")&&Xv(e.slice(0,-1)),xn=e=>lG.test(e),Cp=e=>sue.test(e),hue=new Set(["length","size","percentage"]),pue=e=>sy(e,hue,cG),mue=e=>sy(e,"position",cG),gue=new Set(["image","url"]),vue=e=>sy(e,gue,_ue),yue=e=>sy(e,"",wue),Xy=()=>!0,sy=(e,t,r)=>{const n=lG.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},xue=e=>lue.test(e)&&!cue.test(e),cG=()=>!1,wue=e=>uue.test(e),_ue=e=>due.test(e),bue=()=>{const e=Ya("colors"),t=Ya("spacing"),r=Ya("blur"),n=Ya("brightness"),a=Ya("borderColor"),i=Ya("borderRadius"),o=Ya("borderSpacing"),s=Ya("borderWidth"),l=Ya("contrast"),u=Ya("grayscale"),d=Ya("hueRotate"),f=Ya("invert"),h=Ya("gap"),m=Ya("gradientColorStops"),x=Ya("gradientColorStopPositions"),g=Ya("inset"),y=Ya("margin"),_=Ya("opacity"),b=Ya("padding"),S=Ya("saturate"),C=Ya("scale"),E=Ya("sepia"),O=Ya("skew"),P=Ya("space"),I=Ya("translate"),L=()=>["auto","contain","none"],U=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto",xn,t],F=()=>[xn,t],j=()=>["",Xf,Ep],H=()=>["auto",Xv,xn],X=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],re=()=>["solid","dashed","dotted","double","none"],z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],G=()=>["start","end","center","between","around","evenly","stretch"],q=()=>["","0",xn],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>[Xv,xn];return{cacheSize:500,separator:":",theme:{colors:[Xy],spacing:[Xf,Ep],blur:["none","",Cp,xn],brightness:J(),borderColor:[e],borderRadius:["none","","full",Cp,xn],borderSpacing:F(),borderWidth:j(),contrast:J(),grayscale:q(),hueRotate:J(),invert:q(),gap:F(),gradientColorStops:[e],gradientColorStopPositions:[fue,Ep],inset:T(),margin:T(),opacity:J(),padding:F(),saturate:J(),scale:J(),sepia:q(),skew:J(),space:F(),translate:F()},classGroups:{aspect:[{aspect:["auto","square","video",xn]}],container:["container"],columns:[{columns:[Cp]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...X(),xn]}],overflow:[{overflow:U()}],"overflow-x":[{"overflow-x":U()}],"overflow-y":[{"overflow-y":U()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ky,xn]}],basis:[{basis:T()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",xn]}],grow:[{grow:q()}],shrink:[{shrink:q()}],order:[{order:["first","last","none",Ky,xn]}],"grid-cols":[{"grid-cols":[Xy]}],"col-start-end":[{col:["auto",{span:["full",Ky,xn]},xn]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[Xy]}],"row-start-end":[{row:["auto",{span:[Ky,xn]},xn]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",xn]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",xn]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...G()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...G(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...G(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",xn,t]}],"min-w":[{"min-w":[xn,t,"min","max","fit"]}],"max-w":[{"max-w":[xn,t,"none","full","min","max","fit","prose",{screen:[Cp]},Cp]}],h:[{h:[xn,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[xn,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[xn,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[xn,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Cp,Ep]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",XA]}],"font-family":[{font:[Xy]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",xn]}],"line-clamp":[{"line-clamp":["none",Xv,XA]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Xf,xn]}],"list-image":[{"list-image":["none",xn]}],"list-style-type":[{list:["none","disc","decimal",xn]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...re(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Xf,Ep]}],"underline-offset":[{"underline-offset":["auto",Xf,xn]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",xn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",xn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...X(),mue]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",pue]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},vue]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...re(),"hidden"]}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:re()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...re()]}],"outline-offset":[{"outline-offset":[Xf,xn]}],"outline-w":[{outline:[Xf,Ep]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:j()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[Xf,Ep]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Cp,yue]}],"shadow-color":[{shadow:[Xy]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":z()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Cp,xn]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[S]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",xn]}],duration:[{duration:J()}],ease:[{ease:["linear","in","out","in-out",xn]}],delay:[{delay:J()}],animate:[{animate:["none","spin","ping","pulse","bounce",xn]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[Ky,xn]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",xn]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",xn]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",xn]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Xf,Ep,XA]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Sue=aue(bue);function Rt(...e){return Sue(hn(e))}const ix=Cw("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Fe=A.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>c(n?tG:"button",{className:Rt(ix({variant:t,size:r,className:e})),ref:i,...a}));Fe.displayName="Button";function qt(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function Aue(e,t){const r=A.createContext(t),n=i=>{const{children:o,...s}=i,l=A.useMemo(()=>s,Object.values(s));return c(r.Provider,{value:l,children:o})};n.displayName=e+"Provider";function a(i){const o=A.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function Qi(e,t=[]){let r=[];function n(i,o){const s=A.createContext(o),l=r.length;r=[...r,o];const u=f=>{var _;const{scope:h,children:m,...x}=f,g=((_=h==null?void 0:h[e])==null?void 0:_[l])||s,y=A.useMemo(()=>x,Object.values(x));return c(g.Provider,{value:y,children:m})};u.displayName=i+"Provider";function d(f,h){var g;const m=((g=h==null?void 0:h[e])==null?void 0:g[l])||s,x=A.useContext(m);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(o=>A.createContext(o));return function(s){const l=(s==null?void 0:s[e])||i;return A.useMemo(()=>({[`__scope${e}`]:{...s,[e]:l}}),[s,l])}};return a.scopeName=e,[n,kue(a,...t)]}function kue(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((s,{useScope:l,scopeName:u})=>{const f=l(i)[`__scope${u}`];return{...s,...f}},{});return A.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var oi=globalThis!=null&&globalThis.document?A.useLayoutEffect:()=>{},Nue=tx[" useInsertionEffect ".trim().toString()]||oi;function ul({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,o]=Eue({defaultProp:t,onChange:r}),s=e!==void 0,l=s?e:a;{const d=A.useRef(e!==void 0);A.useEffect(()=>{const f=d.current;f!==s&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${s?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=s},[s,n])}const u=A.useCallback(d=>{var f;if(s){const h=Cue(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else i(d)},[s,e,i,o]);return[l,u]}function Eue({defaultProp:e,onChange:t}){const[r,n]=A.useState(e),a=A.useRef(r),i=A.useRef(t);return Nue(()=>{i.current=t},[t]),A.useEffect(()=>{var o;a.current!==r&&((o=i.current)==null||o.call(i,r),a.current=r)},[r,a]),[r,n,i]}function Cue(e){return typeof e=="function"}var Pue=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],pr=Pue.reduce((e,t)=>{const r=sm(`Primitive.${t}`),n=A.forwardRef((a,i)=>{const{asChild:o,...s}=a,l=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c(l,{...s,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function J8(e,t){e&&ay.flushSync(()=>e.dispatchEvent(t))}function Pw(e){const t=e+"CollectionProvider",[r,n]=Qi(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:y,children:_}=g,b=Qe.useRef(null),S=Qe.useRef(new Map).current;return c(a,{scope:y,itemMap:S,collectionRef:b,children:_})};o.displayName=t;const s=e+"CollectionSlot",l=sm(s),u=Qe.forwardRef((g,y)=>{const{scope:_,children:b}=g,S=i(s,_),C=Vr(y,S.collectionRef);return c(l,{ref:C,children:b})});u.displayName=s;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=sm(d),m=Qe.forwardRef((g,y)=>{const{scope:_,children:b,...S}=g,C=Qe.useRef(null),E=Vr(y,C),O=i(d,_);return Qe.useEffect(()=>(O.itemMap.set(C,{ref:C,...S}),()=>void O.itemMap.delete(C))),c(h,{[f]:"",ref:E,children:b})});m.displayName=d;function x(g){const y=i(e+"CollectionConsumer",g);return Qe.useCallback(()=>{const b=y.collectionRef.current;if(!b)return[];const S=Array.from(b.querySelectorAll(`[${f}]`));return Array.from(y.itemMap.values()).sort((O,P)=>S.indexOf(O.ref.current)-S.indexOf(P.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},x,n]}var Tue=A.createContext(void 0);function bg(e){const t=A.useContext(Tue);return e||t||"ltr"}function Ci(e){const t=A.useRef(e);return A.useEffect(()=>{t.current=e}),A.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function Oue(e,t=globalThis==null?void 0:globalThis.document){const r=Ci(e);A.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var Due="DismissableLayer",HT="dismissableLayer.update",Iue="dismissableLayer.pointerDownOutside",Rue="dismissableLayer.focusOutside",cF,uG=A.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Sg=A.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:s,...l}=e,u=A.useContext(uG),[d,f]=A.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=A.useState({}),x=Vr(t,P=>f(P)),g=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),_=g.indexOf(y),b=d?g.indexOf(d):-1,S=u.layersWithOutsidePointerEventsDisabled.size>0,C=b>=_,E=Fue(P=>{const I=P.target,L=[...u.branches].some(U=>U.contains(I));!C||L||(a==null||a(P),o==null||o(P),P.defaultPrevented||s==null||s())},h),O=Lue(P=>{const I=P.target;[...u.branches].some(U=>U.contains(I))||(i==null||i(P),o==null||o(P),P.defaultPrevented||s==null||s())},h);return Oue(P=>{b===u.layers.size-1&&(n==null||n(P),!P.defaultPrevented&&s&&(P.preventDefault(),s()))},h),A.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(cF=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),uF(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=cF)}},[d,h,r,u]),A.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),uF())},[d,u]),A.useEffect(()=>{const P=()=>m({});return document.addEventListener(HT,P),()=>document.removeEventListener(HT,P)},[]),c(pr.div,{...l,ref:x,style:{pointerEvents:S?C?"auto":"none":void 0,...e.style},onFocusCapture:qt(e.onFocusCapture,O.onFocusCapture),onBlurCapture:qt(e.onBlurCapture,O.onBlurCapture),onPointerDownCapture:qt(e.onPointerDownCapture,E.onPointerDownCapture)})});Sg.displayName=Due;var Mue="DismissableLayerBranch",dG=A.forwardRef((e,t)=>{const r=A.useContext(uG),n=A.useRef(null),a=Vr(t,n);return A.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),c(pr.div,{...e,ref:a})});dG.displayName=Mue;function Fue(e,t=globalThis==null?void 0:globalThis.document){const r=Ci(e),n=A.useRef(!1),a=A.useRef(()=>{});return A.useEffect(()=>{const i=s=>{if(s.target&&!n.current){let l=function(){fG(Iue,r,u,{discrete:!0})};const u={originalEvent:s};s.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=l,t.addEventListener("click",a.current,{once:!0})):l()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Lue(e,t=globalThis==null?void 0:globalThis.document){const r=Ci(e),n=A.useRef(!1);return A.useEffect(()=>{const a=i=>{i.target&&!n.current&&fG(Rue,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function uF(){const e=new CustomEvent(HT);document.dispatchEvent(e)}function fG(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?J8(a,i):a.dispatchEvent(i)}var jue=Sg,$ue=dG,ZA=0;function d4(){A.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??dF()),document.body.insertAdjacentElement("beforeend",e[1]??dF()),ZA++,()=>{ZA===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),ZA--}},[])}function dF(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var JA="focusScope.autoFocusOnMount",QA="focusScope.autoFocusOnUnmount",fF={bubbles:!1,cancelable:!0},Bue="FocusScope",Tw=A.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[s,l]=A.useState(null),u=Ci(a),d=Ci(i),f=A.useRef(null),h=Vr(t,g=>l(g)),m=A.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;A.useEffect(()=>{if(n){let g=function(S){if(m.paused||!s)return;const C=S.target;s.contains(C)?f.current=C:Fp(f.current,{select:!0})},y=function(S){if(m.paused||!s)return;const C=S.relatedTarget;C!==null&&(s.contains(C)||Fp(f.current,{select:!0}))},_=function(S){if(document.activeElement===document.body)for(const E of S)E.removedNodes.length>0&&Fp(s)};document.addEventListener("focusin",g),document.addEventListener("focusout",y);const b=new MutationObserver(_);return s&&b.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",y),b.disconnect()}}},[n,s,m.paused]),A.useEffect(()=>{if(s){pF.add(m);const g=document.activeElement;if(!s.contains(g)){const _=new CustomEvent(JA,fF);s.addEventListener(JA,u),s.dispatchEvent(_),_.defaultPrevented||(Uue(Hue(hG(s)),{select:!0}),document.activeElement===g&&Fp(s))}return()=>{s.removeEventListener(JA,u),setTimeout(()=>{const _=new CustomEvent(QA,fF);s.addEventListener(QA,d),s.dispatchEvent(_),_.defaultPrevented||Fp(g??document.body,{select:!0}),s.removeEventListener(QA,d),pF.remove(m)},0)}}},[s,u,d,m]);const x=A.useCallback(g=>{if(!r&&!n||m.paused)return;const y=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,_=document.activeElement;if(y&&_){const b=g.currentTarget,[S,C]=que(b);S&&C?!g.shiftKey&&_===C?(g.preventDefault(),r&&Fp(S,{select:!0})):g.shiftKey&&_===S&&(g.preventDefault(),r&&Fp(C,{select:!0})):_===b&&g.preventDefault()}},[r,n,m.paused]);return c(pr.div,{tabIndex:-1,...o,ref:h,onKeyDown:x})});Tw.displayName=Bue;function Uue(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Fp(n,{select:t}),document.activeElement!==r)return}function que(e){const t=hG(e),r=hF(t,e),n=hF(t.reverse(),e);return[r,n]}function hG(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function hF(e,t){for(const r of e)if(!zue(r,{upTo:t}))return r}function zue(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Wue(e){return e instanceof HTMLInputElement&&"select"in e}function Fp(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Wue(e)&&t&&e.select()}}var pF=Vue();function Vue(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=mF(e,t),e.unshift(t)},remove(t){var r;e=mF(e,t),(r=e[0])==null||r.resume()}}}function mF(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Hue(e){return e.filter(t=>t.tagName!=="A")}var Gue=tx[" useId ".trim().toString()]||(()=>{}),Yue=0;function Rl(e){const[t,r]=A.useState(Gue());return oi(()=>{r(n=>n??String(Yue++))},[e]),t?`radix-${t}`:""}const Kue=["top","right","bottom","left"],lm=Math.min,ac=Math.max,h5=Math.round,K_=Math.floor,Qd=e=>({x:e,y:e}),Xue={left:"right",right:"left",bottom:"top",top:"bottom"},Zue={start:"end",end:"start"};function GT(e,t,r){return ac(e,lm(t,r))}function vh(e,t){return typeof e=="function"?e(t):e}function yh(e){return e.split("-")[0]}function ly(e){return e.split("-")[1]}function Q8(e){return e==="x"?"y":"x"}function eD(e){return e==="y"?"height":"width"}function cm(e){return["top","bottom"].includes(yh(e))?"y":"x"}function tD(e){return Q8(cm(e))}function Jue(e,t,r){r===void 0&&(r=!1);const n=ly(e),a=tD(e),i=eD(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=p5(o)),[o,p5(o)]}function Que(e){const t=p5(e);return[YT(e),t,YT(t)]}function YT(e){return e.replace(/start|end/g,t=>Zue[t])}function ede(e,t,r){const n=["left","right"],a=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?a:n:t?n:a;case"left":case"right":return t?i:o;default:return[]}}function tde(e,t,r,n){const a=ly(e);let i=ede(yh(e),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(YT)))),i}function p5(e){return e.replace(/left|right|bottom|top/g,t=>Xue[t])}function rde(e){return{top:0,right:0,bottom:0,left:0,...e}}function pG(e){return typeof e!="number"?rde(e):{top:e,right:e,bottom:e,left:e}}function m5(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function gF(e,t,r){let{reference:n,floating:a}=e;const i=cm(t),o=tD(t),s=eD(o),l=yh(t),u=i==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[s]/2-a[s]/2;let m;switch(l){case"top":m={x:d,y:n.y-a.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-a.width,y:f};break;default:m={x:n.x,y:n.y}}switch(ly(t)){case"start":m[o]-=h*(r&&u?-1:1);break;case"end":m[o]+=h*(r&&u?-1:1);break}return m}const nde=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,s=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=gF(u,n,l),h=n,m={},x=0;for(let g=0;g<s.length;g++){const{name:y,fn:_}=s[g],{x:b,y:S,data:C,reset:E}=await _({x:d,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});d=b??d,f=S??f,m={...m,[y]:{...m[y],...C}},E&&x<=50&&(x++,typeof E=="object"&&(E.placement&&(h=E.placement),E.rects&&(u=E.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):E.rects),{x:d,y:f}=gF(u,h,l)),g=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:m}};async function ox(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:s,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=vh(t,e),x=pG(m),y=s[h?f==="floating"?"reference":"floating":f],_=m5(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(y)))==null||r?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(s.floating)),boundary:u,rootBoundary:d,strategy:l})),b=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(s.floating)),C=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},E=m5(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:b,offsetParent:S,strategy:l}):b);return{top:(_.top-E.top+x.top)/C.y,bottom:(E.bottom-_.bottom+x.bottom)/C.y,left:(_.left-E.left+x.left)/C.x,right:(E.right-_.right+x.right)/C.x}}const ade=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:o,elements:s,middlewareData:l}=t,{element:u,padding:d=0}=vh(e,t)||{};if(u==null)return{};const f=pG(d),h={x:r,y:n},m=tD(a),x=eD(m),g=await o.getDimensions(u),y=m==="y",_=y?"top":"left",b=y?"bottom":"right",S=y?"clientHeight":"clientWidth",C=i.reference[x]+i.reference[m]-h[m]-i.floating[x],E=h[m]-i.reference[m],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let P=O?O[S]:0;(!P||!await(o.isElement==null?void 0:o.isElement(O)))&&(P=s.floating[S]||i.floating[x]);const I=C/2-E/2,L=P/2-g[x]/2-1,U=lm(f[_],L),T=lm(f[b],L),F=U,j=P-g[x]-T,H=P/2-g[x]/2+I,X=GT(F,H,j),re=!l.arrow&&ly(a)!=null&&H!==X&&i.reference[x]/2-(H<F?U:T)-g[x]/2<0,z=re?H<F?H-F:H-j:0;return{[m]:h[m]+z,data:{[m]:X,centerOffset:H-X-z,...re&&{alignmentOffset:z}},reset:re}}}),ide=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:s,platform:l,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:g=!0,...y}=vh(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const _=yh(a),b=cm(s),S=yh(s)===s,C=await(l.isRTL==null?void 0:l.isRTL(u.floating)),E=h||(S||!g?[p5(s)]:Que(s)),O=x!=="none";!h&&O&&E.push(...tde(s,g,x,C));const P=[s,...E],I=await ox(t,y),L=[];let U=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&L.push(I[_]),f){const H=Jue(a,o,C);L.push(I[H[0]],I[H[1]])}if(U=[...U,{placement:a,overflows:L}],!L.every(H=>H<=0)){var T,F;const H=(((T=i.flip)==null?void 0:T.index)||0)+1,X=P[H];if(X)return{data:{index:H,overflows:U},reset:{placement:X}};let re=(F=U.filter(z=>z.overflows[0]<=0).sort((z,G)=>z.overflows[1]-G.overflows[1])[0])==null?void 0:F.placement;if(!re)switch(m){case"bestFit":{var j;const z=(j=U.filter(G=>{if(O){const q=cm(G.placement);return q===b||q==="y"}return!0}).map(G=>[G.placement,G.overflows.filter(q=>q>0).reduce((q,K)=>q+K,0)]).sort((G,q)=>G[1]-q[1])[0])==null?void 0:j[0];z&&(re=z);break}case"initialPlacement":re=s;break}if(a!==re)return{reset:{placement:re}}}return{}}}};function vF(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function yF(e){return Kue.some(t=>e[t]>=0)}const ode=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=vh(e,t);switch(n){case"referenceHidden":{const i=await ox(t,{...a,elementContext:"reference"}),o=vF(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:yF(o)}}}case"escaped":{const i=await ox(t,{...a,altBoundary:!0}),o=vF(i,r.floating);return{data:{escapedOffsets:o,escaped:yF(o)}}}default:return{}}}}};async function sde(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=yh(r),s=ly(r),l=cm(r)==="y",u=["left","top"].includes(o)?-1:1,d=i&&l?-1:1,f=vh(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return s&&typeof x=="number"&&(m=s==="end"?x*-1:x),l?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const lde=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:o,middlewareData:s}=t,l=await sde(t,e);return o===((r=s.offset)==null?void 0:r.placement)&&(n=s.arrow)!=null&&n.alignmentOffset?{}:{x:a+l.x,y:i+l.y,data:{...l,placement:o}}}}},cde=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:s={fn:y=>{let{x:_,y:b}=y;return{x:_,y:b}}},...l}=vh(e,t),u={x:r,y:n},d=await ox(t,l),f=cm(yh(a)),h=Q8(f);let m=u[h],x=u[f];if(i){const y=h==="y"?"top":"left",_=h==="y"?"bottom":"right",b=m+d[y],S=m-d[_];m=GT(b,m,S)}if(o){const y=f==="y"?"top":"left",_=f==="y"?"bottom":"right",b=x+d[y],S=x-d[_];x=GT(b,x,S)}const g=s.fn({...t,[h]:m,[f]:x});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[h]:i,[f]:o}}}}}},ude=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:s=0,mainAxis:l=!0,crossAxis:u=!0}=vh(e,t),d={x:r,y:n},f=cm(a),h=Q8(f);let m=d[h],x=d[f];const g=vh(s,t),y=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const S=h==="y"?"height":"width",C=i.reference[h]-i.floating[S]+y.mainAxis,E=i.reference[h]+i.reference[S]-y.mainAxis;m<C?m=C:m>E&&(m=E)}if(u){var _,b;const S=h==="y"?"width":"height",C=["top","left"].includes(yh(a)),E=i.reference[f]-i.floating[S]+(C&&((_=o.offset)==null?void 0:_[f])||0)+(C?0:y.crossAxis),O=i.reference[f]+i.reference[S]+(C?0:((b=o.offset)==null?void 0:b[f])||0)-(C?y.crossAxis:0);x<E?x=E:x>O&&(x=O)}return{[h]:m,[f]:x}}}},dde=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:o,elements:s}=t,{apply:l=()=>{},...u}=vh(e,t),d=await ox(t,u),f=yh(a),h=ly(a),m=cm(a)==="y",{width:x,height:g}=i.floating;let y,_;f==="top"||f==="bottom"?(y=f,_=h===(await(o.isRTL==null?void 0:o.isRTL(s.floating))?"start":"end")?"left":"right"):(_=f,y=h==="end"?"top":"bottom");const b=g-d.top-d.bottom,S=x-d.left-d.right,C=lm(g-d[y],b),E=lm(x-d[_],S),O=!t.middlewareData.shift;let P=C,I=E;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(I=S),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(P=b),O&&!h){const U=ac(d.left,0),T=ac(d.right,0),F=ac(d.top,0),j=ac(d.bottom,0);m?I=x-2*(U!==0||T!==0?U+T:ac(d.left,d.right)):P=g-2*(F!==0||j!==0?F+j:ac(d.top,d.bottom))}await l({...t,availableWidth:I,availableHeight:P});const L=await o.getDimensions(s.floating);return x!==L.width||g!==L.height?{reset:{rects:!0}}:{}}}};function f4(){return typeof window<"u"}function cy(e){return mG(e)?(e.nodeName||"").toLowerCase():"#document"}function hc(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function pf(e){var t;return(t=(mG(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function mG(e){return f4()?e instanceof Node||e instanceof hc(e).Node:!1}function Xu(e){return f4()?e instanceof Element||e instanceof hc(e).Element:!1}function lf(e){return f4()?e instanceof HTMLElement||e instanceof hc(e).HTMLElement:!1}function xF(e){return!f4()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof hc(e).ShadowRoot}function Ow(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Zu(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(a)}function fde(e){return["table","td","th"].includes(cy(e))}function h4(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function rD(e){const t=nD(),r=Xu(e)?Zu(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function hde(e){let t=um(e);for(;lf(t)&&!y1(t);){if(rD(t))return t;if(h4(t))return null;t=um(t)}return null}function nD(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function y1(e){return["html","body","#document"].includes(cy(e))}function Zu(e){return hc(e).getComputedStyle(e)}function p4(e){return Xu(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function um(e){if(cy(e)==="html")return e;const t=e.assignedSlot||e.parentNode||xF(e)&&e.host||pf(e);return xF(t)?t.host:t}function gG(e){const t=um(e);return y1(t)?e.ownerDocument?e.ownerDocument.body:e.body:lf(t)&&Ow(t)?t:gG(t)}function sx(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=gG(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=hc(a);if(i){const s=KT(o);return t.concat(o,o.visualViewport||[],Ow(a)?a:[],s&&r?sx(s):[])}return t.concat(a,sx(a,[],r))}function KT(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function vG(e){const t=Zu(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=lf(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,s=h5(r)!==i||h5(n)!==o;return s&&(r=i,n=o),{width:r,height:n,$:s}}function aD(e){return Xu(e)?e:e.contextElement}function Zv(e){const t=aD(e);if(!lf(t))return Qd(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=vG(t);let o=(i?h5(r.width):r.width)/n,s=(i?h5(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!s||!Number.isFinite(s))&&(s=1),{x:o,y:s}}const pde=Qd(0);function yG(e){const t=hc(e);return!nD()||!t.visualViewport?pde:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function mde(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==hc(e)?!1:t}function J0(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=aD(e);let o=Qd(1);t&&(n?Xu(n)&&(o=Zv(n)):o=Zv(e));const s=mde(i,r,n)?yG(i):Qd(0);let l=(a.left+s.x)/o.x,u=(a.top+s.y)/o.y,d=a.width/o.x,f=a.height/o.y;if(i){const h=hc(i),m=n&&Xu(n)?hc(n):n;let x=h,g=KT(x);for(;g&&n&&m!==x;){const y=Zv(g),_=g.getBoundingClientRect(),b=Zu(g),S=_.left+(g.clientLeft+parseFloat(b.paddingLeft))*y.x,C=_.top+(g.clientTop+parseFloat(b.paddingTop))*y.y;l*=y.x,u*=y.y,d*=y.x,f*=y.y,l+=S,u+=C,x=hc(g),g=KT(x)}}return m5({width:d,height:f,x:l,y:u})}function iD(e,t){const r=p4(e).scrollLeft;return t?t.left+r:J0(pf(e)).left+r}function xG(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:iD(e,n)),i=n.top+t.scrollTop;return{x:a,y:i}}function gde(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=pf(n),s=t?h4(t.floating):!1;if(n===o||s&&i)return r;let l={scrollLeft:0,scrollTop:0},u=Qd(1);const d=Qd(0),f=lf(n);if((f||!f&&!i)&&((cy(n)!=="body"||Ow(o))&&(l=p4(n)),lf(n))){const m=J0(n);u=Zv(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const h=o&&!f&&!i?xG(o,l,!0):Qd(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-l.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-l.scrollTop*u.y+d.y+h.y}}function vde(e){return Array.from(e.getClientRects())}function yde(e){const t=pf(e),r=p4(e),n=e.ownerDocument.body,a=ac(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=ac(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+iD(e);const s=-r.scrollTop;return Zu(n).direction==="rtl"&&(o+=ac(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:s}}function xde(e,t){const r=hc(e),n=pf(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,s=0,l=0;if(a){i=a.width,o=a.height;const u=nD();(!u||u&&t==="fixed")&&(s=a.offsetLeft,l=a.offsetTop)}return{width:i,height:o,x:s,y:l}}function wde(e,t){const r=J0(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=lf(e)?Zv(e):Qd(1),o=e.clientWidth*i.x,s=e.clientHeight*i.y,l=a*i.x,u=n*i.y;return{width:o,height:s,x:l,y:u}}function wF(e,t,r){let n;if(t==="viewport")n=xde(e,r);else if(t==="document")n=yde(pf(e));else if(Xu(t))n=wde(t,r);else{const a=yG(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return m5(n)}function wG(e,t){const r=um(e);return r===t||!Xu(r)||y1(r)?!1:Zu(r).position==="fixed"||wG(r,t)}function _de(e,t){const r=t.get(e);if(r)return r;let n=sx(e,[],!1).filter(s=>Xu(s)&&cy(s)!=="body"),a=null;const i=Zu(e).position==="fixed";let o=i?um(e):e;for(;Xu(o)&&!y1(o);){const s=Zu(o),l=rD(o);!l&&s.position==="fixed"&&(a=null),(i?!l&&!a:!l&&s.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Ow(o)&&!l&&wG(e,o))?n=n.filter(d=>d!==o):a=s,o=um(o)}return t.set(e,n),n}function bde(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?h4(t)?[]:_de(t,this._c):[].concat(r),n],s=o[0],l=o.reduce((u,d)=>{const f=wF(t,d,a);return u.top=ac(f.top,u.top),u.right=lm(f.right,u.right),u.bottom=lm(f.bottom,u.bottom),u.left=ac(f.left,u.left),u},wF(t,s,a));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Sde(e){const{width:t,height:r}=vG(e);return{width:t,height:r}}function Ade(e,t,r){const n=lf(t),a=pf(t),i=r==="fixed",o=J0(e,!0,i,t);let s={scrollLeft:0,scrollTop:0};const l=Qd(0);if(n||!n&&!i)if((cy(t)!=="body"||Ow(a))&&(s=p4(t)),n){const h=J0(t,!0,i,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else a&&(l.x=iD(a));const u=a&&!n&&!i?xG(a,s):Qd(0),d=o.left+s.scrollLeft-l.x-u.x,f=o.top+s.scrollTop-l.y-u.y;return{x:d,y:f,width:o.width,height:o.height}}function ek(e){return Zu(e).position==="static"}function _F(e,t){if(!lf(e)||Zu(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return pf(e)===r&&(r=r.ownerDocument.body),r}function _G(e,t){const r=hc(e);if(h4(e))return r;if(!lf(e)){let a=um(e);for(;a&&!y1(a);){if(Xu(a)&&!ek(a))return a;a=um(a)}return r}let n=_F(e,t);for(;n&&fde(n)&&ek(n);)n=_F(n,t);return n&&y1(n)&&ek(n)&&!rD(n)?r:n||hde(e)||r}const kde=async function(e){const t=this.getOffsetParent||_G,r=this.getDimensions,n=await r(e.floating);return{reference:Ade(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Nde(e){return Zu(e).direction==="rtl"}const Ede={convertOffsetParentRelativeRectToViewportRelativeRect:gde,getDocumentElement:pf,getClippingRect:bde,getOffsetParent:_G,getElementRects:kde,getClientRects:vde,getDimensions:Sde,getScale:Zv,isElement:Xu,isRTL:Nde};function bG(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Cde(e,t){let r=null,n;const a=pf(e);function i(){var s;clearTimeout(n),(s=r)==null||s.disconnect(),r=null}function o(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(s||t(),!h||!m)return;const x=K_(f),g=K_(a.clientWidth-(d+h)),y=K_(a.clientHeight-(f+m)),_=K_(d),S={rootMargin:-x+"px "+-g+"px "+-y+"px "+-_+"px",threshold:ac(0,lm(1,l))||1};let C=!0;function E(O){const P=O[0].intersectionRatio;if(P!==l){if(!C)return o();P?o(!1,P):n=setTimeout(()=>{o(!1,1e-7)},1e3)}P===1&&!bG(u,e.getBoundingClientRect())&&o(),C=!1}try{r=new IntersectionObserver(E,{...S,root:a.ownerDocument})}catch{r=new IntersectionObserver(E,S)}r.observe(e)}return o(!0),i}function Pde(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,u=aD(e),d=a||i?[...u?sx(u):[],...sx(t)]:[];d.forEach(_=>{a&&_.addEventListener("scroll",r,{passive:!0}),i&&_.addEventListener("resize",r)});const f=u&&s?Cde(u,r):null;let h=-1,m=null;o&&(m=new ResizeObserver(_=>{let[b]=_;b&&b.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var S;(S=m)==null||S.observe(t)})),r()}),u&&!l&&m.observe(u),m.observe(t));let x,g=l?J0(e):null;l&&y();function y(){const _=J0(e);g&&!bG(g,_)&&r(),g=_,x=requestAnimationFrame(y)}return r(),()=>{var _;d.forEach(b=>{a&&b.removeEventListener("scroll",r),i&&b.removeEventListener("resize",r)}),f==null||f(),(_=m)==null||_.disconnect(),m=null,l&&cancelAnimationFrame(x)}}const Tde=lde,Ode=cde,Dde=ide,Ide=dde,Rde=ode,bF=ade,Mde=ude,Fde=(e,t,r)=>{const n=new Map,a={platform:Ede,...r},i={...a.platform,_c:n};return nde(e,t,{...a,platform:i})};var zb=typeof document<"u"?A.useLayoutEffect:A.useEffect;function g5(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!g5(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!g5(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function SG(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function SF(e,t){const r=SG(e);return Math.round(t*r)/r}function tk(e){const t=A.useRef(e);return zb(()=>{t.current=e}),t}function Lde(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:s=!0,whileElementsMounted:l,open:u}=e,[d,f]=A.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=A.useState(n);g5(h,n)||m(n);const[x,g]=A.useState(null),[y,_]=A.useState(null),b=A.useCallback(G=>{G!==O.current&&(O.current=G,g(G))},[]),S=A.useCallback(G=>{G!==P.current&&(P.current=G,_(G))},[]),C=i||x,E=o||y,O=A.useRef(null),P=A.useRef(null),I=A.useRef(d),L=l!=null,U=tk(l),T=tk(a),F=tk(u),j=A.useCallback(()=>{if(!O.current||!P.current)return;const G={placement:t,strategy:r,middleware:h};T.current&&(G.platform=T.current),Fde(O.current,P.current,G).then(q=>{const K={...q,isPositioned:F.current!==!1};H.current&&!g5(I.current,K)&&(I.current=K,ay.flushSync(()=>{f(K)}))})},[h,t,r,T,F]);zb(()=>{u===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,f(G=>({...G,isPositioned:!1})))},[u]);const H=A.useRef(!1);zb(()=>(H.current=!0,()=>{H.current=!1}),[]),zb(()=>{if(C&&(O.current=C),E&&(P.current=E),C&&E){if(U.current)return U.current(C,E,j);j()}},[C,E,j,U,L]);const X=A.useMemo(()=>({reference:O,floating:P,setReference:b,setFloating:S}),[b,S]),re=A.useMemo(()=>({reference:C,floating:E}),[C,E]),z=A.useMemo(()=>{const G={position:r,left:0,top:0};if(!re.floating)return G;const q=SF(re.floating,d.x),K=SF(re.floating,d.y);return s?{...G,transform:"translate("+q+"px, "+K+"px)",...SG(re.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:q,top:K}},[r,s,re.floating,d.x,d.y]);return A.useMemo(()=>({...d,update:j,refs:X,elements:re,floatingStyles:z}),[d,j,X,re,z])}const jde=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?bF({element:n.current,padding:a}).fn(r):{}:n?bF({element:n,padding:a}).fn(r):{}}}},$de=(e,t)=>({...Tde(e),options:[e,t]}),Bde=(e,t)=>({...Ode(e),options:[e,t]}),Ude=(e,t)=>({...Mde(e),options:[e,t]}),qde=(e,t)=>({...Dde(e),options:[e,t]}),zde=(e,t)=>({...Ide(e),options:[e,t]}),Wde=(e,t)=>({...Rde(e),options:[e,t]}),Vde=(e,t)=>({...jde(e),options:[e,t]});var Hde="Arrow",AG=A.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return c(pr.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:c("polygon",{points:"0,0 30,0 15,10"})})});AG.displayName=Hde;var Gde=AG;function m4(e){const[t,r]=A.useState(void 0);return oi(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,s;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,s=u.blockSize}else o=e.offsetWidth,s=e.offsetHeight;r({width:o,height:s})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var oD="Popper",[kG,Em]=Qi(oD),[Yde,NG]=kG(oD),EG=e=>{const{__scopePopper:t,children:r}=e,[n,a]=A.useState(null);return c(Yde,{scope:t,anchor:n,onAnchorChange:a,children:r})};EG.displayName=oD;var CG="PopperAnchor",PG=A.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=NG(CG,r),o=A.useRef(null),s=Vr(t,o);return A.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:c(pr.div,{...a,ref:s})});PG.displayName=CG;var sD="PopperContent",[Kde,Xde]=kG(sD),TG=A.forwardRef((e,t)=>{var te,de,Z,ce,oe,ae;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:s=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:x,...g}=e,y=NG(sD,r),[_,b]=A.useState(null),S=Vr(t,Ne=>b(Ne)),[C,E]=A.useState(null),O=m4(C),P=(O==null?void 0:O.width)??0,I=(O==null?void 0:O.height)??0,L=n+(i!=="center"?"-"+i:""),U=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},T=Array.isArray(u)?u:[u],F=T.length>0,j={padding:U,boundary:T.filter(Jde),altBoundary:F},{refs:H,floatingStyles:X,placement:re,isPositioned:z,middlewareData:G}=Lde({strategy:"fixed",placement:L,whileElementsMounted:(...Ne)=>Pde(...Ne,{animationFrame:m==="always"}),elements:{reference:y.anchor},middleware:[$de({mainAxis:a+I,alignmentAxis:o}),l&&Bde({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Ude():void 0,...j}),l&&qde({...j}),zde({...j,apply:({elements:Ne,rects:Ie,availableWidth:Te,availableHeight:he})=>{const{width:Ge,height:mt}=Ie.reference,ht=Ne.floating.style;ht.setProperty("--radix-popper-available-width",`${Te}px`),ht.setProperty("--radix-popper-available-height",`${he}px`),ht.setProperty("--radix-popper-anchor-width",`${Ge}px`),ht.setProperty("--radix-popper-anchor-height",`${mt}px`)}}),C&&Vde({element:C,padding:s}),Qde({arrowWidth:P,arrowHeight:I}),h&&Wde({strategy:"referenceHidden",...j})]}),[q,K]=IG(re),J=Ci(x);oi(()=>{z&&(J==null||J())},[z,J]);const D=(te=G.arrow)==null?void 0:te.x,Y=(de=G.arrow)==null?void 0:de.y,Q=((Z=G.arrow)==null?void 0:Z.centerOffset)!==0,[ie,se]=A.useState();return oi(()=>{_&&se(window.getComputedStyle(_).zIndex)},[_]),c("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...X,transform:z?X.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ie,"--radix-popper-transform-origin":[(ce=G.transformOrigin)==null?void 0:ce.x,(oe=G.transformOrigin)==null?void 0:oe.y].join(" "),...((ae=G.hide)==null?void 0:ae.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:c(Kde,{scope:r,placedSide:q,onArrowChange:E,arrowX:D,arrowY:Y,shouldHideArrow:Q,children:c(pr.div,{"data-side":q,"data-align":K,...g,ref:S,style:{...g.style,animation:z?void 0:"none"}})})})});TG.displayName=sD;var OG="PopperArrow",Zde={top:"bottom",right:"left",bottom:"top",left:"right"},DG=A.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=Xde(OG,n),o=Zde[i.placedSide];return c("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:c(Gde,{...a,ref:r,style:{...a.style,display:"block"}})})});DG.displayName=OG;function Jde(e){return e!==null}var Qde=e=>({name:"transformOrigin",options:e,fn(t){var y,_,b;const{placement:r,rects:n,middlewareData:a}=t,o=((y=a.arrow)==null?void 0:y.centerOffset)!==0,s=o?0:e.arrowWidth,l=o?0:e.arrowHeight,[u,d]=IG(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((_=a.arrow)==null?void 0:_.x)??0)+s/2,m=(((b=a.arrow)==null?void 0:b.y)??0)+l/2;let x="",g="";return u==="bottom"?(x=o?f:`${h}px`,g=`${-l}px`):u==="top"?(x=o?f:`${h}px`,g=`${n.floating.height+l}px`):u==="right"?(x=`${-l}px`,g=o?f:`${m}px`):u==="left"&&(x=`${n.floating.width+l}px`,g=o?f:`${m}px`),{data:{x,y:g}}}});function IG(e){const[t,r="center"]=e.split("-");return[t,r]}var g4=EG,Dw=PG,v4=TG,y4=DG,efe="Portal",uy=A.forwardRef((e,t)=>{var s;const{container:r,...n}=e,[a,i]=A.useState(!1);oi(()=>i(!0),[]);const o=r||a&&((s=globalThis==null?void 0:globalThis.document)==null?void 0:s.body);return o?Jse.createPortal(c(pr.div,{...n,ref:t}),o):null});uy.displayName=efe;function tfe(e,t){return A.useReducer((r,n)=>t[r][n]??r,e)}var as=e=>{const{present:t,children:r}=e,n=rfe(t),a=typeof r=="function"?r({present:n.isPresent}):A.Children.only(r),i=Vr(n.ref,nfe(a));return typeof r=="function"||n.isPresent?A.cloneElement(a,{ref:i}):null};as.displayName="Presence";function rfe(e){const[t,r]=A.useState(),n=A.useRef({}),a=A.useRef(e),i=A.useRef("none"),o=e?"mounted":"unmounted",[s,l]=tfe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return A.useEffect(()=>{const u=X_(n.current);i.current=s==="mounted"?u:"none"},[s]),oi(()=>{const u=n.current,d=a.current;if(d!==e){const h=i.current,m=X_(u);e?l("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,l]),oi(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const g=X_(n.current).includes(m.animationName);if(m.target===t&&g&&(l("ANIMATION_END"),!a.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},h=m=>{m.target===t&&(i.current=X_(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:A.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function X_(e){return(e==null?void 0:e.animationName)||"none"}function nfe(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var rk="rovingFocusGroup.onEntryFocus",afe={bubbles:!1,cancelable:!0},Iw="RovingFocusGroup",[XT,RG,ife]=Pw(Iw),[ofe,dy]=Qi(Iw,[ife]),[sfe,lfe]=ofe(Iw),MG=A.forwardRef((e,t)=>c(XT.Provider,{scope:e.__scopeRovingFocusGroup,children:c(XT.Slot,{scope:e.__scopeRovingFocusGroup,children:c(cfe,{...e,ref:t})})}));MG.displayName=Iw;var cfe=A.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=A.useRef(null),m=Vr(t,h),x=bg(i),[g,y]=ul({prop:o,defaultProp:s??null,onChange:l,caller:Iw}),[_,b]=A.useState(!1),S=Ci(u),C=RG(r),E=A.useRef(!1),[O,P]=A.useState(0);return A.useEffect(()=>{const I=h.current;if(I)return I.addEventListener(rk,S),()=>I.removeEventListener(rk,S)},[S]),c(sfe,{scope:r,orientation:n,dir:x,loop:a,currentTabStopId:g,onItemFocus:A.useCallback(I=>y(I),[y]),onItemShiftTab:A.useCallback(()=>b(!0),[]),onFocusableItemAdd:A.useCallback(()=>P(I=>I+1),[]),onFocusableItemRemove:A.useCallback(()=>P(I=>I-1),[]),children:c(pr.div,{tabIndex:_||O===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:qt(e.onMouseDown,()=>{E.current=!0}),onFocus:qt(e.onFocus,I=>{const L=!E.current;if(I.target===I.currentTarget&&L&&!_){const U=new CustomEvent(rk,afe);if(I.currentTarget.dispatchEvent(U),!U.defaultPrevented){const T=C().filter(re=>re.focusable),F=T.find(re=>re.active),j=T.find(re=>re.id===g),X=[F,j,...T].filter(Boolean).map(re=>re.ref.current);jG(X,d)}}E.current=!1}),onBlur:qt(e.onBlur,()=>b(!1))})})}),FG="RovingFocusGroupItem",LG=A.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:o,...s}=e,l=Rl(),u=i||l,d=lfe(FG,r),f=d.currentTabStopId===u,h=RG(r),{onFocusableItemAdd:m,onFocusableItemRemove:x,currentTabStopId:g}=d;return A.useEffect(()=>{if(n)return m(),()=>x()},[n,m,x]),c(XT.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:c(pr.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...s,ref:t,onMouseDown:qt(e.onMouseDown,y=>{n?d.onItemFocus(u):y.preventDefault()}),onFocus:qt(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:qt(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){d.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const _=ffe(y,d.orientation,d.dir);if(_!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let S=h().filter(C=>C.focusable).map(C=>C.ref.current);if(_==="last")S.reverse();else if(_==="prev"||_==="next"){_==="prev"&&S.reverse();const C=S.indexOf(y.currentTarget);S=d.loop?hfe(S,C+1):S.slice(C+1)}setTimeout(()=>jG(S))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:g!=null}):o})})});LG.displayName=FG;var ufe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function dfe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function ffe(e,t,r){const n=dfe(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return ufe[n]}function jG(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function hfe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var lD=MG,cD=LG,pfe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},mv=new WeakMap,Z_=new WeakMap,J_={},nk=0,$G=function(e){return e&&(e.host||$G(e.parentNode))},mfe=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=$G(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},gfe=function(e,t,r,n){var a=mfe(t,Array.isArray(e)?e:[e]);J_[r]||(J_[r]=new WeakMap);var i=J_[r],o=[],s=new Set,l=new Set(a),u=function(f){!f||s.has(f)||(s.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(s.has(h))d(h);else try{var m=h.getAttribute(n),x=m!==null&&m!=="false",g=(mv.get(h)||0)+1,y=(i.get(h)||0)+1;mv.set(h,g),i.set(h,y),o.push(h),g===1&&x&&Z_.set(h,!0),y===1&&h.setAttribute(r,"true"),x||h.setAttribute(n,"true")}catch(_){console.error("aria-hidden: cannot operate on ",h,_)}})};return d(t),s.clear(),nk++,function(){o.forEach(function(f){var h=mv.get(f)-1,m=i.get(f)-1;mv.set(f,h),i.set(f,m),h||(Z_.has(f)||f.removeAttribute(n),Z_.delete(f)),m||f.removeAttribute(r)}),nk--,nk||(mv=new WeakMap,mv=new WeakMap,Z_=new WeakMap,J_={})}},x4=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=pfe(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),gfe(n,a,r,"aria-hidden")):function(){return null}},Wd=function(){return Wd=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Wd.apply(this,arguments)};function BG(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function vfe(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var Wb="right-scroll-bar-position",Vb="width-before-scroll-bar",yfe="with-scroll-bars-hidden",xfe="--removed-body-scroll-bar-size";function ak(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function wfe(e,t){var r=A.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var _fe=typeof window<"u"?A.useLayoutEffect:A.useEffect,AF=new WeakMap;function bfe(e,t){var r=wfe(null,function(n){return e.forEach(function(a){return ak(a,n)})});return _fe(function(){var n=AF.get(r);if(n){var a=new Set(n),i=new Set(e),o=r.current;a.forEach(function(s){i.has(s)||ak(s,null)}),i.forEach(function(s){a.has(s)||ak(s,o)})}AF.set(r,e)},[e]),r}function Sfe(e){return e}function Afe(e,t){t===void 0&&(t=Sfe);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(s){return s!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(s){return i(s)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var s=r;r=[],s.forEach(i),o=r}var l=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return a}function kfe(e){e===void 0&&(e={});var t=Afe(null);return t.options=Wd({async:!0,ssr:!1},e),t}var UG=function(e){var t=e.sideCar,r=BG(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return A.createElement(n,Wd({},r))};UG.isSideCarExport=!0;function Nfe(e,t){return e.useMedium(t),UG}var qG=kfe(),ik=function(){},w4=A.forwardRef(function(e,t){var r=A.useRef(null),n=A.useState({onScrollCapture:ik,onWheelCapture:ik,onTouchMoveCapture:ik}),a=n[0],i=n[1],o=e.forwardProps,s=e.children,l=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noIsolation,x=e.inert,g=e.allowPinchZoom,y=e.as,_=y===void 0?"div":y,b=e.gapMode,S=BG(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=h,E=bfe([r,t]),O=Wd(Wd({},S),a);return A.createElement(A.Fragment,null,d&&A.createElement(C,{sideCar:qG,removeScrollBar:u,shards:f,noIsolation:m,inert:x,setCallbacks:i,allowPinchZoom:!!g,lockRef:r,gapMode:b}),o?A.cloneElement(A.Children.only(s),Wd(Wd({},O),{ref:E})):A.createElement(_,Wd({},O,{className:l,ref:E}),s))});w4.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};w4.classNames={fullWidth:Vb,zeroRight:Wb};var Efe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Cfe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Efe();return t&&e.setAttribute("nonce",t),e}function Pfe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Tfe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Ofe=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Cfe())&&(Pfe(t,r),Tfe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Dfe=function(){var e=Ofe();return function(t,r){A.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},zG=function(){var e=Dfe(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},Ife={left:0,top:0,right:0,gap:0},ok=function(e){return parseInt(e||"",10)||0},Rfe=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[ok(r),ok(n),ok(a)]},Mfe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Ife;var t=Rfe(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},Ffe=zG(),Jv="data-scroll-locked",Lfe=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,s=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(yfe,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(s,"px ").concat(n,`;
  }
  body[`).concat(Jv,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(s,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Wb,` {
    right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(Vb,` {
    margin-right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(Wb," .").concat(Wb,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Vb," .").concat(Vb,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Jv,`] {
    `).concat(xfe,": ").concat(s,`px;
  }
`)},kF=function(){var e=parseInt(document.body.getAttribute(Jv)||"0",10);return isFinite(e)?e:0},jfe=function(){A.useEffect(function(){return document.body.setAttribute(Jv,(kF()+1).toString()),function(){var e=kF()-1;e<=0?document.body.removeAttribute(Jv):document.body.setAttribute(Jv,e.toString())}},[])},$fe=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;jfe();var i=A.useMemo(function(){return Mfe(a)},[a]);return A.createElement(Ffe,{styles:Lfe(i,!t,a,r?"":"!important")})},ZT=!1;if(typeof window<"u")try{var Q_=Object.defineProperty({},"passive",{get:function(){return ZT=!0,!0}});window.addEventListener("test",Q_,Q_),window.removeEventListener("test",Q_,Q_)}catch{ZT=!1}var gv=ZT?{passive:!1}:!1,Bfe=function(e){return e.tagName==="TEXTAREA"},WG=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Bfe(e)&&r[t]==="visible")},Ufe=function(e){return WG(e,"overflowY")},qfe=function(e){return WG(e,"overflowX")},NF=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=VG(e,n);if(a){var i=HG(e,n),o=i[1],s=i[2];if(o>s)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},zfe=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},Wfe=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},VG=function(e,t){return e==="v"?Ufe(t):qfe(t)},HG=function(e,t){return e==="v"?zfe(t):Wfe(t)},Vfe=function(e,t){return e==="h"&&t==="rtl"?-1:1},Hfe=function(e,t,r,n,a){var i=Vfe(e,window.getComputedStyle(t).direction),o=i*n,s=r.target,l=t.contains(s),u=!1,d=o>0,f=0,h=0;do{var m=HG(e,s),x=m[0],g=m[1],y=m[2],_=g-y-i*x;(x||_)&&VG(e,s)&&(f+=_,h+=x),s instanceof ShadowRoot?s=s.host:s=s.parentNode}while(!l&&s!==document.body||l&&(t.contains(s)||t===s));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},eb=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},EF=function(e){return[e.deltaX,e.deltaY]},CF=function(e){return e&&"current"in e?e.current:e},Gfe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Yfe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Kfe=0,vv=[];function Xfe(e){var t=A.useRef([]),r=A.useRef([0,0]),n=A.useRef(),a=A.useState(Kfe++)[0],i=A.useState(zG)[0],o=A.useRef(e);A.useEffect(function(){o.current=e},[e]),A.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var g=vfe([e.lockRef.current],(e.shards||[]).map(CF),!0).filter(Boolean);return g.forEach(function(y){return y.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),g.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var s=A.useCallback(function(g,y){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var _=eb(g),b=r.current,S="deltaX"in g?g.deltaX:b[0]-_[0],C="deltaY"in g?g.deltaY:b[1]-_[1],E,O=g.target,P=Math.abs(S)>Math.abs(C)?"h":"v";if("touches"in g&&P==="h"&&O.type==="range")return!1;var I=NF(P,O);if(!I)return!0;if(I?E=P:(E=P==="v"?"h":"v",I=NF(P,O)),!I)return!1;if(!n.current&&"changedTouches"in g&&(S||C)&&(n.current=E),!E)return!0;var L=n.current||E;return Hfe(L,y,g,L==="h"?S:C)},[]),l=A.useCallback(function(g){var y=g;if(!(!vv.length||vv[vv.length-1]!==i)){var _="deltaY"in y?EF(y):eb(y),b=t.current.filter(function(E){return E.name===y.type&&(E.target===y.target||y.target===E.shadowParent)&&Gfe(E.delta,_)})[0];if(b&&b.should){y.cancelable&&y.preventDefault();return}if(!b){var S=(o.current.shards||[]).map(CF).filter(Boolean).filter(function(E){return E.contains(y.target)}),C=S.length>0?s(y,S[0]):!o.current.noIsolation;C&&y.cancelable&&y.preventDefault()}}},[]),u=A.useCallback(function(g,y,_,b){var S={name:g,delta:y,target:_,should:b,shadowParent:Zfe(_)};t.current.push(S),setTimeout(function(){t.current=t.current.filter(function(C){return C!==S})},1)},[]),d=A.useCallback(function(g){r.current=eb(g),n.current=void 0},[]),f=A.useCallback(function(g){u(g.type,EF(g),g.target,s(g,e.lockRef.current))},[]),h=A.useCallback(function(g){u(g.type,eb(g),g.target,s(g,e.lockRef.current))},[]);A.useEffect(function(){return vv.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,gv),document.addEventListener("touchmove",l,gv),document.addEventListener("touchstart",d,gv),function(){vv=vv.filter(function(g){return g!==i}),document.removeEventListener("wheel",l,gv),document.removeEventListener("touchmove",l,gv),document.removeEventListener("touchstart",d,gv)}},[]);var m=e.removeScrollBar,x=e.inert;return A.createElement(A.Fragment,null,x?A.createElement(i,{styles:Yfe(a)}):null,m?A.createElement($fe,{gapMode:e.gapMode}):null)}function Zfe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Jfe=Nfe(qG,Xfe);var Rw=A.forwardRef(function(e,t){return A.createElement(w4,Wd({},e,{ref:t,sideCar:Jfe}))});Rw.classNames=w4.classNames;var JT=["Enter"," "],Qfe=["ArrowDown","PageUp","Home"],GG=["ArrowUp","PageDown","End"],ehe=[...Qfe,...GG],the={ltr:[...JT,"ArrowRight"],rtl:[...JT,"ArrowLeft"]},rhe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Mw="Menu",[lx,nhe,ahe]=Pw(Mw),[Ag,YG]=Qi(Mw,[ahe,Em,dy]),_4=Em(),KG=dy(),[ihe,kg]=Ag(Mw),[ohe,Fw]=Ag(Mw),XG=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:i,modal:o=!0}=e,s=_4(t),[l,u]=A.useState(null),d=A.useRef(!1),f=Ci(i),h=bg(a);return A.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),c(g4,{...s,children:c(ihe,{scope:t,open:r,onOpenChange:f,content:l,onContentChange:u,children:c(ohe,{scope:t,onClose:A.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:n})})})};XG.displayName=Mw;var she="MenuAnchor",uD=A.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=_4(r);return c(Dw,{...a,...n,ref:t})});uD.displayName=she;var dD="MenuPortal",[lhe,ZG]=Ag(dD,{forceMount:void 0}),JG=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,i=kg(dD,t);return c(lhe,{scope:t,forceMount:r,children:c(as,{present:r||i.open,children:c(uy,{asChild:!0,container:a,children:n})})})};JG.displayName=dD;var Zc="MenuContent",[che,fD]=Ag(Zc),QG=A.forwardRef((e,t)=>{const r=ZG(Zc,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=kg(Zc,e.__scopeMenu),o=Fw(Zc,e.__scopeMenu);return c(lx.Provider,{scope:e.__scopeMenu,children:c(as,{present:n||i.open,children:c(lx.Slot,{scope:e.__scopeMenu,children:o.modal?c(uhe,{...a,ref:t}):c(dhe,{...a,ref:t})})})})}),uhe=A.forwardRef((e,t)=>{const r=kg(Zc,e.__scopeMenu),n=A.useRef(null),a=Vr(t,n);return A.useEffect(()=>{const i=n.current;if(i)return x4(i)},[]),c(hD,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:qt(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),dhe=A.forwardRef((e,t)=>{const r=kg(Zc,e.__scopeMenu);return c(hD,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),fhe=sm("MenuContent.ScrollLock"),hD=A.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:s,onEntryFocus:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:x,...g}=e,y=kg(Zc,r),_=Fw(Zc,r),b=_4(r),S=KG(r),C=nhe(r),[E,O]=A.useState(null),P=A.useRef(null),I=Vr(t,P,y.onContentChange),L=A.useRef(0),U=A.useRef(""),T=A.useRef(0),F=A.useRef(null),j=A.useRef("right"),H=A.useRef(0),X=x?Rw:A.Fragment,re=x?{as:fhe,allowPinchZoom:!0}:void 0,z=q=>{var te,de;const K=U.current+q,J=C().filter(Z=>!Z.disabled),D=document.activeElement,Y=(te=J.find(Z=>Z.ref.current===D))==null?void 0:te.textValue,Q=J.map(Z=>Z.textValue),ie=Ahe(Q,K,Y),se=(de=J.find(Z=>Z.textValue===ie))==null?void 0:de.ref.current;(function Z(ce){U.current=ce,window.clearTimeout(L.current),ce!==""&&(L.current=window.setTimeout(()=>Z(""),1e3))})(K),se&&setTimeout(()=>se.focus())};A.useEffect(()=>()=>window.clearTimeout(L.current),[]),d4();const G=A.useCallback(q=>{var J,D;return j.current===((J=F.current)==null?void 0:J.side)&&Nhe(q,(D=F.current)==null?void 0:D.area)},[]);return c(che,{scope:r,searchRef:U,onItemEnter:A.useCallback(q=>{G(q)&&q.preventDefault()},[G]),onItemLeave:A.useCallback(q=>{var K;G(q)||((K=P.current)==null||K.focus(),O(null))},[G]),onTriggerLeave:A.useCallback(q=>{G(q)&&q.preventDefault()},[G]),pointerGraceTimerRef:T,onPointerGraceIntentChange:A.useCallback(q=>{F.current=q},[]),children:c(X,{...re,children:c(Tw,{asChild:!0,trapped:a,onMountAutoFocus:qt(i,q=>{var K;q.preventDefault(),(K=P.current)==null||K.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:c(Sg,{asChild:!0,disableOutsidePointerEvents:s,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:c(lD,{asChild:!0,...S,dir:_.dir,orientation:"vertical",loop:n,currentTabStopId:E,onCurrentTabStopIdChange:O,onEntryFocus:qt(l,q=>{_.isUsingKeyboardRef.current||q.preventDefault()}),preventScrollOnEntryFocus:!0,children:c(v4,{role:"menu","aria-orientation":"vertical","data-state":mY(y.open),"data-radix-menu-content":"",dir:_.dir,...b,...g,ref:I,style:{outline:"none",...g.style},onKeyDown:qt(g.onKeyDown,q=>{const J=q.target.closest("[data-radix-menu-content]")===q.currentTarget,D=q.ctrlKey||q.altKey||q.metaKey,Y=q.key.length===1;J&&(q.key==="Tab"&&q.preventDefault(),!D&&Y&&z(q.key));const Q=P.current;if(q.target!==Q||!ehe.includes(q.key))return;q.preventDefault();const se=C().filter(te=>!te.disabled).map(te=>te.ref.current);GG.includes(q.key)&&se.reverse(),bhe(se)}),onBlur:qt(e.onBlur,q=>{q.currentTarget.contains(q.target)||(window.clearTimeout(L.current),U.current="")}),onPointerMove:qt(e.onPointerMove,cx(q=>{const K=q.target,J=H.current!==q.clientX;if(q.currentTarget.contains(K)&&J){const D=q.clientX>H.current?"right":"left";j.current=D,H.current=q.clientX}}))})})})})})})});QG.displayName=Zc;var hhe="MenuGroup",pD=A.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return c(pr.div,{role:"group",...n,ref:t})});pD.displayName=hhe;var phe="MenuLabel",eY=A.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return c(pr.div,{...n,ref:t})});eY.displayName=phe;var v5="MenuItem",PF="menu.itemSelect",b4=A.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,i=A.useRef(null),o=Fw(v5,e.__scopeMenu),s=fD(v5,e.__scopeMenu),l=Vr(t,i),u=A.useRef(!1),d=()=>{const f=i.current;if(!r&&f){const h=new CustomEvent(PF,{bubbles:!0,cancelable:!0});f.addEventListener(PF,m=>n==null?void 0:n(m),{once:!0}),J8(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return c(tY,{...a,ref:l,disabled:r,onClick:qt(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:qt(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:qt(e.onKeyDown,f=>{const h=s.searchRef.current!=="";r||h&&f.key===" "||JT.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});b4.displayName=v5;var tY=A.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...i}=e,o=fD(v5,r),s=KG(r),l=A.useRef(null),u=Vr(t,l),[d,f]=A.useState(!1),[h,m]=A.useState("");return A.useEffect(()=>{const x=l.current;x&&m((x.textContent??"").trim())},[i.children]),c(lx.ItemSlot,{scope:r,disabled:n,textValue:a??h,children:c(cD,{asChild:!0,...s,focusable:!n,children:c(pr.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:qt(e.onPointerMove,cx(x=>{n?o.onItemLeave(x):(o.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:qt(e.onPointerLeave,cx(x=>o.onItemLeave(x))),onFocus:qt(e.onFocus,()=>f(!0)),onBlur:qt(e.onBlur,()=>f(!1))})})})}),mhe="MenuCheckboxItem",rY=A.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return c(sY,{scope:e.__scopeMenu,checked:r,children:c(b4,{role:"menuitemcheckbox","aria-checked":y5(r)?"mixed":r,...a,ref:t,"data-state":gD(r),onSelect:qt(a.onSelect,()=>n==null?void 0:n(y5(r)?!0:!r),{checkForDefaultPrevented:!1})})})});rY.displayName=mhe;var nY="MenuRadioGroup",[ghe,vhe]=Ag(nY,{value:void 0,onValueChange:()=>{}}),aY=A.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,i=Ci(n);return c(ghe,{scope:e.__scopeMenu,value:r,onValueChange:i,children:c(pD,{...a,ref:t})})});aY.displayName=nY;var iY="MenuRadioItem",oY=A.forwardRef((e,t)=>{const{value:r,...n}=e,a=vhe(iY,e.__scopeMenu),i=r===a.value;return c(sY,{scope:e.__scopeMenu,checked:i,children:c(b4,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":gD(i),onSelect:qt(n.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,r)},{checkForDefaultPrevented:!1})})})});oY.displayName=iY;var mD="MenuItemIndicator",[sY,yhe]=Ag(mD,{checked:!1}),lY=A.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,i=yhe(mD,r);return c(as,{present:n||y5(i.checked)||i.checked===!0,children:c(pr.span,{...a,ref:t,"data-state":gD(i.checked)})})});lY.displayName=mD;var xhe="MenuSeparator",cY=A.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return c(pr.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});cY.displayName=xhe;var whe="MenuArrow",uY=A.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=_4(r);return c(y4,{...a,...n,ref:t})});uY.displayName=whe;var _he="MenuSub",[AJe,dY]=Ag(_he),x2="MenuSubTrigger",fY=A.forwardRef((e,t)=>{const r=kg(x2,e.__scopeMenu),n=Fw(x2,e.__scopeMenu),a=dY(x2,e.__scopeMenu),i=fD(x2,e.__scopeMenu),o=A.useRef(null),{pointerGraceTimerRef:s,onPointerGraceIntentChange:l}=i,u={__scopeMenu:e.__scopeMenu},d=A.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return A.useEffect(()=>d,[d]),A.useEffect(()=>{const f=s.current;return()=>{window.clearTimeout(f),l(null)}},[s,l]),c(uD,{asChild:!0,...u,children:c(tY,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":mY(r.open),...e,ref:u4(t,a.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:qt(e.onPointerMove,cx(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:qt(e.onPointerLeave,cx(f=>{var m,x;d();const h=(m=r.content)==null?void 0:m.getBoundingClientRect();if(h){const g=(x=r.content)==null?void 0:x.dataset.side,y=g==="right",_=y?-5:5,b=h[y?"left":"right"],S=h[y?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+_,y:f.clientY},{x:b,y:h.top},{x:S,y:h.top},{x:S,y:h.bottom},{x:b,y:h.bottom}],side:g}),window.clearTimeout(s.current),s.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:qt(e.onKeyDown,f=>{var m;const h=i.searchRef.current!=="";e.disabled||h&&f.key===" "||the[n.dir].includes(f.key)&&(r.onOpenChange(!0),(m=r.content)==null||m.focus(),f.preventDefault())})})})});fY.displayName=x2;var hY="MenuSubContent",pY=A.forwardRef((e,t)=>{const r=ZG(Zc,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=kg(Zc,e.__scopeMenu),o=Fw(Zc,e.__scopeMenu),s=dY(hY,e.__scopeMenu),l=A.useRef(null),u=Vr(t,l);return c(lx.Provider,{scope:e.__scopeMenu,children:c(as,{present:n||i.open,children:c(lx.Slot,{scope:e.__scopeMenu,children:c(hD,{id:s.contentId,"aria-labelledby":s.triggerId,...a,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=l.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:qt(e.onFocusOutside,d=>{d.target!==s.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:qt(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:qt(e.onKeyDown,d=>{var m;const f=d.currentTarget.contains(d.target),h=rhe[o.dir].includes(d.key);f&&h&&(i.onOpenChange(!1),(m=s.trigger)==null||m.focus(),d.preventDefault())})})})})})});pY.displayName=hY;function mY(e){return e?"open":"closed"}function y5(e){return e==="indeterminate"}function gD(e){return y5(e)?"indeterminate":e?"checked":"unchecked"}function bhe(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function She(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function Ahe(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=She(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const l=o.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return l!==r?l:void 0}function khe(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const s=t[i],l=t[o],u=s.x,d=s.y,f=l.x,h=l.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(a=!a)}return a}function Nhe(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return khe(r,t)}function cx(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Ehe=XG,Che=uD,Phe=JG,The=QG,Ohe=pD,Dhe=eY,Ihe=b4,Rhe=rY,Mhe=aY,Fhe=oY,Lhe=lY,jhe=cY,$he=uY,Bhe=fY,Uhe=pY,S4="DropdownMenu",[qhe,kJe]=Qi(S4,[YG]),hl=YG(),[zhe,gY]=qhe(S4),vY=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:i,onOpenChange:o,modal:s=!0}=e,l=hl(t),u=A.useRef(null),[d,f]=ul({prop:a,defaultProp:i??!1,onChange:o,caller:S4});return c(zhe,{scope:t,triggerId:Rl(),triggerRef:u,contentId:Rl(),open:d,onOpenChange:f,onOpenToggle:A.useCallback(()=>f(h=>!h),[f]),modal:s,children:c(Ehe,{...l,open:d,onOpenChange:f,dir:n,modal:s,children:r})})};vY.displayName=S4;var yY="DropdownMenuTrigger",xY=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,i=gY(yY,r),o=hl(r);return c(Che,{asChild:!0,...o,children:c(pr.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:u4(t,i.triggerRef),onPointerDown:qt(e.onPointerDown,s=>{!n&&s.button===0&&s.ctrlKey===!1&&(i.onOpenToggle(),i.open||s.preventDefault())}),onKeyDown:qt(e.onKeyDown,s=>{n||(["Enter"," "].includes(s.key)&&i.onOpenToggle(),s.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(s.key)&&s.preventDefault())})})})});xY.displayName=yY;var Whe="DropdownMenuPortal",wY=e=>{const{__scopeDropdownMenu:t,...r}=e,n=hl(t);return c(Phe,{...n,...r})};wY.displayName=Whe;var _Y="DropdownMenuContent",bY=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=gY(_Y,r),i=hl(r),o=A.useRef(!1);return c(The,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...n,ref:t,onCloseAutoFocus:qt(e.onCloseAutoFocus,s=>{var l;o.current||(l=a.triggerRef.current)==null||l.focus(),o.current=!1,s.preventDefault()}),onInteractOutside:qt(e.onInteractOutside,s=>{const l=s.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,d=l.button===2||u;(!a.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});bY.displayName=_Y;var Vhe="DropdownMenuGroup",Hhe=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=hl(r);return c(Ohe,{...a,...n,ref:t})});Hhe.displayName=Vhe;var Ghe="DropdownMenuLabel",SY=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=hl(r);return c(Dhe,{...a,...n,ref:t})});SY.displayName=Ghe;var Yhe="DropdownMenuItem",AY=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=hl(r);return c(Ihe,{...a,...n,ref:t})});AY.displayName=Yhe;var Khe="DropdownMenuCheckboxItem",kY=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=hl(r);return c(Rhe,{...a,...n,ref:t})});kY.displayName=Khe;var Xhe="DropdownMenuRadioGroup",Zhe=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=hl(r);return c(Mhe,{...a,...n,ref:t})});Zhe.displayName=Xhe;var Jhe="DropdownMenuRadioItem",NY=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=hl(r);return c(Fhe,{...a,...n,ref:t})});NY.displayName=Jhe;var Qhe="DropdownMenuItemIndicator",EY=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=hl(r);return c(Lhe,{...a,...n,ref:t})});EY.displayName=Qhe;var epe="DropdownMenuSeparator",CY=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=hl(r);return c(jhe,{...a,...n,ref:t})});CY.displayName=epe;var tpe="DropdownMenuArrow",rpe=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=hl(r);return c($he,{...a,...n,ref:t})});rpe.displayName=tpe;var npe="DropdownMenuSubTrigger",PY=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=hl(r);return c(Bhe,{...a,...n,ref:t})});PY.displayName=npe;var ape="DropdownMenuSubContent",TY=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=hl(r);return c(Uhe,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});TY.displayName=ape;var ipe=vY,ope=xY,spe=wY,OY=bY,DY=SY,IY=AY,RY=kY,MY=NY,FY=EY,LY=CY,jY=PY,$Y=TY;const lpe=ipe,cpe=ope,upe=A.forwardRef(({className:e,inset:t,children:r,...n},a)=>w(jY,{ref:a,className:Rt("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,c(im,{className:"ml-auto h-4 w-4"})]}));upe.displayName=jY.displayName;const dpe=A.forwardRef(({className:e,...t},r)=>c($Y,{ref:r,className:Rt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));dpe.displayName=$Y.displayName;const BY=A.forwardRef(({className:e,sideOffset:t=4,...r},n)=>c(spe,{children:c(OY,{ref:n,sideOffset:t,className:Rt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));BY.displayName=OY.displayName;const w2=A.forwardRef(({className:e,inset:t,...r},n)=>c(IY,{ref:n,className:Rt("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));w2.displayName=IY.displayName;const fpe=A.forwardRef(({className:e,children:t,checked:r,...n},a)=>w(RY,{ref:a,className:Rt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[c("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c(FY,{children:c(U0,{className:"h-4 w-4"})})}),t]}));fpe.displayName=RY.displayName;const hpe=A.forwardRef(({className:e,children:t,...r},n)=>w(MY,{ref:n,className:Rt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[c("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c(FY,{children:c(HH,{className:"h-2 w-2 fill-current"})})}),t]}));hpe.displayName=MY.displayName;const UY=A.forwardRef(({className:e,inset:t,...r},n)=>c(DY,{ref:n,className:Rt("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));UY.displayName=DY.displayName;const QT=A.forwardRef(({className:e,...t},r)=>c(LY,{ref:r,className:Rt("-mx-1 my-1 h-px bg-muted",e),...t}));QT.displayName=LY.displayName;const ct=A.forwardRef(({className:e,type:t,...r},n)=>c("input",{type:t,className:Rt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));ct.displayName="Input";var sk={exports:{}},lk={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TF;function ppe(){if(TF)return lk;TF=1;var e=n4();function t(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function s(f,h){var m=h(),x=n({inst:{value:m,getSnapshot:h}}),g=x[0].inst,y=x[1];return i(function(){g.value=m,g.getSnapshot=h,l(g)&&y({inst:g})},[f,m,h]),a(function(){return l(g)&&y({inst:g}),f(function(){l(g)&&y({inst:g})})},[f]),o(m),m}function l(f){var h=f.getSnapshot;f=f.value;try{var m=h();return!r(f,m)}catch{return!0}}function u(f,h){return h()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:s;return lk.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:d,lk}var OF;function mpe(){return OF||(OF=1,sk.exports=ppe()),sk.exports}var gpe=mpe();function vpe(){return gpe.useSyncExternalStore(ype,()=>!0,()=>!1)}function ype(){return()=>{}}var vD="Avatar",[xpe,NJe]=Qi(vD),[wpe,qY]=xpe(vD),zY=A.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,i]=A.useState("idle");return c(wpe,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:c(pr.span,{...n,ref:t})})});zY.displayName=vD;var WY="AvatarImage",VY=A.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=e,o=qY(WY,r),s=_pe(n,i),l=Ci(u=>{a(u),o.onImageLoadingStatusChange(u)});return oi(()=>{s!=="idle"&&l(s)},[s,l]),s==="loaded"?c(pr.img,{...i,ref:t,src:n}):null});VY.displayName=WY;var HY="AvatarFallback",GY=A.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,i=qY(HY,r),[o,s]=A.useState(n===void 0);return A.useEffect(()=>{if(n!==void 0){const l=window.setTimeout(()=>s(!0),n);return()=>window.clearTimeout(l)}},[n]),o&&i.imageLoadingStatus!=="loaded"?c(pr.span,{...a,ref:t}):null});GY.displayName=HY;function DF(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function _pe(e,{referrerPolicy:t,crossOrigin:r}){const n=vpe(),a=A.useRef(null),i=n?(a.current||(a.current=new window.Image),a.current):null,[o,s]=A.useState(()=>DF(i,e));return oi(()=>{s(DF(i,e))},[i,e]),oi(()=>{const l=f=>()=>{s(f)};if(!i)return;const u=l("loaded"),d=l("error");return i.addEventListener("load",u),i.addEventListener("error",d),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,r,t]),o}var YY=zY,KY=VY,XY=GY;const yD=A.forwardRef(({className:e,...t},r)=>c(YY,{ref:r,className:Rt("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));yD.displayName=YY.displayName;const xD=A.forwardRef(({className:e,...t},r)=>c(KY,{ref:r,className:Rt("aspect-square h-full w-full",e),...t}));xD.displayName=KY.displayName;const wD=A.forwardRef(({className:e,...t},r)=>c(XY,{ref:r,className:Rt("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));wD.displayName=XY.displayName;const bpe="modulepreload",Spe=function(e){return"/DentalCare-Pro/"+e},IF={},xh=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){let o=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));a=o(r.map(u=>{if(u=Spe(u),u in IF)return;IF[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":bpe,d||(h.as="script"),h.crossOrigin="",h.href=u,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((m,x)=>{h.addEventListener("load",m),h.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return a.then(o=>{for(const s of o||[])s.status==="rejected"&&i(s.reason);return t().catch(i)})},Ape=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>xh(async()=>{const{default:n}=await Promise.resolve().then(()=>fy);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class _D extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class kpe extends _D{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Npe extends _D{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Epe extends _D{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var e6;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(e6||(e6={}));var Cpe=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(s,l)}u((n=n.apply(e,t||[])).next())})};class Ppe{constructor(t,{headers:r={},customFetch:n,region:a=e6.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=Ape(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return Cpe(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:o}=r;let s={},{region:l}=r;l||(l=this.region),l&&l!=="any"&&(s["x-region"]=l);let u;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(s["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(s["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(s["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},s),this.headers),a),body:u}).catch(x=>{throw new kpe(x)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new Npe(d);if(!d.ok)throw new Epe(d);let h=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),m;return h==="application/json"?m=yield d.json():h==="application/octet-stream"?m=yield d.blob():h==="text/event-stream"?m=d:h==="multipart/form-data"?m=yield d.formData():m=yield d.text(),{data:m,error:null}}catch(a){return{data:null,error:a}}})}}var Po={},yv={},xv={},wv={},_v={},bv={},Tpe=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},x1=Tpe();const Ope=x1.fetch,ZY=x1.fetch.bind(x1),JY=x1.Headers,Dpe=x1.Request,Ipe=x1.Response,fy=Object.freeze(Object.defineProperty({__proto__:null,Headers:JY,Request:Dpe,Response:Ipe,default:ZY,fetch:Ope},Symbol.toStringTag,{value:"Module"})),Rpe=Vse(fy);var tb={},RF;function QY(){if(RF)return tb;RF=1,Object.defineProperty(tb,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return tb.default=e,tb}var MF;function eK(){if(MF)return bv;MF=1;var e=bv&&bv.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(bv,"__esModule",{value:!0});const t=e(Rpe),r=e(QY());class n{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=Object.assign({},this.headers),this.headers[i]=o,this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const s=this.fetch;let l=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,f,h;let m=null,x=null,g=null,y=u.status,_=u.statusText;if(u.ok){if(this.method!=="HEAD"){const E=await u.text();E===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?x=E:x=JSON.parse(E))}const S=(d=this.headers.Prefer)===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),C=(f=u.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");S&&C&&C.length>1&&(g=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(m={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,g=null,y=406,_="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const S=await u.text();try{m=JSON.parse(S),Array.isArray(m)&&u.status===404&&(x=[],m=null,y=200,_="OK")}catch{u.status===404&&S===""?(y=204,_="No Content"):m={message:S}}if(m&&this.isMaybeSingle&&(!((h=m==null?void 0:m.details)===null||h===void 0)&&h.includes("0 rows"))&&(m=null,y=200,_="OK"),m&&this.shouldThrowOnError)throw new r.default(m)}return{error:m,data:x,count:g,status:y,statusText:_}});return this.shouldThrowOnError||(l=l.catch(u=>{var d,f,h;return{error:{message:`${(d=u==null?void 0:u.name)!==null&&d!==void 0?d:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(f=u==null?void 0:u.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(h=u==null?void 0:u.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,o)}returns(){return this}overrideTypes(){return this}}return bv.default=n,bv}var FF;function tK(){if(FF)return _v;FF=1;var e=_v&&_v.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(_v,"__esModule",{value:!0});const t=e(eK());class r extends t.default{select(a){let i=!1;const o=(a??"*").split("").map(s=>/\s/.test(s)&&!i?"":(s==='"'&&(i=!i),s)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(a,{ascending:i=!0,nullsFirst:o,foreignTable:s,referencedTable:l=s}={}){const u=l?`${l}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${a}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:o=i}={}){const s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(s,`${a}`),this}range(a,i,{foreignTable:o,referencedTable:s=o}={}){const l=typeof s>"u"?"offset":`${s}.offset`,u=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(l,`${a}`),this.url.searchParams.set(u,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:a=!1,verbose:i=!1,settings:o=!1,buffers:s=!1,wal:l=!1,format:u="text"}={}){var d;const f=[a?"analyze":null,i?"verbose":null,o?"settings":null,s?"buffers":null,l?"wal":null].filter(Boolean).join("|"),h=(d=this.headers.Accept)!==null&&d!==void 0?d:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${h}"; options=${f};`,u==="json"?this:this}rollback(){var a;return((a=this.headers.Prefer)!==null&&a!==void 0?a:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return _v.default=r,_v}var LF;function bD(){if(LF)return wv;LF=1;var e=wv&&wv.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(wv,"__esModule",{value:!0});const t=e(tK());class r extends t.default{eq(a,i){return this.url.searchParams.append(a,`eq.${i}`),this}neq(a,i){return this.url.searchParams.append(a,`neq.${i}`),this}gt(a,i){return this.url.searchParams.append(a,`gt.${i}`),this}gte(a,i){return this.url.searchParams.append(a,`gte.${i}`),this}lt(a,i){return this.url.searchParams.append(a,`lt.${i}`),this}lte(a,i){return this.url.searchParams.append(a,`lte.${i}`),this}like(a,i){return this.url.searchParams.append(a,`like.${i}`),this}likeAllOf(a,i){return this.url.searchParams.append(a,`like(all).{${i.join(",")}}`),this}likeAnyOf(a,i){return this.url.searchParams.append(a,`like(any).{${i.join(",")}}`),this}ilike(a,i){return this.url.searchParams.append(a,`ilike.${i}`),this}ilikeAllOf(a,i){return this.url.searchParams.append(a,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(a,i){return this.url.searchParams.append(a,`ilike(any).{${i.join(",")}}`),this}is(a,i){return this.url.searchParams.append(a,`is.${i}`),this}in(a,i){const o=Array.from(new Set(i)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(a,`in.(${o})`),this}contains(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cs.{${i.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(i)}`),this}containedBy(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cd.{${i.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(i)}`),this}rangeGt(a,i){return this.url.searchParams.append(a,`sr.${i}`),this}rangeGte(a,i){return this.url.searchParams.append(a,`nxl.${i}`),this}rangeLt(a,i){return this.url.searchParams.append(a,`sl.${i}`),this}rangeLte(a,i){return this.url.searchParams.append(a,`nxr.${i}`),this}rangeAdjacent(a,i){return this.url.searchParams.append(a,`adj.${i}`),this}overlaps(a,i){return typeof i=="string"?this.url.searchParams.append(a,`ov.${i}`):this.url.searchParams.append(a,`ov.{${i.join(",")}}`),this}textSearch(a,i,{config:o,type:s}={}){let l="";s==="plain"?l="pl":s==="phrase"?l="ph":s==="websearch"&&(l="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(a,`${l}fts${u}.${i}`),this}match(a){return Object.entries(a).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(a,i,o){return this.url.searchParams.append(a,`not.${i}.${o}`),this}or(a,{foreignTable:i,referencedTable:o=i}={}){const s=o?`${o}.or`:"or";return this.url.searchParams.append(s,`(${a})`),this}filter(a,i,o){return this.url.searchParams.append(a,`${i}.${o}`),this}}return wv.default=r,wv}var jF;function rK(){if(jF)return xv;jF=1;var e=xv&&xv.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(xv,"__esModule",{value:!0});const t=e(bD());class r{constructor(a,{headers:i={},schema:o,fetch:s}){this.url=a,this.headers=i,this.schema=o,this.fetch=s}select(a,{head:i=!1,count:o}={}){const s=i?"HEAD":"GET";let l=!1;const u=(a??"*").split("").map(d=>/\s/.test(d)&&!l?"":(d==='"'&&(l=!l),d)).join("");return this.url.searchParams.set("select",u),o&&(this.headers.Prefer=`count=${o}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(a,{count:i,defaultToNull:o=!0}={}){const s="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(a)){const u=a.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}upsert(a,{onConflict:i,ignoreDuplicates:o=!1,count:s,defaultToNull:l=!0}={}){const u="POST",d=[`resolution=${o?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&d.push(this.headers.Prefer),s&&d.push(`count=${s}`),l||d.push("missing=default"),this.headers.Prefer=d.join(","),Array.isArray(a)){const f=a.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(f.length>0){const h=[...new Set(f)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}update(a,{count:i}={}){const o="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),i&&s.push(`count=${i}`),this.headers.Prefer=s.join(","),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}delete({count:a}={}){const i="DELETE",o=[];return a&&o.push(`count=${a}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new t.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return xv.default=r,xv}var Zy={},Jy={},$F;function Mpe(){return $F||($F=1,Object.defineProperty(Jy,"__esModule",{value:!0}),Jy.version=void 0,Jy.version="0.0.0-automated"),Jy}var BF;function Fpe(){if(BF)return Zy;BF=1,Object.defineProperty(Zy,"__esModule",{value:!0}),Zy.DEFAULT_HEADERS=void 0;const e=Mpe();return Zy.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},Zy}var UF;function Lpe(){if(UF)return yv;UF=1;var e=yv&&yv.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(yv,"__esModule",{value:!0});const t=e(rK()),r=e(bD()),n=Fpe();class a{constructor(o,{headers:s={},schema:l,fetch:u}={}){this.url=o,this.headers=Object.assign(Object.assign({},n.DEFAULT_HEADERS),s),this.schemaName=l,this.fetch=u}from(o){const s=new URL(`${this.url}/${o}`);return new t.default(s,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new a(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,s={},{head:l=!1,get:u=!1,count:d}={}){let f;const h=new URL(`${this.url}/rpc/${o}`);let m;l||u?(f=l?"HEAD":"GET",Object.entries(s).filter(([g,y])=>y!==void 0).map(([g,y])=>[g,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([g,y])=>{h.searchParams.append(g,y)})):(f="POST",m=s);const x=Object.assign({},this.headers);return d&&(x.Prefer=`count=${d}`),new r.default({method:f,url:h,headers:x,schema:this.schemaName,body:m,fetch:this.fetch,allowEmpty:!1})}}return yv.default=a,yv}var qF;function jpe(){if(qF)return Po;qF=1;var e=Po&&Po.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Po,"__esModule",{value:!0}),Po.PostgrestError=Po.PostgrestBuilder=Po.PostgrestTransformBuilder=Po.PostgrestFilterBuilder=Po.PostgrestQueryBuilder=Po.PostgrestClient=void 0;const t=e(Lpe());Po.PostgrestClient=t.default;const r=e(rK());Po.PostgrestQueryBuilder=r.default;const n=e(bD());Po.PostgrestFilterBuilder=n.default;const a=e(tK());Po.PostgrestTransformBuilder=a.default;const i=e(eK());Po.PostgrestBuilder=i.default;const o=e(QY());return Po.PostgrestError=o.default,Po.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:i.default,PostgrestError:o.default},Po}var $pe=jpe();const Bpe=ia($pe),{PostgrestClient:Upe,PostgrestQueryBuilder:EJe,PostgrestFilterBuilder:CJe,PostgrestTransformBuilder:PJe,PostgrestBuilder:TJe,PostgrestError:OJe}=Bpe,qpe="2.11.2",zpe={"X-Client-Info":`realtime-js/${qpe}`},Wpe="1.0.0",nK=1e4,Vpe=1e3;var Qv;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Qv||(Qv={}));var Ql;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ql||(Ql={}));var Mu;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Mu||(Mu={}));var t6;(function(e){e.websocket="websocket"})(t6||(t6={}));var E0;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(E0||(E0={}));class Hpe{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const s=n.decode(t.slice(o,o+a));o=o+a;const l=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:s,event:l,payload:u}}}class aK{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ra;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ra||(Ra={}));const zF=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=Gpe(o,e,t,a),i),{})},Gpe=(e,t,r,n)=>{const a=t.find(s=>s.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!n.includes(i)?iK(i,o):r6(o)},iK=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Zpe(t,r)}switch(e){case Ra.bool:return Ype(t);case Ra.float4:case Ra.float8:case Ra.int2:case Ra.int4:case Ra.int8:case Ra.numeric:case Ra.oid:return Kpe(t);case Ra.json:case Ra.jsonb:return Xpe(t);case Ra.timestamp:return Jpe(t);case Ra.abstime:case Ra.date:case Ra.daterange:case Ra.int4range:case Ra.int8range:case Ra.money:case Ra.reltime:case Ra.text:case Ra.time:case Ra.timestamptz:case Ra.timetz:case Ra.tsrange:case Ra.tstzrange:return r6(t);default:return r6(t)}},r6=e=>e,Ype=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Kpe=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Xpe=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Zpe=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(s=>iK(t,s))}return e},Jpe=e=>typeof e=="string"?e.replace(" ","T"):e,oK=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class ck{constructor(t,r,n={},a=nK){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var WF;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(WF||(WF={}));class D2{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=D2.syncState(this.state,a,i,o),this.pendingDiffs.forEach(l=>{this.state=D2.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],s()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=D2.syncDiff(this.state,a,i,o),s())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),s={},l={};return this.map(i,(u,d)=>{o[u]||(l[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(y=>y.presence_ref),m=f.map(y=>y.presence_ref),x=d.filter(y=>m.indexOf(y.presence_ref)<0),g=f.filter(y=>h.indexOf(y.presence_ref)<0);x.length>0&&(s[u]=x),g.length>0&&(l[u]=g)}else s[u]=d}),this.syncDiff(i,{joins:s,leaves:l},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(s,l)=>{var u;const d=(u=t[s])!==null&&u!==void 0?u:[];if(t[s]=this.cloneDeep(l),d.length>0){const f=t[s].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[s].unshift(...h)}n(s,d,l)}),this.map(o,(s,l)=>{let u=t[s];if(!u)return;const d=l.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[s]=u,a(s,u,l),u.length===0&&delete t[s]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var VF;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(VF||(VF={}));var HF;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(HF||(HF={}));var rc;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(rc||(rc={}));class SD{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Ql.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new ck(this,Mu.join,this.params,this.timeout),this.rejoinTimer=new aK(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ql.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ql.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Ql.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ql.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Mu.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new D2(this),this.broadcastEndpointURL=oK(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:s}}=this.params;this._onError(d=>t==null?void 0:t(rc.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(rc.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&a!==void 0?a:[],private:s};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(rc.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,m=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,x=[];for(let g=0;g<m;g++){const y=h[g],{filter:{event:_,schema:b,table:S,filter:C}}=y,E=d&&d[g];if(E&&E.event===_&&E.schema===b&&E.table===S&&E.filter===C)x.push(Object.assign(Object.assign({},y),{id:E.id}));else{this.unsubscribe(),t==null||t(rc.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(rc.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(rc.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(rc.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,s,l;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(s=(o=this.params)===null||o===void 0?void 0:o.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ql.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Mu.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const a=new ck(this,Mu.leave,{},t);a.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new ck(this,t,r,n);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:s,error:l,leave:u,join:d}=Mu;if(n&&[s,l,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var x,g,y;return((x=m.filter)===null||x===void 0?void 0:x.event)==="*"||((y=(g=m.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(m=>m.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var x,g,y,_,b,S;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const C=m.id,E=(x=m.filter)===null||x===void 0?void 0:x.event;return C&&((g=r.ids)===null||g===void 0?void 0:g.includes(C))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const C=(b=(_=m==null?void 0:m.filter)===null||_===void 0?void 0:_.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return C==="*"||C===((S=r==null?void 0:r.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const x=h.data,{schema:g,table:y,commit_timestamp:_,type:b,errors:S}=x;h=Object.assign(Object.assign({},{schema:g,table:y,commit_timestamp:_,eventType:b,new:{},old:{},errors:S}),this._getPayloadRecords(x))}m.callback(h,n)})}_isClosed(){return this.state===Ql.closed}_isJoined(){return this.state===Ql.joined}_isJoining(){return this.state===Ql.joining}_isLeaving(){return this.state===Ql.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&SD.isEqual(a.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Mu.close,{},t)}_onError(t){this._on(Mu.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ql.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=zF(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=zF(t.columns,t.old_record)),r}}const Qpe=()=>{},eme=typeof WebSocket<"u",tme=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class rme{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=zpe,this.params={},this.timeout=nK,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Qpe,this.conn=null,this.sendBuffer=[],this.serializer=new Hpe,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...s)=>xh(async()=>{const{default:l}=await Promise.resolve().then(()=>fy);return{default:l}},void 0).then(({default:l})=>l(...s)):o=fetch,(...s)=>o(...s)},this.endPoint=`${t}/${t6.websocket}`,this.httpEndpoint=oK(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const a=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new aK(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(eme){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new nme(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),xh(async()=>{const{default:t}=await import("./browser-Bd3QhRXG.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Wpe}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Qv.connecting:return E0.Connecting;case Qv.open:return E0.Open;case Qv.closing:return E0.Closing;default:return E0.Closed}}isConnected(){return this.connectionState()===E0.Open}channel(t,r={config:{}}){const n=new SD(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(a=>{r&&a.updateJoinPayload({access_token:r}),a.joinedOnce&&a._isJoined()&&a._push(Mu.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Vpe,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:a,payload:i,ref:o}=r;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${a} ${o&&"("+o+")"||""}`,i),this.channels.filter(s=>s._isMember(n)).forEach(s=>s._trigger(a,i,o)),this.stateChangeCallbacks.message.forEach(s=>s(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Mu.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([tme],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class nme{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Qv.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class AD extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function To(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class ame extends AD{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class n6 extends AD{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var ime=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(s,l)}u((n=n.apply(e,t||[])).next())})};const sK=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>xh(async()=>{const{default:n}=await Promise.resolve().then(()=>fy);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},ome=()=>ime(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield xh(()=>Promise.resolve().then(()=>fy),void 0)).Response:Response}),a6=e=>{if(Array.isArray(e))return e.map(r=>a6(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=a6(n)}),t};var Ng=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(s,l)}u((n=n.apply(e,t||[])).next())})};const uk=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),sme=(e,t,r)=>Ng(void 0,void 0,void 0,function*(){const n=yield ome();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{t(new ame(uk(a),e.status||500))}).catch(a=>{t(new n6(uk(a),a))}):t(new n6(uk(e),e))}),lme=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(a.body=JSON.stringify(n)),Object.assign(Object.assign({},a),r))};function Lw(e,t,r,n,a,i){return Ng(this,void 0,void 0,function*(){return new Promise((o,s)=>{e(r,lme(t,n,a,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>sme(l,s,n))})})}function x5(e,t,r,n){return Ng(this,void 0,void 0,function*(){return Lw(e,"GET",t,r,n)})}function Up(e,t,r,n,a){return Ng(this,void 0,void 0,function*(){return Lw(e,"POST",t,n,a,r)})}function cme(e,t,r,n,a){return Ng(this,void 0,void 0,function*(){return Lw(e,"PUT",t,n,a,r)})}function ume(e,t,r,n){return Ng(this,void 0,void 0,function*(){return Lw(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function lK(e,t,r,n,a){return Ng(this,void 0,void 0,function*(){return Lw(e,"DELETE",t,n,a,r)})}var El=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(s,l)}u((n=n.apply(e,t||[])).next())})};const dme={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},GF={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class fme{constructor(t,r={},n,a){this.url=t,this.headers=r,this.bucketId=n,this.fetch=sK(a)}uploadOrUpdate(t,r,n,a){return El(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},GF),a);let s=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,s["cache-control"]=`max-age=${o.cacheControl}`,s["content-type"]=o.contentType,l&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),a!=null&&a.headers&&(s=Object.assign(Object.assign({},s),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:s},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(To(i))return{data:null,error:i};throw i}})}upload(t,r,n){return El(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return El(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),s=new URL(this.url+`/object/upload/sign/${o}`);s.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:GF.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(s.toString(),{method:"PUT",body:l,headers:d}),h=yield f.json();return f.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(To(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return El(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield Up(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),s=o.searchParams.get("token");if(!s)throw new AD("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:s},error:null}}catch(n){if(To(n))return{data:null,error:n};throw n}})}update(t,r,n){return El(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return El(this,void 0,void 0,function*(){try{return{data:yield Up(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(To(a))return{data:null,error:a};throw a}})}copy(t,r,n){return El(this,void 0,void 0,function*(){try{return{data:{path:(yield Up(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(To(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return El(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield Up(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(To(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return El(this,void 0,void 0,function*(){try{const a=yield Up(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(To(a))return{data:null,error:a};throw a}})}download(t,r){return El(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const s=this._getFinalPath(t);return{data:yield(yield x5(this.fetch,`${this.url}/${a}/${s}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(s){if(To(s))return{data:null,error:s};throw s}})}info(t){return El(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield x5(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:a6(n),error:null}}catch(n){if(To(n))return{data:null,error:n};throw n}})}exists(t){return El(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield ume(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(To(n)&&n instanceof n6){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const s=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&a.push(l);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${n}${u}`)}}}remove(t){return El(this,void 0,void 0,function*(){try{return{data:yield lK(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(To(r))return{data:null,error:r};throw r}})}list(t,r,n){return El(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},dme),r),{prefix:t||""});return{data:yield Up(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(To(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const hme="2.7.1",pme={"X-Client-Info":`storage-js/${hme}`};var Sv=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(s,l)}u((n=n.apply(e,t||[])).next())})};class mme{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},pme),r),this.fetch=sK(n)}listBuckets(){return Sv(this,void 0,void 0,function*(){try{return{data:yield x5(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(To(t))return{data:null,error:t};throw t}})}getBucket(t){return Sv(this,void 0,void 0,function*(){try{return{data:yield x5(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(To(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Sv(this,void 0,void 0,function*(){try{return{data:yield Up(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(To(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Sv(this,void 0,void 0,function*(){try{return{data:yield cme(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(To(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Sv(this,void 0,void 0,function*(){try{return{data:yield Up(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(To(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Sv(this,void 0,void 0,function*(){try{return{data:yield lK(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(To(r))return{data:null,error:r};throw r}})}}class gme extends mme{constructor(t,r={},n){super(t,r,n)}from(t){return new fme(this.url,this.headers,t,this.fetch)}}const vme="2.49.4";let _2="";typeof Deno<"u"?_2="deno":typeof document<"u"?_2="web":typeof navigator<"u"&&navigator.product==="ReactNative"?_2="react-native":_2="node";const yme={"X-Client-Info":`supabase-js-${_2}/${vme}`},xme={headers:yme},wme={schema:"public"},_me={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},bme={};var Sme=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(s,l)}u((n=n.apply(e,t||[])).next())})};const Ame=e=>{let t;return e?t=e:typeof fetch>"u"?t=ZY:t=fetch,(...r)=>t(...r)},kme=()=>typeof Headers>"u"?JY:Headers,Nme=(e,t,r)=>{const n=Ame(r),a=kme();return(i,o)=>Sme(void 0,void 0,void 0,function*(){var s;const l=(s=yield t())!==null&&s!==void 0?s:e;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var Eme=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(s,l)}u((n=n.apply(e,t||[])).next())})};function Cme(e){return e.replace(/\/$/,"")}function Pme(e,t){const{db:r,auth:n,realtime:a,global:i}=e,{db:o,auth:s,realtime:l,global:u}=t,d={db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},s),n),realtime:Object.assign(Object.assign({},l),a),global:Object.assign(Object.assign({},u),i),accessToken:()=>Eme(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const cK="2.69.1",jv=30*1e3,i6=3,dk=i6*jv,Tme="http://localhost:9999",Ome="supabase.auth.token",Dme={"X-Client-Info":`gotrue-js/${cK}`},o6="X-Supabase-Api-Version",uK={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Ime=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Rme=6e5;class kD extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function wn(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Mme extends kD{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Fme(e){return wn(e)&&e.name==="AuthApiError"}class dK extends kD{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Cm extends kD{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class Lp extends Cm{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Lme(e){return wn(e)&&e.name==="AuthSessionMissingError"}class fk extends Cm{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class rb extends Cm{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class nb extends Cm{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function jme(e){return wn(e)&&e.name==="AuthImplicitGrantRedirectError"}class YF extends Cm{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class s6 extends Cm{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function hk(e){return wn(e)&&e.name==="AuthRetryableFetchError"}class KF extends Cm{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class I2 extends Cm{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const XF="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ZF=` 	
\r=`.split(""),$me=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<ZF.length;t+=1)e[ZF[t].charCodeAt(0)]=-2;for(let t=0;t<XF.length;t+=1)e[XF[t].charCodeAt(0)]=t;return e})();function fK(e,t,r){const n=$me[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function JF(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{qme(o,n,r)};for(let o=0;o<e.length;o+=1)fK(e.charCodeAt(o),a,i);return t.join("")}function Bme(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Ume(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}Bme(n,t)}}function qme(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function zme(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)fK(e.charCodeAt(a),r,n);return new Uint8Array(t)}function Wme(e){const t=[];return Ume(e,r=>t.push(r)),new Uint8Array(t)}function Vme(e){return Math.round(Date.now()/1e3)+e}function Hme(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Rd=()=>typeof window<"u"&&typeof document<"u",g0={tested:!1,writable:!1},R2=()=>{if(!Rd())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(g0.tested)return g0.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),g0.tested=!0,g0.writable=!0}catch{g0.tested=!0,g0.writable=!1}return g0.writable};function Gme(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const hK=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>xh(async()=>{const{default:n}=await Promise.resolve().then(()=>fy);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Yme=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",pK=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ab=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ib=async(e,t)=>{await e.removeItem(t)};class A4{constructor(){this.promise=new A4.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}A4.promiseConstructor=Promise;function pk(e){const t=e.split(".");if(t.length!==3)throw new I2("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Ime.test(t[n]))throw new I2("JWT not in base64url format");return{header:JSON.parse(JF(t[0])),payload:JSON.parse(JF(t[1])),signature:zme(t[2]),raw:{header:t[0],payload:t[1]}}}async function Kme(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Xme(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function Zme(e){return("0"+e.toString(16)).substr(-2)}function Jme(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,Zme).join("")}async function Qme(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function e0e(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Qme(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Av(e,t,r=!1){const n=Jme();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await pK(e,`${t}-code-verifier`,a);const i=await e0e(n);return[i,n===i?"plain":"s256"]}const t0e=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function r0e(e){const t=e.headers.get(o6);if(!t||!t.match(t0e))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function n0e(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function a0e(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var i0e=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const b0=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),o0e=[502,503,504];async function QF(e){var t;if(!Yme(e))throw new s6(b0(e),0);if(o0e.includes(e.status))throw new s6(b0(e),e.status);let r;try{r=await e.json()}catch(i){throw new dK(b0(i),i)}let n;const a=r0e(e);if(a&&a.getTime()>=uK["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new KF(b0(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Lp}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new KF(b0(r),e.status,r.weak_password.reasons);throw new Mme(b0(r),e.status||500,n)}const s0e=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Mn(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[o6]||(i[o6]=uK["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await l0e(e,t,r+s,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function l0e(e,t,r,n,a,i){const o=s0e(t,n,a,i);let s;try{s=await e(r,Object.assign({},o))}catch(l){throw console.error(l),new s6(b0(l),0)}if(s.ok||await QF(s),n!=null&&n.noResolveJson)return s;try{return await s.json()}catch(l){await QF(l)}}function jp(e){var t;let r=null;f0e(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Vme(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function eL(e){const t=jp(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Vp(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function c0e(e){return{data:e,error:null}}function u0e(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=i0e(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},l=Object.assign({},o);return{data:{properties:s,user:l},error:null}}function d0e(e){return e}function f0e(e){return e.access_token&&e.refresh_token&&e.expires_in}var h0e=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class p0e{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=hK(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await Mn(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(wn(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Mn(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Vp})}catch(n){if(wn(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=h0e(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await Mn(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:u0e,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(wn(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Mn(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Vp})}catch(r){if(wn(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,s,l;try{const u={nextPage:null,lastPage:0,total:0},d=await Mn(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:d0e});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(x=>{const g=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(x.split(";")[1].split("=")[1]);u[`${y}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(wn(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await Mn(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Vp})}catch(r){if(wn(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await Mn(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Vp})}catch(n){if(wn(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await Mn(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Vp})}catch(n){if(wn(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await Mn(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(wn(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await Mn(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(wn(r))return{data:null,error:r};throw r}}}const m0e={getItem:e=>R2()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{R2()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{R2()&&globalThis.localStorage.removeItem(e)}};function tL(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function g0e(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const kv={debug:!!(globalThis&&R2()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class mK extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class v0e extends mK{}async function y0e(e,t,r){kv.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),kv.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){kv.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{kv.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw kv.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new v0e(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(kv.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}g0e();const x0e={url:Tme,storageKey:Ome,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Dme,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function rL(e,t,r){return await r()}class ux{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ux.nextInstanceID,ux.nextInstanceID+=1,this.instanceID>0&&Rd()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},x0e),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new p0e({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=hK(a.fetch),this.lock=a.lock||rL,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Rd()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=y0e:this.lock=rL,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:R2()?this.storage=m0e:(this.memoryStorage={},this.storage=tL(this.memoryStorage)):(this.memoryStorage={},this.storage=tL(this.memoryStorage)),Rd()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${cK}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=Gme(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Rd()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),jme(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:s}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return wn(r)?{error:r}:{error:new dK("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await Mn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:jp}),{data:o,error:s}=i;if(s||!o)return{data:{user:null,session:null},error:s};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(wn(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,x=null;this.flowType==="pkce"&&([m,x]=await Av(this.storage,this.storageKey)),i=await Mn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:x},xform:jp})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await Mn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:jp})}else throw new rb("You must provide either an email or phone number and a password");const{data:o,error:s}=i;if(s||!o)return{data:{user:null,session:null},error:s};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(wn(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:s}=t;r=await Mn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:eL})}else if("phone"in t){const{phone:i,password:o,options:s}=t;r=await Mn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:eL})}else throw new rb("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new fk}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(wn(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await ab(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await Mn(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:jp});if(await ib(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new fk}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(wn(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,s=await Mn(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:jp}),{data:l,error:u}=s;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new fk}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(wn(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:s,options:l}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Av(this.storage,this.storageKey));const{error:f}=await Mn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:s,options:l}=t,{data:u,error:d}=await Mn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(a=l==null?void 0:l.data)!==null&&a!==void 0?a:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new rb("You must provide either an email or phone number.")}catch(s){if(wn(s))return{data:{user:null,session:null},error:s};throw s}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:s}=await Mn(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:jp});if(s)throw s;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(a){if(wn(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Av(this.storage,this.storageKey)),await Mn(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:c0e})}catch(i){if(wn(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Lp;const{error:a}=await Mn(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(wn(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await Mn(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:s}=await Mn(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:s}}throw new rb("You must provide either an email or phone number and a type")}catch(r){if(wn(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ab(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<dk:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:t},error:null}}const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Mn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Vp}):await this._useSession(async r=>{var n,a,i;const{data:o,error:s}=r;if(s)throw s;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Lp}:await Mn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Vp})})}catch(r){if(wn(r))return Lme(r)&&(await this._removeSession(),await ib(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new Lp;const o=a.session;let s=null,l=null;this.flowType==="pkce"&&t.email!=null&&([s,l]=await Av(this.storage,this.storageKey));const{data:u,error:d}=await Mn(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:s,code_challenge_method:l}),jwt:o.access_token,xform:Vp});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(wn(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Lp;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=pk(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{session:s,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!s)return{data:{user:null,session:null},error:null};i=s}else{const{data:s,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:s.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(wn(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:s}=r;if(s)throw s;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Lp;const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(wn(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Rd())throw new nb("No browser detected.");if(t.error||t.error_description||t.error_code)throw new nb(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new YF("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new nb("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new YF("No code detected.");const{data:b,error:S}=await this._exchangeCodeForSession(t.code);if(S)throw S;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:s,expires_at:l,token_type:u}=t;if(!i||!s||!o||!u)throw new nb("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(s);let h=d+f;l&&(h=parseInt(l));const m=h-d;m*1e3<=jv&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const x=h-f;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,h,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,h,d);const{data:g,error:y}=await this._getUser(i);if(y)throw y;const _={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:_,redirectType:t.type},error:null}}catch(n){if(wn(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ab(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:s}=await this.admin.signOut(o,t);if(s&&!(Fme(s)&&(s.status===404||s.status===401||s.status===403)))return{error:s}}return t!=="others"&&(await this._removeSession(),await ib(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Hme(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Av(this.storage,this.storageKey,!0));try{return await Mn(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(wn(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(wn(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,s,l,u,d;const{data:f,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Mn(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return Rd()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(wn(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await Mn(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(wn(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Xme(async a=>(a>0&&await Kme(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Mn(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:jp})),(a,i)=>{const o=200*Math.pow(2,a);return i&&hk(i)&&Date.now()+o-n<jv})}catch(n){if(this._debug(r,"error",n),wn(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Rd()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await ab(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const a=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<dk;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${dk}s`),a){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),hk(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Lp;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new A4;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Lp;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const s={session:i.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(i){if(this._debug(a,"error",i),wn(i)){const o={session:null,error:i};return hk(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let s=0;s<i.length;s+=1)console.error(i[s]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await pK(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await ib(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Rd()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),jv);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/jv);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${jv}ms, refresh threshold is ${i6} ticks`),a<=i6&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof mK)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Rd()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Av(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(s.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Mn(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(wn(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const s=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await Mn(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((a=l==null?void 0:l.totp)===null||a===void 0)&&a.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(wn(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:s}=await Mn(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return s?{data:null,error:s}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:s})})}catch(r){if(wn(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Mn(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(wn(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],a=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=pk(a.access_token);let s=null;o.aal&&(s=o.aal);let l=s;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:s,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n||(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+Rme>Date.now()))return n;const{data:a,error:i}=await Mn(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!a.keys||a.keys.length===0)throw new I2("JWKS is empty");if(this.jwks=a,this.jwks_cached_at=Date.now(),n=a.keys.find(o=>o.kid===t),!n)throw new I2("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:m,error:x}=await this.getSession();if(x||!m.session)return{data:null,error:x};n=m.session.access_token}const{header:a,payload:i,signature:o,raw:{header:s,payload:l}}=pk(n);if(n0e(i.exp),!a.kid||a.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:a,signature:o},error:null}}const u=a0e(a.alg),d=await this.fetchJwk(a.kid,r),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,o,Wme(`${s}.${l}`)))throw new I2("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(wn(n))return{data:null,error:n};throw n}}}ux.nextInstanceID=0;const w0e=ux;class _0e extends w0e{constructor(t){super(t)}}var b0e=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(s,l)}u((n=n.apply(e,t||[])).next())})};class S0e{constructor(t,r,n){var a,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const s=Cme(t);this.realtimeUrl=`${s}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${s}/auth/v1`,this.storageUrl=`${s}/storage/v1`,this.functionsUrl=`${s}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:wme,realtime:bme,auth:Object.assign(Object.assign({},_me),{storageKey:l}),global:xme},d=Pme(n??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=Nme(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Upe(`${s}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new Ppe(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new gme(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return b0e(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,storageKey:i,flowType:o,lock:s,debug:l},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new _0e({url:this.authUrl,headers:Object.assign(Object.assign({},f),u),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,flowType:o,lock:s,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new rme(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const A0e=(e,t,r)=>new S0e(e,t,r),k0e="https://syevxwuraxjpvkcclmjj.supabase.co",N0e="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InN5ZXZ4d3VyYXhqcHZrY2NsbWpqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDMwOTM0MjksImV4cCI6MjA1ODY2OTQyOX0.Uog7kEtPXYQJDZ3TqKanmteMRK0c_qEIBnmCxFgQTv0",Le=A0e(k0e,N0e,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),gK=A.createContext(void 0);function E0e({children:e}){const[t,r]=A.useState(null),[n,a]=A.useState(!0),i=A.useCallback(async(l,u)=>{let d=null,f=null;try{const h=await Le.from("profiles").select("*").eq("id",l).single();if(d=h.data,f=h.error,f)console.error("[fetchUserProfile] Error during profile fetch:",f.message),r(null);else if(d){const m=d,x=m.role??"doctor",g={...m,role:x,email:u};r(g)}else console.warn(`[fetchUserProfile] Profile query succeeded but returned no data for user: ${l}`),r(null)}catch(h){console.error("[fetchUserProfile] UNEXPECTED EXCEPTION caught:",h.message),r(null)}},[]),o=A.useRef(!1);A.useEffect(()=>{o.current=!1;let l=!0;const u=async(f,h)=>{l&&(f==="TOKEN_REFRESHED"?console.log("[AuthContext] Token refreshed successfully."):f==="SIGNED_OUT"?(console.log("[AuthContext] SIGNED_OUT event received. Setting user to null."),r(null)):h!=null&&h.user?(!t||t.id!==h.user.id)&&await i(h.user.id,h.user.email):f==="INITIAL_SESSION"&&!o.current&&r(null),o.current||(a(!1),o.current=!0))},{data:{subscription:d}}=Le.auth.onAuthStateChange((f,h)=>{u(f,h).catch(m=>{console.error(`[AuthContext] Error in handleAuthStateChange for Event: ${f}`,m),l&&(r(null),o.current||(a(!1),o.current=!0))})});return()=>{l=!1,d.unsubscribe()}},[i]);const s={user:t,loading:n,signIn:async(l,u)=>{const{error:d}=await Le.auth.signInWithPassword({email:l,password:u});if(d)throw d},signOut:async()=>{const{error:l}=await Le.auth.signOut();if(r(null),l)throw console.error("Error signing out:",l),l}};return c(gK.Provider,{value:s,children:e})}function si(){const e=A.useContext(gK);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const C0e=1,P0e=1e6;let mk=0;function T0e(){return mk=(mk+1)%Number.MAX_VALUE,mk.toString()}const gk=new Map,nL=e=>{if(gk.has(e))return;const t=setTimeout(()=>{gk.delete(e),M2({type:"REMOVE_TOAST",toastId:e})},P0e);gk.set(e,t)},O0e=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,C0e)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?nL(r):e.toasts.forEach(n=>{nL(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Hb=[];let Gb={toasts:[]};function M2(e){Gb=O0e(Gb,e),Hb.forEach(t=>{t(Gb)})}function Bi({...e}){const t=T0e(),r=a=>M2({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>M2({type:"DISMISS_TOAST",toastId:t});return M2({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function yn(){const[e,t]=A.useState(Gb);return A.useEffect(()=>(Hb.push(t),()=>{const r=Hb.indexOf(t);r>-1&&Hb.splice(r,1)}),[e]),{...e,toast:Bi,dismiss:r=>M2({type:"DISMISS_TOAST",toastId:r})}}const D0e=()=>{const{user:e}=si(),[t,r]=A.useState([]),n=A.useRef(null);return A.useEffect(()=>{if(!e){r([]);return}if((async()=>{const{data:l,error:u}=await Le.from("notifications").select("*").eq("user_id",e.id).eq("is_read",!1).order("created_at",{ascending:!1});u?(console.error("Error fetching notifications from `notifications` table:",u),Bi({title:"Error",description:"Could not fetch notifications.",variant:"destructive"})):(console.log("Fetched notifications:",l),r(l||[]))})(),!n.current&&e){const l=`notifications-channel-${e.id}`;console.log(`Attempting to subscribe to channel: ${l}`),n.current=Le.channel(l),n.current.on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${e.id}`},u=>{if(console.log("[useNotifications] Realtime event received:",u),u.eventType==="INSERT"&&u.new){const d=u.new;console.log("[useNotifications] Realtime INSERT detected:",d),r(f=>{if(console.log("[useNotifications] Attempting state update via realtime. Prev length:",f.length),f.some(m=>m.id===d.id))return console.log(`[useNotifications] Duplicate notification ID ${d.id} detected in realtime update, skipping state update.`),f;const h=[d,...f];return console.log("[useNotifications] State update successful via realtime. New length:",h.length),h})}else console.log("[useNotifications] Received non-insert or unexpected payload via realtime:",u)}).subscribe((u,d)=>{console.log(`Channel ${l} subscription status: ${u}`),u===rc.SUBSCRIBED?console.log(`Successfully subscribed to notifications channel: ${l}`):u===rc.CHANNEL_ERROR?(console.error(`Notifications subscription error on channel ${l}:`,d),Bi({title:"Realtime Error",description:`Connection error for notifications: ${(d==null?void 0:d.message)||"Unknown error"}`,variant:"destructive"})):u===rc.TIMED_OUT?(console.warn(`Notifications subscription timed out on channel ${l}.`),Bi({title:"Realtime Warning",description:"Notification connection timed out.",variant:"default"})):u===rc.CLOSED&&console.log(`Notifications channel closed: ${l}.`)})}return()=>{if(n.current){const l=n.current,u=l.topic;console.log(`Attempting to unsubscribe from channel: ${u}`),Le.removeChannel(l).then(d=>{console.log(`Unsubscribed from notifications channel ${u}:`,d)}).catch(d=>{console.error(`Error removing notifications channel ${u}:`,d)}).finally(()=>{n.current===l&&(n.current=null)})}}},[e]),{notifications:t,markAsRead:async s=>{const{error:l}=await Le.from("notifications").update({is_read:!0}).eq("id",s);l?console.error("Error marking notification as read:",l):r(u=>u.map(d=>d.id===s?{...d,is_read:!0}:d))},createNotification:async(s,l,u)=>{try{const d=new Date;d.setHours(d.getHours()-2);const f=d.toISOString(),{count:h,error:m}=await Le.from("notifications").select("*",{count:"exact",head:!0}).eq("user_id",s).eq("message",l).gte("created_at",f);if(m&&console.error("Error checking for existing notifications:",m),h&&h>0){console.log(`Skipping notification creation: Identical notification found within the last 2 hours for message: "${l}"`);return}const x={user_id:s,message:l,link_url:u,is_read:!1},{data:g,error:y}=await Le.from("notifications").insert([x]).select();y?(console.error("Error creating notification:",y),Bi({title:"Error",description:`Could not create notification: ${y.message}`,variant:"destructive"})):(console.log("Notification created:",g),"Notification"in window&&Notification.permission==="granted"?new Notification("New Notification",{body:l,icon:"/dentalcarelogo.png"}):"Notification"in window&&Notification.permission!=="denied"&&Notification.requestPermission().then(_=>{_==="granted"&&new Notification("New Notification",{body:l,icon:"/dentalcarelogo.png"})}))}catch(d){console.error("Error creating notification:",d)}},clearNotification:async s=>{r(u=>u.map(d=>d.id===s?{...d,is_read:!0}:d).filter(d=>!(d.id===s&&d.is_read)));const{error:l}=await Le.from("notifications").update({is_read:!0}).eq("id",s).eq("user_id",e==null?void 0:e.id);l?(console.error("Error marking notification as read (clearing):",l),Bi({title:"Error",description:"Could not clear notification. It may reappear.",variant:"destructive"})):r(u=>u.filter(d=>d.id!==s))}}},lr=A.forwardRef(({className:e,...t},r)=>c("div",{ref:r,className:Rt("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));lr.displayName="Card";const xr=A.forwardRef(({className:e,...t},r)=>c("div",{ref:r,className:Rt("flex flex-col space-y-1.5 p-6",e),...t}));xr.displayName="CardHeader";const wr=A.forwardRef(({className:e,...t},r)=>c("h3",{ref:r,className:Rt("text-2xl font-semibold leading-none tracking-tight",e),...t}));wr.displayName="CardTitle";const yc=A.forwardRef(({className:e,...t},r)=>c("p",{ref:r,className:Rt("text-sm text-muted-foreground",e),...t}));yc.displayName="CardDescription";const mr=A.forwardRef(({className:e,...t},r)=>c("div",{ref:r,className:Rt("p-6 pt-0",e),...t}));mr.displayName="CardContent";const Q0=A.forwardRef(({className:e,...t},r)=>c("div",{ref:r,className:Rt("flex items-center p-6 pt-0",e),...t}));Q0.displayName="CardFooter";function dr(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function fa(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function La(e,t){const r=dr(e);return isNaN(t)?fa(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function dl(e,t){const r=dr(e);if(isNaN(t))return fa(e,NaN);if(!t)return r;const n=r.getDate(),a=fa(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const i=a.getDate();return n>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}function I0e(e,t){const{years:r=0,months:n=0,weeks:a=0,days:i=0,hours:o=0,minutes:s=0,seconds:l=0}=t,u=dr(e),d=n||r?dl(u,n+r*12):u,f=i||a?La(d,i+a*7):d,h=s+o*60,x=(l+h*60)*1e3;return fa(e,f.getTime()+x)}function R0e(e,t){const r=+dr(e);return fa(e,r+t)}const ND=6048e5,M0e=864e5,dx=6e4,k4=36e5,F0e=1e3,aL=525600,zv=43200,w5=1440;function vK(e,t){return R0e(e,t*k4)}let L0e={};function Ph(){return L0e}function ns(e,t){var s,l,u,d;const r=Ph(),n=(t==null?void 0:t.weekStartsOn)??((l=(s=t==null?void 0:t.locale)==null?void 0:s.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=dr(e),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function wh(e){return ns(e,{weekStartsOn:1})}function yK(e){const t=dr(e),r=t.getFullYear(),n=fa(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=wh(n),i=fa(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=wh(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function Pl(e){const t=dr(e);return t.setHours(0,0,0,0),t}function cf(e){const t=dr(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Uu(e,t){const r=Pl(e),n=Pl(t),a=+r-cf(r),i=+n-cf(n);return Math.round((a-i)/M0e)}function j0e(e){const t=yK(e),r=fa(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),wh(r)}function w1(e,t){const r=t*7;return La(e,r)}function $0e(e,t){return dl(e,t*12)}function B0e(e){let t;return e.forEach(function(r){const n=dr(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function U0e(e){let t;return e.forEach(r=>{const n=dr(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function F2(e,t){const r=dr(e),n=dr(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function xK(e){return fa(e,Date.now())}function nl(e,t){const r=Pl(e),n=Pl(t);return+r==+n}function ED(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function $p(e){if(!ED(e)&&typeof e!="number")return!1;const t=dr(e);return!isNaN(Number(t))}function _1(e,t){const r=dr(e),n=dr(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function q0e(e,t,r){const n=ns(e,r),a=ns(t,r),i=+n-cf(n),o=+a-cf(a);return Math.round((i-o)/ND)}function z0e(e,t){const r=dr(e),n=dr(t),a=iL(r,n),i=Math.abs(Uu(r,n));r.setDate(r.getDate()-a*i);const o=+(iL(r,n)===-a),s=a*(i-o);return s===0?0:s}function iL(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function wK(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function Yb(e,t){return+dr(e)-+dr(t)}function e1(e){const t=dr(e);return t.setHours(23,59,59,999),t}function dm(e){const t=dr(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function W0e(e){const t=dr(e);return+e1(t)==+dm(t)}function V0e(e,t){const r=dr(e),n=dr(t),a=F2(r,n),i=Math.abs(_1(r,n));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);let s=F2(r,n)===-a;W0e(dr(e))&&i===1&&F2(e,n)===1&&(s=!1),o=a*(i-Number(s))}return o===0?0:o}function _K(e,t,r){const n=Yb(e,t)/1e3;return wK(r==null?void 0:r.roundingMethod)(n)}function L2(e,t){const r=dr(e.start),n=dr(e.end);let a=+r>+n;const i=a?+r:+n,o=a?n:r;o.setHours(0,0,0,0);let s=1;const l=[];for(;+o<=i;)l.push(dr(o)),o.setDate(o.getDate()+s),o.setHours(0,0,0,0);return a?l.reverse():l}function H0e(e,t){const r=dr(e.start),n=dr(e.end);let a=+r>+n;const i=a?+r:+n;let o=a?n:r;o.setMinutes(0,0,0);let s=1;const l=[];for(;+o<=i;)l.push(dr(o)),o=vK(o,s);return a?l.reverse():l}function $o(e){const t=dr(e);return t.setDate(1),t.setHours(0,0,0,0),t}function bK(e){const t=dr(e),r=fa(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function D0(e,t){var s,l,u,d;const r=Ph(),n=(t==null?void 0:t.weekStartsOn)??((l=(s=t==null?void 0:t.locale)==null?void 0:s.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=dr(e),i=a.getDay(),o=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function SK(e){return D0(e,{weekStartsOn:1})}const G0e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Y0e=(e,t,r)=>{let n;const a=G0e[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function vk(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const K0e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},X0e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Z0e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},J0e={date:vk({formats:K0e,defaultWidth:"full"}),time:vk({formats:X0e,defaultWidth:"full"}),dateTime:vk({formats:Z0e,defaultWidth:"full"})},Q0e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ege=(e,t,r,n)=>Q0e[e];function Qy(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,s=r!=null&&r.width?String(r.width):o;a=e.formattingValues[s]||e.formattingValues[o]}else{const o=e.defaultWidth,s=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[s]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const tge={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},rge={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},nge={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},age={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ige={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},oge={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},sge=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},lge={ordinalNumber:sge,era:Qy({values:tge,defaultWidth:"wide"}),quarter:Qy({values:rge,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Qy({values:nge,defaultWidth:"wide"}),day:Qy({values:age,defaultWidth:"wide"}),dayPeriod:Qy({values:ige,defaultWidth:"wide",formattingValues:oge,defaultFormattingWidth:"wide"})};function e2(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],s=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(s)?uge(s,f=>f.test(o)):cge(s,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(l):l,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function cge(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function uge(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function dge(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const s=t.slice(a.length);return{value:o,rest:s}}}const fge=/^(\d+)(th|st|nd|rd)?/i,hge=/\d+/i,pge={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},mge={any:[/^b/i,/^(a|c)/i]},gge={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},vge={any:[/1/i,/2/i,/3/i,/4/i]},yge={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},xge={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},wge={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},_ge={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},bge={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Sge={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Age={ordinalNumber:dge({matchPattern:fge,parsePattern:hge,valueCallback:e=>parseInt(e,10)}),era:e2({matchPatterns:pge,defaultMatchWidth:"wide",parsePatterns:mge,defaultParseWidth:"any"}),quarter:e2({matchPatterns:gge,defaultMatchWidth:"wide",parsePatterns:vge,defaultParseWidth:"any",valueCallback:e=>e+1}),month:e2({matchPatterns:yge,defaultMatchWidth:"wide",parsePatterns:xge,defaultParseWidth:"any"}),day:e2({matchPatterns:wge,defaultMatchWidth:"wide",parsePatterns:_ge,defaultParseWidth:"any"}),dayPeriod:e2({matchPatterns:bge,defaultMatchWidth:"any",parsePatterns:Sge,defaultParseWidth:"any"})},jw={code:"en-US",formatDistance:Y0e,formatLong:J0e,formatRelative:ege,localize:lge,match:Age,options:{weekStartsOn:0,firstWeekContainsDate:1}};function kge(e){const t=dr(e);return Uu(t,bK(t))+1}function CD(e){const t=dr(e),r=+wh(t)-+j0e(t);return Math.round(r/ND)+1}function PD(e,t){var d,f,h,m;const r=dr(e),n=r.getFullYear(),a=Ph(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((m=(h=a.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=fa(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const s=ns(o,t),l=fa(e,0);l.setFullYear(n,0,i),l.setHours(0,0,0,0);const u=ns(l,t);return r.getTime()>=s.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function Nge(e,t){var s,l,u,d;const r=Ph(),n=(t==null?void 0:t.firstWeekContainsDate)??((l=(s=t==null?void 0:t.locale)==null?void 0:s.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=PD(e,t),i=fa(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),ns(i,t)}function TD(e,t){const r=dr(e),n=+ns(r,t)-+Nge(r,t);return Math.round(n/ND)+1}function On(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Pp={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return On(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):On(r+1,2)},d(e,t){return On(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return On(e.getHours()%12||12,t.length)},H(e,t){return On(e.getHours(),t.length)},m(e,t){return On(e.getMinutes(),t.length)},s(e,t){return On(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return On(a,t.length)}},Nv={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},oL={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Pp.y(e,t)},Y:function(e,t,r,n){const a=PD(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return On(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):On(i,t.length)},R:function(e,t){const r=yK(e);return On(r,t.length)},u:function(e,t){const r=e.getFullYear();return On(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return On(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return On(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Pp.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return On(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=TD(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):On(a,t.length)},I:function(e,t,r){const n=CD(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):On(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Pp.d(e,t)},D:function(e,t,r){const n=kge(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):On(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return On(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return On(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return On(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Nv.noon:n===0?a=Nv.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Nv.evening:n>=12?a=Nv.afternoon:n>=4?a=Nv.morning:a=Nv.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Pp.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Pp.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):On(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):On(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Pp.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Pp.s(e,t)},S:function(e,t){return Pp.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return lL(n);case"XXXX":case"XX":return S0(n);case"XXXXX":case"XXX":default:return S0(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return lL(n);case"xxxx":case"xx":return S0(n);case"xxxxx":case"xxx":default:return S0(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+sL(n,":");case"OOOO":default:return"GMT"+S0(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+sL(n,":");case"zzzz":default:return"GMT"+S0(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return On(n,t.length)},T:function(e,t,r){const n=e.getTime();return On(n,t.length)}};function sL(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+On(i,2)}function lL(e,t){return e%60===0?(e>0?"-":"+")+On(Math.abs(e)/60,2):S0(e,t)}function S0(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=On(Math.trunc(n/60),2),i=On(n%60,2);return r+a+t+i}const cL=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},AK=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Ege=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return cL(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",cL(n,t)).replace("{{time}}",AK(a,t))},l6={p:AK,P:Ege},Cge=/^D+$/,Pge=/^Y+$/,Tge=["D","DD","YY","YYYY"];function kK(e){return Cge.test(e)}function NK(e){return Pge.test(e)}function c6(e,t,r){const n=Oge(e,t,r);if(console.warn(n),Tge.includes(e))throw new RangeError(n)}function Oge(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Dge=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ige=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Rge=/^'([^]*?)'?$/,Mge=/''/g,Fge=/[a-zA-Z]/;function Lt(e,t,r){var d,f,h,m,x,g,y,_;const n=Ph(),a=(r==null?void 0:r.locale)??n.locale??jw,i=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((g=(x=r==null?void 0:r.locale)==null?void 0:x.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((_=(y=n.locale)==null?void 0:y.options)==null?void 0:_.weekStartsOn)??0,s=dr(e);if(!$p(s))throw new RangeError("Invalid time value");let l=t.match(Ige).map(b=>{const S=b[0];if(S==="p"||S==="P"){const C=l6[S];return C(b,a.formatLong)}return b}).join("").match(Dge).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const S=b[0];if(S==="'")return{isToken:!1,value:Lge(b)};if(oL[S])return{isToken:!0,value:b};if(S.match(Fge))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return{isToken:!1,value:b}});a.localize.preprocessor&&(l=a.localize.preprocessor(s,l));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return l.map(b=>{if(!b.isToken)return b.value;const S=b.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&NK(S)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&kK(S))&&c6(S,t,String(e));const C=oL[S[0]];return C(s,S,a.localize,u)}).join("")}function Lge(e){const t=e.match(Rge);return t?t[1].replace(Mge,"'"):e}function jge(e,t,r){const n=Ph(),a=(r==null?void 0:r.locale)??n.locale??jw,i=2520,o=F2(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const s=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let l,u;o>0?(l=dr(t),u=dr(e)):(l=dr(e),u=dr(t));const d=_K(u,l),f=(cf(u)-cf(l))/1e3,h=Math.round((d-f)/60);let m;if(h<2)return r!=null&&r.includeSeconds?d<5?a.formatDistance("lessThanXSeconds",5,s):d<10?a.formatDistance("lessThanXSeconds",10,s):d<20?a.formatDistance("lessThanXSeconds",20,s):d<40?a.formatDistance("halfAMinute",0,s):d<60?a.formatDistance("lessThanXMinutes",1,s):a.formatDistance("xMinutes",1,s):h===0?a.formatDistance("lessThanXMinutes",1,s):a.formatDistance("xMinutes",h,s);if(h<45)return a.formatDistance("xMinutes",h,s);if(h<90)return a.formatDistance("aboutXHours",1,s);if(h<w5){const x=Math.round(h/60);return a.formatDistance("aboutXHours",x,s)}else{if(h<i)return a.formatDistance("xDays",1,s);if(h<zv){const x=Math.round(h/w5);return a.formatDistance("xDays",x,s)}else if(h<zv*2)return m=Math.round(h/zv),a.formatDistance("aboutXMonths",m,s)}if(m=V0e(u,l),m<12){const x=Math.round(h/zv);return a.formatDistance("xMonths",x,s)}else{const x=m%12,g=Math.trunc(m/12);return x<3?a.formatDistance("aboutXYears",g,s):x<9?a.formatDistance("overXYears",g,s):a.formatDistance("almostXYears",g+1,s)}}function EK(e,t,r){const n=Ph(),a=(r==null?void 0:r.locale)??n.locale??jw,i=F2(e,t);if(isNaN(i))throw new RangeError("Invalid time value");const o=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:i});let s,l;i>0?(s=dr(t),l=dr(e)):(s=dr(e),l=dr(t));const u=wK((r==null?void 0:r.roundingMethod)??"round"),d=l.getTime()-s.getTime(),f=d/dx,h=cf(l)-cf(s),m=(d-h)/dx,x=r==null?void 0:r.unit;let g;if(x?g=x:f<1?g="second":f<60?g="minute":f<w5?g="hour":m<zv?g="day":m<aL?g="month":g="year",g==="second"){const y=u(d/1e3);return a.formatDistance("xSeconds",y,o)}else if(g==="minute"){const y=u(f);return a.formatDistance("xMinutes",y,o)}else if(g==="hour"){const y=u(f/60);return a.formatDistance("xHours",y,o)}else if(g==="day"){const y=u(m/w5);return a.formatDistance("xDays",y,o)}else if(g==="month"){const y=u(m/zv);return y===12&&x!=="month"?a.formatDistance("xYears",1,o):a.formatDistance("xMonths",y,o)}else{const y=u(m/aL);return a.formatDistance("xYears",y,o)}}function $ge(e,t){return jge(e,xK(e),t)}function uL(e,t){const r=dr(e);if(isNaN(r.getTime()))throw new RangeError("Invalid time value");let n="",a="";const i="-",o=":";{const s=On(r.getDate(),2),l=On(r.getMonth()+1,2);n=`${On(r.getFullYear(),4)}${i}${l}${i}${s}`}{const s=r.getTimezoneOffset();if(s!==0){const m=Math.abs(s),x=On(Math.trunc(m/60),2),g=On(m%60,2);a=`${s<0?"+":"-"}${x}:${g}`}else a="Z";const l=On(r.getHours(),2),u=On(r.getMinutes(),2),d=On(r.getSeconds(),2),f=n===""?"":"T",h=[l,u,d].join(o);n=`${n}${f}${h}${a}`}return n}function Bge(e){const t=dr(e),r=t.getFullYear(),n=t.getMonth(),a=fa(e,0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}function Uge(){return Object.assign({},Ph())}function qge(e){let r=dr(e).getDay();return r===0&&(r=7),r}function zge(e){return Math.trunc(+dr(e)/1e3)}function Wge(e){const t=dr(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function Vge(e,t){return q0e(Wge(e),$o(e),t)+1}function u6(e,t){const r=dr(e),n=dr(t);return r.getTime()>n.getTime()}function rh(e,t){const r=dr(e),n=dr(t);return+r<+n}function Hge(e,t){const r=t instanceof Date?fa(t,0):new t(0);return r.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),r.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),r}const Gge=10;class CK{constructor(){hr(this,"subPriority",0)}validate(t,r){return!0}}class Yge extends CK{constructor(t,r,n,a,i){super(),this.value=t,this.validateValue=r,this.setValue=n,this.priority=a,i&&(this.subPriority=i)}validate(t,r){return this.validateValue(t,this.value,r)}set(t,r,n){return this.setValue(t,r,this.value,n)}}class Kge extends CK{constructor(){super(...arguments);hr(this,"priority",Gge);hr(this,"subPriority",-1)}set(r,n){return n.timestampIsSet?r:fa(r,Hge(r,Date))}}class oa{run(t,r,n,a){const i=this.parse(t,r,n,a);return i?{setter:new Yge(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(t,r,n){return!0}}class Xge extends oa{constructor(){super(...arguments);hr(this,"priority",140);hr(this,"incompatibleTokens",["R","u","t","T"])}parse(r,n,a){switch(n){case"G":case"GG":case"GGG":return a.era(r,{width:"abbreviated"})||a.era(r,{width:"narrow"});case"GGGGG":return a.era(r,{width:"narrow"});case"GGGG":default:return a.era(r,{width:"wide"})||a.era(r,{width:"abbreviated"})||a.era(r,{width:"narrow"})}}set(r,n,a){return n.era=a,r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}}const Hi={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Vd={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Gi(e,t){return e&&{value:t(e.value),rest:e.rest}}function pi(e,t){const r=t.match(e);return r?{value:parseInt(r[0],10),rest:t.slice(r[0].length)}:null}function Hd(e,t){const r=t.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:t.slice(1)};const n=r[1]==="+"?1:-1,a=r[2]?parseInt(r[2],10):0,i=r[3]?parseInt(r[3],10):0,o=r[5]?parseInt(r[5],10):0;return{value:n*(a*k4+i*dx+o*F0e),rest:t.slice(r[0].length)}}function PK(e){return pi(Hi.anyDigitsSigned,e)}function Ti(e,t){switch(e){case 1:return pi(Hi.singleDigit,t);case 2:return pi(Hi.twoDigits,t);case 3:return pi(Hi.threeDigits,t);case 4:return pi(Hi.fourDigits,t);default:return pi(new RegExp("^\\d{1,"+e+"}"),t)}}function _5(e,t){switch(e){case 1:return pi(Hi.singleDigitSigned,t);case 2:return pi(Hi.twoDigitsSigned,t);case 3:return pi(Hi.threeDigitsSigned,t);case 4:return pi(Hi.fourDigitsSigned,t);default:return pi(new RegExp("^-?\\d{1,"+e+"}"),t)}}function OD(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function TK(e,t){const r=t>0,n=r?t:1-t;let a;if(n<=50)a=e||100;else{const i=n+50,o=Math.trunc(i/100)*100,s=e>=i%100;a=e+o-(s?100:0)}return r?a:1-a}function OK(e){return e%400===0||e%4===0&&e%100!==0}class Zge extends oa{constructor(){super(...arguments);hr(this,"priority",130);hr(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(r,n,a){const i=o=>({year:o,isTwoDigitYear:n==="yy"});switch(n){case"y":return Gi(Ti(4,r),i);case"yo":return Gi(a.ordinalNumber(r,{unit:"year"}),i);default:return Gi(Ti(n.length,r),i)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,a){const i=r.getFullYear();if(a.isTwoDigitYear){const s=TK(a.year,i);return r.setFullYear(s,0,1),r.setHours(0,0,0,0),r}const o=!("era"in n)||n.era===1?a.year:1-a.year;return r.setFullYear(o,0,1),r.setHours(0,0,0,0),r}}class Jge extends oa{constructor(){super(...arguments);hr(this,"priority",130);hr(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(r,n,a){const i=o=>({year:o,isTwoDigitYear:n==="YY"});switch(n){case"Y":return Gi(Ti(4,r),i);case"Yo":return Gi(a.ordinalNumber(r,{unit:"year"}),i);default:return Gi(Ti(n.length,r),i)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,a,i){const o=PD(r,i);if(a.isTwoDigitYear){const l=TK(a.year,o);return r.setFullYear(l,0,i.firstWeekContainsDate),r.setHours(0,0,0,0),ns(r,i)}const s=!("era"in n)||n.era===1?a.year:1-a.year;return r.setFullYear(s,0,i.firstWeekContainsDate),r.setHours(0,0,0,0),ns(r,i)}}class Qge extends oa{constructor(){super(...arguments);hr(this,"priority",130);hr(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(r,n){return _5(n==="R"?4:n.length,r)}set(r,n,a){const i=fa(r,0);return i.setFullYear(a,0,4),i.setHours(0,0,0,0),wh(i)}}class eve extends oa{constructor(){super(...arguments);hr(this,"priority",130);hr(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(r,n){return _5(n==="u"?4:n.length,r)}set(r,n,a){return r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}}class tve extends oa{constructor(){super(...arguments);hr(this,"priority",120);hr(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"Q":case"QQ":return Ti(n.length,r);case"Qo":return a.ordinalNumber(r,{unit:"quarter"});case"QQQ":return a.quarter(r,{width:"abbreviated",context:"formatting"})||a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(r,{width:"wide",context:"formatting"})||a.quarter(r,{width:"abbreviated",context:"formatting"})||a.quarter(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=1&&n<=4}set(r,n,a){return r.setMonth((a-1)*3,1),r.setHours(0,0,0,0),r}}class rve extends oa{constructor(){super(...arguments);hr(this,"priority",120);hr(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"q":case"qq":return Ti(n.length,r);case"qo":return a.ordinalNumber(r,{unit:"quarter"});case"qqq":return a.quarter(r,{width:"abbreviated",context:"standalone"})||a.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(r,{width:"wide",context:"standalone"})||a.quarter(r,{width:"abbreviated",context:"standalone"})||a.quarter(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=1&&n<=4}set(r,n,a){return r.setMonth((a-1)*3,1),r.setHours(0,0,0,0),r}}class nve extends oa{constructor(){super(...arguments);hr(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);hr(this,"priority",110)}parse(r,n,a){const i=o=>o-1;switch(n){case"M":return Gi(pi(Hi.month,r),i);case"MM":return Gi(Ti(2,r),i);case"Mo":return Gi(a.ordinalNumber(r,{unit:"month"}),i);case"MMM":return a.month(r,{width:"abbreviated",context:"formatting"})||a.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(r,{width:"wide",context:"formatting"})||a.month(r,{width:"abbreviated",context:"formatting"})||a.month(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.setMonth(a,1),r.setHours(0,0,0,0),r}}class ave extends oa{constructor(){super(...arguments);hr(this,"priority",110);hr(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(r,n,a){const i=o=>o-1;switch(n){case"L":return Gi(pi(Hi.month,r),i);case"LL":return Gi(Ti(2,r),i);case"Lo":return Gi(a.ordinalNumber(r,{unit:"month"}),i);case"LLL":return a.month(r,{width:"abbreviated",context:"standalone"})||a.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(r,{width:"wide",context:"standalone"})||a.month(r,{width:"abbreviated",context:"standalone"})||a.month(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.setMonth(a,1),r.setHours(0,0,0,0),r}}function ive(e,t,r){const n=dr(e),a=TD(n,r)-t;return n.setDate(n.getDate()-a*7),n}class ove extends oa{constructor(){super(...arguments);hr(this,"priority",100);hr(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(r,n,a){switch(n){case"w":return pi(Hi.week,r);case"wo":return a.ordinalNumber(r,{unit:"week"});default:return Ti(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,a,i){return ns(ive(r,a,i),i)}}function sve(e,t){const r=dr(e),n=CD(r)-t;return r.setDate(r.getDate()-n*7),r}class lve extends oa{constructor(){super(...arguments);hr(this,"priority",100);hr(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(r,n,a){switch(n){case"I":return pi(Hi.week,r);case"Io":return a.ordinalNumber(r,{unit:"week"});default:return Ti(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,a){return wh(sve(r,a))}}const cve=[31,28,31,30,31,30,31,31,30,31,30,31],uve=[31,29,31,30,31,30,31,31,30,31,30,31];class dve extends oa{constructor(){super(...arguments);hr(this,"priority",90);hr(this,"subPriority",1);hr(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"d":return pi(Hi.date,r);case"do":return a.ordinalNumber(r,{unit:"date"});default:return Ti(n.length,r)}}validate(r,n){const a=r.getFullYear(),i=OK(a),o=r.getMonth();return i?n>=1&&n<=uve[o]:n>=1&&n<=cve[o]}set(r,n,a){return r.setDate(a),r.setHours(0,0,0,0),r}}class fve extends oa{constructor(){super(...arguments);hr(this,"priority",90);hr(this,"subpriority",1);hr(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(r,n,a){switch(n){case"D":case"DD":return pi(Hi.dayOfYear,r);case"Do":return a.ordinalNumber(r,{unit:"date"});default:return Ti(n.length,r)}}validate(r,n){const a=r.getFullYear();return OK(a)?n>=1&&n<=366:n>=1&&n<=365}set(r,n,a){return r.setMonth(0,a),r.setHours(0,0,0,0),r}}function DD(e,t,r){var f,h,m,x;const n=Ph(),a=(r==null?void 0:r.weekStartsOn)??((h=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:h.weekStartsOn)??n.weekStartsOn??((x=(m=n.locale)==null?void 0:m.options)==null?void 0:x.weekStartsOn)??0,i=dr(e),o=i.getDay(),l=(t%7+7)%7,u=7-a,d=t<0||t>6?t-(o+u)%7:(l+u)%7-(o+u)%7;return La(i,d)}class hve extends oa{constructor(){super(...arguments);hr(this,"priority",90);hr(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"E":case"EE":case"EEE":return a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,i){return r=DD(r,a,i),r.setHours(0,0,0,0),r}}class pve extends oa{constructor(){super(...arguments);hr(this,"priority",90);hr(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(r,n,a,i){const o=s=>{const l=Math.floor((s-1)/7)*7;return(s+i.weekStartsOn+6)%7+l};switch(n){case"e":case"ee":return Gi(Ti(n.length,r),o);case"eo":return Gi(a.ordinalNumber(r,{unit:"day"}),o);case"eee":return a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"eeeee":return a.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,i){return r=DD(r,a,i),r.setHours(0,0,0,0),r}}class mve extends oa{constructor(){super(...arguments);hr(this,"priority",90);hr(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(r,n,a,i){const o=s=>{const l=Math.floor((s-1)/7)*7;return(s+i.weekStartsOn+6)%7+l};switch(n){case"c":case"cc":return Gi(Ti(n.length,r),o);case"co":return Gi(a.ordinalNumber(r,{unit:"day"}),o);case"ccc":return a.day(r,{width:"abbreviated",context:"standalone"})||a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"});case"ccccc":return a.day(r,{width:"narrow",context:"standalone"});case"cccccc":return a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(r,{width:"wide",context:"standalone"})||a.day(r,{width:"abbreviated",context:"standalone"})||a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,i){return r=DD(r,a,i),r.setHours(0,0,0,0),r}}function gve(e,t){const r=dr(e),n=qge(r),a=t-n;return La(r,a)}class vve extends oa{constructor(){super(...arguments);hr(this,"priority",90);hr(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(r,n,a){const i=o=>o===0?7:o;switch(n){case"i":case"ii":return Ti(n.length,r);case"io":return a.ordinalNumber(r,{unit:"day"});case"iii":return Gi(a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),i);case"iiiii":return Gi(a.day(r,{width:"narrow",context:"formatting"}),i);case"iiiiii":return Gi(a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),i);case"iiii":default:return Gi(a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),i)}}validate(r,n){return n>=1&&n<=7}set(r,n,a){return r=gve(r,a),r.setHours(0,0,0,0),r}}class yve extends oa{constructor(){super(...arguments);hr(this,"priority",80);hr(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(r,n,a){switch(n){case"a":case"aa":case"aaa":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(OD(a),0,0,0),r}}class xve extends oa{constructor(){super(...arguments);hr(this,"priority",80);hr(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(r,n,a){switch(n){case"b":case"bb":case"bbb":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(OD(a),0,0,0),r}}class wve extends oa{constructor(){super(...arguments);hr(this,"priority",80);hr(this,"incompatibleTokens",["a","b","t","T"])}parse(r,n,a){switch(n){case"B":case"BB":case"BBB":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(OD(a),0,0,0),r}}class _ve extends oa{constructor(){super(...arguments);hr(this,"priority",70);hr(this,"incompatibleTokens",["H","K","k","t","T"])}parse(r,n,a){switch(n){case"h":return pi(Hi.hour12h,r);case"ho":return a.ordinalNumber(r,{unit:"hour"});default:return Ti(n.length,r)}}validate(r,n){return n>=1&&n<=12}set(r,n,a){const i=r.getHours()>=12;return i&&a<12?r.setHours(a+12,0,0,0):!i&&a===12?r.setHours(0,0,0,0):r.setHours(a,0,0,0),r}}class bve extends oa{constructor(){super(...arguments);hr(this,"priority",70);hr(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(r,n,a){switch(n){case"H":return pi(Hi.hour23h,r);case"Ho":return a.ordinalNumber(r,{unit:"hour"});default:return Ti(n.length,r)}}validate(r,n){return n>=0&&n<=23}set(r,n,a){return r.setHours(a,0,0,0),r}}class Sve extends oa{constructor(){super(...arguments);hr(this,"priority",70);hr(this,"incompatibleTokens",["h","H","k","t","T"])}parse(r,n,a){switch(n){case"K":return pi(Hi.hour11h,r);case"Ko":return a.ordinalNumber(r,{unit:"hour"});default:return Ti(n.length,r)}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.getHours()>=12&&a<12?r.setHours(a+12,0,0,0):r.setHours(a,0,0,0),r}}class Ave extends oa{constructor(){super(...arguments);hr(this,"priority",70);hr(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(r,n,a){switch(n){case"k":return pi(Hi.hour24h,r);case"ko":return a.ordinalNumber(r,{unit:"hour"});default:return Ti(n.length,r)}}validate(r,n){return n>=1&&n<=24}set(r,n,a){const i=a<=24?a%24:a;return r.setHours(i,0,0,0),r}}class kve extends oa{constructor(){super(...arguments);hr(this,"priority",60);hr(this,"incompatibleTokens",["t","T"])}parse(r,n,a){switch(n){case"m":return pi(Hi.minute,r);case"mo":return a.ordinalNumber(r,{unit:"minute"});default:return Ti(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,a){return r.setMinutes(a,0,0),r}}class Nve extends oa{constructor(){super(...arguments);hr(this,"priority",50);hr(this,"incompatibleTokens",["t","T"])}parse(r,n,a){switch(n){case"s":return pi(Hi.second,r);case"so":return a.ordinalNumber(r,{unit:"second"});default:return Ti(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,a){return r.setSeconds(a,0),r}}class Eve extends oa{constructor(){super(...arguments);hr(this,"priority",30);hr(this,"incompatibleTokens",["t","T"])}parse(r,n){const a=i=>Math.trunc(i*Math.pow(10,-n.length+3));return Gi(Ti(n.length,r),a)}set(r,n,a){return r.setMilliseconds(a),r}}class Cve extends oa{constructor(){super(...arguments);hr(this,"priority",10);hr(this,"incompatibleTokens",["t","T","x"])}parse(r,n){switch(n){case"X":return Hd(Vd.basicOptionalMinutes,r);case"XX":return Hd(Vd.basic,r);case"XXXX":return Hd(Vd.basicOptionalSeconds,r);case"XXXXX":return Hd(Vd.extendedOptionalSeconds,r);case"XXX":default:return Hd(Vd.extended,r)}}set(r,n,a){return n.timestampIsSet?r:fa(r,r.getTime()-cf(r)-a)}}class Pve extends oa{constructor(){super(...arguments);hr(this,"priority",10);hr(this,"incompatibleTokens",["t","T","X"])}parse(r,n){switch(n){case"x":return Hd(Vd.basicOptionalMinutes,r);case"xx":return Hd(Vd.basic,r);case"xxxx":return Hd(Vd.basicOptionalSeconds,r);case"xxxxx":return Hd(Vd.extendedOptionalSeconds,r);case"xxx":default:return Hd(Vd.extended,r)}}set(r,n,a){return n.timestampIsSet?r:fa(r,r.getTime()-cf(r)-a)}}class Tve extends oa{constructor(){super(...arguments);hr(this,"priority",40);hr(this,"incompatibleTokens","*")}parse(r){return PK(r)}set(r,n,a){return[fa(r,a*1e3),{timestampIsSet:!0}]}}class Ove extends oa{constructor(){super(...arguments);hr(this,"priority",20);hr(this,"incompatibleTokens","*")}parse(r){return PK(r)}set(r,n,a){return[fa(r,a),{timestampIsSet:!0}]}}const Dve={G:new Xge,y:new Zge,Y:new Jge,R:new Qge,u:new eve,Q:new tve,q:new rve,M:new nve,L:new ave,w:new ove,I:new lve,d:new dve,D:new fve,E:new hve,e:new pve,c:new mve,i:new vve,a:new yve,b:new xve,B:new wve,h:new _ve,H:new bve,K:new Sve,k:new Ave,m:new kve,s:new Nve,S:new Eve,X:new Cve,x:new Pve,t:new Tve,T:new Ove},Ive=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Rve=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Mve=/^'([^]*?)'?$/,Fve=/''/g,Lve=/\S/,jve=/[a-zA-Z]/;function dL(e,t,r,n){var g,y,_,b;const a=Uge(),i=a.locale??jw,o=a.firstWeekContainsDate??((y=(g=a.locale)==null?void 0:g.options)==null?void 0:y.firstWeekContainsDate)??1,s=a.weekStartsOn??((b=(_=a.locale)==null?void 0:_.options)==null?void 0:b.weekStartsOn)??0;if(t==="")return e===""?dr(r):fa(r,NaN);const l={firstWeekContainsDate:o,weekStartsOn:s,locale:i},u=[new Kge],d=t.match(Rve).map(S=>{const C=S[0];if(C in l6){const E=l6[C];return E(S,i.formatLong)}return S}).join("").match(Ive),f=[];for(let S of d){NK(S)&&c6(S,t,e),kK(S)&&c6(S,t,e);const C=S[0],E=Dve[C];if(E){const{incompatibleTokens:O}=E;if(Array.isArray(O)){const I=f.find(L=>O.includes(L.token)||L.token===C);if(I)throw new RangeError(`The format string mustn't contain \`${I.fullToken}\` and \`${S}\` at the same time`)}else if(E.incompatibleTokens==="*"&&f.length>0)throw new RangeError(`The format string mustn't contain \`${S}\` and any other token at the same time`);f.push({token:C,fullToken:S});const P=E.run(e,S,i.match,l);if(!P)return fa(r,NaN);u.push(P.setter),e=P.rest}else{if(C.match(jve))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");if(S==="''"?S="'":C==="'"&&(S=$ve(S)),e.indexOf(S)===0)e=e.slice(S.length);else return fa(r,NaN)}}if(e.length>0&&Lve.test(e))return fa(r,NaN);const h=u.map(S=>S.priority).sort((S,C)=>C-S).filter((S,C,E)=>E.indexOf(S)===C).map(S=>u.filter(C=>C.priority===S).sort((C,E)=>E.subPriority-C.subPriority)).map(S=>S[0]);let m=dr(r);if(isNaN(m.getTime()))return fa(r,NaN);const x={};for(const S of h){if(!S.validate(m,l))return fa(r,NaN);const C=S.set(m,x,l);Array.isArray(C)?(m=C[0],Object.assign(x,C[1])):m=C}return fa(r,m)}function $ve(e){return e.match(Mve)[1].replace(Fve,"'")}function Bve(e){return+dr(e)<Date.now()}function N4(e,t){const r=dr(e),n=dr(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function Uve(e,t){const r=dr(e),n=dr(t);return r.getFullYear()===n.getFullYear()}function Tp(e){return nl(e,xK(e))}function v0(e,t){const r=+dr(e),[n,a]=[+dr(t.start),+dr(t.end)].sort((i,o)=>i-o);return r>=n&&r<=a}function yk(e,t){return La(e,-t)}function qr(e,t){const n=Vve(e);let a;if(n.date){const l=Hve(n.date,2);a=Gve(l.restDateString,l.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const i=a.getTime();let o=0,s;if(n.time&&(o=Yve(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(s=Kve(n.timezone),isNaN(s))return new Date(NaN)}else{const l=new Date(i+o),u=new Date(0);return u.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),u.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),u}return new Date(i+o+s)}const ob={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},qve=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,zve=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Wve=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Vve(e){const t={},r=e.split(ob.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],ob.timeZoneDelimiter.test(t.date)&&(t.date=e.split(ob.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const a=ob.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function Hve(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function Gve(e,t){if(t===null)return new Date(NaN);const r=e.match(qve);if(!r)return new Date(NaN);const n=!!r[4],a=t2(r[1]),i=t2(r[2])-1,o=t2(r[3]),s=t2(r[4]),l=t2(r[5])-1;if(n)return e1e(t,s,l)?Xve(t,s,l):new Date(NaN);{const u=new Date(0);return!Jve(t,i,o)||!Qve(t,a)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(a,o)),u)}}function t2(e){return e?parseInt(e):1}function Yve(e){const t=e.match(zve);if(!t)return NaN;const r=xk(t[1]),n=xk(t[2]),a=xk(t[3]);return t1e(r,n,a)?r*k4+n*dx+a*1e3:NaN}function xk(e){return e&&parseFloat(e.replace(",","."))||0}function Kve(e){if(e==="Z")return 0;const t=e.match(Wve);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return r1e(n,a)?r*(n*k4+a*dx):NaN}function Xve(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const a=n.getUTCDay()||7,i=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}const Zve=[31,null,31,30,31,30,31,31,30,31,30,31];function DK(e){return e%400===0||e%4===0&&e%100!==0}function Jve(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(Zve[t]||(DK(e)?29:28))}function Qve(e,t){return t>=1&&t<=(DK(e)?366:365)}function e1e(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function t1e(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function r1e(e,t){return t>=0&&t<=59}function wk(e,t){const r=dr(e),n=r.getFullYear(),a=r.getDate(),i=fa(e,0);i.setFullYear(n,t,15),i.setHours(0,0,0,0);const o=Bge(i);return r.setMonth(t,Math.min(a,o)),r}function n1e(e,t){const r=dr(e);return r.setHours(t),r}function a1e(e,t){const r=dr(e);return r.setMinutes(t),r}function fL(e,t){const r=dr(e);return isNaN(+r)?fa(e,NaN):(r.setFullYear(t),r)}function d6(e,t){return dl(e,-t)}function fx(e,t){return vK(e,-t)}function i1e(e,t){return w1(e,-1)}function o1e({notifications:e,onClose:t,onMarkAsRead:r,onClearNotification:n}){const a=i=>{i.is_read||r(i.id)};return w(lr,{className:"fixed top-16 right-4 z-50 w-96 shadow-lg border bg-card text-card-foreground",children:[" ",w(xr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c(wr,{className:"text-lg font-medium",children:"Notifications"}),c(Fe,{variant:"ghost",size:"icon",onClick:t,"aria-label":"Close notifications",children:c(gh,{className:"h-4 w-4"})})]}),c(mr,{className:"p-0",children:w("div",{className:"max-h-[calc(100vh-10rem)] overflow-y-auto",children:[" ",e.length===0?c("p",{className:"text-sm text-muted-foreground text-center p-4",children:"No new notifications."}):e.map(i=>w("div",{className:Rt("flex flex-col border-b p-3 hover:bg-muted/50 cursor-pointer",i.is_read===!0?"opacity-70":"font-medium"),onClick:()=>a(i),role:"button",tabIndex:0,onKeyDown:o=>o.key==="Enter"&&a(i),children:[w("div",{className:"flex justify-between items-center w-full",children:[" ",c("span",{className:"text-sm flex-grow mr-2",children:i.message})," ",c(Fe,{variant:"ghost",size:"icon",className:"h-6 w-6 flex-shrink-0",onClick:o=>{o.stopPropagation(),n(i.id)},"aria-label":"Clear notification",children:c(gh,{className:"h-3 w-3"})})]}),w("div",{className:"flex justify-between items-center mt-1",children:[c("span",{className:"text-xs text-muted-foreground",children:i.created_at?$ge(new Date(i.created_at),{addSuffix:!0}):"Just now"}),i.is_read!==!0&&c("span",{title:"Mark as read",className:"text-primary"})]})]},i.id))]})})]})}const s1e=Cw("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ju({className:e,variant:t,...r}){return c("div",{className:Rt(s1e({variant:t}),e),...r})}const l1e=(e,t)=>{if(e){const r=e.split(" ");if(r.length>1)return`${r[0][0]}${r[r.length-1][0]}`.toUpperCase();if(r.length===1&&r[0].length>0)return r[0].substring(0,2).toUpperCase()}return t?t.substring(0,2).toUpperCase():"U"};function c1e({user:e}){const{toast:t}=yn(),r=Bo(),{user:n,signOut:a}=si(),[i,o]=A.useState(""),[s,l]=A.useState(!1),{notifications:u,markAsRead:d,clearNotification:f}=D0e(),h=A.useMemo(()=>u.filter(P=>P.is_read!==!0).length,[u]),m=P=>{o(P.target.value)},x=P=>{if(P.key==="Enter"&&i.trim()){const I=i.trim();r(`/search?q=${encodeURIComponent(I)}`),o("")}},g=async()=>{try{await a(),t({title:"Logged out successfully"}),r("/login")}catch(P){console.error("Logout failed:",P),t({title:"Logout Failed",description:P.message||"An unexpected error occurred.",variant:"destructive"})}},y=()=>{l(P=>!P)},_=()=>{l(!1)};A.useEffect(()=>{const P=I=>{const L=document.getElementById("notification-panel"),U=document.getElementById("notification-trigger");L&&!L.contains(I.target)&&U&&!U.contains(I.target)&&_()};return s?document.addEventListener("mousedown",P):document.removeEventListener("mousedown",P),()=>{document.removeEventListener("mousedown",P)}},[s]);const b=e==null?void 0:e.display_name,S=e==null?void 0:e.avatar_url,C=e==null?void 0:e.email,[E,O]=A.useState("https://i.postimg.cc/j2qGSXwJ/facetslogo.png");return A.useEffect(()=>{const P=()=>{const L=localStorage.getItem("customClinicLogo");O(L||"https://i.postimg.cc/j2qGSXwJ/facetslogo.png")};P();const I=L=>{L.key==="customClinicLogo"&&P()};return window.addEventListener("storage",I),()=>{window.removeEventListener("storage",I)}},[]),w(Sr,{children:[c("header",{className:"sticky top-0 z-40 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:w("div",{className:"container flex h-14 items-center",children:[c("div",{className:"mr-4 hidden md:flex",children:c("div",{className:"flex items-center",children:c(Vi,{to:"/dashboard",className:"flex items-center space-x-2",children:c("img",{src:E,alt:"Facets Dental Logo",className:"h-10"})})})}),w("div",{className:"flex flex-1 items-center justify-between space-x-2 md:justify-end",children:[c("div",{className:"w-full flex-1 md:w-auto md:flex-none",children:w("div",{className:"relative",children:[c(l4,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),c(ct,{placeholder:"Search...",className:"pl-8 md:w-[300px] lg:w-[400px]",value:i,onChange:m,onKeyDown:x})]})}),w("div",{className:"flex items-center gap-2",children:[w(Fe,{id:"notification-trigger",variant:"ghost",size:"icon",className:"relative","aria-label":"Notifications",onClick:y,children:[c(i4,{className:"h-4 w-4"}),h>0&&c(Ju,{variant:"destructive",className:"absolute -top-1 -right-1 h-4 w-4 justify-center rounded-full p-0 text-xs",children:h>9?"9+":h})]}),w(lpe,{children:[c(cpe,{asChild:!0,children:c(Fe,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:w(yD,{className:"h-8 w-8",children:[c(xD,{src:S||"https://syevxwuraxjpvkcclmjj.supabase.co/storage/v1/object/public/avatars/68f6a588-b802-4e33-8c6b-3de2d070d3bf-1744191950747.jpg",alt:b||C||"User"}),c(wD,{children:l1e(b,C)})]})})}),w(BY,{className:"w-56",align:"end",forceMount:!0,children:[c(UY,{className:"font-normal",children:w("div",{className:"flex flex-col space-y-1",children:[c("p",{className:"text-sm font-medium leading-none",children:b||"User Name"}),c("p",{className:"text-xs leading-none text-muted-foreground",children:C||"user@example.com"})]})}),c(QT,{}),c(w2,{asChild:!0,children:c(Vi,{to:"/profile",children:"Profile"})}),c(w2,{asChild:!0,children:c(Vi,{to:"/settings",children:"Settings"})}),c(w2,{asChild:!0,children:c(Vi,{to:"/payments-subscription",children:"Payments & Subscription"})}),c(QT,{}),c(w2,{onClick:g,className:"cursor-pointer",children:"Log out"})]})]})]})]})]})}),s&&c("div",{id:"notification-panel",className:"absolute top-0 right-0 z-50 mt-14 mr-4",children:c(o1e,{notifications:u,onClose:_,onMarkAsRead:d,onClearNotification:f})})]})}var E4="Collapsible",[u1e,IK]=Qi(E4),[d1e,ID]=u1e(E4),RK=A.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:a,disabled:i,onOpenChange:o,...s}=e,[l,u]=ul({prop:n,defaultProp:a??!1,onChange:o,caller:E4});return c(d1e,{scope:r,disabled:i,contentId:Rl(),open:l,onOpenToggle:A.useCallback(()=>u(d=>!d),[u]),children:c(pr.div,{"data-state":MD(l),"data-disabled":i?"":void 0,...s,ref:t})})});RK.displayName=E4;var MK="CollapsibleTrigger",FK=A.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,a=ID(MK,r);return c(pr.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":MD(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...n,ref:t,onClick:qt(e.onClick,a.onOpenToggle)})});FK.displayName=MK;var RD="CollapsibleContent",LK=A.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=ID(RD,e.__scopeCollapsible);return c(as,{present:r||a.open,children:({present:i})=>c(f1e,{...n,ref:t,present:i})})});LK.displayName=RD;var f1e=A.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:a,...i}=e,o=ID(RD,r),[s,l]=A.useState(n),u=A.useRef(null),d=Vr(t,u),f=A.useRef(0),h=f.current,m=A.useRef(0),x=m.current,g=o.open||s,y=A.useRef(g),_=A.useRef(void 0);return A.useEffect(()=>{const b=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(b)},[]),oi(()=>{const b=u.current;if(b){_.current=_.current||{transitionDuration:b.style.transitionDuration,animationName:b.style.animationName},b.style.transitionDuration="0s",b.style.animationName="none";const S=b.getBoundingClientRect();f.current=S.height,m.current=S.width,y.current||(b.style.transitionDuration=_.current.transitionDuration,b.style.animationName=_.current.animationName),l(n)}},[o.open,n]),c(pr.div,{"data-state":MD(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!g,...i,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":x?`${x}px`:void 0,...e.style},children:g&&a})});function MD(e){return e?"open":"closed"}var h1e=RK,p1e=FK,m1e=LK,id="Accordion",g1e=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[FD,v1e,y1e]=Pw(id),[C4,DJe]=Qi(id,[y1e,IK]),LD=IK(),jK=Qe.forwardRef((e,t)=>{const{type:r,...n}=e,a=n,i=n;return c(FD.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?c(b1e,{...i,ref:t}):c(_1e,{...a,ref:t})})});jK.displayName=id;var[$K,x1e]=C4(id),[BK,w1e]=C4(id,{collapsible:!1}),_1e=Qe.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},collapsible:i=!1,...o}=e,[s,l]=ul({prop:r,defaultProp:n??"",onChange:a,caller:id});return c($K,{scope:e.__scopeAccordion,value:Qe.useMemo(()=>s?[s]:[],[s]),onItemOpen:l,onItemClose:Qe.useCallback(()=>i&&l(""),[i,l]),children:c(BK,{scope:e.__scopeAccordion,collapsible:i,children:c(UK,{...o,ref:t})})})}),b1e=Qe.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...i}=e,[o,s]=ul({prop:r,defaultProp:n??[],onChange:a,caller:id}),l=Qe.useCallback(d=>s((f=[])=>[...f,d]),[s]),u=Qe.useCallback(d=>s((f=[])=>f.filter(h=>h!==d)),[s]);return c($K,{scope:e.__scopeAccordion,value:o,onItemOpen:l,onItemClose:u,children:c(BK,{scope:e.__scopeAccordion,collapsible:!0,children:c(UK,{...i,ref:t})})})}),[S1e,P4]=C4(id),UK=Qe.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:a,orientation:i="vertical",...o}=e,s=Qe.useRef(null),l=Vr(s,t),u=v1e(r),f=bg(a)==="ltr",h=qt(e.onKeyDown,m=>{var I;if(!g1e.includes(m.key))return;const x=m.target,g=u().filter(L=>{var U;return!((U=L.ref.current)!=null&&U.disabled)}),y=g.findIndex(L=>L.ref.current===x),_=g.length;if(y===-1)return;m.preventDefault();let b=y;const S=0,C=_-1,E=()=>{b=y+1,b>C&&(b=S)},O=()=>{b=y-1,b<S&&(b=C)};switch(m.key){case"Home":b=S;break;case"End":b=C;break;case"ArrowRight":i==="horizontal"&&(f?E():O());break;case"ArrowDown":i==="vertical"&&E();break;case"ArrowLeft":i==="horizontal"&&(f?O():E());break;case"ArrowUp":i==="vertical"&&O();break}const P=b%_;(I=g[P].ref.current)==null||I.focus()});return c(S1e,{scope:r,disabled:n,direction:a,orientation:i,children:c(FD.Slot,{scope:r,children:c(pr.div,{...o,"data-orientation":i,ref:l,onKeyDown:n?void 0:h})})})}),b5="AccordionItem",[A1e,jD]=C4(b5),qK=Qe.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...a}=e,i=P4(b5,r),o=x1e(b5,r),s=LD(r),l=Rl(),u=n&&o.value.includes(n)||!1,d=i.disabled||e.disabled;return c(A1e,{scope:r,open:u,disabled:d,triggerId:l,children:c(h1e,{"data-orientation":i.orientation,"data-state":YK(u),...s,...a,ref:t,disabled:d,open:u,onOpenChange:f=>{f?o.onItemOpen(n):o.onItemClose(n)}})})});qK.displayName=b5;var zK="AccordionHeader",WK=Qe.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=P4(id,r),i=jD(zK,r);return c(pr.h3,{"data-orientation":a.orientation,"data-state":YK(i.open),"data-disabled":i.disabled?"":void 0,...n,ref:t})});WK.displayName=zK;var f6="AccordionTrigger",VK=Qe.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=P4(id,r),i=jD(f6,r),o=w1e(f6,r),s=LD(r);return c(FD.ItemSlot,{scope:r,children:c(p1e,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":a.orientation,id:i.triggerId,...s,...n,ref:t})})});VK.displayName=f6;var HK="AccordionContent",GK=Qe.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=P4(id,r),i=jD(HK,r),o=LD(r);return c(m1e,{role:"region","aria-labelledby":i.triggerId,"data-orientation":a.orientation,...o,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});GK.displayName=HK;function YK(e){return e?"open":"closed"}var k1e=jK,N1e=qK,E1e=WK,KK=VK,XK=GK;const $D=k1e,$d=A.forwardRef(({className:e,...t},r)=>c(N1e,{ref:r,className:Rt("border-b",e),...t}));$d.displayName="AccordionItem";const Bd=A.forwardRef(({className:e,children:t,...r},n)=>c(E1e,{className:"flex",children:w(KK,{ref:n,className:Rt("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,c(G8,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));Bd.displayName=KK.displayName;const Ud=A.forwardRef(({className:e,children:t,...r},n)=>c(XK,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:c("div",{className:Rt("pb-4 pt-0",e),children:t})}));Ud.displayName=XK.displayName;const C1e=[{name:"Dashboard",href:"/",icon:_ce},{name:"Appointments",href:"/appointments",icon:Lo},{name:"Patients",href:"/patients",icon:c4},{name:"Treatment Plans",href:"/treatment-plans",icon:eG},{name:"Patient Medical Record",href:"/patient-medical-records",icon:gce},{name:"Inventory",href:"/inventory",icon:JH,children:[{name:"Purchases",href:"/purchases"},{name:"Urgent Purchase Entry",href:"/purchases/urgent"},{name:"Invoices",href:"/inventory/invoices"},{name:"Create Adjustment",href:"/inventory/create-adjustment"},{name:"Stock Take",href:"/inventory/stock-take"}]},{name:"Assets",href:"/assets",icon:qH},{name:"Reports",href:"/reports",icon:sce},{name:"Reminders",href:"/reminders",icon:i4},{name:"Settings",href:"/settings",icon:Oce},{name:"Inv. Approvals",href:"/inventory-approvals",icon:XH,roles:["admin","owner","doctor"]}],P1e=["Inventory","Assets","Reports","Reminders"];function T1e(){const e=Nm(),{user:t}=si(),r=C1e.filter(n=>!t||!t.role?!1:n.roles&&Array.isArray(n.roles)?n.roles.includes(t.role):t.role==="admin"||t.role==="owner"?!0:t.role==="doctor"?!P1e.includes(n.name):!1);return!t||r.length===0?null:c("div",{className:"hidden border-r bg-background md:block md:w-64",children:w("div",{className:"flex h-full flex-col gap-2",children:[c("div",{className:"flex h-14 items-center border-b px-4",children:w(Vi,{to:"/",className:"flex items-center gap-2 font-semibold",children:[c("img",{src:"https://i.postimg.cc/bwDhkb5H/dentalcare.png",alt:"Dental Care Logo",className:"h-12"})," "]})}),c("div",{className:"flex-1 overflow-auto py-2",children:c("nav",{className:"grid items-start px-2 text-sm font-medium",children:r.map(n=>{const a=n.icon,i=n.children&&n.children.some(o=>e.pathname.startsWith(o.href))||e.pathname.startsWith(n.href);if(n.children){const o=i?n.name:"";return c($D,{type:"single",collapsible:!0,defaultValue:o,className:"w-full",children:w($d,{value:n.name,className:"border-b-0",children:[c(Bd,{className:Rt("w-full justify-start gap-2 rounded-md px-3 py-2 text-sm font-medium hover:bg-accent hover:text-accent-foreground [&[data-state=open]>svg]:rotate-180",e.pathname===n.href?"bg-secondary text-secondary-foreground":"hover:bg-muted"),children:w(Vi,{to:n.href,className:"flex items-center flex-grow gap-2",onClick:s=>s.stopPropagation(),children:[" ",c(a,{className:"h-4 w-4"}),c("span",{children:n.name})]})}),w(Ud,{className:"pt-1 pb-0 pl-7",children:[" ",c("nav",{className:"grid gap-1",children:n.children.map(s=>{const l=e.pathname===s.href;return c(Vi,{to:s.href,children:c(Fe,{variant:l?"secondary":"ghost",size:"sm",className:Rt("w-full justify-start gap-2 pl-2",{"bg-secondary text-secondary-foreground":l}),children:s.name})},s.href)})})]})]})},n.name)}return c(Vi,{to:n.href,children:w(Fe,{variant:i?"secondary":"ghost",className:Rt("w-full justify-start gap-2 rounded-md px-3 py-2 text-sm font-medium",{"bg-secondary text-secondary-foreground":i}),children:[c(a,{className:"h-4 w-4"}),n.name]})},n.href)})})})]})})}const ZK=async()=>{const{data:e,error:t}=await Le.from("reminders").select("*").order("reminder_datetime",{ascending:!0});if(t)throw console.error("Error fetching reminders:",t),new Error("Failed to fetch reminders.");return e.map(r=>({...r,recurrence_config:typeof r.recurrence_config=="string"?JSON.parse(r.recurrence_config):r.recurrence_config||{type:"none"}}))},O1e=async e=>{const{data:t,error:r}=await Le.from("reminders").insert(e).select().single();if(r)throw console.error("Error creating reminder:",r),new Error("Failed to create reminder.");return t},JK=async(e,t)=>{const{data:r,error:n}=await Le.from("reminders").update(t).eq("id",e).select().single();if(n)throw console.error("Error updating reminder:",n),new Error("Failed to update reminder.");return r},D1e=async e=>{const{error:t}=await Le.from("reminders").delete().eq("id",e);if(t)throw console.error("Error deleting reminder:",t),new Error("Failed to delete reminder.")},sb=60*1e3;function QK(){const{user:e}=si(),{toast:t}=yn(),[r,n]=A.useState("Notification"in window?Notification.permission:"default"),a=A.useRef(new Map),[i,o]=A.useState(new Set),s=A.useRef(null);return A.useEffect(()=>{if(!("Notification"in window))return;const l=Notification.permission;n(l),l!=="granted"&&l!=="denied"&&Notification.requestPermission().then(u=>{n(u)})},[]),A.useEffect(()=>{if(!e)return;const l=setInterval(async()=>{try{const u=await ZK(),d=new Date;u.forEach(f=>{var x;if(!f.is_active)return;let h=[];const m=new Date(f.reminder_datetime);if(((x=f.recurrence_config)==null?void 0:x.type)==="daily"){const g=I1e(f,d);g&&(h=R1e(f,g))}else(!f.recurrence_config||f.recurrence_config.type==="none")&&(m>=d&&Yb(d,m)<sb?h=[m]:Bve(m)&&Yb(d,m)<sb&&(h=[m]));h.forEach(g=>{const y=Yb(d,g),_=`${f.id}-${g.toISOString()}`,b=a.current.has(_);if(y>=0&&y<sb&&!b){"Notification"in window&&Notification.permission==="granted"&&new Notification("Dental Care Reminder",{body:f.message,icon:"/ransferent.svg",tag:_}),t({title:"Reminder Due",description:f.message,duration:1e4}),a.current.set(_,d.getTime()),o(C=>new Set(C).add(f.id)),s.current&&clearTimeout(s.current),s.current=setTimeout(()=>{o(new Set),s.current=null},6e4);const S=d.getTime()-24*60*60*1e3;for(const[C,E]of a.current.entries())E<S&&a.current.delete(C)}})})}catch(u){console.error("Error checking reminders for notifications:",u)}},sb);return()=>{clearInterval(l)}},[e,r,t]),A.useEffect(()=>()=>{s.current&&clearTimeout(s.current)},[]),{permission:r,activeReminderIds:i}}function I1e(e,t){if(!e.recurrence_config||e.recurrence_config.type!=="daily")return null;const r=new Date(e.reminder_datetime),n=e.recurrence_config.interval||1,a=new Date(r);if(a.setHours(0,0,0,0),a>t)return null;let i=a;for(;;){const o=La(i,n);if(o>t)break;i=o}return i}function R1e(e,t){var s;const r=new Date(e.reminder_datetime),n=((s=e.recurrence_config)==null?void 0:s.times_per_day)||1;if(n<=0)return[];const a=[],i=new Date(t);i.setHours(0,0,0,0);let o=new Date(i);if(o.setHours(r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()),o<r&&o.toDateString()===r.toDateString()&&(o=r),n===1)o>=r&&o.toDateString()===t.toDateString()&&a.push(o);else{const l=864e5/n;for(let u=0;u<n;u++){const d=new Date(o.getTime()+u*l);d.getDate()===t.getDate()&&d>=r&&a.push(d)}}return a}const hL=e=>new Promise(t=>setTimeout(t,e)),pL=e=>{const t=new Date;if(t.setHours(0,0,0,0),e.expiry_date){const r=new Date(e.expiry_date);if(r.setHours(0,0,0,0),r<t)return"Expired"}return(e.quantity??0)<=(e.low_stock_threshold??0)?"Low Stock":"In Stock"},M1e=30;function F1e(){const{toast:e}=yn(),{user:t}=si(),r=A.useRef(new Set),n=A.useRef(new Set),a=A.useRef(null),i=A.useCallback((s,l)=>{if(!("Notification"in window)){console.warn("This browser does not support desktop notification");return}const u=()=>{Notification.requestPermission().then(d=>{d==="granted"?new Notification(s,l):console.warn("Desktop notification permission denied.")})};Notification.permission==="granted"?new Notification(s,l):Notification.permission!=="denied"&&u()},[]),o=A.useCallback(async s=>{if(!t)return;const l=new Date;l.setHours(0,0,0,0);const u=new Date(l);u.setDate(l.getDate()+M1e),console.log(`[InventoryAlerts] Check running. Today (normalized): ${l.toISOString()}, Threshold Date: ${u.toISOString()}`);const d=new Set,f=new Set,h=[];for(const m of s){const x=pL(m),g=m.id;if(x==="Low Stock"){const y="low_stock",_=fx(new Date,12),{count:b,error:S}=await Le.from("notifications").select("id",{count:"exact",head:!0}).eq("user_id",t.id).eq("item_id",g).eq("item_type","inventory").eq("notification_type",y).gte("created_at",_.toISOString());if(S&&console.error("Error checking recent low stock notifications:",S),!S&&b===0){console.log(`[InventoryAlerts] PASSED low stock check for item "${m.item_name}". Queueing notification.`),d.add(g);const C=`Item "${m.item_name}" is low on stock (${m.quantity??0} remaining).`,E=`/inventory?highlight=${g}`,O=`low-stock-${g}`;h.push({title:"Low Stock Alert",description:C,variant:"warning",tag:O}),i("Low Stock Alert",{body:C,tag:O});try{const{error:P}=await Le.from("notifications").insert({user_id:t.id,message:C,link_url:E,item_id:g,item_type:"inventory",notification_type:y});if(P)throw P}catch(P){console.error("Error inserting low stock notification:",P)}}else!S&&b&&b>0&&console.log(`[InventoryAlerts] Skipped low stock notification for item "${m.item_name}" (sent recently).`)}if(m.expiry_date){const y=new Date(m.expiry_date),_=new Date(y.getFullYear(),y.getMonth(),y.getDate());if(console.log(`[InventoryAlerts] Checking expiry for item "${m.item_name}" (ID: ${g}). Expiry Date (normalized): ${_.toISOString()}`),_>=l&&_<=u){const b="expiry_soon",S=fx(new Date,12),{count:C,error:E}=await Le.from("notifications").select("id",{count:"exact",head:!0}).eq("user_id",t.id).eq("item_id",g).eq("item_type","inventory").eq("notification_type",b).gte("created_at",S.toISOString());if(E&&console.error("Error checking recent expiry notifications:",E),!E&&C===0){console.log(`[InventoryAlerts] PASSED expiry check for item "${m.item_name}". Queueing notification.`),f.add(g);const O=`Item "${m.item_name}" is expiring on ${_.toLocaleDateString()}.`,P=`/inventory?highlight=${g}`,I=`expiry-soon-${g}`;h.push({title:"Expiry Soon Alert",description:O,variant:"default",tag:I}),i("Expiry Soon Alert",{body:O,tag:I});try{const{error:L}=await Le.from("notifications").insert({user_id:t.id,message:O,link_url:P,item_id:g,item_type:"inventory",notification_type:b});if(L)throw L}catch(L){console.error("Error inserting expiry soon notification:",L)}}else!E&&C&&C>0&&console.log(`[InventoryAlerts] Skipped expiry soon notification for item "${m.item_name}" (sent recently).`)}}}if(d.size>0&&(r.current=new Set([...r.current,...d])),f.size>0&&(n.current=new Set([...n.current,...f])),h.length>0){console.log(`[InventoryAlerts] Processing ${h.length} queued toasts...`),await hL(2e3);for(const m of h)console.log(`[InventoryAlerts] >>> Showing toast: ${m.title} - ${m.description}`),e({title:m.title,description:m.description,variant:m.variant,duration:1/0}),console.log(`[InventoryAlerts] <<< Shown toast: ${m.title}`),await hL(2e3);console.log("[InventoryAlerts] Finished processing queued toasts.")}},[e,t,i]);return A.useEffect(()=>{t&&(async()=>{try{const{data:l,error:u}=await Le.from("inventory_items").select("*");if(u)throw u;l&&o(l)}catch(l){console.error("Error fetching initial inventory for alerts:",l)}})()},[o,t]),A.useEffect(()=>{if(!Le)return;const s=l=>{const u=l.new;u&&(o([u]),pL(u)==="In Stock"&&r.current.has(u.id)&&r.current.delete(u.id))};return a.current=Le.channel("inventory_items_alerts").on("postgres_changes",{event:"*",schema:"public",table:"inventory_items"},s).subscribe((l,u)=>{l==="SUBSCRIBED"||(l==="CHANNEL_ERROR"||l==="TIMED_OUT"||l==="CLOSED"?console.error(`Inventory Alert Realtime subscription ${l}:`,u):l==="CHANNEL_ERROR"?console.error("Realtime channel error, attempting to resubscribe...",u):(l==="TIMED_OUT"||l==="CLOSED")&&console.warn(`Inventory Alert Realtime subscription ${l}.`,u))}),()=>{const l=a.current;l&&(Le.removeChannel(l).catch(u=>console.error("Error removing inventory alert channel:",u)),a.current=null)}},[Le,o,t]),null}const mL=e=>new Promise(t=>setTimeout(t,e)),L1e=30;function j1e(){console.log("[AssetAlerts] Hook initializing...");const{toast:e}=yn(),{user:t}=si(),r=A.useRef(new Set),n=A.useRef(new Set),a=A.useRef(null),i=A.useCallback((s,l)=>{if(!("Notification"in window)){console.warn("This browser does not support desktop notification");return}const u=()=>{Notification.requestPermission().then(d=>{d==="granted"?new Notification(s,l):console.warn("Desktop notification permission denied.")})};Notification.permission==="granted"?new Notification(s,l):Notification.permission!=="denied"&&u()},[]),o=A.useCallback(async s=>{if(console.log("[AssetAlerts] checkAndNotifyAssets called with:",s),!t){console.log("[AssetAlerts] checkAndNotifyAssets skipped (no user).");return}const l=new Date;l.setHours(0,0,0,0);const u=new Date(l);u.setDate(l.getDate()+L1e),console.log(`[AssetAlerts] Check running. Today (normalized): ${l.toISOString()}, Threshold Date: ${u.toISOString()}`);const d=new Set,f=new Set,h=[];for(const m of s){const x=m.id;if(m.next_maintenance_due_date){const g=new Date(m.next_maintenance_due_date),y=new Date(g.getFullYear(),g.getMonth(),g.getDate());if(console.log(`[AssetAlerts] Checking maintenance for asset "${m.asset_name}" (ID: ${x}). Due Date (normalized): ${y.toISOString()}`),y>=l&&y<=u){const _="maintenance_due",b=fx(new Date,12),{count:S,error:C}=await Le.from("notifications").select("id",{count:"exact",head:!0}).eq("user_id",t.id).eq("item_id",x).eq("item_type","asset").eq("notification_type",_).gte("created_at",b.toISOString());if(C?console.error("Error checking recent maintenance notifications:",C):console.log(`[AssetAlerts] Maintenance Throttling Check Result for ${m.asset_name}: Count=${S}`),!C&&S===0){console.log(`[AssetAlerts] PASSED maintenance check for asset "${m.asset_name}". Triggering notification.`),d.add(x);const E=`Asset "${m.asset_name}" requires maintenance by ${y.toLocaleDateString()}.`,O=`/assets?highlight=${x}`,P=`maintenance-due-${x}`;h.push({title:"Maintenance Due Soon",description:E,variant:"default",tag:P}),i("Maintenance Due Soon",{body:E,tag:P});try{const{error:I}=await Le.from("notifications").insert({user_id:t.id,message:E,link_url:O,item_id:x,item_type:"asset",notification_type:_});if(I)throw I}catch(I){console.error("Error inserting maintenance notification:",I)}}else!C&&S&&S>0&&console.log(`[AssetAlerts] Skipped maintenance notification for asset "${m.asset_name}" (sent recently).`)}}if(m.warranty_expiry_date){const g=new Date(m.warranty_expiry_date),y=new Date(g.getFullYear(),g.getMonth(),g.getDate());if(console.log(`[AssetAlerts] Checking warranty for asset "${m.asset_name}" (ID: ${x}). Expiry Date (normalized): ${y.toISOString()}`),y>=l&&y<=u){const _="warranty_expiry",b=fx(new Date,12),{count:S,error:C}=await Le.from("notifications").select("id",{count:"exact",head:!0}).eq("user_id",t.id).eq("item_id",x).eq("item_type","asset").eq("notification_type",_).gte("created_at",b.toISOString());if(C?console.error("Error checking recent warranty notifications:",C):console.log(`[AssetAlerts] Warranty Throttling Check Result for ${m.asset_name}: Count=${S}`),!C&&S===0){console.log(`[AssetAlerts] PASSED warranty check for asset "${m.asset_name}". Triggering notification.`),f.add(x);const E=`Warranty for asset "${m.asset_name}" expires on ${y.toLocaleDateString()}.`,O=`/assets?highlight=${x}`,P=`warranty-expiry-${x}`;h.push({title:"Warranty Expiring Soon",description:E,variant:"default",tag:P}),i("Warranty Expiring Soon",{body:E,tag:P});try{const{error:I}=await Le.from("notifications").insert({user_id:t.id,message:E,link_url:O,item_id:x,item_type:"asset",notification_type:_});if(I)throw I}catch(I){console.error("Error inserting warranty notification:",I)}}else!C&&S&&S>0&&console.log(`[AssetAlerts] Skipped warranty notification for asset "${m.asset_name}" (sent recently).`)}}}if(d.size>0&&(r.current=new Set([...r.current,...d])),f.size>0&&(n.current=new Set([...n.current,...f])),h.length>0){console.log(`[AssetAlerts] Processing ${h.length} queued toasts...`),await mL(2e3);for(const m of h)console.log(`[AssetAlerts] >>> Showing toast: ${m.title} - ${m.description}`),e({title:m.title,description:m.description,variant:m.variant,duration:1/0}),console.log(`[AssetAlerts] <<< Shown toast: ${m.title}`),await mL(2e3);console.log("[AssetAlerts] Finished processing queued toasts.")}},[e,t,i]);return A.useEffect(()=>{const s=async()=>{console.log("[AssetAlerts] Starting initial fetch...");try{const{data:l,error:u}=await Le.from("assets").select("*");if(u)throw console.error("Error fetching initial assets for alerts:",u),u;l?(console.log("[AssetAlerts] Initial fetch successful, data:",l),o(l)):console.log("[AssetAlerts] Initial fetch returned no data.")}catch{}};t&&(console.log("[AssetAlerts] User found, calling fetchInitialData."),s())},[o,t]),A.useEffect(()=>{if(!Le||!t)return;const s=u=>{console.log("[AssetAlerts] Asset change detected:",u);const d=u.new;d&&o([d])},l=`asset-alerts-channel-${t.id}`;return console.log(`[AssetAlerts] Attempting to subscribe to channel: ${l}`),a.current=Le.channel(l).on("postgres_changes",{event:"*",schema:"public",table:"assets"},s).subscribe((u,d)=>{console.log(`[AssetAlerts] Channel ${l} subscription status: ${u}`),u==="SUBSCRIBED"||(u==="CHANNEL_ERROR"||u==="TIMED_OUT"||u==="CLOSED")&&console.error(`[AssetAlerts] Asset Alert Realtime subscription ${u} on ${l}:`,d)}),()=>{const u=a.current;if(u){const d=u.topic;console.log(`[AssetAlerts] Attempting to unsubscribe from channel: ${d}`),Le.removeChannel(u).catch(f=>console.error(`[AssetAlerts] Error removing asset alert channel ${d}:`,f)).finally(()=>{a.current===u&&(a.current=null)})}}},[Le,o,t]),null}function $1e(){return QK(),F1e(),j1e(),w("div",{className:"min-h-screen bg-background",children:[" ",w("div",{className:"flex h-screen",children:[c(T1e,{}),w("div",{className:"flex flex-col flex-1 overflow-hidden",children:[c(c1e,{}),c("main",{className:"flex-1 overflow-y-auto",children:c("div",{className:"container py-6",children:c(BH,{})})})]})]})]})}class _k extends Error{constructor(r,n,a){super(`Transaction failed during ${r}: ${n.message}`);hr(this,"operation");hr(this,"partialData");hr(this,"originalError");this.name="TransactionError",this.operation=r,this.originalError=n,this.partialData=a}}async function gL(e,t){const r=[];let n=!0,a;try{await Le.rpc("begin_transaction");for(let i=0;i<e.length;i++)try{const o=await e[i]();r.push(o)}catch(o){throw n=!1,a=new _k(`Operation ${i}`,o,r),t&&i>0,a}return await Le.rpc("commit_transaction"),{success:!0,data:r.length===1?r[0]:r}}catch(i){try{await Le.rpc("rollback_transaction")}catch(o){console.error("Transaction rollback failed:",o)}return{success:!1,error:i instanceof _k?i:new _k("Unknown",i)}}}class B1e{constructor(t=5*60*1e3){hr(this,"cache");hr(this,"defaultTTL");this.cache=new Map,this.defaultTTL=t}set(t,r,n){this.cache.set(t,{data:r,timestamp:Date.now()+(n??this.defaultTTL)})}get(t){const r=this.cache.get(t);if(r){if(r.timestamp<Date.now()){this.invalidate(t);return}return r.data}}invalidate(t){this.cache.delete(t)}invalidatePattern(t){this.cache.forEach((r,n)=>{t.test(n)&&this.invalidate(n)})}clear(){this.cache.clear()}}const er=new B1e;function BD(e,t){return Le.channel(`public:${e}`).on("postgres_changes",{event:"*",schema:"public",table:e},r=>{er.invalidatePattern(new RegExp(`^${e}`)),t(r)}).subscribe()}const zt={storage:{async uploadFile(e,t){try{const r=e.name.split(".").pop(),n=`${t}/${Date.now()}-${Math.random().toString(36).substring(2,15)}.${r}`,{data:a,error:i}=await Le.storage.from("medical-records").upload(n,e,{cacheControl:"3600",upsert:!1});if(i)throw i;const{data:{publicUrl:o}}=Le.storage.from("medical-records").getPublicUrl(a.path);return{path:a.path,url:o,name:e.name,size:e.size,type:e.type}}catch(r){throw console.error("Error uploading file:",r),r}},async deleteFile(e,t){try{const{error:r}=await Le.storage.from(t).remove([e]);if(r)throw r;return!0}catch(r){throw console.error(`Error deleting file from bucket ${t}:`,r),r}},async uploadInventoryPhoto(e,t){const r="inventory-photos";try{const n=e.name.split(".").pop(),a=`${t}/${Date.now()}-${Math.random().toString(36).substring(2,15)}.${n}`,{data:i,error:o}=await Le.storage.from(r).upload(a,e,{cacheControl:"3600",upsert:!1});if(o)throw o;const{data:{publicUrl:s}}=Le.storage.from(r).getPublicUrl(i.path);return{path:i.path,url:s,name:e.name,size:e.size,type:e.type}}catch(n){throw console.error(`Error uploading to ${r}:`,n),n}},async uploadAssetPhoto(e,t){const r="asset-photos";try{const n=e.name.split(".").pop(),a=`${t}/${Date.now()}-${Math.random().toString(36).substring(2,15)}.${n}`,{data:i,error:o}=await Le.storage.from(r).upload(a,e,{cacheControl:"3600",upsert:!1});if(o)throw o;const{data:{publicUrl:s}}=Le.storage.from(r).getPublicUrl(i.path);return{path:i.path,url:s,name:e.name,size:e.size,type:e.type}}catch(n){throw console.error(`Error uploading to ${r}:`,n),n}}},staff:{async getAll(){const e=er.get("staff:all");if(e)return e;const{data:t,error:r}=await Le.from("staff").select("*").order("created_at",{ascending:!1});if(r)throw r;return er.set("staff:all",t),t||[]},async getDoctors(){const e=er.get("staff:doctors");if(e)return e;const{data:t,error:r}=await Le.from("staff").select("*").eq("role","doctor").order("created_at",{ascending:!1});if(r)throw r;return er.set("staff:doctors",t),t||[]},async getAvailableDoctors(e,t){try{const r=new Date(e),n=new Date(t),a=r.toLocaleDateString("en-US",{weekday:"long"}).toLowerCase(),i=`${String(r.getHours()).padStart(2,"0")}:${String(r.getMinutes()).padStart(2,"0")}`,o=`${String(n.getHours()).padStart(2,"0")}:${String(n.getMinutes()).padStart(2,"0")}`,s=await zt.staff.getDoctors(),{data:l,error:u}=await Le.from("absences").select("staff_id").lt("start_time",t).gt("end_time",e);u&&console.error("Error fetching overlapping absences:",u);const d=new Set((l==null?void 0:l.map(h=>h.staff_id))||[]);return s.filter(h=>{if(d.has(h.id))return!1;try{let m=[];if(typeof h.working_hours=="string")m=JSON.parse(h.working_hours);else if(Array.isArray(h.working_hours))m=h.working_hours;else return!1;const x=m.find(y=>y.day.toLowerCase()===a);return!(!x||x.is_open===!1||!(i>=x.start&&o<=x.end))}catch(m){return console.error(`Error processing working hours for doctor ${h.id}:`,h.working_hours,m),!1}})}catch(r){return console.error("Error getting available doctors:",r),[]}},async create(e){typeof e.working_hours=="object"&&e.working_hours!==null&&(e.working_hours=JSON.stringify(e.working_hours));const{data:t,error:r}=await Le.from("staff").insert(e).select().single();if(r)throw r;return er.invalidatePattern(/^staff/),t},async update(e,t){const{data:r,error:n}=await Le.from("staff").update(t).eq("id",e).select().single();if(n)throw n;return er.invalidatePattern(/^staff/),r}},absences:{async getAll(){const e="absences:all",t=er.get(e);if(t)return t;try{const{data:r,error:n}=await Le.from("absences").select("*").order("start_time",{ascending:!1});if(n)throw n;if(!r)return[];const a=await zt.staff.getAll(),i=new Map(a.map(s=>[s.id,s])),o=r.map(s=>{const l=s.staff_id?i.get(s.staff_id):null;return{...s,staff:l?{id:l.id,first_name:l.first_name,last_name:l.last_name}:null}});return er.set(e,o),o}catch(r){throw console.error("Error in api.absences.getAll:",r),r}},async create(e){if(!e.staff_id||!e.start_time||!e.end_time)throw new Error("Missing required fields for absence creation.");if(new Date(e.end_time)<=new Date(e.start_time))throw new Error("End time must be after start time.");const{data:t,error:r}=await Le.from("absences").insert(e).select().single();if(r)throw r;if(!t)throw new Error("Absence creation returned no data");return er.invalidate("absences:all"),t},async delete(e){const{error:t}=await Le.from("absences").delete().eq("id",e);if(t)throw t;er.invalidate("absences:all")}},patients:{async schedulePatientCommunication(e){const{data:t,error:r}=await Le.from("patient_communications").insert(e).select().single();if(r)throw r;return er.invalidate(`patient_communications:${e.patient_id}`),t},async getPatientCommunications(e){const t=`patient_communications:${e}`,r=er.get(t);if(r)return r;const{data:n,error:a}=await Le.from("patient_communications").select("*").eq("patient_id",e).order("created_at",{ascending:!1});if(a)throw a;return er.set(t,n),n||[]},async generateTreatmentPlan(e,t){var r,n;try{const[a,i]=await Promise.all([zt.patients.getMedicalRecords(e),zt.patients.getTreatmentPlans(e)]),o=[],s=[],l=await Le.auth.getSession(),u=(n=(r=l==null?void 0:l.data)==null?void 0:r.session)==null?void 0:n.access_token;if(!u)throw new Error("User not authenticated");const d=await fetch("/functions/v1/treatment-ai",{method:"POST",headers:{Authorization:`Bearer ${u}`,"Content-Type":"application/json"},body:JSON.stringify({patientId:e,currentIssue:t,medicalHistory:a,previousTreatments:i,assessments:o,diagnosticImages:s})});if(!d.ok)throw new Error("Failed to generate treatment plan");return await d.json()}catch(a){throw console.error("Error generating treatment plan:",a),a}},async getAll(){const e="patients:all",t=er.get("patients:all");if(t)return t;const{data:r,error:n}=await Le.from("patients").select("*").order("created_at",{ascending:!1});if(n)throw n;return er.set(e,r),r},async getById(e){const t=`patients:${e}`,r=er.get(t);if(r)return r;const{data:n,error:a}=await Le.from("patients").select("*").eq("id",e).single();if(a&&a.code!=="PGRST116")throw a;return n&&er.set(t,n),n},async search(e){const{data:t,error:r}=await Le.from("patients").select().or(`first_name.ilike.%${e}%,last_name.ilike.%${e}%,phone.ilike.%${e}%,registration_number.ilike.%${e}%`).order("created_at",{ascending:!1});if(r)throw r;return t},async create(e){const{data:t,error:r}=await Le.from("patients").insert(e).select().single();if(r)throw r;return er.invalidatePattern(/^patients/),t},async update(e,t){const{data:r,error:n}=await Le.from("patients").update(t).eq("id",e).select().single();if(n)throw n;return er.invalidate(`patients:${e}`),er.invalidate("patients:all"),r},async getMedicalRecords(e){const t=e?`medical_records:${e}`:"medical_records:all",r=er.get(t);if(r)return r;let n=Le.from("medical_records").select(`
          *,
          staff:created_by ( first_name, last_name ),
          medical_record_teeth (
            teeth ( id, description )
          )
        `).order("record_date",{ascending:!1});e&&(n=n.eq("patient_id",e));const{data:a,error:i}=await n;if(i)throw i;er.set(t,a);const o=(a==null?void 0:a.map(s=>{const l=Array.isArray(s.medical_record_teeth)?s.medical_record_teeth.map(d=>d.teeth).filter(d=>d!==null):[],u={...s};return delete u.medical_record_teeth,u.teeth=l,u}))||[];return console.log("API getMedicalRecords processedData:",o),o},async getTreatmentPlans(e=null){let t=Le.from("treatment_plans").select(`
          *,
          treatments (*),
          metadata:treatment_plan_metadata(*),
          visits:treatment_visits(*),
          teeth:treatment_plan_teeth(
            tooth_id
          )
        `).order("created_at",{ascending:!1});e&&(t=t.eq("patient_id",e));const{data:r,error:n}=await t;if(n)throw console.error("Error fetching treatment plans:",n),n;return r},async createMedicalRecord(e,t){const n={...e,record_type:(s=>{switch(s){case"consultation":return"examination";case"diagnosis":return"examination";case"treatment":return"procedure";case"prescription":return"prescription";case"lab_result":return"lab_result";case"other":return"note";default:return"note"}})(e.record_type)};console.log("API inserting mapped record:",n);const{data:a,error:i}=await Le.from("medical_records").insert(n).select().single();if(i)throw console.error("Error creating medical record:",i),i;if(!a)throw new Error("Failed to create medical record: No data returned.");const o=a.id;if(t&&t.length>0){const s=t.map(u=>({medical_record_id:o,tooth_id:u})),{error:l}=await Le.from("medical_record_teeth").insert(s);if(l)throw console.error("Error linking teeth to medical record:",l),l}return e.patient_id&&er.invalidate(`medical_records:${e.patient_id}`),er.invalidate("medical_records:all"),a},async updateMedicalRecord(e,t){const{data:r,error:n}=await Le.from("medical_records").update(t).eq("id",e).select().single();if(n)throw n;return er.invalidate(`medical_records:${t.patient_id}`),er.invalidate("medical_records:all"),r},async deleteMedicalRecord(e){const{data:t}=await Le.from("medical_records").select("patient_id").eq("id",e).single(),{error:r}=await Le.from("medical_records").delete().eq("id",e);if(r)throw r;t&&er.invalidate(`medical_records:${t.patient_id}`),er.invalidate("medical_records:all")},async getPatientDentalHistoryTeeth(e){if(!e)return console.warn("getPatientDentalHistoryTeeth called without patientId"),[];const t=`patient_dental_history_teeth:${e}`,r=er.get(t);if(r)return r;const{data:n,error:a}=await Le.from("patient_dental_history_teeth").select("tooth_id, conditions").eq("patient_id",e);if(a)throw console.error(`Error fetching dental history teeth for patient ${e}:`,a),a;const i=(n||[]).map(o=>({tooth_id:o.tooth_id,conditions:Array.isArray(o.conditions)?o.conditions.filter(s=>typeof s=="string"):[]}));return er.set(t,i,60*1e3),console.log(`Fetched dental history teeth list for patient ${e}:`,JSON.stringify(i)),i},async savePatientDentalHistoryTeethWithConditions(e,t){if(!e)throw new Error("Patient ID is required to save dental history teeth with conditions.");console.log(`Saving dental history teeth map (with conditions) for patient ${e}:`,JSON.stringify(t));const r=Object.keys(t).map(Number),n=Le.from("patient_dental_history_teeth").delete().eq("patient_id",e);r.length>0&&n.not("tooth_id","in",`(${r.join(",")})`);const{error:a}=await n;if(a)throw console.error(`Error deleting old dental history teeth (with conditions) for patient ${e}:`,a),a;if(console.log(`Deleted stale dental history teeth (with conditions) for patient ${e}.`),r.length>0){const i=r.map(s=>{var l;return{patient_id:e,tooth_id:s,conditions:(l=t[s])!=null&&l.conditions&&Array.isArray(t[s].conditions)?t[s].conditions:["healthy"]}}),{error:o}=await Le.from("patient_dental_history_teeth").upsert(i,{onConflict:"patient_id, tooth_id"});if(o)throw console.error(`Error upserting dental history teeth (with conditions) for patient ${e}:`,o),o;console.log(`Upserted dental history teeth (with conditions) for patient ${e}.`)}else console.log(`No dental history teeth in map for patient ${e}, only performed delete (with conditions).`);return er.invalidate(`patient_dental_history_teeth:${e}`),{success:!0}},async getPatientDentalHistoryTeethMap(e){if(!e)return console.warn("getPatientDentalHistoryTeethMap called without patientId"),{};const{data:t,error:r}=await Le.from("patient_dental_history_teeth").select("tooth_id, conditions").eq("patient_id",e);if(r)throw console.error(`Error fetching dental history teeth map for patient ${e}:`,r),r;const n={};return t&&t.forEach(a=>{const i=Array.isArray(a.conditions)&&a.conditions.length>0?a.conditions:["healthy"];n[a.tooth_id]={conditions:i}}),console.log(`Fetched and formatted dental history teeth map for patient ${e}:`,JSON.stringify(n)),n},async getPatientToothConditions(e){if(!e)return console.warn("getPatientToothConditions called without patientId"),[];const t=`patient_tooth_conditions:${e}`,r=er.get(t);if(r)return r;const{data:n,error:a}=await Le.from("patient_tooth_conditions").select("*").eq("patient_id",e);if(a)throw console.error(`Error fetching tooth conditions for patient ${e}:`,a),a;const i=n||[];return er.set(t,i,60*1e3),i},async savePatientToothConditionsDetailed(e,t){if(!e)throw new Error("Patient ID is required for savePatientToothConditionsDetailed.");if(!Array.isArray(t))throw new Error("Invalid conditions input: must be an array.");console.log(`Executing savePatientToothConditionsDetailed for patient ${e} with conditions:`,t);const n=await gL([async()=>{console.log(`Transaction Step 1: Deleting existing conditions for patient ${e}`);const{error:a}=await Le.from("patient_tooth_conditions").delete().eq("patient_id",e);if(a)throw console.error(`Transaction Step 1 FAILED: Error deleting conditions for patient ${e}:`,a),a;return console.log(`Transaction Step 1 SUCCESS: Deleted existing conditions for patient ${e}`),!0},async()=>{if(t.length===0)return console.log(`Transaction Step 2: No new conditions to insert for patient ${e}. Skipping insert.`),[];const a=t.map(s=>({...s,patient_id:e}));console.log(`Transaction Step 2: Inserting ${a.length} new conditions for patient ${e}:`,a);const{data:i,error:o}=await Le.from("patient_tooth_conditions").insert(a).select();if(o)throw console.error(`Transaction Step 2 FAILED: Error inserting conditions for patient ${e}:`,o),o;return console.log(`Transaction Step 2 SUCCESS: Inserted conditions for patient ${e}. Result:`,i),i||[]}]);if(n.success)return console.log(`Transaction successful for patient ${e}.`),er.invalidate(`patient_tooth_conditions:${e}`),{success:!0,data:n.data?n.data[1]:[]};throw console.error(`Transaction failed for patient ${e}:`,n.error),n.error||new Error("Unknown transaction error saving tooth conditions.")},async createTreatmentPlan(e,t){const{data:r,error:n}=await Le.from("treatment_plans").insert(e).select().single();if(n)return console.error("Error creating treatment plan:",n),{error:n};if(!r)return{error:new Error("Failed to create treatment plan: No data returned.")};if(t&&t.length>0){const a=t.map(o=>({treatment_plan_id:r.id,tooth_id:o})),{error:i}=await Le.from("treatment_plan_teeth").insert(a);if(i)return console.error("Error linking teeth to treatment plan:",i),{error:i}}return{data:r,error:null}},async getVisitsByPlanId(e){if(!e)return console.warn("[api.patients.getVisitsByPlanId] planId is required, exiting."),[];console.log(`[api.patients.getVisitsByPlanId] Attempting for planId: ${e} (Querying 'treatments' table)`);const t=`treatments_as_visits:plan:${e}`,r=er.get(t);if(r)return console.log(`[api.patients.getVisitsByPlanId] Cache hit for planId: ${e}`,r),r;console.log(`[api.patients.getVisitsByPlanId] Cache miss for planId: ${e}`),console.log(`[api.patients.getVisitsByPlanId] PRE-SUPABASE call for planId: ${e} (Targeting 'treatments')`);let n,a;try{const o=await Le.from("treatments").select("id").eq("plan_id",e);n=o.data,a=o.error,console.log(`[api.patients.getVisitsByPlanId] POST-SUPABASE call for planId: ${e}. Response data from 'treatments':`,n,"Response error:",a)}catch(o){throw console.error(`[api.patients.getVisitsByPlanId] NATIVE ERROR during Supabase call for planId ${e} (Targeting 'treatments'):`,o),o}if(a)throw console.error(`[api.patients.getVisitsByPlanId] Supabase returned error for plan ${e} (Targeting 'treatments'):`,a),a;const i=n||[];return console.log(`[api.patients.getVisitsByPlanId] Result for planId ${e} from 'treatments' before caching and returning:`,i),er.set(t,i),i},async createTreatmentPlanMetadata(e){const{data:t,error:r}=await Le.from("treatment_plan_metadata").insert(e).select().single();return{data:t,error:r}},async createTreatmentVisit(e){const t={...e,scheduled_date:e.scheduled_date?e.scheduled_date.toISOString().split("T")[0]:null},{data:r,error:n}=await Le.from("treatment_visits").insert([t]).select().single();if(n)throw n;return r},async createTreatmentVisitsBatch(e){const{data:t,error:r}=await Le.from("treatment_visits").insert(e).select();return r?(console.error("Error in createTreatmentVisitsBatch:",r),{data:null,error:r}):{data:t,error:null}},async getTreatmentPlanDetails(e){const{data:t,error:r}=await Le.from("treatment_plans").select(`
          *,
          metadata:treatment_plan_metadata(*),
          visits:treatment_visits(*),
          teeth:treatment_plan_teeth(
            tooth_id
          )
        `).eq("id",e).single();return r?(console.error("Error fetching treatment plan details:",r),{error:r}):{data:t,error:null}},async updateTreatmentPlan(e,t){const{data:r,error:n}=await Le.from("treatment_plans").update(t).eq("id",e).select().single();if(n)throw n;return er.invalidatePattern(/^treatment_plans/),r},async deleteTreatmentPlan(e){const{data:t}=await Le.from("treatment_plans").select("patient_id").eq("id",e).single(),{error:r}=await Le.from("treatment_plans").delete().eq("id",e);if(r)throw r;t&&er.invalidate(`treatment_plans:${t.patient_id}`),er.invalidate("treatment_plans:all")},async createTreatmentPlanWithTreatments(e,t){const r=[async()=>{const{data:a,error:i}=await Le.from("treatment_plans").insert(e).select().single();if(i)throw i;if(!a)throw new Error("Treatment plan creation returned no data");return a},async a=>{if(!a||!a.id)throw new Error("Failed to get ID from created treatment plan");const i=t.map(l=>({...l,plan_id:a.id}));if(i.length===0)return[];const{data:o,error:s}=await Le.from("treatments").insert(i).select();if(s)throw s;if(!o)throw new Error("Treatment creation returned no data");return o}],n=await gL([()=>r[0](),()=>r[1]({})]);if(n.success&&n.data){const a=n.data[0];a&&a.patient_id&&(er.invalidate(`treatment_plans:${a.patient_id}`),er.invalidate("treatment_plans:all"))}return n},async createTreatment(e){const{data:t,error:r}=await Le.from("treatments").insert(e).select().single();if(r)throw r;return er.invalidatePattern(/^treatment_plans/),t},async updateTreatment(e,t){const{data:r,error:n}=await Le.from("treatments").update(t).eq("id",e).select().single();if(n)throw n;return er.invalidatePattern(/^treatment_plans/),r},async deleteTreatment(e){const{error:t}=await Le.from("treatments").delete().eq("id",e);if(t)throw t;er.invalidatePattern(/^treatment_plans/)},async uploadProfilePhoto(e,t){try{const r=await zt.storage.uploadFile(e,t);return await zt.patients.update(t,{profile_photo_url:r.url}),r}catch(r){throw console.error("Error uploading profile photo:",r),r}},async uploadSignature(e,t){try{const r=await zt.storage.uploadFile(e,t);return await zt.patients.update(t,{signature_url:r.url}),r}catch(r){throw console.error("Error uploading signature:",r),r}},async addDocument(e,t,r,n=""){try{const a=await zt.storage.uploadFile(e,t),i=await zt.patients.getById(t);if(!i)throw new Error("Patient not found");const o=Array.isArray(i.documents)?i.documents:[];return o.push({...a,docType:r,notes:n,dateAdded:new Date().toISOString()}),await zt.patients.update(t,{documents:o}),a}catch(a){throw console.error("Error adding document:",a),a}},async removeDocument(e,t){try{const r=await zt.patients.getById(e);if(!r)throw new Error("Patient not found");const n=(Array.isArray(r.documents)?r.documents:[]).filter(a=>a.path!==t);return await zt.patients.update(e,{documents:n}),await zt.storage.deleteFile(t,"medical-records"),!0}catch(r){throw console.error("Error removing document:",r),r}},async getTreatmentVisitById(e){const t=`treatment_visit:${e}`,r=er.get(t);if(r)return r;const{data:n,error:a}=await Le.from("treatment_visits").select("*").eq("id",e).single();if(a&&a.code!=="PGRST116")throw console.error("Error fetching treatment visit by ID:",a),a;return n&&er.set(t,n),n},async savePatientDentalHistoryTeethWithConditions(e,t){if(!e)throw new Error("Patient ID is required to save dental history teeth with conditions.");console.log(`Saving dental history teeth map (with conditions) for patient ${e}:`,JSON.stringify(t));const r=Object.keys(t).map(Number),n=Le.from("patient_dental_history_teeth").delete().eq("patient_id",e);r.length>0&&n.not("tooth_id","in",`(${r.join(",")})`);const{error:a}=await n;if(a)throw console.error(`Error deleting old dental history teeth (with conditions) for patient ${e}:`,a),a;if(console.log(`Deleted stale dental history teeth (with conditions) for patient ${e}.`),r.length>0){const i=r.map(s=>{var l;return{patient_id:e,tooth_id:s,conditions:(l=t[s])!=null&&l.conditions&&Array.isArray(t[s].conditions)?t[s].conditions:["healthy"]}}),{error:o}=await Le.from("patient_dental_history_teeth").upsert(i,{onConflict:"patient_id, tooth_id"});if(o)throw console.error(`Error upserting dental history teeth (with conditions) for patient ${e}:`,o),o;console.log(`Upserted dental history teeth (with conditions) for patient ${e}.`)}else console.log(`No dental history teeth in map for patient ${e}, only performed delete (with conditions).`);return er.invalidate(`patient_dental_history_teeth:${e}`),{success:!0}}},inventory:{async getAll(){const e="inventory:all",t=er.get(e);if(t)return t;const{data:r,error:n}=await Le.from("inventory_items").select("*").order("created_at",{ascending:!1});if(n)throw n;return er.set(e,r||[]),r||[]},async getById(e){const t=`inventory:${e}`,r=er.get(t);if(r)return r;const{data:n,error:a}=await Le.from("inventory_items").select("*").eq("id",e).single();if(a&&a.code!=="PGRST116")throw a;return n&&er.set(t,n),n},async create(e){const{data:t,error:r}=await Le.from("inventory_items").insert(e).select().single();if(r)throw r;return er.invalidatePattern(/^inventory/),t},async update(e,t){const{data:r,error:n}=await Le.from("inventory_items").update(t).eq("id",e).select().single();if(n)throw n;return er.invalidate(`inventory:${e}`),er.invalidate("inventory:all"),r},async delete(e){const t=await zt.inventory.getById(e);if(t!=null&&t.photo_url)try{const a=new URL(t.photo_url).pathname.split("/inventory-photos/")[1];a&&await zt.storage.deleteFile(a,"inventory-photos")}catch(n){console.error("Error parsing/deleting inventory photo URL:",n)}const{error:r}=await Le.from("inventory_items").delete().eq("id",e);if(r)throw r;er.invalidate(`inventory:${e}`),er.invalidate("inventory:all")},async uploadPhoto(e,t){const r=await zt.storage.uploadInventoryPhoto(e,t);return await zt.inventory.update(t,{photo_url:r.url}),r}},assets:{async getAll(){const e="assets:all",t=er.get(e);if(t)return t;const{data:r,error:n}=await Le.from("assets").select("*").order("created_at",{ascending:!1});if(n)throw n;return er.set(e,r||[]),r||[]},async getById(e){const t=`assets:${e}`,r=er.get(t);if(r)return r;const{data:n,error:a}=await Le.from("assets").select("*").eq("id",e).single();if(a&&a.code!=="PGRST116")throw a;return n&&er.set(t,n),n},async create(e){const{data:t,error:r}=await Le.from("assets").insert(e).select().single();if(r)throw r;return er.invalidatePattern(/^assets/),t},async update(e,t){const{data:r,error:n}=await Le.from("assets").update(t).eq("id",e).select().single();if(n)throw n;return er.invalidate(`assets:${e}`),er.invalidate("assets:all"),r},async delete(e){const t=await zt.assets.getById(e);if(t!=null&&t.photo_url)try{const a=new URL(t.photo_url).pathname.split("/asset-photos/")[1];a&&await zt.storage.deleteFile(a,"asset-photos")}catch(n){console.error("Error parsing/deleting asset photo URL:",n)}const{error:r}=await Le.from("assets").delete().eq("id",e);if(r)throw r;er.invalidate(`assets:${e}`),er.invalidate("assets:all")},async uploadPhoto(e,t){const r=await zt.storage.uploadAssetPhoto(e,t);return await zt.assets.update(t,{photo_url:r.url}),r}},communications:{async schedule(e){var t,r;try{const n=await Le.auth.getSession(),a=(r=(t=n==null?void 0:n.data)==null?void 0:t.session)==null?void 0:r.access_token;a||console.warn("No access token found for scheduling communication.");const i=await fetch("/functions/v1/patient-communication",{method:"POST",headers:{"Content-Type":"application/json",...a?{Authorization:`Bearer ${a}`}:{}},body:JSON.stringify(e)});if(!i.ok){const s=await i.json();throw new Error(s.error||`Failed to schedule communication: ${i.statusText}`)}const o=await i.json();return console.log("Communication scheduled successfully:",o),o}catch(n){throw console.error("Error scheduling communication:",n),n}},async cancelByAppointment(e){var t,r;try{const n=await Le.auth.getSession(),a=(r=(t=n==null?void 0:n.data)==null?void 0:t.session)==null?void 0:r.access_token;a||console.warn("No access token found for cancelling communication.");const i=await fetch("/functions/v1/patient-communication/cancel-by-appointment",{method:"POST",headers:{"Content-Type":"application/json",...a?{Authorization:`Bearer ${a}`}:{}},body:JSON.stringify({appointmentId:e})});if(!i.ok){const s=await i.json();throw new Error(s.error||`Failed to cancel communications: ${i.statusText}`)}const o=await i.json();return console.log(`Communications cancellation requested for appointment ${e}:`,o),o}catch(n){throw console.error(`Error cancelling communications for appointment ${e}:`,n),n}}},appointments:{async getAll(){const e="appointments:all",t=er.get("appointments:all");if(t)return t;const{data:r,error:n}=await Le.from("appointments").select(`
          *,
          patients (id, first_name, last_name, email, phone),
          staff (id, first_name, last_name, role) 
        `).order("start_time",{ascending:!0});if(n)throw n;return er.set(e,r),r||[]},async getByDateRange(e,t){const r=`appointments:range:${e}:${t}`,n=er.get("appointments:range");if(n)return n;const{data:a,error:i}=await Le.from("appointments").select(`
         *,
         patients (id, first_name, last_name, email, phone),
         staff (id, first_name, last_name, role, specialization)
       `).gte("start_time",e).lte("start_time",t).order("start_time",{ascending:!0});if(i)throw i;return er.set(r,a,60*1e3),a||[]},async getByPatientId(e){const t=`appointments:patient:${e}`,r=er.get(t);if(r)return r;const{data:n,error:a}=await Le.from("appointments").select(`
          *,
          patients (id, first_name, last_name),
          staff (id, first_name, last_name)
        `).eq("patient_id",e).order("start_time",{ascending:!1});if(a)throw a;return er.set(t,n||[],60*1e3),n||[]},async create(e){const{data:t,error:r}=await Le.from("appointments").insert(e).select().single();if(r)throw r;return er.invalidatePattern(/^appointments/),t},async update(e,t){const{data:r,error:n}=await Le.from("appointments").update(t).eq("id",e).select().single();if(n)throw n;return er.invalidatePattern(/^appointments/),r},async cancel(e){const{data:t,error:r}=await Le.from("appointments").update({status:"cancelled"}).eq("id",e).select().single();if(r)throw r;return er.invalidatePattern(/^appointments/),t},async getAppointmentsByTreatmentIds(e){if(!e||e.length===0)return[];const{data:t,error:r}=await Le.from("appointments").select(`
          *,
          staff:staff_id (
            id,
            first_name,
            last_name,
            role,
            specialization
          )
        `).in("treatment_id",e);if(r)throw console.error("Error fetching appointments by treatment IDs:",r),r;return t||[]}},settings:{async get(){const e="clinic_settings",t=er.get(e);if(t)return t;const{data:r,error:n}=await Le.from("clinic_settings").select().order("created_at",{ascending:!1}).limit(1);if(n&&n.code!=="PGRST116")throw n;const a=(r==null?void 0:r[0])||{id:"",name:"DentalCare Pro",address:"123 Healthcare Avenue",phone:"+1234567890",email:"info@dentalcarepro.com",website:"https://dentalcarepro.com",working_hours:[{day:"monday",start:"09:00",end:"17:00",is_open:!0},{day:"tuesday",start:"09:00",end:"17:00",is_open:!0},{day:"wednesday",start:"09:00",end:"17:00",is_open:!0},{day:"thursday",start:"09:00",end:"17:00",is_open:!0},{day:"friday",start:"09:00",end:"17:00",is_open:!0},{day:"saturday",start:"10:00",end:"14:00",is_open:!1},{day:"sunday",start:"10:00",end:"14:00",is_open:!1}],notification_preferences:{reminder_time:"24h",system_updates:!0,sms_notifications:!0,email_notifications:!0,appointment_reminders:!0},created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return er.set(e,a),a},async update(e){if(!e.id){const i={...e,name:e.name||"Default Clinic Name"},{data:o,error:s}=await Le.from("clinic_settings").insert(i).select().single();if(s)throw s;return er.invalidate("clinic_settings"),o}const{id:t,...r}=e,{data:n,error:a}=await Le.from("clinic_settings").update(r).eq("id",t).select().single();if(a)throw a;return er.invalidate("clinic_settings"),n}},async getTreatmentMatrixOptions(){const e="treatmentMatrixOptionsPairs",t=er.get(e);if(t)return t;try{const{data:r,error:n}=await Le.from("ai_treatment_planning_matrix").select("domain, condition").not("domain","is",null).not("condition","is",null);if(n)throw n;const a=r?Array.from(new Map(r.map(o=>[`${o.domain}-${o.condition}`,o])).values()):[];a.sort((o,s)=>o.domain<s.domain?-1:o.domain>s.domain?1:o.condition<s.condition?-1:o.condition>s.condition?1:0);const i=a;return er.set(e,i,60*60*1e3),i}catch(r){return console.error("Error fetching treatment matrix options pairs:",r),[]}},async getMatrixDetails(e,t){const r=`matrixDetails:${e}:${t}`,n=er.get(r);if(n!==void 0)return n;try{const{data:a,error:i}=await Le.from("ai_treatment_planning_matrix").select("*").eq("domain",e).eq("condition",t).limit(1).maybeSingle();if(i&&i.code!=="PGRST116")throw i;return er.set(r,a,5*60*1e3),a}catch(a){return console.error(`Error fetching matrix details for ${e}/${t}:`,a),null}},async getVisitsByPlanId(e){if(!e)return[];const{data:t,error:r}=await Le.from("treatment_visits").select("id").eq("treatment_plan_id",e);if(r)throw console.error(`Error fetching visits for plan ${e}:`,r),r;return t||[]},async uploadProfilePhoto(e,t){try{const r=await zt.storage.uploadFile(e,t);return await zt.patients.update(t,{profile_photo_url:r.url}),r}catch(r){throw console.error("Error uploading profile photo:",r),r}},async uploadSignature(e,t){try{const r=await zt.storage.uploadFile(e,t);return await zt.patients.update(t,{signature_url:r.url}),r}catch(r){throw console.error("Error uploading signature:",r),r}},async addDocument(e,t,r,n=""){try{const a=await zt.storage.uploadFile(e,t),i=await zt.patients.getById(t);if(!i)throw new Error("Patient not found");const o=Array.isArray(i.documents)?i.documents:[];return o.push({...a,docType:r,notes:n,dateAdded:new Date().toISOString()}),await zt.patients.update(t,{documents:o}),a}catch(a){throw console.error("Error adding document:",a),a}},async removeDocument(e,t){try{const r=await zt.patients.getById(e);if(!r)throw new Error("Patient not found");const n=(Array.isArray(r.documents)?r.documents:[]).filter(a=>a.path!==t);return await zt.patients.update(e,{documents:n}),await zt.storage.deleteFile(t,"medical-records"),!0}catch(r){throw console.error("Error removing document:",r),r}}};function Sa({heading:e,text:t,children:r,className:n}){return w("div",{className:Rt("grid gap-1",n),children:[c("h1",{className:"text-2xl font-semibold tracking-tight",children:e}),t&&c("p",{className:"text-muted-foreground",children:t}),r]})}function h6(e,[t,r]){return Math.min(r,Math.max(t,e))}function T4(e){const t=A.useRef({value:e,previous:e});return A.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var eX=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),U1e="VisuallyHidden",O4=A.forwardRef((e,t)=>c(pr.span,{...e,ref:t,style:{...eX,...e.style}}));O4.displayName=U1e;var q1e=O4,z1e=[" ","Enter","ArrowUp","ArrowDown"],W1e=[" ","Enter"],eg="Select",[D4,I4,V1e]=Pw(eg),[hy,IJe]=Qi(eg,[V1e,Em]),R4=Em(),[H1e,Pm]=hy(eg),[G1e,Y1e]=hy(eg),tX=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:s,onValueChange:l,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:x}=e,g=R4(t),[y,_]=A.useState(null),[b,S]=A.useState(null),[C,E]=A.useState(!1),O=bg(u),[P,I]=ul({prop:n,defaultProp:a??!1,onChange:i,caller:eg}),[L,U]=ul({prop:o,defaultProp:s,onChange:l,caller:eg}),T=A.useRef(null),F=y?x||!!y.closest("form"):!0,[j,H]=A.useState(new Set),X=Array.from(j).map(re=>re.props.value).join(";");return c(g4,{...g,children:w(H1e,{required:m,scope:t,trigger:y,onTriggerChange:_,valueNode:b,onValueNodeChange:S,valueNodeHasChildren:C,onValueNodeHasChildrenChange:E,contentId:Rl(),value:L,onValueChange:U,open:P,onOpenChange:I,dir:O,triggerPointerDownPosRef:T,disabled:h,children:[c(D4.Provider,{scope:t,children:c(G1e,{scope:e.__scopeSelect,onNativeOptionAdd:A.useCallback(re=>{H(z=>new Set(z).add(re))},[]),onNativeOptionRemove:A.useCallback(re=>{H(z=>{const G=new Set(z);return G.delete(re),G})},[]),children:r})}),F?w(kX,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:L,onChange:re=>U(re.target.value),disabled:h,form:x,children:[L===void 0?c("option",{value:""}):null,Array.from(j)]},X):null]})})};tX.displayName=eg;var rX="SelectTrigger",nX=A.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=R4(r),o=Pm(rX,r),s=o.disabled||n,l=Vr(t,o.onTriggerChange),u=I4(r),d=A.useRef("touch"),[f,h,m]=EX(g=>{const y=u().filter(S=>!S.disabled),_=y.find(S=>S.value===o.value),b=CX(y,g,_);b!==void 0&&o.onValueChange(b.value)}),x=g=>{s||(o.onOpenChange(!0),m()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return c(Dw,{asChild:!0,...i,children:c(pr.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":NX(o.value)?"":void 0,...a,ref:l,onClick:qt(a.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&x(g)}),onPointerDown:qt(a.onPointerDown,g=>{d.current=g.pointerType;const y=g.target;y.hasPointerCapture(g.pointerId)&&y.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(x(g),g.preventDefault())}),onKeyDown:qt(a.onKeyDown,g=>{const y=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(y&&g.key===" ")&&z1e.includes(g.key)&&(x(),g.preventDefault())})})})});nX.displayName=rX;var aX="SelectValue",iX=A.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...s}=e,l=Pm(aX,r),{onValueNodeHasChildrenChange:u}=l,d=i!==void 0,f=Vr(t,l.onValueNodeChange);return oi(()=>{u(d)},[u,d]),c(pr.span,{...s,ref:f,style:{pointerEvents:"none"},children:NX(l.value)?c(Sr,{children:o}):i})});iX.displayName=aX;var K1e="SelectIcon",oX=A.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return c(pr.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});oX.displayName=K1e;var X1e="SelectPortal",sX=e=>c(uy,{asChild:!0,...e});sX.displayName=X1e;var tg="SelectContent",lX=A.forwardRef((e,t)=>{const r=Pm(tg,e.__scopeSelect),[n,a]=A.useState();if(oi(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?ay.createPortal(c(cX,{scope:e.__scopeSelect,children:c(D4.Slot,{scope:e.__scopeSelect,children:c("div",{children:e.children})})}),i):null}return c(uX,{...e,ref:t})});lX.displayName=tg;var Iu=10,[cX,Tm]=hy(tg),Z1e="SelectContentImpl",J1e=sm("SelectContent.RemoveScroll"),uX=A.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:s,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:x,hideWhenDetached:g,avoidCollisions:y,..._}=e,b=Pm(tg,r),[S,C]=A.useState(null),[E,O]=A.useState(null),P=Vr(t,te=>C(te)),[I,L]=A.useState(null),[U,T]=A.useState(null),F=I4(r),[j,H]=A.useState(!1),X=A.useRef(!1);A.useEffect(()=>{if(S)return x4(S)},[S]),d4();const re=A.useCallback(te=>{const[de,...Z]=F().map(ae=>ae.ref.current),[ce]=Z.slice(-1),oe=document.activeElement;for(const ae of te)if(ae===oe||(ae==null||ae.scrollIntoView({block:"nearest"}),ae===de&&E&&(E.scrollTop=0),ae===ce&&E&&(E.scrollTop=E.scrollHeight),ae==null||ae.focus(),document.activeElement!==oe))return},[F,E]),z=A.useCallback(()=>re([I,S]),[re,I,S]);A.useEffect(()=>{j&&z()},[j,z]);const{onOpenChange:G,triggerPointerDownPosRef:q}=b;A.useEffect(()=>{if(S){let te={x:0,y:0};const de=ce=>{var oe,ae;te={x:Math.abs(Math.round(ce.pageX)-(((oe=q.current)==null?void 0:oe.x)??0)),y:Math.abs(Math.round(ce.pageY)-(((ae=q.current)==null?void 0:ae.y)??0))}},Z=ce=>{te.x<=10&&te.y<=10?ce.preventDefault():S.contains(ce.target)||G(!1),document.removeEventListener("pointermove",de),q.current=null};return q.current!==null&&(document.addEventListener("pointermove",de),document.addEventListener("pointerup",Z,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",de),document.removeEventListener("pointerup",Z,{capture:!0})}}},[S,G,q]),A.useEffect(()=>{const te=()=>G(!1);return window.addEventListener("blur",te),window.addEventListener("resize",te),()=>{window.removeEventListener("blur",te),window.removeEventListener("resize",te)}},[G]);const[K,J]=EX(te=>{const de=F().filter(oe=>!oe.disabled),Z=de.find(oe=>oe.ref.current===document.activeElement),ce=CX(de,te,Z);ce&&setTimeout(()=>ce.ref.current.focus())}),D=A.useCallback((te,de,Z)=>{const ce=!X.current&&!Z;(b.value!==void 0&&b.value===de||ce)&&(L(te),ce&&(X.current=!0))},[b.value]),Y=A.useCallback(()=>S==null?void 0:S.focus(),[S]),Q=A.useCallback((te,de,Z)=>{const ce=!X.current&&!Z;(b.value!==void 0&&b.value===de||ce)&&T(te)},[b.value]),ie=n==="popper"?p6:dX,se=ie===p6?{side:s,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:x,hideWhenDetached:g,avoidCollisions:y}:{};return c(cX,{scope:r,content:S,viewport:E,onViewportChange:O,itemRefCallback:D,selectedItem:I,onItemLeave:Y,itemTextRefCallback:Q,focusSelectedItem:z,selectedItemText:U,position:n,isPositioned:j,searchRef:K,children:c(Rw,{as:J1e,allowPinchZoom:!0,children:c(Tw,{asChild:!0,trapped:b.open,onMountAutoFocus:te=>{te.preventDefault()},onUnmountAutoFocus:qt(a,te=>{var de;(de=b.trigger)==null||de.focus({preventScroll:!0}),te.preventDefault()}),children:c(Sg,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:te=>te.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:c(ie,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:te=>te.preventDefault(),..._,...se,onPlaced:()=>H(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:qt(_.onKeyDown,te=>{const de=te.ctrlKey||te.altKey||te.metaKey;if(te.key==="Tab"&&te.preventDefault(),!de&&te.key.length===1&&J(te.key),["ArrowUp","ArrowDown","Home","End"].includes(te.key)){let ce=F().filter(oe=>!oe.disabled).map(oe=>oe.ref.current);if(["ArrowUp","End"].includes(te.key)&&(ce=ce.slice().reverse()),["ArrowUp","ArrowDown"].includes(te.key)){const oe=te.target,ae=ce.indexOf(oe);ce=ce.slice(ae+1)}setTimeout(()=>re(ce)),te.preventDefault()}})})})})})})});uX.displayName=Z1e;var Q1e="SelectItemAlignedPosition",dX=A.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=Pm(tg,r),o=Tm(tg,r),[s,l]=A.useState(null),[u,d]=A.useState(null),f=Vr(t,P=>d(P)),h=I4(r),m=A.useRef(!1),x=A.useRef(!0),{viewport:g,selectedItem:y,selectedItemText:_,focusSelectedItem:b}=o,S=A.useCallback(()=>{if(i.trigger&&i.valueNode&&s&&u&&g&&y&&_){const P=i.trigger.getBoundingClientRect(),I=u.getBoundingClientRect(),L=i.valueNode.getBoundingClientRect(),U=_.getBoundingClientRect();if(i.dir!=="rtl"){const oe=U.left-I.left,ae=L.left-oe,Ne=P.left-ae,Ie=P.width+Ne,Te=Math.max(Ie,I.width),he=window.innerWidth-Iu,Ge=h6(ae,[Iu,Math.max(Iu,he-Te)]);s.style.minWidth=Ie+"px",s.style.left=Ge+"px"}else{const oe=I.right-U.right,ae=window.innerWidth-L.right-oe,Ne=window.innerWidth-P.right-ae,Ie=P.width+Ne,Te=Math.max(Ie,I.width),he=window.innerWidth-Iu,Ge=h6(ae,[Iu,Math.max(Iu,he-Te)]);s.style.minWidth=Ie+"px",s.style.right=Ge+"px"}const T=h(),F=window.innerHeight-Iu*2,j=g.scrollHeight,H=window.getComputedStyle(u),X=parseInt(H.borderTopWidth,10),re=parseInt(H.paddingTop,10),z=parseInt(H.borderBottomWidth,10),G=parseInt(H.paddingBottom,10),q=X+re+j+G+z,K=Math.min(y.offsetHeight*5,q),J=window.getComputedStyle(g),D=parseInt(J.paddingTop,10),Y=parseInt(J.paddingBottom,10),Q=P.top+P.height/2-Iu,ie=F-Q,se=y.offsetHeight/2,te=y.offsetTop+se,de=X+re+te,Z=q-de;if(de<=Q){const oe=T.length>0&&y===T[T.length-1].ref.current;s.style.bottom="0px";const ae=u.clientHeight-g.offsetTop-g.offsetHeight,Ne=Math.max(ie,se+(oe?Y:0)+ae+z),Ie=de+Ne;s.style.height=Ie+"px"}else{const oe=T.length>0&&y===T[0].ref.current;s.style.top="0px";const Ne=Math.max(Q,X+g.offsetTop+(oe?D:0)+se)+Z;s.style.height=Ne+"px",g.scrollTop=de-Q+g.offsetTop}s.style.margin=`${Iu}px 0`,s.style.minHeight=K+"px",s.style.maxHeight=F+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[h,i.trigger,i.valueNode,s,u,g,y,_,i.dir,n]);oi(()=>S(),[S]);const[C,E]=A.useState();oi(()=>{u&&E(window.getComputedStyle(u).zIndex)},[u]);const O=A.useCallback(P=>{P&&x.current===!0&&(S(),b==null||b(),x.current=!1)},[S,b]);return c(tye,{scope:r,contentWrapper:s,shouldExpandOnScrollRef:m,onScrollButtonChange:O,children:c("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:c(pr.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});dX.displayName=Q1e;var eye="SelectPopperPosition",p6=A.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Iu,...i}=e,o=R4(r);return c(v4,{...o,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});p6.displayName=eye;var[tye,UD]=hy(tg,{}),m6="SelectViewport",fX=A.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=Tm(m6,r),o=UD(m6,r),s=Vr(t,i.onViewportChange),l=A.useRef(0);return w(Sr,{children:[c("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),c(D4.Slot,{scope:r,children:c(pr.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:s,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:qt(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const m=Math.abs(l.current-d.scrollTop);if(m>0){const x=window.innerHeight-Iu*2,g=parseFloat(f.style.minHeight),y=parseFloat(f.style.height),_=Math.max(g,y);if(_<x){const b=_+m,S=Math.min(x,b),C=b-S;f.style.height=S+"px",f.style.bottom==="0px"&&(d.scrollTop=C>0?C:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});fX.displayName=m6;var hX="SelectGroup",[rye,nye]=hy(hX),aye=A.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Rl();return c(rye,{scope:r,id:a,children:c(pr.div,{role:"group","aria-labelledby":a,...n,ref:t})})});aye.displayName=hX;var pX="SelectLabel",mX=A.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=nye(pX,r);return c(pr.div,{id:a.id,...n,ref:t})});mX.displayName=pX;var S5="SelectItem",[iye,gX]=hy(S5),vX=A.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=e,s=Pm(S5,r),l=Tm(S5,r),u=s.value===n,[d,f]=A.useState(i??""),[h,m]=A.useState(!1),x=Vr(t,b=>{var S;return(S=l.itemRefCallback)==null?void 0:S.call(l,b,n,a)}),g=Rl(),y=A.useRef("touch"),_=()=>{a||(s.onValueChange(n),s.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c(iye,{scope:r,value:n,disabled:a,textId:g,isSelected:u,onItemTextChange:A.useCallback(b=>{f(S=>S||((b==null?void 0:b.textContent)??"").trim())},[]),children:c(D4.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:c(pr.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:x,onFocus:qt(o.onFocus,()=>m(!0)),onBlur:qt(o.onBlur,()=>m(!1)),onClick:qt(o.onClick,()=>{y.current!=="mouse"&&_()}),onPointerUp:qt(o.onPointerUp,()=>{y.current==="mouse"&&_()}),onPointerDown:qt(o.onPointerDown,b=>{y.current=b.pointerType}),onPointerMove:qt(o.onPointerMove,b=>{var S;y.current=b.pointerType,a?(S=l.onItemLeave)==null||S.call(l):y.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:qt(o.onPointerLeave,b=>{var S;b.currentTarget===document.activeElement&&((S=l.onItemLeave)==null||S.call(l))}),onKeyDown:qt(o.onKeyDown,b=>{var C;((C=l.searchRef)==null?void 0:C.current)!==""&&b.key===" "||(W1e.includes(b.key)&&_(),b.key===" "&&b.preventDefault())})})})})});vX.displayName=S5;var b2="SelectItemText",yX=A.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,o=Pm(b2,r),s=Tm(b2,r),l=gX(b2,r),u=Y1e(b2,r),[d,f]=A.useState(null),h=Vr(t,_=>f(_),l.onItemTextChange,_=>{var b;return(b=s.itemTextRefCallback)==null?void 0:b.call(s,_,l.value,l.disabled)}),m=d==null?void 0:d.textContent,x=A.useMemo(()=>c("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:y}=u;return oi(()=>(g(x),()=>y(x)),[g,y,x]),w(Sr,{children:[c(pr.span,{id:l.textId,...i,ref:h}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ay.createPortal(i.children,o.valueNode):null]})});yX.displayName=b2;var xX="SelectItemIndicator",wX=A.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return gX(xX,r).isSelected?c(pr.span,{"aria-hidden":!0,...n,ref:t}):null});wX.displayName=xX;var g6="SelectScrollUpButton",_X=A.forwardRef((e,t)=>{const r=Tm(g6,e.__scopeSelect),n=UD(g6,e.__scopeSelect),[a,i]=A.useState(!1),o=Vr(t,n.onScrollButtonChange);return oi(()=>{if(r.viewport&&r.isPositioned){let s=function(){const u=l.scrollTop>0;i(u)};const l=r.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[r.viewport,r.isPositioned]),a?c(SX,{...e,ref:o,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=r;s&&l&&(s.scrollTop=s.scrollTop-l.offsetHeight)}}):null});_X.displayName=g6;var v6="SelectScrollDownButton",bX=A.forwardRef((e,t)=>{const r=Tm(v6,e.__scopeSelect),n=UD(v6,e.__scopeSelect),[a,i]=A.useState(!1),o=Vr(t,n.onScrollButtonChange);return oi(()=>{if(r.viewport&&r.isPositioned){let s=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;i(d)};const l=r.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[r.viewport,r.isPositioned]),a?c(SX,{...e,ref:o,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=r;s&&l&&(s.scrollTop=s.scrollTop+l.offsetHeight)}}):null});bX.displayName=v6;var SX=A.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=Tm("SelectScrollButton",r),o=A.useRef(null),s=I4(r),l=A.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return A.useEffect(()=>()=>l(),[l]),oi(()=>{var d;const u=s().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[s]),c(pr.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:qt(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:qt(a.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:qt(a.onPointerLeave,()=>{l()})})}),oye="SelectSeparator",AX=A.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return c(pr.div,{"aria-hidden":!0,...n,ref:t})});AX.displayName=oye;var y6="SelectArrow",sye=A.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=R4(r),i=Pm(y6,r),o=Tm(y6,r);return i.open&&o.position==="popper"?c(y4,{...a,...n,ref:t}):null});sye.displayName=y6;var lye="SelectBubbleInput",kX=A.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=A.useRef(null),i=Vr(n,a),o=T4(t);return A.useEffect(()=>{const s=a.current;if(!s)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(s,t),s.dispatchEvent(f)}},[o,t]),c(pr.select,{...r,style:{...eX,...r.style},ref:i,defaultValue:t})});kX.displayName=lye;function NX(e){return e===""||e===void 0}function EX(e){const t=Ci(e),r=A.useRef(""),n=A.useRef(0),a=A.useCallback(o=>{const s=r.current+o;t(s),function l(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>l(""),1e3))}(s)},[t]),i=A.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return A.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function CX(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=cye(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const l=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return l!==r?l:void 0}function cye(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var uye=tX,PX=nX,dye=iX,fye=oX,hye=sX,TX=lX,pye=fX,OX=mX,DX=vX,mye=yX,gye=wX,IX=_X,RX=bX,MX=AX;const zr=uye,Wr=dye,$r=A.forwardRef(({className:e,children:t,...r},n)=>w(PX,{ref:n,className:Rt("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,c(fye,{asChild:!0,children:c(G8,{className:"h-4 w-4 opacity-50"})})]}));$r.displayName=PX.displayName;const FX=A.forwardRef(({className:e,...t},r)=>c(IX,{ref:r,className:Rt("flex cursor-default items-center justify-center py-1",e),...t,children:c(pce,{className:"h-4 w-4"})}));FX.displayName=IX.displayName;const LX=A.forwardRef(({className:e,...t},r)=>c(RX,{ref:r,className:Rt("flex cursor-default items-center justify-center py-1",e),...t,children:c(G8,{className:"h-4 w-4"})}));LX.displayName=RX.displayName;const Br=A.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>c(hye,{children:w(TX,{ref:a,className:Rt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[c(FX,{}),c(pye,{className:Rt("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),c(LX,{})]})}));Br.displayName=TX.displayName;const vye=A.forwardRef(({className:e,...t},r)=>c(OX,{ref:r,className:Rt("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));vye.displayName=OX.displayName;const _t=A.forwardRef(({className:e,children:t,...r},n)=>w(DX,{ref:n,className:Rt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[c("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c(gye,{children:c(U0,{className:"h-4 w-4"})})}),c(mye,{children:t})]}));_t.displayName=DX.displayName;const yye=A.forwardRef(({className:e,...t},r)=>c(MX,{ref:r,className:Rt("-mx-1 my-1 h-px bg-muted",e),...t}));yye.displayName=MX.displayName;var bk,vL;function $l(){if(vL)return bk;vL=1;var e=Array.isArray;return bk=e,bk}var Sk,yL;function jX(){if(yL)return Sk;yL=1;var e=typeof V_=="object"&&V_&&V_.Object===Object&&V_;return Sk=e,Sk}var Ak,xL;function mf(){if(xL)return Ak;xL=1;var e=jX(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return Ak=r,Ak}var kk,wL;function $w(){if(wL)return kk;wL=1;var e=mf(),t=e.Symbol;return kk=t,kk}var Nk,_L;function xye(){if(_L)return Nk;_L=1;var e=$w(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,a=e?e.toStringTag:void 0;function i(o){var s=r.call(o,a),l=o[a];try{o[a]=void 0;var u=!0}catch{}var d=n.call(o);return u&&(s?o[a]=l:delete o[a]),d}return Nk=i,Nk}var Ek,bL;function wye(){if(bL)return Ek;bL=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return Ek=r,Ek}var Ck,SL;function Th(){if(SL)return Ck;SL=1;var e=$w(),t=xye(),r=wye(),n="[object Null]",a="[object Undefined]",i=e?e.toStringTag:void 0;function o(s){return s==null?s===void 0?a:n:i&&i in Object(s)?t(s):r(s)}return Ck=o,Ck}var Pk,AL;function Oh(){if(AL)return Pk;AL=1;function e(t){return t!=null&&typeof t=="object"}return Pk=e,Pk}var Tk,kL;function py(){if(kL)return Tk;kL=1;var e=Th(),t=Oh(),r="[object Symbol]";function n(a){return typeof a=="symbol"||t(a)&&e(a)==r}return Tk=n,Tk}var Ok,NL;function qD(){if(NL)return Ok;NL=1;var e=$l(),t=py(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,o){if(e(i))return!1;var s=typeof i;return s=="number"||s=="symbol"||s=="boolean"||i==null||t(i)?!0:n.test(i)||!r.test(i)||o!=null&&i in Object(o)}return Ok=a,Ok}var Dk,EL;function Om(){if(EL)return Dk;EL=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return Dk=e,Dk}var Ik,CL;function zD(){if(CL)return Ik;CL=1;var e=Th(),t=Om(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function o(s){if(!t(s))return!1;var l=e(s);return l==n||l==a||l==r||l==i}return Ik=o,Ik}var Rk,PL;function _ye(){if(PL)return Rk;PL=1;var e=mf(),t=e["__core-js_shared__"];return Rk=t,Rk}var Mk,TL;function bye(){if(TL)return Mk;TL=1;var e=_ye(),t=function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!t&&t in n}return Mk=r,Mk}var Fk,OL;function $X(){if(OL)return Fk;OL=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return Fk=r,Fk}var Lk,DL;function Sye(){if(DL)return Lk;DL=1;var e=zD(),t=bye(),r=Om(),n=$X(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,s=Object.prototype,l=o.toString,u=s.hasOwnProperty,d=RegExp("^"+l.call(u).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(h){if(!r(h)||t(h))return!1;var m=e(h)?d:i;return m.test(n(h))}return Lk=f,Lk}var jk,IL;function Aye(){if(IL)return jk;IL=1;function e(t,r){return t==null?void 0:t[r]}return jk=e,jk}var $k,RL;function Eg(){if(RL)return $k;RL=1;var e=Sye(),t=Aye();function r(n,a){var i=t(n,a);return e(i)?i:void 0}return $k=r,$k}var Bk,ML;function M4(){if(ML)return Bk;ML=1;var e=Eg(),t=e(Object,"create");return Bk=t,Bk}var Uk,FL;function kye(){if(FL)return Uk;FL=1;var e=M4();function t(){this.__data__=e?e(null):{},this.size=0}return Uk=t,Uk}var qk,LL;function Nye(){if(LL)return qk;LL=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return qk=e,qk}var zk,jL;function Eye(){if(jL)return zk;jL=1;var e=M4(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(i){var o=this.__data__;if(e){var s=o[i];return s===t?void 0:s}return n.call(o,i)?o[i]:void 0}return zk=a,zk}var Wk,$L;function Cye(){if($L)return Wk;$L=1;var e=M4(),t=Object.prototype,r=t.hasOwnProperty;function n(a){var i=this.__data__;return e?i[a]!==void 0:r.call(i,a)}return Wk=n,Wk}var Vk,BL;function Pye(){if(BL)return Vk;BL=1;var e=M4(),t="__lodash_hash_undefined__";function r(n,a){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=e&&a===void 0?t:a,this}return Vk=r,Vk}var Hk,UL;function Tye(){if(UL)return Hk;UL=1;var e=kye(),t=Nye(),r=Eye(),n=Cye(),a=Pye();function i(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var u=o[s];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,Hk=i,Hk}var Gk,qL;function Oye(){if(qL)return Gk;qL=1;function e(){this.__data__=[],this.size=0}return Gk=e,Gk}var Yk,zL;function WD(){if(zL)return Yk;zL=1;function e(t,r){return t===r||t!==t&&r!==r}return Yk=e,Yk}var Kk,WL;function F4(){if(WL)return Kk;WL=1;var e=WD();function t(r,n){for(var a=r.length;a--;)if(e(r[a][0],n))return a;return-1}return Kk=t,Kk}var Xk,VL;function Dye(){if(VL)return Xk;VL=1;var e=F4(),t=Array.prototype,r=t.splice;function n(a){var i=this.__data__,o=e(i,a);if(o<0)return!1;var s=i.length-1;return o==s?i.pop():r.call(i,o,1),--this.size,!0}return Xk=n,Xk}var Zk,HL;function Iye(){if(HL)return Zk;HL=1;var e=F4();function t(r){var n=this.__data__,a=e(n,r);return a<0?void 0:n[a][1]}return Zk=t,Zk}var Jk,GL;function Rye(){if(GL)return Jk;GL=1;var e=F4();function t(r){return e(this.__data__,r)>-1}return Jk=t,Jk}var Qk,YL;function Mye(){if(YL)return Qk;YL=1;var e=F4();function t(r,n){var a=this.__data__,i=e(a,r);return i<0?(++this.size,a.push([r,n])):a[i][1]=n,this}return Qk=t,Qk}var eN,KL;function L4(){if(KL)return eN;KL=1;var e=Oye(),t=Dye(),r=Iye(),n=Rye(),a=Mye();function i(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var u=o[s];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,eN=i,eN}var tN,XL;function VD(){if(XL)return tN;XL=1;var e=Eg(),t=mf(),r=e(t,"Map");return tN=r,tN}var rN,ZL;function Fye(){if(ZL)return rN;ZL=1;var e=Tye(),t=L4(),r=VD();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return rN=n,rN}var nN,JL;function Lye(){if(JL)return nN;JL=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return nN=e,nN}var aN,QL;function j4(){if(QL)return aN;QL=1;var e=Lye();function t(r,n){var a=r.__data__;return e(n)?a[typeof n=="string"?"string":"hash"]:a.map}return aN=t,aN}var iN,e9;function jye(){if(e9)return iN;e9=1;var e=j4();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return iN=t,iN}var oN,t9;function $ye(){if(t9)return oN;t9=1;var e=j4();function t(r){return e(this,r).get(r)}return oN=t,oN}var sN,r9;function Bye(){if(r9)return sN;r9=1;var e=j4();function t(r){return e(this,r).has(r)}return sN=t,sN}var lN,n9;function Uye(){if(n9)return lN;n9=1;var e=j4();function t(r,n){var a=e(this,r),i=a.size;return a.set(r,n),this.size+=a.size==i?0:1,this}return lN=t,lN}var cN,a9;function HD(){if(a9)return cN;a9=1;var e=Fye(),t=jye(),r=$ye(),n=Bye(),a=Uye();function i(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var u=o[s];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,cN=i,cN}var uN,i9;function BX(){if(i9)return uN;i9=1;var e=HD(),t="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(t);var i=function(){var o=arguments,s=a?a.apply(this,o):o[0],l=i.cache;if(l.has(s))return l.get(s);var u=n.apply(this,o);return i.cache=l.set(s,u)||l,u};return i.cache=new(r.Cache||e),i}return r.Cache=e,uN=r,uN}var dN,o9;function qye(){if(o9)return dN;o9=1;var e=BX(),t=500;function r(n){var a=e(n,function(o){return i.size===t&&i.clear(),o}),i=a.cache;return a}return dN=r,dN}var fN,s9;function zye(){if(s9)return fN;s9=1;var e=qye(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(t,function(o,s,l,u){i.push(l?u.replace(r,"$1"):s||o)}),i});return fN=n,fN}var hN,l9;function GD(){if(l9)return hN;l9=1;function e(t,r){for(var n=-1,a=t==null?0:t.length,i=Array(a);++n<a;)i[n]=r(t[n],n,t);return i}return hN=e,hN}var pN,c9;function Wye(){if(c9)return pN;c9=1;var e=$w(),t=GD(),r=$l(),n=py(),a=e?e.prototype:void 0,i=a?a.toString:void 0;function o(s){if(typeof s=="string")return s;if(r(s))return t(s,o)+"";if(n(s))return i?i.call(s):"";var l=s+"";return l=="0"&&1/s==-1/0?"-0":l}return pN=o,pN}var mN,u9;function UX(){if(u9)return mN;u9=1;var e=Wye();function t(r){return r==null?"":e(r)}return mN=t,mN}var gN,d9;function qX(){if(d9)return gN;d9=1;var e=$l(),t=qD(),r=zye(),n=UX();function a(i,o){return e(i)?i:t(i,o)?[i]:r(n(i))}return gN=a,gN}var vN,f9;function $4(){if(f9)return vN;f9=1;var e=py();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return vN=t,vN}var yN,h9;function YD(){if(h9)return yN;h9=1;var e=qX(),t=$4();function r(n,a){a=e(a,n);for(var i=0,o=a.length;n!=null&&i<o;)n=n[t(a[i++])];return i&&i==o?n:void 0}return yN=r,yN}var xN,p9;function zX(){if(p9)return xN;p9=1;var e=YD();function t(r,n,a){var i=r==null?void 0:e(r,n);return i===void 0?a:i}return xN=t,xN}var Vye=zX();const pc=ia(Vye);var wN,m9;function Hye(){if(m9)return wN;m9=1;function e(t){return t==null}return wN=e,wN}var Gye=Hye();const fn=ia(Gye);var _N,g9;function Yye(){if(g9)return _N;g9=1;var e=Th(),t=$l(),r=Oh(),n="[object String]";function a(i){return typeof i=="string"||!t(i)&&r(i)&&e(i)==n}return _N=a,_N}var Kye=Yye();const rg=ia(Kye);var Xye=zD();const Yr=ia(Xye);var Zye=Om();const my=ia(Zye);var bN={exports:{}},ca={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v9;function Jye(){if(v9)return ca;v9=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),s=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen"),x;x=Symbol.for("react.module.reference");function g(y){if(typeof y=="object"&&y!==null){var _=y.$$typeof;switch(_){case e:switch(y=y.type,y){case r:case a:case n:case u:case d:return y;default:switch(y=y&&y.$$typeof,y){case s:case o:case l:case h:case f:case i:return y;default:return _}}case t:return _}}}return ca.ContextConsumer=o,ca.ContextProvider=i,ca.Element=e,ca.ForwardRef=l,ca.Fragment=r,ca.Lazy=h,ca.Memo=f,ca.Portal=t,ca.Profiler=a,ca.StrictMode=n,ca.Suspense=u,ca.SuspenseList=d,ca.isAsyncMode=function(){return!1},ca.isConcurrentMode=function(){return!1},ca.isContextConsumer=function(y){return g(y)===o},ca.isContextProvider=function(y){return g(y)===i},ca.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===e},ca.isForwardRef=function(y){return g(y)===l},ca.isFragment=function(y){return g(y)===r},ca.isLazy=function(y){return g(y)===h},ca.isMemo=function(y){return g(y)===f},ca.isPortal=function(y){return g(y)===t},ca.isProfiler=function(y){return g(y)===a},ca.isStrictMode=function(y){return g(y)===n},ca.isSuspense=function(y){return g(y)===u},ca.isSuspenseList=function(y){return g(y)===d},ca.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===r||y===a||y===n||y===u||y===d||y===m||typeof y=="object"&&y!==null&&(y.$$typeof===h||y.$$typeof===f||y.$$typeof===i||y.$$typeof===o||y.$$typeof===l||y.$$typeof===x||y.getModuleId!==void 0)},ca.typeOf=g,ca}var y9;function Qye(){return y9||(y9=1,bN.exports=Jye()),bN.exports}var e2e=Qye(),SN,x9;function WX(){if(x9)return SN;x9=1;var e=Th(),t=Oh(),r="[object Number]";function n(a){return typeof a=="number"||t(a)&&e(a)==r}return SN=n,SN}var AN,w9;function t2e(){if(w9)return AN;w9=1;var e=WX();function t(r){return e(r)&&r!=+r}return AN=t,AN}var r2e=t2e();const gy=ia(r2e);var n2e=WX();const a2e=ia(n2e);var al=function(t){return t===0?0:t>0?1:-1},I0=function(t){return rg(t)&&t.indexOf("%")===t.length-1},Gt=function(t){return a2e(t)&&!gy(t)},yo=function(t){return Gt(t)||rg(t)},i2e=0,Cg=function(t){var r=++i2e;return"".concat(t||"").concat(r)},il=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Gt(t)&&!rg(t))return n;var i;if(I0(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return gy(i)&&(i=n),a&&i>r&&(i=r),i},Hp=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},o2e=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},go=function(t,r){return Gt(t)&&Gt(r)?function(n){return t+n*(r-t)}:function(){return r}};function A5(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):pc(n,t))===r})}var s2e=function(t,r){return Gt(t)&&Gt(r)?t-r:rg(t)&&rg(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function t1(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function x6(e){"@babel/helpers - typeof";return x6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x6(e)}var l2e=["viewBox","children"],c2e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],_9=["points","pathLength"],kN={svg:l2e,polygon:_9,polyline:_9},KD=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],k5=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(A.isValidElement(t)&&(n=t.props),!my(n))return null;var a={};return Object.keys(n).forEach(function(i){KD.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},u2e=function(t,r,n){return function(a){return t(r,n,a),null}},ng=function(t,r,n){if(!my(t)||x6(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];KD.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=u2e(o,r,n))}),a},d2e=["children"],f2e=["children"];function b9(e,t){if(e==null)return{};var r=h2e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function h2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function w6(e){"@babel/helpers - typeof";return w6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w6(e)}var S9={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},dh=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},A9=null,NN=null,XD=function e(t){if(t===A9&&Array.isArray(NN))return NN;var r=[];return A.Children.forEach(t,function(n){fn(n)||(e2e.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),NN=r,A9=t,r};function mc(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return dh(a)}):n=[dh(t)],XD(e).forEach(function(a){var i=pc(a,"type.displayName")||pc(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function tc(e,t){var r=mc(e,t);return r&&r[0]}var k9=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!Gt(n)||n<=0||!Gt(a)||a<=0)},p2e=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],m2e=function(t){return t&&t.type&&rg(t.type)&&p2e.indexOf(t.type)>=0},VX=function(t){return t&&w6(t)==="object"&&"clipDot"in t},g2e=function(t,r,n,a){var i,o=(i=kN==null?void 0:kN[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Yr(t)&&(a&&o.includes(r)||c2e.includes(r))||n&&KD.includes(r)},Or=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(A.isValidElement(t)&&(a=t.props),!my(a))return null;var i={};return Object.keys(a).forEach(function(o){var s;g2e((s=a)===null||s===void 0?void 0:s[o],o,r,n)&&(i[o]=a[o])}),i},_6=function e(t,r){if(t===r)return!0;var n=A.Children.count(t);if(n!==A.Children.count(r))return!1;if(n===0)return!0;if(n===1)return N9(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!N9(i,o))return!1}return!0},N9=function(t,r){if(fn(t)&&fn(r))return!0;if(!fn(t)&&!fn(r)){var n=t.props||{},a=n.children,i=b9(n,d2e),o=r.props||{},s=o.children,l=b9(o,f2e);return a&&s?t1(i,l)&&_6(a,s):!a&&!s?t1(i,l):!1}return!1},E9=function(t,r){var n=[],a={};return XD(t).forEach(function(i,o){if(m2e(i))n.push(i);else if(i){var s=dh(i.type),l=r[s]||{},u=l.handler,d=l.once;if(u&&(!d||!a[s])){var f=u(i,s,o);n.push(f),a[s]=!0}}}),n},v2e=function(t){var r=t&&t.type;return r&&S9[r]?S9[r]:null},y2e=function(t,r){return XD(r).indexOf(t)},x2e=["children","width","height","viewBox","className","style","title","desc"];function b6(){return b6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},b6.apply(this,arguments)}function w2e(e,t){if(e==null)return{};var r=_2e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function S6(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,o=e.style,s=e.title,l=e.desc,u=w2e(e,x2e),d=a||{width:r,height:n,x:0,y:0},f=hn("recharts-surface",i);return Qe.createElement("svg",b6({},Or(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),Qe.createElement("title",null,s),Qe.createElement("desc",null,l),t)}var b2e=["children","className"];function A6(){return A6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A6.apply(this,arguments)}function S2e(e,t){if(e==null)return{};var r=A2e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function A2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var In=Qe.forwardRef(function(e,t){var r=e.children,n=e.className,a=S2e(e,b2e),i=hn("recharts-layer",n);return Qe.createElement("g",A6({className:i},Or(a,!0),{ref:t}),r)}),Vu=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]},EN,C9;function k2e(){if(C9)return EN;C9=1;function e(t,r,n){var a=-1,i=t.length;r<0&&(r=-r>i?0:i+r),n=n>i?i:n,n<0&&(n+=i),i=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(i);++a<i;)o[a]=t[a+r];return o}return EN=e,EN}var CN,P9;function N2e(){if(P9)return CN;P9=1;var e=k2e();function t(r,n,a){var i=r.length;return a=a===void 0?i:a,!n&&a>=i?r:e(r,n,a)}return CN=t,CN}var PN,T9;function HX(){if(T9)return PN;T9=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=t+r+n,i="\\ufe0e\\ufe0f",o="\\u200d",s=RegExp("["+o+e+a+i+"]");function l(u){return s.test(u)}return PN=l,PN}var TN,O9;function E2e(){if(O9)return TN;O9=1;function e(t){return t.split("")}return TN=e,TN}var ON,D9;function C2e(){if(D9)return ON;D9=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=t+r+n,i="\\ufe0e\\ufe0f",o="["+e+"]",s="["+a+"]",l="\\ud83c[\\udffb-\\udfff]",u="(?:"+s+"|"+l+")",d="[^"+e+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",m="\\u200d",x=u+"?",g="["+i+"]?",y="(?:"+m+"(?:"+[d,f,h].join("|")+")"+g+x+")*",_=g+x+y,b="(?:"+[d+s+"?",s,f,h,o].join("|")+")",S=RegExp(l+"(?="+l+")|"+b+_,"g");function C(E){return E.match(S)||[]}return ON=C,ON}var DN,I9;function P2e(){if(I9)return DN;I9=1;var e=E2e(),t=HX(),r=C2e();function n(a){return t(a)?r(a):e(a)}return DN=n,DN}var IN,R9;function T2e(){if(R9)return IN;R9=1;var e=N2e(),t=HX(),r=P2e(),n=UX();function a(i){return function(o){o=n(o);var s=t(o)?r(o):void 0,l=s?s[0]:o.charAt(0),u=s?e(s,1).join(""):o.slice(1);return l[i]()+u}}return IN=a,IN}var RN,M9;function O2e(){if(M9)return RN;M9=1;var e=T2e(),t=e("toUpperCase");return RN=t,RN}var D2e=O2e();const B4=ia(D2e);function Fa(e){return function(){return e}}const GX=Math.cos,N5=Math.sin,od=Math.sqrt,E5=Math.PI,U4=2*E5,k6=Math.PI,N6=2*k6,A0=1e-6,I2e=N6-A0;function YX(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function R2e(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return YX;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class M2e{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?YX:R2e(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,s=this._y1,l=n-t,u=a-r,d=o-t,f=s-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>A0)if(!(Math.abs(f*l-u*d)>A0)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,x=a-s,g=l*l+u*u,y=m*m+x*x,_=Math.sqrt(g),b=Math.sqrt(h),S=i*Math.tan((k6-Math.acos((g+h-y)/(2*_*b)))/2),C=S/b,E=S/_;Math.abs(C-1)>A0&&this._append`L${t+C*d},${r+C*f}`,this._append`A${i},${i},0,0,${+(f*m>d*x)},${this._x1=t+E*l},${this._y1=r+E*u}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(a),l=n*Math.sin(a),u=t+s,d=r+l,f=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>A0||Math.abs(this._y1-d)>A0)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%N6+N6),h>I2e?this._append`A${n},${n},0,1,${f},${t-s},${r-l}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>A0&&this._append`A${n},${n},0,${+(h>=k6)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function ZD(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new M2e(t)}function JD(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function KX(e){this._context=e}KX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function q4(e){return new KX(e)}function XX(e){return e[0]}function ZX(e){return e[1]}function JX(e,t){var r=Fa(!0),n=null,a=q4,i=null,o=ZD(s);e=typeof e=="function"?e:e===void 0?XX:Fa(e),t=typeof t=="function"?t:t===void 0?ZX:Fa(t);function s(l){var u,d=(l=JD(l)).length,f,h=!1,m;for(n==null&&(i=a(m=o())),u=0;u<=d;++u)!(u<d&&r(f=l[u],u,l))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,l),+t(f,u,l));if(m)return i=null,m+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:Fa(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:Fa(+l),s):t},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Fa(!!l),s):r},s.curve=function(l){return arguments.length?(a=l,n!=null&&(i=a(n)),s):a},s.context=function(l){return arguments.length?(l==null?n=i=null:i=a(n=l),s):n},s}function lb(e,t,r){var n=null,a=Fa(!0),i=null,o=q4,s=null,l=ZD(u);e=typeof e=="function"?e:e===void 0?XX:Fa(+e),t=typeof t=="function"?t:Fa(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?ZX:Fa(+r);function u(f){var h,m,x,g=(f=JD(f)).length,y,_=!1,b,S=new Array(g),C=new Array(g);for(i==null&&(s=o(b=l())),h=0;h<=g;++h){if(!(h<g&&a(y=f[h],h,f))===_)if(_=!_)m=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),x=h-1;x>=m;--x)s.point(S[x],C[x]);s.lineEnd(),s.areaEnd()}_&&(S[h]=+e(y,h,f),C[h]=+t(y,h,f),s.point(n?+n(y,h,f):S[h],r?+r(y,h,f):C[h]))}if(b)return s=null,b+""||null}function d(){return JX().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Fa(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Fa(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Fa(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Fa(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Fa(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Fa(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Fa(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(s=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=s=null:s=o(i=f),u):i},u}class QX{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function F2e(e){return new QX(e,!0)}function L2e(e){return new QX(e,!1)}const QD={draw(e,t){const r=od(t/E5);e.moveTo(r,0),e.arc(0,0,r,0,U4)}},j2e={draw(e,t){const r=od(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},eZ=od(1/3),$2e=eZ*2,B2e={draw(e,t){const r=od(t/$2e),n=r*eZ;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},U2e={draw(e,t){const r=od(t),n=-r/2;e.rect(n,n,r,r)}},q2e=.8908130915292852,tZ=N5(E5/10)/N5(7*E5/10),z2e=N5(U4/10)*tZ,W2e=-GX(U4/10)*tZ,V2e={draw(e,t){const r=od(t*q2e),n=z2e*r,a=W2e*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=U4*i/5,s=GX(o),l=N5(o);e.lineTo(l*r,-s*r),e.lineTo(s*n-l*a,l*n+s*a)}e.closePath()}},MN=od(3),H2e={draw(e,t){const r=-od(t/(MN*3));e.moveTo(0,r*2),e.lineTo(-MN*r,-r),e.lineTo(MN*r,-r),e.closePath()}},jc=-.5,$c=od(3)/2,E6=1/od(12),G2e=(E6/2+1)*3,Y2e={draw(e,t){const r=od(t/G2e),n=r/2,a=r*E6,i=n,o=r*E6+r,s=-i,l=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(s,l),e.lineTo(jc*n-$c*a,$c*n+jc*a),e.lineTo(jc*i-$c*o,$c*i+jc*o),e.lineTo(jc*s-$c*l,$c*s+jc*l),e.lineTo(jc*n+$c*a,jc*a-$c*n),e.lineTo(jc*i+$c*o,jc*o-$c*i),e.lineTo(jc*s+$c*l,jc*l-$c*s),e.closePath()}};function K2e(e,t){let r=null,n=ZD(a);e=typeof e=="function"?e:Fa(e||QD),t=typeof t=="function"?t:Fa(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Fa(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Fa(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function C5(){}function P5(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function rZ(e){this._context=e}rZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:P5(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:P5(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function X2e(e){return new rZ(e)}function nZ(e){this._context=e}nZ.prototype={areaStart:C5,areaEnd:C5,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:P5(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Z2e(e){return new nZ(e)}function aZ(e){this._context=e}aZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:P5(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function J2e(e){return new aZ(e)}function iZ(e){this._context=e}iZ.prototype={areaStart:C5,areaEnd:C5,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Q2e(e){return new iZ(e)}function F9(e){return e<0?-1:1}function L9(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),s=(i*a+o*n)/(n+a);return(F9(i)+F9(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(s))||0}function j9(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function FN(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,s=(i-n)/3;e._context.bezierCurveTo(n+s,a+s*t,i-s,o-s*r,i,o)}function T5(e){this._context=e}T5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:FN(this,this._t0,j9(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,FN(this,j9(this,r=L9(this,e,t)),r);break;default:FN(this,this._t0,r=L9(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function oZ(e){this._context=new sZ(e)}(oZ.prototype=Object.create(T5.prototype)).point=function(e,t){T5.prototype.point.call(this,t,e)};function sZ(e){this._context=e}sZ.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function exe(e){return new T5(e)}function txe(e){return new oZ(e)}function lZ(e){this._context=e}lZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=$9(e),a=$9(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function $9(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function rxe(e){return new lZ(e)}function z4(e,t){this._context=e,this._t=t}z4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function nxe(e){return new z4(e,.5)}function axe(e){return new z4(e,0)}function ixe(e){return new z4(e,1)}function b1(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,s=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<s;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function C6(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function oxe(e,t){return e[t]}function sxe(e){const t=[];return t.key=e,t}function lxe(){var e=Fa([]),t=C6,r=b1,n=oxe;function a(i){var o=Array.from(e.apply(this,arguments),sxe),s,l=o.length,u=-1,d;for(const f of i)for(s=0,++u;s<l;++s)(o[s][u]=[0,+n(f,o[s].key,u,i)]).data=f;for(s=0,d=JD(t(o));s<l;++s)o[d[s]].index=s;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Fa(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Fa(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?C6:typeof i=="function"?i:Fa(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??b1,a):r},a}function cxe(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}b1(e,t)}}function uxe(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,s=0;o<a;++o)s+=e[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}b1(e,t)}}function dxe(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var s=0,l=0,u=0;s<o;++s){for(var d=e[t[s]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,x=0;x<s;++x){var g=e[t[x]],y=g[n][1]||0,_=g[n-1][1]||0;m+=y-_}l+=f,u+=m*f}a[n-1][1]+=a[n-1][0]=r,l&&(r-=u/l)}a[n-1][1]+=a[n-1][0]=r,b1(e,t)}}function hx(e){"@babel/helpers - typeof";return hx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hx(e)}var fxe=["type","size","sizeType"];function P6(){return P6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P6.apply(this,arguments)}function B9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function U9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B9(Object(r),!0).forEach(function(n){hxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B9(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hxe(e,t,r){return t=pxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pxe(e){var t=mxe(e,"string");return hx(t)=="symbol"?t:t+""}function mxe(e,t){if(hx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gxe(e,t){if(e==null)return{};var r=vxe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vxe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var cZ={symbolCircle:QD,symbolCross:j2e,symbolDiamond:B2e,symbolSquare:U2e,symbolStar:V2e,symbolTriangle:H2e,symbolWye:Y2e},yxe=Math.PI/180,xxe=function(t){var r="symbol".concat(B4(t));return cZ[r]||QD},wxe=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*yxe;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},_xe=function(t,r){cZ["symbol".concat(B4(t))]=r},eI=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,s=o===void 0?"area":o,l=gxe(t,fxe),u=U9(U9({},l),{},{type:n,size:i,sizeType:s}),d=function(){var y=xxe(n),_=K2e().type(y).size(wxe(i,s,n));return _()},f=u.className,h=u.cx,m=u.cy,x=Or(u,!0);return h===+h&&m===+m&&i===+i?Qe.createElement("path",P6({},x,{className:hn("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};eI.registerSymbol=_xe;function S1(e){"@babel/helpers - typeof";return S1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S1(e)}function q9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bxe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q9(Object(r),!0).forEach(function(n){px(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q9(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Axe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dZ(n.key),n)}}function kxe(e,t,r){return t&&Axe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nxe(e,t,r){return t=O5(t),Exe(e,uZ()?Reflect.construct(t,r||[],O5(e).constructor):t.apply(e,r))}function Exe(e,t){if(t&&(S1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cxe(e)}function Cxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uZ=function(){return!!e})()}function O5(e){return O5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},O5(e)}function Pxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T6(e,t)}function T6(e,t){return T6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},T6(e,t)}function px(e,t,r){return t=dZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dZ(e){var t=Txe(e,"string");return S1(t)=="symbol"?t:t+""}function Txe(e,t){if(S1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(S1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Cu=32,tI=function(e){function t(){return Sxe(this,t),Nxe(this,t,arguments)}return Pxe(t,e),kxe(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=Cu/2,o=Cu/6,s=Cu/3,l=n.inactive?a:n.color;if(n.type==="plainline")return c("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Cu,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return c("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(Cu,"M").concat(2*s,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return c("path",{stroke:"none",fill:l,d:"M0,".concat(Cu/8,"h").concat(Cu,"v").concat(Cu*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(Qe.isValidElement(n.legendIcon)){var u=bxe({},n);return delete u.legendIcon,Qe.cloneElement(n.legendIcon,u)}return c(eI,{fill:l,cx:i,cy:i,size:Cu,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,s=a.layout,l=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:Cu,height:Cu},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(m,x){var g=m.formatter||l,y=hn(px(px({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",m.inactive));if(m.type==="none")return null;var _=Yr(m.value)?null:m.value;Vu(!Yr(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=m.inactive?u:m.color;return w("li",{className:y,style:f,...ng(n.props,m,x),children:[c(S6,{width:o,height:o,viewBox:d,style:h,children:n.renderIcon(m)}),c("span",{className:"recharts-legend-item-text",style:{color:b},children:g?g(_,m,x):_})]},"legend-item-".concat(x))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var s={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return c("ul",{className:"recharts-default-legend",style:s,children:this.renderItems()})}}])}(A.PureComponent);px(tI,"displayName","Legend");px(tI,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var LN,z9;function Oxe(){if(z9)return LN;z9=1;var e=L4();function t(){this.__data__=new e,this.size=0}return LN=t,LN}var jN,W9;function Dxe(){if(W9)return jN;W9=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return jN=e,jN}var $N,V9;function Ixe(){if(V9)return $N;V9=1;function e(t){return this.__data__.get(t)}return $N=e,$N}var BN,H9;function Rxe(){if(H9)return BN;H9=1;function e(t){return this.__data__.has(t)}return BN=e,BN}var UN,G9;function Mxe(){if(G9)return UN;G9=1;var e=L4(),t=VD(),r=HD(),n=200;function a(i,o){var s=this.__data__;if(s instanceof e){var l=s.__data__;if(!t||l.length<n-1)return l.push([i,o]),this.size=++s.size,this;s=this.__data__=new r(l)}return s.set(i,o),this.size=s.size,this}return UN=a,UN}var qN,Y9;function fZ(){if(Y9)return qN;Y9=1;var e=L4(),t=Oxe(),r=Dxe(),n=Ixe(),a=Rxe(),i=Mxe();function o(s){var l=this.__data__=new e(s);this.size=l.size}return o.prototype.clear=t,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=a,o.prototype.set=i,qN=o,qN}var zN,K9;function Fxe(){if(K9)return zN;K9=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return zN=t,zN}var WN,X9;function Lxe(){if(X9)return WN;X9=1;function e(t){return this.__data__.has(t)}return WN=e,WN}var VN,Z9;function hZ(){if(Z9)return VN;Z9=1;var e=HD(),t=Fxe(),r=Lxe();function n(a){var i=-1,o=a==null?0:a.length;for(this.__data__=new e;++i<o;)this.add(a[i])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,VN=n,VN}var HN,J9;function pZ(){if(J9)return HN;J9=1;function e(t,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(r(t[n],n,t))return!0;return!1}return HN=e,HN}var GN,Q9;function mZ(){if(Q9)return GN;Q9=1;function e(t,r){return t.has(r)}return GN=e,GN}var YN,ej;function gZ(){if(ej)return YN;ej=1;var e=hZ(),t=pZ(),r=mZ(),n=1,a=2;function i(o,s,l,u,d,f){var h=l&n,m=o.length,x=s.length;if(m!=x&&!(h&&x>m))return!1;var g=f.get(o),y=f.get(s);if(g&&y)return g==s&&y==o;var _=-1,b=!0,S=l&a?new e:void 0;for(f.set(o,s),f.set(s,o);++_<m;){var C=o[_],E=s[_];if(u)var O=h?u(E,C,_,s,o,f):u(C,E,_,o,s,f);if(O!==void 0){if(O)continue;b=!1;break}if(S){if(!t(s,function(P,I){if(!r(S,I)&&(C===P||d(C,P,l,u,f)))return S.push(I)})){b=!1;break}}else if(!(C===E||d(C,E,l,u,f))){b=!1;break}}return f.delete(o),f.delete(s),b}return YN=i,YN}var KN,tj;function jxe(){if(tj)return KN;tj=1;var e=mf(),t=e.Uint8Array;return KN=t,KN}var XN,rj;function $xe(){if(rj)return XN;rj=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(a,i){n[++r]=[i,a]}),n}return XN=e,XN}var ZN,nj;function rI(){if(nj)return ZN;nj=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(a){n[++r]=a}),n}return ZN=e,ZN}var JN,aj;function Bxe(){if(aj)return JN;aj=1;var e=$w(),t=jxe(),r=WD(),n=gZ(),a=$xe(),i=rI(),o=1,s=2,l="[object Boolean]",u="[object Date]",d="[object Error]",f="[object Map]",h="[object Number]",m="[object RegExp]",x="[object Set]",g="[object String]",y="[object Symbol]",_="[object ArrayBuffer]",b="[object DataView]",S=e?e.prototype:void 0,C=S?S.valueOf:void 0;function E(O,P,I,L,U,T,F){switch(I){case b:if(O.byteLength!=P.byteLength||O.byteOffset!=P.byteOffset)return!1;O=O.buffer,P=P.buffer;case _:return!(O.byteLength!=P.byteLength||!T(new t(O),new t(P)));case l:case u:case h:return r(+O,+P);case d:return O.name==P.name&&O.message==P.message;case m:case g:return O==P+"";case f:var j=a;case x:var H=L&o;if(j||(j=i),O.size!=P.size&&!H)return!1;var X=F.get(O);if(X)return X==P;L|=s,F.set(O,P);var re=n(j(O),j(P),L,U,T,F);return F.delete(O),re;case y:if(C)return C.call(O)==C.call(P)}return!1}return JN=E,JN}var QN,ij;function vZ(){if(ij)return QN;ij=1;function e(t,r){for(var n=-1,a=r.length,i=t.length;++n<a;)t[i+n]=r[n];return t}return QN=e,QN}var eE,oj;function Uxe(){if(oj)return eE;oj=1;var e=vZ(),t=$l();function r(n,a,i){var o=a(n);return t(n)?o:e(o,i(n))}return eE=r,eE}var tE,sj;function qxe(){if(sj)return tE;sj=1;function e(t,r){for(var n=-1,a=t==null?0:t.length,i=0,o=[];++n<a;){var s=t[n];r(s,n,t)&&(o[i++]=s)}return o}return tE=e,tE}var rE,lj;function zxe(){if(lj)return rE;lj=1;function e(){return[]}return rE=e,rE}var nE,cj;function Wxe(){if(cj)return nE;cj=1;var e=qxe(),t=zxe(),r=Object.prototype,n=r.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(o){return o==null?[]:(o=Object(o),e(a(o),function(s){return n.call(o,s)}))}:t;return nE=i,nE}var aE,uj;function Vxe(){if(uj)return aE;uj=1;function e(t,r){for(var n=-1,a=Array(t);++n<t;)a[n]=r(n);return a}return aE=e,aE}var iE,dj;function Hxe(){if(dj)return iE;dj=1;var e=Th(),t=Oh(),r="[object Arguments]";function n(a){return t(a)&&e(a)==r}return iE=n,iE}var oE,fj;function nI(){if(fj)return oE;fj=1;var e=Hxe(),t=Oh(),r=Object.prototype,n=r.hasOwnProperty,a=r.propertyIsEnumerable,i=e(function(){return arguments}())?e:function(o){return t(o)&&n.call(o,"callee")&&!a.call(o,"callee")};return oE=i,oE}var S2={exports:{}},sE,hj;function Gxe(){if(hj)return sE;hj=1;function e(){return!1}return sE=e,sE}S2.exports;var pj;function yZ(){return pj||(pj=1,function(e,t){var r=mf(),n=Gxe(),a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,s=o?r.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||n;e.exports=u}(S2,S2.exports)),S2.exports}var lE,mj;function aI(){if(mj)return lE;mj=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,a){var i=typeof n;return a=a??e,!!a&&(i=="number"||i!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<a}return lE=r,lE}var cE,gj;function iI(){if(gj)return cE;gj=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return cE=t,cE}var uE,vj;function Yxe(){if(vj)return uE;vj=1;var e=Th(),t=iI(),r=Oh(),n="[object Arguments]",a="[object Array]",i="[object Boolean]",o="[object Date]",s="[object Error]",l="[object Function]",u="[object Map]",d="[object Number]",f="[object Object]",h="[object RegExp]",m="[object Set]",x="[object String]",g="[object WeakMap]",y="[object ArrayBuffer]",_="[object DataView]",b="[object Float32Array]",S="[object Float64Array]",C="[object Int8Array]",E="[object Int16Array]",O="[object Int32Array]",P="[object Uint8Array]",I="[object Uint8ClampedArray]",L="[object Uint16Array]",U="[object Uint32Array]",T={};T[b]=T[S]=T[C]=T[E]=T[O]=T[P]=T[I]=T[L]=T[U]=!0,T[n]=T[a]=T[y]=T[i]=T[_]=T[o]=T[s]=T[l]=T[u]=T[d]=T[f]=T[h]=T[m]=T[x]=T[g]=!1;function F(j){return r(j)&&t(j.length)&&!!T[e(j)]}return uE=F,uE}var dE,yj;function xZ(){if(yj)return dE;yj=1;function e(t){return function(r){return t(r)}}return dE=e,dE}var A2={exports:{}};A2.exports;var xj;function Kxe(){return xj||(xj=1,function(e,t){var r=jX(),n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i&&r.process,s=function(){try{var l=a&&a.require&&a.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();e.exports=s}(A2,A2.exports)),A2.exports}var fE,wj;function wZ(){if(wj)return fE;wj=1;var e=Yxe(),t=xZ(),r=Kxe(),n=r&&r.isTypedArray,a=n?t(n):e;return fE=a,fE}var hE,_j;function Xxe(){if(_j)return hE;_j=1;var e=Vxe(),t=nI(),r=$l(),n=yZ(),a=aI(),i=wZ(),o=Object.prototype,s=o.hasOwnProperty;function l(u,d){var f=r(u),h=!f&&t(u),m=!f&&!h&&n(u),x=!f&&!h&&!m&&i(u),g=f||h||m||x,y=g?e(u.length,String):[],_=y.length;for(var b in u)(d||s.call(u,b))&&!(g&&(b=="length"||m&&(b=="offset"||b=="parent")||x&&(b=="buffer"||b=="byteLength"||b=="byteOffset")||a(b,_)))&&y.push(b);return y}return hE=l,hE}var pE,bj;function Zxe(){if(bj)return pE;bj=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,a=typeof n=="function"&&n.prototype||e;return r===a}return pE=t,pE}var mE,Sj;function _Z(){if(Sj)return mE;Sj=1;function e(t,r){return function(n){return t(r(n))}}return mE=e,mE}var gE,Aj;function Jxe(){if(Aj)return gE;Aj=1;var e=_Z(),t=e(Object.keys,Object);return gE=t,gE}var vE,kj;function Qxe(){if(kj)return vE;kj=1;var e=Zxe(),t=Jxe(),r=Object.prototype,n=r.hasOwnProperty;function a(i){if(!e(i))return t(i);var o=[];for(var s in Object(i))n.call(i,s)&&s!="constructor"&&o.push(s);return o}return vE=a,vE}var yE,Nj;function Bw(){if(Nj)return yE;Nj=1;var e=zD(),t=iI();function r(n){return n!=null&&t(n.length)&&!e(n)}return yE=r,yE}var xE,Ej;function W4(){if(Ej)return xE;Ej=1;var e=Xxe(),t=Qxe(),r=Bw();function n(a){return r(a)?e(a):t(a)}return xE=n,xE}var wE,Cj;function ewe(){if(Cj)return wE;Cj=1;var e=Uxe(),t=Wxe(),r=W4();function n(a){return e(a,r,t)}return wE=n,wE}var _E,Pj;function twe(){if(Pj)return _E;Pj=1;var e=ewe(),t=1,r=Object.prototype,n=r.hasOwnProperty;function a(i,o,s,l,u,d){var f=s&t,h=e(i),m=h.length,x=e(o),g=x.length;if(m!=g&&!f)return!1;for(var y=m;y--;){var _=h[y];if(!(f?_ in o:n.call(o,_)))return!1}var b=d.get(i),S=d.get(o);if(b&&S)return b==o&&S==i;var C=!0;d.set(i,o),d.set(o,i);for(var E=f;++y<m;){_=h[y];var O=i[_],P=o[_];if(l)var I=f?l(P,O,_,o,i,d):l(O,P,_,i,o,d);if(!(I===void 0?O===P||u(O,P,s,l,d):I)){C=!1;break}E||(E=_=="constructor")}if(C&&!E){var L=i.constructor,U=o.constructor;L!=U&&"constructor"in i&&"constructor"in o&&!(typeof L=="function"&&L instanceof L&&typeof U=="function"&&U instanceof U)&&(C=!1)}return d.delete(i),d.delete(o),C}return _E=a,_E}var bE,Tj;function rwe(){if(Tj)return bE;Tj=1;var e=Eg(),t=mf(),r=e(t,"DataView");return bE=r,bE}var SE,Oj;function nwe(){if(Oj)return SE;Oj=1;var e=Eg(),t=mf(),r=e(t,"Promise");return SE=r,SE}var AE,Dj;function bZ(){if(Dj)return AE;Dj=1;var e=Eg(),t=mf(),r=e(t,"Set");return AE=r,AE}var kE,Ij;function awe(){if(Ij)return kE;Ij=1;var e=Eg(),t=mf(),r=e(t,"WeakMap");return kE=r,kE}var NE,Rj;function iwe(){if(Rj)return NE;Rj=1;var e=rwe(),t=VD(),r=nwe(),n=bZ(),a=awe(),i=Th(),o=$X(),s="[object Map]",l="[object Object]",u="[object Promise]",d="[object Set]",f="[object WeakMap]",h="[object DataView]",m=o(e),x=o(t),g=o(r),y=o(n),_=o(a),b=i;return(e&&b(new e(new ArrayBuffer(1)))!=h||t&&b(new t)!=s||r&&b(r.resolve())!=u||n&&b(new n)!=d||a&&b(new a)!=f)&&(b=function(S){var C=i(S),E=C==l?S.constructor:void 0,O=E?o(E):"";if(O)switch(O){case m:return h;case x:return s;case g:return u;case y:return d;case _:return f}return C}),NE=b,NE}var EE,Mj;function owe(){if(Mj)return EE;Mj=1;var e=fZ(),t=gZ(),r=Bxe(),n=twe(),a=iwe(),i=$l(),o=yZ(),s=wZ(),l=1,u="[object Arguments]",d="[object Array]",f="[object Object]",h=Object.prototype,m=h.hasOwnProperty;function x(g,y,_,b,S,C){var E=i(g),O=i(y),P=E?d:a(g),I=O?d:a(y);P=P==u?f:P,I=I==u?f:I;var L=P==f,U=I==f,T=P==I;if(T&&o(g)){if(!o(y))return!1;E=!0,L=!1}if(T&&!L)return C||(C=new e),E||s(g)?t(g,y,_,b,S,C):r(g,y,P,_,b,S,C);if(!(_&l)){var F=L&&m.call(g,"__wrapped__"),j=U&&m.call(y,"__wrapped__");if(F||j){var H=F?g.value():g,X=j?y.value():y;return C||(C=new e),S(H,X,_,b,C)}}return T?(C||(C=new e),n(g,y,_,b,S,C)):!1}return EE=x,EE}var CE,Fj;function oI(){if(Fj)return CE;Fj=1;var e=owe(),t=Oh();function r(n,a,i,o,s){return n===a?!0:n==null||a==null||!t(n)&&!t(a)?n!==n&&a!==a:e(n,a,i,o,r,s)}return CE=r,CE}var PE,Lj;function swe(){if(Lj)return PE;Lj=1;var e=fZ(),t=oI(),r=1,n=2;function a(i,o,s,l){var u=s.length,d=u,f=!l;if(i==null)return!d;for(i=Object(i);u--;){var h=s[u];if(f&&h[2]?h[1]!==i[h[0]]:!(h[0]in i))return!1}for(;++u<d;){h=s[u];var m=h[0],x=i[m],g=h[1];if(f&&h[2]){if(x===void 0&&!(m in i))return!1}else{var y=new e;if(l)var _=l(x,g,m,i,o,y);if(!(_===void 0?t(g,x,r|n,l,y):_))return!1}}return!0}return PE=a,PE}var TE,jj;function SZ(){if(jj)return TE;jj=1;var e=Om();function t(r){return r===r&&!e(r)}return TE=t,TE}var OE,$j;function lwe(){if($j)return OE;$j=1;var e=SZ(),t=W4();function r(n){for(var a=t(n),i=a.length;i--;){var o=a[i],s=n[o];a[i]=[o,s,e(s)]}return a}return OE=r,OE}var DE,Bj;function AZ(){if(Bj)return DE;Bj=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return DE=e,DE}var IE,Uj;function cwe(){if(Uj)return IE;Uj=1;var e=swe(),t=lwe(),r=AZ();function n(a){var i=t(a);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(o){return o===a||e(o,a,i)}}return IE=n,IE}var RE,qj;function uwe(){if(qj)return RE;qj=1;function e(t,r){return t!=null&&r in Object(t)}return RE=e,RE}var ME,zj;function dwe(){if(zj)return ME;zj=1;var e=qX(),t=nI(),r=$l(),n=aI(),a=iI(),i=$4();function o(s,l,u){l=e(l,s);for(var d=-1,f=l.length,h=!1;++d<f;){var m=i(l[d]);if(!(h=s!=null&&u(s,m)))break;s=s[m]}return h||++d!=f?h:(f=s==null?0:s.length,!!f&&a(f)&&n(m,f)&&(r(s)||t(s)))}return ME=o,ME}var FE,Wj;function fwe(){if(Wj)return FE;Wj=1;var e=uwe(),t=dwe();function r(n,a){return n!=null&&t(n,a,e)}return FE=r,FE}var LE,Vj;function hwe(){if(Vj)return LE;Vj=1;var e=oI(),t=zX(),r=fwe(),n=qD(),a=SZ(),i=AZ(),o=$4(),s=1,l=2;function u(d,f){return n(d)&&a(f)?i(o(d),f):function(h){var m=t(h,d);return m===void 0&&m===f?r(h,d):e(f,m,s|l)}}return LE=u,LE}var jE,Hj;function vy(){if(Hj)return jE;Hj=1;function e(t){return t}return jE=e,jE}var $E,Gj;function pwe(){if(Gj)return $E;Gj=1;function e(t){return function(r){return r==null?void 0:r[t]}}return $E=e,$E}var BE,Yj;function mwe(){if(Yj)return BE;Yj=1;var e=YD();function t(r){return function(n){return e(n,r)}}return BE=t,BE}var UE,Kj;function gwe(){if(Kj)return UE;Kj=1;var e=pwe(),t=mwe(),r=qD(),n=$4();function a(i){return r(i)?e(n(i)):t(i)}return UE=a,UE}var qE,Xj;function gf(){if(Xj)return qE;Xj=1;var e=cwe(),t=hwe(),r=vy(),n=$l(),a=gwe();function i(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?t(o[0],o[1]):e(o):a(o)}return qE=i,qE}var zE,Zj;function kZ(){if(Zj)return zE;Zj=1;function e(t,r,n,a){for(var i=t.length,o=n+(a?1:-1);a?o--:++o<i;)if(r(t[o],o,t))return o;return-1}return zE=e,zE}var WE,Jj;function vwe(){if(Jj)return WE;Jj=1;function e(t){return t!==t}return WE=e,WE}var VE,Qj;function ywe(){if(Qj)return VE;Qj=1;function e(t,r,n){for(var a=n-1,i=t.length;++a<i;)if(t[a]===r)return a;return-1}return VE=e,VE}var HE,e$;function xwe(){if(e$)return HE;e$=1;var e=kZ(),t=vwe(),r=ywe();function n(a,i,o){return i===i?r(a,i,o):e(a,t,o)}return HE=n,HE}var GE,t$;function wwe(){if(t$)return GE;t$=1;var e=xwe();function t(r,n){var a=r==null?0:r.length;return!!a&&e(r,n,0)>-1}return GE=t,GE}var YE,r$;function _we(){if(r$)return YE;r$=1;function e(t,r,n){for(var a=-1,i=t==null?0:t.length;++a<i;)if(n(r,t[a]))return!0;return!1}return YE=e,YE}var KE,n$;function bwe(){if(n$)return KE;n$=1;function e(){}return KE=e,KE}var XE,a$;function Swe(){if(a$)return XE;a$=1;var e=bZ(),t=bwe(),r=rI(),n=1/0,a=e&&1/r(new e([,-0]))[1]==n?function(i){return new e(i)}:t;return XE=a,XE}var ZE,i$;function Awe(){if(i$)return ZE;i$=1;var e=hZ(),t=wwe(),r=_we(),n=mZ(),a=Swe(),i=rI(),o=200;function s(l,u,d){var f=-1,h=t,m=l.length,x=!0,g=[],y=g;if(d)x=!1,h=r;else if(m>=o){var _=u?null:a(l);if(_)return i(_);x=!1,h=n,y=new e}else y=u?[]:g;e:for(;++f<m;){var b=l[f],S=u?u(b):b;if(b=d||b!==0?b:0,x&&S===S){for(var C=y.length;C--;)if(y[C]===S)continue e;u&&y.push(S),g.push(b)}else h(y,S,d)||(y!==g&&y.push(S),g.push(b))}return g}return ZE=s,ZE}var JE,o$;function kwe(){if(o$)return JE;o$=1;var e=gf(),t=Awe();function r(n,a){return n&&n.length?t(n,e(a,2)):[]}return JE=r,JE}var Nwe=kwe();const s$=ia(Nwe);function NZ(e,t,r){return t===!0?s$(e,r):Yr(t)?s$(e,t):e}function A1(e){"@babel/helpers - typeof";return A1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A1(e)}var Ewe=["ref"];function l$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l$(Object(r),!0).forEach(function(n){V4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,CZ(n.key),n)}}function Pwe(e,t,r){return t&&c$(e.prototype,t),r&&c$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Twe(e,t,r){return t=D5(t),Owe(e,EZ()?Reflect.construct(t,r||[],D5(e).constructor):t.apply(e,r))}function Owe(e,t){if(t&&(A1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dwe(e)}function Dwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EZ=function(){return!!e})()}function D5(e){return D5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},D5(e)}function Iwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O6(e,t)}function O6(e,t){return O6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},O6(e,t)}function V4(e,t,r){return t=CZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CZ(e){var t=Rwe(e,"string");return A1(t)=="symbol"?t:t+""}function Rwe(e,t){if(A1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(A1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Mwe(e,t){if(e==null)return{};var r=Fwe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Fwe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Lwe(e){return e.value}function jwe(e,t){if(Qe.isValidElement(e))return Qe.cloneElement(e,t);if(typeof e=="function")return Qe.createElement(e,t);t.ref;var r=Mwe(t,Ewe);return c(tI,{...r})}var u$=1,Hu=function(e){function t(){var r;Cwe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Twe(this,t,[].concat(a)),V4(r,"lastBoundingBox",{width:-1,height:-1}),r}return Iwe(t,e),Pwe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>u$||Math.abs(a.height-this.lastBoundingBox.height)>u$)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Zf({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,s=a.verticalAlign,l=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var x=this.getBBoxSnapshot();h={top:((d||0)-x.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Zf(Zf({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,s=a.height,l=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=Zf(Zf({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return c("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){n.wrapperNode=m},children:jwe(i,Zf(Zf({},this.props),{},{payload:NZ(d,u,Lwe)}))})}}],[{key:"getWithHeight",value:function(n,a){var i=Zf(Zf({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&Gt(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(A.PureComponent);V4(Hu,"displayName","Legend");V4(Hu,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var QE,d$;function $we(){if(d$)return QE;d$=1;var e=$w(),t=nI(),r=$l(),n=e?e.isConcatSpreadable:void 0;function a(i){return r(i)||t(i)||!!(n&&i&&i[n])}return QE=a,QE}var eC,f$;function PZ(){if(f$)return eC;f$=1;var e=vZ(),t=$we();function r(n,a,i,o,s){var l=-1,u=n.length;for(i||(i=t),s||(s=[]);++l<u;){var d=n[l];a>0&&i(d)?a>1?r(d,a-1,i,o,s):e(s,d):o||(s[s.length]=d)}return s}return eC=r,eC}var tC,h$;function Bwe(){if(h$)return tC;h$=1;function e(t){return function(r,n,a){for(var i=-1,o=Object(r),s=a(r),l=s.length;l--;){var u=s[t?l:++i];if(n(o[u],u,o)===!1)break}return r}}return tC=e,tC}var rC,p$;function Uwe(){if(p$)return rC;p$=1;var e=Bwe(),t=e();return rC=t,rC}var nC,m$;function TZ(){if(m$)return nC;m$=1;var e=Uwe(),t=W4();function r(n,a){return n&&e(n,a,t)}return nC=r,nC}var aC,g$;function qwe(){if(g$)return aC;g$=1;var e=Bw();function t(r,n){return function(a,i){if(a==null)return a;if(!e(a))return r(a,i);for(var o=a.length,s=n?o:-1,l=Object(a);(n?s--:++s<o)&&i(l[s],s,l)!==!1;);return a}}return aC=t,aC}var iC,v$;function sI(){if(v$)return iC;v$=1;var e=TZ(),t=qwe(),r=t(e);return iC=r,iC}var oC,y$;function OZ(){if(y$)return oC;y$=1;var e=sI(),t=Bw();function r(n,a){var i=-1,o=t(n)?Array(n.length):[];return e(n,function(s,l,u){o[++i]=a(s,l,u)}),o}return oC=r,oC}var sC,x$;function zwe(){if(x$)return sC;x$=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return sC=e,sC}var lC,w$;function Wwe(){if(w$)return lC;w$=1;var e=py();function t(r,n){if(r!==n){var a=r!==void 0,i=r===null,o=r===r,s=e(r),l=n!==void 0,u=n===null,d=n===n,f=e(n);if(!u&&!f&&!s&&r>n||s&&l&&d&&!u&&!f||i&&l&&d||!a&&d||!o)return 1;if(!i&&!s&&!f&&r<n||f&&a&&o&&!i&&!s||u&&a&&o||!l&&o||!d)return-1}return 0}return lC=t,lC}var cC,_$;function Vwe(){if(_$)return cC;_$=1;var e=Wwe();function t(r,n,a){for(var i=-1,o=r.criteria,s=n.criteria,l=o.length,u=a.length;++i<l;){var d=e(o[i],s[i]);if(d){if(i>=u)return d;var f=a[i];return d*(f=="desc"?-1:1)}}return r.index-n.index}return cC=t,cC}var uC,b$;function Hwe(){if(b$)return uC;b$=1;var e=GD(),t=YD(),r=gf(),n=OZ(),a=zwe(),i=xZ(),o=Vwe(),s=vy(),l=$l();function u(d,f,h){f.length?f=e(f,function(g){return l(g)?function(y){return t(y,g.length===1?g[0]:g)}:g}):f=[s];var m=-1;f=e(f,i(r));var x=n(d,function(g,y,_){var b=e(f,function(S){return S(g)});return{criteria:b,index:++m,value:g}});return a(x,function(g,y){return o(g,y,h)})}return uC=u,uC}var dC,S$;function Gwe(){if(S$)return dC;S$=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return dC=e,dC}var fC,A$;function Ywe(){if(A$)return fC;A$=1;var e=Gwe(),t=Math.max;function r(n,a,i){return a=t(a===void 0?n.length-1:a,0),function(){for(var o=arguments,s=-1,l=t(o.length-a,0),u=Array(l);++s<l;)u[s]=o[a+s];s=-1;for(var d=Array(a+1);++s<a;)d[s]=o[s];return d[a]=i(u),e(n,this,d)}}return fC=r,fC}var hC,k$;function Kwe(){if(k$)return hC;k$=1;function e(t){return function(){return t}}return hC=e,hC}var pC,N$;function DZ(){if(N$)return pC;N$=1;var e=Eg(),t=function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}}();return pC=t,pC}var mC,E$;function Xwe(){if(E$)return mC;E$=1;var e=Kwe(),t=DZ(),r=vy(),n=t?function(a,i){return t(a,"toString",{configurable:!0,enumerable:!1,value:e(i),writable:!0})}:r;return mC=n,mC}var gC,C$;function Zwe(){if(C$)return gC;C$=1;var e=800,t=16,r=Date.now;function n(a){var i=0,o=0;return function(){var s=r(),l=t-(s-o);if(o=s,l>0){if(++i>=e)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return gC=n,gC}var vC,P$;function Jwe(){if(P$)return vC;P$=1;var e=Xwe(),t=Zwe(),r=t(e);return vC=r,vC}var yC,T$;function Qwe(){if(T$)return yC;T$=1;var e=vy(),t=Ywe(),r=Jwe();function n(a,i){return r(t(a,i,e),a+"")}return yC=n,yC}var xC,O$;function H4(){if(O$)return xC;O$=1;var e=WD(),t=Bw(),r=aI(),n=Om();function a(i,o,s){if(!n(s))return!1;var l=typeof o;return(l=="number"?t(s)&&r(o,s.length):l=="string"&&o in s)?e(s[o],i):!1}return xC=a,xC}var wC,D$;function e_e(){if(D$)return wC;D$=1;var e=PZ(),t=Hwe(),r=Qwe(),n=H4(),a=r(function(i,o){if(i==null)return[];var s=o.length;return s>1&&n(i,o[0],o[1])?o=[]:s>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),t(i,e(o,1),[])});return wC=a,wC}var t_e=e_e();const lI=ia(t_e);function mx(e){"@babel/helpers - typeof";return mx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mx(e)}function D6(){return D6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},D6.apply(this,arguments)}function r_e(e,t){return o_e(e)||i_e(e,t)||a_e(e,t)||n_e()}function n_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a_e(e,t){if(e){if(typeof e=="string")return I$(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I$(e,t)}}function I$(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i_e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function o_e(e){if(Array.isArray(e))return e}function R$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _C(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R$(Object(r),!0).forEach(function(n){s_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function s_e(e,t,r){return t=l_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l_e(e){var t=c_e(e,"string");return mx(t)=="symbol"?t:t+""}function c_e(e,t){if(mx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u_e(e){return Array.isArray(e)&&yo(e[0])&&yo(e[1])?e.join(" ~ "):e}var d_e=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,s=o===void 0?{}:o,l=t.labelStyle,u=l===void 0?{}:l,d=t.payload,f=t.formatter,h=t.itemSorter,m=t.wrapperClassName,x=t.labelClassName,g=t.label,y=t.labelFormatter,_=t.accessibilityLayer,b=_===void 0?!1:_,S=function(){if(d&&d.length){var F={padding:0,margin:0},j=(h?lI(d,h):d).map(function(H,X){if(H.type==="none")return null;var re=_C({display:"block",paddingTop:4,paddingBottom:4,color:H.color||"#000"},s),z=H.formatter||f||u_e,G=H.value,q=H.name,K=G,J=q;if(z&&K!=null&&J!=null){var D=z(G,q,H,X,d);if(Array.isArray(D)){var Y=r_e(D,2);K=Y[0],J=Y[1]}else K=D}return Qe.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(X),style:re},yo(J)?Qe.createElement("span",{className:"recharts-tooltip-item-name"},J):null,yo(J)?Qe.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,Qe.createElement("span",{className:"recharts-tooltip-item-value"},K),Qe.createElement("span",{className:"recharts-tooltip-item-unit"},H.unit||""))});return Qe.createElement("ul",{className:"recharts-tooltip-item-list",style:F},j)}return null},C=_C({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),E=_C({margin:0},u),O=!fn(g),P=O?g:"",I=hn("recharts-default-tooltip",m),L=hn("recharts-tooltip-label",x);O&&y&&d!==void 0&&d!==null&&(P=y(g,d));var U=b?{role:"status","aria-live":"assertive"}:{};return Qe.createElement("div",D6({className:I,style:C},U),Qe.createElement("p",{className:L,style:E},Qe.isValidElement(P)?P:"".concat(P)),S())};function gx(e){"@babel/helpers - typeof";return gx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gx(e)}function cb(e,t,r){return t=f_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f_e(e){var t=h_e(e,"string");return gx(t)=="symbol"?t:t+""}function h_e(e,t){if(gx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var r2="recharts-tooltip-wrapper",p_e={visibility:"hidden"};function m_e(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return hn(r2,cb(cb(cb(cb({},"".concat(r2,"-right"),Gt(r)&&t&&Gt(t.x)&&r>=t.x),"".concat(r2,"-left"),Gt(r)&&t&&Gt(t.x)&&r<t.x),"".concat(r2,"-bottom"),Gt(n)&&t&&Gt(t.y)&&n>=t.y),"".concat(r2,"-top"),Gt(n)&&t&&Gt(t.y)&&n<t.y))}function M$(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,u=e.viewBoxDimension;if(i&&Gt(i[n]))return i[n];var d=r[n]-s-a,f=r[n]+a;if(t[n])return o[n]?d:f;if(o[n]){var h=d,m=l[n];return h<m?Math.max(f,l[n]):Math.max(d,l[n])}var x=f+s,g=l[n]+u;return x>g?Math.max(d,l[n]):Math.max(f,l[n])}function g_e(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function v_e(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,s=e.useTranslate3d,l=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=M$({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=M$({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=g_e({translateX:d,translateY:f,useTranslate3d:s})):u=p_e,{cssProperties:u,cssClasses:m_e({translateX:d,translateY:f,coordinate:r})}}function k1(e){"@babel/helpers - typeof";return k1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k1(e)}function F$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function L$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F$(Object(r),!0).forEach(function(n){R6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function y_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x_e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RZ(n.key),n)}}function w_e(e,t,r){return t&&x_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function __e(e,t,r){return t=I5(t),b_e(e,IZ()?Reflect.construct(t,r||[],I5(e).constructor):t.apply(e,r))}function b_e(e,t){if(t&&(k1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S_e(e)}function S_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IZ=function(){return!!e})()}function I5(e){return I5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},I5(e)}function A_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I6(e,t)}function I6(e,t){return I6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},I6(e,t)}function R6(e,t,r){return t=RZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RZ(e){var t=k_e(e,"string");return k1(t)=="symbol"?t:t+""}function k_e(e,t){if(k1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(k1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var j$=1,N_e=function(e){function t(){var r;y_e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=__e(this,t,[].concat(a)),R6(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),R6(r,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return A_e(t,e),w_e(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>j$||Math.abs(n.height-this.state.lastBoundingBox.height)>j$)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,s=a.animationDuration,l=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,m=a.offset,x=a.position,g=a.reverseDirection,y=a.useTranslate3d,_=a.viewBox,b=a.wrapperStyle,S=v_e({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:m,position:x,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:_}),C=S.cssClasses,E=S.cssProperties,O=L$(L$({transition:h&&i?"transform ".concat(s,"ms ").concat(l):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return c("div",{tabIndex:-1,className:C,style:O,ref:function(I){n.wrapperNode=I},children:u})}}])}(A.PureComponent),E_e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Dm={isSsr:E_e()};function N1(e){"@babel/helpers - typeof";return N1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N1(e)}function $$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function B$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$$(Object(r),!0).forEach(function(n){cI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function C_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P_e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,FZ(n.key),n)}}function T_e(e,t,r){return t&&P_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function O_e(e,t,r){return t=R5(t),D_e(e,MZ()?Reflect.construct(t,r||[],R5(e).constructor):t.apply(e,r))}function D_e(e,t){if(t&&(N1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I_e(e)}function I_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MZ=function(){return!!e})()}function R5(e){return R5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},R5(e)}function R_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M6(e,t)}function M6(e,t){return M6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},M6(e,t)}function cI(e,t,r){return t=FZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FZ(e){var t=M_e(e,"string");return N1(t)=="symbol"?t:t+""}function M_e(e,t){if(N1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(N1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function F_e(e){return e.dataKey}function L_e(e,t){return Qe.isValidElement(e)?Qe.cloneElement(e,t):typeof e=="function"?Qe.createElement(e,t):c(d_e,{...t})}var Ja=function(e){function t(){return C_e(this,t),O_e(this,t,arguments)}return R_e(t,e),T_e(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,s=a.animationDuration,l=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,m=a.offset,x=a.payload,g=a.payloadUniqBy,y=a.position,_=a.reverseDirection,b=a.useTranslate3d,S=a.viewBox,C=a.wrapperStyle,E=x??[];f&&E.length&&(E=NZ(x.filter(function(P){return P.value!=null&&(P.hide!==!0||n.props.includeHidden)}),g,F_e));var O=E.length>0;return c(N_e,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:h,active:i,coordinate:d,hasPayload:O,offset:m,position:y,reverseDirection:_,useTranslate3d:b,viewBox:S,wrapperStyle:C,children:L_e(u,B$(B$({},this.props),{},{payload:E}))})}}])}(A.PureComponent);cI(Ja,"displayName","Tooltip");cI(Ja,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Dm.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var bC,U$;function j_e(){if(U$)return bC;U$=1;var e=mf(),t=function(){return e.Date.now()};return bC=t,bC}var SC,q$;function $_e(){if(q$)return SC;q$=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return SC=t,SC}var AC,z$;function B_e(){if(z$)return AC;z$=1;var e=$_e(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return AC=r,AC}var kC,W$;function LZ(){if(W$)return kC;W$=1;var e=B_e(),t=Om(),r=py(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt;function l(u){if(typeof u=="number")return u;if(r(u))return n;if(t(u)){var d=typeof u.valueOf=="function"?u.valueOf():u;u=t(d)?d+"":d}if(typeof u!="string")return u===0?u:+u;u=e(u);var f=i.test(u);return f||o.test(u)?s(u.slice(2),f?2:8):a.test(u)?n:+u}return kC=l,kC}var NC,V$;function U_e(){if(V$)return NC;V$=1;var e=Om(),t=j_e(),r=LZ(),n="Expected a function",a=Math.max,i=Math.min;function o(s,l,u){var d,f,h,m,x,g,y=0,_=!1,b=!1,S=!0;if(typeof s!="function")throw new TypeError(n);l=r(l)||0,e(u)&&(_=!!u.leading,b="maxWait"in u,h=b?a(r(u.maxWait)||0,l):h,S="trailing"in u?!!u.trailing:S);function C(j){var H=d,X=f;return d=f=void 0,y=j,m=s.apply(X,H),m}function E(j){return y=j,x=setTimeout(I,l),_?C(j):m}function O(j){var H=j-g,X=j-y,re=l-H;return b?i(re,h-X):re}function P(j){var H=j-g,X=j-y;return g===void 0||H>=l||H<0||b&&X>=h}function I(){var j=t();if(P(j))return L(j);x=setTimeout(I,O(j))}function L(j){return x=void 0,S&&d?C(j):(d=f=void 0,m)}function U(){x!==void 0&&clearTimeout(x),y=0,d=g=f=x=void 0}function T(){return x===void 0?m:L(t())}function F(){var j=t(),H=P(j);if(d=arguments,f=this,g=j,H){if(x===void 0)return E(g);if(b)return clearTimeout(x),x=setTimeout(I,l),C(g)}return x===void 0&&(x=setTimeout(I,l)),m}return F.cancel=U,F.flush=T,F}return NC=o,NC}var EC,H$;function q_e(){if(H$)return EC;H$=1;var e=U_e(),t=Om(),r="Expected a function";function n(a,i,o){var s=!0,l=!0;if(typeof a!="function")throw new TypeError(r);return t(o)&&(s="leading"in o?!!o.leading:s,l="trailing"in o?!!o.trailing:l),e(a,i,{leading:s,maxWait:i,trailing:l})}return EC=n,EC}var z_e=q_e();const jZ=ia(z_e);function vx(e){"@babel/helpers - typeof";return vx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vx(e)}function G$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ub(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G$(Object(r),!0).forEach(function(n){W_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function W_e(e,t,r){return t=V_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V_e(e){var t=H_e(e,"string");return vx(t)=="symbol"?t:t+""}function H_e(e,t){if(vx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function G_e(e,t){return Z_e(e)||X_e(e,t)||K_e(e,t)||Y_e()}function Y_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K_e(e,t){if(e){if(typeof e=="string")return Y$(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y$(e,t)}}function Y$(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function X_e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function Z_e(e){if(Array.isArray(e))return e}var ks=A.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,s=e.height,l=s===void 0?"100%":s,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,m=e.children,x=e.debounce,g=x===void 0?0:x,y=e.id,_=e.className,b=e.onResize,S=e.style,C=S===void 0?{}:S,E=A.useRef(null),O=A.useRef();O.current=b,A.useImperativeHandle(t,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var P=A.useState({containerWidth:a.width,containerHeight:a.height}),I=G_e(P,2),L=I[0],U=I[1],T=A.useCallback(function(j,H){U(function(X){var re=Math.round(j),z=Math.round(H);return X.containerWidth===re&&X.containerHeight===z?X:{containerWidth:re,containerHeight:z}})},[]);A.useEffect(function(){var j=function(q){var K,J=q[0].contentRect,D=J.width,Y=J.height;T(D,Y),(K=O.current)===null||K===void 0||K.call(O,D,Y)};g>0&&(j=jZ(j,g,{trailing:!0,leading:!1}));var H=new ResizeObserver(j),X=E.current.getBoundingClientRect(),re=X.width,z=X.height;return T(re,z),H.observe(E.current),function(){H.disconnect()}},[T,g]);var F=A.useMemo(function(){var j=L.containerWidth,H=L.containerHeight;if(j<0||H<0)return null;Vu(I0(o)||I0(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),Vu(!r||r>0,"The aspect(%s) must be greater than zero.",r);var X=I0(o)?j:o,re=I0(l)?H:l;r&&r>0&&(X?re=X/r:re&&(X=re*r),h&&re>h&&(re=h)),Vu(X>0||re>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,X,re,o,l,d,f,r);var z=!Array.isArray(m)&&dh(m.type).endsWith("Chart");return Qe.Children.map(m,function(G){return Qe.isValidElement(G)?A.cloneElement(G,ub({width:X,height:re},z?{style:ub({height:"100%",width:"100%",maxHeight:re,maxWidth:X},G.props.style)}:{})):G})},[r,m,l,h,f,d,L,o]);return c("div",{id:y?"".concat(y):void 0,className:hn("recharts-responsive-container",_),style:ub(ub({},C),{},{width:o,height:l,minWidth:d,minHeight:f,maxHeight:h}),ref:E,children:F})}),Hc=function(t){return null};Hc.displayName="Cell";function yx(e){"@babel/helpers - typeof";return yx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yx(e)}function K$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function F6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K$(Object(r),!0).forEach(function(n){J_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function J_e(e,t,r){return t=Q_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q_e(e){var t=ebe(e,"string");return yx(t)=="symbol"?t:t+""}function ebe(e,t){if(yx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ev={widthCache:{},cacheCount:0},tbe=2e3,rbe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},X$="recharts_measurement_span";function nbe(e){var t=F6({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var j2=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Dm.isSsr)return{width:0,height:0};var n=nbe(r),a=JSON.stringify({text:t,copyStyle:n});if(Ev.widthCache[a])return Ev.widthCache[a];try{var i=document.getElementById(X$);i||(i=document.createElement("span"),i.setAttribute("id",X$),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=F6(F6({},rbe),n);Object.assign(i.style,o),i.textContent="".concat(t);var s=i.getBoundingClientRect(),l={width:s.width,height:s.height};return Ev.widthCache[a]=l,++Ev.cacheCount>tbe&&(Ev.cacheCount=0,Ev.widthCache={}),l}catch{return{width:0,height:0}}},abe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function xx(e){"@babel/helpers - typeof";return xx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xx(e)}function M5(e,t){return lbe(e)||sbe(e,t)||obe(e,t)||ibe()}function ibe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function obe(e,t){if(e){if(typeof e=="string")return Z$(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z$(e,t)}}function Z$(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sbe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function lbe(e){if(Array.isArray(e))return e}function cbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dbe(n.key),n)}}function ube(e,t,r){return t&&J$(e.prototype,t),r&&J$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function dbe(e){var t=fbe(e,"string");return xx(t)=="symbol"?t:t+""}function fbe(e,t){if(xx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Q$=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,eB=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,hbe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,pbe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,$Z={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},mbe=Object.keys($Z),Wv="NaN";function gbe(e,t){return e*$Z[t]}var db=function(){function e(t,r){cbe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!hbe.test(r)&&(this.num=NaN,this.unit=""),mbe.includes(r)&&(this.num=gbe(t,r),this.unit="px")}return ube(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=pbe.exec(r))!==null&&n!==void 0?n:[],i=M5(a,3),o=i[1],s=i[2];return new e(parseFloat(o),s??"")}}])}();function BZ(e){if(e.includes(Wv))return Wv;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=Q$.exec(t))!==null&&r!==void 0?r:[],a=M5(n,4),i=a[1],o=a[2],s=a[3],l=db.parse(i??""),u=db.parse(s??""),d=o==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return Wv;t=t.replace(Q$,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=eB.exec(t))!==null&&f!==void 0?f:[],m=M5(h,4),x=m[1],g=m[2],y=m[3],_=db.parse(x??""),b=db.parse(y??""),S=g==="+"?_.add(b):_.subtract(b);if(S.isNaN())return Wv;t=t.replace(eB,S.toString())}return t}var tB=/\(([^()]*)\)/;function vbe(e){for(var t=e;t.includes("(");){var r=tB.exec(t),n=M5(r,2),a=n[1];t=t.replace(tB,BZ(a))}return t}function ybe(e){var t=e.replace(/\s+/g,"");return t=vbe(t),t=BZ(t),t}function xbe(e){try{return ybe(e)}catch{return Wv}}function CC(e){var t=xbe(e.slice(5,-1));return t===Wv?"":t}var wbe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],_be=["dx","dy","angle","className","breakAll"];function rB(e,t){if(e==null)return{};var r=bbe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function nB(e,t){return Nbe(e)||kbe(e,t)||Abe(e,t)||Sbe()}function Sbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Abe(e,t){if(e){if(typeof e=="string")return aB(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aB(e,t)}}function aB(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kbe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function Nbe(e){if(Array.isArray(e))return e}var UZ=/[ \f\n\r\t\v\u2028\u2029]+/,qZ=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];fn(r)||(n?i=r.toString().split(""):i=r.toString().split(UZ));var o=i.map(function(l){return{word:l,width:j2(l,a).width}}),s=n?0:j2("",a).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},Ebe=function(t,r,n,a,i){var o=t.maxLines,s=t.children,l=t.style,u=t.breakAll,d=Gt(o),f=s,h=function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return X.reduce(function(re,z){var G=z.word,q=z.width,K=re[re.length-1];if(K&&(a==null||i||K.width+q+n<Number(a)))K.words.push(G),K.width+=q+n;else{var J={words:[G],width:q};re.push(J)}return re},[])},m=h(r),x=function(X){return X.reduce(function(re,z){return re.width>z.width?re:z})};if(!d)return m;for(var g="",y=function(X){var re=f.slice(0,X),z=qZ({breakAll:u,style:l,children:re+g}).wordsWithComputedWidth,G=h(z),q=G.length>o||x(G).width>Number(a);return[q,G]},_=0,b=f.length-1,S=0,C;_<=b&&S<=f.length-1;){var E=Math.floor((_+b)/2),O=E-1,P=y(O),I=nB(P,2),L=I[0],U=I[1],T=y(E),F=nB(T,1),j=F[0];if(!L&&!j&&(_=E+1),L&&j&&(b=E-1),!L&&j){C=U;break}S++}return C||m},iB=function(t){var r=fn(t)?[]:t.toString().split(UZ);return[{words:r}]},Cbe=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,s=t.maxLines;if((r||n)&&!Dm.isSsr){var l,u,d=qZ({breakAll:o,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;l=f,u=h}else return iB(a);return Ebe({breakAll:o,children:a,maxLines:s,style:i},l,u,r,n)}return iB(a)},oB="#808080",ag=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,s=o===void 0?"1em":o,l=t.capHeight,u=l===void 0?"0.71em":l,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,m=h===void 0?"start":h,x=t.verticalAnchor,g=x===void 0?"end":x,y=t.fill,_=y===void 0?oB:y,b=rB(t,wbe),S=A.useMemo(function(){return Cbe({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),C=b.dx,E=b.dy,O=b.angle,P=b.className,I=b.breakAll,L=rB(b,_be);if(!yo(n)||!yo(i))return null;var U=n+(Gt(C)?C:0),T=i+(Gt(E)?E:0),F;switch(g){case"start":F=CC("calc(".concat(u,")"));break;case"middle":F=CC("calc(".concat((S.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:F=CC("calc(".concat(S.length-1," * -").concat(s,")"));break}var j=[];if(f){var H=S[0].width,X=b.width;j.push("scale(".concat((Gt(X)?X/H:1)/H,")"))}return O&&j.push("rotate(".concat(O,", ").concat(U,", ").concat(T,")")),j.length&&(L.transform=j.join(" ")),c("text",{...Or(L,!0),x:U,y:T,className:hn("recharts-text",P),textAnchor:m,fill:_.includes("url")?oB:_,children:S.map(function(re,z){var G=re.words.join(I?"":" ");return c("tspan",{x:U,dy:z===0?F:s,children:G},"".concat(G,"-").concat(z))})})};function tm(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Pbe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function uI(e){let t,r,n;e.length!==2?(t=tm,r=(s,l)=>tm(e(s),l),n=(s,l)=>e(s)-l):(t=e===tm||e===Pbe?e:Tbe,r=e,n=e);function a(s,l,u=0,d=s.length){if(u<d){if(t(l,l)!==0)return d;do{const f=u+d>>>1;r(s[f],l)<0?u=f+1:d=f}while(u<d)}return u}function i(s,l,u=0,d=s.length){if(u<d){if(t(l,l)!==0)return d;do{const f=u+d>>>1;r(s[f],l)<=0?u=f+1:d=f}while(u<d)}return u}function o(s,l,u=0,d=s.length){const f=a(s,l,u,d-1);return f>u&&n(s[f-1],l)>-n(s[f],l)?f-1:f}return{left:a,center:o,right:i}}function Tbe(){return 0}function zZ(e){return e===null?NaN:+e}function*Obe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Dbe=uI(tm),Uw=Dbe.right;uI(zZ).center;class sB extends Map{constructor(t,r=Mbe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(lB(this,t))}has(t){return super.has(lB(this,t))}set(t,r){return super.set(Ibe(this,t),r)}delete(t){return super.delete(Rbe(this,t))}}function lB({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Ibe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Rbe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Mbe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Fbe(e=tm){if(e===tm)return WZ;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function WZ(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Lbe=Math.sqrt(50),jbe=Math.sqrt(10),$be=Math.sqrt(2);function F5(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=Lbe?10:i>=jbe?5:i>=$be?2:1;let s,l,u;return a<0?(u=Math.pow(10,-a)/o,s=Math.round(e*u),l=Math.round(t*u),s/u<e&&++s,l/u>t&&--l,u=-u):(u=Math.pow(10,a)*o,s=Math.round(e/u),l=Math.round(t/u),s*u<e&&++s,l*u>t&&--l),l<s&&.5<=r&&r<2?F5(e,t,r*2):[s,l,u]}function L6(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?F5(t,e,r):F5(e,t,r);if(!(i>=a))return[];const s=i-a+1,l=new Array(s);if(n)if(o<0)for(let u=0;u<s;++u)l[u]=(i-u)/-o;else for(let u=0;u<s;++u)l[u]=(i-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(a+u)/-o;else for(let u=0;u<s;++u)l[u]=(a+u)*o;return l}function j6(e,t,r){return t=+t,e=+e,r=+r,F5(e,t,r)[2]}function $6(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?j6(t,e,r):j6(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function cB(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function uB(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function VZ(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?WZ:Fbe(a);n>r;){if(n-r>600){const l=n-r+1,u=t-r+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(u-l/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/l+h)),x=Math.min(n,Math.floor(t+(l-u)*f/l+h));VZ(e,t,m,x,a)}const i=e[t];let o=r,s=n;for(n2(e,r,t),a(e[n],i)>0&&n2(e,r,n);o<s;){for(n2(e,o,s),++o,--s;a(e[o],i)<0;)++o;for(;a(e[s],i)>0;)--s}a(e[r],i)===0?n2(e,r,s):(++s,n2(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function n2(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Bbe(e,t,r){if(e=Float64Array.from(Obe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return uB(e);if(t>=1)return cB(e);var n,a=(n-1)*t,i=Math.floor(a),o=cB(VZ(e,i).subarray(0,i+1)),s=uB(e.subarray(i+1));return o+(s-o)*(a-i)}}function Ube(e,t,r=zZ){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),s=+r(e[i+1],i+1,e);return o+(s-o)*(a-i)}}function qbe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function nu(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Dh(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const B6=Symbol("implicit");function dI(){var e=new sB,t=[],r=[],n=B6;function a(i){let o=e.get(i);if(o===void 0){if(n!==B6)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new sB;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return dI(t,r).unknown(n)},nu.apply(a,arguments),a}function wx(){var e=dI().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,s=!1,l=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=a<n,x=m?a:n,g=m?n:a;i=(g-x)/Math.max(1,h-l+u*2),s&&(i=Math.floor(i)),x+=(g-x-i*(h-l))*d,o=i*(1-l),s&&(x=Math.round(x),o=Math.round(o));var y=qbe(h).map(function(_){return x+i*_});return r(m?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,s=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(s=!!h,f()):s},e.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return wx(t(),[n,a]).round(s).paddingInner(l).paddingOuter(u).align(d)},nu.apply(f(),arguments)}function HZ(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return HZ(t())},e}function $2(){return HZ(wx.apply(null,arguments).paddingInner(1))}function fI(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function GZ(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function qw(){}var _x=.7,L5=1/_x,r1="\\s*([+-]?\\d+)\\s*",bx="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ef="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",zbe=/^#([0-9a-f]{3,8})$/,Wbe=new RegExp(`^rgb\\(${r1},${r1},${r1}\\)$`),Vbe=new RegExp(`^rgb\\(${ef},${ef},${ef}\\)$`),Hbe=new RegExp(`^rgba\\(${r1},${r1},${r1},${bx}\\)$`),Gbe=new RegExp(`^rgba\\(${ef},${ef},${ef},${bx}\\)$`),Ybe=new RegExp(`^hsl\\(${bx},${ef},${ef}\\)$`),Kbe=new RegExp(`^hsla\\(${bx},${ef},${ef},${bx}\\)$`),dB={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};fI(qw,Sx,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:fB,formatHex:fB,formatHex8:Xbe,formatHsl:Zbe,formatRgb:hB,toString:hB});function fB(){return this.rgb().formatHex()}function Xbe(){return this.rgb().formatHex8()}function Zbe(){return YZ(this).formatHsl()}function hB(){return this.rgb().formatRgb()}function Sx(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=zbe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?pB(t):r===3?new Tl(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?fb(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?fb(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Wbe.exec(e))?new Tl(t[1],t[2],t[3],1):(t=Vbe.exec(e))?new Tl(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Hbe.exec(e))?fb(t[1],t[2],t[3],t[4]):(t=Gbe.exec(e))?fb(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Ybe.exec(e))?vB(t[1],t[2]/100,t[3]/100,1):(t=Kbe.exec(e))?vB(t[1],t[2]/100,t[3]/100,t[4]):dB.hasOwnProperty(e)?pB(dB[e]):e==="transparent"?new Tl(NaN,NaN,NaN,0):null}function pB(e){return new Tl(e>>16&255,e>>8&255,e&255,1)}function fb(e,t,r,n){return n<=0&&(e=t=r=NaN),new Tl(e,t,r,n)}function Jbe(e){return e instanceof qw||(e=Sx(e)),e?(e=e.rgb(),new Tl(e.r,e.g,e.b,e.opacity)):new Tl}function U6(e,t,r,n){return arguments.length===1?Jbe(e):new Tl(e,t,r,n??1)}function Tl(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}fI(Tl,U6,GZ(qw,{brighter(e){return e=e==null?L5:Math.pow(L5,e),new Tl(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?_x:Math.pow(_x,e),new Tl(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Tl(q0(this.r),q0(this.g),q0(this.b),j5(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:mB,formatHex:mB,formatHex8:Qbe,formatRgb:gB,toString:gB}));function mB(){return`#${R0(this.r)}${R0(this.g)}${R0(this.b)}`}function Qbe(){return`#${R0(this.r)}${R0(this.g)}${R0(this.b)}${R0((isNaN(this.opacity)?1:this.opacity)*255)}`}function gB(){const e=j5(this.opacity);return`${e===1?"rgb(":"rgba("}${q0(this.r)}, ${q0(this.g)}, ${q0(this.b)}${e===1?")":`, ${e})`}`}function j5(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function q0(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function R0(e){return e=q0(e),(e<16?"0":"")+e.toString(16)}function vB(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new $u(e,t,r,n)}function YZ(e){if(e instanceof $u)return new $u(e.h,e.s,e.l,e.opacity);if(e instanceof qw||(e=Sx(e)),!e)return new $u;if(e instanceof $u)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,s=i-a,l=(i+a)/2;return s?(t===i?o=(r-n)/s+(r<n)*6:r===i?o=(n-t)/s+2:o=(t-r)/s+4,s/=l<.5?i+a:2-i-a,o*=60):s=l>0&&l<1?0:o,new $u(o,s,l,e.opacity)}function e5e(e,t,r,n){return arguments.length===1?YZ(e):new $u(e,t,r,n??1)}function $u(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}fI($u,e5e,GZ(qw,{brighter(e){return e=e==null?L5:Math.pow(L5,e),new $u(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?_x:Math.pow(_x,e),new $u(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Tl(PC(e>=240?e-240:e+120,a,n),PC(e,a,n),PC(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new $u(yB(this.h),hb(this.s),hb(this.l),j5(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=j5(this.opacity);return`${e===1?"hsl(":"hsla("}${yB(this.h)}, ${hb(this.s)*100}%, ${hb(this.l)*100}%${e===1?")":`, ${e})`}`}}));function yB(e){return e=(e||0)%360,e<0?e+360:e}function hb(e){return Math.max(0,Math.min(1,e||0))}function PC(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const hI=e=>()=>e;function t5e(e,t){return function(r){return e+r*t}}function r5e(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function n5e(e){return(e=+e)==1?KZ:function(t,r){return r-t?r5e(t,r,e):hI(isNaN(t)?r:t)}}function KZ(e,t){var r=t-e;return r?t5e(e,r):hI(isNaN(e)?t:e)}const xB=function e(t){var r=n5e(t);function n(a,i){var o=r((a=U6(a)).r,(i=U6(i)).r),s=r(a.g,i.g),l=r(a.b,i.b),u=KZ(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=s(d),a.b=l(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function a5e(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function i5e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function o5e(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=yy(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(s){for(o=0;o<n;++o)i[o]=a[o](s);return i}}function s5e(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function $5(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function l5e(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=yy(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var q6=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,TC=new RegExp(q6.source,"g");function c5e(e){return function(){return e}}function u5e(e){return function(t){return e(t)+""}}function d5e(e,t){var r=q6.lastIndex=TC.lastIndex=0,n,a,i,o=-1,s=[],l=[];for(e=e+"",t=t+"";(n=q6.exec(e))&&(a=TC.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(a=a[0])?s[o]?s[o]+=a:s[++o]=a:(s[++o]=null,l.push({i:o,x:$5(n,a)})),r=TC.lastIndex;return r<t.length&&(i=t.slice(r),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?u5e(l[0].x):c5e(t):(t=l.length,function(u){for(var d=0,f;d<t;++d)s[(f=l[d]).i]=f.x(u);return s.join("")})}function yy(e,t){var r=typeof t,n;return t==null||r==="boolean"?hI(t):(r==="number"?$5:r==="string"?(n=Sx(t))?(t=n,xB):d5e:t instanceof Sx?xB:t instanceof Date?s5e:i5e(t)?a5e:Array.isArray(t)?o5e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?l5e:$5)(e,t)}function pI(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function f5e(e,t){t===void 0&&(t=e,e=yy);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[s](o-s)}}function h5e(e){return function(){return e}}function B5(e){return+e}var wB=[0,1];function ol(e){return e}function z6(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:h5e(isNaN(t)?NaN:.5)}function p5e(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function m5e(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=z6(a,n),i=r(o,i)):(n=z6(n,a),i=r(i,o)),function(s){return i(n(s))}}function g5e(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=z6(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(s){var l=Uw(e,s,1,n)-1;return i[l](a[l](s))}}function zw(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function G4(){var e=wB,t=wB,r=yy,n,a,i,o=ol,s,l,u;function d(){var h=Math.min(e.length,t.length);return o!==ol&&(o=p5e(e[0],e[h-1])),s=h>2?g5e:m5e,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(l||(l=s(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((u||(u=s(t,e.map(n),$5)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,B5),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=pI,d()},f.clamp=function(h){return arguments.length?(o=h?!0:ol,d()):o!==ol},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,m){return n=h,a=m,d()}}function mI(){return G4()(ol,ol)}function v5e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function U5(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function E1(e){return e=U5(Math.abs(e)),e?e[1]:NaN}function y5e(e,t){return function(r,n){for(var a=r.length,i=[],o=0,s=e[0],l=0;a>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),i.push(r.substring(a-=s,a+s)),!((l+=s+1)>n));)s=e[o=(o+1)%e.length];return i.reverse().join(t)}}function x5e(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var w5e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ax(e){if(!(t=w5e.exec(e)))throw new Error("invalid format: "+e);var t;return new gI({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ax.prototype=gI.prototype;function gI(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}gI.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function _5e(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var XZ;function b5e(e,t){var r=U5(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(XZ=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+U5(e,Math.max(0,t+i-1))[0]}function _B(e,t){var r=U5(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const bB={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:v5e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>_B(e*100,t),r:_B,s:b5e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function SB(e){return e}var AB=Array.prototype.map,kB=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function S5e(e){var t=e.grouping===void 0||e.thousands===void 0?SB:y5e(AB.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?SB:x5e(AB.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Ax(f);var h=f.fill,m=f.align,x=f.sign,g=f.symbol,y=f.zero,_=f.width,b=f.comma,S=f.precision,C=f.trim,E=f.type;E==="n"?(b=!0,E="g"):bB[E]||(S===void 0&&(S=12),C=!0,E="g"),(y||h==="0"&&m==="=")&&(y=!0,h="0",m="=");var O=g==="$"?r:g==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",P=g==="$"?n:/[%p]/.test(E)?o:"",I=bB[E],L=/[defgprs%]/.test(E);S=S===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function U(T){var F=O,j=P,H,X,re;if(E==="c")j=I(T)+j,T="";else{T=+T;var z=T<0||1/T<0;if(T=isNaN(T)?l:I(Math.abs(T),S),C&&(T=_5e(T)),z&&+T==0&&x!=="+"&&(z=!1),F=(z?x==="("?x:s:x==="-"||x==="("?"":x)+F,j=(E==="s"?kB[8+XZ/3]:"")+j+(z&&x==="("?")":""),L){for(H=-1,X=T.length;++H<X;)if(re=T.charCodeAt(H),48>re||re>57){j=(re===46?a+T.slice(H+1):T.slice(H))+j,T=T.slice(0,H);break}}}b&&!y&&(T=t(T,1/0));var G=F.length+T.length+j.length,q=G<_?new Array(_-G+1).join(h):"";switch(b&&y&&(T=t(q+T,q.length?_-j.length:1/0),q=""),m){case"<":T=F+T+j+q;break;case"=":T=F+q+T+j;break;case"^":T=q.slice(0,G=q.length>>1)+F+T+j+q.slice(G);break;default:T=q+F+T+j;break}return i(T)}return U.toString=function(){return f+""},U}function d(f,h){var m=u((f=Ax(f),f.type="f",f)),x=Math.max(-8,Math.min(8,Math.floor(E1(h)/3)))*3,g=Math.pow(10,-x),y=kB[8+x/3];return function(_){return m(g*_)+y}}return{format:u,formatPrefix:d}}var pb,vI,ZZ;A5e({thousands:",",grouping:[3],currency:["$",""]});function A5e(e){return pb=S5e(e),vI=pb.format,ZZ=pb.formatPrefix,pb}function k5e(e){return Math.max(0,-E1(Math.abs(e)))}function N5e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(E1(t)/3)))*3-E1(Math.abs(e)))}function E5e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,E1(t)-E1(e))+1}function JZ(e,t,r,n){var a=$6(e,t,r),i;switch(n=Ax(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=N5e(a,o))&&(n.precision=i),ZZ(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=E5e(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=k5e(a))&&(n.precision=i-(n.type==="%")*2);break}}return vI(n)}function Im(e){var t=e.domain;return e.ticks=function(r){var n=t();return L6(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return JZ(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],s=n[i],l,u,d=10;for(s<o&&(u=o,o=s,s=u,u=a,a=i,i=u);d-- >0;){if(u=j6(o,s,r),u===l)return n[a]=o,n[i]=s,t(n);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return e},e}function q5(){var e=mI();return e.copy=function(){return zw(e,q5())},nu.apply(e,arguments),Im(e)}function QZ(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,B5),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return QZ(e).unknown(t)},e=arguments.length?Array.from(e,B5):[0,1],Im(r)}function eJ(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function NB(e){return Math.log(e)}function EB(e){return Math.exp(e)}function C5e(e){return-Math.log(-e)}function P5e(e){return-Math.exp(-e)}function T5e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function O5e(e){return e===10?T5e:e===Math.E?Math.exp:t=>Math.pow(e,t)}function D5e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function CB(e){return(t,r)=>-e(-t,r)}function yI(e){const t=e(NB,EB),r=t.domain;let n=10,a,i;function o(){return a=D5e(n),i=O5e(n),r()[0]<0?(a=CB(a),i=CB(i),e(C5e,P5e)):e(NB,EB),t}return t.base=function(s){return arguments.length?(n=+s,o()):n},t.domain=function(s){return arguments.length?(r(s),o()):r()},t.ticks=s=>{const l=r();let u=l[0],d=l[l.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),m=a(d),x,g;const y=s==null?10:+s;let _=[];if(!(n%1)&&m-h<y){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(x=1;x<n;++x)if(g=h<0?x/i(-h):x*i(h),!(g<u)){if(g>d)break;_.push(g)}}else for(;h<=m;++h)for(x=n-1;x>=1;--x)if(g=h>0?x/i(-h):x*i(h),!(g<u)){if(g>d)break;_.push(g)}_.length*2<y&&(_=L6(u,d,y))}else _=L6(h,m,Math.min(m-h,y)).map(i);return f?_.reverse():_},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Ax(l)).precision==null&&(l.trim=!0),l=vI(l)),s===1/0)return l;const u=Math.max(1,n*s/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?l(d):""}},t.nice=()=>r(eJ(r(),{floor:s=>i(Math.floor(a(s))),ceil:s=>i(Math.ceil(a(s)))})),t}function tJ(){const e=yI(G4()).domain([1,10]);return e.copy=()=>zw(e,tJ()).base(e.base()),nu.apply(e,arguments),e}function PB(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function TB(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function xI(e){var t=1,r=e(PB(t),TB(t));return r.constant=function(n){return arguments.length?e(PB(t=+n),TB(t)):t},Im(r)}function rJ(){var e=xI(G4());return e.copy=function(){return zw(e,rJ()).constant(e.constant())},nu.apply(e,arguments)}function OB(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function I5e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function R5e(e){return e<0?-e*e:e*e}function wI(e){var t=e(ol,ol),r=1;function n(){return r===1?e(ol,ol):r===.5?e(I5e,R5e):e(OB(r),OB(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Im(t)}function _I(){var e=wI(G4());return e.copy=function(){return zw(e,_I()).exponent(e.exponent())},nu.apply(e,arguments),e}function M5e(){return _I.apply(null,arguments).exponent(.5)}function DB(e){return Math.sign(e)*e*e}function F5e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function nJ(){var e=mI(),t=[0,1],r=!1,n;function a(i){var o=F5e(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(DB(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,B5)).map(DB)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return nJ(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},nu.apply(a,arguments),Im(a)}function aJ(){var e=[],t=[],r=[],n;function a(){var o=0,s=Math.max(1,t.length);for(r=new Array(s-1);++o<s;)r[o-1]=Ube(e,o/s);return i}function i(o){return o==null||isNaN(o=+o)?n:t[Uw(r,o)]}return i.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(tm),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return aJ().domain(e).range(t).unknown(n)},nu.apply(i,arguments)}function iJ(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(l){return l!=null&&l<=l?a[Uw(n,l,0,r)]:i}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},o.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,s()):a.slice()},o.invertExtent=function(l){var u=a.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(l){return arguments.length&&(i=l),o},o.thresholds=function(){return n.slice()},o.copy=function(){return iJ().domain([e,t]).range(a).unknown(i)},nu.apply(Im(o),arguments)}function oJ(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Uw(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return oJ().domain(e).range(t).unknown(r)},nu.apply(a,arguments)}const OC=new Date,DC=new Date;function wo(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),s=a.ceil(i);return i-o<s-i?o:s},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,s)=>{const l=[];if(i=a.ceil(i),s=s==null?1:Math.floor(s),!(i<o)||!(s>0))return l;let u;do l.push(u=new Date(+i)),t(i,s),e(i);while(u<i&&i<o);return l},a.filter=i=>wo(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!i(o););else for(;--s>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(OC.setTime(+i),DC.setTime(+o),e(OC),e(DC),Math.floor(r(OC,DC))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const z5=wo(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);z5.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?wo(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):z5);z5.range;const oh=1e3,Kc=oh*60,sh=Kc*60,_h=sh*24,bI=_h*7,IB=_h*30,IC=_h*365,M0=wo(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*oh)},(e,t)=>(t-e)/oh,e=>e.getUTCSeconds());M0.range;const SI=wo(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*oh)},(e,t)=>{e.setTime(+e+t*Kc)},(e,t)=>(t-e)/Kc,e=>e.getMinutes());SI.range;const AI=wo(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Kc)},(e,t)=>(t-e)/Kc,e=>e.getUTCMinutes());AI.range;const kI=wo(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*oh-e.getMinutes()*Kc)},(e,t)=>{e.setTime(+e+t*sh)},(e,t)=>(t-e)/sh,e=>e.getHours());kI.range;const NI=wo(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*sh)},(e,t)=>(t-e)/sh,e=>e.getUTCHours());NI.range;const Ww=wo(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Kc)/_h,e=>e.getDate()-1);Ww.range;const Y4=wo(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/_h,e=>e.getUTCDate()-1);Y4.range;const sJ=wo(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/_h,e=>Math.floor(e/_h));sJ.range;function Pg(e){return wo(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Kc)/bI)}const K4=Pg(0),W5=Pg(1),L5e=Pg(2),j5e=Pg(3),C1=Pg(4),$5e=Pg(5),B5e=Pg(6);K4.range;W5.range;L5e.range;j5e.range;C1.range;$5e.range;B5e.range;function Tg(e){return wo(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/bI)}const X4=Tg(0),V5=Tg(1),U5e=Tg(2),q5e=Tg(3),P1=Tg(4),z5e=Tg(5),W5e=Tg(6);X4.range;V5.range;U5e.range;q5e.range;P1.range;z5e.range;W5e.range;const EI=wo(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());EI.range;const CI=wo(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());CI.range;const bh=wo(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());bh.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:wo(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});bh.range;const Sh=wo(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Sh.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:wo(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Sh.range;function lJ(e,t,r,n,a,i){const o=[[M0,1,oh],[M0,5,5*oh],[M0,15,15*oh],[M0,30,30*oh],[i,1,Kc],[i,5,5*Kc],[i,15,15*Kc],[i,30,30*Kc],[a,1,sh],[a,3,3*sh],[a,6,6*sh],[a,12,12*sh],[n,1,_h],[n,2,2*_h],[r,1,bI],[t,1,IB],[t,3,3*IB],[e,1,IC]];function s(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:l(u,d,f),x=m?m.range(u,+d+1):[];return h?x.reverse():x}function l(u,d,f){const h=Math.abs(d-u)/f,m=uI(([,,y])=>y).right(o,h);if(m===o.length)return e.every($6(u/IC,d/IC,f));if(m===0)return z5.every(Math.max($6(u,d,f),1));const[x,g]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return x.every(g)}return[s,l]}const[V5e,H5e]=lJ(Sh,CI,X4,sJ,NI,AI),[G5e,Y5e]=lJ(bh,EI,K4,Ww,kI,SI);function RC(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function MC(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function a2(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function K5e(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,u=i2(a),d=o2(a),f=i2(i),h=o2(i),m=i2(o),x=o2(o),g=i2(s),y=o2(s),_=i2(l),b=o2(l),S={a:z,A:G,b:q,B:K,c:null,d:$B,e:$B,f:ySe,g:CSe,G:TSe,H:mSe,I:gSe,j:vSe,L:cJ,m:xSe,M:wSe,p:J,q:D,Q:qB,s:zB,S:_Se,u:bSe,U:SSe,V:ASe,w:kSe,W:NSe,x:null,X:null,y:ESe,Y:PSe,Z:OSe,"%":UB},C={a:Y,A:Q,b:ie,B:se,c:null,d:BB,e:BB,f:MSe,g:VSe,G:GSe,H:DSe,I:ISe,j:RSe,L:dJ,m:FSe,M:LSe,p:te,q:de,Q:qB,s:zB,S:jSe,u:$Se,U:BSe,V:USe,w:qSe,W:zSe,x:null,X:null,y:WSe,Y:HSe,Z:YSe,"%":UB},E={a:U,A:T,b:F,B:j,c:H,d:LB,e:LB,f:dSe,g:FB,G:MB,H:jB,I:jB,j:sSe,L:uSe,m:oSe,M:lSe,p:L,q:iSe,Q:hSe,s:pSe,S:cSe,u:eSe,U:tSe,V:rSe,w:Q5e,W:nSe,x:X,X:re,y:FB,Y:MB,Z:aSe,"%":fSe};S.x=O(r,S),S.X=O(n,S),S.c=O(t,S),C.x=O(r,C),C.X=O(n,C),C.c=O(t,C);function O(Z,ce){return function(oe){var ae=[],Ne=-1,Ie=0,Te=Z.length,he,Ge,mt;for(oe instanceof Date||(oe=new Date(+oe));++Ne<Te;)Z.charCodeAt(Ne)===37&&(ae.push(Z.slice(Ie,Ne)),(Ge=RB[he=Z.charAt(++Ne)])!=null?he=Z.charAt(++Ne):Ge=he==="e"?" ":"0",(mt=ce[he])&&(he=mt(oe,Ge)),ae.push(he),Ie=Ne+1);return ae.push(Z.slice(Ie,Ne)),ae.join("")}}function P(Z,ce){return function(oe){var ae=a2(1900,void 0,1),Ne=I(ae,Z,oe+="",0),Ie,Te;if(Ne!=oe.length)return null;if("Q"in ae)return new Date(ae.Q);if("s"in ae)return new Date(ae.s*1e3+("L"in ae?ae.L:0));if(ce&&!("Z"in ae)&&(ae.Z=0),"p"in ae&&(ae.H=ae.H%12+ae.p*12),ae.m===void 0&&(ae.m="q"in ae?ae.q:0),"V"in ae){if(ae.V<1||ae.V>53)return null;"w"in ae||(ae.w=1),"Z"in ae?(Ie=MC(a2(ae.y,0,1)),Te=Ie.getUTCDay(),Ie=Te>4||Te===0?V5.ceil(Ie):V5(Ie),Ie=Y4.offset(Ie,(ae.V-1)*7),ae.y=Ie.getUTCFullYear(),ae.m=Ie.getUTCMonth(),ae.d=Ie.getUTCDate()+(ae.w+6)%7):(Ie=RC(a2(ae.y,0,1)),Te=Ie.getDay(),Ie=Te>4||Te===0?W5.ceil(Ie):W5(Ie),Ie=Ww.offset(Ie,(ae.V-1)*7),ae.y=Ie.getFullYear(),ae.m=Ie.getMonth(),ae.d=Ie.getDate()+(ae.w+6)%7)}else("W"in ae||"U"in ae)&&("w"in ae||(ae.w="u"in ae?ae.u%7:"W"in ae?1:0),Te="Z"in ae?MC(a2(ae.y,0,1)).getUTCDay():RC(a2(ae.y,0,1)).getDay(),ae.m=0,ae.d="W"in ae?(ae.w+6)%7+ae.W*7-(Te+5)%7:ae.w+ae.U*7-(Te+6)%7);return"Z"in ae?(ae.H+=ae.Z/100|0,ae.M+=ae.Z%100,MC(ae)):RC(ae)}}function I(Z,ce,oe,ae){for(var Ne=0,Ie=ce.length,Te=oe.length,he,Ge;Ne<Ie;){if(ae>=Te)return-1;if(he=ce.charCodeAt(Ne++),he===37){if(he=ce.charAt(Ne++),Ge=E[he in RB?ce.charAt(Ne++):he],!Ge||(ae=Ge(Z,oe,ae))<0)return-1}else if(he!=oe.charCodeAt(ae++))return-1}return ae}function L(Z,ce,oe){var ae=u.exec(ce.slice(oe));return ae?(Z.p=d.get(ae[0].toLowerCase()),oe+ae[0].length):-1}function U(Z,ce,oe){var ae=m.exec(ce.slice(oe));return ae?(Z.w=x.get(ae[0].toLowerCase()),oe+ae[0].length):-1}function T(Z,ce,oe){var ae=f.exec(ce.slice(oe));return ae?(Z.w=h.get(ae[0].toLowerCase()),oe+ae[0].length):-1}function F(Z,ce,oe){var ae=_.exec(ce.slice(oe));return ae?(Z.m=b.get(ae[0].toLowerCase()),oe+ae[0].length):-1}function j(Z,ce,oe){var ae=g.exec(ce.slice(oe));return ae?(Z.m=y.get(ae[0].toLowerCase()),oe+ae[0].length):-1}function H(Z,ce,oe){return I(Z,t,ce,oe)}function X(Z,ce,oe){return I(Z,r,ce,oe)}function re(Z,ce,oe){return I(Z,n,ce,oe)}function z(Z){return o[Z.getDay()]}function G(Z){return i[Z.getDay()]}function q(Z){return l[Z.getMonth()]}function K(Z){return s[Z.getMonth()]}function J(Z){return a[+(Z.getHours()>=12)]}function D(Z){return 1+~~(Z.getMonth()/3)}function Y(Z){return o[Z.getUTCDay()]}function Q(Z){return i[Z.getUTCDay()]}function ie(Z){return l[Z.getUTCMonth()]}function se(Z){return s[Z.getUTCMonth()]}function te(Z){return a[+(Z.getUTCHours()>=12)]}function de(Z){return 1+~~(Z.getUTCMonth()/3)}return{format:function(Z){var ce=O(Z+="",S);return ce.toString=function(){return Z},ce},parse:function(Z){var ce=P(Z+="",!1);return ce.toString=function(){return Z},ce},utcFormat:function(Z){var ce=O(Z+="",C);return ce.toString=function(){return Z},ce},utcParse:function(Z){var ce=P(Z+="",!0);return ce.toString=function(){return Z},ce}}}var RB={"-":"",_:" ",0:"0"},Uo=/^\s*\d+/,X5e=/^%/,Z5e=/[\\^$*+?|[\]().{}]/g;function Jn(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function J5e(e){return e.replace(Z5e,"\\$&")}function i2(e){return new RegExp("^(?:"+e.map(J5e).join("|")+")","i")}function o2(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Q5e(e,t,r){var n=Uo.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function eSe(e,t,r){var n=Uo.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function tSe(e,t,r){var n=Uo.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function rSe(e,t,r){var n=Uo.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function nSe(e,t,r){var n=Uo.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function MB(e,t,r){var n=Uo.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function FB(e,t,r){var n=Uo.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function aSe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function iSe(e,t,r){var n=Uo.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function oSe(e,t,r){var n=Uo.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function LB(e,t,r){var n=Uo.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function sSe(e,t,r){var n=Uo.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function jB(e,t,r){var n=Uo.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function lSe(e,t,r){var n=Uo.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function cSe(e,t,r){var n=Uo.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function uSe(e,t,r){var n=Uo.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function dSe(e,t,r){var n=Uo.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function fSe(e,t,r){var n=X5e.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function hSe(e,t,r){var n=Uo.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function pSe(e,t,r){var n=Uo.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function $B(e,t){return Jn(e.getDate(),t,2)}function mSe(e,t){return Jn(e.getHours(),t,2)}function gSe(e,t){return Jn(e.getHours()%12||12,t,2)}function vSe(e,t){return Jn(1+Ww.count(bh(e),e),t,3)}function cJ(e,t){return Jn(e.getMilliseconds(),t,3)}function ySe(e,t){return cJ(e,t)+"000"}function xSe(e,t){return Jn(e.getMonth()+1,t,2)}function wSe(e,t){return Jn(e.getMinutes(),t,2)}function _Se(e,t){return Jn(e.getSeconds(),t,2)}function bSe(e){var t=e.getDay();return t===0?7:t}function SSe(e,t){return Jn(K4.count(bh(e)-1,e),t,2)}function uJ(e){var t=e.getDay();return t>=4||t===0?C1(e):C1.ceil(e)}function ASe(e,t){return e=uJ(e),Jn(C1.count(bh(e),e)+(bh(e).getDay()===4),t,2)}function kSe(e){return e.getDay()}function NSe(e,t){return Jn(W5.count(bh(e)-1,e),t,2)}function ESe(e,t){return Jn(e.getFullYear()%100,t,2)}function CSe(e,t){return e=uJ(e),Jn(e.getFullYear()%100,t,2)}function PSe(e,t){return Jn(e.getFullYear()%1e4,t,4)}function TSe(e,t){var r=e.getDay();return e=r>=4||r===0?C1(e):C1.ceil(e),Jn(e.getFullYear()%1e4,t,4)}function OSe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Jn(t/60|0,"0",2)+Jn(t%60,"0",2)}function BB(e,t){return Jn(e.getUTCDate(),t,2)}function DSe(e,t){return Jn(e.getUTCHours(),t,2)}function ISe(e,t){return Jn(e.getUTCHours()%12||12,t,2)}function RSe(e,t){return Jn(1+Y4.count(Sh(e),e),t,3)}function dJ(e,t){return Jn(e.getUTCMilliseconds(),t,3)}function MSe(e,t){return dJ(e,t)+"000"}function FSe(e,t){return Jn(e.getUTCMonth()+1,t,2)}function LSe(e,t){return Jn(e.getUTCMinutes(),t,2)}function jSe(e,t){return Jn(e.getUTCSeconds(),t,2)}function $Se(e){var t=e.getUTCDay();return t===0?7:t}function BSe(e,t){return Jn(X4.count(Sh(e)-1,e),t,2)}function fJ(e){var t=e.getUTCDay();return t>=4||t===0?P1(e):P1.ceil(e)}function USe(e,t){return e=fJ(e),Jn(P1.count(Sh(e),e)+(Sh(e).getUTCDay()===4),t,2)}function qSe(e){return e.getUTCDay()}function zSe(e,t){return Jn(V5.count(Sh(e)-1,e),t,2)}function WSe(e,t){return Jn(e.getUTCFullYear()%100,t,2)}function VSe(e,t){return e=fJ(e),Jn(e.getUTCFullYear()%100,t,2)}function HSe(e,t){return Jn(e.getUTCFullYear()%1e4,t,4)}function GSe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?P1(e):P1.ceil(e),Jn(e.getUTCFullYear()%1e4,t,4)}function YSe(){return"+0000"}function UB(){return"%"}function qB(e){return+e}function zB(e){return Math.floor(+e/1e3)}var Cv,hJ,pJ;KSe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function KSe(e){return Cv=K5e(e),hJ=Cv.format,Cv.parse,pJ=Cv.utcFormat,Cv.utcParse,Cv}function XSe(e){return new Date(e)}function ZSe(e){return e instanceof Date?+e:+new Date(+e)}function PI(e,t,r,n,a,i,o,s,l,u){var d=mI(),f=d.invert,h=d.domain,m=u(".%L"),x=u(":%S"),g=u("%I:%M"),y=u("%I %p"),_=u("%a %d"),b=u("%b %d"),S=u("%B"),C=u("%Y");function E(O){return(l(O)<O?m:s(O)<O?x:o(O)<O?g:i(O)<O?y:n(O)<O?a(O)<O?_:b:r(O)<O?S:C)(O)}return d.invert=function(O){return new Date(f(O))},d.domain=function(O){return arguments.length?h(Array.from(O,ZSe)):h().map(XSe)},d.ticks=function(O){var P=h();return e(P[0],P[P.length-1],O??10)},d.tickFormat=function(O,P){return P==null?E:u(P)},d.nice=function(O){var P=h();return(!O||typeof O.range!="function")&&(O=t(P[0],P[P.length-1],O??10)),O?h(eJ(P,O)):d},d.copy=function(){return zw(d,PI(e,t,r,n,a,i,o,s,l,u))},d}function JSe(){return nu.apply(PI(G5e,Y5e,bh,EI,K4,Ww,kI,SI,M0,hJ).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function QSe(){return nu.apply(PI(V5e,H5e,Sh,CI,X4,Y4,NI,AI,M0,pJ).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Z4(){var e=0,t=1,r,n,a,i,o=ol,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:o(a===0?.5:(f=(i(f)-r)*a,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var m,x;return arguments.length?([m,x]=h,o=f(m,x),u):[o(0),o(1)]}}return u.range=d(yy),u.rangeRound=d(pI),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function Rm(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function mJ(){var e=Im(Z4()(ol));return e.copy=function(){return Rm(e,mJ())},Dh.apply(e,arguments)}function gJ(){var e=yI(Z4()).domain([1,10]);return e.copy=function(){return Rm(e,gJ()).base(e.base())},Dh.apply(e,arguments)}function vJ(){var e=xI(Z4());return e.copy=function(){return Rm(e,vJ()).constant(e.constant())},Dh.apply(e,arguments)}function TI(){var e=wI(Z4());return e.copy=function(){return Rm(e,TI()).exponent(e.exponent())},Dh.apply(e,arguments)}function e4e(){return TI.apply(null,arguments).exponent(.5)}function yJ(){var e=[],t=ol;function r(n){if(n!=null&&!isNaN(n=+n))return t((Uw(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(tm),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>Bbe(e,i/n))},r.copy=function(){return yJ(t).domain(e)},Dh.apply(r,arguments)}function J4(){var e=0,t=.5,r=1,n=1,a,i,o,s,l,u=ol,d,f=!1,h;function m(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-i)*(n*g<n*i?s:l),u(f?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([e,t,r]=g,a=d(e=+e),i=d(t=+t),o=d(r=+r),s=a===i?0:.5/(i-a),l=i===o?0:.5/(o-i),n=i<a?-1:1,m):[e,t,r]},m.clamp=function(g){return arguments.length?(f=!!g,m):f},m.interpolator=function(g){return arguments.length?(u=g,m):u};function x(g){return function(y){var _,b,S;return arguments.length?([_,b,S]=y,u=f5e(g,[_,b,S]),m):[u(0),u(.5),u(1)]}}return m.range=x(yy),m.rangeRound=x(pI),m.unknown=function(g){return arguments.length?(h=g,m):h},function(g){return d=g,a=g(e),i=g(t),o=g(r),s=a===i?0:.5/(i-a),l=i===o?0:.5/(o-i),n=i<a?-1:1,m}}function xJ(){var e=Im(J4()(ol));return e.copy=function(){return Rm(e,xJ())},Dh.apply(e,arguments)}function wJ(){var e=yI(J4()).domain([.1,1,10]);return e.copy=function(){return Rm(e,wJ()).base(e.base())},Dh.apply(e,arguments)}function _J(){var e=xI(J4());return e.copy=function(){return Rm(e,_J()).constant(e.constant())},Dh.apply(e,arguments)}function OI(){var e=wI(J4());return e.copy=function(){return Rm(e,OI()).exponent(e.exponent())},Dh.apply(e,arguments)}function t4e(){return OI.apply(null,arguments).exponent(.5)}const WB=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:wx,scaleDiverging:xJ,scaleDivergingLog:wJ,scaleDivergingPow:OI,scaleDivergingSqrt:t4e,scaleDivergingSymlog:_J,scaleIdentity:QZ,scaleImplicit:B6,scaleLinear:q5,scaleLog:tJ,scaleOrdinal:dI,scalePoint:$2,scalePow:_I,scaleQuantile:aJ,scaleQuantize:iJ,scaleRadial:nJ,scaleSequential:mJ,scaleSequentialLog:gJ,scaleSequentialPow:TI,scaleSequentialQuantile:yJ,scaleSequentialSqrt:e4e,scaleSequentialSymlog:vJ,scaleSqrt:M5e,scaleSymlog:rJ,scaleThreshold:oJ,scaleTime:JSe,scaleUtc:QSe,tickFormat:JZ},Symbol.toStringTag,{value:"Module"}));var FC,VB;function Q4(){if(VB)return FC;VB=1;var e=py();function t(r,n,a){for(var i=-1,o=r.length;++i<o;){var s=r[i],l=n(s);if(l!=null&&(u===void 0?l===l&&!e(l):a(l,u)))var u=l,d=s}return d}return FC=t,FC}var LC,HB;function bJ(){if(HB)return LC;HB=1;function e(t,r){return t>r}return LC=e,LC}var jC,GB;function r4e(){if(GB)return jC;GB=1;var e=Q4(),t=bJ(),r=vy();function n(a){return a&&a.length?e(a,r,t):void 0}return jC=n,jC}var n4e=r4e();const Yp=ia(n4e);var $C,YB;function SJ(){if(YB)return $C;YB=1;function e(t,r){return t<r}return $C=e,$C}var BC,KB;function a4e(){if(KB)return BC;KB=1;var e=Q4(),t=SJ(),r=vy();function n(a){return a&&a.length?e(a,r,t):void 0}return BC=n,BC}var i4e=a4e();const e3=ia(i4e);var UC,XB;function o4e(){if(XB)return UC;XB=1;var e=GD(),t=gf(),r=OZ(),n=$l();function a(i,o){var s=n(i)?e:r;return s(i,t(o,3))}return UC=a,UC}var qC,ZB;function s4e(){if(ZB)return qC;ZB=1;var e=PZ(),t=o4e();function r(n,a){return e(t(n,a),1)}return qC=r,qC}var l4e=s4e();const c4e=ia(l4e);var zC,JB;function u4e(){if(JB)return zC;JB=1;var e=oI();function t(r,n){return e(r,n)}return zC=t,zC}var d4e=u4e();const ig=ia(d4e);var xy=1e9,f4e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},II,ii=!0,Qc="[DecimalError] ",z0=Qc+"Invalid argument: ",DI=Qc+"Exponent out of range: ",wy=Math.floor,k0=Math.pow,h4e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,lc,Oo=1e7,Ka=7,AJ=9007199254740991,H5=wy(AJ/Ka),br={};br.absoluteValue=br.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};br.comparedTo=br.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};br.decimalPlaces=br.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ka;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};br.dividedBy=br.div=function(e){return fh(this,new this.constructor(e))};br.dividedToIntegerBy=br.idiv=function(e){var t=this,r=t.constructor;return Pa(fh(t,new r(e),0,1),r.precision)};br.equals=br.eq=function(e){return!this.cmp(e)};br.exponent=function(){return co(this)};br.greaterThan=br.gt=function(e){return this.cmp(e)>0};br.greaterThanOrEqualTo=br.gte=function(e){return this.cmp(e)>=0};br.isInteger=br.isint=function(){return this.e>this.d.length-2};br.isNegative=br.isneg=function(){return this.s<0};br.isPositive=br.ispos=function(){return this.s>0};br.isZero=function(){return this.s===0};br.lessThan=br.lt=function(e){return this.cmp(e)<0};br.lessThanOrEqualTo=br.lte=function(e){return this.cmp(e)<1};br.logarithm=br.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(lc))throw Error(Qc+"NaN");if(r.s<1)throw Error(Qc+(r.s?"NaN":"-Infinity"));return r.eq(lc)?new n(0):(ii=!1,t=fh(kx(r,i),kx(e,i),i),ii=!0,Pa(t,a))};br.minus=br.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?EJ(t,e):kJ(t,(e.s=-e.s,e))};br.modulo=br.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Qc+"NaN");return r.s?(ii=!1,t=fh(r,e,0,1).times(e),ii=!0,r.minus(t)):Pa(new n(r),a)};br.naturalExponential=br.exp=function(){return NJ(this)};br.naturalLogarithm=br.ln=function(){return kx(this)};br.negated=br.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};br.plus=br.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?kJ(t,e):EJ(t,(e.s=-e.s,e))};br.precision=br.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(z0+e);if(t=co(a)+1,n=a.d.length-1,r=n*Ka+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};br.squareRoot=br.sqrt=function(){var e,t,r,n,a,i,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Qc+"NaN")}for(e=co(s),ii=!1,a=Math.sqrt(+s),a==0||a==1/0?(t=Gd(s.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=wy((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(a.toString()),r=l.precision,a=o=r+3;;)if(i=n,n=i.plus(fh(s,i,o+2)).times(.5),Gd(i.d).slice(0,o)===(t=Gd(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Pa(i,r+1,0),i.times(i).eq(s)){n=i;break}}else if(t!="9999")break;o+=4}return ii=!0,Pa(n,r)};br.times=br.mul=function(e){var t,r,n,a,i,o,s,l,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,l=h.length,u=m.length,l<u&&(i=h,h=m,m=i,o=l,l=u,u=o),i=[],o=l+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=l+n;a>n;)s=i[a]+m[n]*h[a-n-1]+t,i[a--]=s%Oo|0,t=s/Oo|0;i[a]=(i[a]+t)%Oo|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,ii?Pa(e,f.precision):e};br.toDecimalPlaces=br.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(uf(e,0,xy),t===void 0?t=n.rounding:uf(t,0,8),Pa(r,e+co(r)+1,t))};br.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=og(n,!0):(uf(e,0,xy),t===void 0?t=a.rounding:uf(t,0,8),n=Pa(new a(n),e+1,t),r=og(n,!0,e+1)),r};br.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?og(a):(uf(e,0,xy),t===void 0?t=i.rounding:uf(t,0,8),n=Pa(new i(a),e+co(a)+1,t),r=og(n.abs(),!1,e+co(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};br.toInteger=br.toint=function(){var e=this,t=e.constructor;return Pa(new t(e),co(e)+1,t.rounding)};br.toNumber=function(){return+this};br.toPower=br.pow=function(e){var t,r,n,a,i,o,s=this,l=s.constructor,u=12,d=+(e=new l(e));if(!e.s)return new l(lc);if(s=new l(s),!s.s){if(e.s<1)throw Error(Qc+"Infinity");return s}if(s.eq(lc))return s;if(n=l.precision,e.eq(lc))return Pa(s,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=s.s,o){if((r=d<0?-d:d)<=AJ){for(a=new l(lc),t=Math.ceil(n/Ka+4),ii=!1;r%2&&(a=a.times(s),eU(a.d,t)),r=wy(r/2),r!==0;)s=s.times(s),eU(s.d,t);return ii=!0,e.s<0?new l(lc).div(a):Pa(a,n)}}else if(i<0)throw Error(Qc+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,ii=!1,a=e.times(kx(s,n+u)),ii=!0,a=NJ(a),a.s=i,a};br.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=co(a),n=og(a,r<=i.toExpNeg||r>=i.toExpPos)):(uf(e,1,xy),t===void 0?t=i.rounding:uf(t,0,8),a=Pa(new i(a),e,t),r=co(a),n=og(a,e<=r||r<=i.toExpNeg,e)),n};br.toSignificantDigits=br.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(uf(e,1,xy),t===void 0?t=n.rounding:uf(t,0,8)),Pa(new n(r),e,t)};br.toString=br.valueOf=br.val=br.toJSON=br[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=co(e),r=e.constructor;return og(e,t<=r.toExpNeg||t>=r.toExpPos)};function kJ(e,t){var r,n,a,i,o,s,l,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),ii?Pa(t,f):t;if(l=e.d,u=t.d,o=e.e,a=t.e,l=l.slice(),i=o-a,i){for(i<0?(n=l,i=-i,s=u.length):(n=u,a=o,s=l.length),o=Math.ceil(f/Ka),s=o>s?o+1:s+1,i>s&&(i=s,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(s=l.length,i=u.length,s-i<0&&(i=s,n=u,u=l,l=n),r=0;i;)r=(l[--i]=l[i]+u[i]+r)/Oo|0,l[i]%=Oo;for(r&&(l.unshift(r),++a),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=a,ii?Pa(t,f):t}function uf(e,t,r){if(e!==~~e||e<t||e>r)throw Error(z0+e)}function Gd(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=Ka-n.length,r&&(i+=qp(r)),i+=n;o=e[t],n=o+"",r=Ka-n.length,r&&(i+=qp(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var fh=function(){function e(n,a){var i,o=0,s=n.length;for(n=n.slice();s--;)i=n[s]*a+o,n[s]=i%Oo|0,o=i/Oo|0;return o&&n.unshift(o),n}function t(n,a,i,o){var s,l;if(i!=o)l=i>o?1:-1;else for(s=l=0;s<i;s++)if(n[s]!=a[s]){l=n[s]>a[s]?1:-1;break}return l}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*Oo+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var s,l,u,d,f,h,m,x,g,y,_,b,S,C,E,O,P,I,L=n.constructor,U=n.s==a.s?1:-1,T=n.d,F=a.d;if(!n.s)return new L(n);if(!a.s)throw Error(Qc+"Division by zero");for(l=n.e-a.e,P=F.length,E=T.length,m=new L(U),x=m.d=[],u=0;F[u]==(T[u]||0);)++u;if(F[u]>(T[u]||0)&&--l,i==null?b=i=L.precision:o?b=i+(co(n)-co(a))+1:b=i,b<0)return new L(0);if(b=b/Ka+2|0,u=0,P==1)for(d=0,F=F[0],b++;(u<E||d)&&b--;u++)S=d*Oo+(T[u]||0),x[u]=S/F|0,d=S%F|0;else{for(d=Oo/(F[0]+1)|0,d>1&&(F=e(F,d),T=e(T,d),P=F.length,E=T.length),C=P,g=T.slice(0,P),y=g.length;y<P;)g[y++]=0;I=F.slice(),I.unshift(0),O=F[0],F[1]>=Oo/2&&++O;do d=0,s=t(F,g,P,y),s<0?(_=g[0],P!=y&&(_=_*Oo+(g[1]||0)),d=_/O|0,d>1?(d>=Oo&&(d=Oo-1),f=e(F,d),h=f.length,y=g.length,s=t(f,g,h,y),s==1&&(d--,r(f,P<h?I:F,h))):(d==0&&(s=d=1),f=F.slice()),h=f.length,h<y&&f.unshift(0),r(g,f,y),s==-1&&(y=g.length,s=t(F,g,P,y),s<1&&(d++,r(g,P<y?I:F,y))),y=g.length):s===0&&(d++,g=[0]),x[u++]=d,s&&g[0]?g[y++]=T[C]||0:(g=[T[C]],y=1);while((C++<E||g[0]!==void 0)&&b--)}return x[0]||x.shift(),m.e=l,Pa(m,o?i+co(m)+1:i)}}();function NJ(e,t){var r,n,a,i,o,s,l=0,u=0,d=e.constructor,f=d.precision;if(co(e)>16)throw Error(DI+co(e));if(!e.s)return new d(lc);for(ii=!1,s=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(k0(2,u))/Math.LN10*2+5|0,s+=n,r=a=i=new d(lc),d.precision=s;;){if(a=Pa(a.times(e),s),r=r.times(++l),o=i.plus(fh(a,r,s)),Gd(o.d).slice(0,s)===Gd(i.d).slice(0,s)){for(;u--;)i=Pa(i.times(i),s);return d.precision=f,t==null?(ii=!0,Pa(i,f)):i}i=o}}function co(e){for(var t=e.e*Ka,r=e.d[0];r>=10;r/=10)t++;return t}function WC(e,t,r){if(t>e.LN10.sd())throw ii=!0,r&&(e.precision=r),Error(Qc+"LN10 precision limit exceeded");return Pa(new e(e.LN10),t)}function qp(e){for(var t="";e--;)t+="0";return t}function kx(e,t){var r,n,a,i,o,s,l,u,d,f=1,h=10,m=e,x=m.d,g=m.constructor,y=g.precision;if(m.s<1)throw Error(Qc+(m.s?"NaN":"-Infinity"));if(m.eq(lc))return new g(0);if(t==null?(ii=!1,u=y):u=t,m.eq(10))return t==null&&(ii=!0),WC(g,u);if(u+=h,g.precision=u,r=Gd(x),n=r.charAt(0),i=co(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=Gd(m.d),n=r.charAt(0),f++;i=co(m),n>1?(m=new g("0."+r),i++):m=new g(n+"."+r.slice(1))}else return l=WC(g,u+2,y).times(i+""),m=kx(new g(n+"."+r.slice(1)),u-h).plus(l),g.precision=y,t==null?(ii=!0,Pa(m,y)):m;for(s=o=m=fh(m.minus(lc),m.plus(lc),u),d=Pa(m.times(m),u),a=3;;){if(o=Pa(o.times(d),u),l=s.plus(fh(o,new g(a),u)),Gd(l.d).slice(0,u)===Gd(s.d).slice(0,u))return s=s.times(2),i!==0&&(s=s.plus(WC(g,u+2,y).times(i+""))),s=fh(s,new g(f),u),g.precision=y,t==null?(ii=!0,Pa(s,y)):s;s=l,a+=2}}function QB(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=wy(r/Ka),e.d=[],n=(r+1)%Ka,r<0&&(n+=Ka),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Ka;n<a;)e.d.push(+t.slice(n,n+=Ka));t=t.slice(n),n=Ka-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),ii&&(e.e>H5||e.e<-H5))throw Error(DI+r)}else e.s=0,e.e=0,e.d=[0];return e}function Pa(e,t,r){var n,a,i,o,s,l,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Ka,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Ka),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=Ka,a=n-Ka+o}if(r!==void 0&&(i=k0(10,o-a-1),s=u/i%10|0,l=t<0||f[d+1]!==void 0||u%i,l=r<4?(s||l)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?a>0?u/k0(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(i=co(e),f.length=1,t=t-i-1,f[0]=k0(10,(Ka-t%Ka)%Ka),e.e=wy(-t/Ka)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=k0(10,Ka-n),f[d]=a>0?(u/k0(10,o-a)%k0(10,a)|0)*i:0),l)for(;;)if(d==0){(f[0]+=i)==Oo&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=Oo)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(ii&&(e.e>H5||e.e<-H5))throw Error(DI+co(e));return e}function EJ(e,t){var r,n,a,i,o,s,l,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),ii?Pa(t,m):t;if(l=e.d,f=t.d,n=t.e,u=e.e,l=l.slice(),o=u-n,o){for(d=o<0,d?(r=l,o=-o,s=f.length):(r=f,n=u,s=l.length),a=Math.max(Math.ceil(m/Ka),s)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=l.length,s=f.length,d=a<s,d&&(s=a),a=0;a<s;a++)if(l[a]!=f[a]){d=l[a]<f[a];break}o=0}for(d&&(r=l,l=f,f=r,t.s=-t.s),s=l.length,a=f.length-s;a>0;--a)l[s++]=0;for(a=f.length;a>o;){if(l[--a]<f[a]){for(i=a;i&&l[--i]===0;)l[i]=Oo-1;--l[i],l[a]+=Oo}l[a]-=f[a]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,ii?Pa(t,m):t):new h(0)}function og(e,t,r){var n,a=co(e),i=Gd(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+qp(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+qp(-a-1)+i,r&&(n=r-o)>0&&(i+=qp(n))):a>=o?(i+=qp(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+qp(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=qp(n))),e.s<0?"-"+i:i}function eU(e,t){if(e.length>t)return e.length=t,!0}function CJ(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(z0+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return QB(o,i.toString())}else if(typeof i!="string")throw Error(z0+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,h4e.test(i))QB(o,i);else throw Error(z0+i)}if(a.prototype=br,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=CJ,a.config=a.set=p4e,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function p4e(e){if(!e||typeof e!="object")throw Error(Qc+"Object expected");var t,r,n,a=["precision",1,xy,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(wy(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(z0+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(z0+r+": "+n);return this}var II=CJ(f4e);lc=new II(1);const _a=II;function m4e(e){return x4e(e)||y4e(e)||v4e(e)||g4e()}function g4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v4e(e,t){if(e){if(typeof e=="string")return W6(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W6(e,t)}}function y4e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function x4e(e){if(Array.isArray(e))return W6(e)}function W6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var w4e=function(t){return t},PJ={},TJ=function(t){return t===PJ},tU=function(t){return function r(){return arguments.length===0||arguments.length===1&&TJ(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},_4e=function e(t,r){return t===1?r:tU(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(s){return s!==PJ}).length;return o>=t?r.apply(void 0,a):e(t-o,tU(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var d=a.map(function(f){return TJ(f)?l.shift():f});return r.apply(void 0,m4e(d).concat(l))}))})},t3=function(t){return _4e(t.length,t)},V6=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},b4e=t3(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),S4e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return w4e;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(s,l){return l(s)},i.apply(void 0,arguments))}},H6=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},OJ=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(s,l){return s===r[l]})||(r=i,n=t.apply(void 0,i)),n}};function A4e(e){var t;return e===0?t=1:t=Math.floor(new _a(e).abs().log(10).toNumber())+1,t}function k4e(e,t,r){for(var n=new _a(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var N4e=t3(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),E4e=t3(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),C4e=t3(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const r3={rangeStep:k4e,getDigitCount:A4e,interpolateNumber:N4e,uninterpolateNumber:E4e,uninterpolateTruncation:C4e};function G6(e){return O4e(e)||T4e(e)||DJ(e)||P4e()}function P4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T4e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function O4e(e){if(Array.isArray(e))return Y6(e)}function Nx(e,t){return R4e(e)||I4e(e,t)||DJ(e,t)||D4e()}function D4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DJ(e,t){if(e){if(typeof e=="string")return Y6(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y6(e,t)}}function Y6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function I4e(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),s;!(n=(s=o.next()).done)&&(r.push(s.value),!(t&&r.length===t));n=!0);}catch(l){a=!0,i=l}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function R4e(e){if(Array.isArray(e))return e}function IJ(e){var t=Nx(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function RJ(e,t,r){if(e.lte(0))return new _a(0);var n=r3.getDigitCount(e.toNumber()),a=new _a(10).pow(n),i=e.div(a),o=n!==1?.05:.1,s=new _a(Math.ceil(i.div(o).toNumber())).add(r).mul(o),l=s.mul(a);return t?l:new _a(Math.ceil(l))}function M4e(e,t,r){var n=1,a=new _a(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new _a(10).pow(r3.getDigitCount(e)-1),a=new _a(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new _a(Math.floor(e)))}else e===0?a=new _a(Math.floor((t-1)/2)):r||(a=new _a(Math.floor(e)));var o=Math.floor((t-1)/2),s=S4e(b4e(function(l){return a.add(new _a(l-o).mul(n)).toNumber()}),V6);return s(0,t)}function MJ(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new _a(0),tickMin:new _a(0),tickMax:new _a(0)};var i=RJ(new _a(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new _a(0):(o=new _a(e).add(t).div(2),o=o.sub(new _a(o).mod(i)));var s=Math.ceil(o.sub(e).div(i).toNumber()),l=Math.ceil(new _a(t).sub(o).div(i).toNumber()),u=s+l+1;return u>r?MJ(e,t,r,n,a+1):(u<r&&(l=t>0?l+(r-u):l,s=t>0?s:s+(r-u)),{step:i,tickMin:o.sub(new _a(s).mul(i)),tickMax:o.add(new _a(l).mul(i))})}function F4e(e){var t=Nx(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),s=IJ([r,n]),l=Nx(s,2),u=l[0],d=l[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(G6(V6(0,a-1).map(function(){return 1/0}))):[].concat(G6(V6(0,a-1).map(function(){return-1/0})),[d]);return r>n?H6(f):f}if(u===d)return M4e(u,a,i);var h=MJ(u,d,o,i),m=h.step,x=h.tickMin,g=h.tickMax,y=r3.rangeStep(x,g.add(new _a(.1).mul(m)),m);return r>n?H6(y):y}function L4e(e,t){var r=Nx(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=IJ([n,a]),s=Nx(o,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[n,a];if(l===u)return[l];var d=Math.max(t,2),f=RJ(new _a(u).sub(l).div(d-1),i,0),h=[].concat(G6(r3.rangeStep(new _a(l),new _a(u).sub(new _a(.99).mul(f)),f)),[u]);return n>a?H6(h):h}var j4e=OJ(F4e),$4e=OJ(L4e),B4e="Invariant failed";function sg(e,t){throw new Error(B4e)}var U4e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function T1(e){"@babel/helpers - typeof";return T1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T1(e)}function G5(){return G5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},G5.apply(this,arguments)}function q4e(e,t){return H4e(e)||V4e(e,t)||W4e(e,t)||z4e()}function z4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W4e(e,t){if(e){if(typeof e=="string")return rU(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rU(e,t)}}function rU(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function V4e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function H4e(e){if(Array.isArray(e))return e}function G4e(e,t){if(e==null)return{};var r=Y4e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Y4e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function K4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X4e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jJ(n.key),n)}}function Z4e(e,t,r){return t&&X4e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function J4e(e,t,r){return t=Y5(t),Q4e(e,FJ()?Reflect.construct(t,r||[],Y5(e).constructor):t.apply(e,r))}function Q4e(e,t){if(t&&(T1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e3e(e)}function e3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FJ=function(){return!!e})()}function Y5(e){return Y5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Y5(e)}function t3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&K6(e,t)}function K6(e,t){return K6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},K6(e,t)}function LJ(e,t,r){return t=jJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jJ(e){var t=r3e(e,"string");return T1(t)=="symbol"?t:t+""}function r3e(e,t){if(T1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(T1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Vw=function(e){function t(){return K4e(this,t),J4e(this,t,arguments)}return t3e(t,e),Z4e(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,s=n.dataKey,l=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=G4e(n,U4e),m=Or(h,!1);this.props.direction==="x"&&d.type!=="number"&&sg();var x=l.map(function(g){var y=u(g,s),_=y.x,b=y.y,S=y.value,C=y.errorVal;if(!C)return null;var E=[],O,P;if(Array.isArray(C)){var I=q4e(C,2);O=I[0],P=I[1]}else O=P=C;if(i==="vertical"){var L=d.scale,U=b+a,T=U+o,F=U-o,j=L(S-O),H=L(S+P);E.push({x1:H,y1:T,x2:H,y2:F}),E.push({x1:j,y1:U,x2:H,y2:U}),E.push({x1:j,y1:T,x2:j,y2:F})}else if(i==="horizontal"){var X=f.scale,re=_+a,z=re-o,G=re+o,q=X(S-O),K=X(S+P);E.push({x1:z,y1:K,x2:G,y2:K}),E.push({x1:re,y1:q,x2:re,y2:K}),E.push({x1:z,y1:q,x2:G,y2:q})}return Qe.createElement(In,G5({className:"recharts-errorBar",key:"bar-".concat(E.map(function(J){return"".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))},m),E.map(function(J){return Qe.createElement("line",G5({},J,{key:"line-".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))}))});return Qe.createElement(In,{className:"recharts-errorBars"},x)}}])}(Qe.Component);LJ(Vw,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});LJ(Vw,"displayName","ErrorBar");function Ex(e){"@babel/helpers - typeof";return Ex=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ex(e)}function nU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function y0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nU(Object(r),!0).forEach(function(n){n3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n3e(e,t,r){return t=a3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a3e(e){var t=i3e(e,"string");return Ex(t)=="symbol"?t:t+""}function i3e(e,t){if(Ex(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ex(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $J=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=tc(r,Hu);if(!o)return null;var s=Hu.defaultProps,l=s!==void 0?y0(y0({},s),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,m=f.props,x=m.sectors||m.data||[];return d.concat(x.map(function(g){return{type:o.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?y0(y0({},h),f.props):{},x=m.dataKey,g=m.name,y=m.legendType,_=m.hide;return{inactive:_,dataKey:x,type:l.iconType||y||"square",color:RI(f),value:g||x,payload:m}}),y0(y0(y0({},l),Hu.getWithHeight(o,a)),{},{payload:u,item:o})};function Cx(e){"@babel/helpers - typeof";return Cx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cx(e)}function aU(e){return c3e(e)||l3e(e)||s3e(e)||o3e()}function o3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s3e(e,t){if(e){if(typeof e=="string")return X6(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return X6(e,t)}}function l3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function c3e(e){if(Array.isArray(e))return X6(e)}function X6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function iU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ki(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iU(Object(r),!0).forEach(function(n){n1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n1(e,t,r){return t=u3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u3e(e){var t=d3e(e,"string");return Cx(t)=="symbol"?t:t+""}function d3e(e,t){if(Cx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wi(e,t,r){return fn(e)||fn(t)?r:yo(t)?pc(e,t,r):Yr(t)?t(e):r}function B2(e,t,r,n){var a=c4e(e,function(s){return Wi(s,t)});if(r==="number"){var i=a.filter(function(s){return Gt(s)||parseFloat(s)});return i.length?[e3(i),Yp(i)]:[1/0,-1/0]}var o=n?a.filter(function(s){return!fn(s)}):a;return o.map(function(s){return yo(s)||s instanceof Date?s:""})}var f3e=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,s=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var l=i.range,u=0;u<s;u++){var d=u>0?a[u-1].coordinate:a[s-1].coordinate,f=a[u].coordinate,h=u>=s-1?a[0].coordinate:a[u+1].coordinate,m=void 0;if(al(f-d)!==al(h-f)){var x=[];if(al(h-f)===al(l[1]-l[0])){m=h;var g=f+l[1]-l[0];x[0]=Math.min(g,(g+d)/2),x[1]=Math.max(g,(g+d)/2)}else{m=d;var y=h+l[1]-l[0];x[0]=Math.min(f,(y+f)/2),x[1]=Math.max(f,(y+f)/2)}var _=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(t>_[0]&&t<=_[1]||t>=x[0]&&t<=x[1]){o=a[u].index;break}}else{var b=Math.min(d,h),S=Math.max(d,h);if(t>(b+f)/2&&t<=(S+f)/2){o=a[u].index;break}}}else for(var C=0;C<s;C++)if(C===0&&t<=(n[C].coordinate+n[C+1].coordinate)/2||C>0&&C<s-1&&t>(n[C].coordinate+n[C-1].coordinate)/2&&t<=(n[C].coordinate+n[C+1].coordinate)/2||C===s-1&&t>(n[C].coordinate+n[C-1].coordinate)/2){o=n[C].index;break}return o},RI=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?ki(ki({},t.type.defaultProps),t.props):t.props,o=i.stroke,s=i.fill,l;switch(a){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},h3e=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},s=Object.keys(i),l=0,u=s.length;l<u;l++)for(var d=i[s[l]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var x=d[f[h]],g=x.items,y=x.cateAxisId,_=g.filter(function(P){return dh(P.type).indexOf("Bar")>=0});if(_&&_.length){var b=_[0].type.defaultProps,S=b!==void 0?ki(ki({},b),_[0].props):_[0].props,C=S.barSize,E=S[y];o[E]||(o[E]=[]);var O=fn(C)?r:C;o[E].push({item:_[0],stackList:_.slice(1),barSize:fn(O)?void 0:il(O,n,0)})}}return o},p3e=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,s=t.maxBarSize,l=o.length;if(l<1)return null;var u=il(r,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,m=a/l,x=o.reduce(function(C,E){return C+E.barSize||0},0);x+=(l-1)*u,x>=a&&(x-=(l-1)*u,u=0),x>=a&&m>0&&(h=!0,m*=.9,x=l*m);var g=(a-x)/2>>0,y={offset:g-u,size:0};d=o.reduce(function(C,E){var O={item:E.item,position:{offset:y.offset+y.size+u,size:h?m:E.barSize}},P=[].concat(aU(C),[O]);return y=P[P.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(I){P.push({item:I,position:y})}),P},f)}else{var _=il(n,a,0,!0);a-2*_-(l-1)*u<=0&&(u=0);var b=(a-2*_-(l-1)*u)/l;b>1&&(b>>=0);var S=s===+s?Math.min(b,s):b;d=o.reduce(function(C,E,O){var P=[].concat(aU(C),[{item:E.item,position:{offset:_+(b+u)*O+(b-S)/2,size:S}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(I){P.push({item:I,position:P[P.length-1].position})}),P},f)}return d},m3e=function(t,r,n,a){var i=n.children,o=n.width,s=n.margin,l=o-(s.left||0)-(s.right||0),u=$J({children:i,legendWidth:l});if(u){var d=a||{},f=d.width,h=d.height,m=u.align,x=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&x==="middle")&&m!=="center"&&Gt(t[m]))return ki(ki({},t),{},n1({},m,t[m]+(f||0)));if((g==="horizontal"||g==="vertical"&&m==="center")&&x!=="middle"&&Gt(t[x]))return ki(ki({},t),{},n1({},x,t[x]+(h||0)))}return t},g3e=function(t,r,n){return fn(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},BJ=function(t,r,n,a,i){var o=r.props.children,s=mc(o,Vw).filter(function(u){return g3e(a,i,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=Wi(d,n);if(fn(f))return u;var h=Array.isArray(f)?[e3(f),Yp(f)]:[f,f],m=l.reduce(function(x,g){var y=Wi(d,g,0),_=h[0]-Math.abs(Array.isArray(y)?y[0]:y),b=h[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(_,x[0]),Math.max(b,x[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},v3e=function(t,r,n,a,i){var o=r.map(function(s){return BJ(t,s,n,i,a)}).filter(function(s){return!fn(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},UJ=function(t,r,n,a,i){var o=r.map(function(l){var u=l.props.dataKey;return n==="number"&&u&&BJ(t,l,u,a)||B2(t,u,n,i)});if(n==="number")return o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,u){for(var d=0,f=u.length;d<f;d++)s[u[d]]||(s[u[d]]=!0,l.push(u[d]));return l},[])},qJ=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},zJ=function(t,r,n,a){if(a)return t.map(function(l){return l.coordinate});var i,o,s=t.map(function(l){return l.coordinate===r&&(i=!0),l.coordinate===n&&(o=!0),l.coordinate});return i||s.push(r),o||s.push(n),s},lh=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,s=t.range,l=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/l:0;if(u=t.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?al(s[0]-s[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!gy(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:i?i[f]:f,index:h,offset:u}})},VC=new WeakMap,mb=function(t,r){if(typeof r!="function")return t;VC.has(t)||VC.set(t,new WeakMap);var n=VC.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},WJ=function(t,r,n){var a=t.scale,i=t.type,o=t.layout,s=t.axisType;if(a==="auto")return o==="radial"&&s==="radiusAxis"?{scale:wx(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:q5(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:$2(),realScaleType:"point"}:i==="category"?{scale:wx(),realScaleType:"band"}:{scale:q5(),realScaleType:"linear"};if(rg(a)){var l="scale".concat(B4(a));return{scale:(WB[l]||$2)(),realScaleType:WB[l]?l:"point"}}return Yr(a)?{scale:a}:{scale:$2(),realScaleType:"point"}},oU=1e-4,VJ=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-oU,o=Math.max(a[0],a[1])+oU,s=t(r[0]),l=t(r[n-1]);(s<i||s>o||l<i||l>o)&&t.domain([r[0],r[n-1]])}},y3e=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},x3e=function(t,r){if(!r||r.length!==2||!Gt(r[0])||!Gt(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!Gt(t[0])||t[0]<n)&&(i[0]=n),(!Gt(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},w3e=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0,s=0;s<r;++s){var l=gy(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=i,t[s][n][1]=i+l,i=t[s][n][1]):(t[s][n][0]=o,t[s][n][1]=o+l,o=t[s][n][1])}},_3e=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var s=gy(t[o][n][1])?t[o][n][0]:t[o][n][1];s>=0?(t[o][n][0]=i,t[o][n][1]=i+s,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},b3e={sign:w3e,expand:cxe,none:b1,silhouette:uxe,wiggle:dxe,positive:_3e},S3e=function(t,r,n){var a=r.map(function(s){return s.props.dataKey}),i=b3e[n],o=lxe().keys(a).value(function(s,l){return+Wi(s,l,0)}).order(C6).offset(i);return o(t)},A3e=function(t,r,n,a,i,o){if(!t)return null;var s=o?r.reverse():r,l={},u=s.reduce(function(f,h){var m,x=(m=h.type)!==null&&m!==void 0&&m.defaultProps?ki(ki({},h.type.defaultProps),h.props):h.props,g=x.stackId,y=x.hide;if(y)return f;var _=x[n],b=f[_]||{hasStack:!1,stackGroups:{}};if(yo(g)){var S=b.stackGroups[g]||{numericAxisId:n,cateAxisId:a,items:[]};S.items.push(h),b.hasStack=!0,b.stackGroups[g]=S}else b.stackGroups[Cg("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return ki(ki({},f),{},n1({},_,b))},l),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var x={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(g,y){var _=m.stackGroups[y];return ki(ki({},g),{},n1({},y,{numericAxisId:n,cateAxisId:a,items:_.items,stackedData:S3e(t,_.items,i)}))},x)}return ki(ki({},f),{},n1({},h,m))},d)},HJ=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,s=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=j4e(u,i,s);return t.domain([e3(d),Yp(d)]),{niceTicks:d}}if(i&&a==="number"){var f=t.domain(),h=$4e(f,i,s);return{niceTicks:h}}return null};function K5(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!fn(a[t.dataKey])){var s=A5(r,"value",a[t.dataKey]);if(s)return s.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var l=Wi(a,fn(o)?t.dataKey:o);return fn(l)?null:t.scale(l)}var sU=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,s=t.index;if(r.type==="category")return n[s]?n[s].coordinate+a:null;var l=Wi(o,r.dataKey,r.domain[s]);return fn(l)?null:r.scale(l)-i/2+a},k3e=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},N3e=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?ki(ki({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(yo(i)){var o=r[i];if(o){var s=o.items.indexOf(t);return s>=0?o.stackedData[s]:null}}return null},E3e=function(t){return t.reduce(function(r,n){return[e3(n.concat([r[0]]).filter(Gt)),Yp(n.concat([r[1]]).filter(Gt))]},[1/0,-1/0])},GJ=function(t,r,n){return Object.keys(t).reduce(function(a,i){var o=t[i],s=o.stackedData,l=s.reduce(function(u,d){var f=E3e(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},lU=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,cU=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Z6=function(t,r,n){if(Yr(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(Gt(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(lU.test(t[0])){var i=+lU.exec(t[0])[1];a[0]=r[0]-i}else Yr(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(Gt(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(cU.test(t[1])){var o=+cU.exec(t[1])[1];a[1]=r[1]+o}else Yr(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},X5=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=lI(r,function(f){return f.coordinate}),o=1/0,s=1,l=i.length;s<l;s++){var u=i[s],d=i[s-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},uU=function(t,r,n){return!t||!t.length||ig(t,pc(n,"type.defaultProps.domain"))?r:t},YJ=function(t,r){var n=t.type.defaultProps?ki(ki({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,o=n.unit,s=n.formatter,l=n.tooltipType,u=n.chartType,d=n.hide;return ki(ki({},Or(t,!1)),{},{dataKey:a,unit:o,formatter:s,name:i||a,color:RI(t),value:Wi(r,a),type:l,payload:r,chartType:u,hide:d})};function Px(e){"@babel/helpers - typeof";return Px=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Px(e)}function dU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dU(Object(r),!0).forEach(function(n){KJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KJ(e,t,r){return t=C3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C3e(e){var t=P3e(e,"string");return Px(t)=="symbol"?t:t+""}function P3e(e,t){if(Px(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Px(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function T3e(e,t){return R3e(e)||I3e(e,t)||D3e(e,t)||O3e()}function O3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D3e(e,t){if(e){if(typeof e=="string")return fU(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fU(e,t)}}function fU(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function I3e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function R3e(e){if(Array.isArray(e))return e}var Z5=Math.PI/180,M3e=function(t){return t*180/Math.PI},ja=function(t,r,n,a){return{x:t+Math.cos(-Z5*a)*n,y:r+Math.sin(-Z5*a)*n}},XJ=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},F3e=function(t,r,n,a,i){var o=t.width,s=t.height,l=t.startAngle,u=t.endAngle,d=il(t.cx,o,o/2),f=il(t.cy,s,s/2),h=XJ(o,s,n),m=il(t.innerRadius,h,0),x=il(t.outerRadius,h,h*.8),g=Object.keys(r);return g.reduce(function(y,_){var b=r[_],S=b.domain,C=b.reversed,E;if(fn(b.range))a==="angleAxis"?E=[l,u]:a==="radiusAxis"&&(E=[m,x]),C&&(E=[E[1],E[0]]);else{E=b.range;var O=E,P=T3e(O,2);l=P[0],u=P[1]}var I=WJ(b,i),L=I.realScaleType,U=I.scale;U.domain(S).range(E),VJ(U);var T=HJ(U,nh(nh({},b),{},{realScaleType:L})),F=nh(nh(nh({},b),T),{},{range:E,radius:x,realScaleType:L,scale:U,cx:d,cy:f,innerRadius:m,outerRadius:x,startAngle:l,endAngle:u});return nh(nh({},y),{},KJ({},_,F))},{})},L3e=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},j3e=function(t,r){var n=t.x,a=t.y,i=r.cx,o=r.cy,s=L3e({x:n,y:a},{x:i,y:o});if(s<=0)return{radius:s};var l=(n-i)/s,u=Math.acos(l);return a>o&&(u=2*Math.PI-u),{radius:s,angle:M3e(u),angleInRadian:u}},$3e=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},B3e=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),s=Math.min(i,o);return t+s*360},hU=function(t,r){var n=t.x,a=t.y,i=j3e({x:n,y:a},r),o=i.radius,s=i.angle,l=r.innerRadius,u=r.outerRadius;if(o<l||o>u)return!1;if(o===0)return!0;var d=$3e(r),f=d.startAngle,h=d.endAngle,m=s,x;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;x=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;x=m>=h&&m<=f}return x?nh(nh({},r),{},{radius:o,angle:B3e(m,r)}):null},ZJ=function(t){return!A.isValidElement(t)&&!Yr(t)&&typeof t!="boolean"?t.className:""};function Tx(e){"@babel/helpers - typeof";return Tx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tx(e)}var U3e=["offset"];function q3e(e){return H3e(e)||V3e(e)||W3e(e)||z3e()}function z3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W3e(e,t){if(e){if(typeof e=="string")return J6(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return J6(e,t)}}function V3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function H3e(e){if(Array.isArray(e))return J6(e)}function J6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function G3e(e,t){if(e==null)return{};var r=Y3e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Y3e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function pU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pU(Object(r),!0).forEach(function(n){K3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function K3e(e,t,r){return t=X3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X3e(e){var t=Z3e(e,"string");return Tx(t)=="symbol"?t:t+""}function Z3e(e,t){if(Tx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var J3e=function(t){var r=t.value,n=t.formatter,a=fn(t.children)?r:t.children;return Yr(n)?n(a):a},Q3e=function(t,r){var n=al(r-t),a=Math.min(Math.abs(r-t),360);return n*a},eAe=function(t,r,n){var a=t.position,i=t.viewBox,o=t.offset,s=t.className,l=i,u=l.cx,d=l.cy,f=l.innerRadius,h=l.outerRadius,m=l.startAngle,x=l.endAngle,g=l.clockWise,y=(f+h)/2,_=Q3e(m,x),b=_>=0?1:-1,S,C;a==="insideStart"?(S=m+b*o,C=g):a==="insideEnd"?(S=x-b*o,C=!g):a==="end"&&(S=x+b*o,C=g),C=_<=0?C:!C;var E=ja(u,d,y,S),O=ja(u,d,y,S+(C?1:-1)*359),P="M".concat(E.x,",").concat(E.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(C?0:1,`,
    `).concat(O.x,",").concat(O.y),I=fn(t.id)?Cg("recharts-radial-line-"):t.id;return w("text",{...n,dominantBaseline:"central",className:hn("recharts-radial-bar-label",s),children:[c("defs",{children:c("path",{id:I,d:P})}),c("textPath",{xlinkHref:"#".concat(I),children:r})]})},tAe=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,o=i.cx,s=i.cy,l=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(a==="outside"){var m=ja(o,s,u+n,h),x=m.x,g=m.y;return{x,y:g,textAnchor:x>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var y=(l+u)/2,_=ja(o,s,y,h),b=_.x,S=_.y;return{x:b,y:S,textAnchor:"middle",verticalAnchor:"middle"}},rAe=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,o=r,s=o.x,l=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*a,m=f>0?"end":"start",x=f>0?"start":"end",g=u>=0?1:-1,y=g*a,_=g>0?"end":"start",b=g>0?"start":"end";if(i==="top"){var S={x:s+u/2,y:l-f*a,textAnchor:"middle",verticalAnchor:m};return mo(mo({},S),n?{height:Math.max(l-n.y,0),width:u}:{})}if(i==="bottom"){var C={x:s+u/2,y:l+d+h,textAnchor:"middle",verticalAnchor:x};return mo(mo({},C),n?{height:Math.max(n.y+n.height-(l+d),0),width:u}:{})}if(i==="left"){var E={x:s-y,y:l+d/2,textAnchor:_,verticalAnchor:"middle"};return mo(mo({},E),n?{width:Math.max(E.x-n.x,0),height:d}:{})}if(i==="right"){var O={x:s+u+y,y:l+d/2,textAnchor:b,verticalAnchor:"middle"};return mo(mo({},O),n?{width:Math.max(n.x+n.width-O.x,0),height:d}:{})}var P=n?{width:u,height:d}:{};return i==="insideLeft"?mo({x:s+y,y:l+d/2,textAnchor:b,verticalAnchor:"middle"},P):i==="insideRight"?mo({x:s+u-y,y:l+d/2,textAnchor:_,verticalAnchor:"middle"},P):i==="insideTop"?mo({x:s+u/2,y:l+h,textAnchor:"middle",verticalAnchor:x},P):i==="insideBottom"?mo({x:s+u/2,y:l+d-h,textAnchor:"middle",verticalAnchor:m},P):i==="insideTopLeft"?mo({x:s+y,y:l+h,textAnchor:b,verticalAnchor:x},P):i==="insideTopRight"?mo({x:s+u-y,y:l+h,textAnchor:_,verticalAnchor:x},P):i==="insideBottomLeft"?mo({x:s+y,y:l+d-h,textAnchor:b,verticalAnchor:m},P):i==="insideBottomRight"?mo({x:s+u-y,y:l+d-h,textAnchor:_,verticalAnchor:m},P):my(i)&&(Gt(i.x)||I0(i.x))&&(Gt(i.y)||I0(i.y))?mo({x:s+il(i.x,u),y:l+il(i.y,d),textAnchor:"end",verticalAnchor:"end"},P):mo({x:s+u/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},P)},nAe=function(t){return"cx"in t&&Gt(t.cx)};function Mo(e){var t=e.offset,r=t===void 0?5:t,n=G3e(e,U3e),a=mo({offset:r},n),i=a.viewBox,o=a.position,s=a.value,l=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!i||fn(s)&&fn(l)&&!A.isValidElement(u)&&!Yr(u))return null;if(A.isValidElement(u))return A.cloneElement(u,a);var m;if(Yr(u)){if(m=A.createElement(u,a),A.isValidElement(m))return m}else m=J3e(a);var x=nAe(i),g=Or(a,!0);if(x&&(o==="insideStart"||o==="insideEnd"||o==="end"))return eAe(a,m,g);var y=x?tAe(a):rAe(a);return c(ag,{className:hn("recharts-label",f),...g,...y,breakAll:h,children:m})}Mo.displayName="Label";var JJ=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,s=t.r,l=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,m=t.top,x=t.left,g=t.width,y=t.height,_=t.clockWise,b=t.labelViewBox;if(b)return b;if(Gt(g)&&Gt(y)){if(Gt(f)&&Gt(h))return{x:f,y:h,width:g,height:y};if(Gt(m)&&Gt(x))return{x:m,y:x,width:g,height:y}}return Gt(f)&&Gt(h)?{x:f,y:h,width:0,height:0}:Gt(r)&&Gt(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||l||s||0,clockWise:_}:t.viewBox?t.viewBox:{}},aAe=function(t,r){return t?t===!0?c(Mo,{viewBox:r},"label-implicit"):yo(t)?c(Mo,{viewBox:r,value:t},"label-implicit"):A.isValidElement(t)?t.type===Mo?A.cloneElement(t,{key:"label-implicit",viewBox:r}):c(Mo,{content:t,viewBox:r},"label-implicit"):Yr(t)?c(Mo,{content:t,viewBox:r},"label-implicit"):my(t)?A.createElement(Mo,{viewBox:r,...t,key:"label-implicit"}):null:null},iAe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=JJ(t),o=mc(a,Mo).map(function(l,u){return A.cloneElement(l,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var s=aAe(t.label,r||i);return[s].concat(q3e(o))};Mo.parseViewBox=JJ;Mo.renderCallByParent=iAe;var HC,mU;function oAe(){if(mU)return HC;mU=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return HC=e,HC}var sAe=oAe();const lAe=ia(sAe);function Ox(e){"@babel/helpers - typeof";return Ox=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ox(e)}var cAe=["valueAccessor"],uAe=["data","dataKey","clockWise","id","textBreakAll"];function dAe(e){return mAe(e)||pAe(e)||hAe(e)||fAe()}function fAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hAe(e,t){if(e){if(typeof e=="string")return Q6(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q6(e,t)}}function pAe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mAe(e){if(Array.isArray(e))return Q6(e)}function Q6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gU(Object(r),!0).forEach(function(n){gAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gAe(e,t,r){return t=vAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vAe(e){var t=yAe(e,"string");return Ox(t)=="symbol"?t:t+""}function yAe(e,t){if(Ox(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ox(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yU(e,t){if(e==null)return{};var r=xAe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var wAe=function(t){return Array.isArray(t.value)?lAe(t.value):t.value};function tf(e){var t=e.valueAccessor,r=t===void 0?wAe:t,n=yU(e,cAe),a=n.data,i=n.dataKey,o=n.clockWise,s=n.id,l=n.textBreakAll,u=yU(n,uAe);return!a||!a.length?null:c(In,{className:"recharts-label-list",children:a.map(function(d,f){var h=fn(i)?r(d,f):Wi(d&&d.payload,i),m=fn(s)?{}:{id:"".concat(s,"-").concat(f)};return A.createElement(Mo,{...Or(d,!0),...u,...m,parentViewBox:d.parentViewBox,value:h,textBreakAll:l,viewBox:Mo.parseViewBox(fn(o)?d:vU(vU({},d),{},{clockWise:o})),key:"label-".concat(f),index:f})})})}tf.displayName="LabelList";function _Ae(e,t){return e?e===!0?c(tf,{data:t},"labelList-implicit"):Qe.isValidElement(e)||Yr(e)?c(tf,{data:t,content:e},"labelList-implicit"):my(e)?A.createElement(tf,{data:t,...e,key:"labelList-implicit"}):null:null}function bAe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=mc(n,tf).map(function(o,s){return A.cloneElement(o,{data:t,key:"labelList-".concat(s)})});if(!r)return a;var i=_Ae(e.label,t);return[i].concat(dAe(a))}tf.renderCallByParent=bAe;function Dx(e){"@babel/helpers - typeof";return Dx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dx(e)}function eO(){return eO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eO.apply(this,arguments)}function xU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xU(Object(r),!0).forEach(function(n){SAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SAe(e,t,r){return t=AAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AAe(e){var t=kAe(e,"string");return Dx(t)=="symbol"?t:t+""}function kAe(e,t){if(Dx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NAe=function(t,r){var n=al(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},gb=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,o=t.sign,s=t.isExternal,l=t.cornerRadius,u=t.cornerIsExternal,d=l*(s?1:-1)+a,f=Math.asin(l/d)/Z5,h=u?i:i+o*f,m=ja(r,n,d,h),x=ja(r,n,a,h),g=u?i-o*f:i,y=ja(r,n,d*Math.cos(f*Z5),g);return{center:m,circleTangency:x,lineTangency:y,theta:f}},QJ=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,s=t.endAngle,l=NAe(o,s),u=o+l,d=ja(r,n,i,o),f=ja(r,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var m=ja(r,n,a,o),x=ja(r,n,a,u);h+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},EAe=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,s=t.forceCornerRadius,l=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=al(d-u),h=gb({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:l}),m=h.circleTangency,x=h.lineTangency,g=h.theta,y=gb({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:l}),_=y.circleTangency,b=y.lineTangency,S=y.theta,C=l?Math.abs(u-d):Math.abs(u-d)-g-S;if(C<0)return s?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):QJ({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var E="M ".concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(C>180),",").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(a>0){var O=gb({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),P=O.circleTangency,I=O.lineTangency,L=O.theta,U=gb({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),T=U.circleTangency,F=U.lineTangency,j=U.theta,H=l?Math.abs(u-d):Math.abs(u-d)-L-j;if(H<0&&o===0)return"".concat(E,"L").concat(r,",").concat(n,"Z");E+="L".concat(F.x,",").concat(F.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(H>180),",").concat(+(f>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(I.x,",").concat(I.y,"Z")}else E+="L".concat(r,",").concat(n,"Z");return E},CAe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},eQ=function(t){var r=wU(wU({},CAe),t),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,s=r.cornerRadius,l=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<i||d===f)return null;var m=hn("recharts-sector",h),x=o-i,g=il(s,x,0,!0),y;return g>0&&Math.abs(d-f)<360?y=EAe({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(g,x/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}):y=QJ({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),Qe.createElement("path",eO({},Or(r,!0),{className:m,d:y,role:"img"}))};function Ix(e){"@babel/helpers - typeof";return Ix=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ix(e)}function tO(){return tO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tO.apply(this,arguments)}function _U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_U(Object(r),!0).forEach(function(n){PAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_U(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PAe(e,t,r){return t=TAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TAe(e){var t=OAe(e,"string");return Ix(t)=="symbol"?t:t+""}function OAe(e,t){if(Ix(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ix(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SU={curveBasisClosed:Z2e,curveBasisOpen:J2e,curveBasis:X2e,curveBumpX:F2e,curveBumpY:L2e,curveLinearClosed:Q2e,curveLinear:q4,curveMonotoneX:exe,curveMonotoneY:txe,curveNatural:rxe,curveStep:nxe,curveStepAfter:ixe,curveStepBefore:axe},vb=function(t){return t.x===+t.x&&t.y===+t.y},s2=function(t){return t.x},l2=function(t){return t.y},DAe=function(t,r){if(Yr(t))return t;var n="curve".concat(B4(t));return(n==="curveMonotone"||n==="curveBump")&&r?SU["".concat(n).concat(r==="vertical"?"Y":"X")]:SU[n]||q4},IAe=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,s=t.layout,l=t.connectNulls,u=l===void 0?!1:l,d=DAe(n,s),f=u?i.filter(function(g){return vb(g)}):i,h;if(Array.isArray(o)){var m=u?o.filter(function(g){return vb(g)}):o,x=f.map(function(g,y){return bU(bU({},g),{},{base:m[y]})});return s==="vertical"?h=lb().y(l2).x1(s2).x0(function(g){return g.base.x}):h=lb().x(s2).y1(l2).y0(function(g){return g.base.y}),h.defined(vb).curve(d),h(x)}return s==="vertical"&&Gt(o)?h=lb().y(l2).x1(s2).x0(o):Gt(o)?h=lb().x(s2).y1(l2).y0(o):h=JX().x(s2).y(l2),h.defined(vb).curve(d),h(f)},W0=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?IAe(t):a;return Qe.createElement("path",tO({},Or(t,!1),k5(t),{className:hn("recharts-curve",r),d:o,ref:i}))},GC={exports:{}},YC,AU;function RAe(){if(AU)return YC;AU=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return YC=e,YC}var KC,kU;function MAe(){if(kU)return KC;kU=1;var e=RAe();function t(){}function r(){}return r.resetWarningCache=t,KC=function(){function n(o,s,l,u,d,f){if(f!==e){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}n.isRequired=n;function a(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:t};return i.PropTypes=i,i},KC}var NU;function FAe(){return NU||(NU=1,GC.exports=MAe()()),GC.exports}var LAe=FAe();const ua=ia(LAe);var jAe=Object.getOwnPropertyNames,$Ae=Object.getOwnPropertySymbols,BAe=Object.prototype.hasOwnProperty;function EU(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function yb(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,o=i.get(r),s=i.get(n);if(o&&s)return o===n&&s===r;i.set(r,n),i.set(n,r);var l=e(r,n,a);return i.delete(r),i.delete(n),l}}function CU(e){return jAe(e).concat($Ae(e))}var UAe=Object.hasOwn||function(e,t){return BAe.call(e,t)};function Og(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var qAe="__v",zAe="__o",WAe="_owner",PU=Object.getOwnPropertyDescriptor,TU=Object.keys;function VAe(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function HAe(e,t){return Og(e.getTime(),t.getTime())}function GAe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function YAe(e,t){return e===t}function OU(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),o,s,l=0;(o=i.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(s=u.next())&&!s.done;){if(a[f]){f++;continue}var h=o.value,m=s.value;if(r.equals(h[0],m[0],l,f,e,t,r)&&r.equals(h[1],m[1],h[0],m[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;l++}return!0}var KAe=Og;function XAe(e,t,r){var n=TU(e),a=n.length;if(TU(t).length!==a)return!1;for(;a-- >0;)if(!tQ(e,t,r,n[a]))return!1;return!0}function c2(e,t,r){var n=CU(e),a=n.length;if(CU(t).length!==a)return!1;for(var i,o,s;a-- >0;)if(i=n[a],!tQ(e,t,r,i)||(o=PU(e,i),s=PU(t,i),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function ZAe(e,t){return Og(e.valueOf(),t.valueOf())}function JAe(e,t){return e.source===t.source&&e.flags===t.flags}function DU(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),o,s;(o=i.next())&&!o.done;){for(var l=t.values(),u=!1,d=0;(s=l.next())&&!s.done;){if(!a[d]&&r.equals(o.value,s.value,o.value,s.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function QAe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function eke(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function tQ(e,t,r,n){return(n===WAe||n===zAe||n===qAe)&&(e.$$typeof||t.$$typeof)?!0:UAe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var tke="[object Arguments]",rke="[object Boolean]",nke="[object Date]",ake="[object Error]",ike="[object Map]",oke="[object Number]",ske="[object Object]",lke="[object RegExp]",cke="[object Set]",uke="[object String]",dke="[object URL]",fke=Array.isArray,IU=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,RU=Object.assign,hke=Object.prototype.toString.call.bind(Object.prototype.toString);function pke(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,s=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(x,g,y){if(x===g)return!0;if(x==null||g==null)return!1;var _=typeof x;if(_!==typeof g)return!1;if(_!=="object")return _==="number"?o(x,g,y):_==="function"?a(x,g,y):!1;var b=x.constructor;if(b!==g.constructor)return!1;if(b===Object)return s(x,g,y);if(fke(x))return t(x,g,y);if(IU!=null&&IU(x))return f(x,g,y);if(b===Date)return r(x,g,y);if(b===RegExp)return u(x,g,y);if(b===Map)return i(x,g,y);if(b===Set)return d(x,g,y);var S=hke(x);return S===nke?r(x,g,y):S===lke?u(x,g,y):S===ike?i(x,g,y):S===cke?d(x,g,y):S===ske?typeof x.then!="function"&&typeof g.then!="function"&&s(x,g,y):S===dke?h(x,g,y):S===ake?n(x,g,y):S===tke?s(x,g,y):S===rke||S===oke||S===uke?l(x,g,y):!1}}function mke(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?c2:VAe,areDatesEqual:HAe,areErrorsEqual:GAe,areFunctionsEqual:YAe,areMapsEqual:n?EU(OU,c2):OU,areNumbersEqual:KAe,areObjectsEqual:n?c2:XAe,arePrimitiveWrappersEqual:ZAe,areRegExpsEqual:JAe,areSetsEqual:n?EU(DU,c2):DU,areTypedArraysEqual:n?c2:QAe,areUrlsEqual:eke};if(r&&(a=RU({},a,r(a))),t){var i=yb(a.areArraysEqual),o=yb(a.areMapsEqual),s=yb(a.areObjectsEqual),l=yb(a.areSetsEqual);a=RU({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return a}function gke(e){return function(t,r,n,a,i,o,s){return e(t,r,s)}}function vke(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(l,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,m=d.meta;return r(l,u,{cache:h,equals:a,meta:m,strict:i})};if(t)return function(l,u){return r(l,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(l,u){return r(l,u,o)}}var yke=Mm();Mm({strict:!0});Mm({circular:!0});Mm({circular:!0,strict:!0});Mm({createInternalComparator:function(){return Og}});Mm({strict:!0,createInternalComparator:function(){return Og}});Mm({circular:!0,createInternalComparator:function(){return Og}});Mm({circular:!0,createInternalComparator:function(){return Og},strict:!0});function Mm(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,s=mke(e),l=pke(s),u=n?n(l):gke(l);return vke({circular:r,comparator:l,createState:a,equals:u,strict:o})}function xke(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function MU(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):xke(a)};requestAnimationFrame(n)}function rO(e){"@babel/helpers - typeof";return rO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rO(e)}function wke(e){return Ake(e)||Ske(e)||bke(e)||_ke()}function _ke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bke(e,t){if(e){if(typeof e=="string")return FU(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FU(e,t)}}function FU(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ske(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ake(e){if(Array.isArray(e))return e}function kke(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,s=wke(o),l=s[0],u=s.slice(1);if(typeof l=="number"){MU(a.bind(null,u),l);return}a(l),MU(a.bind(null,u));return}rO(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Rx(e){"@babel/helpers - typeof";return Rx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rx(e)}function LU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LU(Object(r),!0).forEach(function(n){rQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rQ(e,t,r){return t=Nke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nke(e){var t=Eke(e,"string");return Rx(t)==="symbol"?t:String(t)}function Eke(e,t){if(Rx(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rx(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cke=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},Pke=function(t){return t},Tke=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},U2=function(t,r){return Object.keys(r).reduce(function(n,a){return jU(jU({},n),{},rQ({},a,t(a,r[a])))},{})},$U=function(t,r,n){return t.map(function(a){return"".concat(Tke(a)," ").concat(r,"ms ").concat(n)}).join(",")};function Oke(e,t){return Rke(e)||Ike(e,t)||nQ(e,t)||Dke()}function Dke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ike(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function Rke(e){if(Array.isArray(e))return e}function Mke(e){return jke(e)||Lke(e)||nQ(e)||Fke()}function Fke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nQ(e,t){if(e){if(typeof e=="string")return nO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nO(e,t)}}function Lke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jke(e){if(Array.isArray(e))return nO(e)}function nO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var J5=1e-4,aQ=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},iQ=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},BU=function(t,r){return function(n){var a=aQ(t,r);return iQ(a,n)}},$ke=function(t,r){return function(n){var a=aQ(t,r),i=[].concat(Mke(a.map(function(o,s){return o*s}).slice(1)),[0]);return iQ(i,n)}},UU=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,s=1;break;case"ease":a=.25,i=.1,o=.25,s=1;break;case"ease-in":a=.42,i=0,o=1,s=1;break;case"ease-out":a=.42,i=0,o=.58,s=1;break;case"ease-in-out":a=0,i=0,o=.58,s=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),d=Oke(u,4);a=d[0],i=d[1],o=d[2],s=d[3]}}}var f=BU(a,o),h=BU(i,s),m=$ke(a,o),x=function(_){return _>1?1:_<0?0:_},g=function(_){for(var b=_>1?1:_,S=b,C=0;C<8;++C){var E=f(S)-b,O=m(S);if(Math.abs(E-b)<J5||O<J5)return h(S);S=x(S-E/O)}return h(S)};return g.isStepper=!1,g},Bke=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,s=o===void 0?17:o,l=function(d,f,h){var m=-(d-f)*n,x=h*i,g=h+(m-x)*s/1e3,y=h*s/1e3+d;return Math.abs(y-f)<J5&&Math.abs(g)<J5?[f,0]:[y,g]};return l.isStepper=!0,l.dt=s,l},Uke=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return UU(a);case"spring":return Bke();default:if(a.split("(")[0]==="cubic-bezier")return UU(a)}return typeof a=="function"?a:null};function Mx(e){"@babel/helpers - typeof";return Mx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mx(e)}function qU(e){return Wke(e)||zke(e)||oQ(e)||qke()}function qke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Wke(e){if(Array.isArray(e))return iO(e)}function zU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zU(Object(r),!0).forEach(function(n){aO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aO(e,t,r){return t=Vke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vke(e){var t=Hke(e,"string");return Mx(t)==="symbol"?t:String(t)}function Hke(e,t){if(Mx(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mx(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gke(e,t){return Xke(e)||Kke(e,t)||oQ(e,t)||Yke()}function Yke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oQ(e,t){if(e){if(typeof e=="string")return iO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iO(e,t)}}function iO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Kke(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function Xke(e){if(Array.isArray(e))return e}var Q5=function(t,r,n){return t+(r-t)*n},oO=function(t){var r=t.from,n=t.to;return r!==n},Zke=function e(t,r,n){var a=U2(function(i,o){if(oO(o)){var s=t(o.from,o.to,o.velocity),l=Gke(s,2),u=l[0],d=l[1];return Jo(Jo({},o),{},{from:u,velocity:d})}return o},r);return n<1?U2(function(i,o){return oO(o)?Jo(Jo({},o),{},{velocity:Q5(o.velocity,a[i].velocity,n),from:Q5(o.from,a[i].from,n)}):o},r):e(t,a,n-1)};const Jke=function(e,t,r,n,a){var i=Cke(e,t),o=i.reduce(function(y,_){return Jo(Jo({},y),{},aO({},_,[e[_],t[_]]))},{}),s=i.reduce(function(y,_){return Jo(Jo({},y),{},aO({},_,{from:e[_],velocity:0,to:t[_]}))},{}),l=-1,u,d,f=function(){return null},h=function(){return U2(function(_,b){return b.from},s)},m=function(){return!Object.values(s).filter(oO).length},x=function(_){u||(u=_);var b=_-u,S=b/r.dt;s=Zke(r,s,S),a(Jo(Jo(Jo({},e),t),h())),u=_,m()||(l=requestAnimationFrame(f))},g=function(_){d||(d=_);var b=(_-d)/n,S=U2(function(E,O){return Q5.apply(void 0,qU(O).concat([r(b)]))},o);if(a(Jo(Jo(Jo({},e),t),S)),b<1)l=requestAnimationFrame(f);else{var C=U2(function(E,O){return Q5.apply(void 0,qU(O).concat([r(1)]))},o);a(Jo(Jo(Jo({},e),t),C))}};return f=r.isStepper?x:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function O1(e){"@babel/helpers - typeof";return O1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O1(e)}var Qke=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function eNe(e,t){if(e==null)return{};var r=tNe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tNe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function XC(e){return iNe(e)||aNe(e)||nNe(e)||rNe()}function rNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nNe(e,t){if(e){if(typeof e=="string")return sO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sO(e,t)}}function aNe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function iNe(e){if(Array.isArray(e))return sO(e)}function sO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function WU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WU(Object(r),!0).forEach(function(n){k2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function k2(e,t,r){return t=sQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sNe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sQ(n.key),n)}}function lNe(e,t,r){return t&&sNe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sQ(e){var t=cNe(e,"string");return O1(t)==="symbol"?t:String(t)}function cNe(e,t){if(O1(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(O1(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lO(e,t)}function lO(e,t){return lO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},lO(e,t)}function dNe(e){var t=fNe();return function(){var n=eS(e),a;if(t){var i=eS(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return cO(this,a)}}function cO(e,t){if(t&&(O1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uO(e)}function uO(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fNe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function eS(e){return eS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},eS(e)}var Qu=function(e){uNe(r,e);var t=dNe(r);function r(n,a){var i;oNe(this,r),i=t.call(this,n,a);var o=i.props,s=o.isActive,l=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,m=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(uO(i)),i.changeStyle=i.changeStyle.bind(uO(i)),!s||m<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),cO(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},cO(i);i.state={style:l?k2({},l,u):u}}else i.state={style:{}};return i}return lNe(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,s=i.canBegin,l=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(s){if(!o){var m={style:l?k2({},l,d):d};this.state&&h&&(l&&h[l]!==d||!l&&h!==d)&&this.setState(m);return}if(!(yke(a.to,d)&&a.canBegin&&a.isActive)){var x=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=x||u?f:a.to;if(this.state&&h){var y={style:l?k2({},l,g):g};(l&&h[l]!==g||!l&&h!==g)&&this.setState(y)}this.runAnimation(Pu(Pu({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,s=a.to,l=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,m=Jke(o,s,Uke(u),l,this.changeStyle),x=function(){i.stopJSAnimation=m()};this.manager.start([h,d,x,l,f])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,s=a.begin,l=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(g,y,_){if(_===0)return g;var b=y.duration,S=y.easing,C=S===void 0?"ease":S,E=y.style,O=y.properties,P=y.onAnimationEnd,I=_>0?o[_-1]:y,L=O||Object.keys(E);if(typeof C=="function"||C==="spring")return[].concat(XC(g),[i.runJSAnimation.bind(i,{from:I.style,to:E,duration:b,easing:C}),b]);var U=$U(L,b,C),T=Pu(Pu(Pu({},I.style),E),{},{transition:U});return[].concat(XC(g),[T,b,P]).filter(Pke)};return this.manager.start([l].concat(XC(o.reduce(m,[d,Math.max(h,s)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=kke());var i=a.begin,o=a.duration,s=a.attributeName,l=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,m=a.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var g=s?k2({},s,l):l,y=$U(Object.keys(g),o,u);x.start([d,i,Pu(Pu({},g),{},{transition:y}),o,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var s=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var l=eNe(a,Qke),u=A.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!s||u===0||o<=0)return i;var f=function(m){var x=m.props,g=x.style,y=g===void 0?{}:g,_=x.className,b=A.cloneElement(m,Pu(Pu({},l),{},{style:Pu(Pu({},y),d),className:_}));return b};return u===1?f(A.Children.only(i)):c("div",{children:A.Children.map(i,function(h){return f(h)})})}}]),r}(A.PureComponent);Qu.displayName="Animate";Qu.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Qu.propTypes={from:ua.oneOfType([ua.object,ua.string]),to:ua.oneOfType([ua.object,ua.string]),attributeName:ua.string,duration:ua.number,begin:ua.number,easing:ua.oneOfType([ua.string,ua.func]),steps:ua.arrayOf(ua.shape({duration:ua.number.isRequired,style:ua.object.isRequired,easing:ua.oneOfType([ua.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ua.func]),properties:ua.arrayOf("string"),onAnimationEnd:ua.func})),children:ua.oneOfType([ua.node,ua.func]),isActive:ua.bool,canBegin:ua.bool,onAnimationEnd:ua.func,shouldReAnimate:ua.bool,onAnimationStart:ua.func,onAnimationReStart:ua.func};function Fx(e){"@babel/helpers - typeof";return Fx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fx(e)}function hNe(e,t){return vNe(e)||gNe(e,t)||mNe(e,t)||pNe()}function pNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mNe(e,t){if(e){if(typeof e=="string")return VU(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VU(e,t)}}function VU(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gNe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function vNe(e){if(Array.isArray(e))return e}function HU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function GU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HU(Object(r),!0).forEach(function(n){yNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yNe(e,t,r){return t=xNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xNe(e){var t=wNe(e,"string");return Fx(t)=="symbol"?t:t+""}function wNe(e,t){if(Fx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YU=function(t,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),s=a>=0?1:-1,l=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=i[h]>o?o:i[h];d="M".concat(t,",").concat(r+s*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+l*f[0],",").concat(r)),d+="L ".concat(t+n-l*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+s*f[1])),d+="L ".concat(t+n,",").concat(r+a-s*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-l*f[2],",").concat(r+a)),d+="L ".concat(t+l*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-s*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var x=Math.min(o,i);d="M ".concat(t,",").concat(r+s*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+l*x,",").concat(r,`
            L `).concat(t+n-l*x,",").concat(r,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+n,",").concat(r+s*x,`
            L `).concat(t+n,",").concat(r+a-s*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+n-l*x,",").concat(r+a,`
            L `).concat(t+l*x,",").concat(r+a,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t,",").concat(r+a-s*x," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},_Ne=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,o=r.y,s=r.width,l=r.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(i,i+s),d=Math.max(i,i+s),f=Math.min(o,o+l),h=Math.max(o,o+l);return n>=u&&n<=d&&a>=f&&a<=h}return!1},bNe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},MI=function(t){var r=GU(GU({},bNe),t),n=A.useRef(),a=A.useState(-1),i=hNe(a,2),o=i[0],s=i[1];A.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var C=n.current.getTotalLength();C&&s(C)}catch{}},[]);var l=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,m=r.className,x=r.animationEasing,g=r.animationDuration,y=r.animationBegin,_=r.isAnimationActive,b=r.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var S=hn("recharts-rectangle",m);return b?c(Qu,{canBegin:o>0,from:{width:d,height:f,x:l,y:u},to:{width:d,height:f,x:l,y:u},duration:g,animationEasing:x,isActive:b,children:function(C){var E=C.width,O=C.height,P=C.x,I=C.y;return c(Qu,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,isActive:_,easing:x,children:c("path",{...Or(r,!0),className:S,d:YU(P,I,E,O,h),ref:n})})}}):c("path",{...Or(r,!0),className:S,d:YU(l,u,d,f,h)})},SNe=["points","className","baseLinePoints","connectNulls"];function Vv(){return Vv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vv.apply(this,arguments)}function ANe(e,t){if(e==null)return{};var r=kNe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kNe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function KU(e){return PNe(e)||CNe(e)||ENe(e)||NNe()}function NNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ENe(e,t){if(e){if(typeof e=="string")return dO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dO(e,t)}}function CNe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function PNe(e){if(Array.isArray(e))return dO(e)}function dO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var XU=function(t){return t&&t.x===+t.x&&t.y===+t.y},TNe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){XU(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),XU(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},q2=function(t,r){var n=TNe(t);r&&(n=[n.reduce(function(i,o){return[].concat(KU(i),KU(o))},[])]);var a=n.map(function(i){return i.reduce(function(o,s,l){return"".concat(o).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},ONe=function(t,r,n){var a=q2(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(q2(r.reverse(),n).slice(1))},DNe=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,i=t.connectNulls,o=ANe(t,SNe);if(!r||!r.length)return null;var s=hn("recharts-polygon",n);if(a&&a.length){var l=o.stroke&&o.stroke!=="none",u=ONe(r,a,i);return Qe.createElement("g",{className:s},Qe.createElement("path",Vv({},Or(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),l?Qe.createElement("path",Vv({},Or(o,!0),{fill:"none",d:q2(r,i)})):null,l?Qe.createElement("path",Vv({},Or(o,!0),{fill:"none",d:q2(a,i)})):null)}var d=q2(r,i);return Qe.createElement("path",Vv({},Or(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:s,d}))};function fO(){return fO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fO.apply(this,arguments)}var Hw=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,o=hn("recharts-dot",i);return r===+r&&n===+n&&a===+a?Qe.createElement("circle",fO({},Or(t,!1),k5(t),{className:o,cx:r,cy:n,r:a})):null};function Lx(e){"@babel/helpers - typeof";return Lx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lx(e)}var INe=["x","y","top","left","width","height","className"];function hO(){return hO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hO.apply(this,arguments)}function ZU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function RNe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZU(Object(r),!0).forEach(function(n){MNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MNe(e,t,r){return t=FNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FNe(e){var t=LNe(e,"string");return Lx(t)=="symbol"?t:t+""}function LNe(e,t){if(Lx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jNe(e,t){if(e==null)return{};var r=$Ne(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $Ne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var BNe=function(t,r,n,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},UNe=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,s=o===void 0?0:o,l=t.left,u=l===void 0?0:l,d=t.width,f=d===void 0?0:d,h=t.height,m=h===void 0?0:h,x=t.className,g=jNe(t,INe),y=RNe({x:n,y:i,top:s,left:u,width:f,height:m},g);return!Gt(n)||!Gt(i)||!Gt(f)||!Gt(m)||!Gt(s)||!Gt(u)?null:Qe.createElement("path",hO({},Or(y,!0),{className:hn("recharts-cross",x),d:BNe(n,i,f,m,s,u)}))},ZC,JU;function qNe(){if(JU)return ZC;JU=1;var e=Q4(),t=bJ(),r=gf();function n(a,i){return a&&a.length?e(a,r(i,2),t):void 0}return ZC=n,ZC}var zNe=qNe();const WNe=ia(zNe);var JC,QU;function VNe(){if(QU)return JC;QU=1;var e=Q4(),t=gf(),r=SJ();function n(a,i){return a&&a.length?e(a,t(i,2),r):void 0}return JC=n,JC}var HNe=VNe();const GNe=ia(HNe);var YNe=["cx","cy","angle","ticks","axisLine"],KNe=["ticks","tick","angle","tickFormatter","stroke"];function D1(e){"@babel/helpers - typeof";return D1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D1(e)}function eq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function x0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eq(Object(r),!0).forEach(function(n){n3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tq(e,t){if(e==null)return{};var r=XNe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function XNe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ZNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cQ(n.key),n)}}function JNe(e,t,r){return t&&rq(e.prototype,t),r&&rq(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function QNe(e,t,r){return t=tS(t),eEe(e,lQ()?Reflect.construct(t,r||[],tS(e).constructor):t.apply(e,r))}function eEe(e,t){if(t&&(D1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tEe(e)}function tEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lQ=function(){return!!e})()}function tS(e){return tS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tS(e)}function rEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pO(e,t)}function pO(e,t){return pO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},pO(e,t)}function n3(e,t,r){return t=cQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cQ(e){var t=nEe(e,"string");return D1(t)=="symbol"?t:t+""}function nEe(e,t){if(D1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(D1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var a3=function(e){function t(){return ZNe(this,t),QNe(this,t,arguments)}return rEe(t,e),JNe(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,o=i.angle,s=i.cx,l=i.cy;return ja(s,l,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,s=n.ticks,l=WNe(s,function(d){return d.coordinate||0}),u=GNe(s,function(d){return d.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,s=n.ticks,l=n.axisLine,u=tq(n,YNe),d=s.reduce(function(x,g){return[Math.min(x[0],g.coordinate),Math.max(x[1],g.coordinate)]},[1/0,-1/0]),f=ja(a,i,d[0],o),h=ja(a,i,d[1],o),m=x0(x0(x0({},Or(u,!1)),{},{fill:"none"},Or(l,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return c("line",{className:"recharts-polar-radius-axis-line",...m})}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,s=a.angle,l=a.tickFormatter,u=a.stroke,d=tq(a,KNe),f=this.getTickTextAnchor(),h=Or(d,!1),m=Or(o,!1),x=i.map(function(g,y){var _=n.getTickValueCoord(g),b=x0(x0(x0(x0({textAnchor:f,transform:"rotate(".concat(90-s,", ").concat(_.x,", ").concat(_.y,")")},h),{},{stroke:"none",fill:u},m),{},{index:y},_),{},{payload:g});return c(In,{className:hn("recharts-polar-radius-axis-tick",ZJ(o)),...ng(n.props,g,y),children:t.renderTickItem(o,b,l?l(g.value,y):g.value)},"tick-".concat(g.coordinate))});return c(In,{className:"recharts-polar-radius-axis-ticks",children:x})}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,o=n.tick;return!a||!a.length?null:w(In,{className:hn("recharts-polar-radius-axis",this.props.className),children:[i&&this.renderAxisLine(),o&&this.renderTicks(),Mo.renderCallByParent(this.props,this.getViewBox())]})}}],[{key:"renderTickItem",value:function(n,a,i){var o;return Qe.isValidElement(n)?o=Qe.cloneElement(n,a):Yr(n)?o=n(a):o=c(ag,{...a,className:"recharts-polar-radius-axis-tick-value",children:i}),o}}])}(A.PureComponent);n3(a3,"displayName","PolarRadiusAxis");n3(a3,"axisType","radiusAxis");n3(a3,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function I1(e){"@babel/helpers - typeof";return I1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I1(e)}function nq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function w0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nq(Object(r),!0).forEach(function(n){i3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dQ(n.key),n)}}function iEe(e,t,r){return t&&aq(e.prototype,t),r&&aq(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function oEe(e,t,r){return t=rS(t),sEe(e,uQ()?Reflect.construct(t,r||[],rS(e).constructor):t.apply(e,r))}function sEe(e,t){if(t&&(I1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lEe(e)}function lEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uQ=function(){return!!e})()}function rS(e){return rS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rS(e)}function cEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mO(e,t)}function mO(e,t){return mO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},mO(e,t)}function i3(e,t,r){return t=dQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dQ(e){var t=uEe(e,"string");return I1(t)=="symbol"?t:t+""}function uEe(e,t){if(I1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(I1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var dEe=Math.PI/180,fEe=1e-5,o3=function(e){function t(){return aEe(this,t),oEe(this,t,arguments)}return cEe(t,e),iEe(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,o=a.cy,s=a.radius,l=a.orientation,u=a.tickSize,d=u||8,f=ja(i,o,s,n.coordinate),h=ja(i,o,s+(l==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*dEe),o;return i>fEe?o=a==="outer"?"start":"end":i<-1e-5?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.radius,s=n.axisLine,l=n.axisLineType,u=w0(w0({},Or(this.props,!1)),{},{fill:"none"},Or(s,!1));if(l==="circle")return c(Hw,{className:"recharts-polar-angle-axis-line",...u,cx:a,cy:i,r:o});var d=this.props.ticks,f=d.map(function(h){return ja(a,i,o,h.coordinate)});return c(DNe,{className:"recharts-polar-angle-axis-line",...u,points:f})}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,s=a.tickLine,l=a.tickFormatter,u=a.stroke,d=Or(this.props,!1),f=Or(o,!1),h=w0(w0({},d),{},{fill:"none"},Or(s,!1)),m=i.map(function(x,g){var y=n.getTickLineCoord(x),_=n.getTickTextAnchor(x),b=w0(w0(w0({textAnchor:_},d),{},{stroke:"none",fill:u},f),{},{index:g,payload:x,x:y.x2,y:y.y2});return w(In,{className:hn("recharts-polar-angle-axis-tick",ZJ(o)),...ng(n.props,x,g),children:[s&&c("line",{className:"recharts-polar-angle-axis-tick-line",...h,...y}),o&&t.renderTickItem(o,b,l?l(x.value,g):x.value)]},"tick-".concat(x.coordinate))});return c(In,{className:"recharts-polar-angle-axis-ticks",children:m})}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!a||!a.length?null:w(In,{className:hn("recharts-polar-angle-axis",this.props.className),children:[o&&this.renderAxisLine(),this.renderTicks()]})}}],[{key:"renderTickItem",value:function(n,a,i){var o;return Qe.isValidElement(n)?o=Qe.cloneElement(n,a):Yr(n)?o=n(a):o=c(ag,{...a,className:"recharts-polar-angle-axis-tick-value",children:i}),o}}])}(A.PureComponent);i3(o3,"displayName","PolarAngleAxis");i3(o3,"axisType","angleAxis");i3(o3,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var QC,iq;function hEe(){if(iq)return QC;iq=1;var e=_Z(),t=e(Object.getPrototypeOf,Object);return QC=t,QC}var eP,oq;function pEe(){if(oq)return eP;oq=1;var e=Th(),t=hEe(),r=Oh(),n="[object Object]",a=Function.prototype,i=Object.prototype,o=a.toString,s=i.hasOwnProperty,l=o.call(Object);function u(d){if(!r(d)||e(d)!=n)return!1;var f=t(d);if(f===null)return!0;var h=s.call(f,"constructor")&&f.constructor;return typeof h=="function"&&h instanceof h&&o.call(h)==l}return eP=u,eP}var mEe=pEe();const gEe=ia(mEe);var tP,sq;function vEe(){if(sq)return tP;sq=1;var e=Th(),t=Oh(),r="[object Boolean]";function n(a){return a===!0||a===!1||t(a)&&e(a)==r}return tP=n,tP}var yEe=vEe();const xEe=ia(yEe);function jx(e){"@babel/helpers - typeof";return jx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jx(e)}function wEe(e,t){return AEe(e)||SEe(e,t)||bEe(e,t)||_Ee()}function _Ee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bEe(e,t){if(e){if(typeof e=="string")return lq(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lq(e,t)}}function lq(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function SEe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function AEe(e){if(Array.isArray(e))return e}function cq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cq(Object(r),!0).forEach(function(n){kEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kEe(e,t,r){return t=NEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NEe(e){var t=EEe(e,"string");return jx(t)=="symbol"?t:t+""}function EEe(e,t){if(jx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dq=function(t,r,n,a,i){var o=n-a,s;return s="M ".concat(t,",").concat(r),s+="L ".concat(t+n,",").concat(r),s+="L ".concat(t+n-o/2,",").concat(r+i),s+="L ".concat(t+n-o/2-a,",").concat(r+i),s+="L ".concat(t,",").concat(r," Z"),s},CEe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},PEe=function(t){var r=uq(uq({},CEe),t),n=A.useRef(),a=A.useState(-1),i=wEe(a,2),o=i[0],s=i[1];A.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&s(S)}catch{}},[]);var l=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,m=r.className,x=r.animationEasing,g=r.animationDuration,y=r.animationBegin,_=r.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var b=hn("recharts-trapezoid",m);return _?c(Qu,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:l,y:u},duration:g,animationEasing:x,isActive:_,children:function(S){var C=S.upperWidth,E=S.lowerWidth,O=S.height,P=S.x,I=S.y;return c(Qu,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,easing:x,children:c("path",{...Or(r,!0),className:b,d:dq(P,I,C,E,O),ref:n})})}}):c("g",{children:c("path",{...Or(r,!0),className:b,d:dq(l,u,d,f,h)})})},TEe=["option","shapeType","propTransformer","activeClassName","isActive"];function $x(e){"@babel/helpers - typeof";return $x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$x(e)}function OEe(e,t){if(e==null)return{};var r=DEe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function DEe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function fq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fq(Object(r),!0).forEach(function(n){IEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IEe(e,t,r){return t=REe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function REe(e){var t=MEe(e,"string");return $x(t)=="symbol"?t:t+""}function MEe(e,t){if($x(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($x(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FEe(e,t){return nS(nS({},t),e)}function LEe(e,t){return e==="symbols"}function hq(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return c(MI,{...r});case"trapezoid":return c(PEe,{...r});case"sector":return c(eQ,{...r});case"symbols":if(LEe(t))return c(eI,{...r});break;default:return null}}function jEe(e){return A.isValidElement(e)?e.props:e}function fQ(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?FEe:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,s=e.isActive,l=OEe(e,TEe),u;if(A.isValidElement(t))u=A.cloneElement(t,nS(nS({},l),jEe(t)));else if(Yr(t))u=t(l);else if(gEe(t)&&!xEe(t)){var d=a(t,l);u=c(hq,{shapeType:r,elementProps:d})}else{var f=l;u=c(hq,{shapeType:r,elementProps:f})}return s?c(In,{className:o,children:u}):u}function s3(e,t){return t!=null&&"trapezoids"in e.props}function l3(e,t){return t!=null&&"sectors"in e.props}function Bx(e,t){return t!=null&&"points"in e.props}function $Ee(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function BEe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function UEe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function qEe(e,t){var r;return s3(e,t)?r=$Ee:l3(e,t)?r=BEe:Bx(e,t)&&(r=UEe),r}function zEe(e,t){var r;return s3(e,t)?r="trapezoids":l3(e,t)?r="sectors":Bx(e,t)&&(r="points"),r}function WEe(e,t){if(s3(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(l3(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Bx(e,t)?t.payload:{}}function VEe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=zEe(r,t),i=WEe(r,t),o=n.filter(function(l,u){var d=ig(i,l),f=r.props[a].filter(function(x){var g=qEe(r,t);return g(x,t)}),h=r.props[a].indexOf(f[f.length-1]),m=u===h;return d&&m}),s=n.indexOf(o[o.length-1]);return s}var Kb;function R1(e){"@babel/helpers - typeof";return R1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R1(e)}function pq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ma(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pq(Object(r),!0).forEach(function(n){Gc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pQ(n.key),n)}}function GEe(e,t,r){return t&&mq(e.prototype,t),r&&mq(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function YEe(e,t,r){return t=aS(t),KEe(e,hQ()?Reflect.construct(t,r||[],aS(e).constructor):t.apply(e,r))}function KEe(e,t){if(t&&(R1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XEe(e)}function XEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hQ=function(){return!!e})()}function aS(e){return aS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},aS(e)}function ZEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gO(e,t)}function gO(e,t){return gO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},gO(e,t)}function Gc(e,t,r){return t=pQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pQ(e){var t=JEe(e,"string");return R1(t)=="symbol"?t:t+""}function JEe(e,t){if(R1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(R1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Is=function(e){function t(r){var n;return HEe(this,t),n=YEe(this,t,[r]),Gc(n,"pieRef",null),Gc(n,"sectorRefs",[]),Gc(n,"id",Cg("recharts-pie-")),Gc(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Yr(a)&&a()}),Gc(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Yr(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return ZEe(t,e),GEe(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,s=i.labelLine,l=i.dataKey,u=i.valueKey,d=Or(this.props,!1),f=Or(o,!1),h=Or(s,!1),m=o&&o.offsetRadius||20,x=n.map(function(g,y){var _=(g.startAngle+g.endAngle)/2,b=ja(g.cx,g.cy,g.outerRadius+m,_),S=Ma(Ma(Ma(Ma({},d),g),{},{stroke:"none"},f),{},{index:y,textAnchor:t.getTextAnchor(b.x,g.cx)},b),C=Ma(Ma(Ma(Ma({},d),g),{},{fill:"none",stroke:g.fill},h),{},{index:y,points:[ja(g.cx,g.cy,g.outerRadius,_),b]}),E=l;return fn(l)&&fn(u)?E="value":fn(l)&&(E=u),w(In,{children:[s&&t.renderLabelLineItem(s,C,"line"),t.renderLabelItem(o,S,Wi(g,E))]},"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(y))});return c(In,{className:"recharts-pie-labels",children:x})}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,o=i.activeShape,s=i.blendStroke,l=i.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),h=l&&a.hasActiveIndex()?l:null,m=f?o:h,x=Ma(Ma({},u),{},{stroke:s?u.fill:u.stroke,tabIndex:-1});return A.createElement(In,{ref:function(y){y&&!a.sectorRefs.includes(y)&&a.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector",...ng(a.props,u,d),key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)},c(fQ,{option:m,isActive:f,shapeType:"sector",...x}))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,o=a.isAnimationActive,s=a.animationBegin,l=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,h=f.prevSectors,m=f.prevIsAnimationActive;return c(Qu,{begin:s,duration:l,isActive:o,easing:u,from:{t:0},to:{t:1},onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd,children:function(x){var g=x.t,y=[],_=i&&i[0],b=_.startAngle;return i.forEach(function(S,C){var E=h&&h[C],O=C>0?pc(S,"paddingAngle",0):0;if(E){var P=go(E.endAngle-E.startAngle,S.endAngle-S.startAngle),I=Ma(Ma({},S),{},{startAngle:b+O,endAngle:b+P(g)+O});y.push(I),b=I.endAngle}else{var L=S.endAngle,U=S.startAngle,T=go(0,L-U),F=T(g),j=Ma(Ma({},S),{},{startAngle:b+O,endAngle:b+F+O});y.push(j),b=j.endAngle}}),c(In,{children:n.renderSectorsStatically(y)})}},"pie-".concat(d,"-").concat(m))}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var s=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[s].focus(),a.setState({sectorToFocus:s});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!ig(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,o=a.sectors,s=a.className,l=a.label,u=a.cx,d=a.cy,f=a.innerRadius,h=a.outerRadius,m=a.isAnimationActive,x=this.state.isAnimationFinished;if(i||!o||!o.length||!Gt(u)||!Gt(d)||!Gt(f)||!Gt(h))return null;var g=hn("recharts-pie",s);return w(In,{tabIndex:this.props.rootTabIndex,className:g,ref:function(_){n.pieRef=_},children:[this.renderSectors(),l&&this.renderLabels(o),Mo.renderCallByParent(this.props,null,!1),(!m||x)&&tf.renderCallByParent(this.props,o,!1)]})}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(Qe.isValidElement(n))return Qe.cloneElement(n,a);if(Yr(n))return n(a);var o=hn("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return A.createElement(W0,{...a,key:i,type:"linear",className:o})}},{key:"renderLabelItem",value:function(n,a,i){if(Qe.isValidElement(n))return Qe.cloneElement(n,a);var o=i;if(Yr(n)&&(o=n(a),Qe.isValidElement(o)))return o;var s=hn("recharts-pie-label-text",typeof n!="boolean"&&!Yr(n)?n.className:"");return c(ag,{...a,alignmentBaseline:"middle",className:s,children:o})}}])}(A.PureComponent);Kb=Is;Gc(Is,"displayName","Pie");Gc(Is,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Dm.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Gc(Is,"parseDeltaAngle",function(e,t){var r=al(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Gc(Is,"getRealPieData",function(e){var t=e.data,r=e.children,n=Or(e,!1),a=mc(r,Hc);return t&&t.length?t.map(function(i,o){return Ma(Ma(Ma({payload:i},n),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return Ma(Ma({},n),i.props)}):[]});Gc(Is,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,o=XJ(a,i),s=n+il(e.cx,a,a/2),l=r+il(e.cy,i,i/2),u=il(e.innerRadius,o,0),d=il(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:s,cy:l,innerRadius:u,outerRadius:d,maxRadius:f}});Gc(Is,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Ma(Ma({},t.type.defaultProps),t.props):t.props,a=Kb.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,o=n.startAngle,s=n.endAngle,l=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,m=Math.abs(n.minAngle),x=Kb.parseCoordinateOfPie(n,r),g=Kb.parseDeltaAngle(o,s),y=Math.abs(g),_=u;fn(u)&&fn(f)?(Vu(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),_="value"):fn(u)&&(Vu(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),_=f);var b=a.filter(function(I){return Wi(I,_,0)!==0}).length,S=(y>=360?b:b-1)*l,C=y-b*m-S,E=a.reduce(function(I,L){var U=Wi(L,_,0);return I+(Gt(U)?U:0)},0),O;if(E>0){var P;O=a.map(function(I,L){var U=Wi(I,_,0),T=Wi(I,d,L),F=(Gt(U)?U:0)/E,j;L?j=P.endAngle+al(g)*l*(U!==0?1:0):j=o;var H=j+al(g)*((U!==0?m:0)+F*C),X=(j+H)/2,re=(x.innerRadius+x.outerRadius)/2,z=[{name:T,value:U,payload:I,dataKey:_,type:h}],G=ja(x.cx,x.cy,re,X);return P=Ma(Ma(Ma({percent:F,cornerRadius:i,name:T,tooltipPayload:z,midAngle:X,middleRadius:re,tooltipPosition:G},I),x),{},{value:Wi(I,_),startAngle:j,endAngle:H,payload:I,paddingAngle:al(g)*l}),P})}return Ma(Ma({},x),{},{sectors:O,data:a})});var rP,gq;function QEe(){if(gq)return rP;gq=1;var e=Math.ceil,t=Math.max;function r(n,a,i,o){for(var s=-1,l=t(e((a-n)/(i||1)),0),u=Array(l);l--;)u[o?l:++s]=n,n+=i;return u}return rP=r,rP}var nP,vq;function mQ(){if(vq)return nP;vq=1;var e=LZ(),t=1/0,r=17976931348623157e292;function n(a){if(!a)return a===0?a:0;if(a=e(a),a===t||a===-1/0){var i=a<0?-1:1;return i*r}return a===a?a:0}return nP=n,nP}var aP,yq;function eCe(){if(yq)return aP;yq=1;var e=QEe(),t=H4(),r=mQ();function n(a){return function(i,o,s){return s&&typeof s!="number"&&t(i,o,s)&&(o=s=void 0),i=r(i),o===void 0?(o=i,i=0):o=r(o),s=s===void 0?i<o?1:-1:r(s),e(i,o,s,a)}}return aP=n,aP}var iP,xq;function tCe(){if(xq)return iP;xq=1;var e=eCe(),t=e();return iP=t,iP}var rCe=tCe();const iS=ia(rCe);function Ux(e){"@babel/helpers - typeof";return Ux=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ux(e)}function wq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _q(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wq(Object(r),!0).forEach(function(n){gQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gQ(e,t,r){return t=nCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nCe(e){var t=aCe(e,"string");return Ux(t)=="symbol"?t:t+""}function aCe(e,t){if(Ux(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ux(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iCe=["Webkit","Moz","O","ms"],oCe=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=iCe.reduce(function(i,o){return _q(_q({},i),{},gQ({},o+n,r))},{});return a[t]=r,a};function M1(e){"@babel/helpers - typeof";return M1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M1(e)}function bq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bq(Object(r),!0).forEach(function(n){ec(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yQ(n.key),n)}}function lCe(e,t,r){return t&&Sq(e.prototype,t),r&&Sq(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function cCe(e,t,r){return t=oS(t),uCe(e,vQ()?Reflect.construct(t,r||[],oS(e).constructor):t.apply(e,r))}function uCe(e,t){if(t&&(M1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dCe(e)}function dCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vQ=function(){return!!e})()}function oS(e){return oS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},oS(e)}function fCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vO(e,t)}function vO(e,t){return vO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},vO(e,t)}function ec(e,t,r){return t=yQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yQ(e){var t=hCe(e,"string");return M1(t)=="symbol"?t:t+""}function hCe(e,t){if(M1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(M1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var pCe=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,o=t.width,s=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,u=$2().domain(iS(0,l)).range([i,i+o-s]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},Aq=function(t){return t.changedTouches&&!!t.changedTouches.length},F1=function(e){function t(r){var n;return sCe(this,t),n=cCe(this,t,[r]),ec(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),ec(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),ec(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,s=a.startIndex;o==null||o({endIndex:i,startIndex:s})}),n.detachDragEndListener()}),ec(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),ec(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),ec(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),ec(n,"handleSlideDragStart",function(a){var i=Aq(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return fCe(t,e),lCe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,d=u.length-1,f=Math.min(a,i),h=Math.max(a,i),m=t.getIndexInRange(o,f),x=t.getIndexInRange(o,h);return{startIndex:m-m%l,endIndex:x===d?d:x-x%l}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,s=a.dataKey,l=Wi(i[n],s,n);return Yr(o)?o(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,s=a.endX,l=this.props,u=l.x,d=l.width,f=l.travellerWidth,h=l.startIndex,m=l.endIndex,x=l.onChange,g=n.pageX-i;g>0?g=Math.min(g,u+d-f-s,u+d-f-o):g<0&&(g=Math.max(g,u-o,u-s));var y=this.getIndex({startX:o+g,endX:s+g});(y.startIndex!==h||y.endIndex!==m)&&x&&x(y),this.setState({startX:o+g,endX:s+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=Aq(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,s=a.endX,l=a.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,x=d.onChange,g=d.gap,y=d.data,_={startX:this.state.startX,endX:this.state.endX},b=n.pageX-i;b>0?b=Math.min(b,f+h-m-u):b<0&&(b=Math.max(b,f-u)),_[o]=u+b;var S=this.getIndex(_),C=S.startIndex,E=S.endIndex,O=function(){var I=y.length-1;return o==="startX"&&(s>l?C%g===0:E%g===0)||s<l&&E===I||o==="endX"&&(s>l?E%g===0:C%g===0)||s>l&&E===I};this.setState(ec(ec({},o,u+b),"brushMoveStartX",n.pageX),function(){x&&O()&&x(S)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,s=o.scaleValues,l=o.startX,u=o.endX,d=this.state[a],f=s.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=s.length)){var m=s[h];a==="startX"&&m>=u||a==="endX"&&m<=l||this.setState(ec({},a,m),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,s=n.height,l=n.fill,u=n.stroke;return c("rect",{stroke:u,fill:l,x:a,y:i,width:o,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,s=n.height,l=n.data,u=n.children,d=n.padding,f=A.Children.only(u);return f?Qe.cloneElement(f,{x:a,y:i,width:o,height:s,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,s=this,l=this.props,u=l.y,d=l.travellerWidth,f=l.height,h=l.traveller,m=l.ariaLabel,x=l.data,g=l.startIndex,y=l.endIndex,_=Math.max(n,this.props.x),b=oP(oP({},Or(this.props,!1)),{},{x:_,y:u,width:d,height:f}),S=m||"Min value: ".concat((i=x[g])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=x[y])===null||o===void 0?void 0:o.name);return c(In,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),s.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,a))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"},children:t.renderTraveller(h,b)})}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,s=i.height,l=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return c("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:o,width:f,height:s})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,s=n.height,l=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,m=5,x={pointerEvents:"none",fill:u};return w(In,{className:"recharts-brush-texts",children:[c(ag,{textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:o+s/2,...x,children:this.getTextOfTick(a)}),c(ag,{textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+m,y:o+s/2,...x,children:this.getTextOfTick(i)})]})}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,s=n.x,l=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,m=h.startX,x=h.endX,g=h.isTextActive,y=h.isSlideMoving,_=h.isTravellerMoving,b=h.isTravellerFocused;if(!a||!a.length||!Gt(s)||!Gt(l)||!Gt(u)||!Gt(d)||u<=0||d<=0)return null;var S=hn("recharts-brush",i),C=Qe.Children.count(o)===1,E=oCe("userSelect","none");return w(In,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E,children:[this.renderBackground(),C&&this.renderPanorama(),this.renderSlide(m,x),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(x,"endX"),(g||y||_||b||f)&&this.renderText()]})}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,s=n.height,l=n.stroke,u=Math.floor(i+s/2)-1;return w(Sr,{children:[c("rect",{x:a,y:i,width:o,height:s,fill:l,stroke:"none"}),c("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),c("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"})]})}},{key:"renderTraveller",value:function(n,a){var i;return Qe.isValidElement(n)?i=Qe.cloneElement(n,a):Yr(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,s=n.x,l=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return oP({prevData:i,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o},i&&i.length?pCe({data:i,width:o,x:s,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||s!==a.prevX||l!==a.prevTravellerWidth)){a.scale.range([s,s+o-l]);var h=a.scale.domain().map(function(m){return a.scale(m)});return{prevData:i,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,s=i-1;s-o>1;){var l=Math.floor((o+s)/2);n[l]>a?s=l:o=l}return a>=n[s]?s:o}}])}(A.PureComponent);ec(F1,"displayName","Brush");ec(F1,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var sP,kq;function mCe(){if(kq)return sP;kq=1;var e=sI();function t(r,n){var a;return e(r,function(i,o,s){return a=n(i,o,s),!a}),!!a}return sP=t,sP}var lP,Nq;function gCe(){if(Nq)return lP;Nq=1;var e=pZ(),t=gf(),r=mCe(),n=$l(),a=H4();function i(o,s,l){var u=n(o)?e:r;return l&&a(o,s,l)&&(s=void 0),u(o,t(s,3))}return lP=i,lP}var vCe=gCe();const yCe=ia(vCe);var rf=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},cP,Eq;function xCe(){if(Eq)return cP;Eq=1;var e=DZ();function t(r,n,a){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return cP=t,cP}var uP,Cq;function wCe(){if(Cq)return uP;Cq=1;var e=xCe(),t=TZ(),r=gf();function n(a,i){var o={};return i=r(i,3),t(a,function(s,l,u){e(o,l,i(s,l,u))}),o}return uP=n,uP}var _Ce=wCe();const bCe=ia(_Ce);var dP,Pq;function SCe(){if(Pq)return dP;Pq=1;function e(t,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(!r(t[n],n,t))return!1;return!0}return dP=e,dP}var fP,Tq;function ACe(){if(Tq)return fP;Tq=1;var e=sI();function t(r,n){var a=!0;return e(r,function(i,o,s){return a=!!n(i,o,s),a}),a}return fP=t,fP}var hP,Oq;function kCe(){if(Oq)return hP;Oq=1;var e=SCe(),t=ACe(),r=gf(),n=$l(),a=H4();function i(o,s,l){var u=n(o)?e:t;return l&&a(o,s,l)&&(s=void 0),u(o,r(s,3))}return hP=i,hP}var NCe=kCe();const xQ=ia(NCe);var ECe=["x","y"];function qx(e){"@babel/helpers - typeof";return qx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qx(e)}function yO(){return yO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yO.apply(this,arguments)}function Dq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function u2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dq(Object(r),!0).forEach(function(n){CCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CCe(e,t,r){return t=PCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PCe(e){var t=TCe(e,"string");return qx(t)=="symbol"?t:t+""}function TCe(e,t){if(qx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OCe(e,t){if(e==null)return{};var r=DCe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function DCe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ICe(e,t){var r=e.x,n=e.y,a=OCe(e,ECe),i="".concat(r),o=parseInt(i,10),s="".concat(n),l=parseInt(s,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return u2(u2(u2(u2(u2({},t),a),o?{x:o}:{}),l?{y:l}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function Iq(e){return Qe.createElement(fQ,yO({shapeType:"rectangle",propTransformer:ICe,activeClassName:"recharts-active-bar"},e))}var RCe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=typeof n=="number";return i?t(n,a):(i||sg(),r)}},MCe=["value","background"],wQ;function L1(e){"@babel/helpers - typeof";return L1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L1(e)}function FCe(e,t){if(e==null)return{};var r=LCe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function LCe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Rq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function io(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rq(Object(r),!0).forEach(function(n){Kp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bQ(n.key),n)}}function $Ce(e,t,r){return t&&Mq(e.prototype,t),r&&Mq(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function BCe(e,t,r){return t=sS(t),UCe(e,_Q()?Reflect.construct(t,r||[],sS(e).constructor):t.apply(e,r))}function UCe(e,t){if(t&&(L1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qCe(e)}function qCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _Q(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_Q=function(){return!!e})()}function sS(e){return sS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sS(e)}function zCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xO(e,t)}function xO(e,t){return xO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},xO(e,t)}function Kp(e,t,r){return t=bQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bQ(e){var t=WCe(e,"string");return L1(t)=="symbol"?t:t+""}function WCe(e,t){if(L1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(L1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var eu=function(e){function t(){var r;jCe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=BCe(this,t,[].concat(a)),Kp(r,"state",{isAnimationFinished:!1}),Kp(r,"id",Cg("recharts-bar-")),Kp(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Kp(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return zCe(t,e),$Ce(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,s=i.dataKey,l=i.activeIndex,u=i.activeBar,d=Or(this.props,!1);return n&&n.map(function(f,h){var m=h===l,x=m?u:o,g=io(io(io({},d),f),{},{isActive:m,option:x,index:h,dataKey:s,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return A.createElement(In,{className:"recharts-bar-rectangle",...ng(a.props,f,h),key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)},c(Iq,{...g}))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,s=a.isAnimationActive,l=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return c(Qu,{begin:l,duration:u,isActive:s,easing:d,from:{t:0},to:{t:1},onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart,children:function(m){var x=m.t,g=i.map(function(y,_){var b=h&&h[_];if(b){var S=go(b.x,y.x),C=go(b.y,y.y),E=go(b.width,y.width),O=go(b.height,y.height);return io(io({},y),{},{x:S(x),y:C(x),width:E(x),height:O(x)})}if(o==="horizontal"){var P=go(0,y.height),I=P(x);return io(io({},y),{},{y:y.y+y.height-I,height:I})}var L=go(0,y.width),U=L(x);return io(io({},y),{},{width:U})});return c(In,{children:n.renderRectanglesStatically(g)})}},"bar-".concat(f))}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!ig(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,s=a.activeIndex,l=Or(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=FCe(u,MCe);if(!f)return null;var m=io(io(io(io(io({},h),{},{fill:"#eee"},f),l),ng(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return c(Iq,{option:n.props.background,isActive:d===s,...m},"background-bar-".concat(d))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,s=i.xAxis,l=i.yAxis,u=i.layout,d=i.children,f=mc(d,Vw);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,m=function(y,_){var b=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:b,errorVal:Wi(y,_)}},x={clipPath:n?"url(#clipPath-".concat(a,")"):null};return c(In,{...x,children:f.map(function(g){return Qe.cloneElement(g,{key:"error-bar-".concat(a,"-").concat(g.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,offset:h,dataPointFormatter:m})})})}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,s=n.xAxis,l=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,m=n.isAnimationActive,x=n.background,g=n.id;if(a||!i||!i.length)return null;var y=this.state.isAnimationFinished,_=hn("recharts-bar",o),b=s&&s.allowDataOverflow,S=l&&l.allowDataOverflow,C=b||S,E=fn(g)?this.id:g;return w(In,{className:_,children:[b||S?c("defs",{children:c("clipPath",{id:"clipPath-".concat(E),children:c("rect",{x:b?u:u-f/2,y:S?d:d-h/2,width:b?f:f*2,height:S?h:h*2})})}):null,w(In,{className:"recharts-bar-rectangles",clipPath:C?"url(#clipPath-".concat(E,")"):null,children:[x?this.renderBackground():null,this.renderRectangles()]}),this.renderErrorBar(C,E),(!m||y)&&tf.renderCallByParent(this.props,i)]})}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(A.PureComponent);wQ=eu;Kp(eu,"displayName","Bar");Kp(eu,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Dm.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Kp(eu,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=y3e(n,r);if(!m)return null;var x=t.layout,g=r.type.defaultProps,y=g!==void 0?io(io({},g),r.props):r.props,_=y.dataKey,b=y.children,S=y.minPointSize,C=x==="horizontal"?o:i,E=u?C.scale.domain():null,O=k3e({numericAxis:C}),P=mc(b,Hc),I=f.map(function(L,U){var T,F,j,H,X,re;u?T=x3e(u[d+U],E):(T=Wi(L,_),Array.isArray(T)||(T=[O,T]));var z=RCe(S,wQ.defaultProps.minPointSize)(T[1],U);if(x==="horizontal"){var G,q=[o.scale(T[0]),o.scale(T[1])],K=q[0],J=q[1];F=sU({axis:i,ticks:s,bandSize:a,offset:m.offset,entry:L,index:U}),j=(G=J??K)!==null&&G!==void 0?G:void 0,H=m.size;var D=K-J;if(X=Number.isNaN(D)?0:D,re={x:F,y:o.y,width:H,height:o.height},Math.abs(z)>0&&Math.abs(X)<Math.abs(z)){var Y=al(X||z)*(Math.abs(z)-Math.abs(X));j-=Y,X+=Y}}else{var Q=[i.scale(T[0]),i.scale(T[1])],ie=Q[0],se=Q[1];if(F=ie,j=sU({axis:o,ticks:l,bandSize:a,offset:m.offset,entry:L,index:U}),H=se-ie,X=m.size,re={x:i.x,y:j,width:i.width,height:X},Math.abs(z)>0&&Math.abs(H)<Math.abs(z)){var te=al(H||z)*(Math.abs(z)-Math.abs(H));H+=te}}return io(io(io({},L),{},{x:F,y:j,width:H,height:X,value:u?T:T[1],payload:L,background:re},P&&P[U]&&P[U].props),{},{tooltipPayload:[YJ(r,L)],tooltipPosition:{x:F+H/2,y:j+X/2}})});return io({data:I,layout:x},h)});function zx(e){"@babel/helpers - typeof";return zx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zx(e)}function VCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SQ(n.key),n)}}function HCe(e,t,r){return t&&Fq(e.prototype,t),r&&Fq(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lq(Object(r),!0).forEach(function(n){c3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function c3(e,t,r){return t=SQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SQ(e){var t=GCe(e,"string");return zx(t)=="symbol"?t:t+""}function GCe(e,t){if(zx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FI=function(t,r,n,a,i){var o=t.width,s=t.height,l=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},h=!!tc(u,eu);return d.reduce(function(m,x){var g=r[x],y=g.orientation,_=g.domain,b=g.padding,S=b===void 0?{}:b,C=g.mirror,E=g.reversed,O="".concat(y).concat(C?"Mirror":""),P,I,L,U,T;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var F=_[1]-_[0],j=1/0,H=g.categoricalDomain.sort(s2e);if(H.forEach(function(Q,ie){ie>0&&(j=Math.min((Q||0)-(H[ie-1]||0),j))}),Number.isFinite(j)){var X=j/F,re=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(P=X*re/2),g.padding==="no-gap"){var z=il(t.barCategoryGap,X*re),G=X*re/2;P=G-z-(G-z)/re*z}}}a==="xAxis"?I=[n.left+(S.left||0)+(P||0),n.left+n.width-(S.right||0)-(P||0)]:a==="yAxis"?I=l==="horizontal"?[n.top+n.height-(S.bottom||0),n.top+(S.top||0)]:[n.top+(S.top||0)+(P||0),n.top+n.height-(S.bottom||0)-(P||0)]:I=g.range,E&&(I=[I[1],I[0]]);var q=WJ(g,i,h),K=q.scale,J=q.realScaleType;K.domain(_).range(I),VJ(K);var D=HJ(K,Fu(Fu({},g),{},{realScaleType:J}));a==="xAxis"?(T=y==="top"&&!C||y==="bottom"&&C,L=n.left,U=f[O]-T*g.height):a==="yAxis"&&(T=y==="left"&&!C||y==="right"&&C,L=f[O]-T*g.width,U=n.top);var Y=Fu(Fu(Fu({},g),D),{},{realScaleType:J,x:L,y:U,scale:K,width:a==="xAxis"?n.width:g.width,height:a==="yAxis"?n.height:g.height});return Y.bandSize=X5(Y,D),!g.hide&&a==="xAxis"?f[O]+=(T?-1:1)*Y.height:g.hide||(f[O]+=(T?-1:1)*Y.width),Fu(Fu({},m),{},c3({},x,Y))},{})},AQ=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},YCe=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return AQ({x:r,y:n},{x:a,y:i})},kQ=function(){function e(t){VCe(this,e),this.scale=t}return HCe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();c3(kQ,"EPS",1e-4);var LI=function(t){var r=Object.keys(t).reduce(function(n,a){return Fu(Fu({},n),{},c3({},a,kQ.create(t[a])))},{});return Fu(Fu({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,s=i.position;return bCe(a,function(l,u){return r[u].apply(l,{bandAware:o,position:s})})},isInRange:function(a){return xQ(a,function(i,o){return r[o].isInRange(i)})}})};function KCe(e){return(e%180+180)%180}var XCe=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=KCe(a),o=i*Math.PI/180,s=Math.atan(n/r),l=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(l)},pP,jq;function ZCe(){if(jq)return pP;jq=1;var e=gf(),t=Bw(),r=W4();function n(a){return function(i,o,s){var l=Object(i);if(!t(i)){var u=e(o,3);i=r(i),o=function(f){return u(l[f],f,l)}}var d=a(i,o,s);return d>-1?l[u?i[d]:d]:void 0}}return pP=n,pP}var mP,$q;function JCe(){if($q)return mP;$q=1;var e=mQ();function t(r){var n=e(r),a=n%1;return n===n?a?n-a:n:0}return mP=t,mP}var gP,Bq;function QCe(){if(Bq)return gP;Bq=1;var e=kZ(),t=gf(),r=JCe(),n=Math.max;function a(i,o,s){var l=i==null?0:i.length;if(!l)return-1;var u=s==null?0:r(s);return u<0&&(u=n(l+u,0)),e(i,t(o,3),u)}return gP=a,gP}var vP,Uq;function ePe(){if(Uq)return vP;Uq=1;var e=ZCe(),t=QCe(),r=e(t);return vP=r,vP}var tPe=ePe();const rPe=ia(tPe);var nPe=BX();const aPe=ia(nPe);var iPe=aPe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),jI=A.createContext(void 0),$I=A.createContext(void 0),NQ=A.createContext(void 0),EQ=A.createContext({}),CQ=A.createContext(void 0),PQ=A.createContext(0),TQ=A.createContext(0),qq=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,s=t.children,l=t.width,u=t.height,d=iPe(i);return c(jI.Provider,{value:n,children:c($I.Provider,{value:a,children:c(EQ.Provider,{value:i,children:c(NQ.Provider,{value:d,children:c(CQ.Provider,{value:o,children:c(PQ.Provider,{value:u,children:c(TQ.Provider,{value:l,children:s})})})})})})})},oPe=function(){return A.useContext(CQ)},OQ=function(t){var r=A.useContext(jI);r==null&&sg();var n=r[t];return n==null&&sg(),n},sPe=function(){var t=A.useContext(jI);return Hp(t)},lPe=function(){var t=A.useContext($I),r=rPe(t,function(n){return xQ(n.domain,Number.isFinite)});return r||Hp(t)},DQ=function(t){var r=A.useContext($I);r==null&&sg();var n=r[t];return n==null&&sg(),n},cPe=function(){var t=A.useContext(NQ);return t},uPe=function(){return A.useContext(EQ)},BI=function(){return A.useContext(TQ)},UI=function(){return A.useContext(PQ)};function j1(e){"@babel/helpers - typeof";return j1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j1(e)}function dPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fPe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RQ(n.key),n)}}function hPe(e,t,r){return t&&fPe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pPe(e,t,r){return t=lS(t),mPe(e,IQ()?Reflect.construct(t,r||[],lS(e).constructor):t.apply(e,r))}function mPe(e,t){if(t&&(j1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gPe(e)}function gPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IQ=function(){return!!e})()}function lS(e){return lS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lS(e)}function vPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wO(e,t)}function wO(e,t){return wO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},wO(e,t)}function zq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zq(Object(r),!0).forEach(function(n){qI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qI(e,t,r){return t=RQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RQ(e){var t=yPe(e,"string");return j1(t)=="symbol"?t:t+""}function yPe(e,t){if(j1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(j1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function xPe(e,t){return SPe(e)||bPe(e,t)||_Pe(e,t)||wPe()}function wPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Pe(e,t){if(e){if(typeof e=="string")return Vq(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vq(e,t)}}function Vq(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bPe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function SPe(e){if(Array.isArray(e))return e}function _O(){return _O=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_O.apply(this,arguments)}var APe=function(t,r){var n;return Qe.isValidElement(t)?n=Qe.cloneElement(t,r):Yr(t)?n=t(r):n=Qe.createElement("line",_O({},r,{className:"recharts-reference-line-line"})),n},kPe=function(t,r,n,a,i,o,s,l,u){var d=i.x,f=i.y,h=i.width,m=i.height;if(n){var x=u.y,g=t.y.apply(x,{position:o});if(rf(u,"discard")&&!t.y.isInRange(g))return null;var y=[{x:d+h,y:g},{x:d,y:g}];return l==="left"?y.reverse():y}if(r){var _=u.x,b=t.x.apply(_,{position:o});if(rf(u,"discard")&&!t.x.isInRange(b))return null;var S=[{x:b,y:f+m},{x:b,y:f}];return s==="top"?S.reverse():S}if(a){var C=u.segment,E=C.map(function(O){return t.apply(O,{position:o})});return rf(u,"discard")&&yCe(E,function(O){return!t.isInRange(O)})?null:E}return null};function NPe(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,s=e.className,l=e.alwaysShow,u=oPe(),d=OQ(a),f=DQ(i),h=cPe();if(!u||!h)return null;Vu(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=LI({x:d.scale,y:f.scale}),x=yo(t),g=yo(r),y=n&&n.length===2,_=kPe(m,x,g,y,h,e.position,d.orientation,f.orientation,e);if(!_)return null;var b=xPe(_,2),S=b[0],C=S.x,E=S.y,O=b[1],P=O.x,I=O.y,L=rf(e,"hidden")?"url(#".concat(u,")"):void 0,U=Wq(Wq({clipPath:L},Or(e,!0)),{},{x1:C,y1:E,x2:P,y2:I});return Qe.createElement(In,{className:hn("recharts-reference-line",s)},APe(o,U),Mo.renderCallByParent(e,YCe({x1:C,y1:E,x2:P,y2:I})))}var zI=function(e){function t(){return dPe(this,t),pPe(this,t,arguments)}return vPe(t,e),hPe(t,[{key:"render",value:function(){return Qe.createElement(NPe,this.props)}}])}(Qe.Component);qI(zI,"displayName","ReferenceLine");qI(zI,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function bO(){return bO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bO.apply(this,arguments)}function $1(e){"@babel/helpers - typeof";return $1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$1(e)}function Hq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hq(Object(r),!0).forEach(function(n){u3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CPe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,FQ(n.key),n)}}function PPe(e,t,r){return t&&CPe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function TPe(e,t,r){return t=cS(t),OPe(e,MQ()?Reflect.construct(t,r||[],cS(e).constructor):t.apply(e,r))}function OPe(e,t){if(t&&($1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DPe(e)}function DPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MQ=function(){return!!e})()}function cS(e){return cS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cS(e)}function IPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SO(e,t)}function SO(e,t){return SO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},SO(e,t)}function u3(e,t,r){return t=FQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FQ(e){var t=RPe(e,"string");return $1(t)=="symbol"?t:t+""}function RPe(e,t){if($1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var MPe=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,o=LI({x:a.scale,y:i.scale}),s=o.apply({x:r,y:n},{bandAware:!0});return rf(t,"discard")&&!o.isInRange(s)?null:s},d3=function(e){function t(){return EPe(this,t),TPe(this,t,arguments)}return IPe(t,e),PPe(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,s=n.alwaysShow,l=n.clipPathId,u=yo(a),d=yo(i);if(Vu(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=MPe(this.props);if(!f)return null;var h=f.x,m=f.y,x=this.props,g=x.shape,y=x.className,_=rf(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=Gq(Gq({clipPath:_},Or(this.props,!0)),{},{cx:h,cy:m});return Qe.createElement(In,{className:hn("recharts-reference-dot",y)},t.renderDot(g,b),Mo.renderCallByParent(this.props,{x:h-o,y:m-o,width:2*o,height:2*o}))}}])}(Qe.Component);u3(d3,"displayName","ReferenceDot");u3(d3,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});u3(d3,"renderDot",function(e,t){var r;return Qe.isValidElement(e)?r=Qe.cloneElement(e,t):Yr(e)?r=e(t):r=Qe.createElement(Hw,bO({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function AO(){return AO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},AO.apply(this,arguments)}function B1(e){"@babel/helpers - typeof";return B1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B1(e)}function Yq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yq(Object(r),!0).forEach(function(n){f3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LPe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jQ(n.key),n)}}function jPe(e,t,r){return t&&LPe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $Pe(e,t,r){return t=uS(t),BPe(e,LQ()?Reflect.construct(t,r||[],uS(e).constructor):t.apply(e,r))}function BPe(e,t){if(t&&(B1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UPe(e)}function UPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LQ=function(){return!!e})()}function uS(e){return uS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uS(e)}function qPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kO(e,t)}function kO(e,t){return kO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},kO(e,t)}function f3(e,t,r){return t=jQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jQ(e){var t=zPe(e,"string");return B1(t)=="symbol"?t:t+""}function zPe(e,t){if(B1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(B1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var WPe=function(t,r,n,a,i){var o=i.x1,s=i.x2,l=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=LI({x:d.scale,y:f.scale}),m={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},x={x:r?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return rf(i,"discard")&&(!h.isInRange(m)||!h.isInRange(x))?null:AQ(m,x)},h3=function(e){function t(){return FPe(this,t),$Pe(this,t,arguments)}return qPe(t,e),jPe(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,s=n.y2,l=n.className,u=n.alwaysShow,d=n.clipPathId;Vu(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=yo(a),h=yo(i),m=yo(o),x=yo(s),g=this.props.shape;if(!f&&!h&&!m&&!x&&!g)return null;var y=WPe(f,h,m,x,this.props);if(!y&&!g)return null;var _=rf(this.props,"hidden")?"url(#".concat(d,")"):void 0;return Qe.createElement(In,{className:hn("recharts-reference-area",l)},t.renderRect(g,Kq(Kq({clipPath:_},Or(this.props,!0)),y)),Mo.renderCallByParent(this.props,y))}}])}(Qe.Component);f3(h3,"displayName","ReferenceArea");f3(h3,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});f3(h3,"renderRect",function(e,t){var r;return Qe.isValidElement(e)?r=Qe.cloneElement(e,t):Yr(e)?r=e(t):r=Qe.createElement(MI,AO({},t,{className:"recharts-reference-area-rect"})),r});function $Q(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function VPe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return XCe(n,r)}function HPe(e,t,r){var n=r==="width",a=e.x,i=e.y,o=e.width,s=e.height;return t===1?{start:n?a:i,end:n?a+o:i+s}:{start:n?a+o:i+s,end:n?a:i}}function dS(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function GPe(e,t){return $Q(e,t+1)}function YPe(e,t,r,n,a){for(var i=(n||[]).slice(),o=t.start,s=t.end,l=0,u=1,d=o,f=function(){var x=n==null?void 0:n[l];if(x===void 0)return{v:$Q(n,u)};var g=l,y,_=function(){return y===void 0&&(y=r(x,g)),y},b=x.coordinate,S=l===0||dS(e,b,_,d,s);S||(l=0,d=o,u+=1),S&&(d=b+e*(_()/2+a),l+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function Wx(e){"@babel/helpers - typeof";return Wx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wx(e)}function Xq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ss(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xq(Object(r),!0).forEach(function(n){KPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KPe(e,t,r){return t=XPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XPe(e){var t=ZPe(e,"string");return Wx(t)=="symbol"?t:t+""}function ZPe(e,t){if(Wx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JPe(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,s=t.start,l=t.end,u=function(h){var m=i[h],x,g=function(){return x===void 0&&(x=r(m,h)),x};if(h===o-1){var y=e*(m.coordinate+e*g()/2-l);i[h]=m=Ss(Ss({},m),{},{tickCoord:y>0?m.coordinate-y*e:m.coordinate})}else i[h]=m=Ss(Ss({},m),{},{tickCoord:m.coordinate});var _=dS(e,m.tickCoord,g,s,l);_&&(l=m.tickCoord-e*(g()/2+a),i[h]=Ss(Ss({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function QPe(e,t,r,n,a,i){var o=(n||[]).slice(),s=o.length,l=t.start,u=t.end;if(i){var d=n[s-1],f=r(d,s-1),h=e*(d.coordinate+e*f/2-u);o[s-1]=d=Ss(Ss({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=dS(e,d.tickCoord,function(){return f},l,u);m&&(u=d.tickCoord-e*(f/2+a),o[s-1]=Ss(Ss({},d),{},{isShow:!0}))}for(var x=i?s-1:s,g=function(b){var S=o[b],C,E=function(){return C===void 0&&(C=r(S,b)),C};if(b===0){var O=e*(S.coordinate-e*E()/2-l);o[b]=S=Ss(Ss({},S),{},{tickCoord:O<0?S.coordinate-O*e:S.coordinate})}else o[b]=S=Ss(Ss({},S),{},{tickCoord:S.coordinate});var P=dS(e,S.tickCoord,E,l,u);P&&(l=S.tickCoord+e*(E()/2+a),o[b]=Ss(Ss({},S),{},{isShow:!0}))},y=0;y<x;y++)g(y);return o}function WI(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,s=e.orientation,l=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(Gt(l)||Dm.isSsr)return GPe(a,typeof l=="number"&&Gt(l)?l:0);var h=[],m=s==="top"||s==="bottom"?"width":"height",x=d&&m==="width"?j2(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=function(S,C){var E=Yr(u)?u(S.value,C):S.value;return m==="width"?VPe(j2(E,{fontSize:t,letterSpacing:r}),x,f):j2(E,{fontSize:t,letterSpacing:r})[m]},y=a.length>=2?al(a[1].coordinate-a[0].coordinate):1,_=HPe(i,y,m);return l==="equidistantPreserveStart"?YPe(y,_,g,a,o):(l==="preserveStart"||l==="preserveStartEnd"?h=QPe(y,_,g,a,o,l==="preserveStartEnd"):h=JPe(y,_,g,a,o),h.filter(function(b){return b.isShow}))}var eTe=["viewBox"],tTe=["viewBox"],rTe=["ticks"];function U1(e){"@babel/helpers - typeof";return U1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U1(e)}function Zq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Js(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zq(Object(r),!0).forEach(function(n){VI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yP(e,t){if(e==null)return{};var r=nTe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nTe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function aTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UQ(n.key),n)}}function iTe(e,t,r){return t&&Jq(e.prototype,t),r&&Jq(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function oTe(e,t,r){return t=fS(t),sTe(e,BQ()?Reflect.construct(t,r||[],fS(e).constructor):t.apply(e,r))}function sTe(e,t){if(t&&(U1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lTe(e)}function lTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BQ=function(){return!!e})()}function fS(e){return fS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fS(e)}function cTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&NO(e,t)}function NO(e,t){return NO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},NO(e,t)}function VI(e,t,r){return t=UQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UQ(e){var t=uTe(e,"string");return U1(t)=="symbol"?t:t+""}function uTe(e,t){if(U1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(U1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _y=function(e){function t(r){var n;return aTe(this,t),n=oTe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return cTe(t,e),iTe(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=yP(n,eTe),s=this.props,l=s.viewBox,u=yP(s,tTe);return!t1(i,l)||!t1(o,u)||!t1(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,s=a.width,l=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,m,x,g,y,_,b,S=f?-1:1,C=n.tickSize||d,E=Gt(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=x=n.coordinate,y=o+ +!f*l,g=y-S*C,b=g-S*h,_=E;break;case"left":g=y=n.coordinate,x=i+ +!f*s,m=x-S*C,_=m-S*h,b=E;break;case"right":g=y=n.coordinate,x=i+ +f*s,m=x+S*C,_=m+S*h,b=E;break;default:m=x=n.coordinate,y=o+ +f*l,g=y+S*C,b=g+S*h,_=E;break}return{line:{x1:m,y1:g,x2:x,y2:y},tick:{x:_,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,s=n.height,l=n.orientation,u=n.mirror,d=n.axisLine,f=Js(Js(Js({},Or(this.props,!1)),Or(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=Js(Js({},f),{},{x1:a,y1:i+h*s,x2:a+o,y2:i+h*s})}else{var m=+(l==="left"&&!u||l==="right"&&u);f=Js(Js({},f),{},{x1:a+m*o,y1:i,x2:a+m*o,y2:i+s})}return c("line",{...f,className:hn("recharts-cartesian-axis-line",pc(d,"className"))})}},{key:"renderTicks",value:function(n,a,i){var o=this,s=this.props,l=s.tickLine,u=s.stroke,d=s.tick,f=s.tickFormatter,h=s.unit,m=WI(Js(Js({},this.props),{},{ticks:n}),a,i),x=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),y=Or(this.props,!1),_=Or(d,!1),b=Js(Js({},y),{},{fill:"none"},Or(l,!1)),S=m.map(function(C,E){var O=o.getTickLineCoord(C),P=O.line,I=O.tick,L=Js(Js(Js(Js({textAnchor:x,verticalAnchor:g},y),{},{stroke:"none",fill:u},_),I),{},{index:E,payload:C,visibleTicksCount:m.length,tickFormatter:f});return w(In,{className:"recharts-cartesian-axis-tick",...ng(o.props,C,E),children:[l&&c("line",{...b,...P,className:hn("recharts-cartesian-axis-tick-line",pc(l,"className"))}),d&&t.renderTickItem(d,L,"".concat(Yr(f)?f(C.value,E):C.value).concat(h||""))]},"tick-".concat(C.value,"-").concat(C.coordinate,"-").concat(C.tickCoord))});return c("g",{className:"recharts-cartesian-axis-ticks",children:S})}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,s=a.height,l=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,m=yP(f,rTe),x=h;return Yr(l)&&(x=h&&h.length>0?l(this.props):l(m)),o<=0||s<=0||!x||!x.length?null:w(In,{className:hn("recharts-cartesian-axis",u),ref:function(y){n.layerReference=y},children:[i&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),Mo.renderCallByParent(this.props)]})}}],[{key:"renderTickItem",value:function(n,a,i){var o;return Qe.isValidElement(n)?o=Qe.cloneElement(n,a):Yr(n)?o=n(a):o=c(ag,{...a,className:"recharts-cartesian-axis-tick-value",children:i}),o}}])}(A.Component);VI(_y,"displayName","CartesianAxis");VI(_y,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var dTe=["x1","y1","x2","y2","key"],fTe=["offset"];function lg(e){"@babel/helpers - typeof";return lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lg(e)}function Qq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qq(Object(r),!0).forEach(function(n){hTe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hTe(e,t,r){return t=pTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pTe(e){var t=mTe(e,"string");return lg(t)=="symbol"?t:t+""}function mTe(e,t){if(lg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function F0(){return F0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},F0.apply(this,arguments)}function ez(e,t){if(e==null)return{};var r=gTe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gTe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var vTe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,o=t.width,s=t.height,l=t.ry;return Qe.createElement("rect",{x:a,y:i,ry:l,width:o,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function qQ(e,t){var r;if(Qe.isValidElement(e))r=Qe.cloneElement(e,t);else if(Yr(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,o=t.y2,s=t.key,l=ez(t,dTe),u=Or(l,!1);u.offset;var d=ez(u,fTe);r=Qe.createElement("line",F0({},d,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:s}))}return r}function yTe(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(s,l){var u=Cs(Cs({},e),{},{x1:t,y1:s,x2:t+r,y2:s,key:"line-".concat(l),index:l});return qQ(a,u)});return Qe.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function xTe(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(s,l){var u=Cs(Cs({},e),{},{x1:s,y1:t,x2:s,y2:t+r,key:"line-".concat(l),index:l});return qQ(a,u)});return Qe.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function wTe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,o=e.height,s=e.horizontalPoints,l=e.horizontal,u=l===void 0?!0:l;if(!u||!t||!t.length)return null;var d=s.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var x=!d[m+1],g=x?a+o-h:d[m+1]-h;if(g<=0)return null;var y=m%t.length;return Qe.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:g,width:i,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return Qe.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function _Te(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,s=e.width,l=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,m){return h-m});i!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var x=!d[m+1],g=x?i+s-h:d[m+1]-h;if(g<=0)return null;var y=m%n.length;return Qe.createElement("rect",{key:"react-".concat(m),x:h,y:o,width:g,height:l,stroke:"none",fill:n[y],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return Qe.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var bTe=function(t,r){var n=t.xAxis,a=t.width,i=t.height,o=t.offset;return zJ(WI(Cs(Cs(Cs({},_y.defaultProps),n),{},{ticks:lh(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},STe=function(t,r){var n=t.yAxis,a=t.width,i=t.height,o=t.offset;return zJ(WI(Cs(Cs(Cs({},_y.defaultProps),n),{},{ticks:lh(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},Pv={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function HI(e){var t,r,n,a,i,o,s=BI(),l=UI(),u=uPe(),d=Cs(Cs({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Pv.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Pv.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Pv.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Pv.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Pv.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Pv.verticalFill,x:Gt(e.x)?e.x:u.left,y:Gt(e.y)?e.y:u.top,width:Gt(e.width)?e.width:u.width,height:Gt(e.height)?e.height:u.height}),f=d.x,h=d.y,m=d.width,x=d.height,g=d.syncWithTicks,y=d.horizontalValues,_=d.verticalValues,b=sPe(),S=lPe();if(!Gt(m)||m<=0||!Gt(x)||x<=0||!Gt(f)||f!==+f||!Gt(h)||h!==+h)return null;var C=d.verticalCoordinatesGenerator||bTe,E=d.horizontalCoordinatesGenerator||STe,O=d.horizontalPoints,P=d.verticalPoints;if((!O||!O.length)&&Yr(E)){var I=y&&y.length,L=E({yAxis:S?Cs(Cs({},S),{},{ticks:I?y:S.ticks}):void 0,width:s,height:l,offset:u},I?!0:g);Vu(Array.isArray(L),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(lg(L),"]")),Array.isArray(L)&&(O=L)}if((!P||!P.length)&&Yr(C)){var U=_&&_.length,T=C({xAxis:b?Cs(Cs({},b),{},{ticks:U?_:b.ticks}):void 0,width:s,height:l,offset:u},U?!0:g);Vu(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(lg(T),"]")),Array.isArray(T)&&(P=T)}return Qe.createElement("g",{className:"recharts-cartesian-grid"},Qe.createElement(vTe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),Qe.createElement(yTe,F0({},d,{offset:u,horizontalPoints:O,xAxis:b,yAxis:S})),Qe.createElement(xTe,F0({},d,{offset:u,verticalPoints:P,xAxis:b,yAxis:S})),Qe.createElement(wTe,F0({},d,{horizontalPoints:O})),Qe.createElement(_Te,F0({},d,{verticalPoints:P})))}HI.displayName="CartesianGrid";var ATe=["type","layout","connectNulls","ref"],kTe=["key"];function q1(e){"@babel/helpers - typeof";return q1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q1(e)}function tz(e,t){if(e==null)return{};var r=NTe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function NTe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function rz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rz(Object(r),!0).forEach(function(n){Lu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tv(e){return TTe(e)||PTe(e)||CTe(e)||ETe()}function ETe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CTe(e,t){if(e){if(typeof e=="string")return EO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EO(e,t)}}function PTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function TTe(e){if(Array.isArray(e))return EO(e)}function EO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function OTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nz(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WQ(n.key),n)}}function DTe(e,t,r){return t&&nz(e.prototype,t),r&&nz(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ITe(e,t,r){return t=hS(t),RTe(e,zQ()?Reflect.construct(t,r||[],hS(e).constructor):t.apply(e,r))}function RTe(e,t){if(t&&(q1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MTe(e)}function MTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zQ=function(){return!!e})()}function hS(e){return hS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hS(e)}function FTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CO(e,t)}function CO(e,t){return CO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},CO(e,t)}function Lu(e,t,r){return t=WQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WQ(e){var t=LTe(e,"string");return q1(t)=="symbol"?t:t+""}function LTe(e,t){if(q1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(q1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var fm=function(e){function t(){var r;OTe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=ITe(this,t,[].concat(a)),Lu(r,"state",{isAnimationFinished:!0,totalLength:0}),Lu(r,"generateSimpleStrokeDasharray",function(o,s){return"".concat(s,"px ").concat(o-s,"px")}),Lu(r,"getStrokeDasharray",function(o,s,l){var u=l.reduce(function(_,b){return _+b});if(!u)return r.generateSimpleStrokeDasharray(s,o);for(var d=Math.floor(o/u),f=o%u,h=s-o,m=[],x=0,g=0;x<l.length;g+=l[x],++x)if(g+l[x]>f){m=[].concat(Tv(l.slice(0,x)),[f-g]);break}var y=m.length%2===0?[0,h]:[h];return[].concat(Tv(t.repeat(l,d)),Tv(m),y).map(function(_){return"".concat(_,"px")}).join(", ")}),Lu(r,"id",Cg("recharts-line-")),Lu(r,"pathRef",function(o){r.mainCurve=o}),Lu(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Lu(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return FTe(t,e),DTe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,s=i.xAxis,l=i.yAxis,u=i.layout,d=i.children,f=mc(d,Vw);if(!f)return null;var h=function(g,y){return{x:g.x,y:g.y,value:g.value,errorVal:Wi(g.payload,y)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return c(In,{...m,children:f.map(function(x){return Qe.cloneElement(x,{key:"bar-".concat(x.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,dataPointFormatter:h})})})}},{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,u=s.points,d=s.dataKey,f=Or(this.props,!1),h=Or(l,!0),m=u.map(function(g,y){var _=Jl(Jl(Jl({key:"dot-".concat(y),r:3},f),h),{},{index:y,cx:g.x,cy:g.y,value:g.value,dataKey:d,payload:g.payload,points:u});return t.renderDotItem(l,_)}),x={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return c(In,{className:"recharts-line-dots",...x,children:m},"dots")}},{key:"renderCurveStatically",value:function(n,a,i,o){var s=this.props,l=s.type,u=s.layout,d=s.connectNulls;s.ref;var f=tz(s,ATe),h=Jl(Jl(Jl({},Or(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:l,layout:u,connectNulls:d});return c(W0,{...h,pathRef:this.pathRef})}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,o=this.props,s=o.points,l=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,x=o.animateNewValues,g=o.width,y=o.height,_=this.state,b=_.prevPoints,S=_.totalLength;return c(Qu,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart,children:function(C){var E=C.t;if(b){var O=b.length/s.length,P=s.map(function(F,j){var H=Math.floor(j*O);if(b[H]){var X=b[H],re=go(X.x,F.x),z=go(X.y,F.y);return Jl(Jl({},F),{},{x:re(E),y:z(E)})}if(x){var G=go(g*2,F.x),q=go(y/2,F.y);return Jl(Jl({},F),{},{x:G(E),y:q(E)})}return Jl(Jl({},F),{},{x:F.x,y:F.y})});return i.renderCurveStatically(P,n,a)}var I=go(0,S),L=I(E),U;if(l){var T="".concat(l).split(/[,\s]+/gim).map(function(F){return parseFloat(F)});U=i.getStrokeDasharray(L,S,T)}else U=i.generateSimpleStrokeDasharray(S,L);return i.renderCurveStatically(s,n,a,{strokeDasharray:U})}},"line-".concat(m))}},{key:"renderCurve",value:function(n,a){var i=this.props,o=i.points,s=i.isAnimationActive,l=this.state,u=l.prevPoints,d=l.totalLength;return s&&o&&o.length&&(!u&&d>0||!ig(u,o))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(o,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,s=a.points,l=a.className,u=a.xAxis,d=a.yAxis,f=a.top,h=a.left,m=a.width,x=a.height,g=a.isAnimationActive,y=a.id;if(i||!s||!s.length)return null;var _=this.state.isAnimationFinished,b=s.length===1,S=hn("recharts-line",l),C=u&&u.allowDataOverflow,E=d&&d.allowDataOverflow,O=C||E,P=fn(y)?this.id:y,I=(n=Or(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},L=I.r,U=L===void 0?3:L,T=I.strokeWidth,F=T===void 0?2:T,j=VX(o)?o:{},H=j.clipDot,X=H===void 0?!0:H,re=U*2+F;return w(In,{className:S,children:[C||E?w("defs",{children:[c("clipPath",{id:"clipPath-".concat(P),children:c("rect",{x:C?h:h-m/2,y:E?f:f-x/2,width:C?m:m*2,height:E?x:x*2})}),!X&&c("clipPath",{id:"clipPath-dots-".concat(P),children:c("rect",{x:h-re/2,y:f-re/2,width:m+re,height:x+re})})]}):null,!b&&this.renderCurve(O,P),this.renderErrorBar(O,P),(b||o)&&this.renderDots(O,X,P),(!g||_)&&tf.renderCallByParent(this.props,s)]})}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(Tv(n),[0]):n,o=[],s=0;s<a;++s)o=[].concat(Tv(o),Tv(i));return o}},{key:"renderDotItem",value:function(n,a){var i;if(Qe.isValidElement(n))i=Qe.cloneElement(n,a);else if(Yr(n))i=n(a);else{var o=a.key,s=tz(a,kTe),l=hn("recharts-line-dot",typeof n!="boolean"?n.className:"");i=c(Hw,{...s,className:l},o)}return i}}])}(A.PureComponent);Lu(fm,"displayName","Line");Lu(fm,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Dm.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Lu(fm,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,s=e.bandSize,l=e.displayedData,u=e.offset,d=t.layout,f=l.map(function(h,m){var x=Wi(h,o);return d==="horizontal"?{x:K5({axis:r,ticks:a,bandSize:s,entry:h,index:m}),y:fn(x)?null:n.scale(x),value:x,payload:h}:{x:fn(x)?null:r.scale(x),y:K5({axis:n,ticks:i,bandSize:s,entry:h,index:m}),value:x,payload:h}});return Jl({points:f,layout:d},u)});var jTe=["layout","type","stroke","connectNulls","isRange","ref"],$Te=["key"],VQ;function z1(e){"@babel/helpers - typeof";return z1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z1(e)}function HQ(e,t){if(e==null)return{};var r=BTe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function BTe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function az(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?az(Object(r),!0).forEach(function(n){Yd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):az(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iz(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YQ(n.key),n)}}function qTe(e,t,r){return t&&iz(e.prototype,t),r&&iz(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function zTe(e,t,r){return t=pS(t),WTe(e,GQ()?Reflect.construct(t,r||[],pS(e).constructor):t.apply(e,r))}function WTe(e,t){if(t&&(z1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VTe(e)}function VTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GQ=function(){return!!e})()}function pS(e){return pS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pS(e)}function HTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PO(e,t)}function PO(e,t){return PO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},PO(e,t)}function Yd(e,t,r){return t=YQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YQ(e){var t=GTe(e,"string");return z1(t)=="symbol"?t:t+""}function GTe(e,t){if(z1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(z1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ih=function(e){function t(){var r;UTe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=zTe(this,t,[].concat(a)),Yd(r,"state",{isAnimationFinished:!0}),Yd(r,"id",Cg("recharts-area-")),Yd(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Yr(o)&&o()}),Yd(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Yr(o)&&o()}),r}return HTe(t,e),qTe(t,[{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(o&&!s)return null;var l=this.props,u=l.dot,d=l.points,f=l.dataKey,h=Or(this.props,!1),m=Or(u,!0),x=d.map(function(y,_){var b=Bp(Bp(Bp({key:"dot-".concat(_),r:3},h),m),{},{index:_,cx:y.x,cy:y.y,dataKey:f,value:y.value,payload:y.payload,points:d});return t.renderDotItem(u,b)}),g={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return c(In,{className:"recharts-area-dots",...g,children:x})}},{key:"renderHorizontalRect",value:function(n){var a=this.props,i=a.baseLine,o=a.points,s=a.strokeWidth,l=o[0].x,u=o[o.length-1].x,d=n*Math.abs(l-u),f=Yp(o.map(function(h){return h.y||0}));return Gt(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(Yp(i.map(function(h){return h.y||0})),f)),Gt(f)?c("rect",{x:l<u?l:l-d,y:0,width:d,height:Math.floor(f+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,i=a.baseLine,o=a.points,s=a.strokeWidth,l=o[0].y,u=o[o.length-1].y,d=n*Math.abs(l-u),f=Yp(o.map(function(h){return h.x||0}));return Gt(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(Yp(i.map(function(h){return h.x||0})),f)),Gt(f)?c("rect",{x:0,y:l<u?l:l-d,width:f+(s?parseInt("".concat(s),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,i,o){var s=this.props,l=s.layout,u=s.type,d=s.stroke,f=s.connectNulls,h=s.isRange;s.ref;var m=HQ(s,jTe);return w(In,{clipPath:i?"url(#clipPath-".concat(o,")"):null,children:[c(W0,{...Or(m,!0),points:n,connectNulls:f,type:u,baseLine:a,layout:l,stroke:"none",className:"recharts-area-area"}),d!=="none"&&c(W0,{...Or(this.props,!1),className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:n}),d!=="none"&&h&&c(W0,{...Or(this.props,!1),className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:a})]})}},{key:"renderAreaWithAnimation",value:function(n,a){var i=this,o=this.props,s=o.points,l=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,x=this.state,g=x.prevPoints,y=x.prevBaseLine;return c(Qu,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart,children:function(_){var b=_.t;if(g){var S=g.length/s.length,C=s.map(function(I,L){var U=Math.floor(L*S);if(g[U]){var T=g[U],F=go(T.x,I.x),j=go(T.y,I.y);return Bp(Bp({},I),{},{x:F(b),y:j(b)})}return I}),E;if(Gt(l)&&typeof l=="number"){var O=go(y,l);E=O(b)}else if(fn(l)||gy(l)){var P=go(y,0);E=P(b)}else E=l.map(function(I,L){var U=Math.floor(L*S);if(y[U]){var T=y[U],F=go(T.x,I.x),j=go(T.y,I.y);return Bp(Bp({},I),{},{x:F(b),y:j(b)})}return I});return i.renderAreaStatically(C,E,n,a)}return w(In,{children:[c("defs",{children:c("clipPath",{id:"animationClipPath-".concat(a),children:i.renderClipRect(b)})}),c(In,{clipPath:"url(#animationClipPath-".concat(a,")"),children:i.renderAreaStatically(s,l,n,a)})]})}},"area-".concat(m))}},{key:"renderArea",value:function(n,a){var i=this.props,o=i.points,s=i.baseLine,l=i.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return l&&o&&o.length&&(!d&&h>0||!ig(d,o)||!ig(f,s))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(o,s,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,s=a.points,l=a.className,u=a.top,d=a.left,f=a.xAxis,h=a.yAxis,m=a.width,x=a.height,g=a.isAnimationActive,y=a.id;if(i||!s||!s.length)return null;var _=this.state.isAnimationFinished,b=s.length===1,S=hn("recharts-area",l),C=f&&f.allowDataOverflow,E=h&&h.allowDataOverflow,O=C||E,P=fn(y)?this.id:y,I=(n=Or(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},L=I.r,U=L===void 0?3:L,T=I.strokeWidth,F=T===void 0?2:T,j=VX(o)?o:{},H=j.clipDot,X=H===void 0?!0:H,re=U*2+F;return w(In,{className:S,children:[C||E?w("defs",{children:[c("clipPath",{id:"clipPath-".concat(P),children:c("rect",{x:C?d:d-m/2,y:E?u:u-x/2,width:C?m:m*2,height:E?x:x*2})}),!X&&c("clipPath",{id:"clipPath-dots-".concat(P),children:c("rect",{x:d-re/2,y:u-re/2,width:m+re,height:x+re})})]}):null,b?null:this.renderArea(O,P),(o||b)&&this.renderDots(O,X,P),(!g||_)&&tf.renderCallByParent(this.props,s)]})}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(A.PureComponent);VQ=Ih;Yd(Ih,"displayName","Area");Yd(Ih,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Dm.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Yd(Ih,"getBaseValue",function(e,t,r,n){var a=e.layout,i=e.baseValue,o=t.props.baseValue,s=o??i;if(Gt(s)&&typeof s=="number")return s;var l=a==="horizontal"?n:r,u=l.scale.domain();if(l.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return s==="dataMin"?f:s==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return s==="dataMin"?u[0]:s==="dataMax"?u[1]:u[0]});Yd(Ih,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,s=e.bandSize,l=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=t.layout,x=u&&u.length,g=VQ.getBaseValue(t,r,n,a),y=m==="horizontal",_=!1,b=f.map(function(C,E){var O;x?O=u[d+E]:(O=Wi(C,l),Array.isArray(O)?_=!0:O=[g,O]);var P=O[1]==null||x&&Wi(C,l)==null;return y?{x:K5({axis:n,ticks:i,bandSize:s,entry:C,index:E}),y:P?null:a.scale(O[1]),value:O,payload:C}:{x:P?null:n.scale(O[1]),y:K5({axis:a,ticks:o,bandSize:s,entry:C,index:E}),value:O,payload:C}}),S;return x||_?S=b.map(function(C){var E=Array.isArray(C.value)?C.value[0]:null;return y?{x:C.x,y:E!=null&&C.y!=null?a.scale(E):null}:{x:E!=null?n.scale(E):null,y:C.y}}):S=y?a.scale(g):n.scale(g),Bp({points:b,baseLine:S,layout:m,isRange:_},h)});Yd(Ih,"renderDotItem",function(e,t){var r;if(Qe.isValidElement(e))r=Qe.cloneElement(e,t);else if(Yr(e))r=e(t);else{var n=hn("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,i=HQ(t,$Te);r=A.createElement(Hw,{...i,key:a,className:n})}return r});function W1(e){"@babel/helpers - typeof";return W1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W1(e)}function YTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KTe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ZQ(n.key),n)}}function XTe(e,t,r){return t&&KTe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZTe(e,t,r){return t=mS(t),JTe(e,KQ()?Reflect.construct(t,r||[],mS(e).constructor):t.apply(e,r))}function JTe(e,t){if(t&&(W1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QTe(e)}function QTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KQ=function(){return!!e})()}function mS(e){return mS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mS(e)}function e6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TO(e,t)}function TO(e,t){return TO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},TO(e,t)}function XQ(e,t,r){return t=ZQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZQ(e){var t=t6e(e,"string");return W1(t)=="symbol"?t:t+""}function t6e(e,t){if(W1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(W1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function OO(){return OO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},OO.apply(this,arguments)}function r6e(e){var t=e.xAxisId,r=BI(),n=UI(),a=OQ(t);return a==null?null:Qe.createElement(_y,OO({},a,{className:hn("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return lh(o,!0)}}))}var Ol=function(e){function t(){return YTe(this,t),ZTe(this,t,arguments)}return e6e(t,e),XTe(t,[{key:"render",value:function(){return Qe.createElement(r6e,this.props)}}])}(Qe.Component);XQ(Ol,"displayName","XAxis");XQ(Ol,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function V1(e){"@babel/helpers - typeof";return V1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V1(e)}function n6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a6e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eee(n.key),n)}}function i6e(e,t,r){return t&&a6e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function o6e(e,t,r){return t=gS(t),s6e(e,JQ()?Reflect.construct(t,r||[],gS(e).constructor):t.apply(e,r))}function s6e(e,t){if(t&&(V1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l6e(e)}function l6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JQ=function(){return!!e})()}function gS(e){return gS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gS(e)}function c6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&DO(e,t)}function DO(e,t){return DO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},DO(e,t)}function QQ(e,t,r){return t=eee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eee(e){var t=u6e(e,"string");return V1(t)=="symbol"?t:t+""}function u6e(e,t){if(V1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(V1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function IO(){return IO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},IO.apply(this,arguments)}var d6e=function(t){var r=t.yAxisId,n=BI(),a=UI(),i=DQ(r);return i==null?null:Qe.createElement(_y,IO({},i,{className:hn("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(s){return lh(s,!0)}}))},Dl=function(e){function t(){return n6e(this,t),o6e(this,t,arguments)}return c6e(t,e),i6e(t,[{key:"render",value:function(){return Qe.createElement(d6e,this.props)}}])}(Qe.Component);QQ(Dl,"displayName","YAxis");QQ(Dl,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function oz(e){return m6e(e)||p6e(e)||h6e(e)||f6e()}function f6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h6e(e,t){if(e){if(typeof e=="string")return RO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RO(e,t)}}function p6e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function m6e(e){if(Array.isArray(e))return RO(e)}function RO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var MO=function(t,r,n,a,i){var o=mc(t,zI),s=mc(t,d3),l=[].concat(oz(o),oz(s)),u=mc(t,h3),d="".concat(a,"Id"),f=a[0],h=r;if(l.length&&(h=l.reduce(function(g,y){if(y.props[d]===n&&rf(y.props,"extendDomain")&&Gt(y.props[f])){var _=y.props[f];return[Math.min(g[0],_),Math.max(g[1],_)]}return g},h)),u.length){var m="".concat(f,"1"),x="".concat(f,"2");h=u.reduce(function(g,y){if(y.props[d]===n&&rf(y.props,"extendDomain")&&Gt(y.props[m])&&Gt(y.props[x])){var _=y.props[m],b=y.props[x];return[Math.min(g[0],_,b),Math.max(g[1],_,b)]}return g},h)}return i&&i.length&&(h=i.reduce(function(g,y){return Gt(y)?[Math.min(g[0],y),Math.max(g[1],y)]:g},h)),h},xP={exports:{}},sz;function g6e(){return sz||(sz=1,function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function i(l,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||l,h),x=r?r+u:u;return l._events[x]?l._events[x].fn?l._events[x]=[l._events[x],m]:l._events[x].push(m):(l._events[x]=m,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},s.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,x=new Array(m);h<m;h++)x[h]=f[h].fn;return x},s.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,d,f,h,m,x){var g=r?r+u:u;if(!this._events[g])return!1;var y=this._events[g],_=arguments.length,b,S;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),_){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,h),!0;case 5:return y.fn.call(y.context,d,f,h,m),!0;case 6:return y.fn.call(y.context,d,f,h,m,x),!0}for(S=1,b=new Array(_-1);S<_;S++)b[S-1]=arguments[S];y.fn.apply(y.context,b)}else{var C=y.length,E;for(S=0;S<C;S++)switch(y[S].once&&this.removeListener(u,y[S].fn,void 0,!0),_){case 1:y[S].fn.call(y[S].context);break;case 2:y[S].fn.call(y[S].context,d);break;case 3:y[S].fn.call(y[S].context,d,f);break;case 4:y[S].fn.call(y[S].context,d,f,h);break;default:if(!b)for(E=1,b=new Array(_-1);E<_;E++)b[E-1]=arguments[E];y[S].fn.apply(y[S].context,b)}}return!0},s.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},s.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},s.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var x=this._events[m];if(x.fn)x.fn===d&&(!h||x.once)&&(!f||x.context===f)&&o(this,m);else{for(var g=0,y=[],_=x.length;g<_;g++)(x[g].fn!==d||h&&!x[g].once||f&&x[g].context!==f)&&y.push(x[g]);y.length?this._events[m]=y.length===1?y[0]:y:o(this,m)}return this},s.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s}(xP)),xP.exports}var v6e=g6e();const y6e=ia(v6e);var wP=new y6e,_P="recharts.syncMouseEvents";function Vx(e){"@babel/helpers - typeof";return Vx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vx(e)}function x6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w6e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tee(n.key),n)}}function _6e(e,t,r){return t&&w6e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bP(e,t,r){return t=tee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tee(e){var t=b6e(e,"string");return Vx(t)=="symbol"?t:t+""}function b6e(e,t){if(Vx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var S6e=function(){function e(){x6e(this,e),bP(this,"activeIndex",0),bP(this,"coordinateList",[]),bP(this,"layout","horizontal")}return _6e(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,s=o===void 0?null:o,l=r.layout,u=l===void 0?null:l,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,s=a.height,l=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+l+u,h=o+this.offset.top+s/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function A6e(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&Gt(n)&&Gt(a))return!0}return!1}function k6e(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function ree(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,o=ja(t,r,n,a),s=ja(t,r,n,i);return{points:[o,s],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function N6e(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var s=t.cx,l=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=ja(s,l,u,f),m=ja(s,l,d,f);n=h.x,a=h.y,i=m.x,o=m.y}else return ree(t);return[{x:n,y:a},{x:i,y:o}]}function Hx(e){"@babel/helpers - typeof";return Hx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hx(e)}function lz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lz(Object(r),!0).forEach(function(n){E6e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function E6e(e,t,r){return t=C6e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C6e(e){var t=P6e(e,"string");return Hx(t)=="symbol"?t:t+""}function P6e(e,t){if(Hx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function T6e(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,s=e.activePayload,l=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!i||!o||h!=="ScatterChart"&&a!=="axis")return null;var x,g=W0;if(h==="ScatterChart")x=o,g=UNe;else if(h==="BarChart")x=k6e(f,o,l,d),g=MI;else if(f==="radial"){var y=ree(o),_=y.cx,b=y.cy,S=y.radius,C=y.startAngle,E=y.endAngle;x={cx:_,cy:b,startAngle:C,endAngle:E,innerRadius:S,outerRadius:S},g=eQ}else x={points:N6e(f,o,l)},g=W0;var O=xb(xb(xb(xb({stroke:"#ccc",pointerEvents:"none"},l),x),Or(m,!1)),{},{payload:s,payloadIndex:u,className:hn("recharts-tooltip-cursor",m.className)});return A.isValidElement(m)?A.cloneElement(m,O):A.createElement(g,O)}var O6e=["item"],D6e=["children","className","width","height","style","compact","title","desc"];function H1(e){"@babel/helpers - typeof";return H1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H1(e)}function cz(e,t){return M6e(e)||R6e(e,t)||aee(e,t)||I6e()}function I6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R6e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function M6e(e){if(Array.isArray(e))return e}function uz(e,t){if(e==null)return{};var r=F6e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function F6e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function L6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j6e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iee(n.key),n)}}function $6e(e,t,r){return t&&j6e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function B6e(e,t,r){return t=vS(t),U6e(e,nee()?Reflect.construct(t,r||[],vS(e).constructor):t.apply(e,r))}function U6e(e,t){if(t&&(H1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q6e(e)}function q6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nee(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nee=function(){return!!e})()}function vS(e){return vS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vS(e)}function z6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FO(e,t)}function FO(e,t){return FO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},FO(e,t)}function G1(e){return H6e(e)||V6e(e)||aee(e)||W6e()}function W6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aee(e,t){if(e){if(typeof e=="string")return LO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LO(e,t)}}function V6e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function H6e(e){if(Array.isArray(e))return LO(e)}function LO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dz(Object(r),!0).forEach(function(n){Hr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hr(e,t,r){return t=iee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iee(e){var t=G6e(e,"string");return H1(t)=="symbol"?t:t+""}function G6e(e,t){if(H1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(H1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Y6e={xAxis:["bottom","top"],yAxis:["left","right"]},K6e={width:"100%",height:"100%"},oee={x:0,y:0};function wb(e){return e}var X6e=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},Z6e=function(t,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,s=a.radius;return Tt(Tt(Tt({},a),ja(a.cx,a.cy,s,o)),{},{angle:o,radius:s})}var l=i.coordinate,u=a.angle;return Tt(Tt(Tt({},a),ja(a.cx,a.cy,l,u)),{},{angle:u,radius:l})}return oee},p3=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(G1(s),G1(u)):s},[]);return o.length>0?o:t&&t.length&&Gt(a)&&Gt(i)?t.slice(a,i+1):[]};function see(e){return e==="number"?[0,"auto"]:void 0}var jO=function(t,r,n,a){var i=t.graphicalItems,o=t.tooltipAxis,s=p3(r,t);return n<0||!i||!i.length||n>=s.length?null:i.reduce(function(l,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var m=f===void 0?s:f;h=A5(m,o.dataKey,a)}else h=f&&f[n]||s[n];return h?[].concat(G1(l),[YJ(u,h)]):l},[])},fz=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},o=X6e(i,n),s=t.orderedTooltipTicks,l=t.tooltipAxis,u=t.tooltipTicks,d=f3e(o,s,u,l);if(d>=0&&u){var f=u[d]&&u[d].value,h=jO(t,r,d,f),m=Z6e(n,s,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},J6e=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,m=qJ(d,i);return n.reduce(function(x,g){var y,_=g.type.defaultProps!==void 0?Tt(Tt({},g.type.defaultProps),g.props):g.props,b=_.type,S=_.dataKey,C=_.allowDataOverflow,E=_.allowDuplicatedCategory,O=_.scale,P=_.ticks,I=_.includeHidden,L=_[o];if(x[L])return x;var U=p3(t.data,{graphicalItems:a.filter(function(D){var Y,Q=o in D.props?D.props[o]:(Y=D.type.defaultProps)===null||Y===void 0?void 0:Y[o];return Q===L}),dataStartIndex:l,dataEndIndex:u}),T=U.length,F,j,H;A6e(_.domain,C,b)&&(F=Z6(_.domain,null,C),m&&(b==="number"||O!=="auto")&&(H=B2(U,S,"category")));var X=see(b);if(!F||F.length===0){var re,z=(re=_.domain)!==null&&re!==void 0?re:X;if(S){if(F=B2(U,S,b),b==="category"&&m){var G=o2e(F);E&&G?(j=F,F=iS(0,T)):E||(F=uU(z,F,g).reduce(function(D,Y){return D.indexOf(Y)>=0?D:[].concat(G1(D),[Y])},[]))}else if(b==="category")E?F=F.filter(function(D){return D!==""&&!fn(D)}):F=uU(z,F,g).reduce(function(D,Y){return D.indexOf(Y)>=0||Y===""||fn(Y)?D:[].concat(G1(D),[Y])},[]);else if(b==="number"){var q=v3e(U,a.filter(function(D){var Y,Q,ie=o in D.props?D.props[o]:(Y=D.type.defaultProps)===null||Y===void 0?void 0:Y[o],se="hide"in D.props?D.props.hide:(Q=D.type.defaultProps)===null||Q===void 0?void 0:Q.hide;return ie===L&&(I||!se)}),S,i,d);q&&(F=q)}m&&(b==="number"||O!=="auto")&&(H=B2(U,S,"category"))}else m?F=iS(0,T):s&&s[L]&&s[L].hasStack&&b==="number"?F=h==="expand"?[0,1]:GJ(s[L].stackGroups,l,u):F=UJ(U,a.filter(function(D){var Y=o in D.props?D.props[o]:D.type.defaultProps[o],Q="hide"in D.props?D.props.hide:D.type.defaultProps.hide;return Y===L&&(I||!Q)}),b,d,!0);if(b==="number")F=MO(f,F,L,i,P),z&&(F=Z6(z,F,C));else if(b==="category"&&z){var K=z,J=F.every(function(D){return K.indexOf(D)>=0});J&&(F=K)}}return Tt(Tt({},x),{},Hr({},L,Tt(Tt({},_),{},{axisType:i,domain:F,categoricalDomain:H,duplicateDomain:j,originalDomain:(y=_.domain)!==null&&y!==void 0?y:X,isCategorical:m,layout:d})))},{})},Q6e=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=p3(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:u}),m=h.length,x=qJ(d,i),g=-1;return n.reduce(function(y,_){var b=_.type.defaultProps!==void 0?Tt(Tt({},_.type.defaultProps),_.props):_.props,S=b[o],C=see("number");if(!y[S]){g++;var E;return x?E=iS(0,m):s&&s[S]&&s[S].hasStack?(E=GJ(s[S].stackGroups,l,u),E=MO(f,E,S,i)):(E=Z6(C,UJ(h,n.filter(function(O){var P,I,L=o in O.props?O.props[o]:(P=O.type.defaultProps)===null||P===void 0?void 0:P[o],U="hide"in O.props?O.props.hide:(I=O.type.defaultProps)===null||I===void 0?void 0:I.hide;return L===S&&!U}),"number",d),a.defaultProps.allowDataOverflow),E=MO(f,E,S,i)),Tt(Tt({},y),{},Hr({},S,Tt(Tt({axisType:i},a.defaultProps),{},{hide:!0,orientation:pc(Y6e,"".concat(i,".").concat(g%2),null),domain:E,originalDomain:C,isCategorical:x,layout:d})))}return y},{})},eOe=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=mc(d,i),m={};return h&&h.length?m=J6e(t,{axes:h,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):o&&o.length&&(m=Q6e(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),m},tOe=function(t){var r=Hp(t),n=lh(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:lI(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:X5(r,n)}},hz=function(t){var r=t.children,n=t.defaultShowTooltip,a=tc(r,F1),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},rOe=function(t){return!t||!t.length?!1:t.some(function(r){var n=dh(r&&r.type);return n&&n.indexOf("Bar")>=0})},pz=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},nOe=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,s=t.yAxisMap,l=s===void 0?{}:s,u=n.width,d=n.height,f=n.children,h=n.margin||{},m=tc(f,F1),x=tc(f,Hu),g=Object.keys(l).reduce(function(E,O){var P=l[O],I=P.orientation;return!P.mirror&&!P.hide?Tt(Tt({},E),{},Hr({},I,E[I]+P.width)):E},{left:h.left||0,right:h.right||0}),y=Object.keys(o).reduce(function(E,O){var P=o[O],I=P.orientation;return!P.mirror&&!P.hide?Tt(Tt({},E),{},Hr({},I,pc(E,"".concat(I))+P.height)):E},{top:h.top||0,bottom:h.bottom||0}),_=Tt(Tt({},y),g),b=_.bottom;m&&(_.bottom+=m.props.height||F1.defaultProps.height),x&&r&&(_=m3e(_,a,n,r));var S=u-_.left-_.right,C=d-_.top-_.bottom;return Tt(Tt({brushBottom:b},_),{},{width:Math.max(S,0),height:Math.max(C,0)})},aOe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},m3=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(_,b){var S=b.graphicalItems,C=b.stackGroups,E=b.offset,O=b.updateId,P=b.dataStartIndex,I=b.dataEndIndex,L=_.barSize,U=_.layout,T=_.barGap,F=_.barCategoryGap,j=_.maxBarSize,H=pz(U),X=H.numericAxisName,re=H.cateAxisName,z=rOe(S),G=[];return S.forEach(function(q,K){var J=p3(_.data,{graphicalItems:[q],dataStartIndex:P,dataEndIndex:I}),D=q.type.defaultProps!==void 0?Tt(Tt({},q.type.defaultProps),q.props):q.props,Y=D.dataKey,Q=D.maxBarSize,ie=D["".concat(X,"Id")],se=D["".concat(re,"Id")],te={},de=l.reduce(function(ft,_e){var Ce=b["".concat(_e.axisType,"Map")],ze=D["".concat(_e.axisType,"Id")];Ce&&Ce[ze]||_e.axisType==="zAxis"||sg();var gt=Ce[ze];return Tt(Tt({},ft),{},Hr(Hr({},_e.axisType,gt),"".concat(_e.axisType,"Ticks"),lh(gt)))},te),Z=de[re],ce=de["".concat(re,"Ticks")],oe=C&&C[ie]&&C[ie].hasStack&&N3e(q,C[ie].stackGroups),ae=dh(q.type).indexOf("Bar")>=0,Ne=X5(Z,ce),Ie=[],Te=z&&h3e({barSize:L,stackGroups:C,totalSize:aOe(de,re)});if(ae){var he,Ge,mt=fn(Q)?j:Q,ht=(he=(Ge=X5(Z,ce,!0))!==null&&Ge!==void 0?Ge:mt)!==null&&he!==void 0?he:0;Ie=p3e({barGap:T,barCategoryGap:F,bandSize:ht!==Ne?ht:Ne,sizeList:Te[se],maxBarSize:mt}),ht!==Ne&&(Ie=Ie.map(function(ft){return Tt(Tt({},ft),{},{position:Tt(Tt({},ft.position),{},{offset:ft.position.offset-ht/2})})}))}var Pt=q&&q.type&&q.type.getComposedData;Pt&&G.push({props:Tt(Tt({},Pt(Tt(Tt({},de),{},{displayedData:J,props:_,dataKey:Y,item:q,bandSize:Ne,barPosition:Ie,offset:E,stackedData:oe,layout:U,dataStartIndex:P,dataEndIndex:I}))),{},Hr(Hr(Hr({key:q.key||"item-".concat(K)},X,de[X]),re,de[re]),"animationId",O)),childIndex:y2e(q,_.children),item:q})}),G},m=function(_,b){var S=_.props,C=_.dataStartIndex,E=_.dataEndIndex,O=_.updateId;if(!k9({props:S}))return null;var P=S.children,I=S.layout,L=S.stackOffset,U=S.data,T=S.reverseStackOrder,F=pz(I),j=F.numericAxisName,H=F.cateAxisName,X=mc(P,n),re=A3e(U,X,"".concat(j,"Id"),"".concat(H,"Id"),L,T),z=l.reduce(function(D,Y){var Q="".concat(Y.axisType,"Map");return Tt(Tt({},D),{},Hr({},Q,eOe(S,Tt(Tt({},Y),{},{graphicalItems:X,stackGroups:Y.axisType===j&&re,dataStartIndex:C,dataEndIndex:E}))))},{}),G=nOe(Tt(Tt({},z),{},{props:S,graphicalItems:X}),b==null?void 0:b.legendBBox);Object.keys(z).forEach(function(D){z[D]=d(S,z[D],G,D.replace("Map",""),r)});var q=z["".concat(H,"Map")],K=tOe(q),J=h(S,Tt(Tt({},z),{},{dataStartIndex:C,dataEndIndex:E,updateId:O,graphicalItems:X,stackGroups:re,offset:G}));return Tt(Tt({formattedGraphicalItems:J,graphicalItems:X,offset:G,stackGroups:re},K),z)},x=function(y){function _(b){var S,C,E;return L6e(this,_),E=B6e(this,_,[b]),Hr(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Hr(E,"accessibilityManager",new S6e),Hr(E,"handleLegendBBoxUpdate",function(O){if(O){var P=E.state,I=P.dataStartIndex,L=P.dataEndIndex,U=P.updateId;E.setState(Tt({legendBBox:O},m({props:E.props,dataStartIndex:I,dataEndIndex:L,updateId:U},Tt(Tt({},E.state),{},{legendBBox:O}))))}}),Hr(E,"handleReceiveSyncEvent",function(O,P,I){if(E.props.syncId===O){if(I===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(P)}}),Hr(E,"handleBrushChange",function(O){var P=O.startIndex,I=O.endIndex;if(P!==E.state.dataStartIndex||I!==E.state.dataEndIndex){var L=E.state.updateId;E.setState(function(){return Tt({dataStartIndex:P,dataEndIndex:I},m({props:E.props,dataStartIndex:P,dataEndIndex:I,updateId:L},E.state))}),E.triggerSyncEvent({dataStartIndex:P,dataEndIndex:I})}}),Hr(E,"handleMouseEnter",function(O){var P=E.getMouseInfo(O);if(P){var I=Tt(Tt({},P),{},{isTooltipActive:!0});E.setState(I),E.triggerSyncEvent(I);var L=E.props.onMouseEnter;Yr(L)&&L(I,O)}}),Hr(E,"triggeredAfterMouseMove",function(O){var P=E.getMouseInfo(O),I=P?Tt(Tt({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(I),E.triggerSyncEvent(I);var L=E.props.onMouseMove;Yr(L)&&L(I,O)}),Hr(E,"handleItemMouseEnter",function(O){E.setState(function(){return{isTooltipActive:!0,activeItem:O,activePayload:O.tooltipPayload,activeCoordinate:O.tooltipPosition||{x:O.cx,y:O.cy}}})}),Hr(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),Hr(E,"handleMouseMove",function(O){O.persist(),E.throttleTriggeredAfterMouseMove(O)}),Hr(E,"handleMouseLeave",function(O){E.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};E.setState(P),E.triggerSyncEvent(P);var I=E.props.onMouseLeave;Yr(I)&&I(P,O)}),Hr(E,"handleOuterEvent",function(O){var P=v2e(O),I=pc(E.props,"".concat(P));if(P&&Yr(I)){var L,U;/.*touch.*/i.test(P)?U=E.getMouseInfo(O.changedTouches[0]):U=E.getMouseInfo(O),I((L=U)!==null&&L!==void 0?L:{},O)}}),Hr(E,"handleClick",function(O){var P=E.getMouseInfo(O);if(P){var I=Tt(Tt({},P),{},{isTooltipActive:!0});E.setState(I),E.triggerSyncEvent(I);var L=E.props.onClick;Yr(L)&&L(I,O)}}),Hr(E,"handleMouseDown",function(O){var P=E.props.onMouseDown;if(Yr(P)){var I=E.getMouseInfo(O);P(I,O)}}),Hr(E,"handleMouseUp",function(O){var P=E.props.onMouseUp;if(Yr(P)){var I=E.getMouseInfo(O);P(I,O)}}),Hr(E,"handleTouchMove",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(O.changedTouches[0])}),Hr(E,"handleTouchStart",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&E.handleMouseDown(O.changedTouches[0])}),Hr(E,"handleTouchEnd",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&E.handleMouseUp(O.changedTouches[0])}),Hr(E,"handleDoubleClick",function(O){var P=E.props.onDoubleClick;if(Yr(P)){var I=E.getMouseInfo(O);P(I,O)}}),Hr(E,"handleContextMenu",function(O){var P=E.props.onContextMenu;if(Yr(P)){var I=E.getMouseInfo(O);P(I,O)}}),Hr(E,"triggerSyncEvent",function(O){E.props.syncId!==void 0&&wP.emit(_P,E.props.syncId,O,E.eventEmitterSymbol)}),Hr(E,"applySyncEvent",function(O){var P=E.props,I=P.layout,L=P.syncMethod,U=E.state.updateId,T=O.dataStartIndex,F=O.dataEndIndex;if(O.dataStartIndex!==void 0||O.dataEndIndex!==void 0)E.setState(Tt({dataStartIndex:T,dataEndIndex:F},m({props:E.props,dataStartIndex:T,dataEndIndex:F,updateId:U},E.state)));else if(O.activeTooltipIndex!==void 0){var j=O.chartX,H=O.chartY,X=O.activeTooltipIndex,re=E.state,z=re.offset,G=re.tooltipTicks;if(!z)return;if(typeof L=="function")X=L(G,O);else if(L==="value"){X=-1;for(var q=0;q<G.length;q++)if(G[q].value===O.activeLabel){X=q;break}}var K=Tt(Tt({},z),{},{x:z.left,y:z.top}),J=Math.min(j,K.x+K.width),D=Math.min(H,K.y+K.height),Y=G[X]&&G[X].value,Q=jO(E.state,E.props.data,X),ie=G[X]?{x:I==="horizontal"?G[X].coordinate:J,y:I==="horizontal"?D:G[X].coordinate}:oee;E.setState(Tt(Tt({},O),{},{activeLabel:Y,activeCoordinate:ie,activePayload:Q,activeTooltipIndex:X}))}else E.setState(O)}),Hr(E,"renderCursor",function(O){var P,I=E.state,L=I.isTooltipActive,U=I.activeCoordinate,T=I.activePayload,F=I.offset,j=I.activeTooltipIndex,H=I.tooltipAxisBandSize,X=E.getTooltipEventType(),re=(P=O.props.active)!==null&&P!==void 0?P:L,z=E.props.layout,G=O.key||"_recharts-cursor";return c(T6e,{activeCoordinate:U,activePayload:T,activeTooltipIndex:j,chartName:r,element:O,isActive:re,layout:z,offset:F,tooltipAxisBandSize:H,tooltipEventType:X},G)}),Hr(E,"renderPolarAxis",function(O,P,I){var L=pc(O,"type.axisType"),U=pc(E.state,"".concat(L,"Map")),T=O.type.defaultProps,F=T!==void 0?Tt(Tt({},T),O.props):O.props,j=U&&U[F["".concat(L,"Id")]];return A.cloneElement(O,Tt(Tt({},j),{},{className:hn(L,j.className),key:O.key||"".concat(P,"-").concat(I),ticks:lh(j,!0)}))}),Hr(E,"renderPolarGrid",function(O){var P=O.props,I=P.radialLines,L=P.polarAngles,U=P.polarRadius,T=E.state,F=T.radiusAxisMap,j=T.angleAxisMap,H=Hp(F),X=Hp(j),re=X.cx,z=X.cy,G=X.innerRadius,q=X.outerRadius;return A.cloneElement(O,{polarAngles:Array.isArray(L)?L:lh(X,!0).map(function(K){return K.coordinate}),polarRadius:Array.isArray(U)?U:lh(H,!0).map(function(K){return K.coordinate}),cx:re,cy:z,innerRadius:G,outerRadius:q,key:O.key||"polar-grid",radialLines:I})}),Hr(E,"renderLegend",function(){var O=E.state.formattedGraphicalItems,P=E.props,I=P.children,L=P.width,U=P.height,T=E.props.margin||{},F=L-(T.left||0)-(T.right||0),j=$J({children:I,formattedGraphicalItems:O,legendWidth:F,legendContent:u});if(!j)return null;var H=j.item,X=uz(j,O6e);return A.cloneElement(H,Tt(Tt({},X),{},{chartWidth:L,chartHeight:U,margin:T,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),Hr(E,"renderTooltip",function(){var O,P=E.props,I=P.children,L=P.accessibilityLayer,U=tc(I,Ja);if(!U)return null;var T=E.state,F=T.isTooltipActive,j=T.activeCoordinate,H=T.activePayload,X=T.activeLabel,re=T.offset,z=(O=U.props.active)!==null&&O!==void 0?O:F;return A.cloneElement(U,{viewBox:Tt(Tt({},re),{},{x:re.left,y:re.top}),active:z,label:X,payload:z?H:[],coordinate:j,accessibilityLayer:L})}),Hr(E,"renderBrush",function(O){var P=E.props,I=P.margin,L=P.data,U=E.state,T=U.offset,F=U.dataStartIndex,j=U.dataEndIndex,H=U.updateId;return A.cloneElement(O,{key:O.key||"_recharts-brush",onChange:mb(E.handleBrushChange,O.props.onChange),data:L,x:Gt(O.props.x)?O.props.x:T.left,y:Gt(O.props.y)?O.props.y:T.top+T.height+T.brushBottom-(I.bottom||0),width:Gt(O.props.width)?O.props.width:T.width,startIndex:F,endIndex:j,updateId:"brush-".concat(H)})}),Hr(E,"renderReferenceElement",function(O,P,I){if(!O)return null;var L=E,U=L.clipPathId,T=E.state,F=T.xAxisMap,j=T.yAxisMap,H=T.offset,X=O.type.defaultProps||{},re=O.props,z=re.xAxisId,G=z===void 0?X.xAxisId:z,q=re.yAxisId,K=q===void 0?X.yAxisId:q;return A.cloneElement(O,{key:O.key||"".concat(P,"-").concat(I),xAxis:F[G],yAxis:j[K],viewBox:{x:H.left,y:H.top,width:H.width,height:H.height},clipPathId:U})}),Hr(E,"renderActivePoints",function(O){var P=O.item,I=O.activePoint,L=O.basePoint,U=O.childIndex,T=O.isRange,F=[],j=P.props.key,H=P.item.type.defaultProps!==void 0?Tt(Tt({},P.item.type.defaultProps),P.item.props):P.item.props,X=H.activeDot,re=H.dataKey,z=Tt(Tt({index:U,dataKey:re,cx:I.x,cy:I.y,r:4,fill:RI(P.item),strokeWidth:2,stroke:"#fff",payload:I.payload,value:I.value},Or(X,!1)),k5(X));return F.push(_.renderActiveDot(X,z,"".concat(j,"-activePoint-").concat(U))),L?F.push(_.renderActiveDot(X,Tt(Tt({},z),{},{cx:L.x,cy:L.y}),"".concat(j,"-basePoint-").concat(U))):T&&F.push(null),F}),Hr(E,"renderGraphicChild",function(O,P,I){var L=E.filterFormatItem(O,P,I);if(!L)return null;var U=E.getTooltipEventType(),T=E.state,F=T.isTooltipActive,j=T.tooltipAxis,H=T.activeTooltipIndex,X=T.activeLabel,re=E.props.children,z=tc(re,Ja),G=L.props,q=G.points,K=G.isRange,J=G.baseLine,D=L.item.type.defaultProps!==void 0?Tt(Tt({},L.item.type.defaultProps),L.item.props):L.item.props,Y=D.activeDot,Q=D.hide,ie=D.activeBar,se=D.activeShape,te=!!(!Q&&F&&z&&(Y||ie||se)),de={};U!=="axis"&&z&&z.props.trigger==="click"?de={onClick:mb(E.handleItemMouseEnter,O.props.onClick)}:U!=="axis"&&(de={onMouseLeave:mb(E.handleItemMouseLeave,O.props.onMouseLeave),onMouseEnter:mb(E.handleItemMouseEnter,O.props.onMouseEnter)});var Z=A.cloneElement(O,Tt(Tt({},L.props),de));function ce(_e){return typeof j.dataKey=="function"?j.dataKey(_e.payload):null}if(te)if(H>=0){var oe,ae;if(j.dataKey&&!j.allowDuplicatedCategory){var Ne=typeof j.dataKey=="function"?ce:"payload.".concat(j.dataKey.toString());oe=A5(q,Ne,X),ae=K&&J&&A5(J,Ne,X)}else oe=q==null?void 0:q[H],ae=K&&J&&J[H];if(se||ie){var Ie=O.props.activeIndex!==void 0?O.props.activeIndex:H;return[A.cloneElement(O,Tt(Tt(Tt({},L.props),de),{},{activeIndex:Ie})),null,null]}if(!fn(oe))return[Z].concat(G1(E.renderActivePoints({item:L,activePoint:oe,basePoint:ae,childIndex:H,isRange:K})))}else{var Te,he=(Te=E.getItemByXY(E.state.activeCoordinate))!==null&&Te!==void 0?Te:{graphicalItem:Z},Ge=he.graphicalItem,mt=Ge.item,ht=mt===void 0?O:mt,Pt=Ge.childIndex,ft=Tt(Tt(Tt({},L.props),de),{},{activeIndex:Pt});return[A.cloneElement(ht,ft),null,null]}return K?[Z,null,null]:[Z,null]}),Hr(E,"renderCustomized",function(O,P,I){return A.cloneElement(O,Tt(Tt({key:"recharts-customized-".concat(I)},E.props),E.state))}),Hr(E,"renderMap",{CartesianGrid:{handler:wb,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:wb},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:wb},YAxis:{handler:wb},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((S=b.id)!==null&&S!==void 0?S:Cg("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=jZ(E.triggeredAfterMouseMove,(C=b.throttleDelay)!==null&&C!==void 0?C:1e3/60),E.state={},E}return z6e(_,y),$6e(_,[{key:"componentDidMount",value:function(){var S,C;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,C=S.children,E=S.data,O=S.height,P=S.layout,I=tc(C,Ja);if(I){var L=I.props.defaultIndex;if(!(typeof L!="number"||L<0||L>this.state.tooltipTicks.length-1)){var U=this.state.tooltipTicks[L]&&this.state.tooltipTicks[L].value,T=jO(this.state,E,L,U),F=this.state.tooltipTicks[L].coordinate,j=(this.state.offset.top+O)/2,H=P==="horizontal",X=H?{x:F,y:j}:{y:F,x:j},re=this.state.formattedGraphicalItems.find(function(G){var q=G.item;return q.type.name==="Scatter"});re&&(X=Tt(Tt({},X),re.props.points[L].tooltipPosition),T=re.props.points[L].tooltipPayload);var z={activeTooltipIndex:L,isTooltipActive:!0,activeLabel:U,activePayload:T,activeCoordinate:X};this.setState(z),this.renderCursor(I),this.accessibilityManager.setIndex(L)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,C){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==C.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var E,O;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0}})}return null}},{key:"componentDidUpdate",value:function(S){_6([tc(S.children,Ja)],[tc(this.props.children,Ja)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=tc(this.props.children,Ja);if(S&&typeof S.props.shared=="boolean"){var C=S.props.shared?"axis":"item";return s.indexOf(C)>=0?C:i}return i}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var C=this.container,E=C.getBoundingClientRect(),O=abe(E),P={chartX:Math.round(S.pageX-O.left),chartY:Math.round(S.pageY-O.top)},I=E.width/C.offsetWidth||1,L=this.inRange(P.chartX,P.chartY,I);if(!L)return null;var U=this.state,T=U.xAxisMap,F=U.yAxisMap,j=this.getTooltipEventType(),H=fz(this.state,this.props.data,this.props.layout,L);if(j!=="axis"&&T&&F){var X=Hp(T).scale,re=Hp(F).scale,z=X&&X.invert?X.invert(P.chartX):null,G=re&&re.invert?re.invert(P.chartY):null;return Tt(Tt({},P),{},{xValue:z,yValue:G},H)}return H?Tt(Tt({},P),H):null}},{key:"inRange",value:function(S,C){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,O=this.props.layout,P=S/E,I=C/E;if(O==="horizontal"||O==="vertical"){var L=this.state.offset,U=P>=L.left&&P<=L.left+L.width&&I>=L.top&&I<=L.top+L.height;return U?{x:P,y:I}:null}var T=this.state,F=T.angleAxisMap,j=T.radiusAxisMap;if(F&&j){var H=Hp(F);return hU({x:P,y:I},H)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,C=this.getTooltipEventType(),E=tc(S,Ja),O={};E&&C==="axis"&&(E.props.trigger==="click"?O={onClick:this.handleClick}:O={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var P=k5(this.props,this.handleOuterEvent);return Tt(Tt({},P),O)}},{key:"addListener",value:function(){wP.on(_P,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){wP.removeListener(_P,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,C,E){for(var O=this.state.formattedGraphicalItems,P=0,I=O.length;P<I;P++){var L=O[P];if(L.item===S||L.props.key===S.key||C===dh(L.item.type)&&E===L.childIndex)return L}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,C=this.state.offset,E=C.left,O=C.top,P=C.height,I=C.width;return c("defs",{children:c("clipPath",{id:S,children:c("rect",{x:E,y:O,height:P,width:I})})})}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(C,E){var O=cz(E,2),P=O[0],I=O[1];return Tt(Tt({},C),{},Hr({},P,I.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(C,E){var O=cz(E,2),P=O[0],I=O[1];return Tt(Tt({},C),{},Hr({},P,I.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var C;return(C=this.state.xAxisMap)===null||C===void 0||(C=C[S])===null||C===void 0?void 0:C.scale}},{key:"getYScaleByAxisId",value:function(S){var C;return(C=this.state.yAxisMap)===null||C===void 0||(C=C[S])===null||C===void 0?void 0:C.scale}},{key:"getItemByXY",value:function(S){var C=this.state,E=C.formattedGraphicalItems,O=C.activeItem;if(E&&E.length)for(var P=0,I=E.length;P<I;P++){var L=E[P],U=L.props,T=L.item,F=T.type.defaultProps!==void 0?Tt(Tt({},T.type.defaultProps),T.props):T.props,j=dh(T.type);if(j==="Bar"){var H=(U.data||[]).find(function(G){return _Ne(S,G)});if(H)return{graphicalItem:L,payload:H}}else if(j==="RadialBar"){var X=(U.data||[]).find(function(G){return hU(S,G)});if(X)return{graphicalItem:L,payload:X}}else if(s3(L,O)||l3(L,O)||Bx(L,O)){var re=VEe({graphicalItem:L,activeTooltipItem:O,itemData:F.data}),z=F.activeIndex===void 0?re:F.activeIndex;return{graphicalItem:Tt(Tt({},L),{},{childIndex:z}),payload:Bx(L,O)?F.data[re]:L.props.data[re]}}}return null}},{key:"render",value:function(){var S=this;if(!k9(this))return null;var C=this.props,E=C.children,O=C.className,P=C.width,I=C.height,L=C.style,U=C.compact,T=C.title,F=C.desc,j=uz(C,D6e),H=Or(j,!1);if(U)return c(qq,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId,children:w(S6,{...H,width:P,height:I,title:T,desc:F,children:[this.renderClipPath(),E9(E,this.renderMap)]})});if(this.props.accessibilityLayer){var X,re;H.tabIndex=(X=this.props.tabIndex)!==null&&X!==void 0?X:0,H.role=(re=this.props.role)!==null&&re!==void 0?re:"application",H.onKeyDown=function(G){S.accessibilityManager.keyboardEvent(G)},H.onFocus=function(){S.accessibilityManager.focus()}}var z=this.parseEventsOfWrapper();return c(qq,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId,children:w("div",{className:hn("recharts-wrapper",O),style:Tt({position:"relative",cursor:"default",width:P,height:I},L),...z,ref:function(q){S.container=q},children:[w(S6,{...H,width:P,height:I,title:T,desc:F,style:K6e,children:[this.renderClipPath(),E9(E,this.renderMap)]}),this.renderLegend(),this.renderTooltip()]})})}}])}(A.Component);Hr(x,"displayName",r),Hr(x,"defaultProps",Tt({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Hr(x,"getDerivedStateFromProps",function(y,_){var b=y.dataKey,S=y.data,C=y.children,E=y.width,O=y.height,P=y.layout,I=y.stackOffset,L=y.margin,U=_.dataStartIndex,T=_.dataEndIndex;if(_.updateId===void 0){var F=hz(y);return Tt(Tt(Tt({},F),{},{updateId:0},m(Tt(Tt({props:y},F),{},{updateId:0}),_)),{},{prevDataKey:b,prevData:S,prevWidth:E,prevHeight:O,prevLayout:P,prevStackOffset:I,prevMargin:L,prevChildren:C})}if(b!==_.prevDataKey||S!==_.prevData||E!==_.prevWidth||O!==_.prevHeight||P!==_.prevLayout||I!==_.prevStackOffset||!t1(L,_.prevMargin)){var j=hz(y),H={chartX:_.chartX,chartY:_.chartY,isTooltipActive:_.isTooltipActive},X=Tt(Tt({},fz(_,S,P)),{},{updateId:_.updateId+1}),re=Tt(Tt(Tt({},j),H),X);return Tt(Tt(Tt({},re),m(Tt({props:y},re),_)),{},{prevDataKey:b,prevData:S,prevWidth:E,prevHeight:O,prevLayout:P,prevStackOffset:I,prevMargin:L,prevChildren:C})}if(!_6(C,_.prevChildren)){var z,G,q,K,J=tc(C,F1),D=J&&(z=(G=J.props)===null||G===void 0?void 0:G.startIndex)!==null&&z!==void 0?z:U,Y=J&&(q=(K=J.props)===null||K===void 0?void 0:K.endIndex)!==null&&q!==void 0?q:T,Q=D!==U||Y!==T,ie=!fn(S),se=ie&&!Q?_.updateId:_.updateId+1;return Tt(Tt({updateId:se},m(Tt(Tt({props:y},_),{},{updateId:se,dataStartIndex:D,dataEndIndex:Y}),_)),{},{prevChildren:C,dataStartIndex:D,dataEndIndex:Y})}return null}),Hr(x,"renderActiveDot",function(y,_,b){var S;return A.isValidElement(y)?S=A.cloneElement(y,_):Yr(y)?S=y(_):S=c(Hw,{..._}),c(In,{className:"recharts-active-dot",children:S},b)});var g=A.forwardRef(function(_,b){return c(x,{..._,ref:b})});return g.displayName=x.displayName,g},lee=m3({chartName:"LineChart",GraphicalChild:fm,axisComponents:[{axisType:"xAxis",AxisComp:Ol},{axisType:"yAxis",AxisComp:Dl}],formatAxisMap:FI}),Gx=m3({chartName:"BarChart",GraphicalChild:eu,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Ol},{axisType:"yAxis",AxisComp:Dl}],formatAxisMap:FI}),Xp=m3({chartName:"PieChart",GraphicalChild:Is,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:o3},{axisType:"radiusAxis",AxisComp:a3}],formatAxisMap:F3e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),cee=m3({chartName:"AreaChart",GraphicalChild:Ih,axisComponents:[{axisType:"xAxis",AxisComp:Ol},{axisType:"yAxis",AxisComp:Dl}],formatAxisMap:FI});const Ov=["#4F46E5","#60A5FA","#34D399","#FBBF24","#F87171"],iOe=({revenueData:e=[],appointmentTypeData:t=[],dailyAppointmentData:r=[],treatmentStatusData:n=[],profitEstimationData:a={conversionRate:0,estimatedSales:0,estimatedProfit:0},totalRevenue:i=0,dailyVisitors:o=0,revenueChangePercentage:s=0,dailyAppointmentsChangePercentage:l=0,overallTreatmentProgress:u=0,patientAgeData:d=[],appointmentStatusData:f=[],treatmentPlanStatusData:h=[],upcomingWeeklyAppointmentTrendData:m=[]})=>{const x=t.reduce((S,C)=>S+C.value,0),g=f.reduce((S,C)=>S+C.value,0),y=h.reduce((S,C)=>S+C.value,0),_=["#FBBF24","#34D399","#F87171","#9CA3AF"],b=["#60A5FA","#34D399","#FBBF24","#F87171"];return w("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3",children:[w(lr,{className:"col-span-1 md:col-span-2 xl:col-span-2",children:[w(xr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[w("div",{children:[w(wr,{className:"text-3xl font-bold",children:["",i?i.toLocaleString():"0"]}),c("p",{className:"text-xs text-muted-foreground",children:"Overall Revenue / Appointments"})]}),w("div",{className:"flex items-center space-x-2",children:[w("span",{className:`text-xs flex items-center ${s>=0?"text-green-500":"text-red-500"}`,children:[c(Rce,{className:"h-3 w-3 mr-1"})," ",s>=0?"+":"",s.toFixed(2),"%"]}),w(zr,{defaultValue:"monthly",children:[c($r,{className:"w-[110px] h-8 text-xs",children:c(Wr,{placeholder:"Select"})}),w(Br,{children:[c(_t,{value:"monthly",children:"Monthly"}),c(_t,{value:"yearly",children:"Yearly"})]})]})]})]}),c(mr,{className:"pl-2 pr-6",children:c(ks,{width:"100%",height:250,children:w(lee,{data:e,children:[c(Ol,{dataKey:"name",axisLine:!1,tickLine:!1,dy:10,style:{fontSize:"12px"}}),c(Dl,{hide:!0}),c(Ja,{contentStyle:{fontSize:"12px",padding:"4px 8px",borderRadius:"4px"},formatter:(S,C)=>[`${S} ${C==="uv"?"Appointments":"Revenue"}`,null]}),c(fm,{type:"monotone",dataKey:"uv",name:"Appointments",stroke:"#60A5FA",strokeWidth:2,dot:{r:4,fill:"#60A5FA",stroke:"#fff",strokeWidth:2},activeDot:{r:6}}),c(fm,{type:"monotone",dataKey:"pv",name:"Revenue",stroke:"#4F46E5",strokeWidth:2,dot:!1})]})})})]}),w(lr,{children:[w(xr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c(wr,{className:"text-sm font-medium",children:"Appointment Types"}),w(zr,{defaultValue:"monthly",children:[c($r,{className:"w-[110px] h-8 text-xs",children:c(Wr,{placeholder:"Select"})}),w(Br,{children:[c(_t,{value:"monthly",children:"Monthly"}),c(_t,{value:"yearly",children:"Yearly"})]})]})]}),w(mr,{className:"flex flex-col items-center",children:[c(ks,{width:"100%",height:180,children:w(Xp,{children:[c(Is,{data:t,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:1,dataKey:"value",startAngle:90,endAngle:450,children:t.map((S,C)=>c(Hc,{fill:Ov[C%Ov.length],stroke:Ov[C%Ov.length]},`cell-${C}`))}),c(Ja,{formatter:(S,C)=>[`${S} (${(S/x*100).toFixed(1)}%)`,C]})]})}),c("div",{className:"flex flex-wrap justify-center gap-x-4 gap-y-2 w-full mt-4 text-xs",children:t.map((S,C)=>w("div",{className:"flex items-center",children:[c("span",{className:"w-2 h-2 rounded-full mr-2",style:{backgroundColor:Ov[C%Ov.length]}}),S.name," ",(S.value/x*100).toFixed(1),"%"]},`legend-${C}`))})]})]}),w(lr,{children:[w(xr,{className:"pb-2",children:[c("div",{className:"flex flex-row items-center justify-between space-y-0",children:c(wr,{className:"text-sm font-medium",children:"Appointments Trend"})}),c("p",{className:"text-xs text-muted-foreground",children:"Total scheduled appointments per day over the next 7 days"})]}),c(mr,{className:"pb-4 pl-2 pr-4",children:c(ks,{width:"100%",height:150,children:w(Gx,{data:m,children:[c(Ol,{dataKey:"name",axisLine:!1,tickLine:!1,dy:10,style:{fontSize:"12px"}}),c(Dl,{allowDecimals:!1,axisLine:!1,tickLine:!1,width:30,style:{fontSize:"12px"}}),c(Ja,{cursor:{fill:"rgba(79, 70, 229, 0.1)"},contentStyle:{fontSize:"12px",padding:"4px 8px",borderRadius:"4px"},formatter:S=>[`${S} Appointments`,null]}),c(eu,{dataKey:"value",name:"Appointments",fill:"#22C55E",radius:[4,4,0,0],barSize:12})]})})})]}),w(lr,{children:[w(xr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c(wr,{className:"text-sm font-medium",children:"Treatment Plan Status"}),c(Fe,{variant:"ghost",size:"sm",className:"w-8 h-8 p-0",children:c(Ace,{className:"h-4 w-4"})})]}),w(mr,{children:[w("div",{className:"flex items-center justify-between mb-4",children:[w("div",{className:"flex items-center space-x-3",children:[c("div",{className:"p-2 bg-indigo-100 rounded-lg",children:c($0,{className:"h-5 w-5 text-indigo-600"})}),w("div",{children:[c("p",{className:"text-sm font-medium",children:"Overall Progress"}),c("p",{className:"text-xs text-muted-foreground",children:"Across Active Plans"})]})]}),w("div",{className:"text-lg font-semibold",children:[u.toFixed(0),"%"]})]}),c(ks,{width:"100%",height:100,children:w(cee,{data:n,margin:{top:5,right:0,left:0,bottom:0},children:[c("defs",{children:w("linearGradient",{id:"colorStatus",x1:"0",y1:"0",x2:"0",y2:"1",children:[c("stop",{offset:"5%",stopColor:"#4F46E5",stopOpacity:.1}),c("stop",{offset:"95%",stopColor:"#4F46E5",stopOpacity:0})]})}),c(Ol,{dataKey:"name",axisLine:!1,tickLine:!1,dy:10,style:{fontSize:"12px"}}),c(Dl,{hide:!0,domain:[0,100]})," ",c(Ja,{formatter:S=>[`${S}% Complete`,null]}),c(Ih,{type:"monotone",dataKey:"value",name:"Completion Rate",stroke:"#4F46E5",fillOpacity:1,fill:"url(#colorStatus)",strokeWidth:2,dot:{r:4,fill:"#4F46E5",stroke:"#fff",strokeWidth:2},activeDot:{r:6}})]})})]})]}),w(lr,{children:[w(xr,{className:"pb-4",children:[c(wr,{className:"text-sm font-medium",children:"Profit Estimation"}),c("p",{className:"text-xs text-muted-foreground",children:"Based on completed treatments"})]}),w(mr,{className:"flex flex-col items-center",children:[c(ks,{width:"100%",height:120,children:w(Xp,{children:[w(Is,{data:[{name:"Conversion",value:a.conversionRate},{name:"Remaining",value:100-a.conversionRate}],cx:"50%",cy:"50%",innerRadius:45,outerRadius:60,startAngle:90,endAngle:90+360*(a.conversionRate/100),dataKey:"value",stroke:"none",children:[c(Hc,{fill:"#4F46E5"}),c(Hc,{fill:"#E5E7EB"})]}),c("text",{x:"50%",y:"50%",textAnchor:"middle",dominantBaseline:"middle",fontSize:"10",fill:"#6B7280",children:"Conversion"}),w("text",{x:"50%",y:"65%",textAnchor:"middle",dominantBaseline:"middle",fontSize:"18",fontWeight:"bold",fill:"#111827",children:[a.conversionRate.toFixed(0),"%"]})]})}),w("div",{className:"flex justify-around w-full mt-4 text-xs border-t pt-4",children:[w("div",{className:"text-center",children:[c("p",{className:"text-muted-foreground",children:"Est. Sales"}),c("p",{className:"font-semibold",children:a.estimatedSales.toLocaleString()})]}),w("div",{className:"text-center",children:[c("p",{className:"text-muted-foreground",children:"Est. Profit"}),w("p",{className:"font-semibold",children:["",a.estimatedProfit.toLocaleString()]})]})]})]})]}),w(lr,{children:[c(xr,{className:"pb-2",children:c(wr,{className:"text-sm font-medium",children:"Patient Age Distribution"})}),c(mr,{className:"pb-4 pl-2 pr-4",children:c(ks,{width:"100%",height:200,children:w(Gx,{data:d,layout:"vertical",barCategoryGap:"20%",children:[c(Ol,{type:"number",hide:!0}),c(Dl,{dataKey:"name",type:"category",axisLine:!1,tickLine:!1,style:{fontSize:"12px"},width:60}),c(Ja,{cursor:{fill:"rgba(79, 70, 229, 0.1)"},contentStyle:{fontSize:"12px",padding:"4px 8px",borderRadius:"4px"}}),c(eu,{dataKey:"value",name:"Patients",fill:"#8B5CF6",radius:[0,4,4,0],barSize:10})]})})})]}),w(lr,{children:[c(xr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:c(wr,{className:"text-sm font-medium",children:"Appointment Status"})}),w(mr,{className:"flex flex-col items-center",children:[c(ks,{width:"100%",height:180,children:w(Xp,{children:[c(Is,{data:f,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:1,dataKey:"value",startAngle:90,endAngle:450,children:f.map((S,C)=>c(Hc,{fill:_[C%_.length],stroke:_[C%_.length]},`cell-apt-status-${C}`))}),c(Ja,{formatter:(S,C)=>[`${S} (${g>0?(S/g*100).toFixed(1):0}%)`,C]})]})}),c("div",{className:"flex flex-wrap justify-center gap-x-4 gap-y-2 w-full mt-4 text-xs",children:f.map((S,C)=>w("div",{className:"flex items-center",children:[c("span",{className:"w-2 h-2 rounded-full mr-2",style:{backgroundColor:_[C%_.length]}}),S.name," (",g>0?(S.value/g*100).toFixed(1):0,"%)"]},`legend-apt-status-${C}`))})]})]}),w(lr,{children:[c(xr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:c(wr,{className:"text-sm font-medium",children:"Treatment Plan Status"})}),w(mr,{className:"flex flex-col items-center",children:[c(ks,{width:"100%",height:180,children:w(Xp,{children:[c(Is,{data:h,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:1,dataKey:"value",startAngle:90,endAngle:450,children:h.map((S,C)=>c(Hc,{fill:b[C%b.length],stroke:b[C%b.length]},`cell-tp-status-${C}`))}),c(Ja,{formatter:(S,C)=>[`${S} (${y>0?(S/y*100).toFixed(1):0}%)`,C]})]})}),c("div",{className:"flex flex-wrap justify-center gap-x-4 gap-y-2 w-full mt-4 text-xs",children:h.map((S,C)=>w("div",{className:"flex items-center",children:[c("span",{className:"w-2 h-2 rounded-full mr-2",style:{backgroundColor:b[C%b.length]}}),S.name," (",y>0?(S.value/y*100).toFixed(1):0,"%)"]},`legend-tp-status-${C}`))})]})]})]})};function oOe(e,t){return A.useReducer((r,n)=>t[r][n]??r,e)}var g3=e=>{const{present:t,children:r}=e,n=sOe(t),a=typeof r=="function"?r({present:n.isPresent}):A.Children.only(r),i=Vr(n.ref,lOe(a));return typeof r=="function"||n.isPresent?A.cloneElement(a,{ref:i}):null};g3.displayName="Presence";function sOe(e){const[t,r]=A.useState(),n=A.useRef(null),a=A.useRef(e),i=A.useRef("none"),o=e?"mounted":"unmounted",[s,l]=oOe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return A.useEffect(()=>{const u=_b(n.current);i.current=s==="mounted"?u:"none"},[s]),oi(()=>{const u=n.current,d=a.current;if(d!==e){const h=i.current,m=_b(u);e?l("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,l]),oi(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const g=_b(n.current).includes(m.animationName);if(m.target===t&&g&&(l("ANIMATION_END"),!a.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},h=m=>{m.target===t&&(i.current=_b(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:A.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function _b(e){return(e==null?void 0:e.animationName)||"none"}function lOe(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var v3="Dialog",[uee,dee]=Qi(v3),[cOe,sd]=uee(v3),fee=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,s=A.useRef(null),l=A.useRef(null),[u,d]=ul({prop:n,defaultProp:a??!1,onChange:i,caller:v3});return c(cOe,{scope:t,triggerRef:s,contentRef:l,contentId:Rl(),titleId:Rl(),descriptionId:Rl(),open:u,onOpenChange:d,onOpenToggle:A.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};fee.displayName=v3;var hee="DialogTrigger",pee=A.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=sd(hee,r),i=Vr(t,a.triggerRef);return c(pr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":KI(a.open),...n,ref:i,onClick:qt(e.onClick,a.onOpenToggle)})});pee.displayName=hee;var GI="DialogPortal",[uOe,mee]=uee(GI,{forceMount:void 0}),gee=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=sd(GI,t);return c(uOe,{scope:t,forceMount:r,children:A.Children.map(n,o=>c(g3,{present:r||i.open,children:c(uy,{asChild:!0,container:a,children:o})}))})};gee.displayName=GI;var yS="DialogOverlay",vee=A.forwardRef((e,t)=>{const r=mee(yS,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=sd(yS,e.__scopeDialog);return i.modal?c(g3,{present:n||i.open,children:c(fOe,{...a,ref:t})}):null});vee.displayName=yS;var dOe=sm("DialogOverlay.RemoveScroll"),fOe=A.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=sd(yS,r);return c(Rw,{as:dOe,allowPinchZoom:!0,shards:[a.contentRef],children:c(pr.div,{"data-state":KI(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),cg="DialogContent",yee=A.forwardRef((e,t)=>{const r=mee(cg,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=sd(cg,e.__scopeDialog);return c(g3,{present:n||i.open,children:i.modal?c(hOe,{...a,ref:t}):c(pOe,{...a,ref:t})})});yee.displayName=cg;var hOe=A.forwardRef((e,t)=>{const r=sd(cg,e.__scopeDialog),n=A.useRef(null),a=Vr(t,r.contentRef,n);return A.useEffect(()=>{const i=n.current;if(i)return x4(i)},[]),c(xee,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:qt(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:qt(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,s=o.button===0&&o.ctrlKey===!0;(o.button===2||s)&&i.preventDefault()}),onFocusOutside:qt(e.onFocusOutside,i=>i.preventDefault())})}),pOe=A.forwardRef((e,t)=>{const r=sd(cg,e.__scopeDialog),n=A.useRef(!1),a=A.useRef(!1);return c(xee,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,s;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(s=r.triggerRef.current)==null||s.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var l,u;(l=e.onInteractOutside)==null||l.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),xee=A.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,s=sd(cg,r),l=A.useRef(null),u=Vr(t,l);return d4(),w(Sr,{children:[c(Tw,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:c(Sg,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":KI(s.open),...o,ref:u,onDismiss:()=>s.onOpenChange(!1)})}),w(Sr,{children:[c(gOe,{titleId:s.titleId}),c(yOe,{contentRef:l,descriptionId:s.descriptionId})]})]})}),YI="DialogTitle",wee=A.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=sd(YI,r);return c(pr.h2,{id:a.titleId,...n,ref:t})});wee.displayName=YI;var _ee="DialogDescription",bee=A.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=sd(_ee,r);return c(pr.p,{id:a.descriptionId,...n,ref:t})});bee.displayName=_ee;var See="DialogClose",Aee=A.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=sd(See,r);return c(pr.button,{type:"button",...n,ref:t,onClick:qt(e.onClick,()=>a.onOpenChange(!1))})});Aee.displayName=See;function KI(e){return e?"open":"closed"}var kee="DialogTitleWarning",[mOe,Nee]=Aue(kee,{contentName:cg,titleName:YI,docsSlug:"dialog"}),gOe=({titleId:e})=>{const t=Nee(kee),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return A.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},vOe="DialogDescriptionWarning",yOe=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Nee(vOe).contentName}}.`;return A.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},Eee=fee,Cee=pee,Pee=gee,XI=vee,ZI=yee,JI=wee,QI=bee,y3=Aee;const $a=Eee,Gw=Cee,xOe=Pee,x3=y3,Tee=A.forwardRef(({className:e,...t},r)=>c(XI,{ref:r,className:Rt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Tee.displayName=XI.displayName;const Ta=A.forwardRef(({className:e,children:t,...r},n)=>w(xOe,{children:[c(Tee,{}),w(ZI,{ref:n,className:Rt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[c(Yi,{children:r["aria-describedby"]}),t,w(y3,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[c(gh,{className:"h-4 w-4"}),c("span",{className:"sr-only",children:"Close"})]})]})]}));Ta.displayName=ZI.displayName;const Oa=({className:e,...t})=>c("div",{className:Rt("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Oa.displayName="DialogHeader";const Ji=({className:e,...t})=>c("div",{className:Rt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Ji.displayName="DialogFooter";const Da=A.forwardRef(({className:e,...t},r)=>c(JI,{ref:r,className:Rt("text-lg font-semibold leading-none tracking-tight",e),...t}));Da.displayName=JI.displayName;const Yi=A.forwardRef(({className:e,...t},r)=>c(QI,{ref:r,className:Rt("text-sm text-muted-foreground",e),...t}));Yi.displayName=QI.displayName;function wOe(e,t){return A.useReducer((r,n)=>t[r][n]??r,e)}var eR="ScrollArea",[Oee,RJe]=Qi(eR),[_Oe,au]=Oee(eR),Dee=A.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...o}=e,[s,l]=A.useState(null),[u,d]=A.useState(null),[f,h]=A.useState(null),[m,x]=A.useState(null),[g,y]=A.useState(null),[_,b]=A.useState(0),[S,C]=A.useState(0),[E,O]=A.useState(!1),[P,I]=A.useState(!1),L=Vr(t,T=>l(T)),U=bg(a);return c(_Oe,{scope:r,type:n,dir:U,scrollHideDelay:i,scrollArea:s,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:x,scrollbarXEnabled:E,onScrollbarXEnabledChange:O,scrollbarY:g,onScrollbarYChange:y,scrollbarYEnabled:P,onScrollbarYEnabledChange:I,onCornerWidthChange:b,onCornerHeightChange:C,children:c(pr.div,{dir:U,...o,ref:L,style:{position:"relative","--radix-scroll-area-corner-width":_+"px","--radix-scroll-area-corner-height":S+"px",...e.style}})})});Dee.displayName=eR;var Iee="ScrollAreaViewport",Ree=A.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=e,o=au(Iee,r),s=A.useRef(null),l=Vr(t,s,o.onViewportChange);return w(Sr,{children:[c("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),c(pr.div,{"data-radix-scroll-area-viewport":"",...i,ref:l,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:c("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});Ree.displayName=Iee;var vf="ScrollAreaScrollbar",tR=A.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=au(vf,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,s=e.orientation==="horizontal";return A.useEffect(()=>(s?i(!0):o(!0),()=>{s?i(!1):o(!1)}),[s,i,o]),a.type==="hover"?c(bOe,{...n,ref:t,forceMount:r}):a.type==="scroll"?c(SOe,{...n,ref:t,forceMount:r}):a.type==="auto"?c(Mee,{...n,ref:t,forceMount:r}):a.type==="always"?c(rR,{...n,ref:t}):null});tR.displayName=vf;var bOe=A.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=au(vf,e.__scopeScrollArea),[i,o]=A.useState(!1);return A.useEffect(()=>{const s=a.scrollArea;let l=0;if(s){const u=()=>{window.clearTimeout(l),o(!0)},d=()=>{l=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return s.addEventListener("pointerenter",u),s.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),s.removeEventListener("pointerenter",u),s.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),c(as,{present:r||i,children:c(Mee,{"data-state":i?"visible":"hidden",...n,ref:t})})}),SOe=A.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=au(vf,e.__scopeScrollArea),i=e.orientation==="horizontal",o=_3(()=>l("SCROLL_END"),100),[s,l]=wOe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return A.useEffect(()=>{if(s==="idle"){const u=window.setTimeout(()=>l("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[s,a.scrollHideDelay,l]),A.useEffect(()=>{const u=a.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const m=u[d];f!==m&&(l("SCROLL"),o()),f=m};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[a.viewport,i,l,o]),c(as,{present:r||s!=="hidden",children:c(rR,{"data-state":s==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:qt(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:qt(e.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),Mee=A.forwardRef((e,t)=>{const r=au(vf,e.__scopeScrollArea),{forceMount:n,...a}=e,[i,o]=A.useState(!1),s=e.orientation==="horizontal",l=_3(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(s?u:d)}},10);return Y1(r.viewport,l),Y1(r.content,l),c(as,{present:n||i,children:c(rR,{"data-state":i?"visible":"hidden",...a,ref:t})})}),rR=A.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=au(vf,e.__scopeScrollArea),i=A.useRef(null),o=A.useRef(0),[s,l]=A.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=Bee(s.viewport,s.content),d={...n,sizes:s,onSizesChange:l,hasThumb:u>0&&u<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,m){return POe(h,o.current,s,m)}return r==="horizontal"?c(AOe,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollLeft,m=mz(h,s,a.dir);i.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=f(h,a.dir))}}):r==="vertical"?c(kOe,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollTop,m=mz(h,s);i.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=f(h))}}):null}),AOe=A.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=au(vf,e.__scopeScrollArea),[o,s]=A.useState(),l=A.useRef(null),u=Vr(t,l,i.onScrollbarXChange);return A.useEffect(()=>{l.current&&s(getComputedStyle(l.current))},[l]),c(Lee,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":w3(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),qee(h,f)&&d.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:wS(o.paddingLeft),paddingEnd:wS(o.paddingRight)}})}})}),kOe=A.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=au(vf,e.__scopeScrollArea),[o,s]=A.useState(),l=A.useRef(null),u=Vr(t,l,i.onScrollbarYChange);return A.useEffect(()=>{l.current&&s(getComputedStyle(l.current))},[l]),c(Lee,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":w3(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),qee(h,f)&&d.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:wS(o.paddingTop),paddingEnd:wS(o.paddingBottom)}})}})}),[NOe,Fee]=Oee(vf),Lee=A.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:s,onThumbPositionChange:l,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,m=au(vf,r),[x,g]=A.useState(null),y=Vr(t,L=>g(L)),_=A.useRef(null),b=A.useRef(""),S=m.viewport,C=n.content-n.viewport,E=Ci(d),O=Ci(l),P=_3(f,10);function I(L){if(_.current){const U=L.clientX-_.current.left,T=L.clientY-_.current.top;u({x:U,y:T})}}return A.useEffect(()=>{const L=U=>{const T=U.target;(x==null?void 0:x.contains(T))&&E(U,C)};return document.addEventListener("wheel",L,{passive:!1}),()=>document.removeEventListener("wheel",L,{passive:!1})},[S,x,C,E]),A.useEffect(O,[n,O]),Y1(x,P),Y1(m.content,P),c(NOe,{scope:r,scrollbar:x,hasThumb:a,onThumbChange:Ci(i),onThumbPointerUp:Ci(o),onThumbPositionChange:O,onThumbPointerDown:Ci(s),children:c(pr.div,{...h,ref:y,style:{position:"absolute",...h.style},onPointerDown:qt(e.onPointerDown,L=>{L.button===0&&(L.target.setPointerCapture(L.pointerId),_.current=x.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),I(L))}),onPointerMove:qt(e.onPointerMove,I),onPointerUp:qt(e.onPointerUp,L=>{const U=L.target;U.hasPointerCapture(L.pointerId)&&U.releasePointerCapture(L.pointerId),document.body.style.webkitUserSelect=b.current,m.viewport&&(m.viewport.style.scrollBehavior=""),_.current=null})})})}),xS="ScrollAreaThumb",jee=A.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Fee(xS,e.__scopeScrollArea);return c(as,{present:r||a.hasThumb,children:c(EOe,{ref:t,...n})})}),EOe=A.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,i=au(xS,r),o=Fee(xS,r),{onThumbPositionChange:s}=o,l=Vr(t,f=>o.onThumbChange(f)),u=A.useRef(void 0),d=_3(()=>{u.current&&(u.current(),u.current=void 0)},100);return A.useEffect(()=>{const f=i.viewport;if(f){const h=()=>{if(d(),!u.current){const m=TOe(f,s);u.current=m,s()}};return s(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[i.viewport,d,s]),c(pr.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:qt(e.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),x=f.clientX-m.left,g=f.clientY-m.top;o.onThumbPointerDown({x,y:g})}),onPointerUp:qt(e.onPointerUp,o.onThumbPointerUp)})});jee.displayName=xS;var nR="ScrollAreaCorner",$ee=A.forwardRef((e,t)=>{const r=au(nR,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?c(COe,{...e,ref:t}):null});$ee.displayName=nR;var COe=A.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=au(nR,r),[i,o]=A.useState(0),[s,l]=A.useState(0),u=!!(i&&s);return Y1(a.scrollbarX,()=>{var f;const d=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(d),l(d)}),Y1(a.scrollbarY,()=>{var f;const d=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(d),o(d)}),u?c(pr.div,{...n,ref:t,style:{width:i,height:s,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function wS(e){return e?parseInt(e,10):0}function Bee(e,t){const r=e/t;return isNaN(r)?0:r}function w3(e){const t=Bee(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function POe(e,t,r,n="ltr"){const a=w3(r),i=a/2,o=t||i,s=a-o,l=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-s,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return Uee([l,u],f)(e)}function mz(e,t,r="ltr"){const n=w3(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,s=i-n,l=r==="ltr"?[0,o]:[o*-1,0],u=h6(e,l);return Uee([0,o],[0,s])(u)}function Uee(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function qee(e,t){return e>0&&e<t}var TOe=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,s=r.top!==i.top;(o||s)&&t(),r=i,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function _3(e,t){const r=Ci(e),n=A.useRef(0);return A.useEffect(()=>()=>window.clearTimeout(n.current),[]),A.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Y1(e,t){const r=Ci(t);oi(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var zee=Dee,OOe=Ree,DOe=$ee;const tu=A.forwardRef(({className:e,children:t,...r},n)=>w(zee,{ref:n,className:Rt("relative overflow-hidden",e),...r,children:[c(OOe,{className:"h-full w-full rounded-[inherit]",children:t}),c(Wee,{}),c(DOe,{})]}));tu.displayName=zee.displayName;const Wee=A.forwardRef(({className:e,orientation:t="vertical",...r},n)=>c(tR,{ref:n,orientation:t,className:Rt("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:c(jee,{className:"relative flex-1 rounded-full bg-border"})}));Wee.displayName=tR.displayName;const IOe=({isOpen:e,onClose:t,appointments:r})=>c($a,{open:e,onOpenChange:t,children:w(Ta,{className:"sm:max-w-[600px] md:max-w-[800px] lg:max-w-[1000px] max-h-[90vh] flex flex-col p-0",children:[w(Oa,{className:"p-6 pb-4",children:[c(Da,{className:"text-2xl",children:"All Upcoming Appointments"}),c(Yi,{children:"Browse through all scheduled upcoming appointments."})]}),c(tu,{className:"flex-grow border-t border-b",children:c("div",{className:"space-y-4 p-6",children:r.length>0?r.map(n=>w(lr,{className:"shadow-sm hover:shadow-md transition-shadow bg-card",children:[c(xr,{className:"pb-3 pt-4",children:w(wr,{className:"text-lg flex items-center font-medium",children:[c(hi,{className:"w-5 h-5 mr-3 text-primary flex-shrink-0"}),n.patient]})}),w(mr,{className:"grid grid-cols-1 md:grid-cols-3 gap-x-6 gap-y-3 text-sm pl-12 pr-6 pb-4",children:[w("div",{children:[c("p",{className:"text-xs text-muted-foreground font-semibold uppercase tracking-wider",children:"Type"}),c("p",{className:"mt-1",children:n.type})]}),w("div",{children:[c("p",{className:"text-xs text-muted-foreground font-semibold uppercase tracking-wider",children:"Date & Time"}),w("p",{className:"flex items-center mt-1",children:[c(H8,{className:"w-4 h-4 mr-2 text-muted-foreground flex-shrink-0"}),n.start_time?Lt(qr(n.start_time),"EEEE, MMM d, yyyy"):n.date]}),w("p",{className:"flex items-center mt-1",children:[c(sl,{className:"w-4 h-4 mr-2 text-muted-foreground flex-shrink-0"}),n.start_time?Lt(qr(n.start_time),"h:mm a"):n.time]})]}),w("div",{children:[c("p",{className:"text-xs text-muted-foreground font-semibold uppercase tracking-wider",children:"Status"}),c("p",{className:"mt-1 capitalize",children:n.status})]})]})]},n.id)):c("div",{className:"text-center py-12 text-muted-foreground",children:"No upcoming appointments found."})})}),c(Ji,{className:"p-6 pt-4 border-t",children:c(Fe,{variant:"outline",onClick:t,children:"Close"})})]})});function ROe(){const e=Bo(),[t,r]=A.useState({todaysAppointmentsCount:0,totalPatients:0,avgWaitTime:0,treatmentSuccessRate:0,appointmentsChange:0,patientsChange:0,waitTimeChange:0,successRateChange:0}),[n,a]=A.useState([]),[i,o]=A.useState([]),[s,l]=A.useState(!1),[u,d]=A.useState([]),[f,h]=A.useState(!0),[m,x]=A.useState({revenueData:[],appointmentTypeData:[],dailyAppointmentData:[],treatmentStatusData:[],profitEstimationData:{conversionRate:0,estimatedSales:0,estimatedProfit:0},totalRevenue:0,dailyVisitors:0,patientAgeData:[],appointmentStatusData:[],treatmentPlanStatusData:[],upcomingWeeklyAppointmentTrendData:[]});A.useEffect(()=>{g();const _=["appointments","patients","treatment_plans","treatments","medical_records"].map(b=>BD(b,S=>{console.log(`Dashboard detected change in ${b}:`,S),g()}));return()=>{_.forEach(b=>b.unsubscribe())}},[]);const g=async()=>{try{h(!0);const y=new Date,_=Pl(y),b=e1(y),S=$o(d6(y,5)),C=dm(y),E=Pl(La(y,-6)),O=e1(y),P=e1(La(y,6)),[I,L,U,T]=await Promise.all([zt.patients.getAll(),zt.patients.getTreatmentPlans(null),zt.patients.getMedicalRecords(null),zt.appointments.getAll()]),F=I.length,H=T.filter(it=>{if(!it.start_time)return!1;const xt=qr(it.start_time);return v0(xt,{start:_,end:b})}).length;let X=0,re=0;L.forEach(it=>{it.treatments&&it.treatments.length>0&&(re+=it.treatments.length,X+=it.treatments.filter(xt=>xt.status==="completed").length)});const z=re>0?Math.round(X/re*100):0;r({todaysAppointmentsCount:H,totalPatients:F,avgWaitTime:15,treatmentSuccessRate:z,appointmentsChange:0,patientsChange:0,waitTimeChange:0,successRateChange:0});const Y=T.filter(it=>it.status==="scheduled"&&it.start_time&&qr(it.start_time)>=_).sort((it,xt)=>(it.start_time?qr(it.start_time).getTime():0)-(xt.start_time?qr(xt.start_time).getTime():0)).map(it=>({id:it.id,patient:it.patients?`${it.patients.first_name} ${it.patients.last_name}`:"Unknown Patient",time:it.start_time?Lt(qr(it.start_time),"h:mm a"):"No time",date:it.start_time?Lt(qr(it.start_time),"MMM d"):"No date",type:it.type||"Appointment",status:it.status,start_time:it.start_time}));o(Y),a(Y.slice(0,5));const Q=it=>{if(!it)return"Unknown Patient";const xt=I.find(et=>et.id===it);return xt?`${xt.first_name} ${xt.last_name}`:"Unknown Patient"},ie=T.filter(it=>it.status==="completed"&&it.start_time).map(it=>({id:it.id,type:"appointment",title:`Appointment ${it.type||""} Completed`,patientName:it.patients?`${it.patients.first_name} ${it.patients.last_name}`:"Unknown Patient",itemName:it.type||"Appointment",staffName:it.staff?`${it.staff.first_name} ${it.staff.last_name}`:void 0,timestamp:qr(it.start_time),icon:hi,details:`Notes: ${it.notes||"N/A"}`})),se=L.flatMap(it=>{const xt=Q(it.patient_id);return(it.treatments||[]).filter(et=>et.status==="completed"&&et.updated_at).map(et=>({id:et.id,type:"treatment",title:"Treatment Completed",patientName:xt,itemName:et.type||"Treatment",timestamp:qr(et.updated_at),icon:$0,details:`Notes: ${et.notes||"N/A"}`}))}),te=U.filter(it=>it.created_at).map(it=>({id:it.id,type:"record",title:"Medical Record Added",patientName:Q(it.patient_id),itemName:it.record_type||"Medical Record",timestamp:qr(it.created_at),icon:sl,details:`Summary: ${it.summary||"N/A"}`})),de=[...ie,...se,...te].sort((it,xt)=>xt.timestamp.getTime()-it.timestamp.getTime());d(de.slice(0,3));const Z={},ce=new Intl.DateTimeFormat("en",{month:"short"});for(let it=0;it<6;it++){const xt=d6(y,it),et=Lt(xt,"yyyy-MM");Z[et]={count:0,revenue:0}}T.forEach(it=>{if(it.start_time){const xt=qr(it.start_time);if(v0(xt,{start:S,end:C})){const et=Lt(xt,"yyyy-MM");Z[et]&&(Z[et].count+=1)}}});const oe=Object.keys(Z).map(it=>({name:ce.format(qr(it+"-01")),uv:Z[it].count,pv:Z[it].revenue,monthKey:it})).sort((it,xt)=>it.monthKey.localeCompare(xt.monthKey)),ae=oe.reduce((it,xt)=>it+(xt.pv||0),0),Ne=0,Ie=oe.map(({name:it,uv:xt,pv:et})=>({name:it,uv:xt,pv:et})),Te=$o(y),he=dm(y),Ge={};T.forEach(it=>{var et;const xt=((et=it.staff)==null?void 0:et.role)||"General";if(it.start_time){const wt=qr(it.start_time);v0(wt,{start:Te,end:he})&&(Ge[xt]=(Ge[xt]||0)+1)}});const mt=Object.entries(Ge).map(([it,xt])=>({name:it,value:xt})),ht=H0e({start:_,end:b}),Pt={};ht.forEach(it=>{Pt[Lt(it,"HH")]=0}),T.forEach(it=>{if(it.start_time){const xt=qr(it.start_time);if(v0(xt,{start:_,end:b})){const et=Lt(xt,"HH");Pt[et]=(Pt[et]||0)+1}}});const _e=["00","04","08","12","14","16","18"].map(it=>({name:it,value:Pt[it]||0})),Ce=Object.values(Pt).reduce((it,xt)=>it+xt,0),ze=0,gt=L2({start:E,end:O}),pt={},Re=new Intl.DateTimeFormat("en",{weekday:"short"});gt.forEach(it=>{pt[Lt(it,"yyyy-MM-dd")]={completed:0,total:0}}),L.forEach(it=>{(it.treatments||[]).forEach(xt=>{if(xt.updated_at){const et=qr(xt.updated_at);if(v0(et,{start:E,end:O})){const wt=Lt(et,"yyyy-MM-dd");pt[wt]&&(pt[wt].total+=1,xt.status==="completed"&&(pt[wt].completed+=1))}}})});const qe=Object.keys(pt).map(it=>{const xt=pt[it],et=xt.total>0?Math.round(xt.completed/xt.total*100):0;return{name:Re.format(qr(it)),value:et,dayKey:it}}).sort((it,xt)=>it.dayKey.localeCompare(xt.dayKey)),Nt=qe.length>0?Math.round(qe.reduce((it,xt)=>it+(xt.value||0),0)/qe.length):0,Je=qe.map(({name:it,value:xt})=>({name:it,value:xt})),Kt={conversionRate:z,estimatedSales:X,estimatedProfit:0},Tr={"0-18":0,"19-35":0,"36-50":0,"51-65":0,"65+":0,Unknown:0};I.forEach(it=>{const xt=it.age;xt==null?Tr.Unknown++:xt<=18?Tr["0-18"]++:xt<=35?Tr["19-35"]++:xt<=50?Tr["36-50"]++:xt<=65?Tr["51-65"]++:Tr["65+"]++});const Kr=Object.entries(Tr).map(([it,xt])=>({name:it,value:xt})),ln={};T.forEach(it=>{const xt=it.status||"Unknown";ln[xt]=(ln[xt]||0)+1});const Aa=Object.entries(ln).map(([it,xt])=>({name:it.charAt(0).toUpperCase()+it.slice(1),value:xt})),tn=L2({start:E,end:O}),ka={},An=new Intl.DateTimeFormat("en",{weekday:"short"});tn.forEach(it=>{ka[Lt(it,"yyyy-MM-dd")]=0}),T.forEach(it=>{if(it.start_time){const xt=qr(it.start_time);if(v0(xt,{start:E,end:O})){const et=Lt(xt,"yyyy-MM-dd");ka.hasOwnProperty(et)&&ka[et]++}}});const wa=Object.keys(ka).map(it=>({name:An.format(qr(it)),value:ka[it],dayKey:it})).sort((it,xt)=>it.dayKey.localeCompare(xt.dayKey)).map(({name:it,value:xt})=>({name:it,value:xt})),kn=L2({start:_,end:P}),Dr={};kn.forEach(it=>{Dr[Lt(it,"yyyy-MM-dd")]=0}),T.forEach(it=>{if(it.start_time&&it.status==="scheduled"){const xt=qr(it.start_time);if(v0(xt,{start:_,end:P})){const et=Lt(xt,"yyyy-MM-dd");Dr.hasOwnProperty(et)&&Dr[et]++}}});const is=Object.keys(Dr).map(it=>({name:An.format(qr(it)),value:Dr[it],dayKey:it})).sort((it,xt)=>it.dayKey.localeCompare(xt.dayKey)).map(({name:it,value:xt})=>({name:it,value:xt})),Na={};L.forEach(it=>{const xt=it.status||"Unknown";Na[xt]=(Na[xt]||0)+1});const Di=Object.entries(Na).map(([it,xt])=>({name:it.charAt(0).toUpperCase()+it.slice(1),value:xt}));x({revenueData:Ie,appointmentTypeData:mt,dailyAppointmentData:_e,treatmentStatusData:Je,profitEstimationData:Kt,totalRevenue:ae,dailyVisitors:Ce,revenueChangePercentage:Ne,dailyAppointmentsChangePercentage:ze,overallTreatmentProgress:Nt,patientAgeData:Kr,appointmentStatusData:Aa,treatmentPlanStatusData:Di,upcomingWeeklyAppointmentTrendData:is}),h(!1)}catch(y){console.error("Error fetching dashboard data:",y),h(!1)}};return w("div",{className:"space-y-6",children:[c(Sa,{heading:"Dashboard",text:"Overview of your dental practice"}),w("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4",children:[w(lr,{children:[w(xr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c(wr,{className:"text-sm font-medium",children:"Today's Appointments"}),c(Lo,{className:"h-4 w-4 text-muted-foreground"})]}),w(mr,{children:[c("div",{className:"text-2xl font-bold",children:t.todaysAppointmentsCount}),t.appointmentsChange!==0&&w("div",{className:"flex items-center text-xs text-muted-foreground",children:[t.appointmentsChange>0?c(Y_,{className:"mr-1 h-4 w-4 text-emerald-500"}):c(G_,{className:"mr-1 h-4 w-4 text-red-500"}),w("span",{className:t.appointmentsChange>0?"text-emerald-500":"text-red-500",children:[Math.abs(t.appointmentsChange),"%"]}),c("span",{className:"ml-1",children:"from last week"})]})]})]}),w(lr,{children:[w(xr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c(wr,{className:"text-sm font-medium",children:"Active Patients"}),c(c4,{className:"h-4 w-4 text-muted-foreground"})]}),w(mr,{children:[c("div",{className:"text-2xl font-bold",children:t.totalPatients}),t.patientsChange!==0&&w("div",{className:"flex items-center text-xs text-muted-foreground",children:[t.patientsChange>0?c(Y_,{className:"mr-1 h-4 w-4 text-emerald-500"}):c(G_,{className:"mr-1 h-4 w-4 text-red-500"}),w("span",{className:t.patientsChange>0?"text-emerald-500":"text-red-500",children:[Math.abs(t.patientsChange),"%"]}),c("span",{className:"ml-1",children:"from last month"})]})]})]}),w(lr,{children:[w(xr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c(wr,{className:"text-sm font-medium",children:"Avg. Wait Time"}),c(sl,{className:"h-4 w-4 text-muted-foreground"})]}),w(mr,{children:[w("div",{className:"text-2xl font-bold",children:[t.avgWaitTime,"m"]}),t.waitTimeChange!==0&&w("div",{className:"flex items-center text-xs text-muted-foreground",children:[t.waitTimeChange<0?c(G_,{className:"mr-1 h-4 w-4 text-emerald-500"}):c(Y_,{className:"mr-1 h-4 w-4 text-red-500"}),w("span",{className:t.waitTimeChange<0?"text-emerald-500":"text-red-500",children:[Math.abs(t.waitTimeChange),"%"]}),c("span",{className:"ml-1",children:t.waitTimeChange<0?"improved":"worse"})]})]})]}),w(lr,{children:[w(xr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c(wr,{className:"text-sm font-medium",children:"Treatment Success"}),c($0,{className:"h-4 w-4 text-muted-foreground"})]}),w(mr,{children:[w("div",{className:"text-2xl font-bold",children:[t.treatmentSuccessRate,"%"]}),t.successRateChange!==0&&w("div",{className:"flex items-center text-xs text-muted-foreground",children:[t.successRateChange>0?c(Y_,{className:"mr-1 h-4 w-4 text-emerald-500"}):c(G_,{className:"mr-1 h-4 w-4 text-red-500"}),w("span",{className:t.successRateChange>0?"text-emerald-500":"text-red-500",children:[Math.abs(t.successRateChange),"%"]}),c("span",{className:"ml-1",children:"from last quarter"})]})]})]})]}),w("div",{className:"grid gap-4 md:grid-cols-2",children:[w(lr,{children:[c(xr,{children:w("div",{className:"flex items-center justify-between",children:[c(wr,{children:"Upcoming Appointments"}),w(Fe,{variant:"ghost",size:"sm",className:"text-sm",onClick:()=>l(!0),children:["View all",c(im,{className:"ml-1 h-4 w-4"})]})]})}),c(mr,{children:f?c("div",{className:"py-8 text-center text-muted-foreground",children:"Loading appointments..."}):n.length>0?c("div",{className:"space-y-4",children:n.map(y=>w("div",{className:"flex items-center rounded-lg border p-4",children:[c("div",{className:"flex h-9 w-9 items-center justify-center rounded-full bg-primary/10",children:c(hi,{className:"h-5 w-5 text-primary"})}),w("div",{className:"ml-4 flex-1",children:[c("p",{className:"text-sm font-medium",children:y.patient}),c("p",{className:"text-sm text-muted-foreground",children:y.type})]}),w("div",{className:"text-right",children:[c("p",{className:"text-sm font-medium",children:y.date}),c("p",{className:"text-sm text-muted-foreground",children:y.time})]})]},y.id))}):c("div",{className:"py-8 text-center text-muted-foreground",children:"No upcoming appointments"})})]}),w(lr,{children:[c(xr,{children:w("div",{className:"flex items-center justify-between",children:[c(wr,{children:"Recent Activity"}),w(Fe,{variant:"ghost",size:"sm",className:"text-sm",onClick:()=>e("/activity-log"),children:["View all",c(im,{className:"ml-1 h-4 w-4"})]})]})}),c(mr,{children:f?c("div",{className:"py-8 text-center text-muted-foreground",children:"Loading activity..."}):u.length>0?c("div",{className:"space-y-8",children:u.map((y,_)=>{const b=y.icon||$0;return w("div",{className:"flex items-start",children:[c("div",{className:`flex h-9 w-9 items-center justify-center rounded-full ${y.type==="appointment"?"bg-emerald-100":y.type==="treatment"?"bg-blue-100":"bg-purple-100"}`,children:c(b,{className:`h-5 w-5 ${y.type==="appointment"?"text-emerald-600":y.type==="treatment"?"text-blue-600":"text-purple-600"}`})}),w("div",{className:"ml-4 flex-1",children:[c("p",{className:"text-sm font-medium",children:y.title}),y.patientName&&w("p",{className:"text-xs text-muted-foreground",children:["Patient: ",y.patientName]}),y.itemName&&w("p",{className:"text-xs text-muted-foreground",children:["Item: ",y.itemName]}),y.staffName&&w("p",{className:"text-xs text-muted-foreground",children:["Staff: ",y.staffName]}),y.details&&c("p",{className:"text-xs text-muted-foreground italic",children:y.details}),c("p",{className:"text-xs text-muted-foreground mt-0.5",children:Lt(y.timestamp,"MMM d, h:mm a")})]})]},_)})}):c("div",{className:"py-8 text-center text-muted-foreground",children:"No recent activity"})})]})]}),w("div",{className:"mt-6",children:[" ",c(iOe,{revenueData:m.revenueData||[],appointmentTypeData:m.appointmentTypeData||[],dailyAppointmentData:m.dailyAppointmentData||[],treatmentStatusData:m.treatmentStatusData||[],profitEstimationData:m.profitEstimationData||{conversionRate:0,estimatedSales:0,estimatedProfit:0},totalRevenue:m.totalRevenue,dailyVisitors:m.dailyVisitors,revenueChangePercentage:0,dailyAppointmentsChangePercentage:0,overallTreatmentProgress:m.overallTreatmentProgress,patientAgeData:m.patientAgeData||[],appointmentStatusData:m.appointmentStatusData||[],treatmentPlanStatusData:m.treatmentPlanStatusData||[],upcomingWeeklyAppointmentTrendData:m.upcomingWeeklyAppointmentTrendData||[]})]}),c(IOe,{isOpen:s,onClose:()=>l(!1),appointments:i})]})}var MOe="Label",Vee=A.forwardRef((e,t)=>c(pr.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Vee.displayName=MOe;var Hee=Vee;const FOe=Cw("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Xt=A.forwardRef(({className:e,...t},r)=>c(Hee,{ref:r,className:Rt(FOe(),e),...t}));Xt.displayName=Hee.displayName;const Jr=A.forwardRef(({className:e,...t},r)=>c("textarea",{className:Rt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Jr.displayName="Textarea";var b3="Tabs",[LOe,MJe]=Qi(b3,[dy]),Gee=dy(),[jOe,aR]=LOe(b3),Yee=A.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:s,activationMode:l="automatic",...u}=e,d=bg(s),[f,h]=ul({prop:n,onChange:a,defaultProp:i??"",caller:b3});return c(jOe,{scope:r,baseId:Rl(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:l,children:c(pr.div,{dir:d,"data-orientation":o,...u,ref:t})})});Yee.displayName=b3;var Kee="TabsList",Xee=A.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=aR(Kee,r),o=Gee(r);return c(lD,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:c(pr.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});Xee.displayName=Kee;var Zee="TabsTrigger",Jee=A.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,o=aR(Zee,r),s=Gee(r),l=tte(o.baseId,n),u=rte(o.baseId,n),d=n===o.value;return c(cD,{asChild:!0,...s,focusable:!a,active:d,children:c(pr.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:l,...i,ref:t,onMouseDown:qt(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:qt(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:qt(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!a&&f&&o.onValueChange(n)})})})});Jee.displayName=Zee;var Qee="TabsContent",ete=A.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=e,s=aR(Qee,r),l=tte(s.baseId,n),u=rte(s.baseId,n),d=n===s.value,f=A.useRef(d);return A.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),c(as,{present:a||d,children:({present:h})=>c(pr.div,{"data-state":d?"active":"inactive","data-orientation":s.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});ete.displayName=Qee;function tte(e,t){return`${e}-trigger-${t}`}function rte(e,t){return`${e}-content-${t}`}var $Oe=Yee,nte=Xee,ate=Jee,ite=ete;const Dg=$Oe,Ig=A.forwardRef(({className:e,...t},r)=>c(nte,{ref:r,className:Rt("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Ig.displayName=nte.displayName;const ll=A.forwardRef(({className:e,...t},r)=>c(ate,{ref:r,className:Rt("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));ll.displayName=ate.displayName;const Ei=A.forwardRef(({className:e,...t},r)=>c(ite,{ref:r,className:Rt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Ei.displayName=ite.displayName;var[S3,FJe]=Qi("Tooltip",[Em]),A3=Em(),ote="TooltipProvider",BOe=700,$O="tooltip.open",[UOe,iR]=S3(ote),ste=e=>{const{__scopeTooltip:t,delayDuration:r=BOe,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=e,o=A.useRef(!0),s=A.useRef(!1),l=A.useRef(0);return A.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),c(UOe,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:A.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:A.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:s,onPointerInTransitChange:A.useCallback(u=>{s.current=u},[]),disableHoverableContent:a,children:i})};ste.displayName=ote;var Yx="Tooltip",[qOe,k3]=S3(Yx),lte=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:a,onOpenChange:i,disableHoverableContent:o,delayDuration:s}=e,l=iR(Yx,e.__scopeTooltip),u=A3(t),[d,f]=A.useState(null),h=Rl(),m=A.useRef(0),x=o??l.disableHoverableContent,g=s??l.delayDuration,y=A.useRef(!1),[_,b]=ul({prop:n,defaultProp:a??!1,onChange:P=>{P?(l.onOpen(),document.dispatchEvent(new CustomEvent($O))):l.onClose(),i==null||i(P)},caller:Yx}),S=A.useMemo(()=>_?y.current?"delayed-open":"instant-open":"closed",[_]),C=A.useCallback(()=>{window.clearTimeout(m.current),m.current=0,y.current=!1,b(!0)},[b]),E=A.useCallback(()=>{window.clearTimeout(m.current),m.current=0,b(!1)},[b]),O=A.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{y.current=!0,b(!0),m.current=0},g)},[g,b]);return A.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),c(g4,{...u,children:c(qOe,{scope:t,contentId:h,open:_,stateAttribute:S,trigger:d,onTriggerChange:f,onTriggerEnter:A.useCallback(()=>{l.isOpenDelayedRef.current?O():C()},[l.isOpenDelayedRef,O,C]),onTriggerLeave:A.useCallback(()=>{x?E():(window.clearTimeout(m.current),m.current=0)},[E,x]),onOpen:C,onClose:E,disableHoverableContent:x,children:r})})};lte.displayName=Yx;var BO="TooltipTrigger",cte=A.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=k3(BO,r),i=iR(BO,r),o=A3(r),s=A.useRef(null),l=Vr(t,s,a.onTriggerChange),u=A.useRef(!1),d=A.useRef(!1),f=A.useCallback(()=>u.current=!1,[]);return A.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),c(Dw,{asChild:!0,...o,children:c(pr.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:l,onPointerMove:qt(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:qt(e.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:qt(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:qt(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:qt(e.onBlur,a.onClose),onClick:qt(e.onClick,a.onClose)})})});cte.displayName=BO;var zOe="TooltipPortal",[LJe,WOe]=S3(zOe,{forceMount:void 0}),K1="TooltipContent",ute=A.forwardRef((e,t)=>{const r=WOe(K1,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=e,o=k3(K1,e.__scopeTooltip);return c(as,{present:n||o.open,children:o.disableHoverableContent?c(dte,{side:a,...i,ref:t}):c(VOe,{side:a,...i,ref:t})})}),VOe=A.forwardRef((e,t)=>{const r=k3(K1,e.__scopeTooltip),n=iR(K1,e.__scopeTooltip),a=A.useRef(null),i=Vr(t,a),[o,s]=A.useState(null),{trigger:l,onClose:u}=r,d=a.current,{onPointerInTransitChange:f}=n,h=A.useCallback(()=>{s(null),f(!1)},[f]),m=A.useCallback((x,g)=>{const y=x.currentTarget,_={x:x.clientX,y:x.clientY},b=XOe(_,y.getBoundingClientRect()),S=ZOe(_,b),C=JOe(g.getBoundingClientRect()),E=e8e([...S,...C]);s(E),f(!0)},[f]);return A.useEffect(()=>()=>h(),[h]),A.useEffect(()=>{if(l&&d){const x=y=>m(y,d),g=y=>m(y,l);return l.addEventListener("pointerleave",x),d.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",x),d.removeEventListener("pointerleave",g)}}},[l,d,m,h]),A.useEffect(()=>{if(o){const x=g=>{const y=g.target,_={x:g.clientX,y:g.clientY},b=(l==null?void 0:l.contains(y))||(d==null?void 0:d.contains(y)),S=!QOe(_,o);b?h():S&&(h(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[l,d,o,u,h]),c(dte,{...e,ref:i})}),[HOe,GOe]=S3(Yx,{isInside:!1}),YOe=nG("TooltipContent"),dte=A.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...s}=e,l=k3(K1,r),u=A3(r),{onClose:d}=l;return A.useEffect(()=>(document.addEventListener($O,d),()=>document.removeEventListener($O,d)),[d]),A.useEffect(()=>{if(l.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),c(Sg,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:w(v4,{"data-state":l.stateAttribute,...u,...s,ref:t,style:{...s.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c(YOe,{children:n}),c(HOe,{scope:r,isInside:!0,children:c(q1e,{id:l.contentId,role:"tooltip",children:a||n})})]})})});ute.displayName=K1;var fte="TooltipArrow",KOe=A.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=A3(r);return GOe(fte,r).isInside?null:c(y4,{...a,...n,ref:t})});KOe.displayName=fte;function XOe(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function ZOe(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function JOe(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function QOe(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const s=t[i],l=t[o],u=s.x,d=s.y,f=l.x,h=l.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(a=!a)}return a}function e8e(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),t8e(t)}function t8e(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var r8e=ste,n8e=lte,a8e=cte,hte=ute;const Xb=r8e,Zb=n8e,Jb=a8e,z2=A.forwardRef(({className:e,sideOffset:t=4,...r},n)=>c(hte,{ref:n,sideOffset:t,className:Rt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...r}));z2.displayName=hte.displayName;var Yw=e=>e.type==="checkbox",L0=e=>e instanceof Date,el=e=>e==null;const pte=e=>typeof e=="object";var Xi=e=>!el(e)&&!Array.isArray(e)&&pte(e)&&!L0(e),mte=e=>Xi(e)&&e.target?Yw(e.target)?e.target.checked:e.target.value:e,i8e=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,gte=(e,t)=>e.has(i8e(t)),o8e=e=>{const t=e.constructor&&e.constructor.prototype;return Xi(t)&&t.hasOwnProperty("isPrototypeOf")},oR=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function di(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(oR&&(e instanceof Blob||n))&&(r||Xi(e)))if(t=r?[]:{},!r&&!o8e(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=di(e[a]));else return e;return t}var Kw=e=>Array.isArray(e)?e.filter(Boolean):[],Xa=e=>e===void 0,nr=(e,t,r)=>{if(!t||!Xi(e))return r;const n=Kw(t.split(/[,[\].]+?/)).reduce((a,i)=>el(a)?a:a[i],e);return Xa(n)||n===e?Xa(e[t])?r:e[t]:n},nc=e=>typeof e=="boolean",sR=e=>/^\w*$/.test(e),vte=e=>Kw(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Kn=(e,t,r)=>{let n=-1;const a=sR(t)?[t]:vte(t),i=a.length,o=i-1;for(;++n<i;){const s=a[n];let l=r;if(n!==o){const u=e[s];l=Xi(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(s==="__proto__"||s==="constructor"||s==="prototype")return;e[s]=l,e=e[s]}};const _S={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Yc={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Jf={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},yte=Qe.createContext(null),iu=()=>Qe.useContext(yte),xte=e=>{const{children:t,...r}=e;return c(yte.Provider,{value:r,children:t})};var wte=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==Yc.all&&(t._proxyFormState[o]=!n||Yc.all),r&&(r[o]=!0),e[o]}});return a},UO=e=>el(e)||!pte(e);function ih(e,t){if(UO(e)||UO(t))return e===t;if(L0(e)&&L0(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const a of r){const i=e[a];if(!n.includes(a))return!1;if(a!=="ref"){const o=t[a];if(L0(i)&&L0(o)||Xi(i)&&Xi(o)||Array.isArray(i)&&Array.isArray(o)?!ih(i,o):i!==o)return!1}}return!0}const _te=(e,t)=>{const r=A.useRef(t);ih(t,r.current)||(r.current=t),A.useEffect(e,r.current)};function s8e(e){const t=iu(),{control:r=t.control,disabled:n,name:a,exact:i}=e||{},[o,s]=Qe.useState(r._formState),l=Qe.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return _te(()=>r._subscribe({name:a,formState:l.current,exact:i,callback:u=>{!n&&s({...r._formState,...u})}}),[a,n,i]),Qe.useEffect(()=>{l.current.isValid&&r._setValid(!0)},[r]),Qe.useMemo(()=>wte(o,r,l.current,!1),[o,r])}var Kd=e=>typeof e=="string",bte=(e,t,r,n,a)=>Kd(e)?(n&&t.watch.add(e),nr(r,e,a)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),nr(r,i))):(n&&(t.watchAll=!0),r);function l8e(e){const t=iu(),{control:r=t.control,name:n,defaultValue:a,disabled:i,exact:o}=e||{},[s,l]=Qe.useState(r._getWatch(n,a));return _te(()=>r._subscribe({name:n,formState:{values:!0},exact:o,callback:u=>!i&&l(bte(n,r._names,u.values||r._formValues,!1,a))}),[n,a,i,o]),Qe.useEffect(()=>r._removeUnmounted()),s}function c8e(e){const t=iu(),{name:r,disabled:n,control:a=t.control,shouldUnregister:i}=e,o=gte(a._names.array,r),s=l8e({control:a,name:r,defaultValue:nr(a._formValues,r,nr(a._defaultValues,r,e.defaultValue)),exact:!0}),l=s8e({control:a,name:r,exact:!0}),u=Qe.useRef(e),d=Qe.useRef(a.register(r,{...e.rules,value:s,...nc(e.disabled)?{disabled:e.disabled}:{}})),f=Qe.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!nr(l.errors,r)},isDirty:{enumerable:!0,get:()=>!!nr(l.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!nr(l.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!nr(l.validatingFields,r)},error:{enumerable:!0,get:()=>nr(l.errors,r)}}),[l,r]),h=Qe.useCallback(y=>d.current.onChange({target:{value:mte(y),name:r},type:_S.CHANGE}),[r]),m=Qe.useCallback(()=>d.current.onBlur({target:{value:nr(a._formValues,r),name:r},type:_S.BLUR}),[r,a._formValues]),x=Qe.useCallback(y=>{const _=nr(a._fields,r);_&&y&&(_._f.ref={focus:()=>y.focus(),select:()=>y.select(),setCustomValidity:b=>y.setCustomValidity(b),reportValidity:()=>y.reportValidity()})},[a._fields,r]),g=Qe.useMemo(()=>({name:r,value:s,...nc(n)||l.disabled?{disabled:l.disabled||n}:{},onChange:h,onBlur:m,ref:x}),[r,n,l.disabled,h,m,x,s]);return Qe.useEffect(()=>{const y=a._options.shouldUnregister||i;a.register(r,{...u.current.rules,...nc(u.current.disabled)?{disabled:u.current.disabled}:{}});const _=(b,S)=>{const C=nr(a._fields,b);C&&C._f&&(C._f.mount=S)};if(_(r,!0),y){const b=di(nr(a._options.defaultValues,r));Kn(a._defaultValues,r,b),Xa(nr(a._formValues,r))&&Kn(a._formValues,r,b)}return!o&&a.register(r),()=>{(o?y&&!a._state.action:y)?a.unregister(r):_(r,!1)}},[r,a,o,i]),Qe.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),Qe.useMemo(()=>({field:g,formState:l,fieldState:f}),[g,l,f])}const zp=e=>e.render(c8e(e));var Ste=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},Il=e=>Array.isArray(e)?e:[e],gz=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},As=e=>Xi(e)&&!Object.keys(e).length,lR=e=>e.type==="file",Bu=e=>typeof e=="function",bS=e=>{if(!oR)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Ate=e=>e.type==="select-multiple",cR=e=>e.type==="radio",u8e=e=>cR(e)||Yw(e),SP=e=>bS(e)&&e.isConnected;function d8e(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Xa(e)?n++:e[t[n++]];return e}function f8e(e){for(const t in e)if(e.hasOwnProperty(t)&&!Xa(e[t]))return!1;return!0}function ao(e,t){const r=Array.isArray(t)?t:sR(t)?[t]:vte(t),n=r.length===1?e:d8e(e,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(Xi(n)&&As(n)||Array.isArray(n)&&f8e(n))&&ao(e,r.slice(0,-1)),e}var kte=e=>{for(const t in e)if(Bu(e[t]))return!0;return!1};function SS(e,t={}){const r=Array.isArray(e);if(Xi(e)||r)for(const n in e)Array.isArray(e[n])||Xi(e[n])&&!kte(e[n])?(t[n]=Array.isArray(e[n])?[]:{},SS(e[n],t[n])):el(e[n])||(t[n]=!0);return t}function Nte(e,t,r){const n=Array.isArray(e);if(Xi(e)||n)for(const a in e)Array.isArray(e[a])||Xi(e[a])&&!kte(e[a])?Xa(t)||UO(r[a])?r[a]=Array.isArray(e[a])?SS(e[a],[]):{...SS(e[a])}:Nte(e[a],el(t)?{}:t[a],r[a]):r[a]=!ih(e[a],t[a]);return r}var d2=(e,t)=>Nte(e,t,SS(t));const vz={value:!1,isValid:!1},yz={value:!0,isValid:!0};var Ete=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Xa(e[0].attributes.value)?Xa(e[0].value)||e[0].value===""?yz:{value:e[0].value,isValid:!0}:yz:vz}return vz},Cte=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Xa(e)?e:t?e===""?NaN:e&&+e:r&&Kd(e)?new Date(e):n?n(e):e;const xz={isValid:!1,value:null};var Pte=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,xz):xz;function wz(e){const t=e.ref;return lR(t)?t.files:cR(t)?Pte(e.refs).value:Ate(t)?[...t.selectedOptions].map(({value:r})=>r):Yw(t)?Ete(e.refs).value:Cte(Xa(t.value)?e.ref.value:t.value,e)}var h8e=(e,t,r,n)=>{const a={};for(const i of e){const o=nr(t,i);o&&Kn(a,i,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},AS=e=>e instanceof RegExp,f2=e=>Xa(e)?e:AS(e)?e.source:Xi(e)?AS(e.value)?e.value.source:e.value:e,Hv=e=>({isOnSubmit:!e||e===Yc.onSubmit,isOnBlur:e===Yc.onBlur,isOnChange:e===Yc.onChange,isOnAll:e===Yc.all,isOnTouch:e===Yc.onTouched});const _z="AsyncFunction";var p8e=e=>!!e&&!!e.validate&&!!(Bu(e.validate)&&e.validate.constructor.name===_z||Xi(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===_z)),m8e=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),qO=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const a1=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const i=nr(e,a);if(i){const{_f:o,...s}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(a1(s,t))break}else if(Xi(s)&&a1(s,t))break}}};function bz(e,t,r){const n=nr(e,r);if(n||sR(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=nr(t,i),s=nr(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(s&&s.type)return{name:i,error:s};a.pop()}return{name:r}}var g8e=(e,t,r,n)=>{r(e);const{name:a,...i}=e;return As(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||Yc.all))},v8e=(e,t,r)=>!e||!t||e===t||Il(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),y8e=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,x8e=(e,t)=>!Kw(nr(e,t)).length&&ao(e,t),Tte=(e,t,r)=>{const n=Il(nr(e,r));return Kn(n,"root",t[r]),Kn(e,r,n),e},Qb=e=>Kd(e);function Sz(e,t,r="validate"){if(Qb(e)||Array.isArray(e)&&e.every(Qb)||nc(e)&&!e)return{type:r,message:Qb(e)?e:"",ref:t}}var Dv=e=>Xi(e)&&!AS(e)?e:{value:e,message:""},zO=async(e,t,r,n,a,i)=>{const{ref:o,refs:s,required:l,maxLength:u,minLength:d,min:f,max:h,pattern:m,validate:x,name:g,valueAsNumber:y,mount:_}=e._f,b=nr(r,g);if(!_||t.has(g))return{};const S=s?s[0]:o,C=F=>{a&&S.reportValidity&&(S.setCustomValidity(nc(F)?"":F||""),S.reportValidity())},E={},O=cR(o),P=Yw(o),I=O||P,L=(y||lR(o))&&Xa(o.value)&&Xa(b)||bS(o)&&o.value===""||b===""||Array.isArray(b)&&!b.length,U=Ste.bind(null,g,n,E),T=(F,j,H,X=Jf.maxLength,re=Jf.minLength)=>{const z=F?j:H;E[g]={type:F?X:re,message:z,ref:o,...U(F?X:re,z)}};if(i?!Array.isArray(b)||!b.length:l&&(!I&&(L||el(b))||nc(b)&&!b||P&&!Ete(s).isValid||O&&!Pte(s).isValid)){const{value:F,message:j}=Qb(l)?{value:!!l,message:l}:Dv(l);if(F&&(E[g]={type:Jf.required,message:j,ref:S,...U(Jf.required,j)},!n))return C(j),E}if(!L&&(!el(f)||!el(h))){let F,j;const H=Dv(h),X=Dv(f);if(!el(b)&&!isNaN(b)){const re=o.valueAsNumber||b&&+b;el(H.value)||(F=re>H.value),el(X.value)||(j=re<X.value)}else{const re=o.valueAsDate||new Date(b),z=K=>new Date(new Date().toDateString()+" "+K),G=o.type=="time",q=o.type=="week";Kd(H.value)&&b&&(F=G?z(b)>z(H.value):q?b>H.value:re>new Date(H.value)),Kd(X.value)&&b&&(j=G?z(b)<z(X.value):q?b<X.value:re<new Date(X.value))}if((F||j)&&(T(!!F,H.message,X.message,Jf.max,Jf.min),!n))return C(E[g].message),E}if((u||d)&&!L&&(Kd(b)||i&&Array.isArray(b))){const F=Dv(u),j=Dv(d),H=!el(F.value)&&b.length>+F.value,X=!el(j.value)&&b.length<+j.value;if((H||X)&&(T(H,F.message,j.message),!n))return C(E[g].message),E}if(m&&!L&&Kd(b)){const{value:F,message:j}=Dv(m);if(AS(F)&&!b.match(F)&&(E[g]={type:Jf.pattern,message:j,ref:o,...U(Jf.pattern,j)},!n))return C(j),E}if(x){if(Bu(x)){const F=await x(b,r),j=Sz(F,S);if(j&&(E[g]={...j,...U(Jf.validate,j.message)},!n))return C(j.message),E}else if(Xi(x)){let F={};for(const j in x){if(!As(F)&&!n)break;const H=Sz(await x[j](b,r),S,j);H&&(F={...H,...U(j,H.message)},C(H.message),n&&(E[g]=F))}if(!As(F)&&(E[g]={ref:S,...F},!n))return E}}return C(!0),E};const w8e={mode:Yc.onSubmit,reValidateMode:Yc.onChange,shouldFocusError:!0};function _8e(e={}){let t={...w8e,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Bu(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const n={};let a=Xi(t.defaultValues)||Xi(t.values)?di(t.values||t.defaultValues)||{}:{},i=t.shouldUnregister?{}:di(a),o={action:!1,mount:!1,watch:!1},s={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:gz(),state:gz()},m=Hv(t.mode),x=Hv(t.reValidateMode),g=t.criteriaMode===Yc.all,y=_e=>Ce=>{clearTimeout(u),u=setTimeout(_e,Ce)},_=async _e=>{if(!t.disabled&&(d.isValid||f.isValid||_e)){const Ce=t.resolver?As((await L()).errors):await T(n,!0);Ce!==r.isValid&&h.state.next({isValid:Ce})}},b=(_e,Ce)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((_e||Array.from(s.mount)).forEach(ze=>{ze&&(Ce?Kn(r.validatingFields,ze,Ce):ao(r.validatingFields,ze))}),h.state.next({validatingFields:r.validatingFields,isValidating:!As(r.validatingFields)}))},S=(_e,Ce=[],ze,gt,pt=!0,Re=!0)=>{if(gt&&ze&&!t.disabled){if(o.action=!0,Re&&Array.isArray(nr(n,_e))){const qe=ze(nr(n,_e),gt.argA,gt.argB);pt&&Kn(n,_e,qe)}if(Re&&Array.isArray(nr(r.errors,_e))){const qe=ze(nr(r.errors,_e),gt.argA,gt.argB);pt&&Kn(r.errors,_e,qe),x8e(r.errors,_e)}if((d.touchedFields||f.touchedFields)&&Re&&Array.isArray(nr(r.touchedFields,_e))){const qe=ze(nr(r.touchedFields,_e),gt.argA,gt.argB);pt&&Kn(r.touchedFields,_e,qe)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=d2(a,i)),h.state.next({name:_e,isDirty:j(_e,Ce),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Kn(i,_e,Ce)},C=(_e,Ce)=>{Kn(r.errors,_e,Ce),h.state.next({errors:r.errors})},E=_e=>{r.errors=_e,h.state.next({errors:r.errors,isValid:!1})},O=(_e,Ce,ze,gt)=>{const pt=nr(n,_e);if(pt){const Re=nr(i,_e,Xa(ze)?nr(a,_e):ze);Xa(Re)||gt&&gt.defaultChecked||Ce?Kn(i,_e,Ce?Re:wz(pt._f)):re(_e,Re),o.mount&&_()}},P=(_e,Ce,ze,gt,pt)=>{let Re=!1,qe=!1;const Nt={name:_e};if(!t.disabled){if(!ze||gt){(d.isDirty||f.isDirty)&&(qe=r.isDirty,r.isDirty=Nt.isDirty=j(),Re=qe!==Nt.isDirty);const Je=ih(nr(a,_e),Ce);qe=!!nr(r.dirtyFields,_e),Je?ao(r.dirtyFields,_e):Kn(r.dirtyFields,_e,!0),Nt.dirtyFields=r.dirtyFields,Re=Re||(d.dirtyFields||f.dirtyFields)&&qe!==!Je}if(ze){const Je=nr(r.touchedFields,_e);Je||(Kn(r.touchedFields,_e,ze),Nt.touchedFields=r.touchedFields,Re=Re||(d.touchedFields||f.touchedFields)&&Je!==ze)}Re&&pt&&h.state.next(Nt)}return Re?Nt:{}},I=(_e,Ce,ze,gt)=>{const pt=nr(r.errors,_e),Re=(d.isValid||f.isValid)&&nc(Ce)&&r.isValid!==Ce;if(t.delayError&&ze?(l=y(()=>C(_e,ze)),l(t.delayError)):(clearTimeout(u),l=null,ze?Kn(r.errors,_e,ze):ao(r.errors,_e)),(ze?!ih(pt,ze):pt)||!As(gt)||Re){const qe={...gt,...Re&&nc(Ce)?{isValid:Ce}:{},errors:r.errors,name:_e};r={...r,...qe},h.state.next(qe)}},L=async _e=>{b(_e,!0);const Ce=await t.resolver(i,t.context,h8e(_e||s.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return b(_e),Ce},U=async _e=>{const{errors:Ce}=await L(_e);if(_e)for(const ze of _e){const gt=nr(Ce,ze);gt?Kn(r.errors,ze,gt):ao(r.errors,ze)}else r.errors=Ce;return Ce},T=async(_e,Ce,ze={valid:!0})=>{for(const gt in _e){const pt=_e[gt];if(pt){const{_f:Re,...qe}=pt;if(Re){const Nt=s.array.has(Re.name),Je=pt._f&&p8e(pt._f);Je&&d.validatingFields&&b([gt],!0);const lt=await zO(pt,s.disabled,i,g,t.shouldUseNativeValidation&&!Ce,Nt);if(Je&&d.validatingFields&&b([gt]),lt[Re.name]&&(ze.valid=!1,Ce))break;!Ce&&(nr(lt,Re.name)?Nt?Tte(r.errors,lt,Re.name):Kn(r.errors,Re.name,lt[Re.name]):ao(r.errors,Re.name))}!As(qe)&&await T(qe,Ce,ze)}}return ze.valid},F=()=>{for(const _e of s.unMount){const Ce=nr(n,_e);Ce&&(Ce._f.refs?Ce._f.refs.every(ze=>!SP(ze)):!SP(Ce._f.ref))&&Z(_e)}s.unMount=new Set},j=(_e,Ce)=>!t.disabled&&(_e&&Ce&&Kn(i,_e,Ce),!ih(D(),a)),H=(_e,Ce,ze)=>bte(_e,s,{...o.mount?i:Xa(Ce)?a:Kd(_e)?{[_e]:Ce}:Ce},ze,Ce),X=_e=>Kw(nr(o.mount?i:a,_e,t.shouldUnregister?nr(a,_e,[]):[])),re=(_e,Ce,ze={})=>{const gt=nr(n,_e);let pt=Ce;if(gt){const Re=gt._f;Re&&(!Re.disabled&&Kn(i,_e,Cte(Ce,Re)),pt=bS(Re.ref)&&el(Ce)?"":Ce,Ate(Re.ref)?[...Re.ref.options].forEach(qe=>qe.selected=pt.includes(qe.value)):Re.refs?Yw(Re.ref)?Re.refs.length>1?Re.refs.forEach(qe=>(!qe.defaultChecked||!qe.disabled)&&(qe.checked=Array.isArray(pt)?!!pt.find(Nt=>Nt===qe.value):pt===qe.value)):Re.refs[0]&&(Re.refs[0].checked=!!pt):Re.refs.forEach(qe=>qe.checked=qe.value===pt):lR(Re.ref)?Re.ref.value="":(Re.ref.value=pt,Re.ref.type||h.state.next({name:_e,values:di(i)})))}(ze.shouldDirty||ze.shouldTouch)&&P(_e,pt,ze.shouldTouch,ze.shouldDirty,!0),ze.shouldValidate&&J(_e)},z=(_e,Ce,ze)=>{for(const gt in Ce){const pt=Ce[gt],Re=`${_e}.${gt}`,qe=nr(n,Re);(s.array.has(_e)||Xi(pt)||qe&&!qe._f)&&!L0(pt)?z(Re,pt,ze):re(Re,pt,ze)}},G=(_e,Ce,ze={})=>{const gt=nr(n,_e),pt=s.array.has(_e),Re=di(Ce);Kn(i,_e,Re),pt?(h.array.next({name:_e,values:di(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&ze.shouldDirty&&h.state.next({name:_e,dirtyFields:d2(a,i),isDirty:j(_e,Re)})):gt&&!gt._f&&!el(Re)?z(_e,Re,ze):re(_e,Re,ze),qO(_e,s)&&h.state.next({...r}),h.state.next({name:o.mount?_e:void 0,values:di(i)})},q=async _e=>{o.mount=!0;const Ce=_e.target;let ze=Ce.name,gt=!0;const pt=nr(n,ze),Re=qe=>{gt=Number.isNaN(qe)||L0(qe)&&isNaN(qe.getTime())||ih(qe,nr(i,ze,qe))};if(pt){let qe,Nt;const Je=Ce.type?wz(pt._f):mte(_e),lt=_e.type===_S.BLUR||_e.type===_S.FOCUS_OUT,sr=!m8e(pt._f)&&!t.resolver&&!nr(r.errors,ze)&&!pt._f.deps||y8e(lt,nr(r.touchedFields,ze),r.isSubmitted,x,m),Kt=qO(ze,s,lt);Kn(i,ze,Je),lt?(pt._f.onBlur&&pt._f.onBlur(_e),l&&l(0)):pt._f.onChange&&pt._f.onChange(_e);const Tr=P(ze,Je,lt),Kr=!As(Tr)||Kt;if(!lt&&h.state.next({name:ze,type:_e.type,values:di(i)}),sr)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?lt&&_():lt||_()),Kr&&h.state.next({name:ze,...Kt?{}:Tr});if(!lt&&Kt&&h.state.next({...r}),t.resolver){const{errors:ln}=await L([ze]);if(Re(Je),gt){const Aa=bz(r.errors,n,ze),tn=bz(ln,n,Aa.name||ze);qe=tn.error,ze=tn.name,Nt=As(ln)}}else b([ze],!0),qe=(await zO(pt,s.disabled,i,g,t.shouldUseNativeValidation))[ze],b([ze]),Re(Je),gt&&(qe?Nt=!1:(d.isValid||f.isValid)&&(Nt=await T(n,!0)));gt&&(pt._f.deps&&J(pt._f.deps),I(ze,Nt,qe,Tr))}},K=(_e,Ce)=>{if(nr(r.errors,Ce)&&_e.focus)return _e.focus(),1},J=async(_e,Ce={})=>{let ze,gt;const pt=Il(_e);if(t.resolver){const Re=await U(Xa(_e)?_e:pt);ze=As(Re),gt=_e?!pt.some(qe=>nr(Re,qe)):ze}else _e?(gt=(await Promise.all(pt.map(async Re=>{const qe=nr(n,Re);return await T(qe&&qe._f?{[Re]:qe}:qe)}))).every(Boolean),!(!gt&&!r.isValid)&&_()):gt=ze=await T(n);return h.state.next({...!Kd(_e)||(d.isValid||f.isValid)&&ze!==r.isValid?{}:{name:_e},...t.resolver||!_e?{isValid:ze}:{},errors:r.errors}),Ce.shouldFocus&&!gt&&a1(n,K,_e?pt:s.mount),gt},D=_e=>{const Ce={...o.mount?i:a};return Xa(_e)?Ce:Kd(_e)?nr(Ce,_e):_e.map(ze=>nr(Ce,ze))},Y=(_e,Ce)=>({invalid:!!nr((Ce||r).errors,_e),isDirty:!!nr((Ce||r).dirtyFields,_e),error:nr((Ce||r).errors,_e),isValidating:!!nr(r.validatingFields,_e),isTouched:!!nr((Ce||r).touchedFields,_e)}),Q=_e=>{_e&&Il(_e).forEach(Ce=>ao(r.errors,Ce)),h.state.next({errors:_e?r.errors:{}})},ie=(_e,Ce,ze)=>{const gt=(nr(n,_e,{_f:{}})._f||{}).ref,pt=nr(r.errors,_e)||{},{ref:Re,message:qe,type:Nt,...Je}=pt;Kn(r.errors,_e,{...Je,...Ce,ref:gt}),h.state.next({name:_e,errors:r.errors,isValid:!1}),ze&&ze.shouldFocus&&gt&&gt.focus&&gt.focus()},se=(_e,Ce)=>Bu(_e)?h.state.subscribe({next:ze=>_e(H(void 0,Ce),ze)}):H(_e,Ce,!0),te=_e=>h.state.subscribe({next:Ce=>{v8e(_e.name,Ce.name,_e.exact)&&g8e(Ce,_e.formState||d,ht,_e.reRenderRoot)&&_e.callback({values:{...i},...r,...Ce})}}).unsubscribe,de=_e=>(o.mount=!0,f={...f,..._e.formState},te({..._e,formState:f})),Z=(_e,Ce={})=>{for(const ze of _e?Il(_e):s.mount)s.mount.delete(ze),s.array.delete(ze),Ce.keepValue||(ao(n,ze),ao(i,ze)),!Ce.keepError&&ao(r.errors,ze),!Ce.keepDirty&&ao(r.dirtyFields,ze),!Ce.keepTouched&&ao(r.touchedFields,ze),!Ce.keepIsValidating&&ao(r.validatingFields,ze),!t.shouldUnregister&&!Ce.keepDefaultValue&&ao(a,ze);h.state.next({values:di(i)}),h.state.next({...r,...Ce.keepDirty?{isDirty:j()}:{}}),!Ce.keepIsValid&&_()},ce=({disabled:_e,name:Ce})=>{(nc(_e)&&o.mount||_e||s.disabled.has(Ce))&&(_e?s.disabled.add(Ce):s.disabled.delete(Ce))},oe=(_e,Ce={})=>{let ze=nr(n,_e);const gt=nc(Ce.disabled)||nc(t.disabled);return Kn(n,_e,{...ze||{},_f:{...ze&&ze._f?ze._f:{ref:{name:_e}},name:_e,mount:!0,...Ce}}),s.mount.add(_e),ze?ce({disabled:nc(Ce.disabled)?Ce.disabled:t.disabled,name:_e}):O(_e,!0,Ce.value),{...gt?{disabled:Ce.disabled||t.disabled}:{},...t.progressive?{required:!!Ce.required,min:f2(Ce.min),max:f2(Ce.max),minLength:f2(Ce.minLength),maxLength:f2(Ce.maxLength),pattern:f2(Ce.pattern)}:{},name:_e,onChange:q,onBlur:q,ref:pt=>{if(pt){oe(_e,Ce),ze=nr(n,_e);const Re=Xa(pt.value)&&pt.querySelectorAll&&pt.querySelectorAll("input,select,textarea")[0]||pt,qe=u8e(Re),Nt=ze._f.refs||[];if(qe?Nt.find(Je=>Je===Re):Re===ze._f.ref)return;Kn(n,_e,{_f:{...ze._f,...qe?{refs:[...Nt.filter(SP),Re,...Array.isArray(nr(a,_e))?[{}]:[]],ref:{type:Re.type,name:_e}}:{ref:Re}}}),O(_e,!1,void 0,Re)}else ze=nr(n,_e,{}),ze._f&&(ze._f.mount=!1),(t.shouldUnregister||Ce.shouldUnregister)&&!(gte(s.array,_e)&&o.action)&&s.unMount.add(_e)}}},ae=()=>t.shouldFocusError&&a1(n,K,s.mount),Ne=_e=>{nc(_e)&&(h.state.next({disabled:_e}),a1(n,(Ce,ze)=>{const gt=nr(n,ze);gt&&(Ce.disabled=gt._f.disabled||_e,Array.isArray(gt._f.refs)&&gt._f.refs.forEach(pt=>{pt.disabled=gt._f.disabled||_e}))},0,!1))},Ie=(_e,Ce)=>async ze=>{let gt;ze&&(ze.preventDefault&&ze.preventDefault(),ze.persist&&ze.persist());let pt=di(i);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:Re,values:qe}=await L();r.errors=Re,pt=qe}else await T(n);if(s.disabled.size)for(const Re of s.disabled)Kn(pt,Re,void 0);if(ao(r.errors,"root"),As(r.errors)){h.state.next({errors:{}});try{await _e(pt,ze)}catch(Re){gt=Re}}else Ce&&await Ce({...r.errors},ze),ae(),setTimeout(ae);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:As(r.errors)&&!gt,submitCount:r.submitCount+1,errors:r.errors}),gt)throw gt},Te=(_e,Ce={})=>{nr(n,_e)&&(Xa(Ce.defaultValue)?G(_e,di(nr(a,_e))):(G(_e,Ce.defaultValue),Kn(a,_e,di(Ce.defaultValue))),Ce.keepTouched||ao(r.touchedFields,_e),Ce.keepDirty||(ao(r.dirtyFields,_e),r.isDirty=Ce.defaultValue?j(_e,di(nr(a,_e))):j()),Ce.keepError||(ao(r.errors,_e),d.isValid&&_()),h.state.next({...r}))},he=(_e,Ce={})=>{const ze=_e?di(_e):a,gt=di(ze),pt=As(_e),Re=pt?a:gt;if(Ce.keepDefaultValues||(a=ze),!Ce.keepValues){if(Ce.keepDirtyValues){const qe=new Set([...s.mount,...Object.keys(d2(a,i))]);for(const Nt of Array.from(qe))nr(r.dirtyFields,Nt)?Kn(Re,Nt,nr(i,Nt)):G(Nt,nr(Re,Nt))}else{if(oR&&Xa(_e))for(const qe of s.mount){const Nt=nr(n,qe);if(Nt&&Nt._f){const Je=Array.isArray(Nt._f.refs)?Nt._f.refs[0]:Nt._f.ref;if(bS(Je)){const lt=Je.closest("form");if(lt){lt.reset();break}}}}for(const qe of s.mount)G(qe,nr(Re,qe))}i=di(Re),h.array.next({values:{...Re}}),h.state.next({values:{...Re}})}s={mount:Ce.keepDirtyValues?s.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!Ce.keepIsValid||!!Ce.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:Ce.keepSubmitCount?r.submitCount:0,isDirty:pt?!1:Ce.keepDirty?r.isDirty:!!(Ce.keepDefaultValues&&!ih(_e,a)),isSubmitted:Ce.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:pt?{}:Ce.keepDirtyValues?Ce.keepDefaultValues&&i?d2(a,i):r.dirtyFields:Ce.keepDefaultValues&&_e?d2(a,_e):Ce.keepDirty?r.dirtyFields:{},touchedFields:Ce.keepTouched?r.touchedFields:{},errors:Ce.keepErrors?r.errors:{},isSubmitSuccessful:Ce.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Ge=(_e,Ce)=>he(Bu(_e)?_e(i):_e,Ce),mt=(_e,Ce={})=>{const ze=nr(n,_e),gt=ze&&ze._f;if(gt){const pt=gt.refs?gt.refs[0]:gt.ref;pt.focus&&(pt.focus(),Ce.shouldSelect&&Bu(pt.select)&&pt.select())}},ht=_e=>{r={...r,..._e}},ft={control:{register:oe,unregister:Z,getFieldState:Y,handleSubmit:Ie,setError:ie,_subscribe:te,_runSchema:L,_getWatch:H,_getDirty:j,_setValid:_,_setFieldArray:S,_setDisabledField:ce,_setErrors:E,_getFieldArray:X,_reset:he,_resetDefaultValues:()=>Bu(t.defaultValues)&&t.defaultValues().then(_e=>{Ge(_e,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:F,_disableForm:Ne,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(_e){o=_e},get _defaultValues(){return a},get _names(){return s},set _names(_e){s=_e},get _formState(){return r},get _options(){return t},set _options(_e){t={...t,..._e}}},subscribe:de,trigger:J,register:oe,handleSubmit:Ie,watch:se,setValue:G,getValues:D,reset:Ge,resetField:Te,clearErrors:Q,unregister:Z,setError:ie,setFocus:mt,getFieldState:Y};return{...ft,formControl:ft}}var Op=()=>{const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const r=(Math.random()*16+e)%16|0;return(t=="x"?r:r&3|8).toString(16)})},AP=(e,t,r={})=>r.shouldFocus||Xa(r.shouldFocus)?r.focusName||`${e}.${Xa(r.focusIndex)?t:r.focusIndex}.`:"",kP=(e,t)=>[...e,...Il(t)],NP=e=>Array.isArray(e)?e.map(()=>{}):void 0;function EP(e,t,r){return[...e.slice(0,t),...Il(r),...e.slice(t)]}var CP=(e,t,r)=>Array.isArray(e)?(Xa(e[r])&&(e[r]=void 0),e.splice(r,0,e.splice(t,1)[0]),e):[],PP=(e,t)=>[...Il(t),...Il(e)];function b8e(e,t){let r=0;const n=[...e];for(const a of t)n.splice(a-r,1),r++;return Kw(n).length?n:[]}var TP=(e,t)=>Xa(t)?[]:b8e(e,Il(t).sort((r,n)=>r-n)),OP=(e,t,r)=>{[e[t],e[r]]=[e[r],e[t]]},Az=(e,t,r)=>(e[t]=r,e);function kS(e){const t=iu(),{control:r=t.control,name:n,keyName:a="id",shouldUnregister:i,rules:o}=e,[s,l]=Qe.useState(r._getFieldArray(n)),u=Qe.useRef(r._getFieldArray(n).map(Op)),d=Qe.useRef(s),f=Qe.useRef(n),h=Qe.useRef(!1);f.current=n,d.current=s,r._names.array.add(n),o&&r.register(n,o),Qe.useEffect(()=>r._subjects.array.subscribe({next:({values:O,name:P})=>{if(P===f.current||!P){const I=nr(O,f.current);Array.isArray(I)&&(l(I),u.current=I.map(Op))}}}).unsubscribe,[r]);const m=Qe.useCallback(O=>{h.current=!0,r._setFieldArray(n,O)},[r,n]),x=(O,P)=>{const I=Il(di(O)),L=kP(r._getFieldArray(n),I);r._names.focus=AP(n,L.length-1,P),u.current=kP(u.current,I.map(Op)),m(L),l(L),r._setFieldArray(n,L,kP,{argA:NP(O)})},g=(O,P)=>{const I=Il(di(O)),L=PP(r._getFieldArray(n),I);r._names.focus=AP(n,0,P),u.current=PP(u.current,I.map(Op)),m(L),l(L),r._setFieldArray(n,L,PP,{argA:NP(O)})},y=O=>{const P=TP(r._getFieldArray(n),O);u.current=TP(u.current,O),m(P),l(P),!Array.isArray(nr(r._fields,n))&&Kn(r._fields,n,void 0),r._setFieldArray(n,P,TP,{argA:O})},_=(O,P,I)=>{const L=Il(di(P)),U=EP(r._getFieldArray(n),O,L);r._names.focus=AP(n,O,I),u.current=EP(u.current,O,L.map(Op)),m(U),l(U),r._setFieldArray(n,U,EP,{argA:O,argB:NP(P)})},b=(O,P)=>{const I=r._getFieldArray(n);OP(I,O,P),OP(u.current,O,P),m(I),l(I),r._setFieldArray(n,I,OP,{argA:O,argB:P},!1)},S=(O,P)=>{const I=r._getFieldArray(n);CP(I,O,P),CP(u.current,O,P),m(I),l(I),r._setFieldArray(n,I,CP,{argA:O,argB:P},!1)},C=(O,P)=>{const I=di(P),L=Az(r._getFieldArray(n),O,I);u.current=[...L].map((U,T)=>!U||T===O?Op():u.current[T]),m(L),l([...L]),r._setFieldArray(n,L,Az,{argA:O,argB:I},!0,!1)},E=O=>{const P=Il(di(O));u.current=P.map(Op),m([...P]),l([...P]),r._setFieldArray(n,[...P],I=>I,{},!0,!1)};return Qe.useEffect(()=>{if(r._state.action=!1,qO(n,r._names)&&r._subjects.state.next({...r._formState}),h.current&&(!Hv(r._options.mode).isOnSubmit||r._formState.isSubmitted)&&!Hv(r._options.reValidateMode).isOnSubmit)if(r._options.resolver)r._runSchema([n]).then(O=>{const P=nr(O.errors,n),I=nr(r._formState.errors,n);(I?!P&&I.type||P&&(I.type!==P.type||I.message!==P.message):P&&P.type)&&(P?Kn(r._formState.errors,n,P):ao(r._formState.errors,n),r._subjects.state.next({errors:r._formState.errors}))});else{const O=nr(r._fields,n);O&&O._f&&!(Hv(r._options.reValidateMode).isOnSubmit&&Hv(r._options.mode).isOnSubmit)&&zO(O,r._names.disabled,r._formValues,r._options.criteriaMode===Yc.all,r._options.shouldUseNativeValidation,!0).then(P=>!As(P)&&r._subjects.state.next({errors:Tte(r._formState.errors,P,n)}))}r._subjects.state.next({name:n,values:di(r._formValues)}),r._names.focus&&a1(r._fields,(O,P)=>{if(r._names.focus&&P.startsWith(r._names.focus)&&O.focus)return O.focus(),1}),r._names.focus="",r._setValid(),h.current=!1},[s,n,r]),Qe.useEffect(()=>(!nr(r._formValues,n)&&r._setFieldArray(n),()=>{const O=(P,I)=>{const L=nr(r._fields,P);L&&L._f&&(L._f.mount=I)};r._options.shouldUnregister||i?r.unregister(n):O(n,!1)}),[n,r,a,i]),{swap:Qe.useCallback(b,[m,n,r]),move:Qe.useCallback(S,[m,n,r]),prepend:Qe.useCallback(g,[m,n,r]),append:Qe.useCallback(x,[m,n,r]),remove:Qe.useCallback(y,[m,n,r]),insert:Qe.useCallback(_,[m,n,r]),update:Qe.useCallback(C,[m,n,r]),replace:Qe.useCallback(E,[m,n,r]),fields:Qe.useMemo(()=>s.map((O,P)=>({...O,[a]:u.current[P]||Op()})),[s,a])}}const S8e=typeof window<"u"?Qe.useLayoutEffect:Qe.useEffect;function ld(e={}){const t=Qe.useRef(void 0),r=Qe.useRef(void 0),[n,a]=Qe.useState({isDirty:!1,isValidating:!1,isLoading:Bu(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Bu(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:_8e(e),formState:n},e.formControl&&e.defaultValues&&!Bu(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const i=t.current.control;return i._options=e,S8e(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(s=>({...s,isReady:!0})),o},[i]),Qe.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),Qe.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode),e.errors&&!As(e.errors)&&i._setErrors(e.errors)},[i,e.errors,e.mode,e.reValidateMode]),Qe.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),Qe.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),Qe.useEffect(()=>{e.values&&!ih(e.values,r.current)?(i._reset(e.values,i._options.resetOptions),r.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),Qe.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=wte(n,i),t.current}const kz=(e,t,r)=>{if(e&&"reportValidity"in e){const n=nr(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},Ote=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?kz(n.ref,r,e):n.refs&&n.refs.forEach(a=>kz(a,r,e))}},A8e=(e,t)=>{t.shouldUseNativeValidation&&Ote(e,t);const r={};for(const n in e){const a=nr(t.fields,n),i=Object.assign(e[n]||{},{ref:a&&a.ref});if(k8e(t.names||Object.keys(e),n)){const o=Object.assign({},nr(r,n));Kn(o,"root",i),Kn(r,n,o)}else Kn(r,n,i)}return r},k8e=(e,t)=>e.some(r=>r.startsWith(t+"."));var N8e=function(e,t){for(var r={};e.length;){var n=e[0],a=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var s=n.unionErrors[0].errors[0];r[o]={message:s.message,type:s.code}}else r[o]={message:i,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var l=r[o].types,u=l&&l[n.code];r[o]=Ste(o,t,r,a,u?[].concat(u,n.message):n.message)}e.shift()}return r},cd=function(e,t,r){return r===void 0&&(r={}),function(n,a,i){try{return Promise.resolve(function(o,s){try{var l=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return i.shouldUseNativeValidation&&Ote({},i),{errors:{},values:r.raw?n:u}})}catch(u){return s(u)}return l&&l.then?l.then(void 0,s):l}(0,function(o){if(function(s){return Array.isArray(s==null?void 0:s.errors)}(o))return{values:{},errors:A8e(N8e(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},N3="Checkbox",[E8e,jJe]=Qi(N3),[C8e,P8e]=E8e(N3),Dte=A.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:o,disabled:s,value:l="on",onCheckedChange:u,form:d,...f}=e,[h,m]=A.useState(null),x=Vr(t,C=>m(C)),g=A.useRef(!1),y=h?d||!!h.closest("form"):!0,[_,b]=ul({prop:a,defaultProp:i??!1,onChange:u,caller:N3}),S=A.useRef(_);return A.useEffect(()=>{const C=h==null?void 0:h.form;if(C){const E=()=>b(S.current);return C.addEventListener("reset",E),()=>C.removeEventListener("reset",E)}},[h,b]),w(C8e,{scope:r,state:_,disabled:s,children:[c(pr.button,{type:"button",role:"checkbox","aria-checked":rm(_)?"mixed":_,"aria-required":o,"data-state":Fte(_),"data-disabled":s?"":void 0,disabled:s,value:l,...f,ref:x,onKeyDown:qt(e.onKeyDown,C=>{C.key==="Enter"&&C.preventDefault()}),onClick:qt(e.onClick,C=>{b(E=>rm(E)?!0:!E),y&&(g.current=C.isPropagationStopped(),g.current||C.stopPropagation())})}),y&&c(Mte,{control:h,bubbles:!g.current,name:n,value:l,checked:_,required:o,disabled:s,form:d,style:{transform:"translateX(-100%)"},defaultChecked:rm(i)?!1:i})]})});Dte.displayName=N3;var Ite="CheckboxIndicator",Rte=A.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,i=P8e(Ite,r);return c(as,{present:n||rm(i.state)||i.state===!0,children:c(pr.span,{"data-state":Fte(i.state),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});Rte.displayName=Ite;var T8e="CheckboxBubbleInput",Mte=A.forwardRef(({__scopeCheckbox:e,control:t,checked:r,bubbles:n=!0,defaultChecked:a,...i},o)=>{const s=A.useRef(null),l=Vr(s,o),u=T4(r),d=m4(t);A.useEffect(()=>{const h=s.current;if(!h)return;const m=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(m,"checked").set;if(u!==r&&g){const y=new Event("click",{bubbles:n});h.indeterminate=rm(r),g.call(h,rm(r)?!1:r),h.dispatchEvent(y)}},[u,r,n]);const f=A.useRef(rm(r)?!1:r);return c(pr.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??f.current,...i,tabIndex:-1,ref:l,style:{...i.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Mte.displayName=T8e;function rm(e){return e==="indeterminate"}function Fte(e){return rm(e)?"indeterminate":e?"checked":"unchecked"}var Lte=Dte,O8e=Rte;const Ts=A.forwardRef(({className:e,...t},r)=>c(Lte,{ref:r,className:Rt("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:c(O8e,{className:Rt("flex items-center justify-center text-current"),children:c(U0,{className:"h-4 w-4"})})}));Ts.displayName=Lte.displayName;const Rh=xte,jte=A.createContext({}),He=({...e})=>c(jte.Provider,{value:{name:e.name},children:c(zp,{...e})}),E3=()=>{const e=A.useContext(jte),t=A.useContext($te),{getFieldState:r,formState:n}=iu(),a=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},$te=A.createContext({}),De=A.forwardRef(({className:e,...t},r)=>{const n=A.useId();return c($te.Provider,{value:{id:n},children:c("div",{ref:r,className:Rt("space-y-2",e),...t})})});De.displayName="FormItem";const Oe=A.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:a}=E3();return c(Xt,{ref:r,className:Rt(n&&"text-destructive",e),htmlFor:a,...t})});Oe.displayName="FormLabel";const Me=A.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:i}=E3();return c(tG,{ref:t,id:n,"aria-describedby":r?`${a} ${i}`:`${a}`,"aria-invalid":!!r,...e})});Me.displayName="FormControl";const Ai=A.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=E3();return c("p",{ref:r,id:n,className:Rt("text-sm text-muted-foreground",e),...t})});Ai.displayName="FormDescription";const Ze=A.forwardRef(({className:e,children:t,...r},n)=>{const{error:a,formMessageId:i}=E3(),o=a?String(a==null?void 0:a.message):t;return o?c("p",{ref:n,id:i,className:Rt("text-sm font-medium text-destructive",e),...r,children:o}):null});Ze.displayName="FormMessage";var Bn;(function(e){e.assertEqual=a=>a;function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(s=>typeof a[a[s]]!="number"),o={};for(const s of i)o[s]=a[s];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(Bn||(Bn={}));var WO;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(WO||(WO={}));const yr=Bn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ah=e=>{switch(typeof e){case"undefined":return yr.undefined;case"string":return yr.string;case"number":return isNaN(e)?yr.nan:yr.number;case"boolean":return yr.boolean;case"function":return yr.function;case"bigint":return yr.bigint;case"symbol":return yr.symbol;case"object":return Array.isArray(e)?yr.array:e===null?yr.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?yr.promise:typeof Map<"u"&&e instanceof Map?yr.map:typeof Set<"u"&&e instanceof Set?yr.set:typeof Date<"u"&&e instanceof Date?yr.date:yr.object;default:return yr.unknown}},Wt=Bn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),D8e=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class gc extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let s=n,l=0;for(;l<o.path.length;){const u=o.path[l];l===o.path.length-1?(s[u]=s[u]||{_errors:[]},s[u]._errors.push(r(o))):s[u]=s[u]||{_errors:[]},s=s[u],l++}}};return a(this),n}static assert(t){if(!(t instanceof gc))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Bn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(t(a))):n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}gc.create=e=>new gc(e);const X1=(e,t)=>{let r;switch(e.code){case Wt.invalid_type:e.received===yr.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case Wt.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Bn.jsonStringifyReplacer)}`;break;case Wt.unrecognized_keys:r=`Unrecognized key(s) in object: ${Bn.joinValues(e.keys,", ")}`;break;case Wt.invalid_union:r="Invalid input";break;case Wt.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Bn.joinValues(e.options)}`;break;case Wt.invalid_enum_value:r=`Invalid enum value. Expected ${Bn.joinValues(e.options)}, received '${e.received}'`;break;case Wt.invalid_arguments:r="Invalid function arguments";break;case Wt.invalid_return_type:r="Invalid function return type";break;case Wt.invalid_date:r="Invalid date";break;case Wt.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Bn.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case Wt.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case Wt.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case Wt.custom:r="Invalid input";break;case Wt.invalid_intersection_types:r="Intersection results could not be merged";break;case Wt.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case Wt.not_finite:r="Number must be finite";break;default:r=t.defaultError,Bn.assertNever(e)}return{message:r}};let Bte=X1;function I8e(e){Bte=e}function NS(){return Bte}const ES=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,i=[...r,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let s="";const l=n.filter(u=>!!u).slice().reverse();for(const u of l)s=u(o,{data:t,defaultError:s}).message;return{...a,path:i,message:s}},R8e=[];function ur(e,t){const r=NS(),n=ES({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===X1?void 0:X1].filter(a=>!!a)});e.common.issues.push(n)}class Ms{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return sn;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const i=await a.key,o=await a.value;n.push({key:i,value:o})}return Ms.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return sn;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const sn=Object.freeze({status:"aborted"}),Gv=e=>({status:"dirty",value:e}),fl=e=>({status:"valid",value:e}),VO=e=>e.status==="aborted",HO=e=>e.status==="dirty",ug=e=>e.status==="valid",Kx=e=>typeof Promise<"u"&&e instanceof Promise;function CS(e,t,r,n){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function Ute(e,t,r,n,a){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var Pr;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Pr||(Pr={}));var N2,E2;class df{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Nz=(e,t)=>{if(ug(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new gc(e.common.issues);return this._error=r,this._error}}};function vn(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,s)=>{var l,u;const{message:d}=e;return o.code==="invalid_enum_value"?{message:d??s.defaultError}:typeof s.data>"u"?{message:(l=d??n)!==null&&l!==void 0?l:s.defaultError}:o.code!=="invalid_type"?{message:s.defaultError}:{message:(u=d??r)!==null&&u!==void 0?u:s.defaultError}},description:a}}class bn{get description(){return this._def.description}_getType(t){return ah(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:ah(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Ms,ctx:{common:t.parent.common,data:t.data,parsedType:ah(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Kx(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;const a={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ah(t)},i=this._parseSync({data:t,path:a.path,parent:a});return Nz(a,i)}"~validate"(t){var r,n;const a={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ah(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:a});return ug(i)?{value:i.value}:{issues:a.common.issues}}catch(i){!((n=(r=i==null?void 0:i.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),a.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:a}).then(i=>ug(i)?{value:i.value}:{issues:a.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ah(t)},a=this._parse({data:t,path:n.path,parent:n}),i=await(Kx(a)?a:Promise.resolve(a));return Nz(n,i)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const o=t(a),s=()=>i.addIssue({code:Wt.custom,...n(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(s(),!1)):o?!0:(s(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new ed({schema:this,typeName:en.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return nf.create(this,this._def)}nullable(){return gm.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Gu.create(this)}promise(){return J1.create(this,this._def)}or(t){return Qx.create([this,t],this._def)}and(t){return ew.create(this,t,this._def)}transform(t){return new ed({...vn(this._def),schema:this,typeName:en.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new iw({...vn(this._def),innerType:this,defaultValue:r,typeName:en.ZodDefault})}brand(){return new uR({typeName:en.ZodBranded,type:this,...vn(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new ow({...vn(this._def),innerType:this,catchValue:r,typeName:en.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return Xw.create(this,t)}readonly(){return sw.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const M8e=/^c[^\s-]{8,}$/i,F8e=/^[0-9a-z]+$/,L8e=/^[0-9A-HJKMNP-TV-Z]{26}$/i,j8e=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,$8e=/^[a-z0-9_-]{21}$/i,B8e=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,U8e=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,q8e=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,z8e="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let DP;const W8e=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,V8e=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,H8e=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,G8e=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Y8e=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,K8e=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,qte="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",X8e=new RegExp(`^${qte}$`);function zte(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function Z8e(e){return new RegExp(`^${zte(e)}$`)}function Wte(e){let t=`${qte}T${zte(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function J8e(e,t){return!!((t==="v4"||!t)&&W8e.test(e)||(t==="v6"||!t)&&H8e.test(e))}function Q8e(e,t){if(!B8e.test(e))return!1;try{const[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||!a.typ||!a.alg||t&&a.alg!==t)}catch{return!1}}function eDe(e,t){return!!((t==="v4"||!t)&&V8e.test(e)||(t==="v6"||!t)&&G8e.test(e))}class qu extends bn{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==yr.string){const i=this._getOrReturnCtx(t);return ur(i,{code:Wt.invalid_type,expected:yr.string,received:i.parsedType}),sn}const n=new Ms;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),ur(a,{code:Wt.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),ur(a,{code:Wt.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,s=t.data.length<i.value;(o||s)&&(a=this._getOrReturnCtx(t,a),o?ur(a,{code:Wt.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):s&&ur(a,{code:Wt.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")q8e.test(t.data)||(a=this._getOrReturnCtx(t,a),ur(a,{validation:"email",code:Wt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")DP||(DP=new RegExp(z8e,"u")),DP.test(t.data)||(a=this._getOrReturnCtx(t,a),ur(a,{validation:"emoji",code:Wt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")j8e.test(t.data)||(a=this._getOrReturnCtx(t,a),ur(a,{validation:"uuid",code:Wt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")$8e.test(t.data)||(a=this._getOrReturnCtx(t,a),ur(a,{validation:"nanoid",code:Wt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")M8e.test(t.data)||(a=this._getOrReturnCtx(t,a),ur(a,{validation:"cuid",code:Wt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")F8e.test(t.data)||(a=this._getOrReturnCtx(t,a),ur(a,{validation:"cuid2",code:Wt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")L8e.test(t.data)||(a=this._getOrReturnCtx(t,a),ur(a,{validation:"ulid",code:Wt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),ur(a,{validation:"url",code:Wt.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),ur(a,{validation:"regex",code:Wt.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),ur(a,{code:Wt.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),ur(a,{code:Wt.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),ur(a,{code:Wt.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?Wte(i).test(t.data)||(a=this._getOrReturnCtx(t,a),ur(a,{code:Wt.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?X8e.test(t.data)||(a=this._getOrReturnCtx(t,a),ur(a,{code:Wt.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?Z8e(i).test(t.data)||(a=this._getOrReturnCtx(t,a),ur(a,{code:Wt.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?U8e.test(t.data)||(a=this._getOrReturnCtx(t,a),ur(a,{validation:"duration",code:Wt.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?J8e(t.data,i.version)||(a=this._getOrReturnCtx(t,a),ur(a,{validation:"ip",code:Wt.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?Q8e(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),ur(a,{validation:"jwt",code:Wt.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?eDe(t.data,i.version)||(a=this._getOrReturnCtx(t,a),ur(a,{validation:"cidr",code:Wt.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?Y8e.test(t.data)||(a=this._getOrReturnCtx(t,a),ur(a,{validation:"base64",code:Wt.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?K8e.test(t.data)||(a=this._getOrReturnCtx(t,a),ur(a,{validation:"base64url",code:Wt.invalid_string,message:i.message}),n.dirty()):Bn.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:Wt.invalid_string,...Pr.errToObj(n)})}_addCheck(t){return new qu({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Pr.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Pr.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Pr.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Pr.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Pr.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Pr.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Pr.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Pr.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Pr.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Pr.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Pr.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Pr.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Pr.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(n=t==null?void 0:t.local)!==null&&n!==void 0?n:!1,...Pr.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Pr.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Pr.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Pr.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Pr.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Pr.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Pr.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Pr.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Pr.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Pr.errToObj(r)})}nonempty(t){return this.min(1,Pr.errToObj(t))}trim(){return new qu({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new qu({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new qu({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}qu.create=e=>{var t;return new qu({checks:[],typeName:en.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...vn(e)})};function tDe(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,i=parseInt(e.toFixed(a).replace(".","")),o=parseInt(t.toFixed(a).replace(".",""));return i%o/Math.pow(10,a)}class hm extends bn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==yr.number){const i=this._getOrReturnCtx(t);return ur(i,{code:Wt.invalid_type,expected:yr.number,received:i.parsedType}),sn}let n;const a=new Ms;for(const i of this._def.checks)i.kind==="int"?Bn.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),ur(n,{code:Wt.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),ur(n,{code:Wt.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),ur(n,{code:Wt.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?tDe(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),ur(n,{code:Wt.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),ur(n,{code:Wt.not_finite,message:i.message}),a.dirty()):Bn.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Pr.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Pr.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Pr.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Pr.toString(r))}setLimit(t,r,n,a){return new hm({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Pr.toString(a)}]})}_addCheck(t){return new hm({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Pr.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Pr.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Pr.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Pr.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Pr.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Pr.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Pr.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Pr.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Pr.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Bn.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}hm.create=e=>new hm({checks:[],typeName:en.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...vn(e)});class pm extends bn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==yr.bigint)return this._getInvalidInput(t);let n;const a=new Ms;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),ur(n,{code:Wt.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),ur(n,{code:Wt.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),ur(n,{code:Wt.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):Bn.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return ur(r,{code:Wt.invalid_type,expected:yr.bigint,received:r.parsedType}),sn}gte(t,r){return this.setLimit("min",t,!0,Pr.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Pr.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Pr.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Pr.toString(r))}setLimit(t,r,n,a){return new pm({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Pr.toString(a)}]})}_addCheck(t){return new pm({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Pr.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Pr.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Pr.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Pr.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Pr.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}pm.create=e=>{var t;return new pm({checks:[],typeName:en.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...vn(e)})};class Xx extends bn{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==yr.boolean){const n=this._getOrReturnCtx(t);return ur(n,{code:Wt.invalid_type,expected:yr.boolean,received:n.parsedType}),sn}return fl(t.data)}}Xx.create=e=>new Xx({typeName:en.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...vn(e)});class dg extends bn{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==yr.date){const i=this._getOrReturnCtx(t);return ur(i,{code:Wt.invalid_type,expected:yr.date,received:i.parsedType}),sn}if(isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return ur(i,{code:Wt.invalid_date}),sn}const n=new Ms;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),ur(a,{code:Wt.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),ur(a,{code:Wt.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Bn.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new dg({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Pr.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Pr.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}dg.create=e=>new dg({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:en.ZodDate,...vn(e)});class PS extends bn{_parse(t){if(this._getType(t)!==yr.symbol){const n=this._getOrReturnCtx(t);return ur(n,{code:Wt.invalid_type,expected:yr.symbol,received:n.parsedType}),sn}return fl(t.data)}}PS.create=e=>new PS({typeName:en.ZodSymbol,...vn(e)});class Zx extends bn{_parse(t){if(this._getType(t)!==yr.undefined){const n=this._getOrReturnCtx(t);return ur(n,{code:Wt.invalid_type,expected:yr.undefined,received:n.parsedType}),sn}return fl(t.data)}}Zx.create=e=>new Zx({typeName:en.ZodUndefined,...vn(e)});class Jx extends bn{_parse(t){if(this._getType(t)!==yr.null){const n=this._getOrReturnCtx(t);return ur(n,{code:Wt.invalid_type,expected:yr.null,received:n.parsedType}),sn}return fl(t.data)}}Jx.create=e=>new Jx({typeName:en.ZodNull,...vn(e)});class Z1 extends bn{constructor(){super(...arguments),this._any=!0}_parse(t){return fl(t.data)}}Z1.create=e=>new Z1({typeName:en.ZodAny,...vn(e)});class V0 extends bn{constructor(){super(...arguments),this._unknown=!0}_parse(t){return fl(t.data)}}V0.create=e=>new V0({typeName:en.ZodUnknown,...vn(e)});class Ah extends bn{_parse(t){const r=this._getOrReturnCtx(t);return ur(r,{code:Wt.invalid_type,expected:yr.never,received:r.parsedType}),sn}}Ah.create=e=>new Ah({typeName:en.ZodNever,...vn(e)});class TS extends bn{_parse(t){if(this._getType(t)!==yr.undefined){const n=this._getOrReturnCtx(t);return ur(n,{code:Wt.invalid_type,expected:yr.void,received:n.parsedType}),sn}return fl(t.data)}}TS.create=e=>new TS({typeName:en.ZodVoid,...vn(e)});class Gu extends bn{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==yr.array)return ur(r,{code:Wt.invalid_type,expected:yr.array,received:r.parsedType}),sn;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,s=r.data.length<a.exactLength.value;(o||s)&&(ur(r,{code:o?Wt.too_big:Wt.too_small,minimum:s?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(ur(r,{code:Wt.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(ur(r,{code:Wt.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,s)=>a.type._parseAsync(new df(r,o,r.path,s)))).then(o=>Ms.mergeArray(n,o));const i=[...r.data].map((o,s)=>a.type._parseSync(new df(r,o,r.path,s)));return Ms.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new Gu({...this._def,minLength:{value:t,message:Pr.toString(r)}})}max(t,r){return new Gu({...this._def,maxLength:{value:t,message:Pr.toString(r)}})}length(t,r){return new Gu({...this._def,exactLength:{value:t,message:Pr.toString(r)}})}nonempty(t){return this.min(1,t)}}Gu.create=(e,t)=>new Gu({type:e,minLength:null,maxLength:null,exactLength:null,typeName:en.ZodArray,...vn(t)});function $v(e){if(e instanceof fi){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=nf.create($v(n))}return new fi({...e._def,shape:()=>t})}else return e instanceof Gu?new Gu({...e._def,type:$v(e.element)}):e instanceof nf?nf.create($v(e.unwrap())):e instanceof gm?gm.create($v(e.unwrap())):e instanceof ff?ff.create(e.items.map(t=>$v(t))):e}class fi extends bn{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Bn.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==yr.object){const u=this._getOrReturnCtx(t);return ur(u,{code:Wt.invalid_type,expected:yr.object,received:u.parsedType}),sn}const{status:n,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),s=[];if(!(this._def.catchall instanceof Ah&&this._def.unknownKeys==="strip"))for(const u in a.data)o.includes(u)||s.push(u);const l=[];for(const u of o){const d=i[u],f=a.data[u];l.push({key:{status:"valid",value:u},value:d._parse(new df(a,f,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof Ah){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of s)l.push({key:{status:"valid",value:d},value:{status:"valid",value:a.data[d]}});else if(u==="strict")s.length>0&&(ur(a,{code:Wt.unrecognized_keys,keys:s}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of s){const f=a.data[d];l.push({key:{status:"valid",value:d},value:u._parse(new df(a,f,a.path,d)),alwaysSet:d in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of l){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>Ms.mergeObjectSync(n,u)):Ms.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(t){return Pr.errToObj,new fi({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var a,i,o,s;const l=(o=(i=(a=this._def).errorMap)===null||i===void 0?void 0:i.call(a,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(s=Pr.errToObj(t).message)!==null&&s!==void 0?s:l}:{message:l}}}:{}})}strip(){return new fi({...this._def,unknownKeys:"strip"})}passthrough(){return new fi({...this._def,unknownKeys:"passthrough"})}extend(t){return new fi({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new fi({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:en.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new fi({...this._def,catchall:t})}pick(t){const r={};return Bn.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new fi({...this._def,shape:()=>r})}omit(t){const r={};return Bn.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new fi({...this._def,shape:()=>r})}deepPartial(){return $v(this)}partial(t){const r={};return Bn.objectKeys(this.shape).forEach(n=>{const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}),new fi({...this._def,shape:()=>r})}required(t){const r={};return Bn.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof nf;)i=i._def.innerType;r[n]=i}}),new fi({...this._def,shape:()=>r})}keyof(){return Vte(Bn.objectKeys(this.shape))}}fi.create=(e,t)=>new fi({shape:()=>e,unknownKeys:"strip",catchall:Ah.create(),typeName:en.ZodObject,...vn(t)});fi.strictCreate=(e,t)=>new fi({shape:()=>e,unknownKeys:"strict",catchall:Ah.create(),typeName:en.ZodObject,...vn(t)});fi.lazycreate=(e,t)=>new fi({shape:e,unknownKeys:"strip",catchall:Ah.create(),typeName:en.ZodObject,...vn(t)});class Qx extends bn{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(i){for(const s of i)if(s.result.status==="valid")return s.result;for(const s of i)if(s.result.status==="dirty")return r.common.issues.push(...s.ctx.common.issues),s.result;const o=i.map(s=>new gc(s.ctx.common.issues));return ur(r,{code:Wt.invalid_union,unionErrors:o}),sn}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const l of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=l._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const s=o.map(l=>new gc(l));return ur(r,{code:Wt.invalid_union,unionErrors:s}),sn}}get options(){return this._def.options}}Qx.create=(e,t)=>new Qx({options:e,typeName:en.ZodUnion,...vn(t)});const th=e=>e instanceof rw?th(e.schema):e instanceof ed?th(e.innerType()):e instanceof nw?[e.value]:e instanceof mm?e.options:e instanceof aw?Bn.objectValues(e.enum):e instanceof iw?th(e._def.innerType):e instanceof Zx?[void 0]:e instanceof Jx?[null]:e instanceof nf?[void 0,...th(e.unwrap())]:e instanceof gm?[null,...th(e.unwrap())]:e instanceof uR||e instanceof sw?th(e.unwrap()):e instanceof ow?th(e._def.innerType):[];class C3 extends bn{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==yr.object)return ur(r,{code:Wt.invalid_type,expected:yr.object,received:r.parsedType}),sn;const n=this.discriminator,a=r.data[n],i=this.optionsMap.get(a);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(ur(r,{code:Wt.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),sn)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){const a=new Map;for(const i of r){const o=th(i.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const s of o){if(a.has(s))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(s)}`);a.set(s,i)}}return new C3({typeName:en.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:a,...vn(n)})}}function GO(e,t){const r=ah(e),n=ah(t);if(e===t)return{valid:!0,data:e};if(r===yr.object&&n===yr.object){const a=Bn.objectKeys(t),i=Bn.objectKeys(e).filter(s=>a.indexOf(s)!==-1),o={...e,...t};for(const s of i){const l=GO(e[s],t[s]);if(!l.valid)return{valid:!1};o[s]=l.data}return{valid:!0,data:o}}else if(r===yr.array&&n===yr.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],s=t[i],l=GO(o,s);if(!l.valid)return{valid:!1};a.push(l.data)}return{valid:!0,data:a}}else return r===yr.date&&n===yr.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class ew extends bn{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(i,o)=>{if(VO(i)||VO(o))return sn;const s=GO(i.value,o.value);return s.valid?((HO(i)||HO(o))&&r.dirty(),{status:r.value,value:s.data}):(ur(n,{code:Wt.invalid_intersection_types}),sn)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}ew.create=(e,t,r)=>new ew({left:e,right:t,typeName:en.ZodIntersection,...vn(r)});class ff extends bn{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==yr.array)return ur(n,{code:Wt.invalid_type,expected:yr.array,received:n.parsedType}),sn;if(n.data.length<this._def.items.length)return ur(n,{code:Wt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),sn;!this._def.rest&&n.data.length>this._def.items.length&&(ur(n,{code:Wt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,s)=>{const l=this._def.items[s]||this._def.rest;return l?l._parse(new df(n,o,n.path,s)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>Ms.mergeArray(r,o)):Ms.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new ff({...this._def,rest:t})}}ff.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ff({items:e,typeName:en.ZodTuple,rest:null,...vn(t)})};class tw extends bn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==yr.object)return ur(n,{code:Wt.invalid_type,expected:yr.object,received:n.parsedType}),sn;const a=[],i=this._def.keyType,o=this._def.valueType;for(const s in n.data)a.push({key:i._parse(new df(n,s,n.path,s)),value:o._parse(new df(n,n.data[s],n.path,s)),alwaysSet:s in n.data});return n.common.async?Ms.mergeObjectAsync(r,a):Ms.mergeObjectSync(r,a)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof bn?new tw({keyType:t,valueType:r,typeName:en.ZodRecord,...vn(n)}):new tw({keyType:qu.create(),valueType:t,typeName:en.ZodRecord,...vn(r)})}}class OS extends bn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==yr.map)return ur(n,{code:Wt.invalid_type,expected:yr.map,received:n.parsedType}),sn;const a=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([s,l],u)=>({key:a._parse(new df(n,s,n.path,[u,"key"])),value:i._parse(new df(n,l,n.path,[u,"value"]))}));if(n.common.async){const s=new Map;return Promise.resolve().then(async()=>{for(const l of o){const u=await l.key,d=await l.value;if(u.status==="aborted"||d.status==="aborted")return sn;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),s.set(u.value,d.value)}return{status:r.value,value:s}})}else{const s=new Map;for(const l of o){const u=l.key,d=l.value;if(u.status==="aborted"||d.status==="aborted")return sn;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),s.set(u.value,d.value)}return{status:r.value,value:s}}}}OS.create=(e,t,r)=>new OS({valueType:t,keyType:e,typeName:en.ZodMap,...vn(r)});class fg extends bn{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==yr.set)return ur(n,{code:Wt.invalid_type,expected:yr.set,received:n.parsedType}),sn;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(ur(n,{code:Wt.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(ur(n,{code:Wt.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function o(l){const u=new Set;for(const d of l){if(d.status==="aborted")return sn;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const s=[...n.data.values()].map((l,u)=>i._parse(new df(n,l,n.path,u)));return n.common.async?Promise.all(s).then(l=>o(l)):o(s)}min(t,r){return new fg({...this._def,minSize:{value:t,message:Pr.toString(r)}})}max(t,r){return new fg({...this._def,maxSize:{value:t,message:Pr.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}fg.create=(e,t)=>new fg({valueType:e,minSize:null,maxSize:null,typeName:en.ZodSet,...vn(t)});class i1 extends bn{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==yr.function)return ur(r,{code:Wt.invalid_type,expected:yr.function,received:r.parsedType}),sn;function n(s,l){return ES({data:s,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,NS(),X1].filter(u=>!!u),issueData:{code:Wt.invalid_arguments,argumentsError:l}})}function a(s,l){return ES({data:s,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,NS(),X1].filter(u=>!!u),issueData:{code:Wt.invalid_return_type,returnTypeError:l}})}const i={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof J1){const s=this;return fl(async function(...l){const u=new gc([]),d=await s._def.args.parseAsync(l,i).catch(m=>{throw u.addIssue(n(l,m)),u}),f=await Reflect.apply(o,this,d);return await s._def.returns._def.type.parseAsync(f,i).catch(m=>{throw u.addIssue(a(f,m)),u})})}else{const s=this;return fl(function(...l){const u=s._def.args.safeParse(l,i);if(!u.success)throw new gc([n(l,u.error)]);const d=Reflect.apply(o,this,u.data),f=s._def.returns.safeParse(d,i);if(!f.success)throw new gc([a(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new i1({...this._def,args:ff.create(t).rest(V0.create())})}returns(t){return new i1({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new i1({args:t||ff.create([]).rest(V0.create()),returns:r||V0.create(),typeName:en.ZodFunction,...vn(n)})}}class rw extends bn{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}rw.create=(e,t)=>new rw({getter:e,typeName:en.ZodLazy,...vn(t)});class nw extends bn{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return ur(r,{received:r.data,code:Wt.invalid_literal,expected:this._def.value}),sn}return{status:"valid",value:t.data}}get value(){return this._def.value}}nw.create=(e,t)=>new nw({value:e,typeName:en.ZodLiteral,...vn(t)});function Vte(e,t){return new mm({values:e,typeName:en.ZodEnum,...vn(t)})}class mm extends bn{constructor(){super(...arguments),N2.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return ur(r,{expected:Bn.joinValues(n),received:r.parsedType,code:Wt.invalid_type}),sn}if(CS(this,N2)||Ute(this,N2,new Set(this._def.values)),!CS(this,N2).has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return ur(r,{received:r.data,code:Wt.invalid_enum_value,options:n}),sn}return fl(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return mm.create(t,{...this._def,...r})}exclude(t,r=this._def){return mm.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}N2=new WeakMap;mm.create=Vte;class aw extends bn{constructor(){super(...arguments),E2.set(this,void 0)}_parse(t){const r=Bn.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==yr.string&&n.parsedType!==yr.number){const a=Bn.objectValues(r);return ur(n,{expected:Bn.joinValues(a),received:n.parsedType,code:Wt.invalid_type}),sn}if(CS(this,E2)||Ute(this,E2,new Set(Bn.getValidEnumValues(this._def.values))),!CS(this,E2).has(t.data)){const a=Bn.objectValues(r);return ur(n,{received:n.data,code:Wt.invalid_enum_value,options:a}),sn}return fl(t.data)}get enum(){return this._def.values}}E2=new WeakMap;aw.create=(e,t)=>new aw({values:e,typeName:en.ZodNativeEnum,...vn(t)});class J1 extends bn{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==yr.promise&&r.common.async===!1)return ur(r,{code:Wt.invalid_type,expected:yr.promise,received:r.parsedType}),sn;const n=r.parsedType===yr.promise?r.data:Promise.resolve(r.data);return fl(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}J1.create=(e,t)=>new J1({type:e,typeName:en.ZodPromise,...vn(t)});class ed extends bn{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===en.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{ur(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async s=>{if(r.value==="aborted")return sn;const l=await this._def.schema._parseAsync({data:s,path:n.path,parent:n});return l.status==="aborted"?sn:l.status==="dirty"||r.value==="dirty"?Gv(l.value):l});{if(r.value==="aborted")return sn;const s=this._def.schema._parseSync({data:o,path:n.path,parent:n});return s.status==="aborted"?sn:s.status==="dirty"||r.value==="dirty"?Gv(s.value):s}}if(a.type==="refinement"){const o=s=>{const l=a.refinement(s,i);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return s};if(n.common.async===!1){const s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?sn:(s.status==="dirty"&&r.dirty(),o(s.value),{status:r.value,value:s.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>s.status==="aborted"?sn:(s.status==="dirty"&&r.dirty(),o(s.value).then(()=>({status:r.value,value:s.value}))))}if(a.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!ug(o))return o;const s=a.transform(o.value,i);if(s instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:s}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>ug(o)?Promise.resolve(a.transform(o.value,i)).then(s=>({status:r.value,value:s})):o);Bn.assertNever(a)}}ed.create=(e,t,r)=>new ed({schema:e,typeName:en.ZodEffects,effect:t,...vn(r)});ed.createWithPreprocess=(e,t,r)=>new ed({schema:t,effect:{type:"preprocess",transform:e},typeName:en.ZodEffects,...vn(r)});class nf extends bn{_parse(t){return this._getType(t)===yr.undefined?fl(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}nf.create=(e,t)=>new nf({innerType:e,typeName:en.ZodOptional,...vn(t)});class gm extends bn{_parse(t){return this._getType(t)===yr.null?fl(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}gm.create=(e,t)=>new gm({innerType:e,typeName:en.ZodNullable,...vn(t)});class iw extends bn{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===yr.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}iw.create=(e,t)=>new iw({innerType:e,typeName:en.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...vn(t)});class ow extends bn{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Kx(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new gc(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new gc(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}ow.create=(e,t)=>new ow({innerType:e,typeName:en.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...vn(t)});class DS extends bn{_parse(t){if(this._getType(t)!==yr.nan){const n=this._getOrReturnCtx(t);return ur(n,{code:Wt.invalid_type,expected:yr.nan,received:n.parsedType}),sn}return{status:"valid",value:t.data}}}DS.create=e=>new DS({typeName:en.ZodNaN,...vn(e)});const rDe=Symbol("zod_brand");class uR extends bn{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Xw extends bn{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?sn:i.status==="dirty"?(r.dirty(),Gv(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?sn:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new Xw({in:t,out:r,typeName:en.ZodPipeline})}}class sw extends bn{_parse(t){const r=this._def.innerType._parse(t),n=a=>(ug(a)&&(a.value=Object.freeze(a.value)),a);return Kx(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}sw.create=(e,t)=>new sw({innerType:e,typeName:en.ZodReadonly,...vn(t)});function Ez(e,t){const r=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof r=="string"?{message:r}:r}function Hte(e,t={},r){return e?Z1.create().superRefine((n,a)=>{var i,o;const s=e(n);if(s instanceof Promise)return s.then(l=>{var u,d;if(!l){const f=Ez(t,n),h=(d=(u=f.fatal)!==null&&u!==void 0?u:r)!==null&&d!==void 0?d:!0;a.addIssue({code:"custom",...f,fatal:h})}});if(!s){const l=Ez(t,n),u=(o=(i=l.fatal)!==null&&i!==void 0?i:r)!==null&&o!==void 0?o:!0;a.addIssue({code:"custom",...l,fatal:u})}}):Z1.create()}const nDe={object:fi.lazycreate};var en;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(en||(en={}));const aDe=(e,t={message:`Input not instance of ${e.name}`})=>Hte(r=>r instanceof e,t),Qo=qu.create,W2=hm.create,iDe=DS.create,oDe=pm.create,dR=Xx.create,Gte=dg.create,sDe=PS.create,lDe=Zx.create,cDe=Jx.create,uDe=Z1.create,dDe=V0.create,fDe=Ah.create,hDe=TS.create,Yte=Gu.create,P3=fi.create,pDe=fi.strictCreate,mDe=Qx.create,gDe=C3.create,vDe=ew.create,yDe=ff.create,xDe=tw.create,wDe=OS.create,_De=fg.create,bDe=i1.create,SDe=rw.create,ADe=nw.create,lw=mm.create,kDe=aw.create,NDe=J1.create,Cz=ed.create,EDe=nf.create,CDe=gm.create,PDe=ed.createWithPreprocess,TDe=Xw.create,ODe=()=>Qo().optional(),DDe=()=>W2().optional(),IDe=()=>dR().optional(),fR={string:e=>qu.create({...e,coerce:!0}),number:e=>hm.create({...e,coerce:!0}),boolean:e=>Xx.create({...e,coerce:!0}),bigint:e=>pm.create({...e,coerce:!0}),date:e=>dg.create({...e,coerce:!0})},RDe=sn;var je=Object.freeze({__proto__:null,defaultErrorMap:X1,setErrorMap:I8e,getErrorMap:NS,makeIssue:ES,EMPTY_PATH:R8e,addIssueToContext:ur,ParseStatus:Ms,INVALID:sn,DIRTY:Gv,OK:fl,isAborted:VO,isDirty:HO,isValid:ug,isAsync:Kx,get util(){return Bn},get objectUtil(){return WO},ZodParsedType:yr,getParsedType:ah,ZodType:bn,datetimeRegex:Wte,ZodString:qu,ZodNumber:hm,ZodBigInt:pm,ZodBoolean:Xx,ZodDate:dg,ZodSymbol:PS,ZodUndefined:Zx,ZodNull:Jx,ZodAny:Z1,ZodUnknown:V0,ZodNever:Ah,ZodVoid:TS,ZodArray:Gu,ZodObject:fi,ZodUnion:Qx,ZodDiscriminatedUnion:C3,ZodIntersection:ew,ZodTuple:ff,ZodRecord:tw,ZodMap:OS,ZodSet:fg,ZodFunction:i1,ZodLazy:rw,ZodLiteral:nw,ZodEnum:mm,ZodNativeEnum:aw,ZodPromise:J1,ZodEffects:ed,ZodTransformer:ed,ZodOptional:nf,ZodNullable:gm,ZodDefault:iw,ZodCatch:ow,ZodNaN:DS,BRAND:rDe,ZodBranded:uR,ZodPipeline:Xw,ZodReadonly:sw,custom:Hte,Schema:bn,ZodSchema:bn,late:nDe,get ZodFirstPartyTypeKind(){return en},coerce:fR,any:uDe,array:Yte,bigint:oDe,boolean:dR,date:Gte,discriminatedUnion:gDe,effect:Cz,enum:lw,function:bDe,instanceof:aDe,intersection:vDe,lazy:SDe,literal:ADe,map:wDe,nan:iDe,nativeEnum:kDe,never:fDe,null:cDe,nullable:CDe,number:W2,object:P3,oboolean:IDe,onumber:DDe,optional:EDe,ostring:ODe,pipeline:TDe,preprocess:PDe,promise:NDe,record:xDe,set:_De,strictObject:pDe,string:Qo,symbol:sDe,transformer:Cz,tuple:yDe,undefined:lDe,union:mDe,unknown:dDe,void:hDe,NEVER:RDe,ZodIssueCode:Wt,quotelessJson:D8e,ZodError:gc});const Wp=je.object({first_name:je.string().min(1,"First name is required"),last_name:je.string().min(1,"Last name is required"),middle_name:je.string().optional(),gender:je.enum(["male","female","other"]),age:je.preprocess(e=>e===""||e===null||e===void 0?null:Number(e),je.number().int().positive("Age must be a positive number").nullable().optional()),marital_status:je.enum(["single","married","divorced","widowed","separated","other"]).optional(),occupation:je.string().optional()});function MDe(){const e=iu();return w("div",{className:"space-y-6",children:[w("div",{className:"space-y-2",children:[c("h3",{className:"text-lg font-medium",children:"Basic Information"}),c("p",{className:"text-sm text-muted-foreground",children:"Enter the patient's basic personal information."})]}),w("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[c(He,{control:e.control,name:"first_name",render:({field:t})=>w(De,{children:[c(Oe,{children:"First Name"}),c(Me,{children:c(ct,{placeholder:"John",...t})}),c(Ze,{})]})}),c(He,{control:e.control,name:"middle_name",render:({field:t})=>w(De,{children:[c(Oe,{children:"Middle Name"}),c(Me,{children:c(ct,{placeholder:"Michael",...t})}),c(Ze,{})]})}),c(He,{control:e.control,name:"last_name",render:({field:t})=>w(De,{children:[c(Oe,{children:"Last Name"}),c(Me,{children:c(ct,{placeholder:"Doe",...t})}),c(Ze,{})]})}),c(He,{control:e.control,name:"gender",render:({field:t})=>w(De,{children:[c(Oe,{children:"Gender"}),w(zr,{onValueChange:t.onChange,defaultValue:t.value,children:[c(Me,{children:c($r,{children:c(Wr,{placeholder:"Select gender"})})}),w(Br,{children:[c(_t,{value:"male",children:"Male"}),c(_t,{value:"female",children:"Female"}),c(_t,{value:"other",children:"Other"})]})]}),c(Ze,{})]})}),c(He,{control:e.control,name:"age",render:({field:t})=>w(De,{children:[c(Oe,{children:"Age"}),c(Me,{children:c(ct,{type:"number",placeholder:"25",...t,value:t.value??"",onChange:r=>t.onChange(r.target.value===""?null:r.target.valueAsNumber)})}),c(Ze,{})]})}),c(He,{control:e.control,name:"marital_status",render:({field:t})=>w(De,{children:[c(Oe,{children:"Marital Status"}),w(zr,{onValueChange:t.onChange,defaultValue:t.value,children:[c(Me,{children:c($r,{children:c(Wr,{placeholder:"Select status"})})}),w(Br,{children:[c(_t,{value:"single",children:"Single"}),c(_t,{value:"married",children:"Married"}),c(_t,{value:"divorced",children:"Divorced"}),c(_t,{value:"widowed",children:"Widowed"}),c(_t,{value:"separated",children:"Separated"}),c(_t,{value:"other",children:"Other"})]})]}),c(Ze,{})]})}),c(He,{control:e.control,name:"occupation",render:({field:t})=>w(De,{children:[c(Oe,{children:"Occupation"}),c(Me,{children:c(ct,{placeholder:"Software Engineer",...t})}),c(Ze,{})]})})]})]})}const hR=je.object({phone:je.string().min(1,"Phone number is required").regex(/^\+?[1-9]\d{1,14}$/,"Invalid phone number format. Use E.164 format: +1234567890"),email:je.string().email("Invalid email address").optional().nullable(),address:je.string().optional(),city:je.string().optional(),state:je.string().optional(),postal_code:je.string().optional(),country:je.string().default("USA"),emergency_contact_name:je.string().optional(),emergency_contact_phone:je.string().regex(/^\+?[1-9]\d{1,14}$/,"Invalid phone number format").optional(),emergency_contact_relationship:je.string().optional()});function FDe(){const e=iu();return w("div",{className:"space-y-6",children:[w("div",{className:"space-y-2",children:[c("h3",{className:"text-lg font-medium",children:"Contact Information"}),c("p",{className:"text-sm text-muted-foreground",children:"Provide contact details for communication."})]}),w("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c(He,{control:e.control,name:"phone",render:({field:t})=>w(De,{children:[c(Oe,{children:"Phone Number"}),c(Me,{children:c(ct,{placeholder:"+1234567890",...t})}),c(Ze,{})]})}),c(He,{control:e.control,name:"email",render:({field:t})=>w(De,{children:[c(Oe,{children:"Email Address"}),c(Me,{children:c(ct,{type:"email",placeholder:"john@example.com",...t})}),c(Ze,{})]})})]}),w("div",{className:"space-y-2",children:[c("h3",{className:"text-lg font-medium",children:"Address Information"}),c("p",{className:"text-sm text-muted-foreground",children:"Enter the patient's residential address."})]}),w("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c(He,{control:e.control,name:"address",render:({field:t})=>w(De,{className:"col-span-2",children:[c(Oe,{children:"Street Address"}),c(Me,{children:c(ct,{placeholder:"123 Main St",...t})}),c(Ze,{})]})}),c(He,{control:e.control,name:"city",render:({field:t})=>w(De,{children:[c(Oe,{children:"City"}),c(Me,{children:c(ct,{placeholder:"New York",...t})}),c(Ze,{})]})}),c(He,{control:e.control,name:"state",render:({field:t})=>w(De,{children:[c(Oe,{children:"State"}),c(Me,{children:c(ct,{placeholder:"NY",...t})}),c(Ze,{})]})}),c(He,{control:e.control,name:"postal_code",render:({field:t})=>w(De,{children:[c(Oe,{children:"Postal Code"}),c(Me,{children:c(ct,{placeholder:"10001",...t})}),c(Ze,{})]})}),c(He,{control:e.control,name:"country",render:({field:t})=>w(De,{children:[c(Oe,{children:"Country"}),c(Me,{children:c(ct,{placeholder:"USA",...t})}),c(Ze,{})]})})]}),w("div",{className:"space-y-2",children:[c("h3",{className:"text-lg font-medium",children:"Emergency Contact"}),c("p",{className:"text-sm text-muted-foreground",children:"Provide emergency contact information."})]}),w("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c(He,{control:e.control,name:"emergency_contact_name",render:({field:t})=>w(De,{children:[c(Oe,{children:"Contact Name"}),c(Me,{children:c(ct,{placeholder:"Jane Doe",...t})}),c(Ze,{})]})}),c(He,{control:e.control,name:"emergency_contact_phone",render:({field:t})=>w(De,{children:[c(Oe,{children:"Contact Phone"}),c(Me,{children:c(ct,{placeholder:"+1234567890",...t})}),c(Ze,{})]})}),c(He,{control:e.control,name:"emergency_contact_relationship",render:({field:t})=>w(De,{children:[c(Oe,{children:"Relationship"}),c(Me,{children:c(ct,{placeholder:"Spouse",...t})}),c(Ze,{})]})})]})]})}var pR="Radio",[LDe,Kte]=Qi(pR),[jDe,$De]=LDe(pR),Xte=A.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:a=!1,required:i,disabled:o,value:s="on",onCheck:l,form:u,...d}=e,[f,h]=A.useState(null),m=Vr(t,y=>h(y)),x=A.useRef(!1),g=f?u||!!f.closest("form"):!0;return w(jDe,{scope:r,checked:a,disabled:o,children:[c(pr.button,{type:"button",role:"radio","aria-checked":a,"data-state":ere(a),"data-disabled":o?"":void 0,disabled:o,value:s,...d,ref:m,onClick:qt(e.onClick,y=>{a||l==null||l(),g&&(x.current=y.isPropagationStopped(),x.current||y.stopPropagation())})}),g&&c(Qte,{control:f,bubbles:!x.current,name:n,value:s,checked:a,required:i,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});Xte.displayName=pR;var Zte="RadioIndicator",Jte=A.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...a}=e,i=$De(Zte,r);return c(as,{present:n||i.checked,children:c(pr.span,{"data-state":ere(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t})})});Jte.displayName=Zte;var BDe="RadioBubbleInput",Qte=A.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const o=A.useRef(null),s=Vr(o,i),l=T4(r),u=m4(t);return A.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==r&&m){const x=new Event("click",{bubbles:n});m.call(d,r),d.dispatchEvent(x)}},[l,r,n]),c(pr.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:s,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Qte.displayName=BDe;function ere(e){return e?"checked":"unchecked"}var UDe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],T3="RadioGroup",[qDe,$Je]=Qi(T3,[dy,Kte]),tre=dy(),rre=Kte(),[zDe,WDe]=qDe(T3),nre=A.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:a,value:i,required:o=!1,disabled:s=!1,orientation:l,dir:u,loop:d=!0,onValueChange:f,...h}=e,m=tre(r),x=bg(u),[g,y]=ul({prop:i,defaultProp:a??"",onChange:f,caller:T3});return c(zDe,{scope:r,name:n,required:o,disabled:s,value:g,onValueChange:y,children:c(lD,{asChild:!0,...m,orientation:l,dir:x,loop:d,children:c(pr.div,{role:"radiogroup","aria-required":o,"aria-orientation":l,"data-disabled":s?"":void 0,dir:x,...h,ref:t})})})});nre.displayName=T3;var are="RadioGroupItem",ire=A.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...a}=e,i=WDe(are,r),o=i.disabled||n,s=tre(r),l=rre(r),u=A.useRef(null),d=Vr(t,u),f=i.value===a.value,h=A.useRef(!1);return A.useEffect(()=>{const m=g=>{UDe.includes(g.key)&&(h.current=!0)},x=()=>h.current=!1;return document.addEventListener("keydown",m),document.addEventListener("keyup",x),()=>{document.removeEventListener("keydown",m),document.removeEventListener("keyup",x)}},[]),c(cD,{asChild:!0,...s,focusable:!o,active:f,children:c(Xte,{disabled:o,required:i.required,checked:f,...l,...a,name:i.name,ref:d,onCheck:()=>i.onValueChange(a.value),onKeyDown:qt(m=>{m.key==="Enter"&&m.preventDefault()}),onFocus:qt(a.onFocus,()=>{var m;h.current&&((m=u.current)==null||m.click())})})})});ire.displayName=are;var VDe="RadioGroupIndicator",ore=A.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,a=rre(r);return c(Jte,{...a,...n,ref:t})});ore.displayName=VDe;var sre=nre,lre=ire,HDe=ore;const Ro=A.forwardRef(({className:e,...t},r)=>c(sre,{className:Rt("grid gap-2",e),...t,ref:r}));Ro.displayName=sre.displayName;const Dn=A.forwardRef(({className:e,...t},r)=>c(lre,{ref:r,className:Rt("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:c(HDe,{className:"flex items-center justify-center",children:c(HH,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Dn.displayName=lre.displayName;const GDe=[{id:"penicillin",label:"Penicillin"},{id:"amoxicillin",label:"Amoxicillin"},{id:"aspirin",label:"Aspirin"},{id:"ibuprofen",label:"Ibuprofen"},{id:"codeine",label:"Codeine"},{id:"sulfa_drugs",label:"Sulfa Drugs"},{id:"local_anesthetics",label:"Local Anesthetics (e.g., Lidocaine)"},{id:"other_medications",label:"Other Medications (please specify)"}],YDe=[{id:"peanuts",label:"Peanuts"},{id:"tree_nuts",label:"Tree Nuts (e.g., almonds, walnuts)"},{id:"dairy",label:"Dairy Products"},{id:"eggs",label:"Eggs"},{id:"shellfish",label:"Shellfish"},{id:"gluten",label:"Gluten"},{id:"soy",label:"Soy"},{id:"other_food",label:"Other Food Allergies (please specify)"}],KDe=[{id:"pollen",label:"Pollen"},{id:"dust_mites",label:"Dust Mites"},{id:"mold",label:"Mold"},{id:"pet_dander",label:"Pet Dander"},{id:"insect_stings",label:"Insect Stings"},{id:"latex",label:"Latex"},{id:"fragrances",label:"Fragrances/Perfumes"},{id:"other_environmental",label:"Other Environmental Allergies (please specify)"}],XDe=[{id:"nickel_metals",label:"Nickel or Metals"},{id:"chlorhexidine",label:"Chlorhexidine (mouthwash/antiseptic)"},{id:"other",label:"Other (please describe)"}],cre=je.object({blood_group:je.enum(["A+","A-","B+","B-","AB+","AB-","O+","O-","unknown"]).optional(),height:je.preprocess(e=>e===""||e===null||e===void 0?null:Number(e),je.number().positive("Height must be a positive number").nullable().optional()),weight:je.preprocess(e=>e===""||e===null||e===void 0?null:Number(e),je.number().positive("Weight must be a positive number").nullable().optional()),has_allergies:je.enum(["yes","no"]).optional(),medication_allergies:je.array(je.string()).optional(),other_medication_allergy_details:je.string().optional(),food_allergies:je.array(je.string()).optional(),other_food_allergy_details:je.string().optional(),environmental_allergies:je.array(je.string()).optional(),other_environmental_allergy_details:je.string().optional(),other_allergies:je.array(je.string()).optional(),other_allergy_details:je.string().optional(),other_allergies_manual_input:je.string().optional(),diagnosed_conditions:je.array(je.string()).optional(),other_diagnosed_condition:je.string().optional(),has_implants:je.enum(["yes","no"]).optional(),implants_details:je.string().optional(),taking_medications:je.enum(["yes","no"]).optional(),current_medications:je.array(je.object({name:je.string().min(1,"Medication name is required"),dosage:je.string().optional(),frequency:je.string().optional()})).optional(),recent_health_changes:je.enum(["yes","no"]).optional(),health_changes_details:je.string().optional(),previous_surgeries:je.array(je.object({type:je.string().min(1,"Surgery type is required"),date:je.string().optional(),notes:je.string().optional()})).optional(),immunizations_up_to_date:je.enum(["yes","no","not_sure"]).optional(),recent_immunizations:je.string().optional(),recent_medical_screenings:je.enum(["yes","no"]).optional(),screenings_details:je.string().optional(),dental_material_allergies:je.enum(["yes","no"]).optional(),dental_material_allergies_details:je.string().optional(),notes:je.string().optional()}),ZDe=[{id:"diabetes",label:"Diabetes"},{id:"heart_disease",label:"Heart Disease"},{id:"hypertension",label:"Hypertension"},{id:"asthma",label:"Asthma"},{id:"bleeding_disorders",label:"Bleeding Disorders"},{id:"kidney_liver_disease",label:"Kidney/Liver Disease"},{id:"respiratory_problems",label:"Respiratory Problems"},{id:"autoimmune_disorders",label:"Autoimmune Disorders"},{id:"osteoporosis",label:"Osteoporosis"}];function JDe(){var s,l,u,d;const e=iu(),{fields:t,append:r,remove:n}=kS({control:e.control,name:"current_medications"}),{fields:a,append:i,remove:o}=kS({control:e.control,name:"previous_surgeries"});return w("div",{className:"space-y-8",children:[" ",w("div",{className:"space-y-2",children:[c("h2",{className:"text-xl font-semibold",children:"Medical Information"}),c("p",{className:"text-sm text-muted-foreground",children:"Provide relevant medical information for the patient."})]}),w("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[c(He,{control:e.control,name:"blood_group",render:({field:f})=>w(De,{children:[c(Oe,{children:"Blood Group"}),w(zr,{onValueChange:f.onChange,defaultValue:f.value||"unknown",children:[c(Me,{children:c($r,{children:c(Wr,{placeholder:"Select blood group"})})}),c(Br,{children:["A+","A-","B+","B-","AB+","AB-","O+","O-","unknown"].map(h=>c(_t,{value:h,children:h==="unknown"?"Unknown":h},h))})]}),c(Ze,{})]})}),c(He,{control:e.control,name:"height",render:({field:f})=>w(De,{children:[c(Oe,{children:"Height (cm)"}),c(Me,{children:c(ct,{type:"number",placeholder:"175",...f,value:f.value??"",onChange:h=>f.onChange(h.target.value===""?null:h.target.valueAsNumber)})}),c(Ze,{})]})}),c(He,{control:e.control,name:"weight",render:({field:f})=>w(De,{children:[c(Oe,{children:"Weight (kg)"}),c(Me,{children:c(ct,{type:"number",placeholder:"70",...f,value:f.value??"",onChange:h=>f.onChange(h.target.value===""?null:h.target.valueAsNumber)})}),c(Ze,{})]})})]})," ",w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Allergies"}),c(He,{control:e.control,name:"has_allergies",render:({field:f})=>w(De,{className:"space-y-3",children:[c(Oe,{children:"Do you have any allergies?"}),c(Me,{children:w(Ro,{onValueChange:f.onChange,value:f.value,className:"flex space-x-4",children:[w(De,{className:"flex items-center space-x-2 space-y-0",children:[c(Me,{children:c(Dn,{value:"yes"})}),c(Oe,{className:"font-normal",children:"Yes"})]}),w(De,{className:"flex items-center space-x-2 space-y-0",children:[c(Me,{children:c(Dn,{value:"no"})}),c(Oe,{className:"font-normal",children:"No"})]})]})}),c(Ze,{})]})}),e.watch("has_allergies")==="yes"&&w("div",{className:"space-y-6 mt-4",children:[" ",c(He,{control:e.control,name:"medication_allergies",render:()=>w(De,{children:[w("div",{className:"mb-2",children:[c(Oe,{className:"text-base font-medium",children:"Medication Allergies"}),c(Ai,{children:"Select all that apply."})]}),c("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:GDe.map(f=>c(He,{control:e.control,name:"medication_allergies",render:({field:h})=>{var m;return w(De,{className:"flex flex-row items-start space-x-3 space-y-0",children:[c(Me,{children:c(Ts,{checked:(m=h.value)==null?void 0:m.includes(f.id),onCheckedChange:x=>x?h.onChange([...h.value||[],f.id]):h.onChange((h.value||[]).filter(g=>g!==f.id))})}),c(Oe,{className:"font-normal",children:f.label})]})}},f.id))}),c(Ze,{})]})}),((s=e.watch("medication_allergies"))==null?void 0:s.includes("other_medications"))&&c(He,{control:e.control,name:"other_medication_allergy_details",render:({field:f})=>w(De,{children:[c(Oe,{children:"Specify Other Medication Allergies:"}),c(Me,{children:c(ct,{placeholder:"Details...",...f})}),c(Ze,{})]})}),c(He,{control:e.control,name:"food_allergies",render:()=>w(De,{children:[w("div",{className:"mb-2",children:[c(Oe,{className:"text-base font-medium",children:"Food Allergies"}),c(Ai,{children:"Select all that apply."})]}),c("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:YDe.map(f=>c(He,{control:e.control,name:"food_allergies",render:({field:h})=>{var m;return w(De,{className:"flex flex-row items-start space-x-3 space-y-0",children:[c(Me,{children:c(Ts,{checked:(m=h.value)==null?void 0:m.includes(f.id),onCheckedChange:x=>x?h.onChange([...h.value||[],f.id]):h.onChange((h.value||[]).filter(g=>g!==f.id))})}),c(Oe,{className:"font-normal",children:f.label})]})}},f.id))}),c(Ze,{})]})}),((l=e.watch("food_allergies"))==null?void 0:l.includes("other_food"))&&c(He,{control:e.control,name:"other_food_allergy_details",render:({field:f})=>w(De,{children:[c(Oe,{children:"Specify Other Food Allergies:"}),c(Me,{children:c(ct,{placeholder:"Details...",...f})}),c(Ze,{})]})}),c(He,{control:e.control,name:"environmental_allergies",render:()=>w(De,{children:[w("div",{className:"mb-2",children:[c(Oe,{className:"text-base font-medium",children:"Environmental Allergies"}),c(Ai,{children:"Select all that apply."})]}),c("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:KDe.map(f=>c(He,{control:e.control,name:"environmental_allergies",render:({field:h})=>{var m;return w(De,{className:"flex flex-row items-start space-x-3 space-y-0",children:[c(Me,{children:c(Ts,{checked:(m=h.value)==null?void 0:m.includes(f.id),onCheckedChange:x=>x?h.onChange([...h.value||[],f.id]):h.onChange((h.value||[]).filter(g=>g!==f.id))})}),c(Oe,{className:"font-normal",children:f.label})]})}},f.id))}),c(Ze,{})]})}),((u=e.watch("environmental_allergies"))==null?void 0:u.includes("other_environmental"))&&c(He,{control:e.control,name:"other_environmental_allergy_details",render:({field:f})=>w(De,{children:[c(Oe,{children:"Specify Other Environmental Allergies:"}),c(Me,{children:c(ct,{placeholder:"Details...",...f})}),c(Ze,{})]})}),c(He,{control:e.control,name:"other_allergies",render:()=>w(De,{children:[w("div",{className:"mb-2",children:[c(Oe,{className:"text-base font-medium",children:"Other Allergies"}),c(Ai,{children:"Select all that apply."})]}),c("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:XDe.map(f=>c(He,{control:e.control,name:"other_allergies",render:({field:h})=>{var m;return w(De,{className:"flex flex-row items-start space-x-3 space-y-0",children:[c(Me,{children:c(Ts,{checked:(m=h.value)==null?void 0:m.includes(f.id),onCheckedChange:x=>x?h.onChange([...h.value||[],f.id]):h.onChange((h.value||[]).filter(g=>g!==f.id))})}),c(Oe,{className:"font-normal",children:f.label})]})}},f.id))}),c(Ze,{})]})}),((d=e.watch("other_allergies"))==null?void 0:d.includes("other"))&&c(He,{control:e.control,name:"other_allergy_details",render:({field:f})=>w(De,{children:[c(Oe,{children:"Describe Other Allergies:"}),c(Me,{children:c(Jr,{placeholder:"Details...",...f})}),c(Ze,{})]})}),c(He,{control:e.control,name:"other_allergies_manual_input",render:({field:f})=>w(De,{children:[c(Oe,{children:"Manually List Any Other Allergies:"}),c(Me,{children:c(Jr,{placeholder:"e.g., Specific chemical, rare reaction...",...f,value:f.value||""})}),c(Ze,{})]})})]})," "]})," ",w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Medical Conditions"}),c(He,{control:e.control,name:"diagnosed_conditions",render:()=>w(De,{children:[w("div",{className:"mb-4",children:[c(Oe,{className:"text-base",children:"Have you been diagnosed with any of the following?"}),c(Ai,{children:"Select all that apply."})]}),c("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:ZDe.map(f=>c(He,{control:e.control,name:"diagnosed_conditions",render:({field:h})=>{var m;return w(De,{className:"flex flex-row items-start space-x-3 space-y-0",children:[c(Me,{children:c(Ts,{checked:(m=h.value)==null?void 0:m.includes(f.id),onCheckedChange:x=>x?h.onChange([...h.value||[],f.id]):h.onChange((h.value||[]).filter(g=>g!==f.id))})}),c(Oe,{className:"font-normal",children:f.label})]},f.id)}},f.id))}),c(Ze,{})]})}),c(He,{control:e.control,name:"other_diagnosed_condition",render:({field:f})=>w(De,{children:[c(Oe,{children:"Other Medical Conditions (if any):"}),c(Me,{children:c(ct,{placeholder:"Specify other conditions",...f})}),c(Ze,{})]})}),c(He,{control:e.control,name:"has_implants",render:({field:f})=>w(De,{className:"space-y-3",children:[c(Oe,{children:"Do you have any implanted devices or prosthetics?"}),c(Me,{children:w(Ro,{onValueChange:f.onChange,value:f.value,className:"flex space-x-4",children:[w(De,{className:"flex items-center space-x-2 space-y-0",children:[c(Me,{children:c(Dn,{value:"yes"})}),c(Oe,{className:"font-normal",children:"Yes"})]}),w(De,{className:"flex items-center space-x-2 space-y-0",children:[c(Me,{children:c(Dn,{value:"no"})}),c(Oe,{className:"font-normal",children:"No"})]})]})}),c(Ze,{})]})}),e.watch("has_implants")==="yes"&&c(He,{control:e.control,name:"implants_details",render:({field:f})=>w(De,{children:[c(Oe,{children:"If yes, specify (e.g., pacemaker, joint replacement):"}),c(Me,{children:c(ct,{placeholder:"e.g., Pacemaker, Hip Replacement",...f})}),c(Ze,{})]})})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Current Medications"}),c(He,{control:e.control,name:"taking_medications",render:({field:f})=>w(De,{className:"space-y-3",children:[c(Oe,{children:"Are you currently taking any medications?"}),c(Me,{children:w(Ro,{onValueChange:f.onChange,value:f.value,className:"flex space-x-4",children:[w(De,{className:"flex items-center space-x-2 space-y-0",children:[c(Me,{children:c(Dn,{value:"yes"})}),c(Oe,{className:"font-normal",children:"Yes"})]}),w(De,{className:"flex items-center space-x-2 space-y-0",children:[c(Me,{children:c(Dn,{value:"no"})}),c(Oe,{className:"font-normal",children:"No"})]})]})}),c(Ze,{})]})}),e.watch("taking_medications")==="yes"&&w("div",{className:"space-y-4",children:[t.map((f,h)=>w("div",{className:"flex items-start space-x-2 p-3 border rounded-md relative",children:[w("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 flex-grow",children:[c(He,{control:e.control,name:`current_medications.${h}.name`,render:({field:m})=>w(De,{children:[c(Oe,{children:"Name"}),c(Me,{children:c(ct,{placeholder:"e.g., Lisinopril",...m})}),c(Ze,{})]})}),c(He,{control:e.control,name:`current_medications.${h}.dosage`,render:({field:m})=>w(De,{children:[c(Oe,{children:"Dosage"}),c(Me,{children:c(ct,{placeholder:"e.g., 10mg",...m})}),c(Ze,{})]})}),c(He,{control:e.control,name:`current_medications.${h}.frequency`,render:({field:m})=>w(De,{children:[c(Oe,{children:"Frequency"}),c(Me,{children:c(ct,{placeholder:"e.g., Daily",...m})}),c(Ze,{})]})})]}),w(Fe,{type:"button",variant:"ghost",size:"icon",className:"absolute top-1 right-1 h-6 w-6 text-muted-foreground hover:text-destructive",onClick:()=>n(h),children:[c(gh,{className:"h-4 w-4"}),c("span",{className:"sr-only",children:"Remove Medication"})]})]},f.id)),c(Fe,{type:"button",variant:"outline",size:"sm",onClick:()=>r({name:"",dosage:"",frequency:""}),children:"Add Medication"})]})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Recent Health Changes"}),c(He,{control:e.control,name:"recent_health_changes",render:({field:f})=>w(De,{className:"space-y-3",children:[c(Oe,{children:"Have you experienced any recent health changes (e.g., surgeries, hospitalizations, changes in medications)?"}),c(Me,{children:w(Ro,{onValueChange:f.onChange,value:f.value,className:"flex space-x-4",children:[w(De,{className:"flex items-center space-x-2 space-y-0",children:[c(Me,{children:c(Dn,{value:"yes"})}),c(Oe,{className:"font-normal",children:"Yes"})]}),w(De,{className:"flex items-center space-x-2 space-y-0",children:[c(Me,{children:c(Dn,{value:"no"})}),c(Oe,{className:"font-normal",children:"No"})]})]})}),c(Ze,{})]})}),e.watch("recent_health_changes")==="yes"&&c(He,{control:e.control,name:"health_changes_details",render:({field:f})=>w(De,{children:[c(Oe,{children:"If yes, please describe and provide dates if applicable:"}),c(Me,{children:c(Jr,{placeholder:"e.g., Knee surgery on 2024-01-15, Started new blood pressure medication last month",...f})}),c(Ze,{})]})})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Previous Surgeries / Hospitalizations"}),w("div",{className:"space-y-4",children:[a.map((f,h)=>w("div",{className:"flex items-start space-x-2 p-3 border rounded-md relative",children:[w("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 flex-grow",children:[c(He,{control:e.control,name:`previous_surgeries.${h}.type`,render:({field:m})=>w(De,{children:[c(Oe,{children:"Type / Reason"}),c(Me,{children:c(ct,{placeholder:"e.g., Appendectomy",...m})}),c(Ze,{})]})}),c(He,{control:e.control,name:`previous_surgeries.${h}.date`,render:({field:m})=>w(De,{children:[c(Oe,{children:"Approx. Date"}),c(Me,{children:c(ct,{placeholder:"e.g., 2010",...m})}),c(Ze,{})]})}),c(He,{control:e.control,name:`previous_surgeries.${h}.notes`,render:({field:m})=>w(De,{children:[c(Oe,{children:"Notes"}),c(Me,{children:c(ct,{placeholder:"Optional notes",...m})}),c(Ze,{})]})})]}),w(Fe,{type:"button",variant:"ghost",size:"icon",className:"absolute top-1 right-1 h-6 w-6 text-muted-foreground hover:text-destructive",onClick:()=>o(h),children:[c(gh,{className:"h-4 w-4"}),c("span",{className:"sr-only",children:"Remove Surgery"})]})]},f.id)),c(Fe,{type:"button",variant:"outline",size:"sm",onClick:()=>i({type:"",date:"",notes:""}),children:"Add Surgery / Hospitalization"})]})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Immunizations & Screenings"}),c(He,{control:e.control,name:"immunizations_up_to_date",render:({field:f})=>w(De,{className:"space-y-3",children:[c(Oe,{children:"Are your immunizations up to date?"}),c(Me,{children:w(Ro,{onValueChange:f.onChange,value:f.value,className:"flex space-x-4",children:[w(De,{className:"flex items-center space-x-2 space-y-0",children:[c(Me,{children:c(Dn,{value:"yes"})}),c(Oe,{className:"font-normal",children:"Yes"})]}),w(De,{className:"flex items-center space-x-2 space-y-0",children:[c(Me,{children:c(Dn,{value:"no"})}),c(Oe,{className:"font-normal",children:"No"})]}),w(De,{className:"flex items-center space-x-2 space-y-0",children:[c(Me,{children:c(Dn,{value:"not_sure"})}),c(Oe,{className:"font-normal",children:"Not Sure"})]})]})}),c(Ze,{})]})}),c(He,{control:e.control,name:"recent_immunizations",render:({field:f})=>w(De,{children:[c(Oe,{children:"If applicable, list recent immunizations (e.g., tetanus, influenza, COVID-19):"}),c(Me,{children:c(ct,{placeholder:"e.g., Flu shot (Oct 2024), COVID Booster (Dec 2024)",...f})}),c(Ze,{})]})}),c(He,{control:e.control,name:"recent_medical_screenings",render:({field:f})=>w(De,{className:"space-y-3",children:[c(Oe,{children:"Have you had any recent medical screenings (e.g., blood work, blood pressure checks)?"}),c(Me,{children:w(Ro,{onValueChange:f.onChange,value:f.value,className:"flex space-x-4",children:[w(De,{className:"flex items-center space-x-2 space-y-0",children:[c(Me,{children:c(Dn,{value:"yes"})}),c(Oe,{className:"font-normal",children:"Yes"})]}),w(De,{className:"flex items-center space-x-2 space-y-0",children:[c(Me,{children:c(Dn,{value:"no"})}),c(Oe,{className:"font-normal",children:"No"})]})]})}),c(Ze,{})]})}),e.watch("recent_medical_screenings")==="yes"&&c(He,{control:e.control,name:"screenings_details",render:({field:f})=>w(De,{children:[c(Oe,{children:"If yes, list the screenings and dates:"}),c(Me,{children:c(ct,{placeholder:"e.g., Blood work (Jan 2025), Colonoscopy (Mar 2024)",...f})}),c(Ze,{})]})})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Allergic Reactions to Dental Materials"}),c(He,{control:e.control,name:"dental_material_allergies",render:({field:f})=>w(De,{className:"space-y-3",children:[c(Oe,{children:"Have you ever had an allergic reaction to dental materials (e.g., latex, metals, local anesthetics)?"}),c(Me,{children:w(Ro,{onValueChange:f.onChange,value:f.value,className:"flex space-x-4",children:[w(De,{className:"flex items-center space-x-2 space-y-0",children:[c(Me,{children:c(Dn,{value:"yes"})}),c(Oe,{className:"font-normal",children:"Yes"})]}),w(De,{className:"flex items-center space-x-2 space-y-0",children:[c(Me,{children:c(Dn,{value:"no"})}),c(Oe,{className:"font-normal",children:"No"})]})]})}),c(Ze,{})]})}),e.watch("dental_material_allergies")==="yes"&&c(He,{control:e.control,name:"dental_material_allergies_details",render:({field:f})=>w(De,{children:[c(Oe,{children:"If yes, please describe the reaction:"}),c(Me,{children:c(Jr,{placeholder:"e.g., Rash from latex gloves, Swelling after local anesthetic",...f})}),c(Ze,{})]})})]}),c(He,{control:e.control,name:"notes",render:({field:f})=>w(De,{children:[c(Oe,{children:"Additional Medical Notes"}),c(Me,{children:c(Jr,{placeholder:"Any other relevant medical information...",...f,value:f.value||""})}),c(Ze,{})]})})]})}const QDe=e=>A.createElement("svg",{id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 698.9 980.66",...e},A.createElement("g",{id:"ID_17","data-name":"ID 17"},A.createElement("path",{d:"M209,373.39c-3.57,2.53-15.52,11.69-18.35,27.51-3.87,21.69,11.85,42.1,27.21,48,.8.31,0,0,18,3.37,18.54,3.5,21.73,4.31,27.52,4,5.38-.31,13.3-.78,20.79-5.81,12.44-8.35,14.88-23.37,16.2-31.49,1.45-8.95,3-18.28-2.75-26.9-1.19-1.8-4.1-5.71-18-11.93s-29-12.95-49.53-11.31A81.45,81.45,0,0,0,209,373.39Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M254.25,394A20.4,20.4,0,0,0,246,404.06c-1.7,4.7-1,8.73-.46,11.92a33.92,33.92,0,0,0,8.25,16.51",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M235.45,391.68c2,.58,6.56,2.2,8.71,6.42,1.05,2,1,4.5,1,9.34-.09,6.56-.13,9.84-1.43,12.67a18.74,18.74,0,0,1-8.71,8.71",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_16","data-name":"ID 16"},A.createElement("path",{d:"M232,304.6c-13.55,7.4-17.19,22.76-17.43,23.85-.37,1.67-3.36,16.22,5.5,28.43,6.21,8.55,14.57,10.9,31.19,15.59,13.92,3.93,26.26,7.41,41.27,3.67,8.41-2.09,20.34-5.06,24.77-15.59,5.05-12-4-25.25-5.51-27.52-4.47-6.55-10.08-10.25-16.51-13.76C272.23,306.71,250.15,294.66,232,304.6Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M271.12,366.22l-6.42-13.76",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M278.91,319l-11.46,12.38",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M256.9,317.61A35.06,35.06,0,0,1,265.61,335c.88,5,1.92,11-1.37,15.59-1.76,2.45-4.06,3.54-7.34,8.26a38.82,38.82,0,0,0-2.75,4.58",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_15","data-name":"ID 15"},A.createElement("path",{d:"M266.76,235c19.82-.05,51.93,9.27,61.54,35.89,4.83,13.37,5,33.86-6.41,42.31-6.07,4.51-14.39,3.49-30.77,1.28-23.23-3.13-38.41-5.18-48.72-17.94a43,43,0,0,1-9-23.08c-.3-3.27-2-21.81,10.26-32.05C251.17,235.19,260.23,235,266.76,235Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M295.36,259.52a35,35,0,0,0-8.71,6,21.36,21.36,0,0,0-5.5,6.88c-.79,1.71-3.06,6.61-.92,11.92a14.12,14.12,0,0,0,7.34,7.34",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M275.64,253.1a6.23,6.23,0,0,0,.46,4.12c1.07,2,2.93,2.09,4.59,4.13a9.76,9.76,0,0,1,1.83,4.59c1.08,5.26.08,15.5-6.88,18.8a11.49,11.49,0,0,1-6.42.92",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_14","data-name":"ID 14"},A.createElement("path",{d:"M286.26,162.42c19.81,0,51.92,9.27,61.53,35.9,4.83,13.36,5,33.85-6.41,42.31-6.07,4.5-14.38,3.49-30.77,1.28-23.23-3.14-38.41-5.18-48.71-17.95a42.88,42.88,0,0,1-9-23.08c-.3-3.26-2-21.8,10.26-32C270.66,162.59,279.73,162.44,286.26,162.42Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M290.73,212.05l12.38-2.76",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M303.57,186.36a8.18,8.18,0,0,0-.92,5c.43,2.46,1.93,2.82,3,5.5,1.24,3.27.43,6.51,0,8.26-.88,3.52-2.13,3.86-2.49,6.42-.25,1.78-.05,4.53,2.49,8.25",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M317.78,196c-1,.47-2,.93-3.21,1.37a40.83,40.83,0,0,1-6.42,1.84",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_13","data-name":"ID 13"},A.createElement("path",{d:"M290.1,149.57c-6.52-17.36,17.07-40.24,24.76-47.69,6.51-6.32,14.95-14.28,24.76-12.84,3.14.45,7.85,2.08,16.51,12.84a110.08,110.08,0,0,1,22.93,51.36c2.19,14.85,3.9,26.47-3.67,34.85-4.54,5-12.4,10.16-19.26,8.26-5.72-1.59-8.54-7.38-10.09-10.09C332.18,161.94,297.12,168.3,290.1,149.57Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M317.08,138.09a20.24,20.24,0,0,1,1.38-9.63c4.37-10.6,16.62-13.06,17.88-13.3",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_12","data-name":"ID 12"},A.createElement("path",{d:"M385.64,69.87c13.07-5.52,19.61-8.28,25.64-7.69,9.48.93,18.52,7.29,23.08,15.39,1.37,2.43,3.34,6.79,1.28,32.05-2.07,25.49-5,32.77-6.41,35.9-3.77,8.51-7.58,17.09-15.38,19.23-9.16,2.5-18.3-5.38-26.93-12.82s-20.62-17.8-24.36-35.9c-.75-3.66-5.09-26.65,7.7-38.46C372.63,75.37,377,73.54,385.64,69.87Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M382.15,91.43a64.37,64.37,0,0,1,33.48-4.59",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_11","data-name":"ID 11"},A.createElement("path",{d:"M458.72,49.36c7.44-2.23,22.93-5.54,43.59,0a29.66,29.66,0,0,1,11.58,4.82c8.37,5.86,11,14.38,11.93,17.43,1.27,4.32,1.73,9,.91,16.51C526.2,93,523.79,111.6,509.31,134c-9.71,15-15.62,17.46-18.35,18.34a27.34,27.34,0,0,1-15.59,0c-10.69-2.84-16.62-11.11-21.1-17.42-7.27-10.27-9.62-19.26-13.75-35.77-5-20-7.42-30.15-2.76-37.61C442.29,54.28,450.26,51.89,458.72,49.36Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M461.71,74.52a72.72,72.72,0,0,1,14.22-2.3A73.82,73.82,0,0,1,500.69,75",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_21","data-name":"ID 21"},A.createElement("path",{d:"M543.24,52.35c6.47-.31,14.19-.64,22.93-.92,20.38-.64,26.93-.4,34.86,1.84,7.38,2.08,15.13,4.38,18.34,11,2.27,4.68,1.1,9.11-.92,17.43-7.69,31.72-4.94,25.9-8.25,35.77-6.14,18.25-9.37,27.49-17.43,33a30.4,30.4,0,0,1-17.43,5.5c-9.35-.13-15.92-5-20.17-8.25-11-8.36-15.49-18.93-20.18-30.27-6.51-15.71-10.81-26.09-8-39.18C530,64.92,538.7,56.24,543.24,52.35Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M554.57,73.94a168.57,168.57,0,0,1,17.43,0,165.25,165.25,0,0,1,20.17,2.3",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_22","data-name":"ID 22"},A.createElement("path",{d:"M639.55,65.19a60.47,60.47,0,0,1,27.51,2.75c7.13,2.48,18.66,6.5,22.93,16.51,1.25,2.93,2.19,7.1-1.83,22.93-5.54,21.77-9.17,36.08-22,46.78-3.81,3.16-9.8,8-18.35,8.25a27.12,27.12,0,0,1-16.51-5.5c-14.42-10.54-14.61-31.73-14.67-38.52,0-4.91.55-1.41,3.67-25.69,1.12-8.73,1.52-12.93,4.58-17.42C629,69.19,635.41,66.47,639.55,65.19Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M641.74,84.51a79.65,79.65,0,0,1,13.76,1.38,80.7,80.7,0,0,1,21.55,7.33",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_23","data-name":"ID 23"},A.createElement("path",{d:"M735.85,98.21a94.57,94.57,0,0,1,13.76,14.67c5.33,7.05,11.93,15.8,13.76,28.44.89,6.17,2.13,14.73-2.75,21.09-4.68,6.1-10,3.73-22,9.17-13.94,6.34-12.92,12.37-27.52,19.26-8.13,3.84-17,8-24.77,4.59-11.59-5.1-12.53-24.47-12.84-30.27-1.05-20.32,8.6-35.3,18.35-50.44,7.67-11.92,12.27-14.92,15.59-16.51C719.13,92.59,731.45,96.55,735.85,98.21Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M727.26,118.63a56.8,56.8,0,0,1,8.71,4.58c4.93,3.17,7.92,5.09,9.63,8.72.65,1.36,2.25,5.37.46,11.46",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_24","data-name":"ID 24"},A.createElement("path",{d:"M778.44,178.21c7.22,5.63,7.75,15.37,8.26,24.77.41,7.47.72,21.63-7.34,28.43-2.25,1.9-3.7,2.12-11,4.59-17,5.74-17.24,7.26-26.6,10.08-14.44,4.35-21.77,6.67-31.19,4.59-4.23-.94-12.31-2.72-17.42-10.09-6-8.6-3.44-19.15-2.76-22,4.16-17.37,21-26.46,34.86-33.94,14.31-7.73,25.74-9.7,33.93-10.09C766.56,174.2,773,174,778.44,178.21Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M743.86,196.4c-5.12,4.17-6.05,7.43-6,9.63.11,2.71,1.74,3.06,2.75,7.34a18.6,18.6,0,0,1-.45,10.55,17.63,17.63,0,0,1-3.21,5.5",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M727.36,206a7.7,7.7,0,0,1,11,9.17",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M755.33,222.08l-14.13-3.71",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_25","data-name":"ID 25"},A.createElement("path",{d:"M798.71,239.77c7.21,5.62,7.74,15.37,8.26,24.76.4,7.47.72,21.64-7.34,28.43-2.26,1.9-3.7,2.12-11,4.59-17,5.74-17.23,7.27-26.6,10.09-14.43,4.35-21.76,6.67-31.18,4.58-4.23-.93-12.31-2.72-17.43-10.09-6-8.6-3.43-19.15-2.75-22,4.16-17.37,21-26.46,34.85-33.93,14.32-7.73,25.75-9.71,33.94-10.09C786.83,235.75,793.3,235.54,798.71,239.77Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M766.15,257.59a13.94,13.94,0,0,0-4.13,3.67,14.71,14.71,0,0,0-2.75,7.8c-.65,7.94,4.63,10.64,3.67,16.05-.4,2.24-2,5.45-7.8,8.71",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M745.51,262.18c6.41,1.89,9.67,4.92,11.46,7.34,5,6.69,2.9,14.35,8.26,17.88a10.94,10.94,0,0,0,7.34,1.38",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_26","data-name":"ID 26"},A.createElement("path",{d:"M821.64,308.55c8.76,6.88,7.09,21.59,6.42,27.52-.69,6.1-2.19,19.37-11.92,25.68-3.57,2.31-4.75,1.43-15.59,3.67-16.74,3.46-17.4,6.3-30.27,8.26-6.75,1-14.37,2.11-23.85,0-6.85-1.53-12.87-2.57-17.43-7.34-7-7.31-6.88-18.95-4.58-26.6,3.72-12.4,14.5-18.47,25.68-24.76,14.72-8.29,27.81-9.91,36.69-11a72.9,72.9,0,0,1,24.76.92C816.54,306,819.09,306.55,821.64,308.55Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M764.14,318c1.25.53,12.13,5.36,15.13,17.43A26.08,26.08,0,0,1,771,361.12",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M783.4,317.09a72.3,72.3,0,0,0-3.21,11c-.93,4.49-5,24.31,2.75,28.89a7.69,7.69,0,0,0,4.59.92",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_27","data-name":"ID 27"},A.createElement("path",{d:"M829,370c13.65,6.58,18.38,24.79,18.34,36.69a46,46,0,0,1-10.09,28.43c-5.67,6.9-11.9,10.05-17.42,12.84a71.66,71.66,0,0,1-42.19,7.34c-9.8-1.37-20.8-2.91-29.35-11.93-10.9-11.49-10.37-27.28-10.09-35.77.22-6.76.5-12.78,4.58-18.34,2.25-3.07,5.8-6.2,21.1-11a196.68,196.68,0,0,1,34.39-7.56C815.21,368.54,823.69,367.46,829,370Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M802.1,394.82a23.37,23.37,0,0,0-7.34,9.63c-.65,1.61-3.69,9.13,0,17a20.09,20.09,0,0,0,7.34,8.25",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M787,397.11a14.91,14.91,0,0,1,5.51,4.59c4.55,6.34,3.24,16.12-1.84,22a18.1,18.1,0,0,1-7.33,5",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_28","data-name":"ID 28"},A.createElement("path",{d:"M854,468.38c8.92,18.95,2.44,37.45.69,42-1.93,5-5.3,13.3-13.76,19.26-5.45,3.84-10.55,4.95-16.51,6.19-6.83,1.42-19.41,4-34.39-.69-7-2.19-19.86-6.26-28.21-19.26s-6.72-26.8-6.19-30.27c.75-4.83,1.91-13.4,8.95-20.63a31.66,31.66,0,0,1,18-9.13c2.76-.34,2.92.06,8.11.18,8.61.2,19.85.46,30.26-4.81,5.7-2.88,5.12-4.37,8.26-4.82C839,445,849.43,458.73,854,468.38Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M817.16,475.29a20.27,20.27,0,0,0-6,6A20,20,0,0,0,808,492.72a19.55,19.55,0,0,0,3.21,10.09,18.39,18.39,0,0,0,6,5.5",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M800.19,475.75a27,27,0,0,1,6,7.8c1.58,3.14,5.39,10.68,1.83,17.43-3.14,6-10.05,7.51-11.46,7.79",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_38","data-name":"ID 38"},A.createElement("path",{d:"M794.8,595.84c4.56.34,11.48.72,20,.69,12.33,0,13.91-.93,18.58,0,14.58,2.9,23.07,16.26,24.07,17.88,7.38,12,5.91,24,4.82,33-1.23,10.09-2.65,21.77-11.7,28.89-7.15,5.64-15.2,5.36-30.95,4.82-16.73-.58-28.5-4.81-37.84-8.26-10.11-3.73-15.23-5.69-18.57-10.31-5.77-8-4.25-18.12-2.75-28.21,1.32-8.83,2.53-17,8.94-24.76C778.14,598.94,790.51,596.49,794.8,595.84Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M822,625.1a17.84,17.84,0,0,0-7.34,6c-3.45,4.92-5.1,13-.92,18.8a15,15,0,0,0,8.26,5.5",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M809.13,621.89a31.31,31.31,0,0,1,2.75,5c1.19,2.78,3.64,8.51,2.29,14.68-1.84,8.39-9.63,12.58-11,13.3",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_37","data-name":"ID 37"},A.createElement("path",{d:"M835.39,690.08c10.91,9.79,13.31,22.74,13.76,25.45,3.91,23.72-13.92,40.85-16.51,43.34-3.83,3.68-9.95,9.56-19.26,11-5,.77-7.51-.23-24.08-5.5-23.88-7.6-27-8.18-32.33-12.39-3.57-2.79-9.58-7.51-13.07-15.82-6.43-15.32.81-30.7,4.81-39.21,3.26-6.92,6-12.73,12.39-16.51,6.16-3.64,12.36-3.41,24.07-2.06C813.62,681.67,827.85,683.31,835.39,690.08Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M798.43,705.68a19.18,19.18,0,0,1,5.5,10.55c.22,1.37,1.43,9.09-4.13,14.67a16.46,16.46,0,0,1-11.46,4.59",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M815.86,711.18a13.44,13.44,0,0,0-8.72,2.75c-5.58,4.55-4.93,13.19-4.58,17.89a35.23,35.23,0,0,0,2.29,10.09",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_36","data-name":"ID 36"},A.createElement("path",{d:"M820.26,802.9c-1,16.59-15.15,26.65-19.26,29.58s-11.42,8.13-21.33,8.25c-5.79.07-12.57-3.39-26.14-10.32-13.92-7.11-18.55-11.07-21.32-13.75-4.13-4-6.87-6.63-9-11-7.1-14.95,2.18-31.71,4.82-36.46,3.12-5.64,6.34-11.44,13.07-14.45,6.05-2.69,12-1.8,21,.51,25.88,6.63,38.82,9.94,47.79,20.82C813,779.77,821.08,789.58,820.26,802.9Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M788.67,791.63c-2,1.64-4.57,3.19-7.33,2.76-2.92-.46-4-2.81-5.51-2.3-2.17.73-2.45,6.31-1.83,10.09a19.93,19.93,0,0,0,4.13,9.17",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M771.25,782.46a28,28,0,0,1,3.66,6.42c1.59,3.91,3.7,9.09,1.38,12.84-2.15,3.48-7.57,4.91-13.3,3.67",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_35","data-name":"ID 35"},A.createElement("path",{d:"M797.89,857c2,11-4.28,22-11.38,28.12-14.45,12.53-34,6.58-38.21,5.29-15.81-4.81-23.86-16.68-28.32-23.25-5.36-7.91-11.45-16.88-8.73-27,2.85-10.65,13.5-15.53,15.08-16.23,11.65-5.12,23.18-.45,35.18,4.41C778.65,835.29,795.18,842,797.89,857Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M790,864.21a36.18,36.18,0,0,1-4.13,6,38.73,38.73,0,0,1-17.42,11.46",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_34","data-name":"ID 34"},A.createElement("path",{d:"M765.78,914.21c-.15,11.2-8.37,20.76-16.51,25.45-16.57,9.55-34.61,0-38.52-2.06-14.61-7.73-20.27-20.91-23.39-28.21-3.77-8.78-8-18.75-3.44-28.2,4.82-9.92,16.2-12.69,17.88-13.07,12.42-2.82,22.84,4,33.71,11C751,889.2,766,898.91,765.78,914.21Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M753,922.06a42.52,42.52,0,0,1-6.66,7A43.14,43.14,0,0,1,734.74,936",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_31","data-name":"ID 31"},A.createElement("path",{d:"M576.88,1024.34c-5.54.29-13.07.64-22,.92-14.61.46-16.4.23-18.34-.92-8.75-5.15-7.85-21.21-6.88-38.52,1.18-21.11,2.08-37.23,13.75-44.94.77-.51,10.05-6.44,19.27-3.21,5.07,1.78,7.76,5.51,11.92,11.46,1.39,2,7.91,11.51,12.38,27.06.49,1.69,1.7,9.84,4.13,26.14,1,7.07,1.54,10.68-.46,14.22C587.41,1022.28,580.15,1023.85,576.88,1024.34Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M551.53,1015.86l19.72-.46",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_41","data-name":"ID 41"},A.createElement("path",{d:"M514.51,948.22c5.39,12.13,7,24.44,8.72,37.6,2.06,16.22,3.1,24.47,0,29.81-1.13,1.94-4.15,7.15-10.55,9.63-2.8,1.09-4,.69-12.84.46-13.92-.36-15.73.48-22-.92-5.47-1.21-8.2-1.81-10.55-3.67-7.71-6-6.41-19.24-5-33,1.12-11.29,2.52-24,11-37.14,4.55-7.05,9-14,17.43-15.59a22.57,22.57,0,0,1,19.26,6A21.19,21.19,0,0,1,514.51,948.22Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M482,1014.25c3.07.71,6.44,1.35,10.09,1.84a110,110,0,0,0,11,.92",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_42","data-name":"ID 42"},A.createElement("path",{d:"M438.84,1015.63a127.59,127.59,0,0,1-24.76-3.21c-12-2.76-14.34-5.1-15.13-6-6.8-7.39-3.59-20.37-1.38-29.35,2.4-9.75,6.28-16.18,11.47-24.77,5.65-9.37,8.71-14.29,15.13-17.88,2.73-1.53,9.64-5.39,17.88-3.21,9.44,2.5,13.6,11,14.22,12.38,1.16,2.48,1.55,6.42,2.29,14.22a141.45,141.45,0,0,1,.92,16.51,87.13,87.13,0,0,1-1.83,19.26c-1.48,6.72-2.24,10.17-5,13.76C448.22,1013,442,1014.91,438.84,1015.63Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M414,998.25a29.24,29.24,0,0,0,20.17,4.59",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_45","data-name":"ID 45"},A.createElement("path",{d:"M259.15,886.31c-.87-.72-16.53-13.95-13.3-30.27,1.45-7.33,6-11.72,12.38-17.89,11.64-11.24,24.16-15,31.19-17,8.66-2.46,13.79-3.84,20.18-1.83,1.13.36,10.77,3.57,15.13,13.3,3,6.68,1.86,12.79.92,17.89-1.51,8.13-5,13.62-7.8,17.88a70.54,70.54,0,0,1-16.51,17.43c-6.21,4.71-9.32,7.06-14.22,8.25C273.17,897.5,260.76,887.63,259.15,886.31Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M278.17,880.63a32.49,32.49,0,0,0-10.54-6c-2.28-.75-3.79-.94-5.05-2.29-2.3-2.47-1.78-6.73-.92-10.09",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_46","data-name":"ID 46"},A.createElement("path",{d:"M220.63,765.24a104,104,0,0,1,18.8-8.72A95.14,95.14,0,0,1,272,751c11.72.23,17.58.35,22.93,4.59,10.31,8.16,9.5,24.24,9.17,30.72-.29,5.75-.43,15.89-7.34,24.77a40.08,40.08,0,0,1-7.33,6.87c-5.32,4.11-16.43,12.47-33,15.14-10.1,1.62-19.78,3.17-28.89-2.29-8.61-5.16-11.83-13.65-16-24.77-3.59-9.43-6.36-16.74-3.67-25.22C210.55,772.12,217.48,767.19,220.63,765.24Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M263.51,773a17.11,17.11,0,0,0-6.88,11c-.06.43-1.29,9.92,5,13.76a11.09,11.09,0,0,0,6.88,1.37",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M242.41,783.12a16.66,16.66,0,0,1,9.17,3.67,16.44,16.44,0,0,1,2.76,22.47",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_47","data-name":"ID 47"},A.createElement("path",{d:"M262.82,673.06c12.52,6.46,18.06,18.41,19.72,22.47a45.83,45.83,0,0,1,1.83,28.89c-1.47,5.59-4.29,18.65-14.21,22.93a17.6,17.6,0,0,1-6.88,1.38c-21.73.49-29,15.15-45.86,14.21a35.53,35.53,0,0,1-17.89-6.42c-15.44-10.41-17.91-29.07-18.8-35.77-1.09-8.19-2.48-18.74,3.67-28,1.72-2.59,5.91-7.88,24.76-14.22C233.41,670.41,248.11,665.47,262.82,673.06Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M237,698.48a29.53,29.53,0,0,0-6.16,10.09c-1.39,3.9-3.25,9.1-.92,11.93,2.61,3.16,7.94.29,12.84,4.12a12,12,0,0,1,3.67,5",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M220.25,705.36a22.28,22.28,0,0,1,6,3.67c4.92,4.25,9.86,12.4,7.34,19.72a13.39,13.39,0,0,1-3.21,5",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_48","data-name":"ID 48"},A.createElement("path",{d:"M196.32,591.43a232.08,232.08,0,0,1,24.31-.46c11.62.38,17.53.63,22.93,3.21,10.85,5.2,15.85,15.2,17.88,19.26,4.72,9.42,5,17.8,5.05,22.93.13,7.83.29,16.64-5.51,23.39-3,3.48-6.19,4.82-12.38,7.34-14.56,5.91-19.36,2.62-37.14,7.79-7.81,2.27-9.59,3.69-14.22,3.21-8.67-.9-14.63-7.14-17.89-10.55a50.16,50.16,0,0,1-11.92-22.47c-1.6-6.53-6-24.31,5-39C180.34,595.62,191.8,592.42,196.32,591.43Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M221.38,614.27a35.13,35.13,0,0,0-5,10.09c-1.75,5.64-4.07,12-.91,17.42.67,1.16,3,4.69,9.17,6.42",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M207.16,616.56a40.13,40.13,0,0,1,4.59,6c2.69,4.28,5.47,8.7,5,13.76-.63,7.5-7.9,12.07-9.17,12.84",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_18","data-name":"ID 18"},A.createElement("path",{d:"M229.21,453.18c18.65,1.39,28.18,2.2,38.53,8.26,5.7,3.34,13.13,7.69,17,16.51,6.15,14.14-1.68,28.91-4.59,34.39-2,3.71-8.35,15.37-22,22-14.83,7.21-29.06,4.07-45.4.46-11.09-2.45-16.63-3.68-21.1-7.8-12.74-11.75-9.7-33.58-7.8-47.24,1.66-11.85,2.53-18.09,7.8-22.93C198,451,208.49,451.65,229.21,453.18Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M242.79,478.45c-1.57.69-7.71,3.63-9.17,9.63-1,4.12.69,7.64,3.21,12.84a47.29,47.29,0,0,0,7.79,11.46",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M224.44,478.45A26,26,0,0,1,230,484c1,1.37,8.49,11.55,4.12,20.18-.63,1.26-2.6,4.61-7.79,6.88",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_44","data-name":"ID 44"},A.createElement("path",{d:"M299.78,936.84c-.87-.71-16.54-13.94-13.3-30.26,1.45-7.33,6-11.73,12.38-17.89,11.63-11.24,24.16-15,31.18-17,8.67-2.46,13.8-3.84,20.18-1.83,1.14.36,10.78,3.57,15.14,13.3,3,6.68,1.86,12.79.91,17.88-1.5,8.14-5,13.62-7.79,17.89A70.54,70.54,0,0,1,342,936.39c-6.22,4.7-9.32,7.06-14.22,8.25C313.8,948,301.39,938.17,299.78,936.84Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M319.31,932.09a35.51,35.51,0,0,1-5.5-4.73,38.75,38.75,0,0,1-9.58-18.53",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_43","data-name":"ID 43"},A.createElement("path",{d:"M369.6,995c-2,0-24.09-1-32.56-17.42-5.16-10-2.45-20.35-.92-26.14,4.47-17,16.77-26,30.72-36.23,5.59-4.1,10.55-6.91,17-7.34,2.36-.16,10.27-.68,15.59,4.59,3.91,3.85,4.39,8.8,5.05,15.59.51,5.24.1,8.71-1.38,20.64-1.53,12.36-2.3,18.56-2.55,19.45-2,7.2-4.85,17.56-14,23.2C380.19,995.27,373.67,995.1,369.6,995Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M377.68,978.48a35.56,35.56,0,0,1-7.25.17,38.69,38.69,0,0,1-19.51-7.36",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_33","data-name":"ID 33"},A.createElement("path",{d:"M714.92,979.17a56.7,56.7,0,0,1-15.82,9.63c-6,2.42-21,8.4-32.33,2.07-8.18-4.56-10.5-13.82-15.14-32.33-2.89-11.56-5.73-23.51-1.37-37.15,1.94-6.07,4-12.5,9.63-15.14,9.39-4.38,21.84,5,31.64,12.39a82.83,82.83,0,0,1,22.7,26.14c4.69,8.52,9.3,17.2,6.19,26.14A20.67,20.67,0,0,1,714.92,979.17Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M706.18,967.57a42.81,42.81,0,0,1-19,12.91",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_32","data-name":"ID 32"},A.createElement("path",{d:"M652.32,1007.38c-3.43,1.25-8.65,3-15.13,4.81-13.83,3.79-20.77,5.34-26.83,3.44-8.8-2.76-13.5-10.42-15.13-13.07-2.31-3.74-4.06-8.85-2.07-35.08,1.94-25.5,4.31-29.14,6.88-31.65,5.16-5,14.7-9,23.39-5.5,2.9,1.17,5.13,3,10.32,9.63,6.58,8.44,11.3,14.49,16.51,25.45,7.06,14.88,11.51,24.24,7.79,33.71A22.67,22.67,0,0,1,652.32,1007.38Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M638.35,997.28a42.05,42.05,0,0,1-8.64,4.28,43.14,43.14,0,0,1-13.26,2.53",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_54","data-name":"ID 54"},A.createElement("path",{d:"M343.25,453.41c-2.43,1.73-10.58,8-12.51,18.76-2.64,14.79,8.08,28.71,18.56,32.74.55.21,0,0,12.3,2.29,12.65,2.39,14.82,2.94,18.77,2.71,3.67-.21,9.07-.53,14.18-4C403,500.26,404.7,490,405.6,484.48c1-6.11,2-12.47-1.88-18.35-.81-1.23-2.8-3.89-12.3-8.13s-19.8-8.84-33.78-7.72A55.63,55.63,0,0,0,343.25,453.41Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M374.09,467.44a14,14,0,0,0-5.63,6.88,14.79,14.79,0,0,0-.31,8.14,23.13,23.13,0,0,0,5.63,11.25",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M361.27,465.88c1.37.4,4.47,1.51,5.94,4.38.71,1.39.71,3.07.66,6.37-.06,4.47-.09,6.71-1,8.64a12.84,12.84,0,0,1-5.94,5.94",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_55","data-name":"ID 55"},A.createElement("path",{d:"M357,507.83c12.71.94,19.21,1.49,26.27,5.63,3.89,2.27,8.95,5.24,11.57,11.26,4.19,9.64-1.15,19.71-3.13,23.45a34.27,34.27,0,0,1-15,15c-10.11,4.92-19.82,2.78-31,.32-7.56-1.67-11.34-2.51-14.39-5.32-8.69-8-6.62-22.9-5.32-32.21,1.13-8.09,1.72-12.34,5.32-15.64C335.72,506.34,342.88,506.78,357,507.83Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M366.27,525.06c-1.06.47-5.25,2.47-6.25,6.56-.69,2.82.47,5.21,2.19,8.76a32.45,32.45,0,0,0,5.31,7.82",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M353.76,525.06a17.39,17.39,0,0,1,3.75,3.75c.69.93,5.79,7.87,2.82,13.76a10.2,10.2,0,0,1-5.32,4.69",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_53","data-name":"ID 53"},A.createElement("path",{d:"M365.84,441.28c-4.45-11.84,11.64-27.44,16.89-32.52,4.44-4.31,10.19-9.74,16.88-8.76,2.14.31,5.36,1.42,11.26,8.76a75,75,0,0,1,15.64,35c1.49,10.13,2.66,18-2.5,23.77-3.1,3.43-8.46,6.92-13.14,5.63-3.9-1.09-5.82-5-6.88-6.89C394.54,449.72,370.63,454.06,365.84,441.28Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M384.24,433.46a13.89,13.89,0,0,1,.94-6.57c3-7.23,11.34-8.91,12.2-9.07",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_52","data-name":"ID 52"},A.createElement("path",{d:"M430.16,376.92c8.91-3.77,13.37-5.66,17.48-5.25a21.24,21.24,0,0,1,15.74,10.49c.94,1.66,2.28,4.63.88,21.86-1.42,17.38-3.43,22.35-4.37,24.48-2.58,5.81-5.18,11.66-10.5,13.11-6.24,1.71-12.48-3.66-18.36-8.74S417,420.74,414.42,408.39c-.51-2.49-3.47-18.18,5.25-26.23C421.29,380.67,424.24,379.42,430.16,376.92Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M427.78,388.61a44.76,44.76,0,0,1,15-3.44,43.72,43.72,0,0,1,7.82.32",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_51","data-name":"ID 51"},A.createElement("path",{d:"M480,362.93c5.08-1.52,15.65-3.78,29.73,0a20.11,20.11,0,0,1,7.9,3.28,21.58,21.58,0,0,1,8.13,11.89c.87,2.94,1.18,6.11.63,11.26-.36,3.36-2,16-11.89,31.27-6.62,10.23-10.64,11.91-12.51,12.51a18.65,18.65,0,0,1-10.63,0c-7.29-1.94-11.33-7.57-14.39-11.88-5-7-6.56-13.13-9.38-24.4-3.41-13.63-5.05-20.55-1.88-25.64S474.23,364.65,480,362.93Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M485,375.08a49,49,0,0,1,9.69-1.56,50.15,50.15,0,0,1,16.89,1.87",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_61","data-name":"ID 61"},A.createElement("path",{d:"M537.64,365c4.41-.21,9.68-.43,15.63-.62,13.9-.44,18.37-.28,23.77,1.25,5,1.42,10.32,3,12.51,7.5,1.55,3.2.76,6.21-.62,11.89-5.25,21.63-3.37,17.66-5.63,24.39-4.18,12.45-6.39,18.75-11.89,22.52a20.69,20.69,0,0,1-11.88,3.75c-6.38-.09-10.86-3.41-13.76-5.63-7.47-5.7-10.56-12.9-13.76-20.64-4.44-10.71-7.37-17.79-5.43-26.71C528.57,373.53,534.54,367.62,537.64,365Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M548.36,374.69a112.07,112.07,0,0,1,11.89,0A114.47,114.47,0,0,1,574,376.25",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_62","data-name":"ID 62"},A.createElement("path",{d:"M603.32,373.72a41.27,41.27,0,0,1,18.76,1.88c4.86,1.69,12.73,4.43,15.64,11.26.85,2,1.49,4.84-1.25,15.63-3.78,14.85-6.26,24.61-15,31.9-2.59,2.16-6.67,5.47-12.51,5.63a18.52,18.52,0,0,1-11.25-3.75c-9.84-7.19-10-21.64-10-26.27,0-3.35.37-1,2.5-17.52.76-6,1-8.82,3.13-11.88A18.47,18.47,0,0,1,603.32,373.72Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M604.81,383.9a54.48,54.48,0,0,1,24.08,5.94",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_64","data-name":"ID 64"},A.createElement("path",{d:"M696.66,447.68C706.45,451,711.14,463,712.09,471a31.38,31.38,0,0,1-4.49,20.08c-3.28,5.14-7.24,7.78-10.75,10.12a48.79,48.79,0,0,1-28,8.43c-6.75-.12-14.32-.26-20.85-5.66-8.32-6.89-9.26-17.63-9.76-23.39-.41-4.6-.71-8.7,1.59-12.8,1.28-2.26,3.42-4.67,13.38-9.18a134.51,134.51,0,0,1,22.67-7.95C687.22,447.81,692.87,446.38,696.66,447.68Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M680.5,466.68a16,16,0,0,0-4.18,7.12c-.31,1.15-1.74,6.49,1.4,11.49a13.69,13.69,0,0,0,5.64,5",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M670.44,469.47a10.18,10.18,0,0,1,4.11,2.66c3.6,3.92,3.51,10.65.56,15.05a12.5,12.5,0,0,1-4.55,4",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_65","data-name":"ID 65"},A.createElement("path",{d:"M721.66,512.22c7.59,12.1,4.72,25.16,3.91,28.36-.9,3.52-2.5,9.44-7.74,14.16-3.37,3-6.74,4.22-10.67,5.55-4.5,1.52-12.81,4.32-23.34,2.36-4.89-.92-14-2.61-20.67-10.73a30.34,30.34,0,0,1-6.68-20c.11-3.33.19-9.24,4.36-14.71a21.7,21.7,0,0,1,11.46-7.66c1.84-.45,2-.19,5.51-.54,5.84-.57,13.47-1.31,20.09-5.74,3.62-2.42,3.1-3.38,5.2-3.94C709.61,497.6,717.79,506.07,721.66,512.22Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M697.3,516.93a13.66,13.66,0,0,0-4.78,12.55,13.35,13.35,0,0,0,3,6.57,12.59,12.59,0,0,0,4.49,3.23",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M685.85,518.63a18.65,18.65,0,0,1,4.68,4.79c1.32,2,4.52,6.79,2.67,11.65-1.64,4.31-6.2,5.91-7.12,6.22",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_63","data-name":"ID 63"},A.createElement("path",{d:"M673.15,398a65.26,65.26,0,0,1,8,11.15c3,5.24,6.66,11.74,6.77,20.45.06,4.25.13,10.15-3.73,14-3.71,3.71-7.12,1.63-15.7,4.24-10,3-9.84,7.22-20.32,10.58-5.84,1.87-12.19,3.9-17.15.89-7.39-4.48-6.3-17.66-6-21.61,1.09-13.83,9-23.1,16.89-32.47,6.25-7.38,9.63-9,12-9.78C662.34,392.75,670.32,396.52,673.15,398Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M666.24,410.38a38.69,38.69,0,0,1,5.48,3.87c3,2.58,4.9,4.14,5.74,6.75a10.86,10.86,0,0,1-.71,7.79",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_71","data-name":"ID 71"},A.createElement("path",{d:"M559.58,786.61c-3.78.2-8.92.44-15,.63-10,.31-11.19.15-12.51-.63-6-3.51-5.36-14.46-4.7-26.27.81-14.4,1.43-25.39,9.39-30.65.52-.34,6.85-4.39,13.13-2.19,3.46,1.22,5.29,3.76,8.13,7.82a63,63,0,0,1,8.45,18.45c.33,1.16,1.16,6.71,2.81,17.83.72,4.82,1.05,7.28-.31,9.7C566.76,785.2,561.8,786.28,559.58,786.61Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M542.29,780.83l13.45-.32",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_81","data-name":"ID 81"},A.createElement("path",{d:"M517,734.7c3.68,8.27,4.8,16.66,6,25.64,1.4,11.06,2.11,16.69,0,20.33a14.42,14.42,0,0,1-7.2,6.57c-1.91.74-2.74.47-8.75.31-9.49-.24-10.73.33-15-.62-3.72-.83-5.58-1.24-7.19-2.51-5.25-4.12-4.37-13.12-3.44-22.51.76-7.7,1.71-16.37,7.51-25.34,3.1-4.8,6.16-9.55,11.88-10.63A15.42,15.42,0,0,1,513.92,730,14.53,14.53,0,0,1,517,734.7Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M494.9,779.73c2.09.48,4.39.92,6.88,1.25,2.7.36,5.21.55,7.5.63",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_82","data-name":"ID 82"},A.createElement("path",{d:"M465.44,780.67a86.77,86.77,0,0,1-16.89-2.19c-8.17-1.88-9.78-3.48-10.32-4.06-4.63-5-2.45-13.9-.94-20,1.64-6.65,4.29-11,7.82-16.89,3.86-6.39,5.94-9.74,10.32-12.2,1.87-1,6.57-3.67,12.2-2.19,6.43,1.71,9.27,7.54,9.69,8.45.79,1.69,1.06,4.38,1.57,9.69a99.45,99.45,0,0,1,.62,11.26,59.38,59.38,0,0,1-1.25,13.14c-1,4.58-1.53,6.93-3.44,9.38A16.52,16.52,0,0,1,465.44,780.67Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M448.47,768.82A19.9,19.9,0,0,0,462.23,772",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_83","data-name":"ID 83"},A.createElement("path",{d:"M418.21,766.6c-1.38,0-16.43-.65-22.2-11.89-3.52-6.84-1.67-13.87-.63-17.82,3.05-11.58,11.44-17.73,21-24.71,3.81-2.8,7.19-4.71,11.57-5,1.61-.1,7-.46,10.63,3.13,2.66,2.63,3,6,3.44,10.64.35,3.57.07,5.93-.94,14.07-1,8.43-1.57,12.66-1.74,13.27-1.35,4.91-3.3,12-9.51,15.81C425.44,766.78,421,766.67,418.21,766.6Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M423.73,755.34a24.81,24.81,0,0,1-4.94.11,26.43,26.43,0,0,1-13.32-5",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_72","data-name":"ID 72"},A.createElement("path",{d:"M611,775c-2.34.86-5.9,2.08-10.32,3.28-9.43,2.59-14.16,3.65-18.29,2.35-6-1.88-9.21-7.1-10.32-8.91-1.58-2.55-2.77-6-1.41-23.93,1.32-17.38,2.94-19.87,4.69-21.58,3.52-3.43,10-6.14,16-3.75,2,.8,3.5,2,7,6.57,4.49,5.75,7.7,9.87,11.26,17.35,4.82,10.15,7.85,16.53,5.31,23A15.32,15.32,0,0,1,611,775Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M601.5,768.16a29.16,29.16,0,0,1-14.94,4.64",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_75","data-name":"ID 75"},A.createElement("path",{d:"M690.21,615.19c2.91,1.12,7.35,2.74,12.89,4.38,8,2.4,9.26,2.14,12.12,3.67,8.95,4.77,11.86,15.17,12.19,16.42,2.46,9.27-.88,16.85-3.37,22.51-2.78,6.34-6,13.69-13.33,16.55-5.78,2.27-11,.5-21.16-3-10.8-3.68-17.65-8.76-23.07-12.85-5.86-4.43-8.82-6.72-10.09-10.4-2.19-6.35.8-12.66,3.77-19,2.6-5.51,5-10.6,10.72-14.41C678.72,613.93,687.28,614.76,690.21,615.19Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M702.17,639.65a12.25,12.25,0,0,0-6,2.44c-3.23,2.53-5.89,7.45-4.31,12.1a10.25,10.25,0,0,0,4.3,5.22",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M694.42,635a19.94,19.94,0,0,1,.8,3.84c.23,2,.71,6.27-1.39,10-2.86,5.12-8.77,6.32-9.81,6.51",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_74","data-name":"ID 74"},A.createElement("path",{d:"M698.12,684.72a30.75,30.75,0,0,1,4,19.33c-2.13,16.25-17.14,23.92-19.32,25-3.23,1.65-8.38,4.28-14.75,3.39-3.39-.47-4.85-1.63-14.63-8.34-14.1-9.67-16-10.66-18.67-14.46-1.77-2.53-4.77-6.79-5.41-12.91-1.17-11.26,6.59-19.88,10.88-24.64,3.49-3.88,6.42-7.13,11.34-8.34,4.74-1.16,8.74.21,16.12,3.4C685.57,674.94,694.53,678.81,698.12,684.72Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M670.91,687.61a13.07,13.07,0,0,1,1.52,8c-.13.94-.87,6.22-5.59,8.77a11.21,11.21,0,0,1-8.39.73",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M681.2,694.64a9.14,9.14,0,0,0-6.23.08c-4.54,1.86-5.82,7.64-6.52,10.77a24.24,24.24,0,0,0-.49,7",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_84","data-name":"ID 84"},A.createElement("path",{d:"M393.1,667.59c9.56.93,16.09,7.1,18.16,9.26a31.31,31.31,0,0,1,8.45,17.84c.48,3.91,2,12.9-3.22,18.12a12.1,12.1,0,0,1-4,2.61C398.83,721.21,397.91,732.34,387,736a24.09,24.09,0,0,1-12.95.44c-12.41-2.7-18.68-13.89-20.94-17.92-2.75-4.92-6.3-11.25-4.73-18.65.44-2.07,1.76-6.48,12.11-15.25C373.8,673.33,381.86,666.49,393.1,667.59Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M383.12,690.22a20,20,0,0,0-1.35,7.95c.1,2.82.23,6.58,2.42,7.78,2.45,1.35,5.11-1.81,9.18-.62a8.36,8.36,0,0,1,3.6,2.27",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M374.27,698.79a15.47,15.47,0,0,1,4.71.82c4.18,1.45,9.37,5.37,9.62,10.65a9.14,9.14,0,0,1-.76,4",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_85","data-name":"ID 85"},A.createElement("path",{d:"M330.37,632.64a156.5,156.5,0,0,1,15.29-6.42c7.45-2.69,11.27-4,15.33-3.75,8.19.55,13.88,5.63,16.2,7.69a34.52,34.52,0,0,1,9,13.26c2.06,4.92,4.38,10.47,2.41,16.2-1,3-2.71,4.62-6,7.78-7.73,7.42-11.6,6.54-21.57,14.31-4.37,3.4-5.14,4.75-8.19,5.62-5.72,1.61-11.07-.84-14-2.18a34.12,34.12,0,0,1-13.22-11.23c-2.66-3.73-9.91-13.9-6.64-26C321.31,639.33,327.76,634.41,330.37,632.64Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M352,640.79a24.06,24.06,0,0,0-.65,7.67c.31,4,.46,8.65,3.81,11.27.72.56,3.09,2.21,7.43,1.75",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M343.58,645.83a27.77,27.77,0,0,1,4.41,2.62c2.79,2,5.66,4.13,6.67,7.45,1.49,4.9-2,9.64-2.58,10.45",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_73","data-name":"ID 73"},A.createElement("path",{d:"M653.72,755.81a38.58,38.58,0,0,1-10.79,6.56c-4.12,1.65-14.3,5.73-22,1.41-5.58-3.11-7.16-9.42-10.32-22-2-7.88-3.91-16-.94-25.33,1.32-4.14,2.72-8.53,6.57-10.32,6.4-3,14.89,3.41,21.57,8.44a56.62,56.62,0,0,1,15.49,17.83c3.19,5.81,6.34,11.73,4.22,17.83A14.22,14.22,0,0,1,653.72,755.81Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M648.06,750.66a29.16,29.16,0,0,1-14.94,4.64",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}))),Pz=e=>({11:"UR Central Incisor",12:"UR Lateral Incisor",13:"UR Canine",14:"UR 1st Premolar",15:"UR 2nd Premolar",16:"UR 1st Molar",17:"UR 2nd Molar",18:"UR 3rd Molar",21:"UL Central Incisor",22:"UL Lateral Incisor",23:"UL Canine",24:"UL 1st Premolar",25:"UL 2nd Premolar",26:"UL 1st Molar",27:"UL 2nd Molar",28:"UL 3rd Molar",31:"LR Central Incisor",32:"LR Lateral Incisor",33:"LR Canine",34:"LR 1st Premolar",35:"LR 2nd Premolar",36:"LR 1st Molar",37:"LR 2nd Molar",38:"LR 3rd Molar",41:"LL Central Incisor",42:"LL Lateral Incisor",43:"LL Canine",44:"LL 1st Premolar",45:"LL 2nd Premolar",46:"LL 1st Molar",47:"LL 2nd Molar",48:"LL 3rd Molar",51:"UR Primary Central Incisor",52:"UR Primary Lateral Incisor",53:"UR Primary Canine",54:"UR Primary 1st Molar",55:"UR Primary 2nd Molar",61:"UL Primary Central Incisor",62:"UL Primary Lateral Incisor",63:"UL Primary Canine",64:"UL Primary 1st Molar",65:"UL Primary 2nd Molar",71:"LR Primary Central Incisor",72:"LR Primary Lateral Incisor",73:"LR Primary Canine",74:"LR Primary 1st Molar",75:"LR Primary 2nd Molar",81:"LL Primary Central Incisor",82:"LL Primary Lateral Incisor",83:"LL Primary Canine",84:"LL Primary 1st Molar",85:"LL Primary 2nd Molar"})[e]||`Tooth ${e}`,h2={healthy:"#10B981",decayed:"#DC2626",filled:"#6B7280",missing:"transparent","treatment-planned":"#F97316","root-canal":"#8B5CF6",extraction:"#EF4444",crown:"#F59E0B","has-treatment-before":"#3B82F6","recommended-to-be-treated":"#FBBF24",selected:"#BFDBFE"},eIe=e=>{const t={},r=["healthy"],n=i=>{var s;const o=(s=e==null?void 0:e[i])==null?void 0:s.conditions;return Array.isArray(o)&&o.length>0?o:r},a=i=>{var o;return((o=e==null?void 0:e[i])==null?void 0:o.isSelected)===!0};for(let i=11;i<=18;i++)t[i]={id:i,conditions:n(i),isPrimary:!1,isSelected:a(i)};for(let i=21;i<=28;i++)t[i]={id:i,conditions:n(i),isPrimary:!1,isSelected:a(i)};for(let i=31;i<=38;i++)t[i]={id:i,conditions:n(i),isPrimary:!1,isSelected:a(i)};for(let i=41;i<=48;i++)t[i]={id:i,conditions:n(i),isPrimary:!1,isSelected:a(i)};for(let i=51;i<=55;i++)t[i]={id:i,conditions:n(i),isPrimary:!0,isSelected:a(i)};for(let i=61;i<=65;i++)t[i]={id:i,conditions:n(i),isPrimary:!0,isSelected:a(i)};for(let i=71;i<=75;i++)t[i]={id:i,conditions:n(i),isPrimary:!0,isSelected:a(i)};for(let i=81;i<=85;i++)t[i]={id:i,conditions:n(i),isPrimary:!0,isSelected:a(i)};return t},Tz=[{label:"Healthy",value:"healthy"},{label:"Decayed",value:"decayed"},{label:"Filled",value:"filled"},{label:"Missing",value:"missing"},{label:"Planned Tx",value:"treatment-planned"},{label:"Root Canal",value:"root-canal"},{label:"Extraction",value:"extraction"},{label:"Crown",value:"crown"},{label:"Prior Tx",value:"has-treatment-before"},{label:"Recommend Tx",value:"recommended-to-be-treated"}],O3=A.forwardRef(({initialState:e,onToothSelect:t,readOnly:r=!1},n)=>{console.log("DentalChart: Render triggered. Initial prop value:",JSON.stringify(e));const[a,i]=A.useState({});console.log("DentalChart: Initializing state with {}. Current teethData:",JSON.stringify(a));const[o,s]=A.useState(null),[l,u]=A.useState(null),[d,f]=A.useState(new Set),[h,m]=A.useState(null),[x,g]=A.useState(null),y=A.useRef(null);A.useEffect(()=>{console.log("DentalChart: useEffect for initialState triggered. Prop value:",JSON.stringify(e));const I=eIe(e);console.log("DentalChart: Regenerated initialTeeth based on prop:",JSON.stringify(I)),i(I),console.log("DentalChart: setTeethData called with regenerated state."),Object.entries(I).filter(([,L])=>L.isSelected).map(([L])=>parseInt(L,10))},[e]),A.useImperativeHandle(n,()=>({getTeethData:()=>a}));const _=A.useCallback(I=>{let L=I;for(;L&&L.tagName!=="svg";){if(L.tagName==="g"&&L.id.startsWith("ID_")){const U=L.id.substring(3),T=parseInt(U,10);if(!isNaN(T)&&a[T])return L}L=L.parentNode}return null},[a]),b=A.useCallback(I=>{const L=_(I);if(L){const U=L.id.substring(3);return parseInt(U,10)}return null},[_]),S=A.useCallback(I=>{var j;if(r)return;const L=a[I];if(!L)return;const U=!L.isSelected,T=Object.entries(a).filter(([H,X])=>parseInt(H,10)===I?U:X.isSelected).map(([H])=>parseInt(H,10));t==null||t(T);const F={...a,[I]:{...L,isSelected:U}};if(i(F),U){const H=(j=y.current)==null?void 0:j.querySelector(`#ID_${I}`);if(H&&y.current){const X=y.current.getBoundingClientRect(),re=H.getBoundingClientRect(),z=re.top-X.top+re.height/2+y.current.scrollTop,G=re.left-X.left+re.width/2+y.current.scrollLeft,q={id:I,name:Pz(I),conditions:F[I].conditions,top:z,left:G};m(q),g({top:z,left:G})}else m(null),g(null)}else m(null),l!==I&&g(null);f(H=>{const X=new Set(H);return X.delete(I),X})},[r,t,a,l]),C=A.useCallback(I=>{if(r)return;s(I);const L=new Set;let U=!1,T;if(i(F=>{const j={...F};if(Object.keys(j).forEach(X=>{const re=parseInt(X,10),z=j[re];if(z.isSelected){let G=[...z.conditions],q=!1;if(I==="healthy")G.length===1&&G[0]==="healthy"||(G=["healthy"],q=!0);else if(I==="missing"){if(!(G.length===1&&G[0]==="missing")){G=["missing"],q=!0,j[re]={...z,conditions:G,isSelected:!1},L.add(re);return}}else{const K=G.indexOf(I);if(K>-1)G.splice(K,1),G.length===0&&G.push("healthy"),q=!0;else{const J=G.indexOf("healthy");J>-1&&G.splice(J,1),G.push(I),q=!0}}q?(j[re]={...z,conditions:G,isSelected:!0},L.add(re),h&&re===h.id&&JSON.stringify(G)!==JSON.stringify(h.conditions)&&(U=!0,T=G)):z.isSelected&&L.add(re)}}),U&&h){const X=T??h.conditions;m(re=>re?{...re,conditions:X}:null)}const H=Object.values(j).filter(X=>X.isSelected).map(X=>X.id);return t==null||t(H),j}),U&&h){const F=T??h.conditions;m(j=>j?{...j,conditions:F}:null)}f(F=>new Set([...F,...L]))},[r,t,a,h]),E=A.useCallback(I=>{if(r)return;const L=b(I.target);L!==null&&S(L)},[r,S,b]),O=A.useCallback(I=>{if(r)return;const L=_(I.target);let U=null;if(L){const T=L.dataset.toothId;if(T){const F=parseInt(T,10);if(U=F,a[F]&&y.current){const H=y.current.getBoundingClientRect(),X=L.getBoundingClientRect(),re=X.top-H.top+X.height/2+y.current.scrollTop,z=X.left-H.left+X.width/2+y.current.scrollLeft;g({top:re,left:z})}else(!h||h.id!==F)&&g(null)}}u(U),!U&&!h&&g(null)},[r,_,a,h]),P=A.useCallback(()=>{u(null),h||g(null)},[h]);return A.useEffect(()=>{var L;const I=(L=y.current)==null?void 0:L.querySelector("svg");I&&(I.querySelectorAll(".condition-indicator-dot").forEach(U=>U.remove()),I.querySelectorAll(".tooth-number-text").forEach(U=>U.remove()),Object.entries(a).forEach(([U,T])=>{const F=parseInt(U,10),j=I.querySelector(`#ID_${F}`);if(!j)return;j.dataset.toothId=U,j.classList.remove("tooth-selected","tooth-missing","tooth-hovered","tooth-selection-processed");const H=j.querySelector("path:first-of-type");H&&H.setAttribute("fill","var(--tooth-default-fill, #fff)");let X=null;const re=T.conditions,z=["missing","extraction","root-canal","crown","filled","decayed","treatment-planned","recommended-to-be-treated","has-treatment-before"];for(const q of z)if(re.includes(q)){X=q;break}re.length===1&&re[0]==="healthy"&&(X=null),T.isSelected&&!r&&(d.has(F)?j.classList.add("tooth-selection-processed"):j.classList.add("tooth-selected")),!r&&F===l&&j.classList.add("tooth-hovered"),(X==="missing"||re.includes("missing"))&&(j.classList.add("tooth-missing"),X="missing");const G=j.querySelector("path:first-of-type");if(G){let q="var(--tooth-default-fill, #fff)";X&&X!=="missing"&&X!=="healthy"?q=h2[X]||"var(--tooth-default-fill, #fff)":(X==="healthy"||!X)&&(q="var(--tooth-default-fill, #fff)"),X&&X!=="missing"?(q=h2[X]||"var(--tooth-default-fill, #fff)",G.setAttribute("fill",q)):X==="missing"?G.setAttribute("fill","transparent"):G.setAttribute("fill","var(--tooth-default-fill, #fff)")}}),r?I.classList.add("opacity-75","cursor-default"):(I.classList.remove("opacity-75","cursor-default"),I.classList.add("cursor-pointer")))},[a,r,d,l]),c(Xb,{delayDuration:100,children:w("div",{className:"dental-chart-dialog-content relative",children:[" ",w("div",{className:"flex flex-row",children:[" ",!r&&w("div",{className:"w-[200px] flex-shrink-0 pr-2 self-stretch",children:[" ",c("label",{className:"block text-sm font-medium text-gray-700 mb-2 sticky top-0 bg-background z-10",children:"Select Conditions to Apply:"})," ",c("div",{className:"flex flex-wrap gap-2",children:Tz.map(I=>{const L=!Object.values(a).some(T=>T.isSelected),U=o===I.value;return w(Fe,{variant:"outline",size:"sm",disabled:L,onClick:()=>C(I.value),className:Rt("text-xs h-8 px-2.5 border rounded-md flex items-center gap-1.5 transition-colors",U?"bg-blue-600 text-white hover:bg-blue-700 border-blue-600":"text-gray-700 bg-white hover:bg-gray-100",L?"opacity-50 cursor-not-allowed":""),children:[c("span",{className:"w-2.5 h-2.5 inline-block rounded-sm border border-gray-400",style:{backgroundColor:h2[I.value]}}),I.label]},I.value)})})]}),c("div",{className:Rt("relative w-full flex-grow pt-2 pb-2 overflow-y-auto max-h-[350px]",r?"cursor-default":"cursor-pointer"),ref:y,onClick:E,onPointerMove:O,onPointerLeave:P,children:c(QDe,{width:"100%",height:"100%",viewBox:"0 0 698.9 980.66"})}),w(Zb,{open:x!==null,children:[c(Jb,{asChild:!0,children:c("span",{style:{position:"absolute",top:(x==null?void 0:x.top)??0,left:(x==null?void 0:x.left)??0,pointerEvents:"none",width:1,height:1}})}),c(z2,{side:(()=>{const I=(h==null?void 0:h.id)??l;if(I===null)return"top";const L=Math.floor(I/10);return[1,2,5,6].includes(L)?"top":"bottom"})(),align:"center",sideOffset:0,collisionPadding:2,className:Rt("z-50 rounded-lg shadow-lg p-3 max-w-xs","custom-tooltip-bg"),children:(()=>{const I=(h==null?void 0:h.id)??l;if(I===null)return null;let L=null;if(h&&h.id===I)L=h;else{const X=a[I];X&&(L={id:I,name:Pz(I),conditions:X.conditions??[]})}if(!L)return null;const{id:U,name:T,conditions:F}=L,j=Array.isArray(F)?F:[],H=j.length>1?j.filter(X=>X!=="healthy"):j;return w("div",{className:"flex flex-col items-start gap-1.5 text-left",children:[" ",w("div",{className:"font-semibold text-sm",children:["Tooth ",U," - ",T," "]}),c("div",{className:"flex flex-col gap-1",children:H.length===0?w("div",{className:"flex items-center gap-1.5",children:[c("span",{className:"w-2 h-2 rounded-full inline-block",style:{backgroundColor:h2.healthy}}),c("span",{className:"text-xs text-gray-300",children:"Healthy"})]}):H.map(X=>{const re=Tz.find(z=>z.value===X);return w("div",{className:"flex items-center gap-1.5",children:[c("span",{className:"w-2 h-2 rounded-full inline-block border border-gray-500",style:{backgroundColor:h2[X]??"#ccc"}}),c("span",{className:"text-xs text-gray-300",children:(re==null?void 0:re.label)||X})]},X)})})]})})()})]})]})," "]})})});O3.displayName="DentalChart";const mR=({value:e={},onChange:t,placeholder:r="Select Teeth...",disabled:n=!1})=>{const[a,i]=A.useState(!1),[o,s]=A.useState(e),l=A.useRef(null);A.useEffect(()=>{s(e)},[e]);const u=g=>{const y={};return Object.entries(g).forEach(([_,b])=>{const S=parseInt(_,10);isNaN(S)||(y[S]={isSelected:!0,conditions:b.conditions})}),y},d=()=>{if(l.current){const g=l.current.getTeethData(),y={};Object.entries(g).forEach(([_,b])=>{b.isSelected&&(y[parseInt(_,10)]={conditions:b.conditions})}),t==null||t(y),s(y)}else console.error("DentalChart ref not available to get data.");i(!1)},f=()=>{i(!1)},h=g=>{n||i(g)},m=Object.keys(e).map(Number).sort((g,y)=>g-y),x=m.length>0?`Selected: ${m.join(", ")}`:"";return w($a,{open:a,onOpenChange:h,children:[c(Gw,{asChild:!0,children:w("div",{className:"flex items-center gap-2",children:[w(Fe,{variant:"outline",className:"flex items-center gap-1.5",disabled:n,type:"button",children:[c("span",{role:"img","aria-label":"tooth icon",children:""}),r]}),x&&c("span",{className:"text-sm text-muted-foreground",children:x})]})}),w(Ta,{className:"max-w-4xl",children:[" ",w(Oa,{children:[c(Da,{children:"Select Affected Teeth"}),c(Yi,{children:"Use the interactive chart below to select or deselect teeth. Click Confirm to save your selection."})]}),c(O3,{ref:l,initialState:u(o),readOnly:!1},a?"open":"closed"),w(Ji,{children:[c(Fe,{variant:"outline",onClick:f,children:"Cancel"}),c(Fe,{onClick:d,children:"Confirm"})]})]})]})};mR.displayName="ToothSelector";const ure=je.object({dh_reason_for_visit:je.enum(["routine_checkup","tooth_pain","gum_issues","sensitivity","cosmetic_concerns","other"]).optional(),dh_reason_for_visit_other:je.string().optional(),dh_chief_complaint:je.string().optional(),dh_has_pain:je.enum(["yes","no"]).optional(),dh_pain_description:je.string().optional(),dh_pain_scale:je.enum(["1","2","3","4","5","6","7","8","9","10"]).optional(),dh_pain_duration_onset:je.string().optional(),dh_past_treatments:je.array(je.string()).optional(),dh_past_treatments_other:je.string().optional(),dh_brushing_frequency:je.enum(["less_than_once","once_a_day","twice_a_day","more_than_twice"]).optional(),dh_flossing_habits:je.enum(["yes_daily","no","occasionally"]).optional(),dh_additional_hygiene_products:je.string().optional(),dh_technique_tools:je.string().optional(),dh_orthodontic_history:je.enum(["yes","no"]).optional(),dh_orthodontic_details:je.string().optional(),dh_has_records:je.enum(["yes","no"]).optional(),dh_xray_frequency:je.string().optional(),dh_bite_issues:je.enum(["yes","no"]).optional(),dh_bite_symptoms:je.string().optional(),dh_cosmetic_concerns:je.enum(["yes","no"]).optional(),dh_cosmetic_issues_details:je.string().optional(),dh_functional_concerns:je.string().optional(),dh_emergency_history:je.enum(["yes","no"]).optional(),dh_emergency_details:je.string().optional(),dh_additional_summary:je.string().optional(),dh_future_goals:je.string().optional(),dh_selected_teeth:je.record(je.string(),je.object({conditions:je.array(je.enum(["healthy","decayed","filled","missing","treatment-planned","root-canal","extraction","crown","has-treatment-before","recommended-to-be-treated"]))})).optional().default({})}),tIe=[{id:"regular_cleanings",label:"Regular Dental Cleanings (Scaling & Polishing)"},{id:"deep_cleaning",label:"Deep Cleaning (Full Mouth Debridement or SRP)"},{id:"fillings",label:"Fillings",subOptions:[{id:"fillings_composite",label:"Composite (White)"},{id:"fillings_amalgam",label:"Amalgam (Silver)"}]},{id:"extractions",label:"Tooth Extractions",subOptions:[{id:"extraction_simple",label:"Simple Extraction"},{id:"extraction_surgical",label:"Surgical Extraction"}]},{id:"crowns",label:"Crowns (Caps)",subOptions:[{id:"crown_porcelain",label:"Porcelain"},{id:"crown_metal",label:"Metal"},{id:"crown_zirconia",label:"Zirconia"}]},{id:"bridges",label:"Bridges"},{id:"rct",label:"Root Canal Treatment (RCT)",subOptions:[{id:"rct_anterior",label:"Anterior Teeth"},{id:"rct_posterior",label:"Posterior Teeth"}]},{id:"implants",label:"Dental Implants",subOptions:[{id:"implant_single",label:"Single Implant"},{id:"implant_multiple",label:"Multiple Implants"}]},{id:"dentures",label:"Dentures",subOptions:[{id:"denture_full",label:"Full Dentures"},{id:"denture_partial",label:"Partial Dentures"}]},{id:"veneers",label:"Veneers"},{id:"whitening",label:"Teeth Whitening"},{id:"orthodontics",label:"Orthodontic Treatment",subOptions:[{id:"ortho_braces",label:"Braces (Metal or Ceramic)"},{id:"ortho_aligners",label:"Clear Aligners (e.g., Invisalign)"}]},{id:"gum_treatments",label:"Gum Treatments",subOptions:[{id:"gum_surgery",label:"Gum Surgery"},{id:"gum_laser",label:"Laser Gum Therapy"}]},{id:"jaw_treatment",label:"Jaw Treatment",subOptions:[{id:"jaw_tmj",label:"TMJ/TMD Therapy"},{id:"jaw_bite_adjustment",label:"Bite Adjustment / Occlusal Correction"}]},{id:"guards",label:"Night Guards or Mouthguards"},{id:"other_treatment",label:"Other (please specify)"}];function rIe({}){var t;const e=iu();return w("div",{className:"space-y-8",children:[w("div",{className:"space-y-2",children:[c("h2",{className:"text-xl font-semibold",children:"Dental History"}),c("p",{className:"text-sm text-muted-foreground",children:"Please provide your detailed dental history."})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Reason for Visit & Chief Complaint"}),c(He,{control:e.control,name:"dh_reason_for_visit",render:({field:r})=>w(De,{children:[c(Oe,{children:"Primary Reason for Visit"}),w(zr,{onValueChange:r.onChange,value:r.value,children:[c(Me,{children:c($r,{children:c(Wr,{placeholder:"Select reason"})})}),w(Br,{children:[c(_t,{value:"routine_checkup",children:"Routine Checkup"}),c(_t,{value:"tooth_pain",children:"Tooth Pain"}),c(_t,{value:"gum_issues",children:"Gum Issues"}),c(_t,{value:"sensitivity",children:"Sensitivity"}),c(_t,{value:"cosmetic_concerns",children:"Cosmetic Concerns"}),c(_t,{value:"other",children:"Other"})]})]}),c(Ze,{})]})}),e.watch("dh_reason_for_visit")==="other"&&c(He,{control:e.control,name:"dh_reason_for_visit_other",render:({field:r})=>w(De,{children:[c(Oe,{children:"If Other, please describe:"}),c(Me,{children:c(ct,{placeholder:"Explain reason",...r})}),c(Ze,{})]})}),c(He,{control:e.control,name:"dh_chief_complaint",render:({field:r})=>w(De,{children:[c(Oe,{children:"Chief Complaint Description"}),c(Ai,{children:"Please provide a detailed description of the issue that brought you here. Include when the problem began, how it has progressed, and any pain or discomfort experienced."}),c(Me,{children:c(Jr,{rows:4,placeholder:"Describe your main concern...",...r})}),c(Ze,{})]})})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Pain & Sensitivity Details"}),c(He,{control:e.control,name:"dh_has_pain",render:({field:r})=>w(De,{className:"space-y-3",children:[c(Oe,{children:"Do you experience any dental pain or sensitivity?"}),c(Me,{children:w(Ro,{onValueChange:r.onChange,value:r.value,className:"flex space-x-4",children:[w(De,{className:"flex items-center space-x-2 space-y-0",children:[c(Me,{children:c(Dn,{value:"yes"})}),c(Oe,{className:"font-normal",children:"Yes"})]}),w(De,{className:"flex items-center space-x-2 space-y-0",children:[c(Me,{children:c(Dn,{value:"no"})}),c(Oe,{className:"font-normal",children:"No"})]})]})}),c(Ze,{})]})}),e.watch("dh_has_pain")==="yes"&&w(Sr,{children:[c(He,{control:e.control,name:"dh_pain_description",render:({field:r})=>w(De,{children:[c(Oe,{children:"Pain Description"}),c(Ai,{children:"Specify location(s), intensity, frequency, and triggers (temperature, chewing, stress)."}),c(Me,{children:c(Jr,{rows:3,placeholder:"e.g., Upper left molar, sharp pain (7/10) when chewing cold items, intermittent.",...r})}),c(Ze,{})]})}),c(He,{control:e.control,name:"dh_pain_scale",render:({field:r})=>w(De,{children:[c(Oe,{children:"Pain Scale (1=Mild, 10=Severe)"}),w(zr,{onValueChange:r.onChange,value:r.value,children:[c(Me,{children:c($r,{children:c(Wr,{placeholder:"Select pain level"})})}),c(Br,{children:[...Array(10)].map((n,a)=>c(_t,{value:(a+1).toString(),children:a+1},a+1))})]}),c(Ze,{})]})}),c(He,{control:e.control,name:"dh_pain_duration_onset",render:({field:r})=>w(De,{children:[c(Oe,{children:"Duration & Onset"}),c(Ai,{children:"When did you first notice the pain/sensitivity? Is it constant or intermittent?"}),c(Me,{children:c(ct,{placeholder:"e.g., Started 2 weeks ago, comes and goes",...r})}),c(Ze,{})]})})]})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Previous Dental Treatments & Procedures"}),c(He,{control:e.control,name:"dh_past_treatments",render:()=>w(De,{children:[w("div",{className:"mb-4",children:[c(Oe,{className:"text-base",children:"Past Treatments"}),c(Ai,{children:"Please select or describe all that apply."})]}),w("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-x-6 gap-y-4",children:[" ",tIe.map(r=>{var n;return w("div",{children:[" ",c(He,{control:e.control,name:"dh_past_treatments",render:({field:a})=>{var i;return w(De,{className:"flex flex-row items-start space-x-3 space-y-0",children:[c(Me,{children:c(Ts,{checked:(i=a.value)==null?void 0:i.includes(r.id),onCheckedChange:o=>o===!0?a.onChange([...a.value||[],r.id]):a.onChange((a.value||[]).filter(s=>s!==r.id))})}),c(Oe,{className:"font-normal",children:r.label})]})}}),r.subOptions&&((n=e.watch("dh_past_treatments"))==null?void 0:n.includes(r.id))&&w("div",{className:"ml-6 mt-1 space-y-1",children:[" ",r.subOptions.map(a=>c(He,{control:e.control,name:"dh_past_treatments",render:({field:i})=>{var o;return w(De,{className:"flex flex-row items-start space-x-3 space-y-0",children:[c(Me,{children:c(Ts,{checked:(o=i.value)==null?void 0:o.includes(a.id),onCheckedChange:s=>{const l=s===!0?[...i.value||[],a.id]:(i.value||[]).filter(u=>u!==a.id);i.onChange(l)}})}),c(Oe,{className:"text-sm font-normal",children:a.label})]})}},a.id))]})]},r.id)})]}),c(Ze,{})]})}),((t=e.watch("dh_past_treatments"))==null?void 0:t.includes("other_treatment"))&&c(He,{control:e.control,name:"dh_past_treatments_other",render:({field:r})=>w(De,{className:"mt-4",children:[" ",c(Oe,{children:"Specify Other Treatments:"}),c(Me,{children:c(Jr,{placeholder:"Describe other treatments...",...r,value:r.value||""})})]})})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Affected Teeth & Conditions"}),c(Ai,{children:"Click the button to select the teeth involved. The specific conditions for these teeth can be detailed in the treatment plan later."}),c(He,{control:e.control,name:"dh_selected_teeth",render:({field:r})=>w(De,{children:[c(Oe,{children:"Affected Teeth"}),c(Me,{children:c(mR,{value:r.value||{},onChange:r.onChange,placeholder:"Select Affected Teeth..."})}),c(Ze,{})]})})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Oral Hygiene Routine & Home Care"}),c(He,{control:e.control,name:"dh_brushing_frequency",render:({field:r})=>w(De,{children:[c(Oe,{children:"Brushing Frequency"}),w(zr,{onValueChange:r.onChange,value:r.value,children:[c(Me,{children:c($r,{children:c(Wr,{placeholder:"Select frequency"})})}),w(Br,{children:[c(_t,{value:"less_than_once",children:"Less than once a day"}),c(_t,{value:"once_a_day",children:"Once a day"}),c(_t,{value:"twice_a_day",children:"Twice a day"}),c(_t,{value:"more_than_twice",children:"More than twice a day"})]})]}),c(Ze,{})]})}),c(He,{control:e.control,name:"dh_flossing_habits",render:({field:r})=>w(De,{children:[c(Oe,{children:"Flossing Habits"}),w(zr,{onValueChange:r.onChange,value:r.value,children:[c(Me,{children:c($r,{children:c(Wr,{placeholder:"Select habit"})})}),w(Br,{children:[c(_t,{value:"yes_daily",children:"Yes, daily"}),c(_t,{value:"occasionally",children:"Occasionally"}),c(_t,{value:"no",children:"No"})]})]}),c(Ze,{})]})}),c(He,{control:e.control,name:"dh_additional_hygiene_products",render:({field:r})=>w(De,{children:[c(Oe,{children:"Additional Oral Hygiene Products"}),c(Ai,{children:"List products used besides brushing/flossing (mouthwash, water flosser, etc.)."}),c(Me,{children:c(ct,{placeholder:"e.g., Listerine mouthwash, Waterpik",...r})}),c(Ze,{})]})}),c(He,{control:e.control,name:"dh_technique_tools",render:({field:r})=>w(De,{children:[c(Oe,{children:"Technique & Tools"}),c(Ai,{children:"Describe your brushing technique and any special tools (e.g., electric toothbrush)."}),c(Me,{children:c(ct,{placeholder:"e.g., Soft bristle brush, circular motions, Sonicare toothbrush",...r})}),c(Ze,{})]})})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"History of Orthodontic Treatment"}),c(He,{control:e.control,name:"dh_orthodontic_history",render:({field:r})=>w(De,{className:"space-y-3",children:[c(Oe,{children:"Have you had braces, clear aligners, or other orthodontic treatments?"}),c(Me,{children:w(Ro,{onValueChange:r.onChange,value:r.value,className:"flex space-x-4",children:[w(De,{className:"flex items-center space-x-2 space-y-0",children:[c(Me,{children:c(Dn,{value:"yes"})}),c(Oe,{className:"font-normal",children:"Yes"})]}),w(De,{className:"flex items-center space-x-2 space-y-0",children:[c(Me,{children:c(Dn,{value:"no"})}),c(Oe,{className:"font-normal",children:"No"})]})]})}),c(Ze,{})]})}),e.watch("dh_orthodontic_history")==="yes"&&c(He,{control:e.control,name:"dh_orthodontic_details",render:({field:r})=>w(De,{children:[c(Oe,{children:"If yes, specify type, duration, outcomes, challenges:"}),c(Me,{children:c(Jr,{rows:3,placeholder:"e.g., Traditional braces (2 years), results good, wore retainer.",...r})}),c(Ze,{})]})})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Dental Records & X-Rays"}),c(He,{control:e.control,name:"dh_has_records",render:({field:r})=>w(De,{className:"space-y-3",children:[c(Oe,{children:"Do you have copies of previous dental records or X-rays available?"}),c(Me,{children:w(Ro,{onValueChange:r.onChange,value:r.value,className:"flex space-x-4",children:[w(De,{className:"flex items-center space-x-2 space-y-0",children:[c(Me,{children:c(Dn,{value:"yes"})}),c(Oe,{className:"font-normal",children:"Yes"})]}),w(De,{className:"flex items-center space-x-2 space-y-0",children:[c(Me,{children:c(Dn,{value:"no"})}),c(Oe,{className:"font-normal",children:"No"})]})]})}),c(Ze,{})]})}),c(He,{control:e.control,name:"dh_xray_frequency",render:({field:r})=>w(De,{children:[c(Oe,{children:"X-Ray Frequency"}),c(Ai,{children:"How often have you had dental X-rays? (Approximate dates if known)."}),c(Me,{children:c(ct,{placeholder:"e.g., Yearly bitewings, Full mouth series (2020)",...r})}),c(Ze,{})]})})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Occlusal & Bite Concerns"}),c(He,{control:e.control,name:"dh_bite_issues",render:({field:r})=>w(De,{className:"space-y-3",children:[c(Oe,{children:"Do you have issues with your bite or TMJ pain?"}),c(Me,{children:w(Ro,{onValueChange:r.onChange,value:r.value,className:"flex space-x-4",children:[w(De,{className:"flex items-center space-x-2 space-y-0",children:[c(Me,{children:c(Dn,{value:"yes"})}),c(Oe,{className:"font-normal",children:"Yes"})]}),w(De,{className:"flex items-center space-x-2 space-y-0",children:[c(Me,{children:c(Dn,{value:"no"})}),c(Oe,{className:"font-normal",children:"No"})]})]})}),c(Ze,{})]})}),e.watch("dh_bite_issues")==="yes"&&c(He,{control:e.control,name:"dh_bite_symptoms",render:({field:r})=>w(De,{children:[c(Oe,{children:"If yes, describe symptoms (jaw pain, clicking, difficulty chewing):"}),c(Me,{children:c(Jr,{rows:3,placeholder:"e.g., Jaw clicks when opening wide, occasional pain on left side",...r})}),c(Ze,{})]})})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Aesthetic & Functional Concerns"}),c(He,{control:e.control,name:"dh_cosmetic_concerns",render:({field:r})=>w(De,{className:"space-y-3",children:[c(Oe,{children:"Are you concerned about the appearance of your teeth?"}),c(Me,{children:w(Ro,{onValueChange:r.onChange,value:r.value,className:"flex space-x-4",children:[w(De,{className:"flex items-center space-x-2 space-y-0",children:[c(Me,{children:c(Dn,{value:"yes"})}),c(Oe,{className:"font-normal",children:"Yes"})]}),w(De,{className:"flex items-center space-x-2 space-y-0",children:[c(Me,{children:c(Dn,{value:"no"})}),c(Oe,{className:"font-normal",children:"No"})]})]})}),c(Ze,{})]})}),e.watch("dh_cosmetic_concerns")==="yes"&&c(He,{control:e.control,name:"dh_cosmetic_issues_details",render:({field:r})=>w(De,{children:[c(Oe,{children:"Specify concerns (color, shape, alignment, spacing):"}),c(Me,{children:c(Jr,{rows:3,placeholder:"e.g., Teeth are slightly yellow, gap between front teeth",...r})}),c(Ze,{})]})}),c(He,{control:e.control,name:"dh_functional_concerns",render:({field:r})=>w(De,{children:[c(Oe,{children:"Functional Concerns"}),c(Ai,{children:"Describe difficulties with eating, speaking, etc."}),c(Me,{children:c(Jr,{rows:3,placeholder:"e.g., Difficulty chewing hard foods on the right side",...r})}),c(Ze,{})]})})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Previous Dental Emergencies & Urgent Care"}),c(He,{control:e.control,name:"dh_emergency_history",render:({field:r})=>w(De,{className:"space-y-3",children:[c(Oe,{children:"Have you experienced any dental emergencies?"}),c(Me,{children:w(Ro,{onValueChange:r.onChange,value:r.value,className:"flex space-x-4",children:[w(De,{className:"flex items-center space-x-2 space-y-0",children:[c(Me,{children:c(Dn,{value:"yes"})}),c(Oe,{className:"font-normal",children:"Yes"})]}),w(De,{className:"flex items-center space-x-2 space-y-0",children:[c(Me,{children:c(Dn,{value:"no"})}),c(Oe,{className:"font-normal",children:"No"})]})]})}),c(Ze,{})]})}),e.watch("dh_emergency_history")==="yes"&&c(He,{control:e.control,name:"dh_emergency_details",render:({field:r})=>w(De,{children:[c(Oe,{children:"If yes, provide details (when, how managed):"}),c(Me,{children:c(Jr,{rows:3,placeholder:"e.g., Broken tooth (2022), fixed with a crown",...r})}),c(Ze,{})]})})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Additional Comments & Future Dental Goals"}),c(He,{control:e.control,name:"dh_additional_summary",render:({field:r})=>w(De,{children:[c(Oe,{children:"Overall Dental History Summary"}),c(Ai,{children:"Any additional information not covered above."}),c(Me,{children:c(Jr,{rows:4,placeholder:"Additional notes...",...r})}),c(Ze,{})]})}),c(He,{control:e.control,name:"dh_future_goals",render:({field:r})=>w(De,{children:[c(Oe,{children:"Future Treatment Goals & Expectations"}),c(Ai,{children:"What outcomes are you hoping for?"}),c(Me,{children:c(Jr,{rows:4,placeholder:"e.g., Whiter teeth, replace missing tooth",...r})}),c(Ze,{})]})})]})]})}const dre=je.object({family_medical_conditions:je.array(je.string()).optional(),family_medical_conditions_other:je.string().optional(),family_dental_issues:je.array(je.string()).optional(),family_dental_issues_other:je.string().optional()}),nIe=[{id:"family_heart_disease",label:"Heart Disease"},{id:"family_diabetes",label:"Diabetes"},{id:"family_high_cholesterol",label:"High Cholesterol"},{id:"family_hypertension",label:"Hypertension"},{id:"family_cancer",label:"Cancer"},{id:"family_osteoporosis",label:"Osteoporosis"}],aIe=[{id:"family_gum_disease",label:"Gum Disease"},{id:"family_tooth_loss",label:"Tooth Loss"},{id:"family_orthodontic_issues",label:"Orthodontic Issues"}];function iIe(){const e=iu();return w("div",{className:"space-y-8",children:[w("div",{className:"space-y-2",children:[c("h2",{className:"text-xl font-semibold",children:"Family Medical & Dental History"}),c("p",{className:"text-sm text-muted-foreground",children:"Information about medical and dental conditions in your family."})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Family Medical History"}),c(He,{control:e.control,name:"family_medical_conditions",render:()=>w(De,{children:[w("div",{className:"mb-4",children:[c(Oe,{className:"text-base",children:"Has anyone in your family been diagnosed with the following?"}),c(Ai,{children:"Select all that apply."})]}),c("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:nIe.map(t=>c(He,{control:e.control,name:"family_medical_conditions",render:({field:r})=>{var n;return w(De,{className:"flex flex-row items-start space-x-3 space-y-0",children:[c(Me,{children:c(Ts,{checked:(n=r.value)==null?void 0:n.includes(t.id),onCheckedChange:a=>a?r.onChange([...r.value||[],t.id]):r.onChange((r.value||[]).filter(i=>i!==t.id))})}),c(Oe,{className:"font-normal",children:t.label})]},t.id)}},t.id))}),c(Ze,{})]})}),c(He,{control:e.control,name:"family_medical_conditions_other",render:({field:t})=>w(De,{children:[c(Oe,{children:"Other family medical conditions:"}),c(Me,{children:c(ct,{placeholder:"Specify other conditions",...t})}),c(Ze,{})]})})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Family Dental History"}),c(He,{control:e.control,name:"family_dental_issues",render:()=>w(De,{children:[w("div",{className:"mb-4",children:[c(Oe,{className:"text-base",children:"Does your family have a history of dental issues?"}),c(Ai,{children:"Select all that apply."})]}),c("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:aIe.map(t=>c(He,{control:e.control,name:"family_dental_issues",render:({field:r})=>{var n;return w(De,{className:"flex flex-row items-start space-x-3 space-y-0",children:[c(Me,{children:c(Ts,{checked:(n=r.value)==null?void 0:n.includes(t.id),onCheckedChange:a=>a?r.onChange([...r.value||[],t.id]):r.onChange((r.value||[]).filter(i=>i!==t.id))})}),c(Oe,{className:"font-normal",children:t.label})]},t.id)}},t.id))}),c(Ze,{})]})}),c(He,{control:e.control,name:"family_dental_issues_other",render:({field:t})=>w(De,{children:[c(Oe,{children:"Other family dental issues:"}),c(Me,{children:c(ct,{placeholder:"Specify other issues",...t})}),c(Ze,{})]})})]})]})}const fre=je.object({diet_description:je.string().optional().nullable(),exercise_frequency:je.preprocess(e=>typeof e=="string"||e===null||e===void 0?e:void 0,je.enum(["never","occasionally","1-2_per_week","3-4_per_week","daily"]).optional().nullable()),stress_level:je.enum(["low","moderate","high"]).optional().nullable(),has_sleep_issues:je.enum(["yes","no"]).optional().nullable(),sleep_issues_details:je.string().optional().nullable(),pregnancy_status:je.enum(["yes","no","not_applicable"]).optional().nullable(),pregnancy_comments:je.string().optional().nullable(),has_mental_health_conditions:je.enum(["yes","no"]).optional().nullable(),mental_health_details:je.string().optional().nullable(),additional_concerns:je.string().optional().nullable(),additional_comments:je.string().optional().nullable()});function oIe(){const e=iu();return w("div",{className:"space-y-8",children:[w("div",{className:"space-y-2",children:[c("h2",{className:"text-xl font-semibold",children:"Lifestyle & Special Considerations"}),c("p",{className:"text-sm text-muted-foreground",children:"Information about your lifestyle that may be relevant to your health."})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Diet and Nutrition"}),c(He,{control:e.control,name:"diet_description",render:({field:t})=>w(De,{children:[c(Oe,{children:"Describe your typical diet (include details on sugar consumption, acidic foods, etc.):"}),c(Me,{children:c(Jr,{placeholder:"e.g., Balanced diet, occasional sugary snacks, drink coffee daily...",...t,value:t.value??""})}),c(Ze,{})]})})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Exercise & Stress Levels"}),c(He,{control:e.control,name:"exercise_frequency",render:({field:t})=>w(De,{children:[c(Oe,{children:"How often do you exercise?"}),w(zr,{onValueChange:t.onChange,value:typeof t.value=="boolean"?void 0:t.value??void 0,children:[c(Me,{children:c($r,{children:c(Wr,{placeholder:"Select frequency"})})}),w(Br,{children:[c(_t,{value:"never",children:"Never"}),c(_t,{value:"occasionally",children:"Occasionally"}),c(_t,{value:"1-2_per_week",children:"1-2 times per week"}),c(_t,{value:"3-4_per_week",children:"3-4 times per week"}),c(_t,{value:"daily",children:"Daily"})]})]}),c(Ze,{})]})}),c(He,{control:e.control,name:"stress_level",render:({field:t})=>w(De,{children:[c(Oe,{children:"Rate your overall stress level:"}),w(zr,{onValueChange:t.onChange,value:t.value??void 0,children:[c(Me,{children:c($r,{children:c(Wr,{placeholder:"Select stress level"})})}),w(Br,{children:[c(_t,{value:"low",children:"Low"}),c(_t,{value:"moderate",children:"Moderate"}),c(_t,{value:"high",children:"High"})]})]}),c(Ze,{})]})})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Sleep Patterns"}),c(He,{control:e.control,name:"has_sleep_issues",render:({field:t})=>w(De,{className:"space-y-3",children:[c(Oe,{children:"Do you have any sleep-related issues?"}),c(Me,{children:w(Ro,{onValueChange:t.onChange,value:t.value??void 0,className:"flex space-x-4",children:[w(De,{className:"flex items-center space-x-2 space-y-0",children:[c(Me,{children:c(Dn,{value:"yes"})}),c(Oe,{className:"font-normal",children:"Yes"})]}),w(De,{className:"flex items-center space-x-2 space-y-0",children:[c(Me,{children:c(Dn,{value:"no"})}),c(Oe,{className:"font-normal",children:"No"})]})]})}),c(Ze,{})]})}),e.watch("has_sleep_issues")==="yes"&&c(He,{control:e.control,name:"sleep_issues_details",render:({field:t})=>w(De,{children:[c(Oe,{children:"If yes, specify (e.g., sleep apnea, bruxism/teeth grinding):"}),c(Me,{children:c(ct,{placeholder:"e.g., Diagnosed sleep apnea, grind teeth at night",...t,value:t.value??""})}),c(Ze,{})]})})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Pregnancy and/or Lactation"}),c(He,{control:e.control,name:"pregnancy_status",render:({field:t})=>w(De,{className:"space-y-3",children:[c(Oe,{children:"Are you pregnant, planning to become pregnant, or currently breastfeeding?"}),c(Me,{children:w(Ro,{onValueChange:t.onChange,value:t.value??void 0,className:"flex space-x-4",children:[w(De,{className:"flex items-center space-x-2 space-y-0",children:[c(Me,{children:c(Dn,{value:"yes"})}),c(Oe,{className:"font-normal",children:"Yes"})]}),w(De,{className:"flex items-center space-x-2 space-y-0",children:[c(Me,{children:c(Dn,{value:"no"})}),c(Oe,{className:"font-normal",children:"No"})]}),w(De,{className:"flex items-center space-x-2 space-y-0",children:[c(Me,{children:c(Dn,{value:"not_applicable"})}),c(Oe,{className:"font-normal",children:"Not Applicable"})]})]})}),c(Ze,{})]})}),e.watch("pregnancy_status")==="yes"&&c(He,{control:e.control,name:"pregnancy_comments",render:({field:t})=>w(De,{children:[c(Oe,{children:"Additional comments (if applicable):"}),c(Me,{children:c(Jr,{placeholder:"e.g., Due date, specific concerns...",...t,value:t.value??""})}),c(Ze,{})]})})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Mental Health"}),c(He,{control:e.control,name:"has_mental_health_conditions",render:({field:t})=>w(De,{className:"space-y-3",children:[c(Oe,{children:"Do you have any mental health conditions (e.g., anxiety, depression) or medications for such conditions?"}),c(Me,{children:w(Ro,{onValueChange:t.onChange,value:t.value??void 0,className:"flex space-x-4",children:[w(De,{className:"flex items-center space-x-2 space-y-0",children:[c(Me,{children:c(Dn,{value:"yes"})}),c(Oe,{className:"font-normal",children:"Yes"})]}),w(De,{className:"flex items-center space-x-2 space-y-0",children:[c(Me,{children:c(Dn,{value:"no"})}),c(Oe,{className:"font-normal",children:"No"})]})]})}),c(Ze,{})]})}),e.watch("has_mental_health_conditions")==="yes"&&c(He,{control:e.control,name:"mental_health_details",render:({field:t})=>w(De,{children:[c(Oe,{children:"If yes, provide details:"}),c(Me,{children:c(Jr,{placeholder:"e.g., Diagnosed with anxiety, taking Sertraline",...t,value:t.value??""})}),c(Ze,{})]})})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Additional Concerns and Comments"}),c(He,{control:e.control,name:"additional_concerns",render:({field:t})=>w(De,{children:[c(Oe,{children:"Please list any other issues or concerns:"}),c(Me,{children:c(Jr,{placeholder:"Any other specific concerns you want to mention?",...t,value:t.value??""})}),c(Ze,{})]})}),c(He,{control:e.control,name:"additional_comments",render:({field:t})=>w(De,{children:[c(Oe,{children:"Additional comments regarding dental or general health:"}),c(Me,{children:c(Jr,{placeholder:"General comments...",...t,value:t.value??""})}),c(Ze,{})]})})]})]})}const nm=Qe.forwardRef(({className:e,onFileChange:t,accept:r,maxSize:n=5,uploading:a=!1,value:i,preview:o,onRemove:s,...l},u)=>{const[d,f]=A.useState(!1),[h,m]=A.useState(null),x=S=>{S.preventDefault(),S.stopPropagation(),S.type==="dragenter"||S.type==="dragover"?f(!0):S.type==="dragleave"&&f(!1)},g=S=>{var C;if(S.size>n*1024*1024)return m(`File size exceeds ${n}MB limit.`),!1;if(r){const E=r.split(",").map(U=>U.trim()),O=S.type,I=(C=S.name.split(".").pop())==null?void 0:C.toLowerCase();if(!E.some(U=>{if(U.startsWith("."))return`.${I}`===U;if(U.includes("*")){const[T]=U.split("/");return O.startsWith(`${T}/`)}else return U===O}))return m("File type not supported."),!1}return m(null),!0},y=S=>{var E;const C=((E=S.target.files)==null?void 0:E[0])||null;if(C&&!g(C)){t&&t(null);return}t&&t(C)},_=S=>{if(S.preventDefault(),S.stopPropagation(),f(!1),S.dataTransfer.files&&S.dataTransfer.files[0]){const C=S.dataTransfer.files[0];g(C)&&t&&t(C)}},b=()=>{if(!i&&!o)return null;const S=o||(i?URL.createObjectURL(i):null),C=(i==null?void 0:i.name)||"File",O=((i==null?void 0:i.type)||"").startsWith("image/")||o&&/\.(jpg|jpeg|png|gif|webp)$/i.test(o);return c("div",{className:"mt-2 relative",children:w("div",{className:"flex items-center p-2 border rounded-md bg-muted",children:[O&&S?c("div",{className:"relative w-16 h-16 mr-3 overflow-hidden rounded",children:c("img",{src:S,alt:"Preview",className:"object-cover w-full h-full"})}):c(yce,{className:"w-12 h-12 mr-3 text-muted-foreground"}),w("div",{className:"flex-1 min-w-0",children:[c("p",{className:"text-sm font-medium truncate",children:C}),c("p",{className:"text-xs text-muted-foreground",children:i!=null&&i.size?`${(i.size/1024/1024).toFixed(2)} MB`:""})]}),s&&c(Fe,{variant:"ghost",size:"sm",onClick:s,type:"button",className:"text-destructive hover:text-destructive",children:c(om,{className:"w-4 h-4"})})]})})};return w("div",{className:Rt("space-y-2",e),children:[!(i||o)&&w("div",{className:Rt("border-2 border-dashed rounded-lg p-6 flex flex-col items-center justify-center cursor-pointer",d?"border-primary bg-primary/5":"border-input",h&&"border-destructive"),onDragEnter:x,onDragOver:x,onDragLeave:x,onDrop:_,onClick:()=>{var S;return(S=document.getElementById(l.id||"file-upload"))==null?void 0:S.click()},children:[a?c(Zn,{className:"w-10 h-10 mb-4 text-muted-foreground animate-spin"}):c(Mce,{className:"w-10 h-10 mb-4 text-muted-foreground"}),c("p",{className:"text-sm font-medium",children:"Drag and drop or click to upload"}),c("p",{className:"text-xs text-muted-foreground mt-1",children:r?`Supported formats: ${r}`:"All files are supported"}),w("p",{className:"text-xs text-muted-foreground mt-1",children:["Max size: ",n,"MB"]}),h&&c("p",{className:"text-xs text-destructive mt-2",children:h})]}),c("input",{id:l.id||"file-upload",type:"file",className:"hidden",onChange:y,ref:u,accept:r,disabled:a,...l}),b(),h&&c("p",{className:"text-xs text-destructive",children:h})]})});nm.displayName="FileUpload";const hre=je.object({consent_given:je.boolean().default(!1),profile_photo:je.instanceof(File).optional().nullable(),signature:je.instanceof(File).optional().nullable(),id_document:je.instanceof(File).optional().nullable(),consent_notes:je.string().optional()});function sIe(){const e=iu(),[t,r]=A.useState(!1);return w("div",{className:"space-y-6",children:[w("div",{className:"space-y-2",children:[c("h3",{className:"text-lg font-medium",children:"Documents & Consent"}),c("p",{className:"text-sm text-muted-foreground",children:"Upload necessary documents and provide consent for treatment."})]}),c(He,{control:e.control,name:"profile_photo",render:({field:n})=>w(De,{children:[c(Oe,{children:"Profile Photo"}),c(Me,{children:c(nm,{value:n.value,onFileChange:n.onChange,accept:"image/png,image/jpeg,image/jpg",maxSize:5,uploading:t,onRemove:()=>n.onChange(null)})}),c(Ze,{})]})}),c(He,{control:e.control,name:"signature",render:({field:n})=>w(De,{children:[c(Oe,{children:"Patient Signature"}),c(Me,{children:c(nm,{value:n.value,onFileChange:n.onChange,accept:"image/png,image/jpeg,image/jpg",maxSize:2,uploading:t,onRemove:()=>n.onChange(null)})}),c(Ze,{})]})}),c(He,{control:e.control,name:"id_document",render:({field:n})=>w(De,{children:[c(Oe,{children:"ID Document"}),c(Me,{children:c(nm,{value:n.value,onFileChange:n.onChange,accept:"image/png,image/jpeg,image/jpg,application/pdf",maxSize:10,uploading:t,onRemove:()=>n.onChange(null)})}),c(Ze,{})]})}),c(He,{control:e.control,name:"consent_given",render:({field:n})=>w(De,{className:"flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4",children:[c(Me,{children:c(Ts,{checked:n.value,onCheckedChange:n.onChange})}),w("div",{className:"space-y-1 leading-none",children:[c(Oe,{children:"I consent to treatment"}),c("p",{className:"text-sm text-muted-foreground",children:"By checking this box, I provide consent for dental treatment and procedures."})]})]})}),c(He,{control:e.control,name:"consent_notes",render:({field:n})=>w(De,{children:[c(Oe,{children:"Consent Notes"}),c(Me,{children:c(Jr,{placeholder:"Any additional notes related to patient consent",...n})}),c(Ze,{})]})})]})}const lIe=je.object({acknowledgment:je.boolean().refine(e=>e===!0,{message:"You must acknowledge that the information provided is accurate."}),patient_signature_consent:je.string().optional(),consent_date:je.date().optional().default(new Date)}),cIe=je.object({...Wp.shape,...hR.shape,...cre.shape,...ure.shape,...dre.shape,...fre.shape,...lIe.shape,...hre.shape}),uIe=je.object({first_name:Wp.shape.first_name,last_name:Wp.shape.last_name,middle_name:Wp.shape.middle_name.optional(),gender:Wp.shape.gender,age:Wp.shape.age,occupation:Wp.shape.occupation.optional(),phone:hR.shape.phone}),Dd=["personal","contact","medical","dental","family_lifestyle","documents"],_0=e=>e instanceof je.ZodObject?Object.keys(e.shape):[],dIe={personal:_0(Wp),contact:_0(hR),medical:_0(cre),dental:_0(ure),family_lifestyle:[..._0(dre),..._0(fre)],documents:_0(hre)};function gR({patient:e,onSuccess:t,onCancel:r,mode:n="full"}){const{toast:a}=yn(),[i,o]=A.useState(!1),[s,l]=A.useState(!1),[u,d]=A.useState(!1),[f,h]=A.useState(""),[m,x]=A.useState(new Date),[g,y]=A.useState(null),[_,b]=A.useState(Dd[0]),[S,C]=A.useState(!0),E=n==="simplified",O={first_name:"",last_name:"",middle_name:"",gender:"male",age:null,occupation:"",phone:""},P={...O,marital_status:"single",email:"",address:"",city:"",state:"",postal_code:"",country:"USA",emergency_contact_name:"",emergency_contact_phone:"",emergency_contact_relationship:"",blood_group:"unknown",height:null,weight:null,has_allergies:"no",medication_allergies:[],other_medication_allergy_details:"",food_allergies:[],other_food_allergy_details:"",environmental_allergies:[],other_environmental_allergy_details:"",other_allergies:[],other_allergy_details:"",other_allergies_manual_input:"",diagnosed_conditions:[],other_diagnosed_condition:"",has_implants:"no",implants_details:"",taking_medications:"no",current_medications:[],recent_health_changes:"no",health_changes_details:"",previous_surgeries:[],immunizations_up_to_date:"not_sure",recent_immunizations:"",recent_medical_screenings:"no",screenings_details:"",dental_material_allergies:"no",dental_material_allergies_details:"",notes:"",dh_reason_for_visit:void 0,dh_reason_for_visit_other:"",dh_chief_complaint:"",dh_has_pain:"no",dh_pain_description:"",dh_pain_scale:void 0,dh_pain_duration_onset:"",dh_past_treatments:[],dh_past_treatments_other:"",dh_brushing_frequency:void 0,dh_flossing_habits:void 0,dh_additional_hygiene_products:"",dh_technique_tools:"",dh_orthodontic_history:"no",dh_orthodontic_details:"",dh_has_records:"no",dh_xray_frequency:"",dh_bite_issues:"no",dh_bite_symptoms:"",dh_cosmetic_concerns:"no",dh_cosmetic_issues_details:"",dh_functional_concerns:"",dh_emergency_history:"no",dh_emergency_details:"",dh_additional_summary:"",dh_future_goals:"",dh_selected_teeth:{},family_medical_conditions:[],family_medical_conditions_other:"",family_dental_issues:[],family_dental_issues_other:"",diet_description:"",exercise_frequency:void 0,stress_level:void 0,has_sleep_issues:"no",sleep_issues_details:"",pregnancy_status:"not_applicable",pregnancy_comments:"",has_mental_health_conditions:"no",mental_health_details:"",additional_concerns:"",additional_comments:"",acknowledgment:!1,patient_signature_consent:"",consent_date:new Date,consent_given:!1,consent_notes:"",profile_photo:void 0,signature:void 0,id_document:void 0},I=A.useCallback(z=>{var K,J,D,Y,Q,ie,se,te,de,Z,ce,oe,ae,Ne,Ie,Te,he,Ge,mt,ht,Pt,ft,_e,Ce,ze,gt,pt,Re,qe,Nt,Je;const G=E?O:P,q=z?{first_name:z.first_name||"",last_name:z.last_name||"",middle_name:z.middle_name||"",gender:z.gender==="male"||z.gender==="female"||z.gender==="other"?z.gender:void 0,age:z.age??null,occupation:z.occupation||"",phone:z.phone||"",...!E&&{marital_status:z.marital_status||"single",email:z.email||"",address:z.address||"",city:z.city||"",state:z.state||"",postal_code:z.postal_code||"",country:z.country||"USA",emergency_contact_name:z.emergency_contact_name||"",emergency_contact_phone:z.emergency_contact_phone||"",emergency_contact_relationship:z.emergency_contact_relationship||"",blood_group:z.blood_group||"unknown",height:z.height??null,weight:z.weight??null,has_allergies:((K=z.detailed_medical_info)==null?void 0:K.has_allergies)||"no",medication_allergies:((J=z.detailed_medical_info)==null?void 0:J.medication_allergies)||[],other_medication_allergy_details:((D=z.detailed_medical_info)==null?void 0:D.other_medication_allergy_details)||"",food_allergies:((Y=z.detailed_medical_info)==null?void 0:Y.food_allergies)||[],other_food_allergy_details:((Q=z.detailed_medical_info)==null?void 0:Q.other_food_allergy_details)||"",environmental_allergies:((ie=z.detailed_medical_info)==null?void 0:ie.environmental_allergies)||[],other_environmental_allergy_details:((se=z.detailed_medical_info)==null?void 0:se.other_environmental_allergy_details)||"",other_allergies:((te=z.detailed_medical_info)==null?void 0:te.other_allergies)||[],other_allergy_details:((de=z.detailed_medical_info)==null?void 0:de.other_allergy_details)||"",other_allergies_manual_input:((Z=z.detailed_medical_info)==null?void 0:Z.other_allergies_manual_input)||"",diagnosed_conditions:Array.isArray(z.medical_conditions)?z.medical_conditions:[],taking_medications:z.current_medications&&Array.isArray(z.current_medications)&&z.current_medications.length>0?"yes":"no",current_medications:Array.isArray(z.current_medications)?z.current_medications:[],previous_surgeries:Array.isArray(z.previous_surgeries)?z.previous_surgeries:[],notes:z.notes||"",consent_given:z.consent_given||!1,...z.dental_history&&typeof z.dental_history=="object"?{...Object.fromEntries(Object.entries(z.dental_history).filter(([lt])=>lt!=="dh_selected_teeth"))}:{},...z.family_medical_history&&typeof z.family_medical_history=="object"?{...z.family_medical_history}:{},diet_description:((ce=z.lifestyle_habits)==null?void 0:ce.diet)??"",exercise_frequency:((oe=z.lifestyle_habits)==null?void 0:oe.exercise)??void 0,stress_level:((ae=z.lifestyle_habits)==null?void 0:ae.stress)??void 0,has_sleep_issues:(Ie=(Ne=z.lifestyle_habits)==null?void 0:Ne.sleep_issues)!=null&&Ie.startsWith("Yes")?"yes":((Te=z.lifestyle_habits)==null?void 0:Te.sleep_issues)==="No"?"no":null,sleep_issues_details:(Ge=(he=z.lifestyle_habits)==null?void 0:he.sleep_issues)!=null&&Ge.startsWith("Yes")&&((mt=z.lifestyle_habits)==null?void 0:mt.sleep_issues.replace("Yes, ",""))!=="details missing"?(ht=z.lifestyle_habits)==null?void 0:ht.sleep_issues.replace("Yes, ",""):"",pregnancy_status:((Pt=z.lifestyle_habits)==null?void 0:Pt.pregnancy_status)??void 0,pregnancy_comments:((ft=z.lifestyle_habits)==null?void 0:ft.pregnancy_comments)??"",has_mental_health_conditions:(Ce=(_e=z.lifestyle_habits)==null?void 0:_e.mental_health)!=null&&Ce.startsWith("Yes")?"yes":((ze=z.lifestyle_habits)==null?void 0:ze.mental_health)==="No"?"no":void 0,mental_health_details:(pt=(gt=z.lifestyle_habits)==null?void 0:gt.mental_health)!=null&&pt.startsWith("Yes")&&((Re=z.lifestyle_habits)==null?void 0:Re.mental_health.replace("Yes, ",""))!=="details missing"?(qe=z.lifestyle_habits)==null?void 0:qe.mental_health.replace("Yes, ",""):"",additional_concerns:((Nt=z.lifestyle_habits)==null?void 0:Nt.additional_concerns)??"",additional_comments:((Je=z.lifestyle_habits)==null?void 0:Je.additional_comments)??""}}:{};return{...G,...q}},[e,E]),L=ld({resolver:cd(E?uIe:cIe),defaultValues:E?O:P,mode:"onChange"});A.useEffect(()=>{C(!0),console.log(`PatientForm: useEffect triggered. Patient ID: ${e==null?void 0:e.id}, Mode: ${n}`),(async()=>{let G=I(e);if(console.log("PatientForm: Base defaults calculated:",JSON.stringify(G)),e!=null&&e.id&&!E)try{console.log("PatientForm: Fetching dental history teeth map for patient:",e.id);const q=await zt.patients.getPatientDentalHistoryTeethMap(e.id);console.log("PatientForm: Fetched dental history teeth map for form:",JSON.stringify(q)),G.dh_selected_teeth=q||{}}catch(q){console.error("Error fetching patient dental history teeth map:",q),a({title:"Error Loading Affected Teeth",description:"Could not load previously selected affected teeth.",variant:"destructive"}),G.dh_selected_teeth={}}else E?E&&delete G.dh_selected_teeth:G.dh_selected_teeth={};console.log("PatientForm: Resetting form with final defaults:",JSON.stringify(G)),L.reset(G),console.log("PatientForm: Form reset complete. Checking form state after reset:",JSON.stringify(L.getValues("dh_selected_teeth"))),C(!1)})()},[e,n,E,I,L,a]);const U=async(z,G,q)=>{if(!(z instanceof File))return null;console.log(`Uploading ${q} for ${G}`);const{data:{session:K},error:J}=await Le.auth.getSession();if(J||!K)throw new Error("Auth failed.");const D=z.name.split(".").pop(),Y=`public/${G}/${q}-${Date.now()}.${D}`,{error:Q}=await Le.storage.from("medical-records").upload(Y,z);if(Q)throw new Error(`Upload failed: ${Q.message}`);const{data:ie}=Le.storage.from("medical-records").getPublicUrl(Y);if(!(ie!=null&&ie.publicUrl))throw new Error("Failed to get URL.");return{path:Y,url:ie.publicUrl,name:z.name,type:q,size:z.size,uploaded_at:new Date().toISOString()}},T=async z=>{o(!0);try{const G=e==null?void 0:e.id,q=z;if(!G&&(q.profile_photo instanceof File||q.signature instanceof File||q.id_document instanceof File))throw new Error("Cannot upload files for a new patient. Save first.");let K=[],J=(e==null?void 0:e.profile_photo_url)||null,D=(e==null?void 0:e.signature_url)||null;if(!E&&G){Array.isArray(e==null?void 0:e.documents)&&(K=e.documents);const Z=q;if(Z.profile_photo instanceof File){const ce=await U(Z.profile_photo,G,"profile_photo");ce&&(J=ce.url,K=K.filter(oe=>oe.type!=="profile_photo"),K.push(ce))}if(Z.signature instanceof File){const ce=await U(Z.signature,G,"signature");ce&&(D=ce.url,K=K.filter(oe=>oe.type!=="signature"),K.push(ce))}if(Z.id_document instanceof File){const ce=await U(Z.id_document,G,"id_document");ce&&(K=K.filter(oe=>oe.type!=="id_document"),K.push(ce))}}else if(!G&&(q.profile_photo instanceof File||q.signature instanceof File||q.id_document instanceof File))throw new Error("Cannot upload files for a new patient. Save first.");const Y={first_name:z.first_name||"",last_name:z.last_name||"",middle_name:z.middle_name||null,gender:z.gender==="male"||z.gender==="female"||z.gender==="other"?z.gender:null,age:z.age??null,occupation:z.occupation||null,phone:z.phone||""};let Q;if(E)Q=Y;else{const Z=z;Q={...Y,marital_status:Z.marital_status||null,email:Z.email||null,address:Z.address||null,city:Z.city||null,state:Z.state||null,postal_code:Z.postal_code||null,country:Z.country||null,emergency_contact_name:Z.emergency_contact_name||null,emergency_contact_phone:Z.emergency_contact_phone||null,emergency_contact_relationship:Z.emergency_contact_relationship||null,blood_group:Z.blood_group||null,height:Z.height??null,weight:Z.weight??null,medical_conditions:[...Z.diagnosed_conditions||[],...Z.other_diagnosed_condition?[Z.other_diagnosed_condition]:[]].length>0?[...Z.diagnosed_conditions||[],...Z.other_diagnosed_condition?[Z.other_diagnosed_condition]:[]]:null,current_medications:Z.taking_medications==="yes"?Z.current_medications||[]:null,previous_surgeries:Z.previous_surgeries&&Z.previous_surgeries.length>0?Z.previous_surgeries:null,detailed_medical_info:{has_implants:Z.has_implants,implants_details:Z.implants_details||null,recent_health_changes:Z.recent_health_changes,health_changes_details:Z.health_changes_details||null,immunizations_up_to_date:Z.immunizations_up_to_date,recent_immunizations:Z.recent_immunizations||null,recent_medical_screenings:Z.recent_medical_screenings,screenings_details:Z.screenings_details||null,dental_material_allergies:Z.dental_material_allergies,dental_material_allergies_details:Z.dental_material_allergies_details||null,has_allergies:Z.has_allergies,medication_allergies:Z.medication_allergies||[],other_medication_allergy_details:Z.other_medication_allergy_details||null,food_allergies:Z.food_allergies||[],other_food_allergy_details:Z.other_food_allergy_details||null,environmental_allergies:Z.environmental_allergies||[],other_environmental_allergy_details:Z.other_environmental_allergy_details||null,other_allergies:Z.other_allergies||[],other_allergy_details:Z.other_allergy_details||null,other_allergies_manual_input:Z.other_allergies_manual_input||null},dental_history:{reason_for_visit:Z.dh_reason_for_visit,reason_for_visit_other:Z.dh_reason_for_visit_other||null,chief_complaint:Z.dh_chief_complaint||null,has_pain:Z.dh_has_pain,pain_description:Z.dh_pain_description||null,pain_scale:Z.dh_pain_scale,pain_duration_onset:Z.dh_pain_duration_onset||null,past_treatments:Z.dh_past_treatments||[],past_treatments_other:Z.dh_past_treatments_other||null,brushing_frequency:Z.dh_brushing_frequency,flossing_habits:Z.dh_flossing_habits,additional_hygiene_products:Z.dh_additional_hygiene_products||null,technique_tools:Z.dh_technique_tools||null,orthodontic_history:Z.dh_orthodontic_history,orthodontic_details:Z.dh_orthodontic_details||null,has_records:Z.dh_has_records,xray_frequency:Z.dh_xray_frequency||null,bite_issues:Z.dh_bite_issues,bite_symptoms:Z.dh_bite_symptoms||null,cosmetic_concerns:Z.dh_cosmetic_concerns,cosmetic_issues_details:Z.dh_cosmetic_issues_details||null,functional_concerns:Z.dh_functional_concerns||null,emergency_history:Z.dh_emergency_history,emergency_details:Z.dh_emergency_details||null,additional_summary:Z.dh_additional_summary||null,future_goals:Z.dh_future_goals||null},family_medical_history:{conditions:Z.family_medical_conditions||[],other:Z.family_medical_conditions_other||null,dental_issues:Z.family_dental_issues||[],dental_other:Z.family_dental_issues_other||null},lifestyle_habits:{diet:Z.diet_description||null,exercise:Z.exercise_frequency||null,stress:Z.stress_level||null,sleep_issues:Z.has_sleep_issues==="yes"?Z.sleep_issues_details?`Yes, ${Z.sleep_issues_details}`:"Yes, details missing":"No",pregnancy_status:Z.pregnancy_status||null,pregnancy_comments:Z.pregnancy_comments||null,mental_health:Z.has_mental_health_conditions==="yes"?Z.mental_health_details?`Yes, ${Z.mental_health_details}`:"Yes, details missing":"No",additional_concerns:Z.additional_concerns||null,additional_comments:Z.additional_comments||null},notes:Z.notes||null,consent_given:Z.consent_given||null,profile_photo_url:J,signature_url:D,documents:K}}let ie=G,se=null;const te=Q;if(te.dental_history&&typeof te.dental_history=="object"&&(delete te.dental_history.dh_tooth_conditions,te.dental_history=te.dental_history),G)console.log(`Updating existing patient (${n} mode):`,G),await zt.patients.update(G,te);else{console.log(`Creating new patient (${n} mode)...`);const Z={...te};delete Z.profile_photo_url,delete Z.signature_url,delete Z.documents,E&&(Z.marital_status=null,Z.email=null,Z.address=null,Z.city=null,Z.state=null,Z.postal_code=null,Z.country=null,Z.emergency_contact_name=null,Z.emergency_contact_phone=null,Z.emergency_contact_relationship=null,Z.blood_group=null,Z.height=null,Z.weight=null,Z.medical_conditions=null,Z.current_medications=null,Z.previous_surgeries=null,Z.detailed_medical_info=null,Z.dental_history=null,Z.family_medical_history=null,Z.lifestyle_habits=null,Z.notes=null,Z.consent_given=null);const ce={first_name:Z.first_name||"",last_name:Z.last_name||"",middle_name:Z.middle_name||null,gender:Z.gender==="male"||Z.gender==="female"||Z.gender==="other"?Z.gender:null,age:Z.age??null,occupation:Z.occupation||null,phone:Z.phone||"",marital_status:Z.marital_status||null,email:Z.email||null,address:Z.address||null,city:Z.city||null,state:Z.state||null,postal_code:Z.postal_code||null,country:Z.country||null,emergency_contact_name:Z.emergency_contact_name||null,emergency_contact_phone:Z.emergency_contact_phone||null,emergency_contact_relationship:Z.emergency_contact_relationship||null,blood_group:Z.blood_group||null,height:Z.height??null,weight:Z.weight??null,medical_conditions:Z.medical_conditions||null,current_medications:Z.current_medications||null,previous_surgeries:Z.previous_surgeries||null,detailed_medical_info:Z.detailed_medical_info||null,dental_history:Z.dental_history||null,family_medical_history:Z.family_medical_history||null,lifestyle_habits:Z.lifestyle_habits||null,notes:Z.notes||null,consent_given:Z.consent_given||null};if(se=await zt.patients.create(ce),!(se!=null&&se.id))throw new Error("Failed to create patient or retrieve new patient ID.");ie=se.id,console.log("New patient created:",ie)}if(!E&&ie){const Z=z.dh_selected_teeth,ce=Z?Object.keys(Z).map(Number):[];console.log("Saving patient dental history teeth map (with conditions):",JSON.stringify(Z));try{await zt.patients.savePatientDentalHistoryTeethWithConditions(ie,Z),console.log("Patient dental history teeth (with conditions) saved successfully.")}catch(oe){console.error("Error saving patient dental history teeth:",oe),a({title:"Warning",description:`Patient info saved, but failed to save dental history teeth: ${oe.message}`,variant:"destructive"})}}a({title:"Success",description:G?"Patient information updated successfully.":E?"Basic patient info saved. Complete profile later.":"Patient created successfully. Edit to add documents."}),t(ie)}catch(G){console.error("Error saving patient:",G);let q="Failed to save patient information.";(G.message.startsWith("Auth")||G.message.startsWith("Failed to upload")||G.message.startsWith("Cannot upload")||G.message.startsWith("Upload succeeded"))&&(q=G.message),a({title:"Error",description:q,variant:"destructive"})}finally{o(!1)}},F=z=>{E?T(z):console.warn("onSubmit called unexpectedly in full mode")},j=async()=>{if(E)return;o(!0);const z=dIe[_]||[];if(console.log(`Validating fields for tab "${_}":`,z),z.length===0&&_!=="documents"&&console.warn(`No fields defined for validation on tab: ${_}`),z.length>0?await L.trigger(z):!0){console.log(`Validation passed for tab: ${_}`);const q=L.getValues();y(q),d(!1),h(q.patient_signature_consent||""),x(new Date),l(!0)}else console.log(`Validation failed for tab: ${_}`),a({title:"Validation Error",description:`Please fix the errors on the "${_.replace(/_/g," ").replace(/\b\w/g,q=>q.toUpperCase())}" tab before saving.`,variant:"destructive"});o(!1)},H=()=>{if(u&&g){const z={...g,acknowledgment:u,patient_signature_consent:f,consent_date:m||new Date,consent_given:u};T(z),l(!1),y(null)}else a({title:"Acknowledgment Required",description:"Please acknowledge and provide signature/date in the dialog to save.",variant:"destructive"})},X=()=>{const z=Dd.indexOf(_);z<Dd.length-1&&b(Dd[z+1])},re=()=>{const z=Dd.indexOf(_);z>0&&b(Dd[z-1])};return w(xte,{...L,children:[c("div",{className:"space-y-6",children:E?w("form",{onSubmit:L.handleSubmit(F),className:"space-y-6",children:[w("div",{className:"space-y-6 pt-6 max-h-[calc(90vh-200px)] overflow-y-auto p-1",children:[w("div",{className:"space-y-2",children:[c("h3",{className:"text-lg font-medium",children:"Basic Patient Information"}),c("p",{className:"text-sm text-muted-foreground",children:"Enter the essential details for the new patient."})]}),w("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[c(He,{control:L.control,name:"first_name",render:({field:z})=>w(De,{children:[c(Oe,{children:"First Name"}),c(Me,{children:c(ct,{placeholder:"John",...z})}),c(Ze,{})]})}),c(He,{control:L.control,name:"middle_name",render:({field:z})=>w(De,{children:[c(Oe,{children:"Middle Name"}),c(Me,{children:c(ct,{placeholder:"Michael",...z})}),c(Ze,{})]})}),c(He,{control:L.control,name:"last_name",render:({field:z})=>w(De,{children:[c(Oe,{children:"Last Name"}),c(Me,{children:c(ct,{placeholder:"Doe",...z})}),c(Ze,{})]})}),c(He,{control:L.control,name:"gender",render:({field:z})=>w(De,{children:[c(Oe,{children:"Gender"}),w(zr,{onValueChange:z.onChange,defaultValue:z.value,children:[c(Me,{children:c($r,{children:c(Wr,{placeholder:"Select gender"})})}),w(Br,{children:[c(_t,{value:"male",children:"Male"}),c(_t,{value:"female",children:"Female"}),c(_t,{value:"other",children:"Other"})]})]}),c(Ze,{})]})}),c(He,{control:L.control,name:"age",render:({field:z})=>w(De,{children:[c(Oe,{children:"Age"}),c(Me,{children:c(ct,{type:"number",placeholder:"25",...z,value:z.value??"",onChange:G=>z.onChange(G.target.value===""?null:G.target.valueAsNumber)})}),c(Ze,{})]})}),c(He,{control:L.control,name:"occupation",render:({field:z})=>w(De,{children:[c(Oe,{children:"Occupation"}),c(Me,{children:c(ct,{placeholder:"Software Engineer",...z})}),c(Ze,{})]})}),c(He,{control:L.control,name:"phone",render:({field:z})=>w(De,{children:[c(Oe,{children:"Phone Number"}),c(Me,{children:c(ct,{placeholder:"+1234567890",...z})}),c(Ze,{})]})})]})]}),w("div",{className:"flex justify-end gap-2 pt-4",children:[c(Fe,{type:"button",variant:"outline",onClick:r,children:"Cancel"}),c(Fe,{type:"submit",disabled:i||S,children:i?w(Sr,{children:[c("span",{className:"mr-2",children:"Saving..."}),c(Zn,{className:"h-4 w-4 animate-spin"})]}):S?w(Sr,{children:[c("span",{className:"mr-2",children:"Loading..."}),c(Zn,{className:"h-4 w-4 animate-spin"})]}):"Save Changes"})]})]}):w("div",{className:"pt-6",children:[w(Dg,{value:_,onValueChange:b,className:"space-y-4",children:[c(Ig,{children:Dd.map(z=>c(ll,{value:z,children:z.replace(/_/g," ").replace(/\b\w/g,G=>G.toUpperCase())},z))}),c(Ei,{value:"personal",className:"max-h-[calc(90vh-250px)] overflow-y-auto p-1",children:c(MDe,{})}),c(Ei,{value:"contact",className:"max-h-[calc(90vh-250px)] overflow-y-auto p-1",children:c(FDe,{})}),c(Ei,{value:"medical",className:"max-h-[calc(90vh-250px)] overflow-y-auto p-1 space-y-8",children:c(JDe,{})}),c(Ei,{value:"dental",className:"max-h-[calc(90vh-250px)] overflow-y-auto p-1 space-y-8",children:c(rIe,{})}),w(Ei,{value:"family_lifestyle",className:"max-h-[calc(90vh-250px)] overflow-y-auto p-1 space-y-8",children:[c(iIe,{}),c(oIe,{})]}),c(Ei,{value:"documents",className:"max-h-[calc(90vh-250px)] overflow-y-auto p-1",children:c(sIe,{})})]}),w("div",{className:"flex justify-between gap-2 pt-4",children:[w("div",{children:[" ",w(Fe,{type:"button",variant:"outline",onClick:re,disabled:Dd.indexOf(_)===0,children:[c(o4,{className:"mr-2 h-4 w-4"})," Previous"]}),w(Fe,{type:"button",variant:"outline",onClick:X,disabled:Dd.indexOf(_)===Dd.length-1,className:"ml-2",children:["Next ",c(im,{className:"ml-2 h-4 w-4"})]})]}),w("div",{children:[" ",c(Fe,{type:"button",variant:"outline",onClick:r,className:"mr-2",children:"Cancel"}),c(Fe,{type:"button",onClick:j,disabled:i||S,children:i?w(Sr,{children:[c("span",{className:"mr-2",children:"Validating..."}),c(Zn,{className:"h-4 w-4 animate-spin"})]}):S?w(Sr,{children:[c("span",{className:"mr-2",children:"Loading..."}),c(Zn,{className:"h-4 w-4 animate-spin"})]}):"Save Changes"})]})]})]})})," ",c($a,{open:s,onOpenChange:l,children:w(Ta,{className:"sm:max-w-[525px]",children:[w(Oa,{children:[w(Da,{className:"flex items-center",children:[c(ax,{className:"h-5 w-5 text-green-600 mr-2"})," Consent & Acknowledgment"]}),c(Yi,{children:"Please review, acknowledge, and sign below before saving the patient information."})]}),w("div",{className:"space-y-4 py-4",children:[w("div",{className:"flex items-start space-x-3 rounded-md border p-4 shadow-sm",children:[c(Ts,{id:"dialog-acknowledgment",checked:u,onCheckedChange:z=>d(z===!0),className:"mt-1"}),w("div",{className:"grid gap-1.5 leading-none",children:[c("label",{htmlFor:"dialog-acknowledgment",className:"text-sm font-medium peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"I confirm that the information provided is complete and accurate to the best of my knowledge."}),!u&&c("p",{className:"text-sm text-destructive",children:"Acknowledgment is required."})]})]}),w("div",{className:"space-y-2",children:[c(Xt,{htmlFor:"dialog-signature",children:"Patient Signature (Type full name)"}),c(ct,{id:"dialog-signature",placeholder:"Type your full name",value:f,onChange:z=>h(z.target.value)}),c("p",{className:"text-xs text-muted-foreground",children:"Typing your name here acts as your digital signature."})]}),w("div",{className:"space-y-2",children:[c(Xt,{htmlFor:"dialog-consent-date",children:"Date"}),c(ct,{id:"dialog-consent-date",type:"date",value:m?m.toISOString().split("T")[0]:"",onChange:z=>x(z.target.value?new Date(z.target.value):null)})]})]}),w(Ji,{children:[c(x3,{asChild:!0,children:c(Fe,{type:"button",variant:"outline",children:"Cancel"})}),c(Fe,{type:"button",onClick:H,disabled:!u||i,children:i?w(Sr,{children:[c("span",{className:"mr-2",children:"Saving..."}),c(Zn,{className:"h-4 w-4 animate-spin"})]}):"Confirm & Save"})]})]})})]})}function fIe(){var Di,it,xt;const[e,t]=UH();Bo();const[r,n]=A.useState(new Date),[a,i]=A.useState("week"),[o,s]=A.useState(null),[l,u]=A.useState(!1),[d,f]=A.useState(!1),[h,m]=A.useState(null),[x,g]=A.useState("patient-select"),[y,_]=A.useState(""),[b,S]=A.useState(null),[C,E]=A.useState(null),[O,P]=A.useState([]),[I,L]=A.useState([]),[U,T]=A.useState([]),[F,j]=A.useState([]),[H,X]=A.useState(!1),[re,z]=A.useState(""),[G,q]=A.useState(null),[K,J]=A.useState(""),{toast:D}=yn(),Y=100,Q="bg-booked-bg text-booked-icon border border-booked-border",ie="bg-canceled-bg text-canceled-icon border border-canceled-border line-through opacity-70",[se,te]=A.useState(null),[de,Z]=A.useState(!1),[ce,oe]=A.useState({type:"checkup",duration:"30",notes:"",reason_for_visit:"",treatment_id:null}),ae=Array.from({length:11},(et,wt)=>{const vr=wt+8;return Lt(new Date().setHours(vr,0),"HH:mm")}),[Ne,Ie]=A.useState(null),[Te,he]=A.useState(null),[Ge,mt]=A.useState(!1),ht=async()=>{try{let et,wt;if(a==="day"?(et=Pl(r),wt=e1(r)):a==="week"?(et=ns(r,{weekStartsOn:1}),wt=D0(r,{weekStartsOn:1})):a==="month"&&(et=$o(r),wt=dm(r)),!et||!wt){console.error("Invalid view state, cannot determine date range:",a);return}console.log(`Fetching appointments from ${et.toISOString()} to ${wt.toISOString()}`);const vr=await zt.appointments.getByDateRange(et.toISOString(),wt.toISOString());P(Array.isArray(vr)?vr:[])}catch(et){console.error("Error fetching appointments:",et),P([])}},Pt=async()=>{try{const et=await zt.patients.getAll();L(et||[])}catch(et){console.error("Error fetching patients:",et),L([])}},ft=async()=>{try{const et=await zt.staff.getDoctors();T(et||[])}catch(et){console.error("Error fetching all doctors:",et),T([])}},_e=async(et,wt,vr)=>{if(!et||!wt||isNaN(vr)||vr<=0){j([]);return}X(!0);try{const Qt=`${Lt(et,"yyyy-MM-dd")}T${wt}:00`,fe=dL(Qt,"yyyy-MM-dd'T'HH:mm:ss",new Date);if(!$p(fe))throw new Error(`Invalid combined date/time string: ${Qt}`);const Se=new Date(fe.getTime()+vr*6e4),ye=uL(fe),we=uL(Se),be=await zt.staff.getAvailableDoctors(ye,we);j(be||[]),C&&!be.some(ke=>ke.id===C.id)&&E(null)}catch(Nr){console.error("Error fetching available doctors:",Nr),D({variant:"destructive",title:"Error Fetching Doctors",description:"Could not fetch available doctors for the selected slot."}),j([])}finally{X(!1)}};A.useEffect(()=>{ht(),Pt(),ft();const et=BD("appointments",wt=>{console.log("Appointment change detected:",wt),ht()});return()=>{et.unsubscribe()}},[r,a]),A.useEffect(()=>{const et=e.get("date"),wt=e.get("patientId"),vr=e.get("treatmentId"),Nr=e.get("description");let Qt=null;if(et){const fe=qr(et);$p(fe)?(Qt=fe,n(Qt)):(console.warn("Invalid date received from query params:",et),D({title:"Invalid Date",description:"The date from the treatment plan was invalid.",variant:"destructive"}))}wt&&Qt?(async()=>{try{const Se=await zt.patients.getById(wt);Se?(S(Se),oe(ye=>({...ye,type:"Scheduled Visit",reason_for_visit:Nr||"",treatment_id:vr||null})),q(Qt),g("appointment-details"),u(!0),te(vr),t({},{replace:!0})):(D({title:"Patient Not Found",description:"Could not find the patient specified by the treatment plan.",variant:"destructive"}),te(null))}catch(Se){console.error("Error fetching patient from redirect:",Se),D({title:"Error",description:"Could not fetch patient details from the treatment plan.",variant:"destructive"}),te(null)}})():(et||wt||vr||Nr)&&(console.log("Partial booking parameters received, not auto-opening modal.",{dateStr:et,patientId:wt,treatmentId:vr}),te(null))},[e]),A.useEffect(()=>{if(l&&x==="appointment-details"){const et=parseInt(ce.duration);let wt=null,vr="";o?(wt=o.date,vr=o.time):G&&K&&(wt=G,vr=K),wt&&vr&&!isNaN(et)?_e(wt,vr,et):j([])}},[l,x,o,G,K,ce.duration]),A.useEffect(()=>{d?(async()=>{if(h&&h.treatment_id){mt(!0),Ie(null),he(null);try{const wt=await zt.patients.getTreatmentVisitById(h.treatment_id);if(wt)if(Ie(wt),wt.treatment_plan_id){const vr=await zt.patients.getTreatmentPlanDetails(wt.treatment_plan_id);vr&&vr.data?he(vr.data.title||"Unnamed Plan"):(console.warn("Could not fetch plan details for plan ID:",wt.treatment_plan_id),he("Plan details unavailable"))}else he("Plan ID missing in visit");else console.warn("Could not fetch treatment visit for ID:",h.treatment_id)}catch(wt){console.error("Error fetching treatment details for appointment:",wt),D({title:"Error",description:"Could not load related treatment details for this appointment.",variant:"destructive"})}finally{mt(!1)}}else Ie(null),he(null),mt(!1)})():(Ie(null),he(null),mt(!1))},[h,d]);const Ce=async et=>{if(_(et),et.length>2)try{const wt=await zt.patients.search(et);L(wt||[])}catch(wt){console.error("Error searching patients:",wt),L([])}else et.length===0&&Pt()},ze=async et=>{console.log("handleBookAppointment called. selectedDoctor:",C),Z(!0);try{if(!b||!C){console.error("Booking validation failed: Missing patient or doctor",{selectedPatient:b,selectedDoctor:C}),D({variant:"destructive",title:"Missing Information",description:"Please select a patient and a doctor."}),Z(!1);return}let wt;const vr=Pl(new Date);if(o){wt=new Date(o.date);const[we,be]=o.time.split(":").map(Number);wt.setHours(we,be,0,0)}else{if(!G||!K){D({variant:"destructive",title:"Missing Information",description:"Please select a date and time."}),Z(!1);return}const[we,be]=K.split(":").map(Number);if(isNaN(we)||isNaN(be)){D({variant:"destructive",title:"Invalid Time",description:"Invalid time format selected."}),Z(!1);return}if(wt=new Date(G),wt.setHours(we,be,0,0),!$p(wt)){D({variant:"destructive",title:"Invalid Date/Time",description:"Invalid date or time selected."}),Z(!1);return}}const Nr=new Date;if(rh(Pl(wt),vr)){D({variant:"destructive",title:"Booking Restricted",description:"Cannot book appointments for past dates."}),Z(!1);return}if(Tp(wt)&&rh(wt,Nr)){D({variant:"destructive",title:"Booking Restricted",description:"Cannot book appointments for past times on the current day."}),Z(!1);return}const Qt=parseInt(et.duration);if(isNaN(Qt)||Qt<=0){D({variant:"destructive",title:"Invalid Duration",description:"Invalid appointment duration selected."}),Z(!1);return}const fe=new Date(wt.getTime()+Qt*6e4),Se={patient_id:b.id,staff_id:C.id,title:et.treatment_id?"Scheduled Visit":et.type,start_time:wt.toISOString(),end_time:fe.toISOString(),type:et.treatment_id?"Scheduled Visit":et.type,reason_for_visit:et.reason_for_visit,notes:et.notes,status:"scheduled",treatment_id:et.treatment_id||se||null},ye=await zt.appointments.create(Se);if(ye!=null&&ye.id&&ye.start_time&&ye.patient_id){const we=ye.id,be=ye.patient_id,ke=qr(ye.start_time);try{await zt.communications.schedule({patientId:be,appointmentId:we,type:"appointment_reminder",channel:"app",scheduledFor:new Date().toISOString(),customMessage:`Your appointment for ${et.type==="Scheduled Visit"?et.reason_for_visit:et.type} with Dr. ${C==null?void 0:C.first_name} ${C==null?void 0:C.last_name} on ${Lt(ke,"PPP 'at' p")} is confirmed.`})}catch(Ke){console.error("Error scheduling immediate app confirmation:",Ke)}if(b!=null&&b.phone){const Ke=fx(ke,24);if(rh(new Date,Ke))try{await zt.communications.schedule({patientId:be,appointmentId:we,type:"appointment_reminder",channel:"sms",scheduledFor:Ke.toISOString(),customMessage:`Reminder: Your appointment for ${et.type==="Scheduled Visit"?et.reason_for_visit:et.type} with Dr. ${C==null?void 0:C.first_name} ${C==null?void 0:C.last_name} is tomorrow at ${Lt(ke,"p")}. Call us if you need to reschedule.`})}catch(ot){console.error("Error scheduling SMS reminder:",ot)}}const tt={...ye,patients:b?{id:b.id,first_name:b.first_name,last_name:b.last_name,email:b.email,phone:b.phone}:null,staff:C?{id:C.id,first_name:C.first_name,last_name:C.last_name,role:C.role,specialization:C.specialization}:null},yt=!!se;u(!1),m(tt),yt||f(!0),D({title:"Appointment Booked Successfully!",description:`Appointment for ${b==null?void 0:b.first_name} with Dr. ${C==null?void 0:C.first_name} has been scheduled.`}),oe({type:"checkup",duration:"30",notes:"",reason_for_visit:"",treatment_id:null}),s(null),q(null),J(""),g("patient-select"),te(null),await ht()}else console.error("Failed to create appointment or missing critical data from response.",ye),D({variant:"destructive",title:"Booking Failed",description:"Could not create the appointment. Please try again."})}catch(wt){console.error("Error booking appointment:",wt),D({variant:"destructive",title:"Booking Error",description:`An unexpected error occurred: ${wt instanceof Error?wt.message:"Unknown error"}. Please try again.`})}finally{Z(!1)}},gt=(et,wt)=>{et.stopPropagation(),m({...wt,notes:wt.notes||"",type:wt.type||"checkup"}),f(!0)},pt=async()=>{if(!h||!h.id)return;const et=h.id;try{await zt.appointments.cancel(et);try{await zt.communications.cancelByAppointment(et),console.log(`Cancellation request sent for communications related to appointment ${et}`)}catch(wt){console.error(`Failed to cancel communications for appointment ${et}:`,wt),D({variant:"destructive",title:"Communication Cancellation Failed",description:"Could not cancel scheduled reminders. Please check manually."})}f(!1),await ht(),D({title:"Appointment Cancelled",description:"The appointment and any scheduled reminders have been cancelled."})}catch(wt){console.error("Error cancelling appointment:",wt),D({variant:"destructive",title:"Cancellation Failed",description:`Could not cancel appointment: ${wt instanceof Error?wt.message:"Unknown error"}`})}},Re=async et=>{try{if(!h||!h.id)return;const wt={title:et.type,type:et.type,notes:et.notes};await zt.appointments.update(h.id,wt),f(!1),await ht()}catch(wt){console.error("Error updating appointment:",wt),alert(`Failed to update appointment: ${wt instanceof Error?wt.message:"Unknown error"}`)}},qe=(et,wt)=>{const vr=new Date(et),[Nr,Qt]=wt.split(":").map(Number);vr.setHours(Nr,Qt,0,0);const fe=new Date(vr);return fe.setHours(Nr+1,Qt,0,0),Array.isArray(O)?O.filter(ye=>{if(!ye||!ye.start_time||!ye.end_time)return!1;try{const we=qr(ye.start_time),be=qr(ye.end_time);return!$p(we)||!$p(be)?(console.warn("Invalid date found in appointment, skipping:",ye),!1):we<fe&&be>vr}catch(we){return console.error("Error parsing appointment dates:",ye,we),!1}}):[]},Nt=et=>{const wt=Pl(et),vr=e1(et);return Array.isArray(O)?O.filter(Nr=>{if(!Nr||!Nr.start_time)return!1;try{const Qt=qr(Nr.start_time);return $p(Qt)?Qt>=wt&&Qt<=vr:(console.warn("Invalid start date found in appointment, skipping:",Nr),!1)}catch(Qt){return console.error("Error parsing appointment start date:",Nr,Qt),!1}}):[]},Je=async et=>{if(!et){console.error("PatientForm onSuccess called without a patient ID."),g("patient-select");return}try{const wt=await zt.patients.getById(et);if(!wt)throw new Error("Failed to fetch newly created patient details.");S(wt),g("appointment-details")}catch(wt){console.error("Error after creating patient:",wt),alert(`Patient created, but failed to fetch details: ${wt instanceof Error?wt.message:"Unknown error"}. Please select the patient manually.`),g("patient-select")}},lt=()=>{g("patient-select")},sr=()=>n(i1e(r)),Kt=()=>n(w1(r,1)),Tr=()=>n(La(r,-1)),Kr=()=>n(La(r,1)),ln=()=>n(d6(r,1)),Aa=()=>n(dl(r,1)),tn=()=>{const et=dL(re,"dd/MM/yyyy",new Date);$p(et)?(n(et),z("")):D({variant:"destructive",title:"Invalid Date Format",description:"Please enter date as DD/MM/YYYY."})},ka=(et,wt)=>{const vr=new Date,Nr=Pl(vr),Qt=Pl(et);if(rh(Qt,Nr)){D({variant:"destructive",title:"Booking Restricted",description:"Cannot book appointments for past dates."});return}if(Tp(et)){const[Se,ye]=wt.split(":").map(Number),we=new Date(et);if(we.setHours(Se,ye,0,0),rh(we,vr)){D({variant:"destructive",title:"Booking Restricted",description:"Cannot book appointments for past times on the current day."});return}}s({date:et,time:wt}),g("patient-select"),S(null),E(null),oe({type:"checkup",duration:"30",notes:"",reason_for_visit:"",treatment_id:null}),u(!0);const fe=parseInt(ce.duration);_e(et,wt,fe)},An=()=>w("div",{className:"space-y-4",children:[w("div",{className:"flex gap-2",children:[c(ct,{placeholder:"Search patients by name, email, or phone...",value:y,onChange:et=>Ce(et.target.value)}),w(Fe,{onClick:()=>{g("new-patient"),E(null)},children:[c(Xc,{className:"h-4 w-4 mr-2"}),"New Patient"]})]}),c("div",{className:"h-[300px] overflow-y-auto space-y-2",children:Array.isArray(I)&&I.map(et=>c(Fe,{variant:"outline",className:"w-full justify-start",onClick:()=>{S(et),g("appointment-details")},children:w("div",{className:"flex items-center",children:[c(hi,{className:"h-4 w-4 mr-2"}),w("div",{className:"text-left",children:[c("p",{className:"font-medium",children:`${et.first_name} ${et.last_name}`}),c("p",{className:"text-sm text-muted-foreground",children:et.phone||"No phone"})]})]})},et.id))})]}),xa=()=>{const et=!!ce.treatment_id;return w("div",{className:"space-y-4",children:[(!o||G)&&w("div",{className:"grid grid-cols-2 gap-4",children:[w("div",{className:"space-y-2",children:[c(Xt,{htmlFor:"manual-date",children:"Date"}),c(ct,{id:"manual-date",type:"date",value:G?Lt(G,"yyyy-MM-dd"):"",onChange:wt=>q(wt.target.value?qr(wt.target.value):null),disabled:!!o&&!et})]}),w("div",{className:"space-y-2",children:[c(Xt,{htmlFor:"manual-time",children:"Time"}),c(ct,{id:"manual-time",type:"time",value:K,onChange:wt=>J(wt.target.value),disabled:!!o&&!et})]})]}),w("div",{className:"space-y-2",children:[c(Xt,{children:"Select Doctor"}),w(zr,{value:(C==null?void 0:C.id)||"",onValueChange:wt=>{const vr=F.find(Nr=>Nr.id===wt);E(vr||null)},disabled:H,children:[c($r,{children:c(Wr,{placeholder:H?"Loading doctors...":"Choose an available doctor"})}),w(Br,{children:[!H&&F.length===0&&c(_t,{value:"no-doctors",disabled:!0,children:"No doctors available for this slot"}),F.map(wt=>w(_t,{value:wt.id,children:["Dr. ",wt.first_name," ",wt.last_name," ",wt.specialization&&`(${wt.specialization})`]},wt.id))]})]})]}),b&&w("div",{className:"flex items-center space-x-4 p-4 bg-muted rounded-lg",children:[c(hi,{className:"h-5 w-5 text-muted-foreground"}),w("div",{children:[c("p",{className:"font-medium",children:`${b.first_name} ${b.last_name}`}),c("p",{className:"text-sm text-muted-foreground",children:b.phone||"No phone"})]})]}),w("div",{className:"space-y-2",children:[c(Xt,{children:"Appointment Type"}),w(zr,{value:et?"Scheduled Visit":ce.type||"",onValueChange:wt=>{et||oe({...ce,type:wt})},disabled:et,children:[c($r,{children:c(Wr,{placeholder:"Select type"})}),c(Br,{children:et?c(_t,{value:"Scheduled Visit",children:"Scheduled Visit"}):w(Sr,{children:[c(_t,{value:"checkup",children:"Checkup"}),c(_t,{value:"cleaning",children:"Cleaning"}),c(_t,{value:"filling",children:"Filling"}),c(_t,{value:"root-canal",children:"Root Canal"}),ce.type&&!["checkup","cleaning","filling","root-canal","Scheduled Visit"].includes(ce.type)&&c(_t,{value:ce.type,children:ce.type})]})})]})]}),ce.reason_for_visit&&w("div",{className:"space-y-2",children:[c(Xt,{children:"Reason for Visit"}),c("p",{className:"text-sm p-3 bg-muted rounded-md whitespace-pre-wrap border",children:ce.reason_for_visit})]}),w("div",{className:"space-y-2",children:[c(Xt,{children:"Duration"}),w(zr,{value:ce.duration,onValueChange:wt=>{oe({...ce,duration:wt});const vr=parseInt(wt);let Nr=null,Qt="";o&&!et?(Nr=o.date,Qt=o.time):G&&K&&(Nr=G,Qt=K),Nr&&Qt&&!isNaN(vr)&&_e(Nr,Qt,vr)},children:[c($r,{children:c(Wr,{placeholder:"Select duration"})}),w(Br,{children:[c(_t,{value:"30",children:"30 minutes"}),c(_t,{value:"60",children:"1 hour"}),c(_t,{value:"90",children:"1.5 hours"}),c(_t,{value:"120",children:"2 hours"})]})]})]}),w("div",{className:"space-y-2",children:[c(Xt,{children:"Notes"}),c(Jr,{value:ce.notes,onChange:wt=>oe({...ce,notes:wt.target.value}),placeholder:"Add any notes about the appointment..."})]}),w(Ji,{children:[c(Fe,{variant:"outline",onClick:()=>g("patient-select"),disabled:de,children:"Back"}),c(Fe,{onClick:()=>ze(ce),disabled:de,children:de?w(Sr,{children:[c(Zn,{className:"mr-2 h-4 w-4 animate-spin"})," Booking..."]}):"Book Appointment"})]})]})},wa=()=>a==="day"?Nn():a==="week"?Dr():a==="month"?is():null,kn=et=>et==="cancelled"?ie:Q,Dr=()=>{const et=ns(r,{weekStartsOn:1}),wt=D0(r,{weekStartsOn:1}),vr=L2({start:et,end:wt}),Nr=new Date;return w(Xb,{delayDuration:100,children:[" ",w(lr,{children:[w("div",{className:"grid grid-cols-8 border-b",children:[c("div",{className:"p-4 font-medium text-muted-foreground",children:"Time"}),vr.map(Qt=>w("div",{className:`p-4 text-center border-l ${Tp(Qt)?"bg-blue-50":""}`,children:[c("div",{className:"font-medium",children:Lt(Qt,"EEE")}),c("div",{className:"text-sm text-muted-foreground",children:Lt(Qt,"d")})]},Qt.toISOString()))]}),c("div",{children:ae.map(Qt=>w("div",{className:"grid grid-cols-8 border-b last:border-0",children:[c("div",{className:"p-4 text-sm text-right text-muted-foreground",children:Qt}),vr.map(fe=>{const Se=qe(fe,Qt);let ye=!1;if(Tp(fe)){const[we,be]=Qt.split(":").map(Number),ke=new Date(fe);ke.setHours(we,be,0,0),rh(ke,Nr)&&(ye=!0)}return c("div",{onClick:()=>ka(fe,Qt),className:`border-l p-1 relative transition-colors overflow-hidden ${ye?"bg-muted/30 cursor-not-allowed opacity-70":"hover:bg-muted/50 cursor-pointer"}`,style:{height:`${Y}px`},children:w("div",{className:"flex flex-wrap gap-2 h-full items-start content-start p-1.5",children:[" ",Se.map(we=>{var be,ke,tt,yt;return w(Zb,{children:[c(Jb,{asChild:!0,children:c("div",{className:`w-7 h-7 rounded-md flex items-center justify-center cursor-pointer ring-2 transition-all ${kn(we.status)} ${we.status==="cancelled"?"ring-canceled-ring animate-shake":"ring-booked-ring animate-pulse hover:ring-offset-1"}`,onClick:Ke=>gt(Ke,we),children:we.status==="cancelled"?c(HA,{className:"h-4 w-4 text-canceled-icon"}):c(VA,{className:"h-4 w-4 text-booked-icon"})})}),w(z2,{side:"top",align:"center",className:"bg-background border shadow-lg rounded-lg p-3 text-sm w-60",children:[w("div",{className:"flex items-center mb-2",children:[c(hi,{className:"h-5 w-5 mr-2 text-muted-foreground flex-shrink-0"})," ",w("span",{className:"font-semibold",children:[(be=we.patients)==null?void 0:be.first_name," ",(ke=we.patients)==null?void 0:ke.last_name]})]}),w("p",{className:"text-muted-foreground text-xs mb-1",children:["Dr. ",(tt=we.staff)==null?void 0:tt.first_name," ",(yt=we.staff)==null?void 0:yt.last_name]}),w("p",{className:"text-muted-foreground text-xs mb-1",children:[c(sl,{className:"inline h-3 w-3 mr-1"}),we.start_time?Lt(qr(we.start_time),"h:mm a"):"No time"," - ",we.end_time?Lt(qr(we.end_time),"h:mm a"):""]}),w("p",{className:"text-muted-foreground text-xs",children:[c(YA,{className:"inline h-3 w-3 mr-1"}),we.type]}),we.status==="cancelled"&&c("p",{className:"text-red-600 text-xs font-semibold mt-1",children:"(Cancelled)"})]})]},we.id)})]})},fe.toISOString())})]},Qt))})]})]})},Nn=()=>{const et=new Date;return w(Xb,{delayDuration:100,children:[" ",w(lr,{children:[w("div",{className:"grid grid-cols-2 border-b",children:[c("div",{className:"p-4 font-medium text-muted-foreground",children:"Time"}),w("div",{className:`p-4 text-center border-l ${Tp(r)?"bg-blue-50":""}`,children:[c("div",{className:"font-medium",children:Lt(r,"EEEE")}),c("div",{className:"text-sm text-muted-foreground",children:Lt(r,"MMMM d, yyyy")})]})]}),c("div",{children:ae.map(wt=>{const vr=qe(r,wt);let Nr=!1;if(Tp(r)){const[Qt,fe]=wt.split(":").map(Number),Se=new Date(r);Se.setHours(Qt,fe,0,0),rh(Se,et)&&(Nr=!0)}return w("div",{className:"grid grid-cols-2 border-b last:border-0",children:[c("div",{className:"p-4 text-sm text-right text-muted-foreground",children:wt}),c("div",{onClick:()=>ka(r,wt),className:`border-l relative transition-colors overflow-hidden ${Nr?"bg-muted/30 cursor-not-allowed opacity-70":"hover:bg-muted/50 cursor-pointer"}`,style:{height:`${Y}px`},children:w("div",{className:"flex flex-wrap gap-2 h-full items-start content-start p-1.5",children:[" ",vr.map(Qt=>{var fe,Se,ye,we;return w(Zb,{children:[c(Jb,{asChild:!0,children:c("div",{className:`w-7 h-7 rounded-md flex items-center justify-center cursor-pointer ring-2 transition-all ${kn(Qt.status)} ${Qt.status==="cancelled"?"ring-canceled-ring animate-shake":"ring-booked-ring animate-pulse hover:ring-offset-1"}`,onClick:be=>gt(be,Qt),children:Qt.status==="cancelled"?c(HA,{className:"h-4 w-4 text-canceled-icon"}):c(VA,{className:"h-4 w-4 text-booked-icon"})})}),w(z2,{side:"top",align:"center",className:"bg-background border shadow-lg rounded-lg p-3 text-sm w-60",children:[w("div",{className:"flex items-center mb-2",children:[c(hi,{className:"h-5 w-5 mr-2 text-muted-foreground flex-shrink-0"})," ",w("span",{className:"font-semibold",children:[(fe=Qt.patients)==null?void 0:fe.first_name," ",(Se=Qt.patients)==null?void 0:Se.last_name]})]}),w("p",{className:"text-muted-foreground text-xs mb-1",children:["Dr. ",(ye=Qt.staff)==null?void 0:ye.first_name," ",(we=Qt.staff)==null?void 0:we.last_name]}),w("p",{className:"text-muted-foreground text-xs mb-1",children:[c(sl,{className:"inline h-3 w-3 mr-1"}),Qt.start_time?Lt(qr(Qt.start_time),"h:mm a"):"No time"," - ",Qt.end_time?Lt(qr(Qt.end_time),"h:mm a"):""]}),w("p",{className:"text-muted-foreground text-xs",children:[c(YA,{className:"inline h-3 w-3 mr-1"}),Qt.type]}),Qt.status==="cancelled"&&c("p",{className:"text-red-600 text-xs font-semibold mt-1",children:"(Cancelled)"})]})]},Qt.id)})]})})]},wt)})})]})]})},is=()=>{const et=$o(r),wt=dm(r),vr=ns(et,{weekStartsOn:1}),Nr=D0(wt,{weekStartsOn:1}),Qt=L2({start:vr,end:Nr}),fe=[];let Se=[];return Qt.forEach(ye=>{Se.push(ye),Se.length===7&&(fe.push(Se),Se=[])}),Se.length>0&&fe.push(Se),w(lr,{children:[w(Xb,{delayDuration:300,children:[" ",c("div",{className:"grid grid-cols-7 border-b",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map(ye=>c("div",{className:"p-2 text-center font-medium",children:ye},ye))}),c("div",{children:fe.map((ye,we)=>c("div",{className:"grid grid-cols-7",children:ye.map(be=>{const ke=Nt(be),tt=N4(be,r),yt=ke.filter(Ke=>Ke.status!=="cancelled");return w("div",{onClick:()=>{n(be),i("day")},className:`border p-2 min-h-[120px] relative ${tt?Tp(be)?"bg-blue-50":"":"bg-gray-100 text-gray-400"} hover:bg-muted/50 cursor-pointer transition-colors`,children:[c("div",{className:`text-right font-medium ${Tp(be)?"text-blue-600":""}`,children:Lt(be,"d")}),w("div",{className:"mt-1 flex flex-wrap gap-1 overflow-hidden max-h-[80px]",children:[ke.slice(0,3).map(Ke=>{var ot,ut,It,Yt;return w(Zb,{children:[c(Jb,{asChild:!0,children:c("div",{className:`w-5 h-5 rounded flex items-center justify-center cursor-pointer ring-1 transition-all ${kn(Ke.status)} ${Ke.status==="cancelled"?"ring-canceled-ring animate-shake":"ring-booked-ring animate-pulse hover:ring-offset-1"}`,onClick:or=>{or.stopPropagation(),gt(or,Ke)},children:Ke.status==="cancelled"?c(HA,{className:"h-3 w-3 text-canceled-icon"}):c(VA,{className:"h-3 w-3 text-booked-icon"})})}),w(z2,{side:"top",align:"start",className:"bg-gradient-to-b from-white to-gray-50 border border-gray-200 shadow-xl rounded-lg p-4 text-sm w-64",children:[w("div",{className:"flex items-center mb-2",children:[c(hi,{className:"h-5 w-5 mr-2 text-muted-foreground"})," ",w("span",{className:"font-bold text-gray-800",children:[(ot=Ke.patients)==null?void 0:ot.first_name," ",(ut=Ke.patients)==null?void 0:ut.last_name]})," "]}),w("p",{className:"text-gray-600 text-xs mb-1 font-medium",children:["Dr. ",(It=Ke.staff)==null?void 0:It.first_name," ",(Yt=Ke.staff)==null?void 0:Yt.last_name]})," ",w("p",{className:"text-muted-foreground text-xs mb-1",children:[c(sl,{className:"inline h-3 w-3 mr-1"}),Ke.start_time?Lt(qr(Ke.start_time),"h:mm a"):"No time"," - ",Ke.end_time?Lt(qr(Ke.end_time),"h:mm a"):""]}),w("p",{className:"text-muted-foreground text-xs",children:[c(YA,{className:"inline h-3 w-3 mr-1"}),Ke.type]}),Ke.status==="cancelled"&&c("p",{className:"text-red-600 text-xs font-semibold mt-1",children:"(Cancelled)"})]})]},Ke.id)}),ke.length>3&&w("div",{className:"text-xs text-muted-foreground text-center",children:["+",yt.length-3," more"]})]})]},be.toISOString())})},we))})]})," "]})};return w("div",{className:"space-y-6",children:[c(Sa,{heading:"Appointments",text:"Manage and schedule patient appointments",children:w("div",{className:"flex items-center gap-4",children:[c(Dg,{value:a,onValueChange:et=>i(et),className:"w-fit",children:w(Ig,{children:[c(ll,{value:"month",children:"Month"}),c(ll,{value:"week",children:"Week"}),c(ll,{value:"day",children:"Day"})]})}),(()=>{let et="",wt,vr;if(a==="day")et=Lt(r,"MMMM d, yyyy"),wt=Tr,vr=Kr;else if(a==="week"){const Nr=ns(r,{weekStartsOn:1}),Qt=D0(r,{weekStartsOn:1});et=`${Lt(Nr,"MMM d")} - ${Lt(Qt,"MMM d, yyyy")}`,wt=sr,vr=Kt}else a==="month"&&(et=Lt(r,"MMMM yyyy"),wt=ln,vr=Aa);return w("div",{className:"flex items-center gap-2",children:[c(Fe,{variant:"outline",size:"icon",onClick:wt,children:c(o4,{className:"h-4 w-4"})}),c("span",{className:"text-sm font-medium",children:et}),c(Fe,{variant:"outline",size:"icon",onClick:vr,children:c(im,{className:"h-4 w-4"})})]})})(),w("div",{className:"flex gap-2 ml-auto",children:[c(ct,{className:"w-32",placeholder:"DD/MM/YYYY",value:re,onChange:et=>z(et.target.value)}),c(Fe,{variant:"outline",onClick:tn,children:"Go to Date"})]}),w(Fe,{onClick:()=>{s(null),g("patient-select"),u(!0),j([]),E(null)},children:[c(Xc,{className:"h-4 w-4 mr-2"})," New Appointment"]})]})}),wa(),c($a,{open:l,onOpenChange:et=>{u(et),et||(s(null),q(null),J(""),S(null),E(null),j([]),_(""),g("patient-select"),oe({type:"checkup",duration:"30",notes:"",reason_for_visit:"",treatment_id:null}),te(null))},children:w(Ta,{className:"overflow-y-auto",children:[w(Oa,{children:[c(Da,{children:x==="patient-select"?"Select Patient":x==="new-patient"?"New Patient Registration":se?"Book Treatment Visit":"Appointment Details"}),o&&x!=="new-patient"&&!se&&w(Yi,{children:[Lt(o.date,"MMMM d, yyyy")," at ",o.time]}),G&&x!=="new-patient"&&se&&w(Yi,{children:["For Treatment Visit: ",Lt(G,"MMMM d, yyyy")]}),x==="new-patient"&&c(Yi,{children:"Enter the new patient's details below."})]}),w("div",{className:"max-h-[75vh] overflow-y-auto p-4",children:[x==="patient-select"&&An(),x==="new-patient"&&c(gR,{mode:"simplified",onSuccess:Je,onCancel:lt}),x==="appointment-details"&&xa()]})]})}),c($a,{open:d,onOpenChange:f,children:w(Ta,{children:[w(Oa,{children:[c(Da,{children:"Appointment Details"}),h&&h.start_time&&w(Yi,{children:[Lt(qr(h.start_time),"MMMM d, yyyy")," at"," ",Lt(qr(h.start_time),"h:mm a")]})]}),h&&w("div",{className:"space-y-4",children:[w("div",{className:"flex items-center space-x-4 p-4 bg-muted rounded-lg",children:[c(hi,{className:"h-5 w-5 text-muted-foreground"}),w("div",{children:[w("p",{className:"font-medium",children:[(Di=h.patients)==null?void 0:Di.first_name," ",(it=h.patients)==null?void 0:it.last_name]}),w("div",{className:"flex items-center text-sm text-muted-foreground",children:[c(f5,{className:"h-3.5 w-3.5 mr-1"}),((xt=h.patients)==null?void 0:xt.phone)||"No phone number"]})]})]}),h.staff&&w("div",{className:"flex items-center space-x-4 p-4 bg-muted rounded-lg",children:[c(cce,{className:"h-5 w-5 text-muted-foreground"}),w("div",{children:[w("p",{className:"font-medium",children:["Dr. ",h.staff.first_name," ",h.staff.last_name]}),h.staff.specialization&&c("p",{className:"text-sm text-muted-foreground",children:h.staff.specialization})]})]}),w("div",{className:"space-y-2",children:[c(Xt,{children:"Status"}),c("div",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${h.status==="completed"?"bg-green-100 text-green-800":h.status==="cancelled"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:h.status})]}),w("div",{className:"space-y-2",children:[c(Xt,{children:"Type"}),w(zr,{value:h.treatment_id?"Scheduled Visit":h.type||"",onValueChange:et=>{!h.treatment_id&&(h.status==="scheduled"||h.status==="confirmed")&&m({...h,type:et})},disabled:h.status!=="scheduled"&&h.status!=="confirmed"||!!h.treatment_id,children:[c($r,{children:c(Wr,{placeholder:"Select type"})}),c(Br,{children:h.treatment_id?c(_t,{value:"Scheduled Visit",children:"Scheduled Visit"}):w(Sr,{children:[c(_t,{value:"checkup",children:"Checkup"}),c(_t,{value:"cleaning",children:"Cleaning"}),c(_t,{value:"filling",children:"Filling"}),c(_t,{value:"root-canal",children:"Root Canal"}),h.type&&!["checkup","cleaning","filling","root-canal","Scheduled Visit"].includes(h.type)&&c(_t,{value:h.type,children:h.type})]})})]})]}),h.reason_for_visit&&w("div",{className:"space-y-2",children:[c(Xt,{children:"Reason for Visit"}),c("p",{className:"text-sm p-3 bg-muted rounded-md whitespace-pre-wrap border",children:h.reason_for_visit})]}),w("div",{className:"space-y-2",children:[c(Xt,{children:"Notes"}),c(Jr,{value:h.notes||"",onChange:et=>m({...h,notes:et.target.value}),placeholder:"Add any notes about the appointment...",disabled:h.status!=="scheduled"&&h.status!=="confirmed"})]}),w(Ji,{children:[(h.status==="scheduled"||h.status==="confirmed")&&w(Sr,{children:[c(Fe,{variant:"destructive",onClick:pt,children:"Cancel Appointment"}),c(Fe,{onClick:()=>Re({type:h.type,notes:h.notes||""}),children:"Update Appointment"})]}),h.status!=="scheduled"&&h.status!=="confirmed"&&c(Fe,{variant:"outline",onClick:()=>f(!1),children:"Close"})]}),Ge&&w("div",{className:"p-4 text-center",children:[c(Zn,{className:"h-6 w-6 animate-spin mx-auto text-muted-foreground"}),c("p",{className:"text-sm text-muted-foreground mt-2",children:"Loading treatment details..."})]}),!Ge&&Ne&&w("div",{className:"border-t pt-4 mt-4",children:[c("h4",{className:"text-md font-semibold mb-2 text-primary",children:"Related Treatment Information"}),Te&&c("div",{className:"mb-3 p-3 bg-blue-50 border border-blue-200 rounded-md",children:w("p",{className:"text-sm font-medium text-blue-700",children:["Part of Treatment Plan: ",c("span",{className:"font-bold",children:Te})]})}),w("div",{className:"space-y-2 text-sm p-3 bg-slate-50 rounded-md",children:[w("div",{className:"flex justify-between",children:[c("span",{className:"text-muted-foreground",children:"Visit Number:"}),c("span",{className:"font-medium",children:Ne.visit_number||"N/A"})]}),w("div",{className:"flex justify-between",children:[c("span",{className:"text-muted-foreground",children:"Procedures:"}),c("span",{className:"font-medium text-right break-words max-w-[70%]",children:Ne.procedures||"N/A"})]}),Ne.estimated_duration&&w("div",{className:"flex justify-between",children:[c("span",{className:"text-muted-foreground",children:"Est. Duration:"}),c("span",{className:"font-medium",children:Ne.estimated_duration})]}),Ne.scheduled_date&&w("div",{className:"flex justify-between",children:[c("span",{className:"text-muted-foreground",children:"Originally Scheduled:"}),c("span",{className:"font-medium",children:Lt(qr(Ne.scheduled_date),"MMM d, yyyy")})]})]})]})]})]})})]})}var vR="Progress",yR=100,[hIe,BJe]=Qi(vR),[pIe,mIe]=hIe(vR),pre=A.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:i=gIe,...o}=e;(a||a===0)&&!Oz(a)&&console.error(vIe(`${a}`,"Progress"));const s=Oz(a)?a:yR;n!==null&&!Dz(n,s)&&console.error(yIe(`${n}`,"Progress"));const l=Dz(n,s)?n:null,u=IS(l)?i(l,s):void 0;return c(pIe,{scope:r,value:l,max:s,children:c(pr.div,{"aria-valuemax":s,"aria-valuemin":0,"aria-valuenow":IS(l)?l:void 0,"aria-valuetext":u,role:"progressbar","data-state":vre(l,s),"data-value":l??void 0,"data-max":s,...o,ref:t})})});pre.displayName=vR;var mre="ProgressIndicator",gre=A.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=mIe(mre,r);return c(pr.div,{"data-state":vre(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});gre.displayName=mre;function gIe(e,t){return`${Math.round(e/t*100)}%`}function vre(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function IS(e){return typeof e=="number"}function Oz(e){return IS(e)&&!isNaN(e)&&e>0}function Dz(e,t){return IS(e)&&!isNaN(e)&&e<=t&&e>=0}function vIe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${yR}\`.`}function yIe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${yR} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var yre=pre,xIe=gre;const xR=A.forwardRef(({className:e,value:t,...r},n)=>c(yre,{ref:n,className:Rt("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:c(xIe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));xR.displayName=yre.displayName;const wIe=e=>{if(!e)return"N/A";try{return new Date(e).toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})}catch{return e}},Iz=e=>e?e.replace(/_/g," ").replace(/\b\w/g,t=>t.toUpperCase()):"Record",_Ie=(e,t)=>typeof e!="object"||e===null?Iz(t):e.subjective!==void 0||e.objective!==void 0||e.assessment!==void 0||e.plan!==void 0?"Consultation Note":e.code!==void 0?"Diagnosis":e.procedure!==void 0?"Treatment":e.medication!==void 0||e.dosage!==void 0||e.frequency!==void 0||e.duration!==void 0?"Prescription":e.test_name!==void 0||e.result_value!==void 0||e.units!==void 0||e.reference_range!==void 0?"Lab Result":e.details!==void 0&&t==="note"?"Other":t==="examination"&&e.description!==void 0&&Object.keys(e).filter(r=>r!=="general_notes"&&r!=="description").length===0?"Examination":t==="procedure"&&e.details!==void 0&&Object.keys(e).filter(r=>r!=="general_notes"&&r!=="details").length===0?"Treatment":Iz(t),bIe=({record:e})=>{let t=null,r=!1;if(typeof e.description=="string"&&e.description.trim().startsWith("{")&&e.description.trim().endsWith("}"))try{t=JSON.parse(e.description),r=!0}catch(s){console.warn(`Failed to parse description JSON for record ${e.id}, treating as raw string:`,s),r=!1}else if(typeof e.description=="string")r=!1;else return console.warn(`Record description is not a string for record ${e.id}`),c("p",{className:"text-sm text-muted-foreground",children:"Could not display details."});if(!r)return e.description&&e.description.trim()!==""?c("p",{className:"text-sm whitespace-pre-wrap",children:e.description}):c("p",{className:"text-sm text-muted-foreground",children:"No details provided."});if(t===null||typeof t!="object"||Object.keys(t).length===0)return c("p",{className:"text-sm text-muted-foreground",children:"No details provided."});const n=Object.keys(t),a=n.length===1&&n[0]==="general_notes",i=!t.general_notes||String(t.general_notes).trim()==="";if(a&&i)return c("p",{className:"text-sm text-muted-foreground",children:"No details provided."});const o=["subjective","objective","assessment","plan","code","description","procedure","details","medication","dosage","frequency","duration","test_name","result_value","reference_range"].some(s=>t[s]!==void 0&&t[s]!==null&&String(t[s]).trim()!=="");return a&&!i?c("p",{className:"text-sm whitespace-pre-wrap",children:t.general_notes}):!o&&i?c("p",{className:"text-sm text-muted-foreground",children:"No details provided."}):w("div",{className:"text-sm space-y-1 mt-2",children:[t.general_notes&&!i&&w("p",{children:[c("strong",{children:"General Notes:"})," ",t.general_notes]}),t.subjective&&w("p",{children:[c("strong",{children:"Subjective:"})," ",t.subjective]}),t.objective&&w("p",{children:[c("strong",{children:"Objective:"})," ",t.objective]}),t.assessment&&w("p",{children:[c("strong",{children:"Assessment:"})," ",t.assessment]}),t.plan&&w("p",{children:[c("strong",{children:"Plan:"})," ",t.plan]}),t.code&&w("p",{children:[c("strong",{children:"Code:"})," ",t.code]}),t.description&&!t.subjective&&w("p",{children:[c("strong",{children:"Description:"})," ",t.description]}),t.procedure&&w("p",{children:[c("strong",{children:"Procedure:"})," ",t.procedure]}),t.details&&!t.procedure&&w("p",{children:[c("strong",{children:"Details:"})," ",t.details]}),t.medication&&w("p",{children:[c("strong",{children:"Medication:"})," ",t.medication]}),t.dosage&&w("p",{children:[c("strong",{children:"Dosage:"})," ",t.dosage]}),t.frequency&&w("p",{children:[c("strong",{children:"Frequency:"})," ",t.frequency]}),t.duration&&w("p",{children:[c("strong",{children:"Duration:"})," ",t.duration]}),t.test_name&&w("p",{children:[c("strong",{children:"Test:"})," ",t.test_name]}),t.result_value&&w("p",{children:[c("strong",{children:"Result:"})," ",t.result_value," ",t.units||""]}),t.reference_range&&w("p",{children:[c("strong",{children:"Range:"})," ",t.reference_range]}),t.details&&e.record_type==="note"&&w("p",{children:[c("strong",{children:"Details:"})," ",t.details]})]})};function xre({medicalRecords:e=[],onAddMedicalRecord:t}){const[r,n]=A.useState(""),o=e.map(f=>{let h=null;try{typeof f.description=="string"&&(h=JSON.parse(f.description))}catch(m){console.warn(`Failed to parse description for record ${f.id}:`,f.description,m)}return{...f,displayType:_Ie(h,f.record_type||"")}}).filter(f=>{var y;const h=((y=f.teeth)==null?void 0:y.map(_=>_.id).join(" "))||"",m=JSON.stringify({...f,description:"",teeth:""}).toLowerCase(),x=typeof f.description=="string"?f.description.toLowerCase():"",g=r.toLowerCase();return m.includes(g)||x.includes(g)||h.includes(g)}).reduce((f,h)=>{const m=h.record_date?new Date(h.record_date).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}):"Unknown Date";return f[m]||(f[m]=[]),f[m].unshift(h),f},{}),s=Object.keys(o).sort((f,h)=>f==="Unknown Date"?1:h==="Unknown Date"?-1:new Date(h).getTime()-new Date(f).getTime()),[l,u]=A.useState(new Set),d=f=>{u(h=>{const m=new Set(h);return m.has(f)?m.delete(f):m.add(f),m})};return w(lr,{children:[w(xr,{className:"flex flex-row items-center justify-between",children:[c(wr,{children:"Medical Records History"}),w(Fe,{variant:"outline",size:"sm",onClick:t,children:[c(Ch,{className:"mr-2 h-4 w-4"})," Add Record"]})]}),w(mr,{children:[c("div",{className:"flex justify-between items-center mb-4",children:c(ct,{type:"search",value:r,onChange:f=>n(f.target.value),placeholder:"Search records (type, details, teeth...)"})}),s.length>0?c("div",{className:"space-y-6",children:s.map(f=>{const h=o[f],m=l.has(f);return w("div",{children:[w("div",{className:"flex justify-between items-center mb-2 pb-2 border-b",children:[c("h3",{className:"text-lg font-medium",children:f}),c(Fe,{variant:"ghost",size:"sm",onClick:()=>d(f),children:m?"Hide Details":`View Details (${h.length})`})]}),m&&c("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:h.map(x=>{var g;return w("div",{className:"p-3 border rounded bg-background",children:[" ",c("p",{className:"font-semibold",children:x.displayType}),w("p",{className:"text-sm text-muted-foreground",children:["Time: ",(g=wIe(x.record_date))==null?void 0:g.split(", ").pop()," "]}),c(bIe,{record:x}),x.staff&&w("p",{className:"text-xs text-muted-foreground mt-1",children:["Recorded by: ",x.staff.first_name," ",x.staff.last_name]}),x.teeth&&x.teeth.length>0&&w("div",{className:"mt-2 pt-2 border-t border-dashed",children:[c("p",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Associated Teeth:"}),c("div",{className:"flex flex-wrap gap-1",children:x.teeth.map(y=>c(Ju,{variant:"secondary",className:"text-xs font-normal",children:y.id},y.id))})]}),x.attachments&&x.attachments.length>0&&w("div",{className:"mt-2 pt-2 border-t border-dashed",children:[c("p",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Attachments:"}),c("p",{className:"text-sm",children:JSON.stringify(x.attachments)})]})]},x.id)})})]},f)})}):w("p",{className:"text-sm text-muted-foreground",children:["No medical records found",r?" matching your search":"","."]})]})]})}const SIe="/DentalCare-Pro/teethselectdiagram.svg",ji=({icon:e,label:t,value:r})=>r?w("div",{className:"flex items-start py-2",children:[c(e,{className:"h-5 w-5 text-muted-foreground mr-3 mt-1 flex-shrink-0"}),w("div",{children:[c("p",{className:"text-sm font-medium text-muted-foreground",children:t}),typeof r=="string"||typeof r=="number"?c("p",{className:"text-base",children:r}):c("div",{className:"text-base",children:r})]})]}):null,IP=e=>{if(!e)return"N/A";try{return new Date(e).toLocaleString()}catch{return e}},AIe=e=>{if(!e||typeof e!="object")return"No significant family history reported.";const t=e==null?void 0:e.conditions,r=e==null?void 0:e.other;let n="",a="";return Array.isArray(t)&&t.length>0&&(n=t.map(i=>i.replace(/_/g," ").replace(/\b\w/g,o=>o.toUpperCase())).join(", ")),r&&typeof r=="string"&&r.trim()!==""&&(a=`Other: ${r.trim()}`),n&&a?`${n}, ${a}`:n||a||"No significant family history reported."},kIe=e=>{if(!e||typeof e!="object")return"No lifestyle habits reported.";const t=[];Object.entries(e).forEach(([n,a])=>{if(a&&typeof a=="string"&&a.trim()!==""){const i=n.replace(/_/g," ").replace(/\b\w/g,o=>o.toUpperCase());t.push(`${i}: ${a.trim()}`)}});const r=t.length>0?t.join("; "):"No lifestyle habits reported.";return console.log("generateLifestyleSummary result:",r,"Input habits:",e),r},NIe=e=>{if(!e||typeof e!="object")return"No specific details reported.";const t=[];return e.has_implants==="yes"&&t.push(`Implants: Yes${e.implants_details?` (${e.implants_details})`:""}`),e.recent_health_changes==="yes"&&t.push(`Recent Health Changes: Yes${e.health_changes_details?` (${e.health_changes_details})`:""}`),e.recent_medical_screenings==="yes"&&t.push(`Screenings: Yes${e.screenings_details?` (${e.screenings_details})`:""}`),e.dental_material_allergies==="yes"&&t.push(`Dental Material Allergies: Yes${e.dental_material_allergies_details?` (${e.dental_material_allergies_details})`:""}`),e.immunizations_up_to_date&&e.immunizations_up_to_date!=="not_sure"&&t.push(`Immunizations Up To Date: ${e.immunizations_up_to_date}`),e.recent_immunizations&&e.recent_immunizations.trim()!==""&&t.push(`Recent Immunizations: ${e.recent_immunizations}`),t.length>0?t.join("; "):"No specific details reported."},EIe=e=>{if(!e||typeof e!="object")return"N/A";const t=[];return e.chief_complaint&&t.push(`Complaint: ${e.chief_complaint}`),(e.has_pain==="yes"||e.has_pain===!0)&&t.push(`Pain: Yes (Scale: ${e.pain_scale||"N/A"}, Desc: ${e.pain_description||"N/A"})`),e.brushing_frequency&&t.push(`Brushing: ${e.brushing_frequency}`),e.flossing_habits&&t.push(`Flossing: ${e.flossing_habits}`),e.past_treatments_details&&t.push(`Past Tx: ${e.past_treatments_details}`),(e.orthodontic_history==="yes"||e.orthodontic_history===!0)&&t.push(`Ortho: Yes (${e.orthodontic_details||"details missing"})`),(e.bite_issues==="yes"||e.bite_issues===!0)&&t.push(`Bite Issues: Yes (${e.bite_symptoms||"details missing"})`),t.length>0?t.join("; "):"No specific dental history reported."},CIe=e=>{if(!Array.isArray(e)||e.length===0)return"None reported.";const t=e.filter(r=>r&&typeof r=="object"&&r.name);return t.length===0?"None reported.":w("ul",{className:"list-disc pl-5 space-y-1 text-sm",children:[" ",t.map((r,n)=>w("li",{children:[c("span",{className:"font-medium",children:r.name}),r.dosage&&` (${r.dosage})`,r.frequency&&` - ${r.frequency}`]},n))]})},PIe=e=>{if(!Array.isArray(e)||e.length===0)return"None reported.";const t=e.filter(r=>r&&typeof r=="object"&&r.type);return t.length===0?"None reported.":w("ul",{className:"list-disc pl-5 space-y-1 text-sm",children:[" ",t.map((r,n)=>w("li",{children:[c("span",{className:"font-medium",children:r.type}),r.date&&` (Approx. ${r.date})`,r.notes&&w("span",{className:"block text-xs text-muted-foreground pl-2",children:["Notes: ",r.notes]})," "]},n))]})};function TIe({patient:e,appointments:t=[],medicalRecords:r=[],dentalHistoryTeeth:n=[],onEdit:a,onBookAppointment:i,onAddMedicalRecord:o}){const[s,l]=A.useState(null),[u,d]=A.useState(!0);if(A.useEffect(()=>{d(!0),fetch(SIe).then(y=>{if(!y.ok)throw console.error("SVG Fetch Response Status:",y.status,y.statusText),new Error(`Network response was not ok: ${y.status} ${y.statusText}`);return y.text()}).then(y=>{l(y),d(!1)}).catch(y=>{console.error("Error fetching SVG:",y),d(!1)})},[]),console.log("Patient object received in PatientDetailsView:",e),console.log("Appointments received:",t),console.log("Medical Records received:",r),console.log("PatientDetailsView received dentalHistoryTeeth prop:",JSON.stringify(n,null,2)),!e)return null;const f=Array.isArray(e.documents)?e.documents:[],h=f.find(y=>y.type==="profile_photo"),m=f.filter(y=>y.type!=="profile_photo"),x={healthy:"Healthy",decayed:"Decayed",filled:"Filled",missing:"Missing","treatment-planned":"Planned Tx","root-canal":"Root Canal",extraction:"Extraction",crown:"Crown","has-treatment-before":"Prior Tx","recommended-to-be-treated":"Recommend Tx"},g=y=>x[y]||y.replace(/_/g," ");return w("div",{className:"space-y-6",children:[w(lr,{children:[c(xr,{children:c(wr,{children:"Personal Information"})}),w(mr,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c(ji,{icon:hi,label:"Full Name",value:`${e.first_name||""} ${e.last_name||""}`}),c(ji,{icon:hi,label:"Gender",value:e.gender}),c(ji,{icon:hi,label:"Age",value:e.age}),c(ji,{icon:hi,label:"Registration Number",value:e.registration_number})]})]}),w(lr,{children:[c(xr,{children:c(wr,{children:"Contact Information"})}),w(mr,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c(ji,{icon:f5,label:"Phone",value:e.phone}),c(ji,{icon:s4,label:"Email",value:e.email}),c(ji,{icon:Sce,label:"Address",value:`${e.address||""}, ${e.city||""}, ${e.state||""} ${e.postal_code||""}`})]})]}),w(lr,{children:[c(xr,{children:c(wr,{children:"Emergency Contact"})}),w(mr,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c(ji,{icon:hi,label:"Name",value:e.emergency_contact_name}),c(ji,{icon:f5,label:"Phone",value:e.emergency_contact_phone}),c(ji,{icon:hi,label:"Relationship",value:e.emergency_contact_relationship})]})]}),w(lr,{children:[c(xr,{children:c(wr,{children:"Medical & Dental Overview"})}),w(mr,{className:"space-y-6",children:[" ",w("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[c(ji,{icon:kce,label:"Height",value:e.height?`${e.height} cm`:"N/A"}),c(ji,{icon:Lce,label:"Weight",value:e.weight?`${e.weight} kg`:"N/A"}),c(ji,{icon:vce,label:"Blood Group",value:e.blood_group})]}),w("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t",children:[c(ji,{icon:ice,label:"Allergies",value:Array.isArray(e.allergies)?e.allergies.join(", "):e.allergies||"None reported"}),c(ji,{icon:GA,label:"Medical Conditions",value:Array.isArray(e.medical_conditions)?e.medical_conditions.join(", "):e.medical_conditions||"None reported"})]}),w("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t",children:[c(ji,{icon:GA,label:"Current Medications",value:CIe(e.current_medications)}),c(ji,{icon:GA,label:"Previous Surgeries / Hospitalizations",value:PIe(e.previous_surgeries)})]}),w("div",{className:"space-y-4 pt-4 border-t",children:[c("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:"History & Habits"}),c(ji,{icon:WT,label:"Detailed Medical Info",value:NIe(e.detailed_medical_info)}),c(ji,{icon:WT,label:"Dental History Summary",value:EIe(e.dental_history)}),c(ji,{icon:c4,label:"Family Medical History",value:AIe(e.family_medical_history)}),c(ji,{icon:$0,label:"Lifestyle Habits",value:kIe(e.lifestyle_habits)})]}),w("div",{className:"pt-4 border-t",children:[c("h4",{className:"text-sm font-medium text-muted-foreground mb-3",children:"Affected Teeth"}),u?c("p",{className:"text-sm text-muted-foreground",children:"Loading tooth chart..."}):s?Array.isArray(n)&&n.length>0?c("div",{className:"grid grid-cols-4 sm:grid-cols-6 md:grid-cols-8 lg:grid-cols-10 gap-2",children:n.sort((y,_)=>y.tooth_id-_.tooth_id).map(y=>{let _='<p class="text-xs text-red-500">Not found</p>';try{const C=new DOMParser().parseFromString(s,"image/svg+xml").getElementById(`ID_${y.tooth_id}`);if(C){const E=C.cloneNode(!0);let O="0 0 50 50",P="scale(0.5) translate(-50, -50)";try{const j=document.createElementNS("http://www.w3.org/2000/svg","svg");j.style.position="absolute",j.style.visibility="hidden",j.appendChild(E.cloneNode(!0)),document.body.appendChild(j);const H=j.firstChild.getBBox();document.body.removeChild(j),H&&H.width>0&&H.height>0?(O=`${H.x-10} ${H.y-10} ${H.width+10*2} ${H.height+10*2}`,P=""):console.warn(`Could not get valid BBox for tooth ${y.tooth_id}. Using fallback viewBox/transform.`)}catch(j){console.warn(`Error getting BBox for tooth ${y.tooth_id}:`,j,". Using fallback viewBox/transform.")}const I="#FFFFFF",L="#666666",U="0.5";E.querySelectorAll("path").forEach(j=>{j.setAttribute("fill",I),j.setAttribute("stroke",L),j.setAttribute("stroke-width",U)});const F=E.outerHTML;_=`<svg viewBox="${O}" preserveAspectRatio="xMidYMid meet" width="40" height="40"><g ${P?`transform="${P}"`:""}>${F}</g></svg>`}else console.warn(`SVG element for tooth ID_${y.tooth_id} not found.`)}catch(b){console.error("Error parsing SVG content:",b),_='<p class="text-xs text-red-500">Parse error</p>'}return w("div",{className:"flex flex-col items-center border p-2 rounded-md shadow-sm bg-white hover:shadow-md transition-shadow duration-150",title:`Tooth ${y.tooth_id}`,children:[w("span",{className:"text-xs font-bold text-gray-700",children:["T",y.tooth_id]}),c("div",{dangerouslySetInnerHTML:{__html:_},className:"my-1"}),y.conditions&&y.conditions.length>0&&c("div",{className:"mt-1 text-center",children:y.conditions.filter(b=>!(y.conditions&&y.conditions.length>1&&b==="healthy")).map((b,S)=>w("span",{className:"block text-[10px] leading-tight text-blue-600",children:[g(b)," "]},S))})]},y.tooth_id)})}):Array.isArray(n)&&n.length===0?c("p",{className:"text-sm text-muted-foreground",children:"No affected teeth selected in dental history."}):c("p",{className:"text-sm text-muted-foreground",children:"Loading affected teeth data..."}):c("p",{className:"text-sm text-red-500",children:"Error loading tooth chart SVG."})]})]})]}),w(lr,{children:[c(xr,{children:c(wr,{children:"Documents & Consent"})}),w(mr,{className:"space-y-4",children:[h&&w("div",{className:"flex items-start py-2",children:[c(KH,{className:"h-5 w-5 text-muted-foreground mr-3 mt-1 flex-shrink-0"}),w("div",{children:[c("p",{className:"text-sm font-medium text-muted-foreground",children:"Profile Photo"}),c("img",{src:h.url,alt:"Profile",className:"mt-1 max-w-xs max-h-40 rounded border"})]})]}),m.length>0&&w("div",{className:"space-y-3 pt-2",children:[c("p",{className:"text-sm font-medium text-muted-foreground",children:"Other Documents"}),m.map(y=>w("div",{className:"flex items-center justify-between p-2 border rounded hover:bg-muted/50",children:[w("div",{className:"flex items-center space-x-2",children:[c(Ece,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"}),c("span",{className:"text-sm truncate",title:y.name,children:y.name}),w("span",{className:"text-xs text-muted-foreground",children:["(",y.type,")"]})]}),c("a",{href:y.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline ml-4",children:"View"})]},y.path))]}),w("div",{className:"flex items-start py-2",children:[c(hce,{className:"h-5 w-5 text-muted-foreground mr-3 mt-1 flex-shrink-0"}),w("div",{children:[c("p",{className:"text-sm font-medium text-muted-foreground",children:"Consent Given"}),c("p",{className:"text-base",children:e.consent_given?"Yes":"No"}),e.consent_date&&w("p",{className:"text-sm text-muted-foreground mt-1",children:["Date: ",IP(e.consent_date)]}),e.signature_url&&w("div",{className:"mt-2",children:[c("p",{className:"text-sm font-medium text-muted-foreground",children:"Signature"}),c("img",{src:e.signature_url,alt:"Signature",className:"mt-1 max-w-xs max-h-20 rounded border"})]})]})]}),f.length===0&&!h&&c("p",{className:"text-sm text-muted-foreground",children:"No documents uploaded."})]})]}),c(xre,{medicalRecords:r,onAddMedicalRecord:o}),w(lr,{children:[c(xr,{children:c(wr,{children:"Appointment History"})}),c(mr,{children:t&&t.length>0?c("div",{className:"space-y-4",children:t.map(y=>w("div",{className:"p-3 border rounded",children:[c("p",{className:"font-semibold",children:y.title||"Appointment"}),w("p",{className:"text-sm text-muted-foreground",children:[IP(y.start_time)," - ",IP(y.end_time)]}),w("p",{className:"text-sm",children:["Type: ",y.type]}),w("p",{className:"text-sm",children:["Status: ",y.status]}),y.notes&&w("p",{className:"text-sm mt-1",children:["Notes: ",y.notes]}),y.staff&&w("p",{className:"text-xs text-muted-foreground mt-1",children:["With: ",y.staff.first_name," ",y.staff.last_name]})]},y.id))}):c("p",{className:"text-sm text-muted-foreground",children:"No past appointments found."})})]}),w("div",{className:"flex justify-end space-x-2 mt-6",children:[" ",w(Fe,{variant:"outline",onClick:()=>i(e.id),children:[c(Ch,{className:"mr-2 h-4 w-4"})," Book New Appointment"]}),c(Fe,{onClick:a,children:"Edit Profile"})]})]})}const OIe=je.object({record_date:je.string().refine(e=>!isNaN(Date.parse(e)),{message:"Invalid date format"}),record_type:je.enum(["examination","procedure","prescription","lab_result","note"],{required_error:"Record type is required"}),general_notes:je.string().optional(),consultation_subjective:je.string().optional(),consultation_objective:je.string().optional(),consultation_assessment:je.string().optional(),consultation_plan:je.string().optional(),diagnosis_code:je.string().optional(),diagnosis_description:je.string().optional(),treatment_procedure:je.string().optional(),treatment_details:je.string().optional(),prescription_medication:je.string().optional(),prescription_dosage:je.string().optional(),prescription_frequency:je.string().optional(),prescription_duration:je.string().optional(),lab_test_name:je.string().optional(),lab_result_value:je.string().optional(),lab_units:je.string().optional(),lab_reference_range:je.string().optional(),other_details:je.string().optional()});function wre({patientId:e,onSubmit:t,onCancel:r,isLoading:n}){const[a,i]=A.useState(void 0),[o,s]=A.useState([]),[l,u]=A.useState(!1),[d,f]=A.useState([]),h=ld({resolver:cd(OIe),defaultValues:{record_date:Lt(new Date,"yyyy-MM-dd"),record_type:void 0,general_notes:"",consultation_subjective:"",consultation_objective:"",consultation_assessment:"",consultation_plan:"",diagnosis_code:"",diagnosis_description:"",treatment_procedure:"",treatment_details:"",prescription_medication:"",prescription_dosage:"",prescription_frequency:"",prescription_duration:"",lab_test_name:"",lab_result_value:"",lab_units:"",lab_reference_range:"",other_details:""}}),m=h.watch("record_type");A.useEffect(()=>{i(m)},[m]);const x=b=>{f(b)},g=()=>{f([...o]),u(!0)},y=()=>{s([...d]),u(!1)},_=async b=>{await t(b,o),s([]),f([])};return w(Sr,{children:[" ",c(Rh,{...h,children:w("form",{onSubmit:h.handleSubmit(_),className:"flex flex-col h-full",children:[w(tu,{className:"flex-grow pr-6 max-h-[calc(80vh-150px)]",children:[" ",w("div",{className:"space-y-6",children:[" ",w("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c(He,{control:h.control,name:"record_date",render:({field:b})=>w(De,{children:[c(Oe,{children:"Record Date"}),c(Me,{children:c(ct,{type:"date",...b})}),c(Ze,{})]})}),c(He,{control:h.control,name:"record_type",render:({field:b})=>w(De,{children:[c(Oe,{children:"Record Type"}),w(zr,{onValueChange:b.onChange,defaultValue:b.value,children:[c(Me,{children:c($r,{children:c(Wr,{placeholder:"Select a record type"})})}),w(Br,{children:[c(_t,{value:"examination",children:"Consultation / Examination / Diagnosis"}),c(_t,{value:"procedure",children:"Treatment / Procedure"}),c(_t,{value:"prescription",children:"Prescription"}),c(_t,{value:"lab_result",children:"Lab Result"}),c(_t,{value:"note",children:"Other Note"})]})]}),c(Ze,{})]})})]}),w(De,{children:[c(Oe,{children:"Select Teeth"})," ",w("div",{className:"flex items-center gap-4",children:[w(Fe,{type:"button",variant:"outline",onClick:g,children:[c(K8,{className:"mr-2 h-4 w-4"}),"Select Teeth..."]}),c("div",{className:"text-sm text-muted-foreground flex-grow min-w-0",children:o.length>0?w("span",{className:"truncate",children:["Selected: ",o.sort((b,S)=>b-S).join(", ")]}):"No teeth selected"})]})," "]}),c(He,{control:h.control,name:"general_notes",render:({field:b})=>w(De,{children:[c(Oe,{children:"General Notes (Optional)"}),c(Me,{children:c(Jr,{placeholder:"Add any general notes applicable to this record...",rows:3,...b})}),c(Ze,{})]})}),a&&w(Dg,{value:a,className:"w-full mt-4",children:[c(Ei,{value:"examination",className:"mt-0 p-0",children:w("div",{className:"space-y-4 p-4 border rounded bg-muted/30",children:[c("h4",{className:"font-medium text-sm mb-4",children:"Consultation / Examination / Diagnosis Details"}),c("p",{className:"text-xs text-muted-foreground mb-2",children:"Enter SOAP notes OR Diagnosis details below."}),c("h5",{className:"font-medium text-xs mb-2",children:"SOAP Notes (Optional)"}),w("div",{children:[c(He,{control:h.control,name:"consultation_subjective",render:({field:b})=>w(De,{children:[c(Oe,{children:"Subjective"}),c(Me,{children:c(Jr,{rows:2,placeholder:"Patient's complaints, history...",...b})}),c(Ze,{})]})}),c(He,{control:h.control,name:"consultation_objective",render:({field:b})=>w(De,{children:[c(Oe,{children:"Objective"}),c(Me,{children:c(Jr,{rows:2,placeholder:"Clinical findings, exam results...",...b})}),c(Ze,{})]})}),c(He,{control:h.control,name:"consultation_assessment",render:({field:b})=>w(De,{children:[c(Oe,{children:"Assessment"}),c(Me,{children:c(Jr,{rows:2,placeholder:"Diagnosis, differential diagnosis...",...b})}),c(Ze,{})]})}),c(He,{control:h.control,name:"consultation_plan",render:({field:b})=>w(De,{children:[c(Oe,{children:"Plan"}),c(Me,{children:c(Jr,{rows:2,placeholder:"Treatment plan, follow-up...",...b})}),c(Ze,{})]})})]}),c("h5",{className:"font-medium text-xs mt-4 mb-2",children:"Diagnosis Details (Optional)"}),c(He,{control:h.control,name:"diagnosis_code",render:({field:b})=>w(De,{children:[c(Oe,{children:"Diagnosis Code (e.g., ICD-10)"}),c(Me,{children:c(ct,{placeholder:"K02.1",...b})}),c(Ze,{})]})}),c(He,{control:h.control,name:"diagnosis_description",render:({field:b})=>w(De,{children:[c(Oe,{children:"Diagnosis Description"}),c(Me,{children:c(Jr,{placeholder:"Describe the diagnosis...",...b})}),c(Ze,{})]})})]})}),c(Ei,{value:"procedure",className:"mt-0 p-0",children:w("div",{className:"space-y-4 p-4 border rounded bg-muted/30",children:[c("h4",{className:"font-medium text-sm",children:"Treatment / Procedure Details"}),c(He,{control:h.control,name:"treatment_procedure",render:({field:b})=>w(De,{children:[c(Oe,{children:"Procedure (Code or Name)"}),c(Me,{children:c(ct,{placeholder:"e.g., D2391, Composite Filling",...b})}),c(Ze,{})]})}),c(He,{control:h.control,name:"treatment_details",render:({field:b})=>w(De,{children:[c(Oe,{children:"Treatment Notes/Details"}),c(Me,{children:c(Jr,{placeholder:"Materials used, tooth number, outcome...",...b})}),c(Ze,{})]})})]})}),c(Ei,{value:"prescription",className:"mt-0 p-0",children:w("div",{className:"space-y-4 p-4 border rounded bg-muted/30",children:[c("h4",{className:"font-medium text-sm",children:"Prescription Details"}),w("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c(He,{control:h.control,name:"prescription_medication",render:({field:b})=>w(De,{children:[c(Oe,{children:"Medication Name"}),c(Me,{children:c(ct,{placeholder:"Amoxicillin",...b})}),c(Ze,{})]})}),c(He,{control:h.control,name:"prescription_dosage",render:({field:b})=>w(De,{children:[c(Oe,{children:"Dosage"}),c(Me,{children:c(ct,{placeholder:"500mg",...b})}),c(Ze,{})]})}),c(He,{control:h.control,name:"prescription_frequency",render:({field:b})=>w(De,{children:[c(Oe,{children:"Frequency"}),c(Me,{children:c(ct,{placeholder:"TID (Three times a day)",...b})}),c(Ze,{})]})}),c(He,{control:h.control,name:"prescription_duration",render:({field:b})=>w(De,{children:[c(Oe,{children:"Duration"}),c(Me,{children:c(ct,{placeholder:"7 days",...b})}),c(Ze,{})]})})]})]})}),c(Ei,{value:"lab_result",className:"mt-0 p-0",children:w("div",{className:"space-y-4 p-4 border rounded bg-muted/30",children:[c("h4",{className:"font-medium text-sm",children:"Lab Result Details"}),w("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c(He,{control:h.control,name:"lab_test_name",render:({field:b})=>w(De,{children:[c(Oe,{children:"Test Name"}),c(Me,{children:c(ct,{placeholder:"Complete Blood Count (CBC)",...b})}),c(Ze,{})]})}),c(He,{control:h.control,name:"lab_result_value",render:({field:b})=>w(De,{children:[c(Oe,{children:"Result Value"}),c(Me,{children:c(ct,{placeholder:"12.5",...b})}),c(Ze,{})]})}),c(He,{control:h.control,name:"lab_units",render:({field:b})=>w(De,{children:[c(Oe,{children:"Units"}),c(Me,{children:c(ct,{placeholder:"g/dL",...b})}),c(Ze,{})]})}),c(He,{control:h.control,name:"lab_reference_range",render:({field:b})=>w(De,{children:[c(Oe,{children:"Reference Range"}),c(Me,{children:c(ct,{placeholder:"12.0-15.5 g/dL",...b})}),c(Ze,{})]})})]})]})}),c(Ei,{value:"note",className:"mt-0 p-0",children:w("div",{className:"space-y-4 p-4 border rounded bg-muted/30",children:[c("h4",{className:"font-medium text-sm",children:"Other Note Details"}),c(He,{control:h.control,name:"other_details",render:({field:b})=>w(De,{children:[c(Oe,{children:"Details"}),c(Me,{children:c(Jr,{placeholder:"Enter any other relevant details...",...b})}),c(Ze,{})]})})]})})]})]})," "]}),w("div",{className:"flex justify-end gap-4 pt-4 border-t mt-4",children:[" ",c(Fe,{type:"button",variant:"outline",onClick:r,disabled:n,children:"Cancel"}),w(Fe,{type:"submit",disabled:n||!a,children:[n&&c(Zn,{className:"mr-2 h-4 w-4 animate-spin"}),"Save Record"]})]})]})}),c($a,{open:l,onOpenChange:u,children:w(Ta,{className:"max-w-2xl",children:[" ",w(Oa,{children:[c(Da,{children:"Select Affected Teeth"}),c(Yi,{children:"Click teeth in the chart below to select or deselect them for this medical record."})]}),c(O3,{initialState:d.reduce((b,S)=>(b[S]={isSelected:!0},b),{}),onToothSelect:x}),w(Ji,{children:[c(Fe,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),c(Fe,{onClick:y,children:"Confirm Selection"})]})]})})]})}function DIe({open:e,onOpenChange:t,patient:r,onSuccess:n}){return c($a,{open:e,onOpenChange:t,children:w(Ta,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[c(Oa,{children:c(Da,{children:r?"Edit Patient":"New Patient"})}),c(gR,{patient:r,onSuccess:n,onCancel:()=>t(!1)})]})})}function Rz(){const{id:e}=oy();return e?c(RIe,{}):c(IIe,{})}function IIe(){const e=Bo();yn();const[t,r]=A.useState([]),[n,a]=A.useState(!0),[i,o]=A.useState(""),[s,l]=A.useState(!1);A.useEffect(()=>{u()},[]);const u=async()=>{try{const m=(await zt.patients.getAll()).map(x=>({...x,profileCompletion:d(x)}));r(m),a(!1)}catch(h){console.error("Error fetching patients:",h),a(!1)}},d=h=>{if(!h)return 0;const m=["first_name","last_name","gender","age","phone","email","address","city","state","postal_code","emergency_contact_name","emergency_contact_phone","blood_group","allergies","medical_conditions"];let x=0;return m.forEach(g=>{h[g]!==null&&h[g]!==void 0&&h[g]!==""&&x++}),Math.floor(x/m.length*100)},f=async h=>{if(o(h),h.length>2)try{const x=(await zt.patients.search(h)).map(g=>({...g,profileCompletion:d(g)}));r(x)}catch(m){console.error("Error searching patients:",m)}else h.length===0&&u()};return w("div",{className:"space-y-6",children:[c("div",{className:"flex items-center justify-between",children:w("div",{children:[c("h1",{className:"text-2xl font-semibold tracking-tight",children:"Patients"}),c("p",{className:"text-sm text-muted-foreground",children:"Manage patient information and appointments"})]})}),w("div",{className:"flex items-center gap-4",children:[w("div",{className:"relative flex-1",children:[c(l4,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),c(ct,{placeholder:"Search by name, phone, or registration number...",className:"pl-8",value:i,onChange:h=>f(h.target.value)})]}),w(Fe,{onClick:()=>l(!0),children:[c(Xc,{className:"h-4 w-4 mr-2"}),"New Patient"]})]}),s&&c(DIe,{open:s,onOpenChange:l,onSuccess:h=>{l(!1),e(`/patients/${h}`)}}),n?c("div",{className:"text-center py-8",children:"Loading patients..."}):c("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(h=>w(lr,{children:[c(mr,{className:"pt-6",children:w("div",{className:"flex flex-col space-y-2",children:[w("div",{className:"flex items-center justify-between",children:[w("h3",{className:"font-medium",children:[h.first_name," ",h.last_name]}),c("div",{className:`px-2 py-1 rounded-full text-xs ${h.profileCompletion===100?"bg-green-100 text-green-800":h.profileCompletion>50?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:h.profileCompletion===100?"Complete":h.profileCompletion>50?"In Progress":"Basic"})]}),w("div",{className:"flex items-center text-sm text-muted-foreground",children:[c(f5,{className:"h-4 w-4 mr-2"}),h.phone]}),h.email&&w("div",{className:"flex items-center text-sm text-muted-foreground",children:[c(s4,{className:"h-4 w-4 mr-2"}),h.email]}),w("div",{className:"mt-2",children:[w("div",{className:"flex items-center justify-between text-sm mb-1",children:[c("span",{children:"Profile Completion"}),w("span",{children:[h.profileCompletion,"%"]})]}),c(xR,{value:h.profileCompletion})]})]})}),w(Q0,{className:"flex justify-between",children:[c(Fe,{variant:"outline",size:"sm",onClick:()=>e(`/patients/${h.id}`,{state:{action:"view"}}),children:"View Details"}),w(Fe,{variant:"secondary",size:"sm",onClick:()=>e(`/patients/${h.id}`,{state:{action:"edit"}}),children:[c(hi,{className:"h-4 w-4 mr-1"}),h.profileCompletion<100?"Complete Profile":"Edit Profile"]})]})]},h.id))})]})}function RIe(){const e=Bo(),{id:t}=oy(),{state:r}=Nm(),[n,a]=A.useState(null),[i,o]=A.useState([]),[s,l]=A.useState([]),[u,d]=A.useState([]),[f,h]=A.useState(!0),[m,x]=A.useState((r==null?void 0:r.action)==="edit"),[g,y]=A.useState(!1),[_,b]=A.useState(!1),{toast:S}=yn();console.log(`Patients.tsx: PatientDetails rendering. isEditing: ${m}, Patient ID: ${t}`),A.useEffect(()=>{t&&C(t)},[t]);const C=async I=>{h(!0);try{er.invalidate(`patients:${I}`),er.invalidate(`appointments:patient:${I}`),er.invalidate(`medical_records:${I}`),er.invalidate(`patient_dental_history_teeth:${I}`);const[L,U,T,F]=await Promise.all([zt.patients.getById(I),zt.appointments.getByPatientId(I),zt.patients.getMedicalRecords(I),zt.patients.getPatientDentalHistoryTeeth(I)]);a(L),o(U||[]),l(T||[]),d(F||[])}catch(L){console.error("Error fetching patient details:",L)}finally{h(!1)}},E=()=>{y(!0)},O=async I=>{if(!t)return;b(!0);let L={general_notes:I.general_notes||void 0};switch(I.record_type){case"consultation":L={...L,subjective:I.consultation_subjective||void 0,objective:I.consultation_objective||void 0,assessment:I.consultation_assessment||void 0,plan:I.consultation_plan||void 0};break;case"diagnosis":L={...L,code:I.diagnosis_code||void 0,description:I.diagnosis_description||void 0};break;case"treatment":L={...L,procedure:I.treatment_procedure||void 0,details:I.treatment_details||void 0};break;case"prescription":L={...L,medication:I.prescription_medication||void 0,dosage:I.prescription_dosage||void 0,frequency:I.prescription_frequency||void 0,duration:I.prescription_duration||void 0};break;case"lab_result":L={...L,test_name:I.lab_test_name||void 0,result_value:I.lab_result_value||void 0,units:I.lab_units||void 0,reference_range:I.lab_reference_range||void 0};break;case"other":L={...L,details:I.other_details||void 0};break}Object.keys(L).forEach(U=>L[U]===void 0&&delete L[U]);try{await zt.patients.createMedicalRecord({patient_id:t,record_date:I.record_date,record_type:I.record_type,description:JSON.stringify(L)},[]),S({title:"Success",description:"Medical record added successfully."}),y(!1),C(t)}catch(U){console.error("Error adding medical record:",U),S({title:"Error",description:"Failed to add medical record.",variant:"destructive"})}finally{b(!1)}},P=I=>{e(`/appointments?patientId=${I}&action=new`)};return f?c("div",{className:"flex items-center justify-center h-full",children:"Loading patient details..."}):n?w("div",{className:"space-y-6",children:[w("div",{className:"flex items-center justify-between",children:[w("div",{children:[c("h1",{className:"text-2xl font-semibold tracking-tight",children:m?"Edit Patient Profile":"Patient Details"}),w("p",{className:"text-sm text-muted-foreground",children:[n.first_name," ",n.last_name]})]}),w("div",{className:"flex gap-2",children:[c(Fe,{variant:"outline",onClick:()=>e("/patients"),children:"Back to List"}),c(Fe,{onClick:()=>{console.log(`Patients.tsx: Edit/View button clicked. Current isEditing: ${m}`),x(!m),console.log("Patients.tsx: setIsEditing called.")},children:m?"View Details":"Edit Profile"})]})]}),m?w(Sr,{children:[console.log(`Patients.tsx: Rendering PatientForm for editing. Key: ${(n==null?void 0:n.id)||"new-patient-form"}, Patient ID: ${n==null?void 0:n.id}`),c(gR,{patient:n,onSuccess:()=>{C(t),x(!1)},onCancel:()=>x(!1)},(n==null?void 0:n.id)||"new-patient-form")]}):c(TIe,{patient:n,appointments:i,medicalRecords:s,dentalHistoryTeeth:u,onEdit:()=>x(!0),onBookAppointment:P,onAddMedicalRecord:E}),c($a,{open:g,onOpenChange:y,children:w(Ta,{className:"max-w-2xl",children:[c(Oa,{children:c(Da,{children:"Add New Medical Record"})}),c(wre,{patientId:t,onSubmit:O,onCancel:()=>y(!1),isLoading:_})]})})]}):c("div",{className:"flex items-center justify-center h-full",children:"Patient not found"})}function Mz(e,t){const[r,n]=A.useState(!1);return A.useEffect(()=>{let a;try{a=BD(e,i=>{t&&t(i)}),n(!0)}catch(i){console.error("Error subscribing to changes:",i),n(!1)}return()=>{a&&a.unsubscribe(),n(!1)}},[e,t]),r}function Fz(e,t={}){const[r,n]=A.useState(!1);return{update:A.useCallback(async(i,o)=>{n(!0),o&&o();try{const s=await e(i);return t.onSuccess&&t.onSuccess(s),s}catch(s){throw console.error(t.errorMessage||"Update failed",s),t.onError&&t.onError(s),s}finally{n(!1)}},[e,t]),loading:r}}const MIe=(e,t)=>{if(!t)return e;const n=t.toLowerCase().match(/^(\d+)(-(\d+))?\s*(day|week|month)s?$/);if(!n)return console.warn(`Invalid timeGap format: ${t}. Defaulting to 1 day.`),La(e,1);const a=parseInt(n[1],10),i=n[4];switch(i){case"day":return La(e,a);case"week":return w1(e,a);case"month":return dl(e,a);default:return console.warn(`Unknown timeGap unit: ${i}. Defaulting to 1 day.`),La(e,1)}},Qs={async getAllTreatmentPlans(){return zt.patients.getTreatmentPlans(null)},async getPatientTreatmentPlans(e){return zt.patients.getTreatmentPlans(e)},async createTreatmentPlan(e,t){const r={...e,title:e.title||"Untitled Plan",description:e.description||"No description",patient_id:e.patient_id||"",status:e.status||"planned",start_date:e.start_date||Lt(new Date,"yyyy-MM-dd"),priority:e.priority||"medium",ai_generated:e.ai_generated!==void 0?e.ai_generated:!1};return zt.patients.createTreatmentPlan(r,t)},async createTreatmentPlanWithTreatments(e,t){const r={...e,title:e.title||"Untitled Plan",description:e.description||"No description",patient_id:e.patient_id||"",status:e.status||"planned",start_date:e.start_date||Lt(new Date,"yyyy-MM-dd"),priority:e.priority||"medium",ai_generated:e.ai_generated!==void 0?e.ai_generated:!1},n=t.map(a=>{const i=parseFloat(a.cost);return{...a,cost:isNaN(i)?0:i}});return zt.patients.createTreatmentPlanWithTreatments(r,n)},async updateTreatmentPlan(e,t){return zt.patients.updateTreatmentPlan(e,t)},async deleteTreatmentPlan(e){return zt.patients.deleteTreatmentPlan(e)},async createTreatment(e){const t=parseFloat(e.cost),r={...e,cost:isNaN(t)?0:t};return zt.patients.createTreatment(r)},async updateTreatment(e,t){const r={};for(const i in t)if(i==="cost"&&t.cost!==void 0){const o=parseFloat(t.cost);r.cost=isNaN(o)?void 0:o}else i==="status"&&t.status!==void 0?r.status=t.status:i==="description"&&t.description!==void 0?r.description=t.description:i==="type"&&t.type!==void 0?r.type=t.type:i==="priority"&&t.priority!==void 0?r.priority=t.priority:i==="plan_id"&&t.plan_id!==void 0?r.plan_id=t.plan_id:i==="scheduled_date"&&t.scheduled_date!==void 0?r.scheduled_date=t.scheduled_date?t.scheduled_date:null:i==="time_gap"&&t.time_gap!==void 0&&(r.time_gap=t.time_gap||null);const n=t.status,a=new Date().toISOString();return n==="completed"||n==="cancelled"?r.actual_end_time=a:n==="pending"?(r.actual_start_time=null,r.actual_end_time=null):n==="in_progress"&&(r.actual_start_time=a,r.actual_end_time=null),console.log(`Updating treatment ${e} with payload:`,r),zt.patients.updateTreatment(e,r)},async deleteTreatment(e){return zt.patients.deleteTreatment(e)},processTreatmentPlanData(e,t){return e.map(r=>{var d,f,h;const n=t.find(m=>m.id===r.patient_id),a=((d=r.treatments)==null?void 0:d.reduce((m,x)=>m+parseFloat(x.cost||0),0))||0,i=((f=r.treatments)==null?void 0:f.filter(m=>m.status==="completed").length)||0,o=((h=r.treatments)==null?void 0:h.length)||0,s=o?Math.round(i/o*100):0,l=Array.isArray(r.treatment_plan_teeth)?r.treatment_plan_teeth.map(m=>m.teeth).filter(m=>m!==null):[],u={...r};return delete u.treatment_plan_teeth,{...u,patientName:n?`${n.first_name} ${n.last_name}`:"Unknown Patient",totalCost:a,progress:s,completedTreatments:i,totalTreatments:o,teeth:l}})},async getVisitsByPlanId(e){if(!e)return console.warn("[treatmentService.getVisitsByPlanId] planId is required, exiting."),[];console.log(`[treatmentService.getVisitsByPlanId] Attempting for planId: ${e}`);try{console.log(`[treatmentService.getVisitsByPlanId] PRE-AWAIT for api.patients.getVisitsByPlanId with planId: ${e}`);const t=await zt.patients.getVisitsByPlanId(e);if(console.log(`[treatmentService.getVisitsByPlanId] POST-AWAIT for api.patients.getVisitsByPlanId. Result for planId ${e}:`,t),!t)return console.warn(`[treatmentService.getVisitsByPlanId] visitsData is null/undefined for planId ${e}.`),[];if(!Array.isArray(t))return console.error(`[treatmentService.getVisitsByPlanId] visitsData is not an array for planId ${e}. Received:`,t),[];t.length===0&&console.log(`[treatmentService.getVisitsByPlanId] visitsData is an empty array for planId ${e}.`);const r=t.map((n,a)=>typeof n!="object"||n===null||typeof n.id>"u"?(console.warn(`[treatmentService.getVisitsByPlanId] Invalid visit object at index ${a} for planId ${e}:`,n),{id:"INVALID_VISIT_DATA"}):{id:n.id});return console.log(`[treatmentService.getVisitsByPlanId] Mapped visits for planId ${e}:`,r),r}catch(t){throw console.error(`[treatmentService.getVisitsByPlanId] CRITICAL ERROR fetching visits for plan ${e}:`,t),t}},async createMultipleVisits(e,t,r){if(!t||t.length===0)return{data:[],error:null};let n=qr(r);const a=[];for(let i=0;i<t.length;i++){const o=t[i];i>0&&t[i-1].timeGap&&(n=MIe(n,t[i-1].timeGap));const s={treatment_plan_id:e,visit_number:i+1,procedures:o.procedures||"N/A",estimated_duration:o.estimatedDuration,time_gap:o.timeGap,status:"pending",scheduled_date:Lt(n,"yyyy-MM-dd")};a.push(s)}return zt.patients.createTreatmentVisitsBatch(a)}},RP=async e=>{if(!e)return console.log("[getBookedAppointmentDetailsForPlan] No planId provided, exiting."),[];console.log(`[getBookedAppointmentDetailsForPlan] Attempting to fetch for planId: ${e}`);let t=null;try{if(console.log(`[getBookedAppointmentDetailsForPlan] ENTERING TRY BLOCK for planId: ${e}`),console.log(`[getBookedAppointmentDetailsForPlan] PRE: Calling treatmentService.getVisitsByPlanId for planId: ${e}`),t=await Qs.getVisitsByPlanId(e),console.log(`[getBookedAppointmentDetailsForPlan] POST: treatmentService.getVisitsByPlanId returned for planId ${e}. Result:`,t),!t)return console.log(`[getBookedAppointmentDetailsForPlan] Visits data is null or undefined for plan ${e}.`),[];if(t.length===0)return console.log(`[getBookedAppointmentDetailsForPlan] No visits found (empty array) for plan ${e}`),[];const r=t.map(i=>i.id);if(console.log(`[getBookedAppointmentDetailsForPlan] Visit IDs for plan ${e}:`,r),r.length===0)return console.log(`[getBookedAppointmentDetailsForPlan] No visit IDs extracted (map result empty) for plan ${e}`),[];console.log("[getBookedAppointmentDetailsForPlan] PRE: Calling api.appointments.getAppointmentsByTreatmentIds with visitIds:",r);const n=await zt.appointments.getAppointmentsByTreatmentIds(r);if(console.log(`[getBookedAppointmentDetailsForPlan] POST: api.appointments.getAppointmentsByTreatmentIds returned. Appointments for visit IDs (${r.join(", ")}):`,n),!n)return console.log("[getBookedAppointmentDetailsForPlan] Appointments data is null or undefined for the given visit IDs."),[];if(n.length===0)return console.log("[getBookedAppointmentDetailsForPlan] No appointments found (empty array) for visit IDs"),[];const a=n.filter(i=>i.status!=="cancelled"&&i.treatment_id).map(i=>i);return console.log(`[getBookedAppointmentDetailsForPlan] Filtered Booked Appointments for plan ${e}:`,a),a}catch(r){return console.error(`[getBookedAppointmentDetailsForPlan] CRITICAL ERROR in getBookedAppointmentDetailsForPlan for planId ${e}. Error:`,r),t!==null?console.error("[getBookedAppointmentDetailsForPlan] State of 'visits' when error occurred:",t):console.error("[getBookedAppointmentDetailsForPlan] 'visits' was null when error occurred (error likely in getVisitsByPlanId itself)."),[]}};function FIe(){const{toast:e}=yn(),[t,r]=A.useState(!0),[n,a]=A.useState([]),[i,o]=A.useState([]),[s,l]=A.useState(null),[u,d]=A.useState({plans:null,selectedPlan:null}),f=Mz("treatment_plans",()=>{_()}),h=Mz("treatments",T=>{s&&T.new&&T.new.plan_id===s.id?b():_()}),{update:m,loading:x}=Fz(T=>Qs.updateTreatment(T.treatmentId,{status:T.newStatus}),{onError:()=>{e({title:"Update Failed",description:"Failed to update treatment status. Please try again.",variant:"destructive"}),s&&u.selectedPlan&&l({...u.selectedPlan})}}),{update:g,loading:y}=Fz(T=>Qs.updateTreatmentPlan(T.planId,{status:T.newStatus}),{onError:()=>{e({title:"Update Failed",description:"Failed to update plan status. Please try again.",variant:"destructive"}),u.plans&&a([...u.plans])}}),_=A.useCallback(async()=>{try{r(!0);const[T,F]=await Promise.all([Qs.getAllTreatmentPlans(),zt.patients.getAll()]),j=Qs.processTreatmentPlanData(T,F);a(j),o(F)}catch(T){console.error("Error fetching data:",T),e({title:"Error",description:"Failed to load treatment plans",variant:"destructive"})}finally{r(!1)}},[e]),b=A.useCallback(async()=>{if(s)try{const F=(await Qs.getAllTreatmentPlans()).find(j=>j.id===s.id);if(F){const j=Qs.processTreatmentPlanData([F],i)[0];l(j)}}catch(T){console.error("Error refreshing plan:",T)}},[s,i]);A.useEffect(()=>{_()},[]);const S=A.useCallback((T,F,j)=>n.filter(H=>{var G,q,K;const X=T?((G=H.title)==null?void 0:G.toLowerCase().includes(T.toLowerCase()))||((q=H.description)==null?void 0:q.toLowerCase().includes(T.toLowerCase()))||((K=H.patientName)==null?void 0:K.toLowerCase().includes(T.toLowerCase())):!0,re=F&&F!=="all"?H.patient_id===F:!0,z=j&&j!=="all"?H.status===j:!0;return X&&re&&z}),[n]),C=A.useCallback(async(T,F)=>{var X,re,z,G;let j=null,H=null;try{r(!0);const{originalAISuggestion:q,clinical_considerations:K,materials:J,post_treatment_care:D,total_visits:Y,...Q}=T,ie={title:Q.title||"Untitled Plan",description:Q.description||"No description",patient_id:Q.patient_id||"",status:Q.status||"planned",start_date:Q.start_date||Lt(new Date,"yyyy-MM-dd"),priority:Q.priority||"medium",ai_generated:!!q},se=await Qs.createTreatmentPlan(ie,F);if(se.error||!se.data||!se.data.id)throw console.error("Error creating base treatment plan:",se.error),e({title:"Error",description:((X=se.error)==null?void 0:X.message)||"Failed to create base treatment plan record.",variant:"destructive"}),se.error||new Error("Base plan creation failed or ID missing.");j=se.data.id,H=se.data,e({title:"Plan Created",description:"Base plan record and teeth associations saved. Saving metadata..."});const te={treatment_plan_id:j,clinical_considerations:K||null,key_materials:J||null,post_treatment_care:D||null,total_visits:Y?parseInt(Y):((G=(z=(re=q==null?void 0:q.planDetails)==null?void 0:re.appointmentPlan)==null?void 0:z.sittingDetails)==null?void 0:G.length)||0,completed_visits:0};try{await zt.patients.createTreatmentPlanMetadata(te),e({title:"Metadata Saved",description:"Additional plan details saved successfully."})}catch(oe){console.error("Error creating treatment plan metadata:",oe),e({title:"Warning",description:"Plan created, but failed to save some additional details (metadata).",variant:"default"})}const de=await zt.patients.getTreatmentPlanDetails(j);if(de.error||!de.data)return console.error("Error fetching new plan details:",de.error),e({title:"Warning",description:"Plan fully created, but failed to fetch updated details. A manual refresh may be needed.",variant:"default"}),_(),{...Qs.processTreatmentPlanData([{...H,treatments:[],metadata:te}],i)[0],originalAISuggestion:q};const Z=de.data,ce=Qs.processTreatmentPlanData([Z],i)[0];return _(),console.log("[useTreatmentPlans] createTreatmentPlan - Returning originalAISuggestion:",T.originalAISuggestion),{...ce,originalAISuggestion:T.originalAISuggestion}}catch(q){throw console.error("Error in createTreatmentPlan process:",q),e({title:"Error",description:`An unexpected error occurred: ${q instanceof Error?q.message:"Please check console."}`,variant:"destructive"}),q}finally{r(!1)}},[_,i,e]),E=A.useCallback(async T=>{try{r(!0),await Qs.createTreatment(T),e({title:"Treatment Added",description:"New treatment has been successfully added to the plan."}),await b()}catch(F){throw console.error("Error creating treatment:",F),e({title:"Error",description:F.message||"Failed to add treatment.",variant:"destructive"}),F}finally{r(!1)}},[e,b]),O=A.useCallback(async(T,F)=>{try{r(!0),await Qs.updateTreatment(T,F),e({title:"Treatment Updated",description:"Treatment details have been successfully updated."}),await b()}catch(j){throw console.error("Error updating treatment details:",j),e({title:"Error",description:j.message||"Failed to update treatment details.",variant:"destructive"}),j}finally{r(!1)}},[e,b]),P=A.useCallback(async(T,F)=>{if(d({...u,selectedPlan:{...s}}),s){const j=s.treatments.map(re=>re.id===T?{...re,status:F}:re),H=j.filter(re=>re.status==="completed").length,X=Math.round(H/j.length*100);l({...s,treatments:j,completedTreatments:H,progress:X})}await m({treatmentId:T,newStatus:F})},[s,u,m]),I=A.useCallback(async(T,F)=>{d({...u,plans:[...n]});const j=n.map(H=>H.id===T?{...H,status:F}:H);a(j),s&&s.id===T&&l({...s,status:F}),await g({planId:T,newStatus:F})},[n,s,u,g]),L=A.useCallback(async T=>{d({...u,selectedPlan:{...s}});try{if(r(!0),s){const F=s.treatments.find(G=>G.id===T),j=s.treatments.filter(G=>G.id!==T),H=j.filter(G=>G.status==="completed").length,X=j.length,re=X?Math.round(H/X*100):0,z=j.reduce((G,q)=>G+parseFloat(q.cost||0),0);l({...s,treatments:j,completedTreatments:H,totalTreatments:X,progress:re,totalCost:z})}await Qs.deleteTreatment(T),e({title:"Success",description:"Treatment deleted successfully"}),await b()}catch(F){console.error("Error deleting treatment:",F),u.selectedPlan&&l(u.selectedPlan),e({title:"Error",description:"Failed to delete treatment",variant:"destructive"})}finally{r(!1)}},[b,s,u,e]),U=A.useCallback(async T=>{try{r(!0);const F=n.filter(j=>j.id!==T);a(F),await Qs.deleteTreatmentPlan(T),e({title:"Success",description:"Treatment plan deleted successfully"}),s&&s.id===T&&l(null)}catch(F){console.error("Error deleting treatment plan:",F),_(),e({title:"Error",description:"Failed to delete treatment plan",variant:"destructive"})}finally{r(!1)}},[_,n,s,e]);return{loading:t,treatmentPlans:n,patients:i,selectedPlan:s,setSelectedPlan:l,treatmentPlansSubscribed:f,treatmentsSubscribed:h,updatingTreatmentStatus:x,updatingPlanStatus:y,filterPlans:S,fetchData:_,refreshSelectedPlan:b,createTreatmentPlan:C,createTreatment:E,updateTreatmentDetails:O,handleUpdateTreatmentStatus:P,handleUpdatePlanStatus:I,deleteTreatment:L,deletePlan:U}}function jd(e,t=2){if(e==null)return"INR 0.00";const r=typeof e=="string"?parseFloat(e):e;return isNaN(r)?"INR 0.00":`INR ${r.toFixed(t)}`}function LIe({plan:e,onViewDetails:t}){const r=a=>{let i="bg-gray-100 text-gray-800";switch(a){case"planned":i="bg-blue-100 text-blue-800";break;case"in_progress":i="bg-yellow-100 text-yellow-800";break;case"completed":i="bg-green-100 text-green-800";break;case"cancelled":i="bg-red-100 text-red-800";break}return c("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${i}`,children:a.replace("_"," ")})},n=a=>{let i="bg-gray-100 text-gray-800";switch(a){case"low":i="bg-green-100 text-green-800";break;case"medium":i="bg-yellow-100 text-yellow-800";break;case"high":i="bg-red-100 text-red-800";break}return c("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${i}`,children:a})};return w(lr,{className:"overflow-hidden",children:[w(xr,{className:"pb-2",children:[w("div",{className:"flex justify-between items-start",children:[c(wr,{className:"text-lg",children:e.title}),r(e.status)]}),c(yc,{className:"line-clamp-2",children:e.description})]}),c(mr,{className:"pb-2",children:w("div",{className:"space-y-4",children:[w("div",{className:"flex items-center text-sm",children:[c(hi,{className:"h-4 w-4 mr-2 text-muted-foreground"}),c("span",{children:e.patientName})]}),w("div",{className:"flex items-center text-sm",children:[c(Lo,{className:"h-4 w-4 mr-2 text-muted-foreground"}),w("span",{children:[Lt(new Date(e.start_date),"MMM d, yyyy"),e.end_date&&` to ${Lt(new Date(e.end_date),"MMM d, yyyy")}`]})]}),w("div",{className:"flex items-center text-sm",children:[c(GH,{className:"h-4 w-4 mr-2 text-muted-foreground"}),w("span",{children:["Total Cost: ",jd(e.totalCost)]})]}),w("div",{className:"space-y-1",children:[w("div",{className:"flex items-center justify-between text-sm",children:[c("span",{children:"Progress"}),w("span",{children:[e.completedTreatments," of ",e.totalTreatments," treatments"]})]}),c(xR,{value:e.progress})]})]})}),w(Q0,{className:"pt-2 flex justify-between",children:[c("div",{className:"flex gap-2",children:e.priority&&n(e.priority)}),w(Fe,{variant:"default",size:"sm",onClick:()=>t(e),children:["View Details ",c(im,{className:"h-4 w-4 ml-1"})]})]})]})}function jIe({patientId:e,toothIds:t,domain:r,condition:n,matrixDetails:a,selectedTreatment:i,symptoms:o,description:s,patientRecord:l,onSuggestionApply:u,disabled:d=!1}){const[f,h]=A.useState(!1),[m,x]=A.useState([]),{toast:g}=yn(),[y,_]=A.useState(null),[b,S]=A.useState(null);return w("div",{className:"space-y-4",children:[c("div",{className:"flex justify-center",children:c(Fe,{type:"button",onClick:async()=>{var P,I;if(f)return;if(!i){g({title:"Missing Information",description:"Please select a treatment option first.",variant:"destructive"});return}h(!0),x([]);const E=new AbortController,O=setTimeout(()=>E.abort(),12e4);try{const L=E.signal;L.throwIfAborted();const U="https://n8n1.kol.tel/webhook/2169736a-368b-49b5-b93f-ffc215203d99",T=await fetch(U,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({patientId:e,toothIds:t,domain:r,condition:n,treatment:i,details:a,patientRecord:l,userInput:{symptoms:o,description:s}})});if(L.throwIfAborted(),clearTimeout(O),!T.ok)throw new Error(`AI suggestion failed: ${T.status}`);const j=(I=(P=(await T.json())[0])==null?void 0:P.output)==null?void 0:I.response;if(!j||!j.treatmentPlans||!Array.isArray(j.treatmentPlans))throw new Error("Invalid AI response structure: treatmentPlans missing or not an array.");const H=j.treatmentPlans.map(X=>{var Y,Q,ie;const re=X.planName,z=re==null?void 0:re.toLowerCase(),G=(Q=(Y=j.caseOverview)==null?void 0:Y.patientSelectedTreatment)==null?void 0:Q.toLowerCase(),q=z==null?void 0:z.includes("(patient-selected)"),K=z==null?void 0:z.includes("(patient selected)"),J=G&&(z==null?void 0:z.startsWith(G)),D=q||K||J;return console.log(`[AISuggestionForm] Plan: ${re} | Lower: ${z} | C1: ${q} | C2: ${K} | patientSelectedTreatmentLower: ${G} | C3 (startsWith): ${J} | FINAL isPatientSelected: ${D}`),console.log(`[AISuggestionForm] Raw AI plan object for: ${re}`,X),console.log(`[AISuggestionForm] Metadata source fields for: ${re}`,{aiPlanClinicalConsiderations:X.clinicalConsiderations,aiPlanKeyMaterials:X.keyMaterials,aiOutputPostTreatmentCare:j.postTreatmentCare}),{title:X.planName,description:j.clinicalAssessment||"",planDetails:{planName:X.planName,clinicalProtocol:X.clinicalProtocol,keyMaterials:X.keyMaterials,clinicalConsiderations:X.clinicalConsiderations,expectedOutcomes:X.expectedOutcomes,appointmentPlan:X.appointmentPlan||((ie=X.planDetails)==null?void 0:ie.appointmentPlan),isPatientSelected:D},caseOverview:j.caseOverview,patientFactors:j.patientFactors,recommendedInvestigations:j.recommendedInvestigations,clinicalRationale:j.clinicalRationale,postTreatmentCare:j.postTreatmentCare||""}});x(H)}catch(L){clearTimeout(O),console.error("Error generating suggestions:",L),L instanceof Error&&L.name==="AbortError"?g({title:"Request Timed Out",description:"The AI suggestion service took too long to respond (120 seconds).",variant:"destructive"}):g({title:"Generation Failed",description:L instanceof Error?L.message:"Failed to generate suggestions",variant:"destructive"})}finally{h(!1)}},disabled:d||!i,className:`ai-insights-button ${f?"opacity-100 cursor-not-allowed":""}`,style:f?{opacity:1}:{},children:f?w(Sr,{children:[c(B0,{className:"mr-2 h-4 w-4 animate-spin"}),"AI is thinking... (this may take up to 2 minutes)"]}):w(Sr,{children:[c(B0,{className:"mr-2 h-4 w-4"}),"Generate AI Suggestions"]})})}),m.length>0&&w("div",{className:"mt-4 space-y-4",children:[c("h4",{className:"font-semibold text-sm",children:"Generated Treatment Plans"}),c("div",{className:"space-y-4",children:m.map((E,O)=>w("div",{className:Rt("border rounded-lg overflow-hidden bg-card",E.planDetails.isPatientSelected&&"border-primary/50 bg-primary/5"),children:[c("div",{className:"p-4 bg-muted/50",children:w("div",{className:"flex items-start justify-between",children:[w("div",{children:[w("h5",{className:"font-medium text-base",children:[E.title," ",E.planDetails.isPatientSelected&&c("span",{className:"ml-2 text-xs text-primary font-normal",children:"(Patient Selected Plan)"})]}),E.caseOverview&&w("div",{className:"mt-1 text-xs text-muted-foreground",children:[w("p",{children:[c("strong",{children:"Condition:"})," ",E.caseOverview.condition]}),w("p",{children:[c("strong",{children:"Severity:"})," ",E.caseOverview.severity]}),w("p",{children:[c("strong",{children:"Teeth:"})," ",E.caseOverview.teethInvolved]}),E.caseOverview.patientSymptoms&&w("p",{children:[c("strong",{children:"Symptoms:"})," ",E.caseOverview.patientSymptoms]}),E.caseOverview.patientSelectedTreatment&&w("p",{children:[c("strong",{children:"Patient Preference:"})," ",E.caseOverview.patientSelectedTreatment]})]})]}),E.planDetails.isPatientSelected&&c(Fe,{type:"button",variant:"outline",size:"sm",onClick:()=>u(E),children:"Apply This Plan"})]})}),w($D,{type:"single",collapsible:!0,className:"w-full",children:[w($d,{value:"clinical-assessment",children:[c(Bd,{className:"px-4",children:"Overall Clinical Assessment"}),c(Ud,{className:"px-4 pb-4",children:c("p",{className:"text-sm text-muted-foreground whitespace-pre-line",children:E.description})})]}),E.patientFactors&&w($d,{value:"patient-factors",children:[c(Bd,{className:"px-4",children:"Patient Factors"}),w(Ud,{className:"px-4 pb-4 text-sm space-y-1",children:[w("p",{children:[c("strong",{children:"Relevant Medical Conditions:"})," ",E.patientFactors.relevantMedicalConditions]}),w("p",{children:[c("strong",{children:"Medication Considerations:"})," ",E.patientFactors.medicationConsiderations]}),w("p",{children:[c("strong",{children:"Age-Related Considerations:"})," ",E.patientFactors.ageRelatedConsiderations]})]})]}),E.recommendedInvestigations&&w($d,{value:"recommended-investigations",children:[c(Bd,{className:"px-4",children:"Recommended Investigations"}),c(Ud,{className:"px-4 pb-4 text-sm",children:c("p",{children:E.recommendedInvestigations})})]}),w($d,{value:"plan-details",children:[w(Bd,{className:"px-4",children:["Details for: ",E.planDetails.planName]}),c(Ud,{className:"px-4 pb-4",children:w("div",{className:"space-y-3 text-sm",children:[w("div",{children:[c("p",{className:"font-medium",children:"Clinical Protocol:"}),c("p",{className:"text-muted-foreground whitespace-pre-line",children:E.planDetails.clinicalProtocol})]}),w("div",{children:[c("p",{className:"font-medium",children:"Key Materials:"}),c("p",{className:"text-muted-foreground",children:E.planDetails.keyMaterials})]}),w("div",{children:[c("p",{className:"font-medium",children:"Clinical Considerations:"}),c("p",{className:"text-muted-foreground whitespace-pre-line",children:E.planDetails.clinicalConsiderations})]}),w("div",{children:[c("p",{className:"font-medium",children:"Expected Outcomes:"}),c("p",{className:"text-muted-foreground whitespace-pre-line",children:E.planDetails.expectedOutcomes})]})]})})]}),E.planDetails.appointmentPlan&&w($d,{value:"appointment-plan",children:[c(Bd,{className:"px-4",children:w("span",{className:"flex items-center",children:[c(Lo,{className:"mr-2 h-4 w-4"}),"Appointment Plan"]})}),c(Ud,{className:"px-4 pb-4",children:w("div",{className:"space-y-3 text-sm",children:[w("div",{className:"flex items-center gap-4 text-muted-foreground mb-2",children:[w("div",{children:[c(sl,{className:"h-4 w-4 inline mr-1"}),w("span",{children:["Total Sittings: ",E.planDetails.appointmentPlan.totalSittings]})]}),w("div",{children:[c(Lo,{className:"h-4 w-4 inline mr-1"}),w("span",{children:["Total Duration: ",E.planDetails.appointmentPlan.totalTreatmentTime]})]})]}),E.planDetails.appointmentPlan.medicalPrecautions&&w("div",{className:"mb-3",children:[c("p",{className:"font-medium",children:"Medical Precautions:"}),c("p",{className:"text-muted-foreground whitespace-pre-line",children:E.planDetails.appointmentPlan.medicalPrecautions})]}),c("div",{className:"space-y-2",children:E.planDetails.appointmentPlan.sittingDetails.map((P,I)=>w("div",{className:"border rounded p-3 bg-background",children:[w("p",{className:"font-medium",children:["Visit ",P.visit]}),c("p",{className:"text-muted-foreground mt-1",children:P.procedures}),w("div",{className:"mt-2 text-xs text-muted-foreground flex items-center gap-3",children:[w("p",{className:"flex items-center",children:[c(sl,{className:"h-3 w-3 mr-1"}),"Duration: ",P.estimatedDuration]}),P.timeGap!=="N/A"&&w("p",{className:"flex items-center",children:[c(Lo,{className:"h-3 w-3 mr-1"}),"Next visit in: ",P.timeGap]})]})]},I))})]})})]}),E.clinicalRationale&&w($d,{value:"clinical-rationale",children:[c(Bd,{className:"px-4",children:"Clinical Rationale"}),c(Ud,{className:"px-4 pb-4 text-sm",children:c("p",{className:"whitespace-pre-line",children:E.clinicalRationale})})]}),w($d,{value:"post-care",children:[c(Bd,{className:"px-4",children:"Post-Treatment Care"}),c(Ud,{className:"px-4 pb-4",children:c("p",{className:"text-sm text-muted-foreground",children:E.postTreatmentCare})})]})]})]},O))})]})]})}const $Ie=je.object({symptoms:je.string().min(1,"Symptoms are required"),description:je.string().min(1,"Description is required"),patient_id:je.string().min(1,"Patient is required"),domain:je.string().optional(),condition:je.string().optional(),treatment:je.string().min(1,"Select a treatment").optional(),estimated_duration:je.string().optional(),total_visits:je.string().optional(),materials:je.string().optional(),clinical_considerations:je.string().optional(),post_treatment_care:je.string().optional(),status:je.string().optional(),start_date:je.string().optional(),priority:je.string().optional(),ai_generated:je.boolean().optional(),initialTreatments:je.array(je.any()).optional(),originalAISuggestion:je.any().optional()});function BIe({open:e,onOpenChange:t,onSubmit:r,patients:n,loading:a=!1,initialData:i}){const[o,s]=A.useState(""),[l,u]=A.useState(null),[d,f]=A.useState(!1),[h,m]=A.useState(null),[x,g]=A.useState(null),[y,_]=A.useState(null),[b,S]=A.useState(!1),[C,E]=A.useState([]),[O,P]=A.useState(!1),[I,L]=A.useState([]),[U,T]=A.useState(Date.now()),[F,j]=A.useState({}),[H,X]=A.useState([]),[re,z]=A.useState([]),[G,q]=A.useState([]),[K,J]=A.useState(!1),[D,Y]=A.useState(null),[Q,ie]=A.useState(!1),[se,te]=A.useState([]),[de,Z]=A.useState(!1),[ce,oe]=A.useState(!1),[ae,Ne]=A.useState(null),{toast:Ie}=yn(),Te=A.useRef(null),he=ld({resolver:cd($Ie),defaultValues:{symptoms:"",description:"",patient_id:"",domain:"",condition:"",treatment:"",estimated_duration:"",total_visits:"",materials:"",clinical_considerations:"",post_treatment_care:""}});A.useEffect(()=>{e?he.reset({symptoms:"",description:"",patient_id:x||"",domain:"",condition:"",treatment:"",estimated_duration:"",total_visits:"",materials:"",clinical_considerations:"",post_treatment_care:""}):(E([]),g(null),u(null),s(""),Y(null),te([]),Z(!1),_(null),Ne(null),S(!1),he.reset(),P(!1),L([]))},[e,x]),A.useEffect(()=>{e&&(async()=>{J(!0);try{const qe=await zt.getTreatmentMatrixOptions();X(qe);const Nt=[...new Set(qe.map(Je=>Je.domain))].sort();z(Nt),q([])}catch(qe){console.error("Failed to fetch treatment options:",qe)}finally{J(!1)}})()},[e]);const Ge=he.watch("domain"),mt=he.watch("condition");A.useEffect(()=>{if(console.log(`Domain changed to: ${Ge}. Full matrix options:`,H),Ge){const Re=H.filter(qe=>qe.domain===Ge).map(qe=>qe.condition).sort();console.log(`Filtered conditions for ${Ge}:`,Re),q(Re),mt&&!Re.includes(mt)&&(he.setValue("condition",""),Y(null))}else q([]),he.setValue("condition",""),Y(null),te([])},[Ge,H,mt,he]),A.useEffect(()=>{if(!Ge||!mt){Y(null);return}(async()=>{ie(!0),Y(null);try{const qe=await zt.getMatrixDetails(Ge,mt);Y(qe)}catch(qe){console.error(`Failed to fetch matrix details for ${Ge}/${mt}:`,qe),Y(null),te([])}finally{ie(!1)}})()},[Ge,mt]);const ht=Re=>{he.setValue("domain",Re),he.setValue("condition",""),Y(null),te([])},Pt=Re=>{he.setValue("condition",Re),Y(null),te([])},ft=async Re=>{g(Re.id),u(`${Re.first_name||""} ${Re.last_name||""}`.trim()),he.setValue("patient_id",Re.id,{shouldValidate:!0}),s(""),j({}),E([]),_(null),S(!0);try{console.log(`Fetching full patient details for patient: ${Re.id}`);const qe=await zt.patients.getById(Re.id);_(qe),console.log("Fetched full patient record:",qe),console.log(`Fetching tooth conditions for patient: ${Re.id}`);const Nt=await zt.patients.getPatientToothConditions(Re.id);console.log("Fetched conditions data:",Nt);const Je={},lt=[];Nt.forEach(sr=>{const Kt=Array.isArray(sr.conditions)?sr.conditions.filter(ln=>typeof ln=="string"&&["healthy","decayed","filled","missing","treatment-planned","root-canal","extraction","crown","has-treatment-before","recommended-to-be-treated"].includes(ln)):[],Tr=Kt.length>0?Kt:["healthy"],Kr=Tr.length>1||Tr.length===1&&Tr[0]!=="healthy";sr.tooth_id&&(Je[sr.tooth_id]={conditions:Tr,isSelected:Kr},Kr&&lt.push(sr.tooth_id))}),console.log("Formatted initialState for chart:",Je),console.log("Initially selected IDs based on conditions:",lt),j(Je),E(lt)}catch(qe){console.error("Failed to fetch patient details or tooth conditions:",qe),Ie({title:"Error Loading Patient Data",description:"Could not load patient details or tooth conditions.",variant:"destructive"}),_(null),j({}),E([])}finally{S(!1)}},_e=Re=>{L(Re)},Ce=async()=>{if(!Te.current||!x){console.error("Dental chart ref not available or no patient selected."),Ie({title:"Error",description:"Could not save chart data. Please try again.",variant:"destructive"});return}oe(!0);try{const Re=Te.current.getTeethData();console.log("Data from chart ref:",Re);const qe=Object.entries(Re).filter(([,lt])=>{const sr=lt.isSelected,Kt=Array.isArray(lt.conditions)&&lt.conditions.length===1&&lt.conditions[0]==="healthy";return sr&&!Kt}).map(([lt,sr])=>({tooth_id:parseInt(lt,10),conditions:sr.conditions,patient_id:x}));console.log("Filtered and transformed data to save (only selected & non-healthy):",qe),await zt.patients.savePatientToothConditionsDetailed(x,qe);const Nt=Object.entries(Re).filter(([,lt])=>lt.isSelected).map(([lt])=>parseInt(lt,10));E(Nt);const Je={};Object.entries(Re).forEach(([lt,sr])=>{Je[parseInt(lt,10)]={conditions:sr.conditions,isSelected:sr.isSelected}}),j(Je),Ie({title:"Chart Saved",description:"Patient's tooth conditions have been updated.",variant:"default"}),P(!1)}catch(Re){console.error("Failed to save tooth conditions:",Re),Ie({title:"Save Failed",description:"Could not save tooth conditions to the database.",variant:"destructive"})}finally{oe(!1)}},ze=()=>{if(!x){Ie({title:"No Patient Selected",description:"Please select a patient before opening the dental chart.",variant:"default"});return}console.log("Opening chart dialog with prepared initial state:",F),L([...C]),T(Date.now()),P(!0)};A.useEffect(()=>{console.log("isChartDialogOpen state changed:",O)},[O]);const gt=async Re=>{if(!x){Ie({title:"Patient Not Selected",description:"Please select a patient before submitting.",variant:"destructive"});return}let qe={...Re};qe.symptoms&&(qe.title=qe.symptoms,delete qe.symptoms),delete qe.patient_name,ae?qe.originalAISuggestion=ae:qe.ai_generated=!1;try{await r(qe,C),he.reset(),Ne(null),t(!1)}catch(Nt){console.error("Error submitting treatment plan form:",Nt),Ie({title:"Submission Error",description:"Failed to save the treatment plan. Please try again.",variant:"destructive"})}};A.useCallback(async()=>{if(!x||C.length===0||!Ge||!mt||!y){Ie({title:"Missing Information",description:"Please select patient, teeth, domain, and condition first.",variant:"default",duration:3e3});return}Z(!0),te([]);try{const Re="https://n8n1.kol.tel/webhook/2169736a-368b-49b5-b93f-ffc215203d99",qe={patientId:x,toothIds:C,domain:Ge,condition:mt,details:D,treatment:he.getValues("treatment"),patientRecord:y};console.log("Sending payload to n8n:",qe);const Nt=await fetch(Re,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(qe)});if(!Nt.ok){const sr=await Nt.text();throw console.error("Error response from n8n webhook:",Nt.status,sr),new Error(`AI suggestion call failed: ${Nt.status}`)}const Je=await Nt.json();console.log("Received response from n8n:",Je);const lt=Je;if(Array.isArray(lt)&&lt.length>0){const sr=lt.filter(Kt=>Kt&&typeof Kt=="object"&&Kt.title&&Kt.description);te(sr),Ie({title:"AI Suggestions Ready",description:`Received ${sr.length} suggestions.`,variant:"default",duration:3e3})}else console.warn("Received empty or invalid suggestions array from n8n:",Je),te([]),Ie({title:"No Suggestions",description:"The AI did not return any suggestions for this case.",variant:"default",duration:3e3})}catch(Re){console.error("Error fetching AI suggestions:",Re),Ie({title:"AI Suggestion Failed",description:Re instanceof Error?Re.message:"Could not get suggestions. Check console.",variant:"destructive",duration:5e3}),te([])}finally{Z(!1)}},[x,C,Ge,mt,D,he,Ie,y]);const pt=Re=>{var qe,Nt,Je,lt,sr,Kt;if(Ne(Re),he.setValue("symptoms",Re.title),he.setValue("description",Re.description),(qe=Re.planDetails)!=null&&qe.clinicalConsiderations&&he.setValue("clinical_considerations",Re.planDetails.clinicalConsiderations),Re.postTreatmentCare&&he.setValue("post_treatment_care",Re.postTreatmentCare),(Nt=Re.planDetails)!=null&&Nt.keyMaterials&&he.setValue("materials",Re.planDetails.keyMaterials),(lt=(Je=Re.planDetails)==null?void 0:Je.appointmentPlan)!=null&&lt.totalSittings&&he.setValue("total_visits",Re.planDetails.appointmentPlan.totalSittings),(Kt=(sr=Re.planDetails)==null?void 0:sr.appointmentPlan)!=null&&Kt.totalTreatmentTime&&he.setValue("estimated_duration",Re.planDetails.appointmentPlan.totalTreatmentTime),D!=null&&D.treatment_options&&Array.isArray(D.treatment_options)&&Re.title){const Tr=D.treatment_options.find(Kr=>Re.title.toLowerCase().includes(Kr.toLowerCase()));Tr&&he.setValue("treatment",Tr)}he.setValue("ai_generated",!0),Ie({title:"AI Suggestion Applied",description:`"${Re.title}" has been pre-filled into the form.`})};return w(Sr,{children:[c($a,{open:e,onOpenChange:t,children:w(Ta,{className:"max-w-lg max-h-[90vh] overflow-y-auto",children:[w(Oa,{children:[c(Da,{children:"Create New Treatment Plan"}),c(Yi,{children:"Create a comprehensive treatment plan for a patient"})]}),c(Rh,{...he,children:w("form",{onSubmit:he.handleSubmit(gt),className:"space-y-4 pb-6",children:[c(He,{control:he.control,name:"patient_id",render:({field:Re})=>w(De,{className:"relative",children:[c(Oe,{htmlFor:"patient-search",children:"Patient *"}),c(Me,{children:c(ct,{type:"search",id:"patient-search",value:o,onChange:qe=>{s(qe.target.value),u(null)},placeholder:l||"Search by name, phone, or registration...",disabled:d,className:"w-full"})}),d&&c("p",{className:"text-sm text-muted-foreground mt-1",children:"Loading patients..."}),h&&c("p",{className:"text-sm text-destructive mt-1",children:h}),o&&!d&&!h&&c(tu,{className:"absolute z-10 w-full bg-background border rounded-md shadow-lg mt-1 max-h-60",children:c("div",{className:"p-2",children:n.filter(qe=>{var Kt,Tr;const Nt=`${qe.first_name||""} ${qe.last_name||""}`.toLowerCase(),Je=((Kt=qe.phone)==null?void 0:Kt.toLowerCase())||"",lt=((Tr=qe.registration_number)==null?void 0:Tr.toLowerCase())||"",sr=o.toLowerCase();return Nt.includes(sr)||Je.includes(sr)||lt.includes(sr)}).length>0?n.filter(qe=>{var Kt,Tr;const Nt=`${qe.first_name||""} ${qe.last_name||""}`.toLowerCase(),Je=((Kt=qe.phone)==null?void 0:Kt.toLowerCase())||"",lt=((Tr=qe.registration_number)==null?void 0:Tr.toLowerCase())||"",sr=o.toLowerCase();return Nt.includes(sr)||Je.includes(sr)||lt.includes(sr)}).map(qe=>c(Fe,{variant:"ghost",className:"w-full justify-start text-left h-auto py-2 px-3 mb-1",onClick:()=>ft(qe),type:"button",children:w("div",{children:[c("div",{children:`${qe.first_name||""} ${qe.last_name||""}`.trim()}),w("div",{className:"text-xs text-muted-foreground",children:[qe.registration_number&&`Reg: ${qe.registration_number}`,qe.registration_number&&qe.phone&&" | ",qe.phone&&`Ph: ${qe.phone}`]})]})},qe.id)):w("p",{className:"text-sm text-muted-foreground p-2",children:['No patients found matching "',o,'"']})})}),c(Ze,{})]})}),w(De,{children:[c(Oe,{children:"Affected Teeth & Conditions"}),w("div",{className:"flex items-center gap-4",children:[w(Fe,{type:"button",variant:"outline",onClick:ze,children:[c(K8,{className:"mr-2 h-4 w-4"})," ","Select Teeth..."]}),c("div",{className:"text-sm text-muted-foreground flex-grow min-w-0",children:C.length>0?w("span",{className:"truncate",children:["Selected: ",C.sort((Re,qe)=>Re-qe).join(", ")]}):"No teeth selected"})]}),c(Ze,{})]}),C.length>0&&w(Sr,{children:[c(He,{control:he.control,name:"domain",render:({field:Re})=>w(De,{children:[c(Oe,{children:"Domain"}),w(zr,{onValueChange:ht,value:Re.value||"",disabled:K,children:[c(Me,{children:c($r,{children:c(Wr,{placeholder:K?"Loading...":"Select domain"})})}),c(Br,{children:K?c(_t,{value:"loading",disabled:!0,children:"Loading..."}):re.map(qe=>c(_t,{value:qe,children:qe.charAt(0).toUpperCase()+qe.slice(1)},qe))})]}),c(Ze,{})]})}),c(He,{control:he.control,name:"condition",render:({field:Re})=>w(De,{children:[c(Oe,{children:"Condition"}),w(zr,{onValueChange:Pt,value:Re.value||"",disabled:K,children:[c(Me,{children:c($r,{children:c(Wr,{placeholder:K?"Loading...":"Select condition"})})}),c(Br,{children:K?c(_t,{value:"loading",disabled:!0,children:"Loading..."}):G.map(qe=>c(_t,{value:qe,children:qe.charAt(0).toUpperCase()+qe.slice(1)},qe))})]}),c(Ze,{})]})}),Q&&c("div",{className:"text-sm text-muted-foreground p-2 border rounded-md",children:"Loading details..."}),!Q&&D&&w("div",{className:"mt-4 p-3 border rounded-md bg-secondary/10 space-y-2 text-sm",children:[w("h4",{className:"font-semibold text-base mb-2",children:["Details for ",Ge," / ",mt]}),D.urgency&&w("p",{children:[c("strong",{children:"Urgency:"})," ",D.urgency]}),D.severity&&w("p",{children:[c("strong",{children:"Severity:"})," ",D.severity]}),D.risk_impact&&w("p",{children:[c("strong",{children:"Risk/Impact:"})," ",D.risk_impact]}),D.recommended_investigations&&D.recommended_investigations.length>0&&w("p",{children:[c("strong",{children:"Investigations:"})," ",D.recommended_investigations.join(", ")]}),D.treatment_options&&D.treatment_options.length>0&&w("div",{className:"mt-3",children:[c("p",{className:"font-semibold mb-1",children:"Select Treatment:"}),c(He,{control:he.control,name:"treatment",render:({field:Re})=>w("div",{className:"space-y-1 ml-1",children:[D.treatment_options.map(qe=>w("label",{className:"flex items-center gap-2",children:[c("input",{type:"radio",value:qe,checked:Re.value===qe,onChange:Nt=>{Nt.target.checked&&Re.onChange(qe)}}),c("span",{children:qe})]},qe)),c(Ze,{})]})})]}),w("div",{className:"mt-4 pt-4 border-t space-y-4",children:[c(He,{control:he.control,name:"symptoms",render:({field:Re})=>w(De,{children:[c(Oe,{children:"Symptoms *"}),c(Me,{children:c(ct,{placeholder:"Enter patient symptoms",...Re})}),c(Ze,{})]})}),c(He,{control:he.control,name:"description",render:({field:Re})=>w(De,{children:[c(Oe,{children:"Description *"}),c(Me,{children:c(Jr,{placeholder:"Detailed description of the treatment plan",...Re,rows:3})}),c(Ze,{})]})}),c("div",{className:"mt-4",children:c(jIe,{patientId:x||"",toothIds:C,domain:he.watch("domain")||"",condition:he.watch("condition")||"",matrixDetails:D,selectedTreatment:he.watch("treatment")||"",symptoms:he.watch("symptoms")||"",description:he.watch("description")||"",patientRecord:y,onSuggestionApply:pt,disabled:!x||C.length===0||!he.watch("treatment")||!y||b||de})})]})]}),!Q&&Ge&&mt&&!D&&c("div",{className:"text-sm text-muted-foreground p-2 border rounded-md border-dashed",children:"No details found for this combination."})]}),D&&w(Sr,{children:[c(He,{control:he.control,name:"estimated_duration",render:({field:Re})=>w(De,{children:[c(Oe,{children:"Estimated Duration"}),c(Me,{children:c(ct,{...Re,placeholder:"e.g., 3-4 weeks"})}),c(Ze,{})]})}),c(He,{control:he.control,name:"total_visits",render:({field:Re})=>w(De,{children:[c(Oe,{children:"Total Visits"}),c(Me,{children:c(ct,{...Re,placeholder:"e.g., 2"})}),c(Ze,{})]})}),c(He,{control:he.control,name:"materials",render:({field:Re})=>w(De,{children:[c(Oe,{children:"Required Materials"}),c(Me,{children:c(Jr,{...Re,placeholder:"List of required materials",className:"min-h-[80px]"})}),c(Ze,{})]})}),c(He,{control:he.control,name:"clinical_considerations",render:({field:Re})=>w(De,{children:[c(Oe,{children:"Clinical Considerations"}),c(Me,{children:c(Jr,{...Re,placeholder:"Important clinical considerations",className:"min-h-[80px]"})}),c(Ze,{})]})}),c(He,{control:he.control,name:"post_treatment_care",render:({field:Re})=>w(De,{children:[c(Oe,{children:"Post-Treatment Care"}),c(Me,{children:c(Jr,{...Re,placeholder:"Post-treatment care instructions",className:"min-h-[80px]"})}),c(Ze,{})]})})]}),w(Ji,{children:[c(Fe,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),w(Fe,{type:"submit",disabled:a,children:[a?c(Zn,{className:"mr-2 h-4 w-4 animate-spin"}):c(Xc,{className:"mr-2 h-4 w-4"}),"Create Plan"]})]})]})})]})}),c($a,{open:O,onOpenChange:P,children:w(Ta,{className:"max-w-2xl",children:[" ",w(Oa,{children:[c(Da,{children:"Select Affected Teeth & Apply Conditions"}),c(Yi,{children:"Click teeth to select/deselect. Use buttons below to apply conditions to selected teeth."})]}),c(O3,{ref:Te,initialState:F,onToothSelect:_e},U),w(Ji,{children:[c(Fe,{variant:"outline",onClick:()=>P(!1),disabled:ce,children:"Cancel"}),w(Fe,{onClick:Ce,disabled:ce,children:[ce?c(Zn,{className:"mr-2 h-4 w-4 animate-spin"}):c(Pce,{className:"mr-2 h-4 w-4"}),"Confirm & Save Chart"]})]})]})})]})}var D3="Popover",[_re,UJe]=Qi(D3,[Em]),Zw=Em(),[UIe,Fm]=_re(D3),bre=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,s=Zw(t),l=A.useRef(null),[u,d]=A.useState(!1),[f,h]=ul({prop:n,defaultProp:a??!1,onChange:i,caller:D3});return c(g4,{...s,children:c(UIe,{scope:t,contentId:Rl(),triggerRef:l,open:f,onOpenChange:h,onOpenToggle:A.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:u,onCustomAnchorAdd:A.useCallback(()=>d(!0),[]),onCustomAnchorRemove:A.useCallback(()=>d(!1),[]),modal:o,children:r})})};bre.displayName=D3;var Sre="PopoverAnchor",qIe=A.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Fm(Sre,r),i=Zw(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:s}=a;return A.useEffect(()=>(o(),()=>s()),[o,s]),c(Dw,{...i,...n,ref:t})});qIe.displayName=Sre;var Are="PopoverTrigger",kre=A.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Fm(Are,r),i=Zw(r),o=Vr(t,a.triggerRef),s=c(pr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Tre(a.open),...n,ref:o,onClick:qt(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?s:c(Dw,{asChild:!0,...i,children:s})});kre.displayName=Are;var wR="PopoverPortal",[zIe,WIe]=_re(wR,{forceMount:void 0}),Nre=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,i=Fm(wR,t);return c(zIe,{scope:t,forceMount:r,children:c(as,{present:r||i.open,children:c(uy,{asChild:!0,container:a,children:n})})})};Nre.displayName=wR;var Q1="PopoverContent",Ere=A.forwardRef((e,t)=>{const r=WIe(Q1,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,i=Fm(Q1,e.__scopePopover);return c(as,{present:n||i.open,children:i.modal?c(HIe,{...a,ref:t}):c(GIe,{...a,ref:t})})});Ere.displayName=Q1;var VIe=sm("PopoverContent.RemoveScroll"),HIe=A.forwardRef((e,t)=>{const r=Fm(Q1,e.__scopePopover),n=A.useRef(null),a=Vr(t,n),i=A.useRef(!1);return A.useEffect(()=>{const o=n.current;if(o)return x4(o)},[]),c(Rw,{as:VIe,allowPinchZoom:!0,children:c(Cre,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:qt(e.onCloseAutoFocus,o=>{var s;o.preventDefault(),i.current||(s=r.triggerRef.current)==null||s.focus()}),onPointerDownOutside:qt(e.onPointerDownOutside,o=>{const s=o.detail.originalEvent,l=s.button===0&&s.ctrlKey===!0,u=s.button===2||l;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:qt(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),GIe=A.forwardRef((e,t)=>{const r=Fm(Q1,e.__scopePopover),n=A.useRef(!1),a=A.useRef(!1);return c(Cre,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,s;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(s=r.triggerRef.current)==null||s.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var l,u;(l=e.onInteractOutside)==null||l.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),Cre=A.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:u,onInteractOutside:d,...f}=e,h=Fm(Q1,r),m=Zw(r);return d4(),c(Tw,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:c(Sg,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:c(v4,{"data-state":Tre(h.open),role:"dialog",id:h.contentId,...m,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Pre="PopoverClose",YIe=A.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Fm(Pre,r);return c(pr.button,{type:"button",...n,ref:t,onClick:qt(e.onClick,()=>a.onOpenChange(!1))})});YIe.displayName=Pre;var KIe="PopoverArrow",XIe=A.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Zw(r);return c(y4,{...a,...n,ref:t})});XIe.displayName=KIe;function Tre(e){return e?"open":"closed"}var ZIe=bre,JIe=kre,QIe=Nre,Ore=Ere;const hg=ZIe,pg=JIe,vm=A.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>c(QIe,{children:c(Ore,{ref:a,align:t,sideOffset:r,className:Rt("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));vm.displayName=Ore.displayName;var nn=function(){return nn=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},nn.apply(this,arguments)};function eRe(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function Dre(e,t,r){for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function Jw(e){return e.mode==="multiple"}function Qw(e){return e.mode==="range"}function I3(e){return e.mode==="single"}var tRe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function rRe(e,t){return Lt(e,"LLLL y",t)}function nRe(e,t){return Lt(e,"d",t)}function aRe(e,t){return Lt(e,"LLLL",t)}function iRe(e){return"".concat(e)}function oRe(e,t){return Lt(e,"cccccc",t)}function sRe(e,t){return Lt(e,"yyyy",t)}var lRe=Object.freeze({__proto__:null,formatCaption:rRe,formatDay:nRe,formatMonthCaption:aRe,formatWeekNumber:iRe,formatWeekdayName:oRe,formatYearCaption:sRe}),cRe=function(e,t,r){return Lt(e,"do MMMM (EEEE)",r)},uRe=function(){return"Month: "},dRe=function(){return"Go to next month"},fRe=function(){return"Go to previous month"},hRe=function(e,t){return Lt(e,"cccc",t)},pRe=function(e){return"Week n. ".concat(e)},mRe=function(){return"Year: "},gRe=Object.freeze({__proto__:null,labelDay:cRe,labelMonthDropdown:uRe,labelNext:dRe,labelPrevious:fRe,labelWeekNumber:pRe,labelWeekday:hRe,labelYearDropdown:mRe});function vRe(){var e="buttons",t=tRe,r=jw,n={},a={},i=1,o={},s=new Date;return{captionLayout:e,classNames:t,formatters:lRe,labels:gRe,locale:r,modifiersClassNames:n,modifiers:a,numberOfMonths:i,styles:o,today:s,mode:"default"}}function yRe(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,a=e.toMonth,i=e.fromDate,o=e.toDate;return n?i=$o(n):t&&(i=new Date(t,0,1)),a?o=dm(a):r&&(o=new Date(r,11,31)),{fromDate:i?Pl(i):void 0,toDate:o?Pl(o):void 0}}var Ire=A.createContext(void 0);function xRe(e){var t,r=e.initialProps,n=vRe(),a=yRe(r),i=a.fromDate,o=a.toDate,s=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;s!=="buttons"&&(!i||!o)&&(s="buttons");var l;(I3(r)||Jw(r)||Qw(r))&&(l=r.onSelect);var u=nn(nn(nn({},n),r),{captionLayout:s,classNames:nn(nn({},n.classNames),r.classNames),components:nn({},r.components),formatters:nn(nn({},n.formatters),r.formatters),fromDate:i,labels:nn(nn({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:nn(nn({},n.modifiers),r.modifiers),modifiersClassNames:nn(nn({},n.modifiersClassNames),r.modifiersClassNames),onSelect:l,styles:nn(nn({},n.styles),r.styles),toDate:o});return c(Ire.Provider,{value:u,children:e.children})}function Ba(){var e=A.useContext(Ire);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function Rre(e){var t=Ba(),r=t.locale,n=t.classNames,a=t.styles,i=t.formatters.formatCaption;return c("div",{className:n.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:r})})}function wRe(e){return c("svg",nn({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:c("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Mre(e){var t,r,n=e.onChange,a=e.value,i=e.children,o=e.caption,s=e.className,l=e.style,u=Ba(),d=(r=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:wRe;return w("div",{className:s,style:l,children:[c("span",{className:u.classNames.vhidden,children:e["aria-label"]}),c("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:a,onChange:n,children:i}),w("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[o,c(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function _Re(e){var t,r=Ba(),n=r.fromDate,a=r.toDate,i=r.styles,o=r.locale,s=r.formatters.formatMonthCaption,l=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!n)return c(Sr,{});if(!a)return c(Sr,{});var f=[];if(Uve(n,a))for(var h=$o(n),m=n.getMonth();m<=a.getMonth();m++)f.push(wk(h,m));else for(var h=$o(new Date),m=0;m<=11;m++)f.push(wk(h,m));var x=function(y){var _=Number(y.target.value),b=wk($o(e.displayMonth),_);e.onChange(b)},g=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:Mre;return c(g,{name:"months","aria-label":d(),className:l.dropdown_month,style:i.dropdown_month,onChange:x,value:e.displayMonth.getMonth(),caption:s(e.displayMonth,{locale:o}),children:f.map(function(y){return c("option",{value:y.getMonth(),children:s(y,{locale:o})},y.getMonth())})})}function bRe(e){var t,r=e.displayMonth,n=Ba(),a=n.fromDate,i=n.toDate,o=n.locale,s=n.styles,l=n.classNames,u=n.components,d=n.formatters.formatYearCaption,f=n.labels.labelYearDropdown,h=[];if(!a)return c(Sr,{});if(!i)return c(Sr,{});for(var m=a.getFullYear(),x=i.getFullYear(),g=m;g<=x;g++)h.push(fL(bK(new Date),g));var y=function(b){var S=fL($o(r),Number(b.target.value));e.onChange(S)},_=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:Mre;return c(_,{name:"years","aria-label":f(),className:l.dropdown_year,style:s.dropdown_year,onChange:y,value:r.getFullYear(),caption:d(r,{locale:o}),children:h.map(function(b){return c("option",{value:b.getFullYear(),children:d(b,{locale:o})},b.getFullYear())})})}function SRe(e,t){var r=A.useState(e),n=r[0],a=r[1],i=t===void 0?n:t;return[i,a]}function ARe(e){var t=e.month,r=e.defaultMonth,n=e.today,a=t||r||n||new Date,i=e.toDate,o=e.fromDate,s=e.numberOfMonths,l=s===void 0?1:s;if(i&&_1(i,a)<0){var u=-1*(l-1);a=dl(i,u)}return o&&_1(a,o)<0&&(a=o),$o(a)}function kRe(){var e=Ba(),t=ARe(e),r=SRe(t,e.month),n=r[0],a=r[1],i=function(o){var s;if(!e.disableNavigation){var l=$o(o);a(l),(s=e.onMonthChange)===null||s===void 0||s.call(e,l)}};return[n,i]}function NRe(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,a=$o(e),i=$o(dl(a,n)),o=_1(i,a),s=[],l=0;l<o;l++){var u=dl(a,l);s.push(u)}return r&&(s=s.reverse()),s}function ERe(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=n?i:1,s=$o(e);if(!r)return dl(s,o);var l=_1(r,e);if(!(l<i))return dl(s,o)}}function CRe(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=n?i:1,s=$o(e);if(!r)return dl(s,-o);var l=_1(s,r);if(!(l<=0))return dl(s,-o)}}var Fre=A.createContext(void 0);function PRe(e){var t=Ba(),r=kRe(),n=r[0],a=r[1],i=NRe(n,t),o=ERe(n,t),s=CRe(n,t),l=function(f){return i.some(function(h){return N4(f,h)})},u=function(f,h){l(f)||(h&&rh(f,h)?a(dl(f,1+t.numberOfMonths*-1)):a(f))},d={currentMonth:n,displayMonths:i,goToMonth:a,goToDate:u,previousMonth:s,nextMonth:o,isDateDisplayed:l};return c(Fre.Provider,{value:d,children:e.children})}function e_(){var e=A.useContext(Fre);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function Lz(e){var t,r=Ba(),n=r.classNames,a=r.styles,i=r.components,o=e_().goToMonth,s=function(d){o(dl(d,e.displayIndex?-e.displayIndex:0))},l=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:Rre,u=c(l,{id:e.id,displayMonth:e.displayMonth});return w("div",{className:n.caption_dropdowns,style:a.caption_dropdowns,children:[c("div",{className:n.vhidden,children:u}),c(_Re,{onChange:s,displayMonth:e.displayMonth}),c(bRe,{onChange:s,displayMonth:e.displayMonth})]})}function TRe(e){return c("svg",nn({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:c("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function ORe(e){return c("svg",nn({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:c("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var RS=A.forwardRef(function(e,t){var r=Ba(),n=r.classNames,a=r.styles,i=[n.button_reset,n.button];e.className&&i.push(e.className);var o=i.join(" "),s=nn(nn({},a.button_reset),a.button);return e.style&&Object.assign(s,e.style),c("button",nn({},e,{ref:t,type:"button",className:o,style:s}))});function DRe(e){var t,r,n=Ba(),a=n.dir,i=n.locale,o=n.classNames,s=n.styles,l=n.labels,u=l.labelPrevious,d=l.labelNext,f=n.components;if(!e.nextMonth&&!e.previousMonth)return c(Sr,{});var h=u(e.previousMonth,{locale:i}),m=[o.nav_button,o.nav_button_previous].join(" "),x=d(e.nextMonth,{locale:i}),g=[o.nav_button,o.nav_button_next].join(" "),y=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:ORe,_=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:TRe;return w("div",{className:o.nav,style:s.nav,children:[!e.hidePrevious&&c(RS,{name:"previous-month","aria-label":h,className:m,style:s.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?c(y,{className:o.nav_icon,style:s.nav_icon}):c(_,{className:o.nav_icon,style:s.nav_icon})}),!e.hideNext&&c(RS,{name:"next-month","aria-label":x,className:g,style:s.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?c(_,{className:o.nav_icon,style:s.nav_icon}):c(y,{className:o.nav_icon,style:s.nav_icon})})]})}function jz(e){var t=Ba().numberOfMonths,r=e_(),n=r.previousMonth,a=r.nextMonth,i=r.goToMonth,o=r.displayMonths,s=o.findIndex(function(x){return N4(e.displayMonth,x)}),l=s===0,u=s===o.length-1,d=t>1&&(l||!u),f=t>1&&(u||!l),h=function(){n&&i(n)},m=function(){a&&i(a)};return c(DRe,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:f,nextMonth:a,previousMonth:n,onPreviousClick:h,onNextClick:m})}function IRe(e){var t,r=Ba(),n=r.classNames,a=r.disableNavigation,i=r.styles,o=r.captionLayout,s=r.components,l=(t=s==null?void 0:s.CaptionLabel)!==null&&t!==void 0?t:Rre,u;return a?u=c(l,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?u=c(Lz,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?u=w(Sr,{children:[c(Lz,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),c(jz,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=w(Sr,{children:[c(l,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),c(jz,{displayMonth:e.displayMonth,id:e.id})]}),c("div",{className:n.caption,style:i.caption,children:u})}function RRe(e){var t=Ba(),r=t.footer,n=t.styles,a=t.classNames.tfoot;return r?c("tfoot",{className:a,style:n.tfoot,children:c("tr",{children:c("td",{colSpan:8,children:r})})}):c(Sr,{})}function MRe(e,t,r){for(var n=r?wh(new Date):ns(new Date,{locale:e,weekStartsOn:t}),a=[],i=0;i<7;i++){var o=La(n,i);a.push(o)}return a}function FRe(){var e=Ba(),t=e.classNames,r=e.styles,n=e.showWeekNumber,a=e.locale,i=e.weekStartsOn,o=e.ISOWeek,s=e.formatters.formatWeekdayName,l=e.labels.labelWeekday,u=MRe(a,i,o);return w("tr",{style:r.head_row,className:t.head_row,children:[n&&c("td",{style:r.head_cell,className:t.head_cell}),u.map(function(d,f){return c("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":l(d,{locale:a}),children:s(d,{locale:a})},f)})]})}function LRe(){var e,t=Ba(),r=t.classNames,n=t.styles,a=t.components,i=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:FRe;return c("thead",{style:n.head,className:r.head,children:c(i,{})})}function jRe(e){var t=Ba(),r=t.locale,n=t.formatters.formatDay;return c(Sr,{children:n(e.date,{locale:r})})}var _R=A.createContext(void 0);function $Re(e){if(!Jw(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return c(_R.Provider,{value:t,children:e.children})}return c(BRe,{initialProps:e.initialProps,children:e.children})}function BRe(e){var t=e.initialProps,r=e.children,n=t.selected,a=t.min,i=t.max,o=function(u,d,f){var h,m;(h=t.onDayClick)===null||h===void 0||h.call(t,u,d,f);var x=!!(d.selected&&a&&(n==null?void 0:n.length)===a);if(!x){var g=!!(!d.selected&&i&&(n==null?void 0:n.length)===i);if(!g){var y=n?Dre([],n):[];if(d.selected){var _=y.findIndex(function(b){return nl(u,b)});y.splice(_,1)}else y.push(u);(m=t.onSelect)===null||m===void 0||m.call(t,y,u,d,f)}}},s={disabled:[]};n&&s.disabled.push(function(u){var d=i&&n.length>i-1,f=n.some(function(h){return nl(h,u)});return!!(d&&!f)});var l={selected:n,onDayClick:o,modifiers:s};return c(_R.Provider,{value:l,children:r})}function bR(){var e=A.useContext(_R);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function URe(e,t){var r=t||{},n=r.from,a=r.to;return n&&a?nl(a,e)&&nl(n,e)?void 0:nl(a,e)?{from:a,to:void 0}:nl(n,e)?void 0:u6(n,e)?{from:e,to:a}:{from:n,to:e}:a?u6(e,a)?{from:a,to:e}:{from:e,to:a}:n?rh(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var SR=A.createContext(void 0);function qRe(e){if(!Qw(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return c(SR.Provider,{value:t,children:e.children})}return c(zRe,{initialProps:e.initialProps,children:e.children})}function zRe(e){var t=e.initialProps,r=e.children,n=t.selected,a=n||{},i=a.from,o=a.to,s=t.min,l=t.max,u=function(m,x,g){var y,_;(y=t.onDayClick)===null||y===void 0||y.call(t,m,x,g);var b=URe(m,n);(_=t.onSelect)===null||_===void 0||_.call(t,b,m,x,g)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(d.range_start=[i],o?(d.range_end=[o],nl(i,o)||(d.range_middle=[{after:i,before:o}])):d.range_end=[i]):o&&(d.range_start=[o],d.range_end=[o]),s&&(i&&!o&&d.disabled.push({after:yk(i,s-1),before:La(i,s-1)}),i&&o&&d.disabled.push({after:i,before:La(i,s-1)}),!i&&o&&d.disabled.push({after:yk(o,s-1),before:La(o,s-1)})),l){if(i&&!o&&(d.disabled.push({before:La(i,-l+1)}),d.disabled.push({after:La(i,l-1)})),i&&o){var f=Uu(o,i)+1,h=l-f;d.disabled.push({before:yk(i,h)}),d.disabled.push({after:La(o,h)})}!i&&o&&(d.disabled.push({before:La(o,-l+1)}),d.disabled.push({after:La(o,l-1)}))}return c(SR.Provider,{value:{selected:n,onDayClick:u,modifiers:d},children:r})}function AR(){var e=A.useContext(SR);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function e5(e){return Array.isArray(e)?Dre([],e):e!==void 0?[e]:[]}function WRe(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],a=r[1];t[n]=e5(a)}),t}var td;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(td||(td={}));var VRe=td.Selected,Qf=td.Disabled,HRe=td.Hidden,GRe=td.Today,MP=td.RangeEnd,FP=td.RangeMiddle,LP=td.RangeStart,YRe=td.Outside;function KRe(e,t,r){var n,a=(n={},n[VRe]=e5(e.selected),n[Qf]=e5(e.disabled),n[HRe]=e5(e.hidden),n[GRe]=[e.today],n[MP]=[],n[FP]=[],n[LP]=[],n[YRe]=[],n);return e.fromDate&&a[Qf].push({before:e.fromDate}),e.toDate&&a[Qf].push({after:e.toDate}),Jw(e)?a[Qf]=a[Qf].concat(t.modifiers[Qf]):Qw(e)&&(a[Qf]=a[Qf].concat(r.modifiers[Qf]),a[LP]=r.modifiers[LP],a[FP]=r.modifiers[FP],a[MP]=r.modifiers[MP]),a}var Lre=A.createContext(void 0);function XRe(e){var t=Ba(),r=bR(),n=AR(),a=KRe(t,r,n),i=WRe(t.modifiers),o=nn(nn({},a),i);return c(Lre.Provider,{value:o,children:e.children})}function jre(){var e=A.useContext(Lre);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function ZRe(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function JRe(e){return!!(e&&typeof e=="object"&&"from"in e)}function QRe(e){return!!(e&&typeof e=="object"&&"after"in e)}function eMe(e){return!!(e&&typeof e=="object"&&"before"in e)}function tMe(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function rMe(e,t){var r,n=t.from,a=t.to;if(n&&a){var i=Uu(a,n)<0;i&&(r=[a,n],n=r[0],a=r[1]);var o=Uu(e,n)>=0&&Uu(a,e)>=0;return o}return a?nl(a,e):n?nl(n,e):!1}function nMe(e){return ED(e)}function aMe(e){return Array.isArray(e)&&e.every(ED)}function iMe(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(nMe(r))return nl(e,r);if(aMe(r))return r.includes(e);if(JRe(r))return rMe(e,r);if(tMe(r))return r.dayOfWeek.includes(e.getDay());if(ZRe(r)){var n=Uu(r.before,e),a=Uu(r.after,e),i=n>0,o=a<0,s=u6(r.before,r.after);return s?o&&i:i||o}return QRe(r)?Uu(e,r.after)>0:eMe(r)?Uu(r.before,e)>0:typeof r=="function"?r(e):!1})}function kR(e,t,r){var n=Object.keys(t).reduce(function(i,o){var s=t[o];return iMe(e,s)&&i.push(o),i},[]),a={};return n.forEach(function(i){return a[i]=!0}),r&&!N4(e,r)&&(a.outside=!0),a}function oMe(e,t){for(var r=$o(e[0]),n=dm(e[e.length-1]),a,i,o=r;o<=n;){var s=kR(o,t),l=!s.disabled&&!s.hidden;if(!l){o=La(o,1);continue}if(s.selected)return o;s.today&&!i&&(i=o),a||(a=o),o=La(o,1)}return i||a}var sMe=365;function $re(e,t){var r=t.moveBy,n=t.direction,a=t.context,i=t.modifiers,o=t.retry,s=o===void 0?{count:0,lastFocused:e}:o,l=a.weekStartsOn,u=a.fromDate,d=a.toDate,f=a.locale,h={day:La,week:w1,month:dl,year:$0e,startOfWeek:function(y){return a.ISOWeek?wh(y):ns(y,{locale:f,weekStartsOn:l})},endOfWeek:function(y){return a.ISOWeek?SK(y):D0(y,{locale:f,weekStartsOn:l})}},m=h[r](e,n==="after"?1:-1);n==="before"&&u?m=B0e([u,m]):n==="after"&&d&&(m=U0e([d,m]));var x=!0;if(i){var g=kR(m,i);x=!g.disabled&&!g.hidden}return x?m:s.count>sMe?s.lastFocused:$re(m,{moveBy:r,direction:n,context:a,modifiers:i,retry:nn(nn({},s),{count:s.count+1})})}var Bre=A.createContext(void 0);function lMe(e){var t=e_(),r=jre(),n=A.useState(),a=n[0],i=n[1],o=A.useState(),s=o[0],l=o[1],u=oMe(t.displayMonths,r),d=a??(s&&t.isDateDisplayed(s))?s:u,f=function(){l(a),i(void 0)},h=function(y){i(y)},m=Ba(),x=function(y,_){if(a){var b=$re(a,{moveBy:y,direction:_,context:m,modifiers:r});nl(a,b)||(t.goToDate(b,a),h(b))}},g={focusedDay:a,focusTarget:d,blur:f,focus:h,focusDayAfter:function(){return x("day","after")},focusDayBefore:function(){return x("day","before")},focusWeekAfter:function(){return x("week","after")},focusWeekBefore:function(){return x("week","before")},focusMonthBefore:function(){return x("month","before")},focusMonthAfter:function(){return x("month","after")},focusYearBefore:function(){return x("year","before")},focusYearAfter:function(){return x("year","after")},focusStartOfWeek:function(){return x("startOfWeek","before")},focusEndOfWeek:function(){return x("endOfWeek","after")}};return c(Bre.Provider,{value:g,children:e.children})}function NR(){var e=A.useContext(Bre);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function cMe(e,t){var r=jre(),n=kR(e,r,t);return n}var ER=A.createContext(void 0);function uMe(e){if(!I3(e.initialProps)){var t={selected:void 0};return c(ER.Provider,{value:t,children:e.children})}return c(dMe,{initialProps:e.initialProps,children:e.children})}function dMe(e){var t=e.initialProps,r=e.children,n=function(i,o,s){var l,u,d;if((l=t.onDayClick)===null||l===void 0||l.call(t,i,o,s),o.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,i,o,s);return}(d=t.onSelect)===null||d===void 0||d.call(t,i,i,o,s)},a={selected:t.selected,onDayClick:n};return c(ER.Provider,{value:a,children:r})}function Ure(){var e=A.useContext(ER);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function fMe(e,t){var r=Ba(),n=Ure(),a=bR(),i=AR(),o=NR(),s=o.focusDayAfter,l=o.focusDayBefore,u=o.focusWeekAfter,d=o.focusWeekBefore,f=o.blur,h=o.focus,m=o.focusMonthBefore,x=o.focusMonthAfter,g=o.focusYearBefore,y=o.focusYearAfter,_=o.focusStartOfWeek,b=o.focusEndOfWeek,S=function(z){var G,q,K,J;I3(r)?(G=n.onDayClick)===null||G===void 0||G.call(n,e,t,z):Jw(r)?(q=a.onDayClick)===null||q===void 0||q.call(a,e,t,z):Qw(r)?(K=i.onDayClick)===null||K===void 0||K.call(i,e,t,z):(J=r.onDayClick)===null||J===void 0||J.call(r,e,t,z)},C=function(z){var G;h(e),(G=r.onDayFocus)===null||G===void 0||G.call(r,e,t,z)},E=function(z){var G;f(),(G=r.onDayBlur)===null||G===void 0||G.call(r,e,t,z)},O=function(z){var G;(G=r.onDayMouseEnter)===null||G===void 0||G.call(r,e,t,z)},P=function(z){var G;(G=r.onDayMouseLeave)===null||G===void 0||G.call(r,e,t,z)},I=function(z){var G;(G=r.onDayPointerEnter)===null||G===void 0||G.call(r,e,t,z)},L=function(z){var G;(G=r.onDayPointerLeave)===null||G===void 0||G.call(r,e,t,z)},U=function(z){var G;(G=r.onDayTouchCancel)===null||G===void 0||G.call(r,e,t,z)},T=function(z){var G;(G=r.onDayTouchEnd)===null||G===void 0||G.call(r,e,t,z)},F=function(z){var G;(G=r.onDayTouchMove)===null||G===void 0||G.call(r,e,t,z)},j=function(z){var G;(G=r.onDayTouchStart)===null||G===void 0||G.call(r,e,t,z)},H=function(z){var G;(G=r.onDayKeyUp)===null||G===void 0||G.call(r,e,t,z)},X=function(z){var G;switch(z.key){case"ArrowLeft":z.preventDefault(),z.stopPropagation(),r.dir==="rtl"?s():l();break;case"ArrowRight":z.preventDefault(),z.stopPropagation(),r.dir==="rtl"?l():s();break;case"ArrowDown":z.preventDefault(),z.stopPropagation(),u();break;case"ArrowUp":z.preventDefault(),z.stopPropagation(),d();break;case"PageUp":z.preventDefault(),z.stopPropagation(),z.shiftKey?g():m();break;case"PageDown":z.preventDefault(),z.stopPropagation(),z.shiftKey?y():x();break;case"Home":z.preventDefault(),z.stopPropagation(),_();break;case"End":z.preventDefault(),z.stopPropagation(),b();break}(G=r.onDayKeyDown)===null||G===void 0||G.call(r,e,t,z)},re={onClick:S,onFocus:C,onBlur:E,onKeyDown:X,onKeyUp:H,onMouseEnter:O,onMouseLeave:P,onPointerEnter:I,onPointerLeave:L,onTouchCancel:U,onTouchEnd:T,onTouchMove:F,onTouchStart:j};return re}function hMe(){var e=Ba(),t=Ure(),r=bR(),n=AR(),a=I3(e)?t.selected:Jw(e)?r.selected:Qw(e)?n.selected:void 0;return a}function pMe(e){return Object.values(td).includes(e)}function mMe(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var a=e.modifiersClassNames[n];if(a)r.push(a);else if(pMe(n)){var i=e.classNames["day_".concat(n)];i&&r.push(i)}}),r}function gMe(e,t){var r=nn({},e.styles.day);return Object.keys(t).forEach(function(n){var a;r=nn(nn({},r),(a=e.modifiersStyles)===null||a===void 0?void 0:a[n])}),r}function vMe(e,t,r){var n,a,i,o=Ba(),s=NR(),l=cMe(e,t),u=fMe(e,l),d=hMe(),f=!!(o.onDayClick||o.mode!=="default");A.useEffect(function(){var O;l.outside||s.focusedDay&&f&&nl(s.focusedDay,e)&&((O=r.current)===null||O===void 0||O.focus())},[s.focusedDay,e,r,f,l.outside]);var h=mMe(o,l).join(" "),m=gMe(o,l),x=!!(l.outside&&!o.showOutsideDays||l.hidden),g=(i=(a=o.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:jRe,y=c(g,{date:e,displayMonth:t,activeModifiers:l}),_={style:m,className:h,children:y,role:"gridcell"},b=s.focusTarget&&nl(s.focusTarget,e)&&!l.outside,S=s.focusedDay&&nl(s.focusedDay,e),C=nn(nn(nn({},_),(n={disabled:l.disabled,role:"gridcell"},n["aria-selected"]=l.selected,n.tabIndex=S||b?0:-1,n)),u),E={isButton:f,isHidden:x,activeModifiers:l,selectedDays:d,buttonProps:C,divProps:_};return E}function yMe(e){var t=A.useRef(null),r=vMe(e.date,e.displayMonth,t);return r.isHidden?c("div",{role:"gridcell"}):r.isButton?c(RS,nn({name:"day",ref:t},r.buttonProps)):c("div",nn({},r.divProps))}function xMe(e){var t=e.number,r=e.dates,n=Ba(),a=n.onWeekNumberClick,i=n.styles,o=n.classNames,s=n.locale,l=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,d=u(Number(t),{locale:s});if(!a)return c("span",{className:o.weeknumber,style:i.weeknumber,children:d});var f=l(Number(t),{locale:s}),h=function(m){a(t,r,m)};return c(RS,{name:"week-number","aria-label":f,className:o.weeknumber,style:i.weeknumber,onClick:h,children:d})}function wMe(e){var t,r,n=Ba(),a=n.styles,i=n.classNames,o=n.showWeekNumber,s=n.components,l=(t=s==null?void 0:s.Day)!==null&&t!==void 0?t:yMe,u=(r=s==null?void 0:s.WeekNumber)!==null&&r!==void 0?r:xMe,d;return o&&(d=c("td",{className:i.cell,style:a.cell,children:c(u,{number:e.weekNumber,dates:e.dates})})),w("tr",{className:i.row,style:a.row,children:[d,e.dates.map(function(f){return c("td",{className:i.cell,style:a.cell,role:"presentation",children:c(l,{displayMonth:e.displayMonth,date:f})},zge(f))})]})}function $z(e,t,r){for(var n=r!=null&&r.ISOWeek?SK(t):D0(t,r),a=r!=null&&r.ISOWeek?wh(e):ns(e,r),i=Uu(n,a),o=[],s=0;s<=i;s++)o.push(La(a,s));var l=o.reduce(function(u,d){var f=r!=null&&r.ISOWeek?CD(d):TD(d,r),h=u.find(function(m){return m.weekNumber===f});return h?(h.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return l}function _Me(e,t){var r=$z($o(e),dm(e),t);if(t!=null&&t.useFixedWeeks){var n=Vge(e,t);if(n<6){var a=r[r.length-1],i=a.dates[a.dates.length-1],o=w1(i,6-n),s=$z(w1(i,1),o,t);r.push.apply(r,s)}}return r}function bMe(e){var t,r,n,a=Ba(),i=a.locale,o=a.classNames,s=a.styles,l=a.hideHead,u=a.fixedWeeks,d=a.components,f=a.weekStartsOn,h=a.firstWeekContainsDate,m=a.ISOWeek,x=_Me(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:m,locale:i,weekStartsOn:f,firstWeekContainsDate:h}),g=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:LRe,y=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:wMe,_=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:RRe;return w("table",{id:e.id,className:o.table,style:s.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!l&&c(g,{}),c("tbody",{className:o.tbody,style:s.tbody,children:x.map(function(b){return c(y,{displayMonth:e.displayMonth,dates:b.dates,weekNumber:b.weekNumber},b.weekNumber)})}),c(_,{displayMonth:e.displayMonth})]})}function SMe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var AMe=SMe()?A.useLayoutEffect:A.useEffect,jP=!1,kMe=0;function Bz(){return"react-day-picker-".concat(++kMe)}function NMe(e){var t,r=e??(jP?Bz():null),n=A.useState(r),a=n[0],i=n[1];return AMe(function(){a===null&&i(Bz())},[]),A.useEffect(function(){jP===!1&&(jP=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function EMe(e){var t,r,n=Ba(),a=n.dir,i=n.classNames,o=n.styles,s=n.components,l=e_().displayMonths,u=NMe(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,f=[i.month],h=o.month,m=e.displayIndex===0,x=e.displayIndex===l.length-1,g=!m&&!x;a==="rtl"&&(t=[m,x],x=t[0],m=t[1]),m&&(f.push(i.caption_start),h=nn(nn({},h),o.caption_start)),x&&(f.push(i.caption_end),h=nn(nn({},h),o.caption_end)),g&&(f.push(i.caption_between),h=nn(nn({},h),o.caption_between));var y=(r=s==null?void 0:s.Caption)!==null&&r!==void 0?r:IRe;return w("div",{className:f.join(" "),style:h,children:[c(y,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),c(bMe,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function CMe(e){var t=Ba(),r=t.classNames,n=t.styles;return c("div",{className:r.months,style:n.months,children:e.children})}function PMe(e){var t,r,n=e.initialProps,a=Ba(),i=NR(),o=e_(),s=A.useState(!1),l=s[0],u=s[1];A.useEffect(function(){a.initialFocus&&i.focusTarget&&(l||(i.focus(i.focusTarget),u(!0)))},[a.initialFocus,l,i.focus,i.focusTarget,i]);var d=[a.classNames.root,a.className];a.numberOfMonths>1&&d.push(a.classNames.multiple_months),a.showWeekNumber&&d.push(a.classNames.with_weeknumber);var f=nn(nn({},a.styles.root),a.style),h=Object.keys(n).filter(function(x){return x.startsWith("data-")}).reduce(function(x,g){var y;return nn(nn({},x),(y={},y[g]=n[g],y))},{}),m=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:CMe;return c("div",nn({className:d.join(" "),style:f,dir:a.dir,id:a.id,nonce:n.nonce,title:n.title,lang:n.lang},h,{children:c(m,{children:o.displayMonths.map(function(x,g){return c(EMe,{displayIndex:g,displayMonth:x},g)})})}))}function TMe(e){var t=e.children,r=eRe(e,["children"]);return c(xRe,{initialProps:r,children:c(PRe,{children:c(uMe,{initialProps:r,children:c($Re,{initialProps:r,children:c(qRe,{initialProps:r,children:c(XRe,{children:c(lMe,{children:t})})})})})})})}function OMe(e){return c(TMe,nn({},e,{children:c(PMe,{initialProps:e})}))}function ym({className:e,classNames:t,showOutsideDays:r=!0,...n}){return c(OMe,{showOutsideDays:r,className:Rt("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Rt(ix({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Rt(ix({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...a})=>c(o4,{className:"h-4 w-4"}),IconRight:({...a})=>c(im,{className:"h-4 w-4"})},...n})}ym.displayName="Calendar";const DMe=je.object({type:je.string().min(1,"Treatment type is required"),description:je.string().min(1,"Description is required"),status:je.enum(["pending","completed","cancelled"]),cost:je.string().min(1,"Cost is required").refine(e=>!isNaN(parseFloat(e)),"Cost must be a valid number").refine(e=>parseFloat(e)>=0,"Cost must be a non-negative number"),estimated_duration:je.string().optional().nullable().transform(e=>e===""?null:e),priority:je.enum(["low","medium","high"]),plan_id:je.string().min(1),scheduled_date:je.string().optional().nullable().transform(e=>e===""?null:e),time_gap:je.string().optional().nullable().transform(e=>e===""?null:e)});function Uz({open:e,onOpenChange:t,onSubmit:r,planId:n,loading:a=!1,initialData:i,isEditMode:o=!1}){const s=ld({resolver:cd(DMe),defaultValues:{type:"",description:"",status:"pending",cost:"0",estimated_duration:"",priority:"medium",plan_id:n,scheduled_date:null,time_gap:null}});Qe.useEffect(()=>{if(n&&!o&&s.setValue("plan_id",n),o&&i){const u=i.priority,f=["low","medium","high"].includes(u||"")?u:"medium";s.reset({type:i.type||"",description:i.procedures||i.description||"",status:i.status||"pending",cost:i.cost!==void 0&&i.cost!==null?String(i.cost):"0",estimated_duration:i.estimated_duration||null,priority:f,plan_id:i.treatment_plan_id||n,scheduled_date:i.scheduled_date?Lt(qr(i.scheduled_date),"yyyy-MM-dd"):null,time_gap:i.time_gap||null})}else o||s.reset({type:"",description:"",status:"pending",cost:"0",estimated_duration:null,priority:"medium",plan_id:n,scheduled_date:null,time_gap:null})},[n,i,o,s]);const l=async u=>{await r(u),o||s.reset({type:"",description:"",status:"pending",cost:"0",estimated_duration:null,priority:"medium",plan_id:n,scheduled_date:null,time_gap:null})};return c($a,{open:e,onOpenChange:u=>{u||o||s.reset({type:"",description:"",status:"pending",cost:"0",estimated_duration:null,priority:"medium",plan_id:n,scheduled_date:null,time_gap:null}),t(u)},children:w(Ta,{className:"max-w-lg overflow-y-auto max-h-[90vh]",children:[" ",w(Oa,{children:[c(Da,{children:o?"Edit Treatment Details":"Add New Treatment"}),c(Yi,{children:o?"Update the details of this treatment or visit.":"Add a treatment procedure to the plan."})]}),c(Rh,{...s,children:w("form",{onSubmit:s.handleSubmit(l),className:"space-y-4 py-2 pr-2",children:[c(He,{control:s.control,name:"type",render:({field:u})=>w(De,{children:[c(Oe,{children:"Treatment Type / Title *"}),c(Me,{children:c(ct,{placeholder:"e.g., Root Canal, Filling, Visit 1",...u})}),c(Ze,{})]})}),c(He,{control:s.control,name:"description",render:({field:u})=>w(De,{children:[c(Oe,{children:"Description / Procedures *"}),c(Me,{children:c(Jr,{placeholder:"Detailed description of the treatment or procedures",...u,rows:3})}),c(Ze,{})]})}),w("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c(zp,{name:"cost",control:s.control,render:({field:u,fieldState:{error:d}})=>w(De,{children:[c(Oe,{children:"Cost () *"}),c(Me,{children:c(ct,{type:"text",inputMode:"decimal",placeholder:"0.00",ref:u.ref,name:u.name,onBlur:u.onBlur,value:u.value===null||u.value===void 0?"":String(u.value),onChange:f=>u.onChange(f.target.value),"aria-invalid":!!d})}),d&&c(Ze,{children:d.message})]})}),c(He,{control:s.control,name:"estimated_duration",render:({field:u})=>w(De,{children:[c(Oe,{children:"Estimated Duration"}),c(Me,{children:c(ct,{type:"text",placeholder:"e.g., 30 minutes, 1 hour",...u,value:u.value??""})}),c(Ze,{})]})})]}),w("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c(He,{control:s.control,name:"scheduled_date",render:({field:u})=>w(De,{className:"flex flex-col",children:[c(Oe,{children:"Scheduled Date"}),w(hg,{children:[c(pg,{asChild:!0,children:c(Me,{children:w(Fe,{variant:"outline",className:`w-full pl-3 text-left font-normal ${!u.value&&"text-muted-foreground"}`,children:[u.value?Lt(qr(u.value),"PPP"):c("span",{children:"Pick a date"}),c(H8,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),c(vm,{className:"w-auto p-0",align:"start",children:c(ym,{mode:"single",selected:u.value?qr(u.value):void 0,onSelect:d=>u.onChange(d?Lt(d,"yyyy-MM-dd"):null),disabled:d=>d<new Date("1900-01-01"),initialFocus:!0})})]}),c(Ze,{})]})}),c(He,{control:s.control,name:"time_gap",render:({field:u})=>w(De,{children:[c(Oe,{children:"Next Visit In (Time Gap)"}),c(Me,{children:c(ct,{placeholder:"e.g., 7 days, 2 weeks",...u,value:u.value??""})}),c(Ze,{})]})})]}),w("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c(He,{control:s.control,name:"status",render:({field:u})=>w(De,{children:[c(Oe,{children:"Status"}),w(zr,{onValueChange:u.onChange,value:u.value||"pending",children:[c(Me,{children:c($r,{children:c(Wr,{placeholder:"Select status"})})}),w(Br,{children:[c(_t,{value:"pending",children:"Pending"}),c(_t,{value:"completed",children:"Completed"}),c(_t,{value:"cancelled",children:"Cancelled"})]})]}),c(Ze,{})]})}),c(He,{control:s.control,name:"priority",render:({field:u})=>w(De,{children:[c(Oe,{children:"Priority"}),w(zr,{onValueChange:u.onChange,value:u.value||"medium",children:[c(Me,{children:c($r,{children:c(Wr,{placeholder:"Select priority"})})}),w(Br,{children:[c(_t,{value:"low",children:"Low"}),c(_t,{value:"medium",children:"Medium"}),c(_t,{value:"high",children:"High"})]})]}),c(Ze,{})]})})]}),w(Ji,{className:"pt-4",children:[" ",c(Fe,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),w(Fe,{type:"submit",disabled:a||s.formState.isSubmitting,children:[a||s.formState.isSubmitting?c(Zn,{className:"mr-2 h-4 w-4 animate-spin"}):o?null:c(Xc,{className:"mr-2 h-4 w-4"}),o?"Save Changes":"Add Treatment"]})]})]})})]})})}var qre="AlertDialog",[IMe,qJe]=Qi(qre,[dee]),Mh=dee(),zre=e=>{const{__scopeAlertDialog:t,...r}=e,n=Mh(t);return c(Eee,{...n,...r,modal:!0})};zre.displayName=qre;var RMe="AlertDialogTrigger",Wre=A.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Mh(r);return c(Cee,{...a,...n,ref:t})});Wre.displayName=RMe;var MMe="AlertDialogPortal",Vre=e=>{const{__scopeAlertDialog:t,...r}=e,n=Mh(t);return c(Pee,{...n,...r})};Vre.displayName=MMe;var FMe="AlertDialogOverlay",Hre=A.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Mh(r);return c(XI,{...a,...n,ref:t})});Hre.displayName=FMe;var o1="AlertDialogContent",[LMe,jMe]=IMe(o1),$Me=nG("AlertDialogContent"),Gre=A.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,i=Mh(r),o=A.useRef(null),s=Vr(t,o),l=A.useRef(null);return c(mOe,{contentName:o1,titleName:Yre,docsSlug:"alert-dialog",children:c(LMe,{scope:r,cancelRef:l,children:w(ZI,{role:"alertdialog",...i,...a,ref:s,onOpenAutoFocus:qt(a.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[c($Me,{children:n}),c(UMe,{contentRef:o})]})})})});Gre.displayName=o1;var Yre="AlertDialogTitle",Kre=A.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Mh(r);return c(JI,{...a,...n,ref:t})});Kre.displayName=Yre;var Xre="AlertDialogDescription",Zre=A.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Mh(r);return c(QI,{...a,...n,ref:t})});Zre.displayName=Xre;var BMe="AlertDialogAction",Jre=A.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Mh(r);return c(y3,{...a,...n,ref:t})});Jre.displayName=BMe;var Qre="AlertDialogCancel",ene=A.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=jMe(Qre,r),i=Mh(r),o=Vr(t,a);return c(y3,{...i,...n,ref:o})});ene.displayName=Qre;var UMe=({contentRef:e})=>{const t=`\`${o1}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${o1}\` by passing a \`${Xre}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${o1}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return A.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},qMe=zre,zMe=Wre,WMe=Vre,tne=Hre,rne=Gre,nne=Jre,ane=ene,ine=Kre,one=Zre;const qz=qMe,zz=zMe,VMe=WMe,sne=A.forwardRef(({className:e,...t},r)=>c(tne,{className:Rt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));sne.displayName=tne.displayName;const YO=A.forwardRef(({className:e,...t},r)=>w(VMe,{children:[c(sne,{}),c(rne,{ref:r,className:Rt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));YO.displayName=rne.displayName;const KO=({className:e,...t})=>c("div",{className:Rt("flex flex-col space-y-2 text-center sm:text-left",e),...t});KO.displayName="AlertDialogHeader";const XO=({className:e,...t})=>c("div",{className:Rt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});XO.displayName="AlertDialogFooter";const ZO=A.forwardRef(({className:e,...t},r)=>c(ine,{ref:r,className:Rt("text-lg font-semibold",e),...t}));ZO.displayName=ine.displayName;const JO=A.forwardRef(({className:e,...t},r)=>c(one,{ref:r,className:Rt("text-sm text-muted-foreground",e),...t}));JO.displayName=one.displayName;const QO=A.forwardRef(({className:e,...t},r)=>c(nne,{ref:r,className:Rt(ix(),e),...t}));QO.displayName=nne.displayName;const e8=A.forwardRef(({className:e,...t},r)=>c(ane,{ref:r,className:Rt(ix({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));e8.displayName=ane.displayName;function HMe({treatment:e,onStatusChange:t,onDelete:r,onEdit:n,loading:a=!1}){const[i,o]=A.useState(!1),[s,l]=A.useState("N/A");A.useEffect(()=>{let y=null;const _=()=>{const b=e.actual_start_time?new Date(e.actual_start_time):null,S=e.actual_end_time?new Date(e.actual_end_time):null;if(S&&b)y&&clearInterval(y),l(EK(S,b));else if(b){const E=_K(new Date,b),O=Math.floor(E/3600),P=Math.floor(E%3600/60),I=E%60;l(`${String(O).padStart(2,"0")}:${String(P).padStart(2,"0")}:${String(I).padStart(2,"0")}`)}else l(u(e.estimated_duration)),y&&clearInterval(y)};return _(),e.actual_start_time&&!e.actual_end_time&&(y=setInterval(_,1e3)),()=>{y&&clearInterval(y)}},[e.actual_start_time,e.actual_end_time,e.estimated_duration]);const u=y=>{if(console.log("Received intervalValue:",y,"Type:",typeof y),!y)return"N/A";if(typeof y=="object"&&y!==null){const{days:_=0,hours:b=0,minutes:S=0,seconds:C=0}=y;let E="";return _>0&&(E+=`${_} day${_>1?"s":""} `),b>0&&(E+=`${b} hour${b>1?"s":""} `),S>0&&(E+=`${S} minute${S>1?"s":""} `),E.trim()||"N/A"}if(typeof y=="string")try{if(typeof y=="string"&&/^\d{2}:\d{2}:\d{2}$/.test(y)){const _=y.split(":").map(Number),b=_[0]||0,S=_[1]||0,C=_[2]||0;if(isNaN(b)||isNaN(S)||isNaN(C))return console.warn(`Could not parse HH:MM:SS interval: ${y}`),y;let E="";return b>0&&(E+=`${b} hour${b>1?"s":""} `),S>0&&(E+=`${S} minute${S>1?"s":""} `),C>0&&b===0&&S===0&&(E+=`${C} second${C>1?"s":""}`),E.trim()||"N/A"}return y}catch(_){return console.error("Error parsing interval string:",y,_),y}return console.warn("Unexpected interval value type:",typeof y,y),"Invalid Duration"},d=y=>{let _="bg-gray-100 text-gray-800";switch(y){case"pending":_="bg-purple-100 text-purple-800";break;case"completed":_="bg-green-100 text-green-800";break;case"cancelled":_="bg-red-100 text-red-800";break}return c("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-semibold ${_}`,children:y.replace("_"," ")})},f=y=>{let _="bg-gray-100 text-gray-800";switch(y){case"low":_="bg-green-100 text-green-800";break;case"medium":_="bg-yellow-100 text-yellow-800";break;case"high":_="bg-red-100 text-red-800";break}return c("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-semibold ${_}`,children:y})};if(!e)return c("div",{className:"text-center text-sm text-gray-500 py-4",children:"No treatment data."});const h=String(e.cost||"0"),m=parseFloat(h),x=isNaN(m)?0:m,g=e.scheduled_date||e.estimatedVisitDate;return w("div",{className:"bg-white shadow-md rounded-lg mb-3 transition-all hover:shadow-lg",children:[w("div",{className:"px-5 py-4",children:[w("div",{className:"flex justify-between items-start mb-2",children:[w("div",{children:[c("h4",{className:"font-semibold text-md text-gray-800 group-hover:text-blue-600 transition-colors duration-200",children:e.type}),c("p",{className:"text-sm text-gray-600 mt-0.5",children:e.description})]}),w("div",{className:"flex items-center space-x-2 shrink-0 ml-4",children:[d(e.status),e.priority&&f(e.priority),c(Fe,{variant:"ghost",size:"icon",onClick:n,disabled:a,className:"h-7 w-7 text-gray-500 hover:text-blue-600",title:"Edit Treatment",children:c(Cce,{className:"h-4 w-4"})})]})]}),w("div",{className:"flex items-center text-xs text-gray-500 mt-3 pt-3 border-t border-gray-200",children:[g&&w(Sr,{children:[c(Lo,{className:"mr-1.5 h-3.5 w-3.5 text-gray-400"}),c("span",{className:"font-medium",children:"Visit Date:"}),c("span",{className:"ml-1",children:g}),c("span",{className:"mx-2 text-gray-300",children:"|"})," "]}),c(sl,{className:"mr-1.5 h-3.5 w-3.5 text-gray-400"}),c("span",{className:"font-medium",children:"Duration:"}),c("span",{className:"ml-1",children:s}),e.time_gap&&w(Sr,{children:[c("span",{className:"mx-2 text-gray-300",children:"|"}),c("span",{className:"font-medium",children:"Next visit in:"}),c("span",{className:"ml-1",children:e.time_gap})]})]})]}),c("div",{className:"bg-gray-50 px-5 py-3 border-t border-gray-200",children:w("div",{className:"flex items-center justify-between",children:[w("div",{className:"text-sm font-medium text-gray-700",children:["Cost: ",c("span",{className:"text-gray-900",children:jd(x,"USD")})]}),w("div",{className:"flex items-center space-x-2",children:[e.status==="pending"&&w(Sr,{children:[w(Fe,{variant:"outline",size:"sm",className:"text-xs",title:"Mark this treatment as completed",onClick:()=>t(e.id,"completed"),disabled:a||i,children:[a&&!i?c(Zn,{className:"h-3 w-3 mr-1.5 animate-spin"}):c(U0,{className:"h-3 w-3 mr-1.5"}),"Mark Complete"]}),w(Fe,{variant:"outline",size:"sm",className:"text-xs",title:"Cancel this treatment",onClick:()=>t(e.id,"cancelled"),disabled:a||i,children:[a&&!i?c(Zn,{className:"h-3 w-3 mr-1.5 animate-spin"}):c(gh,{className:"h-3 w-3 mr-1.5"}),"Cancel"]})]}),(e.status==="completed"||e.status==="cancelled")&&w(Fe,{variant:"outline",size:"sm",className:"text-xs",title:"Reopen this treatment (set to pending)",onClick:()=>t(e.id,"pending"),disabled:a||i,children:[a&&!i?c(Zn,{className:"h-3 w-3 mr-1.5 animate-spin"}):c(QH,{className:"h-3 w-3 mr-1.5"}),"Reopen"]})]})]})})]})}const Wz="#0060df",GMe="#22c55e",Vz="#e0e0e0",Hz="#ffffff",YMe=({steps:e,currentStepId:t,completedStepIds:r})=>{const n=(a,i)=>{const o=i===e.length-1,s=t==="completed";return r.includes(a)?s&&o?"finalComplete":"completed":a===t?s&&o?"finalComplete":"current":"pending"};return w("div",{className:"flex items-start w-full px-2 py-4 bg-white rounded-lg shadow-sm overflow-x-auto",children:[" ",e.map((a,i)=>{const o=n(a.id,i),s=i===e.length-1,l=o==="completed",u=o==="current",d=o==="finalComplete",f=d?GMe:l||u?Wz:Vz;return w(Qe.Fragment,{children:[w("div",{className:"flex flex-col items-center min-w-[100px] px-1",children:[" ",c("div",{className:"flex items-center justify-center w-6 h-6 rounded-full transition-colors duration-500 mb-1",style:{backgroundColor:f},children:l||d?w("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:3,stroke:Hz,className:"w-4 h-4",children:[" ",c("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})]}):u?w("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:3,stroke:Hz,className:"w-4 h-4",children:[" ",c("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})]}):c("div",{className:"w-2 h-2 bg-gray-400 rounded-sm"})}),w("div",{className:"text-center",children:[w("div",{className:`text-xs font-medium ${l||u||d?"text-gray-700":"text-gray-400"}`,children:[" ",a.title]}),a.description&&c("div",{className:"text-[10px] text-gray-400",children:a.description})]})]}),!s&&w("div",{className:"flex-1 h-1 mx-1 relative transition-colors duration-500",style:{backgroundColor:Vz},children:[" ",c("div",{className:"absolute top-0 left-0 h-full transition-all duration-1000 ease-out",style:{width:l?"100%":"0%",backgroundColor:Wz}})]})]},a.id)})]})};function va(e){"@babel/helpers - typeof";return va=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},va(e)}var Os=Uint8Array,dc=Uint16Array,CR=Int32Array,R3=new Os([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),M3=new Os([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),t8=new Os([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),lne=function(e,t){for(var r=new dc(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new CR(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},cne=lne(R3,2),une=cne.b,r8=cne.r;une[28]=258,r8[258]=28;var dne=lne(M3,0),KMe=dne.b,Gz=dne.r,n8=new dc(32768);for(var Qa=0;Qa<32768;++Qa){var Dp=(Qa&43690)>>1|(Qa&21845)<<1;Dp=(Dp&52428)>>2|(Dp&13107)<<2,Dp=(Dp&61680)>>4|(Dp&3855)<<4,n8[Qa]=((Dp&65280)>>8|(Dp&255)<<8)>>1}var af=function(e,t,r){for(var n=e.length,a=0,i=new dc(t);a<n;++a)e[a]&&++i[e[a]-1];var o=new dc(t);for(a=1;a<t;++a)o[a]=o[a-1]+i[a-1]<<1;var s;if(r){s=new dc(1<<t);var l=15-t;for(a=0;a<n;++a)if(e[a])for(var u=a<<4|e[a],d=t-e[a],f=o[e[a]-1]++<<d,h=f|(1<<d)-1;f<=h;++f)s[n8[f]>>l]=u}else for(s=new dc(n),a=0;a<n;++a)e[a]&&(s[a]=n8[o[e[a]-1]++]>>15-e[a]);return s},xm=new Os(288);for(var Qa=0;Qa<144;++Qa)xm[Qa]=8;for(var Qa=144;Qa<256;++Qa)xm[Qa]=9;for(var Qa=256;Qa<280;++Qa)xm[Qa]=7;for(var Qa=280;Qa<288;++Qa)xm[Qa]=8;var cw=new Os(32);for(var Qa=0;Qa<32;++Qa)cw[Qa]=5;var XMe=af(xm,9,0),ZMe=af(xm,9,1),JMe=af(cw,5,0),QMe=af(cw,5,1),$P=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},Tu=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},BP=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},PR=function(e){return(e+7)/8|0},fne=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Os(e.subarray(t,r))},e7e=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ru=function(e,t,r){var n=new Error(t||e7e[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,Ru),!r)throw n;return n},t7e=function(e,t,r,n){var a=e.length,i=0;if(!a||t.f&&!t.l)return r||new Os(0);var o=!r,s=o||t.i!=2,l=t.i;o&&(r=new Os(a*3));var u=function(oe){var ae=r.length;if(oe>ae){var Ne=new Os(Math.max(ae*2,oe));Ne.set(r),r=Ne}},d=t.f||0,f=t.p||0,h=t.b||0,m=t.l,x=t.d,g=t.m,y=t.n,_=a*8;do{if(!m){d=Tu(e,f,1);var b=Tu(e,f+1,3);if(f+=3,b)if(b==1)m=ZMe,x=QMe,g=9,y=5;else if(b==2){var O=Tu(e,f,31)+257,P=Tu(e,f+10,15)+4,I=O+Tu(e,f+5,31)+1;f+=14;for(var L=new Os(I),U=new Os(19),T=0;T<P;++T)U[t8[T]]=Tu(e,f+T*3,7);f+=P*3;for(var F=$P(U),j=(1<<F)-1,H=af(U,F,1),T=0;T<I;){var X=H[Tu(e,f,j)];f+=X&15;var S=X>>4;if(S<16)L[T++]=S;else{var re=0,z=0;for(S==16?(z=3+Tu(e,f,3),f+=2,re=L[T-1]):S==17?(z=3+Tu(e,f,7),f+=3):S==18&&(z=11+Tu(e,f,127),f+=7);z--;)L[T++]=re}}var G=L.subarray(0,O),q=L.subarray(O);g=$P(G),y=$P(q),m=af(G,g,1),x=af(q,y,1)}else Ru(1);else{var S=PR(f)+4,C=e[S-4]|e[S-3]<<8,E=S+C;if(E>a){l&&Ru(0);break}s&&u(h+C),r.set(e.subarray(S,E),h),t.b=h+=C,t.p=f=E*8,t.f=d;continue}if(f>_){l&&Ru(0);break}}s&&u(h+131072);for(var K=(1<<g)-1,J=(1<<y)-1,D=f;;D=f){var re=m[BP(e,f)&K],Y=re>>4;if(f+=re&15,f>_){l&&Ru(0);break}if(re||Ru(2),Y<256)r[h++]=Y;else if(Y==256){D=f,m=null;break}else{var Q=Y-254;if(Y>264){var T=Y-257,ie=R3[T];Q=Tu(e,f,(1<<ie)-1)+une[T],f+=ie}var se=x[BP(e,f)&J],te=se>>4;se||Ru(3),f+=se&15;var q=KMe[te];if(te>3){var ie=M3[te];q+=BP(e,f)&(1<<ie)-1,f+=ie}if(f>_){l&&Ru(0);break}s&&u(h+131072);var de=h+Q;if(h<q){var Z=i-q,ce=Math.min(q,de);for(Z+h<0&&Ru(3);h<ce;++h)r[h]=n[Z+h]}for(;h<de;++h)r[h]=r[h-q]}}t.l=m,t.p=D,t.b=h,t.f=d,m&&(d=1,t.m=g,t.d=x,t.n=y)}while(!d);return h!=r.length&&o?fne(r,0,h):r.subarray(0,h)},eh=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},p2=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},UP=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,i=r.slice();if(!a)return{t:pne,l:0};if(a==1){var o=new Os(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(E,O){return E.f-O.f}),r.push({s:-1,f:25001});var s=r[0],l=r[1],u=0,d=1,f=2;for(r[0]={s:-1,f:s.f+l.f,l:s,r:l};d!=a-1;)s=r[r[u].f<r[f].f?u++:f++],l=r[u!=d&&r[u].f<r[f].f?u++:f++],r[d++]={s:-1,f:s.f+l.f,l:s,r:l};for(var h=i[0].s,n=1;n<a;++n)i[n].s>h&&(h=i[n].s);var m=new dc(h+1),x=a8(r[d-1],m,0);if(x>t){var n=0,g=0,y=x-t,_=1<<y;for(i.sort(function(O,P){return m[P.s]-m[O.s]||O.f-P.f});n<a;++n){var b=i[n].s;if(m[b]>t)g+=_-(1<<x-m[b]),m[b]=t;else break}for(g>>=y;g>0;){var S=i[n].s;m[S]<t?g-=1<<t-m[S]++-1:++n}for(;n>=0&&g;--n){var C=i[n].s;m[C]==t&&(--m[C],++g)}x=t}return{t:new Os(m),l:x}},a8=function(e,t,r){return e.s==-1?Math.max(a8(e.l,t,r+1),a8(e.r,t,r+1)):t[e.s]=r},Yz=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new dc(++t),n=0,a=e[0],i=1,o=function(l){r[n++]=l},s=1;s<=t;++s)if(e[s]==a&&s!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(a),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(a);i=1,a=e[s]}return{c:r.subarray(0,n),n:t}},m2=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},hne=function(e,t,r){var n=r.length,a=PR(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<n;++i)e[a+i+4]=r[i];return(a+4+n)*8},Kz=function(e,t,r,n,a,i,o,s,l,u,d){eh(t,d++,r),++a[256];for(var f=UP(a,15),h=f.t,m=f.l,x=UP(i,15),g=x.t,y=x.l,_=Yz(h),b=_.c,S=_.n,C=Yz(g),E=C.c,O=C.n,P=new dc(19),I=0;I<b.length;++I)++P[b[I]&31];for(var I=0;I<E.length;++I)++P[E[I]&31];for(var L=UP(P,7),U=L.t,T=L.l,F=19;F>4&&!U[t8[F-1]];--F);var j=u+5<<3,H=m2(a,xm)+m2(i,cw)+o,X=m2(a,h)+m2(i,g)+o+14+3*F+m2(P,U)+2*P[16]+3*P[17]+7*P[18];if(l>=0&&j<=H&&j<=X)return hne(t,d,e.subarray(l,l+u));var re,z,G,q;if(eh(t,d,1+(X<H)),d+=2,X<H){re=af(h,m,0),z=h,G=af(g,y,0),q=g;var K=af(U,T,0);eh(t,d,S-257),eh(t,d+5,O-1),eh(t,d+10,F-4),d+=14;for(var I=0;I<F;++I)eh(t,d+3*I,U[t8[I]]);d+=3*F;for(var J=[b,E],D=0;D<2;++D)for(var Y=J[D],I=0;I<Y.length;++I){var Q=Y[I]&31;eh(t,d,K[Q]),d+=U[Q],Q>15&&(eh(t,d,Y[I]>>5&127),d+=Y[I]>>12)}}else re=XMe,z=xm,G=JMe,q=cw;for(var I=0;I<s;++I){var ie=n[I];if(ie>255){var Q=ie>>18&31;p2(t,d,re[Q+257]),d+=z[Q+257],Q>7&&(eh(t,d,ie>>23&31),d+=R3[Q]);var se=ie&31;p2(t,d,G[se]),d+=q[se],se>3&&(p2(t,d,ie>>5&8191),d+=M3[se])}else p2(t,d,re[ie]),d+=z[ie]}return p2(t,d,re[256]),d+z[256]},r7e=new CR([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),pne=new Os(0),n7e=function(e,t,r,n,a,i){var o=i.z||e.length,s=new Os(n+o+5*(1+Math.ceil(o/7e3))+a),l=s.subarray(n,s.length-a),u=i.l,d=(i.r||0)&7;if(t){d&&(l[0]=i.r>>3);for(var f=r7e[t-1],h=f>>13,m=f&8191,x=(1<<r)-1,g=i.p||new dc(32768),y=i.h||new dc(x+1),_=Math.ceil(r/3),b=2*_,S=function(Ie){return(e[Ie]^e[Ie+1]<<_^e[Ie+2]<<b)&x},C=new CR(25e3),E=new dc(288),O=new dc(32),P=0,I=0,L=i.i||0,U=0,T=i.w||0,F=0;L+2<o;++L){var j=S(L),H=L&32767,X=y[j];if(g[H]=X,y[j]=H,T<=L){var re=o-L;if((P>7e3||U>24576)&&(re>423||!u)){d=Kz(e,l,0,C,E,O,I,U,F,L-F,d),U=P=I=0,F=L;for(var z=0;z<286;++z)E[z]=0;for(var z=0;z<30;++z)O[z]=0}var G=2,q=0,K=m,J=H-X&32767;if(re>2&&j==S(L-J))for(var D=Math.min(h,re)-1,Y=Math.min(32767,L),Q=Math.min(258,re);J<=Y&&--K&&H!=X;){if(e[L+G]==e[L+G-J]){for(var ie=0;ie<Q&&e[L+ie]==e[L+ie-J];++ie);if(ie>G){if(G=ie,q=J,ie>D)break;for(var se=Math.min(J,ie-2),te=0,z=0;z<se;++z){var de=L-J+z&32767,Z=g[de],ce=de-Z&32767;ce>te&&(te=ce,X=de)}}}H=X,X=g[H],J+=H-X&32767}if(q){C[U++]=268435456|r8[G]<<18|Gz[q];var oe=r8[G]&31,ae=Gz[q]&31;I+=R3[oe]+M3[ae],++E[257+oe],++O[ae],T=L+G,++P}else C[U++]=e[L],++E[e[L]]}}for(L=Math.max(L,T);L<o;++L)C[U++]=e[L],++E[e[L]];d=Kz(e,l,u,C,E,O,I,U,F,L-F,d),u||(i.r=d&7|l[d/8|0]<<3,d-=7,i.h=y,i.p=g,i.i=L,i.w=T)}else{for(var L=i.w||0;L<o+u;L+=65535){var Ne=L+65535;Ne>=o&&(l[d/8|0]=u,Ne=o),d=hne(l,d+1,e.subarray(L,Ne))}i.i=o}return fne(s,0,n+PR(d)+a)},mne=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,i=r.length|0,o=0;o!=i;){for(var s=Math.min(o+2655,i);o<s;++o)a+=n+=r[o];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},a7e=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),o=new Os(i.length+e.length);o.set(i),o.set(e,i.length),e=o,a.w=i.length}return n7e(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},gne=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},i7e=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=mne();a.p(t.dictionary),gne(e,2,a.d())}},o7e=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Ru(6,"invalid zlib data"),(e[1]>>5&1)==1&&Ru(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function i8(e,t){t||(t={});var r=mne();r.p(e);var n=a7e(e,t,t.dictionary?6:2,4);return i7e(n,t),gne(n,n.length-4,r.d()),n}function s7e(e,t){return t7e(e.subarray(o7e(e),-4),{i:2},t,t)}var l7e=typeof TextDecoder<"u"&&new TextDecoder,c7e=0;try{l7e.decode(pne,{stream:!0}),c7e=1}catch{}var Zr=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function qP(){Zr.console&&typeof Zr.console.log=="function"&&Zr.console.log.apply(Zr.console,arguments)}var Ca={log:qP,warn:function(e){Zr.console&&(typeof Zr.console.warn=="function"?Zr.console.warn.apply(Zr.console,arguments):qP.call(null,arguments))},error:function(e){Zr.console&&(typeof Zr.console.error=="function"?Zr.console.error.apply(Zr.console,arguments):qP(e))}};function zP(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){N0(n.response,t,r)},n.onerror=function(){Ca.error("could not download file")},n.send()}function Xz(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function bb(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var V2,o8,N0=Zr.saveAs||((typeof window>"u"?"undefined":va(window))!=="object"||window!==Zr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=Zr.URL||Zr.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?Xz(a.href)?zP(e,t,r):bb(a,a.target="_blank"):bb(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){bb(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(Xz(e))zP(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){bb(n)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:va(i)!=="object"&&(Ca.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return zP(e,t,r);var a=e.type==="application/octet-stream",i=/constructor/i.test(Zr.HTMLElement)||Zr.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&i)&&(typeof FileReader>"u"?"undefined":va(FileReader))==="object"){var s=new FileReader;s.onloadend=function(){var d=s.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},s.readAsDataURL(e)}else{var l=Zr.URL||Zr.webkitURL,u=l.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function vne(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(s){return[parseInt(s[1]),parseInt(s[2]),parseInt(s[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(s){return[parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(s){return[parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16),parseInt(s[3]+s[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,o=a.exec(e);o&&(t=i(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var s=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return s.length==1&&(s="0"+s),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+s+l+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function WP(e,t){var r=e[0],n=e[1],a=e[2],i=e[3];r=vs(r,n,a,i,t[0],7,-680876936),i=vs(i,r,n,a,t[1],12,-389564586),a=vs(a,i,r,n,t[2],17,606105819),n=vs(n,a,i,r,t[3],22,-1044525330),r=vs(r,n,a,i,t[4],7,-176418897),i=vs(i,r,n,a,t[5],12,1200080426),a=vs(a,i,r,n,t[6],17,-1473231341),n=vs(n,a,i,r,t[7],22,-45705983),r=vs(r,n,a,i,t[8],7,1770035416),i=vs(i,r,n,a,t[9],12,-1958414417),a=vs(a,i,r,n,t[10],17,-42063),n=vs(n,a,i,r,t[11],22,-1990404162),r=vs(r,n,a,i,t[12],7,1804603682),i=vs(i,r,n,a,t[13],12,-40341101),a=vs(a,i,r,n,t[14],17,-1502002290),r=ys(r,n=vs(n,a,i,r,t[15],22,1236535329),a,i,t[1],5,-165796510),i=ys(i,r,n,a,t[6],9,-1069501632),a=ys(a,i,r,n,t[11],14,643717713),n=ys(n,a,i,r,t[0],20,-373897302),r=ys(r,n,a,i,t[5],5,-701558691),i=ys(i,r,n,a,t[10],9,38016083),a=ys(a,i,r,n,t[15],14,-660478335),n=ys(n,a,i,r,t[4],20,-405537848),r=ys(r,n,a,i,t[9],5,568446438),i=ys(i,r,n,a,t[14],9,-1019803690),a=ys(a,i,r,n,t[3],14,-187363961),n=ys(n,a,i,r,t[8],20,1163531501),r=ys(r,n,a,i,t[13],5,-1444681467),i=ys(i,r,n,a,t[2],9,-51403784),a=ys(a,i,r,n,t[7],14,1735328473),r=xs(r,n=ys(n,a,i,r,t[12],20,-1926607734),a,i,t[5],4,-378558),i=xs(i,r,n,a,t[8],11,-2022574463),a=xs(a,i,r,n,t[11],16,1839030562),n=xs(n,a,i,r,t[14],23,-35309556),r=xs(r,n,a,i,t[1],4,-1530992060),i=xs(i,r,n,a,t[4],11,1272893353),a=xs(a,i,r,n,t[7],16,-155497632),n=xs(n,a,i,r,t[10],23,-1094730640),r=xs(r,n,a,i,t[13],4,681279174),i=xs(i,r,n,a,t[0],11,-358537222),a=xs(a,i,r,n,t[3],16,-722521979),n=xs(n,a,i,r,t[6],23,76029189),r=xs(r,n,a,i,t[9],4,-640364487),i=xs(i,r,n,a,t[12],11,-421815835),a=xs(a,i,r,n,t[15],16,530742520),r=ws(r,n=xs(n,a,i,r,t[2],23,-995338651),a,i,t[0],6,-198630844),i=ws(i,r,n,a,t[7],10,1126891415),a=ws(a,i,r,n,t[14],15,-1416354905),n=ws(n,a,i,r,t[5],21,-57434055),r=ws(r,n,a,i,t[12],6,1700485571),i=ws(i,r,n,a,t[3],10,-1894986606),a=ws(a,i,r,n,t[10],15,-1051523),n=ws(n,a,i,r,t[1],21,-2054922799),r=ws(r,n,a,i,t[8],6,1873313359),i=ws(i,r,n,a,t[15],10,-30611744),a=ws(a,i,r,n,t[6],15,-1560198380),n=ws(n,a,i,r,t[13],21,1309151649),r=ws(r,n,a,i,t[4],6,-145523070),i=ws(i,r,n,a,t[11],10,-1120210379),a=ws(a,i,r,n,t[2],15,718787259),n=ws(n,a,i,r,t[9],21,-343485551),e[0]=Zp(r,e[0]),e[1]=Zp(n,e[1]),e[2]=Zp(a,e[2]),e[3]=Zp(i,e[3])}function F3(e,t,r,n,a,i){return t=Zp(Zp(t,e),Zp(n,i)),Zp(t<<a|t>>>32-a,r)}function vs(e,t,r,n,a,i,o){return F3(t&r|~t&n,e,t,a,i,o)}function ys(e,t,r,n,a,i,o){return F3(t&n|r&~n,e,t,a,i,o)}function xs(e,t,r,n,a,i,o){return F3(t^r^n,e,t,a,i,o)}function ws(e,t,r,n,a,i,o){return F3(r^(t|~n),e,t,a,i,o)}function yne(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)WP(n,u7e(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(WP(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,WP(n,a),n}function u7e(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}V2=Zr.atob.bind(Zr),o8=Zr.btoa.bind(Zr);var Zz="0123456789abcdef".split("");function d7e(e){for(var t="",r=0;r<4;r++)t+=Zz[e>>8*r+4&15]+Zz[e>>8*r&15];return t}function f7e(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function s8(e){return yne(e).map(f7e).join("")}var h7e=function(e){for(var t=0;t<e.length;t++)e[t]=d7e(e[t]);return e.join("")}(yne("hello"))!="5d41402abc4b2a76b9719d911017c592";function Zp(e,t){if(h7e){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function l8(e,t){var r,n,a,i;if(e!==r){for(var o=(a=e,i=1+(256/e.length>>0),new Array(i+1).join(a)),s=[],l=0;l<256;l++)s[l]=l;var u=0;for(l=0;l<256;l++){var d=s[l];u=(u+d+o.charCodeAt(l))%256,s[l]=s[u],s[u]=d}r=e,n=s}else s=n;var f=t.length,h=0,m=0,x="";for(l=0;l<f;l++)m=(m+(d=s[h=(h+1)%256]))%256,s[h]=s[m],s[m]=d,o=s[(s[h]+s[m])%256],x+=String.fromCharCode(t.charCodeAt(l)^o);return x}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Jz={print:4,modify:8,copy:16,"annot-forms":32};function Bv(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(s){if(Jz.perm!==void 0)throw new Error("Invalid permission: "+s);a+=Jz[s]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^a)),this.encryptionKey=s8(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=l8(this.encryptionKey,this.padding)}function Uv(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?t+="#"+("0"+a.toString(16)).slice(-2):t+=e[n]}return t}function Qz(e){if(va(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[r]){var o=t[r][i];try{o[0].apply(e,n)}catch(s){Zr.console&&Ca.error("jsPDF PubSub Error",s.message,s)}o[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function MS(e){if(!(this instanceof MS))return new MS(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function xne(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function C0(e,t,r,n,a){if(!(this instanceof C0))return new C0(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,xne.call(this,n,a)}function Yv(e,t,r,n,a){if(!(this instanceof Yv))return new Yv(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,xne.call(this,n,a)}function Fr(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],o=[],s=1,l=16,u="S",d=null;va(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,i=e.compress||e.compressPdf||i,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),s=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),u=e.defaultPathOperation||"S"),o=e.filters||(i===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,h={},m={internal:{},__private__:{}};m.__private__.PubSub=Qz;var x="1.3",g=m.__private__.getPdfVersion=function(){return x};m.__private__.setPdfVersion=function(B){x=B};var y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return y};var _=m.__private__.getPageFormat=function(B){return y[B]};a=a||"a4";var b={COMPAT:"compat",ADVANCED:"advanced"},S=b.COMPAT;function C(){this.saveGraphicsState(),he(new xt(lt,0,0,-lt,0,wd()*lt).toString()+" cm"),this.setFontSize(this.getFontSize()/lt),u="n",S=b.ADVANCED}function E(){this.restoreGraphicsState(),u="S",S=b.COMPAT}var O=m.__private__.combineFontStyleAndFontWeight=function(B,ue){if(B=="bold"&&ue=="normal"||B=="bold"&&ue==400||B=="normal"&&ue=="italic"||B=="bold"&&ue=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ue&&(B=ue==400||ue==="normal"?B==="italic"?"italic":"normal":ue!=700&&ue!=="bold"||B!=="normal"?(ue==700?"bold":ue)+""+B:"bold"),B};m.advancedAPI=function(B){var ue=S===b.COMPAT;return ue&&C.call(this),typeof B!="function"||(B(this),ue&&E.call(this)),this},m.compatAPI=function(B){var ue=S===b.ADVANCED;return ue&&E.call(this),typeof B!="function"||(B(this),ue&&C.call(this)),this},m.isAdvancedAPI=function(){return S===b.ADVANCED};var P,I=function(B){if(S!==b.ADVANCED)throw new Error(B+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},L=m.roundToPrecision=m.__private__.roundToPrecision=function(B,ue){var Ee=t||ue;if(isNaN(B)||isNaN(Ee))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return B.toFixed(Ee).replace(/0+$/,"")};P=m.hpf=m.__private__.hpf=typeof l=="number"?function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.hpf");return L(B,l)}:l==="smart"?function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.hpf");return L(B,B>-1&&B<1?16:5)}:function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.hpf");return L(B,16)};var U=m.f2=m.__private__.f2=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.f2");return L(B,2)},T=m.__private__.f3=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.f3");return L(B,3)},F=m.scale=m.__private__.scale=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.scale");return S===b.COMPAT?B*lt:S===b.ADVANCED?B:void 0},j=function(B){return S===b.COMPAT?wd()-B:S===b.ADVANCED?B:void 0},H=function(B){return F(j(B))};m.__private__.setPrecision=m.setPrecision=function(B){typeof parseInt(B,10)=="number"&&(t=parseInt(B,10))};var X,re="00000000000000000000000000000000",z=m.__private__.getFileId=function(){return re},G=m.__private__.setFileId=function(B){return re=B!==void 0&&/^[a-fA-F0-9]{32}$/.test(B)?B.toUpperCase():re.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(za=new Bv(d.userPermissions,d.userPassword,d.ownerPassword,re)),re};m.setFileId=function(B){return G(B),this},m.getFileId=function(){return z()};var q=m.__private__.convertDateToPDFDate=function(B){var ue=B.getTimezoneOffset(),Ee=ue<0?"+":"-",$e=Math.floor(Math.abs(ue/60)),rt=Math.abs(ue%60),St=[Ee,Q($e),"'",Q(rt),"'"].join("");return["D:",B.getFullYear(),Q(B.getMonth()+1),Q(B.getDate()),Q(B.getHours()),Q(B.getMinutes()),Q(B.getSeconds()),St].join("")},K=m.__private__.convertPDFDateToDate=function(B){var ue=parseInt(B.substr(2,4),10),Ee=parseInt(B.substr(6,2),10)-1,$e=parseInt(B.substr(8,2),10),rt=parseInt(B.substr(10,2),10),St=parseInt(B.substr(12,2),10),Mt=parseInt(B.substr(14,2),10);return new Date(ue,Ee,$e,rt,St,Mt,0)},J=m.__private__.setCreationDate=function(B){var ue;if(B===void 0&&(B=new Date),B instanceof Date)ue=q(B);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(B))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ue=B}return X=ue},D=m.__private__.getCreationDate=function(B){var ue=X;return B==="jsDate"&&(ue=K(X)),ue};m.setCreationDate=function(B){return J(B),this},m.getCreationDate=function(B){return D(B)};var Y,Q=m.__private__.padd2=function(B){return("0"+parseInt(B)).slice(-2)},ie=m.__private__.padd2Hex=function(B){return("00"+(B=B.toString())).substr(B.length)},se=0,te=[],de=[],Z=0,ce=[],oe=[],ae=!1,Ne=de,Ie=function(){se=0,Z=0,de=[],te=[],ce=[],ye=Qt(),we=Qt()};m.__private__.setCustomOutputDestination=function(B){ae=!0,Ne=B};var Te=function(B){ae||(Ne=B)};m.__private__.resetCustomOutputDestination=function(){ae=!1,Ne=de};var he=m.__private__.out=function(B){return B=B.toString(),Z+=B.length+1,Ne.push(B),Ne},Ge=m.__private__.write=function(B){return he(arguments.length===1?B.toString():Array.prototype.join.call(arguments," "))},mt=m.__private__.getArrayBuffer=function(B){for(var ue=B.length,Ee=new ArrayBuffer(ue),$e=new Uint8Array(Ee);ue--;)$e[ue]=B.charCodeAt(ue);return Ee},ht=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return ht};var Pt=e.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(B){return Pt=S===b.ADVANCED?B/lt:B,this};var ft,_e=m.__private__.getFontSize=m.getFontSize=function(){return S===b.COMPAT?Pt:Pt*lt},Ce=e.R2L||!1;m.__private__.setR2L=m.setR2L=function(B){return Ce=B,this},m.__private__.getR2L=m.getR2L=function(){return Ce};var ze,gt=m.__private__.setZoomMode=function(B){var ue=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(B))ft=B;else if(isNaN(B)){if(ue.indexOf(B)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+B+'" is not recognized.');ft=B}else ft=parseInt(B,10)};m.__private__.getZoomMode=function(){return ft};var pt,Re=m.__private__.setPageMode=function(B){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(B)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+B+'" is not recognized.');ze=B};m.__private__.getPageMode=function(){return ze};var qe=m.__private__.setLayoutMode=function(B){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(B)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+B+'" is not recognized.');pt=B};m.__private__.getLayoutMode=function(){return pt},m.__private__.setDisplayMode=m.setDisplayMode=function(B,ue,Ee){return gt(B),qe(ue),Re(Ee),this};var Nt={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(B){if(Object.keys(Nt).indexOf(B)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Nt[B]},m.__private__.getDocumentProperties=function(){return Nt},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(B){for(var ue in Nt)Nt.hasOwnProperty(ue)&&B[ue]&&(Nt[ue]=B[ue]);return this},m.__private__.setDocumentProperty=function(B,ue){if(Object.keys(Nt).indexOf(B)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Nt[B]=ue};var Je,lt,sr,Kt,Tr,Kr={},ln={},Aa=[],tn={},ka={},An={},xa={},wa=null,kn=0,Dr=[],Nn=new Qz(m),is=e.hotfixes||[],Na={},Di={},it=[],xt=function B(ue,Ee,$e,rt,St,Mt){if(!(this instanceof B))return new B(ue,Ee,$e,rt,St,Mt);isNaN(ue)&&(ue=1),isNaN(Ee)&&(Ee=0),isNaN($e)&&($e=0),isNaN(rt)&&(rt=1),isNaN(St)&&(St=0),isNaN(Mt)&&(Mt=0),this._matrix=[ue,Ee,$e,rt,St,Mt]};Object.defineProperty(xt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(B){this._matrix[0]=B}}),Object.defineProperty(xt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(B){this._matrix[1]=B}}),Object.defineProperty(xt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(B){this._matrix[2]=B}}),Object.defineProperty(xt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(B){this._matrix[3]=B}}),Object.defineProperty(xt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(B){this._matrix[4]=B}}),Object.defineProperty(xt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(B){this._matrix[5]=B}}),Object.defineProperty(xt.prototype,"a",{get:function(){return this._matrix[0]},set:function(B){this._matrix[0]=B}}),Object.defineProperty(xt.prototype,"b",{get:function(){return this._matrix[1]},set:function(B){this._matrix[1]=B}}),Object.defineProperty(xt.prototype,"c",{get:function(){return this._matrix[2]},set:function(B){this._matrix[2]=B}}),Object.defineProperty(xt.prototype,"d",{get:function(){return this._matrix[3]},set:function(B){this._matrix[3]=B}}),Object.defineProperty(xt.prototype,"e",{get:function(){return this._matrix[4]},set:function(B){this._matrix[4]=B}}),Object.defineProperty(xt.prototype,"f",{get:function(){return this._matrix[5]},set:function(B){this._matrix[5]=B}}),Object.defineProperty(xt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(xt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(xt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(xt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),xt.prototype.join=function(B){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(P).join(B)},xt.prototype.multiply=function(B){var ue=B.sx*this.sx+B.shy*this.shx,Ee=B.sx*this.shy+B.shy*this.sy,$e=B.shx*this.sx+B.sy*this.shx,rt=B.shx*this.shy+B.sy*this.sy,St=B.tx*this.sx+B.ty*this.shx+this.tx,Mt=B.tx*this.shy+B.ty*this.sy+this.ty;return new xt(ue,Ee,$e,rt,St,Mt)},xt.prototype.decompose=function(){var B=this.sx,ue=this.shy,Ee=this.shx,$e=this.sy,rt=this.tx,St=this.ty,Mt=Math.sqrt(B*B+ue*ue),cr=(B/=Mt)*Ee+(ue/=Mt)*$e;Ee-=B*cr,$e-=ue*cr;var Ir=Math.sqrt(Ee*Ee+$e*$e);return cr/=Ir,B*($e/=Ir)<ue*(Ee/=Ir)&&(B=-B,ue=-ue,cr=-cr,Mt=-Mt),{scale:new xt(Mt,0,0,Ir,0,0),translate:new xt(1,0,0,1,rt,St),rotate:new xt(B,ue,-ue,B,0,0),skew:new xt(1,0,cr,1,0,0)}},xt.prototype.toString=function(B){return this.join(" ")},xt.prototype.inversed=function(){var B=this.sx,ue=this.shy,Ee=this.shx,$e=this.sy,rt=this.tx,St=this.ty,Mt=1/(B*$e-ue*Ee),cr=$e*Mt,Ir=-ue*Mt,dn=-Ee*Mt,un=B*Mt;return new xt(cr,Ir,dn,un,-cr*rt-dn*St,-Ir*rt-un*St)},xt.prototype.applyToPoint=function(B){var ue=B.x*this.sx+B.y*this.shx+this.tx,Ee=B.x*this.shy+B.y*this.sy+this.ty;return new Nc(ue,Ee)},xt.prototype.applyToRectangle=function(B){var ue=this.applyToPoint(B),Ee=this.applyToPoint(new Nc(B.x+B.w,B.y+B.h));return new xd(ue.x,ue.y,Ee.x-ue.x,Ee.y-ue.y)},xt.prototype.clone=function(){var B=this.sx,ue=this.shy,Ee=this.shx,$e=this.sy,rt=this.tx,St=this.ty;return new xt(B,ue,Ee,$e,rt,St)},m.Matrix=xt;var et=m.matrixMult=function(B,ue){return ue.multiply(B)},wt=new xt(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=wt;var vr=function(B,ue){if(!ka[B]){var Ee=(ue instanceof C0?"Sh":"P")+(Object.keys(tn).length+1).toString(10);ue.id=Ee,ka[B]=Ee,tn[Ee]=ue,Nn.publish("addPattern",ue)}};m.ShadingPattern=C0,m.TilingPattern=Yv,m.addShadingPattern=function(B,ue){return I("addShadingPattern()"),vr(B,ue),this},m.beginTilingPattern=function(B){I("beginTilingPattern()"),Gg(B.boundingBox[0],B.boundingBox[1],B.boundingBox[2]-B.boundingBox[0],B.boundingBox[3]-B.boundingBox[1],B.matrix)},m.endTilingPattern=function(B,ue){I("endTilingPattern()"),ue.stream=oe[Y].join(`
`),vr(B,ue),Nn.publish("endTilingPattern",ue),it.pop().restore()};var Nr=m.__private__.newObject=function(){var B=Qt();return fe(B,!0),B},Qt=m.__private__.newObjectDeferred=function(){return se++,te[se]=function(){return Z},se},fe=function(B,ue){return ue=typeof ue=="boolean"&&ue,te[B]=Z,ue&&he(B+" 0 obj"),B},Se=m.__private__.newAdditionalObject=function(){var B={objId:Qt(),content:""};return ce.push(B),B},ye=Qt(),we=Qt(),be=m.__private__.decodeColorString=function(B){var ue=B.split(" ");if(ue.length!==2||ue[1]!=="g"&&ue[1]!=="G")ue.length===5&&(ue[4]==="k"||ue[4]==="K")&&(ue=[(1-ue[0])*(1-ue[3]),(1-ue[1])*(1-ue[3]),(1-ue[2])*(1-ue[3]),"r"]);else{var Ee=parseFloat(ue[0]);ue=[Ee,Ee,Ee,"r"]}for(var $e="#",rt=0;rt<3;rt++)$e+=("0"+Math.floor(255*parseFloat(ue[rt])).toString(16)).slice(-2);return $e},ke=m.__private__.encodeColorString=function(B){var ue;typeof B=="string"&&(B={ch1:B});var Ee=B.ch1,$e=B.ch2,rt=B.ch3,St=B.ch4,Mt=B.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ee=="string"&&Ee.charAt(0)!=="#"){var cr=new vne(Ee);if(cr.ok)Ee=cr.toHex();else if(!/^\d*\.?\d*$/.test(Ee))throw new Error('Invalid color "'+Ee+'" passed to jsPDF.encodeColorString.')}if(typeof Ee=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ee)&&(Ee="#"+Ee[1]+Ee[1]+Ee[2]+Ee[2]+Ee[3]+Ee[3]),typeof Ee=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ee)){var Ir=parseInt(Ee.substr(1),16);Ee=Ir>>16&255,$e=Ir>>8&255,rt=255&Ir}if($e===void 0||St===void 0&&Ee===$e&&$e===rt)if(typeof Ee=="string")ue=Ee+" "+Mt[0];else switch(B.precision){case 2:ue=U(Ee/255)+" "+Mt[0];break;case 3:default:ue=T(Ee/255)+" "+Mt[0]}else if(St===void 0||va(St)==="object"){if(St&&!isNaN(St.a)&&St.a===0)return ue=["1.","1.","1.",Mt[1]].join(" ");if(typeof Ee=="string")ue=[Ee,$e,rt,Mt[1]].join(" ");else switch(B.precision){case 2:ue=[U(Ee/255),U($e/255),U(rt/255),Mt[1]].join(" ");break;default:case 3:ue=[T(Ee/255),T($e/255),T(rt/255),Mt[1]].join(" ")}}else if(typeof Ee=="string")ue=[Ee,$e,rt,St,Mt[2]].join(" ");else switch(B.precision){case 2:ue=[U(Ee),U($e),U(rt),U(St),Mt[2]].join(" ");break;case 3:default:ue=[T(Ee),T($e),T(rt),T(St),Mt[2]].join(" ")}return ue},tt=m.__private__.getFilters=function(){return o},yt=m.__private__.putStream=function(B){var ue=(B=B||{}).data||"",Ee=B.filters||tt(),$e=B.alreadyAppliedFilters||[],rt=B.addLength1||!1,St=ue.length,Mt=B.objectId,cr=function(_o){return _o};if(d!==null&&Mt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(cr=za.encryptor(Mt,0));var Ir={};Ee===!0&&(Ee=["FlateEncode"]);var dn=B.additionalKeyValues||[],un=(Ir=Fr.API.processDataByFilters!==void 0?Fr.API.processDataByFilters(ue,Ee):{data:ue,reverseChain:[]}).reverseChain+(Array.isArray($e)?$e.join(" "):$e.toString());if(Ir.data.length!==0&&(dn.push({key:"Length",value:Ir.data.length}),rt===!0&&dn.push({key:"Length1",value:St})),un.length!=0)if(un.split("/").length-1==1)dn.push({key:"Filter",value:un});else{dn.push({key:"Filter",value:"["+un+"]"});for(var Tn=0;Tn<dn.length;Tn+=1)if(dn[Tn].key==="DecodeParms"){for(var Wa=[],ri=0;ri<Ir.reverseChain.split("/").length-1;ri+=1)Wa.push("null");Wa.push(dn[Tn].value),dn[Tn].value="["+Wa.join(" ")+"]"}}he("<<");for(var yi=0;yi<dn.length;yi++)he("/"+dn[yi].key+" "+dn[yi].value);he(">>"),Ir.data.length!==0&&(he("stream"),he(cr(Ir.data)),he("endstream"))},Ke=m.__private__.putPage=function(B){var ue=B.number,Ee=B.data,$e=B.objId,rt=B.contentsObjId;fe($e,!0),he("<</Type /Page"),he("/Parent "+B.rootDictionaryObjId+" 0 R"),he("/Resources "+B.resourceDictionaryObjId+" 0 R"),he("/MediaBox ["+parseFloat(P(B.mediaBox.bottomLeftX))+" "+parseFloat(P(B.mediaBox.bottomLeftY))+" "+P(B.mediaBox.topRightX)+" "+P(B.mediaBox.topRightY)+"]"),B.cropBox!==null&&he("/CropBox ["+P(B.cropBox.bottomLeftX)+" "+P(B.cropBox.bottomLeftY)+" "+P(B.cropBox.topRightX)+" "+P(B.cropBox.topRightY)+"]"),B.bleedBox!==null&&he("/BleedBox ["+P(B.bleedBox.bottomLeftX)+" "+P(B.bleedBox.bottomLeftY)+" "+P(B.bleedBox.topRightX)+" "+P(B.bleedBox.topRightY)+"]"),B.trimBox!==null&&he("/TrimBox ["+P(B.trimBox.bottomLeftX)+" "+P(B.trimBox.bottomLeftY)+" "+P(B.trimBox.topRightX)+" "+P(B.trimBox.topRightY)+"]"),B.artBox!==null&&he("/ArtBox ["+P(B.artBox.bottomLeftX)+" "+P(B.artBox.bottomLeftY)+" "+P(B.artBox.topRightX)+" "+P(B.artBox.topRightY)+"]"),typeof B.userUnit=="number"&&B.userUnit!==1&&he("/UserUnit "+B.userUnit),Nn.publish("putPage",{objId:$e,pageContext:Dr[ue],pageNumber:ue,page:Ee}),he("/Contents "+rt+" 0 R"),he(">>"),he("endobj");var St=Ee.join(`
`);return S===b.ADVANCED&&(St+=`
Q`),fe(rt,!0),yt({data:St,filters:tt(),objectId:rt}),he("endobj"),$e},ot=m.__private__.putPages=function(){var B,ue,Ee=[];for(B=1;B<=kn;B++)Dr[B].objId=Qt(),Dr[B].contentsObjId=Qt();for(B=1;B<=kn;B++)Ee.push(Ke({number:B,data:oe[B],objId:Dr[B].objId,contentsObjId:Dr[B].contentsObjId,mediaBox:Dr[B].mediaBox,cropBox:Dr[B].cropBox,bleedBox:Dr[B].bleedBox,trimBox:Dr[B].trimBox,artBox:Dr[B].artBox,userUnit:Dr[B].userUnit,rootDictionaryObjId:ye,resourceDictionaryObjId:we}));fe(ye,!0),he("<</Type /Pages");var $e="/Kids [";for(ue=0;ue<kn;ue++)$e+=Ee[ue]+" 0 R ";he($e+"]"),he("/Count "+kn),he(">>"),he("endobj"),Nn.publish("postPutPages")},ut=function(B){Nn.publish("putFont",{font:B,out:he,newObject:Nr,putStream:yt}),B.isAlreadyPutted!==!0&&(B.objectNumber=Nr(),he("<<"),he("/Type /Font"),he("/BaseFont /"+Uv(B.postScriptName)),he("/Subtype /Type1"),typeof B.encoding=="string"&&he("/Encoding /"+B.encoding),he("/FirstChar 32"),he("/LastChar 255"),he(">>"),he("endobj"))},It=function(){for(var B in Kr)Kr.hasOwnProperty(B)&&(f===!1||f===!0&&h.hasOwnProperty(B))&&ut(Kr[B])},Yt=function(B){B.objectNumber=Nr();var ue=[];ue.push({key:"Type",value:"/XObject"}),ue.push({key:"Subtype",value:"/Form"}),ue.push({key:"BBox",value:"["+[P(B.x),P(B.y),P(B.x+B.width),P(B.y+B.height)].join(" ")+"]"}),ue.push({key:"Matrix",value:"["+B.matrix.toString()+"]"});var Ee=B.pages[1].join(`
`);yt({data:Ee,additionalKeyValues:ue,objectId:B.objectNumber}),he("endobj")},or=function(){for(var B in Na)Na.hasOwnProperty(B)&&Yt(Na[B])},Vt=function(B,ue){var Ee,$e=[],rt=1/(ue-1);for(Ee=0;Ee<1;Ee+=rt)$e.push(Ee);if($e.push(1),B[0].offset!=0){var St={offset:0,color:B[0].color};B.unshift(St)}if(B[B.length-1].offset!=1){var Mt={offset:1,color:B[B.length-1].color};B.push(Mt)}for(var cr="",Ir=0,dn=0;dn<$e.length;dn++){for(Ee=$e[dn];Ee>B[Ir+1].offset;)Ir++;var un=B[Ir].offset,Tn=(Ee-un)/(B[Ir+1].offset-un),Wa=B[Ir].color,ri=B[Ir+1].color;cr+=ie(Math.round((1-Tn)*Wa[0]+Tn*ri[0]).toString(16))+ie(Math.round((1-Tn)*Wa[1]+Tn*ri[1]).toString(16))+ie(Math.round((1-Tn)*Wa[2]+Tn*ri[2]).toString(16))}return cr.trim()},Bt=function(B,ue){ue||(ue=21);var Ee=Nr(),$e=Vt(B.colors,ue),rt=[];rt.push({key:"FunctionType",value:"0"}),rt.push({key:"Domain",value:"[0.0 1.0]"}),rt.push({key:"Size",value:"["+ue+"]"}),rt.push({key:"BitsPerSample",value:"8"}),rt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),rt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),yt({data:$e,additionalKeyValues:rt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ee}),he("endobj"),B.objectNumber=Nr(),he("<< /ShadingType "+B.type),he("/ColorSpace /DeviceRGB");var St="/Coords ["+P(parseFloat(B.coords[0]))+" "+P(parseFloat(B.coords[1]))+" ";B.type===2?St+=P(parseFloat(B.coords[2]))+" "+P(parseFloat(B.coords[3])):St+=P(parseFloat(B.coords[2]))+" "+P(parseFloat(B.coords[3]))+" "+P(parseFloat(B.coords[4]))+" "+P(parseFloat(B.coords[5])),he(St+="]"),B.matrix&&he("/Matrix ["+B.matrix.toString()+"]"),he("/Function "+Ee+" 0 R"),he("/Extend [true true]"),he(">>"),he("endobj")},Xr=function(B,ue){var Ee=Qt(),$e=Nr();ue.push({resourcesOid:Ee,objectOid:$e}),B.objectNumber=$e;var rt=[];rt.push({key:"Type",value:"/Pattern"}),rt.push({key:"PatternType",value:"1"}),rt.push({key:"PaintType",value:"1"}),rt.push({key:"TilingType",value:"1"}),rt.push({key:"BBox",value:"["+B.boundingBox.map(P).join(" ")+"]"}),rt.push({key:"XStep",value:P(B.xStep)}),rt.push({key:"YStep",value:P(B.yStep)}),rt.push({key:"Resources",value:Ee+" 0 R"}),B.matrix&&rt.push({key:"Matrix",value:"["+B.matrix.toString()+"]"}),yt({data:B.stream,additionalKeyValues:rt,objectId:B.objectNumber}),he("endobj")},Ln=function(B){var ue;for(ue in tn)tn.hasOwnProperty(ue)&&(tn[ue]instanceof C0?Bt(tn[ue]):tn[ue]instanceof Yv&&Xr(tn[ue],B))},Qn=function(B){for(var ue in B.objectNumber=Nr(),he("<<"),B)switch(ue){case"opacity":he("/ca "+U(B[ue]));break;case"stroke-opacity":he("/CA "+U(B[ue]))}he(">>"),he("endobj")},Ua=function(){var B;for(B in An)An.hasOwnProperty(B)&&Qn(An[B])},Ul=function(){for(var B in he("/XObject <<"),Na)Na.hasOwnProperty(B)&&Na[B].objectNumber>=0&&he("/"+B+" "+Na[B].objectNumber+" 0 R");Nn.publish("putXobjectDict"),he(">>")},wc=function(){za.oid=Nr(),he("<<"),he("/Filter /Standard"),he("/V "+za.v),he("/R "+za.r),he("/U <"+za.toHexString(za.U)+">"),he("/O <"+za.toHexString(za.O)+">"),he("/P "+za.P),he(">>"),he("endobj")},Us=function(){for(var B in he("/Font <<"),Kr)Kr.hasOwnProperty(B)&&(f===!1||f===!0&&h.hasOwnProperty(B))&&he("/"+B+" "+Kr[B].objectNumber+" 0 R");he(">>")},vi=function(){if(Object.keys(tn).length>0){for(var B in he("/Shading <<"),tn)tn.hasOwnProperty(B)&&tn[B]instanceof C0&&tn[B].objectNumber>=0&&he("/"+B+" "+tn[B].objectNumber+" 0 R");Nn.publish("putShadingPatternDict"),he(">>")}},_c=function(B){if(Object.keys(tn).length>0){for(var ue in he("/Pattern <<"),tn)tn.hasOwnProperty(ue)&&tn[ue]instanceof m.TilingPattern&&tn[ue].objectNumber>=0&&tn[ue].objectNumber<B&&he("/"+ue+" "+tn[ue].objectNumber+" 0 R");Nn.publish("putTilingPatternDict"),he(">>")}},qa=function(){if(Object.keys(An).length>0){var B;for(B in he("/ExtGState <<"),An)An.hasOwnProperty(B)&&An[B].objectNumber>=0&&he("/"+B+" "+An[B].objectNumber+" 0 R");Nn.publish("putGStateDict"),he(">>")}},li=function(B){fe(B.resourcesOid,!0),he("<<"),he("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Us(),vi(),_c(B.objectOid),qa(),Ul(),he(">>"),he("endobj")},Ug=function(){var B=[];It(),Ua(),or(),Ln(B),Nn.publish("putResources"),B.forEach(li),li({resourcesOid:we,objectOid:Number.MAX_SAFE_INTEGER}),Nn.publish("postPutResources")},qg=function(){Nn.publish("putAdditionalObjects");for(var B=0;B<ce.length;B++){var ue=ce[B];fe(ue.objId,!0),he(ue.content),he("endobj")}Nn.publish("postPutAdditionalObjects")},_f=function(B){ln[B.fontName]=ln[B.fontName]||{},ln[B.fontName][B.fontStyle]=B.id},fd=function(B,ue,Ee,$e,rt){var St={id:"F"+(Object.keys(Kr).length+1).toString(10),postScriptName:B,fontName:ue,fontStyle:Ee,encoding:$e,isStandardFont:rt||!1,metadata:{}};return Nn.publish("addFont",{font:St,instance:this}),Kr[St.id]=St,_f(St),St.id},bf=function(B){for(var ue=0,Ee=ht.length;ue<Ee;ue++){var $e=fd.call(this,B[ue][0],B[ue][1],B[ue][2],ht[ue][3],!0);f===!1&&(h[$e]=!0);var rt=B[ue][0].split("-");_f({id:$e,fontName:rt[0],fontStyle:rt[1]||""})}Nn.publish("addFonts",{fonts:Kr,dictionary:ln})},os=function(B){return B.foo=function(){try{return B.apply(this,arguments)}catch($e){var ue=$e.stack||"";~ue.indexOf(" at ")&&(ue=ue.split(" at ")[1]);var Ee="Error in function "+ue.split(`
`)[0].split("<")[0]+": "+$e.message;if(!Zr.console)throw new Error(Ee);Zr.console.error(Ee,$e),Zr.alert&&alert(Ee)}},B.foo.bar=B,B.foo},$h=function(B,ue){var Ee,$e,rt,St,Mt,cr,Ir,dn,un;if(rt=(ue=ue||{}).sourceEncoding||"Unicode",Mt=ue.outputEncoding,(ue.autoencode||Mt)&&Kr[Je].metadata&&Kr[Je].metadata[rt]&&Kr[Je].metadata[rt].encoding&&(St=Kr[Je].metadata[rt].encoding,!Mt&&Kr[Je].encoding&&(Mt=Kr[Je].encoding),!Mt&&St.codePages&&(Mt=St.codePages[0]),typeof Mt=="string"&&(Mt=St[Mt]),Mt)){for(Ir=!1,cr=[],Ee=0,$e=B.length;Ee<$e;Ee++)(dn=Mt[B.charCodeAt(Ee)])?cr.push(String.fromCharCode(dn)):cr.push(B[Ee]),cr[Ee].charCodeAt(0)>>8&&(Ir=!0);B=cr.join("")}for(Ee=B.length;Ir===void 0&&Ee!==0;)B.charCodeAt(Ee-1)>>8&&(Ir=!0),Ee--;if(!Ir)return B;for(cr=ue.noBOM?[]:[254,255],Ee=0,$e=B.length;Ee<$e;Ee++){if((un=(dn=B.charCodeAt(Ee))>>8)>>8)throw new Error("Character at position "+Ee+" of string '"+B+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");cr.push(un),cr.push(dn-(un<<8))}return String.fromCharCode.apply(void 0,cr)},ss=m.__private__.pdfEscape=m.pdfEscape=function(B,ue){return $h(B,ue).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Sf=m.__private__.beginPage=function(B){oe[++kn]=[],Dr[kn]={objId:0,contentsObjId:0,userUnit:Number(s),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(B[0]),topRightY:Number(B[1])}},hd(kn),Te(oe[Y])},Um=function(B,ue){var Ee,$e,rt;switch(r=ue||r,typeof B=="string"&&(Ee=_(B.toLowerCase()),Array.isArray(Ee)&&($e=Ee[0],rt=Ee[1])),Array.isArray(B)&&($e=B[0]*lt,rt=B[1]*lt),isNaN($e)&&($e=a[0],rt=a[1]),($e>14400||rt>14400)&&(Ca.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),$e=Math.min(14400,$e),rt=Math.min(14400,rt)),a=[$e,rt],r.substr(0,1)){case"l":rt>$e&&(a=[rt,$e]);break;case"p":$e>rt&&(a=[rt,$e])}Sf(a),Cf(Vm),he(ls),Gm!==0&&he(Gm+" J"),Tf!==0&&he(Tf+" j"),Nn.publish("addPage",{pageNumber:kn})},qm=function(B){B>0&&B<=kn&&(oe.splice(B,1),Dr.splice(B,1),kn--,Y>kn&&(Y=kn),this.setPage(Y))},hd=function(B){B>0&&B<=kn&&(Y=B)},Cy=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return oe.length-1},Bh=function(B,ue,Ee){var $e,rt=void 0;return Ee=Ee||{},B=B!==void 0?B:Kr[Je].fontName,ue=ue!==void 0?ue:Kr[Je].fontStyle,$e=B.toLowerCase(),ln[$e]!==void 0&&ln[$e][ue]!==void 0?rt=ln[$e][ue]:ln[B]!==void 0&&ln[B][ue]!==void 0?rt=ln[B][ue]:Ee.disableWarning===!1&&Ca.warn("Unable to look up font label for font '"+B+"', '"+ue+"'. Refer to getFontList() for available fonts."),rt||Ee.noFallback||(rt=ln.times[ue])==null&&(rt=ln.times.normal),rt},Un=m.__private__.putInfo=function(){var B=Nr(),ue=function($e){return $e};for(var Ee in d!==null&&(ue=za.encryptor(B,0)),he("<<"),he("/Producer ("+ss(ue("jsPDF "+Fr.version))+")"),Nt)Nt.hasOwnProperty(Ee)&&Nt[Ee]&&he("/"+Ee.substr(0,1).toUpperCase()+Ee.substr(1)+" ("+ss(ue(Nt[Ee]))+")");he("/CreationDate ("+ss(ue(X))+")"),he(">>"),he("endobj")},Uh=m.__private__.putCatalog=function(B){var ue=(B=B||{}).rootDictionaryObjId||ye;switch(Nr(),he("<<"),he("/Type /Catalog"),he("/Pages "+ue+" 0 R"),ft||(ft="fullwidth"),ft){case"fullwidth":he("/OpenAction [3 0 R /FitH null]");break;case"fullheight":he("/OpenAction [3 0 R /FitV null]");break;case"fullpage":he("/OpenAction [3 0 R /Fit]");break;case"original":he("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ee=""+ft;Ee.substr(Ee.length-1)==="%"&&(ft=parseInt(ft)/100),typeof ft=="number"&&he("/OpenAction [3 0 R /XYZ null null "+U(ft)+"]")}switch(pt||(pt="continuous"),pt){case"continuous":he("/PageLayout /OneColumn");break;case"single":he("/PageLayout /SinglePage");break;case"two":case"twoleft":he("/PageLayout /TwoColumnLeft");break;case"tworight":he("/PageLayout /TwoColumnRight")}ze&&he("/PageMode /"+ze),Nn.publish("putCatalog"),he(">>"),he("endobj")},zg=m.__private__.putTrailer=function(){he("trailer"),he("<<"),he("/Size "+(se+1)),he("/Root "+se+" 0 R"),he("/Info "+(se-1)+" 0 R"),d!==null&&he("/Encrypt "+za.oid+" 0 R"),he("/ID [ <"+re+"> <"+re+"> ]"),he(">>")},zm=m.__private__.putHeader=function(){he("%PDF-"+x),he("%")},Wg=m.__private__.putXRef=function(){var B="0000000000";he("xref"),he("0 "+(se+1)),he("0000000000 65535 f ");for(var ue=1;ue<=se;ue++)typeof te[ue]=="function"?he((B+te[ue]()).slice(-10)+" 00000 n "):te[ue]!==void 0?he((B+te[ue]).slice(-10)+" 00000 n "):he("0000000000 00000 n ")},bc=m.__private__.buildDocument=function(){Ie(),Te(de),Nn.publish("buildDocument"),zm(),ot(),qg(),Ug(),d!==null&&wc(),Un(),Uh();var B=Z;return Wg(),zg(),he("startxref"),he(""+B),he("%%EOF"),Te(oe[Y]),de.join(`
`)},Af=m.__private__.getBlob=function(B){return new Blob([mt(B)],{type:"application/pdf"})},pd=m.output=m.__private__.output=os(function(B,ue){switch(typeof(ue=ue||{})=="string"?ue={filename:ue}:ue.filename=ue.filename||"generated.pdf",B){case void 0:return bc();case"save":m.save(ue.filename);break;case"arraybuffer":return mt(bc());case"blob":return Af(bc());case"bloburi":case"bloburl":if(Zr.URL!==void 0&&typeof Zr.URL.createObjectURL=="function")return Zr.URL&&Zr.URL.createObjectURL(Af(bc()))||void 0;Ca.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ee="",$e=bc();try{Ee=o8($e)}catch{Ee=o8(unescape(encodeURIComponent($e)))}return"data:application/pdf;filename="+ue.filename+";base64,"+Ee;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Zr)==="[object Window]"){var rt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",St=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ue.pdfObjectUrl&&(rt=ue.pdfObjectUrl,St="");var Mt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+rt+'"'+St+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ue)+");<\/script></body></html>",cr=Zr.open();return cr!==null&&cr.document.write(Mt),cr}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Zr)==="[object Window]"){var Ir='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ue.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ue.filename+'" width="500px" height="400px" /></body></html>',dn=Zr.open();if(dn!==null){dn.document.write(Ir);var un=this;dn.document.documentElement.querySelector("#pdfViewer").onload=function(){dn.document.title=ue.filename,dn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(un.output("bloburl"))}}return dn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Zr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Tn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ue)+'"></iframe></body></html>',Wa=Zr.open();if(Wa!==null&&(Wa.document.write(Tn),Wa.document.title=ue.filename),Wa||typeof safari>"u")return Wa;break;case"datauri":case"dataurl":return Zr.document.location.href=this.output("datauristring",ue);default:return null}}),kf=function(B){return Array.isArray(is)===!0&&is.indexOf(B)>-1};switch(n){case"pt":lt=1;break;case"mm":lt=72/25.4;break;case"cm":lt=72/2.54;break;case"in":lt=72;break;case"px":lt=kf("px_scaling")==1?.75:96/72;break;case"pc":case"em":lt=12;break;case"ex":lt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);lt=n}var za=null;J(),G();var Sc=function(B){return d!==null?za.encryptor(B,0):function(ue){return ue}},ql=m.__private__.getPageInfo=m.getPageInfo=function(B){if(isNaN(B)||B%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Dr[B].objId,pageNumber:B,pageContext:Dr[B]}},Ur=m.__private__.getPageInfoByObjId=function(B){if(isNaN(B)||B%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ue in Dr)if(Dr[ue].objId===B)break;return ql(ue)},Nf=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:Dr[Y].objId,pageNumber:Y,pageContext:Dr[Y]}};m.addPage=function(){return Um.apply(this,arguments),this},m.setPage=function(){return hd.apply(this,arguments),Te.call(this,oe[Y]),this},m.insertPage=function(B){return this.addPage(),this.movePage(Y,B),this},m.movePage=function(B,ue){var Ee,$e;if(B>ue){Ee=oe[B],$e=Dr[B];for(var rt=B;rt>ue;rt--)oe[rt]=oe[rt-1],Dr[rt]=Dr[rt-1];oe[ue]=Ee,Dr[ue]=$e,this.setPage(ue)}else if(B<ue){Ee=oe[B],$e=Dr[B];for(var St=B;St<ue;St++)oe[St]=oe[St+1],Dr[St]=Dr[St+1];oe[ue]=Ee,Dr[ue]=$e,this.setPage(ue)}return this},m.deletePage=function(){return qm.apply(this,arguments),this},m.__private__.text=m.text=function(B,ue,Ee,$e,rt){var St,Mt,cr,Ir,dn,un,Tn,Wa,ri,yi=($e=$e||{}).scope||this;if(typeof B=="number"&&typeof ue=="number"&&(typeof Ee=="string"||Array.isArray(Ee))){var _o=Ee;Ee=ue,ue=B,B=_o}if(arguments[3]instanceof xt?(I("The transform parameter of text() with a Matrix value"),ri=rt):(cr=arguments[4],Ir=arguments[5],va(Tn=arguments[3])==="object"&&Tn!==null||(typeof cr=="string"&&(Ir=cr,cr=null),typeof Tn=="string"&&(Ir=Tn,Tn=null),typeof Tn=="number"&&(cr=Tn,Tn=null),$e={flags:Tn,angle:cr,align:Ir})),isNaN(ue)||isNaN(Ee)||B==null)throw new Error("Invalid arguments passed to jsPDF.text");if(B.length===0)return yi;var to="",Hl=!1,zs=typeof $e.lineHeightFactor=="number"?$e.lineHeightFactor:Ef,gl=yi.internal.scaleFactor;function _d(ha){return ha=ha.split("	").join(Array($e.TabLen||9).join(" ")),ss(ha,Tn)}function Xm(ha){for(var ea,ai=ha.concat(),xi=[],Pc=ai.length;Pc--;)typeof(ea=ai.shift())=="string"?xi.push(ea):Array.isArray(ha)&&(ea.length===1||ea[1]===void 0&&ea[2]===void 0)?xi.push(ea[0]):xi.push([ea[0],ea[1],ea[2]]);return xi}function Zh(ha,ea){var ai;if(typeof ha=="string")ai=ea(ha)[0];else if(Array.isArray(ha)){for(var xi,Pc,sp=ha.concat(),jf=[],Qm=sp.length;Qm--;)typeof(xi=sp.shift())=="string"?jf.push(ea(xi)[0]):Array.isArray(xi)&&typeof xi[0]=="string"&&(Pc=ea(xi[0],xi[1],xi[2]),jf.push([Pc[0],Pc[1],Pc[2]]));ai=jf}return ai}var Of=!1,Jh=!0;if(typeof B=="string")Of=!0;else if(Array.isArray(B)){var Qh=B.concat();Mt=[];for(var Df,ni=Qh.length;ni--;)(typeof(Df=Qh.shift())!="string"||Array.isArray(Df)&&typeof Df[0]!="string")&&(Jh=!1);Of=Jh}if(Of===!1)throw new Error('Type of text must be string or Array. "'+B+'" is not recognized.');typeof B=="string"&&(B=B.match(/[\r?\n]/)?B.split(/\r\n|\r|\n/g):[B]);var ep=Pt/yi.internal.scaleFactor,tp=ep*(zs-1);switch($e.baseline){case"bottom":Ee-=tp;break;case"top":Ee+=ep-tp;break;case"hanging":Ee+=ep-2*tp;break;case"middle":Ee+=ep/2-tp}if((un=$e.maxWidth||0)>0&&(typeof B=="string"?B=yi.splitTextToSize(B,un):Object.prototype.toString.call(B)==="[object Array]"&&(B=B.reduce(function(ha,ea){return ha.concat(yi.splitTextToSize(ea,un))},[]))),St={text:B,x:ue,y:Ee,options:$e,mutex:{pdfEscape:ss,activeFontKey:Je,fonts:Kr,activeFontSize:Pt}},Nn.publish("preProcessText",St),B=St.text,cr=($e=St.options).angle,!(ri instanceof xt)&&cr&&typeof cr=="number"){cr*=Math.PI/180,$e.rotationDirection===0&&(cr=-cr),S===b.ADVANCED&&(cr=-cr);var rp=Math.cos(cr),np=Math.sin(cr);ri=new xt(rp,np,-np,rp,0,0)}else cr&&cr instanceof xt&&(ri=cr);S!==b.ADVANCED||ri||(ri=wt),(dn=$e.charSpace||yd)!==void 0&&(to+=P(F(dn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Wa=$e.horizontalScale)!==void 0&&(to+=P(100*Wa)+` Tz
`),$e.lang;var qo=-1,If=$e.renderingMode!==void 0?$e.renderingMode:$e.stroke,cu=yi.internal.getCurrentPageInfo().pageContext;switch(If){case 0:case!1:case"fill":qo=0;break;case 1:case!0:case"stroke":qo=1;break;case 2:case"fillThenStroke":qo=2;break;case 3:case"invisible":qo=3;break;case 4:case"fillAndAddForClipping":qo=4;break;case 5:case"strokeAndAddPathForClipping":qo=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":qo=6;break;case 7:case"addToPathForClipping":qo=7}var Yg=cu.usedRenderingMode!==void 0?cu.usedRenderingMode:-1;qo!==-1?to+=qo+` Tr
`:Yg!==-1&&(to+=`0 Tr
`),qo!==-1&&(cu.usedRenderingMode=qo),Ir=$e.align||"left";var zo,ap=Pt*zs,Zm=yi.internal.pageSize.getWidth(),ip=Kr[Je];dn=$e.charSpace||yd,un=$e.maxWidth||0,Tn=Object.assign({autoencode:!0,noBOM:!0},$e.flags);var Ec=[],bd=function(ha){return yi.getStringUnitWidth(ha,{font:ip,charSpace:dn,fontSize:Pt,doKerning:!1})*Pt/gl};if(Object.prototype.toString.call(B)==="[object Array]"){var Wo;Mt=Xm(B),Ir!=="left"&&(zo=Mt.map(bd));var bo,Sd=0;if(Ir==="right"){ue-=zo[0],B=[],ni=Mt.length;for(var uu=0;uu<ni;uu++)uu===0?(bo=pl(ue),Wo=ml(Ee)):(bo=F(Sd-zo[uu]),Wo=-ap),B.push([Mt[uu],bo,Wo]),Sd=zo[uu]}else if(Ir==="center"){ue-=zo[0]/2,B=[],ni=Mt.length;for(var du=0;du<ni;du++)du===0?(bo=pl(ue),Wo=ml(Ee)):(bo=F((Sd-zo[du])/2),Wo=-ap),B.push([Mt[du],bo,Wo]),Sd=zo[du]}else if(Ir==="left"){B=[],ni=Mt.length;for(var op=0;op<ni;op++)B.push(Mt[op])}else if(Ir==="justify"&&ip.encoding==="Identity-H"){B=[],ni=Mt.length,un=un!==0?un:Zm;for(var fu=0,qn=0;qn<ni;qn++)if(Wo=qn===0?ml(Ee):-ap,bo=qn===0?pl(ue):fu,qn<ni-1){var hu=F((un-zo[qn])/(Mt[qn].split(" ").length-1)),So=Mt[qn].split(" ");B.push([So[0]+" ",bo,Wo]),fu=0;for(var Ws=1;Ws<So.length;Ws++){var Rf=(bd(So[Ws-1]+" "+So[Ws])-bd(So[Ws]))*gl+hu;Ws==So.length-1?B.push([So[Ws],Rf,0]):B.push([So[Ws]+" ",Rf,0]),fu-=Rf}}else B.push([Mt[qn],bo,Wo]);B.push(["",fu,0])}else{if(Ir!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(B=[],ni=Mt.length,un=un!==0?un:Zm,qn=0;qn<ni;qn++)Wo=qn===0?ml(Ee):-ap,bo=qn===0?pl(ue):0,qn<ni-1?Ec.push(P(F((un-zo[qn])/(Mt[qn].split(" ").length-1)))):Ec.push(0),B.push([Mt[qn],bo,Wo])}}var Jm=typeof $e.R2L=="boolean"?$e.R2L:Ce;Jm===!0&&(B=Zh(B,function(ha,ea,ai){return[ha.split("").reverse().join(""),ea,ai]})),St={text:B,x:ue,y:Ee,options:$e,mutex:{pdfEscape:ss,activeFontKey:Je,fonts:Kr,activeFontSize:Pt}},Nn.publish("postProcessText",St),B=St.text,Hl=St.mutex.isHex||!1;var Mf=Kr[Je].encoding;Mf!=="WinAnsiEncoding"&&Mf!=="StandardEncoding"||(B=Zh(B,function(ha,ea,ai){return[_d(ha),ea,ai]})),Mt=Xm(B),B=[];for(var Ff,Lf,Vs,pu=0,Cc=1,mu=Array.isArray(Mt[0])?Cc:pu,gu="",Ad=function(ha,ea,ai){var xi="";return ai instanceof xt?(ai=typeof $e.angle=="number"?et(ai,new xt(1,0,0,1,ha,ea)):et(new xt(1,0,0,1,ha,ea),ai),S===b.ADVANCED&&(ai=et(new xt(1,0,0,-1,0,0),ai)),xi=ai.join(" ")+` Tm
`):xi=P(ha)+" "+P(ea)+` Td
`,xi},uo=0;uo<Mt.length;uo++){switch(gu="",mu){case Cc:Vs=(Hl?"<":"(")+Mt[uo][0]+(Hl?">":")"),Ff=parseFloat(Mt[uo][1]),Lf=parseFloat(Mt[uo][2]);break;case pu:Vs=(Hl?"<":"(")+Mt[uo]+(Hl?">":")"),Ff=pl(ue),Lf=ml(Ee)}Ec!==void 0&&Ec[uo]!==void 0&&(gu=Ec[uo]+` Tw
`),uo===0?B.push(gu+Ad(Ff,Lf,ri)+Vs):mu===pu?B.push(gu+Vs):mu===Cc&&B.push(gu+Ad(Ff,Lf,ri)+Vs)}B=mu===pu?B.join(` Tj
T* `):B.join(` Tj
`),B+=` Tj
`;var cs=`BT
/`;return cs+=Je+" "+Pt+` Tf
`,cs+=P(Pt*zs)+` TL
`,cs+=Ii+`
`,cs+=to,cs+=B,he(cs+="ET"),h[Je]=!0,yi};var Ac=m.__private__.clip=m.clip=function(B){return he(B==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return Ac("evenodd")},m.__private__.discardPath=m.discardPath=function(){return he("n"),this};var kc=m.__private__.isValidStyle=function(B){var ue=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(B)!==-1&&(ue=!0),ue};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(B){return kc(B)&&(u=B),this};var Wm=m.__private__.getStyle=m.getStyle=function(B){var ue=u;switch(B){case"D":case"S":ue="S";break;case"F":ue="f";break;case"FD":case"DF":ue="B";break;case"f":case"f*":case"B":case"B*":ue=B}return ue},md=m.close=function(){return he("h"),this};m.stroke=function(){return he("S"),this},m.fill=function(B){return qh("f",B),this},m.fillEvenOdd=function(B){return qh("f*",B),this},m.fillStroke=function(B){return qh("B",B),this},m.fillStrokeEvenOdd=function(B){return qh("B*",B),this};var qh=function(B,ue){va(ue)==="object"?Vg(ue,B):he(B)},zh=function(B){B===null||S===b.ADVANCED&&B===void 0||(B=Wm(B),he(B))};function Wh(B,ue,Ee,$e,rt){var St=new Yv(ue||this.boundingBox,Ee||this.xStep,$e||this.yStep,this.gState,rt||this.matrix);St.stream=this.stream;var Mt=B+"$$"+this.cloneIndex+++"$$";return vr(Mt,St),St}var Vg=function(B,ue){var Ee=ka[B.key],$e=tn[Ee];if($e instanceof C0)he("q"),he(Py(ue)),$e.gState&&m.setGState($e.gState),he(B.matrix.toString()+" cm"),he("/"+Ee+" sh"),he("Q");else if($e instanceof Yv){var rt=new xt(1,0,0,-1,0,wd());B.matrix&&(rt=rt.multiply(B.matrix||wt),Ee=Wh.call($e,B.key,B.boundingBox,B.xStep,B.yStep,rt).id),he("q"),he("/Pattern cs"),he("/"+Ee+" scn"),$e.gState&&m.setGState($e.gState),he(ue),he("Q")}},Py=function(B){switch(B){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},su=m.moveTo=function(B,ue){return he(P(F(B))+" "+P(H(ue))+" m"),this},zl=m.lineTo=function(B,ue){return he(P(F(B))+" "+P(H(ue))+" l"),this},qs=m.curveTo=function(B,ue,Ee,$e,rt,St){return he([P(F(B)),P(H(ue)),P(F(Ee)),P(H($e)),P(F(rt)),P(H(St)),"c"].join(" ")),this};m.__private__.line=m.line=function(B,ue,Ee,$e,rt){if(isNaN(B)||isNaN(ue)||isNaN(Ee)||isNaN($e)||!kc(rt))throw new Error("Invalid arguments passed to jsPDF.line");return S===b.COMPAT?this.lines([[Ee-B,$e-ue]],B,ue,[1,1],rt||"S"):this.lines([[Ee-B,$e-ue]],B,ue,[1,1]).stroke()},m.__private__.lines=m.lines=function(B,ue,Ee,$e,rt,St){var Mt,cr,Ir,dn,un,Tn,Wa,ri,yi,_o,to,Hl;if(typeof B=="number"&&(Hl=Ee,Ee=ue,ue=B,B=Hl),$e=$e||[1,1],St=St||!1,isNaN(ue)||isNaN(Ee)||!Array.isArray(B)||!Array.isArray($e)||!kc(rt)||typeof St!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(su(ue,Ee),Mt=$e[0],cr=$e[1],dn=B.length,_o=ue,to=Ee,Ir=0;Ir<dn;Ir++)(un=B[Ir]).length===2?(_o=un[0]*Mt+_o,to=un[1]*cr+to,zl(_o,to)):(Tn=un[0]*Mt+_o,Wa=un[1]*cr+to,ri=un[2]*Mt+_o,yi=un[3]*cr+to,_o=un[4]*Mt+_o,to=un[5]*cr+to,qs(Tn,Wa,ri,yi,_o,to));return St&&md(),zh(rt),this},m.path=function(B){for(var ue=0;ue<B.length;ue++){var Ee=B[ue],$e=Ee.c;switch(Ee.op){case"m":su($e[0],$e[1]);break;case"l":zl($e[0],$e[1]);break;case"c":qs.apply(this,$e);break;case"h":md()}}return this},m.__private__.rect=m.rect=function(B,ue,Ee,$e,rt){if(isNaN(B)||isNaN(ue)||isNaN(Ee)||isNaN($e)||!kc(rt))throw new Error("Invalid arguments passed to jsPDF.rect");return S===b.COMPAT&&($e=-$e),he([P(F(B)),P(H(ue)),P(F(Ee)),P(F($e)),"re"].join(" ")),zh(rt),this},m.__private__.triangle=m.triangle=function(B,ue,Ee,$e,rt,St,Mt){if(isNaN(B)||isNaN(ue)||isNaN(Ee)||isNaN($e)||isNaN(rt)||isNaN(St)||!kc(Mt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ee-B,$e-ue],[rt-Ee,St-$e],[B-rt,ue-St]],B,ue,[1,1],Mt,!0),this},m.__private__.roundedRect=m.roundedRect=function(B,ue,Ee,$e,rt,St,Mt){if(isNaN(B)||isNaN(ue)||isNaN(Ee)||isNaN($e)||isNaN(rt)||isNaN(St)||!kc(Mt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var cr=4/3*(Math.SQRT2-1);return rt=Math.min(rt,.5*Ee),St=Math.min(St,.5*$e),this.lines([[Ee-2*rt,0],[rt*cr,0,rt,St-St*cr,rt,St],[0,$e-2*St],[0,St*cr,-rt*cr,St,-rt,St],[2*rt-Ee,0],[-rt*cr,0,-rt,-St*cr,-rt,-St],[0,2*St-$e],[0,-St*cr,rt*cr,-St,rt,-St]],B+rt,ue,[1,1],Mt,!0),this},m.__private__.ellipse=m.ellipse=function(B,ue,Ee,$e,rt){if(isNaN(B)||isNaN(ue)||isNaN(Ee)||isNaN($e)||!kc(rt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var St=4/3*(Math.SQRT2-1)*Ee,Mt=4/3*(Math.SQRT2-1)*$e;return su(B+Ee,ue),qs(B+Ee,ue-Mt,B+St,ue-$e,B,ue-$e),qs(B-St,ue-$e,B-Ee,ue-Mt,B-Ee,ue),qs(B-Ee,ue+Mt,B-St,ue+$e,B,ue+$e),qs(B+St,ue+$e,B+Ee,ue+Mt,B+Ee,ue),zh(rt),this},m.__private__.circle=m.circle=function(B,ue,Ee,$e){if(isNaN(B)||isNaN(ue)||isNaN(Ee)||!kc($e))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(B,ue,Ee,Ee,$e)},m.setFont=function(B,ue,Ee){return Ee&&(ue=O(ue,Ee)),Je=Bh(B,ue,{disableWarning:!1}),this};var Vh=m.__private__.getFont=m.getFont=function(){return Kr[Bh.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var B,ue,Ee={};for(B in ln)if(ln.hasOwnProperty(B))for(ue in Ee[B]=[],ln[B])ln[B].hasOwnProperty(ue)&&Ee[B].push(ue);return Ee},m.addFont=function(B,ue,Ee,$e,rt){var St=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&St.indexOf(arguments[3])!==-1?rt=arguments[3]:arguments[3]&&St.indexOf(arguments[3])==-1&&(Ee=O(Ee,$e)),rt=rt||"Identity-H",fd.call(this,B,ue,Ee,rt)};var Ef,Vm=e.lineWidth||.200025,gd=m.__private__.getLineWidth=m.getLineWidth=function(){return Vm},Cf=m.__private__.setLineWidth=m.setLineWidth=function(B){return Vm=B,he(P(F(B))+" w"),this};m.__private__.setLineDash=Fr.API.setLineDash=Fr.API.setLineDashPattern=function(B,ue){if(B=B||[],ue=ue||0,isNaN(ue)||!Array.isArray(B))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return B=B.map(function(Ee){return P(F(Ee))}).join(" "),ue=P(F(ue)),he("["+B+"] "+ue+" d"),this};var Hh=m.__private__.getLineHeight=m.getLineHeight=function(){return Pt*Ef};m.__private__.getLineHeight=m.getLineHeight=function(){return Pt*Ef};var Hm=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(B){return typeof(B=B||1.15)=="number"&&(Ef=B),this},Wl=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return Ef};Hm(e.lineHeight);var pl=m.__private__.getHorizontalCoordinate=function(B){return F(B)},ml=m.__private__.getVerticalCoordinate=function(B){return S===b.ADVANCED?B:Dr[Y].mediaBox.topRightY-Dr[Y].mediaBox.bottomLeftY-F(B)},Hg=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(B){return P(pl(B))},Vl=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(B){return P(ml(B))},ls=e.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return be(ls)},m.__private__.setStrokeColor=m.setDrawColor=function(B,ue,Ee,$e){return ls=ke({ch1:B,ch2:ue,ch3:Ee,ch4:$e,pdfColorType:"draw",precision:2}),he(ls),this};var Gh=e.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return be(Gh)},m.__private__.setFillColor=m.setFillColor=function(B,ue,Ee,$e){return Gh=ke({ch1:B,ch2:ue,ch3:Ee,ch4:$e,pdfColorType:"fill",precision:2}),he(Gh),this};var Ii=e.textColor||"0 g",vd=m.__private__.getTextColor=m.getTextColor=function(){return be(Ii)};m.__private__.setTextColor=m.setTextColor=function(B,ue,Ee,$e){return Ii=ke({ch1:B,ch2:ue,ch3:Ee,ch4:$e,pdfColorType:"text",precision:3}),this};var yd=e.charSpace,Pf=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(yd||0)};m.__private__.setCharSpace=m.setCharSpace=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return yd=B,this};var Gm=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(B){var ue=m.CapJoinStyles[B];if(ue===void 0)throw new Error("Line cap style of '"+B+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Gm=ue,he(ue+" J"),this};var Tf=0;m.__private__.setLineJoin=m.setLineJoin=function(B){var ue=m.CapJoinStyles[B];if(ue===void 0)throw new Error("Line join style of '"+B+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Tf=ue,he(ue+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(B){if(B=B||0,isNaN(B))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return he(P(F(B))+" M"),this},m.GState=MS,m.setGState=function(B){(B=typeof B=="string"?An[xa[B]]:Yh(null,B)).equals(wa)||(he("/"+B.id+" gs"),wa=B)};var Yh=function(B,ue){if(!B||!xa[B]){var Ee=!1;for(var $e in An)if(An.hasOwnProperty($e)&&An[$e].equals(ue)){Ee=!0;break}if(Ee)ue=An[$e];else{var rt="GS"+(Object.keys(An).length+1).toString(10);An[rt]=ue,ue.id=rt}return B&&(xa[B]=ue.id),Nn.publish("addGState",ue),ue}};m.addGState=function(B,ue){return Yh(B,ue),this},m.saveGraphicsState=function(){return he("q"),Aa.push({key:Je,size:Pt,color:Ii}),this},m.restoreGraphicsState=function(){he("Q");var B=Aa.pop();return Je=B.key,Pt=B.size,Ii=B.color,wa=null,this},m.setCurrentTransformationMatrix=function(B){return he(B.toString()+" cm"),this},m.comment=function(B){return he("#"+B),this};var Nc=function(B,ue){var Ee=B||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ee},set:function(St){isNaN(St)||(Ee=parseFloat(St))}});var $e=ue||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return $e},set:function(St){isNaN(St)||($e=parseFloat(St))}});var rt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return rt},set:function(St){rt=St.toString()}}),this},xd=function(B,ue,Ee,$e){Nc.call(this,B,ue),this.type="rect";var rt=Ee||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return rt},set:function(Mt){isNaN(Mt)||(rt=parseFloat(Mt))}});var St=$e||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return St},set:function(Mt){isNaN(Mt)||(St=parseFloat(Mt))}}),this},Kh=function(){this.page=kn,this.currentPage=Y,this.pages=oe.slice(0),this.pagesContext=Dr.slice(0),this.x=sr,this.y=Kt,this.matrix=Tr,this.width=lu(Y),this.height=wd(Y),this.outputDestination=Ne,this.id="",this.objectNumber=-1};Kh.prototype.restore=function(){kn=this.page,Y=this.currentPage,Dr=this.pagesContext,oe=this.pages,sr=this.x,Kt=this.y,Tr=this.matrix,Ym(Y,this.width),Km(Y,this.height),Ne=this.outputDestination};var Gg=function(B,ue,Ee,$e,rt){it.push(new Kh),kn=Y=0,oe=[],sr=B,Kt=ue,Tr=rt,Sf([Ee,$e])},Ty=function(B){if(Di[B])it.pop().restore();else{var ue=new Kh,Ee="Xo"+(Object.keys(Na).length+1).toString(10);ue.id=Ee,Di[B]=Ee,Na[Ee]=ue,Nn.publish("addFormObject",ue),it.pop().restore()}};for(var Xh in m.beginFormObject=function(B,ue,Ee,$e,rt){return Gg(B,ue,Ee,$e,rt),this},m.endFormObject=function(B){return Ty(B),this},m.doFormObject=function(B,ue){var Ee=Na[Di[B]];return he("q"),he(ue.toString()+" cm"),he("/"+Ee.id+" Do"),he("Q"),this},m.getFormObject=function(B){var ue=Na[Di[B]];return{x:ue.x,y:ue.y,width:ue.width,height:ue.height,matrix:ue.matrix}},m.save=function(B,ue){return B=B||"generated.pdf",(ue=ue||{}).returnPromise=ue.returnPromise||!1,ue.returnPromise===!1?(N0(Af(bc()),B),typeof N0.unload=="function"&&Zr.setTimeout&&setTimeout(N0.unload,911),this):new Promise(function(Ee,$e){try{var rt=N0(Af(bc()),B);typeof N0.unload=="function"&&Zr.setTimeout&&setTimeout(N0.unload,911),Ee(rt)}catch(St){$e(St.message)}})},Fr.API)Fr.API.hasOwnProperty(Xh)&&(Xh==="events"&&Fr.API.events.length?function(B,ue){var Ee,$e,rt;for(rt=ue.length-1;rt!==-1;rt--)Ee=ue[rt][0],$e=ue[rt][1],B.subscribe.apply(B,[Ee].concat(typeof $e=="function"?[$e]:$e))}(Nn,Fr.API.events):m[Xh]=Fr.API[Xh]);var lu=m.getPageWidth=function(B){return(Dr[B=B||Y].mediaBox.topRightX-Dr[B].mediaBox.bottomLeftX)/lt},Ym=m.setPageWidth=function(B,ue){Dr[B].mediaBox.topRightX=ue*lt+Dr[B].mediaBox.bottomLeftX},wd=m.getPageHeight=function(B){return(Dr[B=B||Y].mediaBox.topRightY-Dr[B].mediaBox.bottomLeftY)/lt},Km=m.setPageHeight=function(B,ue){Dr[B].mediaBox.topRightY=ue*lt+Dr[B].mediaBox.bottomLeftY};return m.internal={pdfEscape:ss,getStyle:Wm,getFont:Vh,getFontSize:_e,getCharSpace:Pf,getTextColor:vd,getLineHeight:Hh,getLineHeightFactor:Wl,getLineWidth:gd,write:Ge,getHorizontalCoordinate:pl,getVerticalCoordinate:ml,getCoordinateString:Hg,getVerticalCoordinateString:Vl,collections:{},newObject:Nr,newAdditionalObject:Se,newObjectDeferred:Qt,newObjectDeferredBegin:fe,getFilters:tt,putStream:yt,events:Nn,scaleFactor:lt,pageSize:{getWidth:function(){return lu(Y)},setWidth:function(B){Ym(Y,B)},getHeight:function(){return wd(Y)},setHeight:function(B){Km(Y,B)}},encryptionOptions:d,encryption:za,getEncryptor:Sc,output:pd,getNumberOfPages:Cy,pages:oe,out:he,f2:U,f3:T,getPageInfo:ql,getPageInfoByObjId:Ur,getCurrentPageInfo:Nf,getPDFVersion:g,Point:Nc,Rectangle:xd,Matrix:xt,hasHotfix:kf},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return lu(Y)},set:function(B){Ym(Y,B)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return wd(Y)},set:function(B){Km(Y,B)},enumerable:!0,configurable:!0}),bf.call(m,ht),Je="F1",Um(a,r),Nn.publish("initialized"),m}Bv.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},Bv.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Bv.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Bv.prototype.processOwnerPassword=function(e,t){return l8(s8(t).substr(0,5),e)},Bv.prototype.encryptor=function(e,t){var r=s8(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return l8(r,n)}},MS.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||va(e)!==va(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Fr.API={events:[]},Fr.version="3.0.1";var Si=Fr.API,TR=1,Rg=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Iv=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},pn=function(e){return e.toFixed(2)},Ip=function(e){return e.toFixed(5)};Si.__acroform__={};var Bl=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},eW=function(e){return e*TR},Md=function(e){var t=new _ne,r=kr.internal.getHeight(e)||0,n=kr.internal.getWidth(e)||0;return t.BBox=[0,0,Number(pn(n)),Number(pn(r))],t},p7e=Si.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},m7e=Si.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},g7e=Si.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(e&1<<t)==0?0:1},Ui=Si.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return g7e(e,t-1)},qi=Si.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return p7e(e,t-1)},zi=Si.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return m7e(e,t-1)},v7e=Si.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],i=e[1],o=e[2],s=e[3],l={};return l.lowerLeft_X=r(a)||0,l.lowerLeft_Y=n(i+s)||0,l.upperRight_X=r(a+o)||0,l.upperRight_Y=n(i)||0,[Number(pn(l.lowerLeft_X)),Number(pn(l.lowerLeft_Y)),Number(pn(l.upperRight_X)),Number(pn(l.upperRight_Y))]},y7e=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=c8(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+pn(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=Md(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},c8=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(T){return T.split(`
`)}):a.map(function(T){return[T]});var i=r,o=kr.internal.getHeight(e)||0;o=o<0?-o:o;var s=kr.internal.getWidth(e)||0;s=s<0?-s:s;var l=function(T,F,j){if(T+1<a.length){var H=F+" "+a[T+1][0];return Sb(H,e,j).width<=s-4}return!1};i++;e:for(;i>0;){t="",i--;var u,d,f=Sb("3",e,i).height,h=e.multiline?o-i:(o-f)/2,m=h+=2,x=0,g=0,y=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+Sb(t,e,i=12).width+", FieldWidth:"+s+`
`;break}for(var _="",b=0,S=0;S<a.length;S++)if(a.hasOwnProperty(S)){var C=!1;if(a[S].length!==1&&y!==a[S].length-1){if((f+2)*(b+2)+2>o)continue e;_+=a[S][y],C=!0,g=S,S--}else{_=(_+=a[S][y]+" ").substr(_.length-1)==" "?_.substr(0,_.length-1):_;var E=parseInt(S),O=l(E,_,i),P=S>=a.length-1;if(O&&!P){_+=" ",y=0;continue}if(O||P){if(P)g=E;else if(e.multiline&&(f+2)*(b+2)+2>o)continue e}else{if(!e.multiline||(f+2)*(b+2)+2>o)continue e;g=E}}for(var I="",L=x;L<=g;L++){var U=a[L];if(e.multiline){if(L===g){I+=U[y]+" ",y=(y+1)%U.length;continue}if(L===x){I+=U[U.length-1]+" ";continue}}I+=U[0]+" "}switch(I=I.substr(I.length-1)==" "?I.substr(0,I.length-1):I,d=Sb(I,e,i).width,e.textAlign){case"right":u=s-d-2;break;case"center":u=(s-d)/2;break;case"left":default:u=2}t+=pn(u)+" "+pn(m)+` Td
`,t+="("+Rg(I)+`) Tj
`,t+=-pn(u)+` 0 Td
`,m=-(i+2),d=0,x=C?g:g+1,b++,_=""}break}return n.text=t,n.fontSize=i,n},Sb=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},x7e={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},w7e=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},_7e=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,a=e[r];t.internal.newObjectDeferredBegin(a.objId,!0),va(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete e[n]}},b7e=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(ud.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(x7e)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");TR=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new bne,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&w7e(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var o in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var s=n[o],l=[],u=s.Rect;if(s.Rect&&(s.Rect=v7e(s.Rect,a)),a.internal.newObjectDeferredBegin(s.objId,!0),s.DA=kr.createDefaultAppearanceStream(s),va(s)==="object"&&typeof s.getKeyValueListForStream=="function"&&(l=s.getKeyValueListForStream()),s.Rect=u,s.hasAppearanceStream&&!s.appearanceStreamContent){var d=y7e(s);l.push({key:"AP",value:"<</N "+d+">>"}),a.internal.acroformPlugin.xForms.push(d)}if(s.appearanceStreamContent){var f="";for(var h in s.appearanceStreamContent)if(s.appearanceStreamContent.hasOwnProperty(h)){var m=s.appearanceStreamContent[h];if(f+="/"+h+" ",f+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var o in m)if(m.hasOwnProperty(o)){var x=m[o];typeof x=="function"&&(x=x.call(a,s)),f+="/"+o+" "+x+" ",a.internal.acroformPlugin.xForms.indexOf(x)>=0||a.internal.acroformPlugin.xForms.push(x)}}else typeof(x=m)=="function"&&(x=x.call(a,s)),f+="/"+o+" "+x,a.internal.acroformPlugin.xForms.indexOf(x)>=0||a.internal.acroformPlugin.xForms.push(x);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}a.internal.putStream({additionalKeyValues:l,objectId:s.objId}),a.internal.out("endobj")}i&&_7e(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},wne=Si.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(o){return o};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),va(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+Rg(n(e[i].toString()))+")"):a+=e[i].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},VP=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Rg(n(e))+")"},Xd=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Xd.prototype.toString=function(){return this.objId+" 0 R"},Xd.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Xd.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:wne(a,this.objId,this.scope)}):a instanceof Xd?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var _ne=function(){Xd.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Bl(_ne,Xd);var bne=function(){Xd.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Rg(r(e))+")"}},set:function(r){e=r}})};Bl(bne,Xd);var ud=function e(){Xd.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute F supplied.');t=_}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ui(t,3)},set:function(_){_?this.F=qi(t,3):this.F=zi(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute Ff supplied.');r=_}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(_){n=_!==void 0?_:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(_){n[0]=_}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(_){n[1]=_}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(_){n[2]=_}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(_){n[3]=_}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(_){switch(_){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=_;break;default:throw new Error('Invalid value "'+_+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof FS)return;i="FieldObject"+e.FieldNum++}var _=function(b){return b};return this.scope&&(_=this.scope.internal.getEncryptor(this.objId)),"("+Rg(_(i))+")"},set:function(_){i=_.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(_){i=_}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(_){o=_}});var s="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return s},set:function(_){s=_}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(_){l=_}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/TR:u},set:function(_){u=_}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(_){d=_}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof FS||this instanceof H0))return VP(f,this.objId,this.scope)},set:function(_){_=_.toString(),f=_}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Io?h:VP(h,this.objId,this.scope)},set:function(_){_=_.toString(),h=this instanceof Io?_:_.substr(0,1)==="("?Iv(_.substr(1,_.length-2)):Iv(_)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Io?Iv(h.substr(1,h.length-1)):h},set:function(_){_=_.toString(),h=this instanceof Io?"/"+_:_}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(_){this.V=_}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Io?m:VP(m,this.objId,this.scope)},set:function(_){_=_.toString(),m=this instanceof Io?_:_.substr(0,1)==="("?Iv(_.substr(1,_.length-2)):Iv(_)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Io?Iv(m.substr(1,m.length-1)):m},set:function(_){_=_.toString(),m=this instanceof Io?"/"+_:_}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var x,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(_){_=!!_,g=_}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(x)return x},set:function(_){x=_}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,1)},set:function(_){_?this.Ff=qi(this.Ff,1):this.Ff=zi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,2)},set:function(_){_?this.Ff=qi(this.Ff,2):this.Ff=zi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,3)},set:function(_){_?this.Ff=qi(this.Ff,3):this.Ff=zi(this.Ff,3)}});var y=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(y!==null)return y},set:function(_){if([0,1,2].indexOf(_)===-1)throw new Error('Invalid value "'+_+'" for attribute Q supplied.');y=_}}),Object.defineProperty(this,"textAlign",{get:function(){var _;switch(y){case 0:default:_="left";break;case 1:_="center";break;case 2:_="right"}return _},configurable:!0,enumerable:!0,set:function(_){switch(_){case"right":case 2:y=2;break;case"center":case 1:y=1;break;case"left":case 0:default:y=0}}})};Bl(ud,Xd);var s1=function(){ud.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return wne(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(i,o,s){s||(s=1);for(var l,u=[];l=o.exec(i);)u.push(l[s]);return u}(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,18)},set:function(r){r?this.Ff=qi(this.Ff,18):this.Ff=zi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=qi(this.Ff,19):this.Ff=zi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,20)},set:function(r){r?(this.Ff=qi(this.Ff,20),t.sort()):this.Ff=zi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,22)},set:function(r){r?this.Ff=qi(this.Ff,22):this.Ff=zi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,23)},set:function(r){r?this.Ff=qi(this.Ff,23):this.Ff=zi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,27)},set:function(r){r?this.Ff=qi(this.Ff,27):this.Ff=zi(this.Ff,27)}}),this.hasAppearanceStream=!1};Bl(s1,ud);var l1=function(){s1.call(this),this.fontName="helvetica",this.combo=!1};Bl(l1,s1);var c1=function(){l1.call(this),this.combo=!0};Bl(c1,l1);var t5=function(){c1.call(this),this.edit=!0};Bl(t5,c1);var Io=function(){ud.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,15)},set:function(r){r?this.Ff=qi(this.Ff,15):this.Ff=zi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,16)},set:function(r){r?this.Ff=qi(this.Ff,16):this.Ff=zi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,17)},set:function(r){r?this.Ff=qi(this.Ff,17):this.Ff=zi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,26)},set:function(r){r?this.Ff=qi(this.Ff,26):this.Ff=zi(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+Rg(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){va(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Bl(Io,ud);var r5=function(){Io.call(this),this.pushButton=!0};Bl(r5,Io);var u1=function(){Io.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Bl(u1,Io);var FS=function(){var e,t;ud.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(s){return s};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),n)o.push("/"+i+" ("+Rg(a(n[i]))+")");return o.push(">>"),o.join(`
`)},set:function(a){va(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=kr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Bl(FS,ud),u1.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},u1.prototype.createOption=function(e){var t=new FS;return t.Parent=this,t.optionName=e,this.Kids.push(t),S7e.call(this.scope,t),t};var n5=function(){Io.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=kr.CheckBox.createAppearanceStream()};Bl(n5,Io);var H0=function(){ud.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,13)},set:function(t){t?this.Ff=qi(this.Ff,13):this.Ff=zi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,21)},set:function(t){t?this.Ff=qi(this.Ff,21):this.Ff=zi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,23)},set:function(t){t?this.Ff=qi(this.Ff,23):this.Ff=zi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,24)},set:function(t){t?this.Ff=qi(this.Ff,24):this.Ff=zi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,25)},set:function(t){t?this.Ff=qi(this.Ff,25):this.Ff=zi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,26)},set:function(t){t?this.Ff=qi(this.Ff,26):this.Ff=zi(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Bl(H0,ud);var a5=function(){H0.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,14)},set:function(e){e?this.Ff=qi(this.Ff,14):this.Ff=zi(this.Ff,14)}}),this.password=!0};Bl(a5,H0);var kr={CheckBox:{createAppearanceStream:function(){return{N:{On:kr.CheckBox.YesNormal},D:{On:kr.CheckBox.YesPushDown,Off:kr.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Md(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=c8(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+pn(kr.internal.getWidth(e))+" "+pn(kr.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+pn(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Md(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],i=kr.internal.getHeight(e),o=kr.internal.getWidth(e),s=c8(e,e.caption);return a.push("1 g"),a.push("0 0 "+pn(o)+" "+pn(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+pn(o-1)+" "+pn(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+pn(s.fontSize)+" Tf "+n),a.push(s.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=Md(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+pn(kr.internal.getWidth(e))+" "+pn(kr.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:kr.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=kr.RadioButton.Circle.YesNormal,t.D[e]=kr.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Md(e);t.scope=e.scope;var r=[],n=kr.internal.getWidth(e)<=kr.internal.getHeight(e)?kr.internal.getWidth(e)/4:kr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=kr.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Ip(kr.internal.getWidth(e)/2)+" "+Ip(kr.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Md(e);t.scope=e.scope;var r=[],n=kr.internal.getWidth(e)<=kr.internal.getHeight(e)?kr.internal.getWidth(e)/4:kr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*kr.internal.Bezier_C).toFixed(5)),o=Number((n*kr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ip(kr.internal.getWidth(e)/2)+" "+Ip(kr.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Ip(kr.internal.getWidth(e)/2)+" "+Ip(kr.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Md(e);t.scope=e.scope;var r=[],n=kr.internal.getWidth(e)<=kr.internal.getHeight(e)?kr.internal.getWidth(e)/4:kr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*kr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ip(kr.internal.getWidth(e)/2)+" "+Ip(kr.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:kr.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=kr.RadioButton.Cross.YesNormal,t.D[e]=kr.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Md(e);t.scope=e.scope;var r=[],n=kr.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+pn(kr.internal.getWidth(e)-2)+" "+pn(kr.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(pn(n.x1.x)+" "+pn(n.x1.y)+" m"),r.push(pn(n.x2.x)+" "+pn(n.x2.y)+" l"),r.push(pn(n.x4.x)+" "+pn(n.x4.y)+" m"),r.push(pn(n.x3.x)+" "+pn(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Md(e);t.scope=e.scope;var r=kr.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+pn(kr.internal.getWidth(e))+" "+pn(kr.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+pn(kr.internal.getWidth(e)-2)+" "+pn(kr.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(pn(r.x1.x)+" "+pn(r.x1.y)+" m"),n.push(pn(r.x2.x)+" "+pn(r.x2.y)+" l"),n.push(pn(r.x4.x)+" "+pn(r.x4.y)+" m"),n.push(pn(r.x3.x)+" "+pn(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Md(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+pn(kr.internal.getWidth(e))+" "+pn(kr.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};kr.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=kr.internal.getWidth(e),r=kr.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},kr.internal.getWidth=function(e){var t=0;return va(e)==="object"&&(t=eW(e.Rect[2])),t},kr.internal.getHeight=function(e){var t=0;return va(e)==="object"&&(t=eW(e.Rect[3])),t};var S7e=Si.addField=function(e){if(b7e(this,e),!(e instanceof ud))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Si.AcroFormChoiceField=s1,Si.AcroFormListBox=l1,Si.AcroFormComboBox=c1,Si.AcroFormEditBox=t5,Si.AcroFormButton=Io,Si.AcroFormPushButton=r5,Si.AcroFormRadioButton=u1,Si.AcroFormCheckBox=n5,Si.AcroFormTextField=H0,Si.AcroFormPasswordField=a5,Si.AcroFormAppearance=kr,Si.AcroForm={ChoiceField:s1,ListBox:l1,ComboBox:c1,EditBox:t5,Button:Io,PushButton:r5,RadioButton:u1,CheckBox:n5,TextField:H0,PasswordField:a5,Appearance:kr},Fr.AcroForm={ChoiceField:s1,ListBox:l1,ComboBox:c1,EditBox:t5,Button:Io,PushButton:r5,RadioButton:u1,CheckBox:n5,TextField:H0,PasswordField:a5,Appearance:kr};Fr.AcroForm;function Sne(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(T,F){var j,H,X,re,z,G=t;if((F=F||t)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(O(T))for(z in r)for(X=r[z],j=0;j<X.length;j+=1){for(re=!0,H=0;H<X[j].length;H+=1)if(X[j][H]!==void 0&&X[j][H]!==T[H]){re=!1;break}if(re===!0){G=z;break}}else for(z in r)for(X=r[z],j=0;j<X.length;j+=1){for(re=!0,H=0;H<X[j].length;H+=1)if(X[j][H]!==void 0&&X[j][H]!==T.charCodeAt(H)){re=!1;break}if(re===!0){G=z;break}}return G===t&&F!==t&&(G=F),G},a=function T(F){for(var j=this.internal.write,H=this.internal.putStream,X=(0,this.internal.getFilters)();X.indexOf("FlateEncode")!==-1;)X.splice(X.indexOf("FlateEncode"),1);F.objectId=this.internal.newObject();var re=[];if(re.push({key:"Type",value:"/XObject"}),re.push({key:"Subtype",value:"/Image"}),re.push({key:"Width",value:F.width}),re.push({key:"Height",value:F.height}),F.colorSpace===y.INDEXED?re.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(F.palette.length/3-1)+" "+("sMask"in F&&F.sMask!==void 0?F.objectId+2:F.objectId+1)+" 0 R]"}):(re.push({key:"ColorSpace",value:"/"+F.colorSpace}),F.colorSpace===y.DEVICE_CMYK&&re.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),re.push({key:"BitsPerComponent",value:F.bitsPerComponent}),"decodeParameters"in F&&F.decodeParameters!==void 0&&re.push({key:"DecodeParms",value:"<<"+F.decodeParameters+">>"}),"transparency"in F&&Array.isArray(F.transparency)){for(var z="",G=0,q=F.transparency.length;G<q;G++)z+=F.transparency[G]+" "+F.transparency[G]+" ";re.push({key:"Mask",value:"["+z+"]"})}F.sMask!==void 0&&re.push({key:"SMask",value:F.objectId+1+" 0 R"});var K=F.filter!==void 0?["/"+F.filter]:void 0;if(H({data:F.data,additionalKeyValues:re,alreadyAppliedFilters:K,objectId:F.objectId}),j("endobj"),"sMask"in F&&F.sMask!==void 0){var J="/Predictor "+F.predictor+" /Colors 1 /BitsPerComponent "+F.bitsPerComponent+" /Columns "+F.width,D={width:F.width,height:F.height,colorSpace:"DeviceGray",bitsPerComponent:F.bitsPerComponent,decodeParameters:J,data:F.sMask};"filter"in F&&(D.filter=F.filter),T.call(this,D)}if(F.colorSpace===y.INDEXED){var Y=this.internal.newObject();H({data:I(new Uint8Array(F.palette)),objectId:Y}),j("endobj")}},i=function(){var T=this.internal.collections.addImage_images;for(var F in T)a.call(this,T[F])},o=function(){var T,F=this.internal.collections.addImage_images,j=this.internal.write;for(var H in F)j("/I"+(T=F[H]).index,T.objectId,"0","R")},s=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var T=this.internal.collections.addImage_images;return s.call(this),T},u=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(T){return typeof e["process"+T.toUpperCase()]=="function"},f=function(T){return va(T)==="object"&&T.nodeType===1},h=function(T,F){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var j=""+T.getAttribute("src");if(j.indexOf("data:image/")===0)return V2(unescape(j).split("base64,").pop());var H=e.loadFile(j,!0);if(H!==void 0)return H}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var X;switch(F){case"PNG":X="image/png";break;case"WEBP":X="image/webp";break;case"JPEG":case"JPG":default:X="image/jpeg"}return V2(T.toDataURL(X,1).split("base64,").pop())}},m=function(T){var F=this.internal.collections.addImage_images;if(F){for(var j in F)if(T===F[j].alias)return F[j]}},x=function(T,F,j){return T||F||(T=-96,F=-96),T<0&&(T=-1*j.width*72/T/this.internal.scaleFactor),F<0&&(F=-1*j.height*72/F/this.internal.scaleFactor),T===0&&(T=F*j.width/j.height),F===0&&(F=T*j.height/j.width),[T,F]},g=function(T,F,j,H,X,re){var z=x.call(this,j,H,X),G=this.internal.getCoordinateString,q=this.internal.getVerticalCoordinateString,K=l.call(this);if(j=z[0],H=z[1],K[X.index]=X,re){re*=Math.PI/180;var J=Math.cos(re),D=Math.sin(re),Y=function(ie){return ie.toFixed(4)},Q=[Y(J),Y(D),Y(-1*D),Y(J),0,0,"cm"]}this.internal.write("q"),re?(this.internal.write([1,"0","0",1,G(T),q(F+H),"cm"].join(" ")),this.internal.write(Q.join(" ")),this.internal.write([G(j),"0","0",G(H),"0","0","cm"].join(" "))):this.internal.write([G(j),"0","0",G(H),G(T),q(F+H),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+X.index+" Do"),this.internal.write("Q")},y=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var _=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=e.__addimage__.sHashCode=function(T){var F,j,H=0;if(typeof T=="string")for(j=T.length,F=0;F<j;F++)H=(H<<5)-H+T.charCodeAt(F),H|=0;else if(O(T))for(j=T.byteLength/2,F=0;F<j;F++)H=(H<<5)-H+T[F],H|=0;return H},S=e.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var F=!0;return T.length===0&&(F=!1),T.length%4!=0&&(F=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(F=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(F=!1),F},C=e.__addimage__.extractImageFromDataUrl=function(T){if(T==null||!(T=T.trim()).startsWith("data:"))return null;var F=T.indexOf(",");return F<0?null:T.substring(0,F).trim().endsWith("base64")?T.substring(F+1):null},E=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(T){return E()&&T instanceof ArrayBuffer};var O=e.__addimage__.isArrayBufferView=function(T){return E()&&typeof Uint32Array<"u"&&(T instanceof Int8Array||T instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array)},P=e.__addimage__.binaryStringToUint8Array=function(T){for(var F=T.length,j=new Uint8Array(F),H=0;H<F;H++)j[H]=T.charCodeAt(H);return j},I=e.__addimage__.arrayBufferToBinaryString=function(T){for(var F="",j=O(T)?T:new Uint8Array(T),H=0;H<j.length;H+=8192)F+=String.fromCharCode.apply(null,j.subarray(H,H+8192));return F};e.addImage=function(){var T,F,j,H,X,re,z,G,q;if(typeof arguments[1]=="number"?(F=t,j=arguments[1],H=arguments[2],X=arguments[3],re=arguments[4],z=arguments[5],G=arguments[6],q=arguments[7]):(F=arguments[1],j=arguments[2],H=arguments[3],X=arguments[4],re=arguments[5],z=arguments[6],G=arguments[7],q=arguments[8]),va(T=arguments[0])==="object"&&!f(T)&&"imageData"in T){var K=T;T=K.imageData,F=K.format||F||t,j=K.x||j||0,H=K.y||H||0,X=K.w||K.width||X,re=K.h||K.height||re,z=K.alias||z,G=K.compression||G,q=K.rotation||K.angle||q}var J=this.internal.getFilters();if(G===void 0&&J.indexOf("FlateEncode")!==-1&&(G="SLOW"),isNaN(j)||isNaN(H))throw new Error("Invalid coordinates passed to jsPDF.addImage");s.call(this);var D=L.call(this,T,F,z,G);return g.call(this,j,H,X,re,D,q),this};var L=function(T,F,j,H){var X,re,z;if(typeof T=="string"&&n(T)===t){T=unescape(T);var G=U(T,!1);(G!==""||(G=e.loadFile(T,!0))!==void 0)&&(T=G)}if(f(T)&&(T=h(T,F)),F=n(T,F),!d(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(((z=j)==null||z.length===0)&&(j=function(q){return typeof q=="string"||O(q)?b(q):O(q.data)?b(q.data):null}(T)),(X=m.call(this,j))||(E()&&(T instanceof Uint8Array||F==="RGBA"||(re=T,T=P(T))),X=this["process"+F.toUpperCase()](T,u.call(this),j,function(q){return q&&typeof q=="string"&&(q=q.toUpperCase()),q in e.image_compression?q:_.NONE}(H),re)),!X)throw new Error("An unknown error occurred whilst processing the image.");return X},U=e.__addimage__.convertBase64ToBinaryString=function(T,F){F=typeof F!="boolean"||F;var j,H="";if(typeof T=="string"){var X;j=(X=C(T))!==null&&X!==void 0?X:T;try{H=V2(j)}catch(re){if(F)throw S(j)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+re.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return H};e.getImageProperties=function(T){var F,j,H="";if(f(T)&&(T=h(T)),typeof T=="string"&&n(T)===t&&((H=U(T,!1))===""&&(H=e.loadFile(T)||""),T=H),j=n(T),!d(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(!E()||T instanceof Uint8Array||(T=P(T)),!(F=this["process"+j.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return F.fileType=j,F}})(Fr.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Fr.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,i,o=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,f=0;f<u.length&&!d;f++)switch((n=u[f]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var h=0;h<u.length;h++){n=u[h];var m=this.internal.pdfEscape,x=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),y=this.internal.newAdditionalObject(),_=this.internal.getEncryptor(g.objId),b=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+o(n.bounds.x)+" "+s(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+s(n.bounds.y)+"] ")+"/Contents ("+m(_(n.contents))+")",i+=" /Popup "+y.objId+" 0 R",i+=" /P "+l.objId+" 0 R",i+=" /T ("+m(_(b))+") >>",g.content=i;var S=g.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+o(n.bounds.x+30)+" "+s(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+s(n.bounds.y)+"] ")+" /Parent "+S,n.open&&(i+=" /Open true"),i+=" >>",y.content=i,this.internal.write(g.objId,"0 R",y.objId,"0 R");break;case"freetext":a="/Rect ["+o(n.bounds.x)+" "+s(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+s(n.bounds.y+n.bounds.h)+"] ";var C=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+m(x(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+C+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var E=this.annotations._nameMap[n.options.name];n.options.pageNumber=E.page,n.options.top=E.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+m(x(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var O=s(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+O+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,i,o){var s=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;s.pageContext.annotations.push({finalBounds:{x:l(r),y:u(n),w:l(r+a),h:u(n+i)},options:o,type:"link"})},e.textWithLink=function(r,n,a,i){var o,s,l=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){s=i.maxWidth;var d=this.splitTextToSize(r,s).length;o=Math.ceil(u*d)}else s=l,o=u;return this.text(r,n,a,i),a+=.2*u,i.align==="center"&&(n-=l/2),i.align==="right"&&(n-=l),this.link(n,a-u,s,o,i),l},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Fr.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(g){return t[g.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},s=e.__arabicParser__.isArabicEndLetter=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(g){return o(g)&&a.indexOf(g.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(g){var y=0,_=r,b="",S=0;for(y=0;y<g.length;y+=1)_[g.charCodeAt(y)]!==void 0?(S++,typeof(_=_[g.charCodeAt(y)])=="number"&&(b+=String.fromCharCode(_),_=r,S=0),y===g.length-1&&(_=r,b+=g.charAt(y-(S-1)),y-=S-1,S=0)):(_=r,b+=g.charAt(y-S),y-=S,S=0);return b};e.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&n[g.charCodeAt(0)]!==void 0};var h=e.__arabicParser__.getCorrectForm=function(g,y,_){return o(g)?i(g)===!1?-1:!u(g)||!o(y)&&!o(_)||!o(_)&&s(y)||s(g)&&!o(y)||s(g)&&l(y)||s(g)&&s(y)?0:d(g)&&o(y)&&!s(y)&&o(_)&&u(_)?3:s(g)||!o(_)?1:2:-1},m=function(g){var y=0,_=0,b=0,S="",C="",E="",O=(g=g||"").split("\\s+"),P=[];for(y=0;y<O.length;y+=1){for(P.push(""),_=0;_<O[y].length;_+=1)S=O[y][_],C=O[y][_-1],E=O[y][_+1],o(S)?(b=h(S,C,E),P[y]+=b!==-1?String.fromCharCode(t[S.charCodeAt(0)][b]):S):P[y]+=S;P[y]=f(P[y])}return P.join(" ")},x=e.__arabicParser__.processArabic=e.processArabic=function(){var g,y=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,_=[];if(Array.isArray(y)){var b=0;for(_=[],b=0;b<y.length;b+=1)Array.isArray(y[b])?_.push([m(y[b][0]),y[b][1],y[b][2]]):_.push([m(y[b])]);g=_}else g=m(y);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};e.events.push(["preProcessText",x])}(Fr.API),Fr.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(s){r=s}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(s){n=isNaN(s)||Number.isInteger(s)===!1||s<0?150:s,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(s){a=isNaN(s)||Number.isInteger(s)===!1||s<0?300:s,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(s){i=s}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(s){o=s}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Fr.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(g){l=g}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(g){m=g}});var x=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return x},set:function(g){x=g}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),h=u.scaleFactor||this.internal.scaleFactor,m=0,x=0,g=0,y=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var _=u.maxWidth;_>0?typeof l=="string"?l=this.splitTextToSize(l,_):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(S,C){return S.concat(y.splitTextToSize(C,_))},[])):l=Array.isArray(l)?l:[l];for(var b=0;b<l.length;b++)m<(g=this.getStringUnitWidth(l[b],{font:f})*d)&&(m=g);return m!==0&&(x=l.length),{w:m/=h,h:Math.max((x*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/h,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var l;l=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,h=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,m&&h&&(this.printHeaderRow(l.lineNumber,!0),l.y+=h[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-d,l.y+d,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+d,{align:"center",baseline:"top",maxWidth:l.width-d-d}):this.text(l.text,l.x+d,l.y+d,{align:"left",baseline:"top",maxWidth:l.width-d-d})),this.internal.__cell__.lastCell=l,this};e.table=function(l,u,d,f,h){if(n.call(this),!d)throw new Error("No data for PDF table.");var m,x,g,y,_=[],b=[],S=[],C={},E={},O=[],P=[],I=(h=h||{}).autoSize||!1,L=h.printHeaders!==!1,U=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,T=h.margins||Object.assign({width:this.getPageWidth()},t),F=typeof h.padding=="number"?h.padding:3,j=h.headerBackgroundColor||"#c8c8c8",H=h.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=L,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=U,this.internal.__cell__.padding=F,this.internal.__cell__.headerBackgroundColor=j,this.internal.__cell__.headerTextColor=H,this.setFontSize(U),f==null)b=_=Object.keys(d[0]),S=_.map(function(){return"left"});else if(Array.isArray(f)&&va(f[0])==="object")for(_=f.map(function(K){return K.name}),b=f.map(function(K){return K.prompt||K.name||""}),S=f.map(function(K){return K.align||"left"}),m=0;m<f.length;m+=1)E[f[m].name]=f[m].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(b=_=f,S=_.map(function(){return"left"}));if(I||Array.isArray(f)&&typeof f[0]=="string")for(m=0;m<_.length;m+=1){for(C[y=_[m]]=d.map(function(K){return K[y]}),this.setFont(void 0,"bold"),O.push(this.getTextDimensions(b[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),x=C[y],this.setFont(void 0,"normal"),g=0;g<x.length;g+=1)O.push(this.getTextDimensions(x[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);E[y]=Math.max.apply(null,O)+F+F,O=[]}if(L){var X={};for(m=0;m<_.length;m+=1)X[_[m]]={},X[_[m]].text=b[m],X[_[m]].align=S[m];var re=s.call(this,X,E);P=_.map(function(K){return new i(l,u,E[K],re,X[K].text,void 0,X[K].align)}),this.setTableHeaderRow(P),this.printHeaderRow(1,!1)}var z=f.reduce(function(K,J){return K[J.name]=J.align,K},{});for(m=0;m<d.length;m+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:m,data:d[m]},this);var G=s.call(this,d[m],E);for(g=0;g<_.length;g+=1){var q=d[m][_[g]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:m,col:g,data:q},this),o.call(this,new i(l,u,E[_[g]],G,q,m+2,z[_[g]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var s=function(l,u){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(l).map(function(m){var x=l[m];return this.splitTextToSize(x.hasOwnProperty("text")?x.text:x,u[m]-d-d)},this).map(function(m){return this.getLineHeightFactor()*m.length*f/h+d+d},this).reduce(function(m,x){return Math.max(m,x)},0)};e.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){d=this.internal.__cell__.tableHeaderRow[m].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,h.push(d)),d.lineNumber=l;var x=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(x)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),r=!1}}(Fr.API);var Ane={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},kne=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],u8=Sne(kne),Nne=[100,200,300,400,500,600,700,800,900],A7e=Sne(Nne);function d8(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return Ane[i=i||"normal"]?i:"normal"}(e.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(e.weight),a=function(i){return typeof u8[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function tW(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var k7e={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},rW={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function nW(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function N7e(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},k7e,r.genericFontFamilies||{}),i=null,o=null,s=0;s<t.length;++s)if(a[(i=d8(t[s])).family]&&(i.family=a[i.family]),e.hasOwnProperty(i.family)){o=e[i.family];break}if(!(o=o||e[n]))throw new Error("Could not find a font-family for the rule '"+nW(i)+"' and default family '"+n+"'.");if(o=function(l,u){if(u[l])return u[l];var d=u8[l],f=d<=u8.normal?-1:1,h=tW(u,kne,d,f);if(!h)throw new Error("Could not find a matching font-stretch value for "+l);return h}(i.stretch,o),o=function(l,u){if(u[l])return u[l];for(var d=Ane[l],f=0;f<d.length;++f)if(u[d[f]])return u[d[f]];throw new Error("Could not find a matching font-style for "+l)}(i.style,o),!(o=function(l,u){if(u[l])return u[l];if(l===400&&u[500])return u[500];if(l===500&&u[400])return u[400];var d=A7e[l],f=tW(u,Nne,d,l<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+l);return f}(i.weight,o)))throw new Error("Failed to resolve a font for the rule '"+nW(i)+"'.");return o}function aW(e){return e.trimLeft()}function E7e(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function C7e(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Ab,iW,oW,HP=["times"];(function(e){var t,r,n,a,i,o,s,l,u,d=function(D){return D=D||{},this.isStrokeTransparent=D.isStrokeTransparent||!1,this.strokeOpacity=D.strokeOpacity||1,this.strokeStyle=D.strokeStyle||"#000000",this.fillStyle=D.fillStyle||"#000000",this.isFillTransparent=D.isFillTransparent||!1,this.fillOpacity=D.fillOpacity||1,this.font=D.font||"10px sans-serif",this.textBaseline=D.textBaseline||"alphabetic",this.textAlign=D.textAlign||"left",this.lineWidth=D.lineWidth||1,this.lineJoin=D.lineJoin||"miter",this.lineCap=D.lineCap||"butt",this.path=D.path||[],this.transform=D.transform!==void 0?D.transform.clone():new l,this.globalCompositeOperation=D.globalCompositeOperation||"normal",this.globalAlpha=D.globalAlpha||1,this.clip_path=D.clip_path||[],this.currentPoint=D.currentPoint||new o,this.miterLimit=D.miterLimit||10,this.lastPoint=D.lastPoint||new o,this.lineDashOffset=D.lineDashOffset||0,this.lineDash=D.lineDash||[],this.margin=D.margin||[0,0,0,0],this.prevPageLastElemOffset=D.prevPageLastElemOffset||0,this.ignoreClearRect=typeof D.ignoreClearRect!="boolean"||D.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,s=this.internal.Rectangle,l=this.internal.Matrix,u=new d}]);var f=function(D){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Y=D;Object.defineProperty(this,"pdf",{get:function(){return Y}});var Q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Q},set:function(Te){Q=!!Te}});var ie=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ie},set:function(Te){ie=!!Te}});var se=0;Object.defineProperty(this,"posX",{get:function(){return se},set:function(Te){isNaN(Te)||(se=Te)}});var te=0;Object.defineProperty(this,"posY",{get:function(){return te},set:function(Te){isNaN(Te)||(te=Te)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(Te){var he;typeof Te=="number"?he=[Te,Te,Te,Te]:((he=new Array(4))[0]=Te[0],he[1]=Te.length>=2?Te[1]:he[0],he[2]=Te.length>=3?Te[2]:he[0],he[3]=Te.length>=4?Te[3]:he[1]),u.margin=he}});var de=!1;Object.defineProperty(this,"autoPaging",{get:function(){return de},set:function(Te){de=Te}});var Z=0;Object.defineProperty(this,"lastBreak",{get:function(){return Z},set:function(Te){Z=Te}});var ce=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ce},set:function(Te){ce=Te}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(Te){Te instanceof d&&(u=Te)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(Te){u.path=Te}});var oe=[];Object.defineProperty(this,"ctxStack",{get:function(){return oe},set:function(Te){oe=Te}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Te){var he;he=h(Te),this.ctx.fillStyle=he.style,this.ctx.isFillTransparent=he.a===0,this.ctx.fillOpacity=he.a,this.pdf.setFillColor(he.r,he.g,he.b,{a:he.a}),this.pdf.setTextColor(he.r,he.g,he.b,{a:he.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Te){var he=h(Te);this.ctx.strokeStyle=he.style,this.ctx.isStrokeTransparent=he.a===0,this.ctx.strokeOpacity=he.a,he.a===0?this.pdf.setDrawColor(255,255,255):(he.a,this.pdf.setDrawColor(he.r,he.g,he.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Te){["butt","round","square"].indexOf(Te)!==-1&&(this.ctx.lineCap=Te,this.pdf.setLineCap(Te))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Te){isNaN(Te)||(this.ctx.lineWidth=Te,this.pdf.setLineWidth(Te))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Te){["bevel","round","miter"].indexOf(Te)!==-1&&(this.ctx.lineJoin=Te,this.pdf.setLineJoin(Te))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Te){isNaN(Te)||(this.ctx.miterLimit=Te,this.pdf.setMiterLimit(Te))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Te){this.ctx.textBaseline=Te}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Te){["right","end","center","left","start"].indexOf(Te)!==-1&&(this.ctx.textAlign=Te)}});var ae=null;function Ne(Te,he){if(ae===null){var Ge=function(mt){var ht=[];return Object.keys(mt).forEach(function(Pt){mt[Pt].forEach(function(ft){var _e=null;switch(ft){case"bold":_e={family:Pt,weight:"bold"};break;case"italic":_e={family:Pt,style:"italic"};break;case"bolditalic":_e={family:Pt,weight:"bold",style:"italic"};break;case"":case"normal":_e={family:Pt}}_e!==null&&(_e.ref={name:Pt,style:ft},ht.push(_e))})}),ht}(Te.getFontList());ae=function(mt){for(var ht={},Pt=0;Pt<mt.length;++Pt){var ft=d8(mt[Pt]),_e=ft.family,Ce=ft.stretch,ze=ft.style,gt=ft.weight;ht[_e]=ht[_e]||{},ht[_e][Ce]=ht[_e][Ce]||{},ht[_e][Ce][ze]=ht[_e][Ce][ze]||{},ht[_e][Ce][ze][gt]=ft}return ht}(Ge.concat(he))}return ae}var Ie=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ie},set:function(Te){ae=null,Ie=Te}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Te){var he;if(this.ctx.font=Te,(he=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Te))!==null){var Ge=he[1];he[2];var mt=he[3],ht=he[4];he[5];var Pt=he[6],ft=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ht)[2];ht=Math.floor(ft==="px"?parseFloat(ht)*this.pdf.internal.scaleFactor:ft==="em"?parseFloat(ht)*this.pdf.getFontSize():parseFloat(ht)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ht);var _e=function(Nt){var Je,lt,sr=[],Kt=Nt.trim();if(Kt==="")return HP;if(Kt in rW)return[rW[Kt]];for(;Kt!=="";){switch(lt=null,Je=(Kt=aW(Kt)).charAt(0)){case'"':case"'":lt=E7e(Kt.substring(1),Je);break;default:lt=C7e(Kt)}if(lt===null||(sr.push(lt[0]),(Kt=aW(lt[1]))!==""&&Kt.charAt(0)!==","))return HP;Kt=Kt.replace(/^,/,"")}return sr}(Pt);if(this.fontFaces){var Ce=N7e(Ne(this.pdf,this.fontFaces),_e.map(function(Nt){return{family:Nt,stretch:"normal",weight:mt,style:Ge}}));this.pdf.setFont(Ce.ref.name,Ce.ref.style)}else{var ze="";(mt==="bold"||parseInt(mt,10)>=700||Ge==="bold")&&(ze="bold"),Ge==="italic"&&(ze+="italic"),ze.length===0&&(ze="normal");for(var gt="",pt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Re=0;Re<_e.length;Re++){if(this.pdf.internal.getFont(_e[Re],ze,{noFallback:!0,disableWarning:!0})!==void 0){gt=_e[Re];break}if(ze==="bolditalic"&&this.pdf.internal.getFont(_e[Re],"bold",{noFallback:!0,disableWarning:!0})!==void 0)gt=_e[Re],ze="bold";else if(this.pdf.internal.getFont(_e[Re],"normal",{noFallback:!0,disableWarning:!0})!==void 0){gt=_e[Re],ze="normal";break}}if(gt===""){for(var qe=0;qe<_e.length;qe++)if(pt[_e[qe]]){gt=pt[_e[qe]];break}}gt=gt===""?"Times":gt,this.pdf.setFont(gt,ze)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Te){this.ctx.globalCompositeOperation=Te}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Te){this.ctx.globalAlpha=Te}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Te){this.ctx.lineDashOffset=Te,J.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Te){this.ctx.lineDash=Te,J.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Te){this.ctx.ignoreClearRect=!!Te}})};f.prototype.setLineDash=function(D){this.lineDash=D},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){C.call(this,"fill",!1)},f.prototype.stroke=function(){C.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(D,Y){if(isNaN(D)||isNaN(Y))throw Ca.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Q=this.ctx.transform.applyToPoint(new o(D,Y));this.path.push({type:"mt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(D,Y)},f.prototype.closePath=function(){var D=new o(0,0),Y=0;for(Y=this.path.length-1;Y!==-1;Y--)if(this.path[Y].type==="begin"&&va(this.path[Y+1])==="object"&&typeof this.path[Y+1].x=="number"){D=new o(this.path[Y+1].x,this.path[Y+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(D.x,D.y)},f.prototype.lineTo=function(D,Y){if(isNaN(D)||isNaN(Y))throw Ca.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Q=this.ctx.transform.applyToPoint(new o(D,Y));this.path.push({type:"lt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(Q.x,Q.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),C.call(this,null,!0)},f.prototype.quadraticCurveTo=function(D,Y,Q,ie){if(isNaN(Q)||isNaN(ie)||isNaN(D)||isNaN(Y))throw Ca.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var se=this.ctx.transform.applyToPoint(new o(Q,ie)),te=this.ctx.transform.applyToPoint(new o(D,Y));this.path.push({type:"qct",x1:te.x,y1:te.y,x:se.x,y:se.y}),this.ctx.lastPoint=new o(se.x,se.y)},f.prototype.bezierCurveTo=function(D,Y,Q,ie,se,te){if(isNaN(se)||isNaN(te)||isNaN(D)||isNaN(Y)||isNaN(Q)||isNaN(ie))throw Ca.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var de=this.ctx.transform.applyToPoint(new o(se,te)),Z=this.ctx.transform.applyToPoint(new o(D,Y)),ce=this.ctx.transform.applyToPoint(new o(Q,ie));this.path.push({type:"bct",x1:Z.x,y1:Z.y,x2:ce.x,y2:ce.y,x:de.x,y:de.y}),this.ctx.lastPoint=new o(de.x,de.y)},f.prototype.arc=function(D,Y,Q,ie,se,te){if(isNaN(D)||isNaN(Y)||isNaN(Q)||isNaN(ie)||isNaN(se))throw Ca.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(te=!!te,!this.ctx.transform.isIdentity){var de=this.ctx.transform.applyToPoint(new o(D,Y));D=de.x,Y=de.y;var Z=this.ctx.transform.applyToPoint(new o(0,Q)),ce=this.ctx.transform.applyToPoint(new o(0,0));Q=Math.sqrt(Math.pow(Z.x-ce.x,2)+Math.pow(Z.y-ce.y,2))}Math.abs(se-ie)>=2*Math.PI&&(ie=0,se=2*Math.PI),this.path.push({type:"arc",x:D,y:Y,radius:Q,startAngle:ie,endAngle:se,counterclockwise:te})},f.prototype.arcTo=function(D,Y,Q,ie,se){throw new Error("arcTo not implemented.")},f.prototype.rect=function(D,Y,Q,ie){if(isNaN(D)||isNaN(Y)||isNaN(Q)||isNaN(ie))throw Ca.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(D,Y),this.lineTo(D+Q,Y),this.lineTo(D+Q,Y+ie),this.lineTo(D,Y+ie),this.lineTo(D,Y),this.lineTo(D+Q,Y),this.lineTo(D,Y)},f.prototype.fillRect=function(D,Y,Q,ie){if(isNaN(D)||isNaN(Y)||isNaN(Q)||isNaN(ie))throw Ca.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var se={};this.lineCap!=="butt"&&(se.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(se.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(D,Y,Q,ie),this.fill(),se.hasOwnProperty("lineCap")&&(this.lineCap=se.lineCap),se.hasOwnProperty("lineJoin")&&(this.lineJoin=se.lineJoin)}},f.prototype.strokeRect=function(D,Y,Q,ie){if(isNaN(D)||isNaN(Y)||isNaN(Q)||isNaN(ie))throw Ca.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");x.call(this)||(this.beginPath(),this.rect(D,Y,Q,ie),this.stroke())},f.prototype.clearRect=function(D,Y,Q,ie){if(isNaN(D)||isNaN(Y)||isNaN(Q)||isNaN(ie))throw Ca.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(D,Y,Q,ie))},f.prototype.save=function(D){D=typeof D!="boolean"||D;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("q");if(this.pdf.setPage(Y),D){this.ctx.fontSize=this.pdf.internal.getFontSize();var ie=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ie}},f.prototype.restore=function(D){D=typeof D!="boolean"||D;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("Q");this.pdf.setPage(Y),D&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(D){var Y,Q,ie,se;if(D.isCanvasGradient===!0&&(D=D.getColor()),!D)return{r:0,g:0,b:0,a:0,style:D};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(D))Y=0,Q=0,ie=0,se=0;else{var te=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(D);if(te!==null)Y=parseInt(te[1]),Q=parseInt(te[2]),ie=parseInt(te[3]),se=1;else if((te=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(D))!==null)Y=parseInt(te[1]),Q=parseInt(te[2]),ie=parseInt(te[3]),se=parseFloat(te[4]);else{if(se=1,typeof D=="string"&&D.charAt(0)!=="#"){var de=new vne(D);D=de.ok?de.toHex():"#000000"}D.length===4?(Y=D.substring(1,2),Y+=Y,Q=D.substring(2,3),Q+=Q,ie=D.substring(3,4),ie+=ie):(Y=D.substring(1,3),Q=D.substring(3,5),ie=D.substring(5,7)),Y=parseInt(Y,16),Q=parseInt(Q,16),ie=parseInt(ie,16)}}return{r:Y,g:Q,b:ie,a:se,style:D}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},x=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(D,Y,Q,ie){if(isNaN(Y)||isNaN(Q)||typeof D!="string")throw Ca.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ie=isNaN(ie)?void 0:ie,!m.call(this)){var se=G(this.ctx.transform.rotation),te=this.ctx.transform.scaleX;F.call(this,{text:D,x:Y,y:Q,scale:te,angle:se,align:this.textAlign,maxWidth:ie})}},f.prototype.strokeText=function(D,Y,Q,ie){if(isNaN(Y)||isNaN(Q)||typeof D!="string")throw Ca.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!x.call(this)){ie=isNaN(ie)?void 0:ie;var se=G(this.ctx.transform.rotation),te=this.ctx.transform.scaleX;F.call(this,{text:D,x:Y,y:Q,scale:te,renderingMode:"stroke",angle:se,align:this.textAlign,maxWidth:ie})}},f.prototype.measureText=function(D){if(typeof D!="string")throw Ca.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Y=this.pdf,Q=this.pdf.internal.scaleFactor,ie=Y.internal.getFontSize(),se=Y.getStringUnitWidth(D)*ie/Y.internal.scaleFactor,te=function(de){var Z=(de=de||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Z}}),this};return new te({width:se*=Math.round(96*Q/72*1e4)/1e4})},f.prototype.scale=function(D,Y){if(isNaN(D)||isNaN(Y))throw Ca.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Q=new l(D,0,0,Y,0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},f.prototype.rotate=function(D){if(isNaN(D))throw Ca.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Y=new l(Math.cos(D),Math.sin(D),-Math.sin(D),Math.cos(D),0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},f.prototype.translate=function(D,Y){if(isNaN(D)||isNaN(Y))throw Ca.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Q=new l(1,0,0,1,D,Y);this.ctx.transform=this.ctx.transform.multiply(Q)},f.prototype.transform=function(D,Y,Q,ie,se,te){if(isNaN(D)||isNaN(Y)||isNaN(Q)||isNaN(ie)||isNaN(se)||isNaN(te))throw Ca.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var de=new l(D,Y,Q,ie,se,te);this.ctx.transform=this.ctx.transform.multiply(de)},f.prototype.setTransform=function(D,Y,Q,ie,se,te){D=isNaN(D)?1:D,Y=isNaN(Y)?0:Y,Q=isNaN(Q)?0:Q,ie=isNaN(ie)?1:ie,se=isNaN(se)?0:se,te=isNaN(te)?0:te,this.ctx.transform=new l(D,Y,Q,ie,se,te)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(D,Y,Q,ie,se,te,de,Z,ce){var oe=this.pdf.getImageProperties(D),ae=1,Ne=1,Ie=1,Te=1;ie!==void 0&&Z!==void 0&&(Ie=Z/ie,Te=ce/se,ae=oe.width/ie*Z/ie,Ne=oe.height/se*ce/se),te===void 0&&(te=Y,de=Q,Y=0,Q=0),ie!==void 0&&Z===void 0&&(Z=ie,ce=se),ie===void 0&&Z===void 0&&(Z=oe.width,ce=oe.height);for(var he,Ge=this.ctx.transform.decompose(),mt=G(Ge.rotate.shx),ht=new l,Pt=(ht=(ht=(ht=ht.multiply(Ge.translate)).multiply(Ge.skew)).multiply(Ge.scale)).applyToRectangle(new s(te-Y*Ie,de-Q*Te,ie*ae,se*Ne)),ft=y.call(this,Pt),_e=[],Ce=0;Ce<ft.length;Ce+=1)_e.indexOf(ft[Ce])===-1&&_e.push(ft[Ce]);if(S(_e),this.autoPaging)for(var ze=_e[0],gt=_e[_e.length-1],pt=ze;pt<gt+1;pt++){this.pdf.setPage(pt);var Re=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],qe=pt===1?this.posY+this.margin[0]:this.margin[0],Nt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Je=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],lt=pt===1?0:Nt+(pt-2)*Je;if(this.ctx.clip_path.length!==0){var sr=this.path;he=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(he,this.posX+this.margin[3],-lt+qe+this.ctx.prevPageLastElemOffset),E.call(this,"fill",!0),this.path=sr}var Kt=JSON.parse(JSON.stringify(Pt));Kt=b([Kt],this.posX+this.margin[3],-lt+qe+this.ctx.prevPageLastElemOffset)[0];var Tr=(pt>ze||pt<gt)&&g.call(this);Tr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Re,Je,null).clip().discardPath()),this.pdf.addImage(D,"JPEG",Kt.x,Kt.y,Kt.w,Kt.h,null,null,mt),Tr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(D,"JPEG",Pt.x,Pt.y,Pt.w,Pt.h,null,null,mt)};var y=function(D,Y,Q){var ie=[];Y=Y||this.pdf.internal.pageSize.width,Q=Q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var se=this.posY+this.ctx.prevPageLastElemOffset;switch(D.type){default:case"mt":case"lt":ie.push(Math.floor((D.y+se)/Q)+1);break;case"arc":ie.push(Math.floor((D.y+se-D.radius)/Q)+1),ie.push(Math.floor((D.y+se+D.radius)/Q)+1);break;case"qct":var te=q(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x,D.y);ie.push(Math.floor((te.y+se)/Q)+1),ie.push(Math.floor((te.y+te.h+se)/Q)+1);break;case"bct":var de=K(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x2,D.y2,D.x,D.y);ie.push(Math.floor((de.y+se)/Q)+1),ie.push(Math.floor((de.y+de.h+se)/Q)+1);break;case"rect":ie.push(Math.floor((D.y+se)/Q)+1),ie.push(Math.floor((D.y+D.h+se)/Q)+1)}for(var Z=0;Z<ie.length;Z+=1)for(;this.pdf.internal.getNumberOfPages()<ie[Z];)_.call(this);return ie},_=function(){var D=this.fillStyle,Y=this.strokeStyle,Q=this.font,ie=this.lineCap,se=this.lineWidth,te=this.lineJoin;this.pdf.addPage(),this.fillStyle=D,this.strokeStyle=Y,this.font=Q,this.lineCap=ie,this.lineWidth=se,this.lineJoin=te},b=function(D,Y,Q){for(var ie=0;ie<D.length;ie++)switch(D[ie].type){case"bct":D[ie].x2+=Y,D[ie].y2+=Q;case"qct":D[ie].x1+=Y,D[ie].y1+=Q;case"mt":case"lt":case"arc":default:D[ie].x+=Y,D[ie].y+=Q}return D},S=function(D){return D.sort(function(Y,Q){return Y-Q})},C=function(D,Y){for(var Q,ie,se=this.fillStyle,te=this.strokeStyle,de=this.lineCap,Z=this.lineWidth,ce=Math.abs(Z*this.ctx.transform.scaleX),oe=this.lineJoin,ae=JSON.parse(JSON.stringify(this.path)),Ne=JSON.parse(JSON.stringify(this.path)),Ie=[],Te=0;Te<Ne.length;Te++)if(Ne[Te].x!==void 0)for(var he=y.call(this,Ne[Te]),Ge=0;Ge<he.length;Ge+=1)Ie.indexOf(he[Ge])===-1&&Ie.push(he[Ge]);for(var mt=0;mt<Ie.length;mt++)for(;this.pdf.internal.getNumberOfPages()<Ie[mt];)_.call(this);if(S(Ie),this.autoPaging)for(var ht=Ie[0],Pt=Ie[Ie.length-1],ft=ht;ft<Pt+1;ft++){this.pdf.setPage(ft),this.fillStyle=se,this.strokeStyle=te,this.lineCap=de,this.lineWidth=ce,this.lineJoin=oe;var _e=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ce=ft===1?this.posY+this.margin[0]:this.margin[0],ze=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],gt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],pt=ft===1?0:ze+(ft-2)*gt;if(this.ctx.clip_path.length!==0){var Re=this.path;Q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(Q,this.posX+this.margin[3],-pt+Ce+this.ctx.prevPageLastElemOffset),E.call(this,D,!0),this.path=Re}if(ie=JSON.parse(JSON.stringify(ae)),this.path=b(ie,this.posX+this.margin[3],-pt+Ce+this.ctx.prevPageLastElemOffset),Y===!1||ft===0){var qe=(ft>ht||ft<Pt)&&g.call(this);qe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],_e,gt,null).clip().discardPath()),E.call(this,D,Y),qe&&this.pdf.restoreGraphicsState()}this.lineWidth=Z}else this.lineWidth=ce,E.call(this,D,Y),this.lineWidth=Z;this.path=ae},E=function(D,Y){if((D!=="stroke"||Y||!x.call(this))&&(D==="stroke"||Y||!m.call(this))){for(var Q,ie,se=[],te=this.path,de=0;de<te.length;de++){var Z=te[de];switch(Z.type){case"begin":se.push({begin:!0});break;case"close":se.push({close:!0});break;case"mt":se.push({start:Z,deltas:[],abs:[]});break;case"lt":var ce=se.length;if(te[de-1]&&!isNaN(te[de-1].x)&&(Q=[Z.x-te[de-1].x,Z.y-te[de-1].y],ce>0)){for(;ce>=0;ce--)if(se[ce-1].close!==!0&&se[ce-1].begin!==!0){se[ce-1].deltas.push(Q),se[ce-1].abs.push(Z);break}}break;case"bct":Q=[Z.x1-te[de-1].x,Z.y1-te[de-1].y,Z.x2-te[de-1].x,Z.y2-te[de-1].y,Z.x-te[de-1].x,Z.y-te[de-1].y],se[se.length-1].deltas.push(Q);break;case"qct":var oe=te[de-1].x+2/3*(Z.x1-te[de-1].x),ae=te[de-1].y+2/3*(Z.y1-te[de-1].y),Ne=Z.x+2/3*(Z.x1-Z.x),Ie=Z.y+2/3*(Z.y1-Z.y),Te=Z.x,he=Z.y;Q=[oe-te[de-1].x,ae-te[de-1].y,Ne-te[de-1].x,Ie-te[de-1].y,Te-te[de-1].x,he-te[de-1].y],se[se.length-1].deltas.push(Q);break;case"arc":se.push({deltas:[],abs:[],arc:!0}),Array.isArray(se[se.length-1].abs)&&se[se.length-1].abs.push(Z)}}ie=Y?null:D==="stroke"?"stroke":"fill";for(var Ge=!1,mt=0;mt<se.length;mt++)if(se[mt].arc)for(var ht=se[mt].abs,Pt=0;Pt<ht.length;Pt++){var ft=ht[Pt];ft.type==="arc"?I.call(this,ft.x,ft.y,ft.radius,ft.startAngle,ft.endAngle,ft.counterclockwise,void 0,Y,!Ge):j.call(this,ft.x,ft.y),Ge=!0}else if(se[mt].close===!0)this.pdf.internal.out("h"),Ge=!1;else if(se[mt].begin!==!0){var _e=se[mt].start.x,Ce=se[mt].start.y;H.call(this,se[mt].deltas,_e,Ce),Ge=!0}ie&&L.call(this,ie),Y&&U.call(this)}},O=function(D){var Y=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Q=Y*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return D-Q;case"top":return D+Y-Q;case"hanging":return D+Y-2*Q;case"middle":return D+Y/2-Q;case"ideographic":return D;case"alphabetic":default:return D}},P=function(D){return D+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var D=function(){};return D.colorStops=[],D.addColorStop=function(Y,Q){this.colorStops.push([Y,Q])},D.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},D.isCanvasGradient=!0,D},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var I=function(D,Y,Q,ie,se,te,de,Z,ce){for(var oe=re.call(this,Q,ie,se,te),ae=0;ae<oe.length;ae++){var Ne=oe[ae];ae===0&&(ce?T.call(this,Ne.x1+D,Ne.y1+Y):j.call(this,Ne.x1+D,Ne.y1+Y)),X.call(this,D,Y,Ne.x2,Ne.y2,Ne.x3,Ne.y3,Ne.x4,Ne.y4)}Z?U.call(this):L.call(this,de)},L=function(D){switch(D){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},U=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(D,Y){this.pdf.internal.out(r(D)+" "+n(Y)+" m")},F=function(D){var Y;switch(D.align){case"right":case"end":Y="right";break;case"center":Y="center";break;case"left":case"start":default:Y="left"}var Q=this.pdf.getTextDimensions(D.text),ie=O.call(this,D.y),se=P.call(this,ie)-Q.h,te=this.ctx.transform.applyToPoint(new o(D.x,ie)),de=this.ctx.transform.decompose(),Z=new l;Z=(Z=(Z=Z.multiply(de.translate)).multiply(de.skew)).multiply(de.scale);for(var ce,oe,ae,Ne=this.ctx.transform.applyToRectangle(new s(D.x,ie,Q.w,Q.h)),Ie=Z.applyToRectangle(new s(D.x,se,Q.w,Q.h)),Te=y.call(this,Ie),he=[],Ge=0;Ge<Te.length;Ge+=1)he.indexOf(Te[Ge])===-1&&he.push(Te[Ge]);if(S(he),this.autoPaging)for(var mt=he[0],ht=he[he.length-1],Pt=mt;Pt<ht+1;Pt++){this.pdf.setPage(Pt);var ft=Pt===1?this.posY+this.margin[0]:this.margin[0],_e=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ce=this.pdf.internal.pageSize.height-this.margin[2],ze=Ce-this.margin[0],gt=this.pdf.internal.pageSize.width-this.margin[1],pt=gt-this.margin[3],Re=Pt===1?0:_e+(Pt-2)*ze;if(this.ctx.clip_path.length!==0){var qe=this.path;ce=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(ce,this.posX+this.margin[3],-1*Re+ft),E.call(this,"fill",!0),this.path=qe}var Nt=b([JSON.parse(JSON.stringify(Ie))],this.posX+this.margin[3],-Re+ft+this.ctx.prevPageLastElemOffset)[0];D.scale>=.01&&(oe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(oe*D.scale),ae=this.lineWidth,this.lineWidth=ae*D.scale);var Je=this.autoPaging!=="text";if(Je||Nt.y+Nt.h<=Ce){if(Je||Nt.y>=ft&&Nt.x<=gt){var lt=Je?D.text:this.pdf.splitTextToSize(D.text,D.maxWidth||gt-Nt.x)[0],sr=b([JSON.parse(JSON.stringify(Ne))],this.posX+this.margin[3],-Re+ft+this.ctx.prevPageLastElemOffset)[0],Kt=Je&&(Pt>mt||Pt<ht)&&g.call(this);Kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],pt,ze,null).clip().discardPath()),this.pdf.text(lt,sr.x,sr.y,{angle:D.angle,align:Y,renderingMode:D.renderingMode}),Kt&&this.pdf.restoreGraphicsState()}}else Nt.y<Ce&&(this.ctx.prevPageLastElemOffset+=Ce-Nt.y);D.scale>=.01&&(this.pdf.setFontSize(oe),this.lineWidth=ae)}else D.scale>=.01&&(oe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(oe*D.scale),ae=this.lineWidth,this.lineWidth=ae*D.scale),this.pdf.text(D.text,te.x+this.posX,te.y+this.posY,{angle:D.angle,align:Y,renderingMode:D.renderingMode,maxWidth:D.maxWidth}),D.scale>=.01&&(this.pdf.setFontSize(oe),this.lineWidth=ae)},j=function(D,Y,Q,ie){Q=Q||0,ie=ie||0,this.pdf.internal.out(r(D+Q)+" "+n(Y+ie)+" l")},H=function(D,Y,Q){return this.pdf.lines(D,Y,Q,null,null)},X=function(D,Y,Q,ie,se,te,de,Z){this.pdf.internal.out([t(a(Q+D)),t(i(ie+Y)),t(a(se+D)),t(i(te+Y)),t(a(de+D)),t(i(Z+Y)),"c"].join(" "))},re=function(D,Y,Q,ie){for(var se=2*Math.PI,te=Math.PI/2;Y>Q;)Y-=se;var de=Math.abs(Q-Y);de<se&&ie&&(de=se-de);for(var Z=[],ce=ie?-1:1,oe=Y;de>1e-5;){var ae=oe+ce*Math.min(de,te);Z.push(z.call(this,D,oe,ae)),de-=Math.abs(ae-oe),oe=ae}return Z},z=function(D,Y,Q){var ie=(Q-Y)/2,se=D*Math.cos(ie),te=D*Math.sin(ie),de=se,Z=-te,ce=de*de+Z*Z,oe=ce+de*se+Z*te,ae=4/3*(Math.sqrt(2*ce*oe)-oe)/(de*te-Z*se),Ne=de-ae*Z,Ie=Z+ae*de,Te=Ne,he=-Ie,Ge=ie+Y,mt=Math.cos(Ge),ht=Math.sin(Ge);return{x1:D*Math.cos(Y),y1:D*Math.sin(Y),x2:Ne*mt-Ie*ht,y2:Ne*ht+Ie*mt,x3:Te*mt-he*ht,y3:Te*ht+he*mt,x4:D*Math.cos(Q),y4:D*Math.sin(Q)}},G=function(D){return 180*D/Math.PI},q=function(D,Y,Q,ie,se,te){var de=D+.5*(Q-D),Z=Y+.5*(ie-Y),ce=se+.5*(Q-se),oe=te+.5*(ie-te),ae=Math.min(D,se,de,ce),Ne=Math.max(D,se,de,ce),Ie=Math.min(Y,te,Z,oe),Te=Math.max(Y,te,Z,oe);return new s(ae,Ie,Ne-ae,Te-Ie)},K=function(D,Y,Q,ie,se,te,de,Z){var ce,oe,ae,Ne,Ie,Te,he,Ge,mt,ht,Pt,ft,_e,Ce,ze=Q-D,gt=ie-Y,pt=se-Q,Re=te-ie,qe=de-se,Nt=Z-te;for(oe=0;oe<41;oe++)mt=(he=(ae=D+(ce=oe/40)*ze)+ce*((Ie=Q+ce*pt)-ae))+ce*(Ie+ce*(se+ce*qe-Ie)-he),ht=(Ge=(Ne=Y+ce*gt)+ce*((Te=ie+ce*Re)-Ne))+ce*(Te+ce*(te+ce*Nt-Te)-Ge),oe==0?(Pt=mt,ft=ht,_e=mt,Ce=ht):(Pt=Math.min(Pt,mt),ft=Math.min(ft,ht),_e=Math.max(_e,mt),Ce=Math.max(Ce,ht));return new s(Math.round(Pt),Math.round(ft),Math.round(_e-Pt),Math.round(Ce-ft))},J=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var D,Y,Q=(D=this.ctx.lineDash,Y=this.ctx.lineDashOffset,JSON.stringify({lineDash:D,lineDashOffset:Y}));this.prevLineDash!==Q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Q)}}})(Fr.API),function(e){var t=function(i){var o,s,l,u,d,f,h,m,x,g;for(s=[],l=0,u=(i+=o="\0\0\0\0".slice(i.length%4||4)).length;u>l;l+=4)(d=(i.charCodeAt(l)<<24)+(i.charCodeAt(l+1)<<16)+(i.charCodeAt(l+2)<<8)+i.charCodeAt(l+3))!==0?(f=(d=((d=((d=((d=(d-(g=d%85))/85)-(x=d%85))/85)-(m=d%85))/85)-(h=d%85))/85)%85,s.push(f+33,h+33,m+33,x+33,g+33)):s.push(122);return function(y,_){for(var b=_;b>0;b--)y.pop()}(s,o.length),String.fromCharCode.apply(String,s)+"~>"},r=function(i){var o,s,l,u,d,f=String,h="length",m=255,x="charCodeAt",g="slice",y="replace";for(i[g](-2),i=i[g](0,-2)[y](/\s/g,"")[y]("z","!!!!!"),l=[],u=0,d=(i+=o="uuuuu"[g](i[h]%5||5))[h];d>u;u+=5)s=52200625*(i[x](u)-33)+614125*(i[x](u+1)-33)+7225*(i[x](u+2)-33)+85*(i[x](u+3)-33)+(i[x](u+4)-33),l.push(m&s>>24,m&s>>16,m&s>>8,m&s);return function(_,b){for(var S=b;S>0;S--)_.pop()}(l,o[h]),f.fromCharCode.apply(f,l)},n=function(i){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),o.test(i)===!1)return"";for(var s="",l=0;l<i.length;l+=2)s+=String.fromCharCode("0x"+(i[l]+i[l+1]));return s},a=function(i){for(var o=new Uint8Array(i.length),s=i.length;s--;)o[s]=i.charCodeAt(s);return i=(o=i8(o)).reduce(function(l,u){return l+String.fromCharCode(u)},"")};e.processDataByFilters=function(i,o){var s=0,l=i||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),s=0;s<o.length;s+=1)switch(o[s]){case"ASCII85Decode":case"/ASCII85Decode":l=r(l),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=n(l),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=a(l),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[s]+'" is not implemented')}return{data:l,reverseChain:u.reverse().join(" ")}}}(Fr.API),function(e){e.loadFile=function(t,r,n){return function(a,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var s=void 0;try{s=function(l,u,d){var f=new XMLHttpRequest,h=0,m=function(x){var g=x.length,y=[],_=String.fromCharCode;for(h=0;h<g;h+=1)y.push(_(255&x.charCodeAt(h)));return y.join("")};if(f.open("GET",l,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?d(m(this.responseText)):d(void 0)}),f.send(null),u&&f.status===200)return m(f.responseText)}(a,i,o)}catch{}return s}(t,r,n)},e.loadImageFile=e.loadFile}(Fr.API),function(e){function t(){return(Zr.html2canvas?Promise.resolve(Zr.html2canvas):xh(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(Zr.DOMPurify?Promise.resolve(Zr.DOMPurify):xh(()=>import("./purify.es-Bf0oSh3b.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var s=va(o);return s==="undefined"?"undefined":s==="string"||o instanceof String?"string":s==="number"||o instanceof Number?"number":s==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":s==="object"?"object":"unknown"},a=function(o,s){var l=document.createElement(o);for(var u in s.className&&(l.className=s.className),s.innerHTML&&s.dompurify&&(l.innerHTML=s.dompurify.sanitize(s.innerHTML)),s.style)l.style[u]=s.style[u];return l},i=function o(s){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),l);return u=(u=u.setProgress(1,o,1,[o])).set(s)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(o,s){return o.__proto__=s||i.prototype,o},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(o,s){return this.then(function(){switch(s=s||function(l){switch(n(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(r).then(function(l){return this.set({src:a("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},i.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},s=function l(u,d){for(var f=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),h=u.firstChild;h;h=h.nextSibling)d!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||f.appendChild(l(h,d));return u.nodeType===1&&(u.nodeName==="CANVAS"?(f.width=u.width,f.height=u.height,f.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(f.value=u.value),f.addEventListener("load",function(){f.scrollTop=u.scrollTop,f.scrollLeft=u.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);s.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(s),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(s){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,s(this.prop.container,l)}).then(function(s){(this.opt.html2canvas.onrendered||function(){})(s),this.prop.canvas=s,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(s){var l=this.opt.jsPDF,u=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=u,u)for(var h=0;h<u.length;++h){var m=u[h],x=m.src.find(function(g){return g.format==="truetype"});x&&l.addFont(x.url,m.ref.name,m.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,l.context2d.save(!0),s(this.prop.container,f)}).then(function(s){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(s),this.prop.canvas=s,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(o,s,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,s):this.outputPdf(o,s)},i.prototype.outputPdf=function(o,s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,s)})},i.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},i.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(o){if(n(o)!=="object")return this;var s=Object.keys(o||{}).map(function(l){if(l in i.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(s)})},i.prototype.get=function(o,s){return this.then(function(){var l=o in i.template.prop?this.prop[o]:this.opt[o];return s?s(l):l})},i.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},i.prototype.setPageSize=function(o){function s(l,u){return Math.floor(l*u/72*96)}return this.then(function(){(o=o||Fr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:s(o.inner.width,o.k),height:s(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},i.prototype.setProgress=function(o,s,l,u){return o!=null&&(this.progress.val=o),s!=null&&(this.progress.state=s),l!=null&&(this.progress.n=l),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(o,s,l,u){return this.setProgress(o?this.progress.val+o:null,s||null,l?this.progress.n+l:null,u?this.progress.stack.concat(u):null)},i.prototype.then=function(o,s){var l=this;return this.thenCore(o,s,function(u,d){return l.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(f){return l.updateProgress(null,u),f}).then(u,d).then(function(f){return l.updateProgress(1),f})})},i.prototype.thenCore=function(o,s,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),s&&(s=s.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),d=l.call(u,o,s);return i.convert(d,this.__proto__)},i.prototype.thenExternal=function(o,s){return Promise.prototype.then.call(this,o,s)},i.prototype.thenList=function(o){var s=this;return o.forEach(function(l){s=s.thenCore(l)}),s},i.prototype.catch=function(o){o&&(o=o.bind(this));var s=Promise.prototype.catch.call(this,o);return i.convert(s,this)},i.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},i.prototype.error=function(o){return this.then(function(){throw new Error(o)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,Fr.getPageSize=function(o,s,l){if(va(o)==="object"){var u=o;o=u.orientation,s=u.unit||s,l=u.format||l}s=s||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var d,f=(""+l).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(s){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+s}var m,x=0,g=0;if(h.hasOwnProperty(f))x=h[f][1]/d,g=h[f][0]/d;else try{x=l[1],g=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",g>x&&(m=g,g=x,x=m);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",x>g&&(m=g,g=x,x=m)}return{width:g,height:x,unit:s,k:d,orientation:o}},e.html=function(o,s){(s=s||{}).callback=s.callback||function(){},s.html2canvas=s.html2canvas||{},s.html2canvas.canvas=s.html2canvas.canvas||this.canvas,s.jsPDF=s.jsPDF||this,s.fontFaces=s.fontFaces?s.fontFaces.map(d8):null;var l=new i(s);return s.worker?l:l.from(o).doCallback()}}(Fr.API),Fr.API.addJS=function(e){return oW=e,this.internal.events.subscribe("postPutResources",function(){Ab=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ab+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),iW=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+oW+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Ab!==void 0&&iW!==void 0&&this.internal.out("/Names <</JavaScript "+Ab+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var o=a[i],s=n.exec(o);if(s!=null){var l=s[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(i=0;i<u;i++){var f=r.internal.newObject();d.push(f);var h=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var m=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<d.length;i++)r.internal.write("(page_"+(i+1)+")"+d[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+m+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var o={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var o=n.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var s=this.count=this.count_r({count:0},o);if(s>0&&this.line("/Count "+s),o.options&&o.options.pageNumber){var l=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])}(Fr.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,i,o,s){var l,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(l=function(f){for(var h,m=256*f.charCodeAt(4)+f.charCodeAt(5),x=f.length,g={width:0,height:0,numcomponents:1},y=4;y<x;y+=2){if(y+=m,t.indexOf(f.charCodeAt(y+1))!==-1){h=256*f.charCodeAt(y+5)+f.charCodeAt(y+6),g={width:256*f.charCodeAt(y+7)+f.charCodeAt(y+8),height:h,numcomponents:f.charCodeAt(y+9)};break}m=256*f.charCodeAt(y+2)+f.charCodeAt(y+3)}return g}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:s=this.color_spaces.DEVICE_GRAY;break;case 4:s=this.color_spaces.DEVICE_CMYK;break;case 3:s=this.color_spaces.DEVICE_RGB}d={data:r,width:l.width,height:l.height,colorSpace:s,bitsPerComponent:8,filter:u,index:n,alias:a}}return d}}(Fr.API);var Rv,kb,sW,lW,cW,P7e=function(){var e,t,r;function n(i){var o,s,l,u,d,f,h,m,x,g,y,_,b,S;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(o=this.readUInt32(),x=(function(){var C,E;for(E=[],C=0;C<4;++C)E.push(String.fromCharCode(this.data[this.pos++]));return E}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),u=this.readUInt16()||100,f.delay=1e3*d/u,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(x==="fdAT"&&(this.pos+=4,o-=4),i=(f!=null?f.data:void 0)||this.imgData,_=0;0<=o?_<o:_>o;0<=o?++_:--_)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((g=l-this.transparency.indexed.length)>0)for(b=0;0<=g?b<g:b>g;0<=g?++b:--b)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":h=(y=this.read(o)).indexOf(0),m=String.fromCharCode.apply(String,y.slice(0,h)),this.text[m]=String.fromCharCode.apply(String,y.slice(h+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(S=this.colorType)===4||S===6,s=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*s,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var o,s;for(s=[],o=0;0<=i?o<i:o>i;0<=i?++o:--o)s.push(this.data[this.pos++]);return s},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var o=this.pixelBitlength/8,s=new Uint8Array(this.width*this.height*o),l=0,u=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function d(f,h,m,x){var g,y,_,b,S,C,E,O,P,I,L,U,T,F,j,H,X,re,z,G,q,K=Math.ceil((u.width-f)/m),J=Math.ceil((u.height-h)/x),D=u.width==K&&u.height==J;for(F=o*K,U=D?s:new Uint8Array(F*J),C=i.length,T=0,y=0;T<J&&l<C;){switch(i[l++]){case 0:for(b=X=0;X<F;b=X+=1)U[y++]=i[l++];break;case 1:for(b=re=0;re<F;b=re+=1)g=i[l++],S=b<o?0:U[y-o],U[y++]=(g+S)%256;break;case 2:for(b=z=0;z<F;b=z+=1)g=i[l++],_=(b-b%o)/o,j=T&&U[(T-1)*F+_*o+b%o],U[y++]=(j+g)%256;break;case 3:for(b=G=0;G<F;b=G+=1)g=i[l++],_=(b-b%o)/o,S=b<o?0:U[y-o],j=T&&U[(T-1)*F+_*o+b%o],U[y++]=(g+Math.floor((S+j)/2))%256;break;case 4:for(b=q=0;q<F;b=q+=1)g=i[l++],_=(b-b%o)/o,S=b<o?0:U[y-o],T===0?j=H=0:(j=U[(T-1)*F+_*o+b%o],H=_&&U[(T-1)*F+(_-1)*o+b%o]),E=S+j-H,O=Math.abs(E-S),I=Math.abs(E-j),L=Math.abs(E-H),P=O<=I&&O<=L?S:I<=L?j:H,U[y++]=(g+P)%256;break;default:throw new Error("Invalid filter algorithm: "+i[l-1])}if(!D){var Y=((h+T*x)*u.width+f)*o,Q=T*F;for(b=0;b<K;b+=1){for(var ie=0;ie<o;ie+=1)s[Y++]=U[Q++];Y+=(m-1)*o}}T++}}return i=s7e(i),u.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),s},n.prototype.decodePalette=function(){var i,o,s,l,u,d,f,h,m;for(s=this.palette,d=this.transparency.indexed||[],u=new Uint8Array((d.length||0)+s.length),l=0,i=0,o=f=0,h=s.length;f<h;o=f+=3)u[l++]=s[o],u[l++]=s[o+1],u[l++]=s[o+2],u[l++]=(m=d[i++])!=null?m:255;return u},n.prototype.copyToImageData=function(i,o){var s,l,u,d,f,h,m,x,g,y,_;if(l=this.colors,g=null,s=this.hasAlphaChannel,this.palette.length&&(g=(_=this._decodedPalette)!=null?_:this._decodedPalette=this.decodePalette(),l=4,s=!0),x=(u=i.data||i).length,f=g||o,d=h=0,l===1)for(;d<x;)m=g?4*o[d/4]:h,y=f[m++],u[d++]=y,u[d++]=y,u[d++]=y,u[d++]=s?f[m++]:255,h=m;else for(;d<x;)m=g?4*o[d/4]:h,u[d++]=f[m++],u[d++]=f[m++],u[d++]=f[m++],u[d++]=s?f[m++]:255,h=m},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var a=function(){if(Object.prototype.toString.call(Zr)==="[object Window]"){try{t=Zr.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return a(),e=function(i){var o;if(a()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var o,s,l,u,d,f,h,m;if(this.animation){for(m=[],s=d=0,f=(h=this.animation.frames).length;d<f;s=++d)o=h[s],l=i.createImageData(o.width,o.height),u=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,u),o.imageData=l,m.push(o.image=e(l));return m}},n.prototype.renderFrame=function(i,o){var s,l,u;return s=(l=this.animation.frames)[o],u=l[o-1],o===0&&i.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?i.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&i.putImageData(u.imageData,u.xOffset,u.yOffset),s.blendOp===0&&i.clearRect(s.xOffset,s.yOffset,s.width,s.height),i.drawImage(s.image,s.xOffset,s.yOffset)},n.prototype.animate=function(i){var o,s,l,u,d,f,h=this;return s=0,f=this.animation,u=f.numFrames,l=f.frames,d=f.numPlays,(o=function(){var m,x;if(m=s++%u,x=l[m],h.renderFrame(i,m),u>1&&s/u<d)return h.animation._timeout=setTimeout(o,x.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var o,s;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,o=i.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(s=o.createImageData(this.width,this.height),this.copyToImageData(s,this.decodePixels()),o.putImageData(s,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function T7e(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,o=1<<(7&a)+1;e[t++],e[t++];var s=null,l=null;i&&(s=t,l=o,t+=3*o);var u=!0,d=[],f=0,h=null,m=0,x=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,x=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var g=e[t++];f=e[t++]|e[t++]<<8,h=e[t++],(1&g)==0&&(h=null),m=g>>2&7,t++;break;case 254:for(;;){if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var y=e[t++]|e[t++]<<8,_=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,S=e[t++]|e[t++]<<8,C=e[t++],E=C>>6&1,O=1<<(7&C)+1,P=s,I=l,L=!1;C>>7&&(L=!0,P=t,I=O,t+=3*O);var U=t;for(t++;;){var T;if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}d.push({x:y,y:_,width:b,height:S,has_local_palette:L,palette_offset:P,palette_size:I,data_offset:U,data_length:t-U,transparent_index:h,interlaced:!!E,delay:f,disposal:m});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return x},this.frameInfo=function(F){if(F<0||F>=d.length)throw new Error("Frame index out of range.");return d[F]},this.decodeAndBlitFrameBGRA=function(F,j){var H=this.frameInfo(F),X=H.width*H.height,re=new Uint8Array(X);uW(e,H.data_offset,re,X);var z=H.palette_offset,G=H.transparent_index;G===null&&(G=256);var q=H.width,K=r-q,J=q,D=4*(H.y*r+H.x),Y=4*((H.y+H.height)*r+H.x),Q=D,ie=4*K;H.interlaced===!0&&(ie+=4*r*7);for(var se=8,te=0,de=re.length;te<de;++te){var Z=re[te];if(J===0&&(J=q,(Q+=ie)>=Y&&(ie=4*K+4*r*(se-1),Q=D+(q+K)*(se<<1),se>>=1)),Z===G)Q+=4;else{var ce=e[z+3*Z],oe=e[z+3*Z+1],ae=e[z+3*Z+2];j[Q++]=ae,j[Q++]=oe,j[Q++]=ce,j[Q++]=255}--J}},this.decodeAndBlitFrameRGBA=function(F,j){var H=this.frameInfo(F),X=H.width*H.height,re=new Uint8Array(X);uW(e,H.data_offset,re,X);var z=H.palette_offset,G=H.transparent_index;G===null&&(G=256);var q=H.width,K=r-q,J=q,D=4*(H.y*r+H.x),Y=4*((H.y+H.height)*r+H.x),Q=D,ie=4*K;H.interlaced===!0&&(ie+=4*r*7);for(var se=8,te=0,de=re.length;te<de;++te){var Z=re[te];if(J===0&&(J=q,(Q+=ie)>=Y&&(ie=4*K+4*r*(se-1),Q=D+(q+K)*(se<<1),se>>=1)),Z===G)Q+=4;else{var ce=e[z+3*Z],oe=e[z+3*Z+1],ae=e[z+3*Z+2];j[Q++]=ce,j[Q++]=oe,j[Q++]=ae,j[Q++]=255}--J}}}function uW(e,t,r,n){for(var a=e[t++],i=1<<a,o=i+1,s=o+1,l=a+1,u=(1<<l)-1,d=0,f=0,h=0,m=e[t++],x=new Int32Array(4096),g=null;;){for(;d<16&&m!==0;)f|=e[t++]<<d,d+=8,m===1?m=e[t++]:--m;if(d<l)break;var y=f&u;if(f>>=l,d-=l,y!==i){if(y===o)break;for(var _=y<s?y:g,b=0,S=_;S>i;)S=x[S]>>8,++b;var C=S;if(h+b+(_!==y?1:0)>n)return void Ca.log("Warning, gif stream longer than expected.");r[h++]=C;var E=h+=b;for(_!==y&&(r[h++]=C),S=_;b--;)S=x[S],r[--E]=255&S,S>>=8;g!==null&&s<4096&&(x[s++]=g<<8|C,s>=u+1&&l<12&&(++l,u=u<<1|1)),g=y}else s=o+1,u=(1<<(l=a+1))-1,g=null}return h!==n&&Ca.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function GP(e){var t,r,n,a,i,o=Math.floor,s=new Array(64),l=new Array(64),u=new Array(64),d=new Array(64),f=new Array(65535),h=new Array(65535),m=new Array(64),x=new Array(64),g=[],y=0,_=7,b=new Array(64),S=new Array(64),C=new Array(64),E=new Array(256),O=new Array(2048),P=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],I=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],F=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],j=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],X=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function re(D,Y){for(var Q=0,ie=0,se=new Array,te=1;te<=16;te++){for(var de=1;de<=D[te];de++)se[Y[ie]]=[],se[Y[ie]][0]=Q,se[Y[ie]][1]=te,ie++,Q++;Q*=2}return se}function z(D){for(var Y=D[0],Q=D[1]-1;Q>=0;)Y&1<<Q&&(y|=1<<_),Q--,--_<0&&(y==255?(G(255),G(0)):G(y),_=7,y=0)}function G(D){g.push(D)}function q(D){G(D>>8&255),G(255&D)}function K(D,Y,Q,ie,se){for(var te,de=se[0],Z=se[240],ce=function(ht,Pt){var ft,_e,Ce,ze,gt,pt,Re,qe,Nt,Je,lt=0;for(Nt=0;Nt<8;++Nt){ft=ht[lt],_e=ht[lt+1],Ce=ht[lt+2],ze=ht[lt+3],gt=ht[lt+4],pt=ht[lt+5],Re=ht[lt+6];var sr=ft+(qe=ht[lt+7]),Kt=ft-qe,Tr=_e+Re,Kr=_e-Re,ln=Ce+pt,Aa=Ce-pt,tn=ze+gt,ka=ze-gt,An=sr+tn,xa=sr-tn,wa=Tr+ln,kn=Tr-ln;ht[lt]=An+wa,ht[lt+4]=An-wa;var Dr=.707106781*(kn+xa);ht[lt+2]=xa+Dr,ht[lt+6]=xa-Dr;var Nn=.382683433*((An=ka+Aa)-(kn=Kr+Kt)),is=.5411961*An+Nn,Na=1.306562965*kn+Nn,Di=.707106781*(wa=Aa+Kr),it=Kt+Di,xt=Kt-Di;ht[lt+5]=xt+is,ht[lt+3]=xt-is,ht[lt+1]=it+Na,ht[lt+7]=it-Na,lt+=8}for(lt=0,Nt=0;Nt<8;++Nt){ft=ht[lt],_e=ht[lt+8],Ce=ht[lt+16],ze=ht[lt+24],gt=ht[lt+32],pt=ht[lt+40],Re=ht[lt+48];var et=ft+(qe=ht[lt+56]),wt=ft-qe,vr=_e+Re,Nr=_e-Re,Qt=Ce+pt,fe=Ce-pt,Se=ze+gt,ye=ze-gt,we=et+Se,be=et-Se,ke=vr+Qt,tt=vr-Qt;ht[lt]=we+ke,ht[lt+32]=we-ke;var yt=.707106781*(tt+be);ht[lt+16]=be+yt,ht[lt+48]=be-yt;var Ke=.382683433*((we=ye+fe)-(tt=Nr+wt)),ot=.5411961*we+Ke,ut=1.306562965*tt+Ke,It=.707106781*(ke=fe+Nr),Yt=wt+It,or=wt-It;ht[lt+40]=or+ot,ht[lt+24]=or-ot,ht[lt+8]=Yt+ut,ht[lt+56]=Yt-ut,lt++}for(Nt=0;Nt<64;++Nt)Je=ht[Nt]*Pt[Nt],m[Nt]=Je>0?Je+.5|0:Je-.5|0;return m}(D,Y),oe=0;oe<64;++oe)x[P[oe]]=ce[oe];var ae=x[0]-Q;Q=x[0],ae==0?z(ie[0]):(z(ie[h[te=32767+ae]]),z(f[te]));for(var Ne=63;Ne>0&&x[Ne]==0;)Ne--;if(Ne==0)return z(de),Q;for(var Ie,Te=1;Te<=Ne;){for(var he=Te;x[Te]==0&&Te<=Ne;)++Te;var Ge=Te-he;if(Ge>=16){Ie=Ge>>4;for(var mt=1;mt<=Ie;++mt)z(Z);Ge&=15}te=32767+x[Te],z(se[(Ge<<4)+h[te]]),z(f[te]),Te++}return Ne!=63&&z(de),Q}function J(D){D=Math.min(Math.max(D,1),100),i!=D&&(function(Y){for(var Q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ie=0;ie<64;ie++){var se=o((Q[ie]*Y+50)/100);se=Math.min(Math.max(se,1),255),s[P[ie]]=se}for(var te=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],de=0;de<64;de++){var Z=o((te[de]*Y+50)/100);Z=Math.min(Math.max(Z,1),255),l[P[de]]=Z}for(var ce=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],oe=0,ae=0;ae<8;ae++)for(var Ne=0;Ne<8;Ne++)u[oe]=1/(s[P[oe]]*ce[ae]*ce[Ne]*8),d[oe]=1/(l[P[oe]]*ce[ae]*ce[Ne]*8),oe++}(D<50?Math.floor(5e3/D):Math.floor(200-2*D)),i=D)}this.encode=function(D,Y){Y&&J(Y),g=new Array,y=0,_=7,q(65496),q(65504),q(16),G(74),G(70),G(73),G(70),G(0),G(1),G(1),G(0),q(1),q(1),G(0),G(0),function(){q(65499),q(132),G(0);for(var _e=0;_e<64;_e++)G(s[_e]);G(1);for(var Ce=0;Ce<64;Ce++)G(l[Ce])}(),function(_e,Ce){q(65472),q(17),G(8),q(Ce),q(_e),G(3),G(1),G(17),G(0),G(2),G(17),G(1),G(3),G(17),G(1)}(D.width,D.height),function(){q(65476),q(418),G(0);for(var _e=0;_e<16;_e++)G(I[_e+1]);for(var Ce=0;Ce<=11;Ce++)G(L[Ce]);G(16);for(var ze=0;ze<16;ze++)G(U[ze+1]);for(var gt=0;gt<=161;gt++)G(T[gt]);G(1);for(var pt=0;pt<16;pt++)G(F[pt+1]);for(var Re=0;Re<=11;Re++)G(j[Re]);G(17);for(var qe=0;qe<16;qe++)G(H[qe+1]);for(var Nt=0;Nt<=161;Nt++)G(X[Nt])}(),q(65498),q(12),G(3),G(1),G(0),G(2),G(17),G(3),G(17),G(0),G(63),G(0);var Q=0,ie=0,se=0;y=0,_=7,this.encode.displayName="_encode_";for(var te,de,Z,ce,oe,ae,Ne,Ie,Te,he=D.data,Ge=D.width,mt=D.height,ht=4*Ge,Pt=0;Pt<mt;){for(te=0;te<ht;){for(oe=ht*Pt+te,Ne=-1,Ie=0,Te=0;Te<64;Te++)ae=oe+(Ie=Te>>3)*ht+(Ne=4*(7&Te)),Pt+Ie>=mt&&(ae-=ht*(Pt+1+Ie-mt)),te+Ne>=ht&&(ae-=te+Ne-ht+4),de=he[ae++],Z=he[ae++],ce=he[ae++],b[Te]=(O[de]+O[Z+256>>0]+O[ce+512>>0]>>16)-128,S[Te]=(O[de+768>>0]+O[Z+1024>>0]+O[ce+1280>>0]>>16)-128,C[Te]=(O[de+1280>>0]+O[Z+1536>>0]+O[ce+1792>>0]>>16)-128;Q=K(b,u,Q,t,n),ie=K(S,d,ie,r,a),se=K(C,d,se,r,a),te+=32}Pt+=8}if(_>=0){var ft=[];ft[1]=_+1,ft[0]=(1<<_+1)-1,z(ft)}return q(65497),new Uint8Array(g)},e=e||50,function(){for(var D=String.fromCharCode,Y=0;Y<256;Y++)E[Y]=D(Y)}(),t=re(I,L),r=re(F,j),n=re(U,T),a=re(H,X),function(){for(var D=1,Y=2,Q=1;Q<=15;Q++){for(var ie=D;ie<Y;ie++)h[32767+ie]=Q,f[32767+ie]=[],f[32767+ie][1]=Q,f[32767+ie][0]=ie;for(var se=-(Y-1);se<=-D;se++)h[32767+se]=Q,f[32767+se]=[],f[32767+se][1]=Q,f[32767+se][0]=Y-1+se;D<<=1,Y<<=1}}(),function(){for(var D=0;D<256;D++)O[D]=19595*D,O[D+256>>0]=38470*D,O[D+512>>0]=7471*D+32768,O[D+768>>0]=-11059*D,O[D+1024>>0]=-21709*D,O[D+1280>>0]=32768*D+8421375,O[D+1536>>0]=-27439*D,O[D+1792>>0]=-5329*D}(),J(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ou(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function dW(e){function t(I){if(!I)throw Error("assert :P")}function r(I,L,U){for(var T=0;4>T;T++)if(I[L+T]!=U.charCodeAt(T))return!0;return!1}function n(I,L,U,T,F){for(var j=0;j<F;j++)I[L+j]=U[T+j]}function a(I,L,U,T){for(var F=0;F<T;F++)I[L+F]=U}function i(I){return new Int32Array(I)}function o(I,L){for(var U=[],T=0;T<I;T++)U.push(new L);return U}function s(I,L){var U=[];return function T(F,j,H){for(var X=H[j],re=0;re<X&&(F.push(H.length>j+1?[]:new L),!(H.length<j+1));re++)T(F[re],j+1,H)}(U,0,I),U}var l=function(){var I=this;function L(N,M){for(var V=1<<M-1>>>0;N&V;)V>>>=1;return V?(N&V-1)+V:N}function U(N,M,V,ne,le){t(!(ne%V));do N[M+(ne-=V)]=le;while(0<ne)}function T(N,M,V,ne,le){if(t(2328>=le),512>=le)var pe=i(512);else if((pe=i(le))==null)return 0;return function(ge,ve,xe,Ae,Be,nt){var at,Xe,Ot=ve,bt=1<<xe,We=i(16),Ve=i(16);for(t(Be!=0),t(Ae!=null),t(ge!=null),t(0<xe),Xe=0;Xe<Be;++Xe){if(15<Ae[Xe])return 0;++We[Ae[Xe]]}if(We[0]==Be)return 0;for(Ve[1]=0,at=1;15>at;++at){if(We[at]>1<<at)return 0;Ve[at+1]=Ve[at]+We[at]}for(Xe=0;Xe<Be;++Xe)at=Ae[Xe],0<Ae[Xe]&&(nt[Ve[at]++]=Xe);if(Ve[15]==1)return(Ae=new F).g=0,Ae.value=nt[0],U(ge,Ot,1,bt,Ae),bt;var kt,At=-1,Ct=bt-1,fr=0,ar=1,Rr=1,ir=1<<xe;for(Xe=0,at=1,Be=2;at<=xe;++at,Be<<=1){if(ar+=Rr<<=1,0>(Rr-=We[at]))return 0;for(;0<We[at];--We[at])(Ae=new F).g=at,Ae.value=nt[Xe++],U(ge,Ot+fr,Be,ir,Ae),fr=L(fr,at)}for(at=xe+1,Be=2;15>=at;++at,Be<<=1){if(ar+=Rr<<=1,0>(Rr-=We[at]))return 0;for(;0<We[at];--We[at]){if(Ae=new F,(fr&Ct)!=At){for(Ot+=ir,kt=1<<(At=at)-xe;15>At&&!(0>=(kt-=We[At]));)++At,kt<<=1;bt+=ir=1<<(kt=At-xe),ge[ve+(At=fr&Ct)].g=kt+xe,ge[ve+At].value=Ot-ve-At}Ae.g=at-xe,Ae.value=nt[Xe++],U(ge,Ot+(fr>>xe),Be,ir,Ae),fr=L(fr,at)}}return ar!=2*Ve[15]-1?0:bt}(N,M,V,ne,le,pe)}function F(){this.value=this.g=0}function j(){this.value=this.g=0}function H(){this.G=o(5,F),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(ni,j)}function X(N,M,V,ne){t(N!=null),t(M!=null),t(2147483648>ne),N.Ca=254,N.I=0,N.b=-8,N.Ka=0,N.oa=M,N.pa=V,N.Jd=M,N.Yc=V+ne,N.Zc=4<=ne?V+ne-4+1:V,te(N)}function re(N,M){for(var V=0;0<M--;)V|=Z(N,128)<<M;return V}function z(N,M){var V=re(N,M);return de(N)?-V:V}function G(N,M,V,ne){var le,pe=0;for(t(N!=null),t(M!=null),t(4294967288>ne),N.Sb=ne,N.Ra=0,N.u=0,N.h=0,4<ne&&(ne=4),le=0;le<ne;++le)pe+=M[V+le]<<8*le;N.Ra=pe,N.bb=ne,N.oa=M,N.pa=V}function q(N){for(;8<=N.u&&N.bb<N.Sb;)N.Ra>>>=8,N.Ra+=N.oa[N.pa+N.bb]<<rp-8>>>0,++N.bb,N.u-=8;Q(N)&&(N.h=1,N.u=0)}function K(N,M){if(t(0<=M),!N.h&&M<=tp){var V=Y(N)&ep[M];return N.u+=M,q(N),V}return N.h=1,N.u=0}function J(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function D(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Y(N){return N.Ra>>>(N.u&rp-1)>>>0}function Q(N){return t(N.bb<=N.Sb),N.h||N.bb==N.Sb&&N.u>rp}function ie(N,M){N.u=M,N.h=Q(N)}function se(N){N.u>=np&&(t(N.u>=np),q(N))}function te(N){t(N!=null&&N.oa!=null),N.pa<N.Zc?(N.I=(N.oa[N.pa++]|N.I<<8)>>>0,N.b+=8):(t(N!=null&&N.oa!=null),N.pa<N.Yc?(N.b+=8,N.I=N.oa[N.pa++]|N.I<<8):N.Ka?N.b=0:(N.I<<=8,N.b+=8,N.Ka=1))}function de(N){return re(N,1)}function Z(N,M){var V=N.Ca;0>N.b&&te(N);var ne=N.b,le=V*M>>>8,pe=(N.I>>>ne>le)+0;for(pe?(V-=le,N.I-=le+1<<ne>>>0):V=le+1,ne=V,le=0;256<=ne;)le+=8,ne>>=8;return ne=7^le+qo[ne],N.b-=ne,N.Ca=(V<<ne)-1,pe}function ce(N,M,V){N[M+0]=V>>24&255,N[M+1]=V>>16&255,N[M+2]=V>>8&255,N[M+3]=V>>0&255}function oe(N,M){return N[M+0]<<0|N[M+1]<<8}function ae(N,M){return oe(N,M)|N[M+2]<<16}function Ne(N,M){return oe(N,M)|oe(N,M+2)<<16}function Ie(N,M){var V=1<<M;return t(N!=null),t(0<M),N.X=i(V),N.X==null?0:(N.Mb=32-M,N.Xa=M,1)}function Te(N,M){t(N!=null),t(M!=null),t(N.Xa==M.Xa),n(M.X,0,N.X,0,1<<M.Xa)}function he(){this.X=[],this.Xa=this.Mb=0}function Ge(N,M,V,ne){t(V!=null),t(ne!=null);var le=V[0],pe=ne[0];return le==0&&(le=(N*pe+M/2)/M),pe==0&&(pe=(M*le+N/2)/N),0>=le||0>=pe?0:(V[0]=le,ne[0]=pe,1)}function mt(N,M){return N+(1<<M)-1>>>M}function ht(N,M){return((4278255360&N)+(4278255360&M)>>>0&4278255360)+((16711935&N)+(16711935&M)>>>0&16711935)>>>0}function Pt(N,M){I[M]=function(V,ne,le,pe,ge,ve,xe){var Ae;for(Ae=0;Ae<ge;++Ae){var Be=I[N](ve[xe+Ae-1],le,pe+Ae);ve[xe+Ae]=ht(V[ne+Ae],Be)}}}function ft(){this.ud=this.hd=this.jd=0}function _e(N,M){return((4278124286&(N^M))>>>1)+(N&M)>>>0}function Ce(N){return 0<=N&&256>N?N:0>N?0:255<N?255:void 0}function ze(N,M){return Ce(N+(N-M+.5>>1))}function gt(N,M,V){return Math.abs(M-V)-Math.abs(N-V)}function pt(N,M,V,ne,le,pe,ge){for(ne=pe[ge-1],V=0;V<le;++V)pe[ge+V]=ne=ht(N[M+V],ne)}function Re(N,M,V,ne,le){var pe;for(pe=0;pe<V;++pe){var ge=N[M+pe],ve=ge>>8&255,xe=16711935&(xe=(xe=16711935&ge)+((ve<<16)+ve));ne[le+pe]=(4278255360&ge)+xe>>>0}}function qe(N,M){M.jd=N>>0&255,M.hd=N>>8&255,M.ud=N>>16&255}function Nt(N,M,V,ne,le,pe){var ge;for(ge=0;ge<ne;++ge){var ve=M[V+ge],xe=ve>>>8,Ae=ve,Be=255&(Be=(Be=ve>>>16)+((N.jd<<24>>24)*(xe<<24>>24)>>>5));Ae=255&(Ae=(Ae=Ae+((N.hd<<24>>24)*(xe<<24>>24)>>>5))+((N.ud<<24>>24)*(Be<<24>>24)>>>5)),le[pe+ge]=(4278255360&ve)+(Be<<16)+Ae}}function Je(N,M,V,ne,le){I[M]=function(pe,ge,ve,xe,Ae,Be,nt,at,Xe){for(xe=nt;xe<at;++xe)for(nt=0;nt<Xe;++nt)Ae[Be++]=le(ve[ne(pe[ge++])])},I[N]=function(pe,ge,ve,xe,Ae,Be,nt){var at=8>>pe.b,Xe=pe.Ea,Ot=pe.K[0],bt=pe.w;if(8>at)for(pe=(1<<pe.b)-1,bt=(1<<at)-1;ge<ve;++ge){var We,Ve=0;for(We=0;We<Xe;++We)We&pe||(Ve=ne(xe[Ae++])),Be[nt++]=le(Ot[Ve&bt]),Ve>>=at}else I["VP8LMapColor"+V](xe,Ae,Ot,bt,Be,nt,ge,ve,Xe)}}function lt(N,M,V,ne,le){for(V=M+V;M<V;){var pe=N[M++];ne[le++]=pe>>16&255,ne[le++]=pe>>8&255,ne[le++]=pe>>0&255}}function sr(N,M,V,ne,le){for(V=M+V;M<V;){var pe=N[M++];ne[le++]=pe>>16&255,ne[le++]=pe>>8&255,ne[le++]=pe>>0&255,ne[le++]=pe>>24&255}}function Kt(N,M,V,ne,le){for(V=M+V;M<V;){var pe=(ge=N[M++])>>16&240|ge>>12&15,ge=ge>>0&240|ge>>28&15;ne[le++]=pe,ne[le++]=ge}}function Tr(N,M,V,ne,le){for(V=M+V;M<V;){var pe=(ge=N[M++])>>16&248|ge>>13&7,ge=ge>>5&224|ge>>3&31;ne[le++]=pe,ne[le++]=ge}}function Kr(N,M,V,ne,le){for(V=M+V;M<V;){var pe=N[M++];ne[le++]=pe>>0&255,ne[le++]=pe>>8&255,ne[le++]=pe>>16&255}}function ln(N,M,V,ne,le,pe){if(pe==0)for(V=M+V;M<V;)ce(ne,((pe=N[M++])[0]>>24|pe[1]>>8&65280|pe[2]<<8&16711680|pe[3]<<24)>>>0),le+=32;else n(ne,le,N,M,V)}function Aa(N,M){I[M][0]=I[N+"0"],I[M][1]=I[N+"1"],I[M][2]=I[N+"2"],I[M][3]=I[N+"3"],I[M][4]=I[N+"4"],I[M][5]=I[N+"5"],I[M][6]=I[N+"6"],I[M][7]=I[N+"7"],I[M][8]=I[N+"8"],I[M][9]=I[N+"9"],I[M][10]=I[N+"10"],I[M][11]=I[N+"11"],I[M][12]=I[N+"12"],I[M][13]=I[N+"13"],I[M][14]=I[N+"0"],I[M][15]=I[N+"0"]}function tn(N){return N==cp||N==$f||N==r0||N==n0}function ka(){this.eb=[],this.size=this.A=this.fb=0}function An(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function xa(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ka,this.f.kb=new An,this.sd=null}function wa(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function kn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Dr(N){return alert("todo:WebPSamplerProcessPlane"),N.T}function Nn(N,M){var V=N.T,ne=M.ba.f.RGBA,le=ne.eb,pe=ne.fb+N.ka*ne.A,ge=ds[M.ba.S],ve=N.y,xe=N.O,Ae=N.f,Be=N.N,nt=N.ea,at=N.W,Xe=M.cc,Ot=M.dc,bt=M.Mc,We=M.Nc,Ve=N.ka,kt=N.ka+N.T,At=N.U,Ct=At+1>>1;for(Ve==0?ge(ve,xe,null,null,Ae,Be,nt,at,Ae,Be,nt,at,le,pe,null,null,At):(ge(M.ec,M.fc,ve,xe,Xe,Ot,bt,We,Ae,Be,nt,at,le,pe-ne.A,le,pe,At),++V);Ve+2<kt;Ve+=2)Xe=Ae,Ot=Be,bt=nt,We=at,Be+=N.Rc,at+=N.Rc,pe+=2*ne.A,ge(ve,(xe+=2*N.fa)-N.fa,ve,xe,Xe,Ot,bt,We,Ae,Be,nt,at,le,pe-ne.A,le,pe,At);return xe+=N.fa,N.j+kt<N.o?(n(M.ec,M.fc,ve,xe,At),n(M.cc,M.dc,Ae,Be,Ct),n(M.Mc,M.Nc,nt,at,Ct),V--):1&kt||ge(ve,xe,null,null,Ae,Be,nt,at,Ae,Be,nt,at,le,pe+ne.A,null,null,At),V}function is(N,M,V){var ne=N.F,le=[N.J];if(ne!=null){var pe=N.U,ge=M.ba.S,ve=ge==t0||ge==r0;M=M.ba.f.RGBA;var xe=[0],Ae=N.ka;xe[0]=N.T,N.Kb&&(Ae==0?--xe[0]:(--Ae,le[0]-=N.width),N.j+N.ka+N.T==N.o&&(xe[0]=N.o-N.j-Ae));var Be=M.eb;Ae=M.fb+Ae*M.A,N=ea(ne,le[0],N.width,pe,xe,Be,Ae+(ve?0:3),M.A),t(V==xe),N&&tn(ge)&&cs(Be,Ae,ve,pe,xe,M.A)}return 0}function Na(N){var M=N.ma,V=M.ba.S,ne=11>V,le=V==kd||V==e0||V==t0||V==pa||V==12||tn(V);if(M.memory=null,M.Ib=null,M.Jb=null,M.Nd=null,!Jh(M.Oa,N,le?11:12))return 0;if(le&&tn(V)&&Mt(),N.da)alert("todo:use_scaling");else{if(ne){if(M.Ib=Dr,N.Kb){if(V=N.U+1>>1,M.memory=i(N.U+2*V),M.memory==null)return 0;M.ec=M.memory,M.fc=0,M.cc=M.ec,M.dc=M.fc+N.U,M.Mc=M.cc,M.Nc=M.dc+V,M.Ib=Nn,Mt()}}else alert("todo:EmitYUV");le&&(M.Jb=is,ne&&rt())}if(ne&&!fo){for(N=0;256>N;++N)fs[N]=89858*(N-128)+Gl>>vu,hs[N]=-22014*(N-128)+Gl,hp[N]=-45773*(N-128),zf[N]=113618*(N-128)+Gl>>vu;for(N=ta;N<sa;++N)M=76283*(N-16)+Gl>>vu,Qg[N-ta]=zs(M,255),g_[N-ta]=zs(M+8>>4,15);fo=1}return 1}function Di(N){var M=N.ma,V=N.U,ne=N.T;return t(!(1&N.ka)),0>=V||0>=ne?0:(V=M.Ib(N,M),M.Jb!=null&&M.Jb(N,M,V),M.Dc+=V,1)}function it(N){N.ma.memory=null}function xt(N,M,V,ne){return K(N,8)!=47?0:(M[0]=K(N,14)+1,V[0]=K(N,14)+1,ne[0]=K(N,1),K(N,3)!=0?0:!N.h)}function et(N,M){if(4>N)return N+1;var V=N-2>>1;return(2+(1&N)<<V)+K(M,V)+1}function wt(N,M){return 120<M?M-120:1<=(V=((V=tA[M-1])>>4)*N+(8-(15&V)))?V:1;var V}function vr(N,M,V){var ne=Y(V),le=N[M+=255&ne].g-8;return 0<le&&(ie(V,V.u+8),ne=Y(V),M+=N[M].value,M+=ne&(1<<le)-1),ie(V,V.u+N[M].g),N[M].value}function Nr(N,M,V){return V.g+=N.g,V.value+=N.value<<M>>>0,t(8>=V.g),N.g}function Qt(N,M,V){var ne=N.xc;return t((M=ne==0?0:N.vc[N.md*(V>>ne)+(M>>ne)])<N.Wb),N.Ya[M]}function fe(N,M,V,ne){var le=N.ab,pe=N.c*M,ge=N.C;M=ge+M;var ve=V,xe=ne;for(ne=N.Ta,V=N.Ua;0<le--;){var Ae=N.gc[le],Be=ge,nt=M,at=ve,Xe=xe,Ot=(xe=ne,ve=V,Ae.Ea);switch(t(Be<nt),t(nt<=Ae.nc),Ae.hc){case 2:Yg(at,Xe,(nt-Be)*Ot,xe,ve);break;case 0:var bt=Be,We=nt,Ve=xe,kt=ve,At=(ir=Ae).Ea;bt==0&&(If(at,Xe,null,null,1,Ve,kt),pt(at,Xe+1,0,0,At-1,Ve,kt+1),Xe+=At,kt+=At,++bt);for(var Ct=1<<ir.b,fr=Ct-1,ar=mt(At,ir.b),Rr=ir.K,ir=ir.w+(bt>>ir.b)*ar;bt<We;){var jn=Rr,$n=ir,Rn=1;for(cu(at,Xe,Ve,kt-At,1,Ve,kt);Rn<At;){var mn=(Rn&~fr)+Ct;mn>At&&(mn=At),(0,Ec[jn[$n++]>>8&15])(at,Xe+ +Rn,Ve,kt+Rn-At,mn-Rn,Ve,kt+Rn),Rn=mn}Xe+=At,kt+=At,++bt&fr||(ir+=ar)}nt!=Ae.nc&&n(xe,ve-Ot,xe,ve+(nt-Be-1)*Ot,Ot);break;case 1:for(Ot=at,We=Xe,At=(at=Ae.Ea)-(kt=at&~(Ve=(Xe=1<<Ae.b)-1)),bt=mt(at,Ae.b),Ct=Ae.K,Ae=Ae.w+(Be>>Ae.b)*bt;Be<nt;){for(fr=Ct,ar=Ae,Rr=new ft,ir=We+kt,jn=We+at;We<ir;)qe(fr[ar++],Rr),bd(Rr,Ot,We,Xe,xe,ve),We+=Xe,ve+=Xe;We<jn&&(qe(fr[ar++],Rr),bd(Rr,Ot,We,At,xe,ve),We+=At,ve+=At),++Be&Ve||(Ae+=bt)}break;case 3:if(at==xe&&Xe==ve&&0<Ae.b){for(We=xe,at=Ot=ve+(nt-Be)*Ot-(kt=(nt-Be)*mt(Ae.Ea,Ae.b)),Xe=xe,Ve=ve,bt=[],kt=(At=kt)-1;0<=kt;--kt)bt[kt]=Xe[Ve+kt];for(kt=At-1;0<=kt;--kt)We[at+kt]=bt[kt];zo(Ae,Be,nt,xe,Ot,xe,ve)}else zo(Ae,Be,nt,at,Xe,xe,ve)}ve=ne,xe=V}xe!=V&&n(ne,V,ve,xe,pe)}function Se(N,M){var V=N.V,ne=N.Ba+N.c*N.C,le=M-N.C;if(t(M<=N.l.o),t(16>=le),0<le){var pe=N.l,ge=N.Ta,ve=N.Ua,xe=pe.width;if(fe(N,le,V,ne),le=ve=[ve],t((V=N.C)<(ne=M)),t(pe.v<pe.va),ne>pe.o&&(ne=pe.o),V<pe.j){var Ae=pe.j-V;V=pe.j,le[0]+=Ae*xe}if(V>=ne?V=0:(le[0]+=4*pe.v,pe.ka=V-pe.j,pe.U=pe.va-pe.v,pe.T=ne-V,V=1),V){if(ve=ve[0],11>(V=N.ca).S){var Be=V.f.RGBA,nt=(ne=V.S,le=pe.U,pe=pe.T,Ae=Be.eb,Be.A),at=pe;for(Be=Be.fb+N.Ma*Be.A;0<at--;){var Xe=ge,Ot=ve,bt=le,We=Ae,Ve=Be;switch(ne){case Kg:Wo(Xe,Ot,bt,We,Ve);break;case kd:bo(Xe,Ot,bt,We,Ve);break;case cp:bo(Xe,Ot,bt,We,Ve),cs(We,Ve,0,bt,1,0);break;case d_:du(Xe,Ot,bt,We,Ve);break;case e0:ln(Xe,Ot,bt,We,Ve,1);break;case $f:ln(Xe,Ot,bt,We,Ve,1),cs(We,Ve,0,bt,1,0);break;case t0:ln(Xe,Ot,bt,We,Ve,0);break;case r0:ln(Xe,Ot,bt,We,Ve,0),cs(We,Ve,1,bt,1,0);break;case pa:Sd(Xe,Ot,bt,We,Ve);break;case n0:Sd(Xe,Ot,bt,We,Ve),ha(We,Ve,bt,1,0);break;case Xg:uu(Xe,Ot,bt,We,Ve);break;default:t(0)}ve+=xe,Be+=nt}N.Ma+=pe}else alert("todo:EmitRescaledRowsYUVA");t(N.Ma<=V.height)}}N.C=M,t(N.C<=N.i)}function ye(N){var M;if(0<N.ua)return 0;for(M=0;M<N.Wb;++M){var V=N.Ya[M].G,ne=N.Ya[M].H;if(0<V[1][ne[1]+0].g||0<V[2][ne[2]+0].g||0<V[3][ne[3]+0].g)return 0}return 1}function we(N,M,V,ne,le,pe){if(N.Z!=0){var ge=N.qd,ve=N.rd;for(t(Ao[N.Z]!=null);M<V;++M)Ao[N.Z](ge,ve,ne,le,ne,le,pe),ge=ne,ve=le,le+=pe;N.qd=ge,N.rd=ve}}function be(N,M){var V=N.l.ma,ne=V.Z==0||V.Z==1?N.l.j:N.C;if(ne=N.C<ne?ne:N.C,t(M<=N.l.o),M>ne){var le=N.l.width,pe=V.ca,ge=V.tb+le*ne,ve=N.V,xe=N.Ba+N.c*ne,Ae=N.gc;t(N.ab==1),t(Ae[0].hc==3),Zm(Ae[0],ne,M,ve,xe,pe,ge),we(V,ne,M,pe,ge,le)}N.C=N.Ma=M}function ke(N,M,V,ne,le,pe,ge){var ve=N.$/ne,xe=N.$%ne,Ae=N.m,Be=N.s,nt=V+N.$,at=nt;le=V+ne*le;var Xe=V+ne*pe,Ot=280+Be.ua,bt=N.Pb?ve:16777216,We=0<Be.ua?Be.Wa:null,Ve=Be.wc,kt=nt<Xe?Qt(Be,xe,ve):null;t(N.C<pe),t(Xe<=le);var At=!1;e:for(;;){for(;At||nt<Xe;){var Ct=0;if(ve>=bt){var fr=nt-V;t((bt=N).Pb),bt.wd=bt.m,bt.xd=fr,0<bt.s.ua&&Te(bt.s.Wa,bt.s.vb),bt=ve+Jg}if(xe&Ve||(kt=Qt(Be,xe,ve)),t(kt!=null),kt.Qb&&(M[nt]=kt.qb,At=!0),!At)if(se(Ae),kt.jc){Ct=Ae,fr=M;var ar=nt,Rr=kt.pd[Y(Ct)&ni-1];t(kt.jc),256>Rr.g?(ie(Ct,Ct.u+Rr.g),fr[ar]=Rr.value,Ct=0):(ie(Ct,Ct.u+Rr.g-256),t(256<=Rr.value),Ct=Rr.value),Ct==0&&(At=!0)}else Ct=vr(kt.G[0],kt.H[0],Ae);if(Ae.h)break;if(At||256>Ct){if(!At)if(kt.nd)M[nt]=(kt.qb|Ct<<8)>>>0;else{if(se(Ae),At=vr(kt.G[1],kt.H[1],Ae),se(Ae),fr=vr(kt.G[2],kt.H[2],Ae),ar=vr(kt.G[3],kt.H[3],Ae),Ae.h)break;M[nt]=(ar<<24|At<<16|Ct<<8|fr)>>>0}if(At=!1,++nt,++xe>=ne&&(xe=0,++ve,ge!=null&&ve<=pe&&!(ve%16)&&ge(N,ve),We!=null))for(;at<nt;)Ct=M[at++],We.X[(506832829*Ct&4294967295)>>>We.Mb]=Ct}else if(280>Ct){if(Ct=et(Ct-256,Ae),fr=vr(kt.G[4],kt.H[4],Ae),se(Ae),fr=wt(ne,fr=et(fr,Ae)),Ae.h)break;if(nt-V<fr||le-nt<Ct)break e;for(ar=0;ar<Ct;++ar)M[nt+ar]=M[nt+ar-fr];for(nt+=Ct,xe+=Ct;xe>=ne;)xe-=ne,++ve,ge!=null&&ve<=pe&&!(ve%16)&&ge(N,ve);if(t(nt<=le),xe&Ve&&(kt=Qt(Be,xe,ve)),We!=null)for(;at<nt;)Ct=M[at++],We.X[(506832829*Ct&4294967295)>>>We.Mb]=Ct}else{if(!(Ct<Ot))break e;for(At=Ct-280,t(We!=null);at<nt;)Ct=M[at++],We.X[(506832829*Ct&4294967295)>>>We.Mb]=Ct;Ct=nt,t(!(At>>>(fr=We).Xa)),M[Ct]=fr.X[At],At=!0}At||t(Ae.h==Q(Ae))}if(N.Pb&&Ae.h&&nt<le)t(N.m.h),N.a=5,N.m=N.wd,N.$=N.xd,0<N.s.ua&&Te(N.s.vb,N.s.Wa);else{if(Ae.h)break e;ge!=null&&ge(N,ve>pe?pe:ve),N.a=0,N.$=nt-V}return 1}return N.a=3,0}function tt(N){t(N!=null),N.vc=null,N.yc=null,N.Ya=null;var M=N.Wa;M!=null&&(M.X=null),N.vb=null,t(N!=null)}function yt(){var N=new Ty;return N==null?null:(N.a=0,N.xb=dp,Aa("Predictor","VP8LPredictors"),Aa("Predictor","VP8LPredictors_C"),Aa("PredictorAdd","VP8LPredictorsAdd"),Aa("PredictorAdd","VP8LPredictorsAdd_C"),Yg=Re,bd=Nt,Wo=lt,bo=sr,Sd=Kt,uu=Tr,du=Kr,I.VP8LMapColor32b=ap,I.VP8LMapColor8b=ip,N)}function Ke(N,M,V,ne,le){var pe=1,ge=[N],ve=[M],xe=ne.m,Ae=ne.s,Be=null,nt=0;e:for(;;){if(V)for(;pe&&K(xe,1);){var at=ge,Xe=ve,Ot=ne,bt=1,We=Ot.m,Ve=Ot.gc[Ot.ab],kt=K(We,2);if(Ot.Oc&1<<kt)pe=0;else{switch(Ot.Oc|=1<<kt,Ve.hc=kt,Ve.Ea=at[0],Ve.nc=Xe[0],Ve.K=[null],++Ot.ab,t(4>=Ot.ab),kt){case 0:case 1:Ve.b=K(We,3)+2,bt=Ke(mt(Ve.Ea,Ve.b),mt(Ve.nc,Ve.b),0,Ot,Ve.K),Ve.K=Ve.K[0];break;case 3:var At,Ct=K(We,8)+1,fr=16<Ct?0:4<Ct?1:2<Ct?2:3;if(at[0]=mt(Ve.Ea,fr),Ve.b=fr,At=bt=Ke(Ct,1,0,Ot,Ve.K)){var ar,Rr=Ct,ir=Ve,jn=1<<(8>>ir.b),$n=i(jn);if($n==null)At=0;else{var Rn=ir.K[0],mn=ir.w;for($n[0]=ir.K[0][0],ar=1;ar<1*Rr;++ar)$n[ar]=ht(Rn[mn+ar],$n[ar-1]);for(;ar<4*jn;++ar)$n[ar]=0;ir.K[0]=null,ir.K[0]=$n,At=1}}bt=At;break;case 2:break;default:t(0)}pe=bt}}if(ge=ge[0],ve=ve[0],pe&&K(xe,1)&&!(pe=1<=(nt=K(xe,4))&&11>=nt)){ne.a=3;break e}var ra;if(ra=pe)t:{var la,rn,Va,Go=ne,ci=ge,Ri=ve,Hn=nt,ko=V,No=Go.m,Ha=Go.s,Mi=[null],ho=1,ps=0,xl=h_[Hn];r:for(;;){if(ko&&K(No,1)){var Ga=K(No,3)+2,wi=mt(ci,Ga),Hs=mt(Ri,Ga),Cd=wi*Hs;if(!Ke(wi,Hs,0,Go,Mi))break r;for(Mi=Mi[0],Ha.xc=Ga,la=0;la<Cd;++la){var xu=Mi[la]>>8&65535;Mi[la]=xu,xu>=ho&&(ho=xu+1)}}if(No.h)break r;for(rn=0;5>rn;++rn){var Gn=Bf[rn];!rn&&0<Hn&&(Gn+=1<<Hn),ps<Gn&&(ps=Gn)}var Dc=o(ho*xl,F),ev=ho,Fy=o(ev,H);if(Fy==null)var wl=null;else t(65536>=ev),wl=Fy;var _l=i(ps);if(wl==null||_l==null||Dc==null){Go.a=1;break r}var Vf=Dc;for(la=Va=0;la<ho;++la){var bl=wl[la],wu=bl.G,Hf=bl.H,pp=0,Gs=1,mp=0;for(rn=0;5>rn;++rn){Gn=Bf[rn],wu[rn]=Vf,Hf[rn]=Va,!rn&&0<Hn&&(Gn+=1<<Hn);a:{var Pd,_u=Gn,gp=Go,Ic=_l,y_=Vf,Ly=Va,Ea=0,Yl=gp.m,jy=K(Yl,1);if(a(Ic,0,0,_u),jy){var $y=K(Yl,1)+1,tv=K(Yl,1),rv=K(Yl,tv==0?1:8);Ic[rv]=1,$y==2&&(Ic[rv=K(Yl,8)]=1);var Rc=1}else{var Ia=i(19),_i=K(Yl,4)+4;if(19<_i){gp.a=3;var ui=0;break a}for(Pd=0;Pd<_i;++Pd)Ia[eA[Pd]]=K(Yl,3);var vp=void 0,bu=void 0,yp=gp,oA=Ia,Fi=_u,nv=Ic,l0=0,Mc=yp.m,Kl=8,Ys=o(128,F);n:for(;T(Ys,0,7,oA,19);){if(K(Mc,1)){var c0=2+2*K(Mc,3);if((vp=2+K(Mc,c0))>Fi)break n}else vp=Fi;for(bu=0;bu<Fi&&vp--;){se(Mc);var av=Ys[0+(127&Y(Mc))];ie(Mc,Mc.u+av.g);var Td=av.value;if(16>Td)nv[bu++]=Td,Td!=0&&(Kl=Td);else{var x_=Td==16,By=Td-16,w_=Zg[By],Uy=K(Mc,a0[By])+w_;if(bu+Uy>Fi)break n;for(var __=x_?Kl:0;0<Uy--;)nv[bu++]=__}}l0=1;break n}l0||(yp.a=3),Rc=l0}(Rc=Rc&&!Yl.h)&&(Ea=T(y_,Ly,8,Ic,_u)),Rc&&Ea!=0?ui=Ea:(gp.a=3,ui=0)}if(ui==0)break r;if(Gs&&f_[rn]==1&&(Gs=Vf[Va].g==0),pp+=Vf[Va].g,Va+=ui,3>=rn){var xp,iv=_l[0];for(xp=1;xp<Gn;++xp)_l[xp]>iv&&(iv=_l[xp]);mp+=iv}}if(bl.nd=Gs,bl.Qb=0,Gs&&(bl.qb=(wu[3][Hf[3]+0].value<<24|wu[1][Hf[1]+0].value<<16|wu[2][Hf[2]+0].value)>>>0,pp==0&&256>wu[0][Hf[0]+0].value&&(bl.Qb=1,bl.qb+=wu[0][Hf[0]+0].value<<8)),bl.jc=!bl.Qb&&6>mp,bl.jc){var u0,Ks=bl;for(u0=0;u0<ni;++u0){var Su=u0,Xl=Ks.pd[Su],Gf=Ks.G[0][Ks.H[0]+Su];256<=Gf.value?(Xl.g=Gf.g+256,Xl.value=Gf.value):(Xl.g=0,Xl.value=0,Su>>=Nr(Gf,8,Xl),Su>>=Nr(Ks.G[1][Ks.H[1]+Su],16,Xl),Su>>=Nr(Ks.G[2][Ks.H[2]+Su],0,Xl),Nr(Ks.G[3][Ks.H[3]+Su],24,Xl))}}}Ha.vc=Mi,Ha.Wb=ho,Ha.Ya=wl,Ha.yc=Dc,ra=1;break t}ra=0}if(!(pe=ra)){ne.a=3;break e}if(0<nt){if(Ae.ua=1<<nt,!Ie(Ae.Wa,nt)){ne.a=1,pe=0;break e}}else Ae.ua=0;var ov=ne,sv=ge,b_=ve,lv=ov.s,cv=lv.xc;if(ov.c=sv,ov.i=b_,lv.md=mt(sv,cv),lv.wc=cv==0?-1:(1<<cv)-1,V){ne.xb=Oc;break e}if((Be=i(ge*ve))==null){ne.a=1,pe=0;break e}pe=(pe=ke(ne,Be,0,ge,ve,ve,null))&&!xe.h;break e}return pe?(le!=null?le[0]=Be:(t(Be==null),t(V)),ne.$=0,V||tt(Ae)):tt(Ae),pe}function ot(N,M){var V=N.c*N.i,ne=V+M+16*M;return t(N.c<=M),N.V=i(ne),N.V==null?(N.Ta=null,N.Ua=0,N.a=1,0):(N.Ta=N.V,N.Ua=N.Ba+V+M,1)}function ut(N,M){var V=N.C,ne=M-V,le=N.V,pe=N.Ba+N.c*V;for(t(M<=N.l.o);0<ne;){var ge=16<ne?16:ne,ve=N.l.ma,xe=N.l.width,Ae=xe*ge,Be=ve.ca,nt=ve.tb+xe*V,at=N.Ta,Xe=N.Ua;fe(N,ge,le,pe),ai(at,Xe,Be,nt,Ae),we(ve,V,V+ge,Be,nt,xe),ne-=ge,le+=ge*N.c,V+=ge}t(V==M),N.C=N.Ma=M}function It(){this.ub=this.yd=this.td=this.Rb=0}function Yt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function or(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Vt(){this.Yb=function(){var N=[];return function M(V,ne,le){for(var pe=le[ne],ge=0;ge<pe&&(V.push(le.length>ne+1?[]:0),!(le.length<ne+1));ge++)M(V[ge],ne+1,le)}(N,0,[3,11]),N}()}function Bt(){this.jb=i(3),this.Wc=s([4,8],Vt),this.Xc=s([4,17],Vt)}function Xr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Ln(){this.ld=this.La=this.dd=this.tc=0}function Qn(){this.Na=this.la=0}function Ua(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ul(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function wc(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ln),this.Y=0,this.ya=Array(new Ul),this.aa=0,this.l=new _c}function Us(){this.y=i(16),this.f=i(8),this.ea=i(8)}function vi(){this.cb=this.a=0,this.sc="",this.m=new J,this.Od=new It,this.Kc=new Yt,this.ed=new Xr,this.Qa=new or,this.Ic=this.$c=this.Aa=0,this.D=new wc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,J),this.ia=0,this.pb=o(4,Ua),this.Pa=new Bt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Us),this.Hd=0,this.rb=Array(new Qn),this.sb=0,this.wa=Array(new Ln),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ul),this.L=this.aa=0,this.gd=s([4,2],Ln),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function _c(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function qa(){var N=new vi;return N!=null&&(N.a=0,N.sc="OK",N.cb=0,N.Xb=0,Uf||(Uf=_f)),N}function li(N,M,V){return N.a==0&&(N.a=M,N.sc=V,N.cb=0),0}function Ug(N,M,V){return 3<=V&&N[M+0]==157&&N[M+1]==1&&N[M+2]==42}function qg(N,M){if(N==null)return 0;if(N.a=0,N.sc="OK",M==null)return li(N,2,"null VP8Io passed to VP8GetHeaders()");var V=M.data,ne=M.w,le=M.ha;if(4>le)return li(N,7,"Truncated header.");var pe=V[ne+0]|V[ne+1]<<8|V[ne+2]<<16,ge=N.Od;if(ge.Rb=!(1&pe),ge.td=pe>>1&7,ge.yd=pe>>4&1,ge.ub=pe>>5,3<ge.td)return li(N,3,"Incorrect keyframe parameters.");if(!ge.yd)return li(N,4,"Frame not displayable.");ne+=3,le-=3;var ve=N.Kc;if(ge.Rb){if(7>le)return li(N,7,"cannot parse picture header");if(!Ug(V,ne,le))return li(N,3,"Bad code word");ve.c=16383&(V[ne+4]<<8|V[ne+3]),ve.Td=V[ne+4]>>6,ve.i=16383&(V[ne+6]<<8|V[ne+5]),ve.Ud=V[ne+6]>>6,ne+=7,le-=7,N.za=ve.c+15>>4,N.Ub=ve.i+15>>4,M.width=ve.c,M.height=ve.i,M.Da=0,M.j=0,M.v=0,M.va=M.width,M.o=M.height,M.da=0,M.ib=M.width,M.hb=M.height,M.U=M.width,M.T=M.height,a((pe=N.Pa).jb,0,255,pe.jb.length),t((pe=N.Qa)!=null),pe.Cb=0,pe.Bb=0,pe.Fb=1,a(pe.Zb,0,0,pe.Zb.length),a(pe.Lb,0,0,pe.Lb)}if(ge.ub>le)return li(N,7,"bad partition length");X(pe=N.m,V,ne,ge.ub),ne+=ge.ub,le-=ge.ub,ge.Rb&&(ve.Ld=de(pe),ve.Kd=de(pe)),ve=N.Qa;var xe,Ae=N.Pa;if(t(pe!=null),t(ve!=null),ve.Cb=de(pe),ve.Cb){if(ve.Bb=de(pe),de(pe)){for(ve.Fb=de(pe),xe=0;4>xe;++xe)ve.Zb[xe]=de(pe)?z(pe,7):0;for(xe=0;4>xe;++xe)ve.Lb[xe]=de(pe)?z(pe,6):0}if(ve.Bb)for(xe=0;3>xe;++xe)Ae.jb[xe]=de(pe)?re(pe,8):255}else ve.Bb=0;if(pe.Ka)return li(N,3,"cannot parse segment header");if((ve=N.ed).zd=de(pe),ve.Tb=re(pe,6),ve.wb=re(pe,3),ve.Pc=de(pe),ve.Pc&&de(pe)){for(Ae=0;4>Ae;++Ae)de(pe)&&(ve.vd[Ae]=z(pe,6));for(Ae=0;4>Ae;++Ae)de(pe)&&(ve.od[Ae]=z(pe,6))}if(N.L=ve.Tb==0?0:ve.zd?1:2,pe.Ka)return li(N,3,"cannot parse filter header");var Be=le;if(le=xe=ne,ne=xe+Be,ve=Be,N.Xb=(1<<re(N.m,2))-1,Be<3*(Ae=N.Xb))V=7;else{for(xe+=3*Ae,ve-=3*Ae,Be=0;Be<Ae;++Be){var nt=V[le+0]|V[le+1]<<8|V[le+2]<<16;nt>ve&&(nt=ve),X(N.Jc[+Be],V,xe,nt),xe+=nt,ve-=nt,le+=3}X(N.Jc[+Ae],V,xe,ve),V=xe<ne?0:5}if(V!=0)return li(N,V,"cannot parse partitions");for(V=re(xe=N.m,7),le=de(xe)?z(xe,4):0,ne=de(xe)?z(xe,4):0,ve=de(xe)?z(xe,4):0,Ae=de(xe)?z(xe,4):0,xe=de(xe)?z(xe,4):0,Be=N.Qa,nt=0;4>nt;++nt){if(Be.Cb){var at=Be.Zb[nt];Be.Fb||(at+=V)}else{if(0<nt){N.pb[nt]=N.pb[0];continue}at=V}var Xe=N.pb[nt];Xe.Sc[0]=up[zs(at+le,127)],Xe.Sc[1]=i0[zs(at+0,127)],Xe.Eb[0]=2*up[zs(at+ne,127)],Xe.Eb[1]=101581*i0[zs(at+ve,127)]>>16,8>Xe.Eb[1]&&(Xe.Eb[1]=8),Xe.Qc[0]=up[zs(at+Ae,117)],Xe.Qc[1]=i0[zs(at+xe,127)],Xe.lc=at+xe}if(!ge.Rb)return li(N,4,"Not a key frame.");for(de(pe),ge=N.Pa,V=0;4>V;++V){for(le=0;8>le;++le)for(ne=0;3>ne;++ne)for(ve=0;11>ve;++ve)Ae=Z(pe,nA[V][le][ne][ve])?re(pe,8):m_[V][le][ne][ve],ge.Wc[V][le].Yb[ne][ve]=Ae;for(le=0;17>le;++le)ge.Xc[V][le]=ge.Wc[V][Iy[le]]}return N.kc=de(pe),N.kc&&(N.Bd=re(pe,8)),N.cb=1}function _f(N,M,V,ne,le,pe,ge){var ve=M[le].Yb[V];for(V=0;16>le;++le){if(!Z(N,ve[V+0]))return le;for(;!Z(N,ve[V+1]);)if(ve=M[++le].Yb[0],V=0,le==16)return 16;var xe=M[le+1].Yb;if(Z(N,ve[V+2])){var Ae=N,Be=0;if(Z(Ae,(at=ve)[(nt=V)+3]))if(Z(Ae,at[nt+6])){for(ve=0,nt=2*(Be=Z(Ae,at[nt+8]))+(at=Z(Ae,at[nt+9+Be])),Be=0,at=Oy[nt];at[ve];++ve)Be+=Be+Z(Ae,at[ve]);Be+=3+(8<<nt)}else Z(Ae,at[nt+7])?(Be=7+2*Z(Ae,165),Be+=Z(Ae,145)):Be=5+Z(Ae,159);else Be=Z(Ae,at[nt+4])?3+Z(Ae,at[nt+5]):2;ve=xe[2]}else Be=1,ve=xe[1];xe=ge+Dy[le],0>(Ae=N).b&&te(Ae);var nt,at=Ae.b,Xe=(nt=Ae.Ca>>1)-(Ae.I>>at)>>31;--Ae.b,Ae.Ca+=Xe,Ae.Ca|=1,Ae.I-=(nt+1&Xe)<<at,pe[xe]=((Be^Xe)-Xe)*ne[(0<le)+0]}return 16}function fd(N){var M=N.rb[N.sb-1];M.la=0,M.Na=0,a(N.zc,0,0,N.zc.length),N.ja=0}function bf(N,M){if(N==null)return 0;if(M==null)return li(N,2,"NULL VP8Io parameter in VP8Decode().");if(!N.cb&&!qg(N,M))return 0;if(t(N.cb),M.ac==null||M.ac(M)){M.ob&&(N.L=0);var V=Wf[N.L];if(N.L==2?(N.yb=0,N.zb=0):(N.yb=M.v-V>>4,N.zb=M.j-V>>4,0>N.yb&&(N.yb=0),0>N.zb&&(N.zb=0)),N.Va=M.o+15+V>>4,N.Hb=M.va+15+V>>4,N.Hb>N.za&&(N.Hb=N.za),N.Va>N.Ub&&(N.Va=N.Ub),0<N.L){var ne=N.ed;for(V=0;4>V;++V){var le;if(N.Qa.Cb){var pe=N.Qa.Lb[V];N.Qa.Fb||(pe+=ne.Tb)}else pe=ne.Tb;for(le=0;1>=le;++le){var ge=N.gd[V][le],ve=pe;if(ne.Pc&&(ve+=ne.vd[0],le&&(ve+=ne.od[0])),0<(ve=0>ve?0:63<ve?63:ve)){var xe=ve;0<ne.wb&&(xe=4<ne.wb?xe>>2:xe>>1)>9-ne.wb&&(xe=9-ne.wb),1>xe&&(xe=1),ge.dd=xe,ge.tc=2*ve+xe,ge.ld=40<=ve?2:15<=ve?1:0}else ge.tc=0;ge.La=le}}}V=0}else li(N,6,"Frame setup failed"),V=N.a;if(V=V==0){if(V){N.$c=0,0<N.Aa||(N.Ic=yu);e:{V=N.Ic,ne=4*(xe=N.za);var Ae=32*xe,Be=xe+1,nt=0<N.L?xe*(0<N.Aa?2:1):0,at=(N.Aa==2?2:1)*xe;if((ge=ne+832+(le=3*(16*V+Wf[N.L])/2*Ae)+(pe=N.Fa!=null&&0<N.Fa.length?N.Kc.c*N.Kc.i:0))!=ge)V=0;else{if(ge>N.Vb){if(N.Vb=0,N.Ec=i(ge),N.Fc=0,N.Ec==null){V=li(N,1,"no memory during frame initialization.");break e}N.Vb=ge}ge=N.Ec,ve=N.Fc,N.Ac=ge,N.Bc=ve,ve+=ne,N.Gd=o(Ae,Us),N.Hd=0,N.rb=o(Be+1,Qn),N.sb=1,N.wa=nt?o(nt,Ln):null,N.Y=0,N.D.Nb=0,N.D.wa=N.wa,N.D.Y=N.Y,0<N.Aa&&(N.D.Y+=xe),t(!0),N.oc=ge,N.pc=ve,ve+=832,N.ya=o(at,Ul),N.aa=0,N.D.ya=N.ya,N.D.aa=N.aa,N.Aa==2&&(N.D.aa+=xe),N.R=16*xe,N.B=8*xe,xe=(Ae=Wf[N.L])*N.R,Ae=Ae/2*N.B,N.sa=ge,N.ta=ve+xe,N.qa=N.sa,N.ra=N.ta+16*V*N.R+Ae,N.Ha=N.qa,N.Ia=N.ra+8*V*N.B+Ae,N.$c=0,ve+=le,N.mb=pe?ge:null,N.nb=pe?ve:null,t(ve+pe<=N.Fc+N.Vb),fd(N),a(N.Ac,N.Bc,0,ne),V=1}}if(V){if(M.ka=0,M.y=N.sa,M.O=N.ta,M.f=N.qa,M.N=N.ra,M.ea=N.Ha,M.Vd=N.Ia,M.fa=N.R,M.Rc=N.B,M.F=null,M.J=0,!Qm){for(V=-255;255>=V;++V)xi[255+V]=0>V?-V:V;for(V=-1020;1020>=V;++V)Pc[1020+V]=-128>V?-128:127<V?127:V;for(V=-112;112>=V;++V)sp[112+V]=-16>V?-16:15<V?15:V;for(V=-255;510>=V;++V)jf[255+V]=0>V?0:255<V?255:V;Qm=1}op=Un,fu=qm,hu=hd,So=Cy,Ws=Bh,qn=Um,Rf=Gh,Jm=Ii,Mf=Pf,Ff=Gm,Lf=vd,Vs=yd,pu=Tf,Cc=Yh,mu=Wl,gu=pl,Ad=ml,uo=Hg,yl[0]=kc,yl[1]=zg,yl[2]=Nf,yl[3]=Ac,yl[4]=Wm,yl[5]=qh,yl[6]=md,yl[7]=zh,yl[8]=Vg,yl[9]=Wh,Ho[0]=kf,Ho[1]=Wg,Ho[2]=bc,Ho[3]=Af,Ho[4]=za,Ho[5]=Sc,Ho[6]=ql,us[0]=qs,us[1]=zm,us[2]=Py,us[3]=su,us[4]=Ef,us[5]=Vh,us[6]=Vm,V=1}else V=0}V&&(V=function(Xe,Ot){for(Xe.M=0;Xe.M<Xe.Va;++Xe.M){var bt,We=Xe.Jc[Xe.M&Xe.Xb],Ve=Xe.m,kt=Xe;for(bt=0;bt<kt.za;++bt){var At=Ve,Ct=kt,fr=Ct.Ac,ar=Ct.Bc+4*bt,Rr=Ct.zc,ir=Ct.ya[Ct.aa+bt];if(Ct.Qa.Bb?ir.$b=Z(At,Ct.Pa.jb[0])?2+Z(At,Ct.Pa.jb[2]):Z(At,Ct.Pa.jb[1]):ir.$b=0,Ct.kc&&(ir.Ad=Z(At,Ct.Bd)),ir.Za=!Z(At,145)+0,ir.Za){var jn=ir.Ob,$n=0;for(Ct=0;4>Ct;++Ct){var Rn,mn=Rr[0+Ct];for(Rn=0;4>Rn;++Rn){mn=rA[fr[ar+Rn]][mn];for(var ra=p_[Z(At,mn[0])];0<ra;)ra=p_[2*ra+Z(At,mn[ra])];mn=-ra,fr[ar+Rn]=mn}n(jn,$n,fr,ar,4),$n+=4,Rr[0+Ct]=mn}}else mn=Z(At,156)?Z(At,128)?1:3:Z(At,163)?2:0,ir.Ob[0]=mn,a(fr,ar,mn,4),a(Rr,0,mn,4);ir.Dd=Z(At,142)?Z(At,114)?Z(At,183)?1:3:2:0}if(kt.m.Ka)return li(Xe,7,"Premature end-of-partition0 encountered.");for(;Xe.ja<Xe.za;++Xe.ja){if(kt=We,At=(Ve=Xe).rb[Ve.sb-1],fr=Ve.rb[Ve.sb+Ve.ja],bt=Ve.ya[Ve.aa+Ve.ja],ar=Ve.kc?bt.Ad:0)At.la=fr.la=0,bt.Za||(At.Na=fr.Na=0),bt.Hc=0,bt.Gc=0,bt.ia=0;else{var la,rn;if(At=fr,fr=kt,ar=Ve.Pa.Xc,Rr=Ve.ya[Ve.aa+Ve.ja],ir=Ve.pb[Rr.$b],Ct=Rr.ad,jn=0,$n=Ve.rb[Ve.sb-1],mn=Rn=0,a(Ct,jn,0,384),Rr.Za)var Va=0,Go=ar[3];else{ra=i(16);var ci=At.Na+$n.Na;if(ci=Uf(fr,ar[1],ci,ir.Eb,0,ra,0),At.Na=$n.Na=(0<ci)+0,1<ci)op(ra,0,Ct,jn);else{var Ri=ra[0]+3>>3;for(ra=0;256>ra;ra+=16)Ct[jn+ra]=Ri}Va=1,Go=ar[0]}var Hn=15&At.la,ko=15&$n.la;for(ra=0;4>ra;++ra){var No=1&ko;for(Ri=rn=0;4>Ri;++Ri)Hn=Hn>>1|(No=(ci=Uf(fr,Go,ci=No+(1&Hn),ir.Sc,Va,Ct,jn))>Va)<<7,rn=rn<<2|(3<ci?3:1<ci?2:Ct[jn+0]!=0),jn+=16;Hn>>=4,ko=ko>>1|No<<7,Rn=(Rn<<8|rn)>>>0}for(Go=Hn,Va=ko>>4,la=0;4>la;la+=2){for(rn=0,Hn=At.la>>4+la,ko=$n.la>>4+la,ra=0;2>ra;++ra){for(No=1&ko,Ri=0;2>Ri;++Ri)ci=No+(1&Hn),Hn=Hn>>1|(No=0<(ci=Uf(fr,ar[2],ci,ir.Qc,0,Ct,jn)))<<3,rn=rn<<2|(3<ci?3:1<ci?2:Ct[jn+0]!=0),jn+=16;Hn>>=2,ko=ko>>1|No<<5}mn|=rn<<4*la,Go|=Hn<<4<<la,Va|=(240&ko)<<la}At.la=Go,$n.la=Va,Rr.Hc=Rn,Rr.Gc=mn,Rr.ia=43690&mn?0:ir.ia,ar=!(Rn|mn)}if(0<Ve.L&&(Ve.wa[Ve.Y+Ve.ja]=Ve.gd[bt.$b][bt.Za],Ve.wa[Ve.Y+Ve.ja].La|=!ar),kt.Ka)return li(Xe,7,"Premature end-of-file encountered.")}if(fd(Xe),Ve=Ot,kt=1,bt=(We=Xe).D,At=0<We.L&&We.M>=We.zb&&We.M<=We.Va,We.Aa==0)e:{if(bt.M=We.M,bt.uc=At,Zh(We,bt),kt=1,bt=(rn=We.D).Nb,At=(mn=Wf[We.L])*We.R,fr=mn/2*We.B,ra=16*bt*We.R,Ri=8*bt*We.B,ar=We.sa,Rr=We.ta-At+ra,ir=We.qa,Ct=We.ra-fr+Ri,jn=We.Ha,$n=We.Ia-fr+Ri,ko=(Hn=rn.M)==0,Rn=Hn>=We.Va-1,We.Aa==2&&Zh(We,rn),rn.uc)for(No=(ci=We).D.M,t(ci.D.uc),rn=ci.yb;rn<ci.Hb;++rn){Va=rn,Go=No;var Ha=(Mi=(Gn=ci).D).Nb;la=Gn.R;var Mi=Mi.wa[Mi.Y+Va],ho=Gn.sa,ps=Gn.ta+16*Ha*la+16*Va,xl=Mi.dd,Ga=Mi.tc;if(Ga!=0)if(t(3<=Ga),Gn.L==1)0<Va&&gu(ho,ps,la,Ga+4),Mi.La&&uo(ho,ps,la,Ga),0<Go&&mu(ho,ps,la,Ga+4),Mi.La&&Ad(ho,ps,la,Ga);else{var wi=Gn.B,Hs=Gn.qa,Cd=Gn.ra+8*Ha*wi+8*Va,xu=Gn.Ha,Gn=Gn.Ia+8*Ha*wi+8*Va;Ha=Mi.ld,0<Va&&(Jm(ho,ps,la,Ga+4,xl,Ha),Ff(Hs,Cd,xu,Gn,wi,Ga+4,xl,Ha)),Mi.La&&(Vs(ho,ps,la,Ga,xl,Ha),Cc(Hs,Cd,xu,Gn,wi,Ga,xl,Ha)),0<Go&&(Rf(ho,ps,la,Ga+4,xl,Ha),Mf(Hs,Cd,xu,Gn,wi,Ga+4,xl,Ha)),Mi.La&&(Lf(ho,ps,la,Ga,xl,Ha),pu(Hs,Cd,xu,Gn,wi,Ga,xl,Ha))}}if(We.ia&&alert("todo:DitherRow"),Ve.put!=null){if(rn=16*Hn,Hn=16*(Hn+1),ko?(Ve.y=We.sa,Ve.O=We.ta+ra,Ve.f=We.qa,Ve.N=We.ra+Ri,Ve.ea=We.Ha,Ve.W=We.Ia+Ri):(rn-=mn,Ve.y=ar,Ve.O=Rr,Ve.f=ir,Ve.N=Ct,Ve.ea=jn,Ve.W=$n),Rn||(Hn-=mn),Hn>Ve.o&&(Hn=Ve.o),Ve.F=null,Ve.J=null,We.Fa!=null&&0<We.Fa.length&&rn<Hn&&(Ve.J=Km(We,Ve,rn,Hn-rn),Ve.F=We.mb,Ve.F==null&&Ve.F.length==0)){kt=li(We,3,"Could not decode alpha data.");break e}rn<Ve.j&&(mn=Ve.j-rn,rn=Ve.j,t(!(1&mn)),Ve.O+=We.R*mn,Ve.N+=We.B*(mn>>1),Ve.W+=We.B*(mn>>1),Ve.F!=null&&(Ve.J+=Ve.width*mn)),rn<Hn&&(Ve.O+=Ve.v,Ve.N+=Ve.v>>1,Ve.W+=Ve.v>>1,Ve.F!=null&&(Ve.J+=Ve.v),Ve.ka=rn-Ve.j,Ve.U=Ve.va-Ve.v,Ve.T=Hn-rn,kt=Ve.put(Ve))}bt+1!=We.Ic||Rn||(n(We.sa,We.ta-At,ar,Rr+16*We.R,At),n(We.qa,We.ra-fr,ir,Ct+8*We.B,fr),n(We.Ha,We.Ia-fr,jn,$n+8*We.B,fr))}if(!kt)return li(Xe,6,"Output aborted.")}return 1}(N,M)),M.bc!=null&&M.bc(M),V&=1}return V?(N.cb=0,V):0}function os(N,M,V,ne,le){le=N[M+V+32*ne]+(le>>3),N[M+V+32*ne]=-256&le?0>le?0:255:le}function $h(N,M,V,ne,le,pe){os(N,M,0,V,ne+le),os(N,M,1,V,ne+pe),os(N,M,2,V,ne-pe),os(N,M,3,V,ne-le)}function ss(N){return(20091*N>>16)+N}function Sf(N,M,V,ne){var le,pe=0,ge=i(16);for(le=0;4>le;++le){var ve=N[M+0]+N[M+8],xe=N[M+0]-N[M+8],Ae=(35468*N[M+4]>>16)-ss(N[M+12]),Be=ss(N[M+4])+(35468*N[M+12]>>16);ge[pe+0]=ve+Be,ge[pe+1]=xe+Ae,ge[pe+2]=xe-Ae,ge[pe+3]=ve-Be,pe+=4,M++}for(le=pe=0;4>le;++le)ve=(N=ge[pe+0]+4)+ge[pe+8],xe=N-ge[pe+8],Ae=(35468*ge[pe+4]>>16)-ss(ge[pe+12]),os(V,ne,0,0,ve+(Be=ss(ge[pe+4])+(35468*ge[pe+12]>>16))),os(V,ne,1,0,xe+Ae),os(V,ne,2,0,xe-Ae),os(V,ne,3,0,ve-Be),pe++,ne+=32}function Um(N,M,V,ne){var le=N[M+0]+4,pe=35468*N[M+4]>>16,ge=ss(N[M+4]),ve=35468*N[M+1]>>16;$h(V,ne,0,le+ge,N=ss(N[M+1]),ve),$h(V,ne,1,le+pe,N,ve),$h(V,ne,2,le-pe,N,ve),$h(V,ne,3,le-ge,N,ve)}function qm(N,M,V,ne,le){Sf(N,M,V,ne),le&&Sf(N,M+16,V,ne+4)}function hd(N,M,V,ne){fu(N,M+0,V,ne,1),fu(N,M+32,V,ne+128,1)}function Cy(N,M,V,ne){var le;for(N=N[M+0]+4,le=0;4>le;++le)for(M=0;4>M;++M)os(V,ne,M,le,N)}function Bh(N,M,V,ne){N[M+0]&&So(N,M+0,V,ne),N[M+16]&&So(N,M+16,V,ne+4),N[M+32]&&So(N,M+32,V,ne+128),N[M+48]&&So(N,M+48,V,ne+128+4)}function Un(N,M,V,ne){var le,pe=i(16);for(le=0;4>le;++le){var ge=N[M+0+le]+N[M+12+le],ve=N[M+4+le]+N[M+8+le],xe=N[M+4+le]-N[M+8+le],Ae=N[M+0+le]-N[M+12+le];pe[0+le]=ge+ve,pe[8+le]=ge-ve,pe[4+le]=Ae+xe,pe[12+le]=Ae-xe}for(le=0;4>le;++le)ge=(N=pe[0+4*le]+3)+pe[3+4*le],ve=pe[1+4*le]+pe[2+4*le],xe=pe[1+4*le]-pe[2+4*le],Ae=N-pe[3+4*le],V[ne+0]=ge+ve>>3,V[ne+16]=Ae+xe>>3,V[ne+32]=ge-ve>>3,V[ne+48]=Ae-xe>>3,ne+=64}function Uh(N,M,V){var ne,le=M-32,pe=Vo,ge=255-N[le-1];for(ne=0;ne<V;++ne){var ve,xe=pe,Ae=ge+N[M-1];for(ve=0;ve<V;++ve)N[M+ve]=xe[Ae+N[le+ve]];M+=32}}function zg(N,M){Uh(N,M,4)}function zm(N,M){Uh(N,M,8)}function Wg(N,M){Uh(N,M,16)}function bc(N,M){var V;for(V=0;16>V;++V)n(N,M+32*V,N,M-32,16)}function Af(N,M){var V;for(V=16;0<V;--V)a(N,M,N[M-1],16),M+=32}function pd(N,M,V){var ne;for(ne=0;16>ne;++ne)a(M,V+32*ne,N,16)}function kf(N,M){var V,ne=16;for(V=0;16>V;++V)ne+=N[M-1+32*V]+N[M+V-32];pd(ne>>5,N,M)}function za(N,M){var V,ne=8;for(V=0;16>V;++V)ne+=N[M-1+32*V];pd(ne>>4,N,M)}function Sc(N,M){var V,ne=8;for(V=0;16>V;++V)ne+=N[M+V-32];pd(ne>>4,N,M)}function ql(N,M){pd(128,N,M)}function Ur(N,M,V){return N+2*M+V+2>>2}function Nf(N,M){var V,ne=M-32;for(ne=new Uint8Array([Ur(N[ne-1],N[ne+0],N[ne+1]),Ur(N[ne+0],N[ne+1],N[ne+2]),Ur(N[ne+1],N[ne+2],N[ne+3]),Ur(N[ne+2],N[ne+3],N[ne+4])]),V=0;4>V;++V)n(N,M+32*V,ne,0,ne.length)}function Ac(N,M){var V=N[M-1],ne=N[M-1+32],le=N[M-1+64],pe=N[M-1+96];ce(N,M+0,16843009*Ur(N[M-1-32],V,ne)),ce(N,M+32,16843009*Ur(V,ne,le)),ce(N,M+64,16843009*Ur(ne,le,pe)),ce(N,M+96,16843009*Ur(le,pe,pe))}function kc(N,M){var V,ne=4;for(V=0;4>V;++V)ne+=N[M+V-32]+N[M-1+32*V];for(ne>>=3,V=0;4>V;++V)a(N,M+32*V,ne,4)}function Wm(N,M){var V=N[M-1+0],ne=N[M-1+32],le=N[M-1+64],pe=N[M-1-32],ge=N[M+0-32],ve=N[M+1-32],xe=N[M+2-32],Ae=N[M+3-32];N[M+0+96]=Ur(ne,le,N[M-1+96]),N[M+1+96]=N[M+0+64]=Ur(V,ne,le),N[M+2+96]=N[M+1+64]=N[M+0+32]=Ur(pe,V,ne),N[M+3+96]=N[M+2+64]=N[M+1+32]=N[M+0+0]=Ur(ge,pe,V),N[M+3+64]=N[M+2+32]=N[M+1+0]=Ur(ve,ge,pe),N[M+3+32]=N[M+2+0]=Ur(xe,ve,ge),N[M+3+0]=Ur(Ae,xe,ve)}function md(N,M){var V=N[M+1-32],ne=N[M+2-32],le=N[M+3-32],pe=N[M+4-32],ge=N[M+5-32],ve=N[M+6-32],xe=N[M+7-32];N[M+0+0]=Ur(N[M+0-32],V,ne),N[M+1+0]=N[M+0+32]=Ur(V,ne,le),N[M+2+0]=N[M+1+32]=N[M+0+64]=Ur(ne,le,pe),N[M+3+0]=N[M+2+32]=N[M+1+64]=N[M+0+96]=Ur(le,pe,ge),N[M+3+32]=N[M+2+64]=N[M+1+96]=Ur(pe,ge,ve),N[M+3+64]=N[M+2+96]=Ur(ge,ve,xe),N[M+3+96]=Ur(ve,xe,xe)}function qh(N,M){var V=N[M-1+0],ne=N[M-1+32],le=N[M-1+64],pe=N[M-1-32],ge=N[M+0-32],ve=N[M+1-32],xe=N[M+2-32],Ae=N[M+3-32];N[M+0+0]=N[M+1+64]=pe+ge+1>>1,N[M+1+0]=N[M+2+64]=ge+ve+1>>1,N[M+2+0]=N[M+3+64]=ve+xe+1>>1,N[M+3+0]=xe+Ae+1>>1,N[M+0+96]=Ur(le,ne,V),N[M+0+64]=Ur(ne,V,pe),N[M+0+32]=N[M+1+96]=Ur(V,pe,ge),N[M+1+32]=N[M+2+96]=Ur(pe,ge,ve),N[M+2+32]=N[M+3+96]=Ur(ge,ve,xe),N[M+3+32]=Ur(ve,xe,Ae)}function zh(N,M){var V=N[M+0-32],ne=N[M+1-32],le=N[M+2-32],pe=N[M+3-32],ge=N[M+4-32],ve=N[M+5-32],xe=N[M+6-32],Ae=N[M+7-32];N[M+0+0]=V+ne+1>>1,N[M+1+0]=N[M+0+64]=ne+le+1>>1,N[M+2+0]=N[M+1+64]=le+pe+1>>1,N[M+3+0]=N[M+2+64]=pe+ge+1>>1,N[M+0+32]=Ur(V,ne,le),N[M+1+32]=N[M+0+96]=Ur(ne,le,pe),N[M+2+32]=N[M+1+96]=Ur(le,pe,ge),N[M+3+32]=N[M+2+96]=Ur(pe,ge,ve),N[M+3+64]=Ur(ge,ve,xe),N[M+3+96]=Ur(ve,xe,Ae)}function Wh(N,M){var V=N[M-1+0],ne=N[M-1+32],le=N[M-1+64],pe=N[M-1+96];N[M+0+0]=V+ne+1>>1,N[M+2+0]=N[M+0+32]=ne+le+1>>1,N[M+2+32]=N[M+0+64]=le+pe+1>>1,N[M+1+0]=Ur(V,ne,le),N[M+3+0]=N[M+1+32]=Ur(ne,le,pe),N[M+3+32]=N[M+1+64]=Ur(le,pe,pe),N[M+3+64]=N[M+2+64]=N[M+0+96]=N[M+1+96]=N[M+2+96]=N[M+3+96]=pe}function Vg(N,M){var V=N[M-1+0],ne=N[M-1+32],le=N[M-1+64],pe=N[M-1+96],ge=N[M-1-32],ve=N[M+0-32],xe=N[M+1-32],Ae=N[M+2-32];N[M+0+0]=N[M+2+32]=V+ge+1>>1,N[M+0+32]=N[M+2+64]=ne+V+1>>1,N[M+0+64]=N[M+2+96]=le+ne+1>>1,N[M+0+96]=pe+le+1>>1,N[M+3+0]=Ur(ve,xe,Ae),N[M+2+0]=Ur(ge,ve,xe),N[M+1+0]=N[M+3+32]=Ur(V,ge,ve),N[M+1+32]=N[M+3+64]=Ur(ne,V,ge),N[M+1+64]=N[M+3+96]=Ur(le,ne,V),N[M+1+96]=Ur(pe,le,ne)}function Py(N,M){var V;for(V=0;8>V;++V)n(N,M+32*V,N,M-32,8)}function su(N,M){var V;for(V=0;8>V;++V)a(N,M,N[M-1],8),M+=32}function zl(N,M,V){var ne;for(ne=0;8>ne;++ne)a(M,V+32*ne,N,8)}function qs(N,M){var V,ne=8;for(V=0;8>V;++V)ne+=N[M+V-32]+N[M-1+32*V];zl(ne>>4,N,M)}function Vh(N,M){var V,ne=4;for(V=0;8>V;++V)ne+=N[M+V-32];zl(ne>>3,N,M)}function Ef(N,M){var V,ne=4;for(V=0;8>V;++V)ne+=N[M-1+32*V];zl(ne>>3,N,M)}function Vm(N,M){zl(128,N,M)}function gd(N,M,V){var ne=N[M-V],le=N[M+0],pe=3*(le-ne)+Tc[1020+N[M-2*V]-N[M+V]],ge=lp[112+(pe+4>>3)];N[M-V]=Vo[255+ne+lp[112+(pe+3>>3)]],N[M+0]=Vo[255+le-ge]}function Cf(N,M,V,ne){var le=N[M+0],pe=N[M+V];return vl[255+N[M-2*V]-N[M-V]]>ne||vl[255+pe-le]>ne}function Hh(N,M,V,ne){return 4*vl[255+N[M-V]-N[M+0]]+vl[255+N[M-2*V]-N[M+V]]<=ne}function Hm(N,M,V,ne,le){var pe=N[M-3*V],ge=N[M-2*V],ve=N[M-V],xe=N[M+0],Ae=N[M+V],Be=N[M+2*V],nt=N[M+3*V];return 4*vl[255+ve-xe]+vl[255+ge-Ae]>ne?0:vl[255+N[M-4*V]-pe]<=le&&vl[255+pe-ge]<=le&&vl[255+ge-ve]<=le&&vl[255+nt-Be]<=le&&vl[255+Be-Ae]<=le&&vl[255+Ae-xe]<=le}function Wl(N,M,V,ne){var le=2*ne+1;for(ne=0;16>ne;++ne)Hh(N,M+ne,V,le)&&gd(N,M+ne,V)}function pl(N,M,V,ne){var le=2*ne+1;for(ne=0;16>ne;++ne)Hh(N,M+ne*V,1,le)&&gd(N,M+ne*V,1)}function ml(N,M,V,ne){var le;for(le=3;0<le;--le)Wl(N,M+=4*V,V,ne)}function Hg(N,M,V,ne){var le;for(le=3;0<le;--le)pl(N,M+=4,V,ne)}function Vl(N,M,V,ne,le,pe,ge,ve){for(pe=2*pe+1;0<le--;){if(Hm(N,M,V,pe,ge))if(Cf(N,M,V,ve))gd(N,M,V);else{var xe=N,Ae=M,Be=V,nt=xe[Ae-2*Be],at=xe[Ae-Be],Xe=xe[Ae+0],Ot=xe[Ae+Be],bt=xe[Ae+2*Be],We=27*(kt=Tc[1020+3*(Xe-at)+Tc[1020+nt-Ot]])+63>>7,Ve=18*kt+63>>7,kt=9*kt+63>>7;xe[Ae-3*Be]=Vo[255+xe[Ae-3*Be]+kt],xe[Ae-2*Be]=Vo[255+nt+Ve],xe[Ae-Be]=Vo[255+at+We],xe[Ae+0]=Vo[255+Xe-We],xe[Ae+Be]=Vo[255+Ot-Ve],xe[Ae+2*Be]=Vo[255+bt-kt]}M+=ne}}function ls(N,M,V,ne,le,pe,ge,ve){for(pe=2*pe+1;0<le--;){if(Hm(N,M,V,pe,ge))if(Cf(N,M,V,ve))gd(N,M,V);else{var xe=N,Ae=M,Be=V,nt=xe[Ae-Be],at=xe[Ae+0],Xe=xe[Ae+Be],Ot=lp[112+((bt=3*(at-nt))+4>>3)],bt=lp[112+(bt+3>>3)],We=Ot+1>>1;xe[Ae-2*Be]=Vo[255+xe[Ae-2*Be]+We],xe[Ae-Be]=Vo[255+nt+bt],xe[Ae+0]=Vo[255+at-Ot],xe[Ae+Be]=Vo[255+Xe-We]}M+=ne}}function Gh(N,M,V,ne,le,pe){Vl(N,M,V,1,16,ne,le,pe)}function Ii(N,M,V,ne,le,pe){Vl(N,M,1,V,16,ne,le,pe)}function vd(N,M,V,ne,le,pe){var ge;for(ge=3;0<ge;--ge)ls(N,M+=4*V,V,1,16,ne,le,pe)}function yd(N,M,V,ne,le,pe){var ge;for(ge=3;0<ge;--ge)ls(N,M+=4,1,V,16,ne,le,pe)}function Pf(N,M,V,ne,le,pe,ge,ve){Vl(N,M,le,1,8,pe,ge,ve),Vl(V,ne,le,1,8,pe,ge,ve)}function Gm(N,M,V,ne,le,pe,ge,ve){Vl(N,M,1,le,8,pe,ge,ve),Vl(V,ne,1,le,8,pe,ge,ve)}function Tf(N,M,V,ne,le,pe,ge,ve){ls(N,M+4*le,le,1,8,pe,ge,ve),ls(V,ne+4*le,le,1,8,pe,ge,ve)}function Yh(N,M,V,ne,le,pe,ge,ve){ls(N,M+4,1,le,8,pe,ge,ve),ls(V,ne+4,1,le,8,pe,ge,ve)}function Nc(){this.ba=new xa,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new kn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function xd(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Kh(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Gg(){this.ua=0,this.Wa=new he,this.vb=new he,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new H,this.yc=new F}function Ty(){this.xb=this.a=0,this.l=new _c,this.ca=new xa,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new D,this.Pb=0,this.wd=new D,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Gg,this.ab=0,this.gc=o(4,Kh),this.Oc=0}function Xh(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new _c,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function lu(N,M,V,ne,le,pe,ge){for(N=N==null?0:N[M+0],M=0;M<ge;++M)le[pe+M]=N+V[ne+M]&255,N=le[pe+M]}function Ym(N,M,V,ne,le,pe,ge){var ve;if(N==null)lu(null,null,V,ne,le,pe,ge);else for(ve=0;ve<ge;++ve)le[pe+ve]=N[M+ve]+V[ne+ve]&255}function wd(N,M,V,ne,le,pe,ge){if(N==null)lu(null,null,V,ne,le,pe,ge);else{var ve,xe=N[M+0],Ae=xe,Be=xe;for(ve=0;ve<ge;++ve)Ae=Be+(xe=N[M+ve])-Ae,Be=V[ne+ve]+(-256&Ae?0>Ae?0:255:Ae)&255,Ae=xe,le[pe+ve]=Be}}function Km(N,M,V,ne){var le=M.width,pe=M.o;if(t(N!=null&&M!=null),0>V||0>=ne||V+ne>pe)return null;if(!N.Cc){if(N.ga==null){var ge;if(N.ga=new Xh,(ge=N.ga==null)||(ge=M.width*M.o,t(N.Gb.length==0),N.Gb=i(ge),N.Uc=0,N.Gb==null?ge=0:(N.mb=N.Gb,N.nb=N.Uc,N.rc=null,ge=1),ge=!ge),!ge){ge=N.ga;var ve=N.Fa,xe=N.P,Ae=N.qc,Be=N.mb,nt=N.nb,at=xe+1,Xe=Ae-1,Ot=ge.l;if(t(ve!=null&&Be!=null&&M!=null),Ao[0]=null,Ao[1]=lu,Ao[2]=Ym,Ao[3]=wd,ge.ca=Be,ge.tb=nt,ge.c=M.width,ge.i=M.height,t(0<ge.c&&0<ge.i),1>=Ae)M=0;else if(ge.$a=ve[xe+0]>>0&3,ge.Z=ve[xe+0]>>2&3,ge.Lc=ve[xe+0]>>4&3,xe=ve[xe+0]>>6&3,0>ge.$a||1<ge.$a||4<=ge.Z||1<ge.Lc||xe)M=0;else if(Ot.put=Di,Ot.ac=Na,Ot.bc=it,Ot.ma=ge,Ot.width=M.width,Ot.height=M.height,Ot.Da=M.Da,Ot.v=M.v,Ot.va=M.va,Ot.j=M.j,Ot.o=M.o,ge.$a)e:{t(ge.$a==1),M=yt();t:for(;;){if(M==null){M=0;break e}if(t(ge!=null),ge.mc=M,M.c=ge.c,M.i=ge.i,M.l=ge.l,M.l.ma=ge,M.l.width=ge.c,M.l.height=ge.i,M.a=0,G(M.m,ve,at,Xe),!Ke(ge.c,ge.i,1,M,null)||(M.ab==1&&M.gc[0].hc==3&&ye(M.s)?(ge.ic=1,ve=M.c*M.i,M.Ta=null,M.Ua=0,M.V=i(ve),M.Ba=0,M.V==null?(M.a=1,M=0):M=1):(ge.ic=0,M=ot(M,ge.c)),!M))break t;M=1;break e}ge.mc=null,M=0}else M=Xe>=ge.c*ge.i;ge=!M}if(ge)return null;N.ga.Lc!=1?N.Ga=0:ne=pe-V}t(N.ga!=null),t(V+ne<=pe);e:{if(M=(ve=N.ga).c,pe=ve.l.o,ve.$a==0){if(at=N.rc,Xe=N.Vc,Ot=N.Fa,xe=N.P+1+V*M,Ae=N.mb,Be=N.nb+V*M,t(xe<=N.P+N.qc),ve.Z!=0)for(t(Ao[ve.Z]!=null),ge=0;ge<ne;++ge)Ao[ve.Z](at,Xe,Ot,xe,Ae,Be,M),at=Ae,Xe=Be,Be+=M,xe+=M;else for(ge=0;ge<ne;++ge)n(Ae,Be,Ot,xe,M),at=Ae,Xe=Be,Be+=M,xe+=M;N.rc=at,N.Vc=Xe}else{if(t(ve.mc!=null),M=V+ne,t((ge=ve.mc)!=null),t(M<=ge.i),ge.C>=M)M=1;else if(ve.ic||rt(),ve.ic){ve=ge.V,at=ge.Ba,Xe=ge.c;var bt=ge.i,We=(Ot=1,xe=ge.$/Xe,Ae=ge.$%Xe,Be=ge.m,nt=ge.s,ge.$),Ve=Xe*bt,kt=Xe*M,At=nt.wc,Ct=We<kt?Qt(nt,Ae,xe):null;t(We<=Ve),t(M<=bt),t(ye(nt));t:for(;;){for(;!Be.h&&We<kt;){if(Ae&At||(Ct=Qt(nt,Ae,xe)),t(Ct!=null),se(Be),256>(bt=vr(Ct.G[0],Ct.H[0],Be)))ve[at+We]=bt,++We,++Ae>=Xe&&(Ae=0,++xe<=M&&!(xe%16)&&be(ge,xe));else{if(!(280>bt)){Ot=0;break t}bt=et(bt-256,Be);var fr,ar=vr(Ct.G[4],Ct.H[4],Be);if(se(Be),!(We>=(ar=wt(Xe,ar=et(ar,Be)))&&Ve-We>=bt)){Ot=0;break t}for(fr=0;fr<bt;++fr)ve[at+We+fr]=ve[at+We+fr-ar];for(We+=bt,Ae+=bt;Ae>=Xe;)Ae-=Xe,++xe<=M&&!(xe%16)&&be(ge,xe);We<kt&&Ae&At&&(Ct=Qt(nt,Ae,xe))}t(Be.h==Q(Be))}be(ge,xe>M?M:xe);break t}!Ot||Be.h&&We<Ve?(Ot=0,ge.a=Be.h?5:3):ge.$=We,M=Ot}else M=ke(ge,ge.V,ge.Ba,ge.c,ge.i,M,ut);if(!M){ne=0;break e}}V+ne>=pe&&(N.Cc=1),ne=1}if(!ne)return null;if(N.Cc&&((ne=N.ga)!=null&&(ne.mc=null),N.ga=null,0<N.Ga))return alert("todo:WebPDequantizeLevels"),null}return N.nb+V*le}function B(N,M,V,ne,le,pe){for(;0<le--;){var ge,ve=N,xe=M+(V?1:0),Ae=N,Be=M+(V?0:3);for(ge=0;ge<ne;++ge){var nt=Ae[Be+4*ge];nt!=255&&(nt*=32897,ve[xe+4*ge+0]=ve[xe+4*ge+0]*nt>>23,ve[xe+4*ge+1]=ve[xe+4*ge+1]*nt>>23,ve[xe+4*ge+2]=ve[xe+4*ge+2]*nt>>23)}M+=pe}}function ue(N,M,V,ne,le){for(;0<ne--;){var pe;for(pe=0;pe<V;++pe){var ge=N[M+2*pe+0],ve=15&(Ae=N[M+2*pe+1]),xe=4369*ve,Ae=(240&Ae|Ae>>4)*xe>>16;N[M+2*pe+0]=(240&ge|ge>>4)*xe>>16&240|(15&ge|ge<<4)*xe>>16>>4&15,N[M+2*pe+1]=240&Ae|ve}M+=le}}function Ee(N,M,V,ne,le,pe,ge,ve){var xe,Ae,Be=255;for(Ae=0;Ae<le;++Ae){for(xe=0;xe<ne;++xe){var nt=N[M+xe];pe[ge+4*xe]=nt,Be&=nt}M+=V,ge+=ve}return Be!=255}function $e(N,M,V,ne,le){var pe;for(pe=0;pe<le;++pe)V[ne+pe]=N[M+pe]>>8}function rt(){cs=B,ha=ue,ea=Ee,ai=$e}function St(N,M,V){I[N]=function(ne,le,pe,ge,ve,xe,Ae,Be,nt,at,Xe,Ot,bt,We,Ve,kt,At){var Ct,fr=At-1>>1,ar=ve[xe+0]|Ae[Be+0]<<16,Rr=nt[at+0]|Xe[Ot+0]<<16;t(ne!=null);var ir=3*ar+Rr+131074>>2;for(M(ne[le+0],255&ir,ir>>16,bt,We),pe!=null&&(ir=3*Rr+ar+131074>>2,M(pe[ge+0],255&ir,ir>>16,Ve,kt)),Ct=1;Ct<=fr;++Ct){var jn=ve[xe+Ct]|Ae[Be+Ct]<<16,$n=nt[at+Ct]|Xe[Ot+Ct]<<16,Rn=ar+jn+Rr+$n+524296,mn=Rn+2*(jn+Rr)>>3;ir=mn+ar>>1,ar=(Rn=Rn+2*(ar+$n)>>3)+jn>>1,M(ne[le+2*Ct-1],255&ir,ir>>16,bt,We+(2*Ct-1)*V),M(ne[le+2*Ct-0],255&ar,ar>>16,bt,We+(2*Ct-0)*V),pe!=null&&(ir=Rn+Rr>>1,ar=mn+$n>>1,M(pe[ge+2*Ct-1],255&ir,ir>>16,Ve,kt+(2*Ct-1)*V),M(pe[ge+2*Ct+0],255&ar,ar>>16,Ve,kt+(2*Ct+0)*V)),ar=jn,Rr=$n}1&At||(ir=3*ar+Rr+131074>>2,M(ne[le+At-1],255&ir,ir>>16,bt,We+(At-1)*V),pe!=null&&(ir=3*Rr+ar+131074>>2,M(pe[ge+At-1],255&ir,ir>>16,Ve,kt+(At-1)*V)))}}function Mt(){ds[Kg]=aA,ds[kd]=Nd,ds[d_]=iA,ds[e0]=fp,ds[t0]=qf,ds[pa]=o0,ds[Xg]=Ry,ds[cp]=Nd,ds[$f]=fp,ds[r0]=qf,ds[n0]=o0}function cr(N){return N&-16384?0>N?0:255:N>>Ed}function Ir(N,M){return cr((19077*N>>8)+(26149*M>>8)-14234)}function dn(N,M,V){return cr((19077*N>>8)-(6419*M>>8)-(13320*V>>8)+8708)}function un(N,M){return cr((19077*N>>8)+(33050*M>>8)-17685)}function Tn(N,M,V,ne,le){ne[le+0]=Ir(N,V),ne[le+1]=dn(N,M,V),ne[le+2]=un(N,M)}function Wa(N,M,V,ne,le){ne[le+0]=un(N,M),ne[le+1]=dn(N,M,V),ne[le+2]=Ir(N,V)}function ri(N,M,V,ne,le){var pe=dn(N,M,V);M=pe<<3&224|un(N,M)>>3,ne[le+0]=248&Ir(N,V)|pe>>5,ne[le+1]=M}function yi(N,M,V,ne,le){var pe=240&un(N,M)|15;ne[le+0]=240&Ir(N,V)|dn(N,M,V)>>4,ne[le+1]=pe}function _o(N,M,V,ne,le){ne[le+0]=255,Tn(N,M,V,ne,le+1)}function to(N,M,V,ne,le){Wa(N,M,V,ne,le),ne[le+3]=255}function Hl(N,M,V,ne,le){Tn(N,M,V,ne,le),ne[le+3]=255}function zs(N,M){return 0>N?0:N>M?M:N}function gl(N,M,V){I[N]=function(ne,le,pe,ge,ve,xe,Ae,Be,nt){for(var at=Be+(-2&nt)*V;Be!=at;)M(ne[le+0],pe[ge+0],ve[xe+0],Ae,Be),M(ne[le+1],pe[ge+0],ve[xe+0],Ae,Be+V),le+=2,++ge,++xe,Be+=2*V;1&nt&&M(ne[le+0],pe[ge+0],ve[xe+0],Ae,Be)}}function _d(N,M,V){return V==0?N==0?M==0?6:5:M==0?4:0:V}function Xm(N,M,V,ne,le){switch(N>>>30){case 3:fu(M,V,ne,le,0);break;case 2:qn(M,V,ne,le);break;case 1:So(M,V,ne,le)}}function Zh(N,M){var V,ne,le=M.M,pe=M.Nb,ge=N.oc,ve=N.pc+40,xe=N.oc,Ae=N.pc+584,Be=N.oc,nt=N.pc+600;for(V=0;16>V;++V)ge[ve+32*V-1]=129;for(V=0;8>V;++V)xe[Ae+32*V-1]=129,Be[nt+32*V-1]=129;for(0<le?ge[ve-1-32]=xe[Ae-1-32]=Be[nt-1-32]=129:(a(ge,ve-32-1,127,21),a(xe,Ae-32-1,127,9),a(Be,nt-32-1,127,9)),ne=0;ne<N.za;++ne){var at=M.ya[M.aa+ne];if(0<ne){for(V=-1;16>V;++V)n(ge,ve+32*V-4,ge,ve+32*V+12,4);for(V=-1;8>V;++V)n(xe,Ae+32*V-4,xe,Ae+32*V+4,4),n(Be,nt+32*V-4,Be,nt+32*V+4,4)}var Xe=N.Gd,Ot=N.Hd+ne,bt=at.ad,We=at.Hc;if(0<le&&(n(ge,ve-32,Xe[Ot].y,0,16),n(xe,Ae-32,Xe[Ot].f,0,8),n(Be,nt-32,Xe[Ot].ea,0,8)),at.Za){var Ve=ge,kt=ve-32+16;for(0<le&&(ne>=N.za-1?a(Ve,kt,Xe[Ot].y[15],4):n(Ve,kt,Xe[Ot+1].y,0,4)),V=0;4>V;V++)Ve[kt+128+V]=Ve[kt+256+V]=Ve[kt+384+V]=Ve[kt+0+V];for(V=0;16>V;++V,We<<=2)Ve=ge,kt=ve+My[V],yl[at.Ob[V]](Ve,kt),Xm(We,bt,16*+V,Ve,kt)}else if(Ve=_d(ne,le,at.Ob[0]),Ho[Ve](ge,ve),We!=0)for(V=0;16>V;++V,We<<=2)Xm(We,bt,16*+V,ge,ve+My[V]);for(V=at.Gc,Ve=_d(ne,le,at.Dd),us[Ve](xe,Ae),us[Ve](Be,nt),We=bt,Ve=xe,kt=Ae,255&(at=V>>0)&&(170&at?hu(We,256,Ve,kt):Ws(We,256,Ve,kt)),at=Be,We=nt,255&(V>>=8)&&(170&V?hu(bt,320,at,We):Ws(bt,320,at,We)),le<N.Ub-1&&(n(Xe[Ot].y,0,ge,ve+480,16),n(Xe[Ot].f,0,xe,Ae+224,8),n(Xe[Ot].ea,0,Be,nt+224,8)),V=8*pe*N.B,Xe=N.sa,Ot=N.ta+16*ne+16*pe*N.R,bt=N.qa,at=N.ra+8*ne+V,We=N.Ha,Ve=N.Ia+8*ne+V,V=0;16>V;++V)n(Xe,Ot+V*N.R,ge,ve+32*V,16);for(V=0;8>V;++V)n(bt,at+V*N.B,xe,Ae+32*V,8),n(We,Ve+V*N.B,Be,nt+32*V,8)}}function Of(N,M,V,ne,le,pe,ge,ve,xe){var Ae=[0],Be=[0],nt=0,at=xe!=null?xe.kd:0,Xe=xe??new xd;if(N==null||12>V)return 7;Xe.data=N,Xe.w=M,Xe.ha=V,M=[M],V=[V],Xe.gb=[Xe.gb];e:{var Ot=M,bt=V,We=Xe.gb;if(t(N!=null),t(bt!=null),t(We!=null),We[0]=0,12<=bt[0]&&!r(N,Ot[0],"RIFF")){if(r(N,Ot[0]+8,"WEBP")){We=3;break e}var Ve=Ne(N,Ot[0]+4);if(12>Ve||4294967286<Ve){We=3;break e}if(at&&Ve>bt[0]-8){We=7;break e}We[0]=Ve,Ot[0]+=12,bt[0]-=12}We=0}if(We!=0)return We;for(Ve=0<Xe.gb[0],V=V[0];;){e:{var kt=N;bt=M,We=V;var At=Ae,Ct=Be,fr=Ot=[0];if((ir=nt=[nt])[0]=0,8>We[0])We=7;else{if(!r(kt,bt[0],"VP8X")){if(Ne(kt,bt[0]+4)!=10){We=3;break e}if(18>We[0]){We=7;break e}var ar=Ne(kt,bt[0]+8),Rr=1+ae(kt,bt[0]+12);if(2147483648<=Rr*(kt=1+ae(kt,bt[0]+15))){We=3;break e}fr!=null&&(fr[0]=ar),At!=null&&(At[0]=Rr),Ct!=null&&(Ct[0]=kt),bt[0]+=18,We[0]-=18,ir[0]=1}We=0}}if(nt=nt[0],Ot=Ot[0],We!=0)return We;if(bt=!!(2&Ot),!Ve&&nt)return 3;if(pe!=null&&(pe[0]=!!(16&Ot)),ge!=null&&(ge[0]=bt),ve!=null&&(ve[0]=0),ge=Ae[0],Ot=Be[0],nt&&bt&&xe==null){We=0;break}if(4>V){We=7;break}if(Ve&&nt||!Ve&&!nt&&!r(N,M[0],"ALPH")){V=[V],Xe.na=[Xe.na],Xe.P=[Xe.P],Xe.Sa=[Xe.Sa];e:{ar=N,We=M,Ve=V;var ir=Xe.gb;At=Xe.na,Ct=Xe.P,fr=Xe.Sa,Rr=22,t(ar!=null),t(Ve!=null),kt=We[0];var jn=Ve[0];for(t(At!=null),t(fr!=null),At[0]=null,Ct[0]=null,fr[0]=0;;){if(We[0]=kt,Ve[0]=jn,8>jn){We=7;break e}var $n=Ne(ar,kt+4);if(4294967286<$n){We=3;break e}var Rn=8+$n+1&-2;if(Rr+=Rn,0<ir&&Rr>ir){We=3;break e}if(!r(ar,kt,"VP8 ")||!r(ar,kt,"VP8L")){We=0;break e}if(jn[0]<Rn){We=7;break e}r(ar,kt,"ALPH")||(At[0]=ar,Ct[0]=kt+8,fr[0]=$n),kt+=Rn,jn-=Rn}}if(V=V[0],Xe.na=Xe.na[0],Xe.P=Xe.P[0],Xe.Sa=Xe.Sa[0],We!=0)break}V=[V],Xe.Ja=[Xe.Ja],Xe.xa=[Xe.xa];e:if(ir=N,We=M,Ve=V,At=Xe.gb[0],Ct=Xe.Ja,fr=Xe.xa,ar=We[0],kt=!r(ir,ar,"VP8 "),Rr=!r(ir,ar,"VP8L"),t(ir!=null),t(Ve!=null),t(Ct!=null),t(fr!=null),8>Ve[0])We=7;else{if(kt||Rr){if(ir=Ne(ir,ar+4),12<=At&&ir>At-12){We=3;break e}if(at&&ir>Ve[0]-8){We=7;break e}Ct[0]=ir,We[0]+=8,Ve[0]-=8,fr[0]=Rr}else fr[0]=5<=Ve[0]&&ir[ar+0]==47&&!(ir[ar+4]>>5),Ct[0]=Ve[0];We=0}if(V=V[0],Xe.Ja=Xe.Ja[0],Xe.xa=Xe.xa[0],M=M[0],We!=0)break;if(4294967286<Xe.Ja)return 3;if(ve==null||bt||(ve[0]=Xe.xa?2:1),ge=[ge],Ot=[Ot],Xe.xa){if(5>V){We=7;break}ve=ge,at=Ot,bt=pe,N==null||5>V?N=0:5<=V&&N[M+0]==47&&!(N[M+4]>>5)?(Ve=[0],ir=[0],At=[0],G(Ct=new D,N,M,V),xt(Ct,Ve,ir,At)?(ve!=null&&(ve[0]=Ve[0]),at!=null&&(at[0]=ir[0]),bt!=null&&(bt[0]=At[0]),N=1):N=0):N=0}else{if(10>V){We=7;break}ve=Ot,N==null||10>V||!Ug(N,M+3,V-3)?N=0:(at=N[M+0]|N[M+1]<<8|N[M+2]<<16,bt=16383&(N[M+7]<<8|N[M+6]),N=16383&(N[M+9]<<8|N[M+8]),1&at||3<(at>>1&7)||!(at>>4&1)||at>>5>=Xe.Ja||!bt||!N?N=0:(ge&&(ge[0]=bt),ve&&(ve[0]=N),N=1))}if(!N||(ge=ge[0],Ot=Ot[0],nt&&(Ae[0]!=ge||Be[0]!=Ot)))return 3;xe!=null&&(xe[0]=Xe,xe.offset=M-xe.w,t(4294967286>M-xe.w),t(xe.offset==xe.ha-V));break}return We==0||We==7&&nt&&xe==null?(pe!=null&&(pe[0]|=Xe.na!=null&&0<Xe.na.length),ne!=null&&(ne[0]=ge),le!=null&&(le[0]=Ot),0):We}function Jh(N,M,V){var ne=M.width,le=M.height,pe=0,ge=0,ve=ne,xe=le;if(M.Da=N!=null&&0<N.Da,M.Da&&(ve=N.cd,xe=N.bd,pe=N.v,ge=N.j,11>V||(pe&=-2,ge&=-2),0>pe||0>ge||0>=ve||0>=xe||pe+ve>ne||ge+xe>le))return 0;if(M.v=pe,M.j=ge,M.va=pe+ve,M.o=ge+xe,M.U=ve,M.T=xe,M.da=N!=null&&0<N.da,M.da){if(!Ge(ve,xe,V=[N.ib],pe=[N.hb]))return 0;M.ib=V[0],M.hb=pe[0]}return M.ob=N!=null&&N.ob,M.Kb=N==null||!N.Sd,M.da&&(M.ob=M.ib<3*ne/4&&M.hb<3*le/4,M.Kb=0),1}function Qh(N){if(N==null)return 2;if(11>N.S){var M=N.f.RGBA;M.fb+=(N.height-1)*M.A,M.A=-M.A}else M=N.f.kb,N=N.height,M.O+=(N-1)*M.fa,M.fa=-M.fa,M.N+=(N-1>>1)*M.Ab,M.Ab=-M.Ab,M.W+=(N-1>>1)*M.Db,M.Db=-M.Db,M.F!=null&&(M.J+=(N-1)*M.lb,M.lb=-M.lb);return 0}function Df(N,M,V,ne){if(ne==null||0>=N||0>=M)return 2;if(V!=null){if(V.Da){var le=V.cd,pe=V.bd,ge=-2&V.v,ve=-2&V.j;if(0>ge||0>ve||0>=le||0>=pe||ge+le>N||ve+pe>M)return 2;N=le,M=pe}if(V.da){if(!Ge(N,M,le=[V.ib],pe=[V.hb]))return 2;N=le[0],M=pe[0]}}ne.width=N,ne.height=M;e:{var xe=ne.width,Ae=ne.height;if(N=ne.S,0>=xe||0>=Ae||!(N>=Kg&&13>N))N=2;else{if(0>=ne.Rd&&ne.sd==null){ge=pe=le=M=0;var Be=(ve=xe*s0[N])*Ae;if(11>N||(pe=(Ae+1)/2*(M=(xe+1)/2),N==12&&(ge=(le=xe)*Ae)),(Ae=i(Be+2*pe+ge))==null){N=1;break e}ne.sd=Ae,11>N?((xe=ne.f.RGBA).eb=Ae,xe.fb=0,xe.A=ve,xe.size=Be):((xe=ne.f.kb).y=Ae,xe.O=0,xe.fa=ve,xe.Fd=Be,xe.f=Ae,xe.N=0+Be,xe.Ab=M,xe.Cd=pe,xe.ea=Ae,xe.W=0+Be+pe,xe.Db=M,xe.Ed=pe,N==12&&(xe.F=Ae,xe.J=0+Be+2*pe),xe.Tc=ge,xe.lb=le)}if(M=1,le=ne.S,pe=ne.width,ge=ne.height,le>=Kg&&13>le)if(11>le)N=ne.f.RGBA,M&=(ve=Math.abs(N.A))*(ge-1)+pe<=N.size,M&=ve>=pe*s0[le],M&=N.eb!=null;else{N=ne.f.kb,ve=(pe+1)/2,Be=(ge+1)/2,xe=Math.abs(N.fa),Ae=Math.abs(N.Ab);var nt=Math.abs(N.Db),at=Math.abs(N.lb),Xe=at*(ge-1)+pe;M&=xe*(ge-1)+pe<=N.Fd,M&=Ae*(Be-1)+ve<=N.Cd,M=(M&=nt*(Be-1)+ve<=N.Ed)&xe>=pe&Ae>=ve&nt>=ve,M&=N.y!=null,M&=N.f!=null,M&=N.ea!=null,le==12&&(M&=at>=pe,M&=Xe<=N.Tc,M&=N.F!=null)}else M=0;N=M?0:2}}return N!=0||V!=null&&V.fd&&(N=Qh(ne)),N}var ni=64,ep=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],tp=24,rp=32,np=8,qo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Pt("Predictor0","PredictorAdd0"),I.Predictor0=function(){return 4278190080},I.Predictor1=function(N){return N},I.Predictor2=function(N,M,V){return M[V+0]},I.Predictor3=function(N,M,V){return M[V+1]},I.Predictor4=function(N,M,V){return M[V-1]},I.Predictor5=function(N,M,V){return _e(_e(N,M[V+1]),M[V+0])},I.Predictor6=function(N,M,V){return _e(N,M[V-1])},I.Predictor7=function(N,M,V){return _e(N,M[V+0])},I.Predictor8=function(N,M,V){return _e(M[V-1],M[V+0])},I.Predictor9=function(N,M,V){return _e(M[V+0],M[V+1])},I.Predictor10=function(N,M,V){return _e(_e(N,M[V-1]),_e(M[V+0],M[V+1]))},I.Predictor11=function(N,M,V){var ne=M[V+0];return 0>=gt(ne>>24&255,N>>24&255,(M=M[V-1])>>24&255)+gt(ne>>16&255,N>>16&255,M>>16&255)+gt(ne>>8&255,N>>8&255,M>>8&255)+gt(255&ne,255&N,255&M)?ne:N},I.Predictor12=function(N,M,V){var ne=M[V+0];return(Ce((N>>24&255)+(ne>>24&255)-((M=M[V-1])>>24&255))<<24|Ce((N>>16&255)+(ne>>16&255)-(M>>16&255))<<16|Ce((N>>8&255)+(ne>>8&255)-(M>>8&255))<<8|Ce((255&N)+(255&ne)-(255&M)))>>>0},I.Predictor13=function(N,M,V){var ne=M[V-1];return(ze((N=_e(N,M[V+0]))>>24&255,ne>>24&255)<<24|ze(N>>16&255,ne>>16&255)<<16|ze(N>>8&255,ne>>8&255)<<8|ze(N>>0&255,ne>>0&255))>>>0};var If=I.PredictorAdd0;I.PredictorAdd1=pt,Pt("Predictor2","PredictorAdd2"),Pt("Predictor3","PredictorAdd3"),Pt("Predictor4","PredictorAdd4"),Pt("Predictor5","PredictorAdd5"),Pt("Predictor6","PredictorAdd6"),Pt("Predictor7","PredictorAdd7"),Pt("Predictor8","PredictorAdd8"),Pt("Predictor9","PredictorAdd9"),Pt("Predictor10","PredictorAdd10"),Pt("Predictor11","PredictorAdd11"),Pt("Predictor12","PredictorAdd12"),Pt("Predictor13","PredictorAdd13");var cu=I.PredictorAdd2;Je("ColorIndexInverseTransform","MapARGB","32b",function(N){return N>>8&255},function(N){return N}),Je("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(N){return N},function(N){return N>>8&255});var Yg,zo=I.ColorIndexInverseTransform,ap=I.MapARGB,Zm=I.VP8LColorIndexInverseTransformAlpha,ip=I.MapAlpha,Ec=I.VP8LPredictorsAdd=[];Ec.length=16,(I.VP8LPredictors=[]).length=16,(I.VP8LPredictorsAdd_C=[]).length=16,(I.VP8LPredictors_C=[]).length=16;var bd,Wo,bo,Sd,uu,du,op,fu,qn,hu,So,Ws,Rf,Jm,Mf,Ff,Lf,Vs,pu,Cc,mu,gu,Ad,uo,cs,ha,ea,ai,xi=i(511),Pc=i(2041),sp=i(225),jf=i(767),Qm=0,Tc=Pc,lp=sp,Vo=jf,vl=xi,Kg=0,kd=1,d_=2,e0=3,t0=4,pa=5,Xg=6,cp=7,$f=8,r0=9,n0=10,a0=[2,3,7],Zg=[3,3,11],Bf=[280,256,256,256,40],f_=[0,1,1,1,0],eA=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],tA=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],h_=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Jg=8,up=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],i0=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Uf=null,Oy=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Dy=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],p_=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],m_=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],rA=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],nA=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Iy=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ho=[],yl=[],us=[],Oc=1,dp=2,Ao=[],ds=[];St("UpsampleRgbLinePair",Tn,3),St("UpsampleBgrLinePair",Wa,3),St("UpsampleRgbaLinePair",Hl,4),St("UpsampleBgraLinePair",to,4),St("UpsampleArgbLinePair",_o,4),St("UpsampleRgba4444LinePair",yi,2),St("UpsampleRgb565LinePair",ri,2);var aA=I.UpsampleRgbLinePair,iA=I.UpsampleBgrLinePair,Nd=I.UpsampleRgbaLinePair,fp=I.UpsampleBgraLinePair,qf=I.UpsampleArgbLinePair,o0=I.UpsampleRgba4444LinePair,Ry=I.UpsampleRgb565LinePair,vu=16,Gl=1<<vu-1,ta=-227,sa=482,Ed=6,fo=0,fs=i(256),zf=i(256),hp=i(256),hs=i(256),Qg=i(sa-ta),g_=i(sa-ta);gl("YuvToRgbRow",Tn,3),gl("YuvToBgrRow",Wa,3),gl("YuvToRgbaRow",Hl,4),gl("YuvToBgraRow",to,4),gl("YuvToArgbRow",_o,4),gl("YuvToRgba4444Row",yi,2),gl("YuvToRgb565Row",ri,2);var My=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Wf=[0,2,8],v_=[8,7,6,4,4,2,2,2,1,1,1,1],yu=1;this.WebPDecodeRGBA=function(N,M,V,ne,le){var pe=kd,ge=new Nc,ve=new xa;ge.ba=ve,ve.S=pe,ve.width=[ve.width],ve.height=[ve.height];var xe=ve.width,Ae=ve.height,Be=new wa;if(Be==null||N==null)var nt=2;else t(Be!=null),nt=Of(N,M,V,Be.width,Be.height,Be.Pd,Be.Qd,Be.format,null);if(nt!=0?xe=0:(xe!=null&&(xe[0]=Be.width[0]),Ae!=null&&(Ae[0]=Be.height[0]),xe=1),xe){ve.width=ve.width[0],ve.height=ve.height[0],ne!=null&&(ne[0]=ve.width),le!=null&&(le[0]=ve.height);e:{if(ne=new _c,(le=new xd).data=N,le.w=M,le.ha=V,le.kd=1,M=[0],t(le!=null),((N=Of(le.data,le.w,le.ha,null,null,null,M,null,le))==0||N==7)&&M[0]&&(N=4),(M=N)==0){if(t(ge!=null),ne.data=le.data,ne.w=le.w+le.offset,ne.ha=le.ha-le.offset,ne.put=Di,ne.ac=Na,ne.bc=it,ne.ma=ge,le.xa){if((N=yt())==null){ge=1;break e}if(function(at,Xe){var Ot=[0],bt=[0],We=[0];t:for(;;){if(at==null)return 0;if(Xe==null)return at.a=2,0;if(at.l=Xe,at.a=0,G(at.m,Xe.data,Xe.w,Xe.ha),!xt(at.m,Ot,bt,We)){at.a=3;break t}if(at.xb=dp,Xe.width=Ot[0],Xe.height=bt[0],!Ke(Ot[0],bt[0],1,at,null))break t;return 1}return t(at.a!=0),0}(N,ne)){if(ne=(M=Df(ne.width,ne.height,ge.Oa,ge.ba))==0){t:{ne=N;r:for(;;){if(ne==null){ne=0;break t}if(t(ne.s.yc!=null),t(ne.s.Ya!=null),t(0<ne.s.Wb),t((V=ne.l)!=null),t((le=V.ma)!=null),ne.xb!=0){if(ne.ca=le.ba,ne.tb=le.tb,t(ne.ca!=null),!Jh(le.Oa,V,e0)){ne.a=2;break r}if(!ot(ne,V.width)||V.da)break r;if((V.da||tn(ne.ca.S))&&rt(),11>ne.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),ne.ca.f.kb.F!=null&&rt()),ne.Pb&&0<ne.s.ua&&ne.s.vb.X==null&&!Ie(ne.s.vb,ne.s.Wa.Xa)){ne.a=1;break r}ne.xb=0}if(!ke(ne,ne.V,ne.Ba,ne.c,ne.i,V.o,Se))break r;le.Dc=ne.Ma,ne=1;break t}t(ne.a!=0),ne=0}ne=!ne}ne&&(M=N.a)}else M=N.a}else{if((N=new qa)==null){ge=1;break e}if(N.Fa=le.na,N.P=le.P,N.qc=le.Sa,qg(N,ne)){if((M=Df(ne.width,ne.height,ge.Oa,ge.ba))==0){if(N.Aa=0,V=ge.Oa,t((le=N)!=null),V!=null){if(0<(xe=0>(xe=V.Md)?0:100<xe?255:255*xe/100)){for(Ae=Be=0;4>Ae;++Ae)12>(nt=le.pb[Ae]).lc&&(nt.ia=xe*v_[0>nt.lc?0:nt.lc]>>3),Be|=nt.ia;Be&&(alert("todo:VP8InitRandom"),le.ia=1)}le.Ga=V.Id,100<le.Ga?le.Ga=100:0>le.Ga&&(le.Ga=0)}bf(N,ne)||(M=N.a)}}else M=N.a}M==0&&ge.Oa!=null&&ge.Oa.fd&&(M=Qh(ge.ba))}ge=M}pe=ge!=0?null:11>pe?ve.f.RGBA.eb:ve.f.kb.y}else pe=null;return pe};var s0=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(I,L){for(var U="",T=0;T<4;T++)U+=String.fromCharCode(I[L++]);return U}function d(I,L){return(I[L+0]<<0|I[L+1]<<8|I[L+2]<<16)>>>0}function f(I,L){return(I[L+0]<<0|I[L+1]<<8|I[L+2]<<16|I[L+3]<<24)>>>0}new l;var h=[0],m=[0],x=[],g=new l,y=e,_=function(I,L){var U={},T=0,F=!1,j=0,H=0;if(U.frames=[],!function(Y,Q,ie,se){for(var te=0;te<se;te++)if(Y[Q+te]!=ie.charCodeAt(te))return!0;return!1}(I,L,"RIFF",4)){for(f(I,L+=4),L+=8;L<I.length;){var X=u(I,L),re=f(I,L+=4);L+=4;var z=re+(1&re);switch(X){case"VP8 ":case"VP8L":U.frames[T]===void 0&&(U.frames[T]={}),(K=U.frames[T]).src_off=F?H:L-8,K.src_size=j+re+8,T++,F&&(F=!1,j=0,H=0);break;case"VP8X":(K=U.header={}).feature_flags=I[L];var G=L+4;K.canvas_width=1+d(I,G),G+=3,K.canvas_height=1+d(I,G),G+=3;break;case"ALPH":F=!0,j=z+8,H=L-8;break;case"ANIM":(K=U.header).bgcolor=f(I,L),G=L+4,K.loop_count=(J=I)[(D=G)+0]<<0|J[D+1]<<8,G+=2;break;case"ANMF":var q,K;(K=U.frames[T]={}).offset_x=2*d(I,L),L+=3,K.offset_y=2*d(I,L),L+=3,K.width=1+d(I,L),L+=3,K.height=1+d(I,L),L+=3,K.duration=d(I,L),L+=3,q=I[L++],K.dispose=1&q,K.blend=q>>1&1}X!="ANMF"&&(L+=z)}var J,D;return U}}(y,0);_.response=y,_.rgbaoutput=!0,_.dataurl=!1;var b=_.header?_.header:null,S=_.frames?_.frames:null;if(b){b.loop_counter=b.loop_count,h=[b.canvas_height],m=[b.canvas_width];for(var C=0;C<S.length&&S[C].blend!=0;C++);}var E=S[0],O=g.WebPDecodeRGBA(y,E.src_off,E.src_size,m,h);E.rgba=O,E.imgwidth=m[0],E.imgheight=h[0];for(var P=0;P<m[0]*h[0]*4;P++)x[P]=O[P];return this.width=m,this.height=h,this.data=x,this}(function(e){var t=function(){return typeof i8=="function"},r=function(h,m,x,g){var y=4,_=o;switch(g){case e.image_compression.FAST:y=1,_=i;break;case e.image_compression.MEDIUM:y=6,_=s;break;case e.image_compression.SLOW:y=9,_=l}h=n(h,m,x,_);var b=i8(h,{level:y});return e.__addimage__.arrayBufferToBinaryString(b)},n=function(h,m,x,g){for(var y,_,b,S=h.length/m,C=new Uint8Array(h.length+S),E=d(),O=0;O<S;O+=1){if(b=O*m,y=h.subarray(b,b+m),g)C.set(g(y,x,_),b+O);else{for(var P,I=E.length,L=[];P<I;P+=1)L[P]=E[P](y,x,_);var U=f(L.concat());C.set(L[U],b+O)}_=y}return C},a=function(h){var m=Array.apply([],h);return m.unshift(0),m},i=function(h,m){var x,g=[],y=h.length;g[0]=1;for(var _=0;_<y;_+=1)x=h[_-m]||0,g[_+1]=h[_]-x+256&255;return g},o=function(h,m,x){var g,y=[],_=h.length;y[0]=2;for(var b=0;b<_;b+=1)g=x&&x[b]||0,y[b+1]=h[b]-g+256&255;return y},s=function(h,m,x){var g,y,_=[],b=h.length;_[0]=3;for(var S=0;S<b;S+=1)g=h[S-m]||0,y=x&&x[S]||0,_[S+1]=h[S]+256-(g+y>>>1)&255;return _},l=function(h,m,x){var g,y,_,b,S=[],C=h.length;S[0]=4;for(var E=0;E<C;E+=1)g=h[E-m]||0,y=x&&x[E]||0,_=x&&x[E-m]||0,b=u(g,y,_),S[E+1]=h[E]-b+256&255;return S},u=function(h,m,x){if(h===m&&m===x)return h;var g=Math.abs(m-x),y=Math.abs(h-x),_=Math.abs(h+m-x-x);return g<=y&&g<=_?h:y<=_?m:x},d=function(){return[a,i,o,s,l]},f=function(h){var m=h.map(function(x){return x.reduce(function(g,y){return g+Math.abs(y)},0)});return m.indexOf(Math.min.apply(null,m))};e.processPNG=function(h,m,x,g){var y,_,b,S,C,E,O,P,I,L,U,T,F,j,H,X=this.decode.FLATE_DECODE,re="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(b=new P7e(h)).imgData,_=b.bits,y=b.colorSpace,C=b.colors,[4,6].indexOf(b.colorType)!==-1){if(b.bits===8){I=(P=b.pixelBitlength==32?new Uint32Array(b.decodePixels().buffer):b.pixelBitlength==16?new Uint16Array(b.decodePixels().buffer):new Uint8Array(b.decodePixels().buffer)).length,U=new Uint8Array(I*b.colors),L=new Uint8Array(I);var z,G=b.pixelBitlength-b.bits;for(j=0,H=0;j<I;j++){for(F=P[j],z=0;z<G;)U[H++]=F>>>z&255,z+=b.bits;L[j]=F>>>z&255}}if(b.bits===16){I=(P=new Uint32Array(b.decodePixels().buffer)).length,U=new Uint8Array(I*(32/b.pixelBitlength)*b.colors),L=new Uint8Array(I*(32/b.pixelBitlength)),T=b.colors>1,j=0,H=0;for(var q=0;j<I;)F=P[j++],U[H++]=F>>>0&255,T&&(U[H++]=F>>>16&255,F=P[j++],U[H++]=F>>>0&255),L[q++]=F>>>16&255;_=8}g!==e.image_compression.NONE&&t()?(h=r(U,b.width*b.colors,b.colors,g),O=r(L,b.width,1,g)):(h=U,O=L,X=void 0)}if(b.colorType===3&&(y=this.color_spaces.INDEXED,E=b.palette,b.transparency.indexed)){var K=b.transparency.indexed,J=0;for(j=0,I=K.length;j<I;++j)J+=K[j];if((J/=255)===I-1&&K.indexOf(0)!==-1)S=[K.indexOf(0)];else if(J!==I){for(P=b.decodePixels(),L=new Uint8Array(P.length),j=0,I=P.length;j<I;j++)L[j]=K[P[j]];O=r(L,b.width,1)}}var D=function(Y){var Q;switch(Y){case e.image_compression.FAST:Q=11;break;case e.image_compression.MEDIUM:Q=13;break;case e.image_compression.SLOW:Q=14;break;default:Q=12}return Q}(g);return X===this.decode.FLATE_DECODE&&(re="/Predictor "+D+" "),re+="/Colors "+C+" /BitsPerComponent "+_+" /Columns "+b.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(O&&this.__addimage__.isArrayBuffer(O)||this.__addimage__.isArrayBufferView(O))&&(O=this.__addimage__.arrayBufferToBinaryString(O)),{alias:x,data:h,index:m,filter:X,decodeParameters:re,transparency:S,palette:E,sMask:O,predictor:D,width:b.width,height:b.height,bitsPerComponent:_,colorSpace:y}}}})(Fr.API),function(e){e.processGIF89A=function(t,r,n,a){var i=new T7e(t),o=i.width,s=i.height,l=[];i.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:o,height:s},d=new GP(100).encode(u,100);return e.processJPEG.call(this,d,r,n,a)},e.processGIF87A=e.processGIF89A}(Fr.API),Ou.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ou.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Ca.log("bit decode error:"+r)}},Ou.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*a*4,s=0;s<8&&8*a+s<this.width;s++){var l=this.palette[i>>7-s&1];this.data[o+4*s]=l.blue,this.data[o+4*s+1]=l.green,this.data[o+4*s+2]=l.red,this.data[o+4*s+3]=255}r!==0&&(this.pos+=4-r)}},Ou.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*a*4,s=i>>4,l=15&i,u=this.palette[s];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*a+1>=this.width)break;u=this.palette[l],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Ou.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var o=this.palette[a];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},Ou.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,s=(i>>5&t)/t*255|0,l=(i>>10&t)/t*255|0,u=i>>15?255:0,d=n*this.width*4+4*a;this.data[d]=l,this.data[d+1]=s,this.data[d+2]=o,this.data[d+3]=u}this.pos+=e}},Ou.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&t)/t*255|0,l=(o>>5&r)/r*255|0,u=(o>>11)/t*255|0,d=a*this.width*4+4*i;this.data[d]=u,this.data[d+1]=l,this.data[d+2]=s,this.data[d+3]=255}this.pos+=e}},Ou.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},Ou.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;this.data[s]=i,this.data[s+1]=a,this.data[s+2]=n,this.data[s+3]=o}},Ou.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,a){var i=new Ou(t,!1),o=i.width,s=i.height,l={data:i.getData(),width:o,height:s},u=new GP(100).encode(l,100);return e.processJPEG.call(this,u,r,n,a)}}(Fr.API),dW.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,a){var i=new dW(t),o=i.width,s=i.height,l={data:i.getData(),width:o,height:s},u=new GP(100).encode(l,100);return e.processJPEG.call(this,u,r,n,a)}}(Fr.API),Fr.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,i=new Uint8Array(a/4*3),o=new Uint8Array(a/4),s=0,l=0,u=0;u<a;u+=4){var d=n[u],f=n[u+1],h=n[u+2],m=n[u+3];i[s++]=d,i[s++]=f,i[s++]=h,o[l++]=m}var x=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:x,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Fr.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Rv=Fr.API,kb=Rv.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),s=t.widths?t.widths:a.metadata.Unicode.widths,l=s.fof?s.fof:1,u=t.kerning?t.kerning:a.metadata.Unicode.kerning,d=u.fof?u.fof:1,f=t.doKerning!==!1,h=0,m=e.length,x=0,g=s[0]||l,y=[];for(r=0;r<m;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?y.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+o*(1e3/i)||0)/1e3):(h=f&&va(u[n])==="object"&&!isNaN(parseInt(u[n][x],10))?u[n][x]/d:0,y.push((s[n]||g)/l+h)),x=n;return y},sW=Rv.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return Rv.processArabic&&(e=Rv.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:kb.apply(this,arguments).reduce(function(i,o){return i+o},0)},lW=function(e,t,r,n){for(var a=[],i=0,o=e.length,s=0;i!==o&&s+t[i]<r;)s+=t[i],i++;a.push(e.slice(0,i));var l=i;for(s=0;i!==o;)s+t[i]>n&&(a.push(e.slice(l,i)),s=0,l=i),s+=t[i],i++;return l!==i&&a.push(e.slice(l,i)),a},cW=function(e,t,r){r||(r={});var n,a,i,o,s,l,u,d=[],f=[d],h=r.textIndent||0,m=0,x=0,g=e.split(" "),y=kb.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?g[0].length+2:r.lineIndent||0){var _=Array(l).join(" "),b=[];g.map(function(C){(C=C.split(/\s*\n/)).length>1?b=b.concat(C.map(function(E,O){return(O&&E.length?`
`:"")+E})):b.push(C[0])}),g=b,l=sW.apply(this,[_,r])}for(i=0,o=g.length;i<o;i++){var S=0;if(n=g[i],l&&n[0]==`
`&&(n=n.substr(1),S=1),h+m+(x=(a=kb.apply(this,[n,r])).reduce(function(C,E){return C+E},0))>t||S){if(x>t){for(s=lW.apply(this,[n,a,t-(h+m),t]),d.push(s.shift()),d=[s.pop()];s.length;)f.push([s.shift()]);x=a.slice(n.length-(d[0]?d[0].length:0)).reduce(function(C,E){return C+E},0)}else d=[n];f.push(d),h=x+l,m=y}else d.push(n),h+=m+x,m=y}return u=l?function(C,E){return(E?_:"")+C.join(" ")}:function(C){return C.join(" ")},f.map(u)},Rv.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var s,l,u=[];for(s=0,l=n.length;s<l;s++)u=u.concat(cW.apply(this,[n[s],o,i]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},a=0;a<t.length;a++)r[t[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=t[a];var i=function(f){return"0x"+parseInt(f,10).toString(16)},o=e.__fontmetrics__.compress=function(f){var h,m,x,g,y=["{"];for(var _ in f){if(h=f[_],isNaN(parseInt(_,10))?m="'"+_+"'":(_=parseInt(_,10),m=(m=i(_).slice(2)).slice(0,-1)+n[m.slice(-1)]),typeof h=="number")h<0?(x=i(h).slice(3),g="-"):(x=i(h).slice(2),g=""),x=g+x.slice(0,-1)+n[x.slice(-1)];else{if(va(h)!=="object")throw new Error("Don't know what to do with value type "+va(h)+".");x=o(h)}y.push(m+x)}return y.push("}"),y.join("")},s=e.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,m,x,g,y={},_=1,b=y,S=[],C="",E="",O=f.length-1,P=1;P<O;P+=1)(g=f[P])=="'"?h?(x=h.join(""),h=void 0):h=[]:h?h.push(g):g=="{"?(S.push([b,x]),b={},x=void 0):g=="}"?((m=S.pop())[0][m[1]]=b,x=void 0,b=m[0]):g=="-"?_=-1:x===void 0?r.hasOwnProperty(g)?(C+=r[g],x=parseInt(C,16)*_,_=1,C=""):C+=g:r.hasOwnProperty(g)?(E+=r[g],b[x]=parseInt(E,16)*_,_=1,x=void 0,E=""):E+=g;return y},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:s("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},d={Unicode:{"Courier-Oblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":s("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":s("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:s("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:s("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":s("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":s("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(f){var h=f.font,m=d.Unicode[h.postScriptName];m&&(h.metadata.Unicode={},h.metadata.Unicode.widths=m.widths,h.metadata.Unicode.kerning=m.kerning);var x=u.Unicode[h.postScriptName];x&&(h.metadata.Unicode.encoding=x,h.encoding=x.codePages[0])}])}(Fr.API),function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(o,s){s=/^\x00\x01\x00\x00/.test(s)?t(s):t(V2(s)),o.metadata=e.API.TTFFont.open(s),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(a,n)}}])}(Fr),function(e){function t(){return(Zr.canvg?Promise.resolve(Zr.canvg):xh(()=>import("./index.es-BWmuomb4.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}Fr.API.addSvgAsImage=function(r,n,a,i,o,s,l,u){if(isNaN(n)||isNaN(a))throw Ca.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(o))throw Ca.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=i,d.height=o;var f=d.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,d.width,d.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return t().then(function(x){return x.fromString(f,r,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(h)}).then(function(){m.addImage(d.toDataURL("image/jpeg",1),n,a,i,o,l,u)})}}(),Fr.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},Fr.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},s=Object.keys(o),l=[],u=0,d=0,f=0;function h(x,g){var y,_=!1;for(y=0;y<x.length;y+=1)x[y]===g&&(_=!0);return _}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var m=s.length;for(f=0;f<m;f+=1)r[s[f]].value=r[s[f]].defaultValue,r[s[f]].explicitSet=!1}if(va(e)==="object"){for(a in e)if(i=e[a],h(s,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&h(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(u=0;u<i.length;u+=1)if(n=!0,i[u].length===1&&typeof i[u][0]=="number")l.push(String(i[u]-1));else if(i[u].length>1){for(d=0;d<i[u].length;d+=1)typeof i[u][d]!="number"&&(n=!1);n===!0&&l.push([i[u][0]-1,i[u][1]-1].join(" "))}r[a].value="["+l.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var x,g=[];for(x in r)r[x].explicitSet===!0&&(r[x].type==="name"?g.push("/"+x+" /"+r[x].value):g.push("/"+x+" "+r[x].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),s=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+o.length+s.length+a.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(a+i+o+s+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(Fr.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,o){for(var s,l=o.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],f=0,h=i.length;f<h;++f){if(s=o.metadata.characterToGlyph(i.charCodeAt(f)),o.metadata.glyIdsUsed.push(s),o.metadata.toUnicode[s]=i.charCodeAt(f),l.indexOf(s)==-1&&(l.push(s),l.push([parseInt(o.metadata.widthOfGlyph(s),10)])),s=="0")return d.join("");s=s.toString(16),d.push(u[4-s.length],s)}return d.join("")},n=function(i){var o,s,l,u,d,f,h;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,h=(s=Object.keys(i).sort(function(m,x){return m-x})).length;f<h;f++)o=s[f],l.length>=100&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(u=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+u+">"));return l.length&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(o){var s=o.font,l=o.out,u=o.newObject,d=o.putStream;if(s.metadata instanceof e.API.TTFFont&&s.encoding==="Identity-H"){for(var f=s.metadata.Unicode.widths,h=s.metadata.subset.encode(s.metadata.glyIdsUsed,1),m="",x=0;x<h.length;x++)m+=String.fromCharCode(h[x]);var g=u();d({data:m,addLength1:!0,objectId:g}),l("endobj");var y=u();d({data:n(s.metadata.toUnicode),addLength1:!0,objectId:y}),l("endobj");var _=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Uv(s.fontName)),l("/FontFile2 "+g+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(s.metadata.bbox)),l("/Flags "+s.metadata.flags),l("/StemV "+s.metadata.stemV),l("/ItalicAngle "+s.metadata.italicAngle),l("/Ascent "+s.metadata.ascender),l("/Descent "+s.metadata.decender),l("/CapHeight "+s.metadata.capHeight),l(">>"),l("endobj");var b=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+Uv(s.fontName)),l("/FontDescriptor "+_+" 0 R"),l("/W "+e.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+s.encoding+")"),l(">>"),l(">>"),l("endobj"),s.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+y+" 0 R"),l("/BaseFont /"+Uv(s.fontName)),l("/Encoding /"+s.encoding),l("/DescendantFonts ["+b+" 0 R]"),l(">>"),l("endobj"),s.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(o){var s=o.font,l=o.out,u=o.newObject,d=o.putStream;if(s.metadata instanceof e.API.TTFFont&&s.encoding==="WinAnsiEncoding"){for(var f=s.metadata.rawData,h="",m=0;m<f.length;m++)h+=String.fromCharCode(f[m]);var x=u();d({data:h,addLength1:!0,objectId:x}),l("endobj");var g=u();d({data:n(s.metadata.toUnicode),addLength1:!0,objectId:g}),l("endobj");var y=u();l("<<"),l("/Descent "+s.metadata.decender),l("/CapHeight "+s.metadata.capHeight),l("/StemV "+s.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+x+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(s.metadata.bbox)),l("/FontName /"+Uv(s.fontName)),l("/ItalicAngle "+s.metadata.italicAngle),l("/Ascent "+s.metadata.ascender),l(">>"),l("endobj"),s.objectNumber=u();for(var _=0;_<s.metadata.hmtx.widths.length;_++)s.metadata.hmtx.widths[_]=parseInt(s.metadata.hmtx.widths[_]*(1e3/s.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+Uv(s.fontName)+"/FontDescriptor "+y+" 0 R/Encoding/"+s.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(s.metadata.hmtx.widths)+">>"),l("endobj"),s.isAlreadyPutted=!0}})(i)}]);var a=function(i){var o,s=i.text||"",l=i.x,u=i.y,d=i.options||{},f=i.mutex||{},h=f.pdfEscape,m=f.activeFontKey,x=f.fonts,g=m,y="",_=0,b="",S=x[g].encoding;if(x[g].encoding!=="Identity-H")return{text:s,x:l,y:u,options:d,mutex:f};for(b=s,g=m,Array.isArray(s)&&(b=s[0]),_=0;_<b.length;_+=1)x[g].metadata.hasOwnProperty("cmap")&&(o=x[g].metadata.cmap.unicode.codeMap[b[_].charCodeAt(0)]),o||b[_].charCodeAt(0)<256&&x[g].metadata.hasOwnProperty("Unicode")?y+=b[_]:y+="";var C="";return parseInt(g.slice(1))<14||S==="WinAnsiEncoding"?C=h(y,g).split("").map(function(E){return E.charCodeAt(0).toString(16)}).join(""):S==="Identity-H"&&(C=r(y,x[g])),f.isHex=!0,{text:C,x:l,y:u,options:d,mutex:f}};t.events.push(["postProcessText",function(i){var o=i.text||"",s=[],l={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?s.push([a(Object.assign({},l,{text:o[u][0]})).text,o[u][1],o[u][2]]):s.push(a(Object.assign({},l,{text:o[u]})).text);i.text=s}else i.text=a(Object.assign({},l,{text:o})).text}])}(Fr),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Fr.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,i,o,s,l,u,d,f=t,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],x={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},y=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],_=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,S=0;this.__bidiEngine__={};var C=function(T){var F=T.charCodeAt(),j=F>>8,H=g[j];return H!==void 0?f[256*H+(255&F)]:j===252||j===253?"AL":_.test(j)?"L":j===8?"R":"N"},E=function(T){for(var F,j=0;j<T.length;j++){if((F=C(T.charAt(j)))==="L")return!1;if(F==="R")return!0}return!1},O=function(T,F,j,H){var X,re,z,G,q=F[H];switch(q){case"L":case"R":b=!1;break;case"N":case"AN":break;case"EN":b&&(q="AN");break;case"AL":b=!0,q="R";break;case"WS":q="N";break;case"CS":H<1||H+1>=F.length||(X=j[H-1])!=="EN"&&X!=="AN"||(re=F[H+1])!=="EN"&&re!=="AN"?q="N":b&&(re="AN"),q=re===X?re:"N";break;case"ES":q=(X=H>0?j[H-1]:"B")==="EN"&&H+1<F.length&&F[H+1]==="EN"?"EN":"N";break;case"ET":if(H>0&&j[H-1]==="EN"){q="EN";break}if(b){q="N";break}for(z=H+1,G=F.length;z<G&&F[z]==="ET";)z++;q=z<G&&F[z]==="EN"?"EN":"N";break;case"NSM":if(o&&!s){for(G=F.length,z=H+1;z<G&&F[z]==="NSM";)z++;if(z<G){var K=T[H],J=K>=1425&&K<=2303||K===64286;if(X=F[z],J&&(X==="R"||X==="AL")){q="R";break}}}q=H<1||(X=F[H-1])==="B"?"N":j[H-1];break;case"B":b=!1,a=!0,q=S;break;case"S":i=!0,q="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"BN":q="N"}return q},P=function(T,F,j){var H=T.split("");return j&&I(H,j,{hiLevel:S}),H.reverse(),F&&F.reverse(),H.join("")},I=function(T,F,j){var H,X,re,z,G,q=-1,K=T.length,J=0,D=[],Y=S?m:h,Q=[];for(b=!1,a=!1,i=!1,X=0;X<K;X++)Q[X]=C(T[X]);for(re=0;re<K;re++){if(G=J,D[re]=O(T,Q,D,re),H=240&(J=Y[G][x[D[re]]]),J&=15,F[re]=z=Y[J][5],H>0)if(H===16){for(X=q;X<re;X++)F[X]=1;q=-1}else q=-1;if(Y[J][6])q===-1&&(q=re);else if(q>-1){for(X=q;X<re;X++)F[X]=z;q=-1}Q[re]==="B"&&(F[re]=0),j.hiLevel|=z}i&&function(ie,se,te){for(var de=0;de<te;de++)if(ie[de]==="S"){se[de]=S;for(var Z=de-1;Z>=0&&ie[Z]==="WS";Z--)se[Z]=S}}(Q,F,K)},L=function(T,F,j,H,X){if(!(X.hiLevel<T)){if(T===1&&S===1&&!a)return F.reverse(),void(j&&j.reverse());for(var re,z,G,q,K=F.length,J=0;J<K;){if(H[J]>=T){for(G=J+1;G<K&&H[G]>=T;)G++;for(q=J,z=G-1;q<z;q++,z--)re=F[q],F[q]=F[z],F[z]=re,j&&(re=j[q],j[q]=j[z],j[z]=re);J=G}J++}}},U=function(T,F,j){var H=T.split(""),X={hiLevel:S};return j||(j=[]),I(H,j,X),function(re,z,G){if(G.hiLevel!==0&&d)for(var q,K=0;K<re.length;K++)z[K]===1&&(q=y.indexOf(re[K]))>=0&&(re[K]=y[q+1])}(H,j,X),L(2,H,F,j,X),L(1,H,F,j,X),H.join("")};return this.__bidiEngine__.doBidiReorder=function(T,F,j){if(function(X,re){if(re)for(var z=0;z<X.length;z++)re[z]=z;s===void 0&&(s=E(X)),u===void 0&&(u=E(X))}(T,F),o||!l||u)if(o&&l&&s^u)S=s?1:0,T=P(T,F,j);else if(!o&&l&&u)S=s?1:0,T=U(T,F,j),T=P(T,F);else if(!o||s||l||u){if(o&&!l&&s^u)T=P(T,F),s?(S=0,T=U(T,F,j)):(S=1,T=U(T,F,j),T=P(T,F));else if(o&&s&&!l&&u)S=1,T=U(T,F,j),T=P(T,F);else if(!o&&!l&&s^u){var H=d;s?(S=1,T=U(T,F,j),S=0,d=!1,T=U(T,F,j),d=H):(S=0,T=U(T,F,j),T=P(T,F),S=1,d=!1,T=U(T,F,j),d=H,T=P(T,F))}}else S=0,T=U(T,F,j);else S=s?1:0,T=U(T,F,j);return T},this.__bidiEngine__.setOptions=function(T){T&&(o=T.isInputVisual,l=T.isOutputVisual,s=T.isInputRtl,u=T.isOutputRtl,d=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var o=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var s=0;for(o=[],s=0;s<a.length;s+=1)Object.prototype.toString.call(a[s])==="[object Array]"?o.push([r.doBidiReorder(a[s][0]),a[s][1],a[s][2]]):o.push([r.doBidiReorder(a[s])]);n.text=o}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(Fr),Fr.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new wm(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new V7e(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new O7e(this.contents),this.head=new I7e(this),this.name=new j7e(this),this.cmap=new Ene(this),this.toUnicode={},this.hhea=new R7e(this),this.maxp=new $7e(this),this.hmtx=new B7e(this),this.post=new F7e(this),this.os2=new M7e(this),this.loca=new W7e(this),this.glyf=new U7e(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,s,l,u;for(u=[],o=0,s=(l=this.bbox).length;o<s;o++)t=l[o],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),(32768&(r=a>>16))!=0&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,i,o,s;for(o=0,i=0,s=(t=""+t).length;0<=s?i<s:i>s;i=0<=s?++i:--i)a=t.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var dd,wm=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,i,o,s,l;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),o=this.readByte(),s=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^o)+256*(255^s)+(255^l)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*o+256*s+l},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,i;for(i=[],n=0,a=t.length;n<a;n++)r=t[n],i.push(this.writeByte(r));return i},e}(),O7e=function(){var e;function t(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,i,o,s,l,u,d,f,h,m,x,g;for(g in m=Object.keys(r).length,l=Math.log(2),f=16*Math.floor(Math.log(m)/l),o=Math.floor(f/l),d=16*m-f,(a=new wm).writeInt(this.scalarType),a.writeShort(m),a.writeShort(f),a.writeShort(o),a.writeShort(d),i=16*m,u=a.pos+i,s=null,x=[],r)for(h=r[g],a.writeString(g),a.writeInt(e(h)),a.writeInt(u),a.writeInt(h.length),x=x.concat(h),g==="head"&&(s=u),u+=h.length;u%4;)x.push(0),u++;return a.write(x),n=2981146554-e(a.data),a.pos=s+8,a.writeUInt32(n),a.data},e=function(r){var n,a,i,o;for(r=Cne.call(r);r.length%4;)r.push(0);for(i=new wm(r),a=0,n=0,o=r.length;n<o;n=n+=4)a+=i.readUInt32();return 4294967295&a},t}(),D7e={}.hasOwnProperty,yf=function(e,t){for(var r in t)D7e.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};dd=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var I7e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return yf(t,dd),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new wm).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),fW=function(){function e(t,r){var n,a,i,o,s,l,u,d,f,h,m,x,g,y,_,b,S;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(m=t.readUInt16(),h=m/2,t.pos+=6,i=function(){var C,E;for(E=[],l=C=0;0<=h?C<h:C>h;l=0<=h?++C:--C)E.push(t.readUInt16());return E}(),t.pos+=2,g=function(){var C,E;for(E=[],l=C=0;0<=h?C<h:C>h;l=0<=h?++C:--C)E.push(t.readUInt16());return E}(),u=function(){var C,E;for(E=[],l=C=0;0<=h?C<h:C>h;l=0<=h?++C:--C)E.push(t.readUInt16());return E}(),d=function(){var C,E;for(E=[],l=C=0;0<=h?C<h:C>h;l=0<=h?++C:--C)E.push(t.readUInt16());return E}(),a=(this.length-t.pos+this.offset)/2,s=function(){var C,E;for(E=[],l=C=0;0<=a?C<a:C>a;l=0<=a?++C:--C)E.push(t.readUInt16());return E}(),l=_=0,S=i.length;_<S;l=++_)for(y=i[l],n=b=x=g[l];x<=y?b<=y:b>=y;n=x<=y?++b:--b)d[l]===0?o=n+u[l]:(o=s[d[l]/2+(n-x)-(h-l)]||0)!==0&&(o+=u[l]),this.codeMap[n]=65535&o}t.pos=f}return e.encode=function(t,r){var n,a,i,o,s,l,u,d,f,h,m,x,g,y,_,b,S,C,E,O,P,I,L,U,T,F,j,H,X,re,z,G,q,K,J,D,Y,Q,ie,se,te,de,Z,ce,oe,ae;switch(H=new wm,o=Object.keys(t).sort(function(Ne,Ie){return Ne-Ie}),r){case"macroman":for(g=0,y=function(){var Ne=[];for(x=0;x<256;++x)Ne.push(0);return Ne}(),b={0:0},i={},X=0,q=o.length;X<q;X++)b[Z=t[a=o[X]]]==null&&(b[Z]=++g),i[a]={old:t[a],new:b[t[a]]},y[a]=b[t[a]];return H.writeUInt16(1),H.writeUInt16(0),H.writeUInt32(12),H.writeUInt16(0),H.writeUInt16(262),H.writeUInt16(0),H.write(y),{charMap:i,subtable:H.data,maxGlyphID:g+1};case"unicode":for(F=[],f=[],S=0,b={},n={},_=u=null,re=0,K=o.length;re<K;re++)b[E=t[a=o[re]]]==null&&(b[E]=++S),n[a]={old:E,new:b[E]},s=b[E]-a,_!=null&&s===u||(_&&f.push(_),F.push(a),u=s),_=a;for(_&&f.push(_),f.push(65535),F.push(65535),U=2*(L=F.length),I=2*Math.pow(Math.log(L)/Math.LN2,2),h=Math.log(I/2)/Math.LN2,P=2*L-I,l=[],O=[],m=[],x=z=0,J=F.length;z<J;x=++z){if(T=F[x],d=f[x],T===65535){l.push(0),O.push(0);break}if(T-(j=n[T].new)>=32768)for(l.push(0),O.push(2*(m.length+L-x)),a=G=T;T<=d?G<=d:G>=d;a=T<=d?++G:--G)m.push(n[a].new);else l.push(j-T),O.push(0)}for(H.writeUInt16(3),H.writeUInt16(1),H.writeUInt32(12),H.writeUInt16(4),H.writeUInt16(16+8*L+2*m.length),H.writeUInt16(0),H.writeUInt16(U),H.writeUInt16(I),H.writeUInt16(h),H.writeUInt16(P),te=0,D=f.length;te<D;te++)a=f[te],H.writeUInt16(a);for(H.writeUInt16(0),de=0,Y=F.length;de<Y;de++)a=F[de],H.writeUInt16(a);for(ce=0,Q=l.length;ce<Q;ce++)s=l[ce],H.writeUInt16(s);for(oe=0,ie=O.length;oe<ie;oe++)C=O[oe],H.writeUInt16(C);for(ae=0,se=m.length;ae<se;ae++)g=m[ae],H.writeUInt16(g);return{charMap:n,subtable:H.data,maxGlyphID:S+1}}},e}(),Ene=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return yf(t,dd),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,a,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)n=new fW(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var a,i;return n==null&&(n="macroman"),a=fW.encode(r,n),(i=new wm).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},t}(),R7e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return yf(t,dd),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),M7e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return yf(t,dd),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),F7e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return yf(t,dd),t.prototype.tag="post",t.prototype.parse=function(r){var n,a,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var o;for(a=r.readUInt16(),this.glyphNameIndex=[],o=0;0<=a?o<a:o>a;o=0<=a?++o:--o)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var s,l,u;for(u=[],o=s=0,l=this.file.maxp.numGlyphs;0<=l?s<l:s>l;o=0<=l?++s:--s)u.push(r.readUInt32());return u}).call(this)}},t}(),L7e=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},j7e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return yf(t,dd),t.prototype.tag="name",t.prototype.parse=function(r){var n,a,i,o,s,l,u,d,f,h,m;for(r.pos=this.offset,r.readShort(),n=r.readShort(),l=r.readShort(),a=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+l+r.readShort()});for(u={},o=f=0,h=a.length;f<h;o=++f)i=a[o],r.pos=i.offset,d=r.readString(i.length),s=new L7e(d,i),u[m=i.nameID]==null&&(u[m]=[]),u[i.nameID].push(s);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},t}(),$7e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return yf(t,dd),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),B7e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return yf(t,dd),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,a,i,o,s,l,u;for(r.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,f;for(f=[],n=d=0;0<=i?d<i:d>i;n=0<=i?++d:--d)f.push(r.readInt16());return f}(),this.widths=(function(){var d,f,h,m;for(m=[],d=0,f=(h=this.metrics).length;d<f;d++)o=h[d],m.push(o.advance);return m}).call(this),a=this.widths[this.widths.length-1],u=[],n=s=0;0<=i?s<i:s>i;n=0<=i?++s:--s)u.push(this.widths.push(a));return u},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),Cne=[].slice,U7e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return yf(t,dd),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,a,i,o,s,l,u,d,f,h;return r in this.cache?this.cache[r]:(o=this.file.loca,n=this.file.contents,a=o.indexOf(r),(i=o.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,s=(l=new wm(n.read(i))).readShort(),d=l.readShort(),h=l.readShort(),u=l.readShort(),f=l.readShort(),this.cache[r]=s===-1?new z7e(l,d,h,u,f):new q7e(l,s,d,h,u,f),this.cache[r]))},t.prototype.encode=function(r,n,a){var i,o,s,l,u;for(s=[],o=[],l=0,u=n.length;l<u;l++)i=r[n[l]],o.push(s.length),i&&(s=s.concat(i.encode(a)));return o.push(s.length),{table:s,offsets:o}},t}(),q7e=function(){function e(t,r,n,a,i,o){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),z7e=function(){function e(t,r,n,a,i){var o,s;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;s=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&s;)o.pos+=1&s?4:2,128&s?o.pos+=8:64&s?o.pos+=4:8&s&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new wm(Cne.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),W7e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return yf(t,dd),t.prototype.tag="loca",t.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,o;for(o=[],a=0,i=this.length;a<i;a+=2)o.push(2*r.readUInt16());return o}).call(this):(function(){var i,o;for(o=[],a=0,i=this.length;a<i;a+=4)o.push(r.readUInt32());return o}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),i=0,o=0,s=0;s<a.length;++s)if(a[s]=i,o<n.length&&n[o]==s){++o,a[s]=i;var l=this.offsets[s],u=this.offsets[s+1]-l;u>0&&(i+=u)}for(var d=new Array(4*a.length),f=0;f<a.length;++f)d[4*f+3]=255&a[f],d[4*f+2]=(65280&a[f])>>8,d[4*f+1]=(16711680&a[f])>>16,d[4*f]=(4278190080&a[f])>>24;return d},t}(),V7e=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,i,o,s,l;for(a={},o=0,s=t.length;o<s;o++)a[i=t[o]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in l=this.glyphsFor(r))n=l[i],a[i]=n;return a},e.prototype.encode=function(t,r){var n,a,i,o,s,l,u,d,f,h,m,x,g,y,_;for(a in n=Ene.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),m={0:0},_=n.charMap)m[(l=_[a]).old]=l.new;for(x in h=n.maxGlyphID,o)x in m||(m[x]=h++);return d=function(b){var S,C;for(S in C={},b)C[b[S]]=S;return C}(m),f=Object.keys(d).sort(function(b,S){return b-S}),g=function(){var b,S,C;for(C=[],b=0,S=f.length;b<S;b++)s=f[b],C.push(d[s]);return C}(),i=this.font.glyf.encode(o,g,m),u=this.font.loca.encode(i.offsets,g),y={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(y["OS/2"]=this.font.os2.raw()),this.font.directory.encode(y)},e}();Fr.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,i,o;if(Array.isArray(r))return"["+function(){var s,l,u;for(u=[],s=0,l=r.length;s<l;s++)n=r[s],u.push(t.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)o=r[a],i.push("/"+a+" "+t.convert(o));return i.push(">>"),i.join(`
`)}return""+r},t}();function Pne(e,t,r,n,a){n=n||{};var i=1.15,o=a.internal.scaleFactor,s=a.internal.getFontSize()/o,l=a.getLineHeightFactor?a.getLineHeightFactor():i,u=s*l,d=/\r\n|\r|\n/g,f="",h=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(f=typeof e=="string"?e.split(d):e,h=f.length||1),r+=s*(2-i),n.valign==="middle"?r-=h/2*u:n.valign==="bottom"&&(r-=h*u),n.halign==="center"||n.halign==="right"){var m=s;if(n.halign==="center"&&(m*=.5),f&&h>=1){for(var x=0;x<f.length;x++)a.text(f[x],t-a.getStringUnitWidth(f[x])*m,r),r+=u;return a}t-=a.getStringUnitWidth(e)*m}return n.halign==="justify"?a.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):a.text(e,t,r),a}var hW={},d1=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:hW=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var n,a,i;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var o=this.jsPDFDocument.internal.getFont(),s=o.fontStyle,l=o.fontName;if(t.font&&(l=t.font),t.fontStyle){s=t.fontStyle;var u=this.getFontList()[l];u&&u.indexOf(s)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),s=u[0])}if(this.jsPDFDocument.setFont(l,s),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var d=e.unifyColor(t.fillColor);d&&(n=this.jsPDFDocument).setFillColor.apply(n,d),d=e.unifyColor(t.textColor),d&&(a=this.jsPDFDocument).setTextColor.apply(a,d),d=e.unifyColor(t.lineColor),d&&(i=this.jsPDFDocument).setDrawColor.apply(i,d),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,n){return this.jsPDFDocument.splitTextToSize(t,r,n)},e.prototype.rect=function(t,r,n,a,i){return this.jsPDFDocument.rect(t,r,n,a,i)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return hW||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),f8=function(e,t){return f8=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},f8(e,t)};function Tne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");f8(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var One=function(e){Tne(t,e);function t(r){var n=e.call(this)||this;return n._element=r,n}return t}(Array);function H7e(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function G7e(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function LS(e,t,r){r.applyStyles(t,!0);var n=Array.isArray(e)?e:[e],a=n.map(function(i){return r.getTextWidth(i)}).reduce(function(i,o){return Math.max(i,o)},0);return a}function Dne(e,t,r,n){var a=t.settings.tableLineWidth,i=t.settings.tableLineColor;e.applyStyles({lineWidth:a,lineColor:i});var o=Ine(a,!1);o&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,o)}function Ine(e,t){var r=e>0,n=t||t===0;return r&&n?"DF":r?"S":n?"F":null}function L3(e,t){var r,n,a,i;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(n=e.top)!==null&&n!==void 0?n:t,right:(a=e.right)!==null&&a!==void 0?a:t,bottom:(i=e.bottom)!==null&&i!==void 0?i:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function Rne(e,t){var r=L3(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function Y7e(e,t,r,n,a){var i={},o=1.3333333333333333,s=YP(t,function(S){return a.getComputedStyle(S).backgroundColor});s!=null&&(i.fillColor=s);var l=YP(t,function(S){return a.getComputedStyle(S).color});l!=null&&(i.textColor=l);var u=X7e(n,r);u&&(i.cellPadding=u);var d="borderTopColor",f=o*r,h=n.borderTopWidth;if(n.borderBottomWidth===h&&n.borderRightWidth===h&&n.borderLeftWidth===h){var m=(parseFloat(h)||0)/f;m&&(i.lineWidth=m)}else i.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/f,right:(parseFloat(n.borderRightWidth)||0)/f,bottom:(parseFloat(n.borderBottomWidth)||0)/f,left:(parseFloat(n.borderLeftWidth)||0)/f},i.lineWidth.top||(i.lineWidth.right?d="borderRightColor":i.lineWidth.bottom?d="borderBottomColor":i.lineWidth.left&&(d="borderLeftColor"));var x=YP(t,function(S){return a.getComputedStyle(S)[d]});x!=null&&(i.lineColor=x);var g=["left","right","center","justify"];g.indexOf(n.textAlign)!==-1&&(i.halign=n.textAlign),g=["middle","bottom","top"],g.indexOf(n.verticalAlign)!==-1&&(i.valign=n.verticalAlign);var y=parseInt(n.fontSize||"");isNaN(y)||(i.fontSize=y/o);var _=K7e(n);_&&(i.fontStyle=_);var b=(n.fontFamily||"").toLowerCase();return e.indexOf(b)!==-1&&(i.font=b),i}function K7e(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function YP(e,t){var r=Mne(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var a=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],i=parseInt(n[4]);return i===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function Mne(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:Mne(e.parentElement,t):r}function X7e(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),a=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,i=r.map(function(s){return parseInt(s||"0")/n}),o=L3(i,0);return a>o.top&&(o.top=a),a>o.bottom&&(o.bottom=a),o}function Fne(e,t,r,n,a){var i,o;n===void 0&&(n=!1),a===void 0&&(a=!1);var s;typeof t=="string"?s=r.document.querySelector(t):s=t;var l=Object.keys(e.getFontList()),u=e.scaleFactor(),d=[],f=[],h=[];if(!s)return console.error("Html table could not be found with input: ",t),{head:d,body:f,foot:h};for(var m=0;m<s.rows.length;m++){var x=s.rows[m],g=(o=(i=x==null?void 0:x.parentElement)===null||i===void 0?void 0:i.tagName)===null||o===void 0?void 0:o.toLowerCase(),y=Z7e(l,u,r,x,n,a);y&&(g==="thead"?d.push(y):g==="tfoot"?h.push(y):f.push(y))}return{head:d,body:f,foot:h}}function Z7e(e,t,r,n,a,i){for(var o=new One(n),s=0;s<n.cells.length;s++){var l=n.cells[s],u=r.getComputedStyle(l);if(a||u.display!=="none"){var d=void 0;i&&(d=Y7e(e,l,t,u,r)),o.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:d,_element:l,content:J7e(l)})}}var f=r.getComputedStyle(n);if(o.length>0&&(a||f.display!=="none"))return o}function J7e(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function Q7e(e,t,r){for(var n=0,a=[e,t,r];n<a.length;n++){var i=a[n];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function ch(e,t,r,n,a){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),o=1;o<arguments.length;o++){var s=arguments[o];if(s!=null)for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(i[l]=s[l])}return i}function Lne(e,t){var r=new d1(e),n=r.getDocumentOptions(),a=r.getGlobalOptions();Q7e(a,n,t);var i=ch({},a,n,t),o;typeof window<"u"&&(o=window);var s=eFe(a,n,t),l=tFe(a,n,t),u=rFe(r,i),d=aFe(r,i,o);return{id:t.tableId,content:d,hooks:l,styles:s,settings:u}}function eFe(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(l){if(l==="columnStyles"){var u=e[l],d=t[l],f=r[l];n.columnStyles=ch({},u,d,f)}else{var h=[e,t,r],m=h.map(function(x){return x[l]||{}});n[l]=ch({},m[0],m[1],m[2])}},i=0,o=Object.keys(n);i<o.length;i++){var s=o[i];a(s)}return n}function tFe(e,t,r){for(var n=[e,t,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,o=n;i<o.length;i++){var s=o[i];s.didParseCell&&a.didParseCell.push(s.didParseCell),s.willDrawCell&&a.willDrawCell.push(s.willDrawCell),s.didDrawCell&&a.didDrawCell.push(s.didDrawCell),s.willDrawPage&&a.willDrawPage.push(s.willDrawPage),s.didDrawPage&&a.didDrawPage.push(s.didDrawPage)}return a}function rFe(e,t){var r,n,a,i,o,s,l,u,d,f,h,m,x=L3(t.margin,40/e.scaleFactor()),g=(r=nFe(e,t.startY))!==null&&r!==void 0?r:x.top,y;t.showFoot===!0?y="everyPage":t.showFoot===!1?y="never":y=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var _;t.showHead===!0?_="everyPage":t.showHead===!1?_="never":_=(a=t.showHead)!==null&&a!==void 0?a:"everyPage";var b=(i=t.useCss)!==null&&i!==void 0?i:!1,S=t.theme||(b?"plain":"striped"),C=!!t.horizontalPageBreak,E=(o=t.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(s=t.includeHiddenHtml)!==null&&s!==void 0?s:!1,useCss:b,theme:S,startY:g,margin:x,pageBreak:(l=t.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(u=t.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(d=t.tableWidth)!==null&&d!==void 0?d:"auto",showHead:_,showFoot:y,tableLineWidth:(f=t.tableLineWidth)!==null&&f!==void 0?f:0,tableLineColor:(h=t.tableLineColor)!==null&&h!==void 0?h:200,horizontalPageBreak:C,horizontalPageBreakRepeat:E,horizontalPageBreakBehaviour:(m=t.horizontalPageBreakBehaviour)!==null&&m!==void 0?m:"afterAllRows"}}function nFe(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),a=e.pageNumber(),i=!1;if(r&&r.startPageNumber){var o=r.startPageNumber+r.pageNumber-1;i=o===a}return typeof t=="number"?t:(t==null||t===!1)&&i&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function aFe(e,t,r){var n=t.head||[],a=t.body||[],i=t.foot||[];if(t.html){var o=t.includeHiddenHtml;if(r){var s=Fne(e,t.html,r,o,t.useCss)||{};n=s.head||n,a=s.body||n,i=s.foot||n}else console.error("Cannot parse html in non browser environment")}var l=t.columns||iFe(n,a,i);return{columns:l,head:n,body:a,foot:i}}function iFe(e,t,r){var n=e[0]||t[0]||r[0]||[],a=[];return Object.keys(n).filter(function(i){return i!=="_element"}).forEach(function(i){var o=1,s;Array.isArray(n)?s=n[parseInt(i)]:s=n[i],typeof s=="object"&&!Array.isArray(s)&&(o=(s==null?void 0:s.colSpan)||1);for(var l=0;l<o;l++){var u=void 0;Array.isArray(n)?u=a.length:u=i+(l>0?"_".concat(l):"");var d={dataKey:u};a.push(d)}}),a}var h8=function(){function e(t,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=t.getDocument()}return e}(),oFe=function(e){Tne(t,e);function t(r,n,a,i,o,s){var l=e.call(this,r,n,s)||this;return l.cell=a,l.row=i,l.column=o,l.section=i.section,l}return t}(h8),sFe=function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,n,a,i,o){for(var s=0,l=r;s<l.length;s++){var u=l[s],d=new oFe(t,this,n,a,i,o),f=u(d)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],f)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var n=0,a=this.hooks.didDrawPage;n<a.length;n++){var i=a[n];i(new h8(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var n=0,a=this.hooks.willDrawPage;n<a.length;n++){var i=a[n];i(new h8(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,i){return a+i.wrappedWidth},0);return r}else{var n=this.settings.margin;return t-n.left-n.right}},e}(),jne=function(){function e(t,r,n,a,i){i===void 0&&(i=!1),this.height=0,this.raw=t,t instanceof One&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=n,this.cells=a,this.spansMultiplePages=i}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(n,a){var i;return Math.max(n,((i=r.cells[a.index])===null||i===void 0?void 0:i.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(n){var a=r.cells[n.index];return a?a.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var n=this;return t.reduce(function(a,i){var o=n.cells[i.index];if(!o)return 0;var s=r.getLineHeight(o.styles.fontSize),l=o.padding("vertical"),u=l+s;return u>a?u:a},0)},e}(),$ne=function(){function e(t,r,n){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=t;var i=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,i=(a=t.content)!==null&&a!==void 0?a:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var o=i!=null?""+i:"",s=/\r\n|\r|\n/g;this.text=o.split(s)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");n=this.x+a/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/t*r,i=n*a+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=L3(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e}(),lFe=function(){function e(t,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=n}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,n=0,a=t.allRows();n<a.length;n++){var i=a[n],o=i.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(r=Math.max(r,o.styles.cellWidth))}return r},e}();function cFe(e,t){uFe(e,t);var r=[],n=0;t.columns.forEach(function(i){var o=i.getMaxCustomCellWidth(t);o?i.width=o:(i.width=i.wrappedWidth,r.push(i)),n+=i.width});var a=t.getWidth(e.pageSize().width)-n;a&&(a=p8(r,a,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),a&&(a=p8(r,a,function(i){return i.minWidth})),a=Math.abs(a),!t.settings.horizontalPageBreak&&a>.1/e.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),fFe(t),hFe(t,e),dFe(t)}function uFe(e,t){var r=e.scaleFactor(),n=t.settings.horizontalPageBreak,a=Rne(e,t);t.allRows().forEach(function(i){for(var o=0,s=t.columns;o<s.length;o++){var l=s[o],u=i.cells[l.index];if(u){var d=t.hooks.didParseCell;t.callCellHooks(e,d,u,i,l,null);var f=u.padding("horizontal");u.contentWidth=LS(u.text,u.styles,e)+f;var h=LS(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,e);if(u.minReadableWidth=h+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||n===!0)u.contentWidth>a?(u.minWidth=a,u.wrappedWidth=a):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var m=10/r;u.minWidth=u.styles.minCellWidth||m,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),t.allRows().forEach(function(i){for(var o=0,s=t.columns;o<s.length;o++){var l=s[o],u=i.cells[l.index];if(u&&u.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,u.wrappedWidth),l.minWidth=Math.max(l.minWidth,u.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,u.minReadableWidth);else{var d=t.styles.columnStyles[l.dataKey]||t.styles.columnStyles[l.index]||{},f=d.cellWidth||d.minCellWidth;f&&typeof f=="number"&&(l.minWidth=f,l.wrappedWidth=f)}u&&(u.colSpan>1&&!l.minWidth&&(l.minWidth=u.minWidth),u.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=u.minWidth))}})}function p8(e,t,r){for(var n=t,a=e.reduce(function(m,x){return m+x.wrappedWidth},0),i=0;i<e.length;i++){var o=e[i],s=o.wrappedWidth/a,l=n*s,u=o.width+l,d=r(o),f=u<d?d:u;t-=f-o.width,o.width=f}if(t=Math.round(t*1e10)/1e10,t){var h=e.filter(function(m){return t<0?m.width>r(m):!0});h.length&&(t=p8(h,t,r))}return t}function dFe(e){for(var t={},r=1,n=e.allRows(),a=0;a<n.length;a++)for(var i=n[a],o=0,s=e.columns;o<s.length;o++){var l=s[o],u=t[l.index];if(r>1)r--,delete i.cells[l.index];else if(u)u.cell.height+=i.height,r=u.cell.colSpan,delete i.cells[l.index],u.left--,u.left<=1&&delete t[l.index];else{var d=i.cells[l.index];if(!d)continue;if(d.height=i.height,d.rowSpan>1){var f=n.length-a,h=d.rowSpan>f?f:d.rowSpan;t[l.index]={cell:d,left:h,row:i}}}}}function fFe(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],a=null,i=0,o=0,s=0;s<e.columns.length;s++){var l=e.columns[s];if(o-=1,o>1&&e.columns[s+1])i+=l.width,delete n.cells[l.index];else if(a){var u=a;delete n.cells[l.index],a=null,u.width=l.width+i}else{var u=n.cells[l.index];if(!u)continue;if(o=u.colSpan,i=0,u.colSpan>1){a=u,i+=l.width;continue}u.width=l.width+i}}}function hFe(e,t){for(var r={count:0,height:0},n=0,a=e.allRows();n<a.length;n++){for(var i=a[n],o=0,s=e.columns;o<s.length;o++){var l=s[o],u=i.cells[l.index];if(u){t.applyStyles(u.styles,!0);var d=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=t.splitTextToSize(u.text,d+1/t.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=pW(u.text,d,u.styles,t,"...");else if(u.styles.overflow==="hidden")u.text=pW(u.text,d,u.styles,t,"");else if(typeof u.styles.overflow=="function"){var f=u.styles.overflow(u.text,d);typeof f=="string"?u.text=[f]:u.text=f}u.contentHeight=u.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var h=u.contentHeight/u.rowSpan;u.rowSpan>1&&r.count*r.height<h*u.rowSpan?r={height:h,count:u.rowSpan}:r&&r.count>0&&r.height>h&&(h=r.height),h>i.height&&(i.height=h)}}r.count--}}function pW(e,t,r,n,a){return e.map(function(i){return pFe(i,t,r,n,a)})}function pFe(e,t,r,n,a){var i=1e4*n.scaleFactor();if(t=Math.ceil(t*i)/i,t>=LS(e,r,n))return e;for(;t<LS(e+a,r,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+a}function Bne(e,t){var r=new d1(e),n=mFe(t,r.scaleFactor()),a=new sFe(t,n);return cFe(r,a),r.applyStyles(r.userStyles),a}function mFe(e,t){var r=e.content,n=vFe(r.columns);if(r.head.length===0){var a=mW(n,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=mW(n,"foot");a&&r.foot.push(a)}var i=e.settings.theme,o=e.styles;return{columns:n,head:KP("head",r.head,n,o,i,t),body:KP("body",r.body,n,o,i,t),foot:KP("foot",r.foot,n,o,i,t)}}function KP(e,t,r,n,a,i){var o={},s=t.map(function(l,u){for(var d=0,f={},h=0,m=0,x=0,g=r;x<g.length;x++){var y=g[x];if(o[y.index]==null||o[y.index].left===0)if(m===0){var _=void 0;Array.isArray(l)?_=l[y.index-h-d]:_=l[y.dataKey];var b={};typeof _=="object"&&!Array.isArray(_)&&(b=(_==null?void 0:_.styles)||{});var S=yFe(e,y,u,a,n,i,b),C=new $ne(_,S,e);f[y.dataKey]=C,f[y.index]=C,m=C.colSpan-1,o[y.index]={left:C.rowSpan-1,times:m}}else m--,h++;else o[y.index].left--,m=o[y.index].times,d++}return new jne(l,u,e,f)});return s}function mW(e,t){var r={};return e.forEach(function(n){if(n.raw!=null){var a=gFe(t,n.raw);a!=null&&(r[n.dataKey]=a)}}),Object.keys(r).length>0?r:null}function gFe(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function vFe(e){return e.map(function(t,r){var n,a;return typeof t=="object"?a=(n=t.dataKey)!==null&&n!==void 0?n:r:a=r,new lFe(a,t,r)})}function yFe(e,t,r,n,a,i,o){var s=G7e(n),l;e==="head"?l=a.headStyles:e==="body"?l=a.bodyStyles:e==="foot"&&(l=a.footStyles);var u=ch({},s.table,s[e],a.styles,l),d=a.columnStyles[t.dataKey]||a.columnStyles[t.index]||{},f=e==="body"?d:{},h=e==="body"&&r%2===0?ch({},s.alternateRow,a.alternateRowStyles):{},m=H7e(i),x=ch({},m,u,h,f);return ch(x,o)}function xFe(e,t,r){var n;r===void 0&&(r={});var a=Rne(e,t),i=new Map,o=[],s=[],l=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?l=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(l=[t.settings.horizontalPageBreakRepeat]),l.forEach(function(h){var m=t.columns.find(function(x){return x.dataKey===h||x.index===h});m&&!i.has(m.index)&&(i.set(m.index,!0),o.push(m.index),s.push(t.columns[m.index]),a-=m.wrappedWidth)});for(var u=!0,d=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;d<t.columns.length;){if(i.has(d)){d++;continue}var f=t.columns[d].wrappedWidth;if(u||a>=f)u=!1,o.push(d),s.push(t.columns[d]),a-=f;else break;d++}return{colIndexes:o,columns:s,lastIndex:d-1}}function wFe(e,t){for(var r=[],n=0;n<t.columns.length;n++){var a=xFe(e,t,{start:n});a.columns.length&&(r.push(a),n=a.lastIndex)}return r}function Une(e,t){var r=t.settings,n=r.startY,a=r.margin,i={x:a.left,y:n},o=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),s=n+a.bottom+o;if(r.pageBreak==="avoid"){var l=t.body,u=l.reduce(function(h,m){return h+m.height},0);s+=u}var d=new d1(e);(r.pageBreak==="always"||r.startY!=null&&s>d.pageSize().height)&&(zne(d),i.y=a.top),t.callWillDrawPageHooks(d,i);var f=ch({},i);t.startPageNumber=d.pageNumber(),r.horizontalPageBreak?_Fe(d,t,f,i):(d.applyStyles(d.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(h){return kh(d,t,h,i,t.columns)}),d.applyStyles(d.userStyles),t.body.forEach(function(h,m){var x=m===t.body.length-1;jS(d,t,h,x,f,i,t.columns)}),d.applyStyles(d.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(h){return kh(d,t,h,i,t.columns)})),Dne(d,t,f,i),t.callEndPageHooks(d,i),t.finalY=i.y,e.lastAutoTable=t,d.applyStyles(d.userStyles)}function _Fe(e,t,r,n){var a=wFe(e,t),i=t.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(u,d){e.applyStyles(e.userStyles),d>0?H2(e,t,r,n,u.columns,!0):gW(e,t,n,u.columns),bFe(e,t,r,n,u.columns),XP(e,t,n,u.columns)});else for(var o=-1,s=a[0],l=function(){var u=o;if(s){e.applyStyles(e.userStyles);var d=s.columns;o>=0?H2(e,t,r,n,d,!0):gW(e,t,n,d),u=vW(e,t,o+1,n,d),XP(e,t,n,d)}var f=u-o;a.slice(1).forEach(function(h){e.applyStyles(e.userStyles),H2(e,t,r,n,h.columns,!0),vW(e,t,o+1,n,h.columns,f),XP(e,t,n,h.columns)}),o=u};o<t.body.length-1;)l()}function gW(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&t.head.forEach(function(i){return kh(e,t,i,r,n)})}function bFe(e,t,r,n,a){e.applyStyles(e.userStyles),t.body.forEach(function(i,o){var s=o===t.body.length-1;jS(e,t,i,s,r,n,a)})}function vW(e,t,r,n,a,i){e.applyStyles(e.userStyles),i=i??t.body.length;var o=Math.min(r+i,t.body.length),s=-1;return t.body.slice(r,o).forEach(function(l,u){var d=r+u===t.body.length-1,f=qne(e,t,d,n);l.canEntireRowFit(f,a)&&(kh(e,t,l,n,a),s=r+u)}),s}function XP(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&t.foot.forEach(function(i){return kh(e,t,i,r,n)})}function SFe(e,t,r){var n=r.getLineHeight(e.styles.fontSize),a=e.padding("vertical"),i=Math.floor((t-a)/n);return Math.max(0,i)}function AFe(e,t,r,n){var a={};e.spansMultiplePages=!0,e.height=0;for(var i=0,o=0,s=r.columns;o<s.length;o++){var l=s[o],u=e.cells[l.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var d=new $ne(u.raw,u.styles,u.section);d=ch(d,u),d.text=[];var f=SFe(u,t,n);u.text.length>f&&(d.text=u.text.splice(f,u.text.length));var h=n.scaleFactor(),m=n.getLineHeightFactor();u.contentHeight=u.getContentHeight(h,m),u.contentHeight>=t&&(u.contentHeight=t,d.styles.minCellHeight-=t),u.contentHeight>e.height&&(e.height=u.contentHeight),d.contentHeight=d.getContentHeight(h,m),d.contentHeight>i&&(i=d.contentHeight),a[l.index]=d}}var x=new jne(e.raw,-1,e.section,a,!0);x.height=i;for(var g=0,y=r.columns;g<y.length;g++){var l=y[g],d=x.cells[l.index];d&&(d.height=x.height);var u=e.cells[l.index];u&&(u.height=e.height)}return x}function kFe(e,t,r,n){var a=e.pageSize().height,i=n.settings.margin,o=i.top+i.bottom,s=a-o;t.section==="body"&&(s-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var l=t.getMinimumRowHeight(n.columns,e),u=l<r;if(l>s)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var d=t.hasRowSpan(n.columns),f=t.getMaxCellHeight(n.columns)>s;return f?(d&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(d||n.settings.rowPageBreak==="avoid")}function jS(e,t,r,n,a,i,o){var s=qne(e,t,n,i);if(r.canEntireRowFit(s,o))kh(e,t,r,i,o);else if(kFe(e,r,s,t)){var l=AFe(r,s,t,e);kh(e,t,r,i,o),H2(e,t,a,i,o),jS(e,t,l,n,a,i,o)}else H2(e,t,a,i,o),jS(e,t,r,n,a,i,o)}function kh(e,t,r,n,a){n.x=t.settings.margin.left;for(var i=0,o=a;i<o.length;i++){var s=o[i],l=r.cells[s.index];if(!l){n.x+=s.width;continue}e.applyStyles(l.styles),l.x=n.x,l.y=n.y;var u=t.callCellHooks(e,t.hooks.willDrawCell,l,r,s,n);if(u===!1){n.x+=s.width;continue}NFe(e,l,n);var d=l.getTextPos();Pne(l.text,d.x,d.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,l,r,s,n),n.x+=s.width}n.y+=r.height}function NFe(e,t,r){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof n.lineWidth=="number"){var a=Ine(n.lineWidth,n.fillColor);a&&e.rect(t.x,r.y,t.width,t.height,a)}else typeof n.lineWidth=="object"&&(n.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),EFe(e,t,r,n.lineWidth))}function EFe(e,t,r,n){var a,i,o,s;n.top&&(a=r.x,i=r.y,o=r.x+t.width,s=r.y,n.right&&(o+=.5*n.right),n.left&&(a-=.5*n.left),l(n.top,a,i,o,s)),n.bottom&&(a=r.x,i=r.y+t.height,o=r.x+t.width,s=r.y+t.height,n.right&&(o+=.5*n.right),n.left&&(a-=.5*n.left),l(n.bottom,a,i,o,s)),n.left&&(a=r.x,i=r.y,o=r.x,s=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(s+=.5*n.bottom),l(n.left,a,i,o,s)),n.right&&(a=r.x+t.width,i=r.y,o=r.x+t.width,s=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(s+=.5*n.bottom),l(n.right,a,i,o,s));function l(u,d,f,h,m){e.getDocument().setLineWidth(u),e.getDocument().line(d,f,h,m,"S")}}function qne(e,t,r,n){var a=t.settings.margin.bottom,i=t.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&r)&&(a+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-a}function H2(e,t,r,n,a,i){a===void 0&&(a=[]),i===void 0&&(i=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!i&&t.foot.forEach(function(s){return kh(e,t,s,n,a)}),t.callEndPageHooks(e,n);var o=t.settings.margin;Dne(e,t,r,n),zne(e),t.pageNumber++,n.x=o.left,n.y=o.top,r.y=o.top,t.callWillDrawPageHooks(e,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(s){return kh(e,t,s,n,a)}),e.applyStyles(e.userStyles))}function zne(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function CFe(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],a=Lne(this,n),i=Bne(this,a);return Une(this,i),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,n,a){Pne(t,r,n,a,this)},e.API.autoTableSetDefaults=function(t){return d1.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){d1.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new d1(this),i=Fne(a,t,window,r,!1),o=i.head,s=i.body,l=((n=o[0])===null||n===void 0?void 0:n.map(function(u){return u.content}))||[];return{columns:l,rows:s,data:s}}}var ZP;function f1(e,t){var r=Lne(e,t),n=Bne(e,r);Une(e,n)}try{if(typeof window<"u"&&window){var yW=window,xW=yW.jsPDF||((ZP=yW.jspdf)===null||ZP===void 0?void 0:ZP.jsPDF);xW&&CFe(xW)}}catch(e){console.error("Could not apply autoTable plugin",e)}const PFe=(e,t)=>{if(!t)try{return Lt(qr(e),"yyyy-MM-dd")}catch{try{const a=new Date(e);return isNaN(a.getTime())?(console.warn(`[calculateEstimatedDate] Could not parse baseDateStr with any known method: ${e}`),e):Lt(a,"yyyy-MM-dd")}catch{return console.warn(`[calculateEstimatedDate] Further error parsing baseDateStr: ${e}`),e}}let r;try{r=qr(e)}catch{try{if(r=new Date(e),isNaN(r.getTime()))throw new Error("Invalid base date after new Date()")}catch(a){return console.error(`[calculateEstimatedDate] Invalid baseDate: ${e}`,a),"Invalid Date"}}if(isNaN(r.getTime()))return console.error(`[calculateEstimatedDate] BaseDate is invalid after parsing attempts: ${e}`),"Invalid Date";try{const n=t.toLowerCase().split(" ");if(n.length!==2)return Lt(r,"yyyy-MM-dd");const a=parseInt(n[0],10),i=n[1].endsWith("s")?n[1]:n[1]+"s";if(isNaN(a))return Lt(r,"yyyy-MM-dd");let o={};if(i==="days")o={days:a};else if(i==="weeks")o={weeks:a};else if(i==="months")o={months:a};else if(i==="years")o={years:a};else return Lt(r,"yyyy-MM-dd");return Lt(I0e(r,o),"yyyy-MM-dd")}catch(n){console.error(`Error calculating estimated date with baseDate: ${e}, timeGap: ${t}`,n);try{return Lt(r,"yyyy-MM-dd")}catch{return"Invalid Date"}}};function TFe({open:e,onOpenChange:t,plan:r,onRefresh:n,onAddTreatment:a,onStatusChange:i,onDeletePlan:o,onTreatmentStatusChange:s,onDeleteTreatment:l,loading:u=!1,navigateToPatient:d,aiInitialSuggestion:f,onEditTreatment:h,bookedAppointments:m=[]}){var J,D,Y,Q,ie,se;const{toast:x}=yn(),g=Bo(),[y,_]=A.useState(!1),[b,S]=A.useState(!1),[C,E]=A.useState(1),O=5,[P,I]=A.useState(!1),L=te=>{if(!te||typeof te!="string")return;te=te.trim();const de=te.match(/^(\d+)\s*[-]\s*(\d+)\s+(\w+)$/i);if(de&&de.length===4)return`${de[2]} ${de[3]}`;const Z=te.match(/^(\d+)\s+(\w+)$/i);if(Z&&Z.length===3)return`${Z[1]} ${Z[2]}`;const ce=te.match(/^(\d+)$/);if(ce&&ce.length===2)return`${ce[1]} minutes`;console.warn(`[TreatmentPlanDetails] Could not parse duration: "${te}". It does not match expected formats (e.g., "X-Y units", "X units", "X"). Falling back to undefined.`)};console.log("[TreatmentPlanDetails] Rendering. Plan:",r),console.log("[TreatmentPlanDetails] aiInitialSuggestion:",f),(J=f==null?void 0:f.planDetails)!=null&&J.appointmentPlan&&(console.log("[TreatmentPlanDetails] aiInitialSuggestion.planDetails.appointmentPlan.sittingDetails:",f.planDetails.appointmentPlan.sittingDetails),console.log("[TreatmentPlanDetails] sittingDetails length:",(D=f.planDetails.appointmentPlan.sittingDetails)==null?void 0:D.length)),console.log("[TreatmentPlanDetails] plan.treatments:",r==null?void 0:r.treatments),A.useMemo(()=>{if(!(r!=null&&r.treatments))return[];const te=(C-1)*O,de=te+O;return r.treatments.slice(te,de)},[r==null?void 0:r.treatments,C]);const U=A.useMemo(()=>{if(!(r!=null&&r.treatments)||r.treatments.length===0)return[];let te=r.start_date||r.created_at;return r.treatments.map((de,Z)=>{let ce;if(Z===0)ce=Lt(qr(te),"yyyy-MM-dd");else{const oe=r.treatments[Z-1];te=PFe(te,oe.time_gap),ce=te}return{...de,estimatedVisitDate:ce}})},[r==null?void 0:r.treatments,r==null?void 0:r.start_date,r==null?void 0:r.created_at]),T=A.useMemo(()=>{if(!U)return[];const te=(C-1)*O,de=te+O;return U.slice(te,de)},[U,C]),F=A.useMemo(()=>r!=null&&r.treatments?Math.ceil(r.treatments.length/O):1,[r==null?void 0:r.treatments]),j=async()=>{if(!r)return;const te=new Fr,de=te.internal.pageSize.height,Z=te.internal.pageSize.width,ce=14;let oe=20;te.setFont("helvetica","normal");const ae=Je=>{te.setDrawColor(200,200,200),te.line(ce,Je,Z-ce,Je)};try{const Je=await fetch("https://i.postimg.cc/j2qGSXwJ/facetslogo.png");if(!Je.ok)throw new Error(`Failed to fetch logo: ${Je.status} ${Je.statusText}`);const lt=await Je.blob();if(lt.size===0)throw new Error("Fetched logo blob is empty.");const sr=new FileReader,Kt=await new Promise((xa,wa)=>{sr.onloadend=()=>{sr.result?xa(sr.result):wa(new Error("FileReader failed to read blob."))},sr.onerror=kn=>wa(kn),sr.readAsDataURL(lt)});if(!Kt.startsWith("data:image"))throw new Error("Generated Data URL is not an image.");const Tr=te.getImageProperties(Kt),Kr=12,ln=Tr.width*Kr/Tr.height,Aa=ce,tn=oe-7;te.addImage(Kt,Tr.fileType.toUpperCase(),Aa,tn,ln,Kr),te.setFontSize(20),te.setFont("helvetica","bold");const ka=Aa+ln+10,An=tn+Kr/2;te.text("Treatment Plan Report",ka,An,{baseline:"middle"}),te.setFont("helvetica","normal"),oe+=Math.max(Kr,10)+10}catch(Je){console.error("Error loading logo:",Je),te.setFontSize(20),te.setFont("helvetica","bold"),te.text("Treatment Plan Report",Z/2,oe,{align:"center"}),te.setFont("helvetica","normal"),oe+=18}ae(oe),oe+=12,te.setFontSize(14),te.setFont("helvetica","bold"),te.text("Patient & Plan Details",ce,oe),te.setFont("helvetica","normal"),oe+=10;const Ne=[["Patient Name:",r.patientName],["Plan Title:",r.title],["Plan Description:",r.description||"N/A"],["Plan Dates:",`${Lt(new Date(r.start_date),"MMM d, yyyy")}${r.end_date?` to ${Lt(new Date(r.end_date),"MMM d, yyyy")}`:""}`],["Priority:",r.priority?r.priority.charAt(0).toUpperCase()+r.priority.slice(1):"N/A"],["Status:",r.status?r.status.replace("_"," ").charAt(0).toUpperCase()+r.status.replace("_"," ").slice(1):"N/A"]];f1(te,{body:Ne,startY:oe,theme:"plain",styles:{fontSize:8,cellPadding:1.5,font:"helvetica",valign:"middle"},columnStyles:{0:{fontStyle:"bold",cellWidth:45},1:{cellWidth:"auto"}},didDrawPage:Je=>{const lt=te.getNumberOfPages();te.setFontSize(8),te.text(`Page ${Je.pageNumber} of ${lt}`,Je.settings.margin.left,de-10)}}),oe=te.lastAutoTable.finalY+10,ae(oe),oe+=12,oe>de-60&&(te.addPage(),oe=20),te.setFontSize(14),te.setFont("helvetica","bold"),te.text("Treatments / Visits",ce,oe),te.setFont("helvetica","normal"),oe+=10;const Ie=["#","Treatment / Visit","Procedures","Status","Date","Cost"],Te=[],he=70,Ge=43,mt=1.5,ht=mt*2,Pt=he-ht,ft=Ge-ht;(r.treatments||[]).forEach((Je,lt)=>{var xa;const sr=Je.scheduled_date?Lt(new Date(Je.scheduled_date),"MMM d, yyyy"):Je.completed_date?Lt(new Date(Je.completed_date),"MMM d, yyyy"):(xa=U.find(wa=>wa.id===Je.id))!=null&&xa.estimatedVisitDate?Lt(new Date(U.find(wa=>wa.id===Je.id).estimatedVisitDate),"MMM d, yyyy"):"N/A",Kt=Je.cost?jd(parseFloat(String(Je.cost))):"N/A",Tr=Je.type||Je.title||"N/A",ln=te.splitTextToSize(Tr,Pt).join(`
`),Aa=Je.description||Je.procedures||"N/A",ka=te.splitTextToSize(Aa,ft).join(`
`),An=[Je.visit_number||lt+1,ln,ka,Je.status?Je.status.charAt(0).toUpperCase()+Je.status.slice(1):"N/A",sr,Kt];Te.push(An)}),Te.length===0?(te.setFontSize(9),te.text("No treatments or visits recorded for this plan.",ce,oe),oe+=10):(f1(te,{head:[Ie],body:Te,startY:oe,theme:"grid",headStyles:{fillColor:[0,96,223],textColor:255,fontStyle:"bold",font:"helvetica",fontSize:9,valign:"middle"},styles:{fontSize:7,cellPadding:mt,font:"helvetica",valign:"middle"},columnStyles:{0:{cellWidth:6,halign:"center"},1:{cellWidth:he},2:{cellWidth:Ge},3:{cellWidth:22,halign:"center"},4:{cellWidth:16,halign:"center"},5:{cellWidth:25,halign:"right",cellPadding:{top:mt,bottom:mt,left:mt,right:2}}},didDrawPage:Je=>{const lt=te.getNumberOfPages();te.setFontSize(8),te.text(`Page ${Je.pageNumber} of ${lt}`,Je.settings.margin.left,de-10)}}),oe=te.lastAutoTable.finalY+15),ae(oe),oe+=12,oe>de-75&&(te.addPage(),oe=20),te.setFontSize(14),te.setFont("helvetica","bold"),te.text("Financial Summary",ce,oe),te.setFont("helvetica","normal"),oe+=10;const _e=["Item","Amount"],Ce=[["Total Treatment Cost:",jd(r.totalCost||0)],["Insurance Coverage (Est.):",jd(r.insurance_coverage||0)],["Patient Responsibility:",jd((r.totalCost||0)-(r.insurance_coverage||0))]],ze=Z-ce*2-50;if(f1(te,{head:[_e],body:Ce,startY:oe,theme:"grid",headStyles:{fillColor:[0,96,223],textColor:255,fontStyle:"bold",halign:"center",font:"helvetica",fontSize:9,valign:"middle"},styles:{fontSize:8,cellPadding:2,font:"helvetica",valign:"middle"},columnStyles:{0:{cellWidth:ze,fontStyle:"bold"},1:{cellWidth:50,halign:"right",cellPadding:{top:2,bottom:2,left:2,right:3}}},didDrawPage:Je=>{const lt=te.getNumberOfPages();te.setFontSize(8),te.text(`Page ${Je.pageNumber} of ${lt}`,Je.settings.margin.left,de-10)}}),oe=te.lastAutoTable.finalY+15,ae(oe),oe+=12,oe>de-60&&(te.addPage(),oe=20),te.setFontSize(14),te.setFont("helvetica","bold"),te.text("Clinical Information",ce,oe),te.setFont("helvetica","normal"),oe+=10,te.setFontSize(9),r.metadata&&r.metadata.length>0){const Je=r.metadata[0];[{label:"Clinical Considerations:",value:Je.clinical_considerations},{label:"Key Materials:",value:Je.key_materials},{label:"Post-Treatment Care:",value:Je.post_treatment_care}].forEach(sr=>{oe>de-25&&(te.addPage(),oe=20),te.setFont("helvetica","bold"),te.text(sr.label,ce,oe),oe+=6,te.setFont("helvetica","normal");const Kt=sr.value||"Not Specified",Tr=te.splitTextToSize(Kt,Z-ce*2);te.text(Tr,ce,oe),oe+=Tr.length*4.5+5})}else te.text("No additional clinical information available.",ce,oe),oe+=7;oe+=8,ae(oe),oe+=12,de-oe<50&&(te.addPage(),oe=ce);const pt=Z/2-ce-35,Re=de-35;te.setFontSize(9),te.setFont("helvetica","normal"),te.text("Doctor Signature:",ce,Re),te.line(ce+te.getTextWidth("Doctor Signature:")+5,Re+1,ce+te.getTextWidth("Doctor Signature:")+5+pt,Re+1);const qe=Z/2+15;te.text("Patient Signature:",qe,Re),te.line(qe+te.getTextWidth("Patient Signature:")+5,Re+1,qe+te.getTextWidth("Patient Signature:")+5+pt,Re+1);const Nt=te.getNumberOfPages();for(let Je=1;Je<=Nt;Je++)te.setPage(Je),te.lastAutoTable&&Je<=te.lastAutoTable.pageCount||(te.setFontSize(8),te.text(`Page ${Je} of ${Nt}`,ce,de-10));te.save(`Treatment_Plan_${r.patientName.replace(/[^a-zA-Z0-9]/g,"_")}_${r.id.substring(0,8)}.pdf`),x({title:"PDF Downloaded",description:"The treatment plan PDF has been generated and downloaded with an updated design."})},H=(te,de,Z)=>{const ce=typeof Z=="number"?Z+1:te.visit_number;let oe=null;if(te.scheduled_date&&/^\d{4}-\d{2}-\d{2}$/.test(te.scheduled_date))oe=te.scheduled_date;else if(te.estimatedVisitDate&&/^\d{4}-\d{2}-\d{2}$/.test(te.estimatedVisitDate))oe=te.estimatedVisitDate;else if(te.scheduled_date)try{oe=Lt(qr(te.scheduled_date),"yyyy-MM-dd")}catch{try{const Ne=new Date(te.scheduled_date);isNaN(Ne.getTime())||(oe=Lt(Ne,"yyyy-MM-dd"))}catch{}}return{id:te.id,treatment_plan_id:de,visit_number:ce||0,procedures:te.description||te.procedures||"",type:te.type||te.title||"",estimated_duration:te.estimated_duration,time_gap:te.time_gap,status:te.status||"pending",scheduled_date:oe,cost:te.cost,priority:te.priority||"medium"}},X=async()=>{var Z,ce;if(!((ce=(Z=f==null?void 0:f.planDetails)==null?void 0:Z.appointmentPlan)!=null&&ce.sittingDetails)||!(r!=null&&r.id)){x({title:"Error",description:"No AI suggestion details found or plan ID is missing.",variant:"destructive"});return}I(!0);let te=0;const de=f.planDetails.appointmentPlan.sittingDetails.length;try{for(const oe of f.planDetails.appointmentPlan.sittingDetails){console.log("[TreatmentPlanDetails] [handleCreateAiSuggestedTreatments] Processing sitting:",oe);const ae=oe.procedures||"No procedures detailed.",Ne=ae.substring(0,50)+(ae.length>50?"...":""),Ie=`${oe.visit||"AI Suggested Visit"} - ${Ne}`,Te=L(oe.estimatedDuration),he={type:Ie,description:ae,status:"pending",priority:"medium",cost:"0",estimated_duration:Te,time_gap:oe.timeGap||null,plan_id:r.id};await Qs.createTreatment(he),te++}x({title:"Success",description:`${te} of ${de} AI suggested treatments created. Refreshing...`}),await n()}catch(oe){console.error("Error creating AI suggested treatments:",oe),x({title:"Creation Failed",description:`Failed to create some or all AI suggested treatments. ${te} created. ${oe.message}`,variant:"destructive"}),te>0&&await n()}finally{I(!1)}};if(!r)return null;const re=A.useMemo(()=>{if(!r.start_date||!r.end_date)return null;try{const te=new Date(r.start_date),de=new Date(r.end_date);return EK(de,te,{addSuffix:!1})}catch(te){return console.error("Error calculating duration:",te),null}},[r.start_date,r.end_date]),z=A.useMemo(()=>[{id:"planned",title:"Planned",description:"Plan created"},{id:"in_progress",title:"In Progress",description:"Treatment started"},{id:"completed",title:"Completed",description:"Plan finished"}],[]),G=A.useMemo(()=>{const te=[];if(!(r!=null&&r.status))return te;const de=z.findIndex(Z=>Z.id===r.status);for(let Z=0;Z<de;Z++)te.push(z[Z].id);return r.status==="completed"&&(te.includes("planned")||te.push("planned"),te.includes("in_progress")||te.push("in_progress")),r.status,te},[r==null?void 0:r.status,z]),q=te=>{let de="bg-gray-100 text-gray-800";switch(te){case"planned":de="bg-blue-100 text-blue-800";break;case"in_progress":de="bg-yellow-100 text-yellow-800";break;case"completed":de="bg-green-100 text-green-800";break;case"cancelled":de="bg-red-100 text-red-800";break}return c("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${de}`,children:te.replace("_"," ")})},K=te=>{let de="bg-gray-100 text-gray-800";switch(te){case"low":de="bg-green-100 text-green-800";break;case"medium":de="bg-yellow-100 text-yellow-800";break;case"high":de="bg-red-100 text-red-800";break}return c("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${de}`,children:te})};return c($a,{open:e,onOpenChange:t,children:w(Ta,{className:"max-w-4xl",children:[w(Oa,{children:[c(Da,{children:"Treatment Plan Details"}),w(Yi,{children:["Created on ",Lt(new Date(r.created_at),"MMMM d, yyyy")]})]}),c("div",{className:"pr-6 py-4 max-h-[70vh] overflow-y-auto",children:w("div",{className:"space-y-6",children:[w("div",{className:"flex justify-between items-start",children:[w("div",{children:[c("h2",{className:"text-xl font-semibold",children:r.title}),c("p",{className:"text-sm text-muted-foreground",children:r.description})]}),w("div",{className:"flex items-center gap-2",children:[q(r.status),r.priority&&K(r.priority)]})]}),r.status!=="cancelled"&&c("div",{className:"my-6",children:c(YMe,{steps:z,currentStepId:r.status,completedStepIds:G})}),c("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:w("div",{className:"space-y-4",children:[w("div",{className:"flex items-center gap-2",children:[c(hi,{className:"h-5 w-5 text-muted-foreground"}),w("div",{children:[c("p",{className:"text-sm font-medium",children:"Patient"}),c("p",{children:r.patientName})]}),d&&c(Fe,{variant:"ghost",size:"sm",className:"ml-auto",onClick:()=>d(r.patient_id),children:c(oce,{className:"h-4 w-4"})})]}),w("div",{className:"flex items-center gap-2",children:[c(Lo,{className:"h-5 w-5 text-muted-foreground"}),w("div",{children:[c("p",{className:"text-sm font-medium",children:"Timeframe"}),w("p",{children:[Lt(new Date(r.start_date),"MMMM d, yyyy"),r.end_date&&` to ${Lt(new Date(r.end_date),"MMMM d, yyyy")}`]}),re&&w("p",{className:"text-sm text-muted-foreground",children:["Calculated Duration: ",re]}),((Q=(Y=f==null?void 0:f.planDetails)==null?void 0:Y.appointmentPlan)==null?void 0:Q.totalTreatmentTime)&&w("p",{className:"text-sm text-muted-foreground mt-1",children:["Suggested Total Plan Duration: ",f.planDetails.appointmentPlan.totalTreatmentTime]})]})]}),r.teeth&&r.teeth.length>0&&w("div",{className:"flex items-center gap-2",children:[c(K8,{className:"h-5 w-5 text-muted-foreground"}),w("div",{children:[c("p",{className:"text-sm font-medium",children:"Affected Teeth"}),c("p",{className:"text-sm text-muted-foreground",children:r.teeth.map(te=>te.tooth_id).sort((te,de)=>te-de).join(", ")})]})]})]})}),w("div",{className:"space-y-2",children:[w("div",{className:"flex items-center justify-between",children:[c("h3",{className:"text-lg font-medium",children:"Treatments"}),w("div",{className:"flex gap-2",children:[w(Fe,{variant:"outline",size:"sm",onClick:n,disabled:u,children:[c(Z7,{className:"h-4 w-4 mr-1"}),"Refresh"]}),w(Fe,{variant:"outline",size:"sm",onClick:a,disabled:u,children:[c(Xc,{className:"h-4 w-4 mr-1"}),"Add Treatment"]})]})]}),r.treatments&&r.treatments.length>0?w(Sr,{children:[c("div",{className:"space-y-3",children:T.map((te,de)=>c(HMe,{treatment:te,onStatusChange:s,onDelete:l,onEdit:()=>{const Z=H(te,r.id,de);h(Z)},loading:u},te.id))}),F>1&&w("div",{className:"flex justify-center items-center gap-2 mt-4",children:[w(Fe,{variant:"outline",size:"sm",onClick:()=>E(te=>Math.max(te-1,1)),disabled:C===1||u,children:[c(o4,{className:"h-4 w-4"}),"Previous"]}),w("span",{className:"text-sm text-muted-foreground",children:["Page ",C," of ",F]}),w(Fe,{variant:"outline",size:"sm",onClick:()=>E(te=>Math.min(te+1,F)),disabled:C===F||u,children:["Next",c(im,{className:"h-4 w-4"})]})]})]}):(se=(ie=f==null?void 0:f.planDetails)==null?void 0:ie.appointmentPlan)!=null&&se.sittingDetails&&f.planDetails.appointmentPlan.sittingDetails.length>0?w("div",{className:"text-center py-6 border rounded-lg",children:[c(B0,{className:"h-8 w-8 mx-auto text-primary mb-3"}),c("p",{className:"text-muted-foreground mb-4",children:"AI-generated treatment visits are available for this plan."}),w(Fe,{onClick:X,disabled:P||u,size:"sm",children:[P?c(Zn,{className:"mr-2 h-4 w-4 animate-spin"}):c(Xc,{className:"mr-2 h-4 w-4"}),"Add AI Suggested Visits"]})]}):w("div",{className:"text-center py-6 border rounded-lg",children:[c(WT,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),c("p",{className:"text-muted-foreground",children:"No treatments added yet"}),w(Fe,{variant:"outline",size:"sm",className:"mt-4",onClick:a,disabled:u,children:[c(Xc,{className:"h-4 w-4 mr-1"}),"Add First Treatment"]})]})]}),w(Dg,{defaultValue:"additionalInfo",className:"w-full",children:[w(Ig,{className:"grid w-full grid-cols-3",children:[c(ll,{value:"additionalInfo",children:"Additional Information"}),c(ll,{value:"visits",children:"Scheduled Visits"}),c(ll,{value:"financial",children:"Financial Information"})]}),c(Ei,{value:"additionalInfo",className:"space-y-4",children:w("div",{className:"border rounded-lg p-4",children:[c("h4",{className:"font-medium",children:"Clinical Information"}),w("div",{className:"mt-4 space-y-4",children:[r.metadata&&r.metadata.length>0&&r.metadata[0].clinical_considerations&&w("div",{children:[c("h5",{className:"text-sm font-medium",children:"Clinical Considerations"}),c("p",{className:"text-sm text-muted-foreground mt-1 whitespace-pre-line",children:r.metadata[0].clinical_considerations})]}),r.metadata&&r.metadata.length>0&&r.metadata[0].key_materials&&w("div",{children:[c("h5",{className:"text-sm font-medium",children:"Key Materials"}),c("p",{className:"text-sm text-muted-foreground mt-1 whitespace-pre-line",children:r.metadata[0].key_materials})]}),r.metadata&&r.metadata.length>0&&r.metadata[0].post_treatment_care&&w("div",{children:[c("h5",{className:"text-sm font-medium",children:"Post-Treatment Care"}),c("p",{className:"text-sm text-muted-foreground mt-1 whitespace-pre-line",children:r.metadata[0].post_treatment_care})]}),(!r.metadata||r.metadata.length===0||r.metadata.length>0&&!r.metadata[0].clinical_considerations&&!r.metadata[0].key_materials&&!r.metadata[0].post_treatment_care)&&c("p",{className:"text-sm text-muted-foreground",children:"No additional clinical information available."})]})]})}),c(Ei,{value:"visits",className:"space-y-4",children:w("div",{className:"border rounded-lg p-4",children:[c("div",{className:"flex justify-between items-center mb-3",children:c("h4",{className:"font-medium",children:"Scheduled Visits Overview"})}),U&&U.length>0?c("div",{className:"space-y-3",children:U.map((te,de)=>{const ce=(m||[]).find(Ne=>Ne.treatment_id===te.id&&Ne.status!=="cancelled"),oe=!!ce;let ae=null;if(oe&&ce){let Ne="N/A",Ie="N/A";const Te=ce.staff&&ce.staff.first_name&&ce.staff.last_name?`${ce.staff.first_name} ${ce.staff.last_name}`:"N/A";if(ce.start_time&&typeof ce.start_time=="string")try{const he=qr(ce.start_time);Ne=Lt(he,"MMM dd, yyyy"),Ie=Lt(he,"p")}catch(he){console.error(`[TreatmentPlanDetails] Error parsing start_time for booked appointment: ${ce.start_time}`,he)}else console.warn("[TreatmentPlanDetails] Booked appointment start_time is missing or not a string.");ae={bookedDate:Ne,bookedTime:Ie,doctorName:Te}}return w("div",{className:"border rounded-md p-4 bg-white shadow-sm hover:shadow-md transition-shadow",children:[w("div",{className:"flex justify-between items-start",children:[w("div",{children:[c("h5",{className:"font-medium text-gray-800",children:te.type||te.title||`Visit ${de+1}`}),c("p",{className:"text-xs text-gray-500 mt-0.5 truncate max-w-md",children:te.description||te.procedures||"No description"})]}),te.status&&c("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${te.status==="completed"?"bg-green-100 text-green-700":te.status==="cancelled"?"bg-red-100 text-red-700":"bg-blue-100 text-blue-700"}`,children:te.status.charAt(0).toUpperCase()+te.status.slice(1)})]}),w("div",{className:"mt-3 space-y-2 text-xs text-gray-600",children:[w("div",{className:"flex items-center",children:[c(Lo,{className:"w-3.5 h-3.5 mr-1.5 text-gray-400"}),c("strong",{children:"Est. Visit:"}),"",te.scheduled_date||te.estimatedVisitDate||"Not set"]}),te.estimated_duration&&w("div",{className:"flex items-center",children:[c(sl,{className:"w-3.5 h-3.5 mr-1.5 text-gray-400"}),c("strong",{children:"Duration:"}),"",te.estimated_duration]}),te.time_gap&&w("div",{className:"flex items-center",children:[c(Z7,{className:"w-3.5 h-3.5 mr-1.5 text-gray-400"}),c("strong",{children:"Next visit in:"}),"",te.time_gap]}),te.cost!==void 0&&te.cost!==null&&parseFloat(String(te.cost))>0&&w("div",{className:"flex items-center",children:[c(GH,{className:"w-3.5 h-3.5 mr-1.5 text-gray-400"}),c("strong",{children:"Cost:"}),"",jd(parseFloat(String(te.cost)))]})]}),c("div",{className:"mt-4 flex justify-end items-center",children:oe?w("div",{className:"flex items-center gap-4",children:[w("div",{className:"flex items-center justify-center h-9 px-3 text-sm font-medium text-white bg-green-500 rounded-md",children:[c(U0,{className:"w-3.5 h-3.5 mr-1.5"}),"Booked"]}),ae&&w("div",{className:"ml-4 p-3 bg-gray-50 rounded-md border border-blue-600 space-y-2 shadow-sm",children:[w("div",{className:"flex items-center space-x-2",children:[c(H8,{className:"h-4 w-4 text-gray-500"}),c("span",{className:"text-xs text-gray-600 font-medium",children:"Date:"}),c("span",{className:"text-xs text-green-600 font-semibold",children:ae.bookedDate})]}),w("div",{className:"flex items-center space-x-2",children:[c(sl,{className:"h-4 w-4 text-gray-500"}),c("span",{className:"text-xs text-gray-600 font-medium",children:"Time:"}),c("span",{className:"text-xs text-gray-800",children:ae.bookedTime})]}),w("div",{className:"flex items-center space-x-2",children:[c(mce,{className:"h-4 w-4 text-gray-500"}),c("span",{className:"text-xs text-gray-600 font-medium",children:"Doctor:"}),c("span",{className:"text-xs text-gray-800",children:ae.doctorName})]})]})]}):w(Fe,{variant:"outline",size:"sm",onClick:()=>{const Ne=te.scheduled_date||te.estimatedVisitDate,Ie=r.patient_id,Te=te.id,he=te.type||te.title||"New Appointment";if(!Ne){x({title:"Cannot Book Appointment",description:"This visit does not have a scheduled or estimated date yet.",variant:"destructive"});return}const Ge=new URLSearchParams({date:Ne,patientId:Ie});Te&&Ge.append("treatmentId",Te),Ge.append("description",he),g(`/appointments?${Ge.toString()}`)},disabled:u||P,children:[c(Lo,{className:"w-3.5 h-3.5 mr-1.5"}),"Book Appointment"]})})]},te.id||de)})}):w("div",{className:"text-center py-8 border rounded-lg",children:[c(Lo,{className:"h-10 w-10 mx-auto text-muted-foreground mb-3"}),c("p",{className:"text-muted-foreground",children:"No scheduled visits for this plan yet."})]})]})}),c(Ei,{value:"financial",className:"space-y-4",children:w("div",{className:"border rounded-lg p-4",children:[c("h4",{className:"font-medium",children:"Financial Summary"}),w("div",{className:"mt-4 space-y-2",children:[w("div",{className:"flex justify-between",children:[c("span",{className:"text-sm",children:"Total Treatment Cost:"}),c("span",{className:"font-medium",children:jd(r.totalCost||0)})]}),w("div",{className:"flex justify-between",children:[c("span",{className:"text-sm",children:"Insurance Coverage (Est.):"}),c("span",{className:"font-medium",children:jd(r.insurance_coverage||0)})]}),w("div",{className:"flex justify-between",children:[c("span",{className:"text-sm",children:"Patient Responsibility:"}),c("span",{className:"font-medium",children:jd((r.totalCost||0)-(r.insurance_coverage||0))})]})]})]})})]}),w(Ji,{className:"pt-4 mt-auto",children:[" ",w("div",{className:"flex gap-2 items-center",children:[r.status==="planned"&&w(Fe,{variant:"outline",onClick:()=>i(r.id,"in_progress"),disabled:u,title:"Start this treatment plan",children:[u&&!y&&!b?c(Zn,{className:"mr-2 h-4 w-4 animate-spin"}):c(sl,{className:"h-4 w-4 mr-1"}),"Start Treatment"]}),r.status==="in_progress"&&w(Fe,{variant:"outline",onClick:()=>i(r.id,"completed"),disabled:u,title:"Mark this plan as completed",children:[u&&!y&&!b?c(Zn,{className:"mr-2 h-4 w-4 animate-spin"}):c(U0,{className:"h-4 w-4 mr-1"}),"Mark Completed"]}),(r.status==="planned"||r.status==="in_progress")&&w(qz,{open:b,onOpenChange:S,children:[c(zz,{asChild:!0,children:w(Fe,{variant:"outline",disabled:u,title:"Cancel this treatment plan",children:[u&&b?c(Zn,{className:"mr-2 h-4 w-4 animate-spin"}):c(gh,{className:"h-4 w-4 mr-1"}),"Cancel Plan"]})}),w(YO,{children:[w(KO,{children:[c(ZO,{children:"Cancel Treatment Plan"}),c(JO,{children:"Are you sure you want to cancel this treatment plan? This action cannot be undone."})]}),w(XO,{children:[c(e8,{children:"No, Keep Plan"}),c(QO,{onClick:()=>{i(r.id,"cancelled"),S(!1)},children:"Yes, Cancel Plan"})]})]})]}),w(qz,{open:y,onOpenChange:_,children:[c(zz,{asChild:!0,children:w(Fe,{variant:"outline",disabled:u,title:"Delete this treatment plan",children:[u&&y?c(Zn,{className:"mr-2 h-4 w-4 animate-spin"}):c(om,{className:"h-4 w-4 mr-1"}),"Delete Plan"]})}),w(YO,{children:[w(KO,{children:[c(ZO,{children:"Delete Treatment Plan"}),c(JO,{children:"Are you sure you want to delete this treatment plan? This action cannot be undone."})]}),w(XO,{children:[c(e8,{children:"No, Keep Plan"}),c(QO,{onClick:()=>{o(r.id),_(!1)},children:"Yes, Delete Plan"})]})]})]}),r.status==="completed"&&w(Fe,{variant:"outline",onClick:()=>i(r.id,"in_progress"),disabled:u,className:"mr-auto",children:[c(QH,{className:"h-4 w-4 mr-2"}),"Reopen Plan"]}),r.status==="completed"&&w(Fe,{onClick:j,variant:"default",disabled:u,className:"pdf-download-button modern-pdf-download-button bg-[#0060df] hover:bg-[#0052c0] text-white",children:[c(Y8,{className:"h-4 w-4 mr-2"}),"Download PDF"]}),c(Fe,{variant:"outline",onClick:()=>t(!1),disabled:u,children:"Close"}),r.status!=="completed"&&r.status!=="cancelled"&&w(Fe,{onClick:()=>i(r.id,"completed"),disabled:u||!r.treatments||r.treatments.length===0,variant:"default",children:[c(U0,{className:"h-4 w-4 mr-2"}),"Mark as Completed"]})]})]})]})})]})})}function OFe({open:e,onOpenChange:t,patients:r}){const[n,a]=A.useState(""),[i,o]=A.useState(""),[s,l]=A.useState(""),[u,d]=A.useState(null),[f,h]=A.useState(""),[m,x]=A.useState(""),[g,y]=A.useState([]),[_,b]=A.useState(null),[S,C]=A.useState(!1),[E,O]=A.useState(null),[P,I]=A.useState({}),{toast:L}=yn(),U=z=>{var Pt;if(!z)return console.log("[generateSuggestions] No details provided."),[];console.log("[generateSuggestions] Processing details object:",z),console.log("[generateSuggestions] Processing details (stringified):",JSON.stringify(z));const G=Array.isArray(z.medical_conditions)?z.medical_conditions.map(ft=>String(ft).toLowerCase()):[],q=String(((Pt=z.lifestyle_habits)==null?void 0:Pt.additional_concerns)||"").toLowerCase(),K=z.dental_history,J=String((K==null?void 0:K.chief_complaint)||"").toLowerCase(),D=String((K==null?void 0:K.pain_description)||"").toLowerCase(),Y=String((K==null?void 0:K.functional_concerns)||"").toLowerCase();console.log("[generateSuggestions] Parsed medicalConditions array:",G),console.log("[generateSuggestions] Parsed lifestyleConcerns string:",q),console.log("[generateSuggestions] Parsed chiefComplaint string:",J),console.log("[generateSuggestions] Parsed painDescription string:",D),console.log("[generateSuggestions] Parsed functionalConcerns string:",Y);const Q=["pain","throbbing","sensitivity","sensitive","hot food","severe tooth pain","ache"],ie=["filling","root canal","lodgement","molar","cavity","broken","chipped","missing"],se=["gum","recession","periodontal","bleeding","swelling","pocketing","mobile"],te=["jaw","clicking","tmj","bruxism","grinding","headache","lock"],de=["stain","deposits","white teeth","cosmetic","discolored","yellow"],Z=`${J} ${D} ${Y} ${q}`;console.log("[generateSuggestions] Combined searchable text:",Z);const ce=[],oe=new Set;let ae=0;const Ne=(ft,_e,Ce)=>{let ze=Ce.split(" ")[0];const gt=Ce.match(/\b(\d{2}(?:,\s*\d{2})*)\b/);return gt?ze=`Teeth ${gt[0]}`:_e.length>0&&(ze=_e[0].charAt(0).toUpperCase()+_e[0].slice(1)),`${ft}: ${ze}`},Ie=Q.filter(ft=>Z.includes(ft)||G.includes(ft));if(Ie.length>0&&ae<3){const ft=Ne("Assess Pain",Ie,D||J);if(!oe.has(ft)){const _e=`Patient reports pain/sensitivity related to: "${D||J||"N/A"}". Relevant Medical Conditions: ${G.join(", ")||"None"}.`,Ce=`Regarding the reported pain/sensitivity (${D||J||"see condition"}), what are the likely causes? What diagnostic steps (tests, imaging) and initial pain management strategies are recommended?`;ce.push({label:ft,condition:_e,question:Ce}),oe.add(ft),ae++}}const Te=ie.filter(ft=>Z.includes(ft));if(Te.length>0&&ae<3){const ft=Ne("Evaluate Restorative",Te,J||Y);if(!oe.has(ft)){const _e=`Patient presents with potential restorative needs (${Te.join(", ")}). Chief Complaint: "${J||"N/A"}". Functional Concerns: "${Y||"N/A"}".`,Ce=`Given the potential restorative issues (${J||Y||Te.join(", ")||"see condition"}), what diagnostic evaluations are needed? What are the primary restorative treatment options to consider?`;ce.push({label:ft,condition:_e,question:Ce}),oe.add(ft),ae++}}const he=se.filter(ft=>Z.includes(ft));if(he.length>0&&ae<3){const ft=Ne("Check Perio",he,Y||J);if(!oe.has(ft)){const _e=`Patient shows signs potentially related to periodontal health (${he.join(", ")}). Chief Complaint: "${J||"N/A"}". Functional Concerns: "${Y||"N/A"}". Relevant Medical Conditions: ${G.join(", ")||"None"}.`,Ce=`Based on potential periodontal indicators (${Y||J||he.join(", ")||"see condition"}), what periodontal assessment (probing, bleeding index) is necessary? What initial hygiene or treatment steps should be considered?`;ce.push({label:ft,condition:_e,question:Ce}),oe.add(ft),ae++}}const Ge=de.filter(ft=>Z.includes(ft));if(Ge.length>0&&ae<3){const ft=Ne("Review Esthetics",Ge,Y||J);if(!oe.has(ft)){const _e=`Patient has expressed concerns or shows signs related to dental esthetics (${Ge.join(", ")}). Chief Complaint: "${J||"N/A"}". Functional Concerns: "${Y||"N/A"}".`,Ce=`Regarding the esthetic concerns (${J||Y||Ge.join(", ")||"see condition"}), what options are available (e.g., whitening, veneers, cleaning)? What factors should be considered in treatment planning?`;ce.push({label:ft,condition:_e,question:Ce}),oe.add(ft),ae++}}const mt=te.filter(ft=>Z.includes(ft));if(mt.length>0&&ae<3){const ft=Ne("Assess TMJ",mt,J||D||Y);if(!oe.has(ft)){const _e=`Patient reports symptoms potentially related to TMJ dysfunction (${mt.join(", ")}). Chief Complaint: "${J||"N/A"}". Pain Description: "${D||"N/A"}". Functional Concerns: "${Y||"N/A"}".`,Ce=`Considering the potential TMJ symptoms (${J||D||Y||mt.join(", ")||"see condition"}), how should TMJ function be assessed? What are the initial management options for potential TMJ disorders or bruxism?`;ce.push({label:ft,condition:_e,question:Ce}),oe.add(ft),ae++}}const ht=ce;return console.log("[generateSuggestions] Final generated suggestions (more exact labels):",JSON.stringify(ht,null,2)),ht};A.useEffect(()=>{(async()=>{if(!i){d(null),console.log("[fetchDetails] No patient selected, clearing details.");return}console.log("[fetchDetails] Fetching details for patient ID:",i);try{const{data:G,error:q}=await Le.from("patients").select("*").eq("id",i).single();q?(console.error("[fetchDetails] Error fetching patient details:",q),d(null)):G?(console.log("[fetchDetails] Raw data received:",G),console.log("[fetchDetails] Setting fetchedPatientDetails with full record:",G),d(G)):(console.log("[fetchDetails] No data received for patient ID:",i),d(null))}catch(G){console.error("[fetchDetails] Exception fetching patient details:",G),d(null)}})(),(!e||!i)&&I({})},[i,e]),A.useEffect(()=>{console.log("[suggestionEffect] Suggestion useEffect triggered. Patient ID:",i),console.log("[suggestionEffect] Using fetchedPatientDetails:",u);let z=[];i&&u&&u.id===i?(z=U(u),console.log("[suggestionEffect] Generated specific suggestions:",z)):console.log("[suggestionEffect] Conditions not met for generating specific suggestions."),y(z),console.log("[suggestionEffect] Set dynamicSuggestions to:",z)},[i,u]),A.useEffect(()=>{console.log("[clearFieldsEffect] Clearing fields due to patient change:",i),h(""),x(""),b(null),O(null),I({})},[i]);const T=z=>{o(z.id),l(`${z.first_name||""} ${z.last_name||""}`.trim()),a("")},F=z=>{h(z.condition),x(z.question),b(z.label)},j=()=>{x("I want three treatment plans"),b(null)},H=async()=>{var q;if(!i){L({title:"Patient Required",description:"Please select a patient",variant:"destructive",duration:3e3});return}if(Object.keys(P).length===0){L({title:"Teeth Required",description:"Please select at least one tooth.",variant:"destructive",duration:3e3});return}if(!f.trim()){L({title:"Input Required",description:"Please describe the patient's current condition.",variant:"destructive",duration:3e3});return}if(!m.trim()){L({title:"Input Required",description:"Please enter the specific question for the AI.",variant:"destructive",duration:3e3});return}C(!0),O(null);const z=new AbortController,G=setTimeout(()=>{z.abort(),console.log("Fetch request timed out after 120 seconds")},12e4);try{const K="https://n8n1.kol.tel/webhook/33d4fdab-98eb-4cc4-8a69-2ab835e76511",J=await fetch(K,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({patientId:i,toothIds:Object.keys(P).map(Number),condition:f,question:m,patientRecord:u}),signal:z.signal});clearTimeout(G);const D=await J.text();if(!J.ok)throw console.error("Error response from webhook (not ok):",J.status,D),new Error(`Webhook call failed with status: ${J.status}. Response: ${D.substring(0,200)}...`);let Y;try{Y=JSON.parse(D)}catch(ie){throw console.error("Failed to parse JSON response from webhook:",ie),console.error("Raw response text was:",D),new Error(`Invalid JSON response from AI generator. Content: ${D.substring(0,200)}...`)}console.log("Successfully parsed webhook response data:",Y);const Q=(q=Y==null?void 0:Y[0])==null?void 0:q.output;if(Q){const ie=JSON.stringify(Q);O(ie);const se=Q.response,te=JSON.stringify(se||{});L({title:"Treatment Plan Generated",description:"The AI-generated plan is now available below.",variant:"default",duration:5e3});const{data:de,error:Z}=await Le.from("ai_treatment_plans").insert({patient_id:i,title:f,description:m,content:te,created_at:new Date().toISOString()}).select("id").single();if(Z)console.error("Error saving AI treatment plan to database:",Z),L({title:"Save Failed",description:"Failed to save the main AI plan details. Check console.",variant:"destructive",duration:5e3});else if(de){console.log("AI treatment plan saved successfully with ID:",de.id);const ce=de.id,oe=Object.keys(P).map(Number);if(oe&&oe.length>0){const ae=oe.map(Ie=>({ai_treatment_plan_id:ce,tooth_id:Ie})),{error:Ne}=await Le.from("ai_treatment_plans_teeth").insert(ae);Ne?(console.error("Error linking teeth to AI treatment plan:",Ne),L({title:"Partial Save",description:"AI plan saved, but failed to link selected teeth. Check console.",variant:"default",duration:5e3})):console.log("Teeth linked to AI treatment plan successfully.")}}}else throw console.error("Could not extract output object from webhook response:",Y),new Error("Received invalid response format from AI generator (missing output).")}catch(K){console.error("Error generating treatment plan:",K);let J="Please check console for details.";K instanceof Error&&(J=K.message,K.name==="AbortError"&&(J="The request timed out after 120 seconds.")),L({title:"Generation Failed",description:`Could not trigger treatment plan generation. ${J}`,variant:"destructive",duration:5e3})}finally{clearTimeout(G),C(!1)}},X=()=>{O(null),I({}),o(""),l(""),a(""),h(""),x(""),d(null),y([]),b(null),t(!1)},re=r.filter(z=>{var D,Y;const G=`${z.first_name||""} ${z.last_name||""}`.toLowerCase(),q=((D=z.phone)==null?void 0:D.toLowerCase())||"",K=((Y=z.registration_number)==null?void 0:Y.toLowerCase())||"",J=n.toLowerCase();return G.includes(J)||q.includes(J)||K.includes(J)});return c($a,{open:e,onOpenChange:X,children:w(Ta,{className:"sm:max-w-4xl max-h-[90vh] overflow-y-auto",children:[w(Oa,{children:[w(Da,{className:"flex items-center gap-2",children:[c(B0,{className:"h-5 w-5"}),"AI Treatment Plan Generator"]}),c(Yi,{children:"Select a patient and describe the current issue to generate a treatment plan using AI."})]}),w("div",{className:"space-y-3 py-4",children:[w("div",{className:"space-y-2 relative",children:[" ",c(Xt,{htmlFor:"patient-search",children:"Select Patient"}),c(ct,{type:"search",id:"patient-search",value:n,onChange:z=>{a(z.target.value),i&&(o(""),l(""),d(null))},placeholder:s||"Search by name, phone, or registration...",className:"w-full"}),n&&w(tu,{className:"absolute z-10 w-full bg-background border rounded-md shadow-lg mt-1 max-h-60",children:[" ",c("div",{className:"p-2",children:re.length>0?re.map(z=>c(Fe,{variant:"ghost",className:"w-full justify-start text-left h-auto py-2 px-3 mb-1",onClick:()=>T(z),children:w("div",{children:[c("div",{children:`${z.first_name||""} ${z.last_name||""}`.trim()}),w("div",{className:"text-xs text-muted-foreground",children:[z.registration_number&&`Reg: ${z.registration_number}`,z.registration_number&&z.phone&&" | ",z.phone&&`Ph: ${z.phone}`,!z.registration_number&&!z.phone&&`ID: ${z.id.substring(0,6)}...`]})]})},z.id)):w("p",{className:"text-sm text-muted-foreground p-2",children:['No patients found matching "',n,'"']})})]})]}),w("div",{className:"space-y-2",children:[c(Xt,{children:"Teeth *"}),i?c(mR,{value:P,onChange:I,placeholder:"Select Affected Teeth...",disabled:!i}):c("div",{className:"flex items-center justify-center h-10 px-3 border rounded-md bg-gray-50 text-sm text-muted-foreground",children:"Select a patient to enable teeth selection."})]}),w("div",{className:"space-y-2",children:[c(Xt,{htmlFor:"condition-input",children:"Condition"}),c(Jr,{id:"condition-input",placeholder:"Describe symptoms, observations, relevant history...",rows:5,value:f,onChange:z=>h(z.target.value),disabled:!i})]}),w("div",{className:"space-y-2",children:[c(Xt,{htmlFor:"question-input",children:"Question"}),c(Jr,{id:"question-input",placeholder:"What specific question do you have based on the condition?",rows:3,value:m,onChange:z=>x(z.target.value),disabled:!i})]}),i&&g.length>0&&w("div",{className:"space-y-2 pt-2",children:[" ",c(Xt,{children:"Query Suggestions"})," ",w("div",{className:"flex flex-wrap gap-2 pt-1",children:[" ",c(Fe,{disabled:!i,variant:"ghost",size:"sm",className:`
                    h-auto px-2.5 py-0.5 rounded-full border-none
                    transition-colors duration-150 ease-in-out
                    focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-[#0118D8]
                    disabled:opacity-60 disabled:cursor-not-allowed
                    bg-[#e8eefd] text-[#1B56FD] hover:bg-[#d1dffd]
                    disabled:bg-blue-50 disabled:text-blue-300
                  `,onClick:j,children:"I want three treatment plans"},"fixed-suggestion"),g.map((z,G)=>{const q=z.label===_;return c(Fe,{disabled:!i,variant:"ghost",size:"sm",className:`
                    h-auto px-2.5 py-0.5
                    rounded-full
                    border-none
                    transition-colors duration-150 ease-in-out
                    focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-[#0118D8]
                    disabled:opacity-60 disabled:cursor-not-allowed
                   ${q?`
                    bg-[#1B56FD] /* Main blue background */
                    text-white /* White text */
                    hover:bg-[#0118D8] /* Darker blue hover */
                    disabled:bg-blue-300 disabled:text-gray-100
                  `:`
                    bg-[#e8eefd] /* Light blue background */
                    text-[#1B56FD] /* Main blue text */
                    hover:bg-[#d1dffd] /* Slightly darker light blue hover */
                    disabled:bg-blue-50 disabled:text-blue-300
                  `}`,onClick:()=>F(z),children:z.label},G)})]}),c("p",{className:"text-xs text-muted-foreground pt-1",children:"Click a suggestion to populate the fields above. The fixed suggestion only populates the question."})," "]}),i&&g.length===0&&w("div",{className:"space-y-2 pt-2",children:[c(Xt,{children:"Query Suggestions"}),c("div",{className:"flex flex-wrap gap-2 pt-1",children:c(Fe,{disabled:!i,variant:"ghost",size:"sm",className:`
                    h-auto px-2.5 py-0.5 rounded-full border-none
                    transition-colors duration-150 ease-in-out
                    focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-[#0118D8]
                    disabled:opacity-60 disabled:cursor-not-allowed
                    bg-[#e8eefd] text-[#1B56FD] hover:bg-[#d1dffd]
                    disabled:bg-blue-50 disabled:text-blue-300
                  `,onClick:j,children:"I want three treatment plans"},"fixed-suggestion-only")}),c("p",{className:"text-xs text-muted-foreground pt-1",children:"Click the suggestion to populate the question field."})]}),E&&w("div",{className:"pt-6 mt-6 border-t border-gray-200",children:[c(Xt,{className:"text-base font-medium mb-3 block text-gray-700",children:"AI Generated Plan"}),w("div",{className:"flex items-start space-x-3",children:[c("div",{className:"flex-shrink-0 w-9 h-9 rounded-full bg-indigo-100 flex items-center justify-center border border-indigo-200 shadow-sm",children:c(zH,{className:"w-5 h-5 text-indigo-600"})}),c("div",{className:"flex-1 min-w-0 overflow-hidden",children:c("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:c(tu,{className:"h-auto pr-4",children:w("div",{className:"space-y-4 text-sm text-gray-800",children:[" ",(()=>{const z=(q,K,J="mb-4")=>K?w("div",{className:J,children:[w("strong",{className:"block font-semibold text-gray-800 mb-1",children:[q,":"]}),c("p",{className:"text-gray-700 whitespace-pre-wrap",children:K})]}):null,G=q=>!q||typeof q!="string"?null:q.match(/^\s*\d+\.\s+/m)?c("ol",{className:"list-decimal list-inside pl-4 mt-1 space-y-1 text-gray-700",children:q.split(/\n?\s*\d+\.\s+/).filter(Boolean).map((K,J)=>c("li",{children:K.trim()},J))}):c("p",{className:"text-gray-700 whitespace-pre-wrap mt-1",children:q});try{const K=JSON.parse(E).response;return typeof K!="object"||K===null?(console.warn("Extracted response data is not an object:",K),c("pre",{className:"whitespace-pre-wrap text-xs",children:E})):w("div",{className:"space-y-6",children:[z("Clinical Assessment",K.clinicalAssessment),z("Evidence & Rationale",K.evidenceAndRationale),K.treatmentPlans&&Array.isArray(K.treatmentPlans)&&K.treatmentPlans.length>0&&w("div",{children:[c("h3",{className:"text-lg font-semibold text-gray-800 mb-3 border-b pb-2",children:"Treatment Plans"}),c("div",{className:"space-y-6",children:K.treatmentPlans.map((J,D)=>w("div",{className:"pl-2 border-l-4 border-indigo-200",children:[J.planName&&c("h4",{className:"text-base font-semibold text-indigo-700 mb-2",children:J.planName}),z("Recommendation",J.recommendation,"mb-2"),z("Approach",J.approach,"mb-2"),z("Benefits",J.benefits,"mb-2"),z("Considerations",J.considerations,"mb-2"),J.procedureSteps&&w("div",{className:"mb-2",children:[c("strong",{className:"block font-semibold text-gray-800 mb-1",children:"Procedure Steps:"}),G(J.procedureSteps)]})]},D))})]}),z("Follow Up",K.followUp),z("Patient Instructions",K.patientInstructions)]})}catch(q){return console.warn("Failed to parse generatedPlan (output object) as JSON, displaying raw:",q),c("pre",{className:"whitespace-pre-wrap text-xs",children:E})}})()]})})})})]})]})]}),w(Ji,{children:[c(Fe,{variant:"outline",onClick:X,children:"Cancel"}),c(Fe,{onClick:H,disabled:!i||Object.keys(P).length===0||!f.trim()||!m.trim(),className:`ai-insights-button ${S?"opacity-100 cursor-not-allowed":""}`,style:S?{opacity:1}:{},children:S?w(Sr,{children:[c(B0,{className:"mr-2 h-4 w-4 animate-spin"}),"AI is thinking... (this may take up to 2 minutes)"]}):w(Sr,{children:[c(B0,{className:"mr-2 h-4 w-4"}),"Generate Plan"]})})]})]})})}function DFe(){const e=Bo(),{toast:t}=yn(),{loading:r,patients:n,selectedPlan:a,setSelectedPlan:i,treatmentPlansSubscribed:o,updatingTreatmentStatus:s,updatingPlanStatus:l,filterPlans:u,refreshSelectedPlan:d,createTreatmentPlan:f,createTreatment:h,handleUpdateTreatmentStatus:m,handleUpdatePlanStatus:x,deleteTreatment:g,deletePlan:y,updateTreatmentDetails:_}=FIe(),[b,S]=A.useState(""),[C,E]=A.useState(null),[O,P]=A.useState(null),[I,L]=A.useState(!1),[U,T]=A.useState(!1),[F,j]=A.useState(!1),[H,X]=A.useState(!1),[re,z]=A.useState(null),[G,q]=A.useState([]),[K,J]=A.useState(null),[D,Y]=A.useState(!1),Q=async(Ne,Ie)=>{try{const Te=await f(Ne,Ie);L(!1),i(Te),console.log("[TreatmentPlansPage] handleCreatePlan - newPlan object:",Te),console.log("[TreatmentPlansPage] handleCreatePlan - newPlan.originalAISuggestion:",Te==null?void 0:Te.originalAISuggestion),Te!=null&&Te.originalAISuggestion?z(Te.originalAISuggestion):z(null),T(!0)}catch(Te){console.error("Error creating plan:",Te)}},ie=async Ne=>{try{await h(Ne),j(!1),await d()}catch(Ie){console.error("Error adding treatment:",Ie)}},se=async Ne=>{if(!K||!K.id){t({title:"Error",description:"No treatment selected for update.",variant:"destructive"});return}try{const Ie={...Ne,plan_id:Ne.plan_id||K.plan_id};await _(K.id,Ie),Y(!1),J(null)}catch(Ie){console.error("Error updating treatment:",Ie)}},te=Ne=>{J(Ne),Y(!0)},de=async Ne=>{i(Ne),T(!0);try{const Ie=await RP(Ne.id);q(Ie)}catch(Ie){console.error("Error fetching booked appointment details:",Ie),q([])}},Z=()=>{j(!0)},ce=Ne=>{e(`/patients/${Ne}`)},oe=(Ne,Ie)=>x(Ne,Ie),ae=(Ne,Ie)=>m(Ne,Ie);return w("div",{className:"space-y-6",children:[c(Sa,{heading:"Treatment Plans",text:"Manage dental treatment plans and procedures",children:w("div",{className:"flex items-center gap-4",children:[w("div",{className:"relative flex-1",children:[c(l4,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),c(ct,{placeholder:"Search treatment plans...",className:"pl-8",value:b,onChange:Ne=>S(Ne.target.value)})]}),w(zr,{value:C||"all",onValueChange:Ne=>E(Ne==="all"?null:Ne),children:[c($r,{className:"w-[220px]",children:c(Wr,{placeholder:"Filter by patient"})}),w(Br,{children:[c(_t,{value:"all",children:"All Patients"}),n.map(Ne=>w(_t,{value:Ne.id,children:[Ne.first_name," ",Ne.last_name]},Ne.id))]})]}),w(zr,{value:O||"all",onValueChange:Ne=>P(Ne==="all"?null:Ne),children:[c($r,{className:"w-[180px]",children:c(Wr,{placeholder:"Filter by status"})}),w(Br,{children:[c(_t,{value:"all",children:"All Statuses"}),c(_t,{value:"planned",children:"Planned"}),c(_t,{value:"in_progress",children:"In Progress"}),c(_t,{value:"completed",children:"Completed"}),c(_t,{value:"cancelled",children:"Cancelled"})]})]}),w(Fe,{className:"ai-insights-button",onClick:()=>X(!0),children:[c(Fce,{className:"h-4 w-4 mr-2"}),"AI Generate Plan"]}),w(Fe,{onClick:()=>L(!0),children:[c(Xc,{className:"h-4 w-4 mr-2"}),"New Treatment Plan"]})]})}),c("div",{className:"flex items-center justify-end",children:w("div",{className:"flex items-center space-x-1 text-sm text-muted-foreground",children:[c("div",{className:`h-2 w-2 rounded-full ${o?"bg-green-500":"bg-red-500"}`}),w("span",{children:["Real-time updates ",o?"active":"inactive"]})]})}),r&&c("div",{className:"flex justify-center my-12",children:w("div",{className:"flex flex-col items-center gap-2",children:[c(Zn,{className:"h-8 w-8 animate-spin text-primary"}),c("p",{className:"text-muted-foreground",children:"Loading treatment plans..."})]})}),!r&&u(b,C,O).length===0&&w("div",{className:"text-center py-12 border rounded-lg",children:[c(eG,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),c("h3",{className:"text-lg font-medium",children:"No Treatment Plans Found"}),c("p",{className:"text-muted-foreground mt-1 mb-6",children:"Create your first treatment plan to get started"}),w(Fe,{onClick:()=>L(!0),children:[c(Xc,{className:"h-4 w-4 mr-2"}),"New Treatment Plan"]})]}),c("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u(b,C,O).map(Ne=>c(LIe,{plan:Ne,onViewDetails:de},Ne.id))}),c(BIe,{open:I,onOpenChange:L,onSubmit:Q,patients:n,loading:r}),U&&a&&c(TFe,{open:U,onOpenChange:Ne=>{T(Ne),Ne?Ne&&a&&(async()=>{try{const Te=await RP(a.id);q(Te)}catch(Te){console.error("[TreatmentPlansPage] fetchDetails: Error fetching booked appointment details on dialog open:",Te),q([])}})():q([])},plan:a,onRefresh:async()=>{if(await d(),a)try{const Ne=await RP(a.id);q(Ne)}catch(Ne){console.error("Error fetching booked appointment details after refresh:",Ne),q([])}},onAddTreatment:Z,onStatusChange:oe,onDeletePlan:async Ne=>{await y(Ne),T(!1)},onTreatmentStatusChange:ae,onDeleteTreatment:g,onEditTreatment:te,loading:r||l||s,navigateToPatient:ce,aiInitialSuggestion:re,bookedAppointments:G},a.id),a&&c(Uz,{open:F,onOpenChange:j,onSubmit:ie,planId:a.id,loading:r}),a&&K&&c(Uz,{open:D,onOpenChange:Ne=>{Ne||J(null),Y(Ne)},onSubmit:se,planId:a.id,initialData:K,loading:r,isEditMode:!0}),c(OFe,{open:H,onOpenChange:X,patients:n})]})}var j3="Switch",[IFe,zJe]=Qi(j3),[RFe,MFe]=IFe(j3),Wne=A.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:o,disabled:s,value:l="on",onCheckedChange:u,form:d,...f}=e,[h,m]=A.useState(null),x=Vr(t,S=>m(S)),g=A.useRef(!1),y=h?d||!!h.closest("form"):!0,[_,b]=ul({prop:a,defaultProp:i??!1,onChange:u,caller:j3});return w(RFe,{scope:r,checked:_,disabled:s,children:[c(pr.button,{type:"button",role:"switch","aria-checked":_,"aria-required":o,"data-state":Yne(_),"data-disabled":s?"":void 0,disabled:s,value:l,...f,ref:x,onClick:qt(e.onClick,S=>{b(C=>!C),y&&(g.current=S.isPropagationStopped(),g.current||S.stopPropagation())})}),y&&c(Gne,{control:h,bubbles:!g.current,name:n,value:l,checked:_,required:o,disabled:s,form:d,style:{transform:"translateX(-100%)"}})]})});Wne.displayName=j3;var Vne="SwitchThumb",Hne=A.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=MFe(Vne,r);return c(pr.span,{"data-state":Yne(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});Hne.displayName=Vne;var FFe="SwitchBubbleInput",Gne=A.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const o=A.useRef(null),s=Vr(o,i),l=T4(r),u=m4(t);return A.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==r&&m){const x=new Event("click",{bubbles:n});m.call(d,r),d.dispatchEvent(x)}},[l,r,n]),c("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:s,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Gne.displayName=FFe;function Yne(e){return e?"checked":"unchecked"}var Kne=Wne,LFe=Hne;const C2=A.forwardRef(({className:e,...t},r)=>c(Kne,{className:Rt("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:c(LFe,{className:Rt("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));C2.displayName=Kne.displayName;function jFe(){const[e,t]=A.useState(null),[r,n]=A.useState([]),[a,i]=A.useState(!0),[o,s]=A.useState(!1),[l,u]=A.useState(!1),[d,f]=A.useState({first_name:"",last_name:"",email:"",role:"doctor",specialization:"",working_hours:JSON.stringify([{day:"monday",start:"09:00",end:"17:00"},{day:"tuesday",start:"09:00",end:"17:00"},{day:"wednesday",start:"09:00",end:"17:00"},{day:"thursday",start:"09:00",end:"17:00"},{day:"friday",start:"09:00",end:"17:00"}])}),[h,m]=A.useState([]),[x,g]=A.useState(!0),[y,_]=A.useState(!1),[b,S]=A.useState({staff_id:"",start_time:"",end_time:"",reason:""}),[C,E]=A.useState(null),[O,P]=A.useState(null),[I,L]=A.useState(!1);A.useEffect(()=>{Promise.all([F(),U(),T()])},[]),A.useEffect(()=>{const K=localStorage.getItem("customClinicLogo");K&&E(K)},[]);const U=async()=>{try{const K=await zt.staff.getAll();n(K)}catch(K){console.error("Error fetching staff:",K)}},T=async()=>{g(!0);try{const K=await zt.absences.getAll();m(K||[])}catch(K){console.error("Error fetching absences:",K),Bi({title:"Error",description:"Could not fetch staff absences.",variant:"destructive"})}finally{g(!1)}},F=async()=>{try{const K=await zt.settings.get();t(K),i(!1)}catch(K){console.error("Error fetching settings:",K),i(!1)}},j=async()=>{if(e){Bi({title:"Saving changes...",description:"Please wait while we update your settings."}),s(!0);try{await zt.settings.update(e),Bi({title:"Settings saved successfully",description:"All your changes have been updated.",variant:"default"})}catch(K){console.error("Error saving settings:",K),Bi({title:"Error",description:"Failed to save settings. Please try again.",variant:"destructive"})}finally{s(!1)}}},H=(K,J,D)=>{if(!e)return;const Y=[...e.working_hours],Q=Y.findIndex(ie=>ie.day===K);Q!==-1&&(Y[Q]={...Y[Q],[J]:D},t({...e,working_hours:Y}))},X=async()=>{try{await zt.staff.create(d),u(!1),U(),f({first_name:"",last_name:"",email:"",role:"doctor",specialization:"",working_hours:JSON.stringify([{day:"monday",start:"09:00",end:"17:00"},{day:"tuesday",start:"09:00",end:"17:00"},{day:"wednesday",start:"09:00",end:"17:00"},{day:"thursday",start:"09:00",end:"17:00"},{day:"friday",start:"09:00",end:"17:00"}])}),Bi({title:"Staff member created",description:"New staff member has been added successfully."})}catch(K){console.error("Error creating staff:",K),Bi({title:"Error",description:"Failed to create staff member. Please try again.",variant:"destructive"})}},re=async()=>{if(!b.staff_id||!b.start_time||!b.end_time){Bi({title:"Missing Information",description:"Please select staff, start time, and end time.",variant:"destructive"});return}const K=new Date(b.start_time).toISOString(),J=new Date(b.end_time).toISOString();if(new Date(J)<=new Date(K)){Bi({title:"Invalid Dates",description:"End time must be after start time.",variant:"destructive"});return}try{await zt.absences.create({...b,start_time:K,end_time:J}),_(!1),T(),S({staff_id:"",start_time:"",end_time:"",reason:""}),Bi({title:"Absence Added",description:"Staff absence recorded successfully."})}catch(D){console.error("Error creating absence:",D),Bi({title:"Error",description:`Failed to add absence: ${D instanceof Error?D.message:"Unknown error"}`,variant:"destructive"})}},z=async K=>{if(confirm("Are you sure you want to delete this absence record?"))try{await zt.absences.delete(K),T(),Bi({title:"Absence Deleted",description:"The absence record has been removed."})}catch(J){console.error("Error deleting absence:",J),Bi({title:"Error",description:"Failed to delete absence.",variant:"destructive"})}},G=K=>{if(K.target.files&&K.target.files[0]){const J=K.target.files[0];if(J.size>1*1024*1024){Bi({title:"File Too Large",description:"Please upload a logo smaller than 1MB.",variant:"destructive"});return}P(J);const D=new FileReader;D.onloadend=()=>{E(D.result),L(!1)},D.readAsDataURL(J)}},q=()=>{C?(localStorage.setItem("customClinicLogo",C),Bi({title:"Logo Saved",description:"Your new clinic logo has been saved.",variant:"default"}),L(!0)):Bi({title:"No Logo Selected",description:"Please select a logo file first.",variant:"destructive"})};return a?c("div",{children:"Loading settings..."}):e?w(Sr,{children:[w("div",{className:"space-y-6",children:[c("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:w("div",{className:"p-6",children:[w("div",{className:"flex items-center",children:[c("div",{className:"flex-shrink-0",children:c("div",{className:"h-12 w-12 bg-blue-100 rounded-lg flex items-center justify-center",children:c(uce,{className:"h-6 w-6 text-blue-600"})})}),w("div",{className:"ml-4",children:[c("h2",{className:"text-lg font-medium text-gray-900",children:"Clinic Information"}),c("p",{className:"mt-1 text-sm text-gray-500",children:"Manage your clinic details and contact information"})]})]}),w("div",{className:"mt-6 space-y-4",children:[w("div",{className:"space-y-2",children:[c(Xt,{children:"Clinic Name"}),c(ct,{value:e.name,onChange:K=>t({...e,name:K.target.value})})]}),w("div",{className:"space-y-2",children:[c(Xt,{children:"Address"}),c(ct,{value:e.address,onChange:K=>t({...e,address:K.target.value})})]}),w("div",{className:"grid grid-cols-2 gap-4",children:[w("div",{className:"space-y-2",children:[c(Xt,{children:"Phone"}),c(ct,{value:e.phone,onChange:K=>t({...e,phone:K.target.value})})]}),w("div",{className:"space-y-2",children:[c(Xt,{children:"Email"}),c(ct,{type:"email",value:e.email,onChange:K=>t({...e,email:K.target.value})})]})]}),w("div",{className:"space-y-2",children:[c(Xt,{children:"Website"}),c(ct,{value:e.website,onChange:K=>t({...e,website:K.target.value})})]}),w("div",{className:"mt-6 space-y-4",children:[w("div",{children:[c(Xt,{htmlFor:"logo-upload",className:"block text-sm font-medium text-gray-700",children:"Clinic Logo"}),c("p",{className:"text-xs text-gray-500 mt-1 mb-2",children:"Recommended aspect ratio: 4:1 (e.g., 200x50 pixels). Max file size: 1MB."}),c("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md hover:border-blue-400 transition-colors duration-150 ease-in-out",children:w("div",{className:"space-y-1 text-center",children:[!C&&c("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:c("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),C&&c("div",{className:"my-2 flex justify-center",children:c("img",{src:C,alt:"Clinic Logo Preview",className:"max-h-24 max-w-[250px] object-contain rounded-md shadow-md"})}),w("div",{className:"flex text-sm text-gray-600 justify-center",children:[w("label",{htmlFor:"logo-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blue-500",children:[c("span",{children:C?"Change logo":"Upload a file"}),c("input",{id:"logo-upload",name:"logo-upload",type:"file",className:"sr-only",accept:"image/png, image/jpeg, image/svg+xml",onChange:G})]}),!C&&c("p",{className:"pl-1",children:"or drag and drop"})]}),c("p",{className:"text-xs text-gray-500",children:"PNG, JPG, SVG up to 1MB"})]})})]}),O&&c("div",{className:"mt-3 flex justify-center",children:c(Fe,{onClick:q,className:"min-w-[120px]",disabled:I,children:I?"Logo Saved!":"Save Logo"})})]})]})]})}),c("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:w("div",{className:"p-6",children:[w("div",{className:"flex items-center",children:[c("div",{className:"flex-shrink-0",children:c("div",{className:"h-12 w-12 bg-blue-100 rounded-lg flex items-center justify-center",children:c(sl,{className:"h-6 w-6 text-blue-600"})})}),w("div",{className:"ml-4",children:[c("h2",{className:"text-lg font-medium text-gray-900",children:"Working Hours"}),c("p",{className:"mt-1 text-sm text-gray-500",children:"Set your clinic's operating hours"})]})]}),c("div",{className:"mt-6",children:c("div",{className:"space-y-4",children:e.working_hours.map(K=>w("div",{className:"flex items-center justify-between",children:[w("div",{className:"flex items-center gap-4",children:[c(C2,{checked:K.is_open,onCheckedChange:J=>H(K.day,"is_open",J)}),c("span",{className:"text-sm font-medium capitalize",children:K.day})]}),w("div",{className:"flex items-center gap-2",children:[c(ct,{type:"time",value:K.start,onChange:J=>H(K.day,"start",J.target.value),disabled:!K.is_open,className:"w-32"}),c("span",{className:"text-sm text-muted-foreground",children:"to"}),c(ct,{type:"time",value:K.end,onChange:J=>H(K.day,"end",J.target.value),disabled:!K.is_open,className:"w-32"})]})]},K.day))})})]})}),c("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:w("div",{className:"p-6",children:[w("div",{className:"flex items-center",children:[c("div",{className:"flex-shrink-0",children:c("div",{className:"h-12 w-12 bg-blue-100 rounded-lg flex items-center justify-center",children:c(i4,{className:"h-6 w-6 text-blue-600"})})}),w("div",{className:"ml-4",children:[c("h2",{className:"text-lg font-medium text-gray-900",children:"Notification Preferences"}),c("p",{className:"mt-1 text-sm text-gray-500",children:"Configure your notification settings"})]})]}),w("div",{className:"mt-6 space-y-6",children:[w("div",{className:"flex items-center justify-between",children:[w("div",{className:"space-y-0.5",children:[c(Xt,{children:"Email Notifications"}),c("p",{className:"text-sm text-muted-foreground",children:"Receive notifications via email"})]}),c(C2,{checked:e.notification_preferences.email_notifications,onCheckedChange:K=>t({...e,notification_preferences:{...e.notification_preferences,email_notifications:K}})})]}),w("div",{className:"flex items-center justify-between",children:[w("div",{className:"space-y-0.5",children:[c(Xt,{children:"SMS Notifications"}),c("p",{className:"text-sm text-muted-foreground",children:"Receive notifications via SMS"})]}),c(C2,{checked:e.notification_preferences.sms_notifications,onCheckedChange:K=>t({...e,notification_preferences:{...e.notification_preferences,sms_notifications:K}})})]}),w("div",{className:"flex items-center justify-between",children:[w("div",{className:"space-y-0.5",children:[c(Xt,{children:"Appointment Reminders"}),c("p",{className:"text-sm text-muted-foreground",children:"Send reminders for upcoming appointments"})]}),c(C2,{checked:e.notification_preferences.appointment_reminders,onCheckedChange:K=>t({...e,notification_preferences:{...e.notification_preferences,appointment_reminders:K}})})]}),w("div",{className:"space-y-2",children:[c(Xt,{children:"Reminder Time"}),w(zr,{value:e.notification_preferences.reminder_time,onValueChange:K=>t({...e,notification_preferences:{...e.notification_preferences,reminder_time:K}}),children:[c($r,{children:c(Wr,{})}),w(Br,{children:[c(_t,{value:"1h",children:"1 hour before"}),c(_t,{value:"2h",children:"2 hours before"}),c(_t,{value:"24h",children:"24 hours before"}),c(_t,{value:"48h",children:"48 hours before"})]})]})]})]})]})}),c("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:w("div",{className:"p-6",children:[w("div",{className:"flex items-center justify-between",children:[w("div",{className:"flex items-center",children:[c("div",{className:"flex-shrink-0",children:c("div",{className:"h-12 w-12 bg-blue-100 rounded-lg flex items-center justify-center",children:c(c4,{className:"h-6 w-6 text-blue-600"})})}),w("div",{className:"ml-4",children:[c("h2",{className:"text-lg font-medium text-gray-900",children:"Staff Management"}),c("p",{className:"mt-1 text-sm text-gray-500",children:"Manage clinic staff and their roles"})]})]}),w(Fe,{onClick:()=>u(!0),children:[c(Xc,{className:"h-4 w-4 mr-2"}),"Add Staff Member"]})]}),c("div",{className:"mt-6 space-y-4",children:r.map(K=>w("div",{className:"flex items-center justify-between p-4 rounded-lg border",children:[w("div",{className:"flex items-center space-x-4",children:[c("div",{className:"h-10 w-10 rounded-full bg-gray-100 flex items-center justify-center",children:c(hi,{className:"h-5 w-5 text-gray-600"})}),w("div",{children:[w("h3",{className:"font-medium",children:[K.first_name," ",K.last_name]}),w("div",{className:"flex items-center text-sm text-gray-500 space-x-4",children:[c("span",{className:"capitalize",children:K.role}),K.specialization&&w("span",{children:[" ",K.specialization]})]})]})]}),w("div",{className:"flex items-center space-x-2",children:[w(Fe,{variant:"ghost",size:"sm",children:[c(s4,{className:"h-4 w-4 mr-2"}),K.email]}),c(Fe,{variant:"destructive",size:"sm",onClick:()=>{confirm("Are you sure you want to remove this staff member?")},children:c(om,{className:"h-4 w-4"})})]})]},K.id))})]})}),c("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:w("div",{className:"p-6",children:[w("div",{className:"flex items-center justify-between",children:[w("div",{className:"flex items-center",children:[c("div",{className:"flex-shrink-0",children:w("div",{className:"h-12 w-12 bg-orange-100 rounded-lg flex items-center justify-center",children:[c(sl,{className:"h-6 w-6 text-orange-600"})," "]})}),w("div",{className:"ml-4",children:[c("h2",{className:"text-lg font-medium text-gray-900",children:"Staff Absences"}),c("p",{className:"mt-1 text-sm text-gray-500",children:"Manage scheduled staff absences"})]})]}),w(Fe,{onClick:()=>{S({staff_id:"",start_time:"",end_time:"",reason:""}),_(!0)},children:[c(Xc,{className:"h-4 w-4 mr-2"}),"Add Absence"]})]}),w("div",{className:"mt-6 space-y-4",children:[x&&c("div",{children:"Loading absences..."}),!x&&h.length===0&&c("p",{className:"text-sm text-gray-500",children:"No absences recorded."}),!x&&h.map(K=>{var J,D;return w("div",{className:"flex items-center justify-between p-4 rounded-lg border",children:[w("div",{className:"flex items-center space-x-4",children:[c("div",{className:"h-10 w-10 rounded-full bg-gray-100 flex items-center justify-center",children:c(hi,{className:"h-5 w-5 text-gray-600"})}),w("div",{children:[w("h3",{className:"font-medium",children:[((J=K.staff)==null?void 0:J.first_name)||"Unknown"," ",((D=K.staff)==null?void 0:D.last_name)||"Staff"]}),w("p",{className:"text-sm text-gray-500",children:[Lt(qr(K.start_time),"MMM d, yyyy h:mm a")," - ",Lt(qr(K.end_time),"MMM d, yyyy h:mm a")]}),K.reason&&w("p",{className:"text-xs text-gray-400",children:["Reason: ",K.reason]})]})]}),c(Fe,{variant:"destructive",size:"sm",onClick:()=>z(K.id),children:c(om,{className:"h-4 w-4"})})]},K.id)})]})]})}),c("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:w("div",{className:"p-6",children:[w("div",{className:"flex items-center",children:[c("div",{className:"flex-shrink-0",children:c("div",{className:"h-12 w-12 bg-blue-100 rounded-lg flex items-center justify-center",children:c(Dce,{className:"h-6 w-6 text-blue-600"})})}),w("div",{className:"ml-4",children:[c("h2",{className:"text-lg font-medium text-gray-900",children:"Security Settings"}),c("p",{className:"mt-1 text-sm text-gray-500",children:"Manage your security preferences and access controls"})]})]}),w("div",{className:"mt-6",children:[c(Fe,{className:"w-full",children:"Change Password"}),c("div",{className:"mt-4",children:w("div",{className:"relative flex items-start",children:[c("div",{className:"flex items-center h-5",children:c("input",{id:"2fa",name:"2fa",type:"checkbox",className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),w("div",{className:"ml-3 text-sm",children:[c("label",{htmlFor:"2fa",className:"font-medium text-gray-700",children:"Enable Two-Factor Authentication"}),c("p",{className:"text-gray-500",children:"Add an extra layer of security to your account"})]})]})})]})]})}),c("div",{className:"flex justify-end",children:c(Fe,{onClick:j,disabled:o,className:"min-w-[120px]",children:o?"Saving...":"Save Changes"})})]}),c($a,{open:l,onOpenChange:u,children:w(Ta,{children:[c(Oa,{children:c(Da,{children:"Add Staff Member"})}),w("div",{className:"space-y-4",children:[w("div",{className:"grid grid-cols-2 gap-4",children:[w("div",{className:"space-y-2",children:[c(Xt,{children:"First Name"}),c(ct,{value:d.first_name,onChange:K=>f({...d,first_name:K.target.value})})]}),w("div",{className:"space-y-2",children:[c(Xt,{children:"Last Name"}),c(ct,{value:d.last_name,onChange:K=>f({...d,last_name:K.target.value})})]})]}),w("div",{className:"space-y-2",children:[c(Xt,{children:"Email"}),c(ct,{type:"email",value:d.email,onChange:K=>f({...d,email:K.target.value})})]}),w("div",{className:"space-y-2",children:[c(Xt,{children:"Role"}),w(zr,{value:d.role,onValueChange:K=>f({...d,role:K}),children:[c($r,{children:c(Wr,{})}),w(Br,{children:[c(_t,{value:"doctor",children:"Doctor"}),c(_t,{value:"assistant",children:"Assistant"}),c(_t,{value:"receptionist",children:"Receptionist"})]})]})]}),d.role==="doctor"&&w("div",{className:"space-y-2",children:[c(Xt,{children:"Specialization"}),c(ct,{value:d.specialization,onChange:K=>f({...d,specialization:K.target.value}),placeholder:"e.g., Orthodontics, Periodontics"})]})]}),w(Ji,{children:[c(Fe,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),c(Fe,{onClick:X,children:"Add Staff Member"})]})]})}),c($a,{open:y,onOpenChange:_,children:w(Ta,{children:[c(Oa,{children:c(Da,{children:"Add Staff Absence"})}),w("div",{className:"space-y-4 py-4",children:[w("div",{className:"space-y-2",children:[c(Xt,{htmlFor:"absence-staff",children:"Staff Member"}),w(zr,{value:b.staff_id,onValueChange:K=>S({...b,staff_id:K}),children:[c($r,{id:"absence-staff",children:c(Wr,{placeholder:"Select staff member"})}),c(Br,{children:r.map(K=>w(_t,{value:K.id,children:[K.first_name," ",K.last_name," (",K.role,")"]},K.id))})]})]}),w("div",{className:"grid grid-cols-2 gap-4",children:[w("div",{className:"space-y-2",children:[c(Xt,{htmlFor:"absence-start",children:"Start Time"}),c(ct,{id:"absence-start",type:"datetime-local",value:b.start_time,onChange:K=>S({...b,start_time:K.target.value})})]}),w("div",{className:"space-y-2",children:[c(Xt,{htmlFor:"absence-end",children:"End Time"}),c(ct,{id:"absence-end",type:"datetime-local",value:b.end_time,onChange:K=>S({...b,end_time:K.target.value})})]})]}),w("div",{className:"space-y-2",children:[c(Xt,{htmlFor:"absence-reason",children:"Reason (Optional)"}),c(ct,{id:"absence-reason",value:b.reason,onChange:K=>S({...b,reason:K.target.value}),placeholder:"e.g., Vacation, Conference"})]})]}),w(Ji,{children:[c(Fe,{variant:"outline",onClick:()=>_(!1),children:"Cancel"}),c(Fe,{onClick:re,children:"Add Absence"})]})]})})]}):c("div",{children:"No settings found"})}var $Fe="Separator",wW="horizontal",BFe=["horizontal","vertical"],Xne=A.forwardRef((e,t)=>{const{decorative:r,orientation:n=wW,...a}=e,i=UFe(n)?n:wW,s=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return c(pr.div,{"data-orientation":i,...s,...a,ref:t})});Xne.displayName=$Fe;function UFe(e){return BFe.includes(e)}var Zne=Xne;const am=A.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},a)=>c(Zne,{ref:a,decorative:r,orientation:t,className:Rt("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));am.displayName=Zne.displayName;function qFe(){var b,S,C,E;const{user:e}=si(),{toast:t}=yn(),[r,n]=A.useState(null),[a,i]=A.useState(!0),[o,s]=A.useState(!1),[l,u]=A.useState(!1),[d,f]=A.useState(null),[h,m]=A.useState(null),x=A.useCallback(async()=>{if(e){i(!0);try{const{data:O,error:P,status:I}=await Le.from("profiles").select("id, first_name, last_name, mobile_number, address, date_of_birth, gender, avatar_url").eq("id",e.id).single();if(P&&I!==406)throw P;O?(n({...O,mobile_number:O.mobile_number||null,address:O.address||null,date_of_birth:O.date_of_birth||null,gender:O.gender||null,avatar_url:O.avatar_url||null,current_plan:"Pro Plan",payment_method_details:"Visa ending in 4242"}),m(O.avatar_url||null)):(n({id:e.id,first_name:"",last_name:"",mobile_number:null,address:null,date_of_birth:null,gender:null,avatar_url:null,current_plan:"Free Plan",payment_method_details:"N/A"}),m(null))}catch(O){console.error("Error fetching profile:",O),t({title:"Error Fetching Profile",description:O.message||"Could not load profile data.",variant:"destructive"}),n({id:(e==null?void 0:e.id)||"",first_name:"",last_name:"",mobile_number:null,address:null,date_of_birth:null,gender:null,avatar_url:null,current_plan:"Free Plan",payment_method_details:"N/A"}),m(null)}finally{i(!1)}}},[e,t]);A.useEffect(()=>{x()},[x]);const g=O=>{const{name:P,value:I}=O.target;n(L=>L?{...L,[P]:I}:null)},y=O=>{if(O.target.files&&O.target.files[0]){const P=O.target.files[0],I=2*1024*1024;if(P.size>I){t({title:"File Too Large",description:"Please select an image smaller than 2MB.",variant:"destructive"}),O.target.value="",f(null);return}f(P);const L=new FileReader;L.onloadend=()=>{m(L.result)},L.readAsDataURL(P)}else f(null),m((r==null?void 0:r.avatar_url)||null)},_=async O=>{if(O.preventDefault(),!r||!e)return;s(!0);let P=r.avatar_url;try{if(d){const U=d.name.split(".").pop(),T=`${e.id}-${Date.now()}.${U}`,{error:F}=await Le.storage.from("avatars").upload(T,d,{cacheControl:"3600",upsert:!0});if(F)throw new Error(`Failed to upload avatar: ${F.message}`);const{data:j}=Le.storage.from("avatars").getPublicUrl(T);j!=null&&j.publicUrl?P=j.publicUrl:console.warn("Could not get public URL for uploaded avatar, but upload might have succeeded.")}const I={id:e.id,first_name:r.first_name||"",last_name:r.last_name||"",mobile_number:r.mobile_number,address:r.address,date_of_birth:r.date_of_birth,gender:r.gender,avatar_url:P,updated_at:new Date().toISOString()},{error:L}=await Le.from("profiles").upsert(I,{onConflict:"id"});if(L)throw L;t({title:"Profile updated successfully!"}),f(null),P!==r.avatar_url&&(n(U=>U?{...U,avatar_url:P}:null),m(P??null)),u(!1)}catch(I){console.error("Failed to save profile:",I),t({title:"Update Failed",description:I.message||"Could not save profile changes.",variant:"destructive"})}finally{s(!1)}};return a?c(Sa,{heading:"Profile",text:"Loading profile..."}):!e||!r?c(Sa,{heading:"Profile",text:"Could not load profile data."}):w("div",{className:"container mx-auto py-8",children:[c(Sa,{heading:"User Profile",text:"View and update your personal information."}),w(lr,{className:"max-w-2xl mx-auto mt-6",children:[c(xr,{children:c(wr,{children:"Your Details"})}),w("form",{onSubmit:_,children:[w(mr,{className:"space-y-6",children:[" ",w("div",{className:"flex flex-col items-center space-y-4",children:[!l&&w(yD,{className:"h-24 w-24",children:[c(xD,{src:h||(r==null?void 0:r.avatar_url)||void 0,alt:"User Avatar"}),w(wD,{children:[(S=(b=r==null?void 0:r.first_name)==null?void 0:b[0])==null?void 0:S.toUpperCase(),(E=(C=r==null?void 0:r.last_name)==null?void 0:C[0])==null?void 0:E.toUpperCase()]})]}),l&&w("div",{className:"w-full max-w-xs flex flex-col items-center",children:[w(Xt,{htmlFor:"avatarFile",className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed rounded-lg cursor-pointer bg-card hover:bg-muted transition-colors",children:[h&&!d?w("div",{className:"relative group",children:[c("img",{src:h,alt:"Current avatar",className:"h-28 w-28 object-cover rounded-lg"}),c("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity rounded-lg",children:c(Z0,{className:"w-8 h-8 text-white"})})]}):d?w("div",{className:"text-center",children:[c("img",{src:h||void 0,alt:"Preview",className:"h-16 w-16 object-cover rounded-lg mx-auto mb-2"}),c("p",{className:"text-sm text-muted-foreground truncate max-w-[200px]",children:d.name}),w(Fe,{variant:"ghost",size:"sm",className:"mt-1 text-destructive hover:text-destructive-foreground",onClick:O=>{O.preventDefault(),f(null),m((r==null?void 0:r.avatar_url)||null);const P=document.getElementById("avatarFile");P&&(P.value="")},children:[c(gh,{className:"w-4 h-4 mr-1"})," Remove"]})]}):w("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[c(Z0,{className:"w-8 h-8 mb-2 text-muted-foreground"}),w("p",{className:"mb-1 text-sm text-muted-foreground",children:[c("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),c("p",{className:"text-xs text-muted-foreground",children:"SVG, PNG, JPG or GIF (MAX. 2MB)"})]}),c(ct,{id:"avatarFile",name:"avatarFile",type:"file",accept:"image/png, image/jpeg, image/gif, image/svg+xml",onChange:y,disabled:o,className:"hidden"})]}),!d&&c("p",{className:"text-xs text-muted-foreground mt-2 text-center",children:"Upload a square picture (e.g., 100x100px). Max 2MB."})]})]}),c(am,{})," ",w("div",{className:"space-y-2",children:[c(Xt,{htmlFor:"email",children:"Email"}),c(ct,{id:"email",type:"email",value:e.email||"",disabled:!0}),c("p",{className:"text-sm text-muted-foreground",children:"Email address cannot be changed here."})]}),w("div",{className:"space-y-2",children:[c(Xt,{htmlFor:"first_name",children:"First Name"}),c(ct,{id:"first_name",name:"first_name",value:r.first_name||"",onChange:g,disabled:!l||o})]}),w("div",{className:"space-y-2",children:[c(Xt,{htmlFor:"last_name",children:"Last Name"}),c(ct,{id:"last_name",name:"last_name",value:r.last_name||"",onChange:g,disabled:!l||o})]}),w("div",{className:"space-y-2",children:[c(Xt,{htmlFor:"mobile_number",children:"Mobile Number"}),c(ct,{id:"mobile_number",name:"mobile_number",type:"tel",value:r.mobile_number||"",onChange:g,disabled:!l||o,placeholder:"e.g., +1 123 456 7890"})]}),w("div",{className:"space-y-2",children:[c(Xt,{htmlFor:"address",children:"Address"}),c(ct,{id:"address",name:"address",value:r.address||"",onChange:g,disabled:!l||o,placeholder:"e.g., 123 Main St, Anytown, USA"})]}),w("div",{className:"space-y-2",children:[c(Xt,{htmlFor:"date_of_birth",children:"Date of Birth"}),c(ct,{id:"date_of_birth",name:"date_of_birth",type:"date",value:r.date_of_birth||"",onChange:g,disabled:!l||o})]}),w("div",{className:"space-y-2",children:[c(Xt,{htmlFor:"gender",children:"Gender"}),c(ct,{id:"gender",name:"gender",value:r.gender||"",onChange:g,disabled:!l||o,placeholder:"e.g., Male, Female, Non-binary, Prefer not to say"})]}),c(am,{}),w("div",{className:"space-y-2",children:[c("h3",{className:"text-lg font-medium",children:"Subscription"}),w("div",{className:"flex justify-between items-center",children:[c("span",{className:"text-muted-foreground",children:"Current Plan:"}),c("span",{children:r.current_plan||"N/A"})]})]}),w("div",{className:"space-y-2",children:[c("h3",{className:"text-lg font-medium",children:"Payment Method"}),w("div",{className:"flex justify-between items-center",children:[c("span",{className:"text-muted-foreground",children:"Payment Details:"}),c("span",{children:r.payment_method_details||"N/A"})]})]})]}),c(Q0,{className:"flex justify-end gap-2",children:l?w(Sr,{children:[c(Fe,{type:"button",variant:"outline",onClick:()=>{u(!1),f(null),m((r==null?void 0:r.avatar_url)||null),x()},disabled:o,children:"Cancel"}),c(Fe,{type:"submit",disabled:o,children:o?"Saving...":"Save Changes"})]}):c(Fe,{type:"button",onClick:()=>u(!0),children:"Edit Profile"})})]})]})]})}const Rp={free:{name:"Free Plan",price:"0",features:["Basic Patient Record Management","Appointment Scheduling (up to 10/month)","Standard Email Reminders","Community Support"]},professional:{name:"Professional Plan",price:"49",priceSuffix:"/ month",features:["All features in Free Plan","Unlimited Patient Records","Unlimited Appointment Scheduling","Automated SMS & Email Reminders","Basic Treatment Planning","Consent Form Management","Priority Email Support","5 GB Document Storage"]}},zFe=[{question:"Can I change my plan later?",answer:"Yes, you can upgrade or downgrade your plan at any time from your account settings. Changes will take effect from the next billing cycle."},{question:"What payment methods do you accept?",answer:"We accept all major credit cards (Visa, Mastercard, American Express) and PayPal."},{question:"Is my payment information secure?",answer:"Absolutely. We use industry-standard encryption and partner with Stripe, a leading payment processor, to ensure your payment details are handled securely."},{question:"What happens if my payment fails?",answer:"If a payment fails, we'll notify you and attempt to retry the payment method. You'll have a grace period to update your payment details before any service interruption."}];function WFe(){const[e,t]=A.useState("professional"),[r,n]=A.useState(""),[a,i]=A.useState(!1),o=Rp[e],s=e==="free"?0:49,l=e==="free"?0:4,u=s+l;return w("div",{className:"container mx-auto py-8 px-4 md:px-6 lg:px-8",children:[c(Sa,{heading:"Payments & Subscription",text:"Manage your billing details and subscription plan."}),w("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mt-6",children:[w(lr,{className:"lg:col-span-2",children:[w(xr,{children:[c(wr,{children:"Payment Details"}),c(yc,{children:"Enter your payment information to subscribe."})]}),c(mr,{children:w("form",{onSubmit:f=>{f.preventDefault(),console.log("Processing payment for:",e,"Total:",u)},className:"space-y-6",children:[w("div",{className:"space-y-2",children:[c(Xt,{htmlFor:"email",children:"Email address"}),c(ct,{id:"email",type:"email",placeholder:"you@example.com",required:!0,defaultValue:"m@example.com"})," "]}),w("div",{className:"space-y-2",children:[c(Xt,{htmlFor:"cardNumber",children:"Credit Card Number"}),c(ct,{id:"cardNumber",type:"text",placeholder:"XXXX XXXX XXXX XXXX",required:!0})]}),w("div",{className:"grid grid-cols-2 gap-4",children:[w("div",{className:"space-y-2",children:[c(Xt,{htmlFor:"expiryDate",children:"Expiry Date"}),c(ct,{id:"expiryDate",type:"text",placeholder:"MM / YY",required:!0})]}),w("div",{className:"space-y-2",children:[c(Xt,{htmlFor:"cvv",children:"CVV"}),c(ct,{id:"cvv",type:"text",placeholder:"XXX",required:!0})]})]}),w("div",{className:"flex items-center space-x-2",children:[c(Ts,{id:"promo",checked:a,onCheckedChange:f=>i(!!f)}),c(Xt,{htmlFor:"promo",className:"cursor-pointer",children:"I have a promo code"})]}),a&&w("div",{className:"space-y-2",children:[c(Xt,{htmlFor:"promoCode",children:"Promo Code"}),c(ct,{id:"promoCode",type:"text",placeholder:"Enter code",value:r,onChange:f=>n(f.target.value)})]}),w("div",{className:"space-y-2 border-t pt-4 mt-4",children:[w("div",{className:"flex justify-between",children:[c("span",{children:"Subtotal"}),w("span",{children:["",s.toFixed(2)]})]}),w("div",{className:"flex justify-between text-muted-foreground",children:[c("span",{children:"Platform Fee"}),w("span",{children:["",l.toFixed(2)]})]}),w("div",{className:"flex justify-between font-semibold text-lg border-t pt-2 mt-2",children:[c("span",{children:"Total Amount"}),w("span",{children:["",u.toFixed(2)]})]})]}),c(Fe,{type:"submit",className:"w-full",disabled:e==="free",children:e==="free"?"Free Plan Selected":`Subscribe to ${o.name}`})]})})]}),w("div",{className:"space-y-8",children:[w(lr,{children:[c(xr,{children:c(wr,{children:"Choose Your Plan"})}),c(mr,{children:w(Ro,{value:e,onValueChange:f=>t(f),children:[w(Xt,{htmlFor:"free-plan",className:`flex flex-col items-start space-y-1 rounded-md border p-4 cursor-pointer transition-colors ${e==="free"?"border-primary bg-primary/5":"hover:bg-accent hover:text-accent-foreground"}`,children:[w("div",{className:"flex justify-between w-full items-center",children:[c("span",{className:"font-semibold",children:Rp.free.name}),c(Dn,{value:"free",id:"free-plan",className:"translate-y-0"})]}),c("span",{className:"text-2xl font-bold",children:Rp.free.price}),c("ul",{className:"list-disc list-inside text-sm text-muted-foreground space-y-1 mt-2",children:Rp.free.features.map((f,h)=>c("li",{children:f},h))})]}),w(Xt,{htmlFor:"professional-plan",className:`flex flex-col items-start space-y-1 rounded-md border p-4 cursor-pointer transition-colors ${e==="professional"?"border-primary bg-primary/5":"hover:bg-accent hover:text-accent-foreground"}`,children:[w("div",{className:"flex justify-between w-full items-center",children:[c("span",{className:"font-semibold",children:Rp.professional.name}),c(Dn,{value:"professional",id:"professional-plan",className:"translate-y-0"})]}),w("span",{className:"text-2xl font-bold",children:[Rp.professional.price,c("span",{className:"text-sm font-normal text-muted-foreground",children:Rp.professional.priceSuffix})]}),c("ul",{className:"list-disc list-inside text-sm text-muted-foreground space-y-1 mt-2",children:Rp.professional.features.map((f,h)=>c("li",{children:f},h))})]})]})}),w(Q0,{children:[c(Fe,{variant:"outline",className:"w-full",children:"Modify Plan"})," "]})]}),w(lr,{children:[c(xr,{children:c(wr,{children:"Frequently Asked Questions"})}),c(mr,{children:c($D,{type:"single",collapsible:!0,className:"w-full",children:zFe.map((f,h)=>w($d,{value:`item-${h+1}`,children:[c(Bd,{children:f.question}),c(Ud,{children:f.answer})]},h))})})]})]})]})]})}function VFe(){const[e,t]=A.useState([]),[r,n]=A.useState(""),[a,i]=A.useState(null),[o,s]=A.useState(null),[l,u]=A.useState([]),[d,f]=A.useState(!1),[h,m]=A.useState(!1),[x,g]=A.useState(null),[y,_]=A.useState(null),[b,S]=A.useState(!1),[C,E]=A.useState(!1),{toast:O}=yn();A.useEffect(()=>{(async()=>{f(!0),g(null);try{const{data:F,error:j}=await Le.from("patients").select("id, first_name, last_name, phone, registration_number").order("last_name",{ascending:!0}).order("first_name",{ascending:!0});if(j)throw j;t(F||[])}catch(F){g("Failed to fetch patients."),console.error("Error fetching patients:",F)}finally{f(!1)}})()},[]);const P=A.useCallback(async T=>{if(T){m(!0),_(null),u([]);try{if(!T)throw new Error("Patient ID became null unexpectedly.");const{data:F,error:j}=await Le.from("medical_records").select(`
           *,
           staff:created_by ( first_name, last_name ),
           teeth:medical_record_teeth ( teeth ( id, description ) ) 
         `).eq("patient_id",T).order("record_date",{ascending:!1});if(j)throw j;const H=(F||[]).map(X=>{const z=(X.teeth||[]).map(G=>G.teeth).filter(Boolean);return{...X,teeth:z}});u(H)}catch(F){_("Failed to fetch medical records."),console.error("Error fetching medical records:",F)}finally{m(!1)}}},[]);A.useEffect(()=>{a?P(a):u([])},[a,P]);const I=T=>{i(T.id),s(`${T.first_name||""} ${T.last_name||""}`.trim()),n("")},L=()=>{if(!a){O({title:"No Patient Selected",description:"Please select a patient before adding a record.",variant:"destructive"});return}S(!0)},U=async(T,F)=>{if(!a)return;E(!0);let j={};switch(T.general_notes&&String(T.general_notes).trim()!==""&&(j.general_notes=T.general_notes),T.record_type){case"examination":T.consultation_subjective&&(j.subjective=T.consultation_subjective),T.consultation_objective&&(j.objective=T.consultation_objective),T.consultation_assessment&&(j.assessment=T.consultation_assessment),T.consultation_plan&&(j.plan=T.consultation_plan),T.diagnosis_code&&(j.code=T.diagnosis_code),T.diagnosis_description&&(j.description=T.diagnosis_description);break;case"procedure":j={...j,procedure:T.treatment_procedure,details:T.treatment_details};break;case"prescription":j={...j,medication:T.prescription_medication,dosage:T.prescription_dosage,frequency:T.prescription_frequency,duration:T.prescription_duration};break;case"lab_result":j={...j,test_name:T.lab_test_name,result_value:T.lab_result_value,units:T.lab_units,reference_range:T.lab_reference_range};break;case"note":T.other_details&&String(T.other_details).trim()!==""&&(j.details=T.other_details);break}const H=Object.keys(j).length>0?JSON.stringify(j):"{}",X=new Date,re=new Date(T.record_date+"T00:00:00");X.setFullYear(re.getFullYear()),X.setMonth(re.getMonth()),X.setDate(re.getDate());const z=X.toISOString(),G={patient_id:a,record_date:z,record_type:T.record_type,description:H};try{await zt.patients.createMedicalRecord(G,F),O({title:"Success",description:"Medical record added successfully."}),S(!1),P(a)}catch(q){console.error("Error saving medical record:",q),O({title:"Error",description:"Failed to save medical record. "+q.message,variant:"destructive"})}finally{E(!1)}};return w("div",{children:[c(Sa,{heading:"Patient Medical Records",text:"Select a patient to view or add medical records."}),w("div",{className:"mt-6 mb-8 max-w-md relative",children:[" ",c(Xt,{htmlFor:"patient-search",children:"Select Patient"}),c(ct,{type:"search",id:"patient-search",value:r,onChange:T=>{n(T.target.value),i(null),s(null)},placeholder:o||"Search by name, phone, or registration...",disabled:d,className:"w-full"}),d&&c("p",{className:"text-sm text-muted-foreground mt-1",children:"Loading patients..."}),x&&c("p",{className:"text-sm text-destructive mt-1",children:x}),r&&!d&&!x&&w(tu,{className:"absolute z-10 w-full bg-background border rounded-md shadow-lg mt-1 max-h-60",children:[" ",c("div",{className:"p-2",children:e.filter(T=>{var re,z;const F=`${T.first_name||""} ${T.last_name||""}`.toLowerCase(),j=((re=T.phone)==null?void 0:re.toLowerCase())||"",H=((z=T.registration_number)==null?void 0:z.toLowerCase())||"",X=r.toLowerCase();return F.includes(X)||j.includes(X)||H.includes(X)}).length>0?e.filter(T=>{var re,z;const F=`${T.first_name||""} ${T.last_name||""}`.toLowerCase(),j=((re=T.phone)==null?void 0:re.toLowerCase())||"",H=((z=T.registration_number)==null?void 0:z.toLowerCase())||"",X=r.toLowerCase();return F.includes(X)||j.includes(X)||H.includes(X)}).map(T=>c(Fe,{variant:"ghost",className:"w-full justify-start text-left h-auto py-2 px-3 mb-1",onClick:()=>I(T),children:w("div",{children:[c("div",{children:`${T.first_name||""} ${T.last_name||""}`.trim()}),w("div",{className:"text-xs text-muted-foreground",children:[T.registration_number&&`Reg: ${T.registration_number}`,T.registration_number&&T.phone&&" | ",T.phone&&`Ph: ${T.phone}`," "]})]})},T.id)):w("p",{className:"text-sm text-muted-foreground p-2",children:['No patients found matching "',r,'"']})})]})]}),a&&(h?c("p",{children:"Loading medical records..."}):y?c("p",{className:"text-destructive",children:y}):c(xre,{medicalRecords:l,onAddMedicalRecord:L})),!a&&!d&&!r&&c("p",{className:"text-muted-foreground mt-8",children:"Please search for and select a patient to view their medical records."}),c($a,{open:b,onOpenChange:S,children:w(Ta,{className:"sm:max-w-[600px]",children:[" ",c(Oa,{children:c(Da,{children:"Add New Medical Record"})}),a&&c(wre,{patientId:a,onSubmit:U,onCancel:()=>S(!1),isLoading:C})]})})]})}const Fs=A.forwardRef(({className:e,...t},r)=>c("div",{className:"relative w-full overflow-auto",children:c("table",{ref:r,className:Rt("w-full caption-bottom text-sm",e),...t})}));Fs.displayName="Table";const Ls=A.forwardRef(({className:e,...t},r)=>c("thead",{ref:r,className:Rt("[&_tr]:border-b",e),...t}));Ls.displayName="TableHeader";const js=A.forwardRef(({className:e,...t},r)=>c("tbody",{ref:r,className:Rt("[&_tr:last-child]:border-0",e),...t}));js.displayName="TableBody";const HFe=A.forwardRef(({className:e,...t},r)=>c("tfoot",{ref:r,className:Rt("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));HFe.displayName="TableFooter";const Pn=A.forwardRef(({className:e,...t},r)=>c("tr",{ref:r,className:Rt("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Pn.displayName="TableRow";const Ht=A.forwardRef(({className:e,...t},r)=>c("th",{ref:r,className:Rt("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Ht.displayName="TableHead";const $t=A.forwardRef(({className:e,...t},r)=>c("td",{ref:r,className:Rt("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));$t.displayName="TableCell";const GFe=A.forwardRef(({className:e,...t},r)=>c("caption",{ref:r,className:Rt("mt-4 text-sm text-muted-foreground",e),...t}));GFe.displayName="TableCaption";const YFe=Cw("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),rd=A.forwardRef(({className:e,variant:t,...r},n)=>c("div",{ref:n,role:"alert",className:Rt(YFe({variant:t}),e),...r}));rd.displayName="Alert";const nd=A.forwardRef(({className:e,...t},r)=>c("h5",{ref:r,className:Rt("mb-1 font-medium leading-none tracking-tight",e),...t}));nd.displayName="AlertTitle";const ad=A.forwardRef(({className:e,...t},r)=>c("div",{ref:r,className:Rt("text-sm [&_p]:leading-relaxed",e),...t}));ad.displayName="AlertDescription";function Ml({className:e,...t}){return c("div",{className:Rt("animate-pulse rounded-md bg-muted",e),...t})}const $3="inventory_items",OR=async()=>{const{data:e,error:t}=await Le.from($3).select("*").order("created_at",{ascending:!1});if(t)throw console.error("Error fetching inventory items:",t),new Error(t.message);return e||[]},KFe=async e=>{const{data:t,error:r}=await Le.from($3).select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return console.log(`Inventory item with id ${e} not found.`),null;throw console.error(`Error fetching inventory item ${e}:`,r),new Error(r.message)}return t},XFe=async e=>{var i;const{data:t,error:r}=await Le.from($3).insert([e]).select().single();if(r)throw console.error("Error adding inventory item:",r),new Error(r.message);if(!t)throw new Error("Failed to add inventory item, no data returned.");const n={inventory_item_id:t.id,item_id:null,quantity_change:t.quantity,change_type:"initial_stock",user_id:((i=(await Le.auth.getUser()).data.user)==null?void 0:i.id)||null,notes:"Initial stock set during item creation",inventory_item_batch_id:null,purchase_order_item_id:null},{error:a}=await Le.from("inventory_log").insert([n]);return a&&console.error("Error logging initial inventory stock:",a),t},ZFe=async(e,t)=>{var i;const r=await KFe(e);if(!r)throw new Error(`Inventory item ${e} not found.`);if(t.quantity!==void 0&&t.quantity!==r.quantity){const o=t.quantity-r.quantity,s={inventory_item_id:e,item_id:null,quantity_change:o,change_type:o>0?"add":"use",user_id:((i=(await Le.auth.getUser()).data.user)==null?void 0:i.id)||null,notes:`Quantity updated from ${r.quantity} to ${t.quantity}`,inventory_item_batch_id:null,purchase_order_item_id:null},{error:l}=await Le.from("inventory_log").insert([s]);l&&console.error("Error logging inventory quantity change:",l)}const{data:n,error:a}=await Le.from($3).update(t).eq("id",e).select().single();if(a)throw console.error(`Error updating inventory item ${e}:`,a),new Error(a.message);if(!n)throw new Error(`Failed to update inventory item ${e}, no data returned.`);return n},_W=async(e,t)=>{const{data:r,error:n}=await Le.from("inventory_log").select("*").gte("created_at",e).lte("created_at",t).order("created_at",{ascending:!0});if(n)throw console.error("Error fetching inventory log entries:",n),new Error(n.message);return r||[]},JFe=async e=>{let t=Le.from("inventory_log").select(`
      *,
      inventory_items (item_name, item_code)
    `).order("created_at",{ascending:!1});const r=["Expired","Damaged","Lost","Stock Count Correction","Used","Other","adjustment"];if(t=t.in("change_type",r),e.startDate&&(t=t.gte("created_at",e.startDate.toISOString())),e.endDate){const i=new Date(e.endDate);i.setDate(i.getDate()+1),t=t.lt("created_at",i.toISOString())}if(e.searchTerm){const i=`%${e.searchTerm}%`;t=t.or(`inventory_items.item_name.ilike.${i},inventory_items.item_code.ilike.${i},notes.ilike.${i},change_type.ilike.${i}`)}const{data:n,error:a}=await t;if(a)throw console.error("Error fetching detailed inventory logs:",a),new Error(a.message);return n||[]},bW=async e=>{const{data:t,error:r}=await Le.from("inventory_adjustment_requests").insert({inventory_item_id:e.inventory_item_id,inventory_item_batch_id:e.inventory_item_batch_id,quantity_to_decrease:e.quantity_to_decrease,reason:e.reason,notes:e.notes,photo_url:e.photo_url,requested_by_user_id:e.requested_by_user_id,custom_approver_emails:e.custom_approver_emails,approver_role_target:e.approver_role_target,status:"pending"}).select("id, inventory_item_id, inventory_item_batch_id, quantity_to_decrease, reason, notes, photo_url, status, requested_by_user_id, requested_at, reviewed_by_user_id, reviewed_at, reviewer_notes, created_at, updated_at, approval_token, approval_token_expires_at, custom_approver_emails, approver_role_target").single();if(r)throw console.error("Error creating inventory adjustment request:",r),r;if(!t)throw new Error("Failed to create adjustment request, no data returned.");return t},SW=async(e,t)=>{const r=e.name.split(".").pop(),n=`inventory_adjustments/${t}/${Date.now()}.${r}`;try{const{error:a,data:i}=await Le.storage.from("inventory-proofs").upload(n,e);return a?(console.error("Error uploading adjustment photo (likely CORS or network issue):",a),null):n}catch(a){return console.error("Exception during photo upload:",a),null}},QFe=async(e,t)=>{let r=Le.from("inventory_adjustment_requests").select(`
            *,
            inventory_items ( item_name ),
            requester_profile:profiles!inventory_adjustment_requests_requested_by_user_id_fkey ( first_name, last_name )
        `).eq("status","pending").neq("requested_by_user_id",e);if(t==="admin")r=r.or("approver_role_target.eq.admin,approver_role_target.is.null");else if(t==="owner")r=r.or("approver_role_target.eq.owner,approver_role_target.is.null");else if(t==="doctor")r=r.eq("approver_role_target","doctor");else return[];r=r.order("requested_at",{ascending:!0});const{data:n,error:a}=await r;if(a)throw console.error("Error fetching pending adjustment requests:",a),a;return n||[]},eLe=async e=>{const{data:t,error:r}=await Le.from("inventory_adjustment_requests").select(`
            *,
            inventory_items ( item_name ),
            requester_profile:profiles!inventory_adjustment_requests_requested_by_user_id_fkey ( first_name, last_name )
        `).eq("id",e).single();if(r){if(r.code==="PGRST116")return console.log(`Adjustment request with id ${e} not found.`),null;throw console.error(`Error fetching adjustment request ${e}:`,r),r}return t},tLe=async(e,t,r=20)=>{let n=Le.from("inventory_adjustment_requests").select(`
      *,
      inventory_items ( item_name ),
      requester_profile:profiles!inventory_adjustment_requests_requested_by_user_id_fkey ( first_name, last_name )
    `).eq("requested_by_user_id",e);t&&t.length>0&&(n=n.in("status",t)),n=n.order("requested_at",{ascending:!1}).limit(r);const{data:a,error:i}=await n;if(i)throw console.error("Error fetching adjustment requests for user:",i),i;return a||[]},$S=async e=>{if(!e)return null;const{data:t,error:r}=await Le.storage.from("inventory-proofs").createSignedUrl(e,60*10);return r?(console.error("Error creating signed URL for adjustment photo:",r),null):(t==null?void 0:t.signedUrl)||null},Jne=async(e,t,r)=>{const{error:n}=await Le.rpc("process_approved_adjustment",{p_request_id:e,p_reviewer_user_id:t,p_reviewer_notes:r===void 0?null:r});if(n)throw console.error(`Error approving adjustment request ${e}:`,n),n},Qne=async(e,t,r)=>{const{error:n}=await Le.from("inventory_adjustment_requests").update({status:"rejected",reviewed_by_user_id:t,reviewed_at:new Date().toISOString(),reviewer_notes:r}).eq("id",e).eq("status","pending");if(n)throw console.error(`Error rejecting adjustment request ${e}:`,n),n},rLe=async(e,t)=>{const{data:r,error:n}=await Le.rpc("verify_adjustment_approval_token",{p_request_id:e,p_raw_token:t});return n?(console.error("Error verifying adjustment token:",n),null):r&&r.length>0?r[0]:null},nLe=async e=>{const{data:t,error:r}=await Le.from("stock_takes").insert(e).select().single();if(r)throw console.error("Error creating stock take entry:",r),r;if(!t)throw new Error("Failed to create stock take entry, no data returned.");return t},eae=Qe.forwardRef(({status:e,className:t,onClick:r},n)=>{let a="",i="";switch(e){case"In Stock":a="bg-green-100 text-green-800";break;case"Low Stock":a="bg-yellow-100 text-yellow-800",i="animate-pulse";break;case"Expired":a="bg-red-100 text-red-800";break;default:a="bg-gray-100 text-gray-800"}return c("span",{ref:n,className:hn("inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold capitalize",a,i,t),onClick:r,children:e})});eae.displayName="InventoryStatusBadge";const aLe=e=>(e.quantity??0)<=(e.low_stock_threshold??0)?"Low Stock":"In Stock",iLe=e=>{switch(e){case"In Stock":return"text-green-600 font-bold";case"Low Stock":return"text-red-600 font-bold";default:return""}},oLe=({onEditItem:e,refreshTrigger:t,searchTerm:r,categoryFilter:n,onDataFiltered:a})=>{const[i,o]=A.useState([]),[s,l]=A.useState(!0),[u,d]=A.useState(null),[f,h]=A.useState("item_name"),[m,x]=A.useState("asc");Bo();const{toast:g}=yn(),{user:y}=si(),_=A.useRef(null),b=A.useRef(null),S=A.useRef(0),C=5,E=1e3,O=3e4,P=A.useCallback(async()=>{l(!0),d(null);try{let U=Le.from("inventory_items").select("*");r&&(U=U.ilike("item_name",`%${r}%`)),n!=="all"&&(U=U.eq("category",n));const T={ascending:m==="asc"};U=U.order(f,T);const{data:F,error:j}=await U;if(j)throw j;const H=await Promise.all((F||[]).map(async X=>{let re=[];if(X.is_batched){const{data:z,error:G}=await Le.from("inventory_item_batches").select("*").eq("inventory_item_id",X.id).order("expiry_date",{ascending:!0,nullsFirst:!1});G?console.error(`Failed to fetch batches for item ${X.id}:`,G):re=z||[]}return{...X,stock_status:aLe(X),batches:re}}));o(H),a(H)}catch(U){console.error("Failed to fetch inventory items:",U),d(U instanceof Error?U.message:"An unknown error occurred"),g({title:"Error Fetching Inventory",description:U instanceof Error?U.message:"Could not load items.",variant:"destructive"})}finally{l(!1)}},[r,n,f,m,a]);A.useEffect(()=>{P()},[P,t]),A.useEffect(()=>{if(!Le){console.error("Supabase client is not available");return}let U=Le.channel("inventory_items_changes").on("postgres_changes",{event:"*",schema:"public",table:"inventory_items"},T=>{P()}).subscribe((T,F)=>{if(T==="SUBSCRIBED")S.current=0,b.current&&(clearTimeout(b.current),b.current=null);else if(T==="CHANNEL_ERROR"||T==="TIMED_OUT"||T==="CLOSED")if(console.error(`List Realtime subscription ${T}:`,F),F&&console.error("Error message:",F.message),S.current<C){S.current+=1;const j=Math.min(E*Math.pow(2,S.current-1),O);console.error(`List attempting to reconnect in ${j/1e3} seconds...`),b.current&&clearTimeout(b.current),b.current=setTimeout(()=>{_.current&&_.current.subscribe()},j)}else console.error("List max reconnection attempts reached."),g({title:"Realtime Connection Issue",description:"Inventory list updates may be delayed. Please refresh if needed.",variant:"destructive",duration:1e4})});return _.current=U,()=>{b.current&&clearTimeout(b.current);const T=_.current;T&&(Le.removeChannel(T).catch(F=>console.error("Error removing list channel:",F)),_.current=null)}},[Le,P,g]);const I=U=>{f===U?x(T=>T==="asc"?"desc":"asc"):(h(U),x("asc"))},L=U=>f!==U?c(d5,{className:"ml-2 h-4 w-4 opacity-30 group-hover:opacity-100"}):c(d5,{className:`ml-2 h-4 w-4 ${m==="asc"?"":"rotate-180"}`});return s?c("div",{className:"space-y-2",children:[...Array(5)].map((U,T)=>c(Ml,{className:"h-10 w-full"},T))}):u?w(rd,{variant:"destructive",children:[c(fc,{className:"h-4 w-4"}),c(nd,{children:"Error"}),c(ad,{children:u})]}):i.length===0?c("p",{className:"text-center text-gray-500 mt-4",children:"No inventory items found. Add one to get started!"}):c("div",{className:"rounded-md border",children:w(Fs,{className:"min-w-full divide-y divide-gray-200 bg-white shadow-md rounded-lg overflow-hidden",children:[c(Ls,{className:"bg-gray-50",children:w(Pn,{className:"text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:[c(Ht,{className:"px-6 py-3",children:w(Fe,{variant:"ghost",onClick:()=>I("item_code"),className:"px-0 group",children:["Item Code ",L("item_code")]})}),c(Ht,{className:"px-6 py-3",children:"Batch No / Info"}),c(Ht,{className:"px-6 py-3",children:"Supplier ID/Info"}),c(Ht,{className:"px-6 py-3",children:w(Fe,{variant:"ghost",onClick:()=>I("item_name"),className:"px-0 group",children:["Item Name ",L("item_name")]})}),c(Ht,{className:"px-6 py-3 text-right",children:w(Fe,{variant:"ghost",onClick:()=>I("quantity"),className:"px-0 group",children:["Quantity ",L("quantity")]})}),c(Ht,{className:"px-6 py-3",children:"Status"})]})}),c(js,{className:"bg-white divide-y divide-gray-200",children:i.map(U=>w(Pn,{className:"hover:bg-gray-100 text-sm text-gray-900",children:[c($t,{className:"px-6 py-4 whitespace-nowrap",children:U.item_code||"N/A"}),c($t,{className:"px-6 py-4 whitespace-nowrap",children:U.is_batched&&U.batches&&U.batches.length>0?U.batches.map(T=>T.batch_number||"N/A").join(", "):U.is_batched?"No batches":"N/A"}),c($t,{className:"px-6 py-4 whitespace-nowrap",children:U.supplier_info||"N/A"}),c($t,{className:"px-6 py-4 whitespace-nowrap",children:U.item_name}),c($t,{className:"px-6 py-4 whitespace-nowrap text-right",children:U.quantity??"-"}),c($t,{className:"px-6 py-4 whitespace-nowrap",children:c(eae,{status:U.stock_status,className:iLe(U.stock_status)})})]},U.id))})]})})},sLe=async(e,t,r)=>{if(!e)throw new Error("No file provided for upload.");if(!t)throw new Error("User ID is required for upload.");const n=e.name.split(".").pop(),i=`invoices/${`${t}_${Date.now()}.${n}`}`,{data:o,error:s}=await Le.storage.from("invoices").upload(i,e);if(s)throw console.error("Error uploading invoice to storage:",s),new Error(`Storage upload failed: ${s.message}`);console.log("File uploaded successfully to:",o.path);const l={file_name:e.name,storage_path:o.path,uploaded_by_user_id:t,inventory_item_id:r},{data:u,error:d}=await Le.from("invoices").insert(l).select().single();if(d)throw console.error("Error inserting invoice record:",d),await Le.storage.from("invoices").remove([o.path]),console.warn("Orphaned file removed from storage due to DB insert failure:",o.path),new Error(`Database insert failed: ${d.message}`);return console.log("Invoice record created successfully:",u),o.path},lLe=async()=>{const{data:e,error:t}=await Le.from("invoices").select(`
            *,
            inventory_items (
                item_name
            )
        `).order("uploaded_at",{ascending:!1});if(t)throw console.error("Error fetching invoices with item names:",t),t;return e},cLe=async(e,t=60)=>{const{data:r,error:n}=await Le.storage.from("invoices").createSignedUrl(e,t);if(n)throw console.error("Error creating signed URL:",n),n;return r.signedUrl},uLe=P3({item_name:Qo().min(1,{message:"Item name is required"}),category:lw(["Medicines","Tools","Consumables"],{required_error:"Category is required"}),supplier_info:Qo().optional().nullable(),low_stock_threshold:fR.number().int().min(0,{message:"Threshold must be 0 or greater"}),item_code:Qo().optional().nullable()}),dLe=({itemToEdit:e,onSave:t,onCancel:r})=>{const{toast:n}=yn(),{user:a}=si(),[i,o]=A.useState(null),s=!!e,l=["Medicines","Tools","Consumables"],u=y=>{if(y&&l.includes(y))return y},d=ld({resolver:cd(uLe),defaultValues:{item_name:(e==null?void 0:e.item_name)??"",category:u(e==null?void 0:e.category),supplier_info:(e==null?void 0:e.supplier_info)??"",low_stock_threshold:Number((e==null?void 0:e.low_stock_threshold)??10),item_code:(e==null?void 0:e.item_code)??""}}),{handleSubmit:f,control:h,reset:m}=d;A.useEffect(()=>{m(e?{item_name:e.item_name,category:u(e.category),supplier_info:e.supplier_info??"",low_stock_threshold:Number(e.low_stock_threshold??10),item_code:e.item_code??""}:{item_name:"",category:void 0,supplier_info:"",low_stock_threshold:10,item_code:""})},[e,m]);const x=y=>{y.target.files&&y.target.files[0]?o(y.target.files[0]):o(null)};return c(Rh,{...d,children:w("form",{onSubmit:f(async y=>{if(!a){n({title:"Error",description:"You must be logged in to save items.",variant:"destructive"});return}let _=null;try{if(s&&e){const b={item_name:y.item_name,category:y.category,supplier_info:y.supplier_info||null,low_stock_threshold:y.low_stock_threshold,item_code:y.item_code||null};_=await ZFe(e.id,b),n({title:"Success",description:"Inventory item updated."})}else{const b={item_name:y.item_name,category:y.category,quantity:0,supplier_info:y.supplier_info||null,low_stock_threshold:y.low_stock_threshold,item_code:y.item_code||null,is_batched:y.category==="Medicines",photo_url:null,updated_at:null};if(_=await XFe(b),n({title:"Success",description:"New inventory item added."}),i&&_)try{console.log(`Uploading invoice for new item ID: ${_.id}`),await sLe(i,a.id,_.id),n({title:"Invoice Uploaded",description:`Invoice "${i.name}" uploaded successfully.`})}catch(S){console.error("Invoice upload failed after item creation:",S),n({title:"Warning",description:`Item was added, but invoice upload failed: ${S instanceof Error?S.message:"Unknown error"}`,variant:"default",duration:7e3})}}if(!_)throw new Error("Failed to get saved item data.");t(_),o(null)}catch(b){console.error("Failed to save inventory item:",b),n({title:"Error",description:`Failed to save item: ${b instanceof Error?b.message:"Unknown error"}`,variant:"destructive"})}}),className:"flex flex-col h-full",children:[w(tu,{className:"flex-grow pr-6",children:[w("div",{className:"space-y-4",children:[c(He,{control:h,name:"item_name",render:({field:y})=>w(De,{children:[c(Oe,{children:"Item Name"}),c(Me,{children:c(ct,{placeholder:"e.g., Amoxicillin 500mg",...y})}),c(Ze,{})]})}),c(He,{control:h,name:"category",render:({field:y})=>w(De,{children:[c(Oe,{children:"Category"}),w(zr,{onValueChange:y.onChange,value:y.value??"",defaultValue:y.value??"",children:[c(Me,{children:c($r,{children:c(Wr,{placeholder:"Select a category"})})}),c(Br,{children:l.map(_=>c(_t,{value:_,children:_},_))})]}),c(Ze,{})]})}),c(He,{control:h,name:"low_stock_threshold",render:({field:y})=>w(De,{children:[c(Oe,{children:"Low Stock Threshold"}),c(Me,{children:c(ct,{type:"number",min:"0",placeholder:"10",...y,value:String(y.value??"")})}),c(Ze,{})]})}),w("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-start",children:[c(He,{control:h,name:"supplier_info",render:({field:y})=>w(De,{children:[c(Oe,{children:"Supplier Info (Optional)"}),c(Me,{children:c(ct,{placeholder:"e.g., Supplier Name, Contact",...y,value:y.value??""})}),c(Ze,{})]})}),c(He,{control:h,name:"item_code",render:({field:y})=>w(De,{children:[c(Oe,{children:"Item Code/SKU (Optional)"}),c(Me,{children:c(ct,{placeholder:"e.g., MED-001",...y,value:y.value??""})}),c(Ze,{})]})})]}),!s&&w(De,{className:"col-span-1 md:col-span-2",children:[" ",c(Oe,{children:"Attach Invoice (Optional)"}),c(Me,{children:c("div",{className:"flex items-center justify-center w-full",children:w("label",{htmlFor:"invoice-upload",className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed rounded-lg cursor-pointer bg-card hover:bg-muted/50",children:[w("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[c(Z0,{className:"w-8 h-8 mb-4 text-muted-foreground"}),w("p",{className:"mb-2 text-sm text-muted-foreground",children:[c("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),c("p",{className:"text-xs text-muted-foreground",children:"PDF, DOCX, XLSX, PNG, JPG (MAX. 5MB)"})]}),c(ct,{id:"invoice-upload",type:"file",className:"hidden",accept:".pdf,.doc,.docx,.xls,.xlsx,.csv,.jpg,.jpeg,.png",onChange:x})]})})}),i&&w("p",{className:"text-sm text-muted-foreground mt-2 text-center",children:["Selected: ",i.name]})]})]})," "]})," ",w("div",{className:"flex justify-end space-x-2 pt-4 flex-shrink-0",children:[c(Fe,{type:"button",variant:"outline",onClick:()=>{o(null),r()},children:"Cancel"}),c(Fe,{type:"submit",disabled:d.formState.isSubmitting,children:d.formState.isSubmitting?"Saving...":s?"Update Item":"Add Item"})]})]})})},fLe={reorder:c(JH,{className:"text-blue-500",size:16}),expiry:c(Lo,{className:"text-red-500",size:16}),clinical:c(xce,{className:"text-orange-500",size:16})},AW={High:"bg-red-100 text-red-600",Medium:"bg-yellow-100 text-yellow-600",Low:"bg-green-100 text-green-600"},hLe=e=>{var a;const t={},r=[];let n=null;for(const i of e){const o=i.message.trim(),s=o.match(/\*\*(.*?)\*\*/),l=((a=s==null?void 0:s[1])==null?void 0:a.trim())||null;if(l){n=l;const u=o.replace(/\*\*(.*?)\*\*\s*:?/,"").trim();t[n]||(t[n]=[]),u&&u!=="-"&&u.length>5&&t[n].push({insight:i,content:u})}else n?o&&o!=="-"&&o.length>5&&t[n].push({insight:i,content:o}):o&&o.length>10&&o!=="-"&&r.push({insight:i,content:o})}return{grouped:t,ungrouped:r}},pLe=({onLoadingChange:e,onInitialFetchComplete:t})=>{const[r,n]=A.useState(null),[a,i]=A.useState(""),[o,s]=A.useState(!1),[l,u]=A.useState(null),d=async m=>{var x;s(!0),u(null),e(!0);try{m==null||m.throwIfAborted();const{data:g,error:y}=await Le.functions.invoke("ai-insights");if(m==null||m.throwIfAborted(),y)throw y;const _=g;if((x=_.assets)!=null&&x.structuredInsights)n(_.assets.structuredInsights),i(_.generatedAt);else throw new Error("Invalid AI insight format.")}catch(g){g.name==="AbortError"?u("AI insights request timed out (120 seconds)."):g&&typeof g=="object"&&"message"in g?u(g.message||"Unknown error fetching AI insights"):u("An unknown error occurred while fetching AI insights."),n(null)}finally{s(!1),e(!1),t()}};if(A.useEffect(()=>{const m=new AbortController,x=setTimeout(()=>m.abort(),12e4);return d(m.signal),()=>{clearTimeout(x),m.abort(),e(!1),t()}},[e,t]),o)return w(lr,{children:[c(xr,{children:c(wr,{className:"animate-pulse",children:"AI Suggestions"})}),w(mr,{children:[c(Ml,{className:"h-4 w-full mb-2"}),c(Ml,{className:"h-4 w-full mb-2"}),c(Ml,{className:"h-4 w-full mb-2"})]})]});if(l)return w(rd,{variant:"destructive",children:[c(fc,{className:"h-4 w-4"}),c(nd,{children:"Error"}),c(ad,{children:l})]});if(!r)return null;const{grouped:f,ungrouped:h}=hLe(r);return w("div",{className:"space-y-6",children:[w("div",{className:"flex items-center justify-between",children:[w("div",{className:"text-xl font-semibold flex gap-2 items-center",children:[c(J7,{className:"text-yellow-400"}),"AI Suggestions"]}),w("div",{className:"text-xs text-muted-foreground",children:["Generated: ",new Date(a).toLocaleString()]})]}),w("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[Object.entries(f).map(([m,x],g)=>!x||x.length===0?null:w("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-4 space-y-3 hover:shadow-md transition-all",children:[w("div",{className:"flex items-center justify-between",children:[w("div",{className:"font-semibold text-base flex items-center gap-2",children:[fLe[x[0].insight.type],m]}),w("div",{className:`text-xs px-2 py-1 rounded-full font-medium ${AW[x[0].insight.impact]}`,children:[x[0].insight.impact," Impact"]})]}),c("ul",{className:"space-y-2 text-sm text-gray-700",children:x.map((y,_)=>c("li",{className:"border-l-2 pl-3 border-gray-300",children:y.content},_))})]},g)),h.length>0&&w("div",{className:"bg-white rounded-2xl border border-blue-200 shadow-sm p-4 space-y-3 col-span-full",children:[w("div",{className:"font-semibold text-base flex items-center gap-2",children:[c(J7,{className:"text-purple-500"}),"General Suggestions"]}),c("ul",{className:"space-y-2 text-sm text-gray-700",children:h.map((m,x)=>w("li",{className:"flex justify-between items-start border-l-2 pl-3 border-gray-300",children:[c("span",{children:m.content}),c("span",{className:`text-xs px-2 py-0.5 rounded-full font-medium ${AW[m.insight.impact]}`,children:m.insight.impact})]},x))})]})]})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var BS={};BS.version="0.18.5";var tae=1252,mLe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],DR={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},IR=function(e){mLe.indexOf(e)!=-1&&(tae=DR[0]=e)};function gLe(){IR(1252)}var zu=function(e){IR(e)};function RR(){zu(1200),gLe()}function kW(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function vLe(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function rae(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var P2=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?vLe(e.slice(2)):t==254&&r==255?rae(e.slice(2)):t==65279?e.slice(1):e},Nb=function(t){return String.fromCharCode(t)},NW=function(t){return String.fromCharCode(t)},m8,Jp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function uw(e){for(var t="",r=0,n=0,a=0,i=0,o=0,s=0,l=0,u=0;u<e.length;)r=e.charCodeAt(u++),i=r>>2,n=e.charCodeAt(u++),o=(r&3)<<4|n>>4,a=e.charCodeAt(u++),s=(n&15)<<2|a>>6,l=a&63,isNaN(n)?s=l=64:isNaN(a)&&(l=64),t+=Jp.charAt(i)+Jp.charAt(o)+Jp.charAt(s)+Jp.charAt(l);return t}function xc(e){var t="",r=0,n=0,a=0,i=0,o=0,s=0,l=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)i=Jp.indexOf(e.charAt(u++)),o=Jp.indexOf(e.charAt(u++)),r=i<<2|o>>4,t+=String.fromCharCode(r),s=Jp.indexOf(e.charAt(u++)),n=(o&15)<<4|s>>2,s!==64&&(t+=String.fromCharCode(n)),l=Jp.indexOf(e.charAt(u++)),a=(s&3)<<6|l,l!==64&&(t+=String.fromCharCode(a));return t}var Sn=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Fh=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function _m(e){return Sn?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function EW(e){return Sn?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var cc=function(t){return Sn?Fh(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function B3(e){if(typeof ArrayBuffer>"u")return cc(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function Lm(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function yLe(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}function MR(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return MR(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var Fo=Sn?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Fh(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function xLe(e){for(var t=[],r=0,n=e.length+250,a=_m(e.length+255),i=0;i<e.length;++i){var o=e.charCodeAt(i);if(o<128)a[r++]=o;else if(o<2048)a[r++]=192|o>>6&31,a[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var s=e.charCodeAt(++i)&1023;a[r++]=240|o>>8&7,a[r++]=128|o>>2&63,a[r++]=128|s>>6&15|(o&3)<<4,a[r++]=128|s&63}else a[r++]=224|o>>12&15,a[r++]=128|o>>6&63,a[r++]=128|o&63;r>n&&(t.push(a.slice(0,r)),r=0,a=_m(65535),n=65530)}return t.push(a.slice(0,r)),Fo(t)}var cl=/\u0000/g,T2=/[\u0001-\u0006]/g;function h1(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function Wu(e,t){var r=""+e;return r.length>=t?r:Ni("0",t-r.length)+r}function FR(e,t){var r=""+e;return r.length>=t?r:Ni(" ",t-r.length)+r}function US(e,t){var r=""+e;return r.length>=t?r:r+Ni(" ",t-r.length)}function wLe(e,t){var r=""+Math.round(e);return r.length>=t?r:Ni("0",t-r.length)+r}function _Le(e,t){var r=""+e;return r.length>=t?r:Ni("0",t-r.length)+r}var CW=Math.pow(2,32);function Mv(e,t){if(e>CW||e<-CW)return wLe(e,t);var r=Math.round(e);return _Le(r,t)}function qS(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var PW=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],JP=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function bLe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Gr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},TW={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},SLe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function zS(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,o=1,s=0,l=1,u=0,d=0,f=Math.floor(a);u<t&&(f=Math.floor(a),s=f*o+i,d=f*u+l,!(a-f<5e-8));)a=1/(a-f),i=o,o=s,l=u,u=d;if(d>t&&(u>t?(d=l,s=i):(d=u,s=o)),!r)return[0,n*s,d];var h=Math.floor(n*s/d);return[h,n*s-h*d,d]}function j0(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),i=0,o=[],s={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(s.u)<1e-6&&(s.u=0),t&&t.date1904&&(n+=1462),s.u>.9999&&(s.u=0,++a==86400&&(s.T=a=0,++n,++s.D)),n===60)o=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)o=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),o=[l.getFullYear(),l.getMonth()+1,l.getDate()],i=l.getDay(),n<60&&(i=(i+6)%7),r&&(i=PLe(l,o))}return s.y=o[0],s.m=o[1],s.d=o[2],s.S=a%60,a=Math.floor(a/60),s.M=a%60,a=Math.floor(a/60),s.H=a,s.q=i,s}var nae=new Date(1899,11,31,0,0,0),ALe=nae.getTime(),kLe=new Date(1900,2,1,0,0,0);function aae(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=kLe&&(r+=24*60*60*1e3),(r-(ALe+(e.getTimezoneOffset()-nae.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function LR(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function NLe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function ELe(e){var t=e<0?12:11,r=LR(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function CLe(e){var t=LR(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function dw(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=ELe(e):t===10?r=e.toFixed(10).substr(0,12):r=CLe(e),LR(NLe(r.toUpperCase()))}function mg(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):dw(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return ru(14,aae(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function PLe(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function TLe(e,t,r,n){var a="",i=0,o=0,s=r.y,l,u=0;switch(e){case 98:s=r.y+543;case 121:switch(t.length){case 1:case 2:l=s%100,u=2;break;default:l=s%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:l=r.m,u=t.length;break;case 3:return JP[r.m-1][1];case 5:return JP[r.m-1][0];default:return JP[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=r.d,u=t.length;break;case 3:return PW[r.q][0];default:return PW[r.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?Wu(r.S,t.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,i=Math.round(o*(r.S+r.u)),i>=60*o&&(i=0),t==="s"?i===0?"0":""+i/o:(a=Wu(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:l=s,u=1;break}var d=u>0?Wu(l,u):"";return d}function Qp(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var iae=/%/g;function OLe(e,t,r){var n=t.replace(iae,""),a=t.length-n.length;return hh(e,n,r*Math.pow(10,2*a))+Ni("%",a)}function DLe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return hh(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function oae(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+oae(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(s,l,u,d){return l+u+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var sae=/# (\?+)( ?)\/( ?)(\d+)/;function ILe(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),o=a-i*n,s=n;return r+(i===0?"":""+i)+" "+(o===0?Ni(" ",e[1].length+1+e[4].length):FR(o,e[1].length)+e[2]+"/"+e[3]+Wu(s,e[4].length))}function RLe(e,t,r){return r+(t===0?"":""+t)+Ni(" ",e[1].length+2+e[4].length)}var lae=/^#*0*\.([0#]+)/,cae=/\).*[0#]/,uae=/\(###\) ###\\?-####/;function tl(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function OW(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function DW(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function MLe(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function FLe(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Uc(e,t,r){if(e.charCodeAt(0)===40&&!t.match(cae)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Uc("n",n,r):"("+Uc("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return DLe(e,t,r);if(t.indexOf("%")!==-1)return OLe(e,t,r);if(t.indexOf("E")!==-1)return oae(t,r);if(t.charCodeAt(0)===36)return"$"+Uc(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,o,s,l=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+Mv(l,t.length);if(t.match(/^[#?]+$/))return a=Mv(r,0),a==="0"&&(a=""),a.length>t.length?a:tl(t.substr(0,t.length-a.length))+a;if(i=t.match(sae))return ILe(i,l,u);if(t.match(/^#+0+$/))return u+Mv(l,t.length-t.indexOf("0"));if(i=t.match(lae))return a=OW(r,i[1].length).replace(/^([^\.]+)$/,"$1."+tl(i[1])).replace(/\.$/,"."+tl(i[1])).replace(/\.(\d*)$/,function(x,g){return"."+g+Ni("0",tl(i[1]).length-g.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+OW(l,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+Qp(Mv(l,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Uc(e,t,-r):Qp(""+(Math.floor(r)+MLe(r,i[1].length)))+"."+Wu(DW(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return Uc(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=h1(Uc(e,t.replace(/[\\-]/g,""),r)),o=0,h1(h1(t.replace(/\\/g,"")).replace(/[0#]/g,function(x){return o<a.length?a.charAt(o++):x==="0"?"0":""}));if(t.match(uae))return a=Uc(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),s=zS(l,Math.pow(10,o)-1,!1),a=""+u,d=hh("n",i[1],s[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=US(s[2],o),d.length<i[4].length&&(d=tl(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),s=zS(l,Math.pow(10,o)-1,!0),u+(s[0]||(s[1]?"":"0"))+" "+(s[1]?FR(s[1],o)+i[2]+"/"+i[3]+US(s[2],o):Ni(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=Mv(r,0),t.length<=a.length?a:tl(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,h=t.length-a.length-f;return tl(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return o=DW(r,i[1].length),r<0?"-"+Uc(e,t,-r):Qp(FLe(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?Wu(0,3-x.length):"")+x})+"."+Wu(o,i[1].length);switch(t){case"###,##0.00":return Uc(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var m=Qp(Mv(l,0));return m!=="0"?u+m:"";case"###,###.00":return Uc(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Uc(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function LLe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return hh(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function jLe(e,t,r){var n=t.replace(iae,""),a=t.length-n.length;return hh(e,n,r*Math.pow(10,2*a))+Ni("%",a)}function dae(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+dae(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(s,l,u,d){return l+u+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Fd(e,t,r){if(e.charCodeAt(0)===40&&!t.match(cae)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Fd("n",n,r):"("+Fd("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return LLe(e,t,r);if(t.indexOf("%")!==-1)return jLe(e,t,r);if(t.indexOf("E")!==-1)return dae(t,r);if(t.charCodeAt(0)===36)return"$"+Fd(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,o,s,l=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+Wu(l,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:tl(t.substr(0,t.length-a.length))+a;if(i=t.match(sae))return RLe(i,l,u);if(t.match(/^#+0+$/))return u+Wu(l,t.length-t.indexOf("0"));if(i=t.match(lae))return a=(""+r).replace(/^([^\.]+)$/,"$1."+tl(i[1])).replace(/\.$/,"."+tl(i[1])),a=a.replace(/\.(\d*)$/,function(x,g){return"."+g+Ni("0",tl(i[1]).length-g.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+Qp(""+l);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Fd(e,t,-r):Qp(""+r)+"."+Ni("0",i[1].length);if(i=t.match(/^#,#*,#0/))return Fd(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=h1(Fd(e,t.replace(/[\\-]/g,""),r)),o=0,h1(h1(t.replace(/\\/g,"")).replace(/[0#]/g,function(x){return o<a.length?a.charAt(o++):x==="0"?"0":""}));if(t.match(uae))return a=Fd(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),s=zS(l,Math.pow(10,o)-1,!1),a=""+u,d=hh("n",i[1],s[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=US(s[2],o),d.length<i[4].length&&(d=tl(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),s=zS(l,Math.pow(10,o)-1,!0),u+(s[0]||(s[1]?"":"0"))+" "+(s[1]?FR(s[1],o)+i[2]+"/"+i[3]+US(s[2],o):Ni(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:tl(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,h=t.length-a.length-f;return tl(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Fd(e,t,-r):Qp(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?Wu(0,3-x.length):"")+x})+"."+Wu(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var m=Qp(""+l);return m!=="0"?u+m:"";default:if(t.match(/\.[0#?]*$/))return Fd(e,t.slice(0,t.lastIndexOf(".")),r)+tl(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function hh(e,t,r){return(r|0)===r?Fd(e,t,r):Uc(e,t,r)}function $Le(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var fae=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function by(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":qS(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(fae))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function BLe(e,t,r,n){for(var a=[],i="",o=0,s="",l="t",u,d,f,h="H";o<e.length;)switch(s=e.charAt(o)){case"G":if(!qS(e,o))throw new Error("unrecognized character "+s+" in "+e);a[a.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(f=e.charCodeAt(++o))!==34&&o<e.length;)i+=String.fromCharCode(f);a[a.length]={t:"t",v:i},++o;break;case"\\":var m=e.charAt(++o),x=m==="("||m===")"?m:"t";a[a.length]={t:x,v:m},++o;break;case"_":a[a.length]={t:"t",v:" "},o+=2;break;case"@":a[a.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(u==null&&(u=j0(t,r,e.charAt(o+1)==="2"),u==null))return"";a[a.length]={t:"X",v:e.substr(o,2)},l=s,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":s=s.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=j0(t,r),u==null))return"";for(i=s;++o<e.length&&e.charAt(o).toLowerCase()===s;)i+=s;s==="m"&&l.toLowerCase()==="h"&&(s="M"),s==="h"&&(s=h),a[a.length]={t:s,v:i},l=s;break;case"A":case"a":case"":var g={t:s,v:s};if(u==null&&(u=j0(t,r)),e.substr(o,3).toUpperCase()==="A/P"?(u!=null&&(g.v=u.H>=12?"P":"A"),g.t="T",h="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(u!=null&&(g.v=u.H>=12?"PM":"AM"),g.t="T",o+=5,h="h"):e.substr(o,5).toUpperCase()==="/"?(u!=null&&(g.v=u.H>=12?"":""),g.t="T",o+=5,h="h"):(g.t="t",++o),u==null&&g.t==="T")return"";a[a.length]=g,l=s;break;case"[":for(i=s;e.charAt(o++)!=="]"&&o<e.length;)i+=e.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(fae)){if(u==null&&(u=j0(t,r),u==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},l=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",by(e)||(a[a.length]={t:"t",v:i}));break;case".":if(u!=null){for(i=s;++o<e.length&&(s=e.charAt(o))==="0";)i+=s;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=s;++o<e.length&&"0#?.,E+-%".indexOf(s=e.charAt(o))>-1;)i+=s;a[a.length]={t:"n",v:i};break;case"?":for(i=s;e.charAt(++o)===s;)i+=s;a[a.length]={t:s,v:i},l=s;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":a[a.length]={t:n===1?"t":s,v:s},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=s;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)i+=e.charAt(o);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:s,v:s},++o;break;case"$":a[a.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(s)===-1)throw new Error("unrecognized character "+s+" in "+e);a[a.length]={t:"t",v:s},++o;break}var y=0,_=0,b;for(o=a.length-1,l="t";o>=0;--o)switch(a[o].t){case"h":case"H":a[o].t=h,l="h",y<1&&(y=1);break;case"s":(b=a[o].v.match(/\.0+$/))&&(_=Math.max(_,b[0].length-1)),y<3&&(y=3);case"d":case"y":case"M":case"e":l=a[o].t;break;case"m":l==="s"&&(a[o].t="M",y<2&&(y=2));break;case"X":break;case"Z":y<1&&a[o].v.match(/[Hh]/)&&(y=1),y<2&&a[o].v.match(/[Mm]/)&&(y=2),y<3&&a[o].v.match(/[Ss]/)&&(y=3)}switch(y){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var S="",C;for(o=0;o<a.length;++o)switch(a[o].t){case"t":case"T":case" ":case"D":break;case"X":a[o].v="",a[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[o].v=TLe(a[o].t.charCodeAt(0),a[o].v,u,_),a[o].t="t";break;case"n":case"?":for(C=o+1;a[C]!=null&&((s=a[C].t)==="?"||s==="D"||(s===" "||s==="t")&&a[C+1]!=null&&(a[C+1].t==="?"||a[C+1].t==="t"&&a[C+1].v==="/")||a[o].t==="("&&(s===" "||s==="n"||s===")")||s==="t"&&(a[C].v==="/"||a[C].v===" "&&a[C+1]!=null&&a[C+1].t=="?"));)a[o].v+=a[C].v,a[C]={v:"",t:";"},++C;S+=a[o].v,o=C-1;break;case"G":a[o].t="t",a[o].v=mg(t,r);break}var E="",O,P;if(S.length>0){S.charCodeAt(0)==40?(O=t<0&&S.charCodeAt(0)===45?-t:t,P=hh("n",S,O)):(O=t<0&&n>1?-t:t,P=hh("n",S,O),O<0&&a[0]&&a[0].t=="t"&&(P=P.substr(1),a[0].v="-"+a[0].v)),C=P.length-1;var I=a.length;for(o=0;o<a.length;++o)if(a[o]!=null&&a[o].t!="t"&&a[o].v.indexOf(".")>-1){I=o;break}var L=a.length;if(I===a.length&&P.indexOf("E")===-1){for(o=a.length-1;o>=0;--o)a[o]==null||"n?".indexOf(a[o].t)===-1||(C>=a[o].v.length-1?(C-=a[o].v.length,a[o].v=P.substr(C+1,a[o].v.length)):C<0?a[o].v="":(a[o].v=P.substr(0,C+1),C=-1),a[o].t="t",L=o);C>=0&&L<a.length&&(a[L].v=P.substr(0,C+1)+a[L].v)}else if(I!==a.length&&P.indexOf("E")===-1){for(C=P.indexOf(".")-1,o=I;o>=0;--o)if(!(a[o]==null||"n?".indexOf(a[o].t)===-1)){for(d=a[o].v.indexOf(".")>-1&&o===I?a[o].v.indexOf(".")-1:a[o].v.length-1,E=a[o].v.substr(d+1);d>=0;--d)C>=0&&(a[o].v.charAt(d)==="0"||a[o].v.charAt(d)==="#")&&(E=P.charAt(C--)+E);a[o].v=E,a[o].t="t",L=o}for(C>=0&&L<a.length&&(a[L].v=P.substr(0,C+1)+a[L].v),C=P.indexOf(".")+1,o=I;o<a.length;++o)if(!(a[o]==null||"n?(".indexOf(a[o].t)===-1&&o!==I)){for(d=a[o].v.indexOf(".")>-1&&o===I?a[o].v.indexOf(".")+1:0,E=a[o].v.substr(0,d);d<a[o].v.length;++d)C<P.length&&(E+=P.charAt(C++));a[o].v=E,a[o].t="t",L=o}}}for(o=0;o<a.length;++o)a[o]!=null&&"n?".indexOf(a[o].t)>-1&&(O=n>1&&t<0&&o>0&&a[o-1].v==="-"?-t:t,a[o].v=hh(a[o].t,a[o].v,O),a[o].t="t");var U="";for(o=0;o!==a.length;++o)a[o]!=null&&(U+=a[o].v);return U}var IW=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function RW(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function ULe(e,t){var r=$Le(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(IW),s=r[1].match(IW);return RW(t,o)?[n,r[0]]:RW(t,s)?[n,r[1]]:[n,r[o!=null&&s!=null?2:1]]}return[n,i]}function ru(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Gr)[e],n==null&&(n=r.table&&r.table[TW[e]]||Gr[TW[e]]),n==null&&(n=SLe[e]||"General");break}if(qS(n,0))return mg(t,r);t instanceof Date&&(t=aae(t,r.date1904));var a=ULe(n,t);if(qS(a[1]))return mg(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return BLe(a[1],t,r,a[0])}function ph(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Gr[r]==null){t<0&&(t=r);continue}if(Gr[r]==e){t=r;break}}t<0&&(t=391)}return Gr[t]=e,t}function U3(e){for(var t=0;t!=392;++t)e[t]!==void 0&&ph(e[t],t)}function Sy(){Gr=bLe()}var qLe={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},hae=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function zLe(e){var t=typeof e=="number"?Gr[e]:e;return t=t.replace(hae,"(\\d+)"),new RegExp("^"+t+"$")}function WLe(e,t,r){var n=-1,a=-1,i=-1,o=-1,s=-1,l=-1;(t.match(hae)||[]).forEach(function(f,h){var m=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=m;break;case"d":i=m;break;case"h":o=m;break;case"s":l=m;break;case"m":o>=0?s=m:a=m;break}}),l>=0&&s==-1&&a>=0&&(s=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return o==-1&&s==-1&&l==-1?u:n==-1&&a==-1&&i==-1?d:u+"T"+d}var VLe=function(){var e={};e.version="1.2.0";function t(){for(var P=0,I=new Array(256),L=0;L!=256;++L)P=L,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,I[L]=P;return typeof Int32Array<"u"?new Int32Array(I):I}var r=t();function n(P){var I=0,L=0,U=0,T=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(U=0;U!=256;++U)T[U]=P[U];for(U=0;U!=256;++U)for(L=P[U],I=256+U;I<4096;I+=256)L=T[I]=L>>>8^P[L&255];var F=[];for(U=1;U!=16;++U)F[U-1]=typeof Int32Array<"u"?T.subarray(U*256,U*256+256):T.slice(U*256,U*256+256);return F}var a=n(r),i=a[0],o=a[1],s=a[2],l=a[3],u=a[4],d=a[5],f=a[6],h=a[7],m=a[8],x=a[9],g=a[10],y=a[11],_=a[12],b=a[13],S=a[14];function C(P,I){for(var L=I^-1,U=0,T=P.length;U<T;)L=L>>>8^r[(L^P.charCodeAt(U++))&255];return~L}function E(P,I){for(var L=I^-1,U=P.length-15,T=0;T<U;)L=S[P[T++]^L&255]^b[P[T++]^L>>8&255]^_[P[T++]^L>>16&255]^y[P[T++]^L>>>24]^g[P[T++]]^x[P[T++]]^m[P[T++]]^h[P[T++]]^f[P[T++]]^d[P[T++]]^u[P[T++]]^l[P[T++]]^s[P[T++]]^o[P[T++]]^i[P[T++]]^r[P[T++]];for(U+=15;T<U;)L=L>>>8^r[(L^P[T++])&255];return~L}function O(P,I){for(var L=I^-1,U=0,T=P.length,F=0,j=0;U<T;)F=P.charCodeAt(U++),F<128?L=L>>>8^r[(L^F)&255]:F<2048?(L=L>>>8^r[(L^(192|F>>6&31))&255],L=L>>>8^r[(L^(128|F&63))&255]):F>=55296&&F<57344?(F=(F&1023)+64,j=P.charCodeAt(U++)&1023,L=L>>>8^r[(L^(240|F>>8&7))&255],L=L>>>8^r[(L^(128|F>>2&63))&255],L=L>>>8^r[(L^(128|j>>6&15|(F&3)<<4))&255],L=L>>>8^r[(L^(128|j&63))&255]):(L=L>>>8^r[(L^(224|F>>12&15))&255],L=L>>>8^r[(L^(128|F>>6&63))&255],L=L>>>8^r[(L^(128|F&63))&255]);return~L}return e.table=r,e.bstr=C,e.buf=E,e.str=O,e}(),Mr=function(){var t={};t.version="1.2.1";function r(fe,Se){for(var ye=fe.split("/"),we=Se.split("/"),be=0,ke=0,tt=Math.min(ye.length,we.length);be<tt;++be){if(ke=ye[be].length-we[be].length)return ke;if(ye[be]!=we[be])return ye[be]<we[be]?-1:1}return ye.length-we.length}function n(fe){if(fe.charAt(fe.length-1)=="/")return fe.slice(0,-1).indexOf("/")===-1?fe:n(fe.slice(0,-1));var Se=fe.lastIndexOf("/");return Se===-1?fe:fe.slice(0,Se+1)}function a(fe){if(fe.charAt(fe.length-1)=="/")return a(fe.slice(0,-1));var Se=fe.lastIndexOf("/");return Se===-1?fe:fe.slice(Se+1)}function i(fe,Se){typeof Se=="string"&&(Se=new Date(Se));var ye=Se.getHours();ye=ye<<6|Se.getMinutes(),ye=ye<<5|Se.getSeconds()>>>1,fe.write_shift(2,ye);var we=Se.getFullYear()-1980;we=we<<4|Se.getMonth()+1,we=we<<5|Se.getDate(),fe.write_shift(2,we)}function o(fe){var Se=fe.read_shift(2)&65535,ye=fe.read_shift(2)&65535,we=new Date,be=ye&31;ye>>>=5;var ke=ye&15;ye>>>=4,we.setMilliseconds(0),we.setFullYear(ye+1980),we.setMonth(ke-1),we.setDate(be);var tt=Se&31;Se>>>=5;var yt=Se&63;return Se>>>=6,we.setHours(Se),we.setMinutes(yt),we.setSeconds(tt<<1),we}function s(fe){es(fe,0);for(var Se={},ye=0;fe.l<=fe.length-4;){var we=fe.read_shift(2),be=fe.read_shift(2),ke=fe.l+be,tt={};switch(we){case 21589:ye=fe.read_shift(1),ye&1&&(tt.mtime=fe.read_shift(4)),be>5&&(ye&2&&(tt.atime=fe.read_shift(4)),ye&4&&(tt.ctime=fe.read_shift(4))),tt.mtime&&(tt.mt=new Date(tt.mtime*1e3));break}fe.l=ke,Se[we]=tt}return Se}var l;function u(){return l||(l={})}function d(fe,Se){if(fe[0]==80&&fe[1]==75)return An(fe,Se);if((fe[0]|32)==109&&(fe[1]|32)==105)return it(fe,Se);if(fe.length<512)throw new Error("CFB file size "+fe.length+" < 512");var ye=3,we=512,be=0,ke=0,tt=0,yt=0,Ke=0,ot=[],ut=fe.slice(0,512);es(ut,0);var It=f(ut);switch(ye=It[0],ye){case 3:we=512;break;case 4:we=4096;break;case 0:if(It[1]==0)return An(fe,Se);default:throw new Error("Major Version: Expected 3 or 4 saw "+ye)}we!==512&&(ut=fe.slice(0,we),es(ut,28));var Yt=fe.slice(0,we);h(ut,ye);var or=ut.read_shift(4,"i");if(ye===3&&or!==0)throw new Error("# Directory Sectors: Expected 0 saw "+or);ut.l+=4,tt=ut.read_shift(4,"i"),ut.l+=4,ut.chk("00100000","Mini Stream Cutoff Size: "),yt=ut.read_shift(4,"i"),be=ut.read_shift(4,"i"),Ke=ut.read_shift(4,"i"),ke=ut.read_shift(4,"i");for(var Vt=-1,Bt=0;Bt<109&&(Vt=ut.read_shift(4,"i"),!(Vt<0));++Bt)ot[Bt]=Vt;var Xr=m(fe,we);y(Ke,ke,Xr,we,ot);var Ln=b(Xr,tt,ot,we);Ln[tt].name="!Directory",be>0&&yt!==j&&(Ln[yt].name="!MiniFAT"),Ln[ot[0]].name="!FAT",Ln.fat_addrs=ot,Ln.ssz=we;var Qn={},Ua=[],Ul=[],wc=[];S(tt,Ln,Xr,Ua,be,Qn,Ul,yt),x(Ul,wc,Ua),Ua.shift();var Us={FileIndex:Ul,FullPaths:wc};return Se&&Se.raw&&(Us.raw={header:Yt,sectors:Xr}),Us}function f(fe){if(fe[fe.l]==80&&fe[fe.l+1]==75)return[0,0];fe.chk(H,"Header Signature: "),fe.l+=16;var Se=fe.read_shift(2,"u");return[fe.read_shift(2,"u"),Se]}function h(fe,Se){var ye=9;switch(fe.l+=2,ye=fe.read_shift(2)){case 9:if(Se!=3)throw new Error("Sector Shift: Expected 9 saw "+ye);break;case 12:if(Se!=4)throw new Error("Sector Shift: Expected 12 saw "+ye);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ye)}fe.chk("0600","Mini Sector Shift: "),fe.chk("000000000000","Reserved: ")}function m(fe,Se){for(var ye=Math.ceil(fe.length/Se)-1,we=[],be=1;be<ye;++be)we[be-1]=fe.slice(be*Se,(be+1)*Se);return we[ye-1]=fe.slice(ye*Se),we}function x(fe,Se,ye){for(var we=0,be=0,ke=0,tt=0,yt=0,Ke=ye.length,ot=[],ut=[];we<Ke;++we)ot[we]=ut[we]=we,Se[we]=ye[we];for(;yt<ut.length;++yt)we=ut[yt],be=fe[we].L,ke=fe[we].R,tt=fe[we].C,ot[we]===we&&(be!==-1&&ot[be]!==be&&(ot[we]=ot[be]),ke!==-1&&ot[ke]!==ke&&(ot[we]=ot[ke])),tt!==-1&&(ot[tt]=we),be!==-1&&we!=ot[we]&&(ot[be]=ot[we],ut.lastIndexOf(be)<yt&&ut.push(be)),ke!==-1&&we!=ot[we]&&(ot[ke]=ot[we],ut.lastIndexOf(ke)<yt&&ut.push(ke));for(we=1;we<Ke;++we)ot[we]===we&&(ke!==-1&&ot[ke]!==ke?ot[we]=ot[ke]:be!==-1&&ot[be]!==be&&(ot[we]=ot[be]));for(we=1;we<Ke;++we)if(fe[we].type!==0){if(yt=we,yt!=ot[yt])do yt=ot[yt],Se[we]=Se[yt]+"/"+Se[we];while(yt!==0&&ot[yt]!==-1&&yt!=ot[yt]);ot[we]=-1}for(Se[0]+="/",we=1;we<Ke;++we)fe[we].type!==2&&(Se[we]+="/")}function g(fe,Se,ye){for(var we=fe.start,be=fe.size,ke=[],tt=we;ye&&be>0&&tt>=0;)ke.push(Se.slice(tt*F,tt*F+F)),be-=F,tt=P0(ye,tt*4);return ke.length===0?Et(0):Fo(ke).slice(0,fe.size)}function y(fe,Se,ye,we,be){var ke=j;if(fe===j){if(Se!==0)throw new Error("DIFAT chain shorter than expected")}else if(fe!==-1){var tt=ye[fe],yt=(we>>>2)-1;if(!tt)return;for(var Ke=0;Ke<yt&&(ke=P0(tt,Ke*4))!==j;++Ke)be.push(ke);y(P0(tt,we-4),Se-1,ye,we,be)}}function _(fe,Se,ye,we,be){var ke=[],tt=[];be||(be=[]);var yt=we-1,Ke=0,ot=0;for(Ke=Se;Ke>=0;){be[Ke]=!0,ke[ke.length]=Ke,tt.push(fe[Ke]);var ut=ye[Math.floor(Ke*4/we)];if(ot=Ke*4&yt,we<4+ot)throw new Error("FAT boundary crossed: "+Ke+" 4 "+we);if(!fe[ut])break;Ke=P0(fe[ut],ot)}return{nodes:ke,data:HW([tt])}}function b(fe,Se,ye,we){var be=fe.length,ke=[],tt=[],yt=[],Ke=[],ot=we-1,ut=0,It=0,Yt=0,or=0;for(ut=0;ut<be;++ut)if(yt=[],Yt=ut+Se,Yt>=be&&(Yt-=be),!tt[Yt]){Ke=[];var Vt=[];for(It=Yt;It>=0;){Vt[It]=!0,tt[It]=!0,yt[yt.length]=It,Ke.push(fe[It]);var Bt=ye[Math.floor(It*4/we)];if(or=It*4&ot,we<4+or)throw new Error("FAT boundary crossed: "+It+" 4 "+we);if(!fe[Bt]||(It=P0(fe[Bt],or),Vt[It]))break}ke[Yt]={nodes:yt,data:HW([Ke])}}return ke}function S(fe,Se,ye,we,be,ke,tt,yt){for(var Ke=0,ot=we.length?2:0,ut=Se[fe].data,It=0,Yt=0,or;It<ut.length;It+=128){var Vt=ut.slice(It,It+128);es(Vt,64),Yt=Vt.read_shift(2),or=WR(Vt,0,Yt-ot),we.push(or);var Bt={name:or,type:Vt.read_shift(1),color:Vt.read_shift(1),L:Vt.read_shift(4,"i"),R:Vt.read_shift(4,"i"),C:Vt.read_shift(4,"i"),clsid:Vt.read_shift(16),state:Vt.read_shift(4,"i"),start:0,size:0},Xr=Vt.read_shift(2)+Vt.read_shift(2)+Vt.read_shift(2)+Vt.read_shift(2);Xr!==0&&(Bt.ct=C(Vt,Vt.l-8));var Ln=Vt.read_shift(2)+Vt.read_shift(2)+Vt.read_shift(2)+Vt.read_shift(2);Ln!==0&&(Bt.mt=C(Vt,Vt.l-8)),Bt.start=Vt.read_shift(4,"i"),Bt.size=Vt.read_shift(4,"i"),Bt.size<0&&Bt.start<0&&(Bt.size=Bt.type=0,Bt.start=j,Bt.name=""),Bt.type===5?(Ke=Bt.start,be>0&&Ke!==j&&(Se[Ke].name="!StreamData")):Bt.size>=4096?(Bt.storage="fat",Se[Bt.start]===void 0&&(Se[Bt.start]=_(ye,Bt.start,Se.fat_addrs,Se.ssz)),Se[Bt.start].name=Bt.name,Bt.content=Se[Bt.start].data.slice(0,Bt.size)):(Bt.storage="minifat",Bt.size<0?Bt.size=0:Ke!==j&&Bt.start!==j&&Se[Ke]&&(Bt.content=g(Bt,Se[Ke].data,(Se[yt]||{}).data))),Bt.content&&es(Bt.content,0),ke[or]=Bt,tt.push(Bt)}}function C(fe,Se){return new Date((oc(fe,Se+4)/1e7*Math.pow(2,32)+oc(fe,Se)/1e7-11644473600)*1e3)}function E(fe,Se){return u(),d(l.readFileSync(fe),Se)}function O(fe,Se){var ye=Se&&Se.type;switch(ye||Sn&&Buffer.isBuffer(fe)&&(ye="buffer"),ye||"base64"){case"file":return E(fe,Se);case"base64":return d(cc(xc(fe)),Se);case"binary":return d(cc(fe),Se)}return d(fe,Se)}function P(fe,Se){var ye=Se||{},we=ye.root||"Root Entry";if(fe.FullPaths||(fe.FullPaths=[]),fe.FileIndex||(fe.FileIndex=[]),fe.FullPaths.length!==fe.FileIndex.length)throw new Error("inconsistent CFB structure");fe.FullPaths.length===0&&(fe.FullPaths[0]=we+"/",fe.FileIndex[0]={name:we,type:5}),ye.CLSID&&(fe.FileIndex[0].clsid=ye.CLSID),I(fe)}function I(fe){var Se="Sh33tJ5";if(!Mr.find(fe,"/"+Se)){var ye=Et(4);ye[0]=55,ye[1]=ye[3]=50,ye[2]=54,fe.FileIndex.push({name:Se,type:2,content:ye,size:4,L:69,R:69,C:69}),fe.FullPaths.push(fe.FullPaths[0]+Se),L(fe)}}function L(fe,Se){P(fe);for(var ye=!1,we=!1,be=fe.FullPaths.length-1;be>=0;--be){var ke=fe.FileIndex[be];switch(ke.type){case 0:we?ye=!0:(fe.FileIndex.pop(),fe.FullPaths.pop());break;case 1:case 2:case 5:we=!0,isNaN(ke.R*ke.L*ke.C)&&(ye=!0),ke.R>-1&&ke.L>-1&&ke.R==ke.L&&(ye=!0);break;default:ye=!0;break}}if(!(!ye&&!Se)){var tt=new Date(1987,1,19),yt=0,Ke=Object.create?Object.create(null):{},ot=[];for(be=0;be<fe.FullPaths.length;++be)Ke[fe.FullPaths[be]]=!0,fe.FileIndex[be].type!==0&&ot.push([fe.FullPaths[be],fe.FileIndex[be]]);for(be=0;be<ot.length;++be){var ut=n(ot[be][0]);we=Ke[ut],we||(ot.push([ut,{name:a(ut).replace("/",""),type:1,clsid:re,ct:tt,mt:tt,content:null}]),Ke[ut]=!0)}for(ot.sort(function(or,Vt){return r(or[0],Vt[0])}),fe.FullPaths=[],fe.FileIndex=[],be=0;be<ot.length;++be)fe.FullPaths[be]=ot[be][0],fe.FileIndex[be]=ot[be][1];for(be=0;be<ot.length;++be){var It=fe.FileIndex[be],Yt=fe.FullPaths[be];if(It.name=a(Yt).replace("/",""),It.L=It.R=It.C=-(It.color=1),It.size=It.content?It.content.length:0,It.start=0,It.clsid=It.clsid||re,be===0)It.C=ot.length>1?1:-1,It.size=0,It.type=5;else if(Yt.slice(-1)=="/"){for(yt=be+1;yt<ot.length&&n(fe.FullPaths[yt])!=Yt;++yt);for(It.C=yt>=ot.length?-1:yt,yt=be+1;yt<ot.length&&n(fe.FullPaths[yt])!=n(Yt);++yt);It.R=yt>=ot.length?-1:yt,It.type=1}else n(fe.FullPaths[be+1]||"")==n(Yt)&&(It.R=be+1),It.type=2}}}function U(fe,Se){var ye=Se||{};if(ye.fileType=="mad")return xt(fe,ye);switch(L(fe),ye.fileType){case"zip":return wa(fe,ye)}var we=function(or){for(var Vt=0,Bt=0,Xr=0;Xr<or.FileIndex.length;++Xr){var Ln=or.FileIndex[Xr];if(Ln.content){var Qn=Ln.content.length;Qn>0&&(Qn<4096?Vt+=Qn+63>>6:Bt+=Qn+511>>9)}}for(var Ua=or.FullPaths.length+3>>2,Ul=Vt+7>>3,wc=Vt+127>>7,Us=Ul+Bt+Ua+wc,vi=Us+127>>7,_c=vi<=109?0:Math.ceil((vi-109)/127);Us+vi+_c+127>>7>vi;)_c=++vi<=109?0:Math.ceil((vi-109)/127);var qa=[1,_c,vi,wc,Ua,Bt,Vt,0];return or.FileIndex[0].size=Vt<<6,qa[7]=(or.FileIndex[0].start=qa[0]+qa[1]+qa[2]+qa[3]+qa[4]+qa[5])+(qa[6]+7>>3),qa}(fe),be=Et(we[7]<<9),ke=0,tt=0;{for(ke=0;ke<8;++ke)be.write_shift(1,X[ke]);for(ke=0;ke<8;++ke)be.write_shift(2,0);for(be.write_shift(2,62),be.write_shift(2,3),be.write_shift(2,65534),be.write_shift(2,9),be.write_shift(2,6),ke=0;ke<3;++ke)be.write_shift(2,0);for(be.write_shift(4,0),be.write_shift(4,we[2]),be.write_shift(4,we[0]+we[1]+we[2]+we[3]-1),be.write_shift(4,0),be.write_shift(4,4096),be.write_shift(4,we[3]?we[0]+we[1]+we[2]-1:j),be.write_shift(4,we[3]),be.write_shift(-4,we[1]?we[0]-1:j),be.write_shift(4,we[1]),ke=0;ke<109;++ke)be.write_shift(-4,ke<we[2]?we[1]+ke:-1)}if(we[1])for(tt=0;tt<we[1];++tt){for(;ke<236+tt*127;++ke)be.write_shift(-4,ke<we[2]?we[1]+ke:-1);be.write_shift(-4,tt===we[1]-1?j:tt+1)}var yt=function(or){for(tt+=or;ke<tt-1;++ke)be.write_shift(-4,ke+1);or&&(++ke,be.write_shift(-4,j))};for(tt=ke=0,tt+=we[1];ke<tt;++ke)be.write_shift(-4,z.DIFSECT);for(tt+=we[2];ke<tt;++ke)be.write_shift(-4,z.FATSECT);yt(we[3]),yt(we[4]);for(var Ke=0,ot=0,ut=fe.FileIndex[0];Ke<fe.FileIndex.length;++Ke)ut=fe.FileIndex[Ke],ut.content&&(ot=ut.content.length,!(ot<4096)&&(ut.start=tt,yt(ot+511>>9)));for(yt(we[6]+7>>3);be.l&511;)be.write_shift(-4,z.ENDOFCHAIN);for(tt=ke=0,Ke=0;Ke<fe.FileIndex.length;++Ke)ut=fe.FileIndex[Ke],ut.content&&(ot=ut.content.length,!(!ot||ot>=4096)&&(ut.start=tt,yt(ot+63>>6)));for(;be.l&511;)be.write_shift(-4,z.ENDOFCHAIN);for(ke=0;ke<we[4]<<2;++ke){var It=fe.FullPaths[ke];if(!It||It.length===0){for(Ke=0;Ke<17;++Ke)be.write_shift(4,0);for(Ke=0;Ke<3;++Ke)be.write_shift(4,-1);for(Ke=0;Ke<12;++Ke)be.write_shift(4,0);continue}ut=fe.FileIndex[ke],ke===0&&(ut.start=ut.size?ut.start-1:j);var Yt=ke===0&&ye.root||ut.name;if(ot=2*(Yt.length+1),be.write_shift(64,Yt,"utf16le"),be.write_shift(2,ot),be.write_shift(1,ut.type),be.write_shift(1,ut.color),be.write_shift(-4,ut.L),be.write_shift(-4,ut.R),be.write_shift(-4,ut.C),ut.clsid)be.write_shift(16,ut.clsid,"hex");else for(Ke=0;Ke<4;++Ke)be.write_shift(4,0);be.write_shift(4,ut.state||0),be.write_shift(4,0),be.write_shift(4,0),be.write_shift(4,0),be.write_shift(4,0),be.write_shift(4,ut.start),be.write_shift(4,ut.size),be.write_shift(4,0)}for(ke=1;ke<fe.FileIndex.length;++ke)if(ut=fe.FileIndex[ke],ut.size>=4096)if(be.l=ut.start+1<<9,Sn&&Buffer.isBuffer(ut.content))ut.content.copy(be,be.l,0,ut.size),be.l+=ut.size+511&-512;else{for(Ke=0;Ke<ut.size;++Ke)be.write_shift(1,ut.content[Ke]);for(;Ke&511;++Ke)be.write_shift(1,0)}for(ke=1;ke<fe.FileIndex.length;++ke)if(ut=fe.FileIndex[ke],ut.size>0&&ut.size<4096)if(Sn&&Buffer.isBuffer(ut.content))ut.content.copy(be,be.l,0,ut.size),be.l+=ut.size+63&-64;else{for(Ke=0;Ke<ut.size;++Ke)be.write_shift(1,ut.content[Ke]);for(;Ke&63;++Ke)be.write_shift(1,0)}if(Sn)be.l=be.length;else for(;be.l<be.length;)be.write_shift(1,0);return be}function T(fe,Se){var ye=fe.FullPaths.map(function(Ke){return Ke.toUpperCase()}),we=ye.map(function(Ke){var ot=Ke.split("/");return ot[ot.length-(Ke.slice(-1)=="/"?2:1)]}),be=!1;Se.charCodeAt(0)===47?(be=!0,Se=ye[0].slice(0,-1)+Se):be=Se.indexOf("/")!==-1;var ke=Se.toUpperCase(),tt=be===!0?ye.indexOf(ke):we.indexOf(ke);if(tt!==-1)return fe.FileIndex[tt];var yt=!ke.match(T2);for(ke=ke.replace(cl,""),yt&&(ke=ke.replace(T2,"!")),tt=0;tt<ye.length;++tt)if((yt?ye[tt].replace(T2,"!"):ye[tt]).replace(cl,"")==ke||(yt?we[tt].replace(T2,"!"):we[tt]).replace(cl,"")==ke)return fe.FileIndex[tt];return null}var F=64,j=-2,H="d0cf11e0a1b11ae1",X=[208,207,17,224,161,177,26,225],re="00000000000000000000000000000000",z={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:j,FREESECT:-1,HEADER_SIGNATURE:H,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:re,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function G(fe,Se,ye){u();var we=U(fe,ye);l.writeFileSync(Se,we)}function q(fe){for(var Se=new Array(fe.length),ye=0;ye<fe.length;++ye)Se[ye]=String.fromCharCode(fe[ye]);return Se.join("")}function K(fe,Se){var ye=U(fe,Se);switch(Se&&Se.type||"buffer"){case"file":return u(),l.writeFileSync(Se.filename,ye),ye;case"binary":return typeof ye=="string"?ye:q(ye);case"base64":return uw(typeof ye=="string"?ye:q(ye));case"buffer":if(Sn)return Buffer.isBuffer(ye)?ye:Fh(ye);case"array":return typeof ye=="string"?cc(ye):ye}return ye}var J;function D(fe){try{var Se=fe.InflateRaw,ye=new Se;if(ye._processChunk(new Uint8Array([3,0]),ye._finishFlushFlag),ye.bytesRead)J=fe;else throw new Error("zlib does not expose bytesRead")}catch(we){console.error("cannot use native zlib: "+(we.message||we))}}function Y(fe,Se){if(!J)return tn(fe,Se);var ye=J.InflateRaw,we=new ye,be=we._processChunk(fe.slice(fe.l),we._finishFlushFlag);return fe.l+=we.bytesRead,be}function Q(fe){return J?J.deflateRawSync(fe):Je(fe)}var ie=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],se=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],te=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function de(fe){var Se=(fe<<1|fe<<11)&139536|(fe<<5|fe<<15)&558144;return(Se>>16|Se>>8|Se)&255}for(var Z=typeof Uint8Array<"u",ce=Z?new Uint8Array(256):[],oe=0;oe<256;++oe)ce[oe]=de(oe);function ae(fe,Se){var ye=ce[fe&255];return Se<=8?ye>>>8-Se:(ye=ye<<8|ce[fe>>8&255],Se<=16?ye>>>16-Se:(ye=ye<<8|ce[fe>>16&255],ye>>>24-Se))}function Ne(fe,Se){var ye=Se&7,we=Se>>>3;return(fe[we]|(ye<=6?0:fe[we+1]<<8))>>>ye&3}function Ie(fe,Se){var ye=Se&7,we=Se>>>3;return(fe[we]|(ye<=5?0:fe[we+1]<<8))>>>ye&7}function Te(fe,Se){var ye=Se&7,we=Se>>>3;return(fe[we]|(ye<=4?0:fe[we+1]<<8))>>>ye&15}function he(fe,Se){var ye=Se&7,we=Se>>>3;return(fe[we]|(ye<=3?0:fe[we+1]<<8))>>>ye&31}function Ge(fe,Se){var ye=Se&7,we=Se>>>3;return(fe[we]|(ye<=1?0:fe[we+1]<<8))>>>ye&127}function mt(fe,Se,ye){var we=Se&7,be=Se>>>3,ke=(1<<ye)-1,tt=fe[be]>>>we;return ye<8-we||(tt|=fe[be+1]<<8-we,ye<16-we)||(tt|=fe[be+2]<<16-we,ye<24-we)||(tt|=fe[be+3]<<24-we),tt&ke}function ht(fe,Se,ye){var we=Se&7,be=Se>>>3;return we<=5?fe[be]|=(ye&7)<<we:(fe[be]|=ye<<we&255,fe[be+1]=(ye&7)>>8-we),Se+3}function Pt(fe,Se,ye){var we=Se&7,be=Se>>>3;return ye=(ye&1)<<we,fe[be]|=ye,Se+1}function ft(fe,Se,ye){var we=Se&7,be=Se>>>3;return ye<<=we,fe[be]|=ye&255,ye>>>=8,fe[be+1]=ye,Se+8}function _e(fe,Se,ye){var we=Se&7,be=Se>>>3;return ye<<=we,fe[be]|=ye&255,ye>>>=8,fe[be+1]=ye&255,fe[be+2]=ye>>>8,Se+16}function Ce(fe,Se){var ye=fe.length,we=2*ye>Se?2*ye:Se+5,be=0;if(ye>=Se)return fe;if(Sn){var ke=EW(we);if(fe.copy)fe.copy(ke);else for(;be<fe.length;++be)ke[be]=fe[be];return ke}else if(Z){var tt=new Uint8Array(we);if(tt.set)tt.set(fe);else for(;be<ye;++be)tt[be]=fe[be];return tt}return fe.length=we,fe}function ze(fe){for(var Se=new Array(fe),ye=0;ye<fe;++ye)Se[ye]=0;return Se}function gt(fe,Se,ye){var we=1,be=0,ke=0,tt=0,yt=0,Ke=fe.length,ot=Z?new Uint16Array(32):ze(32);for(ke=0;ke<32;++ke)ot[ke]=0;for(ke=Ke;ke<ye;++ke)fe[ke]=0;Ke=fe.length;var ut=Z?new Uint16Array(Ke):ze(Ke);for(ke=0;ke<Ke;++ke)ot[be=fe[ke]]++,we<be&&(we=be),ut[ke]=0;for(ot[0]=0,ke=1;ke<=we;++ke)ot[ke+16]=yt=yt+ot[ke-1]<<1;for(ke=0;ke<Ke;++ke)yt=fe[ke],yt!=0&&(ut[ke]=ot[yt+16]++);var It=0;for(ke=0;ke<Ke;++ke)if(It=fe[ke],It!=0)for(yt=ae(ut[ke],we)>>we-It,tt=(1<<we+4-It)-1;tt>=0;--tt)Se[yt|tt<<It]=It&15|ke<<4;return we}var pt=Z?new Uint16Array(512):ze(512),Re=Z?new Uint16Array(32):ze(32);if(!Z){for(var qe=0;qe<512;++qe)pt[qe]=0;for(qe=0;qe<32;++qe)Re[qe]=0}(function(){for(var fe=[],Se=0;Se<32;Se++)fe.push(5);gt(fe,Re,32);var ye=[];for(Se=0;Se<=143;Se++)ye.push(8);for(;Se<=255;Se++)ye.push(9);for(;Se<=279;Se++)ye.push(7);for(;Se<=287;Se++)ye.push(8);gt(ye,pt,288)})();var Nt=function(){for(var Se=Z?new Uint8Array(32768):[],ye=0,we=0;ye<te.length-1;++ye)for(;we<te[ye+1];++we)Se[we]=ye;for(;we<32768;++we)Se[we]=29;var be=Z?new Uint8Array(259):[];for(ye=0,we=0;ye<se.length-1;++ye)for(;we<se[ye+1];++we)be[we]=ye;function ke(yt,Ke){for(var ot=0;ot<yt.length;){var ut=Math.min(65535,yt.length-ot),It=ot+ut==yt.length;for(Ke.write_shift(1,+It),Ke.write_shift(2,ut),Ke.write_shift(2,~ut&65535);ut-- >0;)Ke[Ke.l++]=yt[ot++]}return Ke.l}function tt(yt,Ke){for(var ot=0,ut=0,It=Z?new Uint16Array(32768):[];ut<yt.length;){var Yt=Math.min(65535,yt.length-ut);if(Yt<10){for(ot=ht(Ke,ot,+(ut+Yt==yt.length)),ot&7&&(ot+=8-(ot&7)),Ke.l=ot/8|0,Ke.write_shift(2,Yt),Ke.write_shift(2,~Yt&65535);Yt-- >0;)Ke[Ke.l++]=yt[ut++];ot=Ke.l*8;continue}ot=ht(Ke,ot,+(ut+Yt==yt.length)+2);for(var or=0;Yt-- >0;){var Vt=yt[ut];or=(or<<5^Vt)&32767;var Bt=-1,Xr=0;if((Bt=It[or])&&(Bt|=ut&-32768,Bt>ut&&(Bt-=32768),Bt<ut))for(;yt[Bt+Xr]==yt[ut+Xr]&&Xr<250;)++Xr;if(Xr>2){Vt=be[Xr],Vt<=22?ot=ft(Ke,ot,ce[Vt+1]>>1)-1:(ft(Ke,ot,3),ot+=5,ft(Ke,ot,ce[Vt-23]>>5),ot+=3);var Ln=Vt<8?0:Vt-4>>2;Ln>0&&(_e(Ke,ot,Xr-se[Vt]),ot+=Ln),Vt=Se[ut-Bt],ot=ft(Ke,ot,ce[Vt]>>3),ot-=3;var Qn=Vt<4?0:Vt-2>>1;Qn>0&&(_e(Ke,ot,ut-Bt-te[Vt]),ot+=Qn);for(var Ua=0;Ua<Xr;++Ua)It[or]=ut&32767,or=(or<<5^yt[ut])&32767,++ut;Yt-=Xr-1}else Vt<=143?Vt=Vt+48:ot=Pt(Ke,ot,1),ot=ft(Ke,ot,ce[Vt]),It[or]=ut&32767,++ut}ot=ft(Ke,ot,0)-1}return Ke.l=(ot+7)/8|0,Ke.l}return function(Ke,ot){return Ke.length<8?ke(Ke,ot):tt(Ke,ot)}}();function Je(fe){var Se=Et(50+Math.floor(fe.length*1.1)),ye=Nt(fe,Se);return Se.slice(0,ye)}var lt=Z?new Uint16Array(32768):ze(32768),sr=Z?new Uint16Array(32768):ze(32768),Kt=Z?new Uint16Array(128):ze(128),Tr=1,Kr=1;function ln(fe,Se){var ye=he(fe,Se)+257;Se+=5;var we=he(fe,Se)+1;Se+=5;var be=Te(fe,Se)+4;Se+=4;for(var ke=0,tt=Z?new Uint8Array(19):ze(19),yt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ke=1,ot=Z?new Uint8Array(8):ze(8),ut=Z?new Uint8Array(8):ze(8),It=tt.length,Yt=0;Yt<be;++Yt)tt[ie[Yt]]=ke=Ie(fe,Se),Ke<ke&&(Ke=ke),ot[ke]++,Se+=3;var or=0;for(ot[0]=0,Yt=1;Yt<=Ke;++Yt)ut[Yt]=or=or+ot[Yt-1]<<1;for(Yt=0;Yt<It;++Yt)(or=tt[Yt])!=0&&(yt[Yt]=ut[or]++);var Vt=0;for(Yt=0;Yt<It;++Yt)if(Vt=tt[Yt],Vt!=0){or=ce[yt[Yt]]>>8-Vt;for(var Bt=(1<<7-Vt)-1;Bt>=0;--Bt)Kt[or|Bt<<Vt]=Vt&7|Yt<<3}var Xr=[];for(Ke=1;Xr.length<ye+we;)switch(or=Kt[Ge(fe,Se)],Se+=or&7,or>>>=3){case 16:for(ke=3+Ne(fe,Se),Se+=2,or=Xr[Xr.length-1];ke-- >0;)Xr.push(or);break;case 17:for(ke=3+Ie(fe,Se),Se+=3;ke-- >0;)Xr.push(0);break;case 18:for(ke=11+Ge(fe,Se),Se+=7;ke-- >0;)Xr.push(0);break;default:Xr.push(or),Ke<or&&(Ke=or);break}var Ln=Xr.slice(0,ye),Qn=Xr.slice(ye);for(Yt=ye;Yt<286;++Yt)Ln[Yt]=0;for(Yt=we;Yt<30;++Yt)Qn[Yt]=0;return Tr=gt(Ln,lt,286),Kr=gt(Qn,sr,30),Se}function Aa(fe,Se){if(fe[0]==3&&!(fe[1]&3))return[_m(Se),2];for(var ye=0,we=0,be=EW(Se||1<<18),ke=0,tt=be.length>>>0,yt=0,Ke=0;(we&1)==0;){if(we=Ie(fe,ye),ye+=3,we>>>1)we>>1==1?(yt=9,Ke=5):(ye=ln(fe,ye),yt=Tr,Ke=Kr);else{ye&7&&(ye+=8-(ye&7));var ot=fe[ye>>>3]|fe[(ye>>>3)+1]<<8;if(ye+=32,ot>0)for(!Se&&tt<ke+ot&&(be=Ce(be,ke+ot),tt=be.length);ot-- >0;)be[ke++]=fe[ye>>>3],ye+=8;continue}for(;;){!Se&&tt<ke+32767&&(be=Ce(be,ke+32767),tt=be.length);var ut=mt(fe,ye,yt),It=we>>>1==1?pt[ut]:lt[ut];if(ye+=It&15,It>>>=4,(It>>>8&255)===0)be[ke++]=It;else{if(It==256)break;It-=257;var Yt=It<8?0:It-4>>2;Yt>5&&(Yt=0);var or=ke+se[It];Yt>0&&(or+=mt(fe,ye,Yt),ye+=Yt),ut=mt(fe,ye,Ke),It=we>>>1==1?Re[ut]:sr[ut],ye+=It&15,It>>>=4;var Vt=It<4?0:It-2>>1,Bt=te[It];for(Vt>0&&(Bt+=mt(fe,ye,Vt),ye+=Vt),!Se&&tt<or&&(be=Ce(be,or+100),tt=be.length);ke<or;)be[ke]=be[ke-Bt],++ke}}}return Se?[be,ye+7>>>3]:[be.slice(0,ke),ye+7>>>3]}function tn(fe,Se){var ye=fe.slice(fe.l||0),we=Aa(ye,Se);return fe.l+=we[1],we[0]}function ka(fe,Se){if(fe)typeof console<"u"&&console.error(Se);else throw new Error(Se)}function An(fe,Se){var ye=fe;es(ye,0);var we=[],be=[],ke={FileIndex:we,FullPaths:be};P(ke,{root:Se.root});for(var tt=ye.length-4;(ye[tt]!=80||ye[tt+1]!=75||ye[tt+2]!=5||ye[tt+3]!=6)&&tt>=0;)--tt;ye.l=tt+4,ye.l+=4;var yt=ye.read_shift(2);ye.l+=6;var Ke=ye.read_shift(4);for(ye.l=Ke,tt=0;tt<yt;++tt){ye.l+=20;var ot=ye.read_shift(4),ut=ye.read_shift(4),It=ye.read_shift(2),Yt=ye.read_shift(2),or=ye.read_shift(2);ye.l+=8;var Vt=ye.read_shift(4),Bt=s(ye.slice(ye.l+It,ye.l+It+Yt));ye.l+=It+Yt+or;var Xr=ye.l;ye.l=Vt+4,xa(ye,ot,ut,ke,Bt),ye.l=Xr}return ke}function xa(fe,Se,ye,we,be){fe.l+=2;var ke=fe.read_shift(2),tt=fe.read_shift(2),yt=o(fe);if(ke&8257)throw new Error("Unsupported ZIP encryption");for(var Ke=fe.read_shift(4),ot=fe.read_shift(4),ut=fe.read_shift(4),It=fe.read_shift(2),Yt=fe.read_shift(2),or="",Vt=0;Vt<It;++Vt)or+=String.fromCharCode(fe[fe.l++]);if(Yt){var Bt=s(fe.slice(fe.l,fe.l+Yt));(Bt[21589]||{}).mt&&(yt=Bt[21589].mt),((be||{})[21589]||{}).mt&&(yt=be[21589].mt)}fe.l+=Yt;var Xr=fe.slice(fe.l,fe.l+ot);switch(tt){case 8:Xr=Y(fe,ut);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+tt)}var Ln=!1;ke&8&&(Ke=fe.read_shift(4),Ke==134695760&&(Ke=fe.read_shift(4),Ln=!0),ot=fe.read_shift(4),ut=fe.read_shift(4)),ot!=Se&&ka(Ln,"Bad compressed size: "+Se+" != "+ot),ut!=ye&&ka(Ln,"Bad uncompressed size: "+ye+" != "+ut),wt(we,or,Xr,{unsafe:!0,mt:yt})}function wa(fe,Se){var ye=Se||{},we=[],be=[],ke=Et(1),tt=ye.compression?8:0,yt=0,Ke=0,ot=0,ut=0,It=0,Yt=fe.FullPaths[0],or=Yt,Vt=fe.FileIndex[0],Bt=[],Xr=0;for(Ke=1;Ke<fe.FullPaths.length;++Ke)if(or=fe.FullPaths[Ke].slice(Yt.length),Vt=fe.FileIndex[Ke],!(!Vt.size||!Vt.content||or=="Sh33tJ5")){var Ln=ut,Qn=Et(or.length);for(ot=0;ot<or.length;++ot)Qn.write_shift(1,or.charCodeAt(ot)&127);Qn=Qn.slice(0,Qn.l),Bt[It]=VLe.buf(Vt.content,0);var Ua=Vt.content;tt==8&&(Ua=Q(Ua)),ke=Et(30),ke.write_shift(4,67324752),ke.write_shift(2,20),ke.write_shift(2,yt),ke.write_shift(2,tt),Vt.mt?i(ke,Vt.mt):ke.write_shift(4,0),ke.write_shift(-4,Bt[It]),ke.write_shift(4,Ua.length),ke.write_shift(4,Vt.content.length),ke.write_shift(2,Qn.length),ke.write_shift(2,0),ut+=ke.length,we.push(ke),ut+=Qn.length,we.push(Qn),ut+=Ua.length,we.push(Ua),ke=Et(46),ke.write_shift(4,33639248),ke.write_shift(2,0),ke.write_shift(2,20),ke.write_shift(2,yt),ke.write_shift(2,tt),ke.write_shift(4,0),ke.write_shift(-4,Bt[It]),ke.write_shift(4,Ua.length),ke.write_shift(4,Vt.content.length),ke.write_shift(2,Qn.length),ke.write_shift(2,0),ke.write_shift(2,0),ke.write_shift(2,0),ke.write_shift(2,0),ke.write_shift(4,0),ke.write_shift(4,Ln),Xr+=ke.l,be.push(ke),Xr+=Qn.length,be.push(Qn),++It}return ke=Et(22),ke.write_shift(4,101010256),ke.write_shift(2,0),ke.write_shift(2,0),ke.write_shift(2,It),ke.write_shift(2,It),ke.write_shift(4,Xr),ke.write_shift(4,ut),ke.write_shift(2,0),Fo([Fo(we),Fo(be),ke])}var kn={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Dr(fe,Se){if(fe.ctype)return fe.ctype;var ye=fe.name||"",we=ye.match(/\.([^\.]+)$/);return we&&kn[we[1]]||Se&&(we=(ye=Se).match(/[\.\\]([^\.\\])+$/),we&&kn[we[1]])?kn[we[1]]:"application/octet-stream"}function Nn(fe){for(var Se=uw(fe),ye=[],we=0;we<Se.length;we+=76)ye.push(Se.slice(we,we+76));return ye.join(`\r
`)+`\r
`}function is(fe){var Se=fe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ot){var ut=ot.charCodeAt(0).toString(16).toUpperCase();return"="+(ut.length==1?"0"+ut:ut)});Se=Se.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Se.charAt(0)==`
`&&(Se="=0D"+Se.slice(1)),Se=Se.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ye=[],we=Se.split(`\r
`),be=0;be<we.length;++be){var ke=we[be];if(ke.length==0){ye.push("");continue}for(var tt=0;tt<ke.length;){var yt=76,Ke=ke.slice(tt,tt+yt);Ke.charAt(yt-1)=="="?yt--:Ke.charAt(yt-2)=="="?yt-=2:Ke.charAt(yt-3)=="="&&(yt-=3),Ke=ke.slice(tt,tt+yt),tt+=yt,tt<ke.length&&(Ke+="="),ye.push(Ke)}}return ye.join(`\r
`)}function Na(fe){for(var Se=[],ye=0;ye<fe.length;++ye){for(var we=fe[ye];ye<=fe.length&&we.charAt(we.length-1)=="=";)we=we.slice(0,we.length-1)+fe[++ye];Se.push(we)}for(var be=0;be<Se.length;++be)Se[be]=Se[be].replace(/[=][0-9A-Fa-f]{2}/g,function(ke){return String.fromCharCode(parseInt(ke.slice(1),16))});return cc(Se.join(`\r
`))}function Di(fe,Se,ye){for(var we="",be="",ke="",tt,yt=0;yt<10;++yt){var Ke=Se[yt];if(!Ke||Ke.match(/^\s*$/))break;var ot=Ke.match(/^(.*?):\s*([^\s].*)$/);if(ot)switch(ot[1].toLowerCase()){case"content-location":we=ot[2].trim();break;case"content-type":ke=ot[2].trim();break;case"content-transfer-encoding":be=ot[2].trim();break}}switch(++yt,be.toLowerCase()){case"base64":tt=cc(xc(Se.slice(yt).join("")));break;case"quoted-printable":tt=Na(Se.slice(yt));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+be)}var ut=wt(fe,we.slice(ye.length),tt,{unsafe:!0});ke&&(ut.ctype=ke)}function it(fe,Se){if(q(fe.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ye=Se&&Se.root||"",we=(Sn&&Buffer.isBuffer(fe)?fe.toString("binary"):q(fe)).split(`\r
`),be=0,ke="";for(be=0;be<we.length;++be)if(ke=we[be],!!/^Content-Location:/i.test(ke)&&(ke=ke.slice(ke.indexOf("file")),ye||(ye=ke.slice(0,ke.lastIndexOf("/")+1)),ke.slice(0,ye.length)!=ye))for(;ye.length>0&&(ye=ye.slice(0,ye.length-1),ye=ye.slice(0,ye.lastIndexOf("/")+1),ke.slice(0,ye.length)!=ye););var tt=(we[1]||"").match(/boundary="(.*?)"/);if(!tt)throw new Error("MAD cannot find boundary");var yt="--"+(tt[1]||""),Ke=[],ot=[],ut={FileIndex:Ke,FullPaths:ot};P(ut);var It,Yt=0;for(be=0;be<we.length;++be){var or=we[be];or!==yt&&or!==yt+"--"||(Yt++&&Di(ut,we.slice(It,be),ye),It=be)}return ut}function xt(fe,Se){var ye=Se||{},we=ye.boundary||"SheetJS";we="------="+we;for(var be=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+we.slice(2)+'"',"","",""],ke=fe.FullPaths[0],tt=ke,yt=fe.FileIndex[0],Ke=1;Ke<fe.FullPaths.length;++Ke)if(tt=fe.FullPaths[Ke].slice(ke.length),yt=fe.FileIndex[Ke],!(!yt.size||!yt.content||tt=="Sh33tJ5")){tt=tt.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Xr){return"_x"+Xr.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Xr){return"_u"+Xr.charCodeAt(0).toString(16)+"_"});for(var ot=yt.content,ut=Sn&&Buffer.isBuffer(ot)?ot.toString("binary"):q(ot),It=0,Yt=Math.min(1024,ut.length),or=0,Vt=0;Vt<=Yt;++Vt)(or=ut.charCodeAt(Vt))>=32&&or<128&&++It;var Bt=It>=Yt*4/5;be.push(we),be.push("Content-Location: "+(ye.root||"file:///C:/SheetJS/")+tt),be.push("Content-Transfer-Encoding: "+(Bt?"quoted-printable":"base64")),be.push("Content-Type: "+Dr(yt,tt)),be.push(""),be.push(Bt?is(ut):Nn(ut))}return be.push(we+`--\r
`),be.join(`\r
`)}function et(fe){var Se={};return P(Se,fe),Se}function wt(fe,Se,ye,we){var be=we&&we.unsafe;be||P(fe);var ke=!be&&Mr.find(fe,Se);if(!ke){var tt=fe.FullPaths[0];Se.slice(0,tt.length)==tt?tt=Se:(tt.slice(-1)!="/"&&(tt+="/"),tt=(tt+Se).replace("//","/")),ke={name:a(Se),type:2},fe.FileIndex.push(ke),fe.FullPaths.push(tt),be||Mr.utils.cfb_gc(fe)}return ke.content=ye,ke.size=ye?ye.length:0,we&&(we.CLSID&&(ke.clsid=we.CLSID),we.mt&&(ke.mt=we.mt),we.ct&&(ke.ct=we.ct)),ke}function vr(fe,Se){P(fe);var ye=Mr.find(fe,Se);if(ye){for(var we=0;we<fe.FileIndex.length;++we)if(fe.FileIndex[we]==ye)return fe.FileIndex.splice(we,1),fe.FullPaths.splice(we,1),!0}return!1}function Nr(fe,Se,ye){P(fe);var we=Mr.find(fe,Se);if(we){for(var be=0;be<fe.FileIndex.length;++be)if(fe.FileIndex[be]==we)return fe.FileIndex[be].name=a(ye),fe.FullPaths[be]=ye,!0}return!1}function Qt(fe){L(fe,!0)}return t.find=T,t.read=O,t.parse=d,t.write=K,t.writeFile=G,t.utils={cfb_new:et,cfb_add:wt,cfb_del:vr,cfb_mov:Nr,cfb_gc:Qt,ReadShift:G2,CheckField:Mae,prep_blob:es,bconcat:Fo,use_zlib:D,_deflateRaw:Je,_inflateRaw:tn,consts:z},t}();function HLe(e){return typeof e=="string"?B3(e):Array.isArray(e)?yLe(e):e}function t_(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=B3(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?Zd(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var a=new Blob([HLe(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=i,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var s=File(e);return s.open("w"),s.encoding="binary",Array.isArray(t)&&(t=Lm(t)),s.write(t),s.close(),t}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+e)}function GLe(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function Oi(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function MW(e,t){for(var r=[],n=Oi(e),a=0;a!==n.length;++a)r[e[n[a]][t]]==null&&(r[e[n[a]][t]]=n[a]);return r}function q3(e){for(var t=[],r=Oi(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function z3(e){for(var t=[],r=Oi(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function YLe(e){for(var t=[],r=Oi(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var WS=new Date(1899,11,30,0,0,0);function xo(e,t){var r=e.getTime(),n=WS.getTime()+(e.getTimezoneOffset()-WS.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var pae=new Date,KLe=WS.getTime()+(pae.getTimezoneOffset()-WS.getTimezoneOffset())*6e4,FW=pae.getTimezoneOffset();function W3(e){var t=new Date;return t.setTime(e*24*60*60*1e3+KLe),t.getTimezoneOffset()!==FW&&t.setTime(t.getTime()+(t.getTimezoneOffset()-FW)*6e4),t}function XLe(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=a.length;++i)if(a[i]){switch(r=1,i>3&&(n=!0),a[i].slice(a[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[i].slice(a[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[i],10)}return t}var LW=new Date("2017-02-19T19:06:09.000Z"),mae=isNaN(LW.getFullYear())?new Date("2/19/17"):LW,ZLe=mae.getFullYear()==2017;function ei(e,t){var r=new Date(e);if(ZLe)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(mae.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function gg(e,t){if(Sn&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return Zd(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return Zd(rae(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return Zd(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return Zd(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function ti(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=ti(e[r]));return t}function Ni(e,t){for(var r="";r.length<t;)r+=e;return r}function Yu(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var JLe=["january","february","march","april","may","june","july","august","september","october","november","december"];function ey(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&JLe.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var QLe=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var i=r.split(n),o=[i[0]],s=1;s<i.length;++s)o.push(a),o.push(i[s]);return o}}();function gae(e){return e?e.content&&e.type?gg(e.content,!0):e.data?P2(e.data):e.asNodeBuffer&&Sn?P2(e.asNodeBuffer().toString("binary")):e.asBinary?P2(e.asBinary()):e._data&&e._data.getContent?P2(gg(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function vae(e){if(!e)return null;if(e.data)return kW(e.data);if(e.asNodeBuffer&&Sn)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?kW(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function e9e(e){return e&&e.name.slice(-4)===".bin"?vae(e):gae(e)}function Wc(e,t){for(var r=e.FullPaths||Oi(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),i=0;i<r.length;++i){var o=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==o||a==o)return e.files?e.files[r[i]]:e.FileIndex[i]}return null}function jR(e,t){var r=Wc(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function oo(e,t,r){if(!r)return e9e(jR(e,t));if(!t)return null;try{return oo(e,t)}catch{return null}}function uc(e,t,r){if(!r)return gae(jR(e,t));if(!t)return null;try{return uc(e,t)}catch{return null}}function t9e(e,t,r){return vae(jR(e,t))}function jW(e){for(var t=e.FullPaths||Oi(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function _n(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Sn?n=Fh(r):n=xLe(r),Mr.utils.cfb_add(e,t,n)}Mr.utils.cfb_add(e,t,r)}else e.file(t,r)}function $R(){return Mr.utils.cfb_new()}function yae(e,t){switch(t.type){case"base64":return Mr.read(e,{type:"base64"});case"binary":return Mr.read(e,{type:"binary"});case"buffer":case"array":return Mr.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function O2(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var eo=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,r9e=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,$W=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,n9e=/<[^>]*>/g,Bs=eo.match($W)?$W:n9e,a9e=/<\w*:/,i9e=/<(\/?)\w+:/;function an(e,t,r){for(var n={},a=0,i=0;a!==e.length&&!((i=e.charCodeAt(a))===32||i===10||i===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var o=e.match(r9e),s=0,l="",u=0,d="",f="",h=1;if(o)for(u=0;u!=o.length;++u){for(f=o[u],i=0;i!=f.length&&f.charCodeAt(i)!==61;++i);for(d=f.slice(0,i).trim();f.charCodeAt(i+1)==32;)++i;for(h=(a=f.charCodeAt(i+1))==34||a==39?1:0,l=f.slice(i+1+h,f.length-h),s=0;s!=d.length&&d.charCodeAt(s)!==58;++s);if(s===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),n[d]=l,n[d.toLowerCase()]=l;else{var m=(s===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(s+1);if(n[m]&&d.slice(s-3,s)=="ext")continue;n[m]=l,n[m.toLowerCase()]=l}}return n}function xf(e){return e.replace(i9e,"<$1")}var xae={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},BR=q3(xae),Wn=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",i=a.indexOf("<![CDATA[");if(i==-1)return a.replace(e,function(s,l){return xae[s]||String.fromCharCode(parseInt(l,s.indexOf("x")>-1?16:10))||s}).replace(t,function(s,l){return String.fromCharCode(parseInt(l,16))});var o=a.indexOf("]]>");return r(a.slice(0,i))+a.slice(i+9,o)+r(a.slice(o+3))}}(),UR=/[&<>'"]/g,o9e=/[\u0000-\u0008\u000b-\u001f]/g;function ya(e){var t=e+"";return t.replace(UR,function(r){return BR[r]}).replace(o9e,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function BW(e){return ya(e).replace(/ /g,"_x0020_")}var wae=/[\u0000-\u001f]/g;function qR(e){var t=e+"";return t.replace(UR,function(r){return BR[r]}).replace(/\n/g,"<br/>").replace(wae,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function s9e(e){var t=e+"";return t.replace(UR,function(r){return BR[r]}).replace(wae,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}var UW=function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}}();function l9e(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function Za(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function QP(e){for(var t="",r=0,n=0,a=0,i=0,o=0,s=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){o=(n&31)<<6,o|=a&63,t+=String.fromCharCode(o);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}o=e.charCodeAt(r++),s=((n&7)<<18|(a&63)<<12|(i&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(s>>>10&1023)),t+=String.fromCharCode(56320+(s&1023))}return t}function qW(e){var t=_m(2*e.length),r,n,a=1,i=0,o=0,s;for(n=0;n<e.length;n+=a)a=1,(s=e.charCodeAt(n))<128?r=s:s<224?(r=(s&31)*64+(e.charCodeAt(n+1)&63),a=2):s<240?(r=(s&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(s&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(t[i++]=o&255,t[i++]=o>>>8,o=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function zW(e){return Fh(e,"binary").toString("utf8")}var Eb="foo bar baz",ba=Sn&&(zW(Eb)==QP(Eb)&&zW||qW(Eb)==QP(Eb)&&qW)||QP,Zd=Sn?function(e){return Fh(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},fw=function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),_ae=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),c9e=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),u9e=/<\/?(?:vt:)?variant>/g,d9e=/<(?:vt:)([^>]*)>([\s\S]*)</;function WW(e,t){var r=an(e),n=e.match(c9e(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(i){var o=i.replace(u9e,"").match(d9e);o&&a.push({v:ba(o[2]),t:o[1]})}),a}var bae=/(^\s|\s$|\n)/;function rs(e,t){return"<"+e+(t.match(bae)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function hw(e){return Oi(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function tr(e,t,r){return"<"+e+(r!=null?hw(r):"")+(t!=null?(t.match(bae)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function g8(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function f9e(e,t){switch(typeof e){case"string":var r=tr("vt:lpwstr",ya(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return tr((e|0)==e?"vt:i4":"vt:r8",ya(String(e)));case"boolean":return tr("vt:bool",e?"true":"false")}if(e instanceof Date)return tr("vt:filetime",g8(e));throw new Error("Unable to serialize "+e)}function zR(e){if(Sn&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return ba(Lm(MR(e)));throw new Error("Bad input format: expected Buffer or string")}var pw=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,vo={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Mg=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],ic={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function h9e(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function p9e(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,o=n?-t:t;isFinite(o)?o==0?a=i=0:(a=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var s=0;s<=5;++s,i/=256)e[r+s]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var VW=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},HW=Sn?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Fh(t)})):VW(e)}:VW,GW=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(uh(e,a)));return n.join("").replace(cl,"")},WR=Sn?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(cl,""):GW(e,t,r)}:GW,YW=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},Sae=Sn?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):YW(e,t,r)}:YW,KW=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(qv(e,a)));return n.join("")},r_=Sn?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):KW(t,r,n)}:KW,Aae=function(e,t){var r=oc(e,t);return r>0?r_(e,t+4,t+4+r-1):""},kae=Aae,Nae=function(e,t){var r=oc(e,t);return r>0?r_(e,t+4,t+4+r-1):""},Eae=Nae,Cae=function(e,t){var r=2*oc(e,t);return r>0?r_(e,t+4,t+4+r-1):""},Pae=Cae,Tae=function(t,r){var n=oc(t,r);return n>0?WR(t,r+4,r+4+n):""},Oae=Tae,Dae=function(e,t){var r=oc(e,t);return r>0?r_(e,t+4,t+4+r):""},Iae=Dae,Rae=function(e,t){return h9e(e,t)},VS=Rae,VR=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Sn&&(kae=function(t,r){if(!Buffer.isBuffer(t))return Aae(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},Eae=function(t,r){if(!Buffer.isBuffer(t))return Nae(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},Pae=function(t,r){if(!Buffer.isBuffer(t))return Cae(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},Oae=function(t,r){if(!Buffer.isBuffer(t))return Tae(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},Iae=function(t,r){if(!Buffer.isBuffer(t))return Dae(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},VS=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):Rae(t,r)},VR=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var qv=function(e,t){return e[t]},uh=function(e,t){return e[t+1]*256+e[t]},m9e=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},oc=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},P0=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},g9e=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function G2(e,t){var r="",n,a,i=[],o,s,l,u;switch(t){case"dbcs":if(u=this.l,Sn&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(l=0;l<e;++l)r+=String.fromCharCode(uh(this,u)),u+=2;e*=2;break;case"utf8":r=r_(this,this.l,this.l+e);break;case"utf16le":e*=2,r=WR(this,this.l,this.l+e);break;case"wstr":return G2.call(this,e,"dbcs");case"lpstr-ansi":r=kae(this,this.l),e=4+oc(this,this.l);break;case"lpstr-cp":r=Eae(this,this.l),e=4+oc(this,this.l);break;case"lpwstr":r=Pae(this,this.l),e=4+2*oc(this,this.l);break;case"lpp4":e=4+oc(this,this.l),r=Oae(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+oc(this,this.l),r=Iae(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=qv(this,this.l+e++))!==0;)i.push(Nb(o));r=i.join("");break;case"_wstr":for(e=0,r="";(o=uh(this,this.l+e))!==0;)i.push(Nb(o)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",u=this.l,l=0;l<e;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return o=qv(this,u),this.l=u+1,s=G2.call(this,e-l,o?"dbcs-cont":"sbcs-cont"),i.join("")+s;i.push(Nb(uh(this,u))),u+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,l=0;l!=e;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return o=qv(this,u),this.l=u+1,s=G2.call(this,e-l,o?"dbcs-cont":"sbcs-cont"),i.join("")+s;i.push(Nb(qv(this,u))),u+=1}r=i.join("");break;default:switch(e){case 1:return n=qv(this,this.l),this.l++,n;case 2:return n=(t==="i"?m9e:uh)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(n=(e>0?P0:g9e)(this,this.l),this.l+=4,n):(a=oc(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=VS(this,this.l):a=VS([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=Sae(this,this.l,e);break}}return this.l+=e,r}var v9e=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},y9e=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},x9e=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function w9e(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)x9e(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var o=t.charCodeAt(a);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,v9e(this,t,this.l);break;case 8:if(n=8,r==="f"){p9e(this,t,this.l);break}case 16:break;case-4:n=4,y9e(this,t,this.l);break}return this.l+=n,this}function Mae(e,t){var r=Sae(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function es(e,t){e.l=t,e.read_shift=G2,e.chk=Mae,e.write_shift=w9e}function $s(e,t){e.l+=t}function Et(e){var t=_m(e);return es(t,0),t}function Lh(e,t,r){if(e){var n,a,i;es(e,e.l||0);for(var o=e.length,s=0,l=0;e.l<o;){s=e.read_shift(1),s&128&&(s=(s&127)+((e.read_shift(1)&127)<<7));var u=ww[s]||ww[65535];for(n=e.read_shift(1),i=n&127,a=1;a<4&&n&128;++a)i+=((n=e.read_shift(1))&127)<<7*a;l=e.l+i;var d=u.f&&u.f(e,i,r);if(e.l=l,t(d,u,s))return}}}function Fl(){var e=[],t=Sn?256:2048,r=function(u){var d=Et(u);return es(d,0),d},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(u){return n&&u<n.length-n.l?n:(a(),n=r(Math.max(u+1,t)))},o=function(){return a(),Fo(e)},s=function(u){a(),n=u,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:s,end:o,_bufs:e}}function Dt(e,t,r,n){var a=+t,i;if(!isNaN(a)){n||(n=ww[a].p||(r||[]).length||0),i=1+(a>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var o=e.next(i);a<=127?o.write_shift(1,a):(o.write_shift(1,(a&127)+128),o.write_shift(1,a>>7));for(var s=0;s!=4;++s)if(n>=128)o.write_shift(1,(n&127)+128),n>>=7;else{o.write_shift(1,n);break}n>0&&VR(r)&&e.push(r)}}function Y2(e,t,r){var n=ti(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function XW(e,t,r){var n=ti(e);return n.s=Y2(n.s,t.s,r),n.e=Y2(n.e,t.s,r),n}function K2(e,t){if(e.cRel&&e.c<0)for(e=ti(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=ti(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Qr(e);return!e.cRel&&e.cRel!=null&&(r=S9e(r)),!e.rRel&&e.rRel!=null&&(r=_9e(r)),r}function eT(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+mi(e.s.c)+":"+(e.e.cRel?"":"$")+mi(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Zi(e.s.r)+":"+(e.e.rRel?"":"$")+Zi(e.e.r):K2(e.s,t.biff)+":"+K2(e.e,t.biff)}function HR(e){return parseInt(b9e(e),10)-1}function Zi(e){return""+(e+1)}function _9e(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function b9e(e){return e.replace(/\$(\d+)$/,"$1")}function GR(e){for(var t=A9e(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function mi(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function S9e(e){return e.replace(/^([A-Z])/,"$$$1")}function A9e(e){return e.replace(/^\$([A-Z])/,"$1")}function k9e(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function gi(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function Qr(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Ll(e){var t=e.indexOf(":");return t==-1?{s:gi(e),e:gi(e)}:{s:gi(e.slice(0,t)),e:gi(e.slice(t+1))}}function gn(e,t){return typeof t>"u"||typeof t=="number"?gn(e.s,e.e):(typeof e!="string"&&(e=Qr(e)),typeof t!="string"&&(t=Qr(t)),e==t?e:e+":"+t)}function Vn(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function ZW(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=ru(e.z,r?xo(t):t)}catch{}try{return e.w=ru((e.XF||{}).numFmtId||(r?14:0),r?xo(t):t)}catch{return""+t}}function Nh(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?jh[e.v]||e.v:t==null?ZW(e,e.v):ZW(e,t))}function jm(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function Fae(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,i=e||(a?[]:{}),o=0,s=0;if(i&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var l=typeof n.origin=="string"?gi(n.origin):n.origin;o=l.r,s=l.c}i["!ref"]||(i["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var d=Vn(i["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),o==-1&&(u.e.r=o=d.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var m={v:t[f][h]},x=o+f,g=s+h;if(u.s.r>x&&(u.s.r=x),u.s.c>g&&(u.s.c=g),u.e.r<x&&(u.e.r=x),u.e.c<g&&(u.e.c=g),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))m=t[f][h];else if(Array.isArray(m.v)&&(m.f=t[f][h][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(n.nullError)m.t="e",m.v=0;else if(n.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=n.dateNF||Gr[14],n.cellDates?(m.t="d",m.w=ru(m.z,xo(m.v))):(m.t="n",m.v=xo(m.v),m.w=ru(m.z,m.v))):m.t="s";if(a)i[x]||(i[x]=[]),i[x][g]&&i[x][g].z&&(m.z=i[x][g].z),i[x][g]=m;else{var y=Qr({c:g,r:x});i[y]&&i[y].z&&(m.z=i[y].z),i[y]=m}}}return u.s.c<1e7&&(i["!ref"]=gn(u)),i}function Ay(e,t){return Fae(null,e,t)}function N9e(e){return e.read_shift(4,"i")}function Ku(e,t){return t||(t=Et(4)),t.write_shift(4,e),t}function Rs(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function jo(e,t){var r=!1;return t==null&&(r=!0,t=Et(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function E9e(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function C9e(e,t){return t||(t=Et(4)),t.write_shift(2,0),t.write_shift(2,0),t}function YR(e,t){var r=e.l,n=e.read_shift(1),a=Rs(e),i=[],o={t:a,h:a};if((n&1)!==0){for(var s=e.read_shift(4),l=0;l!=s;++l)i.push(E9e(e));o.r=i}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}function P9e(e,t){var r=!1;return t==null&&(r=!0,t=Et(15+4*e.t.length)),t.write_shift(1,0),jo(e.t,t),r?t.slice(0,t.l):t}var T9e=YR;function O9e(e,t){var r=!1;return t==null&&(r=!0,t=Et(23+4*e.t.length)),t.write_shift(1,1),jo(e.t,t),t.write_shift(4,1),C9e({},t),r?t.slice(0,t.l):t}function ou(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Fg(e,t){return t==null&&(t=Et(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function Lg(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function jg(e,t){return t==null&&(t=Et(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var D9e=Rs,Lae=jo;function KR(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function HS(e,t){var r=!1;return t==null&&(r=!0,t=Et(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var I9e=Rs,v8=KR,XR=HS;function ZR(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?VS([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):P0(t,0)>>2;return r?a/100:a}function jae(e,t){t==null&&(t=Et(4));var r=0,n=0,a=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?n=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function $ae(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function R9e(e,t){return t||(t=Et(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var $g=$ae,ky=R9e;function Ds(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function vg(e,t){return(t||Et(8)).write_shift(8,e,"f")}function M9e(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),o=e.read_shift(1),s=e.read_shift(1),l=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var u=G0[a];u&&(t.rgb=gw(u));break;case 2:t.rgb=gw([o,s,l]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function GS(e,t){if(t||(t=Et(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function F9e(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function L9e(e,t){t||(t=Et(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}function Bae(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function j9e(e){return Bae(e,1)}function $9e(e){return Bae(e,2)}var JR=2,Cl=3,Cb=11,JW=12,YS=19,Pb=64,B9e=65,U9e=71,q9e=4108,z9e=4126,Do=80,Uae=81,W9e=[Do,Uae],y8={1:{n:"CodePage",t:JR},2:{n:"Category",t:Do},3:{n:"PresentationFormat",t:Do},4:{n:"ByteCount",t:Cl},5:{n:"LineCount",t:Cl},6:{n:"ParagraphCount",t:Cl},7:{n:"SlideCount",t:Cl},8:{n:"NoteCount",t:Cl},9:{n:"HiddenCount",t:Cl},10:{n:"MultimediaClipCount",t:Cl},11:{n:"ScaleCrop",t:Cb},12:{n:"HeadingPairs",t:q9e},13:{n:"TitlesOfParts",t:z9e},14:{n:"Manager",t:Do},15:{n:"Company",t:Do},16:{n:"LinksUpToDate",t:Cb},17:{n:"CharacterCount",t:Cl},19:{n:"SharedDoc",t:Cb},22:{n:"HyperlinksChanged",t:Cb},23:{n:"AppVersion",t:Cl,p:"version"},24:{n:"DigSig",t:B9e},26:{n:"ContentType",t:Do},27:{n:"ContentStatus",t:Do},28:{n:"Language",t:Do},29:{n:"Version",t:Do},255:{},2147483648:{n:"Locale",t:YS},2147483651:{n:"Behavior",t:YS},1919054434:{}},x8={1:{n:"CodePage",t:JR},2:{n:"Title",t:Do},3:{n:"Subject",t:Do},4:{n:"Author",t:Do},5:{n:"Keywords",t:Do},6:{n:"Comments",t:Do},7:{n:"Template",t:Do},8:{n:"LastAuthor",t:Do},9:{n:"RevNumber",t:Do},10:{n:"EditTime",t:Pb},11:{n:"LastPrinted",t:Pb},12:{n:"CreatedDate",t:Pb},13:{n:"ModifiedDate",t:Pb},14:{n:"PageCount",t:Cl},15:{n:"WordCount",t:Cl},16:{n:"CharCount",t:Cl},17:{n:"Thumbnail",t:U9e},18:{n:"Application",t:Do},19:{n:"DocSecurity",t:Cl},255:{},2147483648:{n:"Locale",t:YS},2147483651:{n:"Behavior",t:YS},1919054434:{}},QW={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},V9e=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function H9e(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var G9e=H9e([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),G0=ti(G9e),jh={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},qae={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},w8={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Tb={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function QR(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Y9e(e){var t=QR();if(!e||!e.match)return t;var r={};if((e.match(Bs)||[]).forEach(function(n){var a=an(n);switch(a[0].replace(a9e,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[w8[a.ContentType]]!==void 0&&t[w8[a.ContentType]].push(a.PartName);break}}),t.xmlns!==vo.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}function zae(e,t){var r=YLe(w8),n=[],a;n[n.length]=eo,n[n.length]=tr("Types",null,{xmlns:vo.CT,"xmlns:xsd":vo.xsd,"xmlns:xsi":vo.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return tr("Default",null,{Extension:l[0],ContentType:l[1]})}));var i=function(l){e[l]&&e[l].length>0&&(a=e[l][0],n[n.length]=tr("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:Tb[l][t.bookType]||Tb[l].xlsx}))},o=function(l){(e[l]||[]).forEach(function(u){n[n.length]=tr("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:Tb[l][t.bookType]||Tb[l].xlsx})})},s=function(l){(e[l]||[]).forEach(function(u){n[n.length]=tr("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[l][0]})})};return i("workbooks"),o("sheets"),o("charts"),s("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(s),s("vba"),s("comments"),s("threadedcomments"),s("drawings"),o("metadata"),s("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var Cn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function mw(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function X2(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(Bs)||[]).forEach(function(a){var i=an(a);if(i[0]==="<Relationship"){var o={};o.Type=i.Type,o.Target=i.Target,o.Id=i.Id,i.TargetMode&&(o.TargetMode=i.TargetMode);var s=i.TargetMode==="External"?i.Target:O2(i.Target,t);r[s]=o,n[i.Id]=o}}),r["!id"]=n,r}function p1(e){var t=[eo,tr("Relationships",null,{xmlns:vo.RELS})];return Oi(e["!id"]).forEach(function(r){t[t.length]=tr("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function ga(e,t,r,n,a,i){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=n,a.Target=r,[Cn.HLINK,Cn.XPATH,Cn.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}var K9e="application/vnd.oasis.opendocument.spreadsheet";function X9e(e,t){for(var r=zR(e),n,a;n=pw.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=an(n[0],!1),a.path=="/"&&a.type!==K9e)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}function Z9e(e){var t=[eo];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function eV(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function J9e(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function Q9e(e){var t=[eo];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(eV(e[r][0],e[r][1])),t.push(J9e("",e[r][0]));return t.push(eV("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function Wae(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+BS.version+"</meta:generator></office:meta></office:document-meta>"}var Jc=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],eje=function(){for(var e=new Array(Jc.length),t=0;t<Jc.length;++t){var r=Jc[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function Vae(e){var t={};e=ba(e);for(var r=0;r<Jc.length;++r){var n=Jc[r],a=e.match(eje[r]);a!=null&&a.length>0&&(t[n[1]]=Wn(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=ei(t[n[1]]))}return t}function tT(e,t,r,n,a){a[e]!=null||t==null||t===""||(a[e]=t,t=ya(t),n[n.length]=r?tr(e,t,r):rs(e,t))}function Hae(e,t){var r=t||{},n=[eo,tr("cp:coreProperties",null,{"xmlns:cp":vo.CORE_PROPS,"xmlns:dc":vo.dc,"xmlns:dcterms":vo.dcterms,"xmlns:dcmitype":vo.dcmitype,"xmlns:xsi":vo.xsi})],a={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&tT("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:g8(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),e.ModifiedDate!=null&&tT("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:g8(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var i=0;i!=Jc.length;++i){var o=Jc[i],s=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:e?e[o[1]]:null;s===!0?s="1":s===!1?s="0":typeof s=="number"&&(s=String(s)),s!=null&&tT(o[0],s,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var Y0=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],Gae=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function Yae(e,t,r,n){var a=[];if(typeof e=="string")a=WW(e,n);else for(var i=0;i<e.length;++i)a=a.concat(e[i].map(function(d){return{v:d}}));var o=typeof t=="string"?WW(t,n).map(function(d){return d.v}):t,s=0,l=0;if(o.length>0)for(var u=0;u!==a.length;u+=2){switch(l=+a[u+1].v,a[u].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=l,r.SheetNames=o.slice(s,s+l);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=l,r.DefinedNames=o.slice(s,s+l);break;case"Charts":case"Diagramme":r.Chartsheets=l,r.ChartNames=o.slice(s,s+l);break}s+=l}}function tje(e,t,r){var n={};return t||(t={}),e=ba(e),Y0.forEach(function(a){var i=(e.match(fw(a[0]))||[])[1];switch(a[2]){case"string":i&&(t[a[1]]=Wn(i));break;case"bool":t[a[1]]=i==="true";break;case"raw":var o=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));o&&o.length>0&&(n[a[1]]=o[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&Yae(n.HeadingPairs,n.TitlesOfParts,t,r),t}function Kae(e){var t=[],r=tr;return e||(e={}),e.Application="SheetJS",t[t.length]=eo,t[t.length]=tr("Properties",null,{xmlns:vo.EXT_PROPS,"xmlns:vt":vo.vt}),Y0.forEach(function(n){if(e[n[1]]!==void 0){var a;switch(n[2]){case"string":a=ya(String(e[n[1]]));break;case"bool":a=e[n[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(n[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+ya(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var rje=/<[^>]+>[^<]*/g;function nje(e,t){var r={},n="",a=e.match(rje);if(a)for(var i=0;i!=a.length;++i){var o=a[i],s=an(o);switch(s[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Wn(s.name);break;case"</property>":n=null;break;default:if(o.indexOf("<vt:")===0){var l=o.split(">"),u=l[0].slice(4),d=l[1];switch(u){case"lpstr":case"bstr":case"lpwstr":r[n]=Wn(d);break;case"bool":r[n]=Za(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(d,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(d);break;case"filetime":case"date":r[n]=ei(d);break;case"cy":case"error":r[n]=Wn(d);break;default:if(u.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",o,u,l)}}else if(o.slice(0,2)!=="</"){if(t.WTF)throw new Error(o)}}}return r}function Xae(e){var t=[eo,tr("Properties",null,{xmlns:vo.CUST_PROPS,"xmlns:vt":vo.vt})];if(!e)return t.join("");var r=1;return Oi(e).forEach(function(a){++r,t[t.length]=tr("property",f9e(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:ya(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var _8={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},rT;function aje(e,t,r){rT||(rT=q3(_8)),t=rT[t]||t,e[t]=r}function ije(e,t){var r=[];return Oi(_8).map(function(n){for(var a=0;a<Jc.length;++a)if(Jc[a][1]==n)return Jc[a];for(a=0;a<Y0.length;++a)if(Y0[a][1]==n)return Y0[a];throw n}).forEach(function(n){if(e[n[1]]!=null){var a=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(rs(_8[n[1]]||n[1],a))}}),tr("DocumentProperties",r.join(""),{xmlns:ic.o})}function oje(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return e&&Oi(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var o=0;o<Jc.length;++o)if(i==Jc[o][1])return;for(o=0;o<Y0.length;++o)if(i==Y0[o][1])return;for(o=0;o<r.length;++o)if(i==r[o])return;var s=e[i],l="string";typeof s=="number"?(l="float",s=String(s)):s===!0||s===!1?(l="boolean",s=s?"1":"0"):s=String(s),a.push(tr(BW(i),s,{"dt:dt":l}))}}),t&&Oi(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var o=t[i],s="string";typeof o=="number"?(s="float",o=String(o)):o===!0||o===!1?(s="boolean",o=o?"1":"0"):o instanceof Date?(s="dateTime.tz",o=o.toISOString()):o=String(o),a.push(tr(BW(i),o,{"dt:dt":s}))}}),"<"+n+' xmlns="'+ic.o+'">'+a.join("")+"</"+n+">"}function eM(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function sje(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),a+=i);var o=Et(8);return o.write_shift(4,n),o.write_shift(4,a),o}function Zae(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function Jae(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function Qae(e,t,r){return t===31?Jae(e):Zae(e,t,r)}function b8(e,t,r){return Qae(e,t,r===!1?0:4)}function lje(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return Qae(e,t,0)}function cje(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(cl,""),e.l-a&2&&(e.l+=2)}return r}function uje(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(cl,"");return r}function dje(e){var t=e.l,r=KS(e,Uae);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=KS(e,Cl);return[r,n]}function fje(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(dje(e));return r}function tV(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var i=e.read_shift(4),o=e.read_shift(4);n[i]=e.read_shift(o,t===1200?"utf16le":"utf8").replace(cl,"").replace(T2,"!"),t===1200&&o%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function eie(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function hje(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function KS(e,t,r){var n=e.read_shift(2),a,i=r||{};if(e.l+=2,t!==JW&&n!==t&&W9e.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===JW?n:t){case 2:return a=e.read_shift(2,"i"),i.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return Zae(e,n,4).replace(cl,"");case 31:return Jae(e);case 64:return eM(e);case 65:return eie(e);case 71:return hje(e);case 80:return b8(e,n,!i.raw).replace(cl,"");case 81:return lje(e,n).replace(cl,"");case 4108:return fje(e);case 4126:case 4127:return n==4127?cje(e):uje(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function rV(e,t){var r=Et(4),n=Et(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=Et(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=sje(t);break;case 31:case 80:for(n=Et(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Fo([r,n])}function nV(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),i=[],o=0,s=0,l=-1,u={};for(o=0;o!=a;++o){var d=e.read_shift(4),f=e.read_shift(4);i[o]=[d,f+r]}i.sort(function(b,S){return b[1]-S[1]});var h={};for(o=0;o!=a;++o){if(e.l!==i[o][1]){var m=!0;if(o>0&&t)switch(t[i[o-1][0]].t){case 2:e.l+2===i[o][1]&&(e.l+=2,m=!1);break;case 80:e.l<=i[o][1]&&(e.l=i[o][1],m=!1);break;case 4108:e.l<=i[o][1]&&(e.l=i[o][1],m=!1);break}if((!t||o==0)&&e.l<=i[o][1]&&(m=!1,e.l=i[o][1]),m)throw new Error("Read Error: Expected address "+i[o][1]+" at "+e.l+" :"+o)}if(t){var x=t[i[o][0]];if(h[x.n]=KS(e,x.t,{raw:!0}),x.p==="version"&&(h[x.n]=String(h[x.n]>>16)+"."+("0000"+String(h[x.n]&65535)).slice(-4)),x.n=="CodePage")switch(h[x.n]){case 0:h[x.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:zu(s=h[x.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[x.n])}}else if(i[o][0]===1){if(s=h.CodePage=KS(e,JR),zu(s),l!==-1){var g=e.l;e.l=i[l][1],u=tV(e,s),e.l=g}}else if(i[o][0]===0){if(s===0){l=o,e.l=i[o+1][1];continue}u=tV(e,s)}else{var y=u[i[o][0]],_;switch(e[e.l]){case 65:e.l+=4,_=eie(e);break;case 30:e.l+=4,_=b8(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,_=b8(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,_=e.read_shift(4,"i");break;case 19:e.l+=4,_=e.read_shift(4);break;case 5:e.l+=4,_=e.read_shift(8,"f");break;case 11:e.l+=4,_=$i(e,4);break;case 64:e.l+=4,_=ei(eM(e));break;default:throw new Error("unparsed value: "+e[e.l])}h[y]=_}}return e.l=r+n,h}var tie=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function pje(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function aV(e,t,r){var n=Et(8),a=[],i=[],o=8,s=0,l=Et(8),u=Et(8);if(l.write_shift(4,2),l.write_shift(4,1200),u.write_shift(4,1),i.push(l),a.push(u),o+=8+l.length,!t){u=Et(8),u.write_shift(4,0),a.unshift(u);var d=[Et(4)];for(d[0].write_shift(4,e.length),s=0;s<e.length;++s){var f=e[s][0];for(l=Et(8+2*(f.length+1)+(f.length%2?0:2)),l.write_shift(4,s+2),l.write_shift(4,f.length+1),l.write_shift(0,f,"dbcs");l.l!=l.length;)l.write_shift(1,0);d.push(l)}l=Fo(d),i.unshift(l),o+=8+l.length}for(s=0;s<e.length;++s)if(!(t&&!t[e[s][0]])&&!(tie.indexOf(e[s][0])>-1||Gae.indexOf(e[s][0])>-1)&&e[s][1]!=null){var h=e[s][1],m=0;if(t){m=+t[e[s][0]];var x=r[m];if(x.p=="version"&&typeof h=="string"){var g=h.split(".");h=(+g[0]<<16)+(+g[1]||0)}l=rV(x.t,h)}else{var y=pje(h);y==-1&&(y=31,h=String(h)),l=rV(y,h)}i.push(l),u=Et(8),u.write_shift(4,t?m:2+s),a.push(u),o+=8+l.length}var _=8*(i.length+1);for(s=0;s<i.length;++s)a[s].write_shift(4,_),_+=i[s].length;return n.write_shift(4,o),n.write_shift(4,i.length),Fo([n].concat(a).concat(i))}function iV(e,t,r){var n=e.content;if(!n)return{};es(n,0);var a,i,o,s,l=0;n.chk("feff","Byte Order: "),n.read_shift(2);var u=n.read_shift(4),d=n.read_shift(16);if(d!==Mr.utils.consts.HEADER_CLSID&&d!==r)throw new Error("Bad PropertySet CLSID "+d);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(i=n.read_shift(16),s=n.read_shift(4),a===1&&s!==n.l)throw new Error("Length mismatch: "+s+" !== "+n.l);a===2&&(o=n.read_shift(16),l=n.read_shift(4));var f=nV(n,t),h={SystemIdentifier:u};for(var m in f)h[m]=f[m];if(h.FMTID=i,a===1)return h;if(l-n.l==2&&(n.l+=2),n.l!==l)throw new Error("Length mismatch 2: "+n.l+" !== "+l);var x;try{x=nV(n,null)}catch{}for(m in x)h[m]=x[m];return h.FMTID=[i,o],h}function oV(e,t,r,n,a,i){var o=Et(a?68:48),s=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,Mr.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,a?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,a?68:48);var l=aV(e,r,n);if(s.push(l),a){var u=aV(a,null,null);o.write_shift(16,i,"hex"),o.write_shift(4,68+l.length),s.push(u)}return Fo(s)}function Mp(e,t){return e.read_shift(t),null}function mje(e,t){t||(t=Et(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function gje(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function $i(e,t){return e.read_shift(t)===1}function rl(e,t){return t||(t=Et(2)),t.write_shift(2,+!!e),t}function so(e){return e.read_shift(2,"u")}function Vc(e,t){return t||(t=Et(2)),t.write_shift(2,e),t}function rie(e,t){return gje(e,t,so)}function vje(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function nie(e,t,r){return r||(r=Et(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function n_(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var o=n?e.read_shift(n,a):"";return o}function yje(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,i=1+(r&1),o=0,s,l={};a&&(o=e.read_shift(2)),n&&(s=e.read_shift(4));var u=i==2?"dbcs-cont":"sbcs-cont",d=t===0?"":e.read_shift(t,u);return a&&(e.l+=4*o),n&&(e.l+=s),l.t=d,a||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function xje(e){var t=e.t||"",r=Et(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=Et(2*t.length);n.write_shift(2*t.length,t,"utf16le");var a=[r,n];return Fo(a)}function yg(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function a_(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):yg(e,n,r)}function Bg(e,t,r){if(r.biff>5)return a_(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function aie(e,t,r){return r||(r=Et(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function wje(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function _je(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(cl,"");return n&&(e.l+=24),a}function bje(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=e.read_shift(i>>1,"utf16le").replace(cl,"");return r+o}function Sje(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return _je(e);case"0303000000000000c000000000000046":return bje(e);default:throw new Error("Unsupported Moniker "+r)}}function Ob(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(cl,""):"";return r}function sV(e,t){t||(t=Et(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function Aje(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var i,o,s,l,u="",d,f;a&16&&(i=Ob(e,r-e.l)),a&128&&(o=Ob(e,r-e.l)),(a&257)===257&&(s=Ob(e,r-e.l)),(a&257)===1&&(l=Sje(e,r-e.l)),a&8&&(u=Ob(e,r-e.l)),a&32&&(d=e.read_shift(16)),a&64&&(f=eM(e)),e.l=r;var h=o||s||l||"";h&&u&&(h+="#"+u),h||(h="#"+u),a&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var m={Target:h};return d&&(m.guid=d),f&&(m.time=f),i&&(m.Tooltip=i),m}function kje(e){var t=Et(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),i=a>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)t.write_shift(4,o[r]);if(i==28)n=n.slice(1),sV(n,t);else if(i&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));var s=a>-1?n.slice(0,a):n;for(t.write_shift(4,2*(s.length+1)),r=0;r<s.length;++r)t.write_shift(2,s.charCodeAt(r));t.write_shift(2,0),i&8&&sV(a>-1?n.slice(a+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));for(var l=0;n.slice(l*3,l*3+3)=="../"||n.slice(l*3,l*3+3)=="..\\";)++l;for(t.write_shift(2,l),t.write_shift(4,n.length-3*l+1),r=0;r<n.length-3*l;++r)t.write_shift(1,n.charCodeAt(r+3*l)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function iie(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function oie(e,t){var r=iie(e);return r[3]=0,r}function wf(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function xg(e,t,r,n){return n||(n=Et(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function Nje(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function Eje(e,t,r){return t===0?"":Bg(e,t,r)}function Cje(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),o=e.read_shift(n,"i");return[a,i,o]}function sie(e){var t=e.read_shift(2),r=ZR(e);return[t,r]}function Pje(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=n_(e,t,r),i=e.read_shift(2);if(n-=e.l,i!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+i);return e.l+=i,a}function V3(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function lie(e,t){return t||(t=Et(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function cie(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var Tje=cie;function uie(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function Oje(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function Dje(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function _s(e){e.l+=2,e.l+=e.read_shift(2)}var Ije={0:_s,4:_s,5:_s,6:_s,7:Dje,8:_s,9:_s,10:_s,11:_s,12:_s,13:Oje,14:_s,15:_s,16:_s,17:_s,18:_s,19:_s,20:_s,21:uie};function Rje(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(Ije[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function Db(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function tM(e,t,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=Et(a);return i.write_shift(2,n),i.write_shift(2,t),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function Mje(e,t){return t===0||e.read_shift(2),1200}function Fje(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=Bg(e,0,r);return e.read_shift(t+n-e.l),a}function Lje(e,t){var r=!t||t.biff==8,n=Et(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function jje(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function $je(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var o=n_(e,0,r);return o.length===0&&(o="Sheet1"),{pos:n,hs:a,dt:i,name:o}}function Bje(e,t){var r=!t||t.biff>=8?2:1,n=Et(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function Uje(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),i=[],o=0;o!=a&&e.l<r;++o)i.push(yje(e));return i.Count=n,i.Unique=a,i}function qje(e,t){var r=Et(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],a=0;a<e.length;++a)n[a]=xje(e[a]);var i=Fo([r].concat(n));return i.parts=[r.length].concat(n.map(function(o){return o.length})),i}function zje(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function Wje(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function Vje(e){var t=Nje(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function Hje(e){return e.read_shift(2),e.read_shift(4)}function lV(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var i={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[i,a]}function Gje(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),s=e.read_shift(2),l=e.read_shift(2),u=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:i,CurTab:o,FirstTab:s,Selected:l,TabRatio:u}}function Yje(){var e=Et(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function Kje(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function Xje(e){var t=Et(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function Zje(){}function Jje(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=n_(e,0,r),n}function Qje(e,t){var r=e.name||"Arial",n=t&&t.biff==5,a=n?15+r.length:16+2*r.length,i=Et(a);return i.write_shift(2,e.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}function e$e(e){var t=wf(e);return t.isst=e.read_shift(4),t}function t$e(e,t,r,n){var a=Et(10);return xg(e,t,n,a),a.write_shift(4,r),a}function r$e(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=wf(e);r.biff==2&&e.l++;var i=a_(e,n-e.l,r);return a.val=i,a}function n$e(e,t,r,n,a){var i=!a||a.biff==8,o=Et(8+ +i+(1+i)*r.length);return xg(e,t,n,o),o.write_shift(2,r.length),i&&o.write_shift(1,1),o.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),o}function a$e(e,t,r){var n=e.read_shift(2),a=Bg(e,0,r);return[n,a]}function i$e(e,t,r,n){var a=r&&r.biff==5;n||(n=Et(a?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(a?1:2,t.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}var o$e=Bg;function cV(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,i=e.read_shift(a),o=e.read_shift(a),s=e.read_shift(2),l=e.read_shift(2);return e.l=n,{s:{r:i,c:s},e:{r:o,c:l}}}function s$e(e,t){var r=t.biff==8||!t.biff?4:2,n=Et(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function l$e(e){var t=e.read_shift(2),r=e.read_shift(2),n=sie(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function c$e(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(sie(e));if(e.l!==r)throw new Error("MulRK read error");var o=e.read_shift(2);if(i.length!=o-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:o,rkrec:i}}function u$e(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var o=e.read_shift(2);if(i.length!=o-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:o,ixfe:i}}function d$e(e,t,r,n){var a={},i=e.read_shift(4),o=e.read_shift(4),s=e.read_shift(4),l=e.read_shift(2);return a.patternType=V9e[s>>26],n.cellStyles&&(a.alc=i&7,a.fWrap=i>>3&1,a.alcV=i>>4&7,a.fJustLast=i>>7&1,a.trot=i>>8&255,a.cIndent=i>>16&15,a.fShrinkToFit=i>>20&1,a.iReadOrder=i>>22&2,a.fAtrNum=i>>26&1,a.fAtrFnt=i>>27&1,a.fAtrAlc=i>>28&1,a.fAtrBdr=i>>29&1,a.fAtrPat=i>>30&1,a.fAtrProt=i>>31&1,a.dgLeft=o&15,a.dgRight=o>>4&15,a.dgTop=o>>8&15,a.dgBottom=o>>12&15,a.icvLeft=o>>16&127,a.icvRight=o>>23&127,a.grbitDiag=o>>30&3,a.icvTop=s&127,a.icvBottom=s>>7&127,a.icvDiag=s>>14&127,a.dgDiag=s>>21&15,a.icvFore=l&127,a.icvBack=l>>7&127,a.fsxButton=l>>14&1),a}function f$e(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=d$e(e,t,n.fStyle,r),n}function uV(e,t,r,n){var a=r&&r.biff==5;n||(n=Et(a?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&a&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function h$e(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function p$e(e){var t=Et(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function dV(e,t,r){var n=wf(e);(r.biff==2||t==9)&&++e.l;var a=vje(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function m$e(e,t,r,n,a,i){var o=Et(8);return xg(e,t,n,o),nie(r,i,o),o}function g$e(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=wf(e),a=Ds(e);return n.val=a,n}function v$e(e,t,r,n){var a=Et(14);return xg(e,t,n,a),vg(r,a),a}var fV=Eje;function y$e(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(2);if(r.sbcch=i,i==1025||i==14849)return[i,a];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var o=yg(e,i),s=[];n>e.l;)s.push(a_(e));return[i,a,o,s]}function hV(e,t,r){var n=e.read_shift(2),a,i={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=Pje(e,t-2,r)),i.body=a||e.read_shift(t-2),typeof a=="string"&&(i.Name=a),i}var x$e=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function pV(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(1),o=e.read_shift(1),s=e.read_shift(r&&r.biff==2?1:2),l=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),l=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var u=yg(e,o,r);a&32&&(u=x$e[u.charCodeAt(0)]);var d=n-e.l;r&&r.biff==2&&--d;var f=n==e.l||s===0||!(d>0)?[]:Rze(e,d,r,s);return{chKey:i,Name:u,itab:l,rgce:f}}function die(e,t,r){if(r.biff<8)return w$e(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(Cje(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function w$e(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=n_(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function _$e(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),i=yg(e,n,r),o=yg(e,a,r);return[i,o]}function b$e(e,t,r){var n=cie(e);e.l++;var a=e.read_shift(1);return t-=8,[Mze(e,t,r),a,n]}function mV(e,t,r){var n=Tje(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,Dze(e,t,r)]}function S$e(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function A$e(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),s=Bg(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},s,o,i]}}function k$e(e,t,r){return A$e(e,t,r)}function N$e(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(V3(e));return r}function E$e(e){var t=Et(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)lie(e[r],t);return t}function C$e(e,t,r){if(r&&r.biff<8)return T$e(e,t,r);var n=uie(e),a=Rje(e,t-22,n[1]);return{cmo:n,ft:a}}var P$e={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function T$e(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var o=[];return o.push((P$e[n]||$s)(e,t,r)),{cmo:[a,n,i],ft:o}}function O$e(e,t,r){var n=e.l,a="";try{e.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:o=wje(e,6,r);var s=e.read_shift(2);e.read_shift(2),so(e,2);var l=e.read_shift(2);e.l+=l;for(var u=1;u<e.lens.length-1;++u){if(e.l-n!=e.lens[u])throw new Error("TxO: bad continue record");var d=e[e.l],f=yg(e,e.lens[u+1]-e.lens[u]-1);if(a+=f,a.length>=(d?s:2*s))break}if(a.length!==s&&a.length!==s*2)throw new Error("cchText: "+s+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function D$e(e,t){var r=V3(e);e.l+=16;var n=Aje(e,t-24);return[r,n]}function I$e(e){var t=Et(24),r=gi(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(n[a],16));return Fo([t,kje(e[1])])}function R$e(e,t){e.read_shift(2);var r=V3(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(cl,""),[r,n]}function M$e(e){var t=e[1].Tooltip,r=Et(10+2*(t.length+1));r.write_shift(2,2048);var n=gi(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function F$e(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=QW[r]||r,r=e.read_shift(2),t[1]=QW[r]||r,t}function L$e(e){return e||(e=Et(4)),e.write_shift(2,1),e.write_shift(2,1),e}function j$e(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(oie(e));return r}function $$e(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(oie(e));return r}function B$e(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function fie(e,t,r){if(!r.cellStyles)return $s(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),o=e.read_shift(n),s=e.read_shift(n),l=e.read_shift(2);n==2&&(e.l+=2);var u={s:a,e:i,w:o,ixfe:s,flags:l};return(r.biff>=5||!r.biff)&&(u.level=l>>8&7),u}function U$e(e,t){var r=Et(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function q$e(e,t){var r={};return t<32||(e.l+=16,r.header=Ds(e),r.footer=Ds(e),e.l+=2),r}function z$e(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}function W$e(e){for(var t=Et(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}var V$e=wf,H$e=rie,G$e=a_;function Y$e(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function K$e(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=wf(e);++e.l;var a=Bg(e,t-7,r);return n.t="str",n.val=a,n}function X$e(e){var t=wf(e);++e.l;var r=Ds(e);return t.t="n",t.val=r,t}function Z$e(e,t,r){var n=Et(15);return l_(n,e,t),n.write_shift(8,r,"f"),n}function J$e(e){var t=wf(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function Q$e(e,t,r){var n=Et(9);return l_(n,e,t),n.write_shift(2,r),n}function eBe(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function tBe(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function rBe(e,t,r){var n=e.l+t,a=wf(e),i=e.read_shift(2),o=yg(e,i,r);return e.l=n,a.t="str",a.val=o,a}var nBe=[2,3,48,49,131,139,140,245],S8=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=q3({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(s,l){var u=[],d=_m(1);switch(l.type){case"base64":d=cc(xc(s));break;case"binary":d=cc(s);break;case"buffer":case"array":d=s;break}es(d,0);var f=d.read_shift(1),h=!!(f&136),m=!1,x=!1;switch(f){case 2:break;case 3:break;case 48:m=!0,h=!0;break;case 49:m=!0,h=!0;break;case 131:break;case 139:break;case 140:x=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var g=0,y=521;f==2&&(g=d.read_shift(2)),d.l+=3,f!=2&&(g=d.read_shift(4)),g>1048576&&(g=1e6),f!=2&&(y=d.read_shift(2));var _=d.read_shift(2),b=l.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(b=e[d[d.l]]),d.l+=1,d.l+=2),x&&(d.l+=36);for(var S=[],C={},E=Math.min(d.length,f==2?521:y-10-(m?264:0)),O=x?32:11;d.l<E&&d[d.l]!=13;)switch(C={},C.name=m8.utils.decode(b,d.slice(d.l,d.l+O)).replace(/[\u0000\r\n].*$/g,""),d.l+=O,C.type=String.fromCharCode(d.read_shift(1)),f!=2&&!x&&(C.offset=d.read_shift(4)),C.len=d.read_shift(1),f==2&&(C.offset=d.read_shift(2)),C.dec=d.read_shift(1),C.name.length&&S.push(C),f!=2&&(d.l+=x?13:14),C.type){case"B":(!m||C.len!=8)&&l.WTF&&console.log("Skipping "+C.name+":"+C.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+C.name+":"+C.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+C.type)}if(d[d.l]!==13&&(d.l=y-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=y;var P=0,I=0;for(u[0]=[],I=0;I!=S.length;++I)u[0][I]=S[I].name;for(;g-- >0;){if(d[d.l]===42){d.l+=_;continue}for(++d.l,u[++P]=[],I=0,I=0;I!=S.length;++I){var L=d.slice(d.l,d.l+S[I].len);d.l+=S[I].len,es(L,0);var U=m8.utils.decode(b,L);switch(S[I].type){case"C":U.trim().length&&(u[P][I]=U.replace(/\s+$/,""));break;case"D":U.length===8?u[P][I]=new Date(+U.slice(0,4),+U.slice(4,6)-1,+U.slice(6,8)):u[P][I]=U;break;case"F":u[P][I]=parseFloat(U.trim());break;case"+":case"I":u[P][I]=x?L.read_shift(-4,"i")^2147483648:L.read_shift(4,"i");break;case"L":switch(U.trim().toUpperCase()){case"Y":case"T":u[P][I]=!0;break;case"N":case"F":u[P][I]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+U+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[P][I]="##MEMO##"+(x?parseInt(U.trim(),10):L.read_shift(4));break;case"N":U=U.replace(/\u0000/g,"").trim(),U&&U!="."&&(u[P][I]=+U||0);break;case"@":u[P][I]=new Date(L.read_shift(-8,"f")-621356832e5);break;case"T":u[P][I]=new Date((L.read_shift(4)-2440588)*864e5+L.read_shift(4));break;case"Y":u[P][I]=L.read_shift(4,"i")/1e4+L.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[P][I]=-L.read_shift(-8,"f");break;case"B":if(m&&S[I].len==8){u[P][I]=L.read_shift(8,"f");break}case"G":case"P":L.l+=S[I].len;break;case"0":if(S[I].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+S[I].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return l&&l.sheetRows&&(u=u.slice(0,l.sheetRows)),l.DBF=S,u}function n(s,l){var u=l||{};u.dateNF||(u.dateNF="yyyymmdd");var d=Ay(r(s,u),u);return d["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,d}function a(s,l){try{return jm(n(s,l),l)}catch(u){if(l&&l.WTF)throw u}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(s,l){var u=l||{};if(+u.codepage>=0&&zu(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=Fl(),f=JS(s,{header:1,raw:!0,cellDates:!0}),h=f[0],m=f.slice(1),x=s["!cols"]||[],g=0,y=0,_=0,b=1;for(g=0;g<h.length;++g){if(((x[g]||{}).DBF||{}).name){h[g]=x[g].DBF.name,++_;continue}if(h[g]!=null){if(++_,typeof h[g]=="number"&&(h[g]=h[g].toString(10)),typeof h[g]!="string")throw new Error("DBF Invalid column name "+h[g]+" |"+typeof h[g]+"|");if(h.indexOf(h[g])!==g){for(y=0;y<1024;++y)if(h.indexOf(h[g]+"_"+y)==-1){h[g]+="_"+y;break}}}}var S=Vn(s["!ref"]),C=[],E=[],O=[];for(g=0;g<=S.e.c-S.s.c;++g){var P="",I="",L=0,U=[];for(y=0;y<m.length;++y)m[y][g]!=null&&U.push(m[y][g]);if(U.length==0||h[g]==null){C[g]="?";continue}for(y=0;y<U.length;++y){switch(typeof U[y]){case"number":I="B";break;case"string":I="C";break;case"boolean":I="L";break;case"object":I=U[y]instanceof Date?"D":"C";break;default:I="C"}L=Math.max(L,String(U[y]).length),P=P&&P!=I?"C":I}L>250&&(L=250),I=((x[g]||{}).DBF||{}).type,I=="C"&&x[g].DBF.len>L&&(L=x[g].DBF.len),P=="B"&&I=="N"&&(P="N",O[g]=x[g].DBF.dec,L=x[g].DBF.len),E[g]=P=="C"||I=="N"?L:i[P]||0,b+=E[g],C[g]=P}var T=d.next(32);for(T.write_shift(4,318902576),T.write_shift(4,m.length),T.write_shift(2,296+32*_),T.write_shift(2,b),g=0;g<4;++g)T.write_shift(4,0);for(T.write_shift(4,0|(+t[tae]||3)<<8),g=0,y=0;g<h.length;++g)if(h[g]!=null){var F=d.next(32),j=(h[g].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);F.write_shift(1,j,"sbcs"),F.write_shift(1,C[g]=="?"?"C":C[g],"sbcs"),F.write_shift(4,y),F.write_shift(1,E[g]||i[C[g]]||0),F.write_shift(1,O[g]||0),F.write_shift(1,2),F.write_shift(4,0),F.write_shift(1,0),F.write_shift(4,0),F.write_shift(4,0),y+=E[g]||i[C[g]]||0}var H=d.next(264);for(H.write_shift(4,13),g=0;g<65;++g)H.write_shift(4,0);for(g=0;g<m.length;++g){var X=d.next(b);for(X.write_shift(1,0),y=0;y<h.length;++y)if(h[y]!=null)switch(C[y]){case"L":X.write_shift(1,m[g][y]==null?63:m[g][y]?84:70);break;case"B":X.write_shift(8,m[g][y]||0,"f");break;case"N":var re="0";for(typeof m[g][y]=="number"&&(re=m[g][y].toFixed(O[y]||0)),_=0;_<E[y]-re.length;++_)X.write_shift(1,32);X.write_shift(1,re,"sbcs");break;case"D":m[g][y]?(X.write_shift(4,("0000"+m[g][y].getFullYear()).slice(-4),"sbcs"),X.write_shift(2,("00"+(m[g][y].getMonth()+1)).slice(-2),"sbcs"),X.write_shift(2,("00"+m[g][y].getDate()).slice(-2),"sbcs")):X.write_shift(8,"00000000","sbcs");break;case"C":var z=String(m[g][y]!=null?m[g][y]:"").slice(0,E[y]);for(X.write_shift(1,z,"sbcs"),_=0;_<E[y]-z.length;++_)X.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:a,to_sheet:n,from_sheet:o}}(),hie=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Oi(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,m){var x=e[m];return typeof x=="number"?NW(x):x},n=function(h,m,x){var g=m.charCodeAt(0)-32<<4|x.charCodeAt(0)-48;return g==59?h:NW(g)};e["|"]=254;function a(h,m){switch(m.type){case"base64":return i(xc(h),m);case"binary":return i(h,m);case"buffer":return i(Sn&&Buffer.isBuffer(h)?h.toString("binary"):Lm(h),m);case"array":return i(gg(h),m)}throw new Error("Unrecognized type "+m.type)}function i(h,m){var x=h.split(/[\n\r]+/),g=-1,y=-1,_=0,b=0,S=[],C=[],E=null,O={},P=[],I=[],L=[],U=0,T;for(+m.codepage>=0&&zu(+m.codepage);_!==x.length;++_){U=0;var F=x[_].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),j=F.replace(/;;/g,"\0").split(";").map(function(ie){return ie.replace(/\u0000/g,";")}),H=j[0],X;if(F.length>0)switch(H){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":j[1].charAt(0)=="P"&&C.push(F.slice(3).replace(/;;/g,";"));break;case"C":var re=!1,z=!1,G=!1,q=!1,K=-1,J=-1;for(b=1;b<j.length;++b)switch(j[b].charAt(0)){case"A":break;case"X":y=parseInt(j[b].slice(1))-1,z=!0;break;case"Y":for(g=parseInt(j[b].slice(1))-1,z||(y=0),T=S.length;T<=g;++T)S[T]=[];break;case"K":X=j[b].slice(1),X.charAt(0)==='"'?X=X.slice(1,X.length-1):X==="TRUE"?X=!0:X==="FALSE"?X=!1:isNaN(Yu(X))?isNaN(ey(X).getDate())||(X=ei(X)):(X=Yu(X),E!==null&&by(E)&&(X=W3(X))),re=!0;break;case"E":q=!0;var D=m1(j[b].slice(1),{r:g,c:y});S[g][y]=[S[g][y],D];break;case"S":G=!0,S[g][y]=[S[g][y],"S5S"];break;case"G":break;case"R":K=parseInt(j[b].slice(1))-1;break;case"C":J=parseInt(j[b].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+F)}if(re&&(S[g][y]&&S[g][y].length==2?S[g][y][0]=X:S[g][y]=X,E=null),G){if(q)throw new Error("SYLK shared formula cannot have own formula");var Y=K>-1&&S[K][J];if(!Y||!Y[1])throw new Error("SYLK shared formula cannot find base");S[g][y][1]=Oie(Y[1],{r:g-K,c:y-J})}break;case"F":var Q=0;for(b=1;b<j.length;++b)switch(j[b].charAt(0)){case"X":y=parseInt(j[b].slice(1))-1,++Q;break;case"Y":for(g=parseInt(j[b].slice(1))-1,T=S.length;T<=g;++T)S[T]=[];break;case"M":U=parseInt(j[b].slice(1))/20;break;case"F":break;case"G":break;case"P":E=C[parseInt(j[b].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(L=j[b].slice(1).split(" "),T=parseInt(L[0],10);T<=parseInt(L[1],10);++T)U=parseInt(L[2],10),I[T-1]=U===0?{hidden:!0}:{wch:U},bm(I[T-1]);break;case"C":y=parseInt(j[b].slice(1))-1,I[y]||(I[y]={});break;case"R":g=parseInt(j[b].slice(1))-1,P[g]||(P[g]={}),U>0?(P[g].hpt=U,P[g].hpx=ry(U)):U===0&&(P[g].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+F)}Q<1&&(E=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+F)}}return P.length>0&&(O["!rows"]=P),I.length>0&&(O["!cols"]=I),m&&m.sheetRows&&(S=S.slice(0,m.sheetRows)),[S,O]}function o(h,m){var x=a(h,m),g=x[0],y=x[1],_=Ay(g,m);return Oi(y).forEach(function(b){_[b]=y[b]}),_}function s(h,m){return jm(o(h,m),m)}function l(h,m,x,g){var y="C;Y"+(x+1)+";X"+(g+1)+";K";switch(h.t){case"n":y+=h.v||0,h.f&&!h.F&&(y+=";E"+sM(h.f,{r:x,c:g}));break;case"b":y+=h.v?"TRUE":"FALSE";break;case"e":y+=h.w||h.v;break;case"d":y+='"'+(h.w||h.v)+'"';break;case"s":y+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return y}function u(h,m){m.forEach(function(x,g){var y="F;W"+(g+1)+" "+(g+1)+" ";x.hidden?y+="0":(typeof x.width=="number"&&!x.wpx&&(x.wpx=vw(x.width)),typeof x.wpx=="number"&&!x.wch&&(x.wch=yw(x.wpx)),typeof x.wch=="number"&&(y+=Math.round(x.wch))),y.charAt(y.length-1)!=" "&&h.push(y)})}function d(h,m){m.forEach(function(x,g){var y="F;";x.hidden?y+="M0;":x.hpt?y+="M"+20*x.hpt+";":x.hpx&&(y+="M"+20*xw(x.hpx)+";"),y.length>2&&h.push(y+"R"+(g+1))})}function f(h,m){var x=["ID;PWXL;N;E"],g=[],y=Vn(h["!ref"]),_,b=Array.isArray(h),S=`\r
`;x.push("P;PGeneral"),x.push("F;P0;DG0G8;M255"),h["!cols"]&&u(x,h["!cols"]),h["!rows"]&&d(x,h["!rows"]),x.push("B;Y"+(y.e.r-y.s.r+1)+";X"+(y.e.c-y.s.c+1)+";D"+[y.s.c,y.s.r,y.e.c,y.e.r].join(" "));for(var C=y.s.r;C<=y.e.r;++C)for(var E=y.s.c;E<=y.e.c;++E){var O=Qr({r:C,c:E});_=b?(h[C]||[])[E]:h[O],!(!_||_.v==null&&(!_.f||_.F))&&g.push(l(_,h,C,E))}return x.join(S)+S+g.join(S)+S+"E"+S}return{to_workbook:s,to_sheet:o,from_sheet:f}}(),pie=function(){function e(i,o){switch(o.type){case"base64":return t(xc(i),o);case"binary":return t(i,o);case"buffer":return t(Sn&&Buffer.isBuffer(i)?i.toString("binary"):Lm(i),o);case"array":return t(gg(i),o)}throw new Error("Unrecognized type "+o.type)}function t(i,o){for(var s=i.split(`
`),l=-1,u=-1,d=0,f=[];d!==s.length;++d){if(s[d].trim()==="BOT"){f[++l]=[],u=0;continue}if(!(l<0)){var h=s[d].trim().split(","),m=h[0],x=h[1];++d;for(var g=s[d]||"";(g.match(/["]/g)||[]).length&1&&d<s.length-1;)g+=`
`+s[++d];switch(g=g.trim(),+m){case-1:if(g==="BOT"){f[++l]=[],u=0;continue}else if(g!=="EOD")throw new Error("Unrecognized DIF special command "+g);break;case 0:g==="TRUE"?f[l][u]=!0:g==="FALSE"?f[l][u]=!1:isNaN(Yu(x))?isNaN(ey(x).getDate())?f[l][u]=x:f[l][u]=ei(x):f[l][u]=Yu(x),++u;break;case 1:g=g.slice(1,g.length-1),g=g.replace(/""/g,'"'),g&&g.match(/^=".*"$/)&&(g=g.slice(2,-1)),f[l][u++]=g!==""?g:null;break}if(g==="EOD")break}}return o&&o.sheetRows&&(f=f.slice(0,o.sheetRows)),f}function r(i,o){return Ay(e(i,o),o)}function n(i,o){return jm(r(i,o),o)}var a=function(){var i=function(l,u,d,f,h){l.push(u),l.push(d+","+f),l.push('"'+h.replace(/"/g,'""')+'"')},o=function(l,u,d,f){l.push(u+","+d),l.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var u=[],d=Vn(l["!ref"]),f,h=Array.isArray(l);i(u,"TABLE",0,1,"sheetjs"),i(u,"VECTORS",0,d.e.r-d.s.r+1,""),i(u,"TUPLES",0,d.e.c-d.s.c+1,""),i(u,"DATA",0,0,"");for(var m=d.s.r;m<=d.e.r;++m){o(u,-1,0,"BOT");for(var x=d.s.c;x<=d.e.c;++x){var g=Qr({r:m,c:x});if(f=h?(l[m]||[])[x]:l[g],!f){o(u,1,0,"");continue}switch(f.t){case"n":var y=f.w;!y&&f.v!=null&&(y=f.v),y==null?f.f&&!f.F?o(u,1,0,"="+f.f):o(u,1,0,""):o(u,0,y,"V");break;case"b":o(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":o(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=ru(f.z||Gr[14],xo(ei(f.v)))),o(u,0,f.w,"V");break;default:o(u,1,0,"")}}}o(u,-1,0,"EOD");var _=`\r
`,b=u.join(_);return b}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),mie=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var m=f.split(`
`),x=-1,g=-1,y=0,_=[];y!==m.length;++y){var b=m[y].trim().split(":");if(b[0]==="cell"){var S=gi(b[1]);if(_.length<=S.r)for(x=_.length;x<=S.r;++x)_[x]||(_[x]=[]);switch(x=S.r,g=S.c,b[2]){case"t":_[x][g]=e(b[3]);break;case"v":_[x][g]=+b[3];break;case"vtf":var C=b[b.length-1];case"vtc":switch(b[3]){case"nl":_[x][g]=!!+b[4];break;default:_[x][g]=+b[4];break}b[2]=="vtf"&&(_[x][g]=[_[x][g],C])}}}return h&&h.sheetRows&&(_=_.slice(0,h.sheetRows)),_}function n(f,h){return Ay(r(f,h),h)}function a(f,h){return jm(n(f,h),h)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,s=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var h=[],m=[],x,g="",y=Ll(f["!ref"]),_=Array.isArray(f),b=y.s.r;b<=y.e.r;++b)for(var S=y.s.c;S<=y.e.c;++S)if(g=Qr({r:b,c:S}),x=_?(f[b]||[])[S]:f[g],!(!x||x.v==null||x.t==="z")){switch(m=["cell",g,"t"],x.t){case"s":case"str":m.push(t(x.v));break;case"n":x.f?(m[2]="vtf",m[3]="n",m[4]=x.v,m[5]=t(x.f)):(m[2]="v",m[3]=x.v);break;case"b":m[2]="vt"+(x.f?"f":"c"),m[3]="nl",m[4]=x.v?"1":"0",m[5]=t(x.f||(x.v?"TRUE":"FALSE"));break;case"d":var C=xo(ei(x.v));m[2]="vtc",m[3]="nd",m[4]=""+C,m[5]=x.w||ru(x.z||Gr[14],C);break;case"e":continue}h.push(m.join(":"))}return h.push("sheet:c:"+(y.e.c-y.s.c+1)+":r:"+(y.e.r-y.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function d(f){return[i,o,s,o,u(f),l].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:d}}(),ty=function(){function e(d,f,h,m,x){x.raw?f[h][m]=d:d===""||(d==="TRUE"?f[h][m]=!0:d==="FALSE"?f[h][m]=!1:isNaN(Yu(d))?isNaN(ey(d).getDate())?f[h][m]=d:f[h][m]=ei(d):f[h][m]=Yu(d))}function t(d,f){var h=f||{},m=[];if(!d||d.length===0)return m;for(var x=d.split(/[\r\n]/),g=x.length-1;g>=0&&x[g].length===0;)--g;for(var y=10,_=0,b=0;b<=g;++b)_=x[b].indexOf(" "),_==-1?_=x[b].length:_++,y=Math.max(y,_);for(b=0;b<=g;++b){m[b]=[];var S=0;for(e(x[b].slice(0,y).trim(),m,b,S,h),S=1;S<=(x[b].length-y)/10+1;++S)e(x[b].slice(y+(S-1)*10,y+S*10).trim(),m,b,S,h)}return h.sheetRows&&(m=m.slice(0,h.sheetRows)),m}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(d){for(var f={},h=!1,m=0,x=0;m<d.length;++m)(x=d.charCodeAt(m))==34?h=!h:!h&&x in r&&(f[x]=(f[x]||0)+1);x=[];for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&x.push([f[m],m]);if(!x.length){f=n;for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&x.push([f[m],m])}return x.sort(function(g,y){return g[0]-y[0]||n[g[1]]-n[y[1]]}),r[x.pop()[1]]||44}function i(d,f){var h=f||{},m="",x=h.dense?[]:{},g={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(m=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(m=d.charAt(4),d=d.slice(6)):m=a(d.slice(0,1024)):h&&h.FS?m=h.FS:m=a(d.slice(0,1024));var y=0,_=0,b=0,S=0,C=0,E=m.charCodeAt(0),O=!1,P=0,I=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var L=h.dateNF!=null?zLe(h.dateNF):null;function U(){var T=d.slice(S,C),F={};if(T.charAt(0)=='"'&&T.charAt(T.length-1)=='"'&&(T=T.slice(1,-1).replace(/""/g,'"')),T.length===0)F.t="z";else if(h.raw)F.t="s",F.v=T;else if(T.trim().length===0)F.t="s",F.v=T;else if(T.charCodeAt(0)==61)T.charCodeAt(1)==34&&T.charCodeAt(T.length-1)==34?(F.t="s",F.v=T.slice(2,-1).replace(/""/g,'"')):yqe(T)?(F.t="n",F.f=T.slice(1)):(F.t="s",F.v=T);else if(T=="TRUE")F.t="b",F.v=!0;else if(T=="FALSE")F.t="b",F.v=!1;else if(!isNaN(b=Yu(T)))F.t="n",h.cellText!==!1&&(F.w=T),F.v=b;else if(!isNaN(ey(T).getDate())||L&&T.match(L)){F.z=h.dateNF||Gr[14];var j=0;L&&T.match(L)&&(T=WLe(T,h.dateNF,T.match(L)||[]),j=1),h.cellDates?(F.t="d",F.v=ei(T,j)):(F.t="n",F.v=xo(ei(T,j))),h.cellText!==!1&&(F.w=ru(F.z,F.v instanceof Date?xo(F.v):F.v)),h.cellNF||delete F.z}else F.t="s",F.v=T;if(F.t=="z"||(h.dense?(x[y]||(x[y]=[]),x[y][_]=F):x[Qr({c:_,r:y})]=F),S=C+1,I=d.charCodeAt(S),g.e.c<_&&(g.e.c=_),g.e.r<y&&(g.e.r=y),P==E)++_;else if(_=0,++y,h.sheetRows&&h.sheetRows<=y)return!0}e:for(;C<d.length;++C)switch(P=d.charCodeAt(C)){case 34:I===34&&(O=!O);break;case E:case 10:case 13:if(!O&&U())break e;break}return C-S>0&&U(),x["!ref"]=gn(g),x}function o(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?i(d,f):Ay(t(d,f),f)}function s(d,f){var h="",m=f.type=="string"?[0,0,0,0]:mM(d,f);switch(f.type){case"base64":h=xc(d);break;case"binary":h=d;break;case"buffer":f.codepage==65001?h=d.toString("utf8"):(f.codepage,h=Sn&&Buffer.isBuffer(d)?d.toString("binary"):Lm(d));break;case"array":h=gg(d);break;case"string":h=d;break;default:throw new Error("Unrecognized type "+f.type)}return m[0]==239&&m[1]==187&&m[2]==191?h=ba(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=ba(h):f.type=="binary",h.slice(0,19)=="socialcalc:version:"?mie.to_sheet(f.type=="string"?h:ba(h),f):o(h,f)}function l(d,f){return jm(s(d,f),f)}function u(d){for(var f=[],h=Vn(d["!ref"]),m,x=Array.isArray(d),g=h.s.r;g<=h.e.r;++g){for(var y=[],_=h.s.c;_<=h.e.c;++_){var b=Qr({r:g,c:_});if(m=x?(d[g]||[])[_]:d[b],!m||m.v==null){y.push("          ");continue}for(var S=(m.w||(Nh(m),m.w)||"").slice(0,10);S.length<10;)S+=" ";y.push(S+(_===0?" ":""))}f.push(y.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:s,from_sheet:u}}();function aBe(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=hie.to_workbook(e,r);return r.WTF=n,a}catch(i){if(r.WTF=n,!i.message.match(/SYLK bad record ID/)&&n)throw i;return ty.to_workbook(e,t)}}var K0=function(){function e(D,Y,Q){if(D){es(D,D.l||0);for(var ie=Q.Enum||K;D.l<D.length;){var se=D.read_shift(2),te=ie[se]||ie[65535],de=D.read_shift(2),Z=D.l+de,ce=te.f&&te.f(D,de,Q);if(D.l=Z,Y(ce,te,se))return}}}function t(D,Y){switch(Y.type){case"base64":return r(cc(xc(D)),Y);case"binary":return r(cc(D),Y);case"buffer":case"array":return r(D,Y)}throw"Unsupported type "+Y.type}function r(D,Y){if(!D)return D;var Q=Y||{},ie=Q.dense?[]:{},se="Sheet1",te="",de=0,Z={},ce=[],oe=[],ae={s:{r:0,c:0},e:{r:0,c:0}},Ne=Q.sheetRows||0;if(D[2]==0&&(D[3]==8||D[3]==9)&&D.length>=16&&D[14]==5&&D[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(D[2]==2)Q.Enum=K,e(D,function(Ge,mt,ht){switch(ht){case 0:Q.vers=Ge,Ge>=4096&&(Q.qpro=!0);break;case 6:ae=Ge;break;case 204:Ge&&(te=Ge);break;case 222:te=Ge;break;case 15:case 51:Q.qpro||(Ge[1].v=Ge[1].v.slice(1));case 13:case 14:case 16:ht==14&&(Ge[2]&112)==112&&(Ge[2]&15)>1&&(Ge[2]&15)<15&&(Ge[1].z=Q.dateNF||Gr[14],Q.cellDates&&(Ge[1].t="d",Ge[1].v=W3(Ge[1].v))),Q.qpro&&Ge[3]>de&&(ie["!ref"]=gn(ae),Z[se]=ie,ce.push(se),ie=Q.dense?[]:{},ae={s:{r:0,c:0},e:{r:0,c:0}},de=Ge[3],se=te||"Sheet"+(de+1),te="");var Pt=Q.dense?(ie[Ge[0].r]||[])[Ge[0].c]:ie[Qr(Ge[0])];if(Pt){Pt.t=Ge[1].t,Pt.v=Ge[1].v,Ge[1].z!=null&&(Pt.z=Ge[1].z),Ge[1].f!=null&&(Pt.f=Ge[1].f);break}Q.dense?(ie[Ge[0].r]||(ie[Ge[0].r]=[]),ie[Ge[0].r][Ge[0].c]=Ge[1]):ie[Qr(Ge[0])]=Ge[1];break}},Q);else if(D[2]==26||D[2]==14)Q.Enum=J,D[2]==14&&(Q.qpro=!0,D.l=0),e(D,function(Ge,mt,ht){switch(ht){case 204:se=Ge;break;case 22:Ge[1].v=Ge[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ge[3]>de&&(ie["!ref"]=gn(ae),Z[se]=ie,ce.push(se),ie=Q.dense?[]:{},ae={s:{r:0,c:0},e:{r:0,c:0}},de=Ge[3],se="Sheet"+(de+1)),Ne>0&&Ge[0].r>=Ne)break;Q.dense?(ie[Ge[0].r]||(ie[Ge[0].r]=[]),ie[Ge[0].r][Ge[0].c]=Ge[1]):ie[Qr(Ge[0])]=Ge[1],ae.e.c<Ge[0].c&&(ae.e.c=Ge[0].c),ae.e.r<Ge[0].r&&(ae.e.r=Ge[0].r);break;case 27:Ge[14e3]&&(oe[Ge[14e3][0]]=Ge[14e3][1]);break;case 1537:oe[Ge[0]]=Ge[1],Ge[0]==de&&(se=Ge[1]);break}},Q);else throw new Error("Unrecognized LOTUS BOF "+D[2]);if(ie["!ref"]=gn(ae),Z[te||se]=ie,ce.push(te||se),!oe.length)return{SheetNames:ce,Sheets:Z};for(var Ie={},Te=[],he=0;he<oe.length;++he)Z[ce[he]]?(Te.push(oe[he]||ce[he]),Ie[oe[he]]=Z[oe[he]]||Z[ce[he]]):(Te.push(oe[he]),Ie[oe[he]]={"!ref":"A1"});return{SheetNames:Te,Sheets:Ie}}function n(D,Y){var Q=Y||{};if(+Q.codepage>=0&&zu(+Q.codepage),Q.type=="string")throw new Error("Cannot write WK1 to JS string");var ie=Fl(),se=Vn(D["!ref"]),te=Array.isArray(D),de=[];rr(ie,0,i(1030)),rr(ie,6,l(se));for(var Z=Math.min(se.e.r,8191),ce=se.s.r;ce<=Z;++ce)for(var oe=Zi(ce),ae=se.s.c;ae<=se.e.c;++ae){ce===se.s.r&&(de[ae]=mi(ae));var Ne=de[ae]+oe,Ie=te?(D[ce]||[])[ae]:D[Ne];if(!(!Ie||Ie.t=="z"))if(Ie.t=="n")(Ie.v|0)==Ie.v&&Ie.v>=-32768&&Ie.v<=32767?rr(ie,13,m(ce,ae,Ie.v)):rr(ie,14,g(ce,ae,Ie.v));else{var Te=Nh(Ie);rr(ie,15,f(ce,ae,Te.slice(0,239)))}}return rr(ie,1),ie.end()}function a(D,Y){var Q=Y||{};if(+Q.codepage>=0&&zu(+Q.codepage),Q.type=="string")throw new Error("Cannot write WK3 to JS string");var ie=Fl();rr(ie,0,o(D));for(var se=0,te=0;se<D.SheetNames.length;++se)(D.Sheets[D.SheetNames[se]]||{})["!ref"]&&rr(ie,27,q(D.SheetNames[se],te++));var de=0;for(se=0;se<D.SheetNames.length;++se){var Z=D.Sheets[D.SheetNames[se]];if(!(!Z||!Z["!ref"])){for(var ce=Vn(Z["!ref"]),oe=Array.isArray(Z),ae=[],Ne=Math.min(ce.e.r,8191),Ie=ce.s.r;Ie<=Ne;++Ie)for(var Te=Zi(Ie),he=ce.s.c;he<=ce.e.c;++he){Ie===ce.s.r&&(ae[he]=mi(he));var Ge=ae[he]+Te,mt=oe?(Z[Ie]||[])[he]:Z[Ge];if(!(!mt||mt.t=="z"))if(mt.t=="n")rr(ie,23,U(Ie,he,de,mt.v));else{var ht=Nh(mt);rr(ie,22,P(Ie,he,de,ht.slice(0,239)))}}++de}}return rr(ie,1),ie.end()}function i(D){var Y=Et(2);return Y.write_shift(2,D),Y}function o(D){var Y=Et(26);Y.write_shift(2,4096),Y.write_shift(2,4),Y.write_shift(4,0);for(var Q=0,ie=0,se=0,te=0;te<D.SheetNames.length;++te){var de=D.SheetNames[te],Z=D.Sheets[de];if(!(!Z||!Z["!ref"])){++se;var ce=Ll(Z["!ref"]);Q<ce.e.r&&(Q=ce.e.r),ie<ce.e.c&&(ie=ce.e.c)}}return Q>8191&&(Q=8191),Y.write_shift(2,Q),Y.write_shift(1,se),Y.write_shift(1,ie),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(1,1),Y.write_shift(1,2),Y.write_shift(4,0),Y.write_shift(4,0),Y}function s(D,Y,Q){var ie={s:{c:0,r:0},e:{c:0,r:0}};return Y==8&&Q.qpro?(ie.s.c=D.read_shift(1),D.l++,ie.s.r=D.read_shift(2),ie.e.c=D.read_shift(1),D.l++,ie.e.r=D.read_shift(2),ie):(ie.s.c=D.read_shift(2),ie.s.r=D.read_shift(2),Y==12&&Q.qpro&&(D.l+=2),ie.e.c=D.read_shift(2),ie.e.r=D.read_shift(2),Y==12&&Q.qpro&&(D.l+=2),ie.s.c==65535&&(ie.s.c=ie.e.c=ie.s.r=ie.e.r=0),ie)}function l(D){var Y=Et(8);return Y.write_shift(2,D.s.c),Y.write_shift(2,D.s.r),Y.write_shift(2,D.e.c),Y.write_shift(2,D.e.r),Y}function u(D,Y,Q){var ie=[{c:0,r:0},{t:"n",v:0},0,0];return Q.qpro&&Q.vers!=20768?(ie[0].c=D.read_shift(1),ie[3]=D.read_shift(1),ie[0].r=D.read_shift(2),D.l+=2):(ie[2]=D.read_shift(1),ie[0].c=D.read_shift(2),ie[0].r=D.read_shift(2)),ie}function d(D,Y,Q){var ie=D.l+Y,se=u(D,Y,Q);if(se[1].t="s",Q.vers==20768){D.l++;var te=D.read_shift(1);return se[1].v=D.read_shift(te,"utf8"),se}return Q.qpro&&D.l++,se[1].v=D.read_shift(ie-D.l,"cstr"),se}function f(D,Y,Q){var ie=Et(7+Q.length);ie.write_shift(1,255),ie.write_shift(2,Y),ie.write_shift(2,D),ie.write_shift(1,39);for(var se=0;se<ie.length;++se){var te=Q.charCodeAt(se);ie.write_shift(1,te>=128?95:te)}return ie.write_shift(1,0),ie}function h(D,Y,Q){var ie=u(D,Y,Q);return ie[1].v=D.read_shift(2,"i"),ie}function m(D,Y,Q){var ie=Et(7);return ie.write_shift(1,255),ie.write_shift(2,Y),ie.write_shift(2,D),ie.write_shift(2,Q,"i"),ie}function x(D,Y,Q){var ie=u(D,Y,Q);return ie[1].v=D.read_shift(8,"f"),ie}function g(D,Y,Q){var ie=Et(13);return ie.write_shift(1,255),ie.write_shift(2,Y),ie.write_shift(2,D),ie.write_shift(8,Q,"f"),ie}function y(D,Y,Q){var ie=D.l+Y,se=u(D,Y,Q);if(se[1].v=D.read_shift(8,"f"),Q.qpro)D.l=ie;else{var te=D.read_shift(2);C(D.slice(D.l,D.l+te),se),D.l+=te}return se}function _(D,Y,Q){var ie=Y&32768;return Y&=-32769,Y=(ie?D:0)+(Y>=8192?Y-16384:Y),(ie?"":"$")+(Q?mi(Y):Zi(Y))}var b={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},S=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function C(D,Y){es(D,0);for(var Q=[],ie=0,se="",te="",de="",Z="";D.l<D.length;){var ce=D[D.l++];switch(ce){case 0:Q.push(D.read_shift(8,"f"));break;case 1:te=_(Y[0].c,D.read_shift(2),!0),se=_(Y[0].r,D.read_shift(2),!1),Q.push(te+se);break;case 2:{var oe=_(Y[0].c,D.read_shift(2),!0),ae=_(Y[0].r,D.read_shift(2),!1);te=_(Y[0].c,D.read_shift(2),!0),se=_(Y[0].r,D.read_shift(2),!1),Q.push(oe+ae+":"+te+se)}break;case 3:if(D.l<D.length){console.error("WK1 premature formula end");return}break;case 4:Q.push("("+Q.pop()+")");break;case 5:Q.push(D.read_shift(2));break;case 6:{for(var Ne="";ce=D[D.l++];)Ne+=String.fromCharCode(ce);Q.push('"'+Ne.replace(/"/g,'""')+'"')}break;case 8:Q.push("-"+Q.pop());break;case 23:Q.push("+"+Q.pop());break;case 22:Q.push("NOT("+Q.pop()+")");break;case 20:case 21:Z=Q.pop(),de=Q.pop(),Q.push(["AND","OR"][ce-20]+"("+de+","+Z+")");break;default:if(ce<32&&S[ce])Z=Q.pop(),de=Q.pop(),Q.push(de+S[ce]+Z);else if(b[ce]){if(ie=b[ce][1],ie==69&&(ie=D[D.l++]),ie>Q.length){console.error("WK1 bad formula parse 0x"+ce.toString(16)+":|"+Q.join("|")+"|");return}var Ie=Q.slice(-ie);Q.length-=ie,Q.push(b[ce][0]+"("+Ie.join(",")+")")}else return ce<=7?console.error("WK1 invalid opcode "+ce.toString(16)):ce<=24?console.error("WK1 unsupported op "+ce.toString(16)):ce<=30?console.error("WK1 invalid opcode "+ce.toString(16)):ce<=115?console.error("WK1 unsupported function opcode "+ce.toString(16)):console.error("WK1 unrecognized opcode "+ce.toString(16))}}Q.length==1?Y[1].f=""+Q[0]:console.error("WK1 bad formula parse |"+Q.join("|")+"|")}function E(D){var Y=[{c:0,r:0},{t:"n",v:0},0];return Y[0].r=D.read_shift(2),Y[3]=D[D.l++],Y[0].c=D[D.l++],Y}function O(D,Y){var Q=E(D);return Q[1].t="s",Q[1].v=D.read_shift(Y-4,"cstr"),Q}function P(D,Y,Q,ie){var se=Et(6+ie.length);se.write_shift(2,D),se.write_shift(1,Q),se.write_shift(1,Y),se.write_shift(1,39);for(var te=0;te<ie.length;++te){var de=ie.charCodeAt(te);se.write_shift(1,de>=128?95:de)}return se.write_shift(1,0),se}function I(D,Y){var Q=E(D);Q[1].v=D.read_shift(2);var ie=Q[1].v>>1;if(Q[1].v&1)switch(ie&7){case 0:ie=(ie>>3)*5e3;break;case 1:ie=(ie>>3)*500;break;case 2:ie=(ie>>3)/20;break;case 3:ie=(ie>>3)/200;break;case 4:ie=(ie>>3)/2e3;break;case 5:ie=(ie>>3)/2e4;break;case 6:ie=(ie>>3)/16;break;case 7:ie=(ie>>3)/64;break}return Q[1].v=ie,Q}function L(D,Y){var Q=E(D),ie=D.read_shift(4),se=D.read_shift(4),te=D.read_shift(2);if(te==65535)return ie===0&&se===3221225472?(Q[1].t="e",Q[1].v=15):ie===0&&se===3489660928?(Q[1].t="e",Q[1].v=42):Q[1].v=0,Q;var de=te&32768;return te=(te&32767)-16446,Q[1].v=(1-de*2)*(se*Math.pow(2,te+32)+ie*Math.pow(2,te)),Q}function U(D,Y,Q,ie){var se=Et(14);if(se.write_shift(2,D),se.write_shift(1,Q),se.write_shift(1,Y),ie==0)return se.write_shift(4,0),se.write_shift(4,0),se.write_shift(2,65535),se;var te=0,de=0,Z=0,ce=0;return ie<0&&(te=1,ie=-ie),de=Math.log2(ie)|0,ie/=Math.pow(2,de-31),ce=ie>>>0,(ce&2147483648)==0&&(ie/=2,++de,ce=ie>>>0),ie-=ce,ce|=2147483648,ce>>>=0,ie*=Math.pow(2,32),Z=ie>>>0,se.write_shift(4,Z),se.write_shift(4,ce),de+=16383+(te?32768:0),se.write_shift(2,de),se}function T(D,Y){var Q=L(D);return D.l+=Y-14,Q}function F(D,Y){var Q=E(D),ie=D.read_shift(4);return Q[1].v=ie>>6,Q}function j(D,Y){var Q=E(D),ie=D.read_shift(8,"f");return Q[1].v=ie,Q}function H(D,Y){var Q=j(D);return D.l+=Y-10,Q}function X(D,Y){return D[D.l+Y-1]==0?D.read_shift(Y,"cstr"):""}function re(D,Y){var Q=D[D.l++];Q>Y-1&&(Q=Y-1);for(var ie="";ie.length<Q;)ie+=String.fromCharCode(D[D.l++]);return ie}function z(D,Y,Q){if(!(!Q.qpro||Y<21)){var ie=D.read_shift(1);D.l+=17,D.l+=1,D.l+=2;var se=D.read_shift(Y-21,"cstr");return[ie,se]}}function G(D,Y){for(var Q={},ie=D.l+Y;D.l<ie;){var se=D.read_shift(2);if(se==14e3){for(Q[se]=[0,""],Q[se][0]=D.read_shift(2);D[D.l];)Q[se][1]+=String.fromCharCode(D[D.l]),D.l++;D.l++}}return Q}function q(D,Y){var Q=Et(5+D.length);Q.write_shift(2,14e3),Q.write_shift(2,Y);for(var ie=0;ie<D.length;++ie){var se=D.charCodeAt(ie);Q[Q.l++]=se>127?95:se}return Q[Q.l++]=0,Q}var K={0:{n:"BOF",f:so},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:s},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:x},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:y},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:X},222:{n:"SHEETNAMELP",f:re},65535:{n:""}},J={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:O},23:{n:"NUMBER17",f:L},24:{n:"NUMBER18",f:I},25:{n:"FORMULA19",f:T},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:G},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:F},38:{n:"??"},39:{n:"NUMBER27",f:j},40:{n:"FORMULA28",f:H},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:X},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:z},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}();function iBe(e){var t={},r=e.match(Bs),n=0,a=!1;if(r)for(;n!=r.length;++n){var i=an(r[n]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=DR[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(i[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+i[0])}}return t}var oBe=function(){var e=fw("t"),t=fw("rPr");function r(i){var o=i.match(e);if(!o)return{t:"s",v:""};var s={t:"s",v:Wn(o[1])},l=i.match(t);return l&&(s.s=iBe(l[1])),s}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(o){return o.replace(n,"").split(a).map(r).filter(function(s){return s.v})}}(),sBe=function(){var t=/(\r\n|\n)/g;function r(a,i,o){var s=[];a.u&&s.push("text-decoration: underline;"),a.uval&&s.push("text-underline-style:"+a.uval+";"),a.sz&&s.push("font-size:"+a.sz+"pt;"),a.outline&&s.push("text-effect: outline;"),a.shadow&&s.push("text-shadow: auto;"),i.push('<span style="'+s.join("")+'">'),a.b&&(i.push("<b>"),o.push("</b>")),a.i&&(i.push("<i>"),o.push("</i>")),a.strike&&(i.push("<s>"),o.push("</s>"));var l=a.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(i.push("<"+l+">"),o.push("</"+l+">")),o.push("</span>"),a}function n(a){var i=[[],a.v,[]];return a.v?(a.s&&r(a.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(n).join("")}}(),lBe=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,cBe=/<(?:\w+:)?r>/,uBe=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function rM(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Wn(ba(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=ba(e),r&&(n.h=qR(n.t))):e.match(cBe)&&(n.r=ba(e),n.t=Wn(ba((e.replace(uBe,"").match(lBe)||[]).join("").replace(Bs,""))),r&&(n.h=sBe(oBe(n.r)))),n):{t:""}}var dBe=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,fBe=/<(?:\w+:)?(?:si|sstItem)>/g,hBe=/<\/(?:\w+:)?(?:si|sstItem)>/;function pBe(e,t){var r=[],n="";if(!e)return r;var a=e.match(dBe);if(a){n=a[2].replace(fBe,"").split(hBe);for(var i=0;i!=n.length;++i){var o=rM(n[i].trim(),t);o!=null&&(r[r.length]=o)}a=an(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}var mBe=/^\s|\s$|[\t\n\r]/;function gie(e,t){if(!t.bookSST)return"";var r=[eo];r[r.length]=tr("sst",null,{xmlns:Mg[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var a=e[n],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(mBe)&&(i+=' xml:space="preserve"'),i+=">"+ya(a.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function gBe(e){return[e.read_shift(4),e.read_shift(4)]}function vBe(e,t){var r=[],n=!1;return Lh(e,function(i,o,s){switch(s){case 159:r.Count=i[0],r.Unique=i[1];break;case 19:r.push(i);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(o.T,!n||t.WTF)throw new Error("Unexpected record 0x"+s.toString(16))}}),r}function yBe(e,t){return t||(t=Et(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var xBe=P9e;function wBe(e){var t=Fl();Dt(t,159,yBe(e));for(var r=0;r<e.length;++r)Dt(t,19,xBe(e[r]));return Dt(t,160),t.end()}function vie(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function mh(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function _Be(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=mh(e,4),t.U=mh(e,4),t.W=mh(e,4),t}function bBe(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),i=[];a-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=i,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function SBe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(bBe(e));return t}function ABe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function kBe(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=mh(e,4),t.U=mh(e,4),t.W=mh(e,4),t}function NBe(e){var t=kBe(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function yie(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function xie(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function EBe(e){var t=mh(e);switch(t.Minor){case 2:return[t.Minor,CBe(e)];case 3:return[t.Minor,PBe()];case 4:return[t.Minor,TBe(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function CBe(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=yie(e,r),a=xie(e,e.length-e.l);return{t:"Std",h:n,v:a}}function PBe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function TBe(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(Bs,function(i){var o=an(i);switch(xf(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(s){n[s]=o[s]});break;case"<dataIntegrity":n.encryptedHmacKey=o.encryptedHmacKey,n.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(o);break;default:throw o[0]}}),n}function OBe(e,t){var r={},n=r.EncryptionVersionInfo=mh(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=yie(e,a),t-=a,r.EncryptionVerifier=xie(e,t),r}function DBe(e){var t={},r=t.EncryptionVersionInfo=mh(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function nM(e){var t=0,r,n=vie(e),a=n.length+1,i,o,s,l,u;for(r=_m(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)o=r[i],s=(t&16384)===0?0:1,l=t<<1&32767,u=s|l,t=u^o;return t^52811}var wie=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(o){return(o/2|o*128)&255},a=function(o,s){return n(o^s)},i=function(o){for(var s=t[o.length-1],l=104,u=o.length-1;u>=0;--u)for(var d=o[u],f=0;f!=7;++f)d&64&&(s^=r[l]),d*=2,--l;return s};return function(o){for(var s=vie(o),l=i(s),u=s.length,d=_m(16),f=0;f!=16;++f)d[f]=0;var h,m,x;for((u&1)===1&&(h=l>>8,d[u]=a(e[0],h),--u,h=l&255,m=s[s.length-1],d[u]=a(m,h));u>0;)--u,h=l>>8,d[u]=a(s[u],h),--u,h=l&255,d[u]=a(s[u],h);for(u=15,x=15-s.length;x>0;)h=l>>8,d[u]=a(e[x],h),--u,--x,h=l&255,d[u]=a(s[u],h),--u,--x;return d}}(),IBe=function(e,t,r,n,a){a||(a=t),n||(n=wie(e));var i,o;for(i=0;i!=t.length;++i)o=t[i],o^=n[r],o=(o>>5|o<<3)&255,a[i]=o,++r;return[a,r,n]},RBe=function(e){var t=0,r=wie(e);return function(n){var a=IBe("",n,t,r);return t=a[1],a[0]}};function MBe(e,t,r,n){var a={key:so(e),verificationBytes:so(e)};return r.password&&(a.verifier=nM(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=RBe(r.password)),a}function FBe(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=DBe(e):n.Data=OBe(e,t),n}function LBe(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?FBe(e,t-2,n):MBe(e,r.biff>=8?t:t-2,r,n),n}var _ie=function(){function e(a,i){switch(i.type){case"base64":return t(xc(a),i);case"binary":return t(a,i);case"buffer":return t(Sn&&Buffer.isBuffer(a)?a.toString("binary"):Lm(a),i);case"array":return t(gg(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var o=i||{},s=o.dense?[]:{},l=a.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(d,f){Array.isArray(s)&&(s[f]=[]);for(var h=/\\\w+\b/g,m=0,x,g=-1;x=h.exec(d);){switch(x[0]){case"\\cell":var y=d.slice(m,h.lastIndex-x[0].length);if(y[0]==" "&&(y=y.slice(1)),++g,y.length){var _={v:y,t:"s"};Array.isArray(s)?s[f][g]=_:s[Qr({r:f,c:g})]=_}break}m=h.lastIndex}g>u.e.c&&(u.e.c=g)}),s["!ref"]=gn(u),s}function r(a,i){return jm(e(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],o=Vn(a["!ref"]),s,l=Array.isArray(a),u=o.s.r;u<=o.e.r;++u){i.push("\\trowd\\trautofit1");for(var d=o.s.c;d<=o.e.c;++d)i.push("\\cellx"+(d+1));for(i.push("\\pard\\intbl"),d=o.s.c;d<=o.e.c;++d){var f=Qr({r:u,c:d});s=l?(a[u]||[])[d]:a[f],!(!s||s.v==null&&(!s.f||s.F))&&(i.push(" "+(s.w||(Nh(s),s.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function jBe(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function gw(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function $Be(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),i=Math.min(t,r,n),o=a-i;if(o===0)return[0,0,t];var s=0,l=0,u=a+i;switch(l=o/(u>1?2-u:u),a){case t:s=((r-n)/o+6)%6;break;case r:s=(n-t)/o+2;break;case n:s=(t-r)/o+4;break}return[s/6,l,u/2]}function BBe(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),i=n-a/2,o=[i,i,i],s=6*t,l;if(r!==0)switch(s|0){case 0:case 6:l=a*s,o[0]+=a,o[1]+=l;break;case 1:l=a*(2-s),o[0]+=l,o[1]+=a;break;case 2:l=a*(s-2),o[1]+=a,o[2]+=l;break;case 3:l=a*(4-s),o[1]+=l,o[2]+=a;break;case 4:l=a*(s-4),o[2]+=a,o[0]+=l;break;case 5:l=a*(6-s),o[2]+=l,o[0]+=a;break}for(var u=0;u!=3;++u)o[u]=Math.round(o[u]*255);return o}function XS(e,t){if(t===0)return e;var r=$Be(jBe(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),gw(BBe(r))}var bie=6,UBe=15,qBe=1,Ps=bie;function vw(e){return Math.floor((e+Math.round(128/Ps)/256)*Ps)}function yw(e){return Math.floor((e-5)/Ps*100+.5)/100}function ZS(e){return Math.round((e*Ps+5)/Ps*256)/256}function nT(e){return ZS(yw(vw(e)))}function aM(e){var t=Math.abs(e-nT(e)),r=Ps;if(t>.005)for(Ps=qBe;Ps<UBe;++Ps)Math.abs(e-nT(e))<=t&&(t=Math.abs(e-nT(e)),r=Ps);Ps=r}function bm(e){e.width?(e.wpx=vw(e.width),e.wch=yw(e.wpx),e.MDW=Ps):e.wpx?(e.wch=yw(e.wpx),e.width=ZS(e.wch),e.MDW=Ps):typeof e.wch=="number"&&(e.width=ZS(e.wch),e.wpx=vw(e.width),e.MDW=Ps),e.customWidth&&delete e.customWidth}var zBe=96,Sie=zBe;function xw(e){return e*96/Sie}function ry(e){return e*Sie/96}var WBe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function VBe(e,t,r,n){t.Borders=[];var a={},i=!1;(e[0].match(Bs)||[]).forEach(function(o){var s=an(o);switch(xf(s[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},s.diagonalUp&&(a.diagonalUp=Za(s.diagonalUp)),s.diagonalDown&&(a.diagonalDown=Za(s.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+s[0]+" in borders")}})}function HBe(e,t,r,n){t.Fills=[];var a={},i=!1;(e[0].match(Bs)||[]).forEach(function(o){var s=an(o);switch(xf(s[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":s.patternType&&(a.patternType=s.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),s.indexed&&(a.bgColor.indexed=parseInt(s.indexed,10)),s.theme&&(a.bgColor.theme=parseInt(s.theme,10)),s.tint&&(a.bgColor.tint=parseFloat(s.tint)),s.rgb&&(a.bgColor.rgb=s.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),s.theme&&(a.fgColor.theme=parseInt(s.theme,10)),s.tint&&(a.fgColor.tint=parseFloat(s.tint)),s.rgb!=null&&(a.fgColor.rgb=s.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+s[0]+" in fills")}})}function GBe(e,t,r,n){t.Fonts=[];var a={},i=!1;(e[0].match(Bs)||[]).forEach(function(o){var s=an(o);switch(xf(s[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":s.val&&(a.name=ba(s.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=s.val?Za(s.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=s.val?Za(s.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(s.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=s.val?Za(s.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=s.val?Za(s.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=s.val?Za(s.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=s.val?Za(s.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=s.val?Za(s.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":s.val&&(a.sz=+s.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":s.val&&(a.vertAlign=s.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":s.val&&(a.family=parseInt(s.val,10));break;case"<family/>":case"</family>":break;case"<scheme":s.val&&(a.scheme=s.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(s.val=="1")break;s.codepage=DR[parseInt(s.val,10)];break;case"<color":if(a.color||(a.color={}),s.auto&&(a.color.auto=Za(s.auto)),s.rgb)a.color.rgb=s.rgb.slice(-6);else if(s.indexed){a.color.index=parseInt(s.indexed,10);var l=G0[a.color.index];a.color.index==81&&(l=G0[1]),l||(l=G0[1]),a.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else s.theme&&(a.color.theme=parseInt(s.theme,10),s.tint&&(a.color.tint=parseFloat(s.tint)),s.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=XS(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+s[0]+" in fonts")}})}function YBe(e,t,r){t.NumberFmt=[];for(var n=Oi(Gr),a=0;a<n.length;++a)t.NumberFmt[n[a]]=Gr[n[a]];var i=e[0].match(Bs);if(i)for(a=0;a<i.length;++a){var o=an(i[a]);switch(xf(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var s=Wn(ba(o.formatCode)),l=parseInt(o.numFmtId,10);if(t.NumberFmt[l]=s,l>0){if(l>392){for(l=392;l>60&&t.NumberFmt[l]!=null;--l);t.NumberFmt[l]=s}ph(s,l)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}function KBe(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=tr("numFmt",null,{numFmtId:n,formatCode:ya(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=tr("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var Ib=["numFmtId","fillId","fontId","borderId","xfId"],Rb=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function XBe(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(Bs)||[]).forEach(function(i){var o=an(i),s=0;switch(xf(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=o,delete n[0],s=0;s<Ib.length;++s)n[Ib[s]]&&(n[Ib[s]]=parseInt(n[Ib[s]],10));for(s=0;s<Rb.length;++s)n[Rb[s]]&&(n[Rb[s]]=Za(n[Rb[s]]));if(t.NumberFmt&&n.numFmtId>392){for(s=392;s>60;--s)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[s]){n.numFmtId=s;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};o.vertical&&(l.vertical=o.vertical),o.horizontal&&(l.horizontal=o.horizontal),o.textRotation!=null&&(l.textRotation=o.textRotation),o.indent&&(l.indent=o.indent),o.wrapText&&(l.wrapText=Za(o.wrapText)),n.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}function ZBe(e){var t=[];return t[t.length]=tr("cellXfs",null),e.forEach(function(r){t[t.length]=tr("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=tr("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var JBe=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(s,l,u){var d={};if(!s)return d;s=s.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=s.match(t))&&YBe(f,d,u),(f=s.match(a))&&GBe(f,d,l,u),(f=s.match(n))&&HBe(f,d,l,u),(f=s.match(i))&&VBe(f,d,l,u),(f=s.match(r))&&XBe(f,d,u),d}}();function Aie(e,t){var r=[eo,tr("styleSheet",null,{xmlns:Mg[0],"xmlns:vt":vo.vt})],n;return e.SSF&&(n=KBe(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=ZBe(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function QBe(e,t){var r=e.read_shift(2),n=Rs(e);return[r,n]}function eUe(e,t,r){r||(r=Et(6+4*t.length)),r.write_shift(2,e),jo(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function tUe(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=F9e(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(n.underline=o);var s=e.read_shift(1);s>0&&(n.family=s);var l=e.read_shift(1);switch(l>0&&(n.charset=l),e.l++,n.color=M9e(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Rs(e),n}function rUe(e,t){t||(t=Et(25+4*32)),t.write_shift(2,e.sz*20),L9e(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),GS(e.color,t);var n=0;return n=2,t.write_shift(1,n),jo(e.name,t),t.length>t.l?t.slice(0,t.l):t}var nUe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],aT,aUe=$s;function gV(e,t){t||(t=Et(4*3+8*7+16*1)),aT||(aT=q3(nUe));var r=aT[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(GS({auto:1},t),GS({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function iUe(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}function kie(e,t,r){r||(r=Et(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function g2(e,t){return t||(t=Et(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var oUe=$s;function sUe(e,t){return t||(t=Et(51)),t.write_shift(1,0),g2(null,t),g2(null,t),g2(null,t),g2(null,t),g2(null,t),t.length>t.l?t.slice(0,t.l):t}function lUe(e,t){return t||(t=Et(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),HS(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function cUe(e,t,r){var n=Et(2052);return n.write_shift(4,e),HS(t,n),HS(r,n),n.length>n.l?n.slice(0,n.l):n}function uUe(e,t,r){var n={};n.NumberFmt=[];for(var a in Gr)n.NumberFmt[a]=Gr[a];n.CellXf=[],n.Fonts=[];var i=[],o=!1;return Lh(e,function(l,u,d){switch(d){case 44:n.NumberFmt[l[0]]=l[1],ph(l[1],l[0]);break;case 43:n.Fonts.push(l),l.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(l.color.rgb=XS(t.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&n.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:i.push(d),o=!0;break;case 38:i.pop(),o=!1;break;default:if(u.T>0)i.push(d);else if(u.T<0)i.pop();else if(!o||r.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),n}function dUe(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&++r}),r!=0&&(Dt(e,615,Ku(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&Dt(e,44,eUe(a,t[a]))}),Dt(e,616))}}function fUe(e){var t=1;Dt(e,611,Ku(t)),Dt(e,43,rUe({sz:12,color:{theme:1},name:"Calibri",family:2})),Dt(e,612)}function hUe(e){var t=2;Dt(e,603,Ku(t)),Dt(e,45,gV({patternType:"none"})),Dt(e,45,gV({patternType:"gray125"})),Dt(e,604)}function pUe(e){var t=1;Dt(e,613,Ku(t)),Dt(e,46,sUe()),Dt(e,614)}function mUe(e){var t=1;Dt(e,626,Ku(t)),Dt(e,47,kie({numFmtId:0},65535)),Dt(e,627)}function gUe(e,t){Dt(e,617,Ku(t.length)),t.forEach(function(r){Dt(e,47,kie(r,0))}),Dt(e,618)}function vUe(e){var t=1;Dt(e,619,Ku(t)),Dt(e,48,lUe({xfId:0,name:"Normal"})),Dt(e,620)}function yUe(e){var t=0;Dt(e,505,Ku(t)),Dt(e,506)}function xUe(e){var t=0;Dt(e,508,cUe(t,"TableStyleMedium9","PivotStyleMedium4")),Dt(e,509)}function wUe(e,t){var r=Fl();return Dt(r,278),dUe(r,e.SSF),fUe(r),hUe(r),pUe(r),mUe(r),gUe(r,t.cellXfs),vUe(r),yUe(r),xUe(r),Dt(r,279),r.end()}var _Ue=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function bUe(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(Bs)||[]).forEach(function(a){var i=an(a);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=i.val;break;case"<a:sysClr":n.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[_Ue.indexOf(i[0])]=n,n={}):n.name=i[0].slice(3,i[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function SUe(){}function AUe(){}var kUe=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,NUe=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,EUe=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function CUe(e,t,r){t.themeElements={};var n;[["clrScheme",kUe,bUe],["fontScheme",NUe,SUe],["fmtScheme",EUe,AUe]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var PUe=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function Nie(e,t){(!e||e.length===0)&&(e=iM());var r,n={};if(!(r=e.match(PUe)))throw new Error("themeElements not found in theme");return CUe(r[0],n,t),n.raw=e,n}function iM(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[eo];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function TUe(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var i=e.slice(e.l);e.l=n;var o;try{o=yae(i,{type:"array"})}catch{return}var s=uc(o,"theme/theme/theme1.xml",!0);if(s)return Nie(s,r)}}function OUe(e){return e.read_shift(4)}function DUe(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=IUe(e,4);break;case 2:t.xclrValue=iie(e);break;case 3:t.xclrValue=OUe(e);break;case 4:e.l+=4;break}return e.l+=8,t}function IUe(e,t){return $s(e,t)}function RUe(e,t){return $s(e,t)}function MUe(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=DUe(e);break;case 6:n[1]=RUe(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function FUe(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),i=[];a-- >0;)i.push(MUe(e,r-e.l));return{ixfe:n,ext:i}}function LUe(e,t){t.forEach(function(r){r[0]})}function jUe(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Rs(e)}}function $Ue(e){var t=Et(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),jo(e.name,t),t.slice(0,t.l)}function BUe(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function UUe(e){var t=Et(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function qUe(e,t){var r=Et(8+2*t.length);return r.write_shift(4,e),jo(t,r),r.slice(0,r.l)}function zUe(e){return e.l+=4,e.read_shift(4)!=0}function WUe(e,t){var r=Et(8);return r.write_shift(4,e),r.write_shift(4,1),r}function VUe(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},i=[],o=!1,s=2;return Lh(e,function(l,u,d){switch(d){case 335:n.Types.push({name:l.name});break;case 51:l.forEach(function(f){s==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):s==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:s=l?1:0;break;case 338:s=2;break;case 35:i.push(d),o=!0;break;case 36:i.pop(),o=!1;break;default:if(!u.T){if(!o||a.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),n}function HUe(){var e=Fl();return Dt(e,332),Dt(e,334,Ku(1)),Dt(e,335,$Ue({name:"XLDAPR",version:12e4,flags:3496657072})),Dt(e,336),Dt(e,339,qUe(1,"XLDAPR")),Dt(e,52),Dt(e,35,Ku(514)),Dt(e,4096,Ku(0)),Dt(e,4097,Vc(1)),Dt(e,36),Dt(e,53),Dt(e,340),Dt(e,337,WUe(1)),Dt(e,51,UUe([[1,0]])),Dt(e,338),Dt(e,333),e.end()}function GUe(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,i=2,o;return e.replace(Bs,function(s){var l=an(s);switch(xf(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<n.Types.length;++u)n.Types[u].name==l.name&&(o=n.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?n.Cell.push({type:n.Types[l.t-1].name,index:+l.v}):i==0&&n.Value.push({type:n.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+l.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return s}),n}function Eie(){var e=[eo];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function YUe(e){var t=[];if(!e)return t;var r=1;return(e.match(Bs)||[]).forEach(function(n){var a=an(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function KUe(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Qr(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function XUe(e,t,r){var n=[];return Lh(e,function(i,o,s){switch(s){case 63:n.push(i);break;default:if(!o.T)throw new Error("Unexpected record 0x"+s.toString(16))}}),n}function ZUe(e,t,r,n){if(!e)return e;var a=n||{},i=!1;Lh(e,function(s,l,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!l.T){if(!i||a.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},a)}function JUe(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}var Kv=1024;function Cie(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[tr("xml",null,{"xmlns:v":ic.v,"xmlns:o":ic.o,"xmlns:x":ic.x,"xmlns:mv":ic.mv}).replace(/\/>/,">"),tr("o:shapelayout",tr("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),tr("v:shapetype",[tr("v:stroke",null,{joinstyle:"miter"}),tr("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];Kv<e*1e3;)Kv+=1e3;return t.forEach(function(i){var o=gi(i[0]),s={color2:"#BEFF82",type:"gradient"};s.type=="gradient"&&(s.angle="-180");var l=s.type=="gradient"?tr("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=tr("v:fill",l,s),d={on:"t",obscured:"t"};++Kv,a=a.concat(["<v:shape"+hw({id:"_x0000_s"+Kv,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,tr("v:shadow",null,d),tr("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",rs("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),rs("x:AutoFill","False"),rs("x:Row",String(o.r)),rs("x:Column",String(o.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function vV(e,t,r,n){var a=Array.isArray(e),i;t.forEach(function(o){var s=gi(o.ref);if(a?(e[s.r]||(e[s.r]=[]),i=e[s.r][s.c]):i=e[o.ref],!i){i={t:"z"},a?e[s.r][s.c]=i:e[o.ref]=i;var l=Vn(e["!ref"]||"BDWGO1000001:A1");l.s.r>s.r&&(l.s.r=s.r),l.e.r<s.r&&(l.e.r=s.r),l.s.c>s.c&&(l.s.c=s.c),l.e.c<s.c&&(l.e.c=s.c);var u=gn(l);u!==e["!ref"]&&(e["!ref"]=u)}i.c||(i.c=[]);var d={a:o.author,t:o.t,r:o.r,T:r};o.h&&(d.h=o.h);for(var f=i.c.length-1;f>=0;--f){if(!r&&i.c[f].T)return;r&&!i.c[f].T&&i.c.splice(f,1)}if(r&&n){for(f=0;f<n.length;++f)if(d.a==n[f].id){d.a=n[f].name||d.a;break}}i.c.push(d)})}function QUe(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var s=o.match(/<(?:\w+:)?author[^>]*>(.*)/);s&&r.push(s[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var s=o.match(/<(?:\w+:)?comment[^>]*>/);if(s){var l=an(s[0]),u={author:l.authorId&&r[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},d=gi(l.ref);if(!(t.sheetRows&&t.sheetRows<=d.r)){var f=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!f&&!!f[1]&&rM(f[1])||{r:"",t:"",h:""};u.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),u.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(u.h=h.h),n.push(u)}}}}),n}function Pie(e){var t=[eo,tr("comments",null,{xmlns:Mg[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(a){var i=ya(a.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var a=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(l){l.a&&(a=r.indexOf(ya(l.a))),i.push(l.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),i.length<=1)t.push(rs("t",ya(i[0]||"")));else{for(var o=`Comment:
    `+i[0]+`
`,s=1;s<i.length;++s)o+=`Reply:
    `+i[s]+`
`;t.push(rs("t",ya(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function eqe(e,t){var r=[],n=!1,a={},i=0;return e.replace(Bs,function(s,l){var u=an(s);switch(xf(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":i=l+s.length;break;case"</text>":a.t=e.slice(i,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return s}),r}function tqe(e,t,r){var n=[eo,tr("ThreadedComments",null,{xmlns:vo.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var i="";(a[1]||[]).forEach(function(o,s){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var l={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};s==0?i=l.id:l.parentId=i,o.ID=l.id,o.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),n.push(tr("threadedComment",rs("text",o.t||""),l))})}),n.push("</ThreadedComments>"),n.join("")}function rqe(e,t){var r=[],n=!1;return e.replace(Bs,function(i){var o=an(i);switch(xf(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return i}),r}function nqe(e){var t=[eo,tr("personList",null,{xmlns:vo.TCMNT,"xmlns:x":Mg[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(tr("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function aqe(e){var t={};t.iauthor=e.read_shift(4);var r=$g(e);return t.rfx=r.s,t.ref=Qr(r.s),e.l+=16,t}function iqe(e,t){return t==null&&(t=Et(36)),t.write_shift(4,e[1].iauthor),ky(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var oqe=Rs;function sqe(e){return jo(e.slice(0,54))}function lqe(e,t){var r=[],n=[],a={},i=!1;return Lh(e,function(s,l,u){switch(u){case 632:n.push(s);break;case 635:a=s;break;case 637:a.t=s.t,a.h=s.h,a.r=s.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}function cqe(e){var t=Fl(),r=[];return Dt(t,628),Dt(t,630),e.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),Dt(t,632,sqe(a.a)))})}),Dt(t,631),Dt(t,633),e.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var i={s:gi(n[0]),e:gi(n[0])};Dt(t,635,iqe([i,a])),a.t&&a.t.length>0&&Dt(t,637,O9e(a)),Dt(t,636),delete a.iauthor})}),Dt(t,634),Dt(t,629),t.end()}var uqe="application/vnd.ms-office.vbaProject";function dqe(e){var t=Mr.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Mr.utils.cfb_add(t,a,e.FileIndex[n].content)}}),Mr.write(t)}function fqe(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&Mr.utils.cfb_add(e,a,t.FileIndex[n].content)}})}var Tie=["xlsb","xlsm","xlam","biff8","xla"];function hqe(){return{"!type":"dialog"}}function pqe(){return{"!type":"dialog"}}function mqe(){return{"!type":"macro"}}function gqe(){return{"!type":"macro"}}var m1=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,o){var s=!1,l=!1;i.length==0?l=!0:i.charAt(0)=="["&&(l=!0,i=i.slice(1,-1)),o.length==0?s=!0:o.charAt(0)=="["&&(s=!0,o=o.slice(1,-1));var u=i.length>0?parseInt(i,10)|0:0,d=o.length>0?parseInt(o,10)|0:0;return s?d+=t.c:--d,l?u+=t.r:--u,a+(s?"":"$")+mi(d)+(l?"":"$")+Zi(u)}return function(a,i){return t=i,a.replace(e,r)}}(),oM=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,sM=function(){return function(t,r){return t.replace(oM,function(n,a,i,o,s,l){var u=GR(o)-(i?0:r.c),d=HR(l)-(s?0:r.r),f=d==0?"":s?d+1:"["+d+"]",h=u==0?"":i?u+1:"["+u+"]";return a+"R"+f+"C"+h})}}();function Oie(e,t){return e.replace(oM,function(r,n,a,i,o,s){return n+(a=="$"?a+i:mi(GR(i)+t.c))+(o=="$"?o+s:Zi(HR(s)+t.r))})}function vqe(e,t,r){var n=Ll(t),a=n.s,i=gi(r),o={r:i.r-a.r,c:i.c-a.c};return Oie(e,o)}function yqe(e){return e.length!=1}function yV(e){return e.replace(/_xlfn\./g,"")}function no(e){e.l+=1}function Sm(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function Die(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return Iie(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),o=Sm(e),s=Sm(e);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:s[0],cRel:s[1],rRel:s[2]}}}function Iie(e){var t=Sm(e),r=Sm(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function xqe(e,t,r){if(r.biff<8)return Iie(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=Sm(e),o=Sm(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function Rie(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return wqe(e);var n=e.read_shift(r&&r.biff==12?4:2),a=Sm(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function wqe(e){var t=Sm(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function _qe(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function bqe(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return Sqe(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),o=(i&16384)>>14,s=(i&32768)>>15;if(i&=16383,s==1)for(;a>524287;)a-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:o,rRel:s}}function Sqe(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function Aqe(e,t,r){var n=(e[e.l++]&96)>>5,a=Die(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function kqe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var o=Die(e,i,r);return[n,a,o]}function Nqe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function Eqe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function Cqe(e,t,r){var n=(e[e.l++]&96)>>5,a=xqe(e,t-1,r);return[n,a]}function Pqe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function xV(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function Tqe(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function Oqe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Dqe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Iqe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function Rqe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function Mie(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function Mqe(e){return e.read_shift(2),Mie(e)}function Fqe(e){return e.read_shift(2),Mie(e)}function Lqe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=Rie(e,0,r);return[n,a]}function jqe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=bqe(e,0,r);return[n,a]}function $qe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=Rie(e,0,r);return[n,a,i]}function Bqe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[zze[a],jie[a],n]}function Uqe(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:qqe(e);return[a,(i[0]===0?jie:qze)[i[1]]]}function qqe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function zqe(e,t,r){e.l+=r&&r.biff==2?3:4}function Wqe(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Vqe(e){return e.l++,jh[e.read_shift(1)]}function Hqe(e){return e.l++,e.read_shift(2)}function Gqe(e){return e.l++,e.read_shift(1)!==0}function Yqe(e){return e.l++,Ds(e)}function Kqe(e,t,r){return e.l++,n_(e,t-1,r)}function Xqe(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=$i(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=jh[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Ds(e);break;case 2:r[1]=Bg(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function Zqe(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?$g:V3)(e));return a}function Jqe(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,o=[];i!=n&&(o[i]=[]);++i)for(var s=0;s!=a;++s)o[i][s]=Xqe(e,r.biff);return o}function Qqe(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function eze(e,t,r){if(r.biff==5)return tze(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function tze(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function rze(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function nze(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function aze(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function ize(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var oze=$s,sze=$s,lze=$s;function i_(e,t,r){return e.l+=2,[_qe(e)]}function lM(e){return e.l+=6,[]}var cze=i_,uze=lM,dze=lM,fze=i_;function Fie(e){return e.l+=2,[so(e),e.read_shift(2)&1]}var hze=i_,pze=Fie,mze=lM,gze=i_,vze=i_,yze=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function xze(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),o=yze[r>>2&31];return{ixti:t,coltype:r&3,rt:o,idx:n,c:a,C:i}}function wze(e){return e.l+=2,[e.read_shift(4)]}function _ze(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function bze(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function Sze(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Aze(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function kze(e){return e.l+=4,[0,0]}var wV={1:{n:"PtgExp",f:Wqe},2:{n:"PtgTbl",f:lze},3:{n:"PtgAdd",f:no},4:{n:"PtgSub",f:no},5:{n:"PtgMul",f:no},6:{n:"PtgDiv",f:no},7:{n:"PtgPower",f:no},8:{n:"PtgConcat",f:no},9:{n:"PtgLt",f:no},10:{n:"PtgLe",f:no},11:{n:"PtgEq",f:no},12:{n:"PtgGe",f:no},13:{n:"PtgGt",f:no},14:{n:"PtgNe",f:no},15:{n:"PtgIsect",f:no},16:{n:"PtgUnion",f:no},17:{n:"PtgRange",f:no},18:{n:"PtgUplus",f:no},19:{n:"PtgUminus",f:no},20:{n:"PtgPercent",f:no},21:{n:"PtgParen",f:no},22:{n:"PtgMissArg",f:no},23:{n:"PtgStr",f:Kqe},26:{n:"PtgSheet",f:_ze},27:{n:"PtgEndSheet",f:bze},28:{n:"PtgErr",f:Vqe},29:{n:"PtgBool",f:Gqe},30:{n:"PtgInt",f:Hqe},31:{n:"PtgNum",f:Yqe},32:{n:"PtgArray",f:Pqe},33:{n:"PtgFunc",f:Bqe},34:{n:"PtgFuncVar",f:Uqe},35:{n:"PtgName",f:Qqe},36:{n:"PtgRef",f:Lqe},37:{n:"PtgArea",f:Aqe},38:{n:"PtgMemArea",f:rze},39:{n:"PtgMemErr",f:oze},40:{n:"PtgMemNoMem",f:sze},41:{n:"PtgMemFunc",f:nze},42:{n:"PtgRefErr",f:aze},43:{n:"PtgAreaErr",f:Nqe},44:{n:"PtgRefN",f:jqe},45:{n:"PtgAreaN",f:Cqe},46:{n:"PtgMemAreaN",f:Sze},47:{n:"PtgMemNoMemN",f:Aze},57:{n:"PtgNameX",f:eze},58:{n:"PtgRef3d",f:$qe},59:{n:"PtgArea3d",f:kqe},60:{n:"PtgRefErr3d",f:ize},61:{n:"PtgAreaErr3d",f:Eqe},255:{}},Nze={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Eze={1:{n:"PtgElfLel",f:Fie},2:{n:"PtgElfRw",f:gze},3:{n:"PtgElfCol",f:cze},6:{n:"PtgElfRwV",f:vze},7:{n:"PtgElfColV",f:fze},10:{n:"PtgElfRadical",f:hze},11:{n:"PtgElfRadicalS",f:mze},13:{n:"PtgElfColS",f:uze},15:{n:"PtgElfColSV",f:dze},16:{n:"PtgElfRadicalLel",f:pze},25:{n:"PtgList",f:xze},29:{n:"PtgSxName",f:wze},255:{}},Cze={0:{n:"PtgAttrNoop",f:kze},1:{n:"PtgAttrSemi",f:Rqe},2:{n:"PtgAttrIf",f:Dqe},4:{n:"PtgAttrChoose",f:Tqe},8:{n:"PtgAttrGoto",f:Oqe},16:{n:"PtgAttrSum",f:zqe},32:{n:"PtgAttrBaxcel",f:xV},33:{n:"PtgAttrBaxcel",f:xV},64:{n:"PtgAttrSpace",f:Mqe},65:{n:"PtgAttrSpaceSemi",f:Fqe},128:{n:"PtgAttrIfError",f:Iqe},255:{}};function o_(e,t,r,n){if(n.biff<8)return $s(e,t);for(var a=e.l+t,i=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=Jqe(e,0,n),i.push(r[o][1]);break;case"PtgMemArea":r[o][2]=Zqe(e,r[o][1],n),i.push(r[o][2]);break;case"PtgExp":n&&n.biff==12&&(r[o][1][1]=e.read_shift(4),i.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return t=a-e.l,t!==0&&i.push($s(e,t)),i}function s_(e,t,r){for(var n=e.l+t,a,i,o=[];n!=e.l;)t=n-e.l,i=e[e.l],a=wV[i]||wV[Nze[i]],(i===24||i===25)&&(a=(i===24?Eze:Cze)[e[e.l+1]]),!a||!a.f?$s(e,t):o.push([a.n,a.f(e,t,r)]);return o}function Pze(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var o=n[i];if(o)switch(o[0]){case 2:a.push('"'+o[1].replace(/"/g,'""')+'"');break;default:a.push(o[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var Tze={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Oze(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function Lie(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function _V(e,t,r){var n=Lie(e,t,r);return n=="#REF"?n:Oze(n,r)}function Es(e,t,r,n,a){var i=a&&a.biff||8,o={s:{c:0,r:0}},s=[],l,u,d,f=0,h=0,m,x="";if(!e[0]||!e[0][0])return"";for(var g=-1,y="",_=0,b=e[0].length;_<b;++_){var S=e[0][_];switch(S[0]){case"PtgUminus":s.push("-"+s.pop());break;case"PtgUplus":s.push("+"+s.pop());break;case"PtgPercent":s.push(s.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=s.pop(),u=s.pop(),g>=0){switch(e[0][g][1][0]){case 0:y=Ni(" ",e[0][g][1][1]);break;case 1:y=Ni("\r",e[0][g][1][1]);break;default:if(y="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}u=u+y,g=-1}s.push(u+Tze[S[0]]+l);break;case"PtgIsect":l=s.pop(),u=s.pop(),s.push(u+" "+l);break;case"PtgUnion":l=s.pop(),u=s.pop(),s.push(u+","+l);break;case"PtgRange":l=s.pop(),u=s.pop(),s.push(u+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=Y2(S[1][1],o,a),s.push(K2(d,i));break;case"PtgRefN":d=r?Y2(S[1][1],r,a):S[1][1],s.push(K2(d,i));break;case"PtgRef3d":f=S[1][1],d=Y2(S[1][2],o,a),x=_V(n,f,a),s.push(x+"!"+K2(d,i));break;case"PtgFunc":case"PtgFuncVar":var C=S[1][0],E=S[1][1];C||(C=0),C&=127;var O=C==0?[]:s.slice(-C);s.length-=C,E==="User"&&(E=O.shift()),s.push(E+"("+O.join(",")+")");break;case"PtgBool":s.push(S[1]?"TRUE":"FALSE");break;case"PtgInt":s.push(S[1]);break;case"PtgNum":s.push(String(S[1]));break;case"PtgStr":s.push('"'+S[1].replace(/"/g,'""')+'"');break;case"PtgErr":s.push(S[1]);break;case"PtgAreaN":m=XW(S[1][1],r?{s:r}:o,a),s.push(eT(m,a));break;case"PtgArea":m=XW(S[1][1],o,a),s.push(eT(m,a));break;case"PtgArea3d":f=S[1][1],m=S[1][2],x=_V(n,f,a),s.push(x+"!"+eT(m,a));break;case"PtgAttrSum":s.push("SUM("+s.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=S[1][2];var P=(n.names||[])[h-1]||(n[0]||[])[h],I=P?P.Name:"SH33TJSNAME"+String(h);I&&I.slice(0,6)=="_xlfn."&&!a.xlfn&&(I=I.slice(6)),s.push(I);break;case"PtgNameX":var L=S[1][1];h=S[1][2];var U;if(a.biff<=5)L<0&&(L=-L),n[L]&&(U=n[L][h]);else{var T="";if(((n[L]||[])[0]||[])[0]==14849||(((n[L]||[])[0]||[])[0]==1025?n[L][h]&&n[L][h].itab>0&&(T=n.SheetNames[n[L][h].itab-1]+"!"):T=n.SheetNames[h-1]+"!"),n[L]&&n[L][h])T+=n[L][h].Name;else if(n[0]&&n[0][h])T+=n[0][h].Name;else{var F=(Lie(n,L,a)||"").split(";;");F[h-1]?T=F[h-1]:T+="SH33TJSERRX"}s.push(T);break}U||(U={Name:"SH33TJSERRY"}),s.push(U.Name);break;case"PtgParen":var j="(",H=")";if(g>=0){switch(y="",e[0][g][1][0]){case 2:j=Ni(" ",e[0][g][1][1])+j;break;case 3:j=Ni("\r",e[0][g][1][1])+j;break;case 4:H=Ni(" ",e[0][g][1][1])+H;break;case 5:H=Ni("\r",e[0][g][1][1])+H;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}g=-1}s.push(j+s.pop()+H);break;case"PtgRefErr":s.push("#REF!");break;case"PtgRefErr3d":s.push("#REF!");break;case"PtgExp":d={c:S[1][1],r:S[1][0]};var X={c:r.c,r:r.r};if(n.sharedf[Qr(d)]){var re=n.sharedf[Qr(d)];s.push(Es(re,o,X,n,a))}else{var z=!1;for(l=0;l!=n.arrayf.length;++l)if(u=n.arrayf[l],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){s.push(Es(u[1],o,X,n,a)),z=!0;break}z||s.push(S[1])}break;case"PtgArray":s.push("{"+Pze(S[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=_;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":s.push("");break;case"PtgAreaErr":s.push("#REF!");break;case"PtgAreaErr3d":s.push("#REF!");break;case"PtgList":s.push("Table"+S[1].idx+"[#"+S[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(S));default:throw new Error("Unrecognized Formula Token: "+String(S))}var G=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&g>=0&&G.indexOf(e[0][_][0])==-1){S=e[0][g];var q=!0;switch(S[1][0]){case 4:q=!1;case 0:y=Ni(" ",S[1][1]);break;case 5:q=!1;case 1:y=Ni("\r",S[1][1]);break;default:if(y="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+S[1][0])}s.push((q?y:"")+s.pop()+(q?"":y)),g=-1}}if(s.length>1&&a.WTF)throw new Error("bad formula stack");return s[0]}function Dze(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,o=e.read_shift(a);if(o==65535)return[[],$s(e,t-2)];var s=s_(e,o,r);return t!==o+a&&(i=o_(e,t-o-a,s,r)),e.l=n,[s,i]}function Ize(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,o=e.read_shift(a);if(o==65535)return[[],$s(e,t-2)];var s=s_(e,o,r);return t!==o+a&&(i=o_(e,t-o-a,s,r)),e.l=n,[s,i]}function Rze(e,t,r,n){var a=e.l+t,i=s_(e,n,r),o;return a!==e.l&&(o=o_(e,a-e.l,i,r)),[i,o]}function Mze(e,t,r){var n=e.l+t,a,i=e.read_shift(2),o=s_(e,i,r);return i==65535?[[],$s(e,t-2)]:(t!==i+2&&(a=o_(e,n-i-2,o,r)),[o,a])}function Fze(e){var t;if(uh(e,e.l+6)!==65535)return[Ds(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function Lze(e){if(e==null){var t=Et(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return vg(e);return vg(0)}function iT(e,t,r){var n=e.l+t,a=wf(e);r.biff==2&&++e.l;var i=Fze(e),o=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var s=Ize(e,n-e.l,r);return{cell:a,val:i[0],formula:s,shared:o>>3&1,tt:i[1]}}function jze(e,t,r,n,a){var i=xg(t,r,a),o=Lze(e.v),s=Et(6),l=33;s.write_shift(2,l),s.write_shift(4,0);for(var u=Et(e.bf.length),d=0;d<e.bf.length;++d)u[d]=e.bf[d];var f=Fo([i,o,s,u]);return f}function H3(e,t,r){var n=e.read_shift(4),a=s_(e,n,r),i=e.read_shift(4),o=i>0?o_(e,i,a,r):null;return[a,o]}var $ze=H3,G3=H3,Bze=H3,Uze=H3,qze={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},jie={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},zze={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function bV(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function Wze(e){var t="of:="+e.replace(oM,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function oT(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function Vze(e){return e.replace(/\./,"!")}var Z2={},g1={},J2=typeof Map<"u";function cM(e,t,r){var n=0,a=e.length;if(r){if(J2?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=J2?r.get(t):r[t];n<i.length;++n)if(e[i[n]].t===t)return e.Count++,i[n]}}else for(;n<a;++n)if(e[n].t===t)return e.Count++,n;return e[a]={t},e.Count++,e.Unique++,r&&(J2?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function Y3(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(Ps=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=yw(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=ZS(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function X0(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function $m(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],a=60,i=e.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){ph(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=n=a;break}}for(a=0;a!=i;++a)if(e[a].numFmtId===n)return a;return e[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function $ie(e,t,r,n,a,i){try{n.cellNF&&(e.z=Gr[t])}catch(s){if(n.WTF)throw s}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=ei(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(Gr[t]==null&&ph(qLe[t]||"General",t),e.t==="e")e.w=e.w||jh[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=dw(e.v);else if(e.t==="d"){var o=xo(e.v);(o|0)===o?e.w=o.toString(10):e.w=dw(o)}else{if(e.v===void 0)return"";e.w=mg(e.v,g1)}else e.t==="d"?e.w=ru(t,xo(e.v),g1):e.w=ru(t,e.v,g1)}catch(s){if(n.WTF)throw s}if(n.cellStyles&&r!=null)try{e.s=i.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=XS(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=XS(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(s){if(n.WTF&&i.Fills)throw s}}}function Hze(e,t,r){if(e&&e["!ref"]){var n=Vn(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function Gze(e,t){var r=Vn(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=gn(r))}var Yze=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,Kze=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,Xze=/<(?:\w:)?hyperlink [^>]*>/mg,Zze=/"(\w*:\w*)"/,Jze=/<(?:\w:)?col\b[^>]*[\/]?>/g,Qze=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,eWe=/<(?:\w:)?pageMargins[^>]*\/>/g,Bie=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,tWe=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,rWe=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function nWe(e,t,r,n,a,i,o){if(!e)return e;n||(n={"!id":{}});var s=t.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",d="",f=e.match(Kze);f?(u=e.slice(0,f.index),d=e.slice(f.index+f[0].length)):u=d=e;var h=u.match(Bie);h?uM(h[0],s,a,r):(h=u.match(tWe))&&iWe(h[0],h[1]||"",s,a,r);var m=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(m>0){var x=u.slice(m,m+50).match(Zze);x&&Gze(s,x[1])}var g=u.match(rWe);g&&g[1]&&yWe(g[1],a);var y=[];if(t.cellStyles){var _=u.match(Jze);_&&hWe(y,_)}f&&_We(f[1],s,t,l,i,o);var b=d.match(Qze);b&&(s["!autofilter"]=mWe(b[0]));var S=[],C=d.match(Yze);if(C)for(m=0;m!=C.length;++m)S[m]=Vn(C[m].slice(C[m].indexOf('"')+1));var E=d.match(Xze);E&&uWe(s,E,n);var O=d.match(eWe);if(O&&(s["!margins"]=dWe(an(O[0]))),!s["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(s["!ref"]=gn(l)),t.sheetRows>0&&s["!ref"]){var P=Vn(s["!ref"]);t.sheetRows<=+P.e.r&&(P.e.r=t.sheetRows-1,P.e.r>l.e.r&&(P.e.r=l.e.r),P.e.r<P.s.r&&(P.s.r=P.e.r),P.e.c>l.e.c&&(P.e.c=l.e.c),P.e.c<P.s.c&&(P.s.c=P.e.c),s["!fullref"]=s["!ref"],s["!ref"]=gn(P))}return y.length>0&&(s["!cols"]=y),S.length>0&&(s["!merges"]=S),s}function aWe(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+gn(e[r])+'"/>';return t+"</mergeCells>"}function uM(e,t,r,n){var a=an(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=Wn(ba(a.codeName)))}function iWe(e,t,r,n,a){uM(e.slice(0,e.indexOf(">")),r,n,a)}function oWe(e,t,r,n,a){var i=!1,o={},s=null;if(n.bookType!=="xlsx"&&t.vbaraw){var l=t.SheetNames[r];try{t.Workbook&&(l=t.Workbook.Sheets[r].CodeName||l)}catch{}i=!0,o.codeName=Zd(ya(l))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),s=(s||"")+tr("outlinePr",null,u)}!i&&!s||(a[a.length]=tr("sheetPr",s,o))}var sWe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],lWe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function cWe(e){var t={sheet:1};return sWe.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),lWe.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=nM(e.password).toString(16).toUpperCase()),tr("sheetProtection",null,t)}function uWe(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var i=an(ba(t[a]),!0);if(!i.ref)return;var o=((r||{})["!id"]||[])[i.id];o?(i.Target=o.Target,i.location&&(i.Target+="#"+Wn(i.location))):(i.Target="#"+Wn(i.location),o={Target:i.Target,TargetMode:"Internal"}),i.Rel=o,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var s=Vn(i.ref),l=s.s.r;l<=s.e.r;++l)for(var u=s.s.c;u<=s.e.c;++u){var d=Qr({c:u,r:l});n?(e[l]||(e[l]=[]),e[l][u]||(e[l][u]={t:"z",v:void 0}),e[l][u].l=i):(e[d]||(e[d]={t:"z",v:void 0}),e[d].l=i)}}}function dWe(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function fWe(e){return X0(e),tr("pageMargins",null,e)}function hWe(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=an(t[n],!0);a.hidden&&(a.hidden=Za(a.hidden));var i=parseInt(a.min,10)-1,o=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,aM(a.width)),bm(a);i<=o;)e[i++]=ti(a)}}function pWe(e,t){for(var r=["<cols>"],n,a=0;a!=t.length;++a)(n=t[a])&&(r[r.length]=tr("col",null,Y3(a,n)));return r[r.length]="</cols>",r.join("")}function mWe(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}function gWe(e,t,r,n){var a=typeof e.ref=="string"?e.ref:gn(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,o=Ll(a);o.s.r==o.e.r&&(o.e.r=Ll(t["!ref"]).e.r,a=gn(o));for(var s=0;s<i.length;++s){var l=i[s];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==n){l.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return s==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),tr("autoFilter",null,{ref:a})}var vWe=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function yWe(e,t){t.Views||(t.Views=[{}]),(e.match(vWe)||[]).forEach(function(r,n){var a=an(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),Za(a.rightToLeft)&&(t.Views[n].RTL=!0)})}function xWe(e,t,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),tr("sheetViews",tr("sheetView",null,a),{})}function wWe(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",i=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=jh[e.v];break;case"d":n&&n.cellDates?a=ei(e.v,-1).toISOString():(e=ti(e),e.t="n",a=""+(e.v=xo(ei(e.v)))),typeof e.z>"u"&&(e.z=Gr[14]);break;default:a=e.v;break}var s=rs("v",ya(a)),l={r:t},u=$m(n.cellXfs,e,n);switch(u!==0&&(l.s=u),e.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){s=rs("v",""+cM(n.Strings,e.v,n.revStrings)),l.t="s";break}l.t="str";break}if(e.t!=i&&(e.t=i,e.v=o),typeof e.f=="string"&&e.f){var d=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;s=tr("f",ya(e.f),d)+(e.v!=null?s:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(l.cm=1),tr("c",s,l)}var _We=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,i=fw("v"),o=fw("f");return function(l,u,d,f,h,m){for(var x=0,g="",y=[],_=[],b=0,S=0,C=0,E="",O,P,I=0,L=0,U,T,F=0,j=0,H=Array.isArray(m.CellXf),X,re=[],z=[],G=Array.isArray(u),q=[],K={},J=!1,D=!!d.sheetStubs,Y=l.split(t),Q=0,ie=Y.length;Q!=ie;++Q){g=Y[Q].trim();var se=g.length;if(se!==0){var te=0;e:for(x=0;x<se;++x)switch(g[x]){case">":if(g[x-1]!="/"){++x;break e}if(d&&d.cellStyles){if(P=an(g.slice(te,x),!0),I=P.r!=null?parseInt(P.r,10):I+1,L=-1,d.sheetRows&&d.sheetRows<I)continue;K={},J=!1,P.ht&&(J=!0,K.hpt=parseFloat(P.ht),K.hpx=ry(K.hpt)),P.hidden=="1"&&(J=!0,K.hidden=!0),P.outlineLevel!=null&&(J=!0,K.level=+P.outlineLevel),J&&(q[I-1]=K)}break;case"<":te=x;break}if(te>=x)break;if(P=an(g.slice(te,x),!0),I=P.r!=null?parseInt(P.r,10):I+1,L=-1,!(d.sheetRows&&d.sheetRows<I)){f.s.r>I-1&&(f.s.r=I-1),f.e.r<I-1&&(f.e.r=I-1),d&&d.cellStyles&&(K={},J=!1,P.ht&&(J=!0,K.hpt=parseFloat(P.ht),K.hpx=ry(K.hpt)),P.hidden=="1"&&(J=!0,K.hidden=!0),P.outlineLevel!=null&&(J=!0,K.level=+P.outlineLevel),J&&(q[I-1]=K)),y=g.slice(x).split(e);for(var de=0;de!=y.length&&y[de].trim().charAt(0)=="<";++de);for(y=y.slice(de),x=0;x!=y.length;++x)if(g=y[x].trim(),g.length!==0){if(_=g.match(r),b=x,S=0,C=0,g="<c "+(g.slice(0,1)=="<"?">":"")+g,_!=null&&_.length===2){for(b=0,E=_[1],S=0;S!=E.length&&!((C=E.charCodeAt(S)-64)<1||C>26);++S)b=26*b+C;--b,L=b}else++L;for(S=0;S!=g.length&&g.charCodeAt(S)!==62;++S);if(++S,P=an(g.slice(0,S),!0),P.r||(P.r=Qr({r:I-1,c:L})),E=g.slice(S),O={t:""},(_=E.match(i))!=null&&_[1]!==""&&(O.v=Wn(_[1])),d.cellFormula){if((_=E.match(o))!=null&&_[1]!==""){if(O.f=Wn(ba(_[1])).replace(/\r\n/g,`
`),d.xlfn||(O.f=yV(O.f)),_[0].indexOf('t="array"')>-1)O.F=(E.match(a)||[])[1],O.F.indexOf(":")>-1&&re.push([Vn(O.F),O.F]);else if(_[0].indexOf('t="shared"')>-1){T=an(_[0]);var Z=Wn(ba(_[1]));d.xlfn||(Z=yV(Z)),z[parseInt(T.si,10)]=[T,Z,P.r]}}else(_=E.match(/<f[^>]*\/>/))&&(T=an(_[0]),z[T.si]&&(O.f=vqe(z[T.si][1],z[T.si][2],P.r)));var ce=gi(P.r);for(S=0;S<re.length;++S)ce.r>=re[S][0].s.r&&ce.r<=re[S][0].e.r&&ce.c>=re[S][0].s.c&&ce.c<=re[S][0].e.c&&(O.F=re[S][1])}if(P.t==null&&O.v===void 0)if(O.f||O.F)O.v=0,O.t="n";else if(D)O.t="z";else continue;else O.t=P.t||"n";switch(f.s.c>L&&(f.s.c=L),f.e.c<L&&(f.e.c=L),O.t){case"n":if(O.v==""||O.v==null){if(!D)continue;O.t="z"}else O.v=parseFloat(O.v);break;case"s":if(typeof O.v>"u"){if(!D)continue;O.t="z"}else U=Z2[parseInt(O.v,10)],O.v=U.t,O.r=U.r,d.cellHTML&&(O.h=U.h);break;case"str":O.t="s",O.v=O.v!=null?ba(O.v):"",d.cellHTML&&(O.h=qR(O.v));break;case"inlineStr":_=E.match(n),O.t="s",_!=null&&(U=rM(_[1]))?(O.v=U.t,d.cellHTML&&(O.h=U.h)):O.v="";break;case"b":O.v=Za(O.v);break;case"d":d.cellDates?O.v=ei(O.v,1):(O.v=xo(ei(O.v,1)),O.t="n");break;case"e":(!d||d.cellText!==!1)&&(O.w=O.v),O.v=qae[O.v];break}if(F=j=0,X=null,H&&P.s!==void 0&&(X=m.CellXf[P.s],X!=null&&(X.numFmtId!=null&&(F=X.numFmtId),d.cellStyles&&X.fillId!=null&&(j=X.fillId))),$ie(O,F,j,d,h,m),d.cellDates&&H&&O.t=="n"&&by(Gr[F])&&(O.t="d",O.v=W3(O.v)),P.cm&&d.xlmeta){var oe=(d.xlmeta.Cell||[])[+P.cm-1];oe&&oe.type=="XLDAPR"&&(O.D=!0)}if(G){var ae=gi(P.r);u[ae.r]||(u[ae.r]=[]),u[ae.r][ae.c]=O}else u[P.r]=O}}}}q.length>0&&(u["!rows"]=q)}}();function bWe(e,t,r,n){var a=[],i=[],o=Vn(e["!ref"]),s="",l,u="",d=[],f=0,h=0,m=e["!rows"],x=Array.isArray(e),g={r:u},y,_=-1;for(h=o.s.c;h<=o.e.c;++h)d[h]=mi(h);for(f=o.s.r;f<=o.e.r;++f){for(i=[],u=Zi(f),h=o.s.c;h<=o.e.c;++h){l=d[h]+u;var b=x?(e[f]||[])[h]:e[l];b!==void 0&&(s=wWe(b,l,e,t))!=null&&i.push(s)}(i.length>0||m&&m[f])&&(g={r:u},m&&m[f]&&(y=m[f],y.hidden&&(g.hidden=1),_=-1,y.hpx?_=xw(y.hpx):y.hpt&&(_=y.hpt),_>-1&&(g.ht=_,g.customHeight=1),y.level&&(g.outlineLevel=y.level)),a[a.length]=tr("row",i.join(""),g))}if(m)for(;f<m.length;++f)m&&m[f]&&(g={r:f+1},y=m[f],y.hidden&&(g.hidden=1),_=-1,y.hpx?_=xw(y.hpx):y.hpt&&(_=y.hpt),_>-1&&(g.ht=_,g.customHeight=1),y.level&&(g.outlineLevel=y.level),a[a.length]=tr("row","",g));return a.join("")}function Uie(e,t,r,n){var a=[eo,tr("worksheet",null,{xmlns:Mg[0],"xmlns:r":vo.r})],i=r.SheetNames[e],o=0,s="",l=r.Sheets[i];l==null&&(l={});var u=l["!ref"]||"A1",d=Vn(u);if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),u=gn(d)}n||(n={}),l["!comments"]=[];var f=[];oWe(l,r,e,t,a),a[a.length]=tr("dimension",null,{ref:u}),a[a.length]=xWe(l,t,e,r),t.sheetFormat&&(a[a.length]=tr("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(a[a.length]=pWe(l,l["!cols"])),a[o=a.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(s=bWe(l,t),s.length>0&&(a[a.length]=s)),a.length>o+1&&(a[a.length]="</sheetData>",a[o]=a[o].replace("/>",">")),l["!protect"]&&(a[a.length]=cWe(l["!protect"])),l["!autofilter"]!=null&&(a[a.length]=gWe(l["!autofilter"],l,r,e)),l["!merges"]!=null&&l["!merges"].length>0&&(a[a.length]=aWe(l["!merges"]));var h=-1,m,x=-1;return l["!links"].length>0&&(a[a.length]="<hyperlinks>",l["!links"].forEach(function(g){g[1].Target&&(m={ref:g[0]},g[1].Target.charAt(0)!="#"&&(x=ga(n,-1,ya(g[1].Target).replace(/#.*$/,""),Cn.HLINK),m["r:id"]="rId"+x),(h=g[1].Target.indexOf("#"))>-1&&(m.location=ya(g[1].Target.slice(h+1))),g[1].Tooltip&&(m.tooltip=ya(g[1].Tooltip)),a[a.length]=tr("hyperlink",null,m))}),a[a.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(a[a.length]=fWe(l["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=rs("ignoredErrors",tr("ignoredError",null,{numberStoredAsText:1,sqref:u}))),f.length>0&&(x=ga(n,-1,"../drawings/drawing"+(e+1)+".xml",Cn.DRAW),a[a.length]=tr("drawing",null,{"r:id":"rId"+x}),l["!drawing"]=f),l["!comments"].length>0&&(x=ga(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Cn.VML),a[a.length]=tr("legacyDrawing",null,{"r:id":"rId"+x}),l["!legacy"]=x),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function SWe(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}function AWe(e,t,r){var n=Et(145),a=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var i=320;a.hpx?i=xw(a.hpx)*20:a.hpt&&(i=a.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var o=0;a.level&&(o|=a.level),a.hidden&&(o|=16),(a.hpx||a.hpt)&&(o|=32),n.write_shift(1,o),n.write_shift(1,0);var s=0,l=n.l;n.l+=4;for(var u={r:e,c:0},d=0;d<16;++d)if(!(t.s.c>d+1<<10||t.e.c<d<<10)){for(var f=-1,h=-1,m=d<<10;m<d+1<<10;++m){u.c=m;var x=Array.isArray(r)?(r[u.r]||[])[u.c]:r[Qr(u)];x&&(f<0&&(f=m),h=m)}f<0||(++s,n.write_shift(4,f),n.write_shift(4,h))}var g=n.l;return n.l=l,n.write_shift(4,s),n.l=g,n.length>n.l?n.slice(0,n.l):n}function kWe(e,t,r,n){var a=AWe(n,r,t);(a.length>17||(t["!rows"]||[])[n])&&Dt(e,0,a)}var NWe=$g,EWe=ky;function CWe(){}function PWe(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=D9e(e),r}function TWe(e,t,r){r==null&&(r=Et(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return GS({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),Lae(e,r),r.slice(0,r.l)}function OWe(e){var t=ou(e);return[t]}function DWe(e,t,r){return r==null&&(r=Et(8)),Fg(t,r)}function IWe(e){var t=Lg(e);return[t]}function RWe(e,t,r){return r==null&&(r=Et(4)),jg(t,r)}function MWe(e){var t=ou(e),r=e.read_shift(1);return[t,r,"b"]}function FWe(e,t,r){return r==null&&(r=Et(9)),Fg(t,r),r.write_shift(1,e.v?1:0),r}function LWe(e){var t=Lg(e),r=e.read_shift(1);return[t,r,"b"]}function jWe(e,t,r){return r==null&&(r=Et(5)),jg(t,r),r.write_shift(1,e.v?1:0),r}function $We(e){var t=ou(e),r=e.read_shift(1);return[t,r,"e"]}function BWe(e,t,r){return r==null&&(r=Et(9)),Fg(t,r),r.write_shift(1,e.v),r}function UWe(e){var t=Lg(e),r=e.read_shift(1);return[t,r,"e"]}function qWe(e,t,r){return r==null&&(r=Et(8)),jg(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function zWe(e){var t=ou(e),r=e.read_shift(4);return[t,r,"s"]}function WWe(e,t,r){return r==null&&(r=Et(12)),Fg(t,r),r.write_shift(4,t.v),r}function VWe(e){var t=Lg(e),r=e.read_shift(4);return[t,r,"s"]}function HWe(e,t,r){return r==null&&(r=Et(8)),jg(t,r),r.write_shift(4,t.v),r}function GWe(e){var t=ou(e),r=Ds(e);return[t,r,"n"]}function YWe(e,t,r){return r==null&&(r=Et(16)),Fg(t,r),vg(e.v,r),r}function qie(e){var t=Lg(e),r=Ds(e);return[t,r,"n"]}function KWe(e,t,r){return r==null&&(r=Et(12)),jg(t,r),vg(e.v,r),r}function XWe(e){var t=ou(e),r=ZR(e);return[t,r,"n"]}function ZWe(e,t,r){return r==null&&(r=Et(12)),Fg(t,r),jae(e.v,r),r}function JWe(e){var t=Lg(e),r=ZR(e);return[t,r,"n"]}function QWe(e,t,r){return r==null&&(r=Et(8)),jg(t,r),jae(e.v,r),r}function eVe(e){var t=ou(e),r=YR(e);return[t,r,"is"]}function tVe(e){var t=ou(e),r=Rs(e);return[t,r,"str"]}function rVe(e,t,r){return r==null&&(r=Et(12+4*e.v.length)),Fg(t,r),jo(e.v,r),r.length>r.l?r.slice(0,r.l):r}function nVe(e){var t=Lg(e),r=Rs(e);return[t,r,"str"]}function aVe(e,t,r){return r==null&&(r=Et(8+4*e.v.length)),jg(t,r),jo(e.v,r),r.length>r.l?r.slice(0,r.l):r}function iVe(e,t,r){var n=e.l+t,a=ou(e);a.r=r["!row"];var i=e.read_shift(1),o=[a,i,"b"];if(r.cellFormula){e.l+=2;var s=G3(e,n-e.l,r);o[3]=Es(s,null,a,r.supbooks,r)}else e.l=n;return o}function oVe(e,t,r){var n=e.l+t,a=ou(e);a.r=r["!row"];var i=e.read_shift(1),o=[a,i,"e"];if(r.cellFormula){e.l+=2;var s=G3(e,n-e.l,r);o[3]=Es(s,null,a,r.supbooks,r)}else e.l=n;return o}function sVe(e,t,r){var n=e.l+t,a=ou(e);a.r=r["!row"];var i=Ds(e),o=[a,i,"n"];if(r.cellFormula){e.l+=2;var s=G3(e,n-e.l,r);o[3]=Es(s,null,a,r.supbooks,r)}else e.l=n;return o}function lVe(e,t,r){var n=e.l+t,a=ou(e);a.r=r["!row"];var i=Rs(e),o=[a,i,"str"];if(r.cellFormula){e.l+=2;var s=G3(e,n-e.l,r);o[3]=Es(s,null,a,r.supbooks,r)}else e.l=n;return o}var cVe=$g,uVe=ky;function dVe(e,t){return t==null&&(t=Et(4)),t.write_shift(4,e),t}function fVe(e,t){var r=e.l+t,n=$g(e),a=KR(e),i=Rs(e),o=Rs(e),s=Rs(e);e.l=r;var l={rfx:n,relId:a,loc:i,display:s};return o&&(l.Tooltip=o),l}function hVe(e,t){var r=Et(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));ky({s:gi(e[0]),e:gi(e[0])},r),XR("rId"+t,r);var n=e[1].Target.indexOf("#"),a=n==-1?"":e[1].Target.slice(n+1);return jo(a||"",r),jo(e[1].Tooltip||"",r),jo("",r),r.slice(0,r.l)}function pVe(){}function mVe(e,t,r){var n=e.l+t,a=$ae(e),i=e.read_shift(1),o=[a];if(o[2]=i,r.cellFormula){var s=$ze(e,n-e.l,r);o[1]=s}else e.l=n;return o}function gVe(e,t,r){var n=e.l+t,a=$g(e),i=[a];if(r.cellFormula){var o=Uze(e,n-e.l,r);i[1]=o,e.l=n}else e.l=n;return i}function vVe(e,t,r){r==null&&(r=Et(18));var n=Y3(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var zie=["left","right","top","bottom","header","footer"];function yVe(e){var t={};return zie.forEach(function(r){t[r]=Ds(e)}),t}function xVe(e,t){return t==null&&(t=Et(6*8)),X0(e),zie.forEach(function(r){vg(e[r],t)}),t}function wVe(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function _Ve(e,t,r){r==null&&(r=Et(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function bVe(e){var t=Et(24);return t.write_shift(4,4),t.write_shift(4,1),ky(e,t),t}function SVe(e,t){return t==null&&(t=Et(16*4+2)),t.write_shift(2,e.password?nM(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function AVe(){}function kVe(){}function NVe(e,t,r,n,a,i,o){if(!e)return e;var s=t||{};n||(n={"!id":{}});var l=s.dense?[]:{},u,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,h=!1,m,x,g,y,_,b,S,C,E,O=[];s.biff=12,s["!row"]=0;var P=0,I=!1,L=[],U={},T=s.supbooks||a.supbooks||[[]];if(T.sharedf=U,T.arrayf=L,T.SheetNames=a.SheetNames||a.Sheets.map(function(G){return G.name}),!s.supbooks&&(s.supbooks=T,a.Names))for(var F=0;F<a.Names.length;++F)T[0][F+1]=a.Names[F];var j=[],H=[],X=!1;ww[16]={n:"BrtShortReal",f:qie};var re;if(Lh(e,function(q,K,J){if(!h)switch(J){case 148:u=q;break;case 0:m=q,s.sheetRows&&s.sheetRows<=m.r&&(h=!0),C=Zi(y=m.r),s["!row"]=m.r,(q.hidden||q.hpt||q.level!=null)&&(q.hpt&&(q.hpx=ry(q.hpt)),H[q.r]=q);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(x={t:q[2]},q[2]){case"n":x.v=q[1];break;case"s":S=Z2[q[1]],x.v=S.t,x.r=S.r;break;case"b":x.v=!!q[1];break;case"e":x.v=q[1],s.cellText!==!1&&(x.w=jh[x.v]);break;case"str":x.t="s",x.v=q[1];break;case"is":x.t="s",x.v=q[1].t;break}if((g=o.CellXf[q[0].iStyleRef])&&$ie(x,g.numFmtId,null,s,i,o),_=q[0].c==-1?_+1:q[0].c,s.dense?(l[y]||(l[y]=[]),l[y][_]=x):l[mi(_)+C]=x,s.cellFormula){for(I=!1,P=0;P<L.length;++P){var D=L[P];m.r>=D[0].s.r&&m.r<=D[0].e.r&&_>=D[0].s.c&&_<=D[0].e.c&&(x.F=gn(D[0]),I=!0)}!I&&q.length>3&&(x.f=q[3])}if(d.s.r>m.r&&(d.s.r=m.r),d.s.c>_&&(d.s.c=_),d.e.r<m.r&&(d.e.r=m.r),d.e.c<_&&(d.e.c=_),s.cellDates&&g&&x.t=="n"&&by(Gr[g.numFmtId])){var Y=j0(x.v);Y&&(x.t="d",x.v=new Date(Y.y,Y.m-1,Y.d,Y.H,Y.M,Y.S,Y.u))}re&&(re.type=="XLDAPR"&&(x.D=!0),re=void 0);break;case 1:case 12:if(!s.sheetStubs||f)break;x={t:"z",v:void 0},_=q[0].c==-1?_+1:q[0].c,s.dense?(l[y]||(l[y]=[]),l[y][_]=x):l[mi(_)+C]=x,d.s.r>m.r&&(d.s.r=m.r),d.s.c>_&&(d.s.c=_),d.e.r<m.r&&(d.e.r=m.r),d.e.c<_&&(d.e.c=_),re&&(re.type=="XLDAPR"&&(x.D=!0),re=void 0);break;case 176:O.push(q);break;case 49:re=((s.xlmeta||{}).Cell||[])[q-1];break;case 494:var Q=n["!id"][q.relId];for(Q?(q.Target=Q.Target,q.loc&&(q.Target+="#"+q.loc),q.Rel=Q):q.relId==""&&(q.Target="#"+q.loc),y=q.rfx.s.r;y<=q.rfx.e.r;++y)for(_=q.rfx.s.c;_<=q.rfx.e.c;++_)s.dense?(l[y]||(l[y]=[]),l[y][_]||(l[y][_]={t:"z",v:void 0}),l[y][_].l=q):(b=Qr({c:_,r:y}),l[b]||(l[b]={t:"z",v:void 0}),l[b].l=q);break;case 426:if(!s.cellFormula)break;L.push(q),E=s.dense?l[y][_]:l[mi(_)+C],E.f=Es(q[1],d,{r:m.r,c:_},T,s),E.F=gn(q[0]);break;case 427:if(!s.cellFormula)break;U[Qr(q[0].s)]=q[1],E=s.dense?l[y][_]:l[mi(_)+C],E.f=Es(q[1],d,{r:m.r,c:_},T,s);break;case 60:if(!s.cellStyles)break;for(;q.e>=q.s;)j[q.e--]={width:q.w/256,hidden:!!(q.flags&1),level:q.level},X||(X=!0,aM(q.w/256)),bm(j[q.e+1]);break;case 161:l["!autofilter"]={ref:gn(q)};break;case 476:l["!margins"]=q;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),q.name&&(a.Sheets[r].CodeName=q.name),(q.above||q.left)&&(l["!outline"]={above:q.above,left:q.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),q.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!K.T){if(!f||s.WTF)throw new Error("Unexpected record 0x"+J.toString(16))}}},s),delete s.supbooks,delete s["!row"],!l["!ref"]&&(d.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(l["!ref"]=gn(u||d)),s.sheetRows&&l["!ref"]){var z=Vn(l["!ref"]);s.sheetRows<=+z.e.r&&(z.e.r=s.sheetRows-1,z.e.r>d.e.r&&(z.e.r=d.e.r),z.e.r<z.s.r&&(z.s.r=z.e.r),z.e.c>d.e.c&&(z.e.c=d.e.c),z.e.c<z.s.c&&(z.s.c=z.e.c),l["!fullref"]=l["!ref"],l["!ref"]=gn(z))}return O.length>0&&(l["!merges"]=O),j.length>0&&(l["!cols"]=j),H.length>0&&(l["!rows"]=H),l}function EVe(e,t,r,n,a,i,o){if(t.v===void 0)return!1;var s="";switch(t.t){case"b":s=t.v?"1":"0";break;case"d":t=ti(t),t.z=t.z||Gr[14],t.v=xo(ei(t.v)),t.t="n";break;case"n":case"e":s=""+t.v;break;default:s=t.v;break}var l={r,c:n};switch(l.s=$m(a.cellXfs,t,a),t.l&&i["!links"].push([Qr(l),t.l]),t.c&&i["!comments"].push([Qr(l),t.c]),t.t){case"s":case"str":return a.bookSST?(s=cM(a.Strings,t.v,a.revStrings),l.t="s",l.v=s,o?Dt(e,18,HWe(t,l)):Dt(e,7,WWe(t,l))):(l.t="str",o?Dt(e,17,aVe(t,l)):Dt(e,6,rVe(t,l))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?Dt(e,13,QWe(t,l)):Dt(e,2,ZWe(t,l)):o?Dt(e,16,KWe(t,l)):Dt(e,5,YWe(t,l)),!0;case"b":return l.t="b",o?Dt(e,15,jWe(t,l)):Dt(e,4,FWe(t,l)),!0;case"e":return l.t="e",o?Dt(e,14,qWe(t,l)):Dt(e,3,BWe(t,l)),!0}return o?Dt(e,12,RWe(t,l)):Dt(e,1,DWe(t,l)),!0}function CVe(e,t,r,n){var a=Vn(t["!ref"]||"A1"),i,o="",s=[];Dt(e,145);var l=Array.isArray(t),u=a.e.r;t["!rows"]&&(u=Math.max(a.e.r,t["!rows"].length-1));for(var d=a.s.r;d<=u;++d){o=Zi(d),kWe(e,t,a,d);var f=!1;if(d<=a.e.r)for(var h=a.s.c;h<=a.e.c;++h){d===a.s.r&&(s[h]=mi(h)),i=s[h]+o;var m=l?(t[d]||[])[h]:t[i];if(!m){f=!1;continue}f=EVe(e,m,d,h,n,t,f)}}Dt(e,146)}function PVe(e,t){!t||!t["!merges"]||(Dt(e,177,dVe(t["!merges"].length)),t["!merges"].forEach(function(r){Dt(e,176,uVe(r))}),Dt(e,178))}function TVe(e,t){!t||!t["!cols"]||(Dt(e,390),t["!cols"].forEach(function(r,n){r&&Dt(e,60,vVe(n,r))}),Dt(e,391))}function OVe(e,t){!t||!t["!ref"]||(Dt(e,648),Dt(e,649,bVe(Vn(t["!ref"]))),Dt(e,650))}function DVe(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var a=ga(r,-1,n[1].Target.replace(/#.*$/,""),Cn.HLINK);Dt(e,494,hVe(n,a))}}),delete t["!links"]}function IVe(e,t,r,n){if(t["!comments"].length>0){var a=ga(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Cn.VML);Dt(e,551,XR("rId"+a)),t["!legacy"]=a}}function RVe(e,t,r,n){if(t["!autofilter"]){var a=t["!autofilter"],i=typeof a.ref=="string"?a.ref:gn(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,s=Ll(i);s.s.r==s.e.r&&(s.e.r=Ll(t["!ref"]).e.r,i=gn(s));for(var l=0;l<o.length;++l){var u=o[l];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+i;break}}l==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),Dt(e,161,ky(Vn(i))),Dt(e,162)}}function MVe(e,t,r){Dt(e,133),Dt(e,137,_Ve(t,r)),Dt(e,138),Dt(e,134)}function FVe(e,t){t["!protect"]&&Dt(e,535,SVe(t["!protect"]))}function LVe(e,t,r,n){var a=Fl(),i=r.SheetNames[e],o=r.Sheets[i]||{},s=i;try{r&&r.Workbook&&(s=r.Workbook.Sheets[e].CodeName||s)}catch{}var l=Vn(o["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],Dt(a,129),(r.vbaraw||o["!outline"])&&Dt(a,147,TWe(s,o["!outline"])),Dt(a,148,EWe(l)),MVe(a,o,r.Workbook),TVe(a,o),CVe(a,o,e,t),FVe(a,o),RVe(a,o,r,e),PVe(a,o),DVe(a,o,n),o["!margins"]&&Dt(a,476,xVe(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&OVe(a,o),IVe(a,o,e,n),Dt(a,130),a.end()}function jVe(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var o=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(t[+o[1]]=r?+o[2]:o[2])});var a=Wn((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){n=i.replace(/<.*?>/g,"")}),[t,a,n]}function $Ve(e,t,r,n,a,i){var o=i||{"!type":"chart"};if(!e)return i;var s=0,l=0,u="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var h=jVe(f);d.s.r=d.s.c=0,d.e.c=s,u=mi(s),h[0].forEach(function(m,x){o[u+Zi(x)]={t:"n",v:m,z:h[1]},l=x}),d.e.r<l&&(d.e.r=l),++s}),s>0&&(o["!ref"]=gn(d)),o}function BVe(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},o,s=e.match(Bie);return s&&uM(s[0],i,a,r),(o=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=o[1]),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}function UVe(e,t){e.l+=10;var r=Rs(e);return{name:r}}function qVe(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},o=!1;return Lh(e,function(l,u,d){switch(d){case 550:i["!rel"]=l;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),l.name&&(a.Sheets[r].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!o||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},t),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}var dM=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],zVe=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],WVe=[],VVe=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function SV(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var i=t[a];if(n[i[0]]==null)n[i[0]]=i[1];else switch(i[2]){case"bool":typeof n[i[0]]=="string"&&(n[i[0]]=Za(n[i[0]]));break;case"int":typeof n[i[0]]=="string"&&(n[i[0]]=parseInt(n[i[0]],10));break}}}function AV(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=Za(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function Wie(e){AV(e.WBProps,dM),AV(e.CalcPr,VVe),SV(e.WBView,zVe),SV(e.Sheets,WVe),g1.date1904=Za(e.WBProps.date1904)}function HVe(e){return!e.Workbook||!e.Workbook.WBProps?"false":Za(e.Workbook.WBProps.date1904)?"true":"false"}var GVe="][*?/\\".split("");function Vie(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return GVe.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function YVe(e,t,r){e.forEach(function(n,a){Vie(n);for(var i=0;i<a;++i)if(n==e[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var o=t&&t[a]&&t[a].CodeName||n;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function KVe(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];YVe(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)Hze(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}var XVe=/<\w+:workbook/;function ZVe(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",i={},o=0;if(e.replace(Bs,function(l,u){var d=an(l);switch(xf(d[0])){case"<?xml":break;case"<workbook":l.match(XVe)&&(a="xmlns"+l.match(/<(\w+):/)[1]),r.xmlns=d[a];break;case"</workbook>":break;case"<fileVersion":delete d[0],r.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":dM.forEach(function(f){if(d[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=Za(d[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(d[f[0]],10);break;default:r.WBProps[f[0]]=d[f[0]]}}),d.codeName&&(r.WBProps.CodeName=ba(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],r.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=Wn(ba(d.name)),delete d[0],r.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":i={},i.Name=ba(d.name),d.comment&&(i.Comment=d.comment),d.localSheetId&&(i.Sheet=+d.localSheetId),Za(d.hidden||"0")&&(i.Hidden=!0),o=u+l.length;break;case"</definedName>":i.Ref=Wn(ba(e.slice(o,u))),r.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete d[0],r.CalcPr=d;break;case"<calcPr/>":delete d[0],r.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return l}),Mg.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return Wie(r),r}function Hie(e){var t=[eo];t[t.length]=tr("workbook",null,{xmlns:Mg[0],"xmlns:r":vo.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(dM.forEach(function(s){e.Workbook.WBProps[s[0]]!=null&&e.Workbook.WBProps[s[0]]!=s[1]&&(n[s[0]]=e.Workbook.WBProps[s[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=tr("workbookPr",null,n);var a=e.Workbook&&e.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var o={name:ya(e.SheetNames[i].slice(0,31))};if(o.sheetId=""+(i+1),o["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=tr("sheet",null,o)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(s){var l={name:s.Name};s.Comment&&(l.comment=s.Comment),s.Sheet!=null&&(l.localSheetId=""+s.Sheet),s.Hidden&&(l.hidden="1"),s.Ref&&(t[t.length]=tr("definedName",ya(s.Ref),l))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function JVe(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=v8(e),r.name=Rs(e),r}function QVe(e,t){return t||(t=Et(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),XR(e.strRelID,t),jo(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function eHe(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?Rs(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function tHe(e,t){t||(t=Et(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),Lae(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function rHe(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function nHe(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=I9e(e),o=Bze(e,0,r),s=KR(e);e.l=n;var l={Name:i,Ptg:o};return a<268435455&&(l.Sheet=a),s&&(l.Comment=s),l}function aHe(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var i=[],o=[[]];return o.SheetNames=[],o.XTI=[],ww[16]={n:"BrtFRTArchID$",f:rHe},Lh(e,function(l,u,d){switch(d){case 156:o.SheetNames.push(l.name),r.Sheets.push(l);break;case 153:r.WBProps=l;break;case 39:l.Sheet!=null&&(t.SID=l.Sheet),l.Ref=Es(l.Ptg,null,null,o,t),delete t.SID,delete l.Ptg,i.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([d,l]):o[0]=[d,l],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(l),o.XTI=o.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(d),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(d),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!u.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},t),Wie(r),r.Names=i,r.supbooks=o,r}function iHe(e,t){Dt(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};Dt(e,156,QVe(a))}Dt(e,144)}function oHe(e,t){t||(t=Et(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return jo("SheetJS",t),jo(BS.version,t),jo(BS.version,t),jo("7262",t),t.length>t.l?t.slice(0,t.l):t}function sHe(e,t){t||(t=Et(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function lHe(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,a=-1,i=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&i==-1&&(i=n);i>a||(Dt(e,135),Dt(e,158,sHe(a)),Dt(e,136))}}function cHe(e,t){var r=Fl();return Dt(r,131),Dt(r,128,oHe()),Dt(r,153,tHe(e.Workbook&&e.Workbook.WBProps||null)),lHe(r,e),iHe(r,e),Dt(r,132),r.end()}function uHe(e,t,r){return t.slice(-4)===".bin"?aHe(e,r):ZVe(e,r)}function dHe(e,t,r,n,a,i,o,s){return t.slice(-4)===".bin"?NVe(e,n,r,a,i,o,s):nWe(e,n,r,a,i,o,s)}function fHe(e,t,r,n,a,i,o,s){return t.slice(-4)===".bin"?qVe(e,n,r,a,i):BVe(e,n,r,a,i)}function hHe(e,t,r,n,a,i,o,s){return t.slice(-4)===".bin"?mqe():gqe()}function pHe(e,t,r,n,a,i,o,s){return t.slice(-4)===".bin"?hqe():pqe()}function mHe(e,t,r,n){return t.slice(-4)===".bin"?uUe(e,r,n):JBe(e,r,n)}function gHe(e,t,r){return Nie(e,r)}function vHe(e,t,r){return t.slice(-4)===".bin"?vBe(e,r):pBe(e,r)}function yHe(e,t,r){return t.slice(-4)===".bin"?lqe(e,r):QUe(e,r)}function xHe(e,t,r){return t.slice(-4)===".bin"?XUe(e):YUe(e)}function wHe(e,t,r,n){return r.slice(-4)===".bin"?ZUe(e,t,r,n):void 0}function _He(e,t,r){return t.slice(-4)===".bin"?VUe(e,t,r):GUe(e,t,r)}function bHe(e,t,r){return(t.slice(-4)===".bin"?cHe:Hie)(e)}function SHe(e,t,r,n,a){return(t.slice(-4)===".bin"?LVe:Uie)(e,r,n,a)}function AHe(e,t,r){return(t.slice(-4)===".bin"?wUe:Aie)(e,r)}function kHe(e,t,r){return(t.slice(-4)===".bin"?wBe:gie)(e,r)}function NHe(e,t,r){return(t.slice(-4)===".bin"?cqe:Pie)(e)}function EHe(e){return(e.slice(-4)===".bin"?HUe:Eie)()}var Gie=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,Yie=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Du(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(Gie),i,o,s,l;if(a)for(l=0;l!=a.length;++l)i=a[l].match(Yie),(o=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?s="xmlns"+i[1].slice(6):s=i[1].slice(o+1),n[s]=i[2].slice(1,i[2].length-1));return n}function CHe(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(Gie),a,i,o,s;if(n)for(s=0;s!=n.length;++s)a=n[s].match(Yie),(i=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?o="xmlns"+a[1].slice(6):o=a[1].slice(i+1),r[o]=a[2].slice(1,a[2].length-1));return r}var Q2;function PHe(e,t){var r=Q2[e]||Wn(e);return r==="General"?mg(t):ru(r,t)}function THe(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=Za(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=ei(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[Wn(t)]=a}function OHe(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||jh[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=dw(e.v):e.w=mg(e.v):e.w=PHe(t||"General",e.v)}catch(i){if(r.WTF)throw i}try{var n=Q2[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&by(n)){var a=j0(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(i){if(r.WTF)throw i}}}function DHe(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=WBe[n.Pattern]||n.Pattern)}e[t.ID]=t}function IHe(e,t,r,n,a,i,o,s,l,u){var d="General",f=n.StyleID,h={};u=u||{};var m=[],x=0;for(f===void 0&&s&&(f=s.StyleID),f===void 0&&o&&(f=o.StyleID);i[f]!==void 0&&(i[f].nf&&(d=i[f].nf),i[f].Interior&&m.push(i[f].Interior),!!i[f].Parent);)f=i[f].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=Za(e);break;case"String":n.t="s",n.r=UW(Wn(e)),n.v=e.indexOf("<")>-1?Wn(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(ei(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=Wn(e):n.v<60&&(n.v=n.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=qae[e],u.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=UW(t||e));break}if(OHe(n,d,u),u.cellFormula!==!1)if(n.Formula){var g=Wn(n.Formula);g.charCodeAt(0)==61&&(g=g.slice(1)),n.f=m1(g,a),delete n.Formula,n.ArrayRange=="RC"?n.F=m1("RC:RC",a):n.ArrayRange&&(n.F=m1(n.ArrayRange,a),l.push([Vn(n.F),n.F]))}else for(x=0;x<l.length;++x)a.r>=l[x][0].s.r&&a.r<=l[x][0].e.r&&a.c>=l[x][0].s.c&&a.c<=l[x][0].e.c&&(n.F=l[x][1]);u.cellStyles&&(m.forEach(function(y){!h.patternType&&y.patternType&&(h.patternType=y.patternType)}),n.s=h),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function RHe(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function sT(e,t){var r=t||{};Sy();var n=P2(zR(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=ba(n));var a=n.slice(0,1024).toLowerCase(),i=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var o=ti(r);return o.type="string",ty.to_workbook(n,o)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(mt){a.indexOf("<"+mt)>=0&&(i=!0)}),i)return xGe(n,r);Q2={"General Number":"General","General Date":Gr[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Gr[15],"Short Date":Gr[14],"Long Time":Gr[19],"Medium Time":Gr[18],"Short Time":Gr[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Gr[2],Standard:Gr[4],Percent:Gr[10],Scientific:Gr[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var s,l=[],u,d={},f=[],h=r.dense?[]:{},m="",x={},g={},y=Du('<Data ss:Type="String">'),_=0,b=0,S=0,C={s:{r:2e6,c:2e6},e:{r:0,c:0}},E={},O={},P="",I=0,L=[],U={},T={},F=0,j=[],H=[],X={},re=[],z,G=!1,q=[],K=[],J={},D=0,Y=0,Q={Sheets:[],WBProps:{date1904:!1}},ie={};pw.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var se="";s=pw.exec(n);)switch(s[3]=(se=s[3]).toLowerCase()){case"data":if(se=="data"){if(s[1]==="/"){if((u=l.pop())[0]!==s[3])throw new Error("Bad state: "+u.join("|"))}else s[0].charAt(s[0].length-2)!=="/"&&l.push([s[3],!0]);break}if(l[l.length-1][1])break;s[1]==="/"?IHe(n.slice(_,s.index),P,y,l[l.length-1][0]=="comment"?X:x,{c:b,r:S},E,re[b],g,q,r):(P="",y=Du(s[0]),_=s.index+s[0].length);break;case"cell":if(s[1]==="/")if(H.length>0&&(x.c=H),(!r.sheetRows||r.sheetRows>S)&&x.v!==void 0&&(r.dense?(h[S]||(h[S]=[]),h[S][b]=x):h[mi(b)+Zi(S)]=x),x.HRef&&(x.l={Target:Wn(x.HRef)},x.HRefScreenTip&&(x.l.Tooltip=x.HRefScreenTip),delete x.HRef,delete x.HRefScreenTip),(x.MergeAcross||x.MergeDown)&&(D=b+(parseInt(x.MergeAcross,10)|0),Y=S+(parseInt(x.MergeDown,10)|0),L.push({s:{c:b,r:S},e:{c:D,r:Y}})),!r.sheetStubs)x.MergeAcross?b=D+1:++b;else if(x.MergeAcross||x.MergeDown){for(var te=b;te<=D;++te)for(var de=S;de<=Y;++de)(te>b||de>S)&&(r.dense?(h[de]||(h[de]=[]),h[de][te]={t:"z"}):h[mi(te)+Zi(de)]={t:"z"});b=D+1}else++b;else x=CHe(s[0]),x.Index&&(b=+x.Index-1),b<C.s.c&&(C.s.c=b),b>C.e.c&&(C.e.c=b),s[0].slice(-2)==="/>"&&++b,H=[];break;case"row":s[1]==="/"||s[0].slice(-2)==="/>"?(S<C.s.r&&(C.s.r=S),S>C.e.r&&(C.e.r=S),s[0].slice(-2)==="/>"&&(g=Du(s[0]),g.Index&&(S=+g.Index-1)),b=0,++S):(g=Du(s[0]),g.Index&&(S=+g.Index-1),J={},(g.AutoFitHeight=="0"||g.Height)&&(J.hpx=parseInt(g.Height,10),J.hpt=xw(J.hpx),K[S]=J),g.Hidden=="1"&&(J.hidden=!0,K[S]=J));break;case"worksheet":if(s[1]==="/"){if((u=l.pop())[0]!==s[3])throw new Error("Bad state: "+u.join("|"));f.push(m),C.s.r<=C.e.r&&C.s.c<=C.e.c&&(h["!ref"]=gn(C),r.sheetRows&&r.sheetRows<=C.e.r&&(h["!fullref"]=h["!ref"],C.e.r=r.sheetRows-1,h["!ref"]=gn(C))),L.length&&(h["!merges"]=L),re.length>0&&(h["!cols"]=re),K.length>0&&(h["!rows"]=K),d[m]=h}else C={s:{r:2e6,c:2e6},e:{r:0,c:0}},S=b=0,l.push([s[3],!1]),u=Du(s[0]),m=Wn(u.Name),h=r.dense?[]:{},L=[],q=[],K=[],ie={name:m,Hidden:0},Q.Sheets.push(ie);break;case"table":if(s[1]==="/"){if((u=l.pop())[0]!==s[3])throw new Error("Bad state: "+u.join("|"))}else{if(s[0].slice(-2)=="/>")break;l.push([s[3],!1]),re=[],G=!1}break;case"style":s[1]==="/"?DHe(E,O,r):O=Du(s[0]);break;case"numberformat":O.nf=Wn(Du(s[0]).Format||"General"),Q2[O.nf]&&(O.nf=Q2[O.nf]);for(var Z=0;Z!=392&&Gr[Z]!=O.nf;++Z);if(Z==392){for(Z=57;Z!=392;++Z)if(Gr[Z]==null){ph(O.nf,Z);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(z=Du(s[0]),z.Hidden&&(z.hidden=!0,delete z.Hidden),z.Width&&(z.wpx=parseInt(z.Width,10)),!G&&z.wpx>10){G=!0,Ps=bie;for(var ce=0;ce<re.length;++ce)re[ce]&&bm(re[ce])}G&&bm(z),re[z.Index-1||re.length]=z;for(var oe=0;oe<+z.Span;++oe)re[re.length]=ti(z);break;case"namedrange":if(s[1]==="/")break;Q.Names||(Q.Names=[]);var ae=an(s[0]),Ne={Name:ae.Name,Ref:m1(ae.RefersTo.slice(1),{r:0,c:0})};Q.Sheets.length>0&&(Ne.Sheet=Q.Sheets.length-1),Q.Names.push(Ne);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(s[0].slice(-2)==="/>")break;s[1]==="/"?P+=n.slice(I,s.index):I=s.index+s[0].length;break;case"interior":if(!r.cellStyles)break;O.Interior=Du(s[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(s[0].slice(-2)==="/>")break;s[1]==="/"?aje(U,se,n.slice(F,s.index)):F=s.index+s[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(s[1]==="/"){if((u=l.pop())[0]!==s[3])throw new Error("Bad state: "+u.join("|"))}else l.push([s[3],!1]);break;case"comment":if(s[1]==="/"){if((u=l.pop())[0]!==s[3])throw new Error("Bad state: "+u.join("|"));RHe(X),H.push(X)}else l.push([s[3],!1]),u=Du(s[0]),X={a:u.Author};break;case"autofilter":if(s[1]==="/"){if((u=l.pop())[0]!==s[3])throw new Error("Bad state: "+u.join("|"))}else if(s[0].charAt(s[0].length-2)!=="/"){var Ie=Du(s[0]);h["!autofilter"]={ref:m1(Ie.Range).replace(/\$/g,"")},l.push([s[3],!0])}break;case"name":break;case"datavalidation":if(s[1]==="/"){if((u=l.pop())[0]!==s[3])throw new Error("Bad state: "+u.join("|"))}else s[0].charAt(s[0].length-2)!=="/"&&l.push([s[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(s[1]==="/"){if((u=l.pop())[0]!==s[3])throw new Error("Bad state: "+u.join("|"))}else s[0].charAt(s[0].length-2)!=="/"&&l.push([s[3],!0]);break;case"null":break;default:if(l.length==0&&s[3]=="document"||l.length==0&&s[3]=="uof")return PV(n,r);var Te=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(s[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Te=!1}break;case"componentoptions":switch(s[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Te=!1}break;case"excelworkbook":switch(s[3]){case"date1904":Q.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Te=!1}break;case"workbookoptions":switch(s[3]){case"owcversion":break;case"height":break;case"width":break;default:Te=!1}break;case"worksheetoptions":switch(s[3]){case"visible":if(s[0].slice(-2)!=="/>")if(s[1]==="/")switch(n.slice(F,s.index)){case"SheetHidden":ie.Hidden=1;break;case"SheetVeryHidden":ie.Hidden=2;break}else F=s.index+s[0].length;break;case"header":h["!margins"]||X0(h["!margins"]={},"xlml"),isNaN(+an(s[0]).Margin)||(h["!margins"].header=+an(s[0]).Margin);break;case"footer":h["!margins"]||X0(h["!margins"]={},"xlml"),isNaN(+an(s[0]).Margin)||(h["!margins"].footer=+an(s[0]).Margin);break;case"pagemargins":var he=an(s[0]);h["!margins"]||X0(h["!margins"]={},"xlml"),isNaN(+he.Top)||(h["!margins"].top=+he.Top),isNaN(+he.Left)||(h["!margins"].left=+he.Left),isNaN(+he.Right)||(h["!margins"].right=+he.Right),isNaN(+he.Bottom)||(h["!margins"].bottom=+he.Bottom);break;case"displayrighttoleft":Q.Views||(Q.Views=[]),Q.Views[0]||(Q.Views[0]={}),Q.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Te=!1}break;case"pivottable":case"pivotcache":switch(s[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Te=!1}break;case"pagebreaks":switch(s[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Te=!1}break;case"autofilter":switch(s[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Te=!1}break;case"querytable":switch(s[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Te=!1}break;case"datavalidation":switch(s[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Te=!1}break;case"sorting":case"conditionalformatting":switch(s[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Te=!1}break;case"mapinfo":case"schema":case"data":switch(s[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Te=!1}break;case"smarttags":break;default:Te=!1;break}if(Te||s[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+s[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(s[0].slice(-2)==="/>")break;s[1]==="/"?THe(T,se,j,n.slice(F,s.index)):(j=s,F=s.index+s[0].length);break}if(r.WTF)throw"Unrecognized tag: "+s[3]+"|"+l.join("|")}var Ge={};return!r.bookSheets&&!r.bookProps&&(Ge.Sheets=d),Ge.SheetNames=f,Ge.Workbook=Q,Ge.SSF=ti(Gr),Ge.Props=U,Ge.Custprops=T,Ge}function A8(e,t){switch(hM(t=t||{}),t.type||"base64"){case"base64":return sT(xc(e),t);case"binary":case"buffer":case"file":return sT(e,t);case"array":return sT(Lm(e),t)}}function MHe(e,t){var r=[];return e.Props&&r.push(ije(e.Props,t)),e.Custprops&&r.push(oje(e.Props,e.Custprops)),r.join("")}function FHe(){return""}function LHe(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,a){var i=[];i.push(tr("NumberFormat",null,{"ss:Format":ya(Gr[n.numFmtId])}));var o={"ss:ID":"s"+(21+a)};r.push(tr("Style",i.join(""),o))}),tr("Styles",r.join(""))}function Kie(e){return tr("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+sM(e.Ref,{r:0,c:0})})}function jHe(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var a=t[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(Kie(a)))}return tr("Names",r.join(""))}function $He(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,i=[],o=0;o<a.length;++o){var s=a[o];s.Sheet==r&&(s.Name.match(/^_xlfn\./)||i.push(Kie(s)))}return i.join("")}function BHe(e,t,r,n){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(tr("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(tr("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(tr("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(tr("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(rs("ProtectContents","True")),e["!protect"].objects&&a.push(rs("ProtectObjects","True")),e["!protect"].scenarios&&a.push(rs("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(rs("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(rs("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&a.push("<"+o[1]+"/>")})),a.length==0?"":tr("WorksheetOptions",a.join(""),{xmlns:ic.x})}function UHe(e){return e.map(function(t){var r=l9e(t.t||""),n=tr("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return tr("Comment",n,{"ss:Author":t.a})}).join("")}function qHe(e,t,r,n,a,i,o){if(!e||e.v==null&&e.f==null)return"";var s={};if(e.f&&(s["ss:Formula"]="="+ya(sM(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var l=gi(e.F.slice(t.length+1));s["ss:ArrayRange"]="RC:R"+(l.r==o.r?"":"["+(l.r-o.r)+"]")+"C"+(l.c==o.c?"":"["+(l.c-o.c)+"]")}if(e.l&&e.l.Target&&(s["ss:HRef"]=ya(e.l.Target),e.l.Tooltip&&(s["x:HRefScreenTip"]=ya(e.l.Tooltip))),r["!merges"])for(var u=r["!merges"],d=0;d!=u.length;++d)u[d].s.c!=o.c||u[d].s.r!=o.r||(u[d].e.c>u[d].s.c&&(s["ss:MergeAcross"]=u[d].e.c-u[d].s.c),u[d].e.r>u[d].s.r&&(s["ss:MergeDown"]=u[d].e.r-u[d].s.r));var f="",h="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":f="Number",h=String(e.v);break;case"b":f="Boolean",h=e.v?"1":"0";break;case"e":f="Error",h=jh[e.v];break;case"d":f="DateTime",h=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Gr[14]);break;case"s":f="String",h=s9e(e.v||"");break}var m=$m(n.cellXfs,e,n);s["ss:StyleID"]="s"+(21+m),s["ss:Index"]=o.c+1;var x=e.v!=null?h:"",g=e.t=="z"?"":'<Data ss:Type="'+f+'">'+x+"</Data>";return(e.c||[]).length>0&&(g+=UHe(e.c)),tr("Cell",g,s)}function zHe(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=ry(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function WHe(e,t,r,n){if(!e["!ref"])return"";var a=Vn(e["!ref"]),i=e["!merges"]||[],o=0,s=[];e["!cols"]&&e["!cols"].forEach(function(y,_){bm(y);var b=!!y.width,S=Y3(_,y),C={"ss:Index":_+1};b&&(C["ss:Width"]=vw(S.width)),y.hidden&&(C["ss:Hidden"]="1"),s.push(tr("Column",null,C))});for(var l=Array.isArray(e),u=a.s.r;u<=a.e.r;++u){for(var d=[zHe(u,(e["!rows"]||[])[u])],f=a.s.c;f<=a.e.c;++f){var h=!1;for(o=0;o!=i.length;++o)if(!(i[o].s.c>f)&&!(i[o].s.r>u)&&!(i[o].e.c<f)&&!(i[o].e.r<u)){(i[o].s.c!=f||i[o].s.r!=u)&&(h=!0);break}if(!h){var m={r:u,c:f},x=Qr(m),g=l?(e[u]||[])[f]:e[x];d.push(qHe(g,x,e,t,r,n,m))}}d.push("</Row>"),d.length>2&&s.push(d.join(""))}return s.join("")}function VHe(e,t,r){var n=[],a=r.SheetNames[e],i=r.Sheets[a],o=i?$He(i,t,e,r):"";return o.length>0&&n.push("<Names>"+o+"</Names>"),o=i?WHe(i,t,e,r):"",o.length>0&&n.push("<Table>"+o+"</Table>"),n.push(BHe(i,t,e,r)),n.join("")}function HHe(e,t){t||(t={}),e.SSF||(e.SSF=ti(Gr)),e.SSF&&(Sy(),U3(e.SSF),t.revssf=z3(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],$m(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(MHe(e,t)),r.push(FHe()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(tr("Worksheet",VHe(n,t,e),{"ss:Name":ya(e.SheetNames[n])}));return r[2]=LHe(e,t),r[3]=jHe(e),eo+tr("Workbook",r.join(""),{xmlns:ic.ss,"xmlns:o":ic.o,"xmlns:x":ic.x,"xmlns:ss":ic.ss,"xmlns:dt":ic.dt,"xmlns:html":ic.html})}function GHe(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=j9e(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=$9e(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var YHe=[60,1084,2066,2165,2175];function KHe(e,t,r,n,a){var i=n,o=[],s=r.slice(r.l,r.l+i);if(a&&a.enc&&a.enc.insitu&&s.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(s)}o.push(s),r.l+=i;for(var l=uh(r,r.l),u=k8[l],d=0;u!=null&&YHe.indexOf(l)>-1;)i=uh(r,r.l+2),d=r.l+4,l==2066?d+=4:(l==2165||l==2175)&&(d+=12),s=r.slice(d,r.l+4+i),o.push(s),r.l+=4+i,u=k8[l=uh(r,r.l)];var f=Fo(o);es(f,0);var h=0;f.lens=[];for(var m=0;m<o.length;++m)f.lens.push(h),h+=o[m].length;if(f.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+n;return t.f(f,f.length,a)}function Id(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=Gr[n])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||jh[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=dw(e.v):e.w=mg(e.v):e.w=ru(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&n&&e.t=="n"&&by(Gr[n]||String(n))){var a=j0(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function Mb(e,t,r){return{v:e,ixfe:t,t:r}}function XHe(e,t){var r={opts:{}},n={},a=t.dense?[]:{},i={},o={},s=null,l=[],u="",d={},f,h="",m,x,g,y,_={},b=[],S,C,E=[],O=[],P={Sheets:[],WBProps:{date1904:!1},Views:[{}]},I={},L=function(Je){return Je<8?G0[Je]:Je<64&&O[Je-8]||G0[Je]},U=function(Je,lt,sr){var Kt=lt.XF.data;if(!(!Kt||!Kt.patternType||!sr||!sr.cellStyles)){lt.s={},lt.s.patternType=Kt.patternType;var Tr;(Tr=gw(L(Kt.icvFore)))&&(lt.s.fgColor={rgb:Tr}),(Tr=gw(L(Kt.icvBack)))&&(lt.s.bgColor={rgb:Tr})}},T=function(Je,lt,sr){if(!(J>1)&&!(sr.sheetRows&&Je.r>=sr.sheetRows)){if(sr.cellStyles&&lt.XF&&lt.XF.data&&U(Je,lt,sr),delete lt.ixfe,delete lt.XF,f=Je,h=Qr(Je),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),Je.r<o.s.r&&(o.s.r=Je.r),Je.c<o.s.c&&(o.s.c=Je.c),Je.r+1>o.e.r&&(o.e.r=Je.r+1),Je.c+1>o.e.c&&(o.e.c=Je.c+1),sr.cellFormula&&lt.f){for(var Kt=0;Kt<b.length;++Kt)if(!(b[Kt][0].s.c>Je.c||b[Kt][0].s.r>Je.r)&&!(b[Kt][0].e.c<Je.c||b[Kt][0].e.r<Je.r)){lt.F=gn(b[Kt][0]),(b[Kt][0].s.c!=Je.c||b[Kt][0].s.r!=Je.r)&&delete lt.f,lt.f&&(lt.f=""+Es(b[Kt][1],o,Je,q,F));break}}sr.dense?(a[Je.r]||(a[Je.r]=[]),a[Je.r][Je.c]=lt):a[h]=lt}},F={enc:!1,sbcch:0,snames:[],sharedf:_,arrayf:b,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(F.password=t.password);var j,H=[],X=[],re=[],z=[],G=!1,q=[];q.SheetNames=F.snames,q.sharedf=F.sharedf,q.arrayf=F.arrayf,q.names=[],q.XTI=[];var K=0,J=0,D=0,Y=[],Q=[],ie;F.codepage=1200,zu(1200);for(var se=!1;e.l<e.length-1;){var te=e.l,de=e.read_shift(2);if(de===0&&K===10)break;var Z=e.l===e.length?0:e.read_shift(2),ce=k8[de];if(ce&&ce.f){if(t.bookSheets&&K===133&&de!==133)break;if(K=de,ce.r===2||ce.r==12){var oe=e.read_shift(2);if(Z-=2,!F.enc&&oe!==de&&((oe&255)<<8|oe>>8)!==de)throw new Error("rt mismatch: "+oe+"!="+de);ce.r==12&&(e.l+=10,Z-=10)}var ae={};if(de===10?ae=ce.f(e,Z,F):ae=KHe(de,ce,e,Z,F),J==0&&[9,521,1033,2057].indexOf(K)===-1)continue;switch(de){case 34:r.opts.Date1904=P.WBProps.date1904=ae;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(F.enc||(e.l=0),F.enc=ae,!t.password)throw new Error("File is password-protected");if(ae.valid==null)throw new Error("Encryption scheme unsupported");if(!ae.valid)throw new Error("Password is incorrect");break;case 92:F.lastuser=ae;break;case 66:var Ne=Number(ae);switch(Ne){case 21010:Ne=1200;break;case 32768:Ne=1e4;break;case 32769:Ne=1252;break}zu(F.codepage=Ne),se=!0;break;case 317:F.rrtabid=ae;break;case 25:F.winlocked=ae;break;case 439:r.opts.RefreshAll=ae;break;case 12:r.opts.CalcCount=ae;break;case 16:r.opts.CalcDelta=ae;break;case 17:r.opts.CalcIter=ae;break;case 13:r.opts.CalcMode=ae;break;case 14:r.opts.CalcPrecision=ae;break;case 95:r.opts.CalcSaveRecalc=ae;break;case 15:F.CalcRefMode=ae;break;case 2211:r.opts.FullCalc=ae;break;case 129:ae.fDialog&&(a["!type"]="dialog"),ae.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),ae.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:E.push(ae);break;case 430:q.push([ae]),q[q.length-1].XTI=[];break;case 35:case 547:q[q.length-1].push(ae);break;case 24:case 536:ie={Name:ae.Name,Ref:Es(ae.rgce,o,null,q,F)},ae.itab>0&&(ie.Sheet=ae.itab-1),q.names.push(ie),q[0]||(q[0]=[],q[0].XTI=[]),q[q.length-1].push(ae),ae.Name=="_xlnm._FilterDatabase"&&ae.itab>0&&ae.rgce&&ae.rgce[0]&&ae.rgce[0][0]&&ae.rgce[0][0][0]=="PtgArea3d"&&(Q[ae.itab-1]={ref:gn(ae.rgce[0][0][1][2])});break;case 22:F.ExternCount=ae;break;case 23:q.length==0&&(q[0]=[],q[0].XTI=[]),q[q.length-1].XTI=q[q.length-1].XTI.concat(ae),q.XTI=q.XTI.concat(ae);break;case 2196:if(F.biff<8)break;ie!=null&&(ie.Comment=ae[1]);break;case 18:a["!protect"]=ae;break;case 19:ae!==0&&F.WTF&&console.error("Password verifier: "+ae);break;case 133:i[ae.pos]=ae,F.snames.push(ae.name);break;case 10:{if(--J)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,a["!ref"]=gn(o),t.sheetRows&&t.sheetRows<=o.e.r){var Ie=o.e.r;o.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=gn(o),o.e.r=Ie}o.e.r++,o.e.c++}H.length>0&&(a["!merges"]=H),X.length>0&&(a["!objects"]=X),re.length>0&&(a["!cols"]=re),z.length>0&&(a["!rows"]=z),P.Sheets.push(I)}u===""?d=a:n[u]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(F.biff===8&&(F.biff={9:2,521:3,1033:4}[de]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[ae.BIFFVer]||8),F.biffguess=ae.BIFFVer==0,ae.BIFFVer==0&&ae.dt==4096&&(F.biff=5,se=!0,zu(F.codepage=28591)),F.biff==8&&ae.BIFFVer==0&&ae.dt==16&&(F.biff=2),J++)break;if(a=t.dense?[]:{},F.biff<8&&!se&&(se=!0,zu(F.codepage=t.codepage||1252)),F.biff<5||ae.BIFFVer==0&&ae.dt==4096){u===""&&(u="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var Te={pos:e.l-Z,name:u};i[Te.pos]=Te,F.snames.push(u)}else u=(i[te]||{name:""}).name;ae.dt==32&&(a["!type"]="chart"),ae.dt==64&&(a["!type"]="macro"),H=[],X=[],F.arrayf=b=[],re=[],z=[],G=!1,I={Hidden:(i[te]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[ae.r]||[])[ae.c]:a[Qr({c:ae.c,r:ae.r})])&&++ae.c,S={ixfe:ae.ixfe,XF:E[ae.ixfe]||{},v:ae.val,t:"n"},D>0&&(S.z=Y[S.ixfe>>8&63]),Id(S,t,r.opts.Date1904),T({c:ae.c,r:ae.r},S,t);break;case 5:case 517:S={ixfe:ae.ixfe,XF:E[ae.ixfe],v:ae.val,t:ae.t},D>0&&(S.z=Y[S.ixfe>>8&63]),Id(S,t,r.opts.Date1904),T({c:ae.c,r:ae.r},S,t);break;case 638:S={ixfe:ae.ixfe,XF:E[ae.ixfe],v:ae.rknum,t:"n"},D>0&&(S.z=Y[S.ixfe>>8&63]),Id(S,t,r.opts.Date1904),T({c:ae.c,r:ae.r},S,t);break;case 189:for(var he=ae.c;he<=ae.C;++he){var Ge=ae.rkrec[he-ae.c][0];S={ixfe:Ge,XF:E[Ge],v:ae.rkrec[he-ae.c][1],t:"n"},D>0&&(S.z=Y[S.ixfe>>8&63]),Id(S,t,r.opts.Date1904),T({c:he,r:ae.r},S,t)}break;case 6:case 518:case 1030:{if(ae.val=="String"){s=ae;break}if(S=Mb(ae.val,ae.cell.ixfe,ae.tt),S.XF=E[S.ixfe],t.cellFormula){var mt=ae.formula;if(mt&&mt[0]&&mt[0][0]&&mt[0][0][0]=="PtgExp"){var ht=mt[0][0][1][0],Pt=mt[0][0][1][1],ft=Qr({r:ht,c:Pt});_[ft]?S.f=""+Es(ae.formula,o,ae.cell,q,F):S.F=((t.dense?(a[ht]||[])[Pt]:a[ft])||{}).F}else S.f=""+Es(ae.formula,o,ae.cell,q,F)}D>0&&(S.z=Y[S.ixfe>>8&63]),Id(S,t,r.opts.Date1904),T(ae.cell,S,t),s=ae}break;case 7:case 519:if(s)s.val=ae,S=Mb(ae,s.cell.ixfe,"s"),S.XF=E[S.ixfe],t.cellFormula&&(S.f=""+Es(s.formula,o,s.cell,q,F)),D>0&&(S.z=Y[S.ixfe>>8&63]),Id(S,t,r.opts.Date1904),T(s.cell,S,t),s=null;else throw new Error("String record expects Formula");break;case 33:case 545:{b.push(ae);var _e=Qr(ae[0].s);if(m=t.dense?(a[ae[0].s.r]||[])[ae[0].s.c]:a[_e],t.cellFormula&&m){if(!s||!_e||!m)break;m.f=""+Es(ae[1],o,ae[0],q,F),m.F=gn(ae[0])}}break;case 1212:{if(!t.cellFormula)break;if(h){if(!s)break;_[Qr(s.cell)]=ae[0],m=t.dense?(a[s.cell.r]||[])[s.cell.c]:a[Qr(s.cell)],(m||{}).f=""+Es(ae[0],o,f,q,F)}}break;case 253:S=Mb(l[ae.isst].t,ae.ixfe,"s"),l[ae.isst].h&&(S.h=l[ae.isst].h),S.XF=E[S.ixfe],D>0&&(S.z=Y[S.ixfe>>8&63]),Id(S,t,r.opts.Date1904),T({c:ae.c,r:ae.r},S,t);break;case 513:t.sheetStubs&&(S={ixfe:ae.ixfe,XF:E[ae.ixfe],t:"z"},D>0&&(S.z=Y[S.ixfe>>8&63]),Id(S,t,r.opts.Date1904),T({c:ae.c,r:ae.r},S,t));break;case 190:if(t.sheetStubs)for(var Ce=ae.c;Ce<=ae.C;++Ce){var ze=ae.ixfe[Ce-ae.c];S={ixfe:ze,XF:E[ze],t:"z"},D>0&&(S.z=Y[S.ixfe>>8&63]),Id(S,t,r.opts.Date1904),T({c:Ce,r:ae.r},S,t)}break;case 214:case 516:case 4:S=Mb(ae.val,ae.ixfe,"s"),S.XF=E[S.ixfe],D>0&&(S.z=Y[S.ixfe>>8&63]),Id(S,t,r.opts.Date1904),T({c:ae.c,r:ae.r},S,t);break;case 0:case 512:J===1&&(o=ae);break;case 252:l=ae;break;case 1054:if(F.biff==4){Y[D++]=ae[1];for(var gt=0;gt<D+163&&Gr[gt]!=ae[1];++gt);gt>=163&&ph(ae[1],D+163)}else ph(ae[1],ae[0]);break;case 30:{Y[D++]=ae;for(var pt=0;pt<D+163&&Gr[pt]!=ae;++pt);pt>=163&&ph(ae,D+163)}break;case 229:H=H.concat(ae);break;case 93:X[ae.cmo[0]]=F.lastobj=ae;break;case 438:F.lastobj.TxO=ae;break;case 127:F.lastobj.ImData=ae;break;case 440:for(y=ae[0].s.r;y<=ae[0].e.r;++y)for(g=ae[0].s.c;g<=ae[0].e.c;++g)m=t.dense?(a[y]||[])[g]:a[Qr({c:g,r:y})],m&&(m.l=ae[1]);break;case 2048:for(y=ae[0].s.r;y<=ae[0].e.r;++y)for(g=ae[0].s.c;g<=ae[0].e.c;++g)m=t.dense?(a[y]||[])[g]:a[Qr({c:g,r:y})],m&&m.l&&(m.l.Tooltip=ae[1]);break;case 28:{if(F.biff<=5&&F.biff>=2)break;m=t.dense?(a[ae[0].r]||[])[ae[0].c]:a[Qr(ae[0])];var Re=X[ae[2]];m||(t.dense?(a[ae[0].r]||(a[ae[0].r]=[]),m=a[ae[0].r][ae[0].c]={t:"z"}):m=a[Qr(ae[0])]={t:"z"},o.e.r=Math.max(o.e.r,ae[0].r),o.s.r=Math.min(o.s.r,ae[0].r),o.e.c=Math.max(o.e.c,ae[0].c),o.s.c=Math.min(o.s.c,ae[0].c)),m.c||(m.c=[]),x={a:ae[1],t:Re.TxO.t},m.c.push(x)}break;case 2173:LUe(E[ae.ixfe],ae.ext);break;case 125:{if(!F.cellStyles)break;for(;ae.e>=ae.s;)re[ae.e--]={width:ae.w/256,level:ae.level||0,hidden:!!(ae.flags&1)},G||(G=!0,aM(ae.w/256)),bm(re[ae.e+1])}break;case 520:{var qe={};ae.level!=null&&(z[ae.r]=qe,qe.level=ae.level),ae.hidden&&(z[ae.r]=qe,qe.hidden=!0),ae.hpt&&(z[ae.r]=qe,qe.hpt=ae.hpt,qe.hpx=ry(ae.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||X0(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[de]]=ae;break;case 161:a["!margins"]||X0(a["!margins"]={}),a["!margins"].header=ae.header,a["!margins"].footer=ae.footer;break;case 574:ae.RTL&&(P.Views[0].RTL=!0);break;case 146:O=ae;break;case 2198:j=ae;break;case 140:C=ae;break;case 442:u?I.CodeName=ae||I.name:P.WBProps.CodeName=ae||"ThisWorkbook";break}}else ce||console.error("Missing Info for XLS Record 0x"+de.toString(16)),e.l+=Z}return r.SheetNames=Oi(i).sort(function(Nt,Je){return Number(Nt)-Number(Je)}).map(function(Nt){return i[Nt].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&d["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=d)):r.Preamble=d,r.Sheets&&Q.forEach(function(Nt,Je){r.Sheets[r.SheetNames[Je]]["!autofilter"]=Nt}),r.Strings=l,r.SSF=ti(Gr),F.enc&&(r.Encryption=F.enc),j&&(r.Themes=j),r.Metadata={},C!==void 0&&(r.Metadata.Country=C),q.names.length>0&&(P.Names=q.names),r.Workbook=P,r}var ex={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function ZHe(e,t,r){var n=Mr.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=iV(n,y8,ex.DSI);for(var i in a)t[i]=a[i]}catch(u){if(r.WTF)throw u}var o=Mr.find(e,"/!SummaryInformation");if(o&&o.size>0)try{var s=iV(o,x8,ex.SI);for(var l in s)t[l]==null&&(t[l]=s[l])}catch(u){if(r.WTF)throw u}t.HeadingPairs&&t.TitlesOfParts&&(Yae(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function JHe(e,t){var r=[],n=[],a=[],i=0,o,s=MW(y8,"n"),l=MW(x8,"n");if(e.Props)for(o=Oi(e.Props),i=0;i<o.length;++i)(Object.prototype.hasOwnProperty.call(s,o[i])?r:Object.prototype.hasOwnProperty.call(l,o[i])?n:a).push([o[i],e.Props[o[i]]]);if(e.Custprops)for(o=Oi(e.Custprops),i=0;i<o.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},o[i])||(Object.prototype.hasOwnProperty.call(s,o[i])?r:Object.prototype.hasOwnProperty.call(l,o[i])?n:a).push([o[i],e.Custprops[o[i]]]);var u=[];for(i=0;i<a.length;++i)tie.indexOf(a[i][0])>-1||Gae.indexOf(a[i][0])>-1||a[i][1]!=null&&u.push(a[i]);n.length&&Mr.utils.cfb_add(t,"/SummaryInformation",oV(n,ex.SI,l,x8)),(r.length||u.length)&&Mr.utils.cfb_add(t,"/DocumentSummaryInformation",oV(r,ex.DSI,s,y8,u.length?u:null,ex.UDI))}function Xie(e,t){t||(t={}),hM(t),RR(),t.codepage&&IR(t.codepage);var r,n;if(e.FullPaths){if(Mr.find(e,"/encryption"))throw new Error("File is password-protected");r=Mr.find(e,"!CompObj"),n=Mr.find(e,"/Workbook")||Mr.find(e,"/Book")}else{switch(t.type){case"base64":e=cc(xc(e));break;case"binary":e=cc(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}es(e,0),n={content:e}}var a,i;if(r&&GHe(r),t.bookProps&&!t.bookSheets)a={};else{var o=Sn?"buffer":"array";if(n&&n.content)a=XHe(n.content,t);else if((i=Mr.find(e,"PerfectOffice_MAIN"))&&i.content)a=K0.to_workbook(i.content,(t.type=o,t));else if((i=Mr.find(e,"NativeContent_MAIN"))&&i.content)a=K0.to_workbook(i.content,(t.type=o,t));else throw(i=Mr.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Mr.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=dqe(e))}var s={};return e.FullPaths&&ZHe(e,s,t),a.Props=a.Custprops=s,t.bookFiles&&(a.cfb=e),a}function QHe(e,t){var r=t||{},n=Mr.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Mr.utils.cfb_add(n,a,Zie(e,r)),r.biff==8&&(e.Props||e.Custprops)&&JHe(e,n),r.biff==8&&e.vbaraw&&fqe(n,Mr.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var ww={0:{f:SWe},1:{f:OWe},2:{f:XWe},3:{f:$We},4:{f:MWe},5:{f:GWe},6:{f:tVe},7:{f:zWe},8:{f:lVe},9:{f:sVe},10:{f:iVe},11:{f:oVe},12:{f:IWe},13:{f:JWe},14:{f:UWe},15:{f:LWe},16:{f:qie},17:{f:nVe},18:{f:VWe},19:{f:YR},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:nHe},40:{},42:{},43:{f:tUe},44:{f:QBe},45:{f:aUe},46:{f:oUe},47:{f:iUe},48:{},49:{f:N9e},50:{},51:{f:BUe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:fie},62:{f:eVe},63:{f:KUe},64:{f:AVe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:$s,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:wVe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:PWe},148:{f:NWe,p:16},151:{f:pVe},152:{},153:{f:eHe},154:{},155:{},156:{f:JVe},157:{},158:{},159:{T:1,f:gBe},160:{T:-1},161:{T:1,f:$g},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:cVe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:jUe},336:{T:-1},337:{f:zUe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:v8},357:{},358:{},359:{},360:{T:1},361:{},362:{f:die},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:mVe},427:{f:gVe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:yVe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:CWe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:fVe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:v8},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:oqe},633:{T:1},634:{T:-1},635:{T:1,f:aqe},636:{T:-1},637:{f:T9e},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:UVe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:kVe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},k8={6:{f:iT},10:{f:Mp},12:{f:so},13:{f:so},14:{f:$i},15:{f:$i},16:{f:Ds},17:{f:$i},18:{f:$i},19:{f:so},20:{f:fV},21:{f:fV},23:{f:die},24:{f:pV},25:{f:$i},26:{},27:{},28:{f:k$e},29:{},34:{f:$i},35:{f:hV},38:{f:Ds},39:{f:Ds},40:{f:Ds},41:{f:Ds},42:{f:$i},43:{f:$i},47:{f:LBe},49:{f:Jje},51:{f:so},60:{},61:{f:Gje},64:{f:$i},65:{f:Zje},66:{f:so},77:{},80:{},81:{},82:{},85:{f:so},89:{},90:{},91:{},92:{f:Fje},93:{f:C$e},94:{},95:{f:$i},96:{},97:{},99:{f:$i},125:{f:fie},128:{f:h$e},129:{f:jje},130:{f:so},131:{f:$i},132:{f:$i},133:{f:$je},134:{},140:{f:F$e},141:{f:so},144:{},146:{f:$$e},151:{},152:{},153:{},154:{},155:{},156:{f:so},157:{},158:{},160:{f:H$e},161:{f:q$e},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:c$e},190:{f:u$e},193:{f:Mp},197:{},198:{},199:{},200:{},201:{},202:{f:$i},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:so},220:{},221:{f:$i},222:{},224:{f:f$e},225:{f:Mje},226:{f:Mp},227:{},229:{f:N$e},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:Uje},253:{f:e$e},255:{f:zje},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:rie},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:$i},353:{f:Mp},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:y$e},431:{f:$i},432:{},433:{},434:{},437:{},438:{f:O$e},439:{f:$i},440:{f:D$e},441:{},442:{f:a_},443:{},444:{f:so},445:{},446:{},448:{f:Mp},449:{f:Hje,r:2},450:{f:Mp},512:{f:cV},513:{f:V$e},515:{f:g$e},516:{f:r$e},517:{f:dV},519:{f:G$e},520:{f:Wje},523:{},545:{f:mV},549:{f:lV},566:{},574:{f:Kje},638:{f:l$e},659:{},1048:{},1054:{f:a$e},1084:{},1212:{f:b$e},2048:{f:R$e},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Db},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Mp},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:B$e,r:12},2173:{f:FUe,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:$i,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:_$e,r:12},2197:{},2198:{f:TUe,r:12},2199:{},2200:{},2201:{},2202:{f:S$e,r:12},2203:{f:Mp},2204:{},2205:{},2206:{},2207:{},2211:{f:Vje},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:so},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:z$e},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:j$e},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:cV},1:{},2:{f:J$e},3:{f:X$e},4:{f:K$e},5:{f:dV},7:{f:eBe},8:{},9:{f:Db},11:{},22:{f:so},30:{f:o$e},31:{},32:{},33:{f:mV},36:{},37:{f:lV},50:{f:tBe},62:{},52:{},67:{},68:{f:so},69:{},86:{},126:{},127:{f:Y$e},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:rBe},223:{},234:{},354:{},421:{},518:{f:iT},521:{f:Db},536:{f:pV},547:{f:hV},561:{},579:{},1030:{f:iT},1033:{f:Db},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function rr(e,t,r,n){var a=t;if(!isNaN(a)){var i=n||(r||[]).length||0,o=e.next(4);o.write_shift(2,a),o.write_shift(2,i),i>0&&VR(r)&&e.push(r)}}function eGe(e,t,r,n){var a=(r||[]).length||0;if(a<=8224)return rr(e,t,r,a);var i=t;if(!isNaN(i)){for(var o=r.parts||[],s=0,l=0,u=0;u+(o[s]||8224)<=8224;)u+=o[s]||8224,s++;var d=e.next(4);for(d.write_shift(2,i),d.write_shift(2,u),e.push(r.slice(l,l+u)),l+=u;l<a;){for(d=e.next(4),d.write_shift(2,60),u=0;u+(o[s]||8224)<=8224;)u+=o[s]||8224,s++;d.write_shift(2,u),e.push(r.slice(l,l+u)),l+=u}}}function l_(e,t,r){return e||(e=Et(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function tGe(e,t,r,n){var a=Et(9);return l_(a,e,t),nie(r,n||"b",a),a}function rGe(e,t,r){var n=Et(8+2*r.length);return l_(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function nGe(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?xo(ei(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?rr(e,2,Q$e(r,n,a)):rr(e,3,Z$e(r,n,a));return;case"b":case"e":rr(e,5,tGe(r,n,t.v,t.t));return;case"s":case"str":rr(e,4,rGe(r,n,(t.v||"").slice(0,255)));return}rr(e,1,l_(null,r,n))}function aGe(e,t,r,n){var a=Array.isArray(t),i=Vn(t["!ref"]||"A1"),o,s="",l=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),o=gn(i)}for(var u=i.s.r;u<=i.e.r;++u){s=Zi(u);for(var d=i.s.c;d<=i.e.c;++d){u===i.s.r&&(l[d]=mi(d)),o=l[d]+s;var f=a?(t[u]||[])[d]:t[o];f&&nGe(e,f,u,d)}}}function iGe(e,t){for(var r=t||{},n=Fl(),a=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(a=i);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return rr(n,r.biff==4?1033:r.biff==3?521:9,tM(e,16,r)),aGe(n,e.Sheets[e.SheetNames[a]],a,r),rr(n,10),n.end()}function oGe(e,t,r){rr(e,49,Qje({sz:12,name:"Arial"},r))}function sGe(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&rr(e,1054,i$e(a,t[a],r))})}function lGe(e,t){var r=Et(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),rr(e,2151,r),r=Et(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),lie(Vn(t["!ref"]||"A1"),r),r.write_shift(4,4),rr(e,2152,r)}function cGe(e,t){for(var r=0;r<16;++r)rr(e,224,uV({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){rr(e,224,uV(n,0,t))})}function uGe(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];rr(e,440,I$e(n)),n[1].Tooltip&&rr(e,2048,M$e(n))}delete t["!links"]}function dGe(e,t){if(t){var r=0;t.forEach(function(n,a){++r<=256&&n&&rr(e,125,U$e(Y3(a,n),a))})}}function fGe(e,t,r,n,a){var i=16+$m(a.cellXfs,t,a);if(t.v==null&&!t.bf){rr(e,513,xg(r,n,i));return}if(t.bf)rr(e,6,jze(t,r,n,a,i));else switch(t.t){case"d":case"n":var o=t.t=="d"?xo(ei(t.v)):t.v;rr(e,515,v$e(r,n,o,i));break;case"b":case"e":rr(e,517,m$e(r,n,t.v,i,a,t.t));break;case"s":case"str":if(a.bookSST){var s=cM(a.Strings,t.v,a.revStrings);rr(e,253,t$e(r,n,s,i))}else rr(e,516,n$e(r,n,(t.v||"").slice(0,255),i,a));break;default:rr(e,513,xg(r,n,i))}}function hGe(e,t,r){var n=Fl(),a=r.SheetNames[e],i=r.Sheets[a]||{},o=(r||{}).Workbook||{},s=(o.Sheets||[])[e]||{},l=Array.isArray(i),u=t.biff==8,d,f="",h=[],m=Vn(i["!ref"]||"A1"),x=u?65536:16384;if(m.e.c>255||m.e.r>=x){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");m.e.c=Math.min(m.e.c,255),m.e.r=Math.min(m.e.c,x-1)}rr(n,2057,tM(r,16,t)),rr(n,13,Vc(1)),rr(n,12,Vc(100)),rr(n,15,rl(!0)),rr(n,17,rl(!1)),rr(n,16,vg(.001)),rr(n,95,rl(!0)),rr(n,42,rl(!1)),rr(n,43,rl(!1)),rr(n,130,Vc(1)),rr(n,128,p$e()),rr(n,131,rl(!1)),rr(n,132,rl(!1)),u&&dGe(n,i["!cols"]),rr(n,512,s$e(m,t)),u&&(i["!links"]=[]);for(var g=m.s.r;g<=m.e.r;++g){f=Zi(g);for(var y=m.s.c;y<=m.e.c;++y){g===m.s.r&&(h[y]=mi(y)),d=h[y]+f;var _=l?(i[g]||[])[y]:i[d];_&&(fGe(n,_,g,y,t),u&&_.l&&i["!links"].push([d,_.l]))}}var b=s.CodeName||s.name||a;return u&&rr(n,574,Xje((o.Views||[])[0])),u&&(i["!merges"]||[]).length&&rr(n,229,E$e(i["!merges"])),u&&uGe(n,i),rr(n,442,aie(b)),u&&lGe(n,i),rr(n,10),n.end()}function pGe(e,t,r){var n=Fl(),a=(e||{}).Workbook||{},i=a.Sheets||[],o=a.WBProps||{},s=r.biff==8,l=r.biff==5;if(rr(n,2057,tM(e,5,r)),r.bookType=="xla"&&rr(n,135),rr(n,225,s?Vc(1200):null),rr(n,193,mje(2)),l&&rr(n,191),l&&rr(n,192),rr(n,226),rr(n,92,Lje("SheetJS",r)),rr(n,66,Vc(s?1200:1252)),s&&rr(n,353,Vc(0)),s&&rr(n,448),rr(n,317,W$e(e.SheetNames.length)),s&&e.vbaraw&&rr(n,211),s&&e.vbaraw){var u=o.CodeName||"ThisWorkbook";rr(n,442,aie(u))}rr(n,156,Vc(17)),rr(n,25,rl(!1)),rr(n,18,rl(!1)),rr(n,19,Vc(0)),s&&rr(n,431,rl(!1)),s&&rr(n,444,Vc(0)),rr(n,61,Yje()),rr(n,64,rl(!1)),rr(n,141,Vc(0)),rr(n,34,rl(HVe(e)=="true")),rr(n,14,rl(!0)),s&&rr(n,439,rl(!1)),rr(n,218,Vc(0)),oGe(n,e,r),sGe(n,e.SSF,r),cGe(n,r),s&&rr(n,352,rl(!1));var d=n.end(),f=Fl();s&&rr(f,140,L$e()),s&&r.Strings&&eGe(f,252,qje(r.Strings)),rr(f,10);var h=f.end(),m=Fl(),x=0,g=0;for(g=0;g<e.SheetNames.length;++g)x+=(s?12:11)+(s?2:1)*e.SheetNames[g].length;var y=d.length+x+h.length;for(g=0;g<e.SheetNames.length;++g){var _=i[g]||{};rr(m,133,Bje({pos:y,hs:_.Hidden||0,dt:0,name:e.SheetNames[g]},r)),y+=t[g].length}var b=m.end();if(x!=b.length)throw new Error("BS8 "+x+" != "+b.length);var S=[];return d.length&&S.push(d),b.length&&S.push(b),h.length&&S.push(h),Fo(S)}function mGe(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=ti(Gr)),e&&e.SSF&&(Sy(),U3(e.SSF),r.revssf=z3(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,pM(r),r.cellXfs=[],$m(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)n[n.length]=hGe(a,r,e);return n.unshift(pGe(e,n,r)),Fo(n)}function Zie(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var a=Ll(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return mGe(e,t);case 4:case 3:case 2:return iGe(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function kV(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),o=a.index,s=i&&i.index||e.length,l=QLe(e.slice(o,s),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,d=0,f=0,h=0,m={s:{r:1e7,c:1e7},e:{r:0,c:0}},x=[];for(o=0;o<l.length;++o){var g=l[o].trim(),y=g.slice(0,3).toLowerCase();if(y=="<tr"){if(++u,r.sheetRows&&r.sheetRows<=u){--u;break}d=0;continue}if(!(y!="<td"&&y!="<th")){var _=g.split(/<\/t[dh]>/i);for(s=0;s<_.length;++s){var b=_[s].trim();if(b.match(/<t[dh]/i)){for(var S=b,C=0;S.charAt(0)=="<"&&(C=S.indexOf(">"))>-1;)S=S.slice(C+1);for(var E=0;E<x.length;++E){var O=x[E];O.s.c==d&&O.s.r<u&&u<=O.e.r&&(d=O.e.c+1,E=-1)}var P=an(b.slice(0,b.indexOf(">")));h=P.colspan?+P.colspan:1,((f=+P.rowspan)>1||h>1)&&x.push({s:{r:u,c:d},e:{r:u+(f||1)-1,c:d+h-1}});var I=P.t||P["data-t"]||"";if(!S.length){d+=h;continue}if(S=_ae(S),m.s.r>u&&(m.s.r=u),m.e.r<u&&(m.e.r=u),m.s.c>d&&(m.s.c=d),m.e.c<d&&(m.e.c=d),!S.length){d+=h;continue}var L={t:"s",v:S};r.raw||!S.trim().length||I=="s"||(S==="TRUE"?L={t:"b",v:!0}:S==="FALSE"?L={t:"b",v:!1}:isNaN(Yu(S))?isNaN(ey(S).getDate())||(L={t:"d",v:ei(S)},r.cellDates||(L={t:"n",v:xo(L.v)}),L.z=r.dateNF||Gr[14]):L={t:"n",v:Yu(S)}),r.dense?(n[u]||(n[u]=[]),n[u][d]=L):n[Qr({r:u,c:d})]=L,d+=h}}}}return n["!ref"]=gn(m),x.length&&(n["!merges"]=x),n}function gGe(e,t,r,n){for(var a=e["!merges"]||[],i=[],o=t.s.c;o<=t.e.c;++o){for(var s=0,l=0,u=0;u<a.length;++u)if(!(a[u].s.r>r||a[u].s.c>o)&&!(a[u].e.r<r||a[u].e.c<o)){if(a[u].s.r<r||a[u].s.c<o){s=-1;break}s=a[u].e.r-a[u].s.r+1,l=a[u].e.c-a[u].s.c+1;break}if(!(s<0)){var d=Qr({r,c:o}),f=n.dense?(e[r]||[])[o]:e[d],h=f&&f.v!=null&&(f.h||qR(f.w||(Nh(f),f.w)||""))||"",m={};s>1&&(m.rowspan=s),l>1&&(m.colspan=l),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(m["data-t"]=f&&f.t||"z",f.v!=null&&(m["data-v"]=f.v),f.z!=null&&(m["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),m.id=(n.id||"sjs")+"-"+d,i.push(tr("td",h,m))}}var x="<tr>";return x+i.join("")+"</tr>"}var vGe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',yGe="</body></html>";function xGe(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return jm(kV(r[0],t),t);var n=yM();return r.forEach(function(a,i){xM(n,kV(a,t),"Sheet"+(i+1))}),n}function wGe(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function Jie(e,t){var r=t||{},n=r.header!=null?r.header:vGe,a=r.footer!=null?r.footer:yGe,i=[n],o=Ll(e["!ref"]);r.dense=Array.isArray(e),i.push(wGe(e,o,r));for(var s=o.s.r;s<=o.e.r;++s)i.push(gGe(e,o,s,r));return i.push("</table>"+a),i.join("")}function Qie(e,t,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var o=typeof n.origin=="string"?gi(n.origin):n.origin;a=o.r,i=o.c}var s=t.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,s.length),u={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var d=Ll(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),a==-1&&(u.e.r=a=d.e.r+1)}var f=[],h=0,m=e["!rows"]||(e["!rows"]=[]),x=0,g=0,y=0,_=0,b=0,S=0;for(e["!cols"]||(e["!cols"]=[]);x<s.length&&g<l;++x){var C=s[x];if(NV(C)){if(n.display)continue;m[g]={hidden:!0}}var E=C.children;for(y=_=0;y<E.length;++y){var O=E[y];if(!(n.display&&NV(O))){var P=O.hasAttribute("data-v")?O.getAttribute("data-v"):O.hasAttribute("v")?O.getAttribute("v"):_ae(O.innerHTML),I=O.getAttribute("data-z")||O.getAttribute("z");for(h=0;h<f.length;++h){var L=f[h];L.s.c==_+i&&L.s.r<g+a&&g+a<=L.e.r&&(_=L.e.c+1-i,h=-1)}S=+O.getAttribute("colspan")||1,((b=+O.getAttribute("rowspan")||1)>1||S>1)&&f.push({s:{r:g+a,c:_+i},e:{r:g+a+(b||1)-1,c:_+i+(S||1)-1}});var U={t:"s",v:P},T=O.getAttribute("data-t")||O.getAttribute("t")||"";P!=null&&(P.length==0?U.t=T||"z":n.raw||P.trim().length==0||T=="s"||(P==="TRUE"?U={t:"b",v:!0}:P==="FALSE"?U={t:"b",v:!1}:isNaN(Yu(P))?isNaN(ey(P).getDate())||(U={t:"d",v:ei(P)},n.cellDates||(U={t:"n",v:xo(U.v)}),U.z=n.dateNF||Gr[14]):U={t:"n",v:Yu(P)})),U.z===void 0&&I!=null&&(U.z=I);var F="",j=O.getElementsByTagName("A");if(j&&j.length)for(var H=0;H<j.length&&!(j[H].hasAttribute("href")&&(F=j[H].getAttribute("href"),F.charAt(0)!="#"));++H);F&&F.charAt(0)!="#"&&(U.l={Target:F}),n.dense?(e[g+a]||(e[g+a]=[]),e[g+a][_+i]=U):e[Qr({c:_+i,r:g+a})]=U,u.e.c<_+i&&(u.e.c=_+i),_+=S}}++g}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,g-1+a),e["!ref"]=gn(u),g>=l&&(e["!fullref"]=gn((u.e.r=s.length-x+g-1+a,u))),e}function eoe(e,t){var r=t||{},n=r.dense?[]:{};return Qie(n,e,t)}function _Ge(e,t){return jm(eoe(e,t),t)}function NV(e){var t="",r=bGe(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function bGe(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function SGe(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=Wn(t.replace(/<[^>]*>/g,""));return[r]}var EV={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function toe(e,t){var r=t||{},n=zR(e),a=[],i,o,s={name:""},l="",u=0,d,f,h={},m=[],x=r.dense?[]:{},g,y,_={value:""},b="",S=0,C=[],E=-1,O=-1,P={s:{r:1e6,c:1e7},e:{r:0,c:0}},I=0,L={},U=[],T={},F=0,j=0,H=[],X=1,re=1,z=[],G={Names:[]},q={},K=["",""],J=[],D={},Y="",Q=0,ie=!1,se=!1,te=0;for(pw.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");g=pw.exec(n);)switch(g[3]=g[3].replace(/_.*$/,"")){case"table":case"":g[1]==="/"?(P.e.c>=P.s.c&&P.e.r>=P.s.r?x["!ref"]=gn(P):x["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=P.e.r&&(x["!fullref"]=x["!ref"],P.e.r=r.sheetRows-1,x["!ref"]=gn(P)),U.length&&(x["!merges"]=U),H.length&&(x["!rows"]=H),d.name=d.||d.name,typeof JSON<"u"&&JSON.stringify(d),m.push(d.name),h[d.name]=x,se=!1):g[0].charAt(g[0].length-2)!=="/"&&(d=an(g[0],!1),E=O=-1,P.s.r=P.s.c=1e7,P.e.r=P.e.c=0,x=r.dense?[]:{},U=[],H=[],se=!0);break;case"table-row-group":g[1]==="/"?--I:++I;break;case"table-row":case"":if(g[1]==="/"){E+=X,X=1;break}if(f=an(g[0],!1),f.?E=f.-1:E==-1&&(E=0),X=+f["number-rows-repeated"]||1,X<10)for(te=0;te<X;++te)I>0&&(H[E+te]={level:I});O=-1;break;case"covered-table-cell":g[1]!=="/"&&++O,r.sheetStubs&&(r.dense?(x[E]||(x[E]=[]),x[E][O]={t:"z"}):x[Qr({r:E,c:O})]={t:"z"}),b="",C=[];break;case"table-cell":case"":if(g[0].charAt(g[0].length-2)==="/")++O,_=an(g[0],!1),re=parseInt(_["number-columns-repeated"]||"1",10),y={t:"z",v:null},_.formula&&r.cellFormula!=!1&&(y.f=bV(Wn(_.formula))),(_.||_["value-type"])=="string"&&(y.t="s",y.v=Wn(_["string-value"]||""),r.dense?(x[E]||(x[E]=[]),x[E][O]=y):x[Qr({r:E,c:O})]=y),O+=re-1;else if(g[1]!=="/"){++O,b="",S=0,C=[],re=1;var de=X?E+X-1:E;if(O>P.e.c&&(P.e.c=O),O<P.s.c&&(P.s.c=O),E<P.s.r&&(P.s.r=E),de>P.e.r&&(P.e.r=de),_=an(g[0],!1),J=[],D={},y={t:_.||_["value-type"],v:null},r.cellFormula)if(_.formula&&(_.formula=Wn(_.formula)),_["number-matrix-columns-spanned"]&&_["number-matrix-rows-spanned"]&&(F=parseInt(_["number-matrix-rows-spanned"],10)||0,j=parseInt(_["number-matrix-columns-spanned"],10)||0,T={s:{r:E,c:O},e:{r:E+F-1,c:O+j-1}},y.F=gn(T),z.push([T,y.F])),_.formula)y.f=bV(_.formula);else for(te=0;te<z.length;++te)E>=z[te][0].s.r&&E<=z[te][0].e.r&&O>=z[te][0].s.c&&O<=z[te][0].e.c&&(y.F=z[te][1]);switch((_["number-columns-spanned"]||_["number-rows-spanned"])&&(F=parseInt(_["number-rows-spanned"],10)||0,j=parseInt(_["number-columns-spanned"],10)||0,T={s:{r:E,c:O},e:{r:E+F-1,c:O+j-1}},U.push(T)),_["number-columns-repeated"]&&(re=parseInt(_["number-columns-repeated"],10)),y.t){case"boolean":y.t="b",y.v=Za(_["boolean-value"]);break;case"float":y.t="n",y.v=parseFloat(_.value);break;case"percentage":y.t="n",y.v=parseFloat(_.value);break;case"currency":y.t="n",y.v=parseFloat(_.value);break;case"date":y.t="d",y.v=ei(_["date-value"]),r.cellDates||(y.t="n",y.v=xo(y.v)),y.z="m/d/yy";break;case"time":y.t="n",y.v=XLe(_["time-value"])/86400,r.cellDates&&(y.t="d",y.v=W3(y.v)),y.z="HH:MM:SS";break;case"number":y.t="n",y.v=parseFloat(_.);break;default:if(y.t==="string"||y.t==="text"||!y.t)y.t="s",_["string-value"]!=null&&(b=Wn(_["string-value"]),C=[]);else throw new Error("Unsupported value type "+y.t)}}else{if(ie=!1,y.t==="s"&&(y.v=b||"",C.length&&(y.R=C),ie=S==0),q.Target&&(y.l=q),J.length>0&&(y.c=J,J=[]),b&&r.cellText!==!1&&(y.w=b),ie&&(y.t="z",delete y.v),(!ie||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=E))for(var Z=0;Z<X;++Z){if(re=parseInt(_["number-columns-repeated"]||"1",10),r.dense)for(x[E+Z]||(x[E+Z]=[]),x[E+Z][O]=Z==0?y:ti(y);--re>0;)x[E+Z][O+re]=ti(y);else for(x[Qr({r:E+Z,c:O})]=y;--re>0;)x[Qr({r:E+Z,c:O+re})]=ti(y);P.e.c<=O&&(P.e.c=O)}re=parseInt(_["number-columns-repeated"]||"1",10),O+=re-1,re=0,y={},b="",C=[]}q={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(g[1]==="/"){if((i=a.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!0]);break;case"annotation":if(g[1]==="/"){if((i=a.pop())[0]!==g[3])throw"Bad state: "+i;D.t=b,C.length&&(D.R=C),D.a=Y,J.push(D)}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!1]);Y="",Q=0,b="",S=0,C=[];break;case"creator":g[1]==="/"?Y=n.slice(Q,g.index):Q=g.index+g[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(g[1]==="/"){if((i=a.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!1]);b="",S=0,C=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(g[1]==="/"){if(L[s.name]=l,(i=a.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&(l="",s=an(g[0],!1),a.push([g[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":o=an(g[0],!1),l+=EV[g[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":o=an(g[0],!1),l+=EV[g[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(g[0].slice(-2)==="/>")break;if(g[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":l+=n.slice(u,g.index);break}else u=g.index+g[0].length;break;case"named-range":o=an(g[0],!1),K=oT(o["cell-range-address"]);var ce={Name:o.name,Ref:K[0]+"!"+K[1]};se&&(ce.Sheet=m.length),G.Names.push(ce);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(g[1]==="/"&&(!_||!_["string-value"])){var oe=SGe(n.slice(S,g.index));b=(b.length>0?b+`
`:"")+oe[0]}else an(g[0],!1),S=g.index+g[0].length;break;case"s":break;case"database-range":if(g[1]==="/")break;try{K=oT(an(g[0])["target-range-address"]),h[K[0]]["!autofilter"]={ref:K[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(g[1]!=="/"){if(q=an(g[0],!1),!q.href)break;q.Target=Wn(q.href),delete q.href,q.Target.charAt(0)=="#"&&q.Target.indexOf(".")>-1?(K=oT(q.Target.slice(1)),q.Target="#"+K[0]+"!"+K[1]):q.Target.match(/^\.\.[\\\/]/)&&(q.Target=q.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(g[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(g)}}var ae={Sheets:h,SheetNames:m,Workbook:G};return r.bookSheets&&delete ae.Sheets,ae}function CV(e,t){t=t||{},Wc(e,"META-INF/manifest.xml")&&X9e(oo(e,"META-INF/manifest.xml"),t);var r=uc(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=toe(ba(r),t);return Wc(e,"meta.xml")&&(n.Props=Vae(oo(e,"meta.xml"))),n}function PV(e,t){return toe(e,t)}var AGe=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+hw({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return eo+t}}(),TV=function(){var e=function(i){return ya(i).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(i,o,s){var l=[];l.push('      <table:table table:name="'+ya(o.SheetNames[s])+`" table:style-name="ta1">
`);var u=0,d=0,f=Ll(i["!ref"]||"A1"),h=i["!merges"]||[],m=0,x=Array.isArray(i);if(i["!cols"])for(d=0;d<=f.e.c;++d)l.push("        <table:table-column"+(i["!cols"][d]?' table:style-name="co'+i["!cols"][d].ods+'"':"")+`></table:table-column>
`);var g="",y=i["!rows"]||[];for(u=0;u<f.s.r;++u)g=y[u]?' table:style-name="ro'+y[u].ods+'"':"",l.push("        <table:table-row"+g+`></table:table-row>
`);for(;u<=f.e.r;++u){for(g=y[u]?' table:style-name="ro'+y[u].ods+'"':"",l.push("        <table:table-row"+g+`>
`),d=0;d<f.s.c;++d)l.push(t);for(;d<=f.e.c;++d){var _=!1,b={},S="";for(m=0;m!=h.length;++m)if(!(h[m].s.c>d)&&!(h[m].s.r>u)&&!(h[m].e.c<d)&&!(h[m].e.r<u)){(h[m].s.c!=d||h[m].s.r!=u)&&(_=!0),b["table:number-columns-spanned"]=h[m].e.c-h[m].s.c+1,b["table:number-rows-spanned"]=h[m].e.r-h[m].s.r+1;break}if(_){l.push(r);continue}var C=Qr({r:u,c:d}),E=x?(i[u]||[])[d]:i[C];if(E&&E.f&&(b["table:formula"]=ya(Wze(E.f)),E.F&&E.F.slice(0,C.length)==C)){var O=Ll(E.F);b["table:number-matrix-columns-spanned"]=O.e.c-O.s.c+1,b["table:number-matrix-rows-spanned"]=O.e.r-O.s.r+1}if(!E){l.push(t);continue}switch(E.t){case"b":S=E.v?"TRUE":"FALSE",b["office:value-type"]="boolean",b["office:boolean-value"]=E.v?"true":"false";break;case"n":S=E.w||String(E.v||0),b["office:value-type"]="float",b["office:value"]=E.v||0;break;case"s":case"str":S=E.v==null?"":E.v,b["office:value-type"]="string";break;case"d":S=E.w||ei(E.v).toISOString(),b["office:value-type"]="date",b["office:date-value"]=ei(E.v).toISOString(),b["table:style-name"]="ce1";break;default:l.push(t);continue}var P=e(S);if(E.l&&E.l.Target){var I=E.l.Target;I=I.charAt(0)=="#"?"#"+Vze(I.slice(1)):I,I.charAt(0)!="#"&&!I.match(/^\w+:/)&&(I="../"+I),P=tr("text:a",P,{"xlink:href":I.replace(/&/g,"&amp;")})}l.push("          "+tr("table:table-cell",tr("text:p",P,{}),b)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},a=function(i,o){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var s=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var d=0;d<u["!cols"].length;++d)if(u["!cols"][d]){var f=u["!cols"][d];if(f.width==null&&f.wpx==null&&f.wch==null)continue;bm(f),f.ods=s;var h=u["!cols"][d].wpx+"px";i.push('  <style:style style:name="co'+s+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+h+`"/>
`),i.push(`  </style:style>
`),++s}}});var l=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var d=0;d<u["!rows"].length;++d)if(u["!rows"][d]){u["!rows"][d].ods=l;var f=u["!rows"][d].hpx+"px";i.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),i.push(`  </style:style>
`),++l}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(o,s){var l=[eo],u=hw({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=hw({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});s.bookType=="fods"?(l.push("<office:document"+u+d+`>
`),l.push(Wae().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+u+`>
`),a(l,o),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var f=0;f!=o.SheetNames.length;++f)l.push(n(o.Sheets[o.SheetNames[f]],o,f));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),s.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}}();function roe(e,t){if(t.bookType=="fods")return TV(e,t);var r=$R(),n="",a=[],i=[];return n="mimetype",_n(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",_n(r,n,TV(e,t)),a.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",_n(r,n,AGe(e,t)),a.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",_n(r,n,eo+Wae()),a.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",_n(r,n,Q9e(i)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",_n(r,n,Z9e(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function wg(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function N8(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):ba(Lm(e))}function kGe(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):cc(Zd(e))}function NGe(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function Am(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function OV(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function EGe(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function CGe(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var i=0;a>=1;++i,a/=256)e[t+i]=a&255;e[t+15]|=r>=0?0:128}function _w(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function ma(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function Pi(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Xn(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=_w(e,r),i=a&7;a=Math.floor(a/8);var o=0,s;if(a==0)break;switch(i){case 0:{for(var l=r[0];e[r[0]++]>=128;);s=e.slice(l,r[0])}break;case 5:o=4,s=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,s=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=_w(e,r),s=e.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var u={data:s,type:i};t[a]==null?t[a]=[u]:t[a].push(u)}return t}function Zo(e){var t=[];return e.forEach(function(r,n){r.forEach(function(a){a.data&&(t.push(ma(n*8+a.type)),a.type==2&&t.push(ma(a.data.length)),t.push(a.data))})}),Am(t)}function fM(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function qc(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=_w(e,n),i=Xn(e.slice(n[0],n[0]+a));n[0]+=a;var o={id:Pi(i[1][0].data),messages:[]};i[2].forEach(function(s){var l=Xn(s.data),u=Pi(l[3][0].data);o.messages.push({meta:l,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=i[3])!=null&&t[0]&&(o.merge=Pi(i[3][0].data)>>>0>0),r.push(o)}return r}function Fv(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:ma(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:ma(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(o){a.push(o.data),o.meta[3]=[{type:0,data:ma(o.data.length)}],n[2].push({data:Zo(o.meta),type:2})});var i=Zo(n);t.push(ma(i.length)),t.push(i),a.forEach(function(o){return t.push(o)})}),Am(t)}function PGe(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=_w(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var o=t[r[0]++]>>2;if(o<60)++o;else{var s=o-59;o=t[r[0]],s>1&&(o|=t[r[0]+1]<<8),s>2&&(o|=t[r[0]+2]<<16),s>3&&(o|=t[r[0]+3]<<24),o>>>=0,o++,r[0]+=s}a.push(t.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var l=0,u=0;if(i==1?(u=(t[r[0]]>>2&7)+4,l=(t[r[0]++]&224)<<3,l|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,i==2?(l=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(l=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[Am(a)],l==0)throw new Error("Invalid offset 0");if(l>a[0].length)throw new Error("Invalid offset beyond length");if(u>=l)for(a.push(a[0].slice(-l)),u-=l;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-l,-l+u))}}var d=Am(a);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function zc(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(PGe(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return Am(t)}function Lv(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var i=ma(n),o=i.length;t.push(i),n<=60?(o++,t.push(new Uint8Array([n-1<<2]))):n<=256?(o+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(o+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(o+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(o+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),o+=n,a[0]=0,a[1]=o&255,a[2]=o>>8&255,a[3]=o>>16&255,r+=n}return Am(t)}function TGe(e,t,r,n){var a=wg(e),i=a.getUint32(4,!0),o=(n>1?12:8)+OV(i&(n>1?3470:398))*4,s=-1,l=-1,u=NaN,d=new Date(2001,0,1);i&512&&(s=a.getUint32(o,!0),o+=4),o+=OV(i&(n>1?12288:4096))*4,i&16&&(l=a.getUint32(o,!0),o+=4),i&32&&(u=a.getFloat64(o,!0),o+=8),i&64&&(d.setTime(d.getTime()+a.getFloat64(o,!0)*1e3),o+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:u};break;case 3:f={t:"s",v:t[l]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(s>-1)f={t:"s",v:r[s]};else if(l>-1)f={t:"s",v:t[l]};else if(!isNaN(u))f={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function OGe(e,t,r){var n=wg(e),a=n.getUint32(8,!0),i=12,o=-1,s=-1,l=NaN,u=NaN,d=new Date(2001,0,1);a&1&&(l=EGe(e,i),i+=16),a&2&&(u=n.getFloat64(i,!0),i+=8),a&4&&(d.setTime(d.getTime()+n.getFloat64(i,!0)*1e3),i+=8),a&8&&(s=n.getUint32(i,!0),i+=4),a&16&&(o=n.getUint32(i,!0),i+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:l};break;case 3:f={t:"s",v:t[s]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:r[o]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return f}function lT(e,t){var r=new Uint8Array(32),n=wg(r),a=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,CGe(r,a,e.v),i|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,e.v?1:0,!0),i|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,i,!0),r.slice(0,a)}function cT(e,t){var r=new Uint8Array(32),n=wg(r),a=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(a,e.v,!0),i|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,e.v?1:0,!0),i|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,i,!0),r.slice(0,a)}function DGe(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return TGe(e,t,r,e[0]);case 5:return OGe(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function Ns(e){var t=Xn(e);return _w(t[1][0].data)}function DV(e,t){var r=Xn(t.data),n=Pi(r[1][0].data),a=r[3],i=[];return(a||[]).forEach(function(o){var s=Xn(o.data),l=Pi(s[1][0].data)>>>0;switch(n){case 1:i[l]=N8(s[3][0].data);break;case 8:{var u=e[Ns(s[9][0].data)][0],d=Xn(u.data),f=e[Ns(d[1][0].data)][0],h=Pi(f.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var m=Xn(f.data);i[l]=m[3].map(function(x){return N8(x.data)}).join("")}break}}),i}function IGe(e,t){var r,n,a,i,o,s,l,u,d,f,h,m,x,g,y=Xn(e),_=Pi(y[1][0].data)>>>0,b=Pi(y[2][0].data)>>>0,S=((n=(r=y[8])==null?void 0:r[0])==null?void 0:n.data)&&Pi(y[8][0].data)>0||!1,C,E;if((i=(a=y[7])==null?void 0:a[0])!=null&&i.data&&t!=0)C=(s=(o=y[7])==null?void 0:o[0])==null?void 0:s.data,E=(u=(l=y[6])==null?void 0:l[0])==null?void 0:u.data;else if((f=(d=y[4])==null?void 0:d[0])!=null&&f.data&&t!=1)C=(m=(h=y[4])==null?void 0:h[0])==null?void 0:m.data,E=(g=(x=y[3])==null?void 0:x[0])==null?void 0:g.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var O=S?4:1,P=wg(C),I=[],L=0;L<C.length/2;++L){var U=P.getUint16(L*2,!0);U<65535&&I.push([L,U])}if(I.length!=b)throw"Expected ".concat(b," cells, found ").concat(I.length);var T=[];for(L=0;L<I.length-1;++L)T[I[L][0]]=E.subarray(I[L][1]*O,I[L+1][1]*O);return I.length>=1&&(T[I[I.length-1][0]]=E.subarray(I[I.length-1][1]*O)),{R:_,cells:T}}function RGe(e,t){var r,n=Xn(t.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?Pi(n[7][0].data)>>>0>0?1:0:-1,i=fM(n[5],function(o){return IGe(o,a)});return{nrows:Pi(n[4][0].data)>>>0,data:i.reduce(function(o,s){return o[s.R]||(o[s.R]=[]),s.cells.forEach(function(l,u){if(o[s.R][u])throw new Error("Duplicate cell r=".concat(s.R," c=").concat(u));o[s.R][u]=l}),o},[])}}function MGe(e,t,r){var n,a=Xn(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(Pi(a[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(i.e.c=(Pi(a[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=gn(i);var o=Xn(a[4][0].data),s=DV(e,e[Ns(o[4][0].data)][0]),l=(n=o[17])!=null&&n[0]?DV(e,e[Ns(o[17][0].data)][0]):[],u=Xn(o[3][0].data),d=0;u[1].forEach(function(f){var h=Xn(f.data),m=e[Ns(h[2][0].data)][0],x=Pi(m.meta[1][0].data);if(x!=6002)throw new Error("6001 unexpected reference to ".concat(x));var g=RGe(e,m);g.data.forEach(function(y,_){y.forEach(function(b,S){var C=Qr({r:d+_,c:S}),E=DGe(b,s,l);E&&(r[C]=E)})}),d+=g.nrows})}function FGe(e,t){var r=Xn(t.data),n={"!ref":"A1"},a=e[Ns(r[2][0].data)],i=Pi(a[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return MGe(e,a[0],n),n}function LGe(e,t){var r,n=Xn(t.data),a={name:(r=n[1])!=null&&r[0]?N8(n[1][0].data):"",sheets:[]},i=fM(n[2],Ns);return i.forEach(function(o){e[o].forEach(function(s){var l=Pi(s.meta[1][0].data);l==6e3&&a.sheets.push(FGe(e,s))})}),a}function jGe(e,t){var r=yM(),n=Xn(t.data),a=fM(n[1],Ns);if(a.forEach(function(i){e[i].forEach(function(o){var s=Pi(o.meta[1][0].data);if(s==2){var l=LGe(e,o);l.sheets.forEach(function(u,d){xM(r,u,d==0?l.name:l.name+"_"+d,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function uT(e){var t,r,n,a,i={},o=[];if(e.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var u;try{u=zc(l.content)}catch(f){return console.log("?? "+l.content.length+" "+(f.message||f))}var d;try{d=qc(u)}catch(f){return console.log("## "+(f.message||f))}d.forEach(function(f){i[f.id]=f.messages,o.push(f.id)})}}),!o.length)throw new Error("File has no messages");var s=((a=(n=(r=(t=i==null?void 0:i[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&Pi(i[1][0].meta[1][0].data)==1&&i[1][0];if(s||o.forEach(function(l){i[l].forEach(function(u){var d=Pi(u.meta[1][0].data)>>>0;if(d==1)if(!s)s=u;else throw new Error("Document has multiple roots")})}),!s)throw new Error("Cannot find Document root");return jGe(i,s)}function $Ge(e,t,r){var n,a,i,o;if(!((n=e[6])!=null&&n[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var s=((o=(i=e[8])==null?void 0:i[0])==null?void 0:o.data)&&Pi(e[8][0].data)>0||!1;if(s)throw"Math only works with normal offsets";for(var l=0,u=wg(e[7][0].data),d=0,f=[],h=wg(e[4][0].data),m=0,x=[],g=0;g<t.length;++g){if(t[g]==null){u.setUint16(g*2,65535,!0),h.setUint16(g*2,65535);continue}u.setUint16(g*2,d,!0),h.setUint16(g*2,m,!0);var y,_;switch(typeof t[g]){case"string":y=lT({t:"s",v:t[g]},r),_=cT({t:"s",v:t[g]},r);break;case"number":y=lT({t:"n",v:t[g]},r),_=cT({t:"n",v:t[g]},r);break;case"boolean":y=lT({t:"b",v:t[g]},r),_=cT({t:"b",v:t[g]},r);break;default:throw new Error("Unsupported value "+t[g])}f.push(y),d+=y.length,x.push(_),m+=_.length,++l}for(e[2][0].data=ma(l);g<e[7][0].data.length/2;++g)u.setUint16(g*2,65535,!0),h.setUint16(g*2,65535,!0);return e[6][0].data=Am(f),e[3][0].data=Am(x),l}function BGe(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Ll(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(gn(n)));var i=JS(r,{range:n,header:1}),o=["~Sh33tJ5~"];i.forEach(function(Y){return Y.forEach(function(Q){typeof Q=="string"&&o.push(Q)})});var s={},l=[],u=Mr.read(t.numbers,{type:"base64"});u.FileIndex.map(function(Y,Q){return[Y,u.FullPaths[Q]]}).forEach(function(Y){var Q=Y[0],ie=Y[1];if(Q.type==2&&Q.name.match(/\.iwa/)){var se=Q.content,te=zc(se),de=qc(te);de.forEach(function(Z){l.push(Z.id),s[Z.id]={deps:[],location:ie,type:Pi(Z.messages[0].meta[1][0].data)}})}}),l.sort(function(Y,Q){return Y-Q});var d=l.filter(function(Y){return Y>1}).map(function(Y){return[Y,ma(Y)]});u.FileIndex.map(function(Y,Q){return[Y,u.FullPaths[Q]]}).forEach(function(Y){var Q=Y[0];if(Y[1],!!Q.name.match(/\.iwa/)){var ie=qc(zc(Q.content));ie.forEach(function(se){se.messages.forEach(function(te){d.forEach(function(de){se.messages.some(function(Z){return Pi(Z.meta[1][0].data)!=11006&&NGe(Z.data,de[1])})&&s[de[0]].deps.push(se.id)})})})}});for(var f=Mr.find(u,s[1].location),h=qc(zc(f.content)),m,x=0;x<h.length;++x){var g=h[x];g.id==1&&(m=g)}var y=Ns(Xn(m.messages[0].data)[1][0].data);for(f=Mr.find(u,s[y].location),h=qc(zc(f.content)),x=0;x<h.length;++x)g=h[x],g.id==y&&(m=g);for(y=Ns(Xn(m.messages[0].data)[2][0].data),f=Mr.find(u,s[y].location),h=qc(zc(f.content)),x=0;x<h.length;++x)g=h[x],g.id==y&&(m=g);for(y=Ns(Xn(m.messages[0].data)[2][0].data),f=Mr.find(u,s[y].location),h=qc(zc(f.content)),x=0;x<h.length;++x)g=h[x],g.id==y&&(m=g);var _=Xn(m.messages[0].data);{_[6][0].data=ma(n.e.r+1),_[7][0].data=ma(n.e.c+1);var b=Ns(_[46][0].data),S=Mr.find(u,s[b].location),C=qc(zc(S.content));{for(var E=0;E<C.length&&C[E].id!=b;++E);if(C[E].id!=b)throw"Bad ColumnRowUIDMapArchive";var O=Xn(C[E].messages[0].data);O[1]=[],O[2]=[],O[3]=[];for(var P=0;P<=n.e.c;++P){var I=[];I[1]=I[2]=[{type:0,data:ma(P+420690)}],O[1].push({type:2,data:Zo(I)}),O[2].push({type:0,data:ma(P)}),O[3].push({type:0,data:ma(P)})}O[4]=[],O[5]=[],O[6]=[];for(var L=0;L<=n.e.r;++L)I=[],I[1]=I[2]=[{type:0,data:ma(L+726270)}],O[4].push({type:2,data:Zo(I)}),O[5].push({type:0,data:ma(L)}),O[6].push({type:0,data:ma(L)});C[E].messages[0].data=Zo(O)}S.content=Lv(Fv(C)),S.size=S.content.length,delete _[46];var U=Xn(_[4][0].data);{U[7][0].data=ma(n.e.r+1);var T=Xn(U[1][0].data),F=Ns(T[2][0].data);S=Mr.find(u,s[F].location),C=qc(zc(S.content));{if(C[0].id!=F)throw"Bad HeaderStorageBucket";var j=Xn(C[0].messages[0].data);for(L=0;L<i.length;++L){var H=Xn(j[2][0].data);H[1][0].data=ma(L),H[4][0].data=ma(i[L].length),j[2][L]={type:j[2][0].type,data:Zo(H)}}C[0].messages[0].data=Zo(j)}S.content=Lv(Fv(C)),S.size=S.content.length;var X=Ns(U[2][0].data);S=Mr.find(u,s[X].location),C=qc(zc(S.content));{if(C[0].id!=X)throw"Bad HeaderStorageBucket";for(j=Xn(C[0].messages[0].data),P=0;P<=n.e.c;++P)H=Xn(j[2][0].data),H[1][0].data=ma(P),H[4][0].data=ma(n.e.r+1),j[2][P]={type:j[2][0].type,data:Zo(H)};C[0].messages[0].data=Zo(j)}S.content=Lv(Fv(C)),S.size=S.content.length;var re=Ns(U[4][0].data);(function(){for(var Y=Mr.find(u,s[re].location),Q=qc(zc(Y.content)),ie,se=0;se<Q.length;++se){var te=Q[se];te.id==re&&(ie=te)}var de=Xn(ie.messages[0].data);{de[3]=[];var Z=[];o.forEach(function(ae,Ne){Z[1]=[{type:0,data:ma(Ne)}],Z[2]=[{type:0,data:ma(1)}],Z[3]=[{type:2,data:kGe(ae)}],de[3].push({type:2,data:Zo(Z)})})}ie.messages[0].data=Zo(de);var ce=Fv(Q),oe=Lv(ce);Y.content=oe,Y.size=Y.content.length})();var z=Xn(U[3][0].data);{var G=z[1][0];delete z[2];var q=Xn(G.data);{var K=Ns(q[2][0].data);(function(){for(var Y=Mr.find(u,s[K].location),Q=qc(zc(Y.content)),ie,se=0;se<Q.length;++se){var te=Q[se];te.id==K&&(ie=te)}var de=Xn(ie.messages[0].data);{delete de[6],delete z[7];var Z=new Uint8Array(de[5][0].data);de[5]=[];for(var ce=0,oe=0;oe<=n.e.r;++oe){var ae=Xn(Z);ce+=$Ge(ae,i[oe],o),ae[1][0].data=ma(oe),de[5].push({data:Zo(ae),type:2})}de[1]=[{type:0,data:ma(n.e.c+1)}],de[2]=[{type:0,data:ma(n.e.r+1)}],de[3]=[{type:0,data:ma(ce)}],de[4]=[{type:0,data:ma(n.e.r+1)}]}ie.messages[0].data=Zo(de);var Ne=Fv(Q),Ie=Lv(Ne);Y.content=Ie,Y.size=Y.content.length})()}G.data=Zo(q)}U[3][0].data=Zo(z)}_[4][0].data=Zo(U)}m.messages[0].data=Zo(_);var J=Fv(h),D=Lv(J);return f.content=D,f.size=f.content.length,u}function noe(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function hM(e){noe([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function pM(e){noe([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function UGe(e){return Cn.WS.indexOf(e)>-1?"sheet":e==Cn.CS?"chart":e==Cn.DS?"dialog":e==Cn.MS?"macro":e&&e.length?e:"sheet"}function qGe(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,UGe(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function zGe(e,t,r,n,a,i,o,s,l,u,d,f){try{i[n]=X2(uc(e,r,!0),t);var h=oo(e,t),m;switch(s){case"sheet":m=dHe(h,t,a,l,i[n],u,d,f);break;case"chart":if(m=fHe(h,t,a,l,i[n],u,d,f),!m||!m["!drawel"])break;var x=O2(m["!drawel"].Target,t),g=mw(x),y=JUe(uc(e,x,!0),X2(uc(e,g,!0),x)),_=O2(y,x),b=mw(_);m=$Ve(uc(e,_,!0),_,l,X2(uc(e,b,!0),_),u,m);break;case"macro":m=hHe(h,t,a,l,i[n],u,d,f);break;case"dialog":m=pHe(h,t,a,l,i[n],u,d,f);break;default:throw new Error("Unrecognized sheet type "+s)}o[n]=m;var S=[];i&&i[n]&&Oi(i[n]).forEach(function(C){var E="";if(i[n][C].Type==Cn.CMNT){E=O2(i[n][C].Target,t);var O=yHe(oo(e,E,!0),E,l);if(!O||!O.length)return;vV(m,O,!1)}i[n][C].Type==Cn.TCMNT&&(E=O2(i[n][C].Target,t),S=S.concat(eqe(oo(e,E,!0),l)))}),S&&S.length&&vV(m,S,!0,l.people||[])}catch(C){if(l.WTF)throw C}}function Bc(e){return e.charAt(0)=="/"?e.slice(1):e}function WGe(e,t){if(Sy(),t=t||{},hM(t),Wc(e,"META-INF/manifest.xml")||Wc(e,"objectdata.xml"))return CV(e,t);if(Wc(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof uT<"u"){if(e.FileIndex)return uT(e);var r=Mr.utils.cfb_new();return jW(e).forEach(function(H){_n(r,H,t9e(e,H))}),uT(r)}throw new Error("Unsupported NUMBERS file")}if(!Wc(e,"[Content_Types].xml"))throw Wc(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Wc(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=jW(e),a=Y9e(uc(e,"[Content_Types].xml")),i=!1,o,s;if(a.workbooks.length===0&&(s="xl/workbook.xml",oo(e,s,!0)&&a.workbooks.push(s)),a.workbooks.length===0){if(s="xl/workbook.bin",!oo(e,s,!0))throw new Error("Could not find workbook");a.workbooks.push(s),i=!0}a.workbooks[0].slice(-3)=="bin"&&(i=!0);var l={},u={};if(!t.bookSheets&&!t.bookProps){if(Z2=[],a.sst)try{Z2=vHe(oo(e,Bc(a.sst)),a.sst,t)}catch(H){if(t.WTF)throw H}t.cellStyles&&a.themes.length&&(l=gHe(uc(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(u=mHe(oo(e,Bc(a.style)),a.style,l,t))}a.links.map(function(H){try{var X=X2(uc(e,mw(Bc(H))),H);return wHe(oo(e,Bc(H)),X,H,t)}catch{}});var d=uHe(oo(e,Bc(a.workbooks[0])),a.workbooks[0],t),f={},h="";a.coreprops.length&&(h=oo(e,Bc(a.coreprops[0]),!0),h&&(f=Vae(h)),a.extprops.length!==0&&(h=oo(e,Bc(a.extprops[0]),!0),h&&tje(h,f,t)));var m={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(h=uc(e,Bc(a.custprops[0]),!0),h&&(m=nje(h,t)));var x={};if((t.bookSheets||t.bookProps)&&(d.Sheets?o=d.Sheets.map(function(X){return X.name}):f.Worksheets&&f.SheetNames.length>0&&(o=f.SheetNames),t.bookProps&&(x.Props=f,x.Custprops=m),t.bookSheets&&typeof o<"u"&&(x.SheetNames=o),t.bookSheets?x.SheetNames:t.bookProps))return x;o={};var g={};t.bookDeps&&a.calcchain&&(g=xHe(oo(e,Bc(a.calcchain)),a.calcchain));var y=0,_={},b,S;{var C=d.Sheets;f.Worksheets=C.length,f.SheetNames=[];for(var E=0;E!=C.length;++E)f.SheetNames[E]=C[E].name}var O=i?"bin":"xml",P=a.workbooks[0].lastIndexOf("/"),I=(a.workbooks[0].slice(0,P+1)+"_rels/"+a.workbooks[0].slice(P+1)+".rels").replace(/^\//,"");Wc(e,I)||(I="xl/_rels/workbook."+O+".rels");var L=X2(uc(e,I,!0),I.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=_He(oo(e,Bc(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=rqe(oo(e,Bc(a.people[0])),t)),L&&(L=qGe(L,d.Sheets));var U=oo(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(y=0;y!=f.Worksheets;++y){var T="sheet";if(L&&L[y]?(b="xl/"+L[y][1].replace(/[\/]?xl\//,""),Wc(e,b)||(b=L[y][1]),Wc(e,b)||(b=I.replace(/_rels\/.*$/,"")+L[y][1]),T=L[y][2]):(b="xl/worksheets/sheet"+(y+1-U)+"."+O,b=b.replace(/sheet0\./,"sheet.")),S=b.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(y!=t.sheets)continue e;break;case"string":if(f.SheetNames[y].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var F=!1,j=0;j!=t.sheets.length;++j)typeof t.sheets[j]=="number"&&t.sheets[j]==y&&(F=1),typeof t.sheets[j]=="string"&&t.sheets[j].toLowerCase()==f.SheetNames[y].toLowerCase()&&(F=1);if(!F)continue e}}zGe(e,b,S,f.SheetNames[y],y,_,o,T,t,d,l,u)}return x={Directory:a,Workbook:d,Props:f,Custprops:m,Deps:g,Sheets:o,SheetNames:f.SheetNames,Strings:Z2,Styles:u,Themes:l,SSF:ti(Gr)},t&&t.bookFiles&&(e.files?(x.keys=n,x.files=e.files):(x.keys=[],x.files={},e.FullPaths.forEach(function(H,X){H=H.replace(/^Root Entry[\/]/,""),x.keys.push(H),x.files[H]=e.FileIndex[X]}))),t&&t.bookVBA&&(a.vba.length>0?x.vbaraw=oo(e,Bc(a.vba[0]),!0):a.defaults&&a.defaults.bin===uqe&&(x.vbaraw=oo(e,"xl/vbaProject.bin",!0))),x}function VGe(e,t){var r=t||{},n="Workbook",a=Mr.find(e,n);try{if(n="/!DataSpaces/Version",a=Mr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(_Be(a.content),n="/!DataSpaces/DataSpaceMap",a=Mr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=SBe(a.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=Mr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=ABe(a.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=Mr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);NBe(a.content)}catch{}if(n="/EncryptionInfo",a=Mr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=EBe(a.content);if(n="/EncryptedPackage",a=Mr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(s[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(s[1],a.content,r.password||"",r);if(s[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(s[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function HGe(e,t){return t.bookType=="ods"?roe(e,t):t.bookType=="numbers"?BGe(e,t):t.bookType=="xlsb"?GGe(e,t):YGe(e,t)}function GGe(e,t){Kv=1024,e&&!e.SSF&&(e.SSF=ti(Gr)),e&&e.SSF&&(Sy(),U3(e.SSF),t.revssf=z3(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,J2?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=Tie.indexOf(t.bookType)>-1,a=QR();pM(t=t||{});var i=$R(),o="",s=0;if(t.cellXfs=[],$m(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",_n(i,o,Hae(e.Props,t)),a.coreprops.push(o),ga(t.rels,2,o,Cn.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var l=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&l.push(e.SheetNames[u]);e.Props.SheetNames=l}for(e.Props.Worksheets=e.Props.SheetNames.length,_n(i,o,Kae(e.Props)),a.extprops.push(o),ga(t.rels,3,o,Cn.EXT_PROPS),e.Custprops!==e.Props&&Oi(e.Custprops||{}).length>0&&(o="docProps/custom.xml",_n(i,o,Xae(e.Custprops)),a.custprops.push(o),ga(t.rels,4,o,Cn.CUST_PROPS)),s=1;s<=e.SheetNames.length;++s){var d={"!id":{}},f=e.Sheets[e.SheetNames[s-1]],h=(f||{})["!type"]||"sheet";switch(h){case"chart":default:o="xl/worksheets/sheet"+s+"."+r,_n(i,o,SHe(s-1,o,t,e,d)),a.sheets.push(o),ga(t.wbrels,-1,"worksheets/sheet"+s+"."+r,Cn.WS[0])}if(f){var m=f["!comments"],x=!1,g="";m&&m.length>0&&(g="xl/comments"+s+"."+r,_n(i,g,NHe(m,g)),a.comments.push(g),ga(d,-1,"../comments"+s+"."+r,Cn.CMNT),x=!0),f["!legacy"]&&x&&_n(i,"xl/drawings/vmlDrawing"+s+".vml",Cie(s,f["!comments"])),delete f["!comments"],delete f["!legacy"]}d["!id"].rId1&&_n(i,mw(o),p1(d))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,_n(i,o,kHe(t.Strings,o,t)),a.strs.push(o),ga(t.wbrels,-1,"sharedStrings."+r,Cn.SST)),o="xl/workbook."+r,_n(i,o,bHe(e,o)),a.workbooks.push(o),ga(t.rels,1,o,Cn.WB),o="xl/theme/theme1.xml",_n(i,o,iM(e.Themes,t)),a.themes.push(o),ga(t.wbrels,-1,"theme/theme1.xml",Cn.THEME),o="xl/styles."+r,_n(i,o,AHe(e,o,t)),a.styles.push(o),ga(t.wbrels,-1,"styles."+r,Cn.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",_n(i,o,e.vbaraw),a.vba.push(o),ga(t.wbrels,-1,"vbaProject.bin",Cn.VBA)),o="xl/metadata."+r,_n(i,o,EHe(o)),a.metadata.push(o),ga(t.wbrels,-1,"metadata."+r,Cn.XLMETA),_n(i,"[Content_Types].xml",zae(a,t)),_n(i,"_rels/.rels",p1(t.rels)),_n(i,"xl/_rels/workbook."+r+".rels",p1(t.wbrels)),delete t.revssf,delete t.ssf,i}function YGe(e,t){Kv=1024,e&&!e.SSF&&(e.SSF=ti(Gr)),e&&e.SSF&&(Sy(),U3(e.SSF),t.revssf=z3(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,J2?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=Tie.indexOf(t.bookType)>-1,a=QR();pM(t=t||{});var i=$R(),o="",s=0;if(t.cellXfs=[],$m(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",_n(i,o,Hae(e.Props,t)),a.coreprops.push(o),ga(t.rels,2,o,Cn.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var l=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&l.push(e.SheetNames[u]);e.Props.SheetNames=l}e.Props.Worksheets=e.Props.SheetNames.length,_n(i,o,Kae(e.Props)),a.extprops.push(o),ga(t.rels,3,o,Cn.EXT_PROPS),e.Custprops!==e.Props&&Oi(e.Custprops||{}).length>0&&(o="docProps/custom.xml",_n(i,o,Xae(e.Custprops)),a.custprops.push(o),ga(t.rels,4,o,Cn.CUST_PROPS));var d=["SheetJ5"];for(t.tcid=0,s=1;s<=e.SheetNames.length;++s){var f={"!id":{}},h=e.Sheets[e.SheetNames[s-1]],m=(h||{})["!type"]||"sheet";switch(m){case"chart":default:o="xl/worksheets/sheet"+s+"."+r,_n(i,o,Uie(s-1,t,e,f)),a.sheets.push(o),ga(t.wbrels,-1,"worksheets/sheet"+s+"."+r,Cn.WS[0])}if(h){var x=h["!comments"],g=!1,y="";if(x&&x.length>0){var _=!1;x.forEach(function(b){b[1].forEach(function(S){S.T==!0&&(_=!0)})}),_&&(y="xl/threadedComments/threadedComment"+s+"."+r,_n(i,y,tqe(x,d,t)),a.threadedcomments.push(y),ga(f,-1,"../threadedComments/threadedComment"+s+"."+r,Cn.TCMNT)),y="xl/comments"+s+"."+r,_n(i,y,Pie(x)),a.comments.push(y),ga(f,-1,"../comments"+s+"."+r,Cn.CMNT),g=!0}h["!legacy"]&&g&&_n(i,"xl/drawings/vmlDrawing"+s+".vml",Cie(s,h["!comments"])),delete h["!comments"],delete h["!legacy"]}f["!id"].rId1&&_n(i,mw(o),p1(f))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,_n(i,o,gie(t.Strings,t)),a.strs.push(o),ga(t.wbrels,-1,"sharedStrings."+r,Cn.SST)),o="xl/workbook."+r,_n(i,o,Hie(e)),a.workbooks.push(o),ga(t.rels,1,o,Cn.WB),o="xl/theme/theme1.xml",_n(i,o,iM(e.Themes,t)),a.themes.push(o),ga(t.wbrels,-1,"theme/theme1.xml",Cn.THEME),o="xl/styles."+r,_n(i,o,Aie(e,t)),a.styles.push(o),ga(t.wbrels,-1,"styles."+r,Cn.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",_n(i,o,e.vbaraw),a.vba.push(o),ga(t.wbrels,-1,"vbaProject.bin",Cn.VBA)),o="xl/metadata."+r,_n(i,o,Eie()),a.metadata.push(o),ga(t.wbrels,-1,"metadata."+r,Cn.XLMETA),d.length>1&&(o="xl/persons/person.xml",_n(i,o,nqe(d)),a.people.push(o),ga(t.wbrels,-1,"persons/person.xml",Cn.PEOPLE)),_n(i,"[Content_Types].xml",zae(a,t)),_n(i,"_rels/.rels",p1(t.rels)),_n(i,"xl/_rels/workbook."+r+".rels",p1(t.wbrels)),delete t.revssf,delete t.ssf,i}function mM(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=xc(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function KGe(e,t){return Mr.find(e,"EncryptedPackage")?VGe(e,t):Xie(e,t)}function XGe(e,t){var r,n=e,a=t||{};return a.type||(a.type=Sn&&Buffer.isBuffer(e)?"buffer":"base64"),r=yae(n,a),WGe(r,a)}function aoe(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return A8(e.slice(r),t);default:break e}return ty.to_workbook(e,t)}function ZGe(e,t){var r="",n=mM(e,t);switch(t.type){case"base64":r=xc(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=gg(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=ba(r)),t.type="binary",aoe(r,t)}function JGe(e,t){var r=e;return t.type=="base64"&&(r=xc(r)),r=m8.utils.decode(1200,r.slice(2),"str"),t.type="binary",aoe(r,t)}function QGe(e){return e.match(/[^\x00-\x7F]/)?Zd(e):e}function dT(e,t,r,n){return n?(r.type="string",ty.to_workbook(e,r)):ty.to_workbook(t,r)}function E8(e,t){RR();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return E8(new Uint8Array(e),(r=ti(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],i=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),g1={},r.dateNF&&(g1.dateNF=r.dateNF),r.type||(r.type=Sn&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=Sn?"buffer":"binary",n=GLe(e),typeof Uint8Array<"u"&&!Sn&&(r.type="array")),r.type=="string"&&(i=!0,r.type="binary",r.codepage=65001,n=QGe(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),s=new Uint8Array(o);if(s.foo="bar",!s.foo)return r=ti(r),r.type="array",E8(MR(n),r)}switch((a=mM(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return KGe(Mr.read(n,r),r);break;case 9:if(a[1]<=8)return Xie(n,r);break;case 60:return A8(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return aBe(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return pie.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?XGe(n,r):dT(e,n,r,i);case 239:return a[3]===60?A8(n,r):dT(e,n,r,i);case 255:if(a[1]===254)return JGe(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return K0.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return K0.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return S8.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return _ie.to_workbook(n,r);break;case 10:case 13:case 32:return ZGe(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return nBe.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?S8.to_workbook(n,r):dT(e,n,r,i)}function ioe(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return t_(t.file,Mr.write(e,{type:Sn?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Mr.write(e,t)}function eYe(e,t){var r=ti(t||{}),n=HGe(e,r);return tYe(n,r)}function tYe(e,t){var r={},n=Sn?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?Mr.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(B3(a))}return t.password&&typeof encrypt_agile<"u"?ioe(encrypt_agile(a,t.password),t):t.type==="file"?t_(t.file,a):t.type=="string"?ba(a):a}function rYe(e,t){var r=t||{},n=QHe(e,r);return ioe(n,r)}function Ld(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return uw(Zd(n));case"binary":return Zd(n);case"string":return e;case"file":return t_(t.file,n,"utf8");case"buffer":return Sn?Fh(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Ld(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function nYe(e,t){switch(t.type){case"base64":return uw(e);case"binary":return e;case"string":return e;case"file":return t_(t.file,e,"binary");case"buffer":return Sn?Fh(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Fb(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?uw(r):t.type=="string"?ba(r):r;case"file":return t_(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function ooe(e,t){RR(),KVe(e);var r=ti(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=ooe(e,r);return r.type="array",B3(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Ld(HHe(e,r),r);case"slk":case"sylk":return Ld(hie.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return Ld(Jie(e.Sheets[e.SheetNames[a]],r),r);case"txt":return nYe(soe(e.Sheets[e.SheetNames[a]],r),r);case"csv":return Ld(vM(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return Ld(pie.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return Fb(S8.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return Ld(ty.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return Ld(_ie.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return Ld(mie.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return Ld(roe(e,r),r);case"wk1":return Fb(K0.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return Fb(K0.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Fb(Zie(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),rYe(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return eYe(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function aYe(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function gM(e,t,r){var n={};return n.type="file",n.file=t,aYe(n),ooe(e,n)}function iYe(e,t,r,n,a,i,o,s){var l=Zi(r),u=s.defval,d=s.raw||!Object.prototype.hasOwnProperty.call(s,"raw"),f=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!o||e[r])for(var m=t.s.c;m<=t.e.c;++m){var x=o?e[r][m]:e[n[m]+l];if(x===void 0||x.t===void 0){if(u===void 0)continue;i[m]!=null&&(h[i[m]]=u);continue}var g=x.v;switch(x.t){case"z":if(g==null)break;continue;case"e":g=g==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+x.t)}if(i[m]!=null){if(g==null)if(x.t=="e"&&g===null)h[i[m]]=null;else if(u!==void 0)h[i[m]]=u;else if(d&&g===null)h[i[m]]=null;else continue;else h[i[m]]=d&&(x.t!=="n"||x.t==="n"&&s.rawNumbers!==!1)?g:Nh(x,g,s);g!=null&&(f=!1)}}return{row:h,isempty:f}}function JS(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],o=0,s="",l={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":l=Vn(d);break;case"number":l=Vn(e["!ref"]),l.s.r=d;break;default:l=d}n>0&&(a=0);var f=Zi(l.s.r),h=[],m=[],x=0,g=0,y=Array.isArray(e),_=l.s.r,b=0,S={};y&&!e[_]&&(e[_]=[]);var C=u.skipHidden&&e["!cols"]||[],E=u.skipHidden&&e["!rows"]||[];for(b=l.s.c;b<=l.e.c;++b)if(!(C[b]||{}).hidden)switch(h[b]=mi(b),r=y?e[_][b]:e[h[b]+f],n){case 1:i[b]=b-l.s.c;break;case 2:i[b]=h[b];break;case 3:i[b]=u.header[b-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),s=o=Nh(r,null,u),g=S[o]||0,!g)S[o]=1;else{do s=o+"_"+g++;while(S[s]);S[o]=g,S[s]=1}i[b]=s}for(_=l.s.r+a;_<=l.e.r;++_)if(!(E[_]||{}).hidden){var O=iYe(e,l,_,h,n,i,y,u);(O.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(m[x++]=O.row)}return m.length=x,m}var IV=/"/g;function oYe(e,t,r,n,a,i,o,s){for(var l=!0,u=[],d="",f=Zi(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var m=s.dense?(e[r]||[])[h]:e[n[h]+f];if(m==null)d="";else if(m.v!=null){l=!1,d=""+(s.rawNumbers&&m.t=="n"?m.v:Nh(m,null,s));for(var x=0,g=0;x!==d.length;++x)if((g=d.charCodeAt(x))===a||g===i||g===34||s.forceQuotes){d='"'+d.replace(IV,'""')+'"';break}d=="ID"&&(d='"ID"')}else m.f!=null&&!m.F?(l=!1,d="="+m.f,d.indexOf(",")>=0&&(d='"'+d.replace(IV,'""')+'"')):d="";u.push(d)}return s.blankrows===!1&&l?null:u.join(o)}function vM(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=Vn(e["!ref"]),i=n.FS!==void 0?n.FS:",",o=i.charCodeAt(0),s=n.RS!==void 0?n.RS:`
`,l=s.charCodeAt(0),u=new RegExp((i=="|"?"\\|":i)+"+$"),d="",f=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],m=n.skipHidden&&e["!rows"]||[],x=a.s.c;x<=a.e.c;++x)(h[x]||{}).hidden||(f[x]=mi(x));for(var g=0,y=a.s.r;y<=a.e.r;++y)(m[y]||{}).hidden||(d=oYe(e,a,y,f,o,l,i,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((g++?s:"")+d)));return delete n.dense,r.join("")}function soe(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=vM(e,t);return r}function sYe(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=Vn(e["!ref"]),i="",o=[],s,l=[],u=Array.isArray(e);for(s=a.s.c;s<=a.e.c;++s)o[s]=mi(s);for(var d=a.s.r;d<=a.e.r;++d)for(i=Zi(d),s=a.s.c;s<=a.e.c;++s)if(t=o[s]+i,r=u?(e[d]||[])[s]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=t+"="+n}return l}function loe(e,t,r){var n=r||{},a=+!n.skipHeader,i=e||{},o=0,s=0;if(i&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var l=typeof n.origin=="string"?gi(n.origin):n.origin;o=l.r,s=l.c}var u,d={s:{c:0,r:0},e:{c:s,r:o+t.length-1+a}};if(i["!ref"]){var f=Vn(i["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),o==-1&&(o=f.e.r+1,d.e.r=o+t.length-1+a)}else o==-1&&(o=0,d.e.r=t.length-1+a);var h=n.header||[],m=0;t.forEach(function(g,y){Oi(g).forEach(function(_){(m=h.indexOf(_))==-1&&(h[m=h.length]=_);var b=g[_],S="z",C="",E=Qr({c:s+m,r:o+y+a});u=bw(i,E),b&&typeof b=="object"&&!(b instanceof Date)?i[E]=b:(typeof b=="number"?S="n":typeof b=="boolean"?S="b":typeof b=="string"?S="s":b instanceof Date?(S="d",n.cellDates||(S="n",b=xo(b)),C=n.dateNF||Gr[14]):b===null&&n.nullError&&(S="e",b=0),u?(u.t=S,u.v=b,delete u.w,delete u.R,C&&(u.z=C)):i[E]=u={t:S,v:b},C&&(u.z=C))})}),d.e.c=Math.max(d.e.c,s+h.length-1);var x=Zi(o);if(a)for(m=0;m<h.length;++m)i[mi(m+s)+x]={t:"s",v:h[m]};return i["!ref"]=gn(d),i}function lYe(e,t){return loe(null,e,t)}function bw(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=gi(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?bw(e,Qr(t)):bw(e,Qr({r:t,c:r||0}))}function cYe(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function yM(){return{SheetNames:[],Sheets:{}}}function xM(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var o=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=o+a)!=-1;++a);}if(Vie(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function uYe(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=cYe(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function dYe(e,t){return e.z=t,e}function coe(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function fYe(e,t,r){return coe(e,"#"+t,r)}function hYe(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function pYe(e,t,r,n){for(var a=typeof t!="string"?t:Vn(t),i=typeof t=="string"?t:gn(t),o=a.s.r;o<=a.e.r;++o)for(var s=a.s.c;s<=a.e.c;++s){var l=bw(e,o,s);l.t="n",l.F=i,delete l.v,o==a.s.r&&s==a.s.c&&(l.f=r,n&&(l.D=!0))}return e}var of={encode_col:mi,encode_row:Zi,encode_cell:Qr,encode_range:gn,decode_col:GR,decode_row:HR,split_cell:k9e,decode_cell:gi,decode_range:Ll,format_cell:Nh,sheet_add_aoa:Fae,sheet_add_json:loe,sheet_add_dom:Qie,aoa_to_sheet:Ay,json_to_sheet:lYe,table_to_sheet:eoe,table_to_book:_Ge,sheet_to_csv:vM,sheet_to_txt:soe,sheet_to_json:JS,sheet_to_html:Jie,sheet_to_formulae:sYe,sheet_to_row_object_array:JS,sheet_get_cell:bw,book_new:yM,book_append_sheet:xM,book_set_sheet_visibility:uYe,cell_set_number_format:dYe,cell_set_hyperlink:coe,cell_set_internal_link:fYe,cell_add_comment:hYe,sheet_set_array_formula:pYe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const mYe=(e,t="inventory_export")=>{const r=e.map(o=>({"Item Name":o.item_name,Category:o.category,Quantity:o.quantity,"Expiry Date":o.expiry_date?new Date(o.expiry_date).toLocaleDateString():"N/A","Supplier Info":o.supplier_info||"N/A","Purchase Price":o.purchase_price!=null?Number(o.purchase_price):"N/A",Status:o.stock_status,"Low Stock Threshold":o.low_stock_threshold,"Created At":new Date(o.created_at).toLocaleString()})),n=of.json_to_sheet(r),a=[{wch:30},{wch:15},{wch:10},{wch:15},{wch:25},{wch:15},{wch:12},{wch:20},{wch:20}];n["!cols"]=a;const i=of.book_new();of.book_append_sheet(i,n,"Inventory"),gM(i,`${t}.xlsx`)},gYe=(e,t="inventory_export")=>{const r=new Fr,n=["Item Name","Category","Qty","Expiry","Supplier","Price","Status"],a=e.map(i=>[i.item_name,i.category,i.quantity,i.expiry_date?new Date(i.expiry_date).toLocaleDateString():"N/A",i.supplier_info||"N/A",i.purchase_price!=null?`$${Number(i.purchase_price).toFixed(2)}`:"N/A",i.stock_status]);r.setFontSize(18),r.text("Inventory Report",14,22),r.setFontSize(11),r.setTextColor(100),r.text(`Generated on: ${new Date().toLocaleDateString()}`,14,29),f1(r,{head:[n],body:a,startY:35,theme:"grid",headStyles:{fillColor:[22,160,133]},styles:{fontSize:8},columnStyles:{0:{cellWidth:40},2:{halign:"right"},5:{halign:"right"}}}),r.save(`${t}.pdf`)},vYe=()=>{const[e,t]=A.useState(!1),[r,n]=A.useState(null),[a,i]=A.useState(""),[o,s]=A.useState("all"),[l,u]=A.useState([]),[d,f]=A.useState(0),[h,m]=A.useState(!1),[x,g]=A.useState(!1),y=()=>{n(null),t(!0)},_=P=>{n(P),t(!0)},b=()=>{t(!1),n(null)},S=P=>{console.log("Item saved:",P),b(),f(I=>I+1)},C=()=>{x&&!h||(h?(m(!1),g(!1)):(g(!0),m(!0)))},E=P=>{},O=()=>{g(!1)};return w("div",{className:"container mx-auto p-4 md:p-6 space-y-6",children:[w(Sa,{heading:"Inventory Management",text:"Track medicines, tools, and consumables.",className:"flex items-center justify-between",children:[w($a,{open:e,onOpenChange:t,children:[c(Gw,{asChild:!0,children:w(Fe,{onClick:y,children:[c(Ch,{className:"mr-2 h-4 w-4"})," Add New Item"]})}),w(Ta,{className:"sm:max-w-[600px]",children:[" ",c(Oa,{children:c(Da,{children:r?"Edit Inventory Item":"Add New Inventory Item"})}),c(dLe,{itemToEdit:r,onSave:S,onCancel:b})]})]}),c(Fe,{variant:"outline",onClick:C,disabled:x&&!h,className:`ai-insights-button ${x&&h?"opacity-100 cursor-not-allowed":""}`,style:x&&h?{opacity:1}:{},children:x&&h?w(Sr,{children:[c(B0,{className:"mr-2 h-4 w-4 animate-spin"}),"AI is thinking... (this may take up to 2 minutes)"]}):w(Sr,{children:[c(zH,{className:"mr-2 h-4 w-4"}),h?"Hide AI Insights":"Show AI Insights"]})})]}),w("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:[w("div",{className:"relative flex-1",children:[c(l4,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),c(ct,{type:"search",placeholder:"Search by item name...",className:"pl-8 sm:w-full",value:a,onChange:P=>i(P.target.value)})]}),w(zr,{value:o,onValueChange:P=>s(P),children:[c($r,{className:"w-full sm:w-[180px]",children:c(Wr,{placeholder:"Filter by category"})}),w(Br,{children:[c(_t,{value:"all",children:"All Categories"}),c(_t,{value:"Medicines",children:"Medicines"}),c(_t,{value:"Tools",children:"Tools"}),c(_t,{value:"Consumables",children:"Consumables"})]})]}),w(Fe,{variant:"outline",onClick:()=>mYe(l),disabled:l.length===0,className:"w-full sm:w-auto",children:[c(X7,{className:"mr-2 h-4 w-4"})," Export Excel"]}),w(Fe,{variant:"outline",onClick:()=>gYe(l),disabled:l.length===0,className:"w-full sm:w-auto",children:[c(X7,{className:"mr-2 h-4 w-4"})," Export PDF"]})]}),h&&c(pLe,{onLoadingChange:E,onInitialFetchComplete:O}),c(oLe,{onEditItem:_,refreshTrigger:d,searchTerm:a,categoryFilter:o,onDataFiltered:u})]})},yYe=()=>{const[e,t]=A.useState([]),[r,n]=A.useState(!0),[a,i]=A.useState(null),[o,s]=A.useState(null),{toast:l}=yn();A.useEffect(()=>{(async()=>{n(!0),i(null);try{const f=await lLe();Array.isArray(f)?t(f):(console.warn("Fetched invoices data is not an array:",f),t([]))}catch(f){console.error("Failed to fetch invoices:",f);const h=f instanceof Error?f.message:"An unknown error occurred";i(h),l({title:"Error Fetching Invoices",description:h,variant:"destructive"})}finally{n(!1)}})()},[l]);const u=async d=>{s(d.id);try{const f=await cLe(d.storage_path);window.open(f,"_blank")}catch(f){console.error("Failed to get download URL:",f),l({title:"Error Getting Download Link",description:f instanceof Error?f.message:"Could not generate link.",variant:"destructive"})}finally{s(null)}};return r?c("div",{className:"space-y-2",children:[...Array(3)].map((d,f)=>c(Ml,{className:"h-10 w-full"},f))}):a?w(rd,{variant:"destructive",children:[c(fc,{className:"h-4 w-4"}),c(nd,{children:"Error"}),c(ad,{children:a})]}):e.length===0?c("p",{className:"text-center text-gray-500 mt-4",children:"No invoices found."}):c("div",{className:"rounded-md border",children:w(Fs,{children:[c(Ls,{children:w(Pn,{children:[c(Ht,{children:"File Name"}),c(Ht,{children:"Related Item"}),c(Ht,{children:"Uploaded At"}),c(Ht,{children:"Uploaded By"}),c(Ht,{className:"text-right",children:"Actions"})]})}),c(js,{children:e.map(d=>{var f;return w(Pn,{children:[c($t,{className:"font-medium",children:d.file_name}),c($t,{children:((f=d.inventory_items)==null?void 0:f.item_name)??c("span",{className:"text-xs text-muted-foreground",children:"N/A"})}),c($t,{children:new Date(d.uploaded_at).toLocaleString()}),c($t,{className:"text-xs text-muted-foreground",children:d.uploaded_by_user_id?"User ID: ..."+d.uploaded_by_user_id.slice(-6):"Unknown"}),w($t,{className:"text-right space-x-1",children:[c(Fe,{variant:"ghost",size:"icon",onClick:()=>u(d),disabled:o===d.id,title:"View Invoice",children:o===d.id?c("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}):c(Ew,{className:"h-4 w-4"})}),c(Fe,{variant:"ghost",size:"icon",onClick:()=>u(d),disabled:o===d.id,title:"Download/View Invoice",children:o===d.id?c("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}):c(Y8,{className:"h-4 w-4"})})]})]},d.id)})})]})})},xYe=()=>w("div",{className:"container mx-auto p-4 md:p-6 space-y-6",children:[c(Sa,{heading:"Uploaded Invoices",text:"View and download previously uploaded invoices."}),c(yYe,{})]}),wYe=({asset:e,isOpen:t,onOpenChange:r,onIntervalSet:n})=>{const{toast:a}=yn(),[i,o]=A.useState(e.maintenance_interval_value||""),[s,l]=A.useState(e.maintenance_interval_unit||void 0),[u,d]=A.useState(!1);A.useEffect(()=>{o(e.maintenance_interval_value||""),l(e.maintenance_interval_unit||void 0)},[e,t]);const f=async()=>{if(i===""||!s){a({title:"Validation Error",description:"Please provide both interval period and unit.",variant:"destructive"});return}if(i<=0){a({title:"Validation Error",description:"Interval period must be positive.",variant:"destructive"});return}d(!0);try{const{error:h}=await Le.from("assets").update({maintenance_interval_value:i,maintenance_interval_unit:s}).eq("id",e.id);if(h)throw h;a({title:"Success",description:`Maintenance interval for ${e.asset_name} updated.`}),n(),r(!1)}catch(h){a({title:"Error updating interval",description:h.message||"An unexpected error occurred.",variant:"destructive"})}finally{d(!1)}};return c($a,{open:t,onOpenChange:r,children:w(Ta,{className:"sm:max-w-[425px]",children:[w(Oa,{children:[c(Da,{children:"Set Maintenance Interval"}),w(Yi,{children:["Configure the maintenance interval for asset: ",c("strong",{children:e.asset_name}),"."]})]}),w("div",{className:"grid gap-4 py-4",children:[w("div",{className:"grid grid-cols-4 items-center gap-4",children:[c(Xt,{htmlFor:"intervalValue",className:"text-right",children:"Interval Period"}),c(ct,{id:"intervalValue",type:"number",value:i,onChange:h=>o(h.target.value===""?"":parseInt(h.target.value,10)),className:"col-span-3",min:"1",placeholder:"e.g., 3"})]}),w("div",{className:"grid grid-cols-4 items-center gap-4",children:[c(Xt,{htmlFor:"intervalUnit",className:"text-right",children:"Interval"}),w(zr,{value:s,onValueChange:h=>l(h),children:[c($r,{className:"col-span-3",children:c(Wr,{placeholder:"Select unit"})}),w(Br,{children:[c(_t,{value:"days",children:"Days"}),c(_t,{value:"weeks",children:"Weeks"}),c(_t,{value:"months",children:"Months"}),c(_t,{value:"years",children:"Years"})]})]})]})]}),w(Ji,{children:[c(Fe,{variant:"outline",onClick:()=>r(!1),disabled:u,children:"Cancel"}),c(Fe,{onClick:f,disabled:u,children:u?"Saving...":"Save Interval"})]})]})})};function _Ye(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function bYe(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var SYe=function(){function e(r){var n=this;this._insertTag=function(a){var i;n.tags.length===0?n.insertionPoint?i=n.insertionPoint.nextSibling:n.prepend?i=n.container.firstChild:i=n.before:i=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(a,i),n.tags.push(a)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(n){n.forEach(this._insertTag)},t.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(bYe(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var i=_Ye(a);try{i.insertRule(n,i.cssRules.length)}catch{}}else a.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){var a;return(a=n.parentNode)==null?void 0:a.removeChild(n)}),this.tags=[],this.ctr=0},e}(),bs="-ms-",QS="-moz-",na="-webkit-",uoe="comm",wM="rule",_M="decl",AYe="@import",doe="@keyframes",kYe="@layer",NYe=Math.abs,K3=String.fromCharCode,EYe=Object.assign;function CYe(e,t){return ts(e,0)^45?(((t<<2^ts(e,0))<<2^ts(e,1))<<2^ts(e,2))<<2^ts(e,3):0}function foe(e){return e.trim()}function PYe(e,t){return(e=t.exec(e))?e[0]:e}function aa(e,t,r){return e.replace(t,r)}function C8(e,t){return e.indexOf(t)}function ts(e,t){return e.charCodeAt(t)|0}function Sw(e,t,r){return e.slice(t,r)}function qd(e){return e.length}function bM(e){return e.length}function Lb(e,t){return t.push(e),e}function TYe(e,t){return e.map(t).join("")}var X3=1,ny=1,hoe=0,jl=0,lo=0,Ny="";function Z3(e,t,r,n,a,i,o){return{value:e,root:t,parent:r,type:n,props:a,children:i,line:X3,column:ny,length:o,return:""}}function v2(e,t){return EYe(Z3("",null,null,"",null,null,0),e,{length:-e.length},t)}function OYe(){return lo}function DYe(){return lo=jl>0?ts(Ny,--jl):0,ny--,lo===10&&(ny=1,X3--),lo}function vc(){return lo=jl<hoe?ts(Ny,jl++):0,ny++,lo===10&&(ny=1,X3++),lo}function sf(){return ts(Ny,jl)}function i5(){return jl}function c_(e,t){return Sw(Ny,e,t)}function Aw(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function poe(e){return X3=ny=1,hoe=qd(Ny=e),jl=0,[]}function moe(e){return Ny="",e}function o5(e){return foe(c_(jl-1,P8(e===91?e+2:e===40?e+1:e)))}function IYe(e){for(;(lo=sf())&&lo<33;)vc();return Aw(e)>2||Aw(lo)>3?"":" "}function RYe(e,t){for(;--t&&vc()&&!(lo<48||lo>102||lo>57&&lo<65||lo>70&&lo<97););return c_(e,i5()+(t<6&&sf()==32&&vc()==32))}function P8(e){for(;vc();)switch(lo){case e:return jl;case 34:case 39:e!==34&&e!==39&&P8(lo);break;case 40:e===41&&P8(e);break;case 92:vc();break}return jl}function MYe(e,t){for(;vc()&&e+lo!==57;)if(e+lo===84&&sf()===47)break;return"/*"+c_(t,jl-1)+"*"+K3(e===47?e:vc())}function FYe(e){for(;!Aw(sf());)vc();return c_(e,jl)}function LYe(e){return moe(s5("",null,null,null,[""],e=poe(e),0,[0],e))}function s5(e,t,r,n,a,i,o,s,l){for(var u=0,d=0,f=o,h=0,m=0,x=0,g=1,y=1,_=1,b=0,S="",C=a,E=i,O=n,P=S;y;)switch(x=b,b=vc()){case 40:if(x!=108&&ts(P,f-1)==58){C8(P+=aa(o5(b),"&","&\f"),"&\f")!=-1&&(_=-1);break}case 34:case 39:case 91:P+=o5(b);break;case 9:case 10:case 13:case 32:P+=IYe(x);break;case 92:P+=RYe(i5()-1,7);continue;case 47:switch(sf()){case 42:case 47:Lb(jYe(MYe(vc(),i5()),t,r),l);break;default:P+="/"}break;case 123*g:s[u++]=qd(P)*_;case 125*g:case 59:case 0:switch(b){case 0:case 125:y=0;case 59+d:_==-1&&(P=aa(P,/\f/g,"")),m>0&&qd(P)-f&&Lb(m>32?MV(P+";",n,r,f-1):MV(aa(P," ","")+";",n,r,f-2),l);break;case 59:P+=";";default:if(Lb(O=RV(P,t,r,u,d,a,s,S,C=[],E=[],f),i),b===123)if(d===0)s5(P,t,O,O,C,i,f,s,E);else switch(h===99&&ts(P,3)===110?100:h){case 100:case 108:case 109:case 115:s5(e,O,O,n&&Lb(RV(e,O,O,0,0,a,s,S,a,C=[],f),E),a,E,f,s,n?C:E);break;default:s5(P,O,O,O,[""],E,0,s,E)}}u=d=m=0,g=_=1,S=P="",f=o;break;case 58:f=1+qd(P),m=x;default:if(g<1){if(b==123)--g;else if(b==125&&g++==0&&DYe()==125)continue}switch(P+=K3(b),b*g){case 38:_=d>0?1:(P+="\f",-1);break;case 44:s[u++]=(qd(P)-1)*_,_=1;break;case 64:sf()===45&&(P+=o5(vc())),h=sf(),d=f=qd(S=P+=FYe(i5())),b++;break;case 45:x===45&&qd(P)==2&&(g=0)}}return i}function RV(e,t,r,n,a,i,o,s,l,u,d){for(var f=a-1,h=a===0?i:[""],m=bM(h),x=0,g=0,y=0;x<n;++x)for(var _=0,b=Sw(e,f+1,f=NYe(g=o[x])),S=e;_<m;++_)(S=foe(g>0?h[_]+" "+b:aa(b,/&\f/g,h[_])))&&(l[y++]=S);return Z3(e,t,r,a===0?wM:s,l,u,d)}function jYe(e,t,r){return Z3(e,t,r,uoe,K3(OYe()),Sw(e,2,-2),0)}function MV(e,t,r,n){return Z3(e,t,r,_M,Sw(e,0,n),Sw(e,n+1,-1),n)}function v1(e,t){for(var r="",n=bM(e),a=0;a<n;a++)r+=t(e[a],a,e,t)||"";return r}function $Ye(e,t,r,n){switch(e.type){case kYe:if(e.children.length)break;case AYe:case _M:return e.return=e.return||e.value;case uoe:return"";case doe:return e.return=e.value+"{"+v1(e.children,n)+"}";case wM:e.value=e.props.join(",")}return qd(r=v1(e.children,n))?e.return=e.value+"{"+r+"}":""}function BYe(e){var t=bM(e);return function(r,n,a,i){for(var o="",s=0;s<t;s++)o+=e[s](r,n,a,i)||"";return o}}function UYe(e){return function(t){t.root||(t=t.return)&&e(t)}}function qYe(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var zYe=function(t,r,n){for(var a=0,i=0;a=i,i=sf(),a===38&&i===12&&(r[n]=1),!Aw(i);)vc();return c_(t,jl)},WYe=function(t,r){var n=-1,a=44;do switch(Aw(a)){case 0:a===38&&sf()===12&&(r[n]=1),t[n]+=zYe(jl-1,r,n);break;case 2:t[n]+=o5(a);break;case 4:if(a===44){t[++n]=sf()===58?"&\f":"",r[n]=t[n].length;break}default:t[n]+=K3(a)}while(a=vc());return t},VYe=function(t,r){return moe(WYe(poe(t),r))},FV=new WeakMap,HYe=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,n=t.parent,a=t.column===n.column&&t.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!FV.get(n))&&!a){FV.set(t,!0);for(var i=[],o=VYe(r,i),s=n.props,l=0,u=0;l<o.length;l++)for(var d=0;d<s.length;d++,u++)t.props[u]=i[l]?o[l].replace(/&\f/g,s[d]):s[d]+" "+o[l]}}},GYe=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}};function goe(e,t){switch(CYe(e,t)){case 5103:return na+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return na+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return na+e+QS+e+bs+e+e;case 6828:case 4268:return na+e+bs+e+e;case 6165:return na+e+bs+"flex-"+e+e;case 5187:return na+e+aa(e,/(\w+).+(:[^]+)/,na+"box-$1$2"+bs+"flex-$1$2")+e;case 5443:return na+e+bs+"flex-item-"+aa(e,/flex-|-self/,"")+e;case 4675:return na+e+bs+"flex-line-pack"+aa(e,/align-content|flex-|-self/,"")+e;case 5548:return na+e+bs+aa(e,"shrink","negative")+e;case 5292:return na+e+bs+aa(e,"basis","preferred-size")+e;case 6060:return na+"box-"+aa(e,"-grow","")+na+e+bs+aa(e,"grow","positive")+e;case 4554:return na+aa(e,/([^-])(transform)/g,"$1"+na+"$2")+e;case 6187:return aa(aa(aa(e,/(zoom-|grab)/,na+"$1"),/(image-set)/,na+"$1"),e,"")+e;case 5495:case 3959:return aa(e,/(image-set\([^]*)/,na+"$1$`$1");case 4968:return aa(aa(e,/(.+:)(flex-)?(.*)/,na+"box-pack:$3"+bs+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+na+e+e;case 4095:case 3583:case 4068:case 2532:return aa(e,/(.+)-inline(.+)/,na+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(qd(e)-1-t>6)switch(ts(e,t+1)){case 109:if(ts(e,t+4)!==45)break;case 102:return aa(e,/(.+:)(.+)-([^]+)/,"$1"+na+"$2-$3$1"+QS+(ts(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~C8(e,"stretch")?goe(aa(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(ts(e,t+1)!==115)break;case 6444:switch(ts(e,qd(e)-3-(~C8(e,"!important")&&10))){case 107:return aa(e,":",":"+na)+e;case 101:return aa(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+na+(ts(e,14)===45?"inline-":"")+"box$3$1"+na+"$2$3$1"+bs+"$2box$3")+e}break;case 5936:switch(ts(e,t+11)){case 114:return na+e+bs+aa(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return na+e+bs+aa(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return na+e+bs+aa(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return na+e+bs+e+e}return e}var YYe=function(t,r,n,a){if(t.length>-1&&!t.return)switch(t.type){case _M:t.return=goe(t.value,t.length);break;case doe:return v1([v2(t,{value:aa(t.value,"@","@"+na)})],a);case wM:if(t.length)return TYe(t.props,function(i){switch(PYe(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return v1([v2(t,{props:[aa(i,/:(read-\w+)/,":"+QS+"$1")]})],a);case"::placeholder":return v1([v2(t,{props:[aa(i,/:(plac\w+)/,":"+na+"input-$1")]}),v2(t,{props:[aa(i,/:(plac\w+)/,":"+QS+"$1")]}),v2(t,{props:[aa(i,/:(plac\w+)/,bs+"input-$1")]})],a)}return""})}},KYe=[YYe],XYe=function(t){var r=t.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(g){var y=g.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var a=t.stylisPlugins||KYe,i={},o,s=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(g){for(var y=g.getAttribute("data-emotion").split(" "),_=1;_<y.length;_++)i[y[_]]=!0;s.push(g)});var l,u=[HYe,GYe];{var d,f=[$Ye,UYe(function(g){d.insert(g)})],h=BYe(u.concat(a,f)),m=function(y){return v1(LYe(y),h)};l=function(y,_,b,S){d=b,m(y?y+"{"+_.styles+"}":_.styles),S&&(x.inserted[_.name]=!0)}}var x={key:r,sheet:new SYe({key:r,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:i,registered:{},insert:l};return x.sheet.hydrate(s),x},fT={exports:{}},da={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LV;function ZYe(){if(LV)return da;LV=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,n=e?Symbol.for("react.fragment"):60107,a=e?Symbol.for("react.strict_mode"):60108,i=e?Symbol.for("react.profiler"):60114,o=e?Symbol.for("react.provider"):60109,s=e?Symbol.for("react.context"):60110,l=e?Symbol.for("react.async_mode"):60111,u=e?Symbol.for("react.concurrent_mode"):60111,d=e?Symbol.for("react.forward_ref"):60112,f=e?Symbol.for("react.suspense"):60113,h=e?Symbol.for("react.suspense_list"):60120,m=e?Symbol.for("react.memo"):60115,x=e?Symbol.for("react.lazy"):60116,g=e?Symbol.for("react.block"):60121,y=e?Symbol.for("react.fundamental"):60117,_=e?Symbol.for("react.responder"):60118,b=e?Symbol.for("react.scope"):60119;function S(E){if(typeof E=="object"&&E!==null){var O=E.$$typeof;switch(O){case t:switch(E=E.type,E){case l:case u:case n:case i:case a:case f:return E;default:switch(E=E&&E.$$typeof,E){case s:case d:case x:case m:case o:return E;default:return O}}case r:return O}}}function C(E){return S(E)===u}return da.AsyncMode=l,da.ConcurrentMode=u,da.ContextConsumer=s,da.ContextProvider=o,da.Element=t,da.ForwardRef=d,da.Fragment=n,da.Lazy=x,da.Memo=m,da.Portal=r,da.Profiler=i,da.StrictMode=a,da.Suspense=f,da.isAsyncMode=function(E){return C(E)||S(E)===l},da.isConcurrentMode=C,da.isContextConsumer=function(E){return S(E)===s},da.isContextProvider=function(E){return S(E)===o},da.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===t},da.isForwardRef=function(E){return S(E)===d},da.isFragment=function(E){return S(E)===n},da.isLazy=function(E){return S(E)===x},da.isMemo=function(E){return S(E)===m},da.isPortal=function(E){return S(E)===r},da.isProfiler=function(E){return S(E)===i},da.isStrictMode=function(E){return S(E)===a},da.isSuspense=function(E){return S(E)===f},da.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===n||E===u||E===i||E===a||E===f||E===h||typeof E=="object"&&E!==null&&(E.$$typeof===x||E.$$typeof===m||E.$$typeof===o||E.$$typeof===s||E.$$typeof===d||E.$$typeof===y||E.$$typeof===_||E.$$typeof===b||E.$$typeof===g)},da.typeOf=S,da}var jV;function JYe(){return jV||(jV=1,fT.exports=ZYe()),fT.exports}var hT,$V;function QYe(){if($V)return hT;$V=1;var e=JYe(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};i[e.ForwardRef]=n,i[e.Memo]=a;function o(x){return e.isMemo(x)?a:i[x.$$typeof]||t}var s=Object.defineProperty,l=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,h=Object.prototype;function m(x,g,y){if(typeof g!="string"){if(h){var _=f(g);_&&_!==h&&m(x,_,y)}var b=l(g);u&&(b=b.concat(u(g)));for(var S=o(x),C=o(g),E=0;E<b.length;++E){var O=b[E];if(!r[O]&&!(y&&y[O])&&!(C&&C[O])&&!(S&&S[O])){var P=d(g,O);try{s(x,O,P)}catch{}}}}return x}return hT=m,hT}QYe();var eKe=!0;function tKe(e,t,r){var n="";return r.split(" ").forEach(function(a){e[a]!==void 0?t.push(e[a]+";"):a&&(n+=a+" ")}),n}var voe=function(t,r,n){var a=t.key+"-"+r.name;(n===!1||eKe===!1)&&t.registered[a]===void 0&&(t.registered[a]=r.styles)},rKe=function(t,r,n){voe(t,r,n);var a=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var i=r;do t.insert(r===i?"."+a:"",i,t.sheet,!0),i=i.next;while(i!==void 0)}};function nKe(e){for(var t=0,r,n=0,a=e.length;a>=4;++n,a-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(a){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var aKe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},iKe=/[A-Z]|^ms/g,oKe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,yoe=function(t){return t.charCodeAt(1)===45},BV=function(t){return t!=null&&typeof t!="boolean"},pT=qYe(function(e){return yoe(e)?e:e.replace(iKe,"-$&").toLowerCase()}),UV=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(oKe,function(n,a,i){return zd={name:a,styles:i,next:zd},a})}return aKe[t]!==1&&!yoe(t)&&typeof r=="number"&&r!==0?r+"px":r};function kw(e,t,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var a=r;if(a.anim===1)return zd={name:a.name,styles:a.styles,next:zd},a.name;var i=r;if(i.styles!==void 0){var o=i.next;if(o!==void 0)for(;o!==void 0;)zd={name:o.name,styles:o.styles,next:zd},o=o.next;var s=i.styles+";";return s}return sKe(e,t,r)}case"function":{if(e!==void 0){var l=zd,u=r(e);return zd=l,kw(e,t,u)}break}}var d=r;return d}function sKe(e,t,r){var n="";if(Array.isArray(r))for(var a=0;a<r.length;a++)n+=kw(e,t,r[a])+";";else for(var i in r){var o=r[i];if(typeof o!="object"){var s=o;BV(s)&&(n+=pT(i)+":"+UV(i,s)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&t==null)for(var l=0;l<o.length;l++)BV(o[l])&&(n+=pT(i)+":"+UV(i,o[l])+";");else{var u=kw(e,t,o);switch(i){case"animation":case"animationName":{n+=pT(i)+":"+u+";";break}default:n+=i+"{"+u+"}"}}}return n}var qV=/label:\s*([^\s;{]+)\s*(;|$)/g,zd;function xoe(e,t,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var n=!0,a="";zd=void 0;var i=e[0];if(i==null||i.raw===void 0)n=!1,a+=kw(r,t,i);else{var o=i;a+=o[0]}for(var s=1;s<e.length;s++)if(a+=kw(r,t,e[s]),n){var l=i;a+=l[s]}qV.lastIndex=0;for(var u="",d;(d=qV.exec(a))!==null;)u+="-"+d[1];var f=nKe(a)+u;return{name:f,styles:a,next:zd}}var lKe=function(t){return t()},cKe=tx.useInsertionEffect?tx.useInsertionEffect:!1,uKe=cKe||lKe,woe=A.createContext(typeof HTMLElement<"u"?XYe({key:"css"}):null);woe.Provider;var dKe=function(t){return A.forwardRef(function(r,n){var a=A.useContext(woe);return t(r,a,n)})},fKe=A.createContext({}),SM={}.hasOwnProperty,T8="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",hKe=function(t,r){var n={};for(var a in r)SM.call(r,a)&&(n[a]=r[a]);return n[T8]=t,n},pKe=function(t){var r=t.cache,n=t.serialized,a=t.isStringTag;return voe(r,n,a),uKe(function(){return rKe(r,n,a)}),null},mKe=dKe(function(e,t,r){var n=e.css;typeof n=="string"&&t.registered[n]!==void 0&&(n=t.registered[n]);var a=e[T8],i=[n],o="";typeof e.className=="string"?o=tKe(t.registered,i,e.className):e.className!=null&&(o=e.className+" ");var s=xoe(i,void 0,A.useContext(fKe));o+=t.key+"-"+s.name;var l={};for(var u in e)SM.call(e,u)&&u!=="css"&&u!==T8&&(l[u]=e[u]);return l.className=o,r&&(l.ref=r),A.createElement(A.Fragment,null,A.createElement(pKe,{cache:t,serialized:s,isStringTag:typeof a=="string"}),A.createElement(a,l))}),gKe=mKe,zV=function(t,r){var n=arguments;if(r==null||!SM.call(r,"css"))return A.createElement.apply(void 0,n);var a=n.length,i=new Array(a);i[0]=gKe,i[1]=hKe(t,r);for(var o=2;o<a;o++)i[o]=n[o];return A.createElement.apply(null,i)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(zV||(zV={}));function vKe(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return xoe(t)}function yKe(){var e=vKe.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}const jb=e=>{if(!e)return"N/A";try{return new Date(e).toLocaleDateString()}catch{return"Invalid Date"}};yKe`
  0%, 100% { opacity: 1; }
  50% { opacity: 0; }
`;const xKe=({status:e})=>{if(!e)return c(Ju,{variant:"outline",className:"bg-gray-200 text-gray-700",children:"Unknown"});let t="default",r="";switch(e){case"Active":t="default",r="bg-green-100 text-green-800";break;case"Under Maintenance":t="secondary",r="bg-yellow-100 text-yellow-800 animate-blink";break;case"Retired":t="outline",r="bg-gray-200 text-gray-700";break;case"Disposed":t="destructive",r="bg-red-100 text-red-800";break;default:t="outline",r="bg-gray-200 text-gray-700";break}return c(Ju,{variant:t,className:r,children:e})},wKe=({onMarkAsServiced:e,onDisposeAsset:t,refreshTrigger:r,searchTerm:n,categoryFilter:a,statusFilter:i,tagFilter:o,onDataFiltered:s})=>{const[l,u]=A.useState([]),[d,f]=A.useState(!0),[h,m]=A.useState(null),[x,g]=A.useState("asset_name"),[y,_]=A.useState("asc"),{toast:b}=yn(),[S,C]=A.useState(!1),[E,O]=A.useState(null),P=A.useCallback(async()=>{f(!0),m(null);try{let T=Le.from("assets").select(`
        *,
        asset_tags (
          tags (id, name, color)
        )
      `);n&&(T=T.or(`asset_name.ilike.%${n}%,serial_number.ilike.%${n}%`)),a!=="all"&&(T=T.eq("category",a)),i!=="all"&&(T=T.eq("status",i)),o!=="all"&&console.warn("Tag filtering in AssetList is not fully implemented for direct client-side query. Requires RPC or subquery.");const F={ascending:y==="asc"},j=["serial_number","location","purchase_date","warranty_expiry_date","next_maintenance_due_date","status"];j.includes(x)&&y==="asc"?F.nullsFirst=!1:j.includes(x)&&y==="desc"&&(F.nullsFirst=!0),T=T.order(x,F);const{data:H,error:X}=await T;if(X)throw X;const re=(H||[]).map(z=>({...z,tags:Array.isArray(z.asset_tags)?z.asset_tags.map(G=>G.tags).filter(Boolean):[]}));u(re),s(re)}catch(T){console.error("Failed to fetch assets:",T),m(T instanceof Error?T.message:"An unknown error occurred"),b({title:"Error Fetching Assets",description:T instanceof Error?T.message:"Could not load assets.",variant:"destructive"})}finally{f(!1)}},[b,n,a,i,o,x,y,s]),I=T=>{O(T),C(!0)};A.useEffect(()=>{P()},[P,r]),A.useEffect(()=>{if(!Le)return;const T=Le.channel("assets_changes").on("postgres_changes",{event:"*",schema:"public",table:"assets"},F=>{console.log("Asset Realtime change received:",F),P()}).subscribe((F,j)=>{F==="SUBSCRIBED"&&console.log("Subscribed to asset changes!"),(F==="CHANNEL_ERROR"||F==="TIMED_OUT"||F==="CLOSED")&&console.error("Asset Realtime subscription error/closed:",F,j)});return()=>{console.log("Unsubscribing from asset changes"),Le.removeChannel(T)}},[Le,b,P]);const L=T=>{x===T?_(F=>F==="asc"?"desc":"asc"):(g(T),_("asc"))},U=T=>x!==T?c(d5,{className:"ml-2 h-4 w-4 opacity-30 group-hover:opacity-100"}):c(d5,{className:`ml-2 h-4 w-4 ${y==="asc"?"":"rotate-180"}`});return d?c("div",{className:"space-y-2",children:[...Array(5)].map((T,F)=>c(Ml,{className:"h-10 w-full"},F))}):h?w(rd,{variant:"destructive",children:[c(fc,{className:"h-4 w-4"}),c(nd,{children:"Error"}),c(ad,{children:h})]}):l.length===0?c("p",{className:"text-center text-gray-500 mt-4",children:"No assets found matching the criteria."}):w("div",{className:"rounded-md border",children:[w(Fs,{children:[c(Ls,{children:w(Pn,{children:[c(Ht,{children:w(Fe,{variant:"ghost",onClick:()=>L("asset_name"),className:"px-0 group",children:["Asset Name ",U("asset_name")]})}),c(Ht,{children:w(Fe,{variant:"ghost",onClick:()=>L("category"),className:"px-0 group",children:["Category ",U("category")]})}),c(Ht,{children:"Tags"}),c(Ht,{children:w(Fe,{variant:"ghost",onClick:()=>L("serial_number"),className:"px-0 group",children:["Serial No. ",U("serial_number")]})}),c(Ht,{children:w(Fe,{variant:"ghost",onClick:()=>L("location"),className:"px-0 group",children:["Location ",U("location")]})}),c(Ht,{children:w(Fe,{variant:"ghost",onClick:()=>L("status"),className:"px-0 group",children:["Status ",U("status")]})}),c(Ht,{className:"hidden md:table-cell",children:w(Fe,{variant:"ghost",onClick:()=>L("purchase_date"),className:"px-0 group",children:["Purchase Date ",U("purchase_date")]})}),c(Ht,{className:"hidden md:table-cell",children:w(Fe,{variant:"ghost",onClick:()=>L("warranty_expiry_date"),className:"px-0 group",children:["Warranty Expiry ",U("warranty_expiry_date")]})}),c(Ht,{className:"hidden md:table-cell",children:w(Fe,{variant:"ghost",onClick:()=>L("last_serviced_date"),className:"px-0 group",children:["Last Serviced ",U("last_serviced_date")]})}),c(Ht,{className:"hidden md:table-cell",children:w(Fe,{variant:"ghost",onClick:()=>L("next_maintenance_due_date"),className:"px-0 group",children:["Next Due ",U("next_maintenance_due_date")]})}),c(Ht,{className:"text-right",children:"Actions"})," "]})}),c(js,{children:l.map(T=>w(Pn,{children:[c($t,{className:"font-medium p-2 text-center text-sm",children:T.asset_name}),c($t,{className:"p-2 text-center text-sm",children:T.category}),c($t,{className:"p-2 text-center text-sm",children:T.tags&&T.tags.length>0?T.tags.map(F=>c(Ju,{variant:"outline",className:"mr-1 mb-1 text-xs",style:F.color?{backgroundColor:F.color,color:"#fff",borderColor:F.color}:{},children:F.name},F.id)):"-"}),c($t,{className:"p-2 text-center text-sm",children:T.serial_number||"N/A"}),c($t,{className:"p-2 text-center text-sm",children:T.location||"N/A"}),c($t,{className:"p-2 text-center text-sm",children:c(xKe,{status:T.status})}),c($t,{className:"hidden md:table-cell p-2 text-center text-sm",children:jb(T.purchase_date)}),c($t,{className:"hidden md:table-cell p-2 text-center text-sm",children:jb(T.warranty_expiry_date)}),c($t,{className:"hidden md:table-cell p-2 text-center text-sm",children:jb(T.last_serviced_date)}),c($t,{className:"hidden md:table-cell p-2 text-center text-sm",children:jb(T.next_maintenance_due_date)}),c($t,{className:"text-right p-2 text-sm",children:w("div",{className:"flex items-center justify-end space-x-1",children:[T.service_document_url&&c(Fe,{variant:"ghost",size:"icon",asChild:!0,title:"View Service Document",children:c("a",{href:T.service_document_url,target:"_blank",rel:"noopener noreferrer",children:c(bce,{className:"h-4 w-4"})})}),c(Fe,{variant:"ghost",size:"icon",onClick:()=>e(T),title:"Mark as Serviced",disabled:T.status==="Retired"||T.status==="Disposed",children:c(jce,{className:"h-4 w-4"})}),c(Fe,{variant:"ghost",size:"icon",asChild:!0,title:"View Details",children:c(Vi,{to:`/assets/${T.id}`,children:c(Ew,{className:"h-4 w-4"})})}),c(Fe,{variant:"ghost",size:"icon",onClick:()=>t(T),title:"Dispose Asset",disabled:T.status==="Disposed"||T.status==="Retired",children:c(qH,{className:"h-4 w-4"})}),c(Fe,{variant:"ghost",size:"icon",onClick:()=>I(T),title:"Set Maintenance Interval",children:c(dce,{className:"h-4 w-4"})})]})})]},T.id))})]}),S&&E&&c(wYe,{asset:E,isOpen:S,onOpenChange:C,onIntervalSet:()=>{P(),b({title:"Success",description:"Maintenance interval updated."})}})]})},AM="assets",_Ke=async()=>{const{data:e,error:t}=await Le.from(AM).select("*").order("created_at",{ascending:!1});if(t)throw console.error("Error fetching assets:",t),new Error(t.message);return e||[]},bKe=async e=>{const t={...e,serial_number:e.serial_number||null,location:e.location||null,supplier_info:e.supplier_info||null,service_document_url:e.service_document_url||null,barcode_value:e.barcode_value||null},{data:r,error:n}=await Le.from(AM).insert([t]).select().single();if(n)throw console.error("Error adding asset:",n),n.code==="23505"?new Error(`Failed to add asset. ${n.details||"A unique value (like Serial Number or Barcode) might already exist."}`):new Error(n.message);if(!r)throw new Error("Failed to add asset, no data returned.");return r},SKe=async(e,t)=>{const r={...t};r.serial_number===""&&(r.serial_number=null),r.location===""&&(r.location=null),r.supplier_info===""&&(r.supplier_info=null),r.service_document_url===""&&(r.service_document_url=null),r.barcode_value===""&&(r.barcode_value=null);const{data:n,error:a}=await Le.from(AM).update(r).eq("id",e).select().single();if(a)throw console.error(`Error updating asset ${e}:`,a),a.code==="23505"?a.details.includes("serial_number")?new Error("Failed to update asset. The provided Serial Number already exists."):a.details.includes("barcode_value")?new Error("Failed to update asset. The provided Barcode/QR Code Value already exists."):new Error(`Failed to update asset. ${a.details||"A unique value (like Serial Number or Barcode) might already exist."}`):new Error(a.message);if(!n)throw new Error(`Failed to update asset ${e}, no data returned.`);return n},AKe=P3({asset_name:Qo().min(1,{message:"Asset name is required"}),category:lw(["Equipment & Tools","Furniture","IT","Other"],{required_error:"Category is required"}),serial_number:Qo().optional().nullable(),location:Qo().optional().nullable(),purchase_date:Qo().optional().nullable(),purchase_price:fR.number().min(0,{message:"Price must be 0 or greater"}).optional().nullable(),warranty_expiry_date:Qo().optional().nullable(),last_serviced_date:Qo().optional().nullable(),next_maintenance_due_date:Qo().optional().nullable(),status:lw(["Active","Under Maintenance","Retired","Disposed"],{required_error:"Status is required"}),supplier_info:Qo().optional().nullable(),service_document_url:Qo().url({message:"Please enter a valid URL"}).optional().nullable(),barcode_value:Qo().optional().nullable(),requires_maintenance:dR().optional().default(!1)}),kKe=({assetToEdit:e,onSave:t,onCancel:r})=>{const{toast:n}=yn(),a=!!e,i=["Equipment & Tools","Furniture","IT","Other"],o=["Active","Under Maintenance","Retired","Disposed"],s=g=>{if(g&&i.includes(g))return g},l=g=>{if(g&&o.includes(g))return g},u=g=>{if(g)try{return new Date(g).toISOString().split("T")[0]}catch{return}},d=ld({resolver:cd(AKe),defaultValues:{asset_name:(e==null?void 0:e.asset_name)??"",category:s(e==null?void 0:e.category),serial_number:(e==null?void 0:e.serial_number)??"",location:(e==null?void 0:e.location)??"",purchase_date:u(e==null?void 0:e.purchase_date),purchase_price:e!=null&&e.purchase_price?Number(e.purchase_price):null,warranty_expiry_date:u(e==null?void 0:e.warranty_expiry_date),last_serviced_date:u(e==null?void 0:e.last_serviced_date),next_maintenance_due_date:u(e==null?void 0:e.next_maintenance_due_date),status:l(e==null?void 0:e.status)??"Active",supplier_info:(e==null?void 0:e.supplier_info)??"",service_document_url:(e==null?void 0:e.service_document_url)??"",barcode_value:(e==null?void 0:e.barcode_value)??"",requires_maintenance:(e==null?void 0:e.requires_maintenance)??!1}}),{handleSubmit:f,control:h,reset:m}=d;return A.useEffect(()=>{m(e?{asset_name:e.asset_name,category:s(e.category),serial_number:e.serial_number??"",location:e.location??"",purchase_date:u(e.purchase_date),purchase_price:e.purchase_price?Number(e.purchase_price):null,warranty_expiry_date:u(e.warranty_expiry_date),last_serviced_date:u(e.last_serviced_date),next_maintenance_due_date:u(e.next_maintenance_due_date),status:l(e.status),supplier_info:e.supplier_info??"",service_document_url:e.service_document_url??"",barcode_value:e.barcode_value??"",requires_maintenance:e.requires_maintenance??!1}:{asset_name:"",category:void 0,serial_number:"",location:"",purchase_date:"",purchase_price:null,warranty_expiry_date:"",last_serviced_date:"",next_maintenance_due_date:"",status:"Active",supplier_info:"",service_document_url:"",barcode_value:"",requires_maintenance:!1})},[e,m]),c(Rh,{...d,children:w("form",{onSubmit:f(async g=>{try{let y;const _={...g};a&&e?(y=await SKe(e.id,_),n({title:"Success",description:"Asset updated."})):(y=await bKe(_),n({title:"Success",description:"New asset added."})),t(y)}catch(y){console.error("Failed to save asset:",y),n({title:"Error",description:`Failed to save asset: ${y instanceof Error?y.message:"Unknown error"}`,variant:"destructive"})}}),className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4",children:[c(He,{control:h,name:"asset_name",render:({field:g})=>w(De,{children:[c(Oe,{children:"Asset Name *"}),c(Me,{children:c(ct,{placeholder:"e.g., Dental Chair Unit X1",...g})}),c(Ze,{})]})}),c(He,{control:h,name:"category",render:({field:g})=>w(De,{children:[c(Oe,{children:"Category *"}),w(zr,{onValueChange:g.onChange,value:g.value??"",defaultValue:g.value??"",children:[c(Me,{children:c($r,{children:c(Wr,{placeholder:"Select a category"})})}),c(Br,{children:i.map(y=>c(_t,{value:y,children:y},y))})]}),c(Ze,{})]})}),c(He,{control:h,name:"serial_number",render:({field:g})=>w(De,{children:[c(Oe,{children:"Serial Number"}),c(Me,{children:c(ct,{placeholder:"Asset Serial Number",...g,value:g.value??""})}),c(Ze,{})]})}),c(He,{control:h,name:"location",render:({field:g})=>w(De,{children:[c(Oe,{children:"Location"}),c(Me,{children:c(ct,{placeholder:"e.g., Room 3, North Branch",...g,value:g.value??""})}),c(Ze,{})]})}),c(He,{control:h,name:"status",render:({field:g})=>w(De,{children:[c(Oe,{children:"Status *"}),w(zr,{onValueChange:g.onChange,value:g.value??"",defaultValue:g.value??"",children:[c(Me,{children:c($r,{children:c(Wr,{placeholder:"Select asset status"})})}),c(Br,{children:o.map(y=>c(_t,{value:y,children:y},y))})]}),c(Ze,{})]})}),c(He,{control:h,name:"warranty_expiry_date",render:({field:g})=>w(De,{children:[c(Oe,{children:"Warranty Expiry"}),c(Me,{children:c(ct,{type:"date",...g,value:g.value??""})}),c(Ze,{})]})}),c(He,{control:h,name:"requires_maintenance",render:({field:g})=>w(De,{className:"md:col-span-2",children:[" ",w("div",{className:"flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4",children:[c(Me,{children:c(Ts,{checked:g.value,onCheckedChange:g.onChange})}),w("div",{className:"space-y-1 leading-none",children:[c(Oe,{children:"Requires Maintenance"}),c(Ai,{children:"Check this box if the asset currently requires maintenance."})]})]})]})}),w("div",{className:"md:col-span-2 space-y-2",children:[" ",c(Xt,{children:"Purchase Details"}),w("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 rounded-md border p-4",children:[" ",c(He,{control:h,name:"purchase_date",render:({field:g})=>w(De,{children:[c(Oe,{children:"Date"}),c(Me,{children:c(ct,{type:"date",...g,value:g.value??""})}),c(Ze,{})]})}),c(He,{control:h,name:"purchase_price",render:({field:g})=>w(De,{children:[c(Oe,{children:"Price"}),c(Me,{children:c(ct,{type:"number",step:"0.01",min:"0",placeholder:"0.00",...g,value:String(g.value??"")})}),c(Ze,{})]})})]})]}),w("div",{className:"md:col-span-2 space-y-2",children:[" ",c(Xt,{children:"Maintenance Details"}),w("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 rounded-md border p-4",children:[" ",c(He,{control:h,name:"last_serviced_date",render:({field:g})=>w(De,{children:[c(Oe,{children:"Last Serviced"}),c(Me,{children:c(ct,{type:"date",...g,value:g.value??""})}),c(Ze,{})]})}),c(He,{control:h,name:"next_maintenance_due_date",render:({field:g})=>w(De,{children:[c(Oe,{children:"Next Due"}),c(Me,{children:c(ct,{type:"date",...g,value:g.value??""})}),c(Ze,{})]})})]})]}),c(He,{control:h,name:"supplier_info",render:({field:g})=>w(De,{className:"md:col-span-2",children:[" ",c(Oe,{children:"Supplier Info"}),c(Me,{children:c(Jr,{placeholder:"Supplier name, contact, notes...",...g,value:g.value??""})}),c(Ze,{})]})}),c(He,{control:h,name:"service_document_url",render:({field:g})=>w(De,{children:[c(Oe,{children:"Service Doc URL"}),c(Me,{children:c(ct,{type:"url",placeholder:"https://example.com/invoice.pdf",...g,value:g.value??""})}),c(Ze,{})]})}),c(He,{control:h,name:"barcode_value",render:({field:g})=>w(De,{children:[c(Oe,{children:"Barcode/QR"}),c(Me,{children:c(ct,{placeholder:"Scan or enter code",...g,value:g.value??""})}),c(Ze,{})]})}),w("div",{className:"md:col-span-2 space-y-2 pt-2",children:[c(Xt,{children:"Tags"}),c("div",{className:"p-4 border rounded-md min-h-[60px] text-muted-foreground",children:"Tag management UI will be implemented here. (e.g., Multi-select combobox)"})]}),w("div",{className:"md:col-span-2 flex justify-end space-x-2 pt-4",children:[" ",c(Fe,{type:"button",variant:"outline",onClick:r,children:"Cancel"}),c(Fe,{type:"submit",disabled:d.formState.isSubmitting,children:d.formState.isSubmitting?"Saving...":a?"Update Asset":"Add Asset"})]})]})})},NKe=({asset:e,open:t,onOpenChange:r,onSuccess:n})=>{const[a,i]=A.useState(""),[o,s]=A.useState(""),[l,u]=A.useState(void 0),[d,f]=A.useState([]),[h,m]=A.useState(!1),[x,g]=A.useState(!1),{toast:y}=yn();A.useEffect(()=>{(async()=>{if(e!=null&&e.id&&t){g(!0);const{data:S,error:C}=await Le.from("asset_documents").select("id, file_name").eq("asset_id",e.id).order("uploaded_at",{ascending:!1});C?(console.error("Error fetching asset documents for dialog:",C),y({title:"Error",description:"Could not load documents for invoice selection.",variant:"destructive"})):f(S||[]),g(!1)}else t||f([])})()},[e,t,y]),A.useEffect(()=>{t&&(i(""),s(""),u(void 0))},[t,e]);const _=async()=>{if(!e||!e.id){y({title:"Error",description:"No asset selected.",variant:"destructive"});return}if(!e.maintenance_interval_months||e.maintenance_interval_months<=0){y({title:"Configuration Error",description:"Maintenance interval is not set for this asset. Please edit the asset to set a valid maintenance interval.",variant:"destructive"});return}const{data:{user:b},error:S}=await Le.auth.getUser();if(S||!b){y({title:"Authentication Error",description:"Could not get current user. Please ensure you are logged in.",variant:"destructive"});return}const C=b.id,E=parseFloat(o)||0;m(!0);try{const{error:O}=await Le.rpc("mark_asset_as_serviced",{p_asset_id:e.id,p_serviced_by_user_id:C,p_service_notes:a,p_maintenance_cost:E,p_invoice_document_id:l||null});if(O)throw O;y({title:"Success",description:`${e.asset_name} marked as serviced.`}),n(),r(!1)}catch(O){console.error("Error marking asset as serviced:",O),y({title:"Error",description:O.message||"Could not mark asset as serviced.",variant:"destructive"})}finally{m(!1)}};return e?c($a,{open:t,onOpenChange:r,children:w(Ta,{className:"sm:max-w-md",children:[c(Oa,{children:w(Da,{children:["Mark as Serviced: ",e.asset_name]})}),w("div",{className:"py-4 grid gap-4",children:[w("div",{children:[w("p",{children:[c("strong",{children:"Asset:"})," ",e.asset_name]}),w("p",{children:[c("strong",{children:"Last Serviced:"})," ",e.last_serviced_date?new Date(e.last_serviced_date).toLocaleDateString():"N/A"]}),w("p",{children:[c("strong",{children:"Next Due:"})," ",e.next_maintenance_due_date?new Date(e.next_maintenance_due_date).toLocaleDateString():"N/A"]})]}),w("div",{children:[c(Xt,{htmlFor:"maintenance-cost",children:"Maintenance Cost ()"}),c(ct,{id:"maintenance-cost",type:"number",value:o,onChange:b=>s(b.target.value),placeholder:"0.00"})]}),w("div",{children:[c(Xt,{htmlFor:"invoice-document",children:"Link Invoice (Optional)"}),w(zr,{onValueChange:u,value:l,children:[c($r,{id:"invoice-document",disabled:x||d.length===0,children:c(Wr,{placeholder:x?"Loading documents...":d.length===0?"No documents available":"Select an invoice"})}),w(Br,{children:[c(_t,{value:"none",children:"None"}),d.map(b=>c(_t,{value:b.id,children:b.file_name},b.id))]})]}),d.length===0&&!x&&c("p",{className:"text-xs text-muted-foreground mt-1",children:"Upload documents on the asset detail page first."})]}),w("div",{children:[c(Xt,{htmlFor:"service-notes",children:"Service Notes (Optional)"}),c(Jr,{id:"service-notes",value:a,onChange:b=>i(b.target.value),placeholder:"Enter any notes about the service performed..."})]}),(!e.maintenance_interval_months||e.maintenance_interval_months<=0)&&c("p",{className:"text-sm text-destructive",children:"Warning: Maintenance interval is not set for this asset. The next due date cannot be calculated automatically. Please edit the asset to set a maintenance interval."})]}),w(Ji,{children:[c(x3,{asChild:!0,children:c(Fe,{variant:"outline",children:"Cancel"})}),c(Fe,{onClick:_,disabled:h||!e.maintenance_interval_months||e.maintenance_interval_months<=0,children:h?c(Zn,{className:"mr-2 h-4 w-4 animate-spin"}):"Confirm Service"})]})]})}):null},EKe=["Sold","Scrapped","Donated","Stolen","Obsolete","Other"],CKe=({asset:e,open:t,onOpenChange:r,onSuccess:n})=>{const[a,i]=A.useState(new Date),[o,s]=A.useState(void 0),[l,u]=A.useState(""),[d,f]=A.useState(""),[h,m]=A.useState(!1),{toast:x}=yn();A.useEffect(()=>{t&&(i(new Date),s(void 0),u(""),f(""))},[t,e]);const g=async()=>{if(!e||!e.id){x({title:"Error",description:"No asset selected.",variant:"destructive"});return}if(!a){x({title:"Validation Error",description:"Disposal date is required.",variant:"destructive"});return}if(!o){x({title:"Validation Error",description:"Disposal reason is required.",variant:"destructive"});return}const{data:{user:y},error:_}=await Le.auth.getUser();if(_||!y){x({title:"Authentication Error",description:"Could not get current user.",variant:"destructive"});return}m(!0);try{const b=parseFloat(d)||0,S=Lt(a,"yyyy-MM-dd"),{error:C}=await Le.rpc("dispose_asset",{p_asset_id:e.id,p_disposed_by_user_id:y.id,p_disposal_date:S,p_disposal_reason:o,p_salvage_value:b,p_disposal_notes:l});if(C)throw C;x({title:"Success",description:`${e.asset_name} marked as disposed.`}),n(),r(!1)}catch(b){console.error("Error disposing asset:",b),x({title:"Error",description:b.message||"Could not dispose asset.",variant:"destructive"})}finally{m(!1)}};return e?c($a,{open:t,onOpenChange:r,children:w(Ta,{className:"sm:max-w-[500px]",children:[c(Oa,{children:w(Da,{children:["Dispose Asset: ",e.asset_name]})}),w("div",{className:"py-4 grid gap-4",children:[w("div",{children:[c(Xt,{htmlFor:"disposal-date",children:"Disposal Date"}),w(hg,{children:[c(pg,{asChild:!0,children:w(Fe,{variant:"outline",className:Rt("w-full justify-start text-left font-normal",!a&&"text-muted-foreground"),children:[c(Lo,{className:"mr-2 h-4 w-4"}),a?Lt(a,"PPP"):c("span",{children:"Pick a date"})]})}),c(vm,{className:"w-auto p-0",children:c(ym,{mode:"single",selected:a,onSelect:i,initialFocus:!0})})]})]}),w("div",{children:[c(Xt,{htmlFor:"disposal-reason",children:"Reason"}),w(zr,{onValueChange:y=>s(y),value:o,children:[c($r,{id:"disposal-reason",children:c(Wr,{placeholder:"Select disposal reason"})}),c(Br,{children:EKe.map(y=>c(_t,{value:y,children:y},y))})]})]}),w("div",{children:[c(Xt,{htmlFor:"salvage-value",children:"Salvage Value ()"}),c(ct,{id:"salvage-value",type:"number",value:d,onChange:y=>f(y.target.value),placeholder:"0.00"})]}),w("div",{children:[c(Xt,{htmlFor:"disposal-notes",children:"Notes (Optional)"}),c(Jr,{id:"disposal-notes",value:l,onChange:y=>u(y.target.value),placeholder:"Enter any additional notes about the disposal..."})]})]}),w(Ji,{children:[c(x3,{asChild:!0,children:c(Fe,{variant:"outline",children:"Cancel"})}),c(Fe,{onClick:g,disabled:h||!a||!o,children:h?c(Zn,{className:"mr-2 h-4 w-4 animate-spin"}):"Confirm Disposal"})]})]})}):null},PKe=()=>{const[e,t]=A.useState(!1),[r,n]=A.useState(null),[a,i]=A.useState(null),[o,s]=A.useState(!1),[l,u]=A.useState(null),[d,f]=A.useState(!1),[h,m]=A.useState(0),[x,g]=A.useState(""),[y,_]=A.useState("all"),[b,S]=A.useState("all"),[C,E]=A.useState("all"),[O,P]=A.useState([]),[I,L]=A.useState([]);A.useEffect(()=>{(async()=>{const{data:D,error:Y}=await Le.from("tags").select("id, name").order("name");Y?console.error("Error fetching tags:",Y):P(D||[])})()},[]);const U=J=>{n(null),t(!0)},T=()=>{t(!1),n(null)},F=J=>{i(J),s(!0)},j=J=>{u(J),f(!0)},H=()=>{m(J=>J+1)},X=J=>{console.log("Asset saved:",J),T(),m(D=>D+1)},re=J=>{g(J.target.value),m(D=>D+1)},z=J=>{_(J),m(D=>D+1)},G=J=>{S(J),m(D=>D+1)},q=J=>{E(J),m(D=>D+1)},K=A.useCallback(J=>{L(J)},[]);return w("div",{className:"container mx-auto p-4 md:p-6",children:[c(Sa,{heading:"Asset Management"})," ",w("div",{className:"mb-4 flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[w("div",{className:"flex flex-col md:flex-row gap-2 flex-grow",children:[c(ct,{placeholder:"Search by name or serial...",value:x,onChange:re,className:"max-w-sm"}),w(zr,{value:y,onValueChange:z,children:[c($r,{className:"w-full md:w-[180px]",children:c(Wr,{placeholder:"Filter by Category"})}),w(Br,{children:[c(_t,{value:"all",children:"All Categories"}),c(_t,{value:"Equipment",children:"Equipment"}),c(_t,{value:"Furniture",children:"Furniture"}),c(_t,{value:"IT",children:"IT"}),c(_t,{value:"Other",children:"Other"})]})]}),w(zr,{value:b,onValueChange:G,children:[c($r,{className:"w-full md:w-[180px]",children:c(Wr,{placeholder:"Filter by Status"})}),w(Br,{children:[c(_t,{value:"all",children:"All Statuses"}),c(_t,{value:"Active",children:"Active"}),c(_t,{value:"Under Maintenance",children:"Under Maintenance"}),c(_t,{value:"Retired",children:"Retired"}),c(_t,{value:"Disposed",children:"Disposed"})]})]}),w(zr,{value:C,onValueChange:q,children:[c($r,{className:"w-full md:w-[180px]",children:c(Wr,{placeholder:"Filter by Tag"})}),w(Br,{children:[c(_t,{value:"all",children:"All Tags"}),O.map(J=>c(_t,{value:J.id,children:J.name},J.id))]})]})]}),c("div",{className:"flex gap-2",children:w($a,{open:e,onOpenChange:t,children:[c(Gw,{asChild:!0,children:w(Fe,{onClick:()=>U(),children:[c(Ch,{className:"mr-2 h-4 w-4"})," Add New Asset"]})}),w(Ta,{className:"sm:max-w-[600px]",children:[c(Oa,{children:c(Da,{children:r?"Edit Asset":"Add New Asset"})}),c(kKe,{assetToEdit:r,onSave:X,onCancel:T})]})]})})]}),c(wKe,{onMarkAsServiced:F,onDisposeAsset:j,refreshTrigger:h,searchTerm:x,categoryFilter:y,statusFilter:b,onDataFiltered:K}),a&&c(NKe,{asset:a,open:o,onOpenChange:s,onSuccess:H}),l&&c(CKe,{asset:l,open:d,onOpenChange:f,onSuccess:H})]})},TKe=()=>{var C,E;const{assetId:e}=oy(),[t,r]=A.useState(null),[n,a]=A.useState([]),[i,o]=A.useState([]),[s,l]=A.useState([]),[u,d]=A.useState(!0),[f,h]=A.useState(null),[m,x]=A.useState(!1),g=Qe.useRef(null),{toast:y}=yn(),_=async()=>{if(!e)return;const{data:O,error:P}=await Le.from("asset_documents").select("*").eq("asset_id",e).order("uploaded_at",{ascending:!1});P?console.error("Error fetching documents:",P):o(O||[])};A.useEffect(()=>{(async()=>{if(!e){h("Asset ID is missing."),d(!1);return}d(!0),h(null);try{const{data:P,error:I}=await Le.from("assets").select(`
            *,
            asset_tags (
              tag_id,
              tags (id, name, color)
            )
          `).eq("id",e).single();if(I)throw I;const L=P?{...P,tags:Array.isArray(P.asset_tags)?P.asset_tags.map(H=>H.tags).filter(Boolean):[]}:null;r(L);const{data:U,error:T}=await Le.from("maintenance_log").select("*").eq("asset_id",e).order("serviced_at",{ascending:!1});if(T)throw T;a(U||[]);const{data:F,error:j}=await Le.from("asset_documents").select("*").eq("asset_id",e).order("uploaded_at",{ascending:!1});if(j)throw j;if(o(F||[]),P&&(P.status==="Disposed"||P.status==="Retired")){const{data:H,error:X}=await Le.from("asset_disposal_log").select("*").eq("asset_id",e).order("disposal_recorded_at",{ascending:!1});if(X)throw X;l(H||[])}}catch(P){console.error("Failed to fetch asset details:",P),h(P.message||"An unknown error occurred")}finally{d(!1)}})()},[e]);const b=async O=>{const P=O.target.files;if(!P||P.length===0||!e)return;const I=P[0];x(!0);try{const{data:{user:L},error:U}=await Le.auth.getUser();if(U||!L)throw new Error("User not authenticated.");const T=`public/${e}/${Date.now()}_${I.name}`,{error:F}=await Le.storage.from("asset-documents").upload(T,I);if(F)throw F;const{data:j}=Le.storage.from("asset-documents").getPublicUrl(T);if(!(j!=null&&j.publicUrl))throw new Error("Could not get public URL.");const{error:H}=await Le.from("asset_documents").insert({asset_id:e,file_name:I.name,file_url:j.publicUrl,file_type:I.type,file_size_bytes:I.size,uploaded_by_user_id:L.id});if(H)throw H;y({title:"Success",description:"Document uploaded successfully."}),_()}catch(L){console.error("Error uploading document:",L),y({title:"Upload Error",description:L.message||"Failed to upload document.",variant:"destructive"})}finally{x(!1),g.current&&(g.current.value="")}};if(u)return w("div",{className:"container mx-auto p-4 md:p-6 space-y-4",children:[c(Ml,{className:"h-8 w-1/4"}),c(Ml,{className:"h-40 w-full"}),c(Ml,{className:"h-40 w-full"})]});if(f)return c("div",{className:"container mx-auto p-4 md:p-6",children:w(rd,{variant:"destructive",children:[c(fc,{className:"h-4 w-4"}),c(nd,{children:"Error"}),c(ad,{children:f})]})});if(!t)return c("div",{className:"container mx-auto p-4 md:p-6",children:"Asset not found."});const S=O=>{if(!O)return"N/A";try{const P=new Date(O);return O.includes("T")?P.toLocaleString():P.toLocaleDateString()}catch{return"Invalid Date"}};return w("div",{className:"container mx-auto p-4 md:p-6 space-y-6",children:[c(Sa,{heading:`Asset Details: ${t.asset_name}`}),w(lr,{children:[c(xr,{children:c(wr,{children:"Asset Information"})}),w(mr,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[w("div",{children:[c("strong",{children:"Name:"})," ",t.asset_name]}),w("div",{children:[c("strong",{children:"Category:"})," ",t.category]}),w("div",{children:[c("strong",{children:"Serial Number:"})," ",t.serial_number||"N/A"]}),w("div",{children:[c("strong",{children:"Location:"})," ",t.location||"N/A"]}),w("div",{children:[c("strong",{children:"Status:"})," ",t.status]}),w("div",{children:[c("strong",{children:"Purchase Date:"})," ",S(t.purchase_date)]}),w("div",{children:[c("strong",{children:"Warranty Expiry:"})," ",S(t.warranty_expiry_date)]}),w("div",{children:[c("strong",{children:"Supplier Info:"})," ",t.supplier_info||"N/A"]}),w("div",{children:[c("strong",{children:"Maintenance Interval:"})," ",t.maintenance_interval_months?`${t.maintenance_interval_months} months`:"Not Set"]}),w("div",{children:[c("strong",{children:"Last Serviced:"})," ",S(t.last_serviced_date)]}),w("div",{children:[c("strong",{children:"Next Due:"})," ",S(t.next_maintenance_due_date)]}),w("div",{children:[c("strong",{children:"Purchase Cost:"})," ",((C=t.purchase_price)==null?void 0:C.toFixed(2))||"0.00"]}),w("div",{className:"md:col-span-2",children:[c("strong",{children:"Tags:"}),t.tags&&t.tags.length>0?c("span",{className:"ml-2",children:t.tags.map(O=>c(Ju,{variant:"secondary",className:"mr-1 mb-1",style:O.color?{backgroundColor:O.color,color:"#fff"}:{},children:O.name},O.id))}):c("span",{className:"ml-2 text-muted-foreground",children:"No tags"})]})]})]}),w(lr,{children:[c(xr,{children:c(wr,{children:"Cost Tracking"})}),c(mr,{children:(()=>{const O=t.purchase_price||0,P=n.reduce((U,T)=>U+(T.maintenance_cost||0),0),I=(t.status==="Disposed"||t.status==="Retired")&&t.salvage_value||0,L=O+P-I;return w("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[w("div",{children:[c("strong",{children:"Purchase Cost:"})," ",O.toFixed(2)]}),w("div",{children:[c("strong",{children:"Total Maintenance Cost:"})," ",P.toFixed(2)]}),(t.status==="Disposed"||t.status==="Retired")&&w("div",{children:[c("strong",{children:"Salvage Value:"})," ",I.toFixed(2)]}),w("div",{children:[c("strong",{children:"Total Cost of Ownership:"})," ",L.toFixed(2)]})]})})()})]}),(t.status==="Disposed"||t.status==="Retired")&&t.disposal_date&&w(lr,{className:"border-destructive",children:[c(xr,{children:c(wr,{className:"text-destructive",children:"Disposal Information"})}),w(mr,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[w("div",{children:[c("strong",{children:"Disposal Date:"})," ",S(t.disposal_date)]}),w("div",{children:[c("strong",{children:"Reason:"})," ",t.disposal_reason||"N/A"]}),w("div",{children:[c("strong",{children:"Salvage Value:"})," ",((E=t.salvage_value)==null?void 0:E.toFixed(2))||"0.00"]}),t.disposal_notes&&w("div",{className:"md:col-span-2",children:[c("strong",{children:"Notes:"})," ",t.disposal_notes]})]})]}),w(lr,{children:[c(xr,{children:c(wr,{children:"Maintenance History"})}),c(mr,{children:n.length>0?c("div",{className:"overflow-x-auto",children:w("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[c("thead",{className:"bg-gray-50",children:w("tr",{children:[c("th",{scope:"col",className:"px-4 py-2 text-left font-medium text-gray-500 uppercase tracking-wider",children:"Serviced At"}),c("th",{scope:"col",className:"px-4 py-2 text-left font-medium text-gray-500 uppercase tracking-wider",children:"Cost"}),c("th",{scope:"col",className:"px-4 py-2 text-left font-medium text-gray-500 uppercase tracking-wider",children:"Invoice"}),c("th",{scope:"col",className:"px-4 py-2 text-left font-medium text-gray-500 uppercase tracking-wider",children:"Notes"}),c("th",{scope:"col",className:"px-4 py-2 text-left font-medium text-gray-500 uppercase tracking-wider",children:"Prev. Next Due"}),c("th",{scope:"col",className:"px-4 py-2 text-left font-medium text-gray-500 uppercase tracking-wider",children:"New Next Due"})]})}),c("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(O=>{var I;const P=i.find(L=>L.id===O.invoice_document_id);return w("tr",{children:[c("td",{className:"px-4 py-2 whitespace-nowrap",children:S(O.serviced_at)}),w("td",{className:"px-4 py-2 whitespace-nowrap",children:["",((I=O.maintenance_cost)==null?void 0:I.toFixed(2))||"0.00"]}),c("td",{className:"px-4 py-2 whitespace-nowrap",children:P?c("a",{href:P.file_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:P.file_name}):O.invoice_document_id?"Invoice not found":"-"}),c("td",{className:"px-4 py-2",children:O.notes||"-"}),c("td",{className:"px-4 py-2 whitespace-nowrap",children:S(O.previous_next_maintenance_due_date)}),c("td",{className:"px-4 py-2 whitespace-nowrap",children:S(O.new_next_maintenance_due_date)})]},O.id)})})]})}):c("p",{className:"text-gray-500",children:"No maintenance history recorded."})})]}),s.length>0&&w(lr,{children:[c(xr,{children:c(wr,{children:"Disposal Log"})}),c(mr,{children:c("div",{className:"overflow-x-auto",children:w("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[c("thead",{className:"bg-gray-50",children:w("tr",{children:[c("th",{scope:"col",className:"px-4 py-2 text-left font-medium text-gray-500 uppercase tracking-wider",children:"Recorded At"}),c("th",{scope:"col",className:"px-4 py-2 text-left font-medium text-gray-500 uppercase tracking-wider",children:"Disposal Date"}),c("th",{scope:"col",className:"px-4 py-2 text-left font-medium text-gray-500 uppercase tracking-wider",children:"Reason"}),c("th",{scope:"col",className:"px-4 py-2 text-left font-medium text-gray-500 uppercase tracking-wider",children:"Salvage Value ()"}),c("th",{scope:"col",className:"px-4 py-2 text-left font-medium text-gray-500 uppercase tracking-wider",children:"Notes"})]})}),c("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(O=>{var P;return w("tr",{children:[c("td",{className:"px-4 py-2 whitespace-nowrap",children:S(O.disposal_recorded_at)}),c("td",{className:"px-4 py-2 whitespace-nowrap",children:S(O.disposal_date)}),c("td",{className:"px-4 py-2",children:O.disposal_reason}),w("td",{className:"px-4 py-2 whitespace-nowrap",children:["",((P=O.salvage_value)==null?void 0:P.toFixed(2))||"0.00"]}),c("td",{className:"px-4 py-2",children:O.disposal_notes||"-"})]},O.id)})})]})})})]}),w(lr,{children:[c(xr,{children:c(wr,{children:"Documents"})}),w(mr,{children:[i.length>0?c("ul",{children:i.map(O=>w("li",{children:[c("a",{href:O.file_url,target:"_blank",rel:"noopener noreferrer",children:O.file_name})," (Uploaded: ",S(O.uploaded_at),")"]},O.id))}):c("p",{children:"No documents uploaded."}),w("div",{className:"mt-4 border-t pt-4",children:[c("h4",{className:"font-semibold mb-2",children:"Upload New Document"}),w("div",{className:"flex items-center gap-2",children:[c(ct,{type:"file",ref:g,onChange:b,disabled:m,className:"flex-grow"}),w(Fe,{size:"sm",onClick:()=>{var O;return(O=g.current)==null?void 0:O.click()},disabled:m,children:[m?c(Zn,{className:"mr-2 h-4 w-4 animate-spin"}):c(Z0,{className:"mr-2 h-4 w-4"}),m?"Uploading...":"Choose File"]})]})]})]})]})]})};function kM({className:e,date:t,onDateChange:r}){return c("div",{className:Rt("grid gap-2",e),children:w(hg,{children:[c(pg,{asChild:!0,children:w(Fe,{id:"date",variant:"outline",className:Rt("w-[300px] justify-start text-left font-normal",!t&&"text-muted-foreground"),children:[c(Lo,{className:"mr-2 h-4 w-4"}),t!=null&&t.from?t.to?w(Sr,{children:[Lt(t.from,"LLL dd, y")," -"," ",Lt(t.to,"LLL dd, y")]}):Lt(t.from,"LLL dd, y"):c("span",{children:"Pick a date range"})]})}),c(vm,{className:"w-auto p-0",align:"start",children:c(ym,{initialFocus:!0,mode:"range",defaultMonth:t==null?void 0:t.from,selected:t,onSelect:r,numberOfMonths:2})})]})})}const $b=["#4F46E5","#60A5FA","#34D399","#FBBF24","#F87171"],WV={"In Stock":"#22C55E","Low Stock":"#FBBF24",Expired:"#F87171"},VV=["#4F46E5","#A5B4FC"],OKe=({inventoryData:e=[],logData:t=[]})=>{const r=A.useMemo(()=>{const l={Medicines:0,Tools:0,Consumables:0};return e.forEach(u=>{const d=u.category;d&&l[d]!==void 0&&l[d]++}),Object.entries(l).map(([u,d])=>({name:u,value:d}))},[e]),n=A.useMemo(()=>{const l={"In Stock":0,"Low Stock":0,Expired:0};return e.forEach(u=>{l[u.stock_status]!==void 0&&l[u.stock_status]++}),Object.entries(l).map(([u,d])=>({name:u,value:d})).filter(u=>u.value>0)},[e]);e.length;const a=r.reduce((l,u)=>l+u.value,0),i=n.reduce((l,u)=>l+u.value,0),o=()=>{var h;const l=e.reduce((m,x)=>m+(x.quantity||0),0),u=[...t].sort((m,x)=>new Date(m.created_at).getTime()-new Date(x.created_at).getTime()),d=new Map;if(u.length===0){const m=Date.now();d.set(m,{timestamp:m,name:new Date(m).toLocaleDateString(),value:l})}else{const m=u.reduce((O,P)=>O+P.quantity_change,0),x=l-m,y=new Date(u[0].created_at).getTime()-1;d.set(y,{timestamp:y,name:new Date(y).toLocaleDateString(),value:x});let _=x;u.forEach(O=>{_+=O.quantity_change;const P=new Date(O.created_at).getTime();d.set(P,{timestamp:P,name:new Date(P).toLocaleDateString(),value:_})});const b=Array.from(d.keys()).pop()??y,S=Date.now(),C=24*60*60*1e3;(((h=d.get(b))==null?void 0:h.value)!==l||S-b>C)&&d.set(S,{timestamp:S,name:new Date(S).toLocaleDateString(),value:l})}return Array.from(d.values())},s=(l,u)=>{const{payload:d}=l;return c("div",{className:"flex flex-wrap justify-center gap-x-4 gap-y-2 w-full mt-4 text-xs",children:d.map((f,h)=>{const m=u>0?(f.payload.value/u*100).toFixed(1):0;return w("div",{className:"flex items-center",children:[c("span",{className:"w-2 h-2 rounded-full mr-1.5",style:{backgroundColor:f.color}}),f.payload.name," (",m,"%)"]},`legend-${f.payload.name}-${h}`)})})};return w("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[" ",w(lr,{children:[c(xr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:c(wr,{className:"text-sm font-medium",children:"Items by Category"})}),w(mr,{className:"flex flex-col items-center pt-4",children:[" ",c(ks,{width:"100%",height:220,children:w(Xp,{children:[c(Is,{data:r,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:1,dataKey:"value",startAngle:90,endAngle:450,children:r.map((l,u)=>c(Hc,{fill:$b[u%$b.length],stroke:$b[u%$b.length]},`cell-cat-${u}`))}),c(Ja,{formatter:(l,u)=>[`${l} (${a>0?(l/a*100).toFixed(1):0}%)`,u],contentStyle:{fontSize:"12px",padding:"4px 8px",borderRadius:"4px"}}),c(Hu,{content:l=>s(l,a)})]})})]})]}),w(lr,{children:[c(xr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:c(wr,{className:"text-sm font-medium",children:"Items by Status"})}),w(mr,{className:"flex flex-col items-center pt-4",children:[" ",c(ks,{width:"100%",height:220,children:w(Xp,{children:[c(Is,{data:n,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:1,dataKey:"value",startAngle:90,endAngle:450,children:n.map((l,u)=>c(Hc,{fill:WV[l.name],stroke:WV[l.name]},`cell-stat-${u}`))}),c(Ja,{formatter:(l,u)=>[`${l} (${i>0?(l/i*100).toFixed(1):0}%)`,u],contentStyle:{fontSize:"12px",padding:"4px 8px",borderRadius:"4px"}}),c(Hu,{content:l=>s(l,i)})]})})]})]}),w(lr,{className:"md:col-span-2 lg:col-span-3",children:[" ",w(xr,{className:"pb-2",children:[" ",c(wr,{className:"text-sm font-medium",children:"Item Quantities"}),c("p",{className:"text-xs text-muted-foreground",children:"Current stock vs. low stock threshold"})," "]}),w(mr,{className:"pb-4 pl-2 pr-4",children:[" ",c(ks,{width:"100%",height:300,children:w(Gx,{data:e,margin:{top:5,right:5,left:-10,bottom:5},barGap:4,barCategoryGap:"20%",children:[c(Ol,{dataKey:"item_name",axisLine:!1,tickLine:!1,dy:10,style:{fontSize:"10px"},interval:0,angle:-45,textAnchor:"end",height:60}),c(Dl,{axisLine:!1,tickLine:!1,width:30,style:{fontSize:"12px"},allowDecimals:!1}),c(Ja,{cursor:{fill:"rgba(79, 70, 229, 0.1)"},contentStyle:{fontSize:"12px",padding:"4px 8px",borderRadius:"4px"},formatter:(l,u)=>[`${l}`,u==="quantity"?"Quantity":"Low Stock Threshold"]}),c(eu,{dataKey:"quantity",fill:VV[0],name:"Quantity",radius:[4,4,0,0],barSize:10}),c(eu,{dataKey:"low_stock_threshold",fill:VV[1],name:"Low Stock Threshold",radius:[4,4,0,0],barSize:10})]})})]})]}),w(lr,{className:"md:col-span-2 lg:col-span-3",children:[w(xr,{className:"flex flex-row items-center justify-between pb-2",children:[" ",w("div",{children:[c(wr,{className:"text-sm font-medium",children:"Overall Inventory Trend"}),c("p",{className:"text-xs text-muted-foreground",children:"Total quantity changes over time"})," "]})]}),w(mr,{className:"pb-4 pl-2 pr-4",children:[" ",c(ks,{width:"100%",height:300,children:w(cee,{data:o(),margin:{top:5,right:10,left:-10,bottom:5},children:[c("defs",{children:w("linearGradient",{id:"colorValue",x1:"0",y1:"0",x2:"0",y2:"1",children:[c("stop",{offset:"5%",stopColor:"#4F46E5",stopOpacity:.8}),c("stop",{offset:"95%",stopColor:"#4F46E5",stopOpacity:0})]})}),c(HI,{strokeDasharray:"3 3",vertical:!1,stroke:"hsl(var(--muted))"}),c(Ol,{dataKey:"timestamp",type:"number",domain:["dataMin","dataMax"],axisLine:!1,tickLine:!1,tickFormatter:l=>new Date(l).toLocaleDateString(),dy:10,style:{fontSize:"12px"}}),c(Dl,{axisLine:!1,tickLine:!1,width:30,style:{fontSize:"12px"},allowDecimals:!1,domain:[0,"dataMax + 10"]}),c(Ja,{contentStyle:{fontSize:"12px",padding:"4px 8px",borderRadius:"4px"},formatter:(l,u,d)=>[`Total Quantity: ${l}`,d.payload.name]}),c(Ih,{type:"monotone",dataKey:"value",connectNulls:!0,stroke:"#4F46E5",fillOpacity:1,fill:"url(#colorValue)",strokeWidth:2,dot:{r:4,fill:"#4F46E5",stroke:"#fff",strokeWidth:2},activeDot:{r:6},name:"Total Quantity"})]})})]})]})]})},DKe=["Medicines","Tools","Consumables"],IKe=()=>{const[e,t]=A.useState([]),[r,n]=A.useState([]),[a,i]=A.useState(!1),[o,s]=A.useState(null),[l,u]=A.useState(void 0),[d,f]=A.useState("all"),[h,m]=A.useState(""),[x,g]=A.useState({inventoryLevelStatus:{},upcomingExpiryItems:[]}),[y,_]=A.useState([]);A.useEffect(()=>{(async()=>{i(!0),s(null);try{const U=(await OR()).map(X=>({...X,stock_status:X.quantity>X.low_stock_threshold?"In Stock":"Low Stock"}));t(U),n(U);const T=new Date(0).toISOString(),F=new Date().toISOString(),j=await _W(T,F);_(j);const H=await b(U);g(H)}catch(L){const U=L instanceof Error?L.message:"Failed to load initial inventory or log data";s(U),console.error("Error fetching initial data:",L)}finally{i(!1)}})()},[]),A.useEffect(()=>{let I=[...e];l!=null&&l.from&&(l!=null&&l.to)?I=I.filter(L=>{const U=new Date(L.created_at);return U>=l.from&&U<=l.to}):l!=null&&l.from?I=I.filter(L=>new Date(L.created_at)>=l.from):l!=null&&l.to&&(I=I.filter(L=>new Date(L.created_at)<=l.to)),d!=="all"&&(I=I.filter(L=>L.category===d)),h&&(I=I.filter(L=>{var U;return(U=L.supplier_info)==null?void 0:U.toLowerCase().includes(h.toLowerCase())})),n(I)},[l,d,h,e]),A.useEffect(()=>{(async()=>{if(l!=null&&l.from&&(l!=null&&l.to)){i(!0),s(null);try{const L=l.from.toISOString(),U=l.to.toISOString(),T=await _W(L,U);_(T)}catch(L){s(`Error fetching inventory log data: ${L instanceof Error?L.message:String(L)}`)}finally{i(!1)}}else _([])})()},[l]);const b=async I=>{const L=I.reduce((T,F)=>(F.stock_status==="Low Stock"&&(T[F.item_name]=F.quantity),T),{}),U=I.filter(T=>{if(!T.expiry_date)return!1;const F=new Date(T.expiry_date),j=new Date;return j.setDate(j.getDate()+90),F<=j}).sort((T,F)=>new Date(T.expiry_date).getTime()-new Date(F.expiry_date).getTime());return{inventoryLevelStatus:L,upcomingExpiryItems:U}},S=I=>I?new Date(I).toLocaleDateString():"N/A",C=(I,L="Inventory Report")=>{const U=new Fr;U.text(L,14,15);const T=["ID","Name","Category","Quantity","Unit Price","Supplier","Expiry Date","Status"],F=[];I.forEach(j=>{const H=[j.id,j.item_name,j.category,j.quantity,j.purchase_price??"N/A",j.supplier_info??"N/A",S(j.expiry_date),j.stock_status];F.push(H)}),f1(U,{head:[T],body:F,startY:20}),U.save(`${L.replace(/\s+/g,"_")}.pdf`)},E=(I,L="Inventory Report")=>{const U=I.map(j=>({ID:j.id,Name:j.item_name,Category:j.category,Quantity:j.quantity,"Unit Price":j.purchase_price??"N/A",Supplier:j.supplier_info??"N/A","Expiry Date":S(j.expiry_date),Status:j.stock_status,"Low Stock Threshold":j.low_stock_threshold,"Created At":S(j.created_at)})),T=of.json_to_sheet(U),F=of.book_new();of.book_append_sheet(F,T,"Inventory"),gM(F,`${L.replace(/\s+/g,"_")}.xlsx`)},O=()=>{if(console.log("Generating Stock Report with data:",r),r.length===0){s("No data available to generate report.");return}s(null);try{C(r,"Stock Report"),E(r,"Stock Report")}catch(I){console.error("Error generating stock report:",I),s(`Error generating stock report: ${I instanceof Error?I.message:String(I)}`)}},P=()=>{const I=new Date,L=new Date;L.setDate(I.getDate()+90);const U=r.filter(T=>T.expiry_date?new Date(T.expiry_date)<=L:!1).sort((T,F)=>{const j=T.expiry_date?new Date(T.expiry_date).getTime():0,H=F.expiry_date?new Date(F.expiry_date).getTime():0;return j-H});if(console.log("Generating Expiry Report with data:",U),U.length===0){s("No items expiring soon to generate report.");return}s(null);try{C(U,"Expiry Report (Next 90 Days)"),E(U,"Expiry Report (Next 90 Days)")}catch(T){console.error("Error generating expiry report:",T),s(`Error generating expiry report: ${T instanceof Error?T.message:String(T)}`)}};return w("div",{className:"space-y-4",children:[w(lr,{children:[c(xr,{children:c(wr,{children:"Filters"})}),w(mr,{className:"flex flex-col md:flex-row gap-4 items-end",children:[" ",w("div",{className:"flex-1",children:[c("label",{className:"block text-sm font-medium text-muted-foreground mb-1",children:"Date Range (Created At)"}),c(kM,{date:l,onDateChange:u})]}),w("div",{className:"flex-1",children:[c("label",{htmlFor:"inv-category-filter",className:"block text-sm font-medium text-muted-foreground mb-1",children:"Category"}),w(zr,{value:d,onValueChange:I=>f(I),children:[c($r,{id:"inv-category-filter",children:c(Wr,{placeholder:"Filter by Category"})}),w(Br,{children:[c(_t,{value:"all",children:"All Categories"}),DKe.map(I=>c(_t,{value:I,children:I},I))]})]})]}),w("div",{className:"flex-1",children:[c("label",{htmlFor:"inv-supplier-filter",className:"block text-sm font-medium text-muted-foreground mb-1",children:"Supplier"}),c(ct,{id:"inv-supplier-filter",placeholder:"Filter by supplier...",value:h,onChange:I=>m(I.target.value)})]})]})]}),w("div",{className:"flex gap-2",children:[c(Fe,{onClick:O,disabled:a,children:"Generate Stock Report"}),c(Fe,{onClick:P,variant:"outline",disabled:a,children:"Generate Expiry Report"})]}),a&&c("p",{children:"Loading report data..."}),o&&w(rd,{variant:"destructive",children:[c(fc,{className:"h-4 w-4"}),c(nd,{children:"Error"}),c(ad,{children:o})]}),w("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[w(lr,{children:[w(xr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c(wr,{className:"text-sm font-medium",children:"Low Stock Items"}),c(fc,{className:"h-4 w-4 text-muted-foreground text-red-500"})]}),w(mr,{children:[c("div",{className:"text-2xl font-bold",children:Object.keys(x.inventoryLevelStatus).length}),w("ul",{className:"text-xs text-muted-foreground list-disc pl-4",children:[Object.entries(x.inventoryLevelStatus).slice(0,5).map(([I,L])=>w("li",{children:[I," (",L,")"]},I)),Object.keys(x.inventoryLevelStatus).length>5&&c("li",{children:"...and more"})]}),Object.keys(x.inventoryLevelStatus).length===0&&c("p",{className:"text-xs text-muted-foreground",children:"No items currently low on stock."})]})]}),w(lr,{children:[w(xr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c(wr,{className:"text-sm font-medium",children:"Upcoming Expiry (90 days)"}),c(fc,{className:"h-4 w-4 text-muted-foreground text-orange-500"})]}),w(mr,{children:[c("div",{className:"text-2xl font-bold",children:x.upcomingExpiryItems.length}),w("ul",{className:"text-xs text-muted-foreground list-disc pl-4",children:[x.upcomingExpiryItems.slice(0,5).map(I=>w("li",{children:[I.item_name," (",S(I.expiry_date),")"]},I.id)),x.upcomingExpiryItems.length>5&&c("li",{children:"...and more"})]}),x.upcomingExpiryItems.length===0&&c("p",{className:"text-xs text-muted-foreground",children:"No items expiring soon."})]})]})]}),w(lr,{children:[c(xr,{children:c(wr,{children:"Report Data Preview & Charts"})}),w(mr,{children:[w("p",{className:"text-muted-foreground mb-4",children:["Filtered Items: ",r.length]}),c(OKe,{inventoryData:r,logData:y})]})]})]})},Bb=["#4F46E5","#60A5FA","#34D399","#FBBF24","#F87171"],HV={Active:"#22C55E","Under Maintenance":"#FBBF24",Retired:"#9CA3AF",Disposed:"#F87171"},RKe="#8B5CF6",MKe="#F59E0B",FKe=({assetData:e=[]})=>{const t=A.useMemo(()=>{const l={"Equipment & Tools":0,Furniture:0,IT:0,Other:0};return e.forEach(u=>{const d=u.category;d&&l[d]!==void 0&&l[d]++}),Object.entries(l).map(([u,d])=>({name:u,value:d})).filter(u=>u.value>0)},[e]),r=A.useMemo(()=>{const l={Active:0,"Under Maintenance":0,Retired:0,Disposed:0};return e.forEach(u=>{const d=u.status;d&&l[d]!==void 0&&l[d]++}),Object.entries(l).map(([u,d])=>({name:u,value:d})).filter(u=>u.value>0)},[e]),n=A.useMemo(()=>{const l={"0-500":0,"501-2000":0,"2001-10000":0,"10001+":0};return e.forEach(u=>{const d=u.purchase_price??0;d<=500?l["0-500"]++:d<=2e3?l["501-2000"]++:d<=1e4?l["2001-10000"]++:l["10001+"]++}),Object.entries(l).map(([u,d])=>({name:u,value:d}))},[e]),a=A.useMemo(()=>{const l=new Date;return e.filter(d=>d.next_maintenance_due_date).map(d=>({...d,daysUntilDue:z0e(qr(d.next_maintenance_due_date),l)})).filter(d=>d.daysUntilDue>=0&&d.daysUntilDue<=90).sort((d,f)=>d.daysUntilDue-f.daysUntilDue).slice(0,10).map(d=>({name:d.asset_name,value:d.daysUntilDue}))},[e]),i=t.reduce((l,u)=>l+u.value,0),o=r.reduce((l,u)=>l+u.value,0),s=(l,u)=>{const{payload:d}=l;return c("div",{className:"flex flex-wrap justify-center gap-x-4 gap-y-2 w-full mt-4 text-xs",children:d.map((f,h)=>{const m=u>0?(f.payload.value/u*100).toFixed(1):0;return w("div",{className:"flex items-center",children:[c("span",{className:"w-2 h-2 rounded-full mr-1.5",style:{backgroundColor:f.color}}),f.payload.name," (",m,"%)"]},`legend-${f.payload.name}-${h}`)})})};return w("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-2",children:[" ",w(lr,{children:[c(xr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:c(wr,{className:"text-sm font-medium",children:"Assets by Category"})}),c(mr,{className:"flex flex-col items-center pt-4",children:c(ks,{width:"100%",height:180,children:w(Xp,{children:[c(Is,{data:t,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:1,dataKey:"value",startAngle:90,endAngle:450,children:t.map((l,u)=>c(Hc,{fill:Bb[u%Bb.length],stroke:Bb[u%Bb.length]},`cell-asset-cat-${u}`))}),c(Ja,{formatter:(l,u)=>[`${l} (${i>0?(l/i*100).toFixed(1):0}%)`,u],contentStyle:{fontSize:"12px",padding:"4px 8px",borderRadius:"4px"}}),c(Hu,{content:l=>s(l,i)})]})})})]}),w(lr,{children:[c(xr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:c(wr,{className:"text-sm font-medium",children:"Assets by Status"})}),c(mr,{className:"flex flex-col items-center pt-4",children:c(ks,{width:"100%",height:180,children:w(Xp,{children:[c(Is,{data:r,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:1,dataKey:"value",startAngle:90,endAngle:450,children:r.map((l,u)=>c(Hc,{fill:HV[l.name],stroke:HV[l.name]},`cell-asset-stat-${u}`))}),c(Ja,{formatter:(l,u)=>[`${l} (${o>0?(l/o*100).toFixed(1):0}%)`,u],contentStyle:{fontSize:"12px",padding:"4px 8px",borderRadius:"4px"}}),c(Hu,{content:l=>s(l,o)})]})})})]}),w(lr,{children:[w(xr,{className:"pb-2",children:[c(wr,{className:"text-sm font-medium",children:"Asset Value Distribution"}),c("p",{className:"text-xs text-muted-foreground",children:"Count of assets by purchase price range"})]}),c(mr,{className:"pb-4 pl-2 pr-4",children:c(ks,{width:"100%",height:200,children:w(Gx,{data:n,margin:{top:5,right:5,left:-10,bottom:5},barCategoryGap:"20%",children:[c(Ol,{dataKey:"name",axisLine:!1,tickLine:!1,dy:10,style:{fontSize:"12px"}}),c(Dl,{axisLine:!1,tickLine:!1,width:30,style:{fontSize:"12px"},allowDecimals:!1}),c(Ja,{cursor:{fill:"rgba(139, 92, 246, 0.1)"},contentStyle:{fontSize:"12px",padding:"4px 8px",borderRadius:"4px"},formatter:l=>[`${l} Assets`,null]}),c(eu,{dataKey:"value",fill:RKe,name:"Assets",radius:[4,4,0,0],barSize:12})]})})})]}),w(lr,{children:[w(xr,{className:"pb-2",children:[c(wr,{className:"text-sm font-medium",children:"Upcoming Maintenance (Next 90 Days)"}),c("p",{className:"text-xs text-muted-foreground",children:"Assets needing maintenance soon (max 10 shown)"})]}),c(mr,{className:"pb-4 pl-2 pr-4",children:c(ks,{width:"100%",height:200,children:w(Gx,{data:a,layout:"vertical",margin:{top:5,right:20,left:30,bottom:5},barCategoryGap:"20%",children:[c(Ol,{type:"number",hide:!0}),c(Dl,{dataKey:"name",type:"category",axisLine:!1,tickLine:!1,style:{fontSize:"10px"},width:100,interval:0}),c(Ja,{cursor:{fill:"rgba(245, 158, 11, 0.1)"},contentStyle:{fontSize:"12px",padding:"4px 8px",borderRadius:"4px"},formatter:l=>[`Due in ${l} days`,null]}),c(eu,{dataKey:"value",fill:MKe,name:"Days Until Due",radius:[0,4,4,0],barSize:10})]})})})]})]})},LKe=["Equipment & Tools","Furniture","IT","Other"],jKe=["Active","Under Maintenance","Retired","Disposed"],$Ke=()=>{const[e,t]=A.useState([]),[r,n]=A.useState([]),[a,i]=A.useState(!1),[o,s]=A.useState(null),[l,u]=A.useState(void 0),[d,f]=A.useState("all"),[h,m]=A.useState("all");A.useEffect(()=>{(async()=>{i(!0),s(null);try{const C=await _Ke();t(C),n(C)}catch(C){s(C instanceof Error?C.message:"Failed to load asset data")}finally{i(!1)}})()},[]),A.useEffect(()=>{let S=[...e];l!=null&&l.from&&(l!=null&&l.to)?S=S.filter(C=>{if(!C.purchase_date)return!1;const E=new Date(C.purchase_date);return E>=l.from&&E<=l.to}):l!=null&&l.from?S=S.filter(C=>C.purchase_date&&new Date(C.purchase_date)>=l.from):l!=null&&l.to&&(S=S.filter(C=>C.purchase_date&&new Date(C.purchase_date)<=l.to)),d!=="all"&&(S=S.filter(C=>C.category===d)),h!=="all"&&(S=S.filter(C=>C.status===h)),n(S)},[l,d,h,e]);const x=S=>S?new Date(S).toLocaleDateString():"N/A",g=(S,C="Asset Report")=>{const E=new Fr;E.text(C,14,15);const O=["ID","Name","Category","Status","Purchase Date","Purchase Price","Supplier"],P=[];S.forEach(I=>{const L=[I.id,I.asset_name,I.category,I.status,x(I.purchase_date),I.purchase_price??"N/A",I.supplier_info??"N/A"];P.push(L)}),f1(E,{head:[O],body:P,startY:20}),E.save(`${C.replace(/\s+/g,"_")}.pdf`)},y=(S,C="Asset Report")=>{const E=S.map(I=>({ID:I.id,Name:I.asset_name,Category:I.category,Status:I.status,"Purchase Date":x(I.purchase_date),"Purchase Price":I.purchase_price??"N/A",Supplier:I.supplier_info??"N/A",Location:I.location,"Next Maintenance":x(I.next_maintenance_due_date)})),O=of.json_to_sheet(E),P=of.book_new();of.book_append_sheet(P,O,"Assets"),gM(P,`${C.replace(/\s+/g,"_")}.xlsx`)},_=()=>{if(console.log("Generating Asset List Report with data:",r),r.length===0){s("No data available to generate report.");return}s(null);try{g(r,"Asset List Report"),y(r,"Asset List Report")}catch(S){console.error("Error generating asset list report:",S),s(`Error generating asset list report: ${S instanceof Error?S.message:String(S)}`)}},b=()=>{const S=r.filter(C=>C.last_serviced_date||C.next_maintenance_due_date);if(console.log("Generating Maintenance History Report with data:",S),S.length===0){s("No assets with maintenance data available to generate report.");return}s(null);try{g(S,"Asset Maintenance Report"),y(S,"Asset Maintenance Report")}catch(C){console.error("Error generating asset maintenance report:",C),s(`Error generating asset maintenance report: ${C instanceof Error?C.message:String(C)}`)}};return w("div",{className:"space-y-4",children:[w(lr,{children:[c(xr,{children:c(wr,{children:"Filters"})}),w(mr,{className:"flex flex-col md:flex-row gap-4 items-end",children:[w("div",{className:"flex-1",children:[c("label",{className:"block text-sm font-medium text-muted-foreground mb-1",children:"Purchase Date Range"}),c(kM,{date:l,onDateChange:u})]}),w("div",{className:"flex-1",children:[c("label",{htmlFor:"asset-category-filter",className:"block text-sm font-medium text-muted-foreground mb-1",children:"Category"}),w(zr,{value:d,onValueChange:S=>f(S),children:[c($r,{id:"asset-category-filter",children:c(Wr,{placeholder:"Filter by Category"})}),w(Br,{children:[c(_t,{value:"all",children:"All Categories"}),LKe.map(S=>c(_t,{value:S,children:S},S))]})]})]}),w("div",{className:"flex-1",children:[c("label",{htmlFor:"asset-status-filter",className:"block text-sm font-medium text-muted-foreground mb-1",children:"Status"}),w(zr,{value:h,onValueChange:S=>m(S),children:[c($r,{id:"asset-status-filter",children:c(Wr,{placeholder:"Filter by Status"})}),w(Br,{children:[c(_t,{value:"all",children:"All Statuses"}),jKe.map(S=>c(_t,{value:S,children:S},S))]})]})]})]})]}),w("div",{className:"flex gap-2",children:[c(Fe,{onClick:_,disabled:a,children:"Generate Asset List"}),c(Fe,{onClick:b,variant:"outline",disabled:a,children:"Generate Maintenance Report"})]}),a&&c("p",{children:"Loading report data..."}),o&&w(rd,{variant:"destructive",children:[c(fc,{className:"h-4 w-4"}),c(nd,{children:"Error"}),c(ad,{children:o})]}),w(lr,{children:[c(xr,{children:c(wr,{children:"Report Data Preview & Charts"})}),w(mr,{children:[w("p",{className:"text-muted-foreground mb-4",children:["Filtered Assets: ",r.length]}),r.length>0?c("div",{className:"overflow-x-auto",children:w("table",{className:"table-auto w-full",children:[c("thead",{children:w("tr",{className:"text-left",children:[c("th",{className:"px-4 py-2",children:"Name"}),c("th",{className:"px-4 py-2",children:"Category"}),c("th",{className:"px-4 py-2",children:"Status"}),c("th",{className:"px-4 py-2",children:"Purchase Date"})]})}),c("tbody",{children:r.map(S=>w("tr",{children:[c("td",{className:"border px-4 py-2",children:S.asset_name}),c("td",{className:"border px-4 py-2",children:S.category}),c("td",{className:"border px-4 py-2",children:S.status}),c("td",{className:"border px-4 py-2",children:x(S.purchase_date)})]},S.id))})]})}):c("div",{className:"h-60 border rounded-md flex items-center justify-center text-muted-foreground",children:"No assets match the selected criteria."}),w("div",{className:"mt-6",children:[" ",c(FKe,{assetData:r})," "]})]})]})]})},BKe=[{name:"Page A",uv:4e3,pv:2400,amt:2400},{name:"Page B",uv:3e3,pv:1398,amt:2210},{name:"Page C",uv:2e3,pv:9800,amt:2290},{name:"Page D",uv:2780,pv:3908,amt:2e3},{name:"Page E",uv:1890,pv:4800,amt:2181},{name:"Page F",uv:2390,pv:3800,amt:2500},{name:"Page G",uv:3490,pv:4300,amt:2100}],UKe=()=>w("div",{className:"mt-4",children:[c("h2",{className:"text-lg font-semibold mb-2",children:"Report Data Preview"}),w(lee,{width:500,height:300,data:BKe,margin:{top:5,right:30,left:20,bottom:5},children:[c(HI,{strokeDasharray:"3 3"}),c(Ol,{dataKey:"name"}),c(Dl,{}),c(Ja,{}),c(Hu,{}),c(fm,{type:"monotone",dataKey:"pv",stroke:"#8884d8",activeDot:{r:8}}),c(fm,{type:"monotone",dataKey:"uv",stroke:"#82ca9d"})]})]}),qKe=()=>w("div",{className:"container mx-auto p-4 md:p-6",children:[c(Sa,{heading:"Reports & Analytics"}),w(Dg,{defaultValue:"inventory",className:"mt-4",children:[w(Ig,{className:"grid w-full grid-cols-2 md:w-[400px]",children:[c(ll,{value:"inventory",children:"Inventory Reports"}),c(ll,{value:"assets",children:"Asset Reports"}),c(ll,{value:"report-data-preview",children:"Report Data Preview"})]}),c(Ei,{value:"inventory",className:"mt-4",children:c(IKe,{})}),c(Ei,{value:"assets",className:"mt-4",children:c($Ke,{})}),c(Ei,{value:"report-data-preview",className:"mt-4",children:c(UKe,{})})]})]}),zKe=P3({message:Qo().min(1,"Reminder message is required."),reminder_date:Gte({required_error:"Please select a date."}),reminder_time:Qo().regex(/^([01]\d|2[0-3]):([0-5]\d)$/,{message:"Invalid time format (HH:MM)."}),recurrence_type:lw(["none","daily","weekly","monthly","yearly"]).default("none"),recurrence_interval:W2().int().min(1).optional(),recurrence_days:Yte(W2().int().min(0).max(6)).optional(),times_per_day:W2().int().min(1).optional()}).refine(e=>!(e.recurrence_type!=="none"&&!e.recurrence_interval||e.recurrence_type==="weekly"&&(!e.recurrence_days||e.recurrence_days.length===0)),{message:"Interval is required for recurrence. Days are required for weekly recurrence.",path:["recurrence_interval"]}),WKe=({initialData:e,onSaveSuccess:t})=>{const{user:r}=si(),{toast:n}=yn(),[a,i]=A.useState(!1),o=ld({resolver:cd(zKe)});A.useEffect(()=>{var l,u,d,f;if(e){const h=new Date(e.reminder_datetime);o.reset({message:e.message,reminder_date:h,reminder_time:Lt(h,"HH:mm"),recurrence_type:((l=e.recurrence_config)==null?void 0:l.type)||"none",recurrence_interval:(u=e.recurrence_config)==null?void 0:u.interval,recurrence_days:(d=e.recurrence_config)==null?void 0:d.days,times_per_day:((f=e.recurrence_config)==null?void 0:f.times_per_day)||1})}else o.reset({message:"",reminder_date:void 0,reminder_time:"",recurrence_type:"none",recurrence_interval:1,recurrence_days:[],times_per_day:1})},[e,o]);const s=async l=>{i(!0);const[u,d]=l.reminder_time.split(":").map(Number);let f=a1e(n1e(l.reminder_date,u),d);if(f<new Date){o.setError("reminder_time",{message:"Reminder time cannot be in the past."}),o.setError("reminder_date",{message:"Reminder date/time cannot be in the past."}),i(!1);return}const h={type:l.recurrence_type,interval:l.recurrence_type!=="none"?l.recurrence_interval:void 0,days:l.recurrence_type==="weekly"?l.recurrence_days:void 0,times_per_day:l.recurrence_type==="daily"?l.times_per_day:void 0};Object.keys(h).forEach(g=>h[g]===void 0&&delete h[g]);let m=null,x=null;if(e!=null&&e.id)m={message:l.message,reminder_datetime:f.toISOString(),recurrence_config:h};else{if(!r){n({title:"Error",description:"You must be logged in to create a reminder.",variant:"destructive"}),i(!1);return}x={user_id:r.id,message:l.message,reminder_datetime:f.toISOString(),recurrence_config:h,is_active:!0}}try{if(e!=null&&e.id&&m)await JK(e.id,m),n({title:"Success",description:"Reminder updated successfully."});else if(x)await O1e(x),n({title:"Success",description:"Reminder created successfully."});else throw new Error("Invalid state for saving reminder.");t()}catch(g){console.error("Failed to save reminder:",g),n({title:"Error",description:g.message||"Could not save reminder.",variant:"destructive"})}finally{i(!1)}};return c(Rh,{...o,children:w("form",{onSubmit:o.handleSubmit(s),className:"space-y-4",children:[c(He,{control:o.control,name:"message",render:({field:l})=>w(De,{children:[c(Oe,{children:"Reminder Message"}),c(Me,{children:c(Jr,{placeholder:"Enter reminder details...",...l})}),c(Ze,{})]})}),w("div",{className:"flex flex-col sm:flex-row gap-4",children:[c(He,{control:o.control,name:"reminder_date",render:({field:l})=>w(De,{className:"flex flex-col",children:[c(Oe,{children:"Date"}),w(hg,{children:[c(pg,{asChild:!0,children:c(Me,{children:w(Fe,{variant:"outline",className:Rt("w-full sm:w-[240px] pl-3 text-left font-normal",!l.value&&"text-muted-foreground"),children:[l.value?Lt(l.value,"PPP"):c("span",{children:"Pick a date"}),c(Lo,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),c(vm,{className:"w-auto p-0",align:"start",children:c(ym,{mode:"single",selected:l.value,onSelect:l.onChange,disabled:u=>u<new Date(new Date().setHours(0,0,0,0)),initialFocus:!0})})]}),c(Ze,{})]})}),c(He,{control:o.control,name:"reminder_time",render:({field:l})=>w(De,{className:"flex flex-col",children:[c(Oe,{children:"Time (HH:MM)"}),c("div",{className:"relative",children:c(Me,{children:c(ct,{type:"time",className:"w-full sm:w-[120px] pl-3",...l})})}),c(Ze,{})]})})]}),c(He,{control:o.control,name:"recurrence_type",render:({field:l})=>w(De,{children:[c(Oe,{children:"Recurrence"}),w(zr,{onValueChange:l.onChange,value:l.value??"none",children:[c(Me,{children:c($r,{children:c(Wr,{placeholder:"Select recurrence type"})})}),w(Br,{children:[c(_t,{value:"none",children:"None"}),c(_t,{value:"daily",children:"Daily"}),c(_t,{value:"weekly",children:"Weekly"}),c(_t,{value:"monthly",children:"Monthly"}),c(_t,{value:"yearly",children:"Yearly"})]})]}),c(Ze,{})]})}),o.watch("recurrence_type")!=="none"&&w("div",{className:"p-4 border rounded-md bg-muted/40 space-y-4 mt-2",children:[c(He,{control:o.control,name:"recurrence_interval",render:({field:l})=>w(De,{children:[c(Oe,{children:"Repeat Every"}),w("div",{className:"flex items-center gap-2",children:[c(Me,{children:c(ct,{type:"number",min:"1",className:"w-20",...l,value:l.value??1,onChange:u=>l.onChange(parseInt(u.target.value,10)||1)})}),w("span",{children:[o.watch("recurrence_type")==="daily"&&"Day(s)",o.watch("recurrence_type")==="weekly"&&"Week(s)",o.watch("recurrence_type")==="monthly"&&"Month(s)",o.watch("recurrence_type")==="yearly"&&"Year(s)"]})]}),c(Ze,{})]})}),o.watch("recurrence_type")==="daily"&&c(He,{control:o.control,name:"times_per_day",render:({field:l})=>w(De,{children:[c(Oe,{children:"Times Per Day"}),w("div",{className:"flex items-center gap-2",children:[c(Me,{children:c(ct,{type:"number",min:"1",max:"24",className:"w-20",...l,value:l.value??1,onChange:u=>l.onChange(parseInt(u.target.value,10)||1)})}),c("span",{children:"time(s)"})]}),c(Ai,{className:"text-xs",children:"How many times the reminder should trigger each day."}),c(Ze,{})]})}),o.watch("recurrence_type")==="weekly"&&c(He,{control:o.control,name:"recurrence_days",render:()=>w(De,{children:[c(Oe,{children:"Repeat On"}),c("div",{className:"grid grid-cols-4 gap-2 sm:grid-cols-7",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((l,u)=>c(He,{control:o.control,name:"recurrence_days",render:({field:d})=>{var f;return w(De,{className:"flex flex-row items-start space-x-2 space-y-0",children:[c(Me,{children:c(Ts,{checked:(f=d.value)==null?void 0:f.includes(u),onCheckedChange:h=>h?d.onChange([...d.value||[],u]):d.onChange((d.value||[]).filter(m=>m!==u))})}),c(Oe,{className:"font-normal",children:l})]},u)}},l))}),c(Ze,{})]})}),c("p",{className:"text-xs text-muted-foreground",children:"Monthly/Yearly options and End Date/Count coming soon."})]}),c(Fe,{type:"submit",disabled:a,children:a?"Saving...":e?"Update Reminder":"Create Reminder"}),e&&c(Fe,{type:"button",variant:"outline",onClick:()=>t(),className:"ml-2",children:"Cancel Edit"})]})})},VKe=({onEdit:e,refreshKey:t,activeReminderIds:r})=>{const{toast:n}=yn(),[a,i]=A.useState([]),[o,s]=A.useState(!0),[l,u]=A.useState(null),d=async()=>{s(!0),u(null);try{const x=await ZK();i(x||[])}catch(x){console.error("Failed to fetch reminders:",x),u("Failed to load reminders. Please try again."),n({title:"Error",description:"Could not fetch reminders.",variant:"destructive"})}finally{s(!1)}};A.useEffect(()=>{d()},[t]);const f=async x=>{const g=x.is_active;i(y=>y.map(_=>_.id===x.id?{..._,is_active:!g}:_));try{await JK(x.id,{is_active:!g}),n({title:"Success",description:`Reminder ${g?"deactivated":"activated"}.`})}catch(y){console.error("Failed to toggle reminder state:",y),i(_=>_.map(b=>b.id===x.id?{...b,is_active:g}:b)),n({title:"Error",description:"Could not update reminder status.",variant:"destructive"})}},h=async x=>{const g=[...a];i(y=>y.filter(_=>_.id!==x));try{await D1e(x),n({title:"Success",description:"Reminder deleted."})}catch(y){console.error("Failed to delete reminder:",y),i(g),n({title:"Error",description:"Could not delete reminder.",variant:"destructive"})}},m=x=>{e(x)};return o?w("div",{className:"space-y-4",children:[c(Ml,{className:"h-24 w-full"}),c(Ml,{className:"h-24 w-full"})]}):l?w(rd,{variant:"destructive",children:[c(nd,{children:"Error"}),c(ad,{children:l})]}):a.length===0?c("p",{className:"text-muted-foreground",children:"No reminders found."}):c("div",{className:"space-y-4",children:a.map(x=>{var g;return r.has(x.id),w(lr,{className:Rt(!x.is_active&&"opacity-60"),children:[w(xr,{className:"flex flex-row items-center justify-between pb-2",children:[c(wr,{className:"text-lg font-medium",children:x.message}),w("div",{className:"flex items-center space-x-2",children:[w(Fe,{variant:"ghost",size:"icon",onClick:()=>f(x),title:x.is_active?"Deactivate":"Activate",children:[x.is_active?c(lce,{className:"h-4 w-4"}):c(i4,{className:"h-4 w-4"})," "]}),c(Fe,{variant:"ghost",size:"icon",onClick:()=>m(x),title:"Edit",children:c(Ice,{className:"h-4 w-4"})}),c(Fe,{variant:"ghost",size:"icon",onClick:()=>h(x.id),title:"Delete",children:c(om,{className:"h-4 w-4 text-destructive"})})]})]}),w(mr,{children:[w("p",{className:"text-sm text-muted-foreground",children:["Next due: ",Lt(new Date(x.reminder_datetime),"PPP 'at' HH:mm")]}),((g=x.recurrence_config)==null?void 0:g.type)&&x.recurrence_config.type!=="none"&&w("p",{className:"text-xs text-muted-foreground mt-1 capitalize",children:["Recurring: ",x.recurrence_config.type]}),!x.is_active&&c("p",{className:"text-xs text-amber-600 mt-1",children:"Inactive"})]})]},x.id)})})},HKe=()=>{const[e,t]=A.useState(0),[r,n]=A.useState(null),{activeReminderIds:a}=QK(),i=s=>{n(s),window.scrollTo({top:0,behavior:"smooth"})};return w("div",{className:"container mx-auto p-4",children:[c(Sa,{heading:"Reminders",text:"Create and manage reminders for yourself or the clinic."}),w("div",{className:"mt-6",children:[c("h2",{className:"text-xl font-semibold mb-4",children:r?"Edit Reminder":"Create New Reminder"}),c(WKe,{initialData:r,onSaveSuccess:()=>{n(null),t(s=>s+1)}},(r==null?void 0:r.id)||"new")]}),c(am,{className:"my-8"}),w("div",{className:"mt-8",children:[c("h2",{className:"text-xl font-semibold mb-4",children:"Existing Reminders"}),c(VKe,{onEdit:i,refreshKey:e,activeReminderIds:a})]})]})},Xo=[];for(let e=0;e<256;++e)Xo.push((e+256).toString(16).slice(1));function GKe(e,t=0){return(Xo[e[t+0]]+Xo[e[t+1]]+Xo[e[t+2]]+Xo[e[t+3]]+"-"+Xo[e[t+4]]+Xo[e[t+5]]+"-"+Xo[e[t+6]]+Xo[e[t+7]]+"-"+Xo[e[t+8]]+Xo[e[t+9]]+"-"+Xo[e[t+10]]+Xo[e[t+11]]+Xo[e[t+12]]+Xo[e[t+13]]+Xo[e[t+14]]+Xo[e[t+15]]).toLowerCase()}let mT;const YKe=new Uint8Array(16);function KKe(){if(!mT){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");mT=crypto.getRandomValues.bind(crypto)}return mT(YKe)}const XKe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),GV={randomUUID:XKe};function Nw(e,t,r){var a;if(GV.randomUUID&&!e)return GV.randomUUID();e=e||{};const n=e.random??((a=e.rng)==null?void 0:a.call(e))??KKe();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,GKe(n)}const ZKe=async()=>{const{data:e,error:t}=await Le.from("purchase_orders").select(`
      id,
      po_number,
      order_date,
      expected_delivery_date,
      status,
      total_amount,
      notes,
      created_at,
      updated_at,
      supplier_id,
      created_by,
      suppliers (
        name
      )
    `).order("order_date",{ascending:!1});if(t)throw console.error("Error fetching purchase orders:",t),t;return(e||[]).map(r=>{var n;return{id:r.id,po_number:r.po_number,supplier_id:r.supplier_id,supplier_name:((n=r.suppliers)==null?void 0:n.name)||"N/A",order_date:r.order_date,expected_delivery_date:r.expected_delivery_date,status:r.status,total_amount:r.total_amount,notes:r.notes,created_by:r.created_by,created_at:r.created_at,updated_at:r.updated_at}})},JKe=async()=>{const{data:e,error:t}=await Le.from("suppliers").select("id, name").order("name");if(t)throw console.error("Error fetching suppliers from Supabase:",t),t;return e?e.map(n=>({value:n.id,label:n.name})):[]},NM=async()=>{const{data:e,error:t}=await Le.from("inventory_items").select("id, item_name, category, is_batched, item_code").order("item_name");if(t)throw console.error("Error fetching inventory items from Supabase:",t),t;return e?e.map(n=>({value:n.id,label:n.item_name,category:n.category||void 0,is_batched:n.is_batched||!1,item_code:n.item_code||null})):[]},QKe=async(e,t)=>{const{data:r,error:n}=await Le.rpc("generate_po_number");if(n||!r)throw console.error("Error generating PO number:",n),n||new Error("Failed to generate PO number.");const i={po_number:r,supplier_id:e.supplier_id,order_date:e.order_date.toISOString().split("T")[0],expected_delivery_date:e.expected_delivery_date?e.expected_delivery_date.toISOString().split("T")[0]:null,notes:e.notes||null,status:"Pending",created_by:t||null},{data:o,error:s}=await Le.from("purchase_orders").insert(i).select("id, po_number").single();if(s||!o)throw console.error("Error creating purchase order header:",s),s||new Error("Failed to create purchase order header.");const l=e.items.map(d=>({purchase_order_id:o.id,inventory_item_id:d.inventory_item_id,description:d.description||null,quantity_ordered:d.quantity_ordered,unit_price:d.unit_price})),{error:u}=await Le.from("purchase_order_items").insert(l);if(u)throw console.error("Error creating purchase order items:",u),await Le.from("purchase_orders").delete().match({id:o.id}),u;return{id:o.id,po_number:o.po_number}},_oe=async e=>{var o;const{data:t,error:r}=await Le.from("purchase_orders").select(`
      id,
      po_number,
      order_date,
      expected_delivery_date,
      status,
      total_amount,
      notes,
      created_at,
      updated_at,
      supplier_id,
      created_by,
      suppliers ( name )
    `).eq("id",e).single();if(r){if(console.error(`Error fetching purchase order ${e}:`,r),r.code==="PGRST116")return null;throw r}if(!t)return null;const{data:n,error:a}=await Le.from("purchase_order_items").select(`
      id,
      inventory_item_id,
      description,
      quantity_ordered,
      quantity_received,
      unit_price,
      subtotal,
      inventory_items ( item_name )
    `).eq("purchase_order_id",e);if(a)throw console.error(`Error fetching items for purchase order ${e}:`,a),a;const i=(n||[]).map(s=>{var l,u;return{id:s.id,inventory_item_id:s.inventory_item_id,description:s.description||((l=s.inventory_items)==null?void 0:l.item_name)||"N/A",product_name:((u=s.inventory_items)==null?void 0:u.item_name)||"N/A",quantity_ordered:s.quantity_ordered,quantity_received:s.quantity_received,unit_price:s.unit_price,subtotal:s.subtotal}});return{...t,supplier_name:((o=t.suppliers)==null?void 0:o.name)||"N/A",items:i,status:t.status}},eXe=async e=>{const{data:t,error:r}=await Le.rpc("handle_receive_po_item_batch",{p_po_item_id:e.p_po_item_id,p_quantity_received:e.p_quantity_received,p_batch_number:e.p_batch_number,p_expiry_date:e.p_expiry_date,p_purchase_price:e.p_purchase_price,p_received_by_user_id:e.p_received_by_user_id});if(r)throw console.error("Error receiving PO item batch via RPC:",r),r},tXe=async(e,t,r,n)=>{if(!n)throw new Error("User must be logged in to upload invoices.");if(!r)throw new Error("No file selected for upload.");const a=r.name.split(".").pop(),i=`${Nw()}.${a}`,o=`purchase_invoices/${t}/${i}`,{error:s}=await Le.storage.from("invoices").upload(o,r);if(s)throw console.error("Error uploading invoice file:",s),s;const{error:l}=await Le.from("invoices").insert({file_name:r.name,storage_path:o,uploaded_by_user_id:n,purchase_order_id:e});if(l)throw console.error("Error saving invoice record to database:",l),await Le.storage.from("invoices").remove([o]),l;return{storage_path:o}},YV=async e=>{const{data:t,error:r}=await Le.from("invoices").select("id, file_name, storage_path, uploaded_at, uploaded_by_user_id").eq("purchase_order_id",e).order("uploaded_at",{ascending:!1});if(r)throw console.error("Error fetching invoices for PO:",r),r;return t||[]},rXe=async e=>{const{data:t,error:r}=await Le.storage.from("invoices").createSignedUrl(e,300);return r?(console.error("Error creating signed URL:",r),null):(t==null?void 0:t.signedUrl)||null},nXe=async(e,t)=>{const{error:r}=await Le.from("purchase_orders").update({status:t,updated_at:new Date().toISOString()}).eq("id",e);if(r)throw console.error(`Error updating purchase order ${e} status to ${t}:`,r),r},aXe=()=>{const[e,t]=A.useState([]),[r,n]=A.useState(!0),[a,i]=A.useState(null);A.useEffect(()=>{(async()=>{try{n(!0);const l=await ZKe();t(l),i(null)}catch(l){console.error(l),i("Failed to fetch purchase orders.")}finally{n(!1)}})()},[]);const o=s=>{switch(s){case"Pending":return"outline";case"Ordered":return"secondary";case"Partially Received":return"default";case"Received":return"default";case"Cancelled":return"destructive";default:return"outline"}};return w("div",{className:"container mx-auto p-4",children:[c(Sa,{heading:"Purchase Orders",text:"Manage and track all your purchase orders.",children:w(Vi,{to:"/purchases/create",children:[" ",w(Fe,{children:[c(Ch,{className:"mr-2 h-4 w-4"}),"Create New PO"]})]})}),w("div",{className:"mt-6",children:[r&&c("p",{children:"Loading purchase orders..."}),a&&c("p",{className:"text-red-500",children:a}),!r&&!a&&e.length===0&&c("p",{children:"No purchase orders found."}),!r&&!a&&e.length>0&&w(Fs,{children:[c(Ls,{children:w(Pn,{children:[c(Ht,{children:"PO Number"}),c(Ht,{children:"Supplier"}),c(Ht,{children:"Order Date"}),c(Ht,{children:"Status"}),c(Ht,{className:"text-right",children:"Total Amount"}),c(Ht,{children:"Actions"})]})}),c(js,{children:e.map(s=>{var l;return w(Pn,{children:[c($t,{className:"font-medium",children:s.po_number}),c($t,{children:s.supplier_name}),c($t,{children:new Date(s.order_date).toLocaleDateString()}),c($t,{children:c(Ju,{variant:o(s.status),className:s.status==="Received"?"bg-green-500 hover:bg-green-600 text-white":"",children:s.status})}),c($t,{className:"text-right",children:((l=s.total_amount)==null?void 0:l.toLocaleString("en-IN",{style:"currency",currency:"INR"}))||"N/A"}),c($t,{className:"text-right",children:w(Vi,{to:`/purchases/${s.id}`,children:[" ",c(Fe,{variant:"outline",size:"sm",children:"View"})]})})]},s.id)})})]})]})]})},iXe=je.object({inventory_item_id:je.string().uuid({message:"Please select an inventory item."}),description:je.string().optional(),quantity_ordered:je.number().min(1,{message:"Quantity must be at least 1."}),unit_price:je.number().min(0,{message:"Unit price cannot be negative."})}),oXe=je.object({supplier_id:je.string().uuid({message:"Please select a supplier."}),order_date:je.date({required_error:"Order date is required.",invalid_type_error:"Invalid date format for order date."}),expected_delivery_date:je.date().nullable().optional(),notes:je.string().optional(),items:je.array(iXe).min(1,{message:"Please add at least one item to the purchase order."}),invoice_file:je.custom(e=>e==null||e instanceof File,"Invalid file format").refine(e=>!e||e.size<=5*1024*1024,"File size should be less than 5MB.").refine(e=>!e||["application/pdf","image/png","image/jpeg","image/jpg"].includes(e.type),"Only .pdf, .png, .jpg, .jpeg files are accepted.").optional().nullable()});function Eh(e){return Array.isArray?Array.isArray(e):Aoe(e)==="[object Array]"}function sXe(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function lXe(e){return e==null?"":sXe(e)}function Jd(e){return typeof e=="string"}function boe(e){return typeof e=="number"}function cXe(e){return e===!0||e===!1||uXe(e)&&Aoe(e)=="[object Boolean]"}function Soe(e){return typeof e=="object"}function uXe(e){return Soe(e)&&e!==null}function sc(e){return e!=null}function gT(e){return!e.trim().length}function Aoe(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const dXe="Incorrect 'index' type",fXe=e=>`Invalid value for key ${e}`,hXe=e=>`Pattern length exceeds max of ${e}.`,pXe=e=>`Missing ${e} property in key`,mXe=e=>`Property 'weight' in key '${e}' must be a positive integer`,KV=Object.prototype.hasOwnProperty;class gXe{constructor(t){this._keys=[],this._keyMap={};let r=0;t.forEach(n=>{let a=koe(n);this._keys.push(a),this._keyMap[a.id]=a,r+=a.weight}),this._keys.forEach(n=>{n.weight/=r})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function koe(e){let t=null,r=null,n=null,a=1,i=null;if(Jd(e)||Eh(e))n=e,t=XV(e),r=O8(e);else{if(!KV.call(e,"name"))throw new Error(pXe("name"));const o=e.name;if(n=o,KV.call(e,"weight")&&(a=e.weight,a<=0))throw new Error(mXe(o));t=XV(o),r=O8(o),i=e.getFn}return{path:t,id:r,weight:a,src:n,getFn:i}}function XV(e){return Eh(e)?e:e.split(".")}function O8(e){return Eh(e)?e.join("."):e}function vXe(e,t){let r=[],n=!1;const a=(i,o,s)=>{if(sc(i))if(!o[s])r.push(i);else{let l=o[s];const u=i[l];if(!sc(u))return;if(s===o.length-1&&(Jd(u)||boe(u)||cXe(u)))r.push(lXe(u));else if(Eh(u)){n=!0;for(let d=0,f=u.length;d<f;d+=1)a(u[d],o,s+1)}else o.length&&a(u,o,s+1)}};return a(e,Jd(t)?t.split("."):t,0),n?r:r[0]}const yXe={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},xXe={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},wXe={location:0,threshold:.6,distance:100},_Xe={useExtendedSearch:!1,getFn:vXe,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var on={...xXe,...yXe,...wXe,..._Xe};const bXe=/[^ ]+/g;function SXe(e=1,t=3){const r=new Map,n=Math.pow(10,t);return{get(a){const i=a.match(bXe).length;if(r.has(i))return r.get(i);const o=1/Math.pow(i,.5*e),s=parseFloat(Math.round(o*n)/n);return r.set(i,s),s},clear(){r.clear()}}}class EM{constructor({getFn:t=on.getFn,fieldNormWeight:r=on.fieldNormWeight}={}){this.norm=SXe(r,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((r,n)=>{this._keysMap[r.id]=n})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Jd(this.docs[0])?this.docs.forEach((t,r)=>{this._addString(t,r)}):this.docs.forEach((t,r)=>{this._addObject(t,r)}),this.norm.clear())}add(t){const r=this.size();Jd(t)?this._addString(t,r):this._addObject(t,r)}removeAt(t){this.records.splice(t,1);for(let r=t,n=this.size();r<n;r+=1)this.records[r].i-=1}getValueForItemAtKeyId(t,r){return t[this._keysMap[r]]}size(){return this.records.length}_addString(t,r){if(!sc(t)||gT(t))return;let n={v:t,i:r,n:this.norm.get(t)};this.records.push(n)}_addObject(t,r){let n={i:r,$:{}};this.keys.forEach((a,i)=>{let o=a.getFn?a.getFn(t):this.getFn(t,a.path);if(sc(o)){if(Eh(o)){let s=[];const l=[{nestedArrIndex:-1,value:o}];for(;l.length;){const{nestedArrIndex:u,value:d}=l.pop();if(sc(d))if(Jd(d)&&!gT(d)){let f={v:d,i:u,n:this.norm.get(d)};s.push(f)}else Eh(d)&&d.forEach((f,h)=>{l.push({nestedArrIndex:h,value:f})})}n.$[i]=s}else if(Jd(o)&&!gT(o)){let s={v:o,n:this.norm.get(o)};n.$[i]=s}}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function Noe(e,t,{getFn:r=on.getFn,fieldNormWeight:n=on.fieldNormWeight}={}){const a=new EM({getFn:r,fieldNormWeight:n});return a.setKeys(e.map(koe)),a.setSources(t),a.create(),a}function AXe(e,{getFn:t=on.getFn,fieldNormWeight:r=on.fieldNormWeight}={}){const{keys:n,records:a}=e,i=new EM({getFn:t,fieldNormWeight:r});return i.setKeys(n),i.setIndexRecords(a),i}function Ub(e,{errors:t=0,currentLocation:r=0,expectedLocation:n=0,distance:a=on.distance,ignoreLocation:i=on.ignoreLocation}={}){const o=t/e.length;if(i)return o;const s=Math.abs(n-r);return a?o+s/a:s?1:o}function kXe(e=[],t=on.minMatchCharLength){let r=[],n=-1,a=-1,i=0;for(let o=e.length;i<o;i+=1){let s=e[i];s&&n===-1?n=i:!s&&n!==-1&&(a=i-1,a-n+1>=t&&r.push([n,a]),n=-1)}return e[i-1]&&i-n>=t&&r.push([n,i-1]),r}const T0=32;function NXe(e,t,r,{location:n=on.location,distance:a=on.distance,threshold:i=on.threshold,findAllMatches:o=on.findAllMatches,minMatchCharLength:s=on.minMatchCharLength,includeMatches:l=on.includeMatches,ignoreLocation:u=on.ignoreLocation}={}){if(t.length>T0)throw new Error(hXe(T0));const d=t.length,f=e.length,h=Math.max(0,Math.min(n,f));let m=i,x=h;const g=s>1||l,y=g?Array(f):[];let _;for(;(_=e.indexOf(t,x))>-1;){let P=Ub(t,{currentLocation:_,expectedLocation:h,distance:a,ignoreLocation:u});if(m=Math.min(P,m),x=_+d,g){let I=0;for(;I<d;)y[_+I]=1,I+=1}}x=-1;let b=[],S=1,C=d+f;const E=1<<d-1;for(let P=0;P<d;P+=1){let I=0,L=C;for(;I<L;)Ub(t,{errors:P,currentLocation:h+L,expectedLocation:h,distance:a,ignoreLocation:u})<=m?I=L:C=L,L=Math.floor((C-I)/2+I);C=L;let U=Math.max(1,h-L+1),T=o?f:Math.min(h+L,f)+d,F=Array(T+2);F[T+1]=(1<<P)-1;for(let H=T;H>=U;H-=1){let X=H-1,re=r[e.charAt(X)];if(g&&(y[X]=+!!re),F[H]=(F[H+1]<<1|1)&re,P&&(F[H]|=(b[H+1]|b[H])<<1|1|b[H+1]),F[H]&E&&(S=Ub(t,{errors:P,currentLocation:X,expectedLocation:h,distance:a,ignoreLocation:u}),S<=m)){if(m=S,x=X,x<=h)break;U=Math.max(1,2*h-x)}}if(Ub(t,{errors:P+1,currentLocation:h,expectedLocation:h,distance:a,ignoreLocation:u})>m)break;b=F}const O={isMatch:x>=0,score:Math.max(.001,S)};if(g){const P=kXe(y,s);P.length?l&&(O.indices=P):O.isMatch=!1}return O}function EXe(e){let t={};for(let r=0,n=e.length;r<n;r+=1){const a=e.charAt(r);t[a]=(t[a]||0)|1<<n-r-1}return t}const e4=String.prototype.normalize?e=>e.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):e=>e;class Eoe{constructor(t,{location:r=on.location,threshold:n=on.threshold,distance:a=on.distance,includeMatches:i=on.includeMatches,findAllMatches:o=on.findAllMatches,minMatchCharLength:s=on.minMatchCharLength,isCaseSensitive:l=on.isCaseSensitive,ignoreDiacritics:u=on.ignoreDiacritics,ignoreLocation:d=on.ignoreLocation}={}){if(this.options={location:r,threshold:n,distance:a,includeMatches:i,findAllMatches:o,minMatchCharLength:s,isCaseSensitive:l,ignoreDiacritics:u,ignoreLocation:d},t=l?t:t.toLowerCase(),t=u?e4(t):t,this.pattern=t,this.chunks=[],!this.pattern.length)return;const f=(m,x)=>{this.chunks.push({pattern:m,alphabet:EXe(m),startIndex:x})},h=this.pattern.length;if(h>T0){let m=0;const x=h%T0,g=h-x;for(;m<g;)f(this.pattern.substr(m,T0),m),m+=T0;if(x){const y=h-T0;f(this.pattern.substr(y),y)}}else f(this.pattern,0)}searchIn(t){const{isCaseSensitive:r,ignoreDiacritics:n,includeMatches:a}=this.options;if(t=r?t:t.toLowerCase(),t=n?e4(t):t,this.pattern===t){let g={isMatch:!0,score:0};return a&&(g.indices=[[0,t.length-1]]),g}const{location:i,distance:o,threshold:s,findAllMatches:l,minMatchCharLength:u,ignoreLocation:d}=this.options;let f=[],h=0,m=!1;this.chunks.forEach(({pattern:g,alphabet:y,startIndex:_})=>{const{isMatch:b,score:S,indices:C}=NXe(t,g,y,{location:i+_,distance:o,threshold:s,findAllMatches:l,minMatchCharLength:u,includeMatches:a,ignoreLocation:d});b&&(m=!0),h+=S,b&&C&&(f=[...f,...C])});let x={isMatch:m,score:m?h/this.chunks.length:1};return m&&a&&(x.indices=f),x}}class Bm{constructor(t){this.pattern=t}static isMultiMatch(t){return ZV(t,this.multiRegex)}static isSingleMatch(t){return ZV(t,this.singleRegex)}search(){}}function ZV(e,t){const r=e.match(t);return r?r[1]:null}class CXe extends Bm{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const r=t===this.pattern;return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class PXe extends Bm{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const n=t.indexOf(this.pattern)===-1;return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class TXe extends Bm{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const r=t.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class OXe extends Bm{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const r=!t.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class DXe extends Bm{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const r=t.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class IXe extends Bm{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const r=!t.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class Coe extends Bm{constructor(t,{location:r=on.location,threshold:n=on.threshold,distance:a=on.distance,includeMatches:i=on.includeMatches,findAllMatches:o=on.findAllMatches,minMatchCharLength:s=on.minMatchCharLength,isCaseSensitive:l=on.isCaseSensitive,ignoreDiacritics:u=on.ignoreDiacritics,ignoreLocation:d=on.ignoreLocation}={}){super(t),this._bitapSearch=new Eoe(t,{location:r,threshold:n,distance:a,includeMatches:i,findAllMatches:o,minMatchCharLength:s,isCaseSensitive:l,ignoreDiacritics:u,ignoreLocation:d})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class Poe extends Bm{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let r=0,n;const a=[],i=this.pattern.length;for(;(n=t.indexOf(this.pattern,r))>-1;)r=n+i,a.push([n,r-1]);const o=!!a.length;return{isMatch:o,score:o?0:1,indices:a}}}const D8=[CXe,Poe,TXe,OXe,IXe,DXe,PXe,Coe],JV=D8.length,RXe=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,MXe="|";function FXe(e,t={}){return e.split(MXe).map(r=>{let n=r.trim().split(RXe).filter(i=>i&&!!i.trim()),a=[];for(let i=0,o=n.length;i<o;i+=1){const s=n[i];let l=!1,u=-1;for(;!l&&++u<JV;){const d=D8[u];let f=d.isMultiMatch(s);f&&(a.push(new d(f,t)),l=!0)}if(!l)for(u=-1;++u<JV;){const d=D8[u];let f=d.isSingleMatch(s);if(f){a.push(new d(f,t));break}}}return a})}const LXe=new Set([Coe.type,Poe.type]);class jXe{constructor(t,{isCaseSensitive:r=on.isCaseSensitive,ignoreDiacritics:n=on.ignoreDiacritics,includeMatches:a=on.includeMatches,minMatchCharLength:i=on.minMatchCharLength,ignoreLocation:o=on.ignoreLocation,findAllMatches:s=on.findAllMatches,location:l=on.location,threshold:u=on.threshold,distance:d=on.distance}={}){this.query=null,this.options={isCaseSensitive:r,ignoreDiacritics:n,includeMatches:a,minMatchCharLength:i,findAllMatches:s,ignoreLocation:o,location:l,threshold:u,distance:d},t=r?t:t.toLowerCase(),t=n?e4(t):t,this.pattern=t,this.query=FXe(this.pattern,this.options)}static condition(t,r){return r.useExtendedSearch}searchIn(t){const r=this.query;if(!r)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:a,ignoreDiacritics:i}=this.options;t=a?t:t.toLowerCase(),t=i?e4(t):t;let o=0,s=[],l=0;for(let u=0,d=r.length;u<d;u+=1){const f=r[u];s.length=0,o=0;for(let h=0,m=f.length;h<m;h+=1){const x=f[h],{isMatch:g,indices:y,score:_}=x.search(t);if(g){if(o+=1,l+=_,n){const b=x.constructor.type;LXe.has(b)?s=[...s,...y]:s.push(y)}}else{l=0,o=0,s.length=0;break}}if(o){let h={isMatch:!0,score:l/o};return n&&(h.indices=s),h}}return{isMatch:!1,score:1}}}const I8=[];function $Xe(...e){I8.push(...e)}function R8(e,t){for(let r=0,n=I8.length;r<n;r+=1){let a=I8[r];if(a.condition(e,t))return new a(e,t)}return new Eoe(e,t)}const t4={AND:"$and",OR:"$or"},M8={PATH:"$path",PATTERN:"$val"},F8=e=>!!(e[t4.AND]||e[t4.OR]),BXe=e=>!!e[M8.PATH],UXe=e=>!Eh(e)&&Soe(e)&&!F8(e),QV=e=>({[t4.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function Toe(e,t,{auto:r=!0}={}){const n=a=>{let i=Object.keys(a);const o=BXe(a);if(!o&&i.length>1&&!F8(a))return n(QV(a));if(UXe(a)){const l=o?a[M8.PATH]:i[0],u=o?a[M8.PATTERN]:a[l];if(!Jd(u))throw new Error(fXe(l));const d={keyId:O8(l),pattern:u};return r&&(d.searcher=R8(u,t)),d}let s={children:[],operator:i[0]};return i.forEach(l=>{const u=a[l];Eh(u)&&u.forEach(d=>{s.children.push(n(d))})}),s};return F8(e)||(e=QV(e)),n(e)}function qXe(e,{ignoreFieldNorm:t=on.ignoreFieldNorm}){e.forEach(r=>{let n=1;r.matches.forEach(({key:a,norm:i,score:o})=>{const s=a?a.weight:null;n*=Math.pow(o===0&&s?Number.EPSILON:o,(s||1)*(t?1:i))}),r.score=n})}function zXe(e,t){const r=e.matches;t.matches=[],sc(r)&&r.forEach(n=>{if(!sc(n.indices)||!n.indices.length)return;const{indices:a,value:i}=n;let o={indices:a,value:i};n.key&&(o.key=n.key.src),n.idx>-1&&(o.refIndex=n.idx),t.matches.push(o)})}function WXe(e,t){t.score=e.score}function VXe(e,t,{includeMatches:r=on.includeMatches,includeScore:n=on.includeScore}={}){const a=[];return r&&a.push(zXe),n&&a.push(WXe),e.map(i=>{const{idx:o}=i,s={item:t[o],refIndex:o};return a.length&&a.forEach(l=>{l(i,s)}),s})}class Ey{constructor(t,r={},n){this.options={...on,...r},this.options.useExtendedSearch,this._keyStore=new gXe(this.options.keys),this.setCollection(t,n)}setCollection(t,r){if(this._docs=t,r&&!(r instanceof EM))throw new Error(dXe);this._myIndex=r||Noe(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){sc(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const r=[];for(let n=0,a=this._docs.length;n<a;n+=1){const i=this._docs[n];t(i,n)&&(this.removeAt(n),n-=1,a-=1,r.push(i))}return r}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:r=-1}={}){const{includeMatches:n,includeScore:a,shouldSort:i,sortFn:o,ignoreFieldNorm:s}=this.options;let l=Jd(t)?Jd(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return qXe(l,{ignoreFieldNorm:s}),i&&l.sort(o),boe(r)&&r>-1&&(l=l.slice(0,r)),VXe(l,this._docs,{includeMatches:n,includeScore:a})}_searchStringList(t){const r=R8(t,this.options),{records:n}=this._myIndex,a=[];return n.forEach(({v:i,i:o,n:s})=>{if(!sc(i))return;const{isMatch:l,score:u,indices:d}=r.searchIn(i);l&&a.push({item:i,idx:o,matches:[{score:u,value:i,norm:s,indices:d}]})}),a}_searchLogical(t){const r=Toe(t,this.options),n=(s,l,u)=>{if(!s.children){const{keyId:f,searcher:h}=s,m=this._findMatches({key:this._keyStore.get(f),value:this._myIndex.getValueForItemAtKeyId(l,f),searcher:h});return m&&m.length?[{idx:u,item:l,matches:m}]:[]}const d=[];for(let f=0,h=s.children.length;f<h;f+=1){const m=s.children[f],x=n(m,l,u);if(x.length)d.push(...x);else if(s.operator===t4.AND)return[]}return d},a=this._myIndex.records,i={},o=[];return a.forEach(({$:s,i:l})=>{if(sc(s)){let u=n(r,s,l);u.length&&(i[l]||(i[l]={idx:l,item:s,matches:[]},o.push(i[l])),u.forEach(({matches:d})=>{i[l].matches.push(...d)}))}}),o}_searchObjectList(t){const r=R8(t,this.options),{keys:n,records:a}=this._myIndex,i=[];return a.forEach(({$:o,i:s})=>{if(!sc(o))return;let l=[];n.forEach((u,d)=>{l.push(...this._findMatches({key:u,value:o[d],searcher:r}))}),l.length&&i.push({idx:s,item:o,matches:l})}),i}_findMatches({key:t,value:r,searcher:n}){if(!sc(r))return[];let a=[];if(Eh(r))r.forEach(({v:i,i:o,n:s})=>{if(!sc(i))return;const{isMatch:l,score:u,indices:d}=n.searchIn(i);l&&a.push({score:u,key:t,value:i,idx:o,norm:s,indices:d})});else{const{v:i,n:o}=r,{isMatch:s,score:l,indices:u}=n.searchIn(i);s&&a.push({score:l,key:t,value:i,norm:o,indices:u})}return a}}Ey.version="7.1.0";Ey.createIndex=Noe;Ey.parseIndex=AXe;Ey.config=on;Ey.parseQuery=Toe;$Xe(jXe);const HXe={includeScore:!0,shouldSort:!0,minMatchCharLength:2,threshold:.4,keys:["name"]},r4=(e,t)=>{if(!e||t.length===0)return{bestMatch:null,bestMatchScore:void 0,allMatches:[]};const n=new Ey(t,HXe).search(e);return n.length>0&&n[0].score!==void 0?{bestMatch:n[0].item,bestMatchScore:n[0].score,allMatches:n}:n.length>0?{bestMatch:n[0].item,bestMatchScore:void 0,allMatches:n}:{bestMatch:null,bestMatchScore:void 0,allMatches:[]}},eH=(e,t)=>e.map((r,n)=>{const{bestMatch:a,bestMatchScore:i,allMatches:o}=r4(r.name,t);return{originalOcrItemName:r.name,ocrItemIndex:n,bestMatch:a,bestMatchScore:i,allMatches:o}}),GXe="purchase_invoices",Ooe=async(e,t)=>{const r=e.name.split(".").pop(),a=`${`${t?t+"_":""}${Date.now()}.${r}`}`,{data:i,error:o}=await Le.storage.from(GXe).upload(a,e,{cacheControl:"3600",upsert:!1});if(o)throw console.error("Error uploading invoice file:",o),new Error(`Failed to upload invoice file: ${o.message}`);if(!i||!i.path)throw console.error("No path returned from storage upload"),new Error("Failed to upload invoice file: No path returned.");return i.path},Doe=async e=>{const{data:t,error:r}=await Le.from("invoices").insert({supplier_id:e.supplier_id,invoice_date:e.invoice_date,total_amount:e.total_amount,status:e.status||"pending",notes:e.notes,purchase_order_id:e.purchase_order_id,invoice_url:e.file_path}).select().single();if(r)throw console.error("Error creating invoice record:",r),new Error(`Failed to create invoice record: ${r.message}`);if(!t)throw new Error("Failed to create invoice record: No data returned.");return t},YXe=()=>{const e=Bo(),{toast:t}=yn(),{user:r}=si(),[n,a]=A.useState([]),[i,o]=A.useState([]),[s,l]=A.useState([]),[u,d]=A.useState(!1),[f,h]=A.useState(!1),[m,x]=A.useState(null),[g,y]=A.useState(null),_=ld({resolver:cd(oXe),defaultValues:{supplier_id:"",order_date:new Date,expected_delivery_date:null,notes:"",items:[{inventory_item_id:"",quantity_ordered:1,unit_price:0,description:""}],invoice_file:null}}),{fields:b,append:S,remove:C,update:E}=kS({control:_.control,name:"items"});A.useEffect(()=>{(async()=>{try{const[T,F]=await Promise.all([JKe(),NM()]);a(T),o(F),l(F.map(j=>({id:j.value,name:j.label})))}catch{t({variant:"destructive",title:"Error fetching data",description:"Could not load suppliers or inventory items."})}})()},[t]);const O=async U=>{if(!(r!=null&&r.id)){t({variant:"destructive",title:"Authentication Error",description:"User ID not found."});return}d(!0);try{const T=await QKe(U,r.id);if(t({title:"Purchase Order Created",description:`PO #${T.po_number} has been successfully created.`}),U.invoice_file&&m)try{t({title:"Processing Invoice",description:"Uploading invoice file..."});const F=await Ooe(U.invoice_file,T.po_number);await Doe({file_path:F,purchase_order_id:T.id,supplier_id:U.supplier_id,invoice_date:m.invoice_date?new Date(m.invoice_date).toISOString().split("T")[0]:null,total_amount:m.total_amount,notes:`Invoice auto-linked from AI OCR. AI OCR Supplier: ${m.supplier_name||"N/A"}. AI OCR Date: ${m.invoice_date||"N/A"}. AI OCR Total: ${m.total_amount||"N/A"}`,file_name:U.invoice_file.name}),t({title:"Invoice Linked",description:`Invoice ${U.invoice_file.name} linked to PO #${T.po_number}.`})}catch(F){console.error("Failed to link invoice to PO:",F),t({variant:"destructive",title:"Invoice Linking Failed",description:(F==null?void 0:F.message)||"Could not link the uploaded invoice to the PO."})}e(`/purchases/${T.id}`)}catch(T){console.error("Failed to create PO:",T),t({variant:"destructive",title:"Failed to create Purchase Order",description:(T==null?void 0:T.message)||"An unexpected error occurred."})}finally{d(!1)}},P=(U,T)=>{const F=i.find(j=>j.value===T);F&&E(U,{..._.getValues(`items.${U}`),inventory_item_id:T,description:F.label})},I=async U=>{if(_.setValue("invoice_file",U,{shouldValidate:!0}),y(null),x(null),U){h(!0),t({title:"Processing Invoice",description:"Extracting data via AI, please wait..."});try{const T=new FileReader;T.readAsDataURL(U),T.onloadend=async()=>{const F=T.result,{data:j,error:H}=await Le.functions.invoke("ocr-invoice-parser",{body:{image_data_urls:[F],file_type:U.type}});if(H)throw H;const X=j;x(X);const re=n.map(q=>({id:q.value,name:q.label})),z=X.supplier_name?r4(X.supplier_name,re):null,G=(X.items||[]).map(q=>{const{bestMatch:K,allMatches:J,bestMatchScore:D}=r4(q.description,s);return{...q,inventoryItemId:(K==null?void 0:K.id.toString())||null,matchDetails:{originalOcrItemName:q.description,ocrItemIndex:-1,bestMatch:K,bestMatchScore:D,allMatches:J}}});y({...X,items:G,matchedSupplier:(z==null?void 0:z.bestMatch)||null}),t({title:"Invoice Scanned by AI",description:"Review extracted data below to pre-fill form."}),h(!1)},T.onerror=F=>{console.error("File reading error:",F),t({variant:"destructive",title:"File Error",description:"Could not read file for OCR."}),h(!1)}}catch(T){console.error("AI OCR processing failed:",T),t({variant:"destructive",title:"AI OCR Error",description:T.message||"Failed to process invoice with AI."}),h(!1)}}},L=()=>{var U;if(g){if((U=g.matchedSupplier)!=null&&U.id&&_.setValue("supplier_id",g.matchedSupplier.id.toString(),{shouldValidate:!0}),g.invoice_date)try{const T=new Date(g.invoice_date);isNaN(T.getTime())?t({variant:"destructive",title:"Invalid Date",description:"AI OCR extracted an invalid date format."}):_.setValue("order_date",T,{shouldValidate:!0})}catch{t({variant:"destructive",title:"Date Error",description:"Could not parse AI OCR date."})}g.items.length>0&&(b.forEach((T,F)=>C(F)),g.items.forEach(T=>{var F;S({inventory_item_id:T.inventoryItemId||"",description:T.inventoryItemId&&((F=i.find(j=>j.value===T.inventoryItemId))==null?void 0:F.label)||T.description,quantity_ordered:T.quantity||1,unit_price:T.unit_price||0})})),t({title:"OCR Data Applied",description:"Form has been pre-filled with data from invoice."}),y(null)}};return w("div",{className:"container mx-auto p-4",children:[c(Sa,{heading:"Create New Purchase Order",text:"Fill in the details to create a new purchase order."}),w(Rh,{..._,children:[" ",w("form",{onSubmit:_.handleSubmit(O),className:"space-y-8 mt-6",children:[w("div",{className:"my-6 p-6 border rounded-lg shadow-sm",children:[c("h3",{className:"text-xl font-semibold mb-4",children:"Upload Invoice (Optional)"}),c(He,{control:_.control,name:"invoice_file",render:({field:U})=>w(De,{children:[c(Oe,{children:"Invoice Document"})," ",c(Me,{children:c(nm,{value:U.value,onFileChange:I,accept:"image/png,image/jpeg,image/jpg,application/pdf",maxSize:5,disabled:f})}),c(Ai,{children:"Upload an invoice image (PNG, JPG) or PDF. OCR pre-fill currently only supports images."}),c(Ze,{})]})}),f&&c("p",{className:"text-sm text-muted-foreground mt-2",children:"Processing invoice..."}),g&&!f&&w("div",{className:"mt-4 p-4 border rounded-md bg-muted/50 space-y-3",children:[c("h4",{className:"text-lg font-medium",children:"Extracted Invoice Data:"}),g.matchedSupplier&&w("p",{children:["Supplier: ",g.matchedSupplier.name," (Matched by AI & Fuzzy Search)"]}),!g.matchedSupplier&&g.supplier_name&&w("p",{children:["Supplier (AI OCR): ",g.supplier_name]}),g.invoice_date&&w("p",{children:["Date: ",g.invoice_date]}),g.total_amount&&w("p",{children:["Total: ",g.total_amount]}),w("p",{className:"font-medium mt-2",children:["Items (",g.items.length,"):"]}),w("ul",{className:"list-disc pl-5 text-sm",children:[g.items.slice(0,5).map((U,T)=>{var F;return w("li",{children:[U.description," (Qty: ",U.quantity??"N/A",", Price: ",U.unit_price??"N/A",")",U.inventoryItemId&&i.find(j=>j.value===U.inventoryItemId)&&w("span",{className:"text-green-600 ml-2",children:["(Matched: ",(F=i.find(j=>j.value===U.inventoryItemId))==null?void 0:F.label,")"]}),!U.inventoryItemId&&c("span",{className:"text-orange-600 ml-2",children:"(No direct match)"})]},T)}),g.items.length>5&&c("li",{children:"...and more"})]}),c(Fe,{type:"button",onClick:L,className:"mt-3",children:"Apply OCR Data to Form"})]})]}),c(am,{className:"my-8"}),w("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c(He,{control:_.control,name:"supplier_id",render:({field:U})=>w(De,{children:[c(Oe,{children:"Supplier"}),w(zr,{onValueChange:U.onChange,defaultValue:U.value,children:[c(Me,{children:c($r,{children:c(Wr,{placeholder:"Select a supplier"})})}),c(Br,{children:n.map(T=>c(_t,{value:T.value,children:T.label},T.value))})]}),c(Ze,{})]})}),c(He,{control:_.control,name:"order_date",render:({field:U})=>w(De,{className:"flex flex-col",children:[c(Oe,{children:"Order Date"}),w(hg,{children:[c(pg,{asChild:!0,children:c(Me,{children:w(Fe,{variant:"outline",className:Rt("w-full pl-3 text-left font-normal",!U.value&&"text-muted-foreground"),children:[U.value?new Date(U.value).toLocaleDateString():c("span",{children:"Pick a date"}),c(Lo,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),c(vm,{className:"w-auto p-0",align:"start",children:c(ym,{mode:"single",selected:U.value,onSelect:U.onChange,initialFocus:!0})})]}),c(Ze,{})]})}),c(He,{control:_.control,name:"expected_delivery_date",render:({field:U})=>w(De,{className:"flex flex-col",children:[c(Oe,{children:"Expected Delivery Date (Optional)"}),w(hg,{children:[c(pg,{asChild:!0,children:c(Me,{children:w(Fe,{variant:"outline",className:Rt("w-full pl-3 text-left font-normal",!U.value&&"text-muted-foreground"),children:[U.value?new Date(U.value).toLocaleDateString():c("span",{children:"Pick a date"}),c(Lo,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),c(vm,{className:"w-auto p-0",align:"start",children:c(ym,{mode:"single",selected:U.value||void 0,onSelect:U.onChange})})]}),c(Ze,{})]})})]}),c(He,{control:_.control,name:"notes",render:({field:U})=>w(De,{children:[c(Oe,{children:"Notes (Optional)"}),c(Me,{children:c(Jr,{placeholder:"Any additional notes for this purchase order",...U})}),c(Ze,{})]})}),w("div",{className:"space-y-4",children:[c(Xt,{className:"text-lg font-semibold",children:"Order Items"}),b.map((U,T)=>w("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4 border p-4 rounded-md relative",children:[c("div",{className:"md:col-span-4",children:c(He,{control:_.control,name:`items.${T}.inventory_item_id`,render:({field:F})=>w(De,{children:[c(Oe,{children:"Item"}),w(zr,{onValueChange:j=>{F.onChange(j),P(T,j)},defaultValue:F.value,children:[c(Me,{children:c($r,{children:c(Wr,{placeholder:"Select an item"})})}),c(Br,{children:i.map(j=>w(_t,{value:j.value,children:[j.label," ",j.category?`(${j.category})`:""]},j.value))})]}),(()=>{const j=_.getValues(`items.${T}.inventory_item_id`),H=i.find(X=>X.value===j);return H!=null&&H.item_code?w("p",{className:"text-xs text-muted-foreground mt-1",children:["Code: ",H.item_code]}):null})(),c(Ze,{})]})})}),c("div",{className:"md:col-span-3",children:c(He,{control:_.control,name:`items.${T}.description`,render:({field:F})=>w(De,{children:[c(Oe,{children:"Description"}),c(Me,{children:c(ct,{placeholder:"Item description",...F})}),c(Ze,{})]})})}),c("div",{className:"md:col-span-2",children:c(He,{control:_.control,name:`items.${T}.quantity_ordered`,render:({field:F})=>w(De,{children:[c(Oe,{children:"Quantity"}),c(Me,{children:c(ct,{type:"number",placeholder:"Qty",...F,onChange:j=>F.onChange(parseInt(j.target.value,10)||0)})}),c(Ze,{})]})})}),c("div",{className:"md:col-span-2",children:c(He,{control:_.control,name:`items.${T}.unit_price`,render:({field:F})=>w(De,{children:[c(Oe,{children:"Unit Price"}),c(Me,{children:c(ct,{type:"number",step:"0.01",placeholder:"Price",...F,onChange:j=>F.onChange(parseFloat(j.target.value)||0)})}),c(Ze,{})]})})}),c("div",{className:"md:col-span-1 flex items-end",children:b.length>1&&c(Fe,{type:"button",variant:"destructive",size:"icon",onClick:()=>C(T),children:c(om,{className:"h-4 w-4"})})})]},U.id)),w(Fe,{type:"button",variant:"outline",onClick:()=>S({inventory_item_id:"",quantity_ordered:1,unit_price:0,description:""}),children:[c(Ch,{className:"mr-2 h-4 w-4"})," Add Item"]})]}),w("div",{className:"flex justify-end space-x-2",children:[c(Fe,{type:"button",variant:"outline",onClick:()=>e("/purchases"),disabled:u,children:"Cancel"}),c(Fe,{type:"submit",disabled:u,children:u?"Creating...":"Create Purchase Order"})]})]})]})]})};var vT={exports:{}},tH;function KXe(){return tH||(tH=1,function(e){var t=function(r){var n=Object.prototype,a=n.hasOwnProperty,i=Object.defineProperty||function(q,K,J){q[K]=J.value},o,s=typeof Symbol=="function"?Symbol:{},l=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",d=s.toStringTag||"@@toStringTag";function f(q,K,J){return Object.defineProperty(q,K,{value:J,enumerable:!0,configurable:!0,writable:!0}),q[K]}try{f({},"")}catch{f=function(K,J,D){return K[J]=D}}function h(q,K,J,D){var Y=K&&K.prototype instanceof S?K:S,Q=Object.create(Y.prototype),ie=new re(D||[]);return i(Q,"_invoke",{value:F(q,J,ie)}),Q}r.wrap=h;function m(q,K,J){try{return{type:"normal",arg:q.call(K,J)}}catch(D){return{type:"throw",arg:D}}}var x="suspendedStart",g="suspendedYield",y="executing",_="completed",b={};function S(){}function C(){}function E(){}var O={};f(O,l,function(){return this});var P=Object.getPrototypeOf,I=P&&P(P(z([])));I&&I!==n&&a.call(I,l)&&(O=I);var L=E.prototype=S.prototype=Object.create(O);C.prototype=E,i(L,"constructor",{value:E,configurable:!0}),i(E,"constructor",{value:C,configurable:!0}),C.displayName=f(E,d,"GeneratorFunction");function U(q){["next","throw","return"].forEach(function(K){f(q,K,function(J){return this._invoke(K,J)})})}r.isGeneratorFunction=function(q){var K=typeof q=="function"&&q.constructor;return K?K===C||(K.displayName||K.name)==="GeneratorFunction":!1},r.mark=function(q){return Object.setPrototypeOf?Object.setPrototypeOf(q,E):(q.__proto__=E,f(q,d,"GeneratorFunction")),q.prototype=Object.create(L),q},r.awrap=function(q){return{__await:q}};function T(q,K){function J(Q,ie,se,te){var de=m(q[Q],q,ie);if(de.type==="throw")te(de.arg);else{var Z=de.arg,ce=Z.value;return ce&&typeof ce=="object"&&a.call(ce,"__await")?K.resolve(ce.__await).then(function(oe){J("next",oe,se,te)},function(oe){J("throw",oe,se,te)}):K.resolve(ce).then(function(oe){Z.value=oe,se(Z)},function(oe){return J("throw",oe,se,te)})}}var D;function Y(Q,ie){function se(){return new K(function(te,de){J(Q,ie,te,de)})}return D=D?D.then(se,se):se()}i(this,"_invoke",{value:Y})}U(T.prototype),f(T.prototype,u,function(){return this}),r.AsyncIterator=T,r.async=function(q,K,J,D,Y){Y===void 0&&(Y=Promise);var Q=new T(h(q,K,J,D),Y);return r.isGeneratorFunction(K)?Q:Q.next().then(function(ie){return ie.done?ie.value:Q.next()})};function F(q,K,J){var D=x;return function(Q,ie){if(D===y)throw new Error("Generator is already running");if(D===_){if(Q==="throw")throw ie;return G()}for(J.method=Q,J.arg=ie;;){var se=J.delegate;if(se){var te=j(se,J);if(te){if(te===b)continue;return te}}if(J.method==="next")J.sent=J._sent=J.arg;else if(J.method==="throw"){if(D===x)throw D=_,J.arg;J.dispatchException(J.arg)}else J.method==="return"&&J.abrupt("return",J.arg);D=y;var de=m(q,K,J);if(de.type==="normal"){if(D=J.done?_:g,de.arg===b)continue;return{value:de.arg,done:J.done}}else de.type==="throw"&&(D=_,J.method="throw",J.arg=de.arg)}}}function j(q,K){var J=K.method,D=q.iterator[J];if(D===o)return K.delegate=null,J==="throw"&&q.iterator.return&&(K.method="return",K.arg=o,j(q,K),K.method==="throw")||J!=="return"&&(K.method="throw",K.arg=new TypeError("The iterator does not provide a '"+J+"' method")),b;var Y=m(D,q.iterator,K.arg);if(Y.type==="throw")return K.method="throw",K.arg=Y.arg,K.delegate=null,b;var Q=Y.arg;if(!Q)return K.method="throw",K.arg=new TypeError("iterator result is not an object"),K.delegate=null,b;if(Q.done)K[q.resultName]=Q.value,K.next=q.nextLoc,K.method!=="return"&&(K.method="next",K.arg=o);else return Q;return K.delegate=null,b}U(L),f(L,d,"Generator"),f(L,l,function(){return this}),f(L,"toString",function(){return"[object Generator]"});function H(q){var K={tryLoc:q[0]};1 in q&&(K.catchLoc=q[1]),2 in q&&(K.finallyLoc=q[2],K.afterLoc=q[3]),this.tryEntries.push(K)}function X(q){var K=q.completion||{};K.type="normal",delete K.arg,q.completion=K}function re(q){this.tryEntries=[{tryLoc:"root"}],q.forEach(H,this),this.reset(!0)}r.keys=function(q){var K=Object(q),J=[];for(var D in K)J.push(D);return J.reverse(),function Y(){for(;J.length;){var Q=J.pop();if(Q in K)return Y.value=Q,Y.done=!1,Y}return Y.done=!0,Y}};function z(q){if(q){var K=q[l];if(K)return K.call(q);if(typeof q.next=="function")return q;if(!isNaN(q.length)){var J=-1,D=function Y(){for(;++J<q.length;)if(a.call(q,J))return Y.value=q[J],Y.done=!1,Y;return Y.value=o,Y.done=!0,Y};return D.next=D}}return{next:G}}r.values=z;function G(){return{value:o,done:!0}}return re.prototype={constructor:re,reset:function(q){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(X),!q)for(var K in this)K.charAt(0)==="t"&&a.call(this,K)&&!isNaN(+K.slice(1))&&(this[K]=o)},stop:function(){this.done=!0;var q=this.tryEntries[0],K=q.completion;if(K.type==="throw")throw K.arg;return this.rval},dispatchException:function(q){if(this.done)throw q;var K=this;function J(te,de){return Q.type="throw",Q.arg=q,K.next=te,de&&(K.method="next",K.arg=o),!!de}for(var D=this.tryEntries.length-1;D>=0;--D){var Y=this.tryEntries[D],Q=Y.completion;if(Y.tryLoc==="root")return J("end");if(Y.tryLoc<=this.prev){var ie=a.call(Y,"catchLoc"),se=a.call(Y,"finallyLoc");if(ie&&se){if(this.prev<Y.catchLoc)return J(Y.catchLoc,!0);if(this.prev<Y.finallyLoc)return J(Y.finallyLoc)}else if(ie){if(this.prev<Y.catchLoc)return J(Y.catchLoc,!0)}else if(se){if(this.prev<Y.finallyLoc)return J(Y.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(q,K){for(var J=this.tryEntries.length-1;J>=0;--J){var D=this.tryEntries[J];if(D.tryLoc<=this.prev&&a.call(D,"finallyLoc")&&this.prev<D.finallyLoc){var Y=D;break}}Y&&(q==="break"||q==="continue")&&Y.tryLoc<=K&&K<=Y.finallyLoc&&(Y=null);var Q=Y?Y.completion:{};return Q.type=q,Q.arg=K,Y?(this.method="next",this.next=Y.finallyLoc,b):this.complete(Q)},complete:function(q,K){if(q.type==="throw")throw q.arg;return q.type==="break"||q.type==="continue"?this.next=q.arg:q.type==="return"?(this.rval=this.arg=q.arg,this.method="return",this.next="end"):q.type==="normal"&&K&&(this.next=K),b},finish:function(q){for(var K=this.tryEntries.length-1;K>=0;--K){var J=this.tryEntries[K];if(J.finallyLoc===q)return this.complete(J.completion,J.afterLoc),X(J),b}},catch:function(q){for(var K=this.tryEntries.length-1;K>=0;--K){var J=this.tryEntries[K];if(J.tryLoc===q){var D=J.completion;if(D.type==="throw"){var Y=D.arg;X(J)}return Y}}throw new Error("illegal catch attempt")},delegateYield:function(q,K,J){return this.delegate={iterator:z(q),resultName:K,nextLoc:J},this.method==="next"&&(this.arg=o),b}},r}(e.exports);try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}(vT)),vT.exports}var yT,rH;function CM(){return rH||(rH=1,yT=(e,t)=>`${e}-${t}-${Math.random().toString(16).slice(3,8)}`),yT}var xT,nH;function Ioe(){if(nH)return xT;nH=1;const e=CM();let t=0;return xT=({id:r,action:n,payload:a={}})=>{let i=r;return typeof i>"u"&&(i=e("Job",t),t+=1),{id:i,action:n,payload:a}},xT}var y2={},aH;function PM(){if(aH)return y2;aH=1;let e=!1;return y2.logging=e,y2.setLogging=t=>{e=t},y2.log=(...t)=>e?console.log.apply(this,t):null,y2}var wT,iH;function XXe(){if(iH)return wT;iH=1;const e=Ioe(),{log:t}=PM(),r=CM();let n=0;return wT=()=>{const a=r("Scheduler",n),i={},o={};let s=[];n+=1;const l=()=>s.length,u=()=>Object.keys(i).length,d=()=>{if(s.length!==0){const g=Object.keys(i);for(let y=0;y<g.length;y+=1)if(typeof o[g[y]]>"u"){s[0](i[g[y]]);break}}},f=(g,y)=>new Promise((_,b)=>{const S=e({action:g,payload:y});s.push(async C=>{s.shift(),o[C.id]=S;try{_(await C[g].apply(this,[...y,S.id]))}catch(E){b(E)}finally{delete o[C.id],d()}}),t(`[${a}]: Add ${S.id} to JobQueue`),t(`[${a}]: JobQueue length=${s.length}`),d()});return{addWorker:g=>(i[g.id]=g,t(`[${a}]: Add ${g.id}`),t(`[${a}]: Number of workers=${u()}`),d(),g.id),addJob:async(g,...y)=>{if(u()===0)throw Error(`[${a}]: You need to have at least one worker before adding jobs`);return f(g,y)},terminate:async()=>{Object.keys(i).forEach(async g=>{await i[g].terminate()}),s=[]},getQueueLen:l,getNumWorkers:u}},wT}function ZXe(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var _T,oH;function JXe(){return oH||(oH=1,_T=e=>{const t={};return typeof WorkerGlobalScope<"u"?t.type="webworker":typeof document=="object"?t.type="browser":typeof process=="object"&&typeof ZXe=="function"&&(t.type="node"),typeof e>"u"?t:t[e]}),_T}var bT,sH;function QXe(){if(sH)return bT;sH=1;const t=JXe()("type")==="browser"?r=>new URL(r,window.location.href).href:r=>r;return bT=r=>{const n={...r};return["corePath","workerPath","langPath"].forEach(a=>{r[a]&&(n[a]=t(n[a]))}),n},bT}var ST,lH;function Roe(){return lH||(lH=1,ST={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3}),ST}const eZe="6.0.1",tZe={version:eZe};var AT,cH;function rZe(){return cH||(cH=1,AT={workerBlobURL:!0,logger:()=>{}}),AT}var kT,uH;function nZe(){if(uH)return kT;uH=1;const e=tZe.version;return kT={...rZe(),workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${e}/dist/worker.min.js`},kT}var NT,dH;function aZe(){return dH||(dH=1,NT=({workerPath:e,workerBlobURL:t})=>{let r;if(Blob&&URL&&t){const n=new Blob([`importScripts("${e}");`],{type:"application/javascript"});r=new Worker(URL.createObjectURL(n))}else r=new Worker(e);return r}),NT}var ET,fH;function iZe(){return fH||(fH=1,ET=e=>{e.terminate()}),ET}var CT,hH;function oZe(){return hH||(hH=1,CT=(e,t)=>{e.onmessage=({data:r})=>{t(r)}}),CT}var PT,pH;function sZe(){return pH||(pH=1,PT=async(e,t)=>{e.postMessage(t)}),PT}var TT,mH;function lZe(){if(mH)return TT;mH=1;const e=r=>new Promise((n,a)=>{const i=new FileReader;i.onload=()=>{n(i.result)},i.onerror=({target:{error:{code:o}}})=>{a(Error(`File could not be read! Code=${o}`))},i.readAsArrayBuffer(r)}),t=async r=>{let n=r;if(typeof r>"u")return"undefined";if(typeof r=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(r)?n=atob(r.split(",")[1]).split("").map(a=>a.charCodeAt(0)):n=await(await fetch(r)).arrayBuffer();else if(typeof HTMLElement<"u"&&r instanceof HTMLElement)r.tagName==="IMG"&&(n=await t(r.src)),r.tagName==="VIDEO"&&(n=await t(r.poster)),r.tagName==="CANVAS"&&await new Promise(a=>{r.toBlob(async i=>{n=await e(i),a()})});else if(typeof OffscreenCanvas<"u"&&r instanceof OffscreenCanvas){const a=await r.convertToBlob();n=await e(a)}else(r instanceof File||r instanceof Blob)&&(n=await e(r));return new Uint8Array(n)};return TT=t,TT}var OT,gH;function cZe(){if(gH)return OT;gH=1;const e=nZe(),t=aZe(),r=iZe(),n=oZe(),a=sZe(),i=lZe();return OT={defaultOptions:e,spawnWorker:t,terminateWorker:r,onMessage:n,send:a,loadImage:i},OT}var DT,vH;function Moe(){if(vH)return DT;vH=1;const e=QXe(),t=Ioe(),{log:r}=PM(),n=CM(),a=Roe(),{defaultOptions:i,spawnWorker:o,terminateWorker:s,onMessage:l,loadImage:u,send:d}=cZe();let f=0;return DT=async(h="eng",m=a.LSTM_ONLY,x={},g={})=>{const y=n("Worker",f),{logger:_,errorHandler:b,...S}=e({...i,...x}),C={},E=typeof h=="string"?h.split("+"):h;let O=m,P=g;const I=[a.DEFAULT,a.LSTM_ONLY].includes(m)&&!S.legacyCore;let L,U;const T=new Promise((Z,ce)=>{U=Z,L=ce}),F=Z=>{L(Z.message)};let j=o(S);j.onerror=F,f+=1;const H=({id:Z,action:ce,payload:oe})=>new Promise((ae,Ne)=>{r(`[${y}]: Start ${Z}, action=${ce}`);const Ie=`${ce}-${Z}`;C[Ie]={resolve:ae,reject:Ne},d(j,{workerId:y,jobId:Z,action:ce,payload:oe})}),X=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),re=Z=>H(t({id:Z,action:"load",payload:{options:{lstmOnly:I,corePath:S.corePath,logging:S.logging}}})),z=(Z,ce,oe)=>H(t({id:oe,action:"FS",payload:{method:"writeFile",args:[Z,ce]}})),G=(Z,ce)=>H(t({id:ce,action:"FS",payload:{method:"readFile",args:[Z,{encoding:"utf8"}]}})),q=(Z,ce)=>H(t({id:ce,action:"FS",payload:{method:"unlink",args:[Z]}})),K=(Z,ce,oe)=>H(t({id:oe,action:"FS",payload:{method:Z,args:ce}})),J=(Z,ce)=>H(t({id:ce,action:"loadLanguage",payload:{langs:Z,options:{langPath:S.langPath,dataPath:S.dataPath,cachePath:S.cachePath,cacheMethod:S.cacheMethod,gzip:S.gzip,lstmOnly:[a.DEFAULT,a.LSTM_ONLY].includes(O)&&!S.legacyLang}}})),D=(Z,ce,oe,ae)=>H(t({id:ae,action:"initialize",payload:{langs:Z,oem:ce,config:oe}})),Y=(Z="eng",ce,oe,ae)=>{if(I&&[a.TESSERACT_ONLY,a.TESSERACT_LSTM_COMBINED].includes(ce))throw Error("Legacy model requested but code missing.");const Ne=ce||O;O=Ne;const Ie=oe||P;P=Ie;const he=(typeof Z=="string"?Z.split("+"):Z).filter(Ge=>!E.includes(Ge));return E.push(...he),he.length>0?J(he,ae).then(()=>D(Z,Ne,Ie,ae)):D(Z,Ne,Ie,ae)},Q=(Z={},ce)=>H(t({id:ce,action:"setParameters",payload:{params:Z}})),ie=async(Z,ce={},oe={text:!0},ae)=>H(t({id:ae,action:"recognize",payload:{image:await u(Z),options:ce,output:oe}})),se=async(Z,ce)=>{if(I)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return H(t({id:ce,action:"detect",payload:{image:await u(Z)}}))},te=async()=>(j!==null&&(s(j),j=null),Promise.resolve());l(j,({workerId:Z,jobId:ce,status:oe,action:ae,data:Ne})=>{const Ie=`${ae}-${ce}`;if(oe==="resolve")r(`[${Z}]: Complete ${ce}`),C[Ie].resolve({jobId:ce,data:Ne}),delete C[Ie];else if(oe==="reject")if(C[Ie].reject(Ne),delete C[Ie],ae==="load"&&L(Ne),b)b(Ne);else throw Error(Ne);else oe==="progress"&&_({...Ne,userJobId:ce})});const de={id:y,worker:j,load:X,writeText:z,readText:G,removeFile:q,FS:K,reinitialize:Y,setParameters:Q,recognize:ie,detect:se,terminate:te};return re().then(()=>J(h)).then(()=>D(h,m,g)).then(()=>U(de)).catch(()=>{}),T},DT}var IT,yH;function uZe(){if(yH)return IT;yH=1;const e=Moe();return IT={recognize:async(n,a,i)=>{const o=await e(a,1,i);return o.recognize(n).finally(async()=>{await o.terminate()})},detect:async(n,a)=>{const i=await e("osd",0,a);return i.detect(n).finally(async()=>{await i.terminate()})}},IT}var RT,xH;function dZe(){return xH||(xH=1,RT={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"}),RT}var MT,wH;function fZe(){return wH||(wH=1,MT={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"}),MT}var FT,_H;function hZe(){if(_H)return FT;_H=1,KXe();const e=XXe(),t=Moe(),r=uZe(),n=dZe(),a=Roe(),i=fZe(),{setLogging:o}=PM();return FT={languages:n,OEM:a,PSM:i,createScheduler:e,createWorker:t,setLogging:o,...r},FT}var pZe=hZe();let ju=null,O0=!1;const mZe=async()=>{if(ju)return ju;if(O0)return new Promise((e,t)=>{const r=setInterval(()=>{ju?(clearInterval(r),e(ju)):O0||(clearInterval(r),t(new Error("Tesseract worker initialization failed.")))},100)});O0=!0;try{return ju=await pZe.createWorker("eng",void 0,{logger:t=>console.log(t)}),O0=!1,ju}catch(e){throw console.error("Failed to initialize Tesseract worker:",e),O0=!1,e}},bH=async e=>{if(e.type==="application/pdf")throw console.warn("Attempted OCR on PDF file. Client-side Tesseract.js does not support PDF directly."),new Error("PDF processing via client-side OCR is not supported. Please use an image file (PNG, JPG) or implement server-side PDF OCR.");const t=await mZe();if(!t)throw new Error("Tesseract worker not available.");try{const{data:{text:r}}=await t.recognize(e);return r}catch(r){console.error("Error during OCR processing:",r);const n=ju;if(ju=null,O0=!1,n)try{await n.terminate()}catch(a){console.error("Error terminating worker:",a)}throw new Error("Failed to extract text using OCR.")}},gZe=async()=>{if(ju){const e=ju;ju=null,O0=!1;try{await e.terminate(),console.log("Tesseract worker terminated.")}catch(t){console.error("Error terminating Tesseract worker:",t)}}},SH=e=>{var u;const t=e.split(`
`).map(d=>d.trim()).filter(d=>d!==""),r={items:[]},n=[/\b(\d{1,2}[-/.\s]\d{1,2}[-/.\s]\d{2,4})\b/,/\b(\d{4}[-/.\s]\d{1,2}[-/.\s]\d{1,2})\b/,/\b((?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)[a-z]*[.\s,]*\d{1,2}[,\s]*\d{2,4})\b/i],a=["supplier","vendor","from:","invoice from","sold by"],i=["total","grand total","amount due","total amount","balance due"];for(const d of t){for(const f of a)if(d.toLowerCase().includes(f)){let h=(u=d.toLowerCase().split(f)[1])==null?void 0:u.trim();if(h!=null&&h.startsWith(":")&&(h=h.substring(1).trim()),h&&h.length>2){r.supplier=h.split(",")[0].trim();break}}if(r.supplier)break}if(!r.supplier&&t.length>0){const d=t[0];!n.some(f=>f.test(d))&&!d.toLowerCase().includes("invoice")&&(/\b(ltd|inc|llc|co)\b/i.test(d)||/^[a-zA-Z\s&]+$/.test(d.split(",")[0].trim()))&&(r.supplier=d.split(",")[0].trim())}for(const d of t){for(const f of n){const h=d.match(f);if(h&&h[1]){r.date=h[1];break}}if(r.date)break}let o=[];t.forEach(d=>{for(const f of i)if(d.toLowerCase().includes(f)){const h=d.match(/[\d,]+\.?\d*/g);h&&h.forEach(m=>{o.push({value:parseFloat(m.replace(/,/g,"")),line:d})})}}),o.length>0&&(o.sort((d,f)=>f.value-d.value),r.totalAmount=o[0].value);const s=["description","item","product","service","qty","quantity","price","unit price","amount","subtotal"],l=/([\d,]*\.?\d+)/g;return t.forEach((d,f)=>{const m=d.toLowerCase().split(/\s+/);if(m.filter(y=>s.includes(y)).length/m.length>.4&&m.length<6||/^[\d\s.,$\-+()%]+$/.test(d.trim())||d.length<10)return;const g=Array.from(d.matchAll(l));if(g.length>=2){const y=g[g.length-1],_=g[g.length-2],b=y[0].replace(/,/g,""),S=_[0].replace(/,/g,""),C=parseFloat(b),E=parseInt(S,10);if(!isNaN(C)&&!isNaN(E)&&E.toString()===S&&!S.includes(".")){const O=_.index;if(O!==void 0&&O>0){let P=d.substring(0,O).trim().replace(/[.,:;]$/,"").trim();P.length>2&&r.items.push({name:P,quantity:E,price:C})}}}}),r.items.length===0&&t.length>0&&console.warn("OCR parsing (old logic) did not find structured item lines. Raw lines:",t),console.log("Parsed OCR Data (Old Logic - Restored):",r),r},vZe=async()=>{console.log("Attempting to fetch inventory items for select/search...");const{data:e,error:t}=await Le.from("inventory_items").select("id, item_name, category, is_batched").order("item_name",{ascending:!0});if(t)throw console.error("Error fetching inventory items for select:",t),new Error(`Failed to fetch inventory items: ${t.message}`);return e?e.map(r=>({value:r.id,label:r.item_name,category:r.category,is_batched:r.is_batched??!1})):(console.warn("No inventory items found for select."),[])},Foe=["application/pdf","image/png","image/jpeg","image/jpg"],Loe=5*1024*1024,yZe=je.object({quantity_received_now:je.number().min(1,"Quantity must be at least 1"),batch_number:je.string().optional(),expiry_date:je.date().nullable().optional(),invoice_file:je.custom(e=>e instanceof File||e===null||e===void 0,"Invalid file format").refine(e=>!e||e.size<=Loe,"File size should be less than 5MB.").refine(e=>!e||Foe.includes(e.type),"Only .pdf, .png, .jpg, .jpeg files are accepted.").optional().nullable()}),xZe=({poItem:e,purchaseOrderId:t,poNumber:r,inventoryItemInfo:n,remainingQuantity:a,onReceiveSuccess:i,children:o})=>{const{toast:s}=yn(),{user:l}=si(),[u,d]=A.useState(!1),[f,h]=A.useState(!1),[m,x]=A.useState(!1),[g,y]=A.useState(null),[_,b]=A.useState(null),[S,C]=A.useState([]),[E,O]=A.useState(!1),P=(n==null?void 0:n.is_batched)??!1,I=ld({resolver:cd(yZe.refine(U=>U.quantity_received_now<=a,{message:`Quantity cannot exceed remaining quantity (${a})`,path:["quantity_received_now"]}).refine(U=>!P||U.batch_number&&U.batch_number.trim()!=="",{message:"Batch number is required for batched items.",path:["batch_number"]}).refine(U=>!P||U.expiry_date,{message:"Expiry date is required for batched items.",path:["expiry_date"]})),defaultValues:{quantity_received_now:a>0?1:0,batch_number:"",expiry_date:null,invoice_file:null}});A.useEffect(()=>{(async()=>{if(u&&S.length===0){O(!0);try{const T=await vZe();C(T.map(F=>({id:F.value,name:F.label})))}catch(T){console.error("Failed to fetch inventory items for search:",T),s({variant:"destructive",title:"Error",description:"Could not load inventory items for matching."})}finally{O(!1)}}})(),u?(I.reset({quantity_received_now:a>0?1:0,batch_number:"",expiry_date:null,invoice_file:null}),y(null),b(null)):m||gZe()},[u,a,I,m,s]);const L=async U=>{if(h(!0),!l||!l.id){s({variant:"destructive",title:"Authentication Error",description:"User ID not found. Cannot record receipt."}),h(!1);return}try{let T=e.unit_price;if(_&&_.items){const j=_.items.find(H=>H.inventoryItemId===e.inventory_item_id);j&&(T=j.price,s({title:"Price Note",description:`Using confirmed invoice price (${T}) for this receipt of "${e.description}".`,duration:4e3}))}await eXe({p_po_item_id:e.id,p_quantity_received:U.quantity_received_now,p_batch_number:U.batch_number||null,p_expiry_date:U.expiry_date?U.expiry_date.toISOString().split("T")[0]:null,p_purchase_price:T,p_received_by_user_id:l.id});let F=null;if(U.invoice_file&&!_){x(!0),s({title:"Processing Invoice",description:"Extracting text from invoice, please wait..."});try{const j=await bH(U.invoice_file),H=SH(j);y(H);const X=eH(H.items,S),re=H.items.map((z,G)=>{var K;const q=X.find(J=>J.ocrItemIndex===G);return{...z,inventoryItemId:((K=q==null?void 0:q.bestMatch)==null?void 0:K.id.toString())||null,matchDetails:q}});b({...H,items:re}),console.log("OCR Parsed Data:",H),console.log("Fuzzy Matched Items:",re),s({title:"Invoice Processed",description:"Review extracted and matched data below. Confirm to proceed."}),x(!1),h(!1);return}catch(j){console.error("OCR Error or Matching Error:",j),s({variant:"destructive",title:"Processing Failed",description:j.message}),x(!1),h(!1);return}}if(_&&U.invoice_file){console.log("Confirmed OCR Data, attempting to upload invoice and create record:",_),s({title:"Processing Confirmed Invoice",description:"Uploading file and creating invoice record..."});try{const j=await Ooe(U.invoice_file,r);let H=null;try{const X=await _oe(t);X?H=X.supplier_id:s({variant:"destructive",title:"Warning",description:"Could not fetch PO details to link supplier to invoice. Supplier will be unlinked."})}catch(X){console.error("Failed to fetch PO for supplier ID:",X),s({variant:"destructive",title:"Warning",description:"Error fetching PO details for invoice supplier linking."})}await Doe({file_path:j,purchase_order_id:t,supplier_id:H,invoice_date:_.date?new Date(_.date).toISOString().split("T")[0]:null,total_amount:_.totalAmount,notes:`Invoice uploaded for PO: ${r}. OCR Supplier: ${_.supplier||"N/A"}. OCR Date: ${_.date||"N/A"}. OCR Total: ${_.totalAmount||"N/A"}`}),s({title:"Invoice Saved",description:`Invoice for PO ${r} processed and saved.`})}catch(j){console.error("Failed to upload invoice or create record:",j),s({variant:"destructive",title:"Invoice Processing Failed",description:j.message||"Could not save the invoice details."})}}s({title:"Success",description:`${U.quantity_received_now} units of "${e.description}" received.`}),i(),d(!1)}catch(T){console.error("Failed to receive items or process invoice:",T),s({variant:"destructive",title:"Error Receiving Items",description:(T==null?void 0:T.message)||"An unexpected error occurred while recording received items."})}finally{h(!1)}};return w($a,{open:u,onOpenChange:d,children:[c(Gw,{asChild:!0,children:o}),w(Ta,{className:"sm:max-w-[425px]",children:[w(Oa,{children:[w(Da,{children:["Receive Item: ",e.description]}),w(Yi,{children:["Record quantity received for this item. Ordered: ",e.quantity_ordered,", Received: ",e.quantity_received,", Remaining: ",a,"."]})]}),c(Rh,{...I,children:w("form",{onSubmit:I.handleSubmit(L),className:"space-y-4",children:[c(He,{control:I.control,name:"quantity_received_now",render:({field:U})=>w(De,{children:[c(Oe,{children:"Quantity Receiving Now"}),c(Me,{children:c(ct,{type:"number",min:"1",max:a,...U,onChange:T=>U.onChange(parseInt(T.target.value,10)||0)})}),c(Ze,{})]})}),c(He,{control:I.control,name:"invoice_file",render:({field:U})=>w(De,{children:[c(Oe,{children:"Upload Invoice (Optional)"}),c(Me,{children:c(nm,{value:U.value,onFileChange:async T=>{if(U.onChange(T),b(null),y(null),T){x(!0),s({title:"Scanning Invoice",description:"Extracting text, please wait..."});try{const F=await bH(T),j=SH(F);y(j);const H=eH(j.items,S),X=j.items.map((G,q)=>{var J;const K=H.find(D=>D.ocrItemIndex===q);return{...G,inventoryItemId:((J=K==null?void 0:K.bestMatch)==null?void 0:J.id.toString())||null,matchDetails:K}});b({...j,items:X});const re=e.inventory_item_id,z=X.find(G=>G.inventoryItemId===re);if(z&&X.filter(G=>G.inventoryItemId===re).length===1){const G=z.quantity,q=Math.min(G,a);q>0&&I.getValues("quantity_received_now")!==q&&(I.setValue("quantity_received_now",q,{shouldValidate:!0}),s({title:"Quantity Pre-filled",description:`Quantity for "${e.description}" pre-filled from invoice.`}))}console.log("Live OCR Parsed Data:",j),console.log("Fuzzy Matched Items on change:",X),s({title:"Invoice Scanned",description:"Review extracted and matched data below."})}catch(F){console.error("OCR Error on change:",F),s({variant:"destructive",title:"OCR Failed",description:F.message}),b(null)}finally{x(!1)}}else b(null),y(null)},accept:Foe.join(","),maxSize:Loe,disabled:m||f})}),c(Ze,{})]})}),m&&c("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Processing invoice, please wait..."}),_&&!m&&w("div",{className:"space-y-4 p-4 border rounded-md mt-4",children:[c("h4",{className:"text-md font-semibold mb-2",children:"Confirm or Edit Extracted Invoice Data"}),w(De,{children:[c(Oe,{children:"Invoice Supplier"}),c(Me,{children:c(ct,{value:_.supplier||"",onChange:U=>b(T=>T?{...T,supplier:U.target.value}:null),placeholder:"Supplier from invoice"})})]}),w(De,{children:[c(Oe,{children:"Invoice Date"}),c(Me,{children:c(ct,{value:_.date||"",onChange:U=>b(T=>T?{...T,date:U.target.value}:null),placeholder:"Date from invoice (e.g., YYYY-MM-DD)"})})]}),w(De,{children:[c(Oe,{children:"Invoice Total Amount"}),c(Me,{children:c(ct,{type:"number",value:_.totalAmount||"",onChange:U=>b(T=>T?{...T,totalAmount:parseFloat(U.target.value)||void 0}:null),placeholder:"Total amount from invoice"})})]}),w("div",{className:"space-y-2",children:[c(Oe,{children:"Invoice Items (Matched)"}),E&&c("p",{className:"text-sm text-muted-foreground",children:"Loading inventory for matching..."}),!E&&_.items.map((U,T)=>{var F;return w("div",{className:"p-3 border rounded-md space-y-2 bg-slate-50 dark:bg-slate-800",children:[w(De,{children:[c(Oe,{className:"text-xs",children:"OCR Item Name"}),c(ct,{value:U.name,onChange:j=>{const H=_.items.map((X,re)=>re===T?{...X,name:j.target.value}:X);b(X=>X?{...X,items:H}:null)},placeholder:"Item Name from Invoice",className:"text-sm"})]}),w("div",{className:"grid grid-cols-2 gap-2",children:[w(De,{children:[c(Oe,{className:"text-xs",children:"Qty"}),c(ct,{type:"number",value:U.quantity,onChange:j=>{const H=_.items.map((X,re)=>re===T?{...X,quantity:parseInt(j.target.value)||0}:X);b(X=>X?{...X,items:H}:null)},placeholder:"Qty",className:"text-sm"})]}),w(De,{children:[c(Oe,{className:"text-xs",children:"Price (Unit)"}),c(ct,{type:"number",value:U.price,onChange:j=>{const H=_.items.map((X,re)=>re===T?{...X,price:parseFloat(j.target.value)||0}:X);b(X=>X?{...X,items:H}:null)},placeholder:"Price",className:"text-sm"})]})]}),w(De,{children:[c(Oe,{className:"text-xs",children:"Match to Inventory Item"}),w(zr,{value:U.inventoryItemId||"",onValueChange:j=>{const H=[..._.items];H[T].inventoryItemId=j==="NO_MATCH"?null:j,b(X=>X?{...X,items:H}:null)},children:[c($r,{className:"text-sm",children:c(Wr,{placeholder:"Select inventory match..."})}),w(Br,{children:[((F=U.matchDetails)==null?void 0:F.bestMatch)&&w(_t,{value:U.matchDetails.bestMatch.id.toString(),children:["Best: ",U.matchDetails.bestMatch.name]}),S.filter(j=>{var H,X;return j.id!==((X=(H=U.matchDetails)==null?void 0:H.bestMatch)==null?void 0:X.id)}).map(j=>c(_t,{value:j.id.toString(),children:j.name},j.id)),c(_t,{value:"NO_MATCH",children:"No Match / Manual Entry"})]})]}),U.matchDetails&&U.matchDetails.allMatches.length>1&&!U.inventoryItemId&&w("p",{className:"text-xs text-muted-foreground mt-1",children:["Other possible matches: ",U.matchDetails.allMatches.slice(1,3).map(j=>j.item.name).join(", ")]})]})]},T)}),_.items.length===0&&c("p",{className:"text-xs text-muted-foreground",children:"No items found or parsed from invoice."})]})]}),P&&!_&&w(Sr,{children:[c(He,{control:I.control,name:"batch_number",render:({field:U})=>w(De,{children:[c(Oe,{children:"Batch Number"}),c(Me,{children:c(ct,{placeholder:"Enter batch number",...U})}),c(Ze,{})]})}),c(He,{control:I.control,name:"expiry_date",render:({field:U})=>w(De,{className:"flex flex-col",children:[c(Oe,{children:"Expiry Date"}),w(hg,{children:[c(pg,{asChild:!0,children:c(Me,{children:w(Fe,{variant:"outline",className:Rt("w-full pl-3 text-left font-normal",!U.value&&"text-muted-foreground"),children:[U.value?new Date(U.value).toLocaleDateString():c("span",{children:"Pick expiry date"}),c(Lo,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),c(vm,{className:"w-auto p-0",align:"start",children:c(ym,{mode:"single",selected:U.value||void 0,onSelect:U.onChange,initialFocus:!0})})]}),c(Ze,{})]})})]}),w(Ji,{children:[c(x3,{asChild:!0,children:c(Fe,{type:"button",variant:"outline",disabled:f||m,children:"Cancel"})}),c(Fe,{type:"submit",disabled:f||m||a<=0,children:f?"Saving Receipt...":m?"Processing Invoice...":"Confirm Receipt"})]})]})})]})]})},wZe=()=>{var H;const{id:e}=oy(),t=Bo(),{toast:r}=yn(),{user:n}=si(),[a,i]=A.useState(null),[o,s]=A.useState([]),[l,u]=A.useState([]),[d,f]=A.useState(!0),[h,m]=A.useState(!1),[x,g]=A.useState(!1),[y,_]=A.useState(!1),[b,S]=A.useState(null),C=A.useCallback(async X=>{f(!0),S(null);try{const[re,z,G]=await Promise.all([_oe(X),NM(),YV(X)]);re?i(re):(S("Purchase order not found."),i(null)),s(z),u(G)}catch(re){console.error(re),S("Failed to fetch purchase order details or related data."),r({variant:"destructive",title:"Error",description:"Could not load purchase order details, items, or invoices."})}finally{f(!1)}},[r]);A.useEffect(()=>{e?C(e):(S("Purchase Order ID is missing."),f(!1))},[e,C]);const E=()=>{e&&(r({title:"Item Received",description:"Refreshing PO details..."}),C(e))},O=async X=>{var z;const re=(z=X.target.files)==null?void 0:z[0];if(!re||!e||!(a!=null&&a.po_number)||!(n!=null&&n.id)){r({variant:"destructive",title:"Upload Error",description:"Missing required information for upload."});return}if(!["application/pdf","image/png","image/jpeg"].includes(re.type)){r({variant:"destructive",title:"Invalid File Type",description:"Please upload a PDF, PNG, or JPG file."});return}m(!0);try{await tXe(e,a.po_number,re,n.id),r({title:"Success",description:`Invoice "${re.name}" uploaded.`});const G=await YV(e);u(G)}catch(G){console.error("Invoice upload failed:",G),r({variant:"destructive",title:"Upload Failed",description:(G==null?void 0:G.message)||"Could not upload invoice."})}finally{m(!1),X.target.value=""}},P=async()=>{if(!(!e||!a)){g(!0);try{console.log(`Simulating approval for PO ID: ${e}`),i(X=>X?{...X,status:"Approved"}:null),r({title:"PO Approved",description:`Purchase Order ${a.po_number} has been approved.`})}catch(X){console.error("Failed to approve PO:",X),r({variant:"destructive",title:"Approval Failed",description:(X==null?void 0:X.message)||"Could not approve purchase order."})}finally{g(!1)}}},I=async()=>{if(!(!e||!a)){_(!0);try{await nXe(e,"Ordered"),i(X=>X?{...X,status:"Ordered"}:null),r({title:"PO Confirmed",description:`Purchase Order ${a.po_number} has been marked as Ordered.`})}catch(X){console.error("Failed to confirm PO:",X),r({variant:"destructive",title:"Confirmation Failed",description:(X==null?void 0:X.message)||"Could not confirm purchase order."})}finally{_(!1)}}},L=async X=>{try{const re=await rXe(X.storage_path);re?window.open(re,"_blank"):r({variant:"destructive",title:"Download Error",description:"Could not get download link."})}catch(re){console.error("Download failed:",re),r({variant:"destructive",title:"Download Failed",description:"Could not get download link."})}},U=X=>{if(!X)return"outline";switch(X){case"Pending":return"outline";case"Approved":return"default";case"Ordered":return"secondary";case"Partially Received":return"default";case"Received":return"default";case"Cancelled":return"destructive";default:return"outline"}};if(d)return c("div",{className:"container mx-auto p-4",children:"Loading purchase order details..."});if(b)return w("div",{className:"container mx-auto p-4 text-red-500 flex items-center",children:[c(fc,{className:"mr-2"})," ",b]});if(!a)return c("div",{className:"container mx-auto p-4",children:"Purchase order not found."});const T=a.status==="Ordered"||a.status==="Partially Received",F=a.status==="Pending",j=a.status==="Approved";return w("div",{className:"container mx-auto p-4 space-y-6",children:[c(Sa,{heading:`Purchase Order: ${a.po_number}`,text:`Details for PO from ${a.supplier_name}`}),w(lr,{children:[c(xr,{children:c(wr,{children:"Order Summary"})}),w(mr,{className:"grid md:grid-cols-3 gap-4",children:[w("div",{children:[c("span",{className:"font-semibold",children:"PO Number:"})," ",a.po_number]}),w("div",{children:[c("span",{className:"font-semibold",children:"Supplier:"})," ",a.supplier_name]}),w("div",{children:[c("span",{className:"font-semibold",children:"Order Date:"})," ",new Date(a.order_date).toLocaleDateString()]}),w("div",{children:[c("span",{className:"font-semibold",children:"Expected Delivery:"})," ",a.expected_delivery_date?new Date(a.expected_delivery_date).toLocaleDateString():"N/A"]}),w("div",{children:[c("span",{className:"font-semibold",children:"Status:"})," ",c(Ju,{variant:U(a.status),className:a.status==="Received"?"bg-green-500 hover:bg-green-600 text-white":"",children:a.status})]}),w("div",{children:[c("span",{className:"font-semibold",children:"Total Amount:"})," ",((H=a.total_amount)==null?void 0:H.toLocaleString("en-IN",{style:"currency",currency:"INR"}))||"N/A"]}),a.notes&&w("div",{className:"md:col-span-3",children:[c("span",{className:"font-semibold",children:"Notes:"})," ",a.notes]})]})]}),c(am,{}),w(lr,{children:[w(xr,{children:[c(wr,{children:"Associated Invoices"}),c(yc,{children:"Manage invoices related to this purchase order."})]}),w(mr,{className:"space-y-4",children:[l.length>0?c("ul",{className:"list-disc pl-5 space-y-2",children:l.map(X=>w("li",{className:"flex justify-between items-center",children:[w("span",{children:[X.file_name," ",w("span",{className:"text-xs text-muted-foreground",children:["(",new Date(X.uploaded_at).toLocaleString(),")"]})]}),w(Fe,{variant:"outline",size:"sm",onClick:()=>L(X),children:[c(Y8,{className:"mr-2 h-4 w-4"})," Download"]})]},X.id))}):c("p",{className:"text-sm text-muted-foreground",children:"No invoices uploaded yet."}),w("div",{className:"mt-4",children:[c(Xt,{htmlFor:"invoice-upload",className:"mb-2 block",children:"Upload New Invoice (PDF, PNG, JPG)"}),c(ct,{id:"invoice-upload",type:"file",accept:".pdf, image/png, image/jpeg",onChange:O,disabled:h||a.status==="Cancelled",className:"max-w-sm"}),h&&w("p",{className:"text-sm text-muted-foreground mt-2 flex items-center",children:[c(Z0,{className:"animate-pulse mr-1 h-4 w-4"})," Uploading..."]})]})]})]}),c(am,{}),T&&w(lr,{children:[w(xr,{children:[c(wr,{children:"Receive Items"}),c(yc,{children:"Record received quantities for items in this purchase order."})]}),c(mr,{className:"space-y-4",children:a.items.filter(X=>X.quantity_ordered-X.quantity_received>0).length>0?a.items.map(X=>{const re=X.quantity_ordered-X.quantity_received,z=o.find(G=>G.value===X.inventory_item_id);return re<=0?null:w("div",{className:"flex justify-between items-center p-2 border rounded-md",children:[w("div",{children:[c("p",{className:"font-medium",children:X.description||X.product_name}),w("p",{className:"text-sm text-muted-foreground",children:["Ordered: ",X.quantity_ordered,", Received: ",X.quantity_received,", Remaining: ",re]})]}),c(xZe,{poItem:X,purchaseOrderId:a.id,poNumber:a.po_number,inventoryItemInfo:z,remainingQuantity:re,onReceiveSuccess:E,children:w(Fe,{variant:"default",size:"sm",className:"bg-blue-500 hover:bg-blue-600 text-white",children:[c(Nce,{className:"mr-1 h-4 w-4"})," Receive"]})})]},`receive-${X.id}`)}):c("p",{className:"text-sm text-muted-foreground",children:"All items have been fully received or no items are pending receipt."})})]}),c(am,{}),w("div",{className:"mt-8",children:[c(Sa,{heading:"Order Items Summary"}),w(Fs,{className:"mt-4",children:[c(Ls,{children:w(Pn,{children:[c(Ht,{children:"Item Description"}),c(Ht,{className:"text-right",children:"Ordered"}),c(Ht,{className:"text-right",children:"Received"}),c(Ht,{className:"text-right",children:"Remaining"}),c(Ht,{className:"text-right",children:"Unit Price"}),c(Ht,{className:"text-right",children:"Subtotal"})]})}),c(js,{children:a.items.map(X=>{const re=X.quantity_ordered-X.quantity_received;return w(Pn,{children:[c($t,{children:X.description||X.product_name}),c($t,{className:"text-right",children:X.quantity_ordered}),c($t,{className:"text-right",children:X.quantity_received}),c($t,{className:"text-right font-medium",children:re}),c($t,{className:"text-right",children:X.unit_price.toLocaleString("en-IN",{style:"currency",currency:"INR"})}),c($t,{className:"text-right",children:X.subtotal.toLocaleString("en-IN",{style:"currency",currency:"INR"})})]},X.id)})})]})]}),w("div",{className:"flex justify-between items-center mt-6",children:[w("div",{children:[" ",F&&w(Fe,{onClick:P,disabled:x||d,variant:"default",className:"bg-green-500 hover:bg-green-600 text-white",children:[c(ax,{className:"mr-2 h-4 w-4"}),x?"Approving...":"Approve Order"]}),j&&w(Fe,{onClick:I,disabled:y||d,variant:"default",children:[c(Tce,{className:"mr-2 h-4 w-4"}),y?"Confirming...":"Confirm & Mark Ordered"]})]}),c(Fe,{variant:"outline",onClick:()=>t("/purchases"),children:"Back to Purchase Orders"})]})]})},_Ze=async(e,t)=>{if(!e)throw new Error("No file provided for upload.");const r=e.name.split(".").pop(),n=`${Nw()}.${r}`,i=`${t?`urgent_purchase_slips/${t}`:"urgent_purchase_slips"}/${n}`,{error:o}=await Le.storage.from("urgent-purchase-slip").upload(i,e);if(o)throw console.error("Error uploading urgent purchase slip:",o),o;return{filePath:i,fileName:e.name}},AH=async e=>{const{data:t,error:r}=await Le.from("urgent_purchases").insert(e.header).select().single();if(r||!t)throw console.error("Error creating urgent purchase header:",r),r||new Error("Failed to create urgent purchase header.");const n=t;if(e.items&&e.items.length>0){const a=e.items.map(o=>({...o,urgent_purchase_id:n.id})),{error:i}=await Le.from("urgent_purchase_items").insert(a);if(i)throw console.error("Error creating urgent purchase items:",i),await Le.from("urgent_purchases").delete().match({id:n.id}),i}return{...n,items:(e.items||[]).map(a=>({...a,id:Nw(),urgent_purchase_id:n.id}))}},kH=async(e,t)=>{const{data:r,error:n}=await Le.from("urgent_purchases").select("requested_by_user_id, status").eq("id",e).single();if(n||!r)throw console.error("Error fetching urgent purchase for submission:",n),n||new Error("Urgent purchase not found for submission.");const a=r;if(a.requested_by_user_id!==t)throw new Error("User not authorized to submit this purchase for approval.");if(a.status!=="draft")throw new Error(`Urgent purchase is not in draft state (current: ${a.status}).`);const{data:i,error:o}=await Le.from("urgent_purchases").update({status:"pending_approval",updated_at:new Date().toISOString()}).eq("id",e).select().single();if(o||!i)throw console.error("Error submitting urgent purchase for approval:",o),o||new Error("Failed to submit urgent purchase for approval.");return i},bZe=async(e,t,r)=>{const{data:n,error:a}=await Le.from("urgent_purchases").update({status:"approved",reviewed_by_user_id:t,reviewed_at:new Date().toISOString(),reviewer_notes:r,updated_at:new Date().toISOString()}).eq("id",e).eq("status","pending_approval").select().single();if(a||!n)throw console.error("Error approving urgent purchase:",a),a||new Error("Failed to approve urgent purchase or not found/not pending.");const i=n;return await AZe(i.id,t),i},SZe=async(e,t,r)=>{if(!r||r.trim()==="")throw new Error("Reviewer notes are required for rejecting an urgent purchase.");const{data:n,error:a}=await Le.from("urgent_purchases").update({status:"rejected",reviewed_by_user_id:t,reviewed_at:new Date().toISOString(),reviewer_notes:r,updated_at:new Date().toISOString()}).eq("id",e).eq("status","pending_approval").select().single();if(a||!n)throw console.error("Error rejecting urgent purchase:",a),a||new Error("Failed to reject urgent purchase or not found/not pending.");return n},AZe=async(e,t)=>{const{data:r,error:n}=await Le.from("urgent_purchases").select(`
      *,
      urgent_purchase_items (*)
    `).eq("id",e).eq("status","approved").single();if(n||!r)throw console.error(`Error fetching approved urgent purchase ${e} for item processing:`,n),n||new Error("Approved urgent purchase not found or not in correct state for item processing.");const a=r;if(!a.urgent_purchase_items||a.urgent_purchase_items.length===0){console.log(`No items to process for urgent purchase ${e}.`);return}const i=a.urgent_purchase_items;for(const o of i){let s=null,l;const{data:u,error:d}=await Le.from("inventory_items").select("is_batched").eq("id",o.inventory_item_id).single();if(d||!u)throw console.error(`Inventory item ${o.inventory_item_id} not found for urgent purchase item ${o.id}`),d||new Error(`Inventory item ${o.inventory_item_id} not found.`);if(u.is_batched&&o.batch_number){l="BATCH_STOCK_IN";const{data:m,error:x}=await Le.from("inventory_item_batches").select("id").eq("inventory_item_id",o.inventory_item_id).eq("batch_number",o.batch_number).maybeSingle();if(x)throw console.error("Error fetching batch:",x),x;const g=m;if(g)s=g.id;else{const y={inventory_item_id:o.inventory_item_id,batch_number:o.batch_number,expiry_date:o.expiry_date||null,quantity_on_hand:0,purchase_price_at_receipt:0},{data:_,error:b}=await Le.from("inventory_item_batches").insert(y).select("id").single();if(b||!_)throw console.error("Error creating new batch:",b),b||new Error("Failed to create new batch.");s=_.id}}else l="add";const{error:h}=await Le.rpc("adjust_inventory_item_quantity",{p_inventory_item_id:o.inventory_item_id,p_quantity_change:o.quantity,p_change_type:l,p_user_id:t,p_notes:`Urgent purchase approved: ${a.id}. Slip: ${a.slip_filename||"N/A"}`,p_inventory_item_batch_id:s===null?void 0:s});if(h)throw console.error(`Error adjusting inventory for item ${o.inventory_item_id}:`,h),await Le.from("urgent_purchases").update({status:"rejected",reviewer_notes:`Item processing failed: ${h.message}`}).eq("id",e),h}console.log(`Successfully processed items for approved urgent purchase ${e}`)},kZe=async e=>{const{data:t,error:r}=await Le.from("urgent_purchases").select(`
      id,
      slip_image_path,
      slip_filename,
      invoice_delivery_date,
      status,
      confidence_score,
      notes,
      requested_by_user_id,
      requested_at,
      reviewed_by_user_id,
      reviewed_at,
      reviewer_notes,
      updated_at,
      urgent_purchase_items (*)
    `).eq("id",e).single();if(r){if(console.error(`Error fetching urgent purchase ${e}:`,r),r.code==="PGRST116")return null;throw r}if(!t)return null;const n=t;return{...n,items:n.urgent_purchase_items||[]}},J3=async e=>{let t=Le.from("urgent_purchases").select(`
      id,
      slip_filename,
      invoice_delivery_date,
      status,
      requested_by_user_id,
      requested_at,
      updated_at,
      target_approval_role,
      reviewed_by_user_id,
      reviewed_at,
      reviewer_notes
    `).order("updated_at",{ascending:!1});e!=null&&e.status&&(t=t.eq("status",e.status)),e!=null&&e.requested_by_user_id&&(t=t.eq("requested_by_user_id",e.requested_by_user_id));const{data:r,error:n}=await t;if(n)throw console.error("Error fetching urgent purchases list:",n),n;return(r||[]).map(i=>({...i,items:[]}))},NZe=({onFileSelect:e,processing:t=!1,className:r})=>{const[n,a]=A.useState(null),[i,o]=A.useState(null);return w("div",{className:r,children:[c(nm,{onFileChange:u=>{a(u),e(u),u?(i&&URL.revokeObjectURL(i),o(URL.createObjectURL(u))):(i&&URL.revokeObjectURL(i),o(null))},accept:"image/jpeg, image/png, image/webp, application/pdf",maxSize:10,uploading:t,value:n,preview:i||void 0,onRemove:()=>{a(null),e(null),i&&URL.revokeObjectURL(i),o(null)},id:"urgent-purchase-slip-upload"}),n&&!t&&w(rd,{className:"mt-4",children:[c(Q7,{className:"h-4 w-4"}),c(nd,{children:"File Ready"}),w(ad,{children:["Selected: ",n.name," (",(n.size/1024/1024).toFixed(2)," MB). Ready for processing."]})]}),t&&w(rd,{className:"mt-4",children:[c(Q7,{className:"h-4 w-4"}),c(nd,{children:"Processing..."}),c(ad,{children:"The slip is being uploaded and analyzed. Please wait."})]})]})},NH="__NO_MATCH_VALUE__",EZe=je.object({inventory_item_id:je.string().min(1,"Item selection is required."),quantity:je.number().min(1,"Quantity must be at least 1."),batch_number:je.string().optional().nullable(),expiry_date:je.date().optional().nullable()}),CZe=["admin","owner","doctor"],PZe=je.object({items:je.array(EZe).min(1,"At least one item is required."),invoice_delivery_date:je.date().optional().nullable(),notes:je.string().optional().nullable(),target_approval_role:je.string().min(1,"Target approval role is required.")}),TZe=({onClose:e,onSuccess:t})=>{const{toast:r}=yn(),{user:n}=si(),[a,i]=A.useState("slip_upload"),[o,s]=A.useState(null),[l,u]=A.useState(!1),[d,f]=A.useState(null),[h,m]=A.useState([]),[x,g]=A.useState(""),[y,_]=A.useState([]),[b,S]=A.useState([]),[C,E]=A.useState(!1),O=CZe.filter(z=>z!==(n==null?void 0:n.role)),P=ld({resolver:cd(PZe),defaultValues:{items:[{inventory_item_id:"",quantity:1,batch_number:"",expiry_date:null}],invoice_delivery_date:new Date,notes:"",target_approval_role:""}}),{fields:I,append:L,remove:U}=kS({control:P.control,name:"items"});A.useEffect(()=>{(async()=>{try{const G=await NM();_(G),S(G.map(q=>({id:q.value,name:q.label,item_code:q.item_code})))}catch{r({variant:"destructive",title:"Error",description:"Could not load inventory items."})}})()},[r]);const T=z=>new Promise((G,q)=>{const K=new FileReader;K.onload=()=>G(K.result),K.onerror=J=>q(J),K.readAsDataURL(z)}),F=async z=>{if(s(z),f(null),m([]),z){u(!0);try{const G=await T(z),{data:q,error:K}=await Le.functions.invoke("ocr-slip-parser",{body:{image_data_urls:[G],file_type:z.type}});if(K)throw K;const J=q;let D=0,Y=0;const Q=J.items.map(te=>{const{bestMatch:de,bestMatchScore:Z}=r4(te.slip_text,b);let ce;return de&&typeof Z=="number"?(ce=1-Z,ce=Math.max(0,Math.min(1,ce)),D+=ce,Y++):de?(ce=.75,D+=ce,Y++):ce=.1,{...te,matched_item_id:(de==null?void 0:de.id)||null,matched_item_name:(de==null?void 0:de.name)||null,confidence:ce}}),ie=Y>0?D/Y:J.overall_confidence||0,se={...J,items:Q,overall_confidence:ie};f(se),m(se.items.map(te=>({...te}))),r({title:"Slip Processed by Server",description:"Review the extracted items below."})}catch(G){console.error("Error processing slip with Edge Function:",G),r({variant:"destructive",title:"Processing Error",description:G.message||"Failed to process slip using server function."})}finally{u(!1)}}},j=(z,G,q)=>{const K=[...h];if(G==="matched_item_id")if(q===NH||q==="")K[z][G]=null,K[z].matched_item_name=null;else{K[z][G]=q;const J=b.find(D=>D.id===q);K[z].matched_item_name=(J==null?void 0:J.name)||null}else K[z][G]=q;m(K)},H=z=>{m(G=>G.filter((q,K)=>K!==z))},X=async()=>{if(!n||!n.id){r({variant:"destructive",title:"Authentication Error",description:"User not logged in."});return}if(!d||h.length===0){r({variant:"destructive",title:"No Data",description:"No items to submit."});return}if(!x){r({variant:"destructive",title:"Validation Error",description:"Please select a target approval role."});return}E(!0);try{let z,G;if(o){const J=await _Ze(o,n.id);z=J.filePath,G=J.fileName}const q={header:{slip_image_path:z||null,slip_filename:G||null,invoice_delivery_date:d.invoice_delivery_date?d.invoice_delivery_date:null,status:"draft",confidence_score:d.overall_confidence,notes:`Urgent purchase via slip upload. OCR Confidence: ${((d.overall_confidence||0)*100).toFixed(0)}%`,requested_by_user_id:n.id,target_approval_role:x},items:h.filter(J=>J.matched_item_id&&(J.quantity||0)>0).map(J=>({inventory_item_id:J.matched_item_id,slip_text:J.slip_text,matched_item_name:J.matched_item_name||"Unknown Item",quantity:J.quantity||0,batch_number:J.batch_number||null,expiry_date:J.expiry_date||null}))};if(q.items.length===0){r({variant:"destructive",title:"No Valid Items",description:"No items with matched inventory ID and quantity > 0."}),E(!1);return}const K=await AH(q);if(K&&K.id)await kH(K.id,n.id),r({title:"Urgent Purchase Submitted",description:`Request ID: ${K.id} submitted for approval.`}),t();else throw new Error("Failed to get ID from created entry for submission.")}catch(z){r({variant:"destructive",title:"Submission Error",description:z.message||"Failed to submit urgent purchase for approval."})}finally{E(!1)}},re=async z=>{if(!n||!n.id){r({variant:"destructive",title:"Authentication Error",description:"User not logged in."});return}E(!0);try{const G={header:{invoice_delivery_date:z.invoice_delivery_date?z.invoice_delivery_date.toISOString().split("T")[0]:null,status:"draft",notes:z.notes||"Urgent purchase via Quick Entry.",requested_by_user_id:n.id,confidence_score:null,target_approval_role:z.target_approval_role},items:z.items.map(K=>{const J=b.find(D=>D.id===K.inventory_item_id);return{inventory_item_id:K.inventory_item_id,matched_item_name:(J==null?void 0:J.name)||"Unknown Item",quantity:K.quantity,batch_number:K.batch_number||null,expiry_date:K.expiry_date?K.expiry_date.toISOString().split("T")[0]:null,slip_text:`Quick Entry: ${J==null?void 0:J.name}`}})},q=await AH(G);if(q&&q.id)await kH(q.id,n.id),r({title:"Quick Entry Submitted",description:`Request ID: ${q.id} submitted for approval.`}),P.reset(),t();else throw new Error("Failed to get ID from created quick entry for submission.")}catch(G){r({variant:"destructive",title:"Quick Entry Error",description:G.message||"Failed to submit quick entry for approval."})}finally{E(!1)}};return w(Dg,{value:a,onValueChange:z=>i(z),className:"w-full",children:[w(Ig,{className:"grid w-full grid-cols-2",children:[c(ll,{value:"slip_upload",children:"Upload Slip/Invoice"}),c(ll,{value:"quick_entry",children:"Quick Manual Entry"})]}),c(Ei,{value:"slip_upload",children:w(lr,{className:"border-0 shadow-none",children:[w(xr,{children:[c(wr,{children:"Upload Delivery Slip or Invoice"}),c(yc,{children:"Upload an image (PNG, JPG). PDF support requires server-side OCR."})]}),w(mr,{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2",children:[" ",c(NZe,{onFileSelect:F,processing:l}),l&&w("div",{className:"flex items-center text-muted-foreground",children:[c(Zn,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing slip..."]}),d&&!l&&w("div",{className:"mt-4",children:[c(Xt,{htmlFor:"targetRoleSlip",children:"Send Approval To*"}),w(zr,{value:x,onValueChange:g,children:[c($r,{id:"targetRoleSlip",children:c(Wr,{placeholder:"Select role for approval..."})}),c(Br,{children:O.map(z=>c(_t,{value:z,children:z.charAt(0).toUpperCase()+z.slice(1)},z))})]}),!x&&C&&c("p",{className:"text-xs text-destructive mt-1",children:"Target approval role is required."})]}),d&&h.length>0&&!l&&w("div",{className:"space-y-3 mt-4",children:[w("h3",{className:"text-md font-semibold",children:["Review Extracted Items (Confidence: ",((d.overall_confidence||0)*100).toFixed(0),"%)"]}),d.invoice_delivery_date&&w("p",{className:"text-sm",children:["Detected Invoice/Delivery Date: ",d.invoice_delivery_date]}),h.map((z,G)=>c(lr,{className:"p-3 space-y-2 bg-muted/50 border",children:w("div",{className:"grid grid-cols-6 gap-3 items-end",children:[w("div",{className:"col-span-6 sm:col-span-3 md:col-span-2",children:[c(Xt,{htmlFor:`ocr-item-name-${G}`,className:"text-xs",children:"Slip Text"}),c(ct,{id:`ocr-item-name-${G}`,value:z.slip_text||"",onChange:q=>j(G,"slip_text",q.target.value),className:"h-8 text-sm"})]}),w("div",{className:"col-span-6 sm:col-span-3 md:col-span-2",children:[c(Xt,{htmlFor:`ocr-item-inventory-${G}`,className:"text-xs",children:"Matched Item"}),w(zr,{value:z.matched_item_id||"",onValueChange:q=>j(G,"matched_item_id",q),children:[c($r,{className:"h-8 text-sm",children:c(Wr,{placeholder:"Select item..."})}),w(Br,{children:[c(_t,{value:NH,className:"text-sm",children:c("em",{children:"No Match / Clear Selection"})}),y.map(q=>w(_t,{value:q.value,className:"text-sm",children:[q.label," ",q.item_code?`(${q.item_code})`:""]},q.value))]})]}),z.confidence!==void 0&&z.confidence!==null&&w("p",{className:"text-xs mt-1",children:["Match Confidence: ",((z.confidence||0)*100).toFixed(0),"%"]})]}),w("div",{className:"col-span-3 sm:col-span-2 md:col-span-1",children:[c(Xt,{htmlFor:`ocr-item-qty-${G}`,className:"text-xs",children:"Quantity"}),c(ct,{id:`ocr-item-qty-${G}`,type:"number",value:z.quantity||0,onChange:q=>j(G,"quantity",parseInt(q.target.value)||0),className:"h-8 text-sm"})]}),w("div",{className:"col-span-3 sm:col-span-2 md:col-span-1",children:[c(Xt,{htmlFor:`ocr-item-batch-${G}`,className:"text-xs",children:"Batch No."}),c(ct,{id:`ocr-item-batch-${G}`,value:z.batch_number||"",onChange:q=>j(G,"batch_number",q.target.value),className:"h-8 text-sm"})]}),w("div",{className:"col-span-3 sm:col-span-2 md:col-span-1",children:[c(Xt,{htmlFor:`ocr-item-expiry-${G}`,className:"text-xs",children:"Expiry Date"}),c(ct,{id:`ocr-item-expiry-${G}`,type:"date",placeholder:"YYYY-MM-DD",value:z.expiry_date||"",onChange:q=>j(G,"expiry_date",q.target.value),className:"h-8 text-sm"})]}),c("div",{className:"col-span-3 sm:col-span-2 md:col-span-1 flex items-end justify-end",children:c(Fe,{variant:"ghost",size:"icon",onClick:()=>H(G),className:"text-destructive h-8 w-8",children:c(om,{className:"h-4 w-4"})})})]})},G))]})]}),w("div",{className:"flex justify-end space-x-2 p-4 border-t",children:[c(Fe,{variant:"outline",onClick:e,children:"Cancel"}),w(Fe,{onClick:X,disabled:l||C||!d||h.length===0,children:[C?c(Zn,{className:"mr-2 h-4 w-4 animate-spin"}):c(ax,{className:"mr-2 h-4 w-4"}),"Submit for Approval"]})]})]})}),c(Ei,{value:"quick_entry",children:w(lr,{className:"border-0 shadow-none",children:[w(xr,{children:[c(wr,{children:"Quick Manual Entry"}),c(yc,{children:"Manually add items to stock."})]}),w("form",{onSubmit:P.handleSubmit(re),children:[w(mr,{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2",children:[w("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[w("div",{children:[c(Xt,{htmlFor:"target_approval_role_quick",children:"Send Approval To*"}),c(zp,{name:"target_approval_role",control:P.control,render:({field:z,fieldState:G})=>w(Sr,{children:[w(zr,{onValueChange:z.onChange,defaultValue:z.value,children:[c($r,{id:"target_approval_role_quick",children:c(Wr,{placeholder:"Select role..."})}),c(Br,{children:O.map(q=>c(_t,{value:q,children:q.charAt(0).toUpperCase()+q.slice(1)},q))})]}),G.error&&c("p",{className:"text-xs text-destructive mt-1",children:G.error.message})]})})]}),w("div",{children:[c(Xt,{htmlFor:"quick-invoice-date",children:"Invoice/Delivery Date (Optional)"}),c(zp,{name:"invoice_delivery_date",control:P.control,render:({field:z})=>c(ct,{type:"date",value:z.value?new Date(z.value).toISOString().split("T")[0]:"",onChange:G=>z.onChange(G.target.value?new Date(G.target.value):null),className:"h-9"})})]}),w("div",{children:[c(Xt,{htmlFor:"quick-notes",children:"Notes (Optional)"}),c(Jr,{id:"quick-notes",...P.register("notes")})]})]}),c("h4",{className:"text-md font-semibold pt-4",children:"Items"}),I.map((z,G)=>c(lr,{className:"p-3 space-y-2 bg-muted/50",children:w("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-3 items-end",children:[w("div",{className:"sm:col-span-2 md:col-span-2",children:[c(Xt,{htmlFor:`qitem-inventory-${G}`,className:"text-xs",children:"Inventory Item*"}),c(zp,{name:`items.${G}.inventory_item_id`,control:P.control,render:({field:q,fieldState:K})=>w(Sr,{children:[w(zr,{value:q.value||"",onValueChange:q.onChange,children:[c($r,{className:"h-8 text-sm",children:c(Wr,{placeholder:"Select item..."})}),c(Br,{children:y.map(J=>w(_t,{value:J.value,className:"text-sm",children:[J.label," ",J.item_code?`(${J.item_code})`:""]},J.value))})]}),K.error&&c("p",{className:"text-xs text-destructive mt-1",children:K.error.message})]})})]}),w("div",{children:[c(Xt,{htmlFor:`qitem-qty-${G}`,className:"text-xs",children:"Quantity*"}),c(zp,{name:`items.${G}.quantity`,control:P.control,render:({field:q,fieldState:K})=>w(Sr,{children:[c(ct,{id:`qitem-qty-${G}`,type:"number",value:q.value||0,onChange:J=>q.onChange(parseInt(J.target.value,10)||0),className:"h-8 text-sm"}),K.error&&c("p",{className:"text-xs text-destructive mt-1",children:K.error.message})]})})]}),w("div",{children:[c(Xt,{htmlFor:`qitem-batch-${G}`,className:"text-xs",children:"Batch No."}),c(zp,{name:`items.${G}.batch_number`,control:P.control,render:({field:q})=>c(ct,{id:`qitem-batch-${G}`,...q,value:q.value||"",className:"h-8 text-sm"})})]}),w("div",{children:[c(Xt,{htmlFor:`qitem-expiry-${G}`,className:"text-xs",children:"Expiry Date"}),c(zp,{name:`items.${G}.expiry_date`,control:P.control,render:({field:q})=>c(ct,{type:"date",value:q.value?new Date(q.value).toISOString().split("T")[0]:"",onChange:K=>q.onChange(K.target.value?new Date(K.target.value):null),className:"h-8 text-sm"})})]}),c("div",{className:"flex items-center justify-end",children:I.length>1&&c(Fe,{type:"button",variant:"ghost",size:"icon",onClick:()=>U(G),className:"text-destructive h-8 w-8",children:c(om,{className:"h-4 w-4"})})})]})},z.id)),w(Fe,{type:"button",variant:"outline",size:"sm",onClick:()=>L({inventory_item_id:"",quantity:1,batch_number:"",expiry_date:null}),children:[c(Ch,{className:"mr-2 h-4 w-4"})," Add Item"]})]}),w("div",{className:"flex justify-end space-x-2 p-4 border-t",children:[c(Fe,{variant:"outline",onClick:e,children:"Cancel"}),w(Fe,{type:"submit",disabled:C,children:[C?c(Zn,{className:"mr-2 h-4 w-4 animate-spin"}):c(ax,{className:"mr-2 h-4 w-4"}),"Submit for Approval"]})]})]})]})})]})},OZe=()=>{const{toast:e}=yn(),[t,r]=A.useState([]),[n,a]=A.useState(!1),[i,o]=A.useState(!1),s=async()=>{a(!0);try{const f=await J3();r(f)}catch(f){e({variant:"destructive",title:"Error fetching urgent purchases",description:f.message||"Could not load urgent purchase entries."})}finally{a(!1)}};A.useEffect(()=>{s()},[e]);const l=()=>{o(!1),s()},u=f=>{switch(f){case"approved":return"default";case"pending_approval":return"secondary";case"rejected":return"destructive";case"draft":return"outline";default:return"outline"}},d=f=>{if(!f)return!1;const h=new Date(f);return!isNaN(h.getTime())};return w("div",{className:"container mx-auto p-4",children:[c(Sa,{heading:"Urgent Purchase Entry",text:"Create or view history of urgent stock entries made without a PO.",children:w("div",{className:"flex gap-2",children:[w($a,{open:i,onOpenChange:o,children:[c(Gw,{asChild:!0,children:w(Fe,{children:[c(Ch,{className:"mr-2 h-4 w-4"})," Create New Urgent Entry"]})}),w(Ta,{className:"sm:max-w-[80vw] md:max-w-[70vw] lg:max-w-[60vw] xl:max-w-[50vw]",children:[" ",w(Oa,{children:[c(Da,{children:"Create Urgent Purchase Entry"}),w(Yi,{children:[" ","Upload a slip/invoice image for OCR processing or use the Quick Manual Entry tab."]})]}),c(TZe,{onClose:()=>o(!1),onSuccess:l})]})]}),c(Fe,{variant:"outline",asChild:!0,children:c(Vi,{to:"/purchases/urgent/history",children:"View Modification History"})}),c(Fe,{variant:"outline",asChild:!0,children:c(Vi,{to:"/purchases/urgent/my-requests",children:"View My Requests"})})]})}),n?c("div",{className:"flex justify-center items-center py-10",children:c(Zn,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):c(lr,{className:"mt-6",children:w(mr,{className:"p-0",children:[" ",w(Fs,{children:[c(Ls,{children:w(Pn,{children:[c(Ht,{children:"Delivery Date"}),c(Ht,{children:"Status"}),c(Ht,{children:"Slip Filename"}),c(Ht,{children:"Requested At"}),c(Ht,{children:"Updated At"}),c(Ht,{children:"Actions"})]})}),c(js,{children:t.length===0?c(Pn,{children:c($t,{colSpan:6,className:"text-center text-muted-foreground py-10",children:"No urgent purchase entries found."})}):t.map(f=>w(Pn,{children:[c($t,{children:d(f.invoice_delivery_date)?Lt(new Date(f.invoice_delivery_date),"PP"):"N/A"}),c($t,{children:c(Ju,{variant:u(f.status),children:f.status.replace("_"," ").replace(/\b\w/g,h=>h.toUpperCase())})}),c($t,{children:f.slip_filename||"N/A (Quick Entry)"}),c($t,{children:d(f.requested_at)?Lt(new Date(f.requested_at),"PPpp"):"N/A"}),c($t,{children:d(f.updated_at)?Lt(new Date(f.updated_at),"PPpp"):"N/A"}),c($t,{children:c(Fe,{variant:"outline",size:"sm",asChild:!0,children:w(Vi,{to:`/purchases/urgent/${f.id}`,children:[c(Ew,{className:"mr-2 h-4 w-4"})," View Details"]})})})]},f.id))})]})]})})]})},DZe=()=>{const{id:e}=oy(),{toast:t}=yn(),[r,n]=A.useState(null),[a,i]=A.useState(!1),[o,s]=A.useState(null);A.useEffect(()=>{const u=/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/;(async()=>{if(!e||!u.test(e)){s("Invalid or no purchase ID provided."),i(!1);return}i(!0),s(null);try{const f=await kZe(e);f?n(f):(s("Urgent purchase entry not found."),t({variant:"destructive",title:"Not Found",description:`Urgent purchase with ID ${e} not found.`}))}catch(f){s("Failed to load purchase details."),t({variant:"destructive",title:"Error",description:f.message||"Could not load urgent purchase details."})}finally{i(!1)}})()},[e,t]);const l=u=>{switch(u){case"Auto-Confirmed":case"Manually Confirmed":return"default";case"Pending Review":return"secondary";case"Rejected":case"ProcessingError":return"destructive";default:return"outline"}};return a?c("div",{className:"flex justify-center items-center py-10",children:c(Zn,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):o?w("div",{className:"container mx-auto p-4 text-center text-destructive",children:[c("p",{children:o}),c(Fe,{variant:"link",asChild:!0,className:"mt-4",children:w(Vi,{to:"/purchases/urgent",children:[" ",c(u5,{className:"mr-2 h-4 w-4"})," Back to Log"]})})]}):r?w("div",{className:"container mx-auto p-4 space-y-6",children:[c(Sa,{heading:"Urgent Purchase Details",text:r.requested_at?`Details for entry created on ${Lt(new Date(r.requested_at),"PPp")}`:"Details for entry",children:c(Fe,{variant:"outline",asChild:!0,children:w(Vi,{to:"/purchases/urgent",children:[" ",c(u5,{className:"mr-2 h-4 w-4"})," Back to Log"]})})}),w(lr,{children:[c(xr,{children:c(wr,{children:"Summary"})}),w(mr,{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[w("div",{children:[c("strong",{children:"ID:"})," ",r.id]}),w("div",{children:[c("strong",{children:"Status:"})," ",c(Ju,{variant:l(r.status),children:r.status})]}),w("div",{children:[c("strong",{children:"Invoice/Delivery Date:"})," ",r.invoice_delivery_date?Lt(new Date(r.invoice_delivery_date),"PP"):"N/A"]}),w("div",{children:[c("strong",{children:"Slip Filename:"})," ",r.slip_filename||"N/A"]}),w("div",{children:[c("strong",{children:"OCR Confidence:"}),r.confidence_score!==null&&r.confidence_score!==void 0?` ${(r.confidence_score*100).toFixed(0)}%`:" N/A"]}),w("div",{children:[c("strong",{children:"Requested By:"})," ",r.requested_by_user_id||"Unknown"]}),w("div",{className:"md:col-span-3",children:[c("strong",{children:"Notes:"})," ",r.notes||"N/A"]})]})]}),w(lr,{children:[c(xr,{children:c(wr,{children:"Items Received"})}),c(mr,{children:w(Fs,{children:[c(Ls,{children:w(Pn,{children:[c(Ht,{children:"Matched Item"}),c(Ht,{children:"Slip Text"}),c(Ht,{children:"Quantity"}),c(Ht,{children:"Batch No."}),c(Ht,{children:"Expiry Date"})]})}),c(js,{children:r.items.length===0?c(Pn,{children:c($t,{colSpan:5,className:"text-center text-muted-foreground py-10",children:"No items found for this entry."})}):r.items.map(u=>w(Pn,{children:[c($t,{children:u.matched_item_name}),c($t,{children:u.slip_text||"N/A"}),c($t,{children:u.quantity}),c($t,{children:u.batch_number||"N/A"}),c($t,{children:u.expiry_date?Lt(new Date(u.expiry_date),"PP"):"N/A"})]},u.id))})]})})]})]}):c("div",{className:"container mx-auto p-4 text-center",children:"Urgent purchase not found."})},EH=e=>{if(!e)return!1;const t=new Date(e);return!isNaN(t.getTime())},IZe=()=>{const{user:e}=si(),{toast:t}=yn(),r=Bo(),[n,a]=A.useState([]),[i,o]=A.useState(!0),s=A.useCallback(async()=>{o(!0);try{const d=await J3();a(d)}catch(d){console.error("Error fetching urgent purchase history:",d),t({variant:"destructive",title:"Error",description:"Could not load urgent purchase history."})}finally{o(!1)}},[t]);A.useEffect(()=>{s()},[s]);const l=d=>{r(`/purchases/urgent/${d}`)},u=d=>d?d.substring(0,8)+"...":"N/A";return w("div",{className:"container mx-auto p-4 md:p-6",children:[c(Sa,{heading:"Urgent Purchase Modification History",text:"View the history and status of all urgent purchase entries.",children:c(Fe,{variant:"outline",asChild:!0,children:w(Vi,{to:"/purchases/urgent",children:[c(u5,{className:"mr-2 h-4 w-4"})," Back to Urgent Purchases"]})})}),c("div",{className:"mt-6",children:i?c("p",{children:"Loading history..."}):n.length===0?w(lr,{children:[c(xr,{children:c(wr,{children:"No Urgent Purchase History Found"})}),c(mr,{children:c("p",{children:"There are no urgent purchase entries in the system yet."})})]}):w(lr,{children:[w(xr,{children:[c(wr,{children:"Urgent Purchase History"}),w(yc,{children:[n.length," record(s) found."]})]}),c(mr,{children:w(Fs,{children:[c(Ls,{children:w(Pn,{children:[c(Ht,{children:"Request ID / Slip"}),c(Ht,{children:"Status"}),c(Ht,{children:"Requested By"}),c(Ht,{children:"Requested At"}),c(Ht,{children:"Reviewed By"}),c(Ht,{children:"Reviewed At"}),c(Ht,{children:"Reviewer Notes"}),c(Ht,{className:"text-right",children:"Actions"})]})}),c(js,{children:n.map(d=>w(Pn,{children:[c($t,{children:d.slip_filename||d.id.substring(0,8)+"..."}),c($t,{children:c(Ju,{variant:d.status==="approved"?"default":d.status==="rejected"?"destructive":d.status==="pending_approval"?"outline":(d.status==="draft","secondary"),className:d.status==="approved"?"bg-green-100 text-green-700 border-green-300":d.status==="rejected"?"bg-red-100 text-red-700 border-red-300":d.status==="pending_approval"?"bg-yellow-100 text-yellow-700 border-yellow-300":"",children:d.status?d.status.replace(/_/g," ").replace(/\b\w/g,f=>f.toUpperCase()):"N/A"})}),c($t,{children:u(d.requested_by_user_id)}),c($t,{children:EH(d.requested_at)?Lt(new Date(d.requested_at),"PPp"):"N/A"}),c($t,{children:u(d.reviewed_by_user_id)}),c($t,{children:EH(d.reviewed_at)?Lt(new Date(d.reviewed_at),"PPp"):"N/A"}),c($t,{className:"max-w-xs truncate",title:d.reviewer_notes||void 0,children:d.reviewer_notes||"N/A"}),c($t,{className:"text-right",children:w(Fe,{variant:"outline",size:"sm",onClick:()=>l(d.id),children:[c(Ew,{className:"mr-1 h-4 w-4"})," View"]})})]},d.id))})]})})]})})]})},CH=e=>{if(!e)return!1;const t=new Date(e);return!isNaN(t.getTime())},RZe=()=>{const{user:e}=si(),{toast:t}=yn(),r=Bo(),[n,a]=A.useState([]),[i,o]=A.useState(!0),s=A.useCallback(async()=>{if(!(e!=null&&e.id)){o(!1),t({variant:"destructive",title:"Error",description:"User not found. Please log in."});return}o(!0);try{const u=await J3({requested_by_user_id:e.id});a(u)}catch(u){console.error("Error fetching your urgent purchase requests:",u),t({variant:"destructive",title:"Error",description:"Could not load your urgent purchase requests."})}finally{o(!1)}},[t,e]);A.useEffect(()=>{s()},[s]);const l=u=>{r(`/purchases/urgent/${u}`)};return w("div",{className:"container mx-auto p-4 md:p-6",children:[c(Sa,{heading:"My Urgent Purchase Requests",text:"View your urgent purchase requests and their status.",children:c(Fe,{variant:"outline",asChild:!0,children:w(Vi,{to:"/purchases/urgent",children:[c(u5,{className:"mr-2 h-4 w-4"})," Back to Urgent Purchases"]})})}),c("div",{className:"mt-6",children:i?c("p",{children:"Loading your requests..."}):n.length===0?w(lr,{children:[c(xr,{children:c(wr,{children:"No Urgent Purchase Requests Found"})}),c(mr,{children:c("p",{children:"You have not made any urgent purchase requests yet."})})]}):w(lr,{children:[w(xr,{children:[c(wr,{children:"Your Urgent Purchase Requests"}),w(yc,{children:[n.length," request(s) found."]})]}),c(mr,{children:w(Fs,{children:[c(Ls,{children:w(Pn,{children:[c(Ht,{children:"Request ID / Slip"}),c(Ht,{children:"Status"}),c(Ht,{children:"Requested At"}),c(Ht,{children:"Last Updated"}),c(Ht,{className:"text-right",children:"Actions"})]})}),c(js,{children:n.map(u=>w(Pn,{children:[c($t,{children:u.slip_filename||u.id.substring(0,8)+"..."}),c($t,{children:c("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${u.status==="approved"?"bg-green-100 text-green-700":u.status==="rejected"?"bg-red-100 text-red-700":u.status==="pending_approval"?"bg-yellow-100 text-yellow-700":u.status==="draft"?"bg-gray-100 text-gray-700":"bg-blue-100 text-blue-700"}`,children:u.status?u.status.replace(/_/g," ").replace(/\b\w/g,d=>d.toUpperCase()):"N/A"})}),c($t,{children:CH(u.requested_at)?Lt(new Date(u.requested_at),"PPpp"):"N/A"}),c($t,{children:CH(u.updated_at)?Lt(new Date(u.updated_at),"PPpp"):"N/A"}),c($t,{className:"text-right",children:w(Fe,{variant:"outline",size:"sm",onClick:()=>l(u.id),children:[c(Ew,{className:"mr-1 h-4 w-4"})," View"]})})]},u.id))})]})})]})})]})},MZe=[{value:"01",label:"January"},{value:"02",label:"February"},{value:"03",label:"March"},{value:"04",label:"April"},{value:"05",label:"May"},{value:"06",label:"June"},{value:"07",label:"July"},{value:"08",label:"August"},{value:"09",label:"September"},{value:"10",label:"October"},{value:"11",label:"November"},{value:"12",label:"December"}],L8=new Date().getFullYear(),FZe=Array.from({length:5},(e,t)=>L8-t),LZe=()=>{const{toast:e}=yn(),[t,r]=A.useState([]),[n,a]=A.useState([]),[i,o]=A.useState(!0),[s,l]=A.useState({}),[u,d]=A.useState(L8.toString()),[f,h]=A.useState(void 0),m=A.useCallback(async()=>{var _,b;o(!0);try{const S=await JFe({startDate:(_=s.dateRange)==null?void 0:_.from,endDate:(b=s.dateRange)==null?void 0:b.to,searchTerm:s.searchTerm});r(S||[]),a(S||[])}catch(S){console.error("Failed to fetch inventory logs:",S),e({variant:"destructive",title:"Error",description:"Failed to load inventory log history."}),r([]),a([])}finally{o(!1)}},[e,s.dateRange,s.searchTerm]);A.useEffect(()=>{m()},[m]),A.useEffect(()=>{let _=[...t];if(f&&u){const b=`${u}-${f}`;_=_.filter(S=>S.created_at.startsWith(b))}if(s.searchTerm){const b=s.searchTerm.toLowerCase();_=_.filter(S=>{var L,U,T,F,j,H;const C=(U=(L=S.inventory_items)==null?void 0:L.item_name)==null?void 0:U.toLowerCase().includes(b),E=(F=(T=S.inventory_items)==null?void 0:T.item_code)==null?void 0:F.toLowerCase().includes(b),O=S.change_type.toLowerCase().includes(b),P=(j=S.user_id)==null?void 0:j.toLowerCase().includes(b),I=(H=S.notes)==null?void 0:H.toLowerCase().includes(b);return C||E||O||P||I})}a(_)},[t,f,u,s.searchTerm]);const x=(_,b)=>{l(S=>({...S,[_]:b}))},g=()=>{if(u&&f&&!s.dateRange){const _=new Date(parseInt(u),parseInt(f)-1,1),b=new Date(parseInt(u),parseInt(f),0);x("dateRange",{from:_,to:b})}else!f&&!s.dateRange&&x("dateRange",void 0)};A.useEffect(()=>{g()},[f,u]);const y=()=>{l({}),h(void 0),d(L8.toString())};return w("div",{className:"space-y-4",children:[w("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 p-4 border rounded-md bg-muted/40",children:[w("div",{children:[c("label",{className:"text-sm font-medium mb-1 block",children:"Date Range"}),c(kM,{date:s.dateRange,onDateChange:_=>{x("dateRange",_),h(void 0)},className:"w-full"})]}),w("div",{children:[c("label",{className:"text-sm font-medium mb-1 block",children:"Year"}),w(zr,{value:u,onValueChange:d,children:[c($r,{children:c(Wr,{placeholder:"Select Year"})}),c(Br,{children:FZe.map(_=>c(_t,{value:_.toString(),children:_},_))})]})]}),w("div",{children:[c("label",{className:"text-sm font-medium mb-1 block",children:"Month"}),w(zr,{value:f,onValueChange:h,children:[c($r,{children:c(Wr,{placeholder:"Select Month (All)"})}),w(Br,{children:[c(_t,{value:"ALL_MONTHS",children:"All Months"})," ",MZe.map(_=>c(_t,{value:_.value,children:_.label},_.value))]})]})]}),w("div",{children:[c("label",{className:"text-sm font-medium mb-1 block",children:"Search Logs"}),c(ct,{placeholder:"Search by item, user, notes...",value:s.searchTerm||"",onChange:_=>x("searchTerm",_.target.value),className:"w-full"})]}),c("div",{className:"lg:col-span-4 flex justify-end",children:c(Fe,{variant:"ghost",onClick:y,children:"Clear Filters"})})]}),c(tu,{className:"h-[400px] md:h-[500px] border rounded-md",children:w(Fs,{children:[c(Ls,{className:"sticky top-0 bg-card z-10",children:w(Pn,{children:[c(Ht,{children:"Date"}),c(Ht,{children:"Item Name"}),c(Ht,{children:"SKU"}),c(Ht,{className:"text-right",children:"Change"}),c(Ht,{children:"Type"}),c(Ht,{children:"User"}),c(Ht,{children:"Notes"})]})}),c(js,{children:i?c(Pn,{children:c($t,{colSpan:7,className:"text-center h-32",children:"Loading log history..."})}):n.length===0?c(Pn,{children:c($t,{colSpan:7,className:"text-center h-32",children:"No log entries match your filters."})}):n.map(_=>{var b,S;return w(Pn,{children:[c($t,{children:Lt(new Date(_.created_at),"MMM d, yyyy HH:mm")}),c($t,{className:"font-medium",children:((b=_.inventory_items)==null?void 0:b.item_name)||"N/A"}),c($t,{children:((S=_.inventory_items)==null?void 0:S.item_code)||"N/A"}),c($t,{className:`text-right font-semibold ${_.quantity_change>0?"text-green-600":"text-red-600"}`,children:_.quantity_change>0?`+${_.quantity_change}`:_.quantity_change}),c($t,{children:_.change_type.replace(/_/g," ").replace(/\b\w/g,C=>C.toUpperCase())}),c($t,{children:_.user_id?`User: ${_.user_id.substring(0,8)}...`:"System"}),c($t,{className:"text-xs max-w-xs truncate",title:_.notes||"",children:_.notes||"N/A"})]},_.id)})})]})})]})},l5=["Expired","Damaged","Lost","Stock Count Correction","Used","Other"],jZe=je.enum(l5),joe=["image/png","image/jpeg","image/jpg"],$oe=2*1024*1024,$Ze=["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","text/csv"],BZe=je.object({quantity_to_decrease:je.number().int().positive({message:"Quantity must be a positive number."}).optional(),reason:jZe.optional(),notes:je.string().min(1,{message:"Notes are required for adjustment requests."}),approver_role_target:je.enum(["admin","doctor","owner"],{message:"Please select an approver role."}).optional(),photo_file:je.custom(e=>e instanceof File,"Photo proof is required.").refine(e=>!e||e.size<=$oe,"Photo size should be less than 2MB.").refine(e=>joe.includes((e==null?void 0:e.type)||""),"Only .png, .jpg, .jpeg files are accepted."),customApproverEmails:je.string().optional()}),UZe=()=>{var ce;const{toast:e}=yn(),{user:t}=si(),r=Bo(),[n,a]=A.useState([]),[i,o]=A.useState([]),[s,l]=A.useState(""),[u,d]=A.useState(null),[f,h]=A.useState(!0),[m,x]=A.useState(!1),[g,y]=A.useState(null),[_,b]=A.useState(null),[S,C]=A.useState([]),[E,O]=A.useState(!1),[P,I]=A.useState(!1),[L,U]=A.useState(null),[T,F]=A.useState(!1),[j,H]=A.useState(null),[X,re]=A.useState(!1),[z,G]=A.useState([]),[q,K]=A.useState(!1),J=()=>{const oe=t==null?void 0:t.role,ae=[{value:"admin",label:"Admin"},{value:"doctor",label:"Doctor"},{value:"owner",label:"Owner"}];if(!oe)return ae;switch(oe){case"admin":return ae.filter(Ne=>Ne.value==="doctor"||Ne.value==="owner");case"owner":return ae.filter(Ne=>Ne.value==="admin"||Ne.value==="doctor");case"doctor":return ae.filter(Ne=>Ne.value==="admin"||Ne.value==="owner");default:return ae}},D=ld({resolver:cd(BZe),defaultValues:{notes:"",photo_file:null,customApproverEmails:"",approver_role_target:void 0}}),Y=Qe.useCallback(async()=>{h(!0);try{const oe=await OR();a(oe||[]),o(oe||[])}catch(oe){console.error("Failed to fetch inventory items:",oe),e({variant:"destructive",title:"Error",description:"Failed to load items for selection."})}finally{h(!1)}},[e]);A.useEffect(()=>{Y()},[Y]),A.useEffect(()=>{const oe=s.toLowerCase(),ae=n.filter(Ne=>Ne.item_name.toLowerCase().includes(oe)||Ne.item_code&&Ne.item_code.toLowerCase().includes(oe)||Ne.category&&Ne.category.toLowerCase().includes(oe));o(ae)},[s,n]);const Q=oe=>{d(oe),O(!1),y(null),C([]),b(null),D.reset({quantity_to_decrease:void 0,reason:"Other",notes:D.getValues("notes")||"",photo_file:D.getValues("photo_file")||null,customApproverEmails:D.getValues("customApproverEmails")||""})},ie=A.useCallback(async()=>{if(!g){b("No file selected."),C([]);return}b(null),C([]),h(!0);try{const oe=new FileReader;oe.onload=async ae=>{var Ne;try{const Ie=(Ne=ae.target)==null?void 0:Ne.result;if(!Ie){b("Failed to read file data."),h(!1);return}const Te=E8(Ie,{type:"array"}),he=Te.SheetNames[0],Ge=Te.Sheets[he],mt=of.sheet_to_json(Ge);if(mt.length===0){b("File is empty or has no data in the first sheet."),h(!1);return}let ht=n;if(ht.length===0){if(await Y(),n.length===0){b("Inventory items not loaded. Please try again."),h(!1);return}ht=n}const Pt=[],ft=[];mt.forEach((_e,Ce)=>{const ze=_e.SKU||_e["Item Name"]||_e.sku||_e.item_name,gt=parseInt(_e["Quantity to Decrease"]||_e.quantity_to_decrease,10),pt=_e.Reason||_e.reason;if(!ze){ft.push(`Row ${Ce+2}: Missing SKU or Item Name.`);return}if(isNaN(gt)||gt<=0){ft.push(`Row ${Ce+2}: Invalid or missing 'Quantity to Decrease' for ${ze}. Must be a positive number.`);return}if(!pt||!l5.includes(pt)){ft.push(`Row ${Ce+2}: Invalid or missing 'Reason' for ${ze}. Valid reasons: ${l5.join(", ")}.`);return}const Re=ht.find(qe=>qe.item_code&&qe.item_code.toLowerCase()===String(ze).toLowerCase()||qe.item_name.toLowerCase()===String(ze).toLowerCase());if(!Re){ft.push(`Row ${Ce+2}: Item '${ze}' not found in inventory.`);return}if(gt>Re.quantity){ft.push(`Row ${Ce+2}: Quantity to decrease (${gt}) for '${ze}' exceeds current stock (${Re.quantity}).`);return}Pt.push({inventory_item_id:Re.id,item_name:Re.item_name,current_stock:Re.quantity,quantity_to_decrease:gt,reason:pt})}),ft.length>0?(b(`Validation errors found in the file:
- ${ft.join(`
- `)}`),C([])):(C(Pt),e({title:"File Processed",description:`${Pt.length} items ready for adjustment.`}))}catch(Ie){console.error("Error parsing file content:",Ie),b(`Error parsing file: ${Ie.message}`)}finally{h(!1)}},oe.onerror=ae=>{console.error("FileReader error:",ae),b("Failed to read the file."),h(!1)},oe.readAsArrayBuffer(g)}catch(oe){console.error("Error initiating file read:",oe),b(`Error reading file: ${oe.message}`),h(!1)}},[g,n,e,Y]),se=async()=>{if(t!=null&&t.id){K(!0);try{const oe=["pending","approved","rejected"],ae=await tLe(t.id,oe,20);G(ae)}catch(oe){console.error("Error fetching user's adjustment requests:",oe),e({variant:"destructive",title:"Error",description:"Could not load your adjustment requests."})}finally{K(!1)}}},te=()=>{se(),re(!0)},de=async(oe,ae,Ne)=>{var Ie;F(!0),H(null);try{const Te=await eLe(oe);if(Te){if(U(Te),Te.photo_url){const he=await $S(Te.photo_url);H(he)}e({title:"Request Submitted Successfully",description:ae?`${Ne} adjustment requests initiated. Displaying details for the first item.`:`Adjustment request for ${((Ie=Te.inventory_items)==null?void 0:Ie.item_name)||"item"} submitted.`})}else e({variant:"destructive",title:"Error",description:"Could not fetch details of the submitted request."})}catch(Te){console.error("Failed to fetch submitted request details:",Te),e({variant:"destructive",title:"Error",description:"Failed to load request details after submission."})}finally{D.reset({notes:"",photo_file:null,customApproverEmails:"",quantity_to_decrease:void 0,reason:void 0}),d(null),O(!1),y(null),C([]),b(null),Y(),F(!1)}},Z=async oe=>{var ae,Ne;x(!0);try{if(!(t!=null&&t.id)){e({variant:"destructive",title:"Error",description:"User not authenticated."});return}if(!oe.photo_file){D.setError("photo_file",{type:"manual",message:"Photo proof is required."});return}if(E&&S.length>0){if(_){e({variant:"destructive",title:"Error",description:"Cannot submit, please fix errors in the uploaded file."});return}try{const Ie=Nw();e({title:"Uploading Photo...",description:"Please wait."});const Te=await SW(oe.photo_file,Ie);e({title:"Submitting Bulk Request...",description:`Processing ${S.length} items from file.`});const he=((ae=oe.customApproverEmails)==null?void 0:ae.split(",").map(mt=>mt.trim()).filter(mt=>mt.length>0))||null;let Ge=null;for(const mt of S){const ht=await bW({inventory_item_id:mt.inventory_item_id,quantity_to_decrease:mt.quantity_to_decrease,reason:mt.reason,notes:oe.notes,photo_url:Te,requested_by_user_id:t.id,custom_approver_emails:he});Ge||(Ge=ht.id)}Ge?await de(Ge,!0,S.length):(e({title:"Success",description:`Bulk adjustment process completed for ${S.length} items. No specific request to display.`}),D.reset({notes:"",photo_file:null,customApproverEmails:""}),O(!1),y(null),C([]),b(null),Y())}catch(Ie){console.error("Failed to submit file-based bulk adjustment request:",Ie),e({variant:"destructive",title:"Bulk Adjustment Failed",description:(Ie==null?void 0:Ie.message)||"An unexpected error occurred during bulk submission."})}}else if(u&&oe.quantity_to_decrease!==void 0&&oe.reason!==void 0){if(u.quantity-oe.quantity_to_decrease<0){D.setError("quantity_to_decrease",{type:"manual",message:`Decrease quantity (${oe.quantity_to_decrease}) exceeds current stock (${u.quantity}) for ${u.item_name}.`});return}try{const Ie=Nw();e({title:"Uploading Photo...",description:"Please wait."});const Te=await SW(oe.photo_file,Ie);e({title:"Submitting Request...",description:"Saving adjustment request details."});const he=((Ne=oe.customApproverEmails)==null?void 0:Ne.split(",").map(mt=>mt.trim()).filter(mt=>mt.length>0))||null,Ge=await bW({inventory_item_id:u.id,quantity_to_decrease:oe.quantity_to_decrease,reason:oe.reason,notes:oe.notes,photo_url:Te,requested_by_user_id:t.id,custom_approver_emails:he});await de(Ge.id,!1)}catch(Ie){console.error("Failed to submit single adjustment request:",Ie),e({variant:"destructive",title:"Adjustment Failed",description:(Ie==null?void 0:Ie.message)||"An unexpected error occurred during single item submission."})}}else{e({variant:"destructive",title:"Error",description:"Form data is incomplete or invalid."});return}}catch(Ie){console.error("Overall submission process error:",Ie),e({variant:"destructive",title:"Submission Process Error",description:(Ie==null?void 0:Ie.message)||"An unexpected error occurred."})}finally{x(!1)}};return w("div",{className:"container mx-auto p-4 md:p-6",children:[c(Sa,{heading:L?"Adjustment Request Submitted":"Create Stock Adjustment Request",text:L?`Details for request ID: ${L.id}`:E?"Adjust stock via file upload.":u?`Adjusting: ${u.item_name} (Current Stock: ${u.quantity})`:"Select an item or upload a file to adjust stock."}),T?c("div",{className:"flex justify-center items-center h-64",children:c("p",{children:"Loading request details..."})}):L?w(lr,{className:"max-w-2xl mx-auto mt-6",children:[w(xr,{children:[w(wr,{className:"flex items-center",children:["Request Details",L.status==="approved"&&c(fce,{className:"ml-2 h-6 w-6 text-green-500"}),L.status==="pending"&&c(fc,{className:"ml-2 h-6 w-6 text-yellow-500"}),L.status==="rejected"&&c(fc,{className:"ml-2 h-6 w-6 text-red-500"})]}),w(yc,{children:["Item: ",((ce=L.inventory_items)==null?void 0:ce.item_name)||"N/A"]})]}),w(mr,{className:"space-y-4",children:[w("div",{children:[c("strong",{children:"Request ID:"})," ",L.id]}),w("div",{children:[c("strong",{children:"Quantity Decreased:"})," ",L.quantity_to_decrease]}),w("div",{children:[c("strong",{children:"Reason:"})," ",L.reason]}),w("div",{children:[c("strong",{children:"Notes:"})," ",L.notes]}),w("div",{children:[c("strong",{children:"Status:"}),c("span",{className:`ml-1 font-semibold ${L.status==="approved"?"text-green-600":L.status==="rejected"?"text-red-600":"text-yellow-600"}`,children:L.status.toUpperCase()})]}),w("div",{children:[c("strong",{children:"Requested At:"})," ",new Date(L.requested_at).toLocaleString()]}),w("div",{children:[c("strong",{children:"Requested By:"})," ",L.requester_profile&&`${L.requester_profile.first_name||""} ${L.requester_profile.last_name||""}`.trim()||"N/A"]}),L.reviewed_by_user_id&&w(Sr,{children:[w("div",{children:[c("strong",{children:"Reviewed At:"})," ",L.reviewed_at?new Date(L.reviewed_at).toLocaleString():"N/A"]}),w("div",{children:[c("strong",{children:"Reviewer Notes:"})," ",L.reviewer_notes||"N/A"]})]}),j?w("div",{className:"mt-4",children:[c("strong",{children:"Proof Photo:"}),c("img",{src:j,alt:"Adjustment Proof",className:"rounded-md border max-w-xs max-h-64 mt-2"})]}):L.photo_url?w("div",{className:"mt-4",children:[c("strong",{children:"Proof Photo:"}),w("div",{className:"flex items-center text-muted-foreground",children:[c(KH,{className:"mr-2 h-5 w-5"}),c("span",{children:"Loading photo or photo not available..."})]})]}):null,w("div",{className:"flex justify-end space-x-3 pt-4",children:[w(Fe,{variant:"outline",onClick:()=>{U(null),H(null)},children:[c(Ch,{className:"mr-2 h-4 w-4"})," Make Another Adjustment"]}),w(Fe,{onClick:()=>r("/inventory"),children:[c(wce,{className:"mr-2 h-4 w-4"})," Go to Inventory"]})]})]})]}):!u&&!E?w(Sr,{children:[w("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center my-4 space-y-2 sm:space-y-0",children:[c(ct,{placeholder:"Search items by name, SKU, or category...",value:s,onChange:oe=>l(oe.target.value),className:"max-w-full sm:max-w-sm"}),w("div",{className:"flex space-x-2",children:[" ",w(Fe,{onClick:()=>{O(!0),d(null),C([]),b(null);const oe={notes:D.getValues("notes"),photo_file:D.getValues("photo_file"),customApproverEmails:D.getValues("customApproverEmails")};D.reset({...oe})},children:[c(Z0,{className:"mr-2 h-4 w-4"})," Adjust via Bulk Upload"]}),c(Fe,{variant:"outline",onClick:()=>I(!0),children:"View Modification History"}),w(Fe,{variant:"outline",onClick:te,children:[c(XH,{className:"mr-2 h-4 w-4"})," View My Requests"]})]})]}),c(tu,{className:"h-[calc(100vh-420px)] border rounded-md",children:w(Fs,{children:[c(Ls,{className:"sticky top-0 bg-card z-10",children:w(Pn,{children:[c(Ht,{children:"Item Name"}),c(Ht,{children:"SKU"}),c(Ht,{children:"Category"}),c(Ht,{className:"text-right",children:"Current Stock"}),c(Ht,{className:"text-right",children:"Actions"})]})}),c(js,{children:f?c(Pn,{children:c($t,{colSpan:5,className:"text-center",children:"Loading items..."})}):i.length===0?c(Pn,{children:c($t,{colSpan:5,className:"text-center",children:"No items match your search or no items available."})}):i.map(oe=>w(Pn,{children:[c($t,{className:"font-medium",children:oe.item_name}),c($t,{children:oe.item_code||"N/A"}),c($t,{children:oe.category||"N/A"}),c($t,{className:"text-right",children:oe.quantity}),c($t,{className:"text-right",children:c(Fe,{variant:"outline",size:"sm",onClick:()=>Q(oe),disabled:m,children:"Adjust"})})]},oe.id))})]})})]}):w("div",{className:"max-w-2xl mx-auto mt-6",children:[E?w("div",{className:"space-y-6 p-6 border rounded-lg shadow-sm bg-card mb-6",children:[" ",w("div",{className:"flex justify-between items-center",children:[c("h3",{className:"text-lg font-semibold",children:"Bulk Adjust via File Upload"}),c(Fe,{variant:"ghost",size:"sm",onClick:()=>{O(!1),y(null),C([]),b(null);const oe={notes:D.getValues("notes"),photo_file:D.getValues("photo_file"),customApproverEmails:D.getValues("customApproverEmails")};D.reset({...oe})},children:"Cancel File Upload"})]}),w("div",{children:[c("label",{htmlFor:"adjustment-file-upload",className:"block text-sm font-medium text-foreground mb-1",children:"Upload Adjustment File (.xlsx, .csv)"}),c("div",{className:"flex items-center justify-center w-full",children:w("label",{htmlFor:"adjustment-file-upload",className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed rounded-lg cursor-pointer bg-card hover:bg-muted/50",children:[w("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[c(Z0,{className:"w-8 h-8 mb-4 text-muted-foreground"}),w("p",{className:"mb-2 text-sm text-muted-foreground",children:[c("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),c("p",{className:"text-xs text-muted-foreground",children:"XLSX, CSV (MAX. 5MB)"})]}),c(ct,{id:"adjustment-file-upload",type:"file",className:"hidden",accept:$Ze.join(","),onChange:oe=>{y(oe.target.files?oe.target.files[0]:null),C([]),b(null)}})]})}),g&&w("p",{className:"text-sm text-muted-foreground mt-2 text-center",children:["Selected: ",g.name]}),_&&c("p",{className:"text-sm font-medium text-destructive mt-1",children:_}),c("p",{className:"text-xs text-muted-foreground mt-1 text-center",children:"Expected columns: 'SKU' (or 'Item Name'), 'Quantity to Decrease', 'Reason'."})]}),c(Fe,{onClick:ie,disabled:!g||f||m,children:f?"Processing File...":"Process Uploaded File"}),S.length>0&&!_&&w("div",{className:"mt-4 p-3 bg-green-100 border border-green-300 rounded-md",children:[w("p",{className:"text-green-700 font-semibold",children:[S.length," items parsed successfully and ready for adjustment."]}),c("p",{className:"text-xs text-green-600",children:"Review common fields below and submit."})]})]}):null,c(Rh,{...D,children:w("form",{onSubmit:D.handleSubmit(Z),className:"space-y-8 p-6 border rounded-lg shadow-sm bg-card",children:[!E&&u&&w("h3",{className:"text-lg font-semibold",children:["Adjusting Single Item: ",u.item_name," (Current: ",u.quantity,")"]}),!E&&u&&w(Sr,{children:[c(He,{control:D.control,name:"quantity_to_decrease",render:({field:oe})=>w(De,{children:[c(Oe,{children:"Quantity to Decrease"}),c(Me,{children:c(ct,{type:"number",min:"1",placeholder:"Enter positive quantity",...oe,onChange:ae=>oe.onChange(parseInt(ae.target.value,10)||0),disabled:m})}),c(Ze,{})]})}),c(He,{control:D.control,name:"reason",render:({field:oe})=>w(De,{children:[c(Oe,{children:"Reason for Adjustment"}),w(zr,{onValueChange:oe.onChange,defaultValue:oe.value,disabled:m,children:[c(Me,{children:c($r,{children:c(Wr,{placeholder:"Select reason"})})}),c(Br,{children:l5.map(ae=>c(_t,{value:ae,children:ae.replace(/_/g," ").replace(/\b\w/g,Ne=>Ne.toUpperCase())},ae))})]}),c(Ze,{})]})})]}),(u||E&&S.length>0&&!_)&&w(Sr,{children:[c(He,{control:D.control,name:"photo_file",render:({field:oe})=>w(De,{children:[c(Oe,{children:"Photo Proof (Required)"}),c(Me,{children:c(nm,{value:oe.value,onFileChange:ae=>oe.onChange(ae),accept:joe.join(","),maxSize:$oe,disabled:m})}),c(Ze,{})]})}),c(He,{control:D.control,name:"notes",render:({field:oe})=>w(De,{children:[c(Oe,{children:"Notes (Required)"}),c(Me,{children:c(Jr,{placeholder:"Explain the reason for adjustment...",...oe,disabled:m})}),c(Ze,{})]})}),c(He,{control:D.control,name:"approver_role_target",render:({field:oe})=>w(De,{children:[c(Oe,{children:"Assign Approver To"}),w(zr,{onValueChange:ae=>{oe.onChange(ae);const Ne=J();Ne.length===1&&Ne[0].value},value:oe.value,disabled:m,children:[c(Me,{children:c($r,{children:c(Wr,{placeholder:"Select role to approve this request"})})}),c(Br,{children:J().map(ae=>c(_t,{value:ae.value,children:ae.label},ae.value))})]}),c(Ze,{}),c("p",{className:"text-xs text-muted-foreground",children:"Select the role that should approve this request."})]})}),c(He,{control:D.control,name:"customApproverEmails",render:({field:oe})=>w(De,{children:[c(Oe,{children:"Custom Approver Emails (Optional)"}),c(Me,{children:c(ct,{placeholder:"e.g., approver1@example.com, approver2@example.com",...oe,disabled:m})}),c(Ze,{}),c("p",{className:"text-xs text-muted-foreground",children:"Enter comma-separated email addresses if you want to notify specific people instead of the default role-based approvers."})]})}),w("div",{className:"flex justify-end space-x-3 pt-4",children:[c(Fe,{type:"button",variant:"outline",onClick:()=>{d(null),O(!1),y(null),C([]),b(null),D.reset({notes:"",photo_file:null,customApproverEmails:"",approver_role_target:void 0,quantity_to_decrease:void 0,reason:void 0})},disabled:m,children:"Cancel"}),c(Fe,{type:"submit",disabled:m||!u&&!E||E&&S.length===0,children:m?"Submitting...":"Submit Adjustment Request(s)"})]})]})]})})]}),P&&c($a,{open:P,onOpenChange:I,children:w(Ta,{className:"sm:max-w-xl md:max-w-2xl lg:max-w-4xl xl:max-w-5xl",children:[" ",c(Oa,{children:c(Da,{children:"Inventory Modification Log"})}),w("div",{className:"py-1 max-h-[70vh] overflow-y-auto",children:[" ",c(LZe,{})]}),w(Ji,{className:"sm:justify-start",children:[" ",c(Fe,{variant:"outline",onClick:()=>I(!1),className:"mt-2 sm:mt-0",children:"Close"})]})]})}),X&&c($a,{open:X,onOpenChange:re,children:w(Ta,{className:"sm:max-w-2xl md:max-w-3xl lg:max-w-4xl",children:[w(Oa,{children:[c(Da,{children:"My Adjustment Requests"}),c(Yi,{children:"Showing your most recent adjustment requests. Click a request to view its full details."})]}),c("div",{className:"py-4 max-h-[70vh] overflow-y-auto",children:q?c("p",{children:"Loading your requests..."}):z.length===0?c("p",{children:"You have no adjustment requests."}):w(Fs,{children:[c(Ls,{children:w(Pn,{children:[c(Ht,{children:"Item"}),c(Ht,{children:"Quantity"}),c(Ht,{children:"Reason"}),c(Ht,{children:"Date"}),c(Ht,{children:"Status"}),c(Ht,{className:"text-right",children:"Actions"})]})}),c(js,{children:z.map(oe=>{var ae;return w(Pn,{children:[c($t,{children:((ae=oe.inventory_items)==null?void 0:ae.item_name)||"N/A"}),c($t,{children:oe.quantity_to_decrease}),c($t,{children:oe.reason}),c($t,{children:new Date(oe.requested_at).toLocaleDateString()}),c($t,{children:c("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${oe.status==="approved"?"bg-green-100 text-green-700":oe.status==="rejected"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:oe.status.toUpperCase()})}),c($t,{className:"text-right",children:c(Fe,{variant:"outline",size:"sm",onClick:()=>{U(oe),oe.photo_url?$S(oe.photo_url).then(H):H(null),re(!1)},children:"View Details"})})]},oe.id)})})]})}),c(Ji,{children:c(Fe,{variant:"outline",onClick:()=>re(!1),children:"Close"})})]})})]})},qZe=()=>{const{toast:e}=yn(),{user:t}=si(),r=Bo(),[n,a]=A.useState([]),[i,o]=A.useState(!0),[s,l]=A.useState(!1),[u,d]=A.useState({}),[f,h]=A.useState(""),m=A.useCallback(async()=>{o(!0);try{const y=await OR();a(y||[]);const _={};(y||[]).forEach(b=>{_[b.id]={physicalCount:void 0,notes:""}}),d(_)}catch(y){console.error("Failed to fetch inventory items:",y),e({variant:"destructive",title:"Error",description:"Failed to load items for stock take."})}finally{o(!1)}},[e]);A.useEffect(()=>{m()},[m]);const x=(y,_,b)=>{d(S=>({...S,[y]:{...S[y],[_]:_==="physicalCount"?b===""?void 0:parseInt(String(b),10):String(b)}}))},g=async()=>{if(!(t!=null&&t.id)){e({variant:"destructive",title:"Error",description:"User not authenticated."});return}l(!0);const y=[];let _=0;if(n.forEach(b=>{const S=u[b.id];if(S&&S.physicalCount!==void 0&&S.physicalCount>=0){_++;const C={inventory_item_id:b.id,system_quantity_at_count:b.quantity,physical_counted_quantity:S.physicalCount,counted_by_user_id:t.id,notes:S.notes||f||null};y.push(nLe(C))}}),_===0){e({variant:"default",title:"No Data",description:"No physical counts entered to submit."}),l(!1);return}try{await Promise.all(y),e({title:"Success",description:`${_} stock take entries recorded successfully.`}),r("/inventory"),m(),h("")}catch(b){console.error("Failed to record one or more stock takes:",b),e({variant:"destructive",title:"Stock Take Submission Failed",description:"An error occurred while saving some entries. Please check and try again."})}finally{l(!1)}};return i?c("div",{className:"p-4",children:"Loading inventory items..."}):w("div",{className:"container mx-auto p-4 md:p-6",children:[c(Sa,{heading:"Perform Stock Take",text:"Enter the physical count for each item. Only items with a physical count will be submitted."}),w("div",{className:"mt-6",children:[c("div",{className:"mb-4",children:c(Jr,{placeholder:"Global notes for this stock take session (optional)",value:f,onChange:y=>h(y.target.value),className:"max-w-xl",disabled:s})}),w(tu,{className:"h-[calc(100vh-300px)] border rounded-md",children:[" ",w(Fs,{children:[c(Ls,{className:"sticky top-0 bg-background z-10",children:w(Pn,{children:[c(Ht,{className:"w-[300px]",children:"Item Name"}),c(Ht,{className:"text-right",children:"System Qty"}),c(Ht,{className:"w-[150px] text-right",children:"Physical Count"}),c(Ht,{className:"w-[250px]",children:"Item Notes (Optional)"})]})}),c(js,{children:n.length===0&&!i?c(Pn,{children:c($t,{colSpan:4,className:"text-center",children:"No inventory items found."})}):n.map(y=>{var _,b;return w(Pn,{children:[c($t,{className:"font-medium",children:y.item_name}),c($t,{className:"text-right",children:y.quantity}),c($t,{className:"text-right",children:c(ct,{type:"number",min:"0",placeholder:"Count",value:((_=u[y.id])==null?void 0:_.physicalCount)??"",onChange:S=>x(y.id,"physicalCount",S.target.value),className:"text-right",disabled:s})}),c($t,{children:c(ct,{type:"text",placeholder:"Notes for this item",value:((b=u[y.id])==null?void 0:b.notes)??"",onChange:S=>x(y.id,"notes",S.target.value),disabled:s})})]},y.id)})})]})]}),w("div",{className:"mt-6 flex justify-end space-x-3",children:[c(Fe,{type:"button",variant:"outline",onClick:()=>r("/inventory"),disabled:s,children:"Cancel"}),c(Fe,{onClick:g,disabled:s||i,children:s?"Submitting Stock Take...":"Submit Stock Take"})]})]})]})},zZe=({allowedRoles:e,children:t,fallback:r})=>{const{user:n,loading:a}=si();if(a)return c("div",{className:"flex justify-center items-center h-screen",children:"Loading authentication status..."});if(!n)return c(Sr,{children:r||c("div",{className:"flex justify-center items-center h-screen",children:"Access Denied: Not Logged In."})});const i=n.role;return!i||!e.includes(i)?c(Sr,{children:r||c("div",{className:"flex justify-center items-center h-screen",children:"Access Denied: You do not have the required permissions."})}):c(Sr,{children:t})},LT=e=>{if(!e)return!1;const t=new Date(e);return!isNaN(t.getTime())},WZe=()=>{var G,q,K,J;const{user:e}=si(),{toast:t}=yn(),[r,n]=A.useState([]),[a,i]=A.useState(!0),[o,s]=A.useState(null),[l,u]=A.useState(null),[d,f]=A.useState([]),[h,m]=A.useState(!0),[x,g]=A.useState(null),[y,_]=A.useState(!1),[b,S]=A.useState(null),[C,E]=A.useState(""),[O,P]=A.useState(!1),[I,L]=A.useState(null),U=A.useCallback(async()=>{if(!(e!=null&&e.id)||!(e!=null&&e.role)){i(!1),e!=null&&e.id&&!(e!=null&&e.role)&&t({variant:"destructive",title:"Error",description:"User role not found for adjustments."});return}i(!0);try{const D=await QFe(e.id,e.role);n(D)}catch(D){console.error("Error fetching pending adjustment requests:",D),t({variant:"destructive",title:"Error",description:"Could not load pending adjustment requests."})}finally{i(!1)}},[t,e]),T=A.useCallback(async()=>{if(!(e!=null&&e.id)||!(e!=null&&e.role)){m(!1),e!=null&&e.id&&!(e!=null&&e.role)&&t({variant:"destructive",title:"Error",description:"User role not found for urgent purchases."});return}m(!0);try{const Y=(await J3({status:"pending_approval"})).filter(Q=>Q.requested_by_user_id!==e.id);f(Y)}catch(D){console.error("Error fetching pending urgent purchases:",D),t({variant:"destructive",title:"Error",description:"Could not load pending urgent purchases."})}finally{m(!1)}},[t,e]);A.useEffect(()=>{e&&(U(),T())},[U,T,e]);const F=async(D,Y)=>{if(s(D),L("adjustment"),S(Y),_(!0),E(""),u(null),D.photo_url)try{const Q=await $S(D.photo_url);u(Q)}catch(Q){console.error("Error fetching photo preview for adjustment:",Q),t({variant:"destructive",title:"Error",description:"Could not load adjustment proof photo."})}},j=async(D,Y)=>{g(D),L("urgent_purchase"),S(Y),_(!0),E("")},H=async()=>{if(!(!b||!(e!=null&&e.id))&&!(I==="adjustment"&&!o)&&!(I==="urgent_purchase"&&!x)){P(!0);try{if(I==="adjustment"){const D=o;b==="approve"?(await Jne(D.id,e.id,C),t({title:"Success",description:`Adjustment Request ${D.id.substring(0,8)} approved.`})):(await Qne(D.id,e.id,C),t({title:"Success",description:`Adjustment Request ${D.id.substring(0,8)} rejected.`})),U()}else if(I==="urgent_purchase"){const D=x;if(b==="approve")await bZe(D.id,e.id,C),t({title:"Success",description:`Urgent Purchase ${D.id.substring(0,8)} approved.`});else{if(!C.trim()&&((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="owner")){t({variant:"destructive",title:"Validation Error",description:"Reviewer notes are required to reject."}),P(!1);return}await SZe(D.id,e.id,C),t({title:"Success",description:`Urgent Purchase ${D.id.substring(0,8)} rejected.`})}T()}_(!1),s(null),g(null),L(null)}catch(D){console.error(`Error ${b}ing request:`,D),t({variant:"destructive",title:"Error",description:D.message||`Failed to ${b} request.`})}finally{P(!1)}}},X=["admin","owner","doctor"],re=()=>c(Sr,{children:a?c("p",{children:"Loading adjustment requests..."}):r.length===0?w(lr,{children:[c(xr,{children:c(wr,{children:"No Pending Adjustment Requests"})}),c(mr,{children:c("p",{children:"There are currently no inventory adjustment requests awaiting approval."})})]}):w(lr,{children:[w(xr,{children:[c(wr,{children:"Pending Adjustment Requests"}),w(yc,{children:[r.length," request(s) awaiting review."]})]}),c(mr,{children:w(Fs,{children:[c(Ls,{children:w(Pn,{children:[c(Ht,{children:"Item Name"}),c(Ht,{children:"Quantity"}),c(Ht,{children:"Reason"}),c(Ht,{children:"Requested By"}),c(Ht,{children:"Date"}),c(Ht,{className:"text-right",children:"Actions"})]})}),c(js,{children:r.map(D=>{var Y,Q,ie;return w(Pn,{children:[c($t,{children:((Y=D.inventory_items)==null?void 0:Y.item_name)||"N/A"}),c($t,{children:D.quantity_to_decrease}),c($t,{children:D.reason}),w($t,{children:[((Q=D.requester_profile)==null?void 0:Q.first_name)||""," ",((ie=D.requester_profile)==null?void 0:ie.last_name)||""]}),c($t,{children:new Date(D.requested_at).toLocaleDateString()}),w($t,{className:"text-right space-x-2",children:[w(Fe,{variant:"outline",size:"sm",onClick:()=>F(D,"approve"),children:[c(tF,{className:"mr-1 h-4 w-4"})," Approve"]}),((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="owner")&&w(Fe,{variant:"outline",size:"sm",onClick:()=>F(D,"reject"),children:[c(eF,{className:"mr-1 h-4 w-4"})," Reject"]})]})]},D.id)})})]})})]})}),z=()=>c(Sr,{children:h?c("p",{children:"Loading urgent purchase requests..."}):d.length===0?w(lr,{children:[c(xr,{children:c(wr,{children:"No Pending Urgent Purchases"})}),c(mr,{children:c("p",{children:"There are currently no urgent purchase requests awaiting approval."})})]}):w(lr,{children:[w(xr,{children:[c(wr,{children:"Pending Urgent Purchase Requests"}),w(yc,{children:[d.length," request(s) awaiting review."]})]}),c(mr,{children:w(Fs,{children:[c(Ls,{children:w(Pn,{children:[c(Ht,{children:"Slip/Notes"}),c(Ht,{children:"Items"}),c(Ht,{children:"Requested By (ID)"})," ",c(Ht,{children:"Targeted Role"}),c(Ht,{children:"Date"}),c(Ht,{className:"text-right",children:"Actions"})]})}),c(js,{children:d.map(D=>{var Y;return w(Pn,{children:[w($t,{children:[D.slip_filename||((Y=D.notes)==null?void 0:Y.substring(0,30))||"N/A",D.notes&&D.notes.length>30?"...":""]}),w($t,{children:[D.items.length," item(s)"]}),w($t,{className:"font-mono text-xs",children:[D.requested_by_user_id.substring(0,8),"..."]}),c($t,{children:D.target_approval_role?D.target_approval_role.charAt(0).toUpperCase()+D.target_approval_role.slice(1):"N/A"}),c($t,{children:LT(D.requested_at)?Lt(new Date(D.requested_at),"PP"):"N/A"}),w($t,{className:"text-right space-x-2",children:[w(Fe,{variant:"outline",size:"sm",onClick:()=>j(D,"approve"),children:[c(tF,{className:"mr-1 h-4 w-4"})," Approve"]}),((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="owner")&&w(Fe,{variant:"outline",size:"sm",onClick:()=>j(D,"reject"),children:[c(eF,{className:"mr-1 h-4 w-4"})," Reject"]})]})]},D.id)})})]})})]})});return w(zZe,{allowedRoles:X,children:[w("div",{className:"container mx-auto p-4 md:p-6",children:[c(Sa,{heading:"Approval Requests",text:"Review and process pending requests."}),w(Dg,{defaultValue:"adjustments",className:"w-full mt-4",children:[w(Ig,{className:"grid w-full grid-cols-2",children:[c(ll,{value:"adjustments",children:"Inventory Adjustments"}),c(ll,{value:"urgent_purchases",children:"Urgent Purchases"})]}),c(Ei,{value:"adjustments",className:"mt-4",children:re()}),c(Ei,{value:"urgent_purchases",className:"mt-4",children:z()})]})]}),y&&c($a,{open:y,onOpenChange:D=>{_(D),D||(s(null),g(null),L(null))},children:w(Ta,{className:"sm:max-w-lg",children:[w(Oa,{children:[w(Da,{children:[b==="approve"?"Approve":"Reject"," ",I==="adjustment"?"Adjustment":"Urgent Purchase"," Request"]}),I==="adjustment"&&o&&w(Yi,{children:["Review details for request ID: ",o.id.substring(0,8),"... for item: ",((G=o.inventory_items)==null?void 0:G.item_name)||"N/A"]}),I==="urgent_purchase"&&x&&w(Yi,{children:["Review details for urgent purchase ID: ",x.id.substring(0,8),"...",x.slip_filename?` (Slip: ${x.slip_filename})`:""]})]}),w("div",{className:"py-4 space-y-3 max-h-[60vh] overflow-y-auto",children:[I==="adjustment"&&o&&w(Sr,{children:[w("p",{children:[c("strong",{children:"Item:"})," ",(q=o.inventory_items)==null?void 0:q.item_name]}),w("p",{children:[c("strong",{children:"Quantity to Decrease:"})," ",o.quantity_to_decrease]}),w("p",{children:[c("strong",{children:"Reason:"})," ",o.reason]}),w("p",{children:[c("strong",{children:"Notes by Requester:"})," ",o.notes]}),w("p",{children:[c("strong",{children:"Requested By:"})," ",((K=o.requester_profile)==null?void 0:K.first_name)||""," ",((J=o.requester_profile)==null?void 0:J.last_name)||""]}),w("p",{children:[c("strong",{children:"Requested At:"})," ",new Date(o.requested_at).toLocaleString()]}),o.photo_url&&w("div",{children:[c("strong",{children:"Proof Photo:"}),l?c("img",{src:l,alt:"Adjustment Proof",className:"rounded-md border max-w-xs max-h-64 mt-1"}):c("p",{className:"text-sm text-muted-foreground",children:"Loading photo..."})]})]}),I==="urgent_purchase"&&x&&w(Sr,{children:[w("p",{children:[c("strong",{children:"Requested By (ID):"})," ",x.requested_by_user_id]})," ",w("p",{children:[c("strong",{children:"Requested At:"})," ",LT(x.requested_at)?Lt(new Date(x.requested_at),"PPpp"):"N/A"]}),w("p",{children:[c("strong",{children:"Targeted For Role:"})," ",x.target_approval_role?x.target_approval_role.charAt(0).toUpperCase()+x.target_approval_role.slice(1):"N/A"]}),x.slip_filename&&w("p",{children:[c("strong",{children:"Slip Filename:"})," ",x.slip_filename]}),x.invoice_delivery_date&&w("p",{children:[c("strong",{children:"Invoice/Delivery Date:"})," ",LT(x.invoice_delivery_date)?Lt(new Date(x.invoice_delivery_date),"PP"):"N/A"]}),w("p",{children:[c("strong",{children:"Notes:"})," ",x.notes||"N/A"]}),c("p",{children:c("strong",{children:"Items:"})}),c("ul",{className:"list-disc pl-5 space-y-1 text-sm",children:x.items.map(D=>w("li",{children:[D.matched_item_name," (Qty: ",D.quantity,")",D.batch_number&&` - Batch: ${D.batch_number}`,D.expiry_date&&` - Expires: ${new Date(D.expiry_date).toLocaleDateString()}`]},D.id||D.inventory_item_id))})]}),w("div",{children:[w("label",{htmlFor:"reviewerNotes",className:"block text-sm font-medium",children:["Reviewer Notes ",b==="approve"?"(Optional)":"(Required for Reject)",":"]}),c(Jr,{id:"reviewerNotes",value:C,onChange:D=>E(D.target.value),placeholder:"Add any notes for this decision...",className:"mt-1",rows:3})]})]}),w(Ji,{children:[c(Fe,{variant:"outline",onClick:()=>_(!1),disabled:O,children:"Cancel"}),c(Fe,{onClick:H,disabled:O||b==="reject"&&((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="owner")&&!C.trim(),variant:b==="reject"&&((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="owner")?"destructive":"default",children:O?"Submitting...":`Confirm ${b==="approve"?"Approve":"Reject"}`})]})]})})]})},VZe=()=>{const{requestId:e,approvalToken:t}=oy(),r=Bo(),{user:n}=si(),{toast:a}=yn(),[i,o]=A.useState(null),[s,l]=A.useState(null),[u,d]=A.useState(!0),[f,h]=A.useState(!1),[m,x]=A.useState(""),[g,y]=A.useState(null),_=A.useCallback(async()=>{if(!e||!t){y("Request ID or approval token is missing."),d(!1);return}d(!0);try{const C=await rLe(e,t);C?(o(C),C.photo_url&&$S(C.photo_url).then(E=>l(E)).catch(E=>console.error("Failed to load photo for approval page",E))):y("Invalid or expired approval link, or request not found/pending.")}catch(C){console.error("Error fetching request for approval:",C),y(C.message||"Could not load request details.")}finally{d(!1)}},[e,t]);A.useEffect(()=>{_()},[_]);const b=async()=>{if(!(!(n!=null&&n.id)||!i)){if(n.id===i.requested_by_user_id){a({variant:"destructive",title:"Action Denied",description:"You cannot approve your own request."});return}h(!0);try{await Jne(i.id,n.id,m),a({title:"Success",description:"Request approved and stock updated."}),r("/inventory/adjustment-requests")}catch(C){a({variant:"destructive",title:"Approval Failed",description:C.message})}finally{h(!1)}}},S=async()=>{if(!(!(n!=null&&n.id)||!i)){if(n.id===i.requested_by_user_id){a({variant:"destructive",title:"Action Denied",description:"You cannot reject your own request."});return}if(!m.trim()){a({variant:"destructive",title:"Validation Error",description:"Reviewer notes are required for rejection."});return}h(!0);try{await Qne(i.id,n.id,m),a({title:"Success",description:"Request rejected."}),r("/inventory/adjustment-requests")}catch(C){a({variant:"destructive",title:"Rejection Failed",description:C.message})}finally{h(!1)}}};return u?c("div",{className:"container mx-auto p-6 flex justify-center items-center min-h-[calc(100vh-200px)]",children:c(Zn,{className:"h-12 w-12 animate-spin text-primary"})}):g?w("div",{className:"container mx-auto p-6 text-center",children:[c(fc,{className:"mx-auto h-12 w-12 text-red-500 mb-4"}),c("h2",{className:"text-xl font-semibold text-red-600",children:"Access Denied or Error"}),c("p",{className:"text-red-500 mt-2",children:g}),c(Fe,{onClick:()=>r("/"),className:"mt-6",children:"Go to Dashboard"})]}):i?w("div",{className:"container mx-auto p-4 md:p-6 max-w-2xl",children:[c(Sa,{heading:"Approve Inventory Adjustment",text:`Review and process adjustment request ID: ...${i.id.slice(-8)}`}),w(lr,{className:"mt-6",children:[w(xr,{children:[w(wr,{children:["Item: ",i.item_name||"N/A"]}),w(yc,{children:["Requested by: ",i.requester_name||i.requested_by_user_id," on ",new Date(i.requested_at).toLocaleDateString()]})]}),w(mr,{className:"space-y-4",children:[w("p",{children:[c("strong",{children:"Quantity to Decrease:"})," ",i.quantity_to_decrease]}),w("p",{children:[c("strong",{children:"Reason:"})," ",i.reason]}),w("p",{children:[c("strong",{children:"Requester Notes:"})," ",i.notes]}),i.photo_url&&w("div",{children:[c("strong",{children:"Photo Proof:"}),c("br",{}),s?c("a",{href:s,target:"_blank",rel:"noopener noreferrer",children:c("img",{src:s,alt:"Adjustment Proof",className:"max-w-full md:max-w-md border rounded mt-1"})}):c("p",{children:"Loading photo..."})]}),w("div",{className:"space-y-1",children:[c("label",{htmlFor:"reviewerNotes",className:"text-sm font-medium",children:"Your Reviewer Notes:"}),c(Jr,{id:"reviewerNotes",value:m,onChange:C=>x(C.target.value),placeholder:"Add notes for approval or rejection (required for rejection)",rows:3,disabled:f||i.status!=="pending"})]})]}),i.status==="pending"&&w(Q0,{className:"flex justify-end space-x-2",children:[w(Fe,{variant:"outline",onClick:S,disabled:f||(n==null?void 0:n.id)===i.requested_by_user_id,className:"text-red-600 border-red-600 hover:bg-red-50 disabled:opacity-50",title:(n==null?void 0:n.id)===i.requested_by_user_id?"Cannot reject your own request":"",children:[c($ce,{className:"mr-2 h-4 w-4"})," Reject"]}),w(Fe,{onClick:b,disabled:f||(n==null?void 0:n.id)===i.requested_by_user_id,className:"bg-green-600 hover:bg-green-700 text-white disabled:opacity-50",title:(n==null?void 0:n.id)===i.requested_by_user_id?"Cannot approve your own request":"",children:[c(ax,{className:"mr-2 h-4 w-4"})," Approve"]})]}),i.status!=="pending"&&c(Q0,{children:w("p",{className:"text-sm text-muted-foreground",children:["This request has already been processed (Status: ",i.status,")."]})})]})]}):c("div",{className:"container mx-auto p-6 text-center",children:"Request not found."})};function HZe(){const[e]=UH(),t=e.get("q"),[r,n]=A.useState([]),[a,i]=A.useState(!1),[o,s]=A.useState(null);return A.useEffect(()=>{t?(console.log(`Fetching patient search results for: ${t}`),i(!0),s(null),zt.patients.search(t).then(l=>{n(l||[]),i(!1)}).catch(l=>{console.error("Patient search failed:",l),s(l.message||"Failed to fetch patient search results."),n([]),i(!1)})):(n([]),s(null))},[t]),w("div",{className:"space-y-6",children:[c(Sa,{heading:`Search Results for "${t||""}"`,text:a?"Searching patients...":o?"Error fetching results":`Found ${r.length} patient results.`}),a?c("div",{className:"flex justify-center items-center py-10",children:c(Zn,{className:"w-8 h-8 animate-spin text-primary"})}):o?c("div",{className:"text-center text-red-600 py-10",children:w("p",{children:["Error: ",o]})}):w("div",{className:"space-y-4",children:[r.length>0?r.map(l=>w("div",{className:"border p-4 rounded-md shadow-sm hover:shadow-md transition-shadow",children:[w("h3",{className:"text-lg font-semibold",children:[l.first_name," ",l.last_name]}),l.email&&w("p",{className:"text-sm text-muted-foreground",children:["Email: ",l.email]}),l.phone&&w("p",{className:"text-sm text-muted-foreground",children:["Phone: ",l.phone]}),c(Vi,{to:`/patients/${l.id}`,className:"text-blue-600 hover:underline text-sm mt-1 inline-block",children:"View Details"})]},l.id)):!a&&t&&w("p",{className:"text-center text-muted-foreground",children:['No patient results found for "',t,'".']}),!t&&c("p",{className:"text-center text-muted-foreground",children:"Please enter a search term in the header."})]})]})}const GZe=({children:e})=>{const{user:t,loading:r}=si();return r?w("div",{className:"p-4",children:[c(Ml,{className:"h-8 w-1/4 mb-4"}),c(Ml,{className:"h-4 w-full mb-2"}),c(Ml,{className:"h-4 w-3/4"})]}):!t||t.role!=="admin"&&t.role!=="owner"?(console.warn(`Access denied: User role '${t==null?void 0:t.role}' is not 'admin' or 'owner'.`),c(BT,{to:"/",replace:!0})):e?c(Sr,{children:e}):c(BH,{})};var TM="ToastProvider",[OM,YZe,KZe]=Pw("Toast"),[Boe,WJe]=Qi("Toast",[KZe]),[XZe,Q3]=Boe(TM),Uoe=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[s,l]=A.useState(null),[u,d]=A.useState(0),f=A.useRef(!1),h=A.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${TM}\`. Expected non-empty \`string\`.`),c(OM.Provider,{scope:t,children:c(XZe,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:u,viewport:s,onViewportChange:l,onToastAdd:A.useCallback(()=>d(m=>m+1),[]),onToastRemove:A.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};Uoe.displayName=TM;var qoe="ToastViewport",ZZe=["F8"],j8="toast.viewportPause",$8="toast.viewportResume",zoe=A.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=ZZe,label:a="Notifications ({hotkey})",...i}=e,o=Q3(qoe,r),s=YZe(r),l=A.useRef(null),u=A.useRef(null),d=A.useRef(null),f=A.useRef(null),h=Vr(t,f,o.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;A.useEffect(()=>{const y=_=>{var S;n.length!==0&&n.every(C=>_[C]||_.code===C)&&((S=f.current)==null||S.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[n]),A.useEffect(()=>{const y=l.current,_=f.current;if(x&&y&&_){const b=()=>{if(!o.isClosePausedRef.current){const O=new CustomEvent(j8);_.dispatchEvent(O),o.isClosePausedRef.current=!0}},S=()=>{if(o.isClosePausedRef.current){const O=new CustomEvent($8);_.dispatchEvent(O),o.isClosePausedRef.current=!1}},C=O=>{!y.contains(O.relatedTarget)&&S()},E=()=>{y.contains(document.activeElement)||S()};return y.addEventListener("focusin",b),y.addEventListener("focusout",C),y.addEventListener("pointermove",b),y.addEventListener("pointerleave",E),window.addEventListener("blur",b),window.addEventListener("focus",S),()=>{y.removeEventListener("focusin",b),y.removeEventListener("focusout",C),y.removeEventListener("pointermove",b),y.removeEventListener("pointerleave",E),window.removeEventListener("blur",b),window.removeEventListener("focus",S)}}},[x,o.isClosePausedRef]);const g=A.useCallback(({tabbingDirection:y})=>{const b=s().map(S=>{const C=S.ref.current,E=[C,...uJe(C)];return y==="forwards"?E:E.reverse()});return(y==="forwards"?b.reverse():b).flat()},[s]);return A.useEffect(()=>{const y=f.current;if(y){const _=b=>{var E,O,P;const S=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!S){const I=document.activeElement,L=b.shiftKey;if(b.target===y&&L){(E=u.current)==null||E.focus();return}const F=g({tabbingDirection:L?"backwards":"forwards"}),j=F.findIndex(H=>H===I);jT(F.slice(j+1))?b.preventDefault():L?(O=u.current)==null||O.focus():(P=d.current)==null||P.focus()}};return y.addEventListener("keydown",_),()=>y.removeEventListener("keydown",_)}},[s,g]),w($ue,{ref:l,role:"region","aria-label":a.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&c(B8,{ref:u,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"forwards"});jT(y)}}),c(OM.Slot,{scope:r,children:c(pr.ol,{tabIndex:-1,...i,ref:h})}),x&&c(B8,{ref:d,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"backwards"});jT(y)}})]})});zoe.displayName=qoe;var Woe="ToastFocusProxy",B8=A.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,i=Q3(Woe,r);return c(O4,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const s=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(s))&&n()}})});B8.displayName=Woe;var u_="Toast",JZe="toast.swipeStart",QZe="toast.swipeMove",eJe="toast.swipeCancel",tJe="toast.swipeEnd",Voe=A.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...o}=e,[s,l]=ul({prop:n,defaultProp:a??!0,onChange:i,caller:u_});return c(as,{present:r||s,children:c(aJe,{open:s,...o,ref:t,onClose:()=>l(!1),onPause:Ci(e.onPause),onResume:Ci(e.onResume),onSwipeStart:qt(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:qt(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:qt(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:qt(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});Voe.displayName=u_;var[rJe,nJe]=Boe(u_,{onClose(){}}),aJe=A.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:s,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...x}=e,g=Q3(u_,r),[y,_]=A.useState(null),b=Vr(t,H=>_(H)),S=A.useRef(null),C=A.useRef(null),E=a||g.duration,O=A.useRef(0),P=A.useRef(E),I=A.useRef(0),{onToastAdd:L,onToastRemove:U}=g,T=Ci(()=>{var X;(y==null?void 0:y.contains(document.activeElement))&&((X=g.viewport)==null||X.focus()),o()}),F=A.useCallback(H=>{!H||H===1/0||(window.clearTimeout(I.current),O.current=new Date().getTime(),I.current=window.setTimeout(T,H))},[T]);A.useEffect(()=>{const H=g.viewport;if(H){const X=()=>{F(P.current),u==null||u()},re=()=>{const z=new Date().getTime()-O.current;P.current=P.current-z,window.clearTimeout(I.current),l==null||l()};return H.addEventListener(j8,re),H.addEventListener($8,X),()=>{H.removeEventListener(j8,re),H.removeEventListener($8,X)}}},[g.viewport,E,l,u,F]),A.useEffect(()=>{i&&!g.isClosePausedRef.current&&F(E)},[i,E,g.isClosePausedRef,F]),A.useEffect(()=>(L(),()=>U()),[L,U]);const j=A.useMemo(()=>y?Joe(y):null,[y]);return g.viewport?w(Sr,{children:[j&&c(iJe,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:j}),c(rJe,{scope:r,onClose:T,children:ay.createPortal(c(OM.ItemSlot,{scope:r,children:c(jue,{asChild:!0,onEscapeKeyDown:qt(s,()=>{g.isFocusedToastEscapeKeyDownRef.current||T(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:c(pr.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...x,ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:qt(e.onKeyDown,H=>{H.key==="Escape"&&(s==null||s(H.nativeEvent),H.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,T()))}),onPointerDown:qt(e.onPointerDown,H=>{H.button===0&&(S.current={x:H.clientX,y:H.clientY})}),onPointerMove:qt(e.onPointerMove,H=>{if(!S.current)return;const X=H.clientX-S.current.x,re=H.clientY-S.current.y,z=!!C.current,G=["left","right"].includes(g.swipeDirection),q=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,K=G?q(0,X):0,J=G?0:q(0,re),D=H.pointerType==="touch"?10:2,Y={x:K,y:J},Q={originalEvent:H,delta:Y};z?(C.current=Y,qb(QZe,f,Q,{discrete:!1})):PH(Y,g.swipeDirection,D)?(C.current=Y,qb(JZe,d,Q,{discrete:!1}),H.target.setPointerCapture(H.pointerId)):(Math.abs(X)>D||Math.abs(re)>D)&&(S.current=null)}),onPointerUp:qt(e.onPointerUp,H=>{const X=C.current,re=H.target;if(re.hasPointerCapture(H.pointerId)&&re.releasePointerCapture(H.pointerId),C.current=null,S.current=null,X){const z=H.currentTarget,G={originalEvent:H,delta:X};PH(X,g.swipeDirection,g.swipeThreshold)?qb(tJe,m,G,{discrete:!0}):qb(eJe,h,G,{discrete:!0}),z.addEventListener("click",q=>q.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),iJe=e=>{const{__scopeToast:t,children:r,...n}=e,a=Q3(u_,t),[i,o]=A.useState(!1),[s,l]=A.useState(!1);return lJe(()=>o(!0)),A.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),s?null:c(uy,{asChild:!0,children:c(O4,{...n,children:i&&w(Sr,{children:[a.label," ",r]})})})},oJe="ToastTitle",Hoe=A.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return c(pr.div,{...n,ref:t})});Hoe.displayName=oJe;var sJe="ToastDescription",Goe=A.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return c(pr.div,{...n,ref:t})});Goe.displayName=sJe;var Yoe="ToastAction",Koe=A.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?c(Zoe,{altText:r,asChild:!0,children:c(DM,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Yoe}\`. Expected non-empty \`string\`.`),null)});Koe.displayName=Yoe;var Xoe="ToastClose",DM=A.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=nJe(Xoe,r);return c(Zoe,{asChild:!0,children:c(pr.button,{type:"button",...n,ref:t,onClick:qt(e.onClick,a.onClose)})})});DM.displayName=Xoe;var Zoe=A.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return c(pr.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function Joe(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),cJe(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...Joe(n))}}),t}function qb(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?J8(a,i):a.dispatchEvent(i)}var PH=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),i=n>a;return t==="left"||t==="right"?i&&n>r:!i&&a>r};function lJe(e=()=>{}){const t=Ci(e);oi(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function cJe(e){return e.nodeType===e.ELEMENT_NODE}function uJe(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function jT(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var dJe=Uoe,Qoe=zoe,ese=Voe,tse=Hoe,rse=Goe,nse=Koe,ase=DM;const fJe=dJe,ise=A.forwardRef(({className:e,...t},r)=>c(Qoe,{ref:r,className:Rt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));ise.displayName=Qoe.displayName;const hJe=Cw("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground",warning:"warning group border-yellow-200 bg-yellow-50 text-yellow-800 dark:border-yellow-700/50 dark:bg-yellow-900/30 dark:text-yellow-300"}},defaultVariants:{variant:"default"}}),ose=A.forwardRef(({className:e,variant:t,...r},n)=>c(ese,{ref:n,className:Rt(hJe({variant:t}),e),...r}));ose.displayName=ese.displayName;const pJe=A.forwardRef(({className:e,...t},r)=>c(nse,{ref:r,className:Rt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));pJe.displayName=nse.displayName;const sse=A.forwardRef(({className:e,...t},r)=>c(ase,{ref:r,className:Rt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:c(gh,{className:"h-4 w-4"})}));sse.displayName=ase.displayName;const lse=A.forwardRef(({className:e,...t},r)=>c(tse,{ref:r,className:Rt("text-sm font-semibold",e),...t}));lse.displayName=tse.displayName;const cse=A.forwardRef(({className:e,...t},r)=>c(rse,{ref:r,className:Rt("text-sm opacity-90",e),...t}));cse.displayName=rse.displayName;function mJe(){const{toasts:e}=yn();return w(fJe,{children:[e.map(function({id:t,title:r,description:n,action:a,...i}){return w(ose,{...i,children:[w("div",{className:"grid gap-1",children:[r&&c(lse,{children:r}),n&&c(cse,{children:n})]}),a,c(sse,{})]},t)}),c(ise,{})]})}const gJe="https://i.postimg.cc/cL6vs7qQ/login-1.png",vJe=()=>{const{signIn:e}=si(),[t,r]=A.useState(""),[n,a]=A.useState(""),[i,o]=A.useState(!1),[s,l]=A.useState(null);return c("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-bl from-brand-dark via-brand-medium to-brand-light p-4",children:w("div",{className:"w-full max-w-4xl bg-white/95 rounded-2xl shadow-2xl overflow-hidden grid grid-cols-1 md:grid-cols-2 border border-white/10 backdrop-blur-sm",children:[w("div",{className:"p-8 md:p-12 flex flex-col justify-center",children:[c("h2",{className:"text-3xl font-bold text-center text-brand-dark mb-2 tracking-tight",children:"LOGIN"}),c("p",{className:"text-center text-gray-500 text-sm mb-8",children:"Access your AI-powered dashboard."}),w("form",{onSubmit:async h=>{h.preventDefault(),l(null),o(!0);try{await e(t,n),"Notification"in window&&Notification.permission!=="granted"&&Notification.requestPermission().then(m=>{m==="granted"&&console.log("Notification permission granted.")})}catch(m){console.error("Login failed:",m),l(m.message||"Failed to log in. Please check your credentials.")}finally{o(!1)}},className:"space-y-5",children:[w("div",{className:"relative group",children:[c(Xt,{htmlFor:"email",className:"sr-only",children:"Email / Username"}),c(hi,{className:"absolute left-3.5 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 group-focus-within:text-brand-medium transition-colors duration-200"}),c(ct,{id:"email",type:"email",placeholder:"Email or Username",value:t,onChange:h=>r(h.target.value),required:!0,className:"pl-10 pr-4 py-3 w-full border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-light focus:border-transparent bg-gray-50 text-sm shadow-inner transition-colors duration-200"})]}),w("div",{className:"relative group",children:[c(Xt,{htmlFor:"password",className:"sr-only",children:"Password"}),c(ZH,{className:"absolute left-3.5 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 group-focus-within:text-brand-medium transition-colors duration-200"}),c(ct,{id:"password",type:"password",placeholder:"Password",value:n,onChange:h=>a(h.target.value),required:!0,className:"pl-10 pr-4 py-3 w-full border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-light focus:border-transparent bg-gray-50 text-sm shadow-inner transition-colors duration-200"})]}),s&&c("p",{className:"text-sm text-red-600 text-center",children:s}),c(Fe,{type:"submit",className:"w-full bg-gradient-to-r from-brand-medium to-brand-dark hover:from-brand-medium/90 hover:to-brand-dark/90 text-white font-semibold py-3 px-4 rounded-lg shadow-md hover:shadow-lg transition-all duration-300 ease-in-out disabled:opacity-70",disabled:i,children:i?"Authenticating...":"Login Now"})]}),w("div",{className:"mt-8 text-center",children:[c("p",{className:"text-gray-500 text-xs uppercase tracking-wider mb-4",children:"Or login with"}),w("div",{className:"flex justify-center gap-4",children:[w(Fe,{variant:"outline",onClick:()=>console.log("Google login clicked"),className:"flex items-center justify-center gap-2 border-gray-300 hover:border-brand-light hover:bg-gray-100 rounded-lg px-6 py-2 text-sm text-gray-700 transition-colors duration-200 shadow-sm",children:[c(VH,{className:"h-4 w-4"})," Google"]}),w(Fe,{variant:"outline",onClick:()=>console.log("Facebook login clicked"),className:"flex items-center justify-center gap-2 border-gray-300 hover:border-brand-light hover:bg-gray-100 rounded-lg px-6 py-2 text-sm text-gray-700 transition-colors duration-200 shadow-sm",children:[c(YH,{className:"h-4 w-4"})," Facebook"]})]})]}),w("p",{className:"mt-8 text-center text-sm text-gray-600",children:["Need an account?"," ",c(Vi,{to:"/signup",className:"font-semibold text-brand-medium hover:text-brand-dark hover:underline",children:"Sign up Free"})]})]}),w("div",{className:"hidden md:flex items-center justify-center p-8 bg-gradient-to-br from-brand-light via-brand-medium to-brand-dark relative overflow-hidden rounded-r-2xl",children:[w("div",{className:"relative w-full max-w-sm aspect-[3/4] bg-white/10 backdrop-blur-xl rounded-xl shadow-xl border border-white/20 p-4 flex items-center justify-center",children:[c("img",{src:gJe,alt:"AI Tech Feature",className:"max-w-full max-h-full object-contain rounded-lg opacity-95"}),c(WH,{className:"absolute top-4 right-4 h-8 w-8 text-white/60 opacity-70"})]}),c("div",{className:"absolute -bottom-1/4 -left-1/4 w-2/3 h-2/3 bg-brand-very-light/5 rounded-full blur-3xl opacity-50 animate-pulse"}),c("div",{className:"absolute -top-1/4 -right-1/3 w-1/2 h-1/2 bg-white/5 rounded-full blur-3xl opacity-40 animate-pulse animation-delay-2000"})]})]})})},yJe="https://i.postimg.cc/cL6vs7qQ/login-1.png",xJe=()=>{const{toast:e}=yn(),[t,r]=A.useState(""),[n,a]=A.useState(""),[i,o]=A.useState(""),[s,l]=A.useState(!1),[u,d]=A.useState(!1),[f,h]=A.useState(null);return c("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-bl from-brand-dark via-brand-medium to-brand-light p-4",children:w("div",{className:"w-full max-w-4xl bg-white/90 rounded-2xl shadow-2xl overflow-hidden grid grid-cols-1 md:grid-cols-2 border border-white/10 backdrop-blur-sm",children:[w("div",{className:"p-8 md:p-12 flex flex-col justify-center",children:[c("h2",{className:"text-3xl font-bold text-center text-brand-dark mb-2 tracking-tight",children:"SIGN UP"}),c("p",{className:"text-center text-gray-500 text-sm mb-8",children:"Create your account to unlock AI features."}),w("form",{onSubmit:async y=>{var _,b;if(y.preventDefault(),h(null),!s){h("You must agree to the Terms & Privacy policy.");return}d(!0);try{const{data:S,error:C}=await Le.auth.signUp({email:n,password:i,options:{data:{full_name:t}}});if(C)throw C;e({title:"Account Created!",description:((b=(_=S.user)==null?void 0:_.identities)==null?void 0:b.length)===0?"Please check your email to confirm your account.":"You can now log in.",variant:"default"}),r(""),a(""),o(""),l(!1)}catch(S){console.error("Sign up failed:",S),h(S.message||"Failed to create account. Please try again."),e({title:"Sign Up Error",description:S.message||"An unexpected error occurred.",variant:"destructive"})}finally{d(!1)}},className:"space-y-5",children:[w("div",{className:"relative group",children:[c(Xt,{htmlFor:"name",className:"sr-only",children:"Full Name"}),c(hi,{className:"absolute left-3.5 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 group-focus-within:text-brand-medium transition-colors duration-200"}),c(ct,{id:"name",type:"text",placeholder:"Full Name",value:t,onChange:y=>r(y.target.value),required:!0,className:"pl-10 pr-4 py-3 w-full border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-light focus:border-transparent bg-brand-very-light/20 text-sm shadow-inner transition-colors duration-200"})]}),w("div",{className:"relative group",children:[c(Xt,{htmlFor:"email",className:"sr-only",children:"Email"}),c(s4,{className:"absolute left-3.5 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 group-focus-within:text-brand-medium transition-colors duration-200"}),c(ct,{id:"email",type:"email",placeholder:"Email Address",value:n,onChange:y=>a(y.target.value),required:!0,className:"pl-10 pr-4 py-3 w-full border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-light focus:border-transparent bg-brand-very-light/20 text-sm shadow-inner transition-colors duration-200"})]}),w("div",{className:"relative group",children:[c(Xt,{htmlFor:"password",className:"sr-only",children:"Password"}),c(ZH,{className:"absolute left-3.5 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 group-focus-within:text-brand-medium transition-colors duration-200"}),c(ct,{id:"password",type:"password",placeholder:"Password (min 8 characters)",value:i,onChange:y=>o(y.target.value),required:!0,minLength:8,className:"pl-10 pr-4 py-3 w-full border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-light focus:border-transparent bg-brand-very-light/20 text-sm shadow-inner transition-colors duration-200"})]}),w("div",{className:"flex items-center space-x-2 pt-1",children:[c(Ts,{id:"terms",checked:s,onCheckedChange:y=>l(y),className:"border-gray-300 data-[state=checked]:bg-brand-dark data-[state=checked]:border-brand-dark data-[state=checked]:text-white focus:ring-brand-light focus:ring-offset-white"}),w("label",{htmlFor:"terms",className:"text-xs font-medium text-gray-600 leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:["I agree to the ",c("a",{href:"/terms",target:"_blank",rel:"noopener noreferrer",className:"text-brand-medium hover:text-brand-dark hover:underline",children:"Terms"})," & ",c("a",{href:"/privacy",target:"_blank",rel:"noopener noreferrer",className:"text-brand-medium hover:text-brand-dark hover:underline",children:"Privacy Policy"})]})]}),f&&c("p",{className:"text-sm text-red-600 text-center pt-1",children:f}),c(Fe,{type:"submit",className:"w-full bg-gradient-to-r from-brand-medium to-brand-dark hover:shadow-lg hover:opacity-95 text-white font-semibold py-3 px-4 rounded-lg shadow-md transition-all duration-300 ease-in-out disabled:opacity-70",disabled:u||!s,children:u?"Creating Account...":"Sign Up Now"})]}),w("div",{className:"mt-8 text-center",children:[c("p",{className:"text-gray-500 text-xs uppercase tracking-wider mb-4",children:"Or sign up with"}),w("div",{className:"flex justify-center gap-4",children:[w(Fe,{variant:"outline",onClick:()=>console.log("Google login clicked"),className:"flex items-center justify-center gap-2 border-gray-300 hover:border-brand-light hover:bg-brand-very-light/20 rounded-lg px-6 py-2 text-sm text-gray-700 transition-colors duration-200 shadow-sm",children:[c(VH,{className:"h-4 w-4"})," Google"]}),w(Fe,{variant:"outline",onClick:()=>console.log("Facebook login clicked"),className:"flex items-center justify-center gap-2 border-gray-300 hover:border-brand-light hover:bg-brand-very-light/20 rounded-lg px-6 py-2 text-sm text-gray-700 transition-colors duration-200 shadow-sm",children:[c(YH,{className:"h-4 w-4"})," Facebook"]})]})]}),w("p",{className:"mt-8 text-center text-sm text-gray-600",children:["Already have an account?"," ",c(Vi,{to:"/login",className:"font-semibold text-brand-medium hover:text-brand-dark hover:underline",children:"Log In"})]})]}),w("div",{className:"hidden md:flex items-center justify-center p-8 bg-gradient-to-br from-brand-light via-brand-medium to-brand-dark relative overflow-hidden rounded-r-2xl",children:[w("div",{className:"relative w-full max-w-sm aspect-[3/4] bg-white/10 backdrop-blur-xl rounded-xl shadow-xl border border-white/20 p-4 flex items-center justify-center",children:[c("img",{src:yJe,alt:"AI Tech Feature",className:"max-w-full max-h-full object-contain rounded-lg opacity-95"}),c(WH,{className:"absolute top-4 right-4 h-8 w-8 text-white/60 opacity-70"})]}),c("div",{className:"absolute -bottom-1/4 -left-1/4 w-2/3 h-2/3 bg-brand-very-light/5 rounded-full blur-3xl opacity-50 animate-pulse"}),c("div",{className:"absolute -top-1/4 -right-1/3 w-1/2 h-1/2 bg-white/5 rounded-full blur-3xl opacity-40 animate-pulse animation-delay-2000"})]})]})})};function wJe(){const[e,t]=A.useState([]),[r,n]=A.useState(!0),a=A.useCallback(async()=>{try{n(!0);const[i,o,s,l]=await Promise.all([zt.patients.getAll(),zt.patients.getTreatmentPlans(null),zt.patients.getMedicalRecords(null),zt.appointments.getAll()]),u=x=>{if(!x)return"Unknown Patient";const g=i.find(y=>y.id===x);return g?`${g.first_name} ${g.last_name}`:"Unknown Patient"},d=l.filter(x=>x.status==="completed"&&x.start_time).map(x=>({id:x.id,type:"appointment",title:`Appointment ${x.type||""} Completed`,patientName:x.patients?`${x.patients.first_name} ${x.patients.last_name}`:"Unknown Patient",itemName:x.type||"Appointment",staffName:x.staff?`${x.staff.first_name} ${x.staff.last_name}`:void 0,timestamp:qr(x.start_time),icon:hi,details:`Notes: ${x.notes||"N/A"}`})),f=o.flatMap(x=>{const g=u(x.patient_id);return(x.treatments||[]).filter(y=>y.status==="completed"&&y.updated_at).map(y=>({id:y.id,type:"treatment",title:"Treatment Completed",patientName:g,itemName:y.type||"Treatment",timestamp:qr(y.updated_at),icon:$0,details:`Notes: ${y.notes||"N/A"}`}))}),h=s.filter(x=>x.created_at).map(x=>({id:x.id,type:"record",title:"Medical Record Added",patientName:u(x.patient_id),itemName:x.record_type||"Medical Record",timestamp:qr(x.created_at),icon:sl,details:`Summary: ${x.summary||"N/A"}`})),m=[...d,...f,...h].sort((x,g)=>g.timestamp.getTime()-x.timestamp.getTime());t(m)}catch(i){console.error("Error fetching activity log data:",i)}finally{n(!1)}},[]);return A.useEffect(()=>{a()},[a]),w("div",{className:"container mx-auto py-8",children:[c(Sa,{heading:"Full Activity Log",text:"Browse all recent activities in the system."}),w(tu,{className:"h-[calc(100vh-200px)] mt-6",children:[" ",w("div",{className:"space-y-4 pr-4",children:[" ",r?c("p",{className:"text-center text-muted-foreground py-10",children:"Loading activities..."}):e.length>0?e.map(i=>{const o=i.icon||$0;return w(lr,{className:"shadow-sm bg-card",children:[c(xr,{className:"pb-3 pt-4",children:w(wr,{className:"text-base flex items-center font-medium",children:[c("div",{className:`flex h-8 w-8 items-center justify-center rounded-full mr-3 flex-shrink-0 ${i.type==="appointment"?"bg-emerald-100":i.type==="treatment"?"bg-blue-100":"bg-purple-100"}`,children:c(o,{className:`h-5 w-5 ${i.type==="appointment"?"text-emerald-600":i.type==="treatment"?"text-blue-600":"text-purple-600"}`})}),i.title]})}),w(mr,{className:"space-y-1 text-sm pl-14 pr-6 pb-4",children:[i.patientName&&w("p",{children:[c("span",{className:"font-medium text-muted-foreground",children:"Patient:"})," ",i.patientName]}),i.itemName&&w("p",{children:[c("span",{className:"font-medium text-muted-foreground",children:"Item:"})," ",i.itemName]}),i.staffName&&w("p",{children:[c("span",{className:"font-medium text-muted-foreground",children:"Staff:"})," ",i.staffName]}),i.details&&w("p",{className:"text-xs italic text-muted-foreground",children:[c("span",{className:"font-medium not-italic",children:"Details:"})," ",i.details]}),c("p",{className:"text-xs text-muted-foreground pt-1",children:Lt(i.timestamp,"EEEE, MMM d, yyyy 'at' h:mm a")})]})]},i.id)}):c("p",{className:"text-center text-muted-foreground py-10",children:"No activities found."})]})]})]})}function _Je(){const{user:e,loading:t}=si();return t?c("div",{className:"flex items-center justify-center min-h-screen",children:c(Zn,{className:"w-8 h-8 animate-spin text-primary"})}):w(Vle,{children:[e?w(Fn,{path:"/",element:c($1e,{}),children:[c(Fn,{index:!0,element:c(ROe,{})})," ",c(Fn,{path:"appointments",element:c(fIe,{})}),c(Fn,{path:"patients",element:c(Rz,{})}),c(Fn,{path:"patients/:id",element:c(Rz,{})})," ",c(Fn,{path:"treatment-plans",element:c(DFe,{})}),c(Fn,{path:"profile",element:c(qFe,{})}),c(Fn,{path:"settings",element:c(jFe,{})}),c(Fn,{path:"payments-subscription",element:c(WFe,{})}),c(Fn,{path:"patient-medical-records",element:c(VFe,{})}),c(Fn,{path:"activity-log",element:c(wJe,{})})," ",w(Fn,{element:c(GZe,{}),children:[c(Fn,{path:"inventory",element:c(vYe,{})}),c(Fn,{path:"inventory/create-adjustment",element:c(UZe,{})})," ",c(Fn,{path:"inventory/stock-take",element:c(qZe,{})})," ",c(Fn,{path:"inventory/invoices",element:c(xYe,{})})," ",c(Fn,{path:"purchases",element:c(aXe,{})})," ",c(Fn,{path:"purchases/create",element:c(YXe,{})})," "," ",c(Fn,{path:"purchases/urgent",element:c(OZe,{})})," ",c(Fn,{path:"purchases/urgent/history",element:c(IZe,{})})," ",c(Fn,{path:"purchases/urgent/my-requests",element:c(RZe,{})})," ",c(Fn,{path:"purchases/urgent/:id",element:c(DZe,{})})," ",c(Fn,{path:"purchases/:id",element:c(wZe,{})})," ",c(Fn,{path:"assets",element:c(PKe,{})}),c(Fn,{path:"assets/:assetId",element:c(TKe,{})})," ",c(Fn,{path:"reports",element:c(qKe,{})}),c(Fn,{path:"reminders",element:c(HKe,{})})]}),c(Fn,{path:"inventory-approvals",element:c(WZe,{})}),c(Fn,{path:"search",element:c(HZe,{})}),c(Fn,{path:"*",element:c(BT,{to:"/",replace:!0})})]}):w(Sr,{children:[c(Fn,{path:"/login",element:c(vJe,{})}),c(Fn,{path:"/signup",element:c(xJe,{})}),c(Fn,{path:"*",element:c(BT,{to:"/login",replace:!0})})]}),c(Fn,{path:"/approve-adjustment/:requestId/:approvalToken",element:c(VZe,{})})]})}function bJe(){return c(E0e,{children:w(Qle,{children:[c(_Je,{})," ",c(mJe,{})]})})}Zse.createRoot(document.getElementById("root")).render(c(A.StrictMode,{children:c(bJe,{})}));export{va as _,V_ as c,ia as g};
